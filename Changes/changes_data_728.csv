id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Freleases~master~Iea48a11689d9be34672e2152d87c152e7d6732a8,openstack/releases,master,Iea48a11689d9be34672e2152d87c152e7d6732a8,Release renderspec 1.4.0,MERGED,2017-04-05 13:41:49.000000000,2017-04-05 14:45:11.000000000,2017-04-05 14:45:11.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 7613}]","[{'number': 1, 'created': '2017-04-05 13:41:49.000000000', 'files': ['deliverables/_independent/renderspec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3e190161c19992fd19dedd06cbecf2ab1f9e48bc', 'message': 'Release renderspec 1.4.0\n\nThe release includes a new feature to dynamically detect versions from\narchive files.\n\nChange-Id: Iea48a11689d9be34672e2152d87c152e7d6732a8\n'}]",0,453630,3e190161c19992fd19dedd06cbecf2ab1f9e48bc,9,4,1,7102,,,0,"Release renderspec 1.4.0

The release includes a new feature to dynamically detect versions from
archive files.

Change-Id: Iea48a11689d9be34672e2152d87c152e7d6732a8
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/453630/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/renderspec.yaml'],1,3e190161c19992fd19dedd06cbecf2ab1f9e48bc,, - version: 1.4.0 projects: - repo: openstack/renderspec hash: ac48e745b134941b6fc2a48d71bb063b4126b189,,4,0
openstack%2Ftripleo-validations~stable%2Focata~I5fe931aa4625f803e3e492cdb0a6c72fd005c1bc,openstack/tripleo-validations,stable/ocata,I5fe931aa4625f803e3e492cdb0a6c72fd005c1bc,Add missing mistralclient requirement,MERGED,2017-04-04 14:05:32.000000000,2017-04-05 14:45:05.000000000,2017-04-05 14:45:05.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 10112}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-04-04 14:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/46d7e8a79aab6396041c2ceb2d6246eb45190a89', 'message': 'Add missing mistralclient requirement\n\nChange-Id: I5fe931aa4625f803e3e492cdb0a6c72fd005c1bc\n(cherry picked from commit 9ee39a33cb228644c46277ab9f5b058e141c0378)\n'}, {'number': 2, 'created': '2017-04-05 13:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b5c5b29beaa4ef10bec3ed8a4ac35164f907496d', 'message': 'Add missing mistralclient requirement\n\nChange-Id: I5fe931aa4625f803e3e492cdb0a6c72fd005c1bc\n(cherry picked from commit 9ee39a33cb228644c46277ab9f5b058e141c0378)\n'}, {'number': 3, 'created': '2017-04-05 14:36:04.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/34fdfa03df7df01479b7603937aba13a22d75a2f', 'message': 'Add missing mistralclient requirement\n\nChange-Id: I5fe931aa4625f803e3e492cdb0a6c72fd005c1bc\n(cherry picked from commit 9ee39a33cb228644c46277ab9f5b058e141c0378)\n'}]",0,453188,34fdfa03df7df01479b7603937aba13a22d75a2f,21,5,3,17888,,,0,"Add missing mistralclient requirement

Change-Id: I5fe931aa4625f803e3e492cdb0a6c72fd005c1bc
(cherry picked from commit 9ee39a33cb228644c46277ab9f5b058e141c0378)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/88/453188/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,46d7e8a79aab6396041c2ceb2d6246eb45190a89,mistralclient,"python-mistralclient>=2.0.0 # Apache-2.0 python-novaclient>=6.0.0,!=7.0.0 # Apache-2.0","python-novaclient!=2.33.0,>=2.29.0 # Apache-2.0",2,1
openstack%2Ftripleo-validations~stable%2Focata~I4fadefd380577e6c6fb5b6e4c3948b60642b9d23,openstack/tripleo-validations,stable/ocata,I4fadefd380577e6c6fb5b6e4c3948b60642b9d23,Update UPPER_CONSTRAINTS_FILE for stable/ocata,MERGED,2017-03-27 11:55:35.000000000,2017-04-05 14:44:58.000000000,2017-04-05 14:44:58.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 10112}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-27 11:55:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8f9b2743c90d2550cc0268f2592bf6abe8c28f01', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/ocata\n\nChange-Id: I4fadefd380577e6c6fb5b6e4c3948b60642b9d23\n'}]",0,450179,8f9b2743c90d2550cc0268f2592bf6abe8c28f01,19,4,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/ocata

Change-Id: I4fadefd380577e6c6fb5b6e4c3948b60642b9d23
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/79/450179/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8f9b2743c90d2550cc0268f2592bf6abe8c28f01,create-ocata,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/ocata} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ffuxi~master~I3db10012c4d9d0e109b481bd5605194b51344103,openstack/fuxi,master,I3db10012c4d9d0e109b481bd5605194b51344103,Use HostAddressOpt for opts that accept IP and hostnames,ABANDONED,2017-03-29 14:53:10.000000000,2017-04-05 14:44:16.000000000,,"[{'_account_id': 3}, {'_account_id': 9820}, {'_account_id': 11536}]","[{'number': 1, 'created': '2017-03-29 14:53:10.000000000', 'files': ['fuxi/common/config.py'], 'web_link': 'https://opendev.org/openstack/fuxi/commit/93eec0a659aae356635877bc06ff9b2b239b6fcd', 'message': 'Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using ``StrOpt``. The change [1] that\nadded support for ``HostAddressOpt`` type was merged in Ocata\nand became available for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to use\nthis more relevant opt type - HostAddressOpt.\n\n[1] I77bdb64b7e6e56ce761d76696bc4448a9bd325eb\n\nTrivialFix\n\nChange-Id: I3db10012c4d9d0e109b481bd5605194b51344103\n'}]",0,451448,93eec0a659aae356635877bc06ff9b2b239b6fcd,5,3,1,25079,,,0,"Use HostAddressOpt for opts that accept IP and hostnames

Some configuration options were accepting both IP addresses
and hostnames. Since there was no specific OSLO opt type to
support this, we were using ``StrOpt``. The change [1] that
added support for ``HostAddressOpt`` type was merged in Ocata
and became available for use with oslo version 3.22.

This patch changes the opt type of configuration options to use
this more relevant opt type - HostAddressOpt.

[1] I77bdb64b7e6e56ce761d76696bc4448a9bd325eb

TrivialFix

Change-Id: I3db10012c4d9d0e109b481bd5605194b51344103
",git fetch https://review.opendev.org/openstack/fuxi refs/changes/48/451448/1 && git format-patch -1 --stdout FETCH_HEAD,['fuxi/common/config.py'],1,93eec0a659aae356635877bc06ff9b2b239b6fcd,change-opt-type," cfg.HostAddressOpt('my_ip', help=_('IP address of this machine.')),"," cfg.StrOpt('my_ip', help=_('IP address of this machine.')),",2,2
openstack%2Fneutron~master~I3c58af022d1699ab05ca964b6d957dae39cf1ccc,openstack/neutron,master,I3c58af022d1699ab05ca964b6d957dae39cf1ccc,Fix tempest router timestamp test when HA enabled,MERGED,2017-04-04 18:14:43.000000000,2017-04-05 14:42:40.000000000,2017-04-05 08:47:44.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-04-04 18:14:43.000000000', 'files': ['neutron/tests/tempest/api/test_timestamp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b31b388a83d6cd1746f5698c811943a08263015', 'message': ""Fix tempest router timestamp test when HA enabled\n\nWhen run in an HA or DVR configured environment,\nthe test_show_router_attribute_with_timestamp API\ntest can fail with an 'updated_at' timestamp mismatch.\n\nThe test should check if the timestamp is >= since\npost-creation code could update the object.\n\nCloses-bug: #1679794\n\nChange-Id: I3c58af022d1699ab05ca964b6d957dae39cf1ccc\n""}]",0,453285,9b31b388a83d6cd1746f5698c811943a08263015,14,4,1,1131,,,0,"Fix tempest router timestamp test when HA enabled

When run in an HA or DVR configured environment,
the test_show_router_attribute_with_timestamp API
test can fail with an 'updated_at' timestamp mismatch.

The test should check if the timestamp is >= since
post-creation code could update the object.

Closes-bug: #1679794

Change-Id: I3c58af022d1699ab05ca964b6d957dae39cf1ccc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/453285/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/api/test_timestamp.py'],1,9b31b388a83d6cd1746f5698c811943a08263015,bug/1679794," # 'updated_at' timestamp can change immediately after creation # if environment is HA or DVR, so just make sure it's >= self.assertGreaterEqual(show_router['updated_at'], router['updated_at'])"," self.assertEqual(router['updated_at'], show_router['updated_at'])",4,2
openstack%2Fnova-specs~master~I340d403a6640661dd3a5eacf2a4145071396afe9,openstack/nova-specs,master,I340d403a6640661dd3a5eacf2a4145071396afe9,Add project/user association to placement,MERGED,2017-04-04 06:58:40.000000000,2017-04-05 14:42:37.000000000,2017-04-05 13:18:11.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-04-04 06:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f00e7859699520cd86bfc0b3452fb79673c2d052', 'message': 'Add project/user association to placement\n\nThis cycle we are changing the quota system to count resources to check\nquota instead of tracking usage and reservations separately. As things\ncurrently stand, we must query cell tables to count things like cores\nand ram to check against quota limits. There are a couple of problems\nwith the current approach:\n\n  1. Querying all cells for instances owned by a project and summing their\n     cores and ram counts is not efficient.\n  2. Quota usage becomes effectively ""freed"" if contact with one or more\n     cells is lost for any reason, until the cells return.\n\nTo address these problems, we propose adding project and user associations\nto placement for consumers.\n\nSpec for blueprint placement-project-user\n\nChange-Id: I340d403a6640661dd3a5eacf2a4145071396afe9\n'}, {'number': 2, 'created': '2017-04-04 18:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ea04dd10ea026f668584c489dee5aacf3151711e', 'message': 'Add project/user association to placement\n\nThis cycle we are changing the quota system to count resources to check\nquota instead of tracking usage and reservations separately. As things\ncurrently stand, we must query cell tables to count things like cores\nand ram to check against quota limits. There are a couple of problems\nwith the current approach:\n\n  1. Querying all cells for instances owned by a project and summing their\n     cores and ram counts is not efficient.\n  2. Quota usage becomes effectively ""freed"" if contact with one or more\n     cells is lost for any reason, until the cells return.\n\nTo address these problems, we propose adding project and user associations\nto placement for consumers.\n\nSpec for blueprint placement-project-user\n\nChange-Id: I340d403a6640661dd3a5eacf2a4145071396afe9\n'}, {'number': 3, 'created': '2017-04-04 20:23:01.000000000', 'files': ['specs/pike/approved/placement-project-user.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/105c1e9d1bc4c8ba84eaf4115a1a6f5041dda5e7', 'message': 'Add project/user association to placement\n\nThis cycle we are changing the quota system to count resources to check\nquota instead of tracking usage and reservations separately. As things\ncurrently stand, we must query cell tables to count things like cores\nand ram to check against quota limits. There are a couple of problems\nwith the current approach:\n\n  1. Querying all cells for instances owned by a project and summing their\n     cores and ram counts is not efficient.\n  2. Quota usage becomes effectively ""freed"" if contact with one or more\n     cells is lost for any reason, until the cells return.\n\nTo address these problems, we propose adding project and user associations\nto placement for consumers.\n\nSpec for blueprint placement-project-user\n\nChange-Id: I340d403a6640661dd3a5eacf2a4145071396afe9\n'}]",43,453030,105c1e9d1bc4c8ba84eaf4115a1a6f5041dda5e7,29,8,3,4690,,,0,"Add project/user association to placement

This cycle we are changing the quota system to count resources to check
quota instead of tracking usage and reservations separately. As things
currently stand, we must query cell tables to count things like cores
and ram to check against quota limits. There are a couple of problems
with the current approach:

  1. Querying all cells for instances owned by a project and summing their
     cores and ram counts is not efficient.
  2. Quota usage becomes effectively ""freed"" if contact with one or more
     cells is lost for any reason, until the cells return.

To address these problems, we propose adding project and user associations
to placement for consumers.

Spec for blueprint placement-project-user

Change-Id: I340d403a6640661dd3a5eacf2a4145071396afe9
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/30/453030/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/placement-project-user.rst'],1,f00e7859699520cd86bfc0b3452fb79673c2d052,bp/placement-project-user,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Add project/user association to placement ========================================= https://blueprints.launchpad.net/nova/+spec/placement-project-user This cycle we are changing the quota system to count resources to check quota instead of tracking usage and reservations separately. As things currently stand, we must query cell tables to count things like cores and ram to check against quota limits. There are a couple of problems with the current approach: 1. Querying all cells for instances owned by a project and summing their cores and ram counts is not efficient. 2. Quota usage becomes effectively ""freed"" if contact with one or more cells is lost for any reason, until the cells return. To address these problems, we propose adding project and user associations to placement for consumers. Problem description =================== With the current resource counting approach, placement allocated resources such as cores and ram must be counted by querying for instances owned by a project in all cells and summing their cores and ram. The counts could be more efficiently obtained if placement stored project/user associations for resource consumers and we could query placement for allocations based on project/user and resource classes. There is also the problem of relying on cell databases for allocated resource counts. If the API cell loses contact with a cell for some reason (network issue, cell maintenance, transient cell database issue, etc), the resources for that cell cannot be counted. The down cell's resources then become omitted from the counted usage for the project/user, allowing them to allocate additional resources in other cell in the meantime. If and when the down cell returns, the project/user could then have allocated more resources than their allowed quota limit. Use Cases --------- As an administrator of an OpenStack multiple cell environment, it's important that my users not be able to exceed their allocated quota limits when cells are down. Proposed change =============== Add a `consumers` table for placement that stores project/user associations for consumers with fields: consumer_id, project_id, user_id:: CREATE TABLE consumers ( id INT UNSIGNED NOT NULL AUTOINCREMENT PRIMARY KEY, consumer_id VARCHAR(64) NOT NULL, project_id VARCHAR(64) NOT NULL, user_id VARCHAR(64) NOT NULL, INDEX (consumer_id), INDEX (project_id, user_id) ); The records should have the same lifetime as `allocations` records. The queries for allocations for a project/user will look like:: GET /allocations?resources=VCPU,MEMORY_MB&project_id=<uuid> GET /allocations?resources=VCPU,MEMORY_MB&project_id=<uuid>&user_id=<uuid> In placement, when a query is received it will look up the consumer_ids from the `consumers` table first, then look up the allocations filtering on the consumer_ids and resource_class_ids, and return them. After the allocations are returned from placement, the quota counting code can count cores and ram from the allocations. Alternatives ------------ Another way to associate project/user with allocations would be to add project_id and user_id columns to the `allocations` table. It would be more direct than creating a `consumers` table with the associations but it wouldn't be as generic. A `consumers` table could potentially be used for queries other than just allocations. Data model impact ----------------- The following data model changes will be needed: * New models for: `Consumer` * New database table for `Consumer` * Database migration will be needed to add the `consumers` table to the schema. REST API impact --------------- The GET method for /allocations will now accept new query strings in the URI called 'resources', 'project_id', and 'user_id' that will return a list of allocations matching the requested resources, project_id, and user_id. Example:: GET /allocations?resources=VCPU,MEMORY_MB&project_id=<uuid> The response would be:: 200 OK Content-Type: application/json { ""allocations"": [ { ""resource_provider"": { ""uuid"": ""b6b065cc-fcd9-4342-a7b0-2aed2d146518"" }, ""resources"": { ""VCPU"": 2, ""MEMORY_MB"": 1024 } }, { ""resource_provider"": { ""uuid"": ""eaaf1c04-ced2-40e4-89a2-87edded06d64"" }, ""resources"": { ""VCPU"": 4, ""MEMORY_MB"": 4096 } } ] } In case a requested resource class doesn't exist, a HTTP 400 will be returned. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ Performance of quota resource counting should be more efficient with the new API over querying all cells for instances owned by a project and iterating over them, summing the cores and ram values. Instead of N database queries for N cells, there will be two database queries by placement, one for the consumers associated with a project/user and one for the matching allocations. Performance will also be improved in that cells being temporarily down will no longer have the potential for end users to exceed allowed quota limits. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: melwitt Other contributors: None Work Items ---------- * Create database migration that creates the `consumers` table * Create the new `nova.objects` models for `Consumer` * Add new query parameters for the placement allocations REST API to query allocations by resource classes, project_id, and user_id Dependencies ============ The quota counting spec is a foundation for this work, since the need for the project/user association and updates to the allocations REST API is based on counting resources for checking quota. * http://specs.openstack.org/openstack/nova-specs/specs/pike/approved/cells-count-resources-to-check-quota-in-api.html Testing ======= New unit tests for the migration and new object models will be added. Gabbi functional tests will be added to test the new query parameters in the allocations REST API. Documentation Impact ==================== None. References ========== * http://specs.openstack.org/openstack/nova-specs/specs/pike/approved/cells-count-resources-to-check-quota-in-api.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,239,0
openstack%2Frally~master~I24eaf160d0d2d3db9928708a3f7d2afc5bbba34f,openstack/rally,master,I24eaf160d0d2d3db9928708a3f7d2afc5bbba34f,Drop py34 target in tox.ini and setup.cfg,ABANDONED,2017-03-28 06:05:20.000000000,2017-04-05 14:41:32.000000000,,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 25079}]","[{'number': 1, 'created': '2017-03-28 06:05:20.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/3a4495ef1ac2bff8a28849ac98b85bf24353ad9e', 'message': 'Drop py34 target in tox.ini and setup.cfg\n\nWe support py35 now.We do not have python 3.4 in setup.cfg which declares the explicit\nsupported versions.so it is no need to keep the supoort for py34.\nsee:https://review.openstack.org/#/c/349069/\n\nChange-Id: I24eaf160d0d2d3db9928708a3f7d2afc5bbba34f\n'}]",0,450576,3a4495ef1ac2bff8a28849ac98b85bf24353ad9e,5,3,1,25079,,,0,"Drop py34 target in tox.ini and setup.cfg

We support py35 now.We do not have python 3.4 in setup.cfg which declares the explicit
supported versions.so it is no need to keep the supoort for py34.
see:https://review.openstack.org/#/c/349069/

Change-Id: I24eaf160d0d2d3db9928708a3f7d2afc5bbba34f
",git fetch https://review.opendev.org/openstack/rally refs/changes/76/450576/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,3a4495ef1ac2bff8a28849ac98b85bf24353ad9e,rm-py34,"envlist = py35,py27,pep8","envlist = py35,py34,py27,pep8[testenv:py34] basepython = python3.4 [testenv:debug34] basepython = python3.4 commands = oslo_debug_helper -t tests {posargs} ",1,10
openstack%2Fmistral~master~I7ce7bbc6b36092abbfb5aa2edac78831e11e3f98,openstack/mistral,master,I7ce7bbc6b36092abbfb5aa2edac78831e11e3f98,Add sem-ver flag so pbr generates correct version,MERGED,2017-04-05 01:33:12.000000000,2017-04-05 14:40:20.000000000,2017-04-05 14:40:20.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-04-05 01:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/54263249945daf90789c2427c7fd89a4b8acc54c', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I7ce7bbc6b36092abbfb5aa2edac78831e11e3f98\nSem-Ver: api-break\n'}, {'number': 2, 'created': '2017-04-05 11:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1322d12f2adf5aa8d573f60854ae96341e11c087', 'message': ""Add sem-ver flag so pbr generates correct version\n\ntl;dr : without this Ocata and Pike have the same version causing\npackaging issues.\n\n\nhttps://docs.openstack.org/developer/pbr/#version\n\nBecause projects don't push a tag before milestone 1 (pike-1 here),\ndownstream packages are still building packages by using the version\nfrom Ocata and it causes problems to distros because they can't test\nthe upgrades from Ocata to Pike.\n\nBumping the semver will allow us to test packages upgrades.\nNote: When your version is X.Y.Z, api-break will bump X, and feature\nwill bump Y. In this patch, we bump X because this is the way you\nbump tags over releases.\n\nChange-Id: I7ce7bbc6b36092abbfb5aa2edac78831e11e3f98\nSem-Ver: api-break\n""}]",0,453422,1322d12f2adf5aa8d573f60854ae96341e11c087,11,3,2,3153,,,0,"Add sem-ver flag so pbr generates correct version

tl;dr : without this Ocata and Pike have the same version causing
packaging issues.


https://docs.openstack.org/developer/pbr/#version

Because projects don't push a tag before milestone 1 (pike-1 here),
downstream packages are still building packages by using the version
from Ocata and it causes problems to distros because they can't test
the upgrades from Ocata to Pike.

Bumping the semver will allow us to test packages upgrades.
Note: When your version is X.Y.Z, api-break will bump X, and feature
will bump Y. In this patch, we bump X because this is the way you
bump tags over releases.

Change-Id: I7ce7bbc6b36092abbfb5aa2edac78831e11e3f98
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/mistral refs/changes/22/453422/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,54263249945daf90789c2427c7fd89a4b8acc54c,sem-ver/pike,,,0,0
openstack%2Fmistral~master~Ie25725b9f803e247d23f58c4b602be938c75cfbd,openstack/mistral,master,Ie25725b9f803e247d23f58c4b602be938c75cfbd,Add a Mistral lexer for pygments,MERGED,2017-04-05 08:50:50.000000000,2017-04-05 14:40:07.000000000,2017-04-05 14:40:07.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 18238}, {'_account_id': 19206}]","[{'number': 1, 'created': '2017-04-05 08:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6e1aea6aa0072000dc88f7b012ae73328c2d53f9', 'message': 'Add a Mistral lexer for pygments\n\nThis allows us to use the following code blocks in the Mistral documentation.\n\n    .. code-block:: mistral\n\nWhen we do that the code will then be highlighted in a way specific to\nMistral, rather than the generic YAML highlighting or none.\n\nChange-Id: Ie25725b9f803e247d23f58c4b602be938c75cfbd\n'}, {'number': 2, 'created': '2017-04-05 08:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7fcc782519227b7defc753d5f545e227c02a4715', 'message': 'Add a Mistral lexer for pygments\n\nThis allows us to use the following code blocks in the Mistral documentation.\n\n    .. code-block:: mistral\n\nWhen we do that the code will then be highlighted in a way specific to\nMistral, rather than the generic YAML highlighting or none.\n\nChange-Id: Ie25725b9f803e247d23f58c4b602be938c75cfbd\n'}, {'number': 3, 'created': '2017-04-05 08:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ba11c2fe97ff94f1f3e8bc777ff0dffcc937ad2b', 'message': 'Add a Mistral lexer for pygments\n\nThis allows us to use the following code blocks in the Mistral documentation.\n\n    .. code-block:: mistral\n\nWhen we do that the code will then be highlighted in a way specific to\nMistral, rather than the generic YAML highlighting or none.\n\nChange-Id: Ie25725b9f803e247d23f58c4b602be938c75cfbd\n'}, {'number': 4, 'created': '2017-04-05 09:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/671c3e3da7d4ef559572cf5cc79d5a6bf3809c77', 'message': 'Add a Mistral lexer for pygments\n\nThis allows us to use the following code blocks in the Mistral documentation.\n\n    .. code-block:: mistral\n\nWhen we do that the code will then be highlighted in a way specific to\nMistral, rather than the generic YAML highlighting or none.\n\nChange-Id: Ie25725b9f803e247d23f58c4b602be938c75cfbd\n'}, {'number': 5, 'created': '2017-04-05 09:21:03.000000000', 'files': ['mistral/ext/pygmentplugin.py', 'doc/source/main_features.rst', 'doc/source/quickstart.rst', 'setup.cfg', 'mistral/ext/__init__.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/679fe7bbefe75b8e360e4d1ba8709c69e9e4da94', 'message': 'Add a Mistral lexer for pygments\n\nThis allows us to use the following code blocks in the Mistral documentation.\n\n    .. code-block:: mistral\n\nWhen we do that the code will then be highlighted in a way specific to\nMistral, rather than the generic YAML highlighting or none.\n\nChange-Id: Ie25725b9f803e247d23f58c4b602be938c75cfbd\n'}]",0,453526,679fe7bbefe75b8e360e4d1ba8709c69e9e4da94,14,8,5,9712,,,0,"Add a Mistral lexer for pygments

This allows us to use the following code blocks in the Mistral documentation.

    .. code-block:: mistral

When we do that the code will then be highlighted in a way specific to
Mistral, rather than the generic YAML highlighting or none.

Change-Id: Ie25725b9f803e247d23f58c4b602be938c75cfbd
",git fetch https://review.opendev.org/openstack/mistral refs/changes/26/453526/4 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/ext/pygmentplugin.py', 'doc/source/quickstart.rst', 'setup.cfg', 'mistral/ext/__init__.py']",4,6e1aea6aa0072000dc88f7b012ae73328c2d53f9,,,,63,1
openstack%2Fmurano~master~I9cfef4f67a3673ef45c9cd7b41f2f3f8b33f9ab7,openstack/murano,master,I9cfef4f67a3673ef45c9cd7b41f2f3f8b33f9ab7,Install Guide: Fix RST,MERGED,2017-04-05 05:04:33.000000000,2017-04-05 14:38:17.000000000,2017-04-05 14:38:17.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 6547}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-05 05:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/bdd1639f4952f872cbe4a8c743f860f241f9f6f6', 'message': 'Install Guide: Fix RST\n\nRemove the grey bars on the left of many blocks that came from wrong\nindentation of text.\n\nAlso, add some command line prompts for consistency.\n\nChange-Id: I9cfef4f67a3673ef45c9cd7b41f2f3f8b33f9ab7\n'}, {'number': 2, 'created': '2017-04-05 06:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ffc2cbb4c8c76715a3ef8e760efabd4b0d3b1fc8', 'message': 'Install Guide: Fix RST\n\nRemove the grey bars on the left of many blocks that came from wrong\nindentation of text.\n\nAlso, add some command line prompts for consistency.\n\nChange-Id: I9cfef4f67a3673ef45c9cd7b41f2f3f8b33f9ab7\n'}, {'number': 3, 'created': '2017-04-05 08:26:55.000000000', 'files': ['install-guide/source/install-dashboard.rst', 'install-guide/source/install-network-config.rst', 'install-guide/source/common_prerequisites.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/695be9929a13af1e474b5df39c544e20af6a7236', 'message': 'Install Guide: Fix RST\n\nRemove the grey bars on the left of many blocks that came from wrong\nindentation of text.\n\nAlso, add some command line prompts for consistency.\n\nChange-Id: I9cfef4f67a3673ef45c9cd7b41f2f3f8b33f9ab7\n'}]",1,453462,695be9929a13af1e474b5df39c544e20af6a7236,16,6,3,6547,,,0,"Install Guide: Fix RST

Remove the grey bars on the left of many blocks that came from wrong
indentation of text.

Also, add some command line prompts for consistency.

Change-Id: I9cfef4f67a3673ef45c9cd7b41f2f3f8b33f9ab7
",git fetch https://review.opendev.org/openstack/murano refs/changes/62/453462/3 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/install-dashboard.rst', 'install-guide/source/install-network-config.rst', 'install-guide/source/common_prerequisites.rst']",3,bdd1639f4952f872cbe4a8c743f860f241f9f6f6,fix-rst," Murano can use various database types on the back end. For development purposes, SQLite is enough in most cases. For production installations, you should use MySQL or PostgreSQL databases. .. warning:: Although murano could use a PostgreSQL database on the back end, it wasn't thoroughly tested and should be used with caution. .. * Use the database access client to connect to the database server as the ``root`` user: .. code-block:: console $ mysql -u root -p .. * Create the ``murano`` database: .. code-block:: mysql .. * Grant proper access to the ``murano`` database: .. code-block:: mysql Replace ``MURANO_DBPASS`` with a suitable password. * Exit the database access client. .. code-block:: mysql .. .. code-block:: console $ . admin-openrc .. * Create the ``murano`` user: .. code-block:: console $ openstack user create --domain default --password-prompt murano .. * Add the ``admin`` role to the ``murano`` user: .. code-block:: console $ openstack role add --project service --user murano admin .. * Create the murano service entities: .. code-block:: console $ openstack service create --name murano --description ""Application Catalog"" application-catalog .. .. code-block:: console $ openstack endpoint create --region RegionOne \ application-catalog public http://<murano-ip>:8082 $ openstack endpoint create --region RegionOne \ application-catalog internal http://<murano-ip>:8082 $ openstack endpoint create --region RegionOne \ application-catalog admin http://<murano-ip>:8082 .. .. note:: URLs (publicurl, internalurl and adminurl) may be different depending on your environment. .."," Murano can use various database types on the back end. For development purposes, SQLite is enough in most cases. For production installations, you should use MySQL or PostgreSQL databases. .. warning:: Although murano could use a PostgreSQL database on the back end, it wasn't thoroughly tested and should be used with caution. .. * Use the database access client to connect to the database server as the ``root`` user: .. code-block:: console $ mysql -u root -p .. * Create the ``murano`` database: .. code-block:: mysql .. * Grant proper access to the ``murano`` database: .. code-block:: mysql Replace ``MURANO_DBPASS`` with a suitable password. * Exit the database access client. .. code-block:: mysql .. .. code-block:: console $ . admin-openrc .. * Create the ``murano`` user: .. code-block:: console $ openstack user create --domain default --password-prompt murano .. * Add the ``admin`` role to the ``murano`` user: .. code-block:: console $ openstack role add --project service --user murano admin .. * Create the murano service entities: .. code-block:: console $ openstack service create --name murano --description ""Application Catalog"" application-catalog .. .. code-block:: console $ openstack endpoint create --region RegionOne \ application-catalog public http://<murano-ip>:8082 $ openstack endpoint create --region RegionOne \ application-catalog internal http://<murano-ip>:8082 $ openstack endpoint create --region RegionOne \ application-catalog admin http://<murano-ip>:8082 .. .. note:: URLs (publicurl, internalurl and adminurl) may be different depending on your environment. ..",82,81
openstack%2Ffreezer~master~I1d42d9d6bc49f217e87559dad04ebbd228425a07,openstack/freezer,master,I1d42d9d6bc49f217e87559dad04ebbd228425a07,Use bindep to define binary deps,MERGED,2017-04-04 10:58:02.000000000,2017-04-05 14:37:55.000000000,2017-04-05 14:37:55.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 16768}]","[{'number': 1, 'created': '2017-04-04 10:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/308d6207e4f385cfff0565a439b802bc102f5f13', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I1d42d9d6bc49f217e87559dad04ebbd228425a07\n'}, {'number': 2, 'created': '2017-04-04 11:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/fb1a644ee35cc2f6ae1fef19df61f60242fad190', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I1d42d9d6bc49f217e87559dad04ebbd228425a07\nCo-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>'}, {'number': 3, 'created': '2017-04-04 22:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/91b59c9662068c3d0862b6bd05dd80f6dc55e0be', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I1d42d9d6bc49f217e87559dad04ebbd228425a07\nCo-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>'}, {'number': 4, 'created': '2017-04-04 23:16:41.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/392df8ea4b30014dad2576f140fda1a8fd772ce4', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I1d42d9d6bc49f217e87559dad04ebbd228425a07\nCo-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>'}]",0,453118,392df8ea4b30014dad2576f140fda1a8fd772ce4,15,4,4,22405,,,0,"Use bindep to define binary deps

Rely on infra [0] to install only those that we need for our
tests.

[0] http://docs.openstack.org/infra/bindep/index.html

Change-Id: I1d42d9d6bc49f217e87559dad04ebbd228425a07
Co-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>",git fetch https://review.opendev.org/openstack/freezer refs/changes/18/453118/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,308d6207e4f385cfff0565a439b802bc102f5f13,bindep,# A build time dependency libffi-dev [platform:dpkg test] libffi-devel [platform:rpm test] mariadb [platform:rpm test] mariadb-server [platform:rpm test] mysql-client [platform:dpkg test] mysql-server [platform:dpkg test] # these are needed to compile Python dependencies from sources python-dev [platform:dpkg test] python3-all-dev [platform:dpkg !platform:ubuntu-precise test] python-devel [platform:rpm test] python3-devel [platform:rpm test] build-essential [platform:dpkg test] libssl-dev [platform:dpkg test] openssl-devel [platform:rpm test] ,,15,0
openstack%2Fneutron-fwaas~master~Id0597f74bef67b85776445e7bc591eb085f55acc,openstack/neutron-fwaas,master,Id0597f74bef67b85776445e7bc591eb085f55acc,Enable to configure conntrack driver,MERGED,2017-02-14 11:17:35.000000000,2017-04-05 14:34:20.000000000,2017-04-05 14:34:20.000000000,"[{'_account_id': 3}, {'_account_id': 5109}, {'_account_id': 6995}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8157}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 15905}, {'_account_id': 20079}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-02-14 11:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/24bc8d15e85aa57dcd0b11ae366e57dca1ff92a4', 'message': 'Make conntrack driver be configurable\n\nThis patch make conntrack driver be configurable. Operator\ncan choose between ""conntrack-tools"" and ""netlink"". The former one\nis stable while the follower is much faster.\n\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\nCloses-Bug: #1664294\n'}, {'number': 2, 'created': '2017-02-15 02:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1d503d77b9b7b19c7dc7ddb969f0a22c506dc70e', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver. Operators\ncan choose between ""conntrack-tools"" and ""netlink"". The former one\nis stable while the follower is much faster and experimental.\n\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\nPartial-Bug: #1664294\n'}, {'number': 3, 'created': '2017-02-15 09:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2328ea500c8a2ab0b97661caad87ff75e3cf890f', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver. Operators\ncan choose between ""conntrack-tools"" and ""netlink"". The former one\nis stable while the follower is much faster and experimental.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\nPartial-Bug: #1664294\n'}, {'number': 4, 'created': '2017-02-16 01:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b71650d22a5335bebda0975b9a0e2e428f4fcc63', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver. Operators\ncan choose between ""conntrack-tools"" and ""netlink"". The former one\nis stable while the follower is much faster and experimental.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\nPartial-Bug: #1664294\n'}, {'number': 5, 'created': '2017-02-17 03:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f9f9d2aa0061c05a14ece5a03743268984af7fb7', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\nPartial-Bug: #1664294\n'}, {'number': 6, 'created': '2017-02-17 03:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/09c25d73058091efa019ef0c7d7bcd42f061a1b5', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\nPartial-Bug: #1664294\n'}, {'number': 7, 'created': '2017-02-27 11:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4eb3d45311db8d9eacbc5eae72133ac1bae751dd', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\n'}, {'number': 8, 'created': '2017-02-28 02:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/203fac96e4189db638a90ac5040f587d4ae3794b', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\n'}, {'number': 9, 'created': '2017-03-02 03:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6e392904b17426f5ea9e0f6a2b514a7b8ca1f149', 'message': 'Enable to configure conntrack driver\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nPartial-Bug: #1664294\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\n'}, {'number': 10, 'created': '2017-03-02 03:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/db9ff1c7c3350c8c3387d0ac22b92d9b81786374', 'message': 'Enable to configure conntrack driver\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nPartial-Bug: #1664294\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\n'}, {'number': 11, 'created': '2017-03-29 01:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/78d0dffab23ec4bfbd7b3ef9f1aef5588c48e50a', 'message': 'Make conntrack driver be configurable\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\n'}, {'number': 12, 'created': '2017-03-29 09:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/26757d8ed0149572ba3341e3bbb1fc5f40601f2d', 'message': 'Enable to configure conntrack driver\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nPartial-Bug: #1664294\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\n'}, {'number': 13, 'created': '2017-03-31 10:33:09.000000000', 'files': ['neutron_fwaas/services/firewall/agents/firewall_agent_api.py', 'neutron_fwaas/services/firewall/drivers/conntrack_base.py', 'neutron_fwaas/tests/unit/services/firewall/drivers/linux/test_iptables_fwaas.py', 'neutron_fwaas/services/firewall/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/tests/unit/services/firewall/drivers/linux/test_legacy_conntrack.py', 'setup.cfg', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8f6a1b90af7fdf3b865b700c09fbb415f4647812', 'message': 'Enable to configure conntrack driver\n\nThis patch enables to configure conntrack driver.\nInitially, ""conntrack-tools"" is being used to manage connection,\nhowever, it\'s costly and down performance[1]. The alternative can be\nfound here[2] with need to improve reliability and stability.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1630832\n[2] https://review.openstack.org/#/c/389654/\n\nPartial-Bug: #1664294\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nChange-Id: Id0597f74bef67b85776445e7bc591eb085f55acc\n'}]",47,433598,8f6a1b90af7fdf3b865b700c09fbb415f4647812,43,13,13,20079,,,0,"Enable to configure conntrack driver

This patch enables to configure conntrack driver.
Initially, ""conntrack-tools"" is being used to manage connection,
however, it's costly and down performance[1]. The alternative can be
found here[2] with need to improve reliability and stability.

[1] https://bugs.launchpad.net/neutron/+bug/1630832
[2] https://review.openstack.org/#/c/389654/

Partial-Bug: #1664294
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Change-Id: Id0597f74bef67b85776445e7bc591eb085f55acc
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/98/433598/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/privileged/netlink_constants.py', 'neutron_fwaas/services/firewall/drivers/linux/netlink_conntrack.py', 'neutron_fwaas/common/netlink_constants.py', 'neutron_fwaas/privileged/netlink_lib.py', 'neutron_fwaas/services/firewall/agents/firewall_agent_api.py', 'neutron_fwaas/services/firewall/drivers/conntrack_base.py', 'neutron_fwaas/services/firewall/drivers/linux/legacy_conntrack.py', 'etc/oslo-config-generator/fwaas_driver.ini', 'setup.cfg', 'neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas.py']",10,24bc8d15e85aa57dcd0b11ae366e57dca1ff92a4,bug/1664294,"from oslo_config import cfgfrom neutron.agent.linux import iptables_manager from neutron.common import utils def load_extension_driver_class(namespace, driver): return utils.load_class_by_alias_or_classname(namespace, driver) conntrack_cls = load_extension_driver_class( 'neutron_fwaas.services.firewall.' 'drivers.linux', cfg.CONF.fwaas.conntrack_driver) self.conntrack = conntrack_cls() self.conntrack.initialize() self.conntrack.flush_entries(ipt_mgr.namespace) self.conntrack.delete_entries(removed_conntrack_rules_list, ipt_mgr.namespace)","from neutron.agent.linux import iptables_managerfrom neutron_fwaas.privileged import netlink_lib self._flush_conntrack_netlink(ipt_mgr.namespace) rules = [] for rule in removed_conntrack_rules_list: rules.append(self._get_filters_from_rules(rule)) rules = sorted(list(set(rules))) self._remove_conntrack_netlink(ipt_mgr.namespace, rules) @staticmethod def _entry2delete(rule, entry): """""" Check if an entry will be delete or not :param rule: (ipversion, protocol, sport, dport) :param entry: (ipversion, protocol, sport, dport, saddress, daddress) :return: True if the entry matches the rule The entry matches the rule if it has the same ipversion, protocol or entry source port, destination port sequentially in rule source port, destination port range. """""" return ( (entry[0] == rule[0]) and (not rule[1] or entry[1] == rule[1]) and (not rule[2] or int(entry[2]) in range(int(rule[2].split(':')[0]), int(rule[2].split(':')[-1]) + 1)) and (not rule[2] or int(entry[2]) in range(int(rule[2].split(':')[0]), int(rule[2].split(':')[-1]) + 1))) def _remove_conntrack_netlink(self, namespace, rules): # Getting a list of all entries entries = netlink_lib.list_entries(namespace) # Compare each entry to each rule to define that this entry # is to delete or not. # rule and entry have the same parameters order to be comparable: # rule: (ipversion, protocol, sport, dport) # entry: (ipversion, protocol, sport, dport, saddress, daddress) # rules and entries were sorted lists of tuples to reduce the # number of comparisons. dentries = [] ientry = 0 entryNumber = len(entries) for rule in rules: while ientry < entryNumber and entries[ientry] < rule: ientry += 1 while (ientry < entryNumber and self._entry2delete(rule, entries[ientry])): dentries.append(entries[ientry]) ientry += 1 # Calling to netlink_lib.kill_entries to delete entries netlink_lib.kill_entries(namespace, dentries) def _flush_conntrack_netlink(self, namespace): netlink_lib.flush_entries(namespace) def _get_filters_from_rules(self, rule): """"""Parse parameters from firewall rules :param: rule: A firewall rule :return filter: Tuple of parameters example: (4, 'tcp', 1111, 2222, '1.1.1.1', '2.2.2.2') """""" keys = ['ip_version', 'protocol', 'source_port', 'destination_port'] addr_keys = ['source_ip_address', 'destination_ip_address'] rule_filter = [] for key in keys: rule_filter.append(rule.get(key) or '') for key in addr_keys: if not rule.get(key): rule_filter.append('') else: rule_filter.append(rule.get(key)) return tuple(rule_filter)",467,465
openstack%2Fopenstack-ansible-openstack_openrc~master~I61ac3cfeddc543006511c72eb2bd99b2dbdfd469,openstack/openstack-ansible-openstack_openrc,master,I61ac3cfeddc543006511c72eb2bd99b2dbdfd469,.gitignore: Ignore the tests/common directory,MERGED,2017-04-05 11:02:26.000000000,2017-04-05 14:31:40.000000000,2017-04-05 14:31:40.000000000,"[{'_account_id': 3}, {'_account_id': 14805}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-05 11:02:26.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/42c25da7cba779ea4fd51cd1939a5eb50832c10e', 'message': "".gitignore: Ignore the tests/common directory\n\nThe tests/common directory is created by the tox 'testenv:tests_clone'\nenvironment so add it to the ignore list.\n\nChange-Id: I61ac3cfeddc543006511c72eb2bd99b2dbdfd469\n""}]",0,453574,42c25da7cba779ea4fd51cd1939a5eb50832c10e,7,3,1,23163,,,0,".gitignore: Ignore the tests/common directory

The tests/common directory is created by the tox 'testenv:tests_clone'
environment so add it to the ignore list.

Change-Id: I61ac3cfeddc543006511c72eb2bd99b2dbdfd469
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/74/453574/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,42c25da7cba779ea4fd51cd1939a5eb50832c10e,osa-ignore-tests-common-dir,tests/common,,1,0
openstack%2Ftripleo-validations~stable%2Focata~I5ec5aa386eb267283cc187cf1d4206827e6b3191,openstack/tripleo-validations,stable/ocata,I5ec5aa386eb267283cc187cf1d4206827e6b3191,Fix token auth in ansible inventory script,MERGED,2017-04-04 14:00:38.000000000,2017-04-05 14:31:19.000000000,2017-04-05 14:31:19.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-04-04 14:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d65a9662e62697bad0e7b3a063f20aed29940842', 'message': 'Fix token auth in ansible inventory script\n\nThe token authentication in the inventory script currently uses the\n`user_domain_id` parameter, which is supposed to be used with password\nauthentication only.\n\nThis patch removed the param.\n\nChange-Id: I5ec5aa386eb267283cc187cf1d4206827e6b3191\nCloses-Bug: #1678029\n(cherry picked from commit b669bcbf45e13961b1fb2bc79a6c656fe45180e5)\n'}, {'number': 2, 'created': '2017-04-05 14:05:28.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bb06b721d76212f02a838f3782c6df875eb4e934', 'message': 'Fix token auth in ansible inventory script\n\nThe token authentication in the inventory script currently uses the\n`user_domain_id` parameter, which is supposed to be used with password\nauthentication only.\n\nThis patch removed the param.\n\nChange-Id: I5ec5aa386eb267283cc187cf1d4206827e6b3191\nCloses-Bug: #1678029\n(cherry picked from commit b669bcbf45e13961b1fb2bc79a6c656fe45180e5)\n'}]",0,453183,bb06b721d76212f02a838f3782c6df875eb4e934,12,4,2,17888,,,0,"Fix token auth in ansible inventory script

The token authentication in the inventory script currently uses the
`user_domain_id` parameter, which is supposed to be used with password
authentication only.

This patch removed the param.

Change-Id: I5ec5aa386eb267283cc187cf1d4206827e6b3191
Closes-Bug: #1678029
(cherry picked from commit b669bcbf45e13961b1fb2bc79a6c656fe45180e5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/83/453183/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,d65a9662e62697bad0e7b3a063f20aed29940842,bug/1678029,," user_domain_id='default',",0,1
openstack%2Ftripleo-validations~stable%2Focata~Id378fdad6196a72034ddcc107a643770c4349a22,openstack/tripleo-validations,stable/ocata,Id378fdad6196a72034ddcc107a643770c4349a22,Use generic keystone plugins instead of version-specific,MERGED,2017-04-04 13:58:46.000000000,2017-04-05 14:30:04.000000000,2017-04-05 14:30:04.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-04-04 13:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eef0ee6280d31e2e3f237eed59befc99842a981a', 'message': 'Use generic keystone plugins instead of version-specific\n\nThis allows us to use versionless endpoints.\n\nChange-Id: Id378fdad6196a72034ddcc107a643770c4349a22\n(cherry picked from commit 280cc0112a4cdba5d9444eecbeead88982c0049b)\n'}, {'number': 2, 'created': '2017-04-05 14:02:52.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a79af7ef93a679c1382ae26165bb3e9da31cf989', 'message': 'Use generic keystone plugins instead of version-specific\n\nThis allows us to use versionless endpoints.\n\nChange-Id: Id378fdad6196a72034ddcc107a643770c4349a22\n(cherry picked from commit 280cc0112a4cdba5d9444eecbeead88982c0049b)\n'}]",0,453182,a79af7ef93a679c1382ae26165bb3e9da31cf989,12,5,2,17888,,,0,"Use generic keystone plugins instead of version-specific

This allows us to use versionless endpoints.

Change-Id: Id378fdad6196a72034ddcc107a643770c4349a22
(cherry picked from commit 280cc0112a4cdba5d9444eecbeead88982c0049b)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/82/453182/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,eef0ee6280d31e2e3f237eed59befc99842a981a,keystone-generic,"from keystoneauth1.identity import generic as ks_id auth = ks_id.Token(auth_url=self.configs.auth_url, token=self.configs.auth_token, else: auth = ks_id.Password(auth_url=self.configs.auth_url, username=self.configs.username, password=self.configs.password, project_name=self.configs.project_name, user_domain_id='default', project_domain_id='default')","from keystoneauth1.identity import v3 auth = v3.Token(auth_url=self.configs.auth_url, token=self.configs.auth_token, project_name=self.configs.project_name, user_domain_id='default', project_domain_id='default') else: auth = v3.Password(auth_url=self.configs.auth_url, username=self.configs.username, password=self.configs.password,",10,10
openstack%2Ftripleo-validations~stable%2Focata~I2019ceebda8bf6bf2e1f01bba9e1d5c143c8738d,openstack/tripleo-validations,stable/ocata,I2019ceebda8bf6bf2e1f01bba9e1d5c143c8738d,Migrate from keystoneclient to keystoneauth,MERGED,2017-04-04 13:50:06.000000000,2017-04-05 14:29:32.000000000,2017-04-05 14:29:32.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-04-04 13:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dcbfb38fb13662c34faa2b42843454a4fa04e20a', 'message': 'Migrate from keystoneclient to keystoneauth\n\nSince novaclient 7.0.0, the tripleo-ansible-inventory silently ignores\na novaclient error and skips all overcloud nodes in its output.\n\nSwitching to keystoneauth solves the issue in a clean fashion.\n\nChange-Id: I2019ceebda8bf6bf2e1f01bba9e1d5c143c8738d\nCloses-Bug: #1666662\n(cherry picked from commit f6a8d3d9cd50a78c00e7323e9db56ab5ef878c28)\n'}, {'number': 2, 'created': '2017-04-05 13:49:25.000000000', 'files': ['requirements.txt', 'releasenotes/notes/migrate-to-keystoneauth-e660753d5577e387.yaml', 'scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cafd51c1c6a8883e670249a75a49d927a1789ce5', 'message': 'Migrate from keystoneclient to keystoneauth\n\nSince novaclient 7.0.0, the tripleo-ansible-inventory silently ignores\na novaclient error and skips all overcloud nodes in its output.\n\nSwitching to keystoneauth solves the issue in a clean fashion.\n\nChange-Id: I2019ceebda8bf6bf2e1f01bba9e1d5c143c8738d\nCloses-Bug: #1666662\n(cherry picked from commit f6a8d3d9cd50a78c00e7323e9db56ab5ef878c28)\n'}]",0,453180,cafd51c1c6a8883e670249a75a49d927a1789ce5,13,4,2,17888,,,0,"Migrate from keystoneclient to keystoneauth

Since novaclient 7.0.0, the tripleo-ansible-inventory silently ignores
a novaclient error and skips all overcloud nodes in its output.

Switching to keystoneauth solves the issue in a clean fashion.

Change-Id: I2019ceebda8bf6bf2e1f01bba9e1d5c143c8738d
Closes-Bug: #1666662
(cherry picked from commit f6a8d3d9cd50a78c00e7323e9db56ab5ef878c28)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/80/453180/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/migrate-to-keystoneauth-e660753d5577e387.yaml', 'scripts/tripleo-ansible-inventory']",3,dcbfb38fb13662c34faa2b42843454a4fa04e20a,bug/1666662,"from heatclient import client as heat_client from keystoneauth1.identity import v3 from keystoneauth1 import session self._session = None def session(self): if self._session is None: if self.configs.auth_token: auth = v3.Token(auth_url=self.configs.auth_url, token=self.configs.auth_token, project_name=self.configs.project_name, user_domain_id='default', project_domain_id='default') else: auth = v3.Password(auth_url=self.configs.auth_url, username=self.configs.username, password=self.configs.password, project_name=self.configs.project_name, user_domain_id='default', project_domain_id='default') self._session = session.Session(auth=auth, verify=self.configs.cacert) return self._session try: self._hclient = heat_client.Client('1', session=self.session) try: self._nclient = nova_client.Client('2', session=self.session) try: endpoint = self.session.get_endpoint(service_type='workflowv2') auth_token=self.session.get_token())","from heatclient.v1 import client as heat_client from keystoneclient.v3 import client as keystone_client def ksclient(self): if self._ksclient is None: try: if self.configs.auth_token: self._ksclient = keystone_client.Client( auth_url=self.configs.auth_url, username=self.configs.username, token=self.configs.auth_token, project_name=self.configs.project_name, cacert=self.configs.cacert) else: self._ksclient = keystone_client.Client( auth_url=self.configs.auth_url, username=self.configs.username, password=self.configs.password, project_name=self.configs.project_name, cacert=self.configs.cacert) self._ksclient.authenticate() except Exception as e: print(""Error connecting to Keystone: {}"".format(e.message), file=sys.stderr) sys.exit(1) return self._ksclient ksclient = self.ksclient endpoint = ksclient.service_catalog.url_for( service_type='orchestration', endpoint_type='publicURL') try: self._hclient = heat_client.Client( endpoint=endpoint, token=ksclient.auth_token, ca_file=self.configs.cacert) ksclient = self.ksclient endpoint = ksclient.service_catalog.url_for( service_type='compute', endpoint_type='publicURL') try: self._nclient = nova_client.Client( '2', bypass_url=endpoint, auth_token=ksclient.auth_token, cacert=self.configs.cacert) ksclient = self.ksclient endpoint = ksclient.service_catalog.url_for( service_type='workflowv2', endpoint_type='publicURL') try: auth_token=ksclient.auth_token)",34,47
openstack%2Fheat~master~If209b589278fe1facb06e157fe76209fdd42a8a2,openstack/heat,master,If209b589278fe1facb06e157fe76209fdd42a8a2,Use a sentinel to indicate when all attributes are required,MERGED,2017-02-17 00:34:39.000000000,2017-04-05 14:26:57.000000000,2017-04-05 14:26:57.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8833}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-02-17 00:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/265d407368d3a1749ceef408bf7f590551e6d9d6', 'message': ""Use a sentinel to indicate when all attributes are required\n\nTo generate its NodeData, a Resource must know which of its attributes\nother parts of the template have dependencies on, which it determines by\nasking the intrinsic functions in the template. Currently, the get_attr\nfunction when used with no arguments depends on all of the attributes of\nthe resource (except 'show'), and it obtains this list from the Resource\nitself (via the attributes_schema). This presents a chicken-and-egg problem\nif we want to give Functions access only to a ResourceProxy based on the\nNodeData.\n\nResolve this by returning a constant sentinel value (indicating that all\nattributes are required) to the Resource, which can determine for itself\nwhat attributes it has.\n\nChange-Id: If209b589278fe1facb06e157fe76209fdd42a8a2\nPartially-Implements: blueprint stack-definition\n""}, {'number': 2, 'created': '2017-02-18 20:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/26d33dda527ff5ae6444e83ecc689b411000ff67', 'message': ""Use a sentinel to indicate when all attributes are required\n\nTo generate its NodeData, a Resource must know which of its attributes\nother parts of the template have dependencies on, which it determines by\nasking the intrinsic functions in the template. Currently, the get_attr\nfunction when used with no arguments depends on all of the attributes of\nthe resource (except 'show'), and it obtains this list from the Resource\nitself (via the attributes_schema). This presents a chicken-and-egg problem\nif we want to give Functions access only to a ResourceProxy based on the\nNodeData.\n\nResolve this by returning a constant sentinel value (indicating that all\nattributes are required) to the Resource, which can determine for itself\nwhat attributes it has.\n\nChange-Id: If209b589278fe1facb06e157fe76209fdd42a8a2\nPartially-Implements: blueprint stack-definition\n""}, {'number': 3, 'created': '2017-02-18 21:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d2753361b9255934887b1843d313b6d617a9ab9d', 'message': ""Use a sentinel to indicate when all attributes are required\n\nTo generate its NodeData, a Resource must know which of its attributes\nother parts of the template have dependencies on, which it determines by\nasking the intrinsic functions in the template. Currently, the get_attr\nfunction when used with no arguments depends on all of the attributes of\nthe resource (except 'show'), and it obtains this list from the Resource\nitself (via the attributes_schema). This presents a chicken-and-egg problem\nif we want to give Functions access only to a ResourceProxy based on the\nNodeData.\n\nResolve this by returning a constant sentinel value (indicating that all\nattributes are required) to the Resource, which can determine for itself\nwhat attributes it has.\n\nChange-Id: If209b589278fe1facb06e157fe76209fdd42a8a2\nPartially-Implements: blueprint stack-definition\n""}, {'number': 4, 'created': '2017-02-24 15:39:23.000000000', 'files': ['heat/engine/hot/functions.py', 'heat/engine/attributes.py', 'heat/engine/function.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/06afc2f3b086527001fbffde870f5e4ba45c71fd', 'message': ""Use a sentinel to indicate when all attributes are required\n\nTo generate its NodeData, a Resource must know which of its attributes\nother parts of the template have dependencies on, which it determines by\nasking the intrinsic functions in the template. Currently, the get_attr\nfunction when used with no arguments depends on all of the attributes of\nthe resource (except 'show'), and it obtains this list from the Resource\nitself (via the attributes_schema). This presents a chicken-and-egg problem\nif we want to give Functions access only to a ResourceProxy based on the\nNodeData.\n\nResolve this by returning a constant sentinel value (indicating that all\nattributes are required) to the Resource, which can determine for itself\nwhat attributes it has.\n\nChange-Id: If209b589278fe1facb06e157fe76209fdd42a8a2\nPartially-Implements: blueprint stack-definition\n""}]",0,435170,06afc2f3b086527001fbffde870f5e4ba45c71fd,16,4,4,4257,,,0,"Use a sentinel to indicate when all attributes are required

To generate its NodeData, a Resource must know which of its attributes
other parts of the template have dependencies on, which it determines by
asking the intrinsic functions in the template. Currently, the get_attr
function when used with no arguments depends on all of the attributes of
the resource (except 'show'), and it obtains this list from the Resource
itself (via the attributes_schema). This presents a chicken-and-egg problem
if we want to give Functions access only to a ResourceProxy based on the
NodeData.

Resolve this by returning a constant sentinel value (indicating that all
attributes are required) to the Resource, which can determine for itself
what attributes it has.

Change-Id: If209b589278fe1facb06e157fe76209fdd42a8a2
Partially-Implements: blueprint stack-definition
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/435170/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/hot/functions.py', 'heat/engine/attributes.py', 'heat/engine/function.py', 'heat/engine/resource.py']",4,265d407368d3a1749ceef408bf7f590551e6d9d6,bp/stack-definition, dep_attrs = set(self.stack.get_dep_attrs( self.name)) if attributes.ALL_ATTRIBUTES in dep_attrs: dep_attrs.remove(attributes.ALL_ATTRIBUTES) dep_attrs |= (set(self.attributes) - {self.SHOW}) , dep_attrs = self.stack.get_dep_attrs( self.name),20,4
openstack%2Fneutron~master~Id512d213cd7ee11da913a4e4b0da20c3ad5420b0,openstack/neutron,master,Id512d213cd7ee11da913a4e4b0da20c3ad5420b0,Remove stale floating IP addresses from rfp devices,MERGED,2017-03-30 15:11:24.000000000,2017-04-05 14:26:17.000000000,2017-04-02 03:49:40.000000000,"[{'_account_id': 3}, {'_account_id': 5948}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 12860}, {'_account_id': 17642}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-03-30 15:11:24.000000000', 'files': ['neutron/agent/l3/dvr_fip_ns.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f84ce9a57ceaf6f931ca51e028bac64c93835d91', 'message': 'Remove stale floating IP addresses from rfp devices\n\nOld versions of the DVR code used to configure floating\nIP addresses directly on the rfp-* devices in the\nqrouter namespace.  This was changed in Mitaka to use\nroutes, but these stale floating IP addresses were\nnever cleaned-up when the l3-agent was restarted.\n\nAdd a check for these addresses and remove them at\nstartup if they exist.  This can be removed in a cycle\nsince once they are cleaned they will not be added\nback by the agent.\n\nChange-Id: Id512d213cd7ee11da913a4e4b0da20c3ad5420b0\nCloses-bug: #1675187\n'}]",7,451859,f84ce9a57ceaf6f931ca51e028bac64c93835d91,23,7,1,1131,,,0,"Remove stale floating IP addresses from rfp devices

Old versions of the DVR code used to configure floating
IP addresses directly on the rfp-* devices in the
qrouter namespace.  This was changed in Mitaka to use
routes, but these stale floating IP addresses were
never cleaned-up when the l3-agent was restarted.

Add a check for these addresses and remove them at
startup if they exist.  This can be removed in a cycle
since once they are cleaned they will not be added
back by the agent.

Change-Id: Id512d213cd7ee11da913a4e4b0da20c3ad5420b0
Closes-bug: #1675187
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/451859/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_fip_ns.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py']",2,f84ce9a57ceaf6f931ca51e028bac64c93835d91,bug/1675187,"from neutron.agent.l3 import router_info @mock.patch.object(router_info.RouterInfo, 'get_router_cidrs') def _test_scan_fip_ports(self, ri, ip_list, stale_list, IPDevice, get_router_cidrs): get_router_cidrs.return_value = stale_list if stale_list: device.delete_addr_and_conntrack_state.assert_called_once_with( stale_list[0]) stale_list = ['111.2.3.7/32'] self._test_scan_fip_ports(ri, ip_list, stale_list) self._test_scan_fip_ports(ri, [], []) self._test_scan_fip_ports(ri, None, [])"," def _test_scan_fip_ports(self, ri, ip_list, IPDevice): self._test_scan_fip_ports(ri, ip_list) self._test_scan_fip_ports(ri, []) self._test_scan_fip_ports(ri, None)",28,4
openstack%2Ftripleo-common~master~I18ee977a6a5328eadd8611dc694bc8954fa4c715,openstack/tripleo-common,master,I18ee977a6a5328eadd8611dc694bc8954fa4c715,configure_container: remove os-cloud-config,MERGED,2017-03-28 21:54:23.000000000,2017-04-05 14:25:08.000000000,2017-04-05 14:25:08.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 9317}, {'_account_id': 9414}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-03-28 21:54:23.000000000', 'files': ['heat_docker_agent/configure_container.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c642d077ce77b1f62ec5871c62fbe24090cba1e', 'message': ""configure_container: remove os-cloud-config\n\nIt's deprecated in Ocata and removed soon.\n\nChange-Id: I18ee977a6a5328eadd8611dc694bc8954fa4c715\nRelated-Bug: #1677008\n""}]",0,451085,2c642d077ce77b1f62ec5871c62fbe24090cba1e,11,6,1,3153,,,0,"configure_container: remove os-cloud-config

It's deprecated in Ocata and removed soon.

Change-Id: I18ee977a6a5328eadd8611dc694bc8954fa4c715
Related-Bug: #1677008
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/451085/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_docker_agent/configure_container.sh'],1,2c642d077ce77b1f62ec5871c62fbe24090cba1e,bug/1677008,"includepkgs=diskimage-builder,instack,instack-undercloud,os-apply-config,os-collect-config,os-net-config,os-refresh-config,python-tripleoclient,openstack-tripleo-common,openstack-tripleo-heat-templates,openstack-tripleo-image-elements,openstack-tripleo,openstack-tripleo-puppet-elements,openstack-puppet-modules,openstack-tripleo-ui,puppet-*","includepkgs=diskimage-builder,instack,instack-undercloud,os-apply-config,os-cloud-config,os-collect-config,os-net-config,os-refresh-config,python-tripleoclient,openstack-tripleo-common,openstack-tripleo-heat-templates,openstack-tripleo-image-elements,openstack-tripleo,openstack-tripleo-puppet-elements,openstack-puppet-modules,openstack-tripleo-ui,puppet-*",1,1
openstack%2Ftripleo-common~master~Iba8d018b36965b49535a743fcd34428b72f3b561,openstack/tripleo-common,master,Iba8d018b36965b49535a743fcd34428b72f3b561,Remove Percona-Server-shared-56 from openstack-base image,MERGED,2017-04-04 13:12:17.000000000,2017-04-05 14:24:43.000000000,2017-04-05 14:24:42.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 8042}]","[{'number': 1, 'created': '2017-04-04 13:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cf37c415fd6bd5b7f10d84ab961a3f3819b7a9c0', 'message': 'Remove Percona-Server-shared-56 from openstack-base image\n\nSince Kolla commit d2c8372e99, yum is configured to faile the docker\nbuild if a specified package is missing. This causes our image build to\nfail on openstack-base because we disable external repos and yum can\nnot find a package for Percona-Server-shared-56. This commit blacklists\nit from the openstack-base image.\n\nChange-Id: Iba8d018b36965b49535a743fcd34428b72f3b561\n'}, {'number': 2, 'created': '2017-04-04 19:30:51.000000000', 'files': ['contrib/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/078f783f3cbe223deee3680cb1efe1d56a1b5736', 'message': 'Remove Percona-Server-shared-56 from openstack-base image\n\nSince Kolla commit d2c8372e99, yum is configured to fail the docker\nbuild if a specified package is missing. This causes our image build to\nfail on openstack-base because we disable external repos and yum can\nnot find a package for Percona-Server-shared-56. This commit blacklists\nit from the openstack-base image.\n\nChange-Id: Iba8d018b36965b49535a743fcd34428b72f3b561\n'}]",0,453164,078f783f3cbe223deee3680cb1efe1d56a1b5736,13,5,2,13039,,,0,"Remove Percona-Server-shared-56 from openstack-base image

Since Kolla commit d2c8372e99, yum is configured to fail the docker
build if a specified package is missing. This causes our image build to
fail on openstack-base because we disable external repos and yum can
not find a package for Percona-Server-shared-56. This commit blacklists
it from the openstack-base image.

Change-Id: Iba8d018b36965b49535a743fcd34428b72f3b561
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/453164/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/tripleo_kolla_template_overrides.j2'],1,cf37c415fd6bd5b7f10d84ab961a3f3819b7a9c0,percona_kolla_base,# Remove packages not present in repos {% set openstack_base_packages_remove = ['Percona-Server-shared-56'] %} ,,3,0
openstack%2Ftripleo-heat-templates~master~Ib05d993c1bb59b59c784e438f805733f636c743d,openstack/tripleo-heat-templates,master,Ib05d993c1bb59b59c784e438f805733f636c743d,Disable core dump for setuid programs,MERGED,2017-03-07 13:01:15.000000000,2017-04-05 14:23:49.000000000,2017-04-05 14:23:49.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6928}, {'_account_id': 14831}, {'_account_id': 14985}, {'_account_id': 17893}, {'_account_id': 19339}, {'_account_id': 21151}, {'_account_id': 21909}]","[{'number': 1, 'created': '2017-03-07 13:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/374590f0670eb89d981e620f3cec4d9d01ab1a96', 'message': ""Disable core dump for setuid programs\n\nThe core dump of a setuid program is more likely\nto contain sensitive data, as the program itself\nruns with greater privileges than the user who\ninitiated execution of the program. Disabling the\nability for any setuid program to write a core\nfile decreases the risk of unauthorized access of\nsuch data.\n\nThis change sets core dump for setuid programs\nto '0'.\n\nChange-Id: Ib05d993c1bb59b59c784e438f805733f636c743d\nSigned-off-by: zshi <zshi@redhat.com>\n""}, {'number': 2, 'created': '2017-03-20 07:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0087387d6f402d911c79148f83d537d23e8553ca', 'message': ""Disable core dump for setuid programs\n\nThe core dump of a setuid program is more likely\nto contain sensitive data, as the program itself\nruns with greater privileges than the user who\ninitiated execution of the program. Disabling the\nability for any setuid program to write a core\nfile decreases the risk of unauthorized access of\nsuch data.\n\nThis change sets core dump for setuid programs\nto '0'.\n\nChange-Id: Ib05d993c1bb59b59c784e438f805733f636c743d\nSigned-off-by: zshi <zshi@redhat.com>\n""}, {'number': 3, 'created': '2017-03-21 13:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b939294150710a044cad36b55321d682027b5cff', 'message': ""Disable core dump for setuid programs\n\nThe core dump of a setuid program is more likely\nto contain sensitive data, as the program itself\nruns with greater privileges than the user who\ninitiated execution of the program. Disabling the\nability for any setuid program to write a core\nfile decreases the risk of unauthorized access of\nsuch data.\n\nThis change sets core dump for setuid programs\nto '0'.\n\nChange-Id: Ib05d993c1bb59b59c784e438f805733f636c743d\nSigned-off-by: zshi <zshi@redhat.com>\n""}, {'number': 4, 'created': '2017-03-28 06:21:31.000000000', 'files': ['releasenotes/notes/disable-core-dump-for-setuid-programs-e83a2a5da908b9c3.yaml', 'puppet/services/kernel.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4483378fec94ab3af9ad12e66bc6bc8697a673c6', 'message': ""Disable core dump for setuid programs\n\nThe core dump of a setuid program is more likely\nto contain sensitive data, as the program itself\nruns with greater privileges than the user who\ninitiated execution of the program. Disabling the\nability for any setuid program to write a core\nfile decreases the risk of unauthorized access of\nsuch data.\n\nThis change sets core dump for setuid programs\nto '0'.\n\nChange-Id: Ib05d993c1bb59b59c784e438f805733f636c743d\nSigned-off-by: zshi <zshi@redhat.com>\n""}]",2,442458,4483378fec94ab3af9ad12e66bc6bc8697a673c6,67,12,4,21151,,,0,"Disable core dump for setuid programs

The core dump of a setuid program is more likely
to contain sensitive data, as the program itself
runs with greater privileges than the user who
initiated execution of the program. Disabling the
ability for any setuid program to write a core
file decreases the risk of unauthorized access of
such data.

This change sets core dump for setuid programs
to '0'.

Change-Id: Ib05d993c1bb59b59c784e438f805733f636c743d
Signed-off-by: zshi <zshi@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/442458/4 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/kernel.yaml'],1,374590f0670eb89d981e620f3cec4d9d01ab1a96,, fs.suid_dumpable: value: 0,,2,0
openstack%2Ftripleo-ui~master~I347f1434819ae4743045ae8b3cbcd924b14c26a5,openstack/tripleo-ui,master,I347f1434819ae4743045ae8b3cbcd924b14c26a5,Imported Translations from Zanata,MERGED,2017-04-05 08:32:53.000000000,2017-04-05 14:23:44.000000000,2017-04-05 14:23:44.000000000,"[{'_account_id': 3}, {'_account_id': 4978}]","[{'number': 1, 'created': '2017-04-05 08:32:53.000000000', 'files': ['i18n/locales/zh-CN.json', 'i18n/locales/ja.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/56e1306e9c748ede354b4745367796888117ed33', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I347f1434819ae4743045ae8b3cbcd924b14c26a5\n'}]",0,453514,56e1306e9c748ede354b4745367796888117ed33,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I347f1434819ae4743045ae8b3cbcd924b14c26a5
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/14/453514/1 && git format-patch -1 --stdout FETCH_HEAD,"['i18n/locales/zh-CN.json', 'i18n/locales/ja.json']",2,56e1306e9c748ede354b4745367796888117ed33,zanata/translations," ""DeploymentPlan.configurePlanStepTooltip"": ""\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30aa\u30fc\u30d0\u30fc\u30af\u30e9\u30a6\u30c9\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3001\u304a\u3088\u3073\u305d\u306e\u4ed6\u306e\u8a8d\u5b9a\u6e08\u307f\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u7279\u5b9a\u306e\u8a2d\u5b9a\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5206\u96e2\u306e\u69cb\u6210\u3084\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u8a2d\u5b9a\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u306b\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002"", ""DeploymentPlan.configureRolesStepTooltip"": ""\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30aa\u30fc\u30d0\u30fc\u30af\u30e9\u30a6\u30c9\u5185\u306e\u30ed\u30fc\u30eb\u3078\u306e\u30ce\u30fc\u30c9\u306e\u5272\u308a\u5f53\u3066\u304a\u3088\u3073\u5272\u308a\u5f53\u3066\u89e3\u9664\u3092\u884c\u3044\u307e\u3059\u3002\u5404\u30ed\u30fc\u30eb\u306e\u9078\u629e\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u3001\u5229\u7528\u53ef\u80fd\u306a\u30ce\u30fc\u30c9\u3092\u305d\u306e\u30ed\u30fc\u30eb\u306b\u30bf\u30b0\u4ed8\u3051\u3057\u305f\u308a\u3001\u305d\u306e\u30ed\u30fc\u30eb\u306b\u5272\u308a\u5f53\u3066\u6e08\u307f\u306e\u30ce\u30fc\u30c9\u306e\u30bf\u30b0\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u7279\u5b9a\u306e\u30ed\u30fc\u30eb\u3067\u300c\u30ce\u30fc\u30c9\u306e\u5272\u308a\u5f53\u3066\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u305d\u306e\u9078\u629e\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u958b\u304d\u3001\u30ce\u30fc\u30c9\u306e\u5272\u308a\u5f53\u3066\u304c\u958b\u59cb\u3057\u307e\u3059\u3002\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30ed\u30fc\u30eb\u56fa\u6709\u306e\u8a2d\u5b9a\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u5404\u30ed\u30fc\u30eb\u3067\u30b5\u30fc\u30d3\u30b9\u3092\u69cb\u6210\u3057\u305f\u308a\u3001\u5404\u30ed\u30fc\u30eb\u306b\u95a2\u9023\u3059\u308b\u7279\u5b9a\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u5404\u30ed\u30fc\u30eb\u306e\u53f3\u4e0a\u306b\u3042\u308b\u925b\u7b46\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30ed\u30fc\u30eb\u56fa\u6709\u306e\u8a2d\u5b9a\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002"", ""DeploymentPlan.deploymentStepTooltip"": ""\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30aa\u30fc\u30d0\u30fc\u30af\u30e9\u30a6\u30c9\u306e\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u884c\u3044\u307e\u3059\u3002\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u304c\u958b\u59cb\u3059\u308b\u3068\u3001director \u306f\u9032\u6357\u72b6\u6cc1\u3092\u8ffd\u8de1\u3057\u3066\u3001\u5b8c\u4e86\u6e08\u307f\u3001\u5b9f\u884c\u4e2d\u3001\u5931\u6557\u3057\u305f\u30b9\u30c6\u30c3\u30d7\u306e\u30ec\u30dd\u30fc\u30c8\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001director \u306f\u73fe\u5728\u306e\u30aa\u30fc\u30d0\u30fc\u30af\u30e9\u30a6\u30c9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3068\u3001\u30aa\u30fc\u30d0\u30fc\u30af\u30e9\u30a6\u30c9\u3068\u306e\u5bfe\u8a71\u306b\u4f7f\u7528\u3059\u308b\u30ed\u30b0\u30a4\u30f3\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u3092\u958b\u59cb\u3059\u308b\u306b\u306f\u3001\u300c\u30c7\u30d7\u30ed\u30a4\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002"", ""DeploymentPlan.hardwareStepTooltip"": ""\u3053\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u306f\u3001\u30ce\u30fc\u30c9\u306e\u767b\u9332\u3068\u30a4\u30f3\u30c8\u30ed\u30b9\u30da\u30af\u30b7\u30e7\u30f3\u3092\u884c\u3044\u307e\u3059\u3002\u30ce\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u306b\u306f\u3001\u5404\u30ce\u30fc\u30c9\u306e\u96fb\u6e90\u7ba1\u7406\u306e\u8a73\u7d30\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u30a4\u30f3\u30c8\u30ed\u30b9\u30da\u30af\u30b7\u30e7\u30f3\u304a\u3088\u3073\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306e\u6bb5\u968e\u306b director \u304c\u30ce\u30fc\u30c9\u3092\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u767b\u9332\u306e\u5f8c\u306b\u306f\u3001\u30ce\u30fc\u30c9\u306e\u30a4\u30f3\u30c8\u30ed\u30b9\u30da\u30af\u30b7\u30e7\u30f3\u3092\u884c\u3044\u3001\u5404\u30ce\u30fc\u30c9\u304c\u4f7f\u7528\u3059\u308b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3092\u7279\u5b9a\u3057\u3066\u3001\u305d\u306e\u30ce\u30fc\u30c9\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u767b\u9332\u3068\u30a4\u30f3\u30c8\u30ed\u30b9\u30da\u30af\u30b7\u30e7\u30f3\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u305d\u306e\u30ce\u30fc\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30af\u30e9\u30a6\u30c9\u5185\u306e\u30ed\u30fc\u30eb\u306b\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"", ""EnvironmentConfiguration.saveAndClose"": ""\u4fdd\u5b58\u3057\u3066\u9589\u3058\u308b"",",,9,0
openstack%2Fheat~master~I7c3be2f02fb8bc030dff80f21e99f33db22f42a1,openstack/heat,master,I7c3be2f02fb8bc030dff80f21e99f33db22f42a1,Use a StackDefinition to store the stack definition,MERGED,2017-02-17 00:34:39.000000000,2017-04-05 14:21:35.000000000,2017-04-05 14:21:35.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 8833}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-02-17 00:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/717a0b8d1f1a19ff16f554cae0c1258149046990', 'message': 'Use a StackDefinition to store the stack definition\n\nGroup the data currently available in the Stack class into a\nStackDefinition and proxy requests for it.\n\nChange-Id: I7c3be2f02fb8bc030dff80f21e99f33db22f42a1\nPartially-Implements: blueprint stack-definition'}, {'number': 2, 'created': '2017-02-18 20:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/09b6e9b85f504e2d0d1d34a41dc584af42221dda', 'message': 'Use a StackDefinition to store the stack definition\n\nGroup the data currently available in the Stack class into a\nStackDefinition and proxy requests for it.\n\nChange-Id: I7c3be2f02fb8bc030dff80f21e99f33db22f42a1\nPartially-Implements: blueprint stack-definition\n'}, {'number': 3, 'created': '2017-02-18 21:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/132f099c91e5fd3559216ef7afc3173a2eec7e50', 'message': 'Use a StackDefinition to store the stack definition\n\nGroup the data currently available in the Stack class into a\nStackDefinition and proxy requests for it.\n\nChange-Id: I7c3be2f02fb8bc030dff80f21e99f33db22f42a1\nPartially-Implements: blueprint stack-definition\n'}, {'number': 4, 'created': '2017-02-24 15:39:23.000000000', 'files': ['heat/tests/test_template.py', 'heat/engine/stack.py', 'heat/engine/stk_defn.py', 'heat/tests/test_engine_api_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2cf7af7deb15119859fd7a3e9e32f8623dcb2214', 'message': 'Use a StackDefinition to store the stack definition\n\nGroup the data currently available in the Stack class into a\nStackDefinition and proxy requests for it.\n\nChange-Id: I7c3be2f02fb8bc030dff80f21e99f33db22f42a1\nPartially-Implements: blueprint stack-definition\n'}]",0,435169,2cf7af7deb15119859fd7a3e9e32f8623dcb2214,19,5,4,4257,,,0,"Use a StackDefinition to store the stack definition

Group the data currently available in the Stack class into a
StackDefinition and proxy requests for it.

Change-Id: I7c3be2f02fb8bc030dff80f21e99f33db22f42a1
Partially-Implements: blueprint stack-definition
",git fetch https://review.opendev.org/openstack/heat refs/changes/69/435169/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_template.py', 'heat/engine/stack.py', 'heat/engine/stk_defn.py', 'heat/tests/test_engine_api_utils.py']",4,717a0b8d1f1a19ff16f554cae0c1258149046990,bp/stack-definition, res.stack.defn._parent_info = parent_rsrc.ParentResourceProxy(, res.stack._parent_info = parent_rsrc.ParentResourceProxy(,65,25
openstack%2Fcinder~master~I3d68e360ab2030aa55cfb66f9663fc3772b141e1,openstack/cinder,master,I3d68e360ab2030aa55cfb66f9663fc3772b141e1,Reduce code duplication,MERGED,2017-04-04 08:53:44.000000000,2017-04-05 14:19:20.000000000,2017-04-04 16:20:44.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18599}, {'_account_id': 18600}, {'_account_id': 18602}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 23276}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}]","[{'number': 1, 'created': '2017-04-04 08:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e9293db1c6e57d180d572df4dd07658260e2186', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(in volume/drivers/dell_emc/vmax/utils.py)\n\nChange-Id: I3d68e360ab2030aa55cfb66f9663fc3772b141e1\n'}, {'number': 2, 'created': '2017-04-04 10:22:20.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/886ee081066cac639a4306e7117f6dd93ada7c7d', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(in volume/drivers/dell_emc/vmax/utils.py)\n\nChange-Id: I3d68e360ab2030aa55cfb66f9663fc3772b141e1\n'}]",0,453066,886ee081066cac639a4306e7117f6dd93ada7c7d,49,24,2,18603,,,0,"Reduce code duplication

Reduced source code by extracting duplicated code
(in volume/drivers/dell_emc/vmax/utils.py)

Change-Id: I3d68e360ab2030aa55cfb66f9663fc3772b141e1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/453066/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/vmax/utils.py'],1,1e9293db1c6e57d180d572df4dd07658260e2186,," def _find_service(self, conn, instance_name, service_type, storageSystemName): """"""Get service with given storage system name. :param instance_name: instance name :param service_type: message into the log foundService = None services = conn.EnumerateInstanceNames(instance_name) for service in services: if storageSystemName == service['SystemName']: foundService = service LOG.debug(""Found %(service_type)s Service: %(service)s."", {'service_type': service_type, 'service': service}) if foundService is None: exceptionMessage = (_(""%(service_type)s not found on %(storage)s."") % {'service_type': service_type, 'storage': storageSystemName}) return foundService def find_storage_configuration_service(self, conn, storageSystemName): #Get storage configuration service with given storage system name. return self._find_service(conn, 'EMC_StorageConfigurationService', 'Storage Configuration Service', storageSystemName) #Get the controller config by using the storage service name. return self._find_service(conn, 'EMC_ControllerConfigurationService', 'Controller Configuration Service', storageSystemName) #Given the storage system name, get the element composition service. return self._find_service(conn, 'Symm_ElementCompositionService', 'Element Composition Service', storageSystemName) #Given the storage system name, get the storage relocation service. return self._find_service(conn, 'Symm_StorageRelocationService', 'Element Composition Service', storageSystemName) #Given the storage system name, get the storage hardware service. return self._find_service(conn, 'EMC_StorageHardwareIDManagementService', 'Storage Hardware ID Management Service', storageSystemName) #Given the storage system name, get the replication service. return self._find_service(conn, 'EMC_ReplicationService', 'Replication Service', storageSystemName)"," def find_storage_configuration_service(self, conn, storageSystemName): """"""Get storage configuration service with given storage system name. foundConfigService = None configservices = conn.EnumerateInstanceNames( 'EMC_StorageConfigurationService') for configservice in configservices: if storageSystemName == configservice['SystemName']: foundConfigService = configservice LOG.debug(""Found Storage Configuration Service: "" ""%(configservice)s."", {'configservice': configservice}) if foundConfigService is None: exceptionMessage = (_(""Storage Configuration Service not found "" ""on %(storageSystemName)s."") % {'storageSystemName': storageSystemName}) return foundConfigService """"""Get the controller config by using the storage service name. Given the storage system name, get the controller configuration service. :param conn: connection to the ecom server :param storageSystemName: the storage system name :returns: foundconfigService :raises: VolumeBackendAPIException """""" foundConfigService = None configservices = conn.EnumerateInstanceNames( 'EMC_ControllerConfigurationService') for configservice in configservices: if storageSystemName == configservice['SystemName']: foundConfigService = configservice LOG.debug(""Found Controller Configuration Service: "" ""%(configservice)s."", {'configservice': configservice}) break if foundConfigService is None: exceptionMessage = (_(""Controller Configuration Service not found "" ""on %(storageSystemName)s."") % {'storageSystemName': storageSystemName}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException(data=exceptionMessage) return foundConfigService """"""Given the storage system name, get the element composition service. :param conn: the connection to the ecom server :param storageSystemName: the storage system name :returns: foundElementCompositionService :raises: VolumeBackendAPIException """""" foundElementCompositionService = None elementCompositionServices = conn.EnumerateInstanceNames( 'Symm_ElementCompositionService') for elementCompositionService in elementCompositionServices: if storageSystemName == elementCompositionService['SystemName']: foundElementCompositionService = elementCompositionService LOG.debug( ""Found Element Composition Service: "" ""%(elementCompositionService)s."", { 'elementCompositionService': elementCompositionService}) break if foundElementCompositionService is None: exceptionMessage = (_(""Element Composition Service not found "" ""on %(storageSystemName)s."") % {'storageSystemName': storageSystemName}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException(data=exceptionMessage) return foundElementCompositionService """"""Given the storage system name, get the storage relocation service. :param conn: the connection to the ecom server :param storageSystemName: the storage system name :returns: foundStorageRelocationService :raises: VolumeBackendAPIException """""" foundStorageRelocationService = None storageRelocationServices = conn.EnumerateInstanceNames( 'Symm_StorageRelocationService') for storageRelocationService in storageRelocationServices: if storageSystemName == storageRelocationService['SystemName']: foundStorageRelocationService = storageRelocationService LOG.debug( ""Found Element Composition Service: "" ""%(storageRelocationService)s."", {'storageRelocationService': storageRelocationService}) break if foundStorageRelocationService is None: exceptionMessage = (_(""Storage Relocation Service not found "" ""on %(storageSystemName)s."") % {'storageSystemName': storageSystemName}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException(data=exceptionMessage) return foundStorageRelocationService """"""Given the storage system name, get the storage hardware service. :param conn: the connection to the ecom server :param storageSystemName: the storage system name :returns: foundStorageRelocationService :raises: VolumeBackendAPIException """""" foundHardwareService = None storageHardwareservices = conn.EnumerateInstanceNames( 'EMC_StorageHardwareIDManagementService') for storageHardwareservice in storageHardwareservices: if storageSystemName == storageHardwareservice['SystemName']: foundHardwareService = storageHardwareservice LOG.debug(""Found Storage Hardware ID Management Service:"" ""%(storageHardwareservice)s."", {'storageHardwareservice': storageHardwareservice}) break if foundHardwareService is None: exceptionMessage = (_(""Storage HardwareId mgmt Service not found "" ""on %(storageSystemName)s."") % {'storageSystemName': storageSystemName}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException(data=exceptionMessage) return foundHardwareService """"""Given the storage system name, get the replication service. :param conn: the connection to the ecom server :param storageSystemName: the storage system name :returns: foundRepService :raises: VolumeBackendAPIException """""" foundRepService = None repservices = conn.EnumerateInstanceNames( 'EMC_ReplicationService') for repservice in repservices: if storageSystemName == repservice['SystemName']: foundRepService = repservice LOG.debug(""Found Replication Service:"" ""%(repservice)s"", {'repservice': repservice}) break if foundRepService is None: exceptionMessage = (_(""Replication Service not found "" ""on %(storageSystemName)s."") % {'storageSystemName': storageSystemName}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException(data=exceptionMessage) return foundRepService",44,150
openstack%2Fpython-zaqarclient~master~I1c6d4e4467c16f3a6549a59dd491c06a3af83c0e,openstack/python-zaqarclient,master,I1c6d4e4467c16f3a6549a59dd491c06a3af83c0e,Don not show 'capabilities' if not specify '--detailed',MERGED,2017-04-05 03:19:10.000000000,2017-04-05 14:14:04.000000000,2017-04-05 14:14:04.000000000,"[{'_account_id': 3}, {'_account_id': 8846}, {'_account_id': 15054}, {'_account_id': 22998}]","[{'number': 1, 'created': '2017-04-05 03:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/27ce1a730a14702c7b56eb69993c124b42cfb4eb', 'message': ""Don not show 'capabilities' if not specify '--detailed'\n\nCloses-Bug: #1679892\n\nChange-Id: I1c6d4e4467c16f3a6549a59dd491c06a3af83c0e\n""}, {'number': 2, 'created': '2017-04-05 07:52:47.000000000', 'files': ['zaqarclient/queues/v1/cli.py'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/cbc572fdde7d52e835a331d3ab9e0008fee9f8ee', 'message': ""Don not show 'capabilities' if not specify '--detailed'\n\nCloses-Bug: #1679892\n\nChange-Id: I1c6d4e4467c16f3a6549a59dd491c06a3af83c0e\n""}]",2,453443,cbc572fdde7d52e835a331d3ab9e0008fee9f8ee,11,4,2,6484,,,0,"Don not show 'capabilities' if not specify '--detailed'

Closes-Bug: #1679892

Change-Id: I1c6d4e4467c16f3a6549a59dd491c06a3af83c0e
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/43/453443/2 && git format-patch -1 --stdout FETCH_HEAD,['zaqarclient/queues/v1/cli.py'],1,27ce1a730a14702c7b56eb69993c124b42cfb4eb,bug/1679892," columns = (""Name"", 'Pool') if parsed_args.detailed: columns = (""Name"", 'Pool', 'Capabilities') "," columns = (""Name"", 'Pool', 'Capabilities')",5,1
openstack%2Ffreezer-api~master~I70dc2bc0baee52ee8bc869ee3e9d2631bbfceee4,openstack/freezer-api,master,I70dc2bc0baee52ee8bc869ee3e9d2631bbfceee4,Use bindep to define binary deps,MERGED,2017-04-04 22:27:32.000000000,2017-04-05 14:10:31.000000000,2017-04-05 10:41:29.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}]","[{'number': 1, 'created': '2017-04-04 22:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6c6c3d35e2a1e83385af8c6bb8836ea1d5a7f566', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I70dc2bc0baee52ee8bc869ee3e9d2631bbfceee4\n'}, {'number': 2, 'created': '2017-04-04 22:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/0ee7efbd7d6b592bbe2f919110b7bdeb2b27bd12', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I70dc2bc0baee52ee8bc869ee3e9d2631bbfceee4\n'}, {'number': 3, 'created': '2017-04-04 22:58:34.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a17cd977e844d21e95293bb7ce6756ce1030c72f', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I70dc2bc0baee52ee8bc869ee3e9d2631bbfceee4\n'}]",0,453358,a17cd977e844d21e95293bb7ce6756ce1030c72f,11,3,3,22405,,,0,"Use bindep to define binary deps

Rely on infra [0] to install only those that we need for our
tests.

[0] http://docs.openstack.org/infra/bindep/index.html

Change-Id: I70dc2bc0baee52ee8bc869ee3e9d2631bbfceee4
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/58/453358/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6c6c3d35e2a1e83385af8c6bb8836ea1d5a7f566,bindep,# A build time dependency libssl-dev [platform:dpkg test] openssl-devel [platform:rpm test] mariadb [platform:rpm test] mariadb-server [platform:rpm test] mysql-client [platform:dpkg test] mysql-server [platform:dpkg test] # these are needed to compile Python dependencies from sources python-dev [platform:dpkg test] python3-all-dev [platform:dpkg !platform:ubuntu-precise test] python-devel [platform:rpm test] python3-devel [platform:rpm test] build-essential [platform:dpkg test] ,,13,0
openstack%2Ffreezer-web-ui~master~I7ebf64fbd13d79029e76ec30ba311daa69724c1e,openstack/freezer-web-ui,master,I7ebf64fbd13d79029e76ec30ba311daa69724c1e,Use bindep to define binary deps,MERGED,2017-04-04 23:32:35.000000000,2017-04-05 14:10:21.000000000,2017-04-05 10:38:19.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}]","[{'number': 1, 'created': '2017-04-04 23:32:35.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/58a58dd3aa7ddee7dae4ab55e476a11f19db2e37', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: I7ebf64fbd13d79029e76ec30ba311daa69724c1e\n'}]",0,453374,58a58dd3aa7ddee7dae4ab55e476a11f19db2e37,8,3,1,22405,,,0,"Use bindep to define binary deps

Rely on infra [0] to install only those that we need for our
tests.

[0] http://docs.openstack.org/infra/bindep/index.html

Change-Id: I7ebf64fbd13d79029e76ec30ba311daa69724c1e
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/74/453374/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,58a58dd3aa7ddee7dae4ab55e476a11f19db2e37,bindep,# A build time dependency # these are needed to compile Python dependencies from sources python-dev [platform:dpkg test] python3-all-dev [platform:dpkg !platform:ubuntu-precise test] python-devel [platform:rpm test] python3-devel [platform:rpm test] build-essential [platform:dpkg test] # these are needed by infra for python-* jobs mariadb [platform:rpm test] mariadb-server [platform:rpm test] mysql-client [platform:dpkg test] mysql-server [platform:dpkg test] ,,13,0
openstack%2Fpython-freezerclient~master~Ifc00a815263008bf5880ce36f5ac20f29b5b6f5b,openstack/python-freezerclient,master,Ifc00a815263008bf5880ce36f5ac20f29b5b6f5b,Use bindep to define binary deps,MERGED,2017-04-04 23:32:55.000000000,2017-04-05 14:09:42.000000000,2017-04-05 10:21:39.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 16768}]","[{'number': 1, 'created': '2017-04-04 23:32:55.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/3f301ee3436bda36a8a8302719eefb972ba3690c', 'message': 'Use bindep to define binary deps\n\nRely on infra [0] to install only those that we need for our\ntests.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\nChange-Id: Ifc00a815263008bf5880ce36f5ac20f29b5b6f5b\n'}]",0,453375,3f301ee3436bda36a8a8302719eefb972ba3690c,8,4,1,22405,,,0,"Use bindep to define binary deps

Rely on infra [0] to install only those that we need for our
tests.

[0] http://docs.openstack.org/infra/bindep/index.html

Change-Id: Ifc00a815263008bf5880ce36f5ac20f29b5b6f5b
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/75/453375/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,3f301ee3436bda36a8a8302719eefb972ba3690c,bindep,# A build time dependency # these are needed to compile Python dependencies from sources python-dev [platform:dpkg test] python3-all-dev [platform:dpkg !platform:ubuntu-precise test] python-devel [platform:rpm test] python3-devel [platform:rpm test] build-essential [platform:dpkg test] # these are needed by infra for python-* jobs mariadb [platform:rpm test] mariadb-server [platform:rpm test] mysql-client [platform:dpkg test] mysql-server [platform:dpkg test] ,,13,0
openstack%2Fbifrost~master~Id1cd63849ebe3b7f056437705cff932cc2bc43e2,openstack/bifrost,master,Id1cd63849ebe3b7f056437705cff932cc2bc43e2,Package requirements role.,NEW,2017-03-30 10:19:32.000000000,2017-04-05 14:06:26.000000000,,"[{'_account_id': 3}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22474}, {'_account_id': 25401}]","[{'number': 1, 'created': '2017-03-30 10:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d592501fac8b129de15b4bd13001d597efed1e40', 'message': ""Package requirements role.\n\nRe-write to keep Ironic and Keystone's package requirements in a single place.\n\nChange-Id: Id1cd63849ebe3b7f056437705cff932cc2bc43e2\n""}, {'number': 2, 'created': '2017-03-31 08:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3dbd9ecdb2fd3813369f6b9e5b934cc382e3f6fe', 'message': ""Package requirements role.\n\nRe-write to keep Ironic and Keystone's package requirements in a single place.\n\nChange-Id: Id1cd63849ebe3b7f056437705cff932cc2bc43e2\n""}, {'number': 3, 'created': '2017-03-31 09:31:46.000000000', 'files': ['playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-requirements/tasks/main.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-ironic-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/meta/main.yml', 'playbooks/roles/bifrost-ironic-install/meta/main.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-requirements/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-keystone-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Ubuntu_16.04.yml', 'releasenotes/notes/required-packages-role-642f918ea38223f0.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d82919e63819bb0b5e03bbc36b53c4bd1cd6192c', 'message': ""Package requirements role.\n\nRe-write to keep Ironic and Keystone's package requirements in a single place.\n\nChange-Id: Id1cd63849ebe3b7f056437705cff932cc2bc43e2\n""}]",3,451741,d82919e63819bb0b5e03bbc36b53c4bd1cd6192c,17,5,3,25401,,,0,"Package requirements role.

Re-write to keep Ironic and Keystone's package requirements in a single place.

Change-Id: Id1cd63849ebe3b7f056437705cff932cc2bc43e2
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/41/451741/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-cleanup-install/tasks/main.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-requirements/tasks/main.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-ironic-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-keystone-install/meta/main.yml', 'playbooks/roles/bifrost-cleanup-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/meta/main.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-keystone-install/defaults/dummy-defaults.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Fedora_22.yml', 'playbooks/roles/bifrost-keystone-install/tasks/main.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-requirements/defaults/keystone/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_15.10.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Ubuntu_15.04.yml', 'playbooks/roles/bifrost-requirements/defaults/ironic/required_defaults_Ubuntu_16.04.yml', 'releasenotes/notes/required-packages-role-642f918ea38223f0.yaml', 'playbooks/roles/bifrost-cleanup-install/meta/main.yml']",30,d592501fac8b129de15b4bd13001d597efed1e40,install-requirements,--- dependencies: - { role: bifrost-requirements } ,,104,81
openstack%2Fopenstack-ansible~master~I5b7944c2298fb032f809b0e43989a971ee77ac14,openstack/openstack-ansible,master,I5b7944c2298fb032f809b0e43989a971ee77ac14,Fix rally installation inside utility container,MERGED,2017-03-28 14:45:36.000000000,2017-04-05 14:05:45.000000000,2017-04-05 14:05:45.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}, {'_account_id': 10881}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 23182}]","[{'number': 1, 'created': '2017-03-28 14:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c3e82c664e50ad471cec1d14910b709b65c6f4d3', 'message': 'Fix rally installation inside utility container\n\nRally installation failed because variables for venv download are not\novveriden by default for the utility container which is where rally is\ninstalled by default.\n\nChange-Id: I5b7944c2298fb032f809b0e43989a971ee77ac14\n'}, {'number': 2, 'created': '2017-04-05 11:22:11.000000000', 'files': ['playbooks/inventory/group_vars/utility_all.yml', 'playbooks/inventory/group_vars/rally_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0a01e1ee4f65cc673073027a01cf55c04e87a692', 'message': 'Fix rally installation inside utility container\n\nRally installation failed because variables for venv download are not\novveriden by default for the utility container which is where rally is\ninstalled by default.\n\nChange-Id: I5b7944c2298fb032f809b0e43989a971ee77ac14\n'}]",0,450823,0a01e1ee4f65cc673073027a01cf55c04e87a692,13,7,2,18552,,,0,"Fix rally installation inside utility container

Rally installation failed because variables for venv download are not
ovveriden by default for the utility container which is where rally is
installed by default.

Change-Id: I5b7944c2298fb032f809b0e43989a971ee77ac14
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/23/450823/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/inventory/group_vars/utility_all.yml'],1,c3e82c664e50ad471cec1d14910b709b65c6f4d3,fix-rally,"rally_venv_tag: ""{{ venv_tag }}"" rally_venv_download_url: ""{{ venv_base_download_url }}/rally-{{ openstack_release }}-{{ ansible_architecture | lower }}.tgz""",,2,0
openstack%2Fpython-tricircleclient~master~Ia564d0e5ec4b1bb63a747df75f282273c21867c7,openstack/python-tricircleclient,master,Ia564d0e5ec4b1bb63a747df75f282273c21867c7,Replace six.iteritems() with .items(),MERGED,2017-03-30 03:10:37.000000000,2017-04-05 13:59:36.000000000,2017-04-05 13:59:36.000000000,"[{'_account_id': 3}, {'_account_id': 8726}, {'_account_id': 11819}]","[{'number': 1, 'created': '2017-03-30 03:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tricircleclient/commit/f93dc279aecc01b73b6fab292de7922db70993b6', 'message': 'Replace six.iteritems() with .items()\n\nChange-Id: Ia564d0e5ec4b1bb63a747df75f282273c21867c7\n'}, {'number': 2, 'created': '2017-03-30 03:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tricircleclient/commit/be7f1bcb36304041e5901694a202322810eaf35b', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using\nsix.iteritems to achieve iterators. We can\nuse dict.items instead, as it will return\niterators in PY3 as well. And dict.items/keys\nwill more readable. 2.In py2, the performance\nabout list should be negligible, see the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ia564d0e5ec4b1bb63a747df75f282273c21867c7\n'}, {'number': 3, 'created': '2017-03-30 03:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tricircleclient/commit/5751c4d1cc7dc8304d94af9124327c4b1f2827c9', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using\nsix.iteritems to achieve iterators. We can\nuse dict.items instead, as it will return\niterators in PY3 as well. And dict.items/keys\nwill more readable. 2.In py2, the performance\nabout list should be negligible, see the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ia564d0e5ec4b1bb63a747df75f282273c21867c7\n'}, {'number': 4, 'created': '2017-04-05 01:49:18.000000000', 'files': ['tricircleclient/v1/base.py', 'tricircleclient/v1/routings_cli.py'], 'web_link': 'https://opendev.org/openstack/python-tricircleclient/commit/0ad3c60e00803ef0ef144740016364e28476611f', 'message': 'Replace six.iteritems() with .items()\n\n1.What is the problem?\nAs mentioned in [1], we should avoid using six.iteritems\nto achieve iterators. In py2, the performance about list\nshould be negligible, please see the link [2].\n\n2.What is the solution to the problem?\nWe can use dict.items instead, as it will return iterators\nin PY3 as well and dict.items/keys will be more readable.\n\n3.What the features need to be implemented to the Tricircle\nto realize the solution?\nNone\n\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ia564d0e5ec4b1bb63a747df75f282273c21867c7\n'}]",0,451632,0ad3c60e00803ef0ef144740016364e28476611f,14,3,4,25165,,,0,"Replace six.iteritems() with .items()

1.What is the problem?
As mentioned in [1], we should avoid using six.iteritems
to achieve iterators. In py2, the performance about list
should be negligible, please see the link [2].

2.What is the solution to the problem?
We can use dict.items instead, as it will return iterators
in PY3 as well and dict.items/keys will be more readable.

3.What the features need to be implemented to the Tricircle
to realize the solution?
None

[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: Ia564d0e5ec4b1bb63a747df75f282273c21867c7
",git fetch https://review.opendev.org/openstack/python-tricircleclient refs/changes/32/451632/2 && git format-patch -1 --stdout FETCH_HEAD,"['tricircleclient/v1/base.py', 'tricircleclient/v1/routings_cli.py']",2,f93dc279aecc01b73b6fab292de7922db70993b6,," result.update((k, v) for k, v in data.items() if v)"," result.update((k, v) for k, v in six.iteritems(data) if v)",2,2
openstack%2Fshade~master~Iaea1c41e8e0ae504cb080d7d37407de12be96fd1,openstack/shade,master,Iaea1c41e8e0ae504cb080d7d37407de12be96fd1,Add ability to configure extra_specs to be off,MERGED,2017-04-02 20:57:09.000000000,2017-04-05 13:56:32.000000000,2017-04-05 13:56:32.000000000,"[{'_account_id': 3}, {'_account_id': 3099}]","[{'number': 1, 'created': '2017-04-02 20:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/cd3deab1b372ee60610c9b37ab8a9a32c0c5ea3a', 'message': 'Add ability to configure extra_specs to be off\n\nWe fetch flavor extra_specs for each flavor for consistency with old\nbehavior. However, it\'s costly and often just simply not needed.\n\nQuery clouds.yaml for extra client settings and if ""get_flavor_extra_specs"" is\nset to false, set the default for list_flavors to false.\n\nChange-Id: Iaea1c41e8e0ae504cb080d7d37407de12be96fd1\n'}, {'number': 2, 'created': '2017-04-02 22:06:54.000000000', 'files': ['releasenotes/notes/config-flavor-specs-ca712e17971482b6.yaml', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/aa58173f0d60a8f04318b51ff6d1490e7ee10cfb', 'message': 'Add ability to configure extra_specs to be off\n\nWe fetch flavor extra_specs for each flavor for consistency with old\nbehavior. However, it\'s costly and often just simply not needed.\n\nQuery clouds.yaml for extra client settings and if ""get_flavor_extra_specs"" is\nset to false, set the default for list_flavors to false.\n\nChange-Id: Iaea1c41e8e0ae504cb080d7d37407de12be96fd1\n'}]",0,452568,aa58173f0d60a8f04318b51ff6d1490e7ee10cfb,9,2,2,2,,,0,"Add ability to configure extra_specs to be off

We fetch flavor extra_specs for each flavor for consistency with old
behavior. However, it's costly and often just simply not needed.

Query clouds.yaml for extra client settings and if ""get_flavor_extra_specs"" is
set to false, set the default for list_flavors to false.

Change-Id: Iaea1c41e8e0ae504cb080d7d37407de12be96fd1
",git fetch https://review.opendev.org/openstack/shade refs/changes/68/452568/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/config-flavor-specs-ca712e17971482b6.yaml', 'shade/openstackcloud.py']",2,cd3deab1b372ee60610c9b37ab8a9a32c0c5ea3a,452568," self._extra_config = config.get_extra_config( 'shade', { 'get_flavor_extra_specs': True, }) def list_flavors(self, get_extra=None): :param get_extra: Whether or not to fetch extra specs for each flavor. Defaults to True. Default behavior value can be overridden in clouds.yaml by setting shade.get_extra_specs to False. if get_extra is None: get_extra = self._extra_config['get_flavor_extra_specs']"," def list_flavors(self, get_extra=True):",15,1
openstack%2Fproject-config~master~I8b2fbe875a2c6cd9d036ba554c4c94c1fcc1b77d,openstack/project-config,master,I8b2fbe875a2c6cd9d036ba554c4c94c1fcc1b77d,Allow developers to recheck patches with emotion in the check pipeline,ABANDONED,2017-03-31 15:16:59.000000000,2017-04-05 13:54:28.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2592}, {'_account_id': 2750}, {'_account_id': 6482}, {'_account_id': 6816}, {'_account_id': 7037}, {'_account_id': 9061}, {'_account_id': 10343}, {'_account_id': 12807}, {'_account_id': 14119}, {'_account_id': 14511}, {'_account_id': 14611}, {'_account_id': 14985}, {'_account_id': 15993}, {'_account_id': 16963}]","[{'number': 1, 'created': '2017-03-31 15:16:59.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f1364e0847e95ae0ceb09cf9e5cd342dd986fe85', 'message': 'Allow developers to recheck patches with emotion in the check pipeline\n\nDevelopers are passionate about their software.\nThe recheck and reverify statements serve their purpose well but are\ngeneric and boring.\n\nThis patch adds a few options to recheck patches with emojis in the\ncheck pipeline.\nWe can definitely support and add more as time goes on.\n\nChange-Id: I8b2fbe875a2c6cd9d036ba554c4c94c1fcc1b77d\n'}]",3,452247,f1364e0847e95ae0ceb09cf9e5cd342dd986fe85,25,16,1,9061,,,0,"Allow developers to recheck patches with emotion in the check pipeline

Developers are passionate about their software.
The recheck and reverify statements serve their purpose well but are
generic and boring.

This patch adds a few options to recheck patches with emojis in the
check pipeline.
We can definitely support and add more as time goes on.

Change-Id: I8b2fbe875a2c6cd9d036ba554c4c94c1fcc1b77d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/452247/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,f1364e0847e95ae0ceb09cf9e5cd342dd986fe85,, comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck|reverify|\_()_/|( |( ), comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck|reverify),1,1
openstack%2Fnova~master~Ib32b7c21da17670028316a21e161caf31ae53530,openstack/nova,master,Ib32b7c21da17670028316a21e161caf31ae53530,Be honest with users when no valid host was found,ABANDONED,2017-03-31 18:02:58.000000000,2017-04-05 13:54:10.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6482}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15519}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16845}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16907}, {'_account_id': 16984}, {'_account_id': 20040}, {'_account_id': 22210}]","[{'number': 1, 'created': '2017-03-31 18:02:58.000000000', 'files': ['nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8135852ab77de5d3f47abf38075f35af80ec3b74', 'message': ""Be honest with users when no valid host was found\n\nThis exception is pretty much the fallback default exception when\nsomething went wrong.\n\nWe can assume as such that the error is raised when the system does\nnot have a clue what happened and gave up.\nPerhaps it's a network issue, maybe a service isn't responding properly.\n\nWho knows ? \\_()_/\n\nChange-Id: Ib32b7c21da17670028316a21e161caf31ae53530\n""}]",2,452279,8135852ab77de5d3f47abf38075f35af80ec3b74,25,21,1,9061,,,0,"Be honest with users when no valid host was found

This exception is pretty much the fallback default exception when
something went wrong.

We can assume as such that the error is raised when the system does
not have a clue what happened and gave up.
Perhaps it's a network issue, maybe a service isn't responding properly.

Who knows ? \_()_/

Change-Id: Ib32b7c21da17670028316a21e161caf31ae53530
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/452279/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/exception.py'],1,8135852ab77de5d3f47abf38075f35af80ec3b74,," msg_fmt = _(""Something went wrong... We have no idea what happened \_()_/"")"," msg_fmt = _(""No valid host was found. %(reason)s"")",1,1
openstack%2Fpuppet-tripleo~master~I09f4091ee7a2221b26249959ea2927090d36ba0f,openstack/puppet-tripleo,master,I09f4091ee7a2221b26249959ea2927090d36ba0f,Certmonger/rabbitmq: Remove parameter doc for unexisting parameter,MERGED,2017-04-05 06:14:16.000000000,2017-04-05 13:47:50.000000000,2017-04-05 13:47:50.000000000,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-04-05 06:14:16.000000000', 'files': ['manifests/certmonger/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ec7f06406000e21dceacb7665f9fed4abe2f78b5', 'message': ""Certmonger/rabbitmq: Remove parameter doc for unexisting parameter\n\nThis parameter was used at some point in the implementation but ended up\nnot being needed in favor of getting this information from the puppet\nmanifest. So it's removed as the parameter doesn't actually exist.\n\nChange-Id: I09f4091ee7a2221b26249959ea2927090d36ba0f\n""}]",0,453472,ec7f06406000e21dceacb7665f9fed4abe2f78b5,8,5,1,10873,,,0,"Certmonger/rabbitmq: Remove parameter doc for unexisting parameter

This parameter was used at some point in the implementation but ended up
not being needed in favor of getting this information from the puppet
manifest. So it's removed as the parameter doesn't actually exist.

Change-Id: I09f4091ee7a2221b26249959ea2927090d36ba0f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/72/453472/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/rabbitmq.pp'],1,ec7f06406000e21dceacb7665f9fed4abe2f78b5,rabbitmq-file-owner,,# [*file_owner*] # (Optional) The user which the certificate and key files belong to. # Defaults to 'root' #,0,4
openstack%2Fgnocchi~master~I86ef38901b771b25b166dc106aec6781d00c86bb,openstack/gnocchi,master,I86ef38901b771b25b166dc106aec6781d00c86bb,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:33:01.000000000,2017-04-05 13:42:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-04-05 01:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/6793f7684a7a47689d167d1c10aeaa67256afdb3', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I86ef38901b771b25b166dc106aec6781d00c86bb\nSem-Ver: api-break\n'}, {'number': 2, 'created': '2017-04-05 11:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/a162614ba425a957dd326f4dcce5b70a18fcc558', 'message': ""Add sem-ver flag so pbr generates correct version\n\ntl;dr : without this Ocata and Pike have the same version causing\npackaging issues.\n\n\nhttps://docs.openstack.org/developer/pbr/#version\n\nBecause projects don't push a tag before milestone 1 (pike-1 here),\ndownstream packages are still building packages by using the version\nfrom Ocata and it causes problems to distros because they can't test\nthe upgrades from Ocata to Pike.\n\nBumping the semver will allow us to test packages upgrades.\nNote: When your version is X.Y.Z, api-break will bump X, and feature\nwill bump Y. In this patch, we bump X because this is the way you\nbump tags over releases.\n\n\nChange-Id: I86ef38901b771b25b166dc106aec6781d00c86bb\nSem-Ver: api-break\n""}]",0,453417,a162614ba425a957dd326f4dcce5b70a18fcc558,5,2,2,3153,,,0,"Add sem-ver flag so pbr generates correct version

tl;dr : without this Ocata and Pike have the same version causing
packaging issues.


https://docs.openstack.org/developer/pbr/#version

Because projects don't push a tag before milestone 1 (pike-1 here),
downstream packages are still building packages by using the version
from Ocata and it causes problems to distros because they can't test
the upgrades from Ocata to Pike.

Bumping the semver will allow us to test packages upgrades.
Note: When your version is X.Y.Z, api-break will bump X, and feature
will bump Y. In this patch, we bump X because this is the way you
bump tags over releases.


Change-Id: I86ef38901b771b25b166dc106aec6781d00c86bb
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/17/453417/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,6793f7684a7a47689d167d1c10aeaa67256afdb3,sem-ver/pike,,,0,0
openstack%2Fnova-powervm~master~Iee6f1e539058343661fbf4ce1ceecf6b274db191,openstack/nova-powervm,master,Iee6f1e539058343661fbf4ce1ceecf6b274db191,Updated from global requirements,MERGED,2017-03-28 21:34:16.000000000,2017-04-05 13:39:33.000000000,2017-04-05 13:39:33.000000000,"[{'_account_id': 3}, {'_account_id': 13883}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-03-28 21:34:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/6b66e03bdb731101b7a7b6bc407980ef77be3576', 'message': 'Updated from global requirements\n\nChange-Id: Iee6f1e539058343661fbf4ce1ceecf6b274db191\n'}]",0,451045,6b66e03bdb731101b7a7b6bc407980ef77be3576,11,3,1,11131,,,0,"Updated from global requirements

Change-Id: Iee6f1e539058343661fbf4ce1ceecf6b274db191
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/45/451045/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6b66e03bdb731101b7a7b6bc407980ef77be3576,openstack/requirements,oslo.log>=3.22.0 # Apache-2.0,oslo.log>=3.11.0 # Apache-2.0,1,1
openstack%2Ftempest~master~Ia956908dff14f15e55687f3daa4789dde096ba41,openstack/tempest,master,Ia956908dff14f15e55687f3daa4789dde096ba41,Merge Cinder v3 base test module into general one,MERGED,2017-04-03 21:13:42.000000000,2017-04-05 13:38:31.000000000,2017-04-04 14:55:56.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}]","[{'number': 1, 'created': '2017-04-03 21:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/635590b390599048311576b30cc379927ac49e98', 'message': 'Merge Cinder v3 base test module into general one\n\nCinder v3 base test module contained some v3 specific test classes\nbut that is not so different from the general one which is used for\nCinder v2 tests.\nWe will use the general test module for Cinder v3 tests also in the\nfuture. So this patch merges Cinder v3 base test module for re-using\nthe v2 tests.\n\nChange-Id: Ia956908dff14f15e55687f3daa4789dde096ba41\n'}, {'number': 2, 'created': '2017-04-04 00:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6083dc39880f48689aa4c64c38e0c0d0db7b5ff8', 'message': 'Merge Cinder v3 base test module into general one\n\nCinder v3 base test module contained some v3 specific test classes\nbut that is not so different from the general one which is used for\nCinder v2 tests.\nWe will use the general test module for Cinder v3 tests also in the\nfuture. So this patch merges Cinder v3 base test module for re-using\nthe v2 tests.\n\nChange-Id: Ia956908dff14f15e55687f3daa4789dde096ba41\n'}, {'number': 3, 'created': '2017-04-04 12:09:52.000000000', 'files': ['tempest/api/volume/v3/test_versions.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/v3/base.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c18908b0dcc281de2d9f8db12304b9157809a6b', 'message': 'Merge Cinder v3 base test module into general one\n\nCinder v3 base test module contained some v3 specific test classes\nbut that is not so different from the general one which is used for\nCinder v2 tests.\nWe will use the general test module for Cinder v3 tests also in the\nfuture. So this patch merges Cinder v3 base test module for re-using\nthe v2 tests.\n\nChange-Id: Ia956908dff14f15e55687f3daa4789dde096ba41\n'}]",0,452955,8c18908b0dcc281de2d9f8db12304b9157809a6b,18,6,3,6167,,,0,"Merge Cinder v3 base test module into general one

Cinder v3 base test module contained some v3 specific test classes
but that is not so different from the general one which is used for
Cinder v2 tests.
We will use the general test module for Cinder v3 tests also in the
future. So this patch merges Cinder v3 base test module for re-using
the v2 tests.

Change-Id: Ia956908dff14f15e55687f3daa4789dde096ba41
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/452955/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/v3/test_versions.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/v3/base.py', 'tempest/api/volume/base.py']",4,635590b390599048311576b30cc379927ac49e98,cinder,"from tempest.api.volume import api_microversion_fixturefrom tempest.lib.common import api_version_utilsclass BaseVolumeTest(api_version_utils.BaseMicroversionTest, tempest.test.BaseTestCase): api_version_utils.check_skip_with_microversion( cls.min_microversion, cls.max_microversion, CONF.volume.min_microversion, CONF.volume.max_microversion) cls.messages_client = cls.os.volume_v3_messages_client cls.versions_client = cls.os.volume_v3_versions_client def setUp(self): super(BaseVolumeTest, self).setUp() self.useFixture(api_microversion_fixture.APIMicroversionFixture( self.request_microversion)) cls.request_microversion = ( api_version_utils.select_request_microversion( cls.min_microversion, CONF.volume.min_microversion)) cls.admin_messages_client = cls.os_adm.volume_v3_messages_client cls.admin_volume_types_client = cls.os_adm.volume_types_v2_client",class BaseVolumeTest(tempest.test.BaseTestCase):,28,71
openstack%2Fbarbican~master~Ie67aae021efc835d4a1fb5bbfffb8761ea41a3b4,openstack/barbican,master,Ie67aae021efc835d4a1fb5bbfffb8761ea41a3b4,Initial commit for Barbican api-ref,MERGED,2017-02-28 14:57:16.000000000,2017-04-05 13:35:01.000000000,2017-04-05 13:35:01.000000000,"[{'_account_id': 3}, {'_account_id': 7764}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16034}, {'_account_id': 16046}, {'_account_id': 22589}, {'_account_id': 25498}]","[{'number': 1, 'created': '2017-02-28 14:57:16.000000000', 'files': ['.gitignore', 'api-ref/source/index.rst', 'test-requirements.txt', 'api-ref/source/orders.inc', 'api-ref/source/secret_metadata.inc', 'api-ref/source/secrets.inc', 'api-ref/source/secretstores.inc', 'api-ref/source/consumers.inc', 'api-ref/source/containers.inc', 'api-ref/source/quotas.inc', 'api-ref/source/conf.py', 'api-ref/source/acls.inc', 'api-ref/source/transportkeys.inc', 'tox.ini', 'api-ref/source/cas.inc'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6300e730d2c13b337068ee182fd2ae4d52b4fa78', 'message': 'Initial commit for Barbican api-ref\n\nChange-Id: Ie67aae021efc835d4a1fb5bbfffb8761ea41a3b4\nCloses-Bug: #1667053\n'}]",0,438991,6300e730d2c13b337068ee182fd2ae4d52b4fa78,13,10,1,21797,,,0,"Initial commit for Barbican api-ref

Change-Id: Ie67aae021efc835d4a1fb5bbfffb8761ea41a3b4
Closes-Bug: #1667053
",git fetch https://review.opendev.org/openstack/barbican refs/changes/91/438991/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'api-ref/source/index.rst', 'test-requirements.txt', 'api-ref/source/orders.inc', 'api-ref/source/secret_metadata.inc', 'api-ref/source/secrets.inc', 'api-ref/source/secretstores.inc', 'api-ref/source/consumers.inc', 'api-ref/source/containers.inc', 'api-ref/source/quotas.inc', 'api-ref/source/conf.py', 'api-ref/source/acls.inc', 'api-ref/source/transportkeys.inc', 'tox.ini', 'api-ref/source/cas.inc']",15,6300e730d2c13b337068ee182fd2ae4d52b4fa78,bug/1667053,,,349,1
openstack%2Fbarbican~master~I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992,openstack/barbican,master,I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992,Updates to Devstack Variables,MERGED,2017-03-28 15:18:18.000000000,2017-04-05 13:34:50.000000000,2017-04-05 13:34:50.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-03-28 15:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fb6d7106b809ad4d5b13e5a59f695ce76e6e37c7', 'message': 'Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 2, 'created': '2017-03-28 17:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7b977c2fd2823a2d1afe98e8bb32872231ea07ad', 'message': 'Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 3, 'created': '2017-03-29 14:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9c1ec6e8730b6bfb9a91bd6dcfa7971d1f8834aa', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 4, 'created': '2017-03-29 15:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ca8a6439aed6da5f7d706ae1818054bbba3a39e1', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 5, 'created': '2017-03-29 18:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7c8ae0eef17d36f2f54270bb7797b309a6f86581', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 6, 'created': '2017-03-31 17:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/79aabe02a90ffb120e2b4c05f67137c87f738464', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 7, 'created': '2017-04-03 02:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c0449720318ba5147c3f6683f34a1571347f6abd', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 8, 'created': '2017-04-03 15:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/cba6e44ed8c4c870e22a22453c693a92b63f3a6a', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 9, 'created': '2017-04-04 14:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b8f34da9f5b9daea38e1981ec6c479b5ac9fa437', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 10, 'created': '2017-04-04 16:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f9b940de2caff96f992a3ce6145e327d925f3f2e', 'message': '(draft, do not merge) Set Devstack Variable Properly\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}, {'number': 11, 'created': '2017-04-04 17:38:37.000000000', 'files': ['devstack/gate_hook.sh', 'functionaltests/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1ffb958c5d560f442b796a71bac5cf871ca9d05e', 'message': 'Updates to Devstack Variables\n\nThe environment variable DEVSTACK_LOCAL_CONFIG can be set by the\ngate directly or through the gate_hook.sh script.  This patch\nchanges gate_hook.sh to append to that variable, instead of settting\nthat variable, so not to overwrite any changes made by the gate\nstartup scripts.\n\nAlso, set the PYTHON environment variable to indicate python3\nis used if indicated by the DEVSTACK_GATE variable.\n\nChange-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992\n'}]",1,450844,1ffb958c5d560f442b796a71bac5cf871ca9d05e,35,5,11,11561,,,0,"Updates to Devstack Variables

The environment variable DEVSTACK_LOCAL_CONFIG can be set by the
gate directly or through the gate_hook.sh script.  This patch
changes gate_hook.sh to append to that variable, instead of settting
that variable, so not to overwrite any changes made by the gate
startup scripts.

Also, set the PYTHON environment variable to indicate python3
is used if indicated by the DEVSTACK_GATE variable.

Change-Id: I28f2fc0bc0a97bf52fa2ba4851a90e87ef22e992
",git fetch https://review.opendev.org/openstack/barbican refs/changes/44/450844/10 && git format-patch -1 --stdout FETCH_HEAD,['devstack/gate_hook.sh'],1,fb6d7106b809ad4d5b13e5a59f695ce76e6e37c7,fix-devstack-cfg,"export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin barbican https://git.openstack.org/openstack/barbican""","export DEVSTACK_LOCAL_CONFIG=""enable_plugin barbican https://git.openstack.org/openstack/barbican""",1,1
openstack%2Foslo.messaging~master~Ie7f4448a103fae448123a05bc92e961aac00d6ec,openstack/oslo.messaging,master,Ie7f4448a103fae448123a05bc92e961aac00d6ec,Mock 'oslo_messaging.notify._impl_routing.LOG' in notifier tests,MERGED,2017-04-04 07:11:50.000000000,2017-04-05 13:28:37.000000000,2017-04-05 13:28:37.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 9796}, {'_account_id': 13294}]","[{'number': 1, 'created': '2017-04-04 07:11:50.000000000', 'files': ['oslo_messaging/tests/notify/test_notifier.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f0b4baa70708fee45a0b11012d872c12a1c6a381', 'message': ""Mock 'oslo_messaging.notify._impl_routing.LOG' in notifier tests\n\nWhen running the tests with concurrency=1, 2 tests fail with:\n\n  AttributeError: Mock object has no attribute 'debug'\n\nand\n\n  AssertionError: Expected 'notify' to be called once. Called 0 times\n\nMocking the LOG object solves the problem.\n\nChange-Id: Ie7f4448a103fae448123a05bc92e961aac00d6ec\nCloses-Bug: #1660393\n""}]",0,453037,f0b4baa70708fee45a0b11012d872c12a1c6a381,8,5,1,7102,,,0,"Mock 'oslo_messaging.notify._impl_routing.LOG' in notifier tests

When running the tests with concurrency=1, 2 tests fail with:

  AttributeError: Mock object has no attribute 'debug'

and

  AssertionError: Expected 'notify' to be called once. Called 0 times

Mocking the LOG object solves the problem.

Change-Id: Ie7f4448a103fae448123a05bc92e961aac00d6ec
Closes-Bug: #1660393
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/37/453037/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/notify/test_notifier.py'],1,f0b4baa70708fee45a0b11012d872c12a1c6a381,bug/1660393," with mock.patch('oslo_messaging.notify.' '_impl_routing.LOG'): self.router._load_notifiers() groups = list(self.router.routing_groups.keys()) groups.sort() self.assertEqual(['group_1', 'group_2'], groups) with mock.patch('oslo_messaging.notify.' '_impl_routing.LOG'): self.notifier.info({}, 'my_event', {}) self.assertFalse(bar_driver.info.called) rpc_driver.notify.assert_called_once_with( {}, mock.ANY, 'INFO', None) rpc2_driver.notify.assert_called_once_with( {}, mock.ANY, 'INFO', None)"," self.router._load_notifiers() groups = list(self.router.routing_groups.keys()) groups.sort() self.assertEqual(['group_1', 'group_2'], groups) self.notifier.info({}, 'my_event', {}) self.assertFalse(bar_driver.info.called) rpc_driver.notify.assert_called_once_with( {}, mock.ANY, 'INFO', None) rpc2_driver.notify.assert_called_once_with( {}, mock.ANY, 'INFO', None)",15,10
openstack%2Ffuel-web~master~I481b80ac07d14480a4c4a17b691e66ad2c1ad8fc,openstack/fuel-web,master,I481b80ac07d14480a4c4a17b691e66ad2c1ad8fc,Get rid of unnecessary default parameter.,ABANDONED,2017-03-31 06:54:12.000000000,2017-04-05 13:26:21.000000000,,"[{'_account_id': 3}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10488}, {'_account_id': 10959}, {'_account_id': 11898}, {'_account_id': 20656}, {'_account_id': 21013}]","[{'number': 1, 'created': '2017-03-31 06:54:12.000000000', 'files': ['nailgun/nailgun/plugins/loaders/files_manager.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/53e6a9110a5a56881aee28c440ce327a665978a5', 'message': 'Get rid of unnecessary default parameter.\n\nThe default loader and dumper are created inside load and dump anyway.\n\nChange-Id: I481b80ac07d14480a4c4a17b691e66ad2c1ad8fc\nCloses-Bug: #1674385\n'}]",0,452063,53e6a9110a5a56881aee28c440ce327a665978a5,42,8,1,21013,,,0,"Get rid of unnecessary default parameter.

The default loader and dumper are created inside load and dump anyway.

Change-Id: I481b80ac07d14480a4c4a17b691e66ad2c1ad8fc
Closes-Bug: #1674385
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/63/452063/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/plugins/loaders/files_manager.py'],1,53e6a9110a5a56881aee28c440ce327a665978a5,bug/1674385,"def deserializer_yaml(raw_data, *args, **kwargs): result = yaml.load(raw_data, **kwargs)def serializer_yaml(data, *args, **kwargs): return yaml.dump(data, **kwargs)","def deserializer_yaml(raw_data, loader=yaml.Loader, *args, **kwargs): result = yaml.load(raw_data, Loader=loader)def serializer_yaml(data, dumper=yaml.SafeDumper, *args, **kwargs): return yaml.dump(data, Dumper=dumper, **kwargs)",4,4
openstack%2Fkolla-ansible~master~I2945a0201a549067cf19d6bd14e724e52585d917,openstack/kolla-ansible,master,I2945a0201a549067cf19d6bd14e724e52585d917,Remove verbose option,ABANDONED,2017-03-29 03:13:02.000000000,2017-04-05 13:17:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-29 03:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b49bc5f979adeffe3682b772234925131ea2680d', 'message': 'Remove verbose option\n\nverbose parameter has been removed, so we should remove releated\nsettings.\n\nChange-Id: I2945a0201a549067cf19d6bd14e724e52585d917\nCloses-Bug: #1677098\n'}, {'number': 2, 'created': '2017-03-30 00:46:35.000000000', 'files': ['specs/ansible-multi.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f3f3a01bcfbf5f0cb77de8ab5aaf3553057e5a7', 'message': 'Remove verbose option\n\nverbose parameter has been removed[0], so we should remove releated\nsettings.\n\n[0] http://git.openstack.org/cgit/openstack/oslo.log/tree/releasenotes/notes/remove-verbose-option-d0d1381e182d1be1.yaml\n\nChange-Id: I2945a0201a549067cf19d6bd14e724e52585d917\nCloses-Bug: #1677098\n'}]",0,451155,2f3f3a01bcfbf5f0cb77de8ab5aaf3553057e5a7,11,5,2,9414,,,0,"Remove verbose option

verbose parameter has been removed[0], so we should remove releated
settings.

[0] http://git.openstack.org/cgit/openstack/oslo.log/tree/releasenotes/notes/remove-verbose-option-d0d1381e182d1be1.yaml

Change-Id: I2945a0201a549067cf19d6bd14e724e52585d917
Closes-Bug: #1677098
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/451155/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/ansible-multi.rst'],1,b49bc5f979adeffe3682b772234925131ea2680d,bug/1677098,, verbose = {{ keystone_verbose }},0,1
openstack%2Fos-vif~master~I8ad697841117c4a0d529d61415cb17e54aadc5aa,openstack/os-vif,master,I8ad697841117c4a0d529d61415cb17e54aadc5aa,Argument should have 2 params,MERGED,2017-03-29 11:18:00.000000000,2017-04-05 13:16:20.000000000,2017-04-05 13:16:19.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 7634}, {'_account_id': 11604}]","[{'number': 1, 'created': '2017-03-29 11:18:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/103dc6c74f5abbdc44db98292634c80c372f1a4b', 'message': 'Argument should have 2 params\n\nCorrecting example\n\nChange-Id: I8ad697841117c4a0d529d61415cb17e54aadc5aa\n'}]",0,451338,103dc6c74f5abbdc44db98292634c80c372f1a4b,8,4,1,14867,,,0,"Argument should have 2 params

Correcting example

Change-Id: I8ad697841117c4a0d529d61415cb17e54aadc5aa
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/38/451338/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,103dc6c74f5abbdc44db98292634c80c372f1a4b,," os_vif.plug(vif, instance_info) os_vif.unplug(vif, instance_info)", os_vif.plug(vif) os_vif.unplug(vif),2,2
openstack%2Fcharm-hacluster~master~Ib42a1e976c05a164f134ea54e4bd390b7d79d55c,openstack/charm-hacluster,master,Ib42a1e976c05a164f134ea54e4bd390b7d79d55c,Fix alphanumeric comparisons for openstack and ubuntu releases,MERGED,2017-03-29 16:52:00.000000000,2017-04-05 13:14:04.000000000,2017-04-05 13:14:04.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-03-29 16:52:00.000000000', 'files': ['hooks/utils.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/core/strutils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e1018cf3b2225b4ed59f0740a191aac6729ea1e1', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n\nChange-Id: Ib42a1e976c05a164f134ea54e4bd390b7d79d55c\nRelated-Bug: #1659575\n'}]",0,451485,e1018cf3b2225b4ed59f0740a191aac6729ea1e1,13,4,1,20870,,,0,"Fix alphanumeric comparisons for openstack and ubuntu releases

- sync charmhelpers with fix-alpha helpers
- fix up code where the alpha comparisons are done

Change-Id: Ib42a1e976c05a164f134ea54e4bd390b7d79d55c
Related-Bug: #1659575
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/85/451485/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/core/strutils.py', 'tox.ini']",16,e1018cf3b2225b4ed59f0740a191aac6729ea1e1,fix-alpha-comparisons-1659575,passenv = HOME TERM AMULET_* CS_API_*,passenv = HOME TERM AMULET_* CS_API_URL,316,35
openstack%2Fcharm-nova-compute~master~Iffd4ed0aecbb966fe493fe0f24bf2422aab55bb6,openstack/charm-nova-compute,master,Iffd4ed0aecbb966fe493fe0f24bf2422aab55bb6,Fix alphanumeric comparisons for openstack and ubuntu releases,MERGED,2017-04-04 17:54:11.000000000,2017-04-05 13:13:58.000000000,2017-04-05 13:13:58.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-04-04 17:54:11.000000000', 'files': ['tests/charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'tests/charmhelpers/contrib/storage/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/python/__init__.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'tests/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'unit_tests/test_nova_compute_utils.py', 'tests/charmhelpers/fetch/archiveurl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'tests/charmhelpers/contrib/storage/linux/utils.py', 'tests/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/basic_deployment.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'tox.ini', 'tests/charmhelpers/contrib/network/__init__.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'tests/charmhelpers/contrib/storage/linux/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'hooks/nova_compute_context.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/fetch/ubuntu.py', 'hooks/nova_compute_utils.py', 'tests/charmhelpers/contrib/python/version.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'tests/charmhelpers/fetch/bzrurl.py', 'tests/charmhelpers/contrib/python/packages.py', 'tests/charmhelpers/contrib/openstack/exceptions.py', 'tests/charmhelpers/contrib/python/debug.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'unit_tests/test_nova_compute_contexts.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/contrib/python/rpdb.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tests/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/fetch/giturl.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2358f94b30349a8543e75179750d1d61dba03a9f', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n- fix tests which assumed mocks would just work on os_release()\n\nChange-Id: Iffd4ed0aecbb966fe493fe0f24bf2422aab55bb6\nRelated-Bug: #1659575\n'}]",0,453276,2358f94b30349a8543e75179750d1d61dba03a9f,10,4,1,20870,,,0,"Fix alphanumeric comparisons for openstack and ubuntu releases

- sync charmhelpers with fix-alpha helpers
- fix up code where the alpha comparisons are done
- fix tests which assumed mocks would just work on os_release()

Change-Id: Iffd4ed0aecbb966fe493fe0f24bf2422aab55bb6
Related-Bug: #1659575
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/76/453276/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'tests/charmhelpers/contrib/storage/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/python/__init__.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'tests/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'unit_tests/test_nova_compute_utils.py', 'tests/charmhelpers/fetch/archiveurl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'tests/charmhelpers/contrib/storage/linux/utils.py', 'tests/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/basic_deployment.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'tox.ini', 'tests/charmhelpers/contrib/network/__init__.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'tests/charmhelpers/contrib/storage/linux/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'hooks/nova_compute_context.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/fetch/ubuntu.py', 'hooks/nova_compute_utils.py', 'tests/charmhelpers/contrib/python/version.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'tests/charmhelpers/fetch/bzrurl.py', 'tests/charmhelpers/contrib/python/packages.py', 'tests/charmhelpers/contrib/openstack/exceptions.py', 'tests/charmhelpers/contrib/python/debug.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'unit_tests/test_nova_compute_contexts.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/contrib/python/rpdb.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tests/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/fetch/giturl.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",58,2358f94b30349a8543e75179750d1d61dba03a9f,fix-alpha-comparisons-1659575," DeletedFile mode=0o0640, 'conf-enabled/99-hardening.conf'), mode=0o0750), DeletedFile(['/var/www/html/index.html'])"," mode=0o0755, 'conf-enabled/hardening.conf'), mode=0o640), ctxt['traceenable'] = settings['hardening']['traceenable']",6243,125
openstack%2Fossa~master~Iead38e4f72cfe54102612a07a4001862cb5fd32c,openstack/ossa,master,Iead38e4f72cfe54102612a07a4001862cb5fd32c,Adds OSSA-2017-003 (CVE-2017-7400),MERGED,2017-03-17 16:49:34.000000000,2017-04-05 13:13:26.000000000,2017-04-05 13:13:26.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 8119}, {'_account_id': 9311}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-03-17 16:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/af104e9e8fb6a71c6c39c9a6e632385d58aa1766', 'message': 'Adds OSSA-2017-002\n\nChange-Id: Iead38e4f72cfe54102612a07a4001862cb5fd32c\nCloses-Bug: #1667086\n'}, {'number': 2, 'created': '2017-03-20 14:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/c0a4d9a690265c9d28464ba46f102124a58e67d7', 'message': 'Adds OSSA-2017-002\n\nChange-Id: Iead38e4f72cfe54102612a07a4001862cb5fd32c\nCloses-Bug: #1667086\n'}, {'number': 3, 'created': '2017-03-28 12:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/42b9a10d06aa580b451506b47de186889c90bc2d', 'message': 'Adds OSSA-2017-003\n\nChange-Id: Iead38e4f72cfe54102612a07a4001862cb5fd32c\nCloses-Bug: #1667086\n'}, {'number': 4, 'created': '2017-03-28 22:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/2b36c9c24abc9e2ee97c5ea44a3de3b9833fd971', 'message': 'Adds OSSA-2017-003\n\nChange-Id: Iead38e4f72cfe54102612a07a4001862cb5fd32c\nCloses-Bug: #1667086\n'}, {'number': 5, 'created': '2017-04-03 13:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/020469a8b6cb7c442848d8f2f97b09974d23d34f', 'message': 'Adds OSSA-2017-003 (CVE-2017-7400)\n\nChange-Id: Iead38e4f72cfe54102612a07a4001862cb5fd32c\nCloses-Bug: #1667086\n'}, {'number': 6, 'created': '2017-04-04 07:11:40.000000000', 'files': ['ossa/OSSA-2017-003.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/d9fb681d40ed9b2ec535b3ffa49451edfd199167', 'message': 'Adds OSSA-2017-003 (CVE-2017-7400)\n\nChange-Id: Iead38e4f72cfe54102612a07a4001862cb5fd32c\nCloses-Bug: #1667086\n'}]",5,447064,d9fb681d40ed9b2ec535b3ffa49451edfd199167,25,5,6,9311,,,0,"Adds OSSA-2017-003 (CVE-2017-7400)

Change-Id: Iead38e4f72cfe54102612a07a4001862cb5fd32c
Closes-Bug: #1667086
",git fetch https://review.opendev.org/openstack/ossa refs/changes/64/447064/3 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2017-002.yaml'],1,af104e9e8fb6a71c6c39c9a6e632385d58aa1766,bug/1667086,"date: 2017-03-17 id: OSSA-2017-002 title: XSS in Horizon federation mappings UI description: > Eric Brown from VMware reported a vulnerability in Horizon. By creating a malicious fedoration mapping, an adminstrator may conduct a persistent XSS attack. All Horizon setups are affected. affected-products: - product: horizon version: "">=9.0.0 <=9.1.1, >=10.0.0 <=10.0.2, ==11.0.0"" vulnerabilities: - cve-id: TBD reporters: - name: Eric Brown affiliation: VMware reported: - TBD issues: links: - https://launchpad.net/bugs/1667086 reviews: ocata: - https://review.openstack.org/442453 newton: - https://review.openstack.org/442454 mitaka: - https://review.openstack.org/442455 ",,35,0
openstack%2Fcharm-ceph-proxy~master~I10e3e689aba490118b84b6b9e58df1ba5632d07d,openstack/charm-ceph-proxy,master,I10e3e689aba490118b84b6b9e58df1ba5632d07d,Fix alphanumeric comparisons for openstack and ubuntu releases,MERGED,2017-03-29 14:07:09.000000000,2017-04-05 13:12:08.000000000,2017-04-05 13:12:08.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-03-29 14:07:09.000000000', 'files': ['hooks/utils.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'tests/charmhelpers/core/strutils.py', 'hooks/ceph.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/72060b6ee76f1545bae85c57fbea53a76ef85886', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n\nChange-Id: I10e3e689aba490118b84b6b9e58df1ba5632d07d\nRelated-Bug: #1659575\n'}]",0,451418,72060b6ee76f1545bae85c57fbea53a76ef85886,11,4,1,20870,,,0,"Fix alphanumeric comparisons for openstack and ubuntu releases

- sync charmhelpers with fix-alpha helpers
- fix up code where the alpha comparisons are done

Change-Id: I10e3e689aba490118b84b6b9e58df1ba5632d07d
Related-Bug: #1659575
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/18/451418/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'tests/charmhelpers/core/strutils.py', 'hooks/ceph.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",28,72060b6ee76f1545bae85c57fbea53a76ef85886,fix-alpha-comparisons-1659575," DeletedFile mode=0o0640, 'conf-enabled/99-hardening.conf'), mode=0o0750), DeletedFile(['/var/www/html/index.html'])"," mode=0o0755, 'conf-enabled/hardening.conf'), mode=0o640), ctxt['traceenable'] = settings['hardening']['traceenable']",405,83
openstack%2Ftripleo-ui~stable%2Focata~I36f21552883b4f1eeae92fdbe3f141ef0d6c57c5,openstack/tripleo-ui,stable/ocata,I36f21552883b4f1eeae92fdbe3f141ef0d6c57c5,Imported Translations from Zanata,MERGED,2017-04-05 08:35:53.000000000,2017-04-05 13:04:16.000000000,2017-04-05 13:04:16.000000000,"[{'_account_id': 3}, {'_account_id': 4978}]","[{'number': 1, 'created': '2017-04-05 08:35:53.000000000', 'files': ['i18n/locales/zh-CN.json', 'i18n/locales/ja.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/79443dc877201aa884871a4dff76b7cc8cecd7b7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I36f21552883b4f1eeae92fdbe3f141ef0d6c57c5\n'}]",0,453516,79443dc877201aa884871a4dff76b7cc8cecd7b7,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I36f21552883b4f1eeae92fdbe3f141ef0d6c57c5
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/16/453516/1 && git format-patch -1 --stdout FETCH_HEAD,"['i18n/locales/zh-CN.json', 'i18n/locales/ja.json']",2,79443dc877201aa884871a4dff76b7cc8cecd7b7,zanata/translations," ""EnvironmentConfiguration.saveAndClose"": ""\u4fdd\u5b58\u3057\u3066\u9589\u3058\u308b"",",,2,0
openstack%2Fdragonflow~master~Ie2db98e696f59e7d95d2019901741bef479df31b,openstack/dragonflow,master,Ie2db98e696f59e7d95d2019901741bef479df31b,Index embedded models in DbStore2,MERGED,2017-03-23 16:28:10.000000000,2017-04-05 13:02:00.000000000,2017-04-05 13:02:00.000000000,"[{'_account_id': 3}, {'_account_id': 11159}, {'_account_id': 20229}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-03-23 16:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/17672047b254b04c380dd926199857c4d04ce0d3', 'message': '[WIP] Index embedded models in DbStore2\n\nChange-Id: Ie2db98e696f59e7d95d2019901741bef479df31b\n'}, {'number': 2, 'created': '2017-03-24 08:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/eb95d5ec59da88ccaff911ec957c5545ec5aca45', 'message': '[WIP] Index embedded models in DbStore2\n\nChange-Id: Ie2db98e696f59e7d95d2019901741bef479df31b\n'}, {'number': 3, 'created': '2017-03-26 12:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/1c0072b61af81cedbe4847fd9b2bb271f67ecb19', 'message': '[WIP] Index embedded models in DbStore2\n\nChange-Id: Ie2db98e696f59e7d95d2019901741bef479df31b\n'}, {'number': 5, 'created': '2017-03-29 13:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/cf589bbad19866f0f0c48c50c612201206951bd9', 'message': '[WIP] Index embedded models in DbStore2\n\nChange-Id: Ie2db98e696f59e7d95d2019901741bef479df31b\n'}, {'number': 6, 'created': '2017-04-03 09:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/51e01caa1812ac68adf7e81d658ca4fc43de8bb9', 'message': '[WIP] Index embedded models in DbStore2\n\nChange-Id: Ie2db98e696f59e7d95d2019901741bef479df31b\n'}, {'number': 7, 'created': '2017-04-04 12:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/a3638bd756e8c44ad909db40500ca608fcb01f51', 'message': 'Index embedded models in DbStore2\n\nChange-Id: Ie2db98e696f59e7d95d2019901741bef479df31b\n'}, {'number': 8, 'created': '2017-04-05 08:03:43.000000000', 'files': ['dragonflow/db/db_store2.py', 'dragonflow/tests/unit/test_model_framework.py', 'dragonflow/tests/unit/test_db_store.py', 'dragonflow/db/model_framework.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ad686df0f6fac5aca2df6204d07cebc55f207391', 'message': 'Index embedded models in DbStore2\n\nChange-Id: Ie2db98e696f59e7d95d2019901741bef479df31b\n'}]",26,449210,ad686df0f6fac5aca2df6204d07cebc55f207391,28,4,7,23766,,,0,"Index embedded models in DbStore2

Change-Id: Ie2db98e696f59e7d95d2019901741bef479df31b
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/10/449210/8 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/db/db_store2.py', 'dragonflow/tests/unit/test_db_store.py']",2,17672047b254b04c380dd926199857c4d04ce0d3,index_embedded_objects,"@model_framework.construct_nb_db_model class EmbeddedModel(model_framework.ModelBase): field = fields.StringField() @model_framework.construct_nb_db_model class EmbeddingModel(model_framework.ModelBase): field = fields.EmbeddedField(EmbeddedModel) list_field = fields.ListField(EmbeddedModel) def test_index_nested_objects(self): embedded = EmbeddedModel(id='embedded1', field='a') embedding = EmbeddingModel(id='embedding1', field=embedded) self.db_store.update(embedding) self.assertIn(embedded, self.db_store) def test_index_list_of_nested_objects(self): embedded1 = EmbeddedModel(id='embedded1', field='a') embedded2 = EmbeddedModel(id='embedded2', field='b') embedding = EmbeddingModel(id='embedding1', list_field=[embedded1, embedded2]) self.db_store.update(embedding) self.assertIn(embedded1, self.db_store) self.assertIn(embedded2, self.db_store) def test_delete_nested_objects(self): embedded = EmbeddedModel(id='embedded1', field='a') embedding = EmbeddingModel(id='embedding1', field=embedded) self.db_store.update(embedding) self.db_store.delete(embedding) self.assertNotIn(embedded, self.db_store) def test_delete_list_of_nested_objects(self): embedded1 = EmbeddedModel(id='embedded1', field='a') embedded2 = EmbeddedModel(id='embedded2', field='b') embedding = EmbeddingModel(id='embedding1', list_field=[embedded1, embedded2]) self.db_store.update(embedding) self.db_store.delete(embedding) self.assertNotIn(embedded1, self.db_store) self.assertNotIn(embedded2, self.db_store) def test_removed_after_change_nested_objects(self): embedded = EmbeddedModel(id='embedded1', field='a') embedding = EmbeddingModel(id='embedding1', field=embedded) self.db_store.update(embedding) embedding.field = None self.assertIn(embedded, self.db_store) self.db_store.update(embedding) self.assertNotIn(embedded, self.db_store) def test_removed_after_change_list_of_nested_objects(self): embedded1 = EmbeddedModel(id='embedded1', field='a') embedded2 = EmbeddedModel(id='embedded2', field='b') embedding = EmbeddingModel(id='embedding1', list_field=[embedded1, embedded2]) self.db_store.update(embedding) embedding.list_field = [embedded1] self.assertIn(embedded1, self.db_store) self.assertIn(embedded2, self.db_store) self.db_store.update(embedding) self.assertIn(embedded1, self.db_store) self.assertNotIn(embedded2, self.db_store) def test_nested_object_moves(self): embedded = EmbeddedModel(id='embedded1', field='a') embedding1 = EmbeddingModel(id='embedding1', field=embedded) embedding2 = EmbeddingModel(id='embedding2') self.db_store.update(embedding1) self.db_store.update(embedding2) self.assertIn(embedded, self.db_store) embedding1.field = None embedding2.field = embedded self.assertIn(embedded, self.db_store) self.db_store.update(embedding2) self.db_store.update(embedding1) self.assertIn(embedded, self.db_store)",,118,0
openstack%2Fdragonflow~master~I2896d20c874dace806183aa51ef44a3252b4fa26,openstack/dragonflow,master,I2896d20c874dace806183aa51ef44a3252b4fa26,Cleanup publisher in fullstack,MERGED,2017-04-03 06:58:11.000000000,2017-04-05 13:01:28.000000000,2017-04-05 13:01:28.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 20229}]","[{'number': 1, 'created': '2017-04-03 06:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ee8fd2fcec1eeeffa69a773aaec40d6f1a83abd5', 'message': ""Cleanup publisher in fullstack\n\n1. Clean up publisher resource in fullstack\n2. Remove event when create/delete publisher as\nwe don't deal with it.\n\nChange-Id: I2896d20c874dace806183aa51ef44a3252b4fa26\n""}, {'number': 2, 'created': '2017-04-04 07:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d0d6a7633c2cd9466b9386fbf8c32c666ddacce5', 'message': ""Cleanup publisher in fullstack\n\n1. Clean up publisher resource in fullstack\n2. Remove event when create/delete publisher as\nwe don't deal with it.\n\nChange-Id: I2896d20c874dace806183aa51ef44a3252b4fa26\n""}, {'number': 3, 'created': '2017-04-04 15:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b5c670fab900f46d5db5f18db81379c6e95f47a8', 'message': ""Cleanup publisher in fullstack\n\n1. Clean up publisher resource in fullstack\n2. Remove event when create/delete publisher as\nwe don't deal with it.\n\nChange-Id: I2896d20c874dace806183aa51ef44a3252b4fa26\n""}, {'number': 4, 'created': '2017-04-04 15:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d55bb58ad963006b2bb54ecec27e32cf16d7b4c3', 'message': ""Cleanup publisher in fullstack\n\n1. Clean up publisher resource in fullstack\n2. Remove event when create/delete publisher as\nwe don't deal with it.\n\nChange-Id: I2896d20c874dace806183aa51ef44a3252b4fa26\n""}, {'number': 5, 'created': '2017-04-04 23:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/86a09a471a4c150097d8e872a2bdfba5fa95d664', 'message': ""Cleanup publisher in fullstack\n\n1. Clean up publisher resource in fullstack\n2. Remove event when create/delete publisher as\nwe don't deal with it.\n\nChange-Id: I2896d20c874dace806183aa51ef44a3252b4fa26\n""}, {'number': 6, 'created': '2017-04-05 05:17:28.000000000', 'files': ['dragonflow/tests/fullstack/test_pub_sub.py', 'dragonflow/db/api_nb.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/22be679b3f722ad39709913d632d7d6650160026', 'message': ""Cleanup publisher in fullstack\n\n1. Clean up publisher resource in fullstack\n2. Remove event when create/delete publisher as\nwe don't deal with it.\n\nChange-Id: I2896d20c874dace806183aa51ef44a3252b4fa26\n""}]",3,452614,22be679b3f722ad39709913d632d7d6650160026,19,4,6,7805,,,0,"Cleanup publisher in fullstack

1. Clean up publisher resource in fullstack
2. Remove event when create/delete publisher as
we don't deal with it.

Change-Id: I2896d20c874dace806183aa51ef44a3252b4fa26
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/14/452614/1 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/tests/fullstack/test_pub_sub.py', 'dragonflow/db/api_nb.py']",2,ee8fd2fcec1eeeffa69a773aaec40d6f1a83abd5,clean-pub,," self._send_db_change_event( db_models.Publisher.table_name, uuid, 'create', publisher_json, topic, ) self._send_db_change_event( db_models.Publisher.table_name, uuid, 'delete', uuid, topic, )",17,16
openstack%2Fnova-powervm~master~Idcef2198d221e7faa832a59cf7e57297d1c23388,openstack/nova-powervm,master,Idcef2198d221e7faa832a59cf7e57297d1c23388,Update File i/o to support live-migration and use slot map,MERGED,2017-02-10 14:09:42.000000000,2017-04-05 12:48:17.000000000,2017-04-05 12:48:17.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 13002}, {'_account_id': 14070}, {'_account_id': 14532}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-02-10 14:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/7daf9fd4f49eed5fda356d144702fcf99fce17b4', 'message': 'Update file i/o to support slot map\n\nThe slot map indicates the position in the SCSI bus for a given disk.\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 2, 'created': '2017-03-28 16:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/7e19c120ec54af3e6c949a648c04114a1c77e4b8', 'message': 'Update file i/o to support slot map\n\nThe slot map indicates the position in the SCSI bus for a given disk.\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. Also allow fileio type to be in the recreate\nmap.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 3, 'created': '2017-03-28 17:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/99e1b1596d642014330315371b646bf05ecc1f38', 'message': 'Update file i/o to support slot map\n\nThe slot map indicates the position in the SCSI bus for a given disk.\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. Also allow fileio type to be in the recreate\nmap.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 4, 'created': '2017-03-31 10:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/4ecc65e4a2c2a290db0a4a1237180628f53c7d57', 'message': 'Update File i/o to support live-migration and use slot map\n\nAdd pre_live_migration_on_destination to fileio to support live\nmigration.\n\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. The slot map indicates the position in\nthe SCSI bus for a given disk. Also allow fileio type to be in\nthe recreate map.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 5, 'created': '2017-04-04 06:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/a3f032b8c85ea62a0a5a5f9d4ae756093aaf536c', 'message': 'Update File i/o to support live-migration and use slot map\n\nAdd pre_live_migration_on_destination to fileio to support live\nmigration.\n\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. The slot map indicates the position in\nthe SCSI bus for a given disk. Also allow fileio type to be in\nthe recreate map.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 6, 'created': '2017-04-04 06:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5c705cc56c149da850037ebcba00eabdbfb10938', 'message': 'Update File i/o to support live-migration and use slot map\n\nAdd pre_live_migration_on_destination to fileio to support live\nmigration.\n\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. The slot map indicates the position in\nthe SCSI bus for a given disk. Also allow fileio type to be in\nthe recreate map.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 7, 'created': '2017-04-04 16:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f7c917a8f316653c822923cb1da5c14881ce8b28', 'message': 'Update File i/o to support live-migration and use slot map\n\nAdd pre_live_migration_on_destination to fileio to support live\nmigration.\n\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. The slot map indicates the position in\nthe SCSI bus for a given disk. Also allow fileio type to be in\nthe recreate map.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 8, 'created': '2017-04-04 17:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2b0044b2f90b5025c7c50afe9005497804458977', 'message': 'Update File i/o to support live-migration and use slot map\n\nAdd pre_live_migration_on_destination to fileio to support live\nmigration.\n\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. The slot map indicates the position in\nthe SCSI bus for a given disk. Also allow fileio type to be in\nthe recreate map.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}, {'number': 9, 'created': '2017-04-05 04:12:12.000000000', 'files': ['nova_powervm/virt/powervm/volume/driver.py', 'nova_powervm/virt/powervm/volume/fileio.py', 'nova_powervm/tests/virt/powervm/volume/test_fileio.py', 'nova_powervm/virt/powervm/slot.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ed8368475d8f369855ae717feacbdccb287a3948', 'message': 'Update File i/o to support live-migration and use slot map\n\nAdd pre_live_migration_on_destination to fileio to support live\nmigration.\n\nThis update modifies the file i/o cinder connector to support\npulling/saving the slot. The slot map indicates the position in\nthe SCSI bus for a given disk. Also allow fileio type to be in\nthe recreate map.\n\nChange-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388\nCloses-Bug: 1662995\n'}]",22,432322,ed8368475d8f369855ae717feacbdccb287a3948,36,6,9,8190,,,0,"Update File i/o to support live-migration and use slot map

Add pre_live_migration_on_destination to fileio to support live
migration.

This update modifies the file i/o cinder connector to support
pulling/saving the slot. The slot map indicates the position in
the SCSI bus for a given disk. Also allow fileio type to be in
the recreate map.

Change-Id: Idcef2198d221e7faa832a59cf7e57297d1c23388
Closes-Bug: 1662995
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/22/432322/9 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/volume/fileio.py'],1,7daf9fd4f49eed5fda356d144702fcf99fce17b4,bug/1662995,"from taskflow import taskfrom nova_powervm.virt.powervm import vmfrom pypowervm.tasks import client_storage as pvm_c_stor # Add the deferred task to attach to the VM. path = self._get_path() self.stg_ftsk.add_functor_subtask( self._connect_volume_to_vio, slot_mgr, path, vios_uuid) # Run after all the deferred tasks the query to save the slots in the # slot map. def set_slot_info(): vios_wraps = self.stg_ftsk.feed partition_id = vm.get_vm_id(self.adapter, self.vm_uuid) for vios_w in vios_wraps: scsi_map = pvm_c_stor.udid_to_scsi_mapping( vios_w, path, partition_id) if not scsi_map: continue slot_mgr.register_vscsi_mapping(scsi_map) self.stg_ftsk.add_post_execute(task.FunctorTask( set_slot_info, name='file_io_slot_%s' % path)) def _connect_volume_to_vio(self, vios_w, slot_mgr, path, nl_uuid): """"""Attempts to connect a File backed volume to a given VIO. :param vios_w: The Virtual I/O Server wrapper to connect to. :param slot_mgr: A NovaSlotManager. Used to delete the client slots used when a volume is detached from the VM :param path: The path to connect the VM to. :param nl_uuid: The UUID of the novalink host. :return: The vSCSI mapping to connect. May return None if not vali.d """""" # If the vios doesn't match, just return if vios_w.uuid != nl_uuid: return None fio = pvm_stg.FileIO.bld(self.adapter, path) # Get the slot and LUA to assign. For FileIO, the path will be the # UDID to pass in. slot, lua = slot_mgr.build_map.get_vscsi_slot(vios_w, path) if slot_mgr.is_rebuild and not slot: LOG.debug('Detected a device with path %s on VIOS %s on the ' 'rebuild that did not exist on the source. ' 'Ignoring.', path, vios_w.uuid) return None if not slot: # This is fresh... LOG.info(_LI(""Adding File backed disk at path %(path) connection "" ""between VM %(vm)s and VIOS %(vios)s.""), {'path': path, 'vm': self.instance.name, 'vios': vios_w.name}, instance=self.instance) else: # We need to rebuild. LOG.info(_LI(""Rebuilding vSCSI mapping at path %(path)s and VM "" ""%(vm)s""), {'path': path, 'vm': vm}, instance=self.instance) mapping = tsk_map.build_vscsi_mapping( self.host_uuid, vios_w, self.vm_uuid, fio, lpar_slot_num=slot, lua=lua) return tsk_map.add_map(vios_w, mapping)"," fio = pvm_stg.FileIO.bld(self.adapter, self._get_path()) def add_func(vios_w): # If the vios doesn't match, just return if vios_w.uuid != vios_uuid: return None LOG.info(_LI(""Adding logical volume disk connection between VM "" ""%(vm)s and VIOS %(vios)s.""), {'vm': self.instance.name, 'vios': vios_w.name}, instance=self.instance) return tsk_map.add_map(vios_w, mapping) self.stg_ftsk.add_functor_subtask(add_func) # Find the disk directly. mappings = tsk_map.find_maps(nl_vios_wrap.scsi_mappings, client_lpar_id=self.vm_uuid, match_func=match_func) return [x.backing_storage for x in mappings]",63,19
openstack%2Fmanila~master~I0b86e86aebc9370e0f84ad669c368c0a2a5eccdd,openstack/manila,master,I0b86e86aebc9370e0f84ad669c368c0a2a5eccdd,Fix important:: directive display in install guide,MERGED,2017-04-04 14:06:09.000000000,2017-04-05 12:47:31.000000000,2017-04-05 11:50:40.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 18128}, {'_account_id': 22248}, {'_account_id': 24594}]","[{'number': 1, 'created': '2017-04-04 14:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ae7d4ca7679d1833af5eceb160855800819458a5', 'message': 'Fix important:: directive display in install guide\n\nThe highlighted note about the `default_share_type` config option was\nbeing displayed as part of the code snippet above it due to a misaligned\nimportant:: directive. This patch corrects the spacing so that the note\nwill display correctly.\n\nChange-Id: I0b86e86aebc9370e0f84ad669c368c0a2a5eccdd\n'}, {'number': 2, 'created': '2017-04-05 10:07:39.000000000', 'files': ['install-guide/source/common/share-node-common-configuration.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/54223ca38b051455178ea70788e9c16594aca16b', 'message': 'Fix important:: directive display in install guide\n\nThe highlighted note about the `default_share_type` config option was\nbeing displayed as part of the code snippet above it due to a misaligned\nimportant:: directive. This patch corrects the spacing so that the note\nwill display correctly.\n\nTrivialFix\n\nChange-Id: I0b86e86aebc9370e0f84ad669c368c0a2a5eccdd\n'}]",1,453189,54223ca38b051455178ea70788e9c16594aca16b,26,10,2,8482,,,0,"Fix important:: directive display in install guide

The highlighted note about the `default_share_type` config option was
being displayed as part of the code snippet above it due to a misaligned
important:: directive. This patch corrects the spacing so that the note
will display correctly.

TrivialFix

Change-Id: I0b86e86aebc9370e0f84ad669c368c0a2a5eccdd
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/453189/2 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/common/share-node-common-configuration.rst'],1,ae7d4ca7679d1833af5eceb160855800819458a5,fix_doc, .. important::, .. important::,1,1
openstack%2Fbarbican~master~I5f3dcd2fc982f1178ef7dd662c24d3166f91b266,openstack/barbican,master,I5f3dcd2fc982f1178ef7dd662c24d3166f91b266,Use oslo-config-generator to generate barbican.conf.sample,MERGED,2016-07-11 17:43:20.000000000,2017-04-05 12:47:13.000000000,2017-04-05 12:24:14.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7102}, {'_account_id': 7256}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 19554}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-07-11 17:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9e2b2847d88dc9474426486dbedf03fde9345ea4', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the confgi settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\nCloses-Bug: #1584789\n'}, {'number': 2, 'created': '2016-07-11 20:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fec55e4d5e770968b0646eff701fdcb1b2e98b35', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the confgi settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\nCloses-Bug: #1584789\n'}, {'number': 3, 'created': '2016-07-12 06:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/93b54093a740a15550162787177d924e5f1753b5', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the confgi settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\nCloses-Bug: #1584789\n'}, {'number': 4, 'created': '2016-07-15 15:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c0a5cd46b055de27e4b1b2d83357fe1c9787e631', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\nCloses-Bug: #1584789\n'}, {'number': 5, 'created': '2016-07-19 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/108401c67922fbe71708fddf3a6b4375858f120a', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCloses-Bug: #1584789\nDepends-On: Ia3276ad4be56d40fddbf458f215ab93e44ed6907\nDepends-On: Ia6ffc8945d8125047273872ba75f0b084dc5810f\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 6, 'created': '2016-07-21 16:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b506313f1a13c5ee680f6ec76a0a5ed8f4e5d840', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nDepends-On: Ia3276ad4be56d40fddbf458f215ab93e44ed6907\nDepends-On: Ia6ffc8945d8125047273872ba75f0b084dc5810f\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 7, 'created': '2016-07-22 09:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7ff285fb9678af063d43525298137cc7da4f12a7', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nDepends-On: Ia3276ad4be56d40fddbf458f215ab93e44ed6907\nDepends-On: Ia6ffc8945d8125047273872ba75f0b084dc5810f\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 8, 'created': '2016-10-27 12:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/785fbd87dfb4585cb55b98ee83ded42a4400f7dc', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 9, 'created': '2016-11-02 15:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/98a925c18cf7244977f782d604fcbde091161d76', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 10, 'created': '2016-11-22 10:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/27b24832c8d72857116d695a69a5715ce6b2497f', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 11, 'created': '2016-12-09 16:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/92425bc84a6761035e70ef4e50c0348b6442220b', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 12, 'created': '2017-02-23 20:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0e9903650696f8796428a0dda7ebf7b8551fcfc7', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 13, 'created': '2017-02-24 14:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f2931b7d7383d4bd03abbafd569422fe65e60ab3', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 14, 'created': '2017-02-24 20:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e49064dabff14c5f2ddf7f2b472a66b238d663ae', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 15, 'created': '2017-02-24 21:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/929b47bb6dd1f1346a5e6bb1591f72c0acaf15f3', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 16, 'created': '2017-03-16 16:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1087ea74245463183d806105e9296abcf3531614', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 17, 'created': '2017-03-20 12:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d80315b395de2a1c3055b2fdc73693325c60e1b3', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 18, 'created': '2017-03-20 13:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6b2b4057f52dddaa962df75fb13d3f9272b9b389', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 19, 'created': '2017-03-22 13:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/561c11dbcdaf23ef9fa0574b634e27671602913b', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 20, 'created': '2017-03-22 17:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/99f577ccda21bf5ec03f2947654bada95c790a40', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}, {'number': 21, 'created': '2017-04-05 06:03:03.000000000', 'files': ['barbican/plugin/dogtag_config_opts.py', '.gitignore', 'devstack/lib/barbican', 'barbican/plugin/crypto/manager.py', 'barbican/plugin/interface/secret_store.py', 'releasenotes/notes/use_oslo_config_generator-f2a9be9e71d90b1f.yaml', 'barbican/tests/model/repositories/test_repositories.py', 'etc/barbican/barbican.conf', 'barbican/plugin/crypto/simple_crypto.py', 'bindep.txt', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/plugin/snakeoil_ca.py', 'etc/barbican/README.barbican.conf.txt', 'barbican/plugin/kmip_secret_store.py', 'setup.cfg', 'tox.ini', 'barbican/common/config.py', 'etc/oslo-config-generator/barbican.conf', 'barbican/plugin/interface/certificate_manager.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/06b76aa6e86497ca9b54dd442126a82da103ce46', 'message': 'Use oslo-config-generator to generate barbican.conf.sample\n\nCurrently etc/barbican/barbican.conf is maintained by hand and can not\nbe regenerated based on the config settings defined in the code.\nA common pattern for OpenStack projects is to use oslo-config-generator\nfor that task.\n\nCo-Authored-By: Randall Burt <randall.burt@rackspace.com>\nDepends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af\nCloses-Bug: #1584789\nChange-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266\n'}]",14,340490,06b76aa6e86497ca9b54dd442126a82da103ce46,93,14,21,7102,,,0,"Use oslo-config-generator to generate barbican.conf.sample

Currently etc/barbican/barbican.conf is maintained by hand and can not
be regenerated based on the config settings defined in the code.
A common pattern for OpenStack projects is to use oslo-config-generator
for that task.

Co-Authored-By: Randall Burt <randall.burt@rackspace.com>
Depends-On: I90870dcb49cd96f6bf0fe353fa6e779ffd87a5af
Closes-Bug: #1584789
Change-Id: I5f3dcd2fc982f1178ef7dd662c24d3166f91b266
",git fetch https://review.opendev.org/openstack/barbican refs/changes/90/340490/6 && git format-patch -1 --stdout FETCH_HEAD,"['etc/barbican/barbican.conf', '.gitignore', 'devstack/lib/barbican', 'releasenotes/notes/use_oslo_config_generator-f2a9be9e71d90b1f.yaml', 'setup.cfg', 'tox.ini', 'etc/oslo-config-generator/barbican.conf', 'barbican/opts.py']",8,9e2b2847d88dc9474426486dbedf03fde9345ea4,437981,"# Copyright (c) 2016 SUSE Linux Products GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __all__ = [ 'list_opts' ] import copy import itertools import oslo_log._options import oslo_messaging.opts import oslo_middleware.opts import oslo_policy.opts import barbican.common.config # List of *all* options in [DEFAULT] namespace of barbican. # Any new option list or option needs to be registered here. _global_opt_lists = [ # Keep list alphabetically sorted barbican.common.config.context_opts, barbican.common.config.common_opts, barbican.common.config.host_opts, barbican.common.config.db_opts, barbican.common.config.retry_opts, barbican.common.config.queue_opts, barbican.common.config.ks_queue_opts, barbican.common.config.quota_opts, ] _opts = [ (None, list(itertools.chain(*_global_opt_lists))), ] _opts.extend(oslo_log._options.list_opts()) _opts.extend(oslo_messaging.opts.list_opts()) _opts.extend(oslo_middleware.opts.list_opts()) _opts.extend(oslo_policy.opts.list_opts()) def list_opts(): """"""Return a list of oslo.config options available in Barbican."""""" return [(m, copy.deepcopy(o)) for m, o in _opts] ",,77,383
openstack%2Fdeb-congress~debian%2Fnewton~I4a02f42fc30caa1a17c9195736d8e2847f868c05,openstack/deb-congress,debian/newton,I4a02f42fc30caa1a17c9195736d8e2847f868c05,Bump build dependency on openstack-pkg-tools,ABANDONED,2017-04-01 09:32:10.000000000,2017-04-05 12:46:41.000000000,,"[{'_account_id': 3}, {'_account_id': 6476}, {'_account_id': 23913}]","[{'number': 1, 'created': '2017-04-01 09:32:10.000000000', 'files': ['.gitreview', 'debian/changelog', 'debian/control'], 'web_link': 'https://opendev.org/openstack/deb-congress/commit/22760aa37bd807e6a815fac48134834dec0c88cd', 'message': 'Bump build dependency on openstack-pkg-tools\n\nNew version does not require net-tools.\n\nSee Debian bug:\nhttps://bugs.debian.org/cgi-bin/bugreport.cgi?bug=858693\n\n.gitreview updated\n\nChange-Id: I4a02f42fc30caa1a17c9195736d8e2847f868c05\n'}]",0,452427,22760aa37bd807e6a815fac48134834dec0c88cd,4,3,1,23913,,,0,"Bump build dependency on openstack-pkg-tools

New version does not require net-tools.

See Debian bug:
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=858693

.gitreview updated

Change-Id: I4a02f42fc30caa1a17c9195736d8e2847f868c05
",git fetch https://review.opendev.org/openstack/deb-congress refs/changes/27/452427/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'debian/changelog', 'debian/control']",3,22760aa37bd807e6a815fac48134834dec0c88cd,," openstack-pkg-tools (>= 54~),"," openstack-pkg-tools (>= 40~),",10,2
openstack%2Fmanila~master~I8f93ecf12bbe309a4156a2583bd6f57187f36607,openstack/manila,master,I8f93ecf12bbe309a4156a2583bd6f57187f36607,Update to current tempest tag,MERGED,2017-04-01 10:18:51.000000000,2017-04-05 12:44:12.000000000,2017-04-05 11:49:45.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 16643}]","[{'number': 1, 'created': '2017-04-01 10:18:51.000000000', 'files': ['contrib/ci/common.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/423fd166717b194a56627d4ea9eab98746a9acb2', 'message': 'Update to current tempest tag\n\nChange-Id: I8f93ecf12bbe309a4156a2583bd6f57187f36607\n'}]",2,452450,423fd166717b194a56627d4ea9eab98746a9acb2,21,4,1,9003,,,0,"Update to current tempest tag

Change-Id: I8f93ecf12bbe309a4156a2583bd6f57187f36607
",git fetch https://review.opendev.org/openstack/manila refs/changes/50/452450/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/common.sh'],1,423fd166717b194a56627d4ea9eab98746a9acb2,,"export MANILA_TEMPEST_COMMIT=""e8afb8c"" # 27 Mar, 2017","export MANILA_TEMPEST_COMMIT=""15.0.0"" # 17 Feb, 2017 ",1,2
openstack%2Fdragonflow~master~I4ae962266af5f854be1b4354c76731234568141e,openstack/dragonflow,master,I4ae962266af5f854be1b4354c76731234568141e,Move common code from SG app to utils,MERGED,2017-02-14 12:05:12.000000000,2017-04-05 12:39:48.000000000,2017-04-05 12:39:48.000000000,"[{'_account_id': 3}, {'_account_id': 11159}, {'_account_id': 11343}, {'_account_id': 20229}, {'_account_id': 20297}, {'_account_id': 23235}]","[{'number': 1, 'created': '2017-02-14 12:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/4238fdaee89e59bd3de3a3da8323f9fe75966c81', 'message': ""Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 2, 'created': '2017-02-26 15:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/127a1bc792d3df4e0f321199b52a89e95317fa9d', 'message': ""Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 3, 'created': '2017-02-26 21:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/31819fd6a377504a55fc44a69bd87b963169ac7f', 'message': ""[04/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 4, 'created': '2017-03-01 12:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/a2c2ce04f97d7858498f12d9a42c837b66159e4e', 'message': ""[05/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 5, 'created': '2017-03-02 09:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/e8833325aafbf385323fa99fe1673414f0cb4c17', 'message': ""[05/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 6, 'created': '2017-03-02 15:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/da5a0607eb1544fc1c8c9d9553975b17f3ed357a', 'message': ""[05/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 7, 'created': '2017-03-03 18:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/09e210714b578e12489e3fd7dff1b76213b1b201', 'message': ""[05/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 8, 'created': '2017-03-06 07:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/980e22868740c0b25a9ffdc2a6775f7e40631eb0', 'message': ""[05/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 9, 'created': '2017-03-08 13:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/a26fbb27e7569a56027550aeb374165c986a1b46', 'message': ""[05/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 10, 'created': '2017-03-15 15:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/1e2d3c75670f4e2be414f90e97f14f11b333ea52', 'message': ""[05/xx] Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nPartially-implements: blueprint service-function-chaining\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}, {'number': 11, 'created': '2017-04-05 07:55:58.000000000', 'files': ['dragonflow/tests/unit/test_common.py', 'dragonflow/tests/unit/test_sg_app.py', 'dragonflow/controller/common/utils.py', 'dragonflow/controller/sg_app.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b45304101957e6dd79c53f5ee0003843de7d502a', 'message': ""Move common code from SG app to utils\n\nThere's a function needed in a subsequent patch in Flow Classifier app.\nThis patch moves it to a common location\n\nChange-Id: I4ae962266af5f854be1b4354c76731234568141e\n""}]",2,433609,b45304101957e6dd79c53f5ee0003843de7d502a,34,6,11,23766,,,0,"Move common code from SG app to utils

There's a function needed in a subsequent patch in Flow Classifier app.
This patch moves it to a common location

Change-Id: I4ae962266af5f854be1b4354c76731234568141e
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/09/433609/11 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/controller/common/utils.py', 'dragonflow/controller/sg_app.py']",2,4238fdaee89e59bd3de3a3da8323f9fe75966c81,move_sg_func, port_match_list = utils.get_port_match_list_from_port_range(," def _get_port_match_list_from_port_range(port_range_min, port_range_max): port_range = netaddr.IPRange(port_range_min, port_range_max) ports_match_list = [] for cidr in port_range.cidrs(): port_num = int(cidr.network) & 0xffff mask = int(cidr.netmask) & 0xffff ports_match_list.append((port_num, mask)) return ports_match_list @staticmethod port_match_list = SGApp._get_port_match_list_from_port_range(",12,11
openstack%2Fkolla~master~Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9,openstack/kolla,master,Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9,Fix oslo_debug_helper not working,MERGED,2017-03-10 16:29:09.000000000,2017-04-05 12:38:56.000000000,2017-04-05 12:38:56.000000000,"[{'_account_id': 3}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 16620}, {'_account_id': 17893}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22525}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-03-10 16:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/282b98ff7a8366199d9f18bc4a7254dc0d0f096a', 'message': ""Fix oslo_debug_helper not running\n\nSpecify test directory so that tox won't complain\n`ImportError: Start directory is not importable`.\nAlso fix a warning when running debug.\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n""}, {'number': 2, 'created': '2017-03-17 05:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9296d42fcf8da6473a28c93a9de568cee103a3dc', 'message': ""Fix oslo_debug_helper not running\n\nSpecify test directory so that tox won't complain\n`ImportError: Start directory is not importable`.\nAlso fix a warning when running debug.\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n""}, {'number': 3, 'created': '2017-03-23 03:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/20cfd28a960be27aeaf6edf3316ca0c079b3c13f', 'message': 'Fix oslo_debug_helper not running for kolla/tests directory\n\nSpecify test directory so that all the tests written for\nkolla deliverable to be run.\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n'}, {'number': 4, 'created': '2017-03-23 07:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0bdd72f02332aeba05d3d5f75b9804ed08bcb89e', 'message': 'Fix oslo_debug_helper not running for kolla/tests directory\n\nSpecify test directory so that all the tests written for\nkolla deliverable to be run.\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n'}, {'number': 5, 'created': '2017-03-23 08:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0af778f7ed26b657f4bad1e686da932b69f37237', 'message': 'Fix oslo_debug_helper not running for kolla/tests directory\n\nSpecify test directory so that all the tests written for\nkolla deliverable to be run.\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n'}, {'number': 6, 'created': '2017-03-23 10:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/153b55bf3b7fe8b07f7d2530d23f70996d33e9b3', 'message': 'Fix oslo_debug_helper not running for kolla/tests directory\n\nSpecify test directory so that all the tests written for\nkolla deliverable to be run.\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n'}, {'number': 7, 'created': '2017-03-31 07:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38a2d70f0f607cfb6052878cbfa146bbfd50cccc', 'message': 'Fix oslo_debug_helper\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n'}, {'number': 8, 'created': '2017-03-31 07:40:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb664f9d6c25b355b87bbdbb512d5949dff2b771', 'message': 'Fix oslo_debug_helper not working\n\nChange-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9\nCloses-Bug: #1666560\n'}]",3,444398,eb664f9d6c25b355b87bbdbb512d5949dff2b771,61,10,8,23717,,,0,"Fix oslo_debug_helper not working

Change-Id: Ifd4ea791b22b1bddc1116b89e6589a372cd17bd9
Closes-Bug: #1666560
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/444398/8 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,282b98ff7a8366199d9f18bc4a7254dc0d0f096a,bug/1666560,commands = oslo_debug_helper -t kolla/tests {posargs},commands = oslo_debug_helper {posargs},1,1
openstack%2Fwatcher~master~Iab53b5ba8cd58a0655dc35489081fb22d5834363,openstack/watcher,master,Iab53b5ba8cd58a0655dc35489081fb22d5834363,oslo messaging notifications driver update,MERGED,2017-04-01 10:06:50.000000000,2017-04-05 12:37:56.000000000,2017-04-05 12:37:56.000000000,"[{'_account_id': 3}, {'_account_id': 14107}, {'_account_id': 19055}, {'_account_id': 21361}, {'_account_id': 21692}, {'_account_id': 23871}]","[{'number': 1, 'created': '2017-04-01 10:06:50.000000000', 'files': ['devstack/lib/watcher'], 'web_link': 'https://opendev.org/openstack/watcher/commit/fc33e181fce24cad79c752af4a61f8d321494814', 'message': 'oslo messaging notifications driver update\n\nReplace ""messaging"" with ""messagingv2"".\n\nChange-Id: Iab53b5ba8cd58a0655dc35489081fb22d5834363\n'}]",0,452447,fc33e181fce24cad79c752af4a61f8d321494814,10,6,1,24872,,,0,"oslo messaging notifications driver update

Replace ""messaging"" with ""messagingv2"".

Change-Id: Iab53b5ba8cd58a0655dc35489081fb22d5834363
",git fetch https://review.opendev.org/openstack/watcher refs/changes/47/452447/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/watcher'],1,fc33e181fce24cad79c752af4a61f8d321494814,," iniset $WATCHER_CONF oslo_messaging_notifications driver ""messagingv2"""," iniset $WATCHER_CONF oslo_messaging_notifications driver ""messaging""",1,1
openstack%2Frenderspec~master~I8ce366c5b71f5a301e1ce1615b85a62e1895b463,openstack/renderspec,master,I8ce366c5b71f5a301e1ce1615b85a62e1895b463,Add dynamic version detection from archive files,MERGED,2017-04-04 17:04:33.000000000,2017-04-05 12:36:08.000000000,2017-04-05 12:36:08.000000000,"[{'_account_id': 3}, {'_account_id': 6717}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 10384}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-04 17:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/15b2d64aed704b387fe2806126df4697d16f6ae5', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 2, 'created': '2017-04-05 05:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/9109da53151900d4070ee6d96b2ae4feeef0f559', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 3, 'created': '2017-04-05 06:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/53eb13c098a54480f234f7939306221c064376b2', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 4, 'created': '2017-04-05 08:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/2725ddacbcc2ec3dc8d74768b1b2ddf8cc270631', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 5, 'created': '2017-04-05 08:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/deffa51da46c41020fd8e81aa152c7193c18ab06', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 6, 'created': '2017-04-05 09:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/93bf6f826c295b2c7ffa73403636533d9230c216', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 7, 'created': '2017-04-05 09:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/fbb7bab6d673f4343891fffcec8e78f3f4cfcb07', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 8, 'created': '2017-04-05 09:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/6fcc8443344bef5a433257b79e684f8db7bc9743', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}, {'number': 9, 'created': '2017-04-05 12:00:30.000000000', 'files': ['renderspec/__init__.py', 'requirements.txt', 'tests.py', 'renderspec/utils.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/ac48e745b134941b6fc2a48d71bb063b4126b189', 'message': ""Add dynamic version detection from archive files\n\nFor eg stable branches it might make sense to track the stable-$release\ntarballs as a Source. In that case, the 'upstream_version' needs to be\nautomatically detected based on the used source archive.\n\nChange-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463\n""}]",23,453266,ac48e745b134941b6fc2a48d71bb063b4126b189,37,6,9,7102,,,0,"Add dynamic version detection from archive files

For eg stable branches it might make sense to track the stable-$release
tarballs as a Source. In that case, the 'upstream_version' needs to be
automatically detected based on the used source archive.

Change-Id: I8ce366c5b71f5a301e1ce1615b85a62e1895b463
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/66/453266/1 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/__init__.py', 'renderspec/utils.py', 'tests.py', 'doc/source/usage.rst']",4,15b2d64aed704b387fe2806126df4697d16f6ae5,dynamic-version-detection," {% set upstream_version = upstream_version('1.2.3.0rc1') %} {% set upstream_version = upstream_version('1.2.3.0rc1') %}The `upstream_version` can also be automatically detected from from archive files (like sdist archives available from pypi) which contain a valid `PKG-INFO`_ file. For automatic version detection, the context need to know the `pypi_name` and a archive file must be available and the context variable `upstream_version` needs to be set to the value of the context function `upstream_version()`. The difference here is that the version in `upstream_version()` is not explicit given:: {% set pypi_name = 'oslo.config' %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} .. _PKG-INFO: https://www.python.org/dev/peps/pep-0314/context function `upstream_version` *********************************** This function can be used to assign a static version to the variable `upstream_version` or to dynamically detect the version from a archive (eg. an sdist tarball). Static assignment looks like:: {% set upstream_version = upstream_version('1.1.0a3') %} which is basically the same as:: {% set upstream_version = '1.1.0a3' %} So static assignment is not that useful. Dynamic assignment looks like:: {% set pypi_name = 'oslo.config' %} {% set upstream_version = upstream_version() %} Note that for dynamic version detection, the variable `pypi_name` needs to be set before calling `upstream_version()`. ", {% set upstream_version = '1.2.3.0rc1' %} {% set upstream_version = '1.2.3.0rc1' %},202,2
openstack%2Fwatcher~master~I6dc02d53291e42fb1de6811f439f5814c49af769,openstack/watcher,master,I6dc02d53291e42fb1de6811f439f5814c49af769,fixed syntax error in json,MERGED,2017-04-05 11:07:47.000000000,2017-04-05 12:33:18.000000000,2017-04-05 12:33:18.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 18971}]","[{'number': 1, 'created': '2017-04-05 11:07:47.000000000', 'files': ['doc/notification_samples/action-update.json'], 'web_link': 'https://opendev.org/openstack/watcher/commit/e9f83417eb4c465ce7b8e3dd3b34fa79ef56ca4c', 'message': 'fixed syntax error in json\n\nChange-Id: I6dc02d53291e42fb1de6811f439f5814c49af769\n'}]",0,453575,e9f83417eb4c465ce7b8e3dd3b34fa79ef56ca4c,7,3,1,20096,,,0,"fixed syntax error in json

Change-Id: I6dc02d53291e42fb1de6811f439f5814c49af769
",git fetch https://review.opendev.org/openstack/watcher refs/changes/75/453575/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/notification_samples/action-update.json'],1,e9f83417eb4c465ce7b8e3dd3b34fa79ef56ca4c,abc," ""event_type"": ""action.update"","," ""event_type"": ""action.update""",1,1
openstack%2Frally~master~I5e820b91cb516bdb91fb262d0882cbeeb483bb37,openstack/rally,master,I5e820b91cb516bdb91fb262d0882cbeeb483bb37,DO NOT MERGE: check sg cleanup,ABANDONED,2017-04-04 16:14:57.000000000,2017-04-05 12:30:55.000000000,,"[{'_account_id': 3}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-04-04 16:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/23b57614cb117f44bdaf8c4cee6bf604329d53fc', 'message': 'DO NOT MERGE: check sg cleanup\n\nChange-Id: I5e820b91cb516bdb91fb262d0882cbeeb483bb37\n'}, {'number': 2, 'created': '2017-04-04 16:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e5cdd2dd98b657a71b8784bf07c5c9a4795c36a0', 'message': 'DO NOT MERGE: check sg cleanup\n\nChange-Id: I5e820b91cb516bdb91fb262d0882cbeeb483bb37\n'}, {'number': 3, 'created': '2017-04-04 19:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/cba1c39f1219013af679e2e48b4dfbba5107c345', 'message': 'DO NOT MERGE: check sg cleanup\n\nChange-Id: I5e820b91cb516bdb91fb262d0882cbeeb483bb37\n'}, {'number': 4, 'created': '2017-04-04 21:29:42.000000000', 'files': ['rally/plugins/openstack/context/keystone/users.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/ab4daf9a62a95ca6634782b19a011767f8d927aa', 'message': 'DO NOT MERGE: check sg cleanup\n\nChange-Id: I5e820b91cb516bdb91fb262d0882cbeeb483bb37\n'}]",0,453246,ab4daf9a62a95ca6634782b19a011767f8d927aa,12,2,4,9545,,,0,"DO NOT MERGE: check sg cleanup

Change-Id: I5e820b91cb516bdb91fb262d0882cbeeb483bb37
",git fetch https://review.opendev.org/openstack/rally refs/changes/46/453246/4 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/openstack/context/keystone/users.py'],1,23b57614cb117f44bdaf8c4cee6bf604329d53fc,cleanup," sg = [sg for sg in uclients.neutron.security_groups.list() if sg[""security_group""][""name""] == ""default"" and sg[""security_group""][""tenant_id""] == tenant_id] if sg: uclients.neutron().delete_security_group( sg[0][""security_group""][""id""])"," sg = uclients.nova().security_groups.find(name=""default"") clients.neutron().delete_security_group(sg.id)",6,2
openstack%2Fkolla-ansible~master~I7202c1f6d21a2e6f3536c0420a7cc889aff0f5ed,openstack/kolla-ansible,master,I7202c1f6d21a2e6f3536c0420a7cc889aff0f5ed,Remove Ubuntu 14.04 related code,MERGED,2017-03-22 21:26:06.000000000,2017-04-05 12:26:29.000000000,2017-04-05 12:26:29.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 19790}, {'_account_id': 22525}, {'_account_id': 23717}, {'_account_id': 23825}, {'_account_id': 24095}]","[{'number': 1, 'created': '2017-03-22 21:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbe3a638ca445528d5d25da61e7a1bc410ad6023', 'message': 'Remove Ubuntu 14.04 related code\n\nLast Openstack version supported on Ubuntu 14.04 is Mitaka.\nUbuntu 14.04 related code can be safely remove from Ansible tasks.\n\nChange-Id: I7202c1f6d21a2e6f3536c0420a7cc889aff0f5ed\n'}, {'number': 2, 'created': '2017-03-24 12:23:51.000000000', 'files': ['ansible/roles/neutron/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74dfe047b87f48c52ab7eec3b13d1d68603f6347', 'message': 'Remove Ubuntu 14.04 related code\n\nLast Openstack version supported on Ubuntu 14.04 is Mitaka.\nHence Ubuntu 14.04 related code can be safely remove from Ansible tasks\nsince Kolla Newton release.\n\nChange-Id: I7202c1f6d21a2e6f3536c0420a7cc889aff0f5ed\n'}]",4,448792,74dfe047b87f48c52ab7eec3b13d1d68603f6347,23,11,2,8157,,,0,"Remove Ubuntu 14.04 related code

Last Openstack version supported on Ubuntu 14.04 is Mitaka.
Hence Ubuntu 14.04 related code can be safely remove from Ansible tasks
since Kolla Newton release.

Change-Id: I7202c1f6d21a2e6f3536c0420a7cc889aff0f5ed
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/448792/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/precheck.yml'],1,fbe3a638ca445528d5d25da61e7a1bc410ad6023,cleanup, - ansible_os_family == 'RedHat' or ansible_distribution == 'Ubuntu'," - ansible_os_family == 'RedHat' or (ansible_distribution == 'Ubuntu' and ansible_distribution_version > '14.04') - name: Checking if '/run' mount flag is set to 'shared' command: awk '$5 == ""/run"" {print $7}' /proc/self/mountinfo register: result changed_when: false failed_when: result.stdout.find('shared') == -1 when: - (inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent']) - ansible_distribution == 'Ubuntu' and ansible_distribution_version == '14.04'",1,13
openstack%2Fopenstacksdk~master~I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef,openstack/openstacksdk,master,I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef,Introduce Base for Octavia (load balancing),MERGED,2017-02-02 20:43:06.000000000,2017-04-05 12:23:50.000000000,2017-04-05 12:23:50.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 8246}, {'_account_id': 8257}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 17776}, {'_account_id': 18332}, {'_account_id': 22218}, {'_account_id': 22776}]","[{'number': 1, 'created': '2017-02-02 20:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3674b34fbd11f861b22ca9e6e0ba0c7169aa6188', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 2, 'created': '2017-02-02 21:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8520e9f9f7aec2c53d924b48368cdc0bd6c0fd0f', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 3, 'created': '2017-02-02 22:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4783b8057c32af481c2cd75fac74af82ecdfa85c', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 4, 'created': '2017-02-02 22:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/66690699750b1270e98d57c75ef5d4f26949d8e3', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 5, 'created': '2017-02-03 03:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0961658c93349f06fe9755fce6d217ab0453dd06', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 6, 'created': '2017-02-03 21:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b494fb558f6ff80baaf2eea3da333b5fb8d0a195', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 7, 'created': '2017-02-14 01:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d1a2ed548deefab31923935ee153107591f1b813', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 8, 'created': '2017-02-14 22:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1644edd801f6fd3df0939ae1d7e8bd51ec6ac7fd', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 9, 'created': '2017-02-16 21:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e3be068f49f9027a5f31fefe322b738d6f089804', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 10, 'created': '2017-03-13 16:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9f7be96398526f211b3cb42e155241b016f35aea', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 11, 'created': '2017-04-03 17:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9c07117943dae0cc45c2a290da1300278de38364', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 12, 'created': '2017-04-03 18:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/57cbd8f73df4195d5032040ae0c90996bca80543', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 13, 'created': '2017-04-03 19:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b04022ead071d6fba29f7bef75557da830f7cdf9', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 14, 'created': '2017-04-03 20:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/11309b2b9986bbbb9cc50965968e4128e0d72d96', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 15, 'created': '2017-04-03 22:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f8fc466288a05701fb8ca80f83ea32062edd5ac6', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}, {'number': 16, 'created': '2017-04-04 15:02:20.000000000', 'files': ['openstack/tests/functional/load_balancer/v2/test_load_balancer.py', 'openstack/load_balancer/v2/load_balancer.py', 'openstack/tests/unit/load_balancer/__init__.py', 'openstack/tests/unit/load_balancer/test_load_balancer.py', 'doc/source/users/proxies/load_balancer_v2.rst', 'openstack/tests/unit/load_balancer/test_version.py', 'openstack/load_balancer/v2/__init__.py', 'openstack/load_balancer/load_balancer_service.py', 'openstack/tests/unit/test_connection.py', 'openstack/tests/unit/test_profile.py', 'openstack/profile.py', 'openstack/tests/unit/load_balancer/test_load_balancer_service.py', 'openstack/load_balancer/v2/_proxy.py', 'openstack/load_balancer/__init__.py', 'openstack/load_balancer/version.py', 'openstack/tests/functional/load_balancer/__init__.py', 'openstack/tests/functional/load_balancer/v2/__init__.py', 'openstack/tests/unit/load_balancer/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a4d75498b4961ddf8873d1ac05226f2de4c65c55', 'message': 'Introduce Base for Octavia (load balancing)\n\nChange-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef\n'}]",48,428414,a4d75498b4961ddf8873d1ac05226f2de4c65c55,69,10,16,18332,,,0,"Introduce Base for Octavia (load balancing)

Change-Id: I3aa5b8af9e5f6dfbd3e71645fc7324e19933afef
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/428414/16 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/load_balancing/__init__.py', 'openstack/load_balancing/load_balancing_service.py', 'openstack/load_balancing/version.py', 'openstack/tests/unit/load_balancing/test_version.py', 'openstack/load_balancing/__init__.py', 'openstack/load_balancing/v1/__init__.py', 'openstack/tests/unit/load_balancing/test_load_balancing_service.py']",7,3674b34fbd11f861b22ca9e6e0ba0c7169aa6188,lbaas,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import testtools from openstack.load_balancing import load_balancing_service class TestLoadBalancingService(testtools.TestCase): def test_service(self): sot = load_balancing_service.LoadBalancingService() self.assertEqual('load_balancingv2', sot.service_type) self.assertEqual('public', sot.interface) self.assertIsNone(sot.region) self.assertIsNone(sot.service_name) self.assertEqual(1, len(sot.valid_versions)) self.assertEqual('v2', sot.valid_versions[0].module) self.assertEqual('v2', sot.valid_versions[0].path) ",,127,0
openstack%2Fkeystonemiddleware~master~I50c4559ea2ebc8512a05ffad52e5f04b22743ff4,openstack/keystonemiddleware,master,I50c4559ea2ebc8512a05ffad52e5f04b22743ff4,Remove deprecated oslo.messaging aliases parameter,MERGED,2017-04-04 16:14:13.000000000,2017-04-05 12:23:39.000000000,2017-04-05 12:23:38.000000000,"[{'_account_id': 3}, {'_account_id': 13478}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-04-04 16:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/47c94bfbc32a647169332e7ef0aa411e7c5a6b1e', 'message': 'Remove deprecated oslo.messaging aliases parameter\n\nThose are remnants from the oslo-incubator times. Also, oslo.messaging\ndeprecated [1] transport aliases since 5.2.0+ that is the minimal\nversion supported for stable/newton.\n\n[1] I314cefa5fb1803fa7e21e3e34300e5ced31bba89\n\nCloses-Bug: #1424728\nChange-Id: I50c4559ea2ebc8512a05ffad52e5f04b22743ff4\n'}, {'number': 2, 'created': '2017-04-04 16:17:56.000000000', 'files': ['keystonemiddleware/audit/_notifier.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d94c40b1e0515117fbe7d04480640641f2a2edbd', 'message': 'Remove deprecated oslo.messaging aliases parameter\n\nThose are remnants from the oslo-incubator times. Also, oslo.messaging\ndeprecated [1] transport aliases since 5.2.0+ that is the minimal\nversion supported for stable/newton.\n\n[1] I314cefa5fb1803fa7e21e3e34300e5ced31bba89\n\nCloses-Bug: #1424728\nChange-Id: I50c4559ea2ebc8512a05ffad52e5f04b22743ff4\n'}]",0,453245,d94c40b1e0515117fbe7d04480640641f2a2edbd,8,3,2,7102,,,0,"Remove deprecated oslo.messaging aliases parameter

Those are remnants from the oslo-incubator times. Also, oslo.messaging
deprecated [1] transport aliases since 5.2.0+ that is the minimal
version supported for stable/newton.

[1] I314cefa5fb1803fa7e21e3e34300e5ced31bba89

Closes-Bug: #1424728
Change-Id: I50c4559ea2ebc8512a05ffad52e5f04b22743ff4
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/45/453245/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/audit/_notifier.py'],1,47c94bfbc32a647169332e7ef0aa411e7c5a6b1e,bug/1424728, url=conf.get('transport_url'))," proj = conf.project or taxonomy.UNKNOWN if proj: # Aliases to support backward compatibility aliases = { '%s.openstack.common.rpc.impl_kombu' % proj: 'rabbit', '%s.openstack.common.rpc.impl_qpid' % proj: 'qpid', '%s.openstack.common.rpc.impl_zmq' % proj: 'zmq', '%s.rpc.impl_kombu' % proj: 'rabbit', '%s.rpc.impl_qpid' % proj: 'qpid', '%s.rpc.impl_zmq' % proj: 'zmq', } else: aliases = {} url=conf.get('transport_url'), aliases=aliases)",1,17
openstack%2Freleases~master~I83997d0c43826c9d5b06a72d93365e8e9b4587af,openstack/releases,master,I83997d0c43826c9d5b06a72d93365e8e9b4587af,Replace six.iteritems() with .items(),MERGED,2017-04-05 09:51:04.000000000,2017-04-05 12:19:14.000000000,2017-04-05 12:19:14.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-05 09:51:04.000000000', 'files': ['openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/26147887ebef586113986aab583d2f3b1a5e141a', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using\nsix.iteritems to achieve iterators. We can\nuse dict.items instead, as it will return\niterators in PY3 as well. And dict.items/keys\nwill more readable. 2.In py2, the performance\nabout list should be negligible, see the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I83997d0c43826c9d5b06a72d93365e8e9b4587af\n'}]",0,453550,26147887ebef586113986aab583d2f3b1a5e141a,7,3,1,25079,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using
six.iteritems to achieve iterators. We can
use dict.items instead, as it will return
iterators in PY3 as well. And dict.items/keys
will more readable. 2.In py2, the performance
about list should be negligible, see the link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I83997d0c43826c9d5b06a72d93365e8e9b4587af
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/453550/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/yamlutils.py'],1,26147887ebef586113986aab583d2f3b1a5e141a,replace-six-iteritems," for key, value in data.items():"," for key, value in six.iteritems(data):",1,1
openstack%2Fironic~master~I3ad04ff36ebe0b4ab3f4a2050f91044dc32a2631,openstack/ironic,master,I3ad04ff36ebe0b4ab3f4a2050f91044dc32a2631,Add string comparison for 'IRONIC_DEPLOY_DRIVER',MERGED,2017-04-05 07:34:07.000000000,2017-04-05 12:16:27.000000000,2017-04-05 12:16:27.000000000,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 11076}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 22271}]","[{'number': 1, 'created': '2017-04-05 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/141db6283b34d7f60f9af8abaf1c616344838f13', 'message': ""Add check for 'IRONIC_DEPLOY_DRIVER'\n\nFor ilo drivers, IRONIC_DEPLOY_DRIVER check need to be change.\nIt was integer compersion supposed to be string compersion.\nCloses-Bug:1679944\n\nChange-Id: I3ad04ff36ebe0b4ab3f4a2050f91044dc32a2631\n""}, {'number': 2, 'created': '2017-04-05 08:26:34.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa3ebd6da5505fa5fa22c83ce362047f39c05fa8', 'message': ""Add string comparison for 'IRONIC_DEPLOY_DRIVER'\n\nFor ilo drivers, IRONIC_DEPLOY_DRIVER check need to be change.\nIt was integer comparison supposed to be string comparison.\n\nCloses-Bug:1679944\n\nChange-Id: I3ad04ff36ebe0b4ab3f4a2050f91044dc32a2631\n""}]",8,453499,aa3ebd6da5505fa5fa22c83ce362047f39c05fa8,16,7,2,22271,,,0,"Add string comparison for 'IRONIC_DEPLOY_DRIVER'

For ilo drivers, IRONIC_DEPLOY_DRIVER check need to be change.
It was integer comparison supposed to be string comparison.

Closes-Bug:1679944

Change-Id: I3ad04ff36ebe0b4ab3f4a2050f91044dc32a2631
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/453499/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,141db6283b34d7f60f9af8abaf1c616344838f13,bug/1679944," if [[ $IRONIC_DEPLOY_DRIVER != ""pxe_ilo"" ]]; then"," if [[ $IRONIC_DEPLOY_DRIVER -ne ""pxe_ilo"" ]]; then",1,1
openstack%2Fwatcher~master~I562e53718ed269545a425cf30c59442ec72566f8,openstack/watcher,master,I562e53718ed269545a425cf30c59442ec72566f8,Replace py34 with py35,MERGED,2017-04-05 02:53:01.000000000,2017-04-05 12:08:35.000000000,2017-04-05 12:08:35.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 14107}, {'_account_id': 18971}, {'_account_id': 21239}]","[{'number': 1, 'created': '2017-04-05 02:53:01.000000000', 'files': ['doc/source/dev/testing.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/a139cca260b19f551faccfb1db6cdb2a525fcf79', 'message': 'Replace py34 with py35\n\nChange-Id: I562e53718ed269545a425cf30c59442ec72566f8\n'}]",0,453438,a139cca260b19f551faccfb1db6cdb2a525fcf79,9,5,1,24872,,,0,"Replace py34 with py35

Change-Id: I562e53718ed269545a425cf30c59442ec72566f8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/38/453438/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/testing.rst'],1,a139cca260b19f551faccfb1db6cdb2a525fcf79,,"executing onto `Gerrit`_ which includes ``py35``, ``py27`` and ``pep8``, you (watcher) $ tox -e py35","executing onto `Gerrit`_ which includes ``py34``, ``py27`` and ``pep8``, you (watcher) $ tox -e py34",2,2
openstack%2Ftempest~master~I7f02e28ed64ced54e0c693c41ee9e824bdce42de,openstack/tempest,master,I7f02e28ed64ced54e0c693c41ee9e824bdce42de,Add test_create_update_port_port_security_enabled in test_ports.py,ABANDONED,2017-03-15 08:04:04.000000000,2017-04-05 12:07:05.000000000,,"[{'_account_id': 3}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 14985}, {'_account_id': 15941}, {'_account_id': 20190}, {'_account_id': 21884}, {'_account_id': 21897}]","[{'number': 1, 'created': '2017-03-15 08:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/930963be1036ab768da5b90b1164361399770726', 'message': 'Add test_create_port_with_port_security_enabled in test_ports.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\n'}, {'number': 2, 'created': '2017-03-17 23:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a2ba6af20f940bd85bce917136c781334284c71', 'message': 'Add test_create_port_with_port_security_enabled in test_ports.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\nDepends-on:If59d1b25c557eebb8a9b9db24e7bd209373d6720\n'}, {'number': 3, 'created': '2017-03-18 06:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20fe854189ac967b95903dadbbfca7c5962b45a7', 'message': 'Add test_create_port_with_port_security_enabled in test_ports.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\n'}, {'number': 4, 'created': '2017-03-21 00:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ab9263d76ea76d53ed0e372d5de6e08183c56ebd', 'message': 'Add test_port_toggle_port_security_enabled in test_ports.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\n'}, {'number': 5, 'created': '2017-03-21 03:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/797b6557dca63e4460bd8d225cb14cb9b6a99fdf', 'message': 'Add test_toggle_port_security_enabled in test_ports.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\n'}, {'number': 6, 'created': '2017-03-22 06:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59eb02ad495ac56704570a6d8337c9b805510dc4', 'message': 'Add test_create_update_port_port_security_enabled in test_ports.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\n'}, {'number': 7, 'created': '2017-03-30 11:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8a7125af672ad5c358fa1d798d8c7f3ade2c573', 'message': 'Add test_create_update_port_port_security_enabled in test_ports.py\n\nSometimes,user want to control the VM traffic bypass Security group,\nat the momentt ,they can set port_security_enabled to false.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\n'}, {'number': 8, 'created': '2017-03-30 11:10:16.000000000', 'files': ['tempest/api/network/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/393d2c0e55aff343d31df817f287f620a827109c', 'message': 'Add test_create_update_port_port_security_enabled in test_ports.py\n\nSometimes,user want to control the VM traffic bypass Security group,\nat the moment ,they can set port_security_enabled to false.\n\nChange-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de\n'}]",3,445806,393d2c0e55aff343d31df817f287f620a827109c,58,9,8,21897,,,0,"Add test_create_update_port_port_security_enabled in test_ports.py

Sometimes,user want to control the VM traffic bypass Security group,
at the moment ,they can set port_security_enabled to false.

Change-Id: I7f02e28ed64ced54e0c693c41ee9e824bdce42de
",git fetch https://review.opendev.org/openstack/tempest refs/changes/06/445806/8 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_ports.py'],1,930963be1036ab768da5b90b1164361399770726,," @test.attr(type='smoke') @decorators.idempotent_id('9574d654-094c-11e7-8bb3-fa163e4fa634') def test_create_port_with_port_security_enabled(self): # create port,set port_security_enabled to False port = self.ports_client.create_port(network_id=self.network['id'], port_security_enabled=False) self.addCleanup(self.ports_client.delete_port, port['port']['id']) self.assertEqual(False, port['port']['port_security_enabled']) # update port_security_enabled to True port = self.ports_client.update_port(port['port']['id'], port_security_enabled=True) self.assertEqual(True, port['port']['port_security_enabled']) ",,13,0
openstack%2Fgovernance~master~I6ca17860cd73feda5715589adc31f31c506edf31,openstack/governance,master,I6ca17860cd73feda5715589adc31f31c506edf31,"Revert ""Blacklist Pillow 4.1.0""",MERGED,2017-04-05 10:45:44.000000000,2017-04-05 12:06:30.000000000,2017-04-05 12:06:30.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6159}]","[{'number': 1, 'created': '2017-04-05 10:45:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/governance/commit/a177306d5d9e88870598c1d6b414a2e10e9f7ed4', 'message': 'Revert ""Blacklist Pillow 4.1.0""\n\nThis reverts commit 5ddcdce53abd279fcc0ab3942248aef1018ab6e5.\n\nAccording to wiredfool on the GitHub issue[1], this was an issue\nwith manylinux wheels as (non-)uploaded to PyPI and should be\nfixed now. Let\'s see.\n\n[1] https://github.com/python-pillow/Pillow/issues/2478\n\nChange-Id: I6ca17860cd73feda5715589adc31f31c506edf31\n'}]",0,453570,a177306d5d9e88870598c1d6b414a2e10e9f7ed4,7,3,1,308,,,0,"Revert ""Blacklist Pillow 4.1.0""

This reverts commit 5ddcdce53abd279fcc0ab3942248aef1018ab6e5.

According to wiredfool on the GitHub issue[1], this was an issue
with manylinux wheels as (non-)uploaded to PyPI and should be
fixed now. Let's see.

[1] https://github.com/python-pillow/Pillow/issues/2478

Change-Id: I6ca17860cd73feda5715589adc31f31c506edf31
",git fetch https://review.opendev.org/openstack/governance refs/changes/70/453570/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a177306d5d9e88870598c1d6b414a2e10e9f7ed4,backlist-pillow-4.1,Pillow>=2.4.0 # PIL License,"Pillow>=2.4.0,!=4.1.0 # PIL License",1,1
openstack%2Ftripleo-quickstart-extras~master~I6a631a775dee58fac74e323edebcb8c8940995e0,openstack/tripleo-quickstart-extras,master,I6a631a775dee58fac74e323edebcb8c8940995e0,DONT REVIEW: testing build role,ABANDONED,2017-03-26 08:33:13.000000000,2017-04-05 11:57:30.000000000,,"[{'_account_id': 3}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-03-26 08:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a422e7115c9d38f0c5fe1416f2d584f65def1c0', 'message': 'DONT REVIEW: testing build role\n\nDepends-On: I7b808f314645f752f41dbdf6c0457ea23511bfb7\nDepends-On: Ic38bc2a5df79dadf72025f207e91a38cc0ab0a92\nChange-Id: I6a631a775dee58fac74e323edebcb8c8940995e0\n'}, {'number': 2, 'created': '2017-03-27 18:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a2805a7b5efc7c547fc924b3f4bd41f465d179c', 'message': 'DONT REVIEW: testing build role\n\nDepends-On: I7b808f314645f752f41dbdf6c0457ea23511bfb7\nDepends-On: Ic38bc2a5df79dadf72025f207e91a38cc0ab0a92\nChange-Id: I6a631a775dee58fac74e323edebcb8c8940995e0\n'}, {'number': 3, 'created': '2017-03-28 10:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e5b38f05092b7b04d7bd15dfbe588f26a36b68b5', 'message': 'DONT REVIEW: testing build role\n\nDepends-On: I7b808f314645f752f41dbdf6c0457ea23511bfb7\nDepends-On: Ic38bc2a5df79dadf72025f207e91a38cc0ab0a92\nDepends-On: I228b5f9ee67215ae742760d449b9cd8a4b9543d0\nChange-Id: I6a631a775dee58fac74e323edebcb8c8940995e0\n'}, {'number': 4, 'created': '2017-03-30 09:54:31.000000000', 'files': ['roles/build-test-packages/defaults/main.yml', 'setup.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6b1fefeea6c6a4b7df3aaa37a75839a5e1007b3', 'message': 'DONT REVIEW: testing build role\n\nDepends-On: I7b808f314645f752f41dbdf6c0457ea23511bfb7\nDepends-On: Ic38bc2a5df79dadf72025f207e91a38cc0ab0a92\nDepends-On: I228b5f9ee67215ae742760d449b9cd8a4b9543d0\nChange-Id: I6a631a775dee58fac74e323edebcb8c8940995e0\n'}]",0,449985,e6b1fefeea6c6a4b7df3aaa37a75839a5e1007b3,27,4,4,10969,,,0,"DONT REVIEW: testing build role

Depends-On: I7b808f314645f752f41dbdf6c0457ea23511bfb7
Depends-On: Ic38bc2a5df79dadf72025f207e91a38cc0ab0a92
Depends-On: I228b5f9ee67215ae742760d449b9cd8a4b9543d0
Change-Id: I6a631a775dee58fac74e323edebcb8c8940995e0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/85/449985/4 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,9a422e7115c9d38f0c5fe1416f2d584f65def1c0,testbld,#,,1,0
openstack%2Fneutron~master~Ia958c366189386b1b5abbadbb4d74950aaa23bb2,openstack/neutron,master,Ia958c366189386b1b5abbadbb4d74950aaa23bb2,Use os-xenapi for neutron when XenServer as hypervisor,MERGED,2016-11-25 07:29:01.000000000,2017-04-05 11:55:46.000000000,2017-04-05 11:55:46.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6735}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17922}, {'_account_id': 19339}, {'_account_id': 20330}]","[{'number': 1, 'created': '2016-11-25 07:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e44c3e56cd7ee4097b4797b7b66f6979c5d751a', 'message': '[DO NOT MERGE] Use os-xenapi for neutron on XenServer\n\nWe are tring to make os-xenapi repository to deal with XenServer\nspecific things in Dom0, this patch is a trial to use os-xenapi\nlib for neutron on XenServer\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 2, 'created': '2016-11-30 02:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2132fd6641f3d3cf649343d29dd973e92e9274c', 'message': '[DO NOT MERGE] Use os-xenapi for neutron on XenServer\n\nWe are tring to make os-xenapi repository to deal with XenServer\nspecific things in Dom0, this patch is a trial to use os-xenapi\nlib for neutron on XenServer\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 3, 'created': '2016-11-30 02:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/919519632d57bdca50bfb46709a42e36b2ada00c', 'message': '[DO NOT MERGE] Use os-xenapi for neutron on XenServer\n\nWe are tring to make os-xenapi repository to deal with XenServer\nspecific things in Dom0, this patch is a trial to use os-xenapi\nlib for neutron on XenServer\n\nDepends-On: If61a96b5844f357e35b205a4083718165ee219c9\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 4, 'created': '2016-12-27 01:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f54b15157226666de3eed279345365b1e4af18a', 'message': '[DO NOT MERGE] Use os-xenapi for neutron on XenServer\n\nWe are tring to make os-xenapi repository to deal with XenServer\nspecific things in Dom0, this patch is a trial to use os-xenapi\nlib for neutron on XenServer\n\nDepends-On: If61a96b5844f357e35b205a4083718165ee219c9\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 5, 'created': '2017-03-20 03:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/128acdcb9887e0c66ded887d84dd38944f0d44ca', 'message': 'WIP: Use os-xenapi for neutron on XenServer\n\nWe are tring to make os-xenapi repository to deal with XenServer\nspecific things in Dom0, this patch is a trial to use os-xenapi\nlib for neutron on XenServer\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 6, 'created': '2017-03-20 03:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3d938d6f12afc9a5f22456436a8e797260dd828', 'message': 'WIP: Use os-xenapi for neutron on XenServer\n\nWe are tring to make os-xenapi repository to deal with XenServer\nspecific things in Dom0, this patch is a trial to use os-xenapi\nlib for neutron on XenServer\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 7, 'created': '2017-03-20 06:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec7b74354600f29d3ca50091311e76562298bc4e', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 8, 'created': '2017-03-20 07:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a41edfc042aaddec825a964b45adf87fec9305b', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 9, 'created': '2017-03-21 03:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffd2a35243e419aa495ccf8dda5bcd7d8111511a', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 10, 'created': '2017-03-23 03:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ff49b23c66b4286b591da1c684deff9522b5506', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor and move the building\nRPM scripts into os-xenapi repo\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 11, 'created': '2017-03-23 05:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b70c667987b6f55b68929845189a6064ff85cdd', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor and move the building\nRPM scripts into os-xenapi repo\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 12, 'created': '2017-03-23 08:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02a00d9a885c79e5dd438a5c05986ea130008d45', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor and move the building\nRPM scripts into os-xenapi repo\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 13, 'created': '2017-03-27 01:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c302d8249785b22ac1b06961b4b2d5763f71d70', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor and move the building\nRPM scripts into os-xenapi repo\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}, {'number': 14, 'created': '2017-03-30 18:33:39.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/xenapi/README', 'neutron/tests/unit/agent/linux/test_xenapi_root_helper.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/xenapi/contrib/build-rpm.sh', 'requirements.txt', 'releasenotes/notes/deprecate-neutron-rootwrap-xen-dom0-124ee3647beecc17.yaml', 'neutron/agent/linux/xenapi_root_helper.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/xenapi/contrib/rpmbuild/SPECS/openstack-quantum-xen-plugins.spec', 'neutron/tests/unit/agent/linux/test_utils.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/xenapi/etc/xapi.d/plugins/netwrap', 'bin/neutron-rootwrap-xen-dom0'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc23e29423206072c04766b5a81d424ea1c955da', 'message': 'Use os-xenapi for neutron when XenServer as hypervisor\n\nWe have made os-xenapi repository to deal with XenServer Dom0\nspecific functions, this patch is to change neutron to use\nos-xenapi when XenServer is hypervisor and move the building\nRPM scripts into os-xenapi repo\n\nDepends-On: I8a31c81d9475387fe4ed7030b70b26098e588771\n\nChange-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2\n'}]",19,402330,bc23e29423206072c04766b5a81d424ea1c955da,133,16,14,17922,,,0,"Use os-xenapi for neutron when XenServer as hypervisor

We have made os-xenapi repository to deal with XenServer Dom0
specific functions, this patch is to change neutron to use
os-xenapi when XenServer is hypervisor and move the building
RPM scripts into os-xenapi repo

Depends-On: I8a31c81d9475387fe4ed7030b70b26098e588771

Change-Id: Ia958c366189386b1b5abbadbb4d74950aaa23bb2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/402330/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/neutron-rootwrap-xen-dom0'],1,1e44c3e56cd7ee4097b4797b7b66f6979c5d751a,use-os-xenapi,"from os_xenapi.client import XenAPI host, 'netwrap.py', 'run_command',","import XenAPI host, 'netwrap', 'run_command',",2,2
openstack%2Fdevstack~master~I8a31c81d9475387fe4ed7030b70b26098e588771,openstack/devstack,master,I8a31c81d9475387fe4ed7030b70b26098e588771,Remove XenServer specific ovs agent config,MERGED,2017-02-17 04:13:25.000000000,2017-04-05 11:54:39.000000000,2017-04-05 11:54:39.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 6735}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 9656}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 16376}, {'_account_id': 17922}, {'_account_id': 24611}]","[{'number': 1, 'created': '2017-02-17 04:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b9982f01bd2c9d8c2cc14ef20c65e483de0f970', 'message': 'WIP: Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 2, 'created': '2017-02-17 08:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d9cda68d64e2f9e0f63825fcdf310b533af656ed', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 3, 'created': '2017-02-17 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f13ac802e614b812370e80d8802991393b94a71a', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 4, 'created': '2017-02-17 10:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/547aa2d932214e816e3250b991f5ee0cb11e5fd7', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 5, 'created': '2017-02-20 08:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/193dd65ed6f2449ad3ee69c2a51e463f07eea075', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 6, 'created': '2017-02-27 02:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/173d26ca887b796a9b04416c389e4d5585625f6c', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 7, 'created': '2017-02-28 10:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8a418211f66761434ae11bf9c58f8dbf347f1e89', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 8, 'created': '2017-03-07 03:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cde4ad26f9faf933c1aef96e3cb7b3789bfce250', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 9, 'created': '2017-03-10 04:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fbc056b4ef6787a5b812d05940a38bcf04172d28', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}, {'number': 10, 'created': '2017-03-22 03:56:19.000000000', 'files': ['lib/nova_plugins/hypervisor-xenserver', 'lib/neutron_plugins/openvswitch_agent', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c779b00840b79ce9c0b3a3c80ade5267e6fcb5f8', 'message': 'Remove XenServer specific ovs agent config\n\nWith XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)\nFor the q-domua it is specific for XenServer, this patch is to move\nthe specific configurations to os-xenapi which we have devstack plugin\nin that repo\n\nDepends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b\n\nChange-Id: I8a31c81d9475387fe4ed7030b70b26098e588771\n'}]",0,435224,c779b00840b79ce9c0b3a3c80ade5267e6fcb5f8,100,13,10,17922,,,0,"Remove XenServer specific ovs agent config

With XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)
For the q-domua it is specific for XenServer, this patch is to move
the specific configurations to os-xenapi which we have devstack plugin
in that repo

Depends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b

Change-Id: I8a31c81d9475387fe4ed7030b70b26098e588771
",git fetch https://review.opendev.org/openstack/devstack refs/changes/24/435224/10 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/openvswitch_agent'],1,8b9982f01bd2c9d8c2cc14ef20c65e483de0f970,remove-xs-neutron,," if [ ""$VIRT_DRIVER"" == 'xenserver' ]; then # Make a copy of our config for domU sudo cp /$Q_PLUGIN_CONF_FILE ""/$Q_PLUGIN_CONF_FILE.domU"" # change domU's config file to STACK_USER sudo chown $STACK_USER:$STACK_USER /$Q_PLUGIN_CONF_FILE.domU # Deal with Dom0's L2 Agent: Q_RR_DOM0_COMMAND=""$NEUTRON_BIN_DIR/neutron-rootwrap-xen-dom0 $Q_RR_CONF_FILE"" # For now, duplicate the xen configuration already found in nova.conf iniset $Q_RR_CONF_FILE xenapi xenapi_connection_url ""$XENAPI_CONNECTION_URL"" iniset $Q_RR_CONF_FILE xenapi xenapi_connection_username ""$XENAPI_USER"" iniset $Q_RR_CONF_FILE xenapi xenapi_connection_password ""$XENAPI_PASSWORD"" # Under XS/XCP, the ovs agent needs to target the dom0 # integration bridge. This is enabled by using a root wrapper # that executes commands on dom0 via a XenAPI plugin. # XenAPI does not support daemon rootwrap now, so set root_helper_daemon empty iniset ""/$Q_PLUGIN_CONF_FILE.domU"" agent root_helper ""$Q_RR_DOM0_COMMAND"" iniset ""/$Q_PLUGIN_CONF_FILE.domU"" agent root_helper_daemon """" # Disable minimize polling, so that it can always detect OVS and Port changes # This is a problem of xenserver + neutron, bug has been reported # https://bugs.launchpad.net/neutron/+bug/1495423 iniset ""/$Q_PLUGIN_CONF_FILE.domU"" agent minimize_polling False # Set ""physical"" mapping iniset ""/$Q_PLUGIN_CONF_FILE.domU"" ovs bridge_mappings ""physnet1:$FLAT_NETWORK_BRIDGE"" # XEN_INTEGRATION_BRIDGE is the integration bridge in dom0 iniset ""/$Q_PLUGIN_CONF_FILE.domU"" ovs integration_bridge $XEN_INTEGRATION_BRIDGE # Set OVS native interface for ovs-agent in compute node XEN_DOM0_IP=$(echo ""$XENAPI_CONNECTION_URL"" | cut -d ""/"" -f 3) iniset /$Q_PLUGIN_CONF_FILE.domU ovs ovsdb_connection tcp:$XEN_DOM0_IP:6640 iniset /$Q_PLUGIN_CONF_FILE.domU ovs of_listen_address $HOST_IP # Set up domU's L2 agent: # Create a bridge ""br-$VLAN_INTERFACE"" _neutron_ovs_base_add_bridge ""br-$VLAN_INTERFACE"" # Add $VLAN_INTERFACE to that bridge sudo ovs-vsctl -- --may-exist add-port ""br-$VLAN_INTERFACE"" $VLAN_INTERFACE # Create external bridge and add port _neutron_ovs_base_add_public_bridge sudo ovs-vsctl -- --may-exist add-port $PUBLIC_BRIDGE $PUBLIC_INTERFACE # Set bridge mappings to ""physnet1:br-$GUEST_INTERFACE_DEFAULT"" iniset /$Q_PLUGIN_CONF_FILE ovs bridge_mappings ""physnet1:br-$VLAN_INTERFACE,physnet-ex:$PUBLIC_BRIDGE"" # Set integration bridge to domU's iniset /$Q_PLUGIN_CONF_FILE ovs integration_bridge $OVS_BRIDGE # Set root wrap iniset /$Q_PLUGIN_CONF_FILE agent root_helper ""$Q_RR_COMMAND"" fi",0,56
openstack%2Ftripleo-validations~stable%2Focata~Ibebd89f48bf6cfbe0e47cde660354d171a1520ed,openstack/tripleo-validations,stable/ocata,Ibebd89f48bf6cfbe0e47cde660354d171a1520ed,Updated from global requirements,MERGED,2017-04-03 17:40:03.000000000,2017-04-05 11:53:40.000000000,2017-04-05 11:53:40.000000000,"[{'_account_id': 3}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-04-03 17:40:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f37762f20a659470a1526e862160b55e9165df2c', 'message': 'Updated from global requirements\n\nChange-Id: Ibebd89f48bf6cfbe0e47cde660354d171a1520ed\n'}]",0,452881,f37762f20a659470a1526e862160b55e9165df2c,9,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ibebd89f48bf6cfbe0e47cde660354d171a1520ed
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/81/452881/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f37762f20a659470a1526e862160b55e9165df2c,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0python-novaclient!=7.0.0,>=6.0.0 # Apache-2.0","pbr>=1.8 # Apache-2.0python-novaclient!=2.33.0,>=2.29.0 # Apache-2.0",2,2
openstack%2Fkolla-ansible~master~Ia3f3686e2cc27e4bd0707add50ebc552117d6b03,openstack/kolla-ansible,master,Ia3f3686e2cc27e4bd0707add50ebc552117d6b03,Remove min_l3_agents_per_router option,MERGED,2017-03-29 03:29:41.000000000,2017-04-05 11:52:08.000000000,2017-04-05 11:52:08.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-29 03:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71d60ff18956a6e9ab165390db1b08d0667ae34f', 'message': 'Remove min_l3_agents_per_router option\n\nmin_l3_agents_per_router parameter has been removed in neutron, so\nwe can remove it.\n\nChange-Id: Ia3f3686e2cc27e4bd0707add50ebc552117d6b03\nCloses-Bug: #1677101\n'}, {'number': 2, 'created': '2017-03-30 00:44:59.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66ac7aa4593f17d3a6ba13137526ba296ce043fb', 'message': 'Remove min_l3_agents_per_router option\n\nmin_l3_agents_per_router parameter has been removed in neutron[0].\nSo we can remove it.\n\n[0] https://github.com/openstack/neutron/blob/master/releasenotes/notes/remove-min-l3-agents-per-router-27aef7d91dec0348.yaml\n\nChange-Id: Ia3f3686e2cc27e4bd0707add50ebc552117d6b03\nCloses-Bug: #1677101\n'}]",0,451159,66ac7aa4593f17d3a6ba13137526ba296ce043fb,15,6,2,9414,,,0,"Remove min_l3_agents_per_router option

min_l3_agents_per_router parameter has been removed in neutron[0].
So we can remove it.

[0] https://github.com/openstack/neutron/blob/master/releasenotes/notes/remove-min-l3-agents-per-router-27aef7d91dec0348.yaml

Change-Id: Ia3f3686e2cc27e4bd0707add50ebc552117d6b03
Closes-Bug: #1677101
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/451159/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/neutron/defaults/main.yml']",2,71d60ff18956a6e9ab165390db1b08d0667ae34f,bug/1677101,,min_l3_agents_per_router: 2,0,2
openstack%2Fironic~master~If5e0fbf2cd43b82226a06d3ed30162de4c9113ed,openstack/ironic,master,If5e0fbf2cd43b82226a06d3ed30162de4c9113ed,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-04 21:07:12.000000000,2017-04-05 11:47:25.000000000,,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-04-04 21:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48c2aaa49889b78e6c0e83d4a98beb25d74ab824', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: If5e0fbf2cd43b82226a06d3ed30162de4c9113ed\nSem-Ver: feature\n'}, {'number': 2, 'created': '2017-04-05 01:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3ab041af0eda8a248012c1a544854e673534e66', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: If5e0fbf2cd43b82226a06d3ed30162de4c9113ed\nSem-Ver: api-break\n'}]",0,453331,d3ab041af0eda8a248012c1a544854e673534e66,15,8,2,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: If5e0fbf2cd43b82226a06d3ed30162de4c9113ed
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/453331/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,48c2aaa49889b78e6c0e83d4a98beb25d74ab824,sem-ver/pike,,,0,0
openstack%2Ffuel-menu~stable%2F8.0~I2d6e0db042058be0bc48c9d66ce4d9066561153c,openstack/fuel-menu,stable/8.0,I2d6e0db042058be0bc48c9d66ce4d9066561153c,Correctly set hostname via hostnamectl,MERGED,2016-02-18 19:50:46.000000000,2017-04-05 11:43:01.000000000,2017-04-05 11:42:55.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8358}, {'_account_id': 10443}, {'_account_id': 10488}, {'_account_id': 13344}, {'_account_id': 14200}, {'_account_id': 14610}, {'_account_id': 14689}, {'_account_id': 17730}, {'_account_id': 18290}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-02-18 19:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-menu/commit/6584749b9eb6d6d7e547f5768e41a1eddaed275d', 'message': 'Correctly set hostname via hostnamectl\n\nThis commit correctly set hostname under CentOS via hostnamectl.\n(cherry picked from commit b14b7a69a81dc9980e4abb9dbb84fdc0678e43af)\n\nAlso it contains utils.execute function.\n(cherry picked from commit d2a14d489850da1327ab9aa5281c7f37d6d00db9)\n\nChange-Id: I2d6e0db042058be0bc48c9d66ce4d9066561153c\nCloses-Bug: #1543357\n'}, {'number': 2, 'created': '2016-02-20 08:39:11.000000000', 'files': ['fuelmenu/common/utils.py', 'fuelmenu/modules/dnsandhostname.py'], 'web_link': 'https://opendev.org/openstack/fuel-menu/commit/daef8de1145d48fe756bd5a8b6a7180de63c3674', 'message': 'Correctly set hostname via hostnamectl\n\nThis commit correctly set hostname under CentOS via hostnamectl.\n(cherry picked from commit b14b7a69a81dc9980e4abb9dbb84fdc0678e43af)\n\nAlso it contains utils.execute function.\n(cherry picked from commit d2a14d489850da1327ab9aa5281c7f37d6d00db9)\n\nChange-Id: I2d6e0db042058be0bc48c9d66ce4d9066561153c\nCloses-Bug: #1543357\n'}]",2,282036,daef8de1145d48fe756bd5a8b6a7180de63c3674,28,12,2,14200,,,0,"Correctly set hostname via hostnamectl

This commit correctly set hostname under CentOS via hostnamectl.
(cherry picked from commit b14b7a69a81dc9980e4abb9dbb84fdc0678e43af)

Also it contains utils.execute function.
(cherry picked from commit d2a14d489850da1327ab9aa5281c7f37d6d00db9)

Change-Id: I2d6e0db042058be0bc48c9d66ce4d9066561153c
Closes-Bug: #1543357
",git fetch https://review.opendev.org/openstack/fuel-menu refs/changes/36/282036/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelmenu/common/utils.py', 'fuelmenu/modules/dnsandhostname.py']",2,6584749b9eb6d6d7e547f5768e41a1eddaed275d,bug/1543357," cmd = [""/usr/bin/hostnamectl"", ""set-hostname"", responses[""HOSTNAME""]] err_code, _, errout = utils.execute(cmd) if err_code != 0: log.error(""Hostname change failed with an error: "" ""\""{0}\"""".format(errout)) self.parent.footer.set_text(""Unable to apply changes. Check logs "" ""for more details."") return False "," expr = 'HOSTNAME=.*' replace.replaceInFile(""/etc/sysconfig/network"", expr, ""HOSTNAME=%s.%s"" % (responses[""HOSTNAME""], responses[""DNS_DOMAIN""]))",33,5
openstack%2Fos-win~master~I08b8c81a56f80a9664007a7f67fcab1689cd6549,openstack/os-win,master,I08b8c81a56f80a9664007a7f67fcab1689cd6549,Synchronize iscsi_target_utils,MERGED,2017-02-10 17:13:05.000000000,2017-04-05 11:42:36.000000000,2017-02-16 12:56:06.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 24544}]","[{'number': 1, 'created': '2017-02-10 17:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/30ca51e6a77d3432135b8fb421bed041cda1c297', 'message': ""[wip] Synchronize iscsi_target_utils\n\nThe iSCSI target server WMI methods often deadlock when run in\nparallel. For this reason, we'll have to synchronize them.\n\nChange-Id: I08b8c81a56f80a9664007a7f67fcab1689cd6549\n""}, {'number': 2, 'created': '2017-02-13 15:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/3f1f8854f599b0cc25813c3361c323b647d86eac', 'message': ""Synchronize iscsi_target_utils\n\nThe iSCSI target server WMI methods often deadlock when run in parallel.\n\nWe experienced those issues after starting executing WMI calls in\nparallel. On our CI, we've seen cases where about 20 VHD creation\nrequests hang for about 20 minutes, consuming PyMI's thread pool and\neffectively blocking Cinder.\n\nSynchronizing the according WMI calls seems to be the only workaround\nwe have at the moment.\n\nChange-Id: I08b8c81a56f80a9664007a7f67fcab1689cd6549\n""}, {'number': 3, 'created': '2017-02-13 15:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/46771482f626f9acd20a44bd66fe9aa39e08f7f8', 'message': ""Synchronize iscsi_target_utils\n\nThe iSCSI target server WMI methods often deadlock when run in parallel.\n\nWe experienced those issues after starting executing WMI calls in\nparallel. On our CI, we've seen cases where about 20 VHD creation\nrequests hang for about 20 minutes, consuming PyMI's thread pool and\neffectively blocking Cinder.\n\nSynchronizing the according WMI calls seems to be the only workaround\nwe have at the moment.\n\nCloses-Bug: #1664270\n\nChange-Id: I08b8c81a56f80a9664007a7f67fcab1689cd6549\n""}, {'number': 4, 'created': '2017-02-14 14:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/948a66d8292876ecc055a0233acd4ae5172a0560', 'message': ""Synchronize iscsi_target_utils\n\nThe iSCSI target server WMI methods often deadlock when run in parallel.\n\nWe experienced those issues after starting executing WMI calls in\nparallel. On our CI, we've seen cases where about 20 VHD creation\nrequests hang for about 20 minutes, consuming PyMI's thread pool and\neffectively blocking Cinder.\n\nSynchronizing the according WMI calls seems to be the only workaround\nwe have at the moment.\n\nCloses-Bug: #1664270\n\nChange-Id: I08b8c81a56f80a9664007a7f67fcab1689cd6549\n""}, {'number': 5, 'created': '2017-02-16 12:32:00.000000000', 'files': ['os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/utils/baseutils.py', 'os_win/tests/unit/utils/test_baseutils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/a3f39a5593f4fbc10dcdb0fd30ad0d36ddab5146', 'message': ""Synchronize iscsi_target_utils\n\nThe iSCSI target server WMI methods often deadlock when run in parallel.\n\nWe experienced those issues after starting executing WMI calls in\nparallel. On our CI, we've seen cases where about 20 VHD creation\nrequests hang for about 20 minutes, consuming PyMI's thread pool and\neffectively blocking Cinder.\n\nSynchronizing the according WMI calls seems to be the only workaround\nwe have at the moment.\n\nCloses-Bug: #1664270\n\nChange-Id: I08b8c81a56f80a9664007a7f67fcab1689cd6549\n""}]",5,432390,a3f39a5593f4fbc10dcdb0fd30ad0d36ddab5146,26,5,5,8543,,,0,"Synchronize iscsi_target_utils

The iSCSI target server WMI methods often deadlock when run in parallel.

We experienced those issues after starting executing WMI calls in
parallel. On our CI, we've seen cases where about 20 VHD creation
requests hang for about 20 minutes, consuming PyMI's thread pool and
effectively blocking Cinder.

Synchronizing the according WMI calls seems to be the only workaround
we have at the moment.

Closes-Bug: #1664270

Change-Id: I08b8c81a56f80a9664007a7f67fcab1689cd6549
",git fetch https://review.opendev.org/openstack/os-win refs/changes/90/432390/5 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/utils/baseutils.py']",2,30ca51e6a77d3432135b8fb421bed041cda1c297,bug/1664270,"import threading import timefrom oslo_log import log as logging from oslo_utils import reflection LOG = logging.getLogger(__name__) class SynchronizedMeta(type): """"""Use an rlock to synchronize all class methods."""""" def __init__(cls, cls_name, bases, attrs): super(SynchronizedMeta, cls).__init__(cls_name, bases, attrs) rlock = threading.RLock() for attr_name in attrs: attr = getattr(cls, attr_name) if callable(attr): decorated = SynchronizedMeta._synchronize( attr, cls_name, rlock) setattr(cls, attr_name, decorated) @staticmethod def _synchronize(func, cls_name, rlock): def wrapper(*args, **kwargs): f_qual_name = reflection.get_callable_name(func) t_request = time.time() try: with rlock: t_acquire = time.time() LOG.debug(""Method %(method_name)s acquired rlock. "" ""Waited %(time_wait)0.3fs"", dict(method_name=f_qual_name, time_wait=t_acquire - t_request)) return func(*args, **kwargs) finally: t_release = time.time() LOG.debug(""Method %(method_name)s released rlock. "" ""Held %(time_held)0.3fs"", dict(method_name=f_qual_name, time_held=t_release - t_acquire)) return wrapper",,47,0
openstack%2Finstack-undercloud~stable%2Focata~Ic2e6fe9503a0af5fd652a5cbf25262bd705e3951,openstack/instack-undercloud,stable/ocata,Ic2e6fe9503a0af5fd652a5cbf25262bd705e3951,Set default domain for all keystone users,MERGED,2017-04-03 22:49:21.000000000,2017-04-05 11:41:35.000000000,2017-04-05 11:41:35.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 10239}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-03 22:49:21.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/ff55e1772dac53c900d6dbf27cdd4ba1962291b7', 'message': ""Set default domain for all keystone users\n\nThe resource Keystone::Resource::Service_identity gets a parameter\ncalled default_domain. This parameter comes into effect if no user or\nproject domain have been specified. So it's a good way to get all the\nkesytone services to use this domain. The aforementioned resource is in\ncharge of creating the relevant keystone users, roles, services and\nendpoints for OpenStack services.\n\nChange-Id: Ic2e6fe9503a0af5fd652a5cbf25262bd705e3951\n(cherry picked from commit 7f3a230270fb1adcc09d07a5f831c5b5dd910af6)\n""}]",0,452987,ff55e1772dac53c900d6dbf27cdd4ba1962291b7,8,4,1,6924,,,0,"Set default domain for all keystone users

The resource Keystone::Resource::Service_identity gets a parameter
called default_domain. This parameter comes into effect if no user or
project domain have been specified. So it's a good way to get all the
kesytone services to use this domain. The aforementioned resource is in
charge of creating the relevant keystone users, roles, services and
endpoints for OpenStack services.

Change-Id: Ic2e6fe9503a0af5fd652a5cbf25262bd705e3951
(cherry picked from commit 7f3a230270fb1adcc09d07a5f831c5b5dd910af6)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/87/452987/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-stack-config/puppet-stack-config.pp', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",2,ff55e1772dac53c900d6dbf27cdd4ba1962291b7,keystone-domain,keystone_default_domain: 'Default',,5,0
openstack%2Faodh~master~I2c6cfddb7f7e14caef51fc364f4d20ac57c9cea2,openstack/aodh,master,I2c6cfddb7f7e14caef51fc364f4d20ac57c9cea2,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:32:46.000000000,2017-04-05 11:40:32.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-05 01:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/fc9064a8f5ca5b73d89413c93685c7810a50e798', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I2c6cfddb7f7e14caef51fc364f4d20ac57c9cea2\nSem-Ver: api-break\n'}]",0,453410,fc9064a8f5ca5b73d89413c93685c7810a50e798,3,1,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I2c6cfddb7f7e14caef51fc364f4d20ac57c9cea2
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/aodh refs/changes/10/453410/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,fc9064a8f5ca5b73d89413c93685c7810a50e798,,,,0,0
openstack%2Finstack-undercloud~stable%2Focata~I8f8e234ab480fd9412f1cfb7bfd9f3d5c41f2bc1,openstack/instack-undercloud,stable/ocata,I8f8e234ab480fd9412f1cfb7bfd9f3d5c41f2bc1,Replace hardcoded regions by hiera call,MERGED,2017-04-03 22:48:07.000000000,2017-04-05 11:40:27.000000000,2017-04-05 11:40:27.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 10239}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-03 22:48:07.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/dc6566dd4dd6105194e8aae8433c1dd10b5bbe64', 'message': 'Replace hardcoded regions by hiera call\n\nSome settings of the region were hardcoded and some were not. This uses\ncalls instead to make it uniform.\n\nChange-Id: I8f8e234ab480fd9412f1cfb7bfd9f3d5c41f2bc1\n(cherry picked from commit 57b86aab39e549176c205b8e0030bbf95faaa6b6)\n'}]",0,452985,dc6566dd4dd6105194e8aae8433c1dd10b5bbe64,8,4,1,6924,,,0,"Replace hardcoded regions by hiera call

Some settings of the region were hardcoded and some were not. This uses
calls instead to make it uniform.

Change-Id: I8f8e234ab480fd9412f1cfb7bfd9f3d5c41f2bc1
(cherry picked from commit 57b86aab39e549176c205b8e0030bbf95faaa6b6)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/85/452985/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,dc6566dd4dd6105194e8aae8433c1dd10b5bbe64,region-hiera,"ceilometer::agent::auth::auth_region: ""%{hiera('keystone_region')}"" aodh::auth::auth_region: ""%{hiera('keystone_region')}""nova::placement::os_region_name: ""%{hiera('keystone_region')}""mistral::keystone::auth::region: ""%{hiera('keystone_region')}""zaqar::keystone::auth::region: ""%{hiera('keystone_region')}""zaqar::keystone::auth_websocket::region: ""%{hiera('keystone_region')}""cinder::keystone::auth::region: ""%{hiera('keystone_region')}""",ceilometer::agent::auth::auth_region: 'regionOne' aodh::auth::auth_region: 'regionOne'nova::placement::os_region_name: 'regionOne'mistral::keystone::auth::region: 'regionOne'zaqar::keystone::auth::region: 'regionOne'zaqar::keystone::auth_websocket::region: 'regionOne'cinder::keystone::auth::region: 'regionOne',7,7
openstack%2Fbarbican~master~Ic3338068889fa8a3fd67281c7c23346f23292f10,openstack/barbican,master,Ic3338068889fa8a3fd67281c7c23346f23292f10,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:14:32.000000000,2017-04-05 11:38:35.000000000,,"[{'_account_id': 3}, {'_account_id': 10873}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-04-05 01:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/db9e023e6e7d6f8dacfbdd5ef2485793ac3447ce', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: Ic3338068889fa8a3fd67281c7c23346f23292f10\nSem-Ver: feature\n'}, {'number': 2, 'created': '2017-04-05 01:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/233c7414692c55bc31413a1a5b97c28133dea1e3', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: Ic3338068889fa8a3fd67281c7c23346f23292f10\nSem-Ver: api-break\n'}]",0,453392,233c7414692c55bc31413a1a5b97c28133dea1e3,7,3,2,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: Ic3338068889fa8a3fd67281c7c23346f23292f10
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/barbican refs/changes/92/453392/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,db9e023e6e7d6f8dacfbdd5ef2485793ac3447ce,sem-ver/pike,,,0,0
openstack%2Fproject-config~master~I5aef117230c409d502c2f5f04d002fc4df66f53b,openstack/project-config,master,I5aef117230c409d502c2f5f04d002fc4df66f53b,Add timeout to buildimage jobs,MERGED,2017-04-05 11:11:01.000000000,2017-04-05 11:33:13.000000000,2017-04-05 11:33:13.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 6133}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-05 11:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d774a60de566c12d2e13fb7af08871b38dbfd636', 'message': 'Add timeout to buildimage jobs\n\nThe current buildimage jobs are failing due to\ntimeouts, although the final result is correct. Increasing\nit to match the right time estimates.\n\nChange-Id: I5aef117230c409d502c2f5f04d002fc4df66f53b\n'}, {'number': 2, 'created': '2017-04-05 11:12:43.000000000', 'files': ['jenkins/jobs/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4a2f93b90c7e8ef4acb25e1eaf55553e23e3661c', 'message': 'Add timeout to buildimage jobs\n\nThe current buildimage jobs are failing due to\ntimeouts, although the final result is correct. Increasing\nit to match the right time estimates.\n\nChange-Id: I5aef117230c409d502c2f5f04d002fc4df66f53b\n'}]",0,453579,4a2f93b90c7e8ef4acb25e1eaf55553e23e3661c,9,4,2,6133,,,0,"Add timeout to buildimage jobs

The current buildimage jobs are failing due to
timeouts, although the final result is correct. Increasing
it to match the right time estimates.

Change-Id: I5aef117230c409d502c2f5f04d002fc4df66f53b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/453579/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/tripleo.yaml'],1,d774a60de566c12d2e13fb7af08871b38dbfd636,, wrappers: - build-timeout: timeout: '{timeout}' - timestamps timeout: 70, timeout: '{timeout}',6,1
openstack%2Fkolla-ansible~master~I8aeb47f60b3aeb022e0cd7aaac630d7cad5b0099,openstack/kolla-ansible,master,I8aeb47f60b3aeb022e0cd7aaac630d7cad5b0099,Fix Telegraf retention policy not found,MERGED,2017-04-04 08:22:38.000000000,2017-04-05 11:32:26.000000000,2017-04-05 11:32:25.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}, {'_account_id': 22959}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-04-04 08:22:38.000000000', 'files': ['ansible/roles/telegraf/templates/telegraf.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a914fb6671312ab9b8ddf3fed98160fca0e6b93c', 'message': 'Fix Telegraf retention policy not found\n\nNew version of influxdb use ""autogen"" as default retention policy name.\nPlease see https://github.com/influxdata/influxdb/issues/3733 for more\ninfo.\n\nChange-Id: I8aeb47f60b3aeb022e0cd7aaac630d7cad5b0099\nCloses-Bug: #1673914\n'}]",0,453058,a914fb6671312ab9b8ddf3fed98160fca0e6b93c,9,5,1,8157,,,0,"Fix Telegraf retention policy not found

New version of influxdb use ""autogen"" as default retention policy name.
Please see https://github.com/influxdata/influxdb/issues/3733 for more
info.

Change-Id: I8aeb47f60b3aeb022e0cd7aaac630d7cad5b0099
Closes-Bug: #1673914
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/453058/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/telegraf/templates/telegraf.conf.j2'],1,a914fb6671312ab9b8ddf3fed98160fca0e6b93c,bug/1673914," retention_policy = ""autogen"""," retention_policy = ""default""",1,1
openstack%2Fcloudkitty~master~If19e52b9bbee0eeebb67a933d40b20a26463ddd6,openstack/cloudkitty,master,If19e52b9bbee0eeebb67a933d40b20a26463ddd6,Replace six.iteritems() with .items(),ABANDONED,2017-03-30 13:41:55.000000000,2017-04-05 11:32:11.000000000,,"[{'_account_id': 3}, {'_account_id': 15917}]","[{'number': 1, 'created': '2017-03-30 13:41:55.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/f8c799db4aa0_fix_unnamed_constraints.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2d85850dfc60a8d3524600a17f1726fc02a1b4b1', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: If19e52b9bbee0eeebb67a933d40b20a26463ddd6\n'}]",0,451825,2d85850dfc60a8d3524600a17f1726fc02a1b4b1,4,2,1,20401,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3 as well. And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the
link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: If19e52b9bbee0eeebb67a933d40b20a26463ddd6
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/25/451825/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/f8c799db4aa0_fix_unnamed_constraints.py'],1,2d85850dfc60a8d3524600a17f1726fc02a1b4b1,," for name, table in models.Base.metadata.tables.items(): for name, table in tables.items(): for name, table in models.Base.metadata.tables.items(): for table_name, constraints in cur_ops.get( constraint_type, dict()).items(): for table_name, constraints in cur_ops.get( constraint_type, dict()).items():","import six for name, table in six.iteritems(models.Base.metadata.tables): for name, table in six.iteritems(tables): for name, table in six.iteritems(models.Base.metadata.tables): for table_name, constraints in six.iteritems( cur_ops.get(constraint_type, dict())): for table_name, constraints in six.iteritems( cur_ops.get(constraint_type, dict())):",7,8
openstack%2Fnova-specs~master~I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6,openstack/nova-specs,master,I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6,Add ScaleIO ephemeral storage backend,MERGED,2016-04-12 15:42:56.000000000,2017-04-05 11:26:10.000000000,2017-04-05 11:26:10.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2243}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 6491}, {'_account_id': 6873}, {'_account_id': 7160}, {'_account_id': 9312}, {'_account_id': 9555}, {'_account_id': 10224}, {'_account_id': 10379}, {'_account_id': 11564}]","[{'number': 1, 'created': '2016-04-12 15:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/394a9573a0d46a606f1f8916afd4f2655f9ff8a7', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 2, 'created': '2016-04-13 17:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d50b75e72cc58ef5b70666b7bbcd5a7d13189bb3', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 3, 'created': '2016-05-17 19:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b0d6dac03441a15a8f92267250fcabf074b3c046', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 4, 'created': '2016-05-20 19:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/501719ee650d514bb56eea1b347d18f2eb5ec51e', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 5, 'created': '2016-09-29 11:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c9813dba1aa487e50f3e44599923ffa1bb57dfc8', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 6, 'created': '2016-10-20 18:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7e8c919639c457db4949d032a88f88a62c944c4b', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 7, 'created': '2016-11-03 06:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/22b357f624d68cbe2a69e254d97ed6071292d77e', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 8, 'created': '2016-11-22 13:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fd9005e87e678be02e7ece636e6b178a458a2190', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 9, 'created': '2016-11-23 16:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/809d9f8ef617036fe72bea15aa191c6a64b9a353', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 10, 'created': '2017-01-20 15:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f00685445ddb3f6dad99ef87e3321b5206426483', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 11, 'created': '2017-03-01 18:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dab3b2562ac38f10ba5d587cda71316bcdd6ca55', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 12, 'created': '2017-03-02 08:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ab8ca646cf6e1780df54b4512d2b2a2142e20b5b', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}, {'number': 13, 'created': '2017-03-03 08:32:39.000000000', 'files': ['specs/pike/approved/scaleio-ephemeral-storage-backend.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/03342d4b864120b7454f56794d3f16aefd58c353', 'message': 'Add ScaleIO ephemeral storage backend\n\nThis spec proposes a solution to add support for ScaleIO as ephemeral\nstorage backend.\n\nBlueprint: scaleio-ephemeral-storage-backend\nChange-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6\n'}]",126,304715,03342d4b864120b7454f56794d3f16aefd58c353,76,13,13,10224,,,0,"Add ScaleIO ephemeral storage backend

This spec proposes a solution to add support for ScaleIO as ephemeral
storage backend.

Blueprint: scaleio-ephemeral-storage-backend
Change-Id: I82f5aa9c51a6fa6c67b730c993d830d935f7e0d6
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/15/304715/10 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/scaleio-ephemeral-storage-backend.rst'],1,394a9573a0d46a606f1f8916afd4f2655f9ff8a7,bp/scaleio-ephemeral-storage-backend,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== EMC ScaleIO as ephemeral storage backend ======================================== https://blueprints.launchpad.net/nova/+spec/scaleio-ephemeral-storage-backend Add support for ScaleIO as an ephemeral storage backend. Problem description =================== Nova should be able to use EMC ScaleIO - another one software-defined storage - as an ephemeral storage backend. ScaleIO is already supported by Cinder (and os-brick) for volume hosting. It is reasonable (and asked by customers) to let Nova use ScaleIO for ephemeral disks. The required set of supported features should be the same as the one implemented for Ceph, including live migration, except features related to interaction with Glance (since Glance does not support ScaleIO yet). Main ScaleIO traits which have to be considered in a special way during development are: * ScaleIO devices must be explicitly connected to a compute host before its usage, and disconnected after that. * ScaleIO can provide volumes which sizes are multiples of 8 Gb only. Use Cases --------- * A cloud operator selects ScaleIO as the ephemeral backend for certain compute nodes. He/she ensures that no instance is running on the nodes. He/she ensures that SDC (ScaleIO Data Client) is properly installed on the nodes, and makes appropriate changes to nova-compute configuration files to setup them to use ScaleIO cluster. After restart nova-compute services on the nodes new instances will use ScaleIO for all ephemeral disks. There is no other use case specific for ScaleIO in addition to existing ones to manage instances by end user and/or cloud operator. Most valuable existing use cases are: create/delete, live migrate, resize/revert resize, create snapshot. Proposed change =============== * A new images type, a new image backend class, and a new image model class will be introduced and will be used throughout all *nova.virt.libvirt* package as it is done for rbd and lvm image types. * New static methods will be introduced in abstract class *nova.virt.libvirt.imagebackend.Image* with empty implementation:: @staticmethod def connect_disks(instance): pass @staticmethod def disconnect_disks(instance): pass Only ScaleIO image backend will have not trivial implementation of these methods. These methods will be called in appropriate places of *nova.virt.libvirt.driver* to connect/disconnect instance's disks. * ScaleIO image backend will fail to create disks with sizes differ from multiples of 8 Gb. Alternatives ------------ Instead of to fail to run instances on flavors with wrong disk sizes it is possible: #. Approximate disk size to the closest multiple of 8 Gb. Write a recommendation for cloud operators into Nova documentation to use multiples of 8 Gb for disk sizes. Instances will get disks bigger than it is requested. This makes usage of statistics gathered by Nova, Ceilometer, etc. nonsense. Also snapshots size will be bigger than it is expected. #. The same as previous but also fix instance properties (like root_gb). Nova is not designed to have flavor and instance properties different at the moment. #. Create a partition with requested size on ScaleIO volume with approximated size and pass the partition to libvirt as the device. This solution can work with thin provisioning type only. Additional investigations are required to proof that this idea can work, including resize feature. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- partprobe console tool will be invoked with root permissions to refresh ScaleIO device partitions after importing an image. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- ScaleIO cluster must be installed and configured. A protection domain and a storage pool to store ephemeral disks must be created in the cluster. ScaleIO SDC component must be installed on affected compute nodes. These SDCs must be registered with the cluster. Nova's compute config file must contain these options to let ScaleIO image backend work:: [libvirt] images_type = sio [scaleio] rest_server_ip = <ScaleIO Gateway IP> rest_server_username = <ScaleIO Gateway user> rest_server_password = <ScaleIO Gateway user password> protection_domain_name = <ScaleIO protection domain> storage_pool_name = <ScaleIO pool name> default_sdcguid = <ScaleIO SDC guid of compute host> Optional parameters:: [scaleio] provisioning_type = <thick (default) or thin> verify_server_certificate = <True or False (default)> server_certificate_path = <Path to the certificate> rest_server_port = <ScaleIO Gateway port, 443 by default> Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Feodor Tersin <ftersin@hotmail.com> Work Items ---------- * Implement all proposed changes at once. Dependencies ============ A new library *siolib* is used to communicate with ScaleIO via REST API. This library is being developed at the moment and will be available on PyPI in the closest future. Testing ======= * Unit tests. No new Tempest test will be introduced. Documentation Impact ==================== Documentation about usage of ScaleIO for ephemeral storage backend will be added. References ========== [1] EMC ScaleIO portal: http://www.emc.com/storage/scaleio/index.htm [2] ScaleIO vs Ceph comparison: http://cloudscaling.com/blog/cloud-computing/killing-the-storage-unicorn-purpose-built-scaleio-spanks-multi-purpose-ceph-on-performance/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Newton - Introduced ",,225,0
openstack%2Fkolla-ansible~master~I23f0433f56047369ce19bbf3236f6dd7038eb06e,openstack/kolla-ansible,master,I23f0433f56047369ce19bbf3236f6dd7038eb06e,Telegraf: activate influxdb input plugin,MERGED,2017-04-05 06:35:19.000000000,2017-04-05 11:21:29.000000000,2017-04-05 11:21:29.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}, {'_account_id': 22959}]","[{'number': 1, 'created': '2017-04-05 06:35:19.000000000', 'files': ['ansible/roles/telegraf/templates/telegraf.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfecaf3857384d4a60843cd9eda2d236fcf8206a', 'message': 'Telegraf: activate influxdb input plugin\n\nThe InfluxDB plugin will collect metrics on the given InfluxDB servers.\n\nChange-Id: I23f0433f56047369ce19bbf3236f6dd7038eb06e\n'}]",0,453478,bfecaf3857384d4a60843cd9eda2d236fcf8206a,9,4,1,8157,,,0,"Telegraf: activate influxdb input plugin

The InfluxDB plugin will collect metrics on the given InfluxDB servers.

Change-Id: I23f0433f56047369ce19bbf3236f6dd7038eb06e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/453478/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/telegraf/templates/telegraf.conf.j2'],1,bfecaf3857384d4a60843cd9eda2d236fcf8206a,telegraf/influxdb,"[[inputs.influxdb]] urls = [{% for host in groups['influxdb'] %}""{{ influxdb_proto }}://{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address']}}:{{ influxdb_http_port }}/debug/vars""{% if not loop.last %},{% endif %}{% endfor %}]",,2,0
openstack%2Fkolla-ansible~master~I83bb44ed10cb464f87e5235a423a475151ace208,openstack/kolla-ansible,master,I83bb44ed10cb464f87e5235a423a475151ace208,"Fix the ""tox -e docs"" failed",MERGED,2017-04-03 05:25:34.000000000,2017-04-05 11:20:57.000000000,2017-04-05 11:20:57.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 22582}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 24164}, {'_account_id': 24330}]","[{'number': 1, 'created': '2017-04-03 05:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c8db4406e5474e2ffdaeaaff021f4fa4e9761486', 'message': 'Fix the ""toc -e docs"" failed\n\ndoc/running-tests.rst:64: D001 Line too long\ndoc/bifrost.rst:164: D000 Unknown target name: ""edit-inventory"".\n\nChange-Id: I83bb44ed10cb464f87e5235a423a475151ace208\n'}, {'number': 2, 'created': '2017-04-03 05:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/040ace7b1e64714407173a2470633e8d414b9206', 'message': 'Fix the ""tox -e docs"" failed\n\ndoc/running-tests.rst:64: D001 Line too long\ndoc/bifrost.rst:164: D000 Unknown target name: ""edit-inventory"".\n\nChange-Id: I83bb44ed10cb464f87e5235a423a475151ace208\n'}, {'number': 3, 'created': '2017-04-03 07:54:42.000000000', 'files': ['doc/bifrost.rst', 'doc/index.rst', 'doc/running-tests.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9378126e9c7302346f0e27bf33c1d0e4700273c', 'message': 'Fix the ""tox -e docs"" failed\n\ndoc/running-tests.rst:64: D001 Line too long\ndoc/bifrost.rst:164: D000 Unknown target name: ""edit-inventory"".\ndoc/nova-fake-driver.rst:: WARNING: document isn\'t included in any\ntoctree\n\nChange-Id: I83bb44ed10cb464f87e5235a423a475151ace208\n'}]",2,452602,b9378126e9c7302346f0e27bf33c1d0e4700273c,18,8,3,22165,,,0,"Fix the ""tox -e docs"" failed

doc/running-tests.rst:64: D001 Line too long
doc/bifrost.rst:164: D000 Unknown target name: ""edit-inventory"".
doc/nova-fake-driver.rst:: WARNING: document isn't included in any
toctree

Change-Id: I83bb44ed10cb464f87e5235a423a475151ace208
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/452602/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/bifrost.rst', 'doc/running-tests.rst']",2,c8db4406e5474e2ffdaeaaff021f4fa4e9761486,,To run the tests of a specific file say ``kolla-ansible/tests/test_kolla_docker.py``:,To run the tests of a specific file say ``kolla-ansible/tests/test_kolla_docker.py``:,4,3
openstack%2Fkolla-ansible~master~I85272b03222775b14a311a110077a8eed736f56c,openstack/kolla-ansible,master,I85272b03222775b14a311a110077a8eed736f56c,Fix qos rules are not applied on ocata with ovs,MERGED,2017-04-01 06:39:34.000000000,2017-04-05 11:20:04.000000000,2017-04-05 11:20:04.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 23717}, {'_account_id': 24759}]","[{'number': 1, 'created': '2017-04-01 06:39:34.000000000', 'files': ['ansible/roles/neutron/templates/ml2_conf.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbb0dedb10e8cc81fbb378cb206b4151f6300a69', 'message': 'Fix qos rules are not applied on ocata with ovs\n\nIf the Open vSwitch agent is being used, set extensions to qos\nin the [agent] section of ml2_conf.ini.\nsee\nhttps://docs.openstack.org/ocata/networking-guide/config-qos.html\n\nChange-Id: I85272b03222775b14a311a110077a8eed736f56c\nCloses-Bug: #1676319\n'}]",0,452392,fbb0dedb10e8cc81fbb378cb206b4151f6300a69,14,6,1,24330,,,0,"Fix qos rules are not applied on ocata with ovs

If the Open vSwitch agent is being used, set extensions to qos
in the [agent] section of ml2_conf.ini.
see
https://docs.openstack.org/ocata/networking-guide/config-qos.html

Change-Id: I85272b03222775b14a311a110077a8eed736f56c
Closes-Bug: #1676319
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/452392/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/ml2_conf.ini.j2'],1,fbb0dedb10e8cc81fbb378cb206b4151f6300a69,bug/1676319,{% if enable_neutron_qos | bool %} extensions = qos {% endif %} ,,4,1
openstack%2Fmanila-specs~master~I3dc9e960ce38b9124b942439a90d91568fd4081b,openstack/manila-specs,master,I3dc9e960ce38b9124b942439a90d91568fd4081b,Retarget IPv6 to Pike,MERGED,2017-03-17 01:08:53.000000000,2017-04-05 11:14:53.000000000,2017-04-05 11:14:53.000000000,"[{'_account_id': 3}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}]","[{'number': 1, 'created': '2017-03-17 01:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/9ddfcc925f99ea93eff1ba9b4403be15de45046c', 'message': 'Retarget IPv6 to Pike\n\nMove IPv6 spec to pike folder.\n\nChange-Id: I3dc9e960ce38b9124b942439a90d91568fd4081b\n'}, {'number': 2, 'created': '2017-03-29 01:33:52.000000000', 'files': ['specs/pike/manila-ipv6.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/c9d08a2e856cc096c23f1d6c47d28afd7d328d51', 'message': 'Retarget IPv6 to Pike\n\nMove IPv6 spec to pike folder.\n\nChange-Id: I3dc9e960ce38b9124b942439a90d91568fd4081b\n'}]",0,446800,c9d08a2e856cc096c23f1d6c47d28afd7d328d51,11,4,2,23083,,,0,"Retarget IPv6 to Pike

Move IPv6 spec to pike folder.

Change-Id: I3dc9e960ce38b9124b942439a90d91568fd4081b
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/00/446800/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/pike/manila-ipv6.rst']",2,9ddfcc925f99ea93eff1ba9b4403be15de45046c,feature/continue_work_on_ipv6,,,9,0
openstack%2Fdiskimage-builder~master~Ia2e96c00a4246c04beb96c17f83b8aefb69219ca,openstack/diskimage-builder,master,Ia2e96c00a4246c04beb96c17f83b8aefb69219ca,Run dib-run-parts out of /tmp,MERGED,2017-03-16 22:47:31.000000000,2017-04-05 11:14:25.000000000,2017-04-05 10:18:55.000000000,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-03-16 22:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8d5761df7bf6fb754ea50972489c374e798b7a55', 'message': '[WIP] Run dib-run-parts out of /tmp\n\nThis avoids copying it into /usr/local/bin and leaving it in the\nresulting image.\n\nChange-Id: Ia2e96c00a4246c04beb96c17f83b8aefb69219ca\n'}, {'number': 2, 'created': '2017-03-16 23:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f41d2bd57a3ca581a13084c729d46d58614a477c', 'message': '[WIP] Run dib-run-parts out of /tmp\n\nThis avoids copying it into /usr/local/bin and leaving it in the\nresulting image.\n\nChange-Id: Ia2e96c00a4246c04beb96c17f83b8aefb69219ca\n'}, {'number': 3, 'created': '2017-03-16 23:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/df6df9429d59ee6d2c8ac056215777c7945b4714', 'message': '[WIP] Run dib-run-parts out of /tmp\n\nThis avoids copying it into /usr/local/bin and leaving it in the\nresulting image.\n\nChange-Id: Ia2e96c00a4246c04beb96c17f83b8aefb69219ca\n'}, {'number': 4, 'created': '2017-03-17 01:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/46d84b8dfce626ebe9df0948730ed4ca67257c45', 'message': 'Run dib-run-parts out of /tmp\n\nThe dib-run-parts element was copying our internal version of\ndib-run-parts into /usr/local/bin to be used running scripts inside\nthe target chroot.  However, it never cleaned up after itself.  This\nmeans all images were left with an unmanaged local install of\ndib-run-parts.\n\nThis copies dib-run-parts into the hooks directory of the chroot and\nruns it from there.  It is cleaned up automatically on the exit path.\n\nThe dib-run-parts element is no longer required and it has been\nremoved from all dependencies.  It is left with a deprecation notice\nin the README.  For compatability we convert it to simply install\ndib-utils.\n\nCodesearch shows no users depending on this unintentional implicit\ninstall.  Note os-refresh-config depends on dib-utils and thus will\nhave an explicitly installed version.\n\nChange-Id: Ia2e96c00a4246c04beb96c17f83b8aefb69219ca\n'}, {'number': 5, 'created': '2017-03-17 06:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/344750f3400090597e09f4f3b0922ddd7c146872', 'message': 'Run dib-run-parts out of /tmp\n\nThe dib-run-parts element was copying our internal version of\ndib-run-parts into /usr/local/bin to be used running scripts inside\nthe target chroot.  However, it never cleaned up after itself.  This\nmeans all images were left with an unmanaged local install of\ndib-run-parts.\n\nThis copies dib-run-parts into the hooks directory of the chroot and\nruns it from there.  It is cleaned up automatically on the exit path.\n\nThe dib-run-parts element is no longer required and it has been\nremoved from all dependencies.  It is left with a deprecation notice\nin the README.  For compatability we convert it to simply install\ndib-utils.\n\nCodesearch shows no users depending on this unintentional implicit\ninstall.  Note os-refresh-config depends on dib-utils and thus will\nhave an explicitly installed version.\n\nPartial-Bug: #1673144\nChange-Id: Ia2e96c00a4246c04beb96c17f83b8aefb69219ca\n'}, {'number': 6, 'created': '2017-04-05 03:11:41.000000000', 'files': ['diskimage_builder/elements/docker/element-deps', 'diskimage_builder/elements/yum-minimal/element-deps', 'diskimage_builder/elements/gentoo/element-deps', 'diskimage_builder/elements/opensuse/element-deps', 'diskimage_builder/elements/dib-run-parts/package-installs.yaml', 'diskimage_builder/elements/zypper-minimal/element-deps', 'diskimage_builder/lib/img-functions', 'diskimage_builder/elements/centos7/element-deps', 'releasenotes/notes/dib-run-parts-6f67d038aa5a4156.yaml', 'diskimage_builder/elements/centos/element-deps', 'diskimage_builder/elements/rhel/element-deps', 'diskimage_builder/elements/fedora/element-deps', 'diskimage_builder/elements/ubuntu-core/element-deps', 'diskimage_builder/elements/dib-run-parts/README.rst', 'diskimage_builder/elements/dib-run-parts/root.d/90-base-dib-run-parts', 'diskimage_builder/elements/debootstrap/element-deps', 'diskimage_builder/elements/rhel7/element-deps', 'diskimage_builder/elements/ubuntu/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6802cf7100e01527fcf88860e65f613f0af3e244', 'message': 'Run dib-run-parts out of /tmp\n\nThe dib-run-parts element was copying our internal version of\ndib-run-parts into /usr/local/bin to be used running scripts inside\nthe target chroot.  However, it never cleaned up after itself.  This\nmeans all images were left with an unmanaged local install of\ndib-run-parts.\n\nThis copies dib-run-parts into the hooks directory of the chroot and\nruns it from there.  It is cleaned up automatically on the exit path.\n\nThe dib-run-parts element is no longer required and it has been\nremoved from all dependencies.  It is left with a deprecation notice\nin the README.  For compatability we convert it to simply install\ndib-utils.\n\nCodesearch shows no users depending on this unintentional implicit\ninstall.  Note os-refresh-config depends on dib-utils and thus will\nhave an explicitly installed version.\n\nPartial-Bug: #1673144\nChange-Id: Ia2e96c00a4246c04beb96c17f83b8aefb69219ca\n'}]",0,446769,6802cf7100e01527fcf88860e65f613f0af3e244,26,3,6,7118,,,0,"Run dib-run-parts out of /tmp

The dib-run-parts element was copying our internal version of
dib-run-parts into /usr/local/bin to be used running scripts inside
the target chroot.  However, it never cleaned up after itself.  This
means all images were left with an unmanaged local install of
dib-run-parts.

This copies dib-run-parts into the hooks directory of the chroot and
runs it from there.  It is cleaned up automatically on the exit path.

The dib-run-parts element is no longer required and it has been
removed from all dependencies.  It is left with a deprecation notice
in the README.  For compatability we convert it to simply install
dib-utils.

Codesearch shows no users depending on this unintentional implicit
install.  Note os-refresh-config depends on dib-utils and thus will
have an explicitly installed version.

Partial-Bug: #1673144
Change-Id: Ia2e96c00a4246c04beb96c17f83b8aefb69219ca
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/69/446769/5 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/dib-run-parts/root.d/90-base-dib-run-parts', 'diskimage_builder/lib/img-functions']",2,8d5761df7bf6fb754ea50972489c374e798b7a55,bug/1673144, run_in_target /tmp/dib-run-parts /tmp/in_target.d/$1.d, run_in_target dib-run-parts /tmp/in_target.d/$1.d,7,3
openstack%2Frally~master~Idff3a3454553f8804c72b5f0d6bb9e67dd0ddd64,openstack/rally,master,Idff3a3454553f8804c72b5f0d6bb9e67dd0ddd64,[WIP] Move openstack validators to plugins,ABANDONED,2017-04-03 13:31:05.000000000,2017-04-05 11:08:17.000000000,,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 19011}, {'_account_id': 23094}]","[{'number': 1, 'created': '2017-04-03 13:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3e62dcddba80926301393aed43cb586195b190c9', 'message': '[WIP] Move openstack validatorsto plugins\n\nChange-Id: Idff3a3454553f8804c72b5f0d6bb9e67dd0ddd64\n'}, {'number': 2, 'created': '2017-04-03 13:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2d2806bf92de515eca29c9b2c7b7fe30f0a2f977', 'message': '[WIP] Move openstack validatorsto plugins\n\nChange-Id: Idff3a3454553f8804c72b5f0d6bb9e67dd0ddd64\n'}, {'number': 3, 'created': '2017-04-04 10:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fc8aff74e3064b5efa862576a6df32c09743b03e', 'message': '[WIP] Move openstack validatorsto plugins\n\nChange-Id: Idff3a3454553f8804c72b5f0d6bb9e67dd0ddd64\n'}, {'number': 4, 'created': '2017-04-04 13:50:49.000000000', 'files': ['rally/task/validation.py', 'rally/plugins/openstack/validators.py', 'rally/plugins/openstack/scenarios/cinder/volumes.py', 'tests/unit/task/test_validation.py', 'tests/unit/doc/test_docstrings.py', 'rally/plugins/common/validators.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/11f24588563ca162a353fa00b4c053f6cd4f8a01', 'message': '[WIP] Move openstack validators to plugins\n\nChange-Id: Idff3a3454553f8804c72b5f0d6bb9e67dd0ddd64\n'}]",17,452762,11f24588563ca162a353fa00b4c053f6cd4f8a01,15,5,4,23094,,,0,"[WIP] Move openstack validators to plugins

Change-Id: Idff3a3454553f8804c72b5f0d6bb9e67dd0ddd64
",git fetch https://review.opendev.org/openstack/rally refs/changes/62/452762/2 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/validation.py', 'rally/plugins/common/validators.py']",2,3e62dcddba80926301393aed43cb586195b190c9,astarove-validators,"import refrom glanceclient import exc as glance_exc import six from rally import exceptions from rally.plugins.openstack import types as openstack_types #@validation.configure(name=""image_exists"") @validation.add(name=""image_exists"") class ImageExistsValidator(validation.Validator): def validator(self, config, clients, deployment, param_name, nullable=False): """"""Returns validator for image_id :param param_name: defines which variable should be used to get image id value. :param nullable: defines image id param is required """""" ValidationResult = validation.ValidationResult image_value = config.get(""args"", {}).get(param_name) if not image_value and nullable: return ValidationResult(True) image_context = config.get(""context"", {}).get(""images"", {}) image_args = config.get(""args"", {}).get(param_name) image_ctx_name = image_context.get(""image_name"") if not image_args: msg = _(""Parameter %s is not specified."") % param_name return (ValidationResult(False, msg), None) if ""image_name"" in image_context: # NOTE(rvasilets) check string is ""exactly equal to"" a regex # or image name from context equal to image name from args if ""regex"" in image_args: match = re.match(image_args.get(""regex""), image_ctx_name) if image_ctx_name == image_args.get(""name"") or ( ""regex"" in image_args and match): image = { ""size"": image_context.get(""min_disk"", 0), ""min_ram"": image_context.get(""min_ram"", 0), ""min_disk"": image_context.get(""min_disk"", 0) } return (ValidationResult(True), image) try: image_id = openstack_types.GlanceImage.transform( clients=clients, resource_config=image_args) image = clients.glance().images.get(image_id) if hasattr(image, ""to_dict""): # NOTE(stpierre): Glance v1 images are objects that can be # converted to dicts; Glance v2 images are already # dict-like image = image.to_dict() if not image.get(""size""): image[""size""] = 0 if not image.get(""min_ram""): image[""min_ram""] = 0 if not image.get(""min_disk""): image[""min_disk""] = 0 return (ValidationResult(True), image) except (glance_exc.HTTPNotFound, exceptions.InvalidScenarioArgument): message = _(""Image '%s' not found"") % image_args return (ValidationResult(False, message), None) ",,80,16
openstack%2Ftempest~master~I49603e56485458f64dacee8c0e31f4195a3771ec,openstack/tempest,master,I49603e56485458f64dacee8c0e31f4195a3771ec,Add volume backup container parameter,MERGED,2017-04-04 11:53:02.000000000,2017-04-05 11:05:56.000000000,2017-04-05 03:37:56.000000000,"[{'_account_id': 3}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 12033}]","[{'number': 1, 'created': '2017-04-04 11:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0397fa89e5bb189903ece743077a2cdb98e87910', 'message': 'Add volume backup container parameter\n\n Update ""test_volume_backup_create_get_detailed_list_restore_delete""\n testcase to verifiy volume backup container parameter.\n\nChange-Id: I49603e56485458f64dacee8c0e31f4195a3771ec\n'}, {'number': 2, 'created': '2017-04-04 11:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5d95c2d3007469094f950826dbee512fc61dc8ba', 'message': 'Add volume backup container parameter\n\n Update ""test_volume_backup_create_get_detailed_list_restore_delete""\n testcase to verifiy volume backup container parameter.\n\nChange-Id: I49603e56485458f64dacee8c0e31f4195a3771ec\n'}, {'number': 3, 'created': '2017-04-04 11:56:04.000000000', 'files': ['tempest/api/volume/test_volumes_backup.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f62703b5a4ec420399373480531c5d0428454350', 'message': 'Add volume backup container parameter\n\n Update ""test_volume_backup_create_get_detailed_list_restore_delete""\n testcase to verifiy volume backup container parameter.\n\nChange-Id: I49603e56485458f64dacee8c0e31f4195a3771ec\n'}]",0,453140,f62703b5a4ec420399373480531c5d0428454350,11,4,3,19262,,,0,"Add volume backup container parameter

 Update ""test_volume_backup_create_get_detailed_list_restore_delete""
 testcase to verifiy volume backup container parameter.

Change-Id: I49603e56485458f64dacee8c0e31f4195a3771ec
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/453140/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_backup.py'],1,0397fa89e5bb189903ece743077a2cdb98e87910,container_param,"class VolumesBackupsTest(base.BaseVolumeAdminTest): description=description, container='container')",class VolumesBackupsTest(base.BaseVolumeTest): description=description),3,2
openstack%2Ftripleo-quickstart-extras~master~I1e7ce1aadd049c6e8b2637b8e78a8a13ffe8af46,openstack/tripleo-quickstart-extras,master,I1e7ce1aadd049c6e8b2637b8e78a8a13ffe8af46,Fix overcloud repo curls,MERGED,2017-03-31 14:51:23.000000000,2017-04-05 10:57:19.000000000,2017-04-05 10:57:19.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 16515}]","[{'number': 1, 'created': '2017-03-31 14:51:23.000000000', 'files': ['roles/overcloud-upgrade/templates/overcloud-repo.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a35502ed50c19afa26a5fc9b913cbb87e8bffb47', 'message': 'Fix overcloud repo curls\n\nThe previous curls didn\'t work the intended way. They always created a\nfile named \'-L\', and were overwriting each other, so only the last\ndownloaded repo ""won"" and stayed present, others were overwriten\naway. This is now fixed as we use -O instead of -o for curl.\n\nChange-Id: I1e7ce1aadd049c6e8b2637b8e78a8a13ffe8af46\n'}]",0,452233,a35502ed50c19afa26a5fc9b913cbb87e8bffb47,25,9,1,8042,,,0,"Fix overcloud repo curls

The previous curls didn't work the intended way. They always created a
file named '-L', and were overwriting each other, so only the last
downloaded repo ""won"" and stayed present, others were overwriten
away. This is now fixed as we use -O instead of -o for curl.

Change-Id: I1e7ce1aadd049c6e8b2637b8e78a8a13ffe8af46
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/33/452233/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-upgrade/templates/overcloud-repo.yaml.j2'],1,a35502ed50c19afa26a5fc9b913cbb87e8bffb47,container-upgrade, curl -O -L https://buildlogs.centos.org/centos/7/cloud/x86_64/rdo-trunk-{{ target_upgrade_version }}-tested/delorean.repo curl -O -L https://buildlogs.centos.org/centos/7/cloud/x86_64/rdo-trunk-{{ target_upgrade_version }}/delorean.repo curl -O -L https://trunk.rdoproject.org/centos7-{{ target_upgrade_version }}/delorean-deps.repo, curl -o -L https://buildlogs.centos.org/centos/7/cloud/x86_64/rdo-trunk-{{ target_upgrade_version }}-tested/delorean.repo curl -o -L https://buildlogs.centos.org/centos/7/cloud/x86_64/rdo-trunk-{{ target_upgrade_version }}/delorean.repo curl -o -L https://trunk.rdoproject.org/centos7-{{ target_upgrade_version }}/delorean-deps.repo,3,3
openstack%2Ffreezer~master~Idbf148074438ef058dbcbff0b97ce27fcf1663ca,openstack/freezer,master,Idbf148074438ef058dbcbff0b97ce27fcf1663ca,Drop py34 target in tox.ini,MERGED,2017-03-15 06:52:25.000000000,2017-04-05 10:39:05.000000000,2017-04-05 10:39:05.000000000,"[{'_account_id': 3}, {'_account_id': 8186}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 22056}, {'_account_id': 24932}, {'_account_id': 25070}, {'_account_id': 25077}, {'_account_id': 25079}]","[{'number': 1, 'created': '2017-03-15 06:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/50f9b26e4fd48309401cb586f47cefb006e20f60', 'message': 'add_py35\n\nChange-Id: Idbf148074438ef058dbcbff0b97ce27fcf1663ca\n'}, {'number': 2, 'created': '2017-03-23 01:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/d49e0165bed7fe70c5a17be9ed78d9b08a13f3dd', 'message': 'Drop py34 target in tox.ini\n\nWe do not have python 3.4 in setup.cfg which declares the explicit supported versions.\nso it is no need to keep the supoort for py34.\n\nChange-Id: Idbf148074438ef058dbcbff0b97ce27fcf1663ca\n'}, {'number': 3, 'created': '2017-03-29 00:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/ab50dfd0f0dfb792a3be2e807fc73c2c3e3e080f', 'message': 'Drop py34 target in tox.ini\n\nWe do not have python 3.4 in setup.cfg which declares the explicit supported versions and we support py35 now.so it is no need to keep the supoort for py34.\n\nChange-Id: Idbf148074438ef058dbcbff0b97ce27fcf1663ca\n'}, {'number': 4, 'created': '2017-03-29 00:35:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer/commit/e99ba138818e8827d7e229dc9b169e280f1bab21', 'message': 'Drop py34 target in tox.ini\n\nWe do not have python 3.4 in setup.cfg which declares the explicit\nsupported versions and we support py35 now.so it is no need to keep\nthe supoort for py34.\n\nChange-Id: Idbf148074438ef058dbcbff0b97ce27fcf1663ca\n'}]",0,445773,e99ba138818e8827d7e229dc9b169e280f1bab21,19,9,4,25073,,,0,"Drop py34 target in tox.ini

We do not have python 3.4 in setup.cfg which declares the explicit
supported versions and we support py35 now.so it is no need to keep
the supoort for py34.

Change-Id: Idbf148074438ef058dbcbff0b97ce27fcf1663ca
",git fetch https://review.opendev.org/openstack/freezer refs/changes/73/445773/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,50f9b26e4fd48309401cb586f47cefb006e20f60,rem-py34,"envlist = py27,py35,pep8,pylint,docs","envlist = py27,py34,pep8,pylint,docs",1,1
openstack%2Ffreezer~master~I81f995515945efd4efa3d199d7e0198135036ec7,openstack/freezer,master,I81f995515945efd4efa3d199d7e0198135036ec7,Follow up to I3dedb1137994cbe3974c6878aa8d4ebcb672f95d,MERGED,2017-04-04 10:26:27.000000000,2017-04-05 10:38:52.000000000,2017-04-05 10:38:52.000000000,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 16768}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-04-04 10:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/b69b6c51a8a48b928b29417fc7df0faa680ccb61', 'message': 'Follow up to I3dedb1137994cbe3974c6878aa8d4ebcb672f95d\n\nDrop unused requirements.\n\nChange-Id: I81f995515945efd4efa3d199d7e0198135036ec7\n'}, {'number': 2, 'created': '2017-04-05 08:56:19.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/d5eba8791ad3cde74190949ee3a7e580e981a5e3', 'message': 'Follow up to I3dedb1137994cbe3974c6878aa8d4ebcb672f95d\n\nDrop unused requirements.\n\nChange-Id: I81f995515945efd4efa3d199d7e0198135036ec7\n'}]",2,453106,d5eba8791ad3cde74190949ee3a7e580e981a5e3,12,6,2,22405,,,0,"Follow up to I3dedb1137994cbe3974c6878aa8d4ebcb672f95d

Drop unused requirements.

Change-Id: I81f995515945efd4efa3d199d7e0198135036ec7
",git fetch https://review.opendev.org/openstack/freezer refs/changes/06/453106/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,b69b6c51a8a48b928b29417fc7df0faa680ccb61,drop_unused_reqs,,,0,4
openstack%2Ffreezer~stable%2Focata~I166d85ae17b25c1e7d34d68933ac5bfc4f0ebe87,openstack/freezer,stable/ocata,I166d85ae17b25c1e7d34d68933ac5bfc4f0ebe87,Updated from global requirements,MERGED,2017-04-03 17:29:59.000000000,2017-04-05 10:38:39.000000000,2017-04-05 10:38:39.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-04-03 17:29:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/7300764de184ad0037e8075fce7f56e6fa1b5383', 'message': 'Updated from global requirements\n\nChange-Id: I166d85ae17b25c1e7d34d68933ac5bfc4f0ebe87\n'}]",0,452868,7300764de184ad0037e8075fce7f56e6fa1b5383,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I166d85ae17b25c1e7d34d68933ac5bfc4f0ebe87
",git fetch https://review.opendev.org/openstack/freezer refs/changes/68/452868/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7300764de184ad0037e8075fce7f56e6fa1b5383,openstack/requirements,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,>=16.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,>=16.0 # PSF/ZPL",1,1
openstack%2Fopenstack-ansible-os_octavia~master~I498a5dfd5026aa7863204c3c10ae6ca2dcc65a54,openstack/openstack-ansible-os_octavia,master,I498a5dfd5026aa7863204c3c10ae6ca2dcc65a54,Changing octavia service type to load-balancer,MERGED,2017-03-24 17:15:55.000000000,2017-04-05 10:27:32.000000000,2017-04-05 10:27:32.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 11628}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-03-24 17:15:55.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/45e7d9e71868d88befa91def68fefb8b94d9591b', 'message': 'Changing octavia service type to load-balancer\n\nPer the discussion on the patch in the service-types-authority\nrepo [1] I am changing the service type for octavia from\nload-balancing (selected on the mailing list) to load-balancer\n(selected in the service-types-authority repository).\n\n[1] https://review.openstack.org/#/c/434999\n\nChange-Id: I498a5dfd5026aa7863204c3c10ae6ca2dcc65a54\n'}]",0,449735,45e7d9e71868d88befa91def68fefb8b94d9591b,11,4,1,10850,,,0,"Changing octavia service type to load-balancer

Per the discussion on the patch in the service-types-authority
repo [1] I am changing the service type for octavia from
load-balancing (selected on the mailing list) to load-balancer
(selected in the service-types-authority repository).

[1] https://review.openstack.org/#/c/434999

Change-Id: I498a5dfd5026aa7863204c3c10ae6ca2dcc65a54
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/35/449735/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,45e7d9e71868d88befa91def68fefb8b94d9591b,update_service_type,octavia_service_type: load-balancer,octavia_service_type: load-balancing,1,1
openstack%2Ftripleo-docs~master~I49348b0bdf90a089fd2797d779abbeb135c5d436,openstack/tripleo-docs,master,I49348b0bdf90a089fd2797d779abbeb135c5d436,Accessing the ramdisk - selinux note,MERGED,2017-04-03 22:12:43.000000000,2017-04-05 10:24:56.000000000,2017-04-05 10:24:56.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 10239}, {'_account_id': 18893}]","[{'number': 1, 'created': '2017-04-03 22:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/df2a2c37cf2a648705fb08da1026a8a71f67eef4', 'message': 'Accessing the ramdisk - selinux note\n\nChange-Id: I49348b0bdf90a089fd2797d779abbeb135c5d436\n'}, {'number': 2, 'created': '2017-04-04 17:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/05f6e98304cf9b7de881cfa7887386a194ae315e', 'message': 'Accessing the ramdisk - selinux note\n\nChange-Id: I49348b0bdf90a089fd2797d779abbeb135c5d436\nSigned-off-by: Sasha Chuzhoy <sasha@redhat.com>\n'}, {'number': 3, 'created': '2017-04-04 17:16:11.000000000', 'files': ['doc/source/troubleshooting/troubleshooting-nodes.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/26728800e353a93142e456c9b83b1c5e6062a56d', 'message': 'Accessing the ramdisk - selinux note\n\nChange-Id: I49348b0bdf90a089fd2797d779abbeb135c5d436\nSigned-off-by: Sasha Chuzhoy <sasha@redhat.com>\n'}]",4,452974,26728800e353a93142e456c9b83b1c5e6062a56d,14,4,3,22600,,,0,"Accessing the ramdisk - selinux note

Change-Id: I49348b0bdf90a089fd2797d779abbeb135c5d436
Signed-off-by: Sasha Chuzhoy <sasha@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/74/452974/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/troubleshooting/troubleshooting-nodes.rst'],1,df2a2c37cf2a648705fb08da1026a8a71f67eef4,selinux_note,.. note:: Some base operational systems might require selinux to be in permissive or disabled mode so that you can log in the image. This can be achieved by building the image with the selinux-permissive element for diskimage-builder or by passing selinux=0 in the kernel command line. ,,6,0
openstack%2Fcharm-neutron-gateway~master~I9c0dae8a37ded6536dc2b0c53e06647f380c48b0,openstack/charm-neutron-gateway,master,I9c0dae8a37ded6536dc2b0c53e06647f380c48b0,Fix alphanumeric comparisons for openstack and ubuntu releases,MERGED,2017-04-03 12:53:43.000000000,2017-04-05 10:21:57.000000000,2017-04-05 10:21:57.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-04-03 12:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9295cb1cbd8e271f39565a1f0d4ea9fed2424b43', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n- fix tests which assumed mocks would just work on os_release()\n\nChange-Id: I9c0dae8a37ded6536dc2b0c53e06647f380c48b0\nRelated-Bug: #1659575\n'}, {'number': 2, 'created': '2017-04-04 17:57:12.000000000', 'files': ['tests/charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'tests/charmhelpers/contrib/storage/__init__.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/python/__init__.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/fetch/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'tests/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/charmhelpers/fetch/archiveurl.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/neutron_utils.py', 'tests/charmhelpers/contrib/storage/linux/utils.py', 'tests/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/basic_deployment.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'tox.ini', 'tests/charmhelpers/contrib/network/__init__.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'tests/charmhelpers/contrib/storage/linux/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/fetch/ubuntu.py', 'tests/charmhelpers/contrib/python/version.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'tests/charmhelpers/fetch/bzrurl.py', 'tests/charmhelpers/contrib/python/packages.py', 'tests/charmhelpers/contrib/openstack/exceptions.py', 'tests/charmhelpers/contrib/python/debug.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/contrib/python/rpdb.py', 'unit_tests/test_neutron_utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tests/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/fetch/giturl.py', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/442ac04b4b1e9373b636c78af3ee44fe6e20fa0c', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n- fix tests which assumed mocks would just work on os_release()\n\nChange-Id: I9c0dae8a37ded6536dc2b0c53e06647f380c48b0\nRelated-Bug: #1659575\n'}]",0,452743,442ac04b4b1e9373b636c78af3ee44fe6e20fa0c,15,4,2,20870,,,0,"Fix alphanumeric comparisons for openstack and ubuntu releases

- sync charmhelpers with fix-alpha helpers
- fix up code where the alpha comparisons are done
- fix tests which assumed mocks would just work on os_release()

Change-Id: I9c0dae8a37ded6536dc2b0c53e06647f380c48b0
Related-Bug: #1659575
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/43/452743/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/neutron_utils.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_neutron_utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",35,9295cb1cbd8e271f39565a1f0d4ea9fed2424b43,fix-alpha-comparisons-1659575," DeletedFile mode=0o0640, 'conf-enabled/99-hardening.conf'), mode=0o0750), DeletedFile(['/var/www/html/index.html'])"," mode=0o0755, 'conf-enabled/hardening.conf'), mode=0o640), ctxt['traceenable'] = settings['hardening']['traceenable']",2510,123
openstack%2Fcharm-ceph-radosgw~master~Iacbb082b9db0cff48ddd595cc1eaa8440aa16892,openstack/charm-ceph-radosgw,master,Iacbb082b9db0cff48ddd595cc1eaa8440aa16892,Fix alphanumeric comparisons for openstack and ubuntu releases,MERGED,2017-03-29 14:21:59.000000000,2017-04-05 10:21:55.000000000,2017-04-05 10:21:55.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-03-29 14:21:59.000000000', 'files': ['hooks/utils.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/ddcd432515d0479673b2468c208354d55873bd26', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n\nChange-Id: Iacbb082b9db0cff48ddd595cc1eaa8440aa16892\nRelated-Bug: #1659575\n'}]",0,451429,ddcd432515d0479673b2468c208354d55873bd26,10,4,1,20870,,,0,"Fix alphanumeric comparisons for openstack and ubuntu releases

- sync charmhelpers with fix-alpha helpers
- fix up code where the alpha comparisons are done

Change-Id: Iacbb082b9db0cff48ddd595cc1eaa8440aa16892
Related-Bug: #1659575
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/29/451429/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",30,ddcd432515d0479673b2468c208354d55873bd26,fix-alpha-comparisons-1659575," DeletedFile mode=0o0640, 'conf-enabled/99-hardening.conf'), mode=0o0750), DeletedFile(['/var/www/html/index.html'])"," mode=0o0755, 'conf-enabled/hardening.conf'), mode=0o640), ctxt['traceenable'] = settings['hardening']['traceenable']",425,99
openstack%2Ffreezer-web-ui~master~Ida460d260d96c0b99f5ced035009221bba91b109,openstack/freezer-web-ui,master,Ida460d260d96c0b99f5ced035009221bba91b109,"Modify ""Interval"" field to select format",MERGED,2017-02-09 13:33:06.000000000,2017-04-05 10:21:30.000000000,2017-04-05 10:21:30.000000000,"[{'_account_id': 3}, {'_account_id': 11151}, {'_account_id': 12512}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 17001}]","[{'number': 1, 'created': '2017-02-09 13:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/018394023bb89aa356e340988905987dc7a54e6e', 'message': 'Modify ""Interval"" field to select format\n\nModify the ""Interval"" filed in ""Create Job"" form\nto select format support user to choose \'Continuous\',\n\'Weeks\', \'Days\' and so on. This makes the user input life easier.\n\nChange-Id: Ida460d260d96c0b99f5ced035009221bba91b109\nCloses-Bug: #1663235\n'}, {'number': 2, 'created': '2017-02-09 14:21:06.000000000', 'files': ['disaster_recovery/jobs/workflows/create.py', 'disaster_recovery/static/freezer/js/freezer.jobs.create.infos.js', 'disaster_recovery/jobs/templates/jobs/_info.html'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/7e3edaf05c085ca6f058563768089f99e0f9b173', 'message': 'Modify ""Interval"" field to select format\n\nModify the ""Interval"" filed in ""Create Job"" form\nto select format support user to choose \'Continuous\',\n\'Weeks\', \'Days\' and so on. This makes the user input life easier.\n\nChange-Id: Ida460d260d96c0b99f5ced035009221bba91b109\nCloses-Bug: #1663235\n'}]",0,431525,7e3edaf05c085ca6f058563768089f99e0f9b173,9,9,2,14151,,,0,"Modify ""Interval"" field to select format

Modify the ""Interval"" filed in ""Create Job"" form
to select format support user to choose 'Continuous',
'Weeks', 'Days' and so on. This makes the user input life easier.

Change-Id: Ida460d260d96c0b99f5ced035009221bba91b109
Closes-Bug: #1663235
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/25/431525/2 && git format-patch -1 --stdout FETCH_HEAD,"['disaster_recovery/jobs/workflows/create.py', 'disaster_recovery/static/freezer/js/freezer.jobs.create.infos.js', 'disaster_recovery/jobs/templates/jobs/_info.html']",3,018394023bb89aa356e340988905987dc7a54e6e,bug/1663235,<script type='text/javascript' src='{{ STATIC_URL }}freezer/js/freezer.jobs.create.infos.js'></script>,,76,16
openstack%2Fpython-freezerclient~stable%2Focata~Ie5a7f64a8ece08436eb53d08074cd2db76eda983,openstack/python-freezerclient,stable/ocata,Ie5a7f64a8ece08436eb53d08074cd2db76eda983,Updated from global requirements,MERGED,2017-04-03 17:37:57.000000000,2017-04-05 10:19:11.000000000,2017-04-05 10:19:11.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 14509}]","[{'number': 1, 'created': '2017-04-03 17:37:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/75f6666da21ec5d36cb4a50e3a7bd9a3485dc97f', 'message': 'Updated from global requirements\n\nChange-Id: Ie5a7f64a8ece08436eb53d08074cd2db76eda983\n'}]",0,452878,75f6666da21ec5d36cb4a50e3a7bd9a3485dc97f,7,4,1,11131,,,0,"Updated from global requirements

Change-Id: Ie5a7f64a8ece08436eb53d08074cd2db76eda983
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/78/452878/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,75f6666da21ec5d36cb4a50e3a7bd9a3485dc97f,openstack/requirements,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,>=16.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,>=16.0 # PSF/ZPL",1,1
openstack%2Fcharm-openstack-dashboard~master~I752198f807bc82f07f2a50e295c4d2936c3ad745,openstack/charm-openstack-dashboard,master,I752198f807bc82f07f2a50e295c4d2936c3ad745,Fix alphanumeric comparisons for openstack and ubuntu releases,MERGED,2017-03-23 15:09:51.000000000,2017-04-05 10:17:32.000000000,2017-04-05 10:17:32.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-03-23 15:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/048b8311d6f502a129934f357e7c92090fb2b417', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n- fix tests which assumed mocks would just work on os_release()\n\nChange-Id: I752198f807bc82f07f2a50e295c4d2936c3ad745\nRelated-Bug: #1659575\n'}, {'number': 2, 'created': '2017-03-29 09:53:08.000000000', 'files': ['hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/ssh/checks/config.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/horizon_hooks.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'unit_tests/test_horizon_utils.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/horizon_utils.py', 'unit_tests/test_horizon_hooks.py', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e57e00601543e91c53bb98867c0b81673cbbb3d1', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n- fix tests which assumed mocks would just work on os_release()\n\nChange-Id: I752198f807bc82f07f2a50e295c4d2936c3ad745\nRelated-Bug: #1659575\n'}]",0,449184,e57e00601543e91c53bb98867c0b81673cbbb3d1,13,4,2,20870,,,0,"Fix alphanumeric comparisons for openstack and ubuntu releases

- sync charmhelpers with fix-alpha helpers
- fix up code where the alpha comparisons are done
- fix tests which assumed mocks would just work on os_release()

Change-Id: I752198f807bc82f07f2a50e295c4d2936c3ad745
Related-Bug: #1659575
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/84/449184/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hardening/audits/__init__.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml.schema', 'hooks/charmhelpers/contrib/hardening/host/templates/99-hardening.sh', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml', 'hooks/charmhelpers/contrib/hardening/apache/templates/hardening.conf', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/horizon_hooks.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/hardening/defaults/os.yaml.schema', 'hooks/horizon_utils.py', 'hooks/charmhelpers/contrib/hardening/defaults/apache.yaml', 'unit_tests/test_horizon_hooks.py', 'hooks/charmhelpers/contrib/hardening/host/checks/profile.py', 'tox.ini', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py', 'hooks/charmhelpers/contrib/hardening/apache/templates/99-hardening.conf']",17,048b8311d6f502a129934f357e7c92090fb2b417,fix-alpha-comparisons-1659575,"############################################################################### # WARNING: This configuration file is maintained by Juju. Local changes may # be overwritten. ############################################################################### <Location / > <LimitExcept {{ allowed_http_methods }} > # http://httpd.apache.org/docs/2.4/upgrading.html {% if apache_version > '2.2' -%} Require all granted {% else -%} Order Allow,Deny Deny from all {% endif %} </LimitExcept> </Location> <Directory /> Options -Indexes -FollowSymLinks AllowOverride None </Directory> <Directory /var/www/> Options -Indexes -FollowSymLinks AllowOverride None </Directory> TraceEnable {{ traceenable }} ServerTokens {{ servertokens }} SSLHonorCipherOrder {{ honor_cipher_order }} SSLCipherSuite {{ cipher_suite }} ",,241,72
openstack%2Fcharm-cinder-backup~master~If7d31bbd11cc1c445fc1ac82bd0d4a5097b3f52a,openstack/charm-cinder-backup,master,If7d31bbd11cc1c445fc1ac82bd0d4a5097b3f52a,Fix alphanumeric comparisons for openstack and ubuntu releases,MERGED,2017-03-20 14:21:16.000000000,2017-04-05 10:17:07.000000000,2017-04-05 10:17:07.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-03-20 14:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/9e8348a5eb25346c4367f366fd8d075bda8fa1c6', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n\nChange-Id: If7d31bbd11cc1c445fc1ac82bd0d4a5097b3f52a\nRelated-Bug: #1659575\n'}, {'number': 2, 'created': '2017-03-23 14:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/a169bb1462154650bcc171f88c4d8accbe863c80', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n\nChange-Id: If7d31bbd11cc1c445fc1ac82bd0d4a5097b3f52a\nRelated-Bug: #1659575\n'}, {'number': 3, 'created': '2017-03-28 14:12:58.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/keystone.py', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/python/packages.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/cinder_backup_contexts.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/core/host_factory/centos.py', 'tests/charmhelpers/core/host_factory/centos.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ip.py', 'charm-helpers-tests.yaml', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/snap.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/strutils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/b29534d990bd57f644185549458b88803d3795cd', 'message': 'Fix alphanumeric comparisons for openstack and ubuntu releases\n\n- sync charmhelpers with fix-alpha helpers\n- fix up code where the alpha comparisons are done\n\nChange-Id: If7d31bbd11cc1c445fc1ac82bd0d4a5097b3f52a\nRelated-Bug: #1659575\n'}]",1,447516,b29534d990bd57f644185549458b88803d3795cd,20,5,3,20870,,,0,"Fix alphanumeric comparisons for openstack and ubuntu releases

- sync charmhelpers with fix-alpha helpers
- fix up code where the alpha comparisons are done

Change-Id: If7d31bbd11cc1c445fc1ac82bd0d4a5097b3f52a
Related-Bug: #1659575
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/16/447516/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/keystone.py', 'hooks/charmhelpers/fetch/snap.py', 'tests/charmhelpers/contrib/amulet/utils.py', 'hooks/charmhelpers/contrib/python/packages.py', 'tests/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/cinder_backup_contexts.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",16,9e8348a5eb25346c4367f366fd8d075bda8fa1c6,fix-alpha-comparisons-1659575,passenv = HOME TERM AMULET_* CS_API_URL,passenv = HOME TERM AMULET_*,665,97
openstack%2Ffuel-library~master~I515f7fae4bbe67123d70572a4f861e879ec580f6,openstack/fuel-library,master,I515f7fae4bbe67123d70572a4f861e879ec580f6,Use intersection of added vs deleted nodes instead of just deleted ones,MERGED,2017-04-04 12:10:26.000000000,2017-04-05 10:14:01.000000000,2017-04-05 06:14:03.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11827}, {'_account_id': 12199}, {'_account_id': 13344}, {'_account_id': 14200}, {'_account_id': 16518}, {'_account_id': 16771}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-04-04 12:10:26.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/hosts/hosts.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/21c7651fe55d3737383de673d564b472da75e788', 'message': 'Use intersection of added vs deleted nodes instead of just deleted ones\n\nThere are cases when nailgun can send us data where there are nodes\nincluded into list of added nodes and deleted ones. As a result, puppet\nmanifests failed with resource ensurance for present and absent hosts.\nTo avoid this situation, subtract added nodes from deleted prior to\nactually deleting them from hosts.\n\nChange-Id: I515f7fae4bbe67123d70572a4f861e879ec580f6\nCloses-Bug: #1679522\n'}]",0,453147,21c7651fe55d3737383de673d564b472da75e788,45,9,1,11827,,,0,"Use intersection of added vs deleted nodes instead of just deleted ones

There are cases when nailgun can send us data where there are nodes
included into list of added nodes and deleted ones. As a result, puppet
manifests failed with resource ensurance for present and absent hosts.
To avoid this situation, subtract added nodes from deleted prior to
actually deleting them from hosts.

Change-Id: I515f7fae4bbe67123d70572a4f861e879ec580f6
Closes-Bug: #1679522
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/47/453147/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/hosts/hosts.pp'],1,21c7651fe55d3737383de673d564b472da75e788,bug/1679522," $deleted_nodes = difference(hiera('deleted_nodes', []), keys($host_resources))"," $deleted_nodes = hiera('deleted_nodes', [])",1,1
openstack%2Fnova~master~Ie2a855eef9b378fcc6c879fae450a9edae3d55fe,openstack/nova,master,Ie2a855eef9b378fcc6c879fae450a9edae3d55fe,make limit=0 means query 0 data,ABANDONED,2017-01-13 12:13:47.000000000,2017-04-05 10:13:02.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-13 12:13:47.000000000', 'files': ['nova/tests/unit/api/openstack/test_common.py', 'nova/api/openstack/common.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45f082ca217db2d74130f5eaef2453e53b8b1ceb', 'message': 'make limit=0 means query 0 data\n\nas limit=-1 means retrieve maximum files, we can use limit=0\nto really get 0 outputs.\nThis patch changes the meaning of 0 to not return maximum outputs\n\nChange-Id: Ie2a855eef9b378fcc6c879fae450a9edae3d55fe\nPartial-Bug: 1656256\n'}]",0,419913,45f082ca217db2d74130f5eaef2453e53b8b1ceb,16,14,1,6062,,,0,"make limit=0 means query 0 data

as limit=-1 means retrieve maximum files, we can use limit=0
to really get 0 outputs.
This patch changes the meaning of 0 to not return maximum outputs

Change-Id: Ie2a855eef9b378fcc6c879fae450a9edae3d55fe
Partial-Bug: 1656256
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/419913/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/test_common.py', 'nova/api/openstack/common.py']",2,45f082ca217db2d74130f5eaef2453e53b8b1ceb,bug/1656256," limit = min(limit, params.get('limit', limit))"," limit = min(limit, params.get('limit') or limit)",8,7
openstack%2Ffreezer-dr~master~I08ae8840b27d604ab42837e9fb537314bd80e227,openstack/freezer-dr,master,I08ae8840b27d604ab42837e9fb537314bd80e227,Remove unused components from requirements,MERGED,2017-04-04 20:26:17.000000000,2017-04-05 10:13:00.000000000,2017-04-05 10:13:00.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}]","[{'number': 1, 'created': '2017-04-04 20:26:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/c778331bca609c38e09e9a68ecb08f7b705be521', 'message': 'Remove unused components from requirements\n\noslo.i18n is unused component and needs to removed from\nrequirements.txt file.\n\nChange-Id: I08ae8840b27d604ab42837e9fb537314bd80e227\n'}]",0,453324,c778331bca609c38e09e9a68ecb08f7b705be521,7,3,1,22405,,,0,"Remove unused components from requirements

oslo.i18n is unused component and needs to removed from
requirements.txt file.

Change-Id: I08ae8840b27d604ab42837e9fb537314bd80e227
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/24/453324/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c778331bca609c38e09e9a68ecb08f7b705be521,requirements_fix,"Jinja2>=2.8,!=2.9.0,!=2.9.1,!=2.9.2,!=2.9.3,!=2.9.4 # BSD License (3 clause) ","oslo.i18n>=2.1.0 # Apache-2.0Jinja2>=2.8,!=2.9.0,!=2.9.1,!=2.9.2,!=2.9.3,!=2.9.4 # BSD License (3 clause)",1,2
openstack%2Fnova~master~If894821844b059806bd788d5f1e1cb9919c82d61,openstack/nova,master,If894821844b059806bd788d5f1e1cb9919c82d61,Update JSON Schema for flavor access,ABANDONED,2017-01-11 05:19:59.000000000,2017-04-05 10:08:21.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-11 05:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee8370a8c22c0313b60005f8ee876ae1c750946d', 'message': 'Update JSON Schema for flavor access\n\nuse parameter_type.project_id for tenant\n\nChange-Id: If894821844b059806bd788d5f1e1cb9919c82d61\n'}, {'number': 2, 'created': '2017-01-11 10:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fa967b73a3a9ff95e75e7f7c9c3a991722a1310', 'message': 'Update JSON Schema for flavor access\n\nuse parameter_type.project_id for tenant\n\nChange-Id: If894821844b059806bd788d5f1e1cb9919c82d61\n'}, {'number': 3, 'created': '2017-01-11 12:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca7ad232e224b1eaedc9ba927afdf48950430260', 'message': 'Update JSON Schema for flavor access\n\nuse parameter_type.project_id for tenant\n\nChange-Id: If894821844b059806bd788d5f1e1cb9919c82d61\n'}, {'number': 4, 'created': '2017-01-12 06:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0abc4f4ac5ee4478d17358dadb8797de972153f6', 'message': 'Update JSON Schema for flavor access\n\nuse parameter_type.project_id for tenant\n\nChange-Id: If894821844b059806bd788d5f1e1cb9919c82d61\n'}, {'number': 5, 'created': '2017-01-12 11:21:01.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_flavor.py', 'doc/api_samples/flavor-access/flavor-access-add-tenant-req.json', 'doc/api_samples/flavor-access/v2.7/flavor-access-add-tenant-req.json', 'nova/tests/functional/api_sample_tests/test_flavor_access.py', 'doc/api_samples/flavor-access/flavor-access-add-tenant-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/flavor-access/flavor-access-list-resp.json.tpl', 'doc/api_samples/flavor-access/flavor-access-list-resp.json', 'doc/api_samples/flavor-access/flavor-access-remove-tenant-req.json', 'doc/notification_samples/flavor-update.json', 'nova/api/openstack/compute/schemas/flavor_access.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c9be8b7e52dbbe34cf06de1c01bea1eb61e047f', 'message': 'Update JSON Schema for flavor access\n\nuse parameter_type.project_id for tenant\n\nChange-Id: If894821844b059806bd788d5f1e1cb9919c82d61\n'}]",2,418683,5c9be8b7e52dbbe34cf06de1c01bea1eb61e047f,56,12,5,23676,,,0,"Update JSON Schema for flavor access

use parameter_type.project_id for tenant

Change-Id: If894821844b059806bd788d5f1e1cb9919c82d61
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/418683/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/schemas/flavor_access.py'],1,ee8370a8c22c0313b60005f8ee876ae1c750946d,JSON-Schema-validate-flavor-access,"from nova.api.validation import parameter_types 'tenant': parameter_types.project_id, 'tenant': parameter_types.project_id,"," 'tenant': { # defined from project_id in instance_type_projects table 'type': 'string', 'minLength': 1, 'maxLength': 255, }, 'tenant': { # defined from project_id in instance_type_projects table 'type': 'string', 'minLength': 1, 'maxLength': 255, },",5,8
openstack%2Fopenstack-manuals~master~I56d03aec43098200d774b71d23a93b65ffb5cadb,openstack/openstack-manuals,master,I56d03aec43098200d774b71d23a93b65ffb5cadb,Update Swift configuration tables,ABANDONED,2016-12-02 16:24:07.000000000,2017-04-05 10:07:53.000000000,,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6968}, {'_account_id': 7923}, {'_account_id': 10607}]","[{'number': 1, 'created': '2016-12-02 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d799df832c45a2f19285a17848d47a3f29502908', 'message': 'Update Swift configuration tables\n\nGenerated using extract_swift_flags.py from openstack-doc-tools.\n\nChange-Id: I56d03aec43098200d774b71d23a93b65ffb5cadb\n'}, {'number': 2, 'created': '2017-01-12 13:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2f0afd843b13197c892e51641fea4c903b0cb422', 'message': 'Update Swift configuration tables\n\nGenerated using extract_swift_flags.py from openstack-doc-tools.\n\nChange-Id: I56d03aec43098200d774b71d23a93b65ffb5cadb\n'}, {'number': 3, 'created': '2017-01-12 13:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d0cb1f571911aed1df7d0ea7e05363eaa4bbf24b', 'message': 'Update Swift configuration tables\n\nGenerated using extract_swift_flags.py from openstack-doc-tools.\n\nChange-Id: I56d03aec43098200d774b71d23a93b65ffb5cadb\n'}, {'number': 4, 'created': '2017-04-01 13:38:24.000000000', 'files': ['doc/config-reference/source/tables/swift-account-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6040.rst', 'doc/config-reference/source/tables/swift-container-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-drive-audit-drive-audit.rst', 'doc/config-reference/source/tables/swift-swift-storage-policy-2.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-cname_lookup.rst', 'doc/config-reference/source/tables/swift-container-server-container-replicator.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-versioned_writes.rst', 'doc/config-reference/source/tables/swift-container-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-object-server-object-replicator.rst', 'doc/config-reference/source/tables/swift-container-reconciler-container-reconciler.rst', 'doc/config-reference/source/tables/swift-proxy-server-app-proxy-server.rst', 'doc/config-reference/source/tables/swift-rsyncd-account.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-list-endpoints.rst', 'doc/config-reference/source/tables/swift-object-server-object-updater.rst', 'doc/config-reference/source/tables/swift-account-server-account-auditor.rst', 'doc/config-reference/source/tables/swift-container-server-container-auditor.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-container_sync.rst', 'doc/config-reference/source/tables/swift-container-server-container-sync.rst', 'doc/config-reference/source/tables/swift-internal-client-DEFAULT.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-tempurl.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-slo.rst', 'doc/config-reference/source/tables/swift-account-server-account-replicator.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-container-server-container-updater.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-bulk.rst', 'doc/config-reference/source/tables/swift-object-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-staticweb.rst', 'doc/config-reference/source/tables/swift-object-server-object-auditor.rst', 'doc/config-reference/source/tables/swift-account-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-object-expirer-filter-proxy-logging.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-copy.rst', 'doc/config-reference/source/tables/swift-container-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-authtoken.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-encryption.rst', 'doc/config-reference/source/tables/swift-object-server-filter-recon.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6010.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-dlo.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-rsyncd-object_sdb.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-proxy-logging.rst', 'doc/config-reference/source/tables/swift-rsyncd-object.rst', 'doc/config-reference/source/tables/swift-dispersion-dispersion.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-ratelimit.rst', 'doc/config-reference/source/tables/swift-object-server-pipeline-main.rst', 'doc/config-reference/source/tables/swift-account-server-account-reaper.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6020.rst', 'doc/config-reference/source/tables/swift-rsyncd-object_sdc.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-cache.rst', 'doc/config-reference/source/tables/swift-object-expirer-DEFAULT.rst', 'doc/config-reference/source/tables/swift-container-reconciler-DEFAULT.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-keymaster.rst', 'doc/config-reference/source/tables/swift-proxy-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-container-server-app-container-server.rst', 'doc/config-reference/source/tables/swift-account-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-container-sync-realms-realm2.rst', 'doc/config-reference/source/tables/swift-rsyncd-container.rst', 'doc/config-reference/source/tables/swift-internal-client-pipeline-main.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-catch_errors.rst', 'doc/config-reference/source/tables/swift-object-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-account-server-app-account-server.rst', 'doc/config-reference/source/tables/swift-container-sync-realms-realm1.rst', 'doc/config-reference/source/tables/swift-object-expirer-object-expirer.rst', 'doc/config-reference/source/tables/swift-object-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-rsyncd-object_sda.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-domain_remap.rst', 'doc/config-reference/source/tables/swift-swift-storage-policy-0.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-keystoneauth.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6030.rst', 'doc/config-reference/source/tables/swift-proxy-server-pipeline-main.rst', 'doc/config-reference/source/tables/swift-object-server-app-object-server.rst', 'doc/config-reference/source/tables/swift-object-server-object-reconstructor.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-gatekeeper.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-tempauth.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1327a08ffd66a276983ac70d2c562e77fbcf6e2b', 'message': 'Update Swift configuration tables\n\nGenerated using extract_swift_flags.py from openstack-doc-tools.\n\nThe following ""hack"" has been applied to fix the build:\n\n  sed -r -i \'s/(\\b[a-z]+\\B)_([ ""])/\\1\\\\_\\2/\' swift-*\n\nThis replaces \'access_\' (or similar) with \'access\\_\'. Escaping is needed\nso that sphinx doesn\'t think we\'re trying to use a broken reference.\n\nChange-Id: I56d03aec43098200d774b71d23a93b65ffb5cadb\n'}]",14,406209,1327a08ffd66a276983ac70d2c562e77fbcf6e2b,22,7,4,6968,,,0,"Update Swift configuration tables

Generated using extract_swift_flags.py from openstack-doc-tools.

The following ""hack"" has been applied to fix the build:

  sed -r -i 's/(\b[a-z]+\B)_([ ""])/\1\\_\2/' swift-*

This replaces 'access_' (or similar) with 'access\_'. Escaping is needed
so that sphinx doesn't think we're trying to use a broken reference.

Change-Id: I56d03aec43098200d774b71d23a93b65ffb5cadb
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/09/406209/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/source/tables/swift-account-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6040.rst', 'doc/config-reference/source/tables/swift-container-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-drive-audit-drive-audit.rst', 'doc/config-reference/source/tables/swift-swift-storage-policy-2.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-cname_lookup.rst', 'doc/config-reference/source/tables/swift-container-server-container-replicator.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-versioned_writes.rst', 'doc/config-reference/source/tables/swift-container-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-object-server-object-replicator.rst', 'doc/config-reference/source/tables/swift-container-reconciler-container-reconciler.rst', 'doc/config-reference/source/tables/swift-proxy-server-app-proxy-server.rst', 'doc/config-reference/source/tables/swift-rsyncd-account.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-list-endpoints.rst', 'doc/config-reference/source/tables/swift-object-server-object-updater.rst', 'doc/config-reference/source/tables/swift-account-server-account-auditor.rst', 'doc/config-reference/source/tables/swift-container-server-container-auditor.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-container_sync.rst', 'doc/config-reference/source/tables/swift-container-server-container-sync.rst', 'doc/config-reference/source/tables/swift-internal-client-DEFAULT.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-tempurl.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-slo.rst', 'doc/config-reference/source/tables/swift-account-server-account-replicator.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-container-server-container-updater.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-bulk.rst', 'doc/config-reference/source/tables/swift-object-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-staticweb.rst', 'doc/config-reference/source/tables/swift-object-server-object-auditor.rst', 'doc/config-reference/source/tables/swift-account-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-object-expirer-filter-proxy-logging.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-copy.rst', 'doc/config-reference/source/tables/swift-container-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-authtoken.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-encryption.rst', 'doc/config-reference/source/tables/swift-object-server-filter-recon.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6010.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-dlo.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-rsyncd-object_sdb.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-proxy-logging.rst', 'doc/config-reference/source/tables/swift-rsyncd-object.rst', 'doc/config-reference/source/tables/swift-dispersion-dispersion.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-ratelimit.rst', 'doc/config-reference/source/tables/swift-object-server-pipeline-main.rst', 'doc/config-reference/source/tables/swift-account-server-account-reaper.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6020.rst', 'doc/config-reference/source/tables/swift-rsyncd-object_sdc.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-cache.rst', 'doc/config-reference/source/tables/swift-object-expirer-DEFAULT.rst', 'doc/config-reference/source/tables/swift-container-reconciler-DEFAULT.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-keymaster.rst', 'doc/config-reference/source/tables/swift-proxy-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-container-server-app-container-server.rst', 'doc/config-reference/source/tables/swift-account-server-DEFAULT.rst', 'doc/config-reference/source/tables/swift-container-sync-realms-realm2.rst', 'doc/config-reference/source/tables/swift-rsyncd-container.rst', 'doc/config-reference/source/tables/swift-internal-client-pipeline-main.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-catch_errors.rst', 'doc/config-reference/source/tables/swift-object-server-filter-xprofile.rst', 'doc/config-reference/source/tables/swift-account-server-app-account-server.rst', 'doc/config-reference/source/tables/swift-container-sync-realms-realm1.rst', 'doc/config-reference/source/tables/swift-object-expirer-object-expirer.rst', 'doc/config-reference/source/tables/swift-object-server-filter-healthcheck.rst', 'doc/config-reference/source/tables/swift-rsyncd-object_sda.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-domain_remap.rst', 'doc/config-reference/source/tables/swift-swift-storage-policy-0.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-keystoneauth.rst', 'doc/config-reference/source/tables/swift-rsyncd-object6030.rst', 'doc/config-reference/source/tables/swift-proxy-server-pipeline-main.rst', 'doc/config-reference/source/tables/swift-object-server-app-object-server.rst', 'doc/config-reference/source/tables/swift-object-server-object-reconstructor.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-gatekeeper.rst', 'doc/config-reference/source/tables/swift-proxy-server-filter-tempauth.rst']",74,d799df832c45a2f19285a17848d47a3f29502908,bug/1642502, * - ``require_group`` = `` `` - Location where syslog sends the logs to - Syslog log facility - Log level - Label to use when logging - Entry point of paste.deploy in the server * - ``user_admin_admin`` = ``admin .admin .reseller_admin`` - No help text available for this option. * - ``user_test2_tester2`` = ``testing2 .admin`` - No help text available for this option. * - ``user_test5_tester5`` = ``testing5 service`` - No help text available for this option. * - ``user_test_tester`` = ``testing .admin`` - No help text available for this option. * - ``user_test_tester3`` = ``testing3`` - No help text available for this option., * - ``require_group`` = - Location where syslog sends the logs to. - Syslog log facility. - Log level. - Label to use when logging. - Entry point of paste.deploy in the server. * - ``user_<account>_<user>`` = ``<key> [group] [group] [...] [storage_url]`` - List of all the accounts and user you want. The following are example entries required for running the tests: * ``user_admin_admin`` = ``admin .admin .reseller_admin`` * ``user_test2_tester2`` = ``testing2 .admin`` * ``user_test5_tester5`` = ``testing5 service`` * ``user_test_tester`` = ``testing .admin`` * ``user_test_tester3`` = ``testing3``,579,220
openstack%2Fnova~master~Idcb1a8ed80ee7f86a4242740de726fb8697e8634,openstack/nova,master,Idcb1a8ed80ee7f86a4242740de726fb8697e8634,move 'MEMPAGES_*' to fields 'fileds.MemoryPageSize',ABANDONED,2017-01-09 04:44:37.000000000,2017-04-05 10:07:43.000000000,,"[{'_account_id': 3}, {'_account_id': 7730}, {'_account_id': 8880}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-01-09 04:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfaa724ddd2a6134bf473a3fde738a168465f21b', 'message': ""move 'MEMPAGES_*' to fields 'fileds.MemoryPageSize'\n\nmove hardware MEMPAGES_* enum values to fileds.MemoryPageSize\nfor centralize\n\nChange-Id: Idcb1a8ed80ee7f86a4242740de726fb8697e8634\n""}, {'number': 2, 'created': '2017-01-09 04:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c194cd92ff8a331cf412985b49f23ec832dc002', 'message': ""move 'MEMPAGES_*' to fields 'fileds.MemoryPageSize'\n\nmove hardware MEMPAGES_* enum values to fileds.MemoryPageSize\nfor centralize\n\nChange-Id: Idcb1a8ed80ee7f86a4242740de726fb8697e8634\n""}, {'number': 3, 'created': '2017-01-23 01:47:09.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee5148a90cff099cf0f0780990ef2002287b09bf', 'message': ""move 'MEMPAGES_*' to fields 'fileds.MemoryPageSize'\n\nmove hardware MEMPAGES_* enum values to fileds.MemoryPageSize\nfor centralize\n\nChange-Id: Idcb1a8ed80ee7f86a4242740de726fb8697e8634\n""}]",0,417742,ee5148a90cff099cf0f0780990ef2002287b09bf,31,17,3,23676,,,0,"move 'MEMPAGES_*' to fields 'fileds.MemoryPageSize'

move hardware MEMPAGES_* enum values to fileds.MemoryPageSize
for centralize

Change-Id: Idcb1a8ed80ee7f86a4242740de726fb8697e8634
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/417742/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/objects/fields.py']",3,dfaa724ddd2a6134bf473a3fde738a168465f21b,move-hugepage-policy-to-fields,"from oslo_utils import strutils from oslo_utils import unitsclass MemoryPageSize(BaseNovaEnum): SMALL = -1 LARGE = -2 ANY = -3 ALL = (SMALL, LARGE, ANY) @classmethod def canonicalize(cls, pagesize): """"""Canonicalize the memory page size :param pagesize: memory page size to canonicalize :returns: a canonical memory page size """""" if pagesize == ""any"": pagesize = cls.ANY elif pagesize == ""large"": pagesize = cls.LARGE elif pagesize == ""small"": pagesize = cls.SMALL else: try: pagesize = int(pagesize) except ValueError: try: pagesize = strutils.string_to_bytes( pagesize, return_int=True) / units.Ki except ValueError: pagesize = 0 if pagesize <= 0: raise exception.MemoryPageSizeInvalid(pagesize=pagesize) return pagesize ",,62,39
openstack%2Fironic-inspector~master~I412ef3b22ae2227db777921fe64d4bacc4840670,openstack/ironic-inspector,master,I412ef3b22ae2227db777921fe64d4bacc4840670,Use latest API microversion in unit tests,ABANDONED,2017-03-13 13:46:24.000000000,2017-04-05 10:07:30.000000000,,"[{'_account_id': 3}, {'_account_id': 18653}]","[{'number': 1, 'created': '2017-03-13 13:46:24.000000000', 'files': ['ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/00a7dc507588439a76c8688b626f1b94f98d33f7', 'message': 'Use latest API microversion in unit tests\n\nAdding unit tests for current API requires explicit microversion\nspecifying, as default and current version differs.\n\nThis patch defaults API version in tests to current.\n\nChange-Id: I412ef3b22ae2227db777921fe64d4bacc4840670\n'}]",1,444910,00a7dc507588439a76c8688b626f1b94f98d33f7,4,2,1,13636,,,0,"Use latest API microversion in unit tests

Adding unit tests for current API requires explicit microversion
specifying, as default and current version differs.

This patch defaults API version in tests to current.

Change-Id: I412ef3b22ae2227db777921fe64d4bacc4840670
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/10/444910/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/test/unit/test_main.py'],1,00a7dc507588439a76c8688b626f1b94f98d33f7,unit-tests-latest-api,"from functools import partialclass TestClient(object): APP = main.app.test_client() # NOTE(aarefiev): use latest API microversion by default @classmethod def _http_method(cls, url, headers=None, data=None, method='post'): headers = headers or {} if conf.VERSION_HEADER not in headers: headers[conf.VERSION_HEADER] = main._format_version( main.CURRENT_API_VERSION) return getattr(cls.APP, method)(url, headers=headers, data=data) def __init__(self): for name in ('post', 'get', 'delete'): setattr(TestClient, name, partial(self._http_method, method=name)) self.app = TestClient() def test_introspect_set_ipmi_credentials_1_8(self, introspect_mock): headers = {conf.VERSION_HEADER: '1.8'} 'new_ipmi_password=password' % self.uuid, headers=headers) 'new_ipmi_password=password' % self.uuid) def test_introspect_set_ipmi_credentials_no_user_1_8(self, introspect_mock): headers = {conf.VERSION_HEADER: '1.8'} 'new_ipmi_password=password' % self.uuid, headers=headers)"," self.app = main.app.test_client() def test_introspect_set_ipmi_credentials(self, introspect_mock): 'new_ipmi_password=password' % self.uuid) headers = {conf.VERSION_HEADER: '1.9'} 'new_ipmi_password=password' % self.uuid, headers=headers) def test_introspect_set_ipmi_credentials_no_user(self, introspect_mock): 'new_ipmi_password=password' % self.uuid)",30,8
openstack%2Fnetworking-generic-switch~master~I6b8bfbb3af609f1e7eea0bc263f3e064d968ce5f,openstack/networking-generic-switch,master,I6b8bfbb3af609f1e7eea0bc263f3e064d968ce5f,Close SSH connections after sending commands,MERGED,2017-04-05 09:31:08.000000000,2017-04-05 10:04:03.000000000,2017-04-05 10:04:03.000000000,"[{'_account_id': 3}, {'_account_id': 12356}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-04-05 09:31:08.000000000', 'files': ['networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'networking_generic_switch/devices/netmiko_devices/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/a8158faf97d2fc6332c4bf2f50d3ccdeeb3d1e36', 'message': 'Close SSH connections after sending commands\n\nUse context manager interface of netmiko.ConnectionHandler to always\nclose SSH connections after sending commands.\n\nThis will also help with using n-g-s under load, as switches usually\nhave limited number of allowed connections, so leaving them open might\nhave negative results.\n\nChange-Id: I6b8bfbb3af609f1e7eea0bc263f3e064d968ce5f\n'}]",0,453546,a8158faf97d2fc6332c4bf2f50d3ccdeeb3d1e36,7,3,1,9542,,,0,"Close SSH connections after sending commands

Use context manager interface of netmiko.ConnectionHandler to always
close SSH connections after sending commands.

This will also help with using n-g-s under load, as switches usually
have limited number of allowed connections, so leaving them open might
have negative results.

Change-Id: I6b8bfbb3af609f1e7eea0bc263f3e064d968ce5f
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/46/453546/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'networking_generic_switch/devices/netmiko_devices/__init__.py']",2,a8158faf97d2fc6332c4bf2f50d3ccdeeb3d1e36,close-connections, with netmiko.ConnectHandler(**self.config) as net_connect: net_connect.enable() output = net_connect.send_config_set(config_commands=cmd_set), net_connect = netmiko.ConnectHandler(**self.config) net_connect.enable() output = net_connect.send_config_set(config_commands=cmd_set),5,5
openstack%2Freleases~master~I844fbc51b80987b757afd5d077d3622bb29a7950,openstack/releases,master,I844fbc51b80987b757afd5d077d3622bb29a7950,ironic 8.0.0,MERGED,2017-03-28 19:46:38.000000000,2017-04-05 10:00:20.000000000,2017-04-05 10:00:20.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 10239}, {'_account_id': 10343}]","[{'number': 1, 'created': '2017-03-28 19:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/58378f32260a23684f312725403530a9d0759fde', 'message': 'ironic 7.1.0\n\nChange-Id: I844fbc51b80987b757afd5d077d3622bb29a7950\n'}, {'number': 2, 'created': '2017-03-29 14:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4a8c3d21e0b91f7a44e9db46c2a065f6d5a9cd9b', 'message': 'ironic 7.1.0\n\nChange-Id: I844fbc51b80987b757afd5d077d3622bb29a7950\n'}, {'number': 3, 'created': '2017-03-29 14:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/abd23788a233de75b3e79f34d0b9a8efb7f6e96d', 'message': 'ironic 7.1.0\n\nChange-Id: I844fbc51b80987b757afd5d077d3622bb29a7950\n'}, {'number': 4, 'created': '2017-04-03 13:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4d44928feb2b9f6ab3b76285712534ae8cae46cb', 'message': 'ironic 8.0.0\n\nChange-Id: I844fbc51b80987b757afd5d077d3622bb29a7950\n'}, {'number': 5, 'created': '2017-04-04 12:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/81871334ce0d7fb56eea4560c545a9abbdb4a129', 'message': 'ironic 8.0.0\n\nChange-Id: I844fbc51b80987b757afd5d077d3622bb29a7950\n'}, {'number': 6, 'created': '2017-04-05 01:24:40.000000000', 'files': ['deliverables/pike/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b14e2d0bcf3f5462909b5f80c6a5f149b7419922', 'message': 'ironic 8.0.0\n\nChange-Id: I844fbc51b80987b757afd5d077d3622bb29a7950\n'}]",0,450954,b14e2d0bcf3f5462909b5f80c6a5f149b7419922,26,5,6,10343,,,0,"ironic 8.0.0

Change-Id: I844fbc51b80987b757afd5d077d3622bb29a7950
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/450954/6 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/ironic.yaml'],1,58378f32260a23684f312725403530a9d0759fde,ironic-releases,release-notes: https://docs.openstack.org/releasenotes/ironic/unreleased.html releases: - version: 7.1.0 projects: - repo: openstack/ironic hash: TODO waiting on https://review.openstack.org/#/c/449577/ and https://review.openstack.org/#/c/450733/,,6,0
openstack%2Freleases~master~I97d4ff6e9fc9e8bdbf20236c199da8ed76b3d690,openstack/releases,master,I97d4ff6e9fc9e8bdbf20236c199da8ed76b3d690,Release heat-agents 1.1.0,MERGED,2017-04-03 22:48:13.000000000,2017-04-05 09:57:23.000000000,2017-04-05 09:57:23.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 7385}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-04-03 22:48:13.000000000', 'files': ['deliverables/pike/heat-agents.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c930d574799ed2fc512e36ad12ab7d5471ca38de', 'message': 'Release heat-agents 1.1.0\n\nMinor rev for the new features in the docker-cmd hook\n\nChange-Id: I97d4ff6e9fc9e8bdbf20236c199da8ed76b3d690\n'}]",0,452986,c930d574799ed2fc512e36ad12ab7d5471ca38de,8,5,1,4571,,,0,"Release heat-agents 1.1.0

Minor rev for the new features in the docker-cmd hook

Change-Id: I97d4ff6e9fc9e8bdbf20236c199da8ed76b3d690
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/452986/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/heat-agents.yaml'],1,c930d574799ed2fc512e36ad12ab7d5471ca38de,heat-agents,releases: - version: 1.1.0 projects: - repo: openstack/heat-agents hash: 251d7ab69591e444e7329c114f81bccfaed764d0,,5,0
openstack%2Fmagnum~master~I12e1fd587f5327ee5404596b1d8b92dc5f770a93,openstack/magnum,master,I12e1fd587f5327ee5404596b1d8b92dc5f770a93,Install client in install guide instructions,MERGED,2017-04-04 12:35:19.000000000,2017-04-05 09:55:15.000000000,2017-04-05 09:16:47.000000000,"[{'_account_id': 3}, {'_account_id': 13861}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-04-04 12:35:19.000000000', 'files': ['install-guide/source/install-obs.rst', 'install-guide/source/install-rdo.rst', 'install-guide/source/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a356f5c9ef21466abb386e10bd2282f521ba2be', 'message': 'Install client in install guide instructions\n\nThe python-magnumclient package is not automatically installed with the\nother magnum packages, and it is needed later in the ""Verify operation""\nand ""Launch an instance"" sections of the install guide, so this patch\nadds it to the package installation instructions.\n\nChange-Id: I12e1fd587f5327ee5404596b1d8b92dc5f770a93\n'}]",0,453153,7a356f5c9ef21466abb386e10bd2282f521ba2be,9,3,1,8482,,,0,"Install client in install guide instructions

The python-magnumclient package is not automatically installed with the
other magnum packages, and it is needed later in the ""Verify operation""
and ""Launch an instance"" sections of the install guide, so this patch
adds it to the package installation instructions.

Change-Id: I12e1fd587f5327ee5404596b1d8b92dc5f770a93
",git fetch https://review.opendev.org/openstack/magnum refs/changes/53/453153/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/install-obs.rst', 'install-guide/source/install-rdo.rst', 'install-guide/source/install-ubuntu.rst']",3,7a356f5c9ef21466abb386e10bd2282f521ba2be,add_client, # DEBIAN_FRONTEND=noninteractive apt-get install magnum-api magnum-conductor python-magnumclient, # DEBIAN_FRONTEND=noninteractive apt-get install magnum-api magnum-conductor,3,3
openstack%2Fvitrage-specs~master~Ida7d8293fce580fea0501b86c0fd5502e22f86a0,openstack/vitrage-specs,master,Ida7d8293fce580fea0501b86c0fd5502e22f86a0,Define and handle equivalence among entities,MERGED,2017-03-29 07:10:38.000000000,2017-04-05 09:52:42.000000000,2017-04-05 09:52:42.000000000,"[{'_account_id': 3}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 21414}, {'_account_id': 24666}]","[{'number': 1, 'created': '2017-03-29 07:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/f6ee534f24b7f727f5b88a93d8c5e2af97dd0d5a', 'message': '(WIP) entity equivalence\n\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 2, 'created': '2017-03-29 07:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/105c8388567a2391844b2a0f423019aefcf63ba6', 'message': '(WIP) entity equivalence\n\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 3, 'created': '2017-03-29 08:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/4d8349de3832077227ea9375edfc329790d5318a', 'message': '(WIP) entity equivalence\n\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 4, 'created': '2017-03-29 09:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/bb0f7623424d42d039c59002c9c6a882cbb1e2e5', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 5, 'created': '2017-03-29 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/9da2c12d49467a8d2cebe38f37fc3a00f1dc3eaf', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 6, 'created': '2017-03-30 01:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/943886e364462548e98720778657c39bed91042c', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 7, 'created': '2017-03-30 01:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/8a70450b5699faeefa0c91167542d11223432e32', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nCo-Authored-By: Ifat Afek <ifat.afek@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 8, 'created': '2017-03-30 08:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/a4d0b3ea438e429109c8d35f2b9b89d6b1523d44', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nCo-Authored-By: Ifat Afek <ifat.afek@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 9, 'created': '2017-03-30 09:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/e303b6774b12cfb69f13c82870c67571d2a84636', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nCo-Authored-By: Ifat Afek <ifat.afek@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 10, 'created': '2017-03-30 09:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/6cc87999373ca17185a46440bc081c1e23ad84c4', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nCo-Authored-By: Ifat Afek <ifat.afek@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 11, 'created': '2017-03-30 14:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/b965d12f91fd93bd2c025830d0dee14ba7bedea2', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nCo-Authored-By: Ifat Afek <ifat.afek@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 12, 'created': '2017-04-03 00:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/ef57eff331affe78213fd999a600b3331fda6fd7', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nCo-Authored-By: Ifat Afek <ifat.afek@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}, {'number': 13, 'created': '2017-04-03 00:49:54.000000000', 'files': ['specs/pike/entity-equivalence.rst'], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/27fa2274cef6861e738e3adcca16fb8a9e63e563', 'message': 'Define and handle equivalence among entities\n\nCo-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>\nCo-Authored-By: Ifat Afek <ifat.afek@nokia.com>\nChange-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0\nImplement: blueprint entity-equivalence\n'}]",27,451216,27fa2274cef6861e738e3adcca16fb8a9e63e563,40,5,13,21414,,,0,"Define and handle equivalence among entities

Co-Authored-By: Idan Hefetz <idan.hefetz@nokia.com>
Co-Authored-By: Ifat Afek <ifat.afek@nokia.com>
Change-Id: Ida7d8293fce580fea0501b86c0fd5502e22f86a0
Implement: blueprint entity-equivalence
",git fetch https://review.opendev.org/openstack/vitrage-specs refs/changes/16/451216/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/entity-equivalence.rst'],1,f6ee534f24b7f727f5b88a93d8c5e2af97dd0d5a,bp/entity-equivalence,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Define and handle equivalence among entities ============================================ https://blueprints.launchpad.net/vitrage/+spec/entity-equivalence Define equivalence among entities to allow mapping two or more entities to same object and handle it properly in scenario evaluator. It is inspired by Idan Hefetz's proposal about `ZTE use case of alarm deduction`_, but designed in a generic way to allow extending to RESOURCE equivalence in future. Problem description =================== Introducing entity equivalence will enhance the extensibility of Vitrage, making it suitable for more use cases, such as - `deduction`_ of monitored (but unreported) alarm - `aggregation`_ of identical alarm from multiple monitor - aggregation of resource information from multiple data sources. Proposed change =============== TBD Alternatives ------------ TBD Data model impact ----------------- TBD REST API impact --------------- TBD Versioning impact ----------------- TBD Other end user impact --------------------- TBD Deployer impact --------------- TBD Developer impact ---------------- TBD Horizon impact -------------- TBD Implementation ============== Assignee(s) ----------- Primary assignee: yujunz Other contributors: None Work Items ---------- - equivalence definition in Vitrage templates - handling alarm equivalence in scenario evaluator - back-compatibility for UI which does not handle alarm equivalence - validate alarm equivalence in alarm deduction design The following items are not in scope - support alarm equivalence in UI - implement alarm deduction based on equivalence - resource equivalence Dependencies ============ TBD Testing ======= TBD Documentation Impact ==================== TBD References ========== .. _ZTE use case of alarm deduction: https://goo.gl/FfDLi8 .. _deduction: https://review.openstack.org/#/c/423000/ .. _aggregation: https://blueprints.launchpad.net/vitrage/+spec/alarm-aggregation ",,120,0
openstack%2Fopenstack-manuals~master~I253f2675737b1a69042594718549f6f789739c87,openstack/openstack-manuals,master,I253f2675737b1a69042594718549f6f789739c87,"[networking-guide] Replace ""tenant"" with ""project""",MERGED,2017-02-25 09:08:34.000000000,2017-04-05 09:52:10.000000000,2017-04-05 09:52:10.000000000,"[{'_account_id': 3}, {'_account_id': 6635}, {'_account_id': 9162}, {'_account_id': 10607}, {'_account_id': 14962}, {'_account_id': 18464}, {'_account_id': 19779}]","[{'number': 1, 'created': '2017-02-25 09:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fe2415eea7761b8d2e24e9cfbc6be9764cde2d2c', 'message': '[networking-guide] Replace ""tenant"" with ""project""\n\nChange-Id: I253f2675737b1a69042594718549f6f789739c87\nPartial-Bug: #1475005\n'}, {'number': 2, 'created': '2017-04-05 09:30:02.000000000', 'files': ['doc/networking-guide/source/intro-os-networking.rst', 'doc/networking-guide/source/config-dns-int.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a4bc7de315a32f4fe8c8d529e9672b902e627f76', 'message': '[networking-guide] Replace ""tenant"" with ""project""\n\nChange-Id: I253f2675737b1a69042594718549f6f789739c87\nPartial-Bug: #1475005\n'}]",10,438160,a4bc7de315a32f4fe8c8d529e9672b902e627f76,19,7,2,14151,,,0,"[networking-guide] Replace ""tenant"" with ""project""

Change-Id: I253f2675737b1a69042594718549f6f789739c87
Partial-Bug: #1475005
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/60/438160/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/networking-guide/source/intro-os-networking.rst', 'doc/networking-guide/source/config-dns-int.rst']",2,fe2415eea7761b8d2e24e9cfbc6be9764cde2d2c,bug/1475005, outside the ranges assigned to project networks., outside the ranges assigned to tenant networks.,3,3
openstack%2Fhorizon~master~I59560c479ad77d2452484b2138065a003451f376,openstack/horizon,master,I59560c479ad77d2452484b2138065a003451f376,Update the access_and_security url,MERGED,2017-04-01 09:13:10.000000000,2017-04-05 09:51:07.000000000,2017-04-05 09:48:52.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-04-01 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/76ebca81f3bf80060531d978cd3841a96ad20795', 'message': 'Update the access_and_security url\n\nChange-Id: I59560c479ad77d2452484b2138065a003451f376\n'}, {'number': 2, 'created': '2017-04-05 03:34:10.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/key_pairs/templates/key_pairs/create.html', 'openstack_dashboard/test/integration_tests/regions/menus.py', 'openstack_dashboard/dashboards/project/security_groups/templates/security_groups/create.html', 'openstack_dashboard/dashboards/project/key_pairs/templates/key_pairs/import.html', 'openstack_dashboard/dashboards/project/security_groups/views.py', 'openstack_dashboard/dashboards/project/stacks/mappings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b1a907840431291007b8e3f2582486e97d86ff21', 'message': 'Update the access_and_security url\n\nSince this bp reorganise-access-and-security,\nmove access_and_security to separate panel,\nthere are some places url need to change too.\n\nCloses-Bug: #1679895\n\nChange-Id: I59560c479ad77d2452484b2138065a003451f376\n'}]",1,452421,b1a907840431291007b8e3f2582486e97d86ff21,11,3,2,14107,,,0,"Update the access_and_security url

Since this bp reorganise-access-and-security,
move access_and_security to separate panel,
there are some places url need to change too.

Closes-Bug: #1679895

Change-Id: I59560c479ad77d2452484b2138065a003451f376
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/452421/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/key_pairs/templates/key_pairs/create.html', 'openstack_dashboard/test/integration_tests/regions/menus.py', 'openstack_dashboard/dashboards/project/security_groups/templates/security_groups/create.html', 'openstack_dashboard/dashboards/project/key_pairs/templates/key_pairs/import.html', 'openstack_dashboard/dashboards/project/security_groups/views.py', 'openstack_dashboard/dashboards/project/stacks/mappings.py']",7,76ebca81f3bf80060531d978cd3841a96ad20795,," 'link': 'horizon:project:security_groups:index'}, 'link': 'horizon:project:key_pairs:index'},"," 'link': 'horizon:project:access_and_security:index'}, 'link': 'horizon:project:access_and_security:index'},",17,11
openstack%2Ftripleo-validations~stable%2Focata~I397435926289365df6a4e70b6f725edd4b0bacf8,openstack/tripleo-validations,stable/ocata,I397435926289365df6a4e70b6f725edd4b0bacf8,Update reno for stable/ocata,MERGED,2017-04-04 14:08:05.000000000,2017-04-05 09:50:18.000000000,2017-04-05 09:50:18.000000000,"[{'_account_id': 3}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-04-04 14:08:05.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/64b4796983d72b9f1281730473dc7cc4230d87f9', 'message': 'Update reno for stable/ocata\n\nChange-Id: I397435926289365df6a4e70b6f725edd4b0bacf8\n(cherry picked from commit c15f4696d68dbab2d61c9ce3bf158551300229d1)\n'}]",0,453191,64b4796983d72b9f1281730473dc7cc4230d87f9,8,2,1,17888,,,0,"Update reno for stable/ocata

Change-Id: I397435926289365df6a4e70b6f725edd4b0bacf8
(cherry picked from commit c15f4696d68dbab2d61c9ce3bf158551300229d1)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/91/453191/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst']",2,64b4796983d72b9f1281730473dc7cc4230d87f9,reno-ocata, ocata,,7,0
openstack%2Ftripleo-validations~stable%2Focata~Icaf452f280dd4cbbe113ec2b95c2c41f222f8076,openstack/tripleo-validations,stable/ocata,Icaf452f280dd4cbbe113ec2b95c2c41f222f8076,Update .gitreview for stable/ocata,MERGED,2017-03-27 11:55:34.000000000,2017-04-05 09:50:13.000000000,2017-04-05 09:50:13.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-27 11:55:34.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/256e7d4eeb5762ed0c0c6fd807c6edf6857aa490', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Icaf452f280dd4cbbe113ec2b95c2c41f222f8076\n'}]",0,450178,256e7d4eeb5762ed0c0c6fd807c6edf6857aa490,22,3,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Icaf452f280dd4cbbe113ec2b95c2c41f222f8076
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/78/450178/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,256e7d4eeb5762ed0c0c6fd807c6edf6857aa490,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Ftripleo-validations~stable%2Focata~I6554d7dce826ec6702dbef48cf0c3079a44ee1c5,openstack/tripleo-validations,stable/ocata,I6554d7dce826ec6702dbef48cf0c3079a44ee1c5,Typo fix: choses => chooses,MERGED,2017-04-04 14:08:58.000000000,2017-04-05 09:50:04.000000000,2017-04-05 09:50:04.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-04-04 14:08:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/91b5e951ee78f37710379ba1f50729e7aa0044f4', 'message': 'Typo fix: choses => chooses\n\nChange-Id: I6554d7dce826ec6702dbef48cf0c3079a44ee1c5\n(cherry picked from commit e8111abd6f1b9417a5bca5a4d24a0615e2462d10)\n'}]",0,453192,91b5e951ee78f37710379ba1f50729e7aa0044f4,9,3,1,17888,,,0,"Typo fix: choses => chooses

Change-Id: I6554d7dce826ec6702dbef48cf0c3079a44ee1c5
(cherry picked from commit e8111abd6f1b9417a5bca5a4d24a0615e2462d10)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/92/453192/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,91b5e951ee78f37710379ba1f50729e7aa0044f4,,dynamic inventory script depending on which one the operator chooses to use.,dynamic inventory script depending on which one the operator choses to use.,1,1
openstack%2Ftripleo-docs~master~Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd,openstack/tripleo-docs,master,Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd,Link to tripleo-quickstart docs for virtual envs,MERGED,2017-03-30 17:24:51.000000000,2017-04-05 09:49:52.000000000,2017-04-05 09:49:51.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 12715}]","[{'number': 1, 'created': '2017-03-30 17:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/12a907e0db157edd721395b518ca9d72cd966560', 'message': 'Link to tripleo-quickstart docs for virtual envs\n\ntripleo-quickstart is now the default for virtual environments for use\nwith TripleO. Remove all the instack-virt-setup instructions and link to\ntripleo-quickstart docs directly.\n\nChange-Id: Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd\n'}, {'number': 2, 'created': '2017-04-03 12:17:38.000000000', 'files': ['doc/source/environments/virtual.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6adb4fad5dbcb53fea38bb31b6c72fec605e776a', 'message': 'Link to tripleo-quickstart docs for virtual envs\n\ntripleo-quickstart is now the default for virtual environments for use\nwith TripleO. Remove all the instack-virt-setup instructions and link to\ntripleo-quickstart docs directly.\n\nChange-Id: Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd\n'}]",2,451912,6adb4fad5dbcb53fea38bb31b6c72fec605e776a,12,5,2,7144,,,0,"Link to tripleo-quickstart docs for virtual envs

tripleo-quickstart is now the default for virtual environments for use
with TripleO. Remove all the instack-virt-setup instructions and link to
tripleo-quickstart docs directly.

Change-Id: Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/12/451912/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/environments/virtual.rst'],1,12a907e0db157edd721395b518ca9d72cd966560,,The tripleo-quickstart project is now used for creating virtual envirionments for use with TripleO. Please see that documentation at https://docs.openstack.org/developer/tripleo-quickstart/,".. warning:: These instructions are DEPRECATED as of the Ocata release and will be removed in a future release. |project| can be used in a virtual environment using virtual machines instead of actual baremetal. However, one baremetal machine is still needed to act as the host for the virtual machines. .. warning:: Virtual deployments with TripleO are for development and testing purposes only. This method cannot be used for production-ready deployments. Minimum System Requirements ^^^^^^^^^^^^^^^^^^^^^^^^^^^ By default, this setup creates 3 virtual machines: * 1 Undercloud * 1 Overcloud Controller * 1 Overcloud Compute Each virtual machine must consist of at least 8 GB of memory and 40 GB of disk space [#]_. .. note:: The virtual machine disk files are thinly provisioned and will not take up the full 40GB initially. The baremetal machine should meet the following minimum system requirements: * Virtualization hardware extensions enabled (nested KVM is **not** supported) * 1 quad core CPU * 32 GB free memory * 240 GB disk space |project| currently supports the following operating systems: * RHEL 7.1 x86_64 or * CentOS 7 x86_64 .. _preparing_virtual_environment: Preparing the Virtual Environment (Automated) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ #. Install RHEL 7.1 Server x86_64 or CentOS 7 x86_64 on your host machine. .. admonition:: RHEL Portal Registration :class: portal Register the host machine using Subscription Management:: sudo subscription-manager register --username=""[your username]"" --password=""[your password]"" # Find this with `subscription-manager list --available` sudo subscription-manager attach --pool=""[pool id]"" # Verify repositories are available sudo subscription-manager repos --list # Enable repositories needed sudo subscription-manager repos --enable=rhel-7-server-rpms \ --enable=rhel-7-server-optional-rpms --enable=rhel-7-server-extras-rpms \ --enable=rhel-7-server-openstack-6.0-rpms .. admonition:: RHEL Satellite Registration :class: satellite To register the host machine to a Satellite, the following repos must be synchronized on the Satellite:: rhel-7-server-rpms rhel-7-server-optional-rpms rhel-7-server-extras-rpms rhel-7-server-openstack-6.0-rpms See the `Red Hat Satellite User Guide`_ for how to configure the system to register with a Satellite server. It is suggested to use an activation key that automatically enables the above repos for registered systems. #. Make sure sshd service is installed and running. #. The user performing all of the installation steps on the virt host needs to have sudo enabled. You can use an existing user or use the following commands to create a new user called stack with password-less sudo enabled. Do not run the rest of the steps in this guide as root. * Example commands to create a user:: sudo useradd stack sudo passwd stack # specify a password echo ""stack ALL=(root) NOPASSWD:ALL"" | sudo tee -a /etc/sudoers.d/stack sudo chmod 0440 /etc/sudoers.d/stack #. Make sure you are logged in as the non-root user you intend to use. * Example command to log in as the non-root user:: su - stack #. Enable needed repositories: .. include:: ../repositories.txt .. We need to manually continue our list numbering here since the above ""include"" directive breaks the numbering. 5. Install instack-undercloud:: sudo yum install -y instack-undercloud #. The virt setup automatically sets up a vm for the Undercloud installed with the same base OS as the host. See the Note below to choose a different OS: .. note:: To setup the undercloud vm with a base OS different from the host, set the ``$NODE_DIST`` environment variable prior to running ``instack-virt-setup``: .. admonition:: CentOS :class: centos :: export NODE_DIST=centos7 .. admonition:: RHEL :class: rhel :: export NODE_DIST=rhel7 #. Run the script to setup your virtual environment: .. note:: By default, 2 overcloud VMs will be created with 1 vCPU, 6144 MiB RAM and 40 GB. To adjust those values set the following:: export NODE_COUNT=2 export NODE_CPU=1 export NODE_MEM=6144 export NODE_DISK=40 The undercloud VM will be created with 4 vCPUs and 8192 MiB and 30 GB of disk by default. To adjust those values set the following:: export UNDERCLOUD_NODE_CPU=4 export UNDERCLOUD_NODE_MEM=8192 export UNDERCLOUD_NODE_DISK=30 .. admonition:: RHEL :class: rhel Download the RHEL 7.1 cloud image or copy it over from a different location, for example: https://access.redhat.com/downloads/content/69/ver=/rhel---7/7.1/x86_64/product-downloads, and define the needed environment variables for RHEL 7.1 prior to running ``instack-virt-setup``:: export DIB_LOCAL_IMAGE=rhel-guest-image-7.1-20150224.0.x86_64.qcow2 .. admonition:: RHEL Portal Registration :class: portal To register the Undercloud vm to the Red Hat Portal define the following variables:: export REG_METHOD=portal export REG_USER=""[your username]"" export REG_PASSWORD=""[your password]"" # Find this with `sudo subscription-manager list --available` export REG_POOL_ID=""[pool id]"" export REG_REPOS=""rhel-7-server-rpms rhel-7-server-extras-rpms rhel-ha-for-rhel-7-server-rpms \ rhel-7-server-optional-rpms rhel-7-server-openstack-6.0-rpms"" .. admonition:: RHEL Satellite Registration :class: satellite To register the Undercloud vm to a Satellite define the following variables. Only using an activation key is supported when registering to Satellite, username/password is not supported for security reasons. The activation key must enable the repos shown:: export REG_METHOD=satellite # REG_SAT_URL should be in the format of: # http://<satellite-hostname> export REG_SAT_URL=""[satellite url]"" export REG_ORG=""[satellite org]"" # Activation key must enable these repos: # rhel-7-server-rpms # rhel-7-server-optional-rpms # rhel-7-server-extras-rpms # rhel-7-server-openstack-6.0-rpms export REG_ACTIVATION_KEY=""[activation key]"" .. admonition:: Ceph :class: ceph To use Ceph you will need at least one additional virtual machine to be provisioned as a Ceph OSD; set the ``NODE_COUNT`` variable to 3, from a default of 2, so that the overcloud will have exactly one more:: export NODE_COUNT=3 .. note:: The ``TESTENV_ARGS`` environment variable can be used to customize the virtual environment configuration. For example, it could be used to enable additional networks as follows:: export TESTENV_ARGS=""--baremetal-bridge-names 'brbm brbm1 brbm2'"" .. _there: .. note:: The ``LIBVIRT_VOL_POOL`` and ``LIBVIRT_VOL_POOL_TARGET`` environment variables govern the name and location respectively for the storage pool used by libvirt. The defaults are the 'default' pool with target ``/var/lib/libvirt/images/``. These variables are useful if your current partitioning scheme results in insufficient space for running any useful number of vms (see the `Minimum Requirements`_):: # you can check the space available to the default location like df -h /var/lib/libvirt/images # If you wish to specify an alternative pool name: export LIBVIRT_VOL_POOL=tripleo # If you want to specify an alternative target export LIBVIRT_VOL_POOL_TARGET=/home/vm_storage_pool If you don't have a 'default' pool defined at all, setting the target is sufficient as the default will be created with your specified target (and directories created as necessary). It isn't possible to change the target for an existing volume pool with this method, so if you already have a 'default' pool and cannot remove it, you should also specify a new pool name to be created. :: instack-virt-setup If the script encounters problems, see :doc:`../troubleshooting/troubleshooting-virt-setup`. When the script has completed successfully it will output the IP address of the instack vm that has now been installed with a base OS. Running ``sudo virsh list --all`` [#]_ will show you now have one virtual machine called *instack* and 2 called *baremetal[0-1]*. You can ssh to the instack vm as the root user:: ssh root@<instack-vm-ip> The vm contains a ``stack`` user to be used for installing the undercloud. You can ``su - stack`` to switch to the stack user account. Continue with :doc:`../installation/installation`. .. rubric:: Footnotes .. [#] Note that some default partitioning schemes may not provide enough space to the partition containing the default path for libvirt image storage (/var/lib/libvirt/images). The easiest fix is to export the LIBVIRT_VOL_POOL_TARGET and LIBVIRT_VOL_POOL parameters in your environment prior to running instack-virt-setup above (see note `there`_). Alternatively you can just customize the partition layout at the time of install to provide at least 200 GB of space for that path. .. [#] The libvirt virtual machines have been defined under the system instance (qemu:///system). The user account executing these instructions gets added to the libvirtd group which grants passwordless access to the system instance. It does however require logging into a new shell (or desktop environment session if wanting to use virt-manager) before this change will be fully applied. To avoid having to re-login, you can use ``sudo virsh``. .. _Red Hat Satellite User Guide: https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/ .. _Minimum Requirements: http://docs.openstack.org/developer/tripleo-docs/environments/virtual.html#minimum-system-requirements",3,284
openstack%2Ftripleo-validations~stable%2Focata~Ia85bd10f41473c58d693b630c9d20656793ed6af,openstack/tripleo-validations,stable/ocata,Ia85bd10f41473c58d693b630c9d20656793ed6af,[trivial] Remove broken link,MERGED,2017-03-29 11:16:47.000000000,2017-04-05 09:48:26.000000000,2017-04-05 09:48:26.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 9317}, {'_account_id': 13039}, {'_account_id': 20156}]","[{'number': 1, 'created': '2017-03-29 11:16:47.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/98149891e34b7c1f38c7e0e584eba9a0949665d4', 'message': '[trivial] Remove broken link\n\nChange-Id: Ia85bd10f41473c58d693b630c9d20656793ed6af\n(cherry picked from commit d6f7a9e9251e6eecc1d7b3bb5b63888006723097)\n'}]",0,451336,98149891e34b7c1f38c7e0e584eba9a0949665d4,15,5,1,17888,,,0,"[trivial] Remove broken link

Change-Id: Ia85bd10f41473c58d693b630c9d20656793ed6af
(cherry picked from commit d6f7a9e9251e6eecc1d7b3bb5b63888006723097)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/451336/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,98149891e34b7c1f38c7e0e584eba9a0949665d4,trivial,,* :ref:`modindex`,0,1
openstack%2Ftripleo-heat-templates~master~Ia2ea559e8eeb64763908f75705e3728ee90b5744,openstack/tripleo-heat-templates,master,Ia2ea559e8eeb64763908f75705e3728ee90b5744,Move role deployment steps into puppet/post.yaml,MERGED,2016-09-05 17:57:36.000000000,2017-04-05 09:44:18.000000000,2016-09-09 15:59:59.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 20775}]","[{'number': 1, 'created': '2016-09-05 17:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/561f3b984baa3f905c719afa70fd0bca43fc38ab', 'message': 'Move role deployment steps into overcloud.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks, into overcloud.yaml\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 2, 'created': '2016-09-06 10:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5356545327b51c3b006a79799877bb152ef23d1a', 'message': 'Move role deployment steps into overcloud.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks, into overcloud.yaml\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 3, 'created': '2016-09-06 13:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4856977f8dd8962ac90ef8280282303ef19b257b', 'message': 'Move role deployment steps into overcloud.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks, into overcloud.yaml\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 4, 'created': '2016-09-06 15:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aee27c7cd7dee61f232b91af3eb26552a6ffe603', 'message': 'Move role deployment steps into overcloud.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks, into overcloud.yaml\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 5, 'created': '2016-09-06 15:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dd69385e3a5060d87e8c1f36a290c1606f56b79', 'message': 'Move role deployment steps into overcloud.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks, into overcloud.yaml\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 6, 'created': '2016-09-06 16:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2733a42e4cec95ab15b2c735bc5d6b3fbda8430', 'message': 'Move role deployment steps into overcloud.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks, into overcloud.yaml\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 7, 'created': '2016-09-06 16:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db6fd3411c7202fc6b86732499be4d1dfebfc32c', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 8, 'created': '2016-09-07 03:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/457835ce58c90aa489425d9cbf49d2ae33188a7b', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 9, 'created': '2016-09-07 08:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db9ece3cb73ed9404122d7e414e94a113fd1fd2e', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 10, 'created': '2016-09-07 13:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afd4d4fbaf6ae6682b67fc67b686631e97ba6fc9', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 11, 'created': '2016-09-07 16:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41e0d9d6820d37e82fca791790028cae479e718a', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 12, 'created': '2016-09-08 10:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4aabef61dbe975ccb21b46f2825716431f9b83b', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 13, 'created': '2016-09-08 20:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/074d7c14508ece061587a04105cd0a1e184635c1', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}, {'number': 14, 'created': '2016-09-09 10:12:00.000000000', 'files': ['puppet/blockstorage-config.yaml', 'puppet/post.yaml', 'overcloud-resource-registry-puppet.yaml', 'puppet/swift-storage-post.yaml', 'puppet/ceph-storage-post.yaml', 'puppet/cephstorage-config.yaml', 'puppet/compute-config.yaml', 'puppet/controller-post.yaml', 'overcloud.yaml', 'puppet/objectstorage-config.yaml', 'puppet/compute-post.yaml', 'puppet/cinder-storage-post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54a0286106e716250231dbd80e467dbe85a160a5', 'message': 'Move role deployment steps into puppet/post.yaml\n\nTo enable steps to be aligned between roles, we need to define\ndependencies between the steps, which is only possible if we\nmove the steps out of distinct nested stacks so we can use\ndepends_on to serialized the steps for all roles.\n\nNote that we may be able to further refactor later to remove the\nper-role -config.yaml nested stacks as well.\n\nChange-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744\nPartially-Implements: blueprint custom-roles\n'}]",2,365763,54a0286106e716250231dbd80e467dbe85a160a5,61,8,14,4328,,,0,"Move role deployment steps into puppet/post.yaml

To enable steps to be aligned between roles, we need to define
dependencies between the steps, which is only possible if we
move the steps out of distinct nested stacks so we can use
depends_on to serialized the steps for all roles.

Note that we may be able to further refactor later to remove the
per-role -config.yaml nested stacks as well.

Change-Id: Ia2ea559e8eeb64763908f75705e3728ee90b5744
Partially-Implements: blueprint custom-roles
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/365763/4 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/blockstorage-config.yaml', 'overcloud-resource-registry-puppet.yaml', 'puppet/swift-storage-post.yaml', 'overcloud.yaml', 'puppet/objectstorage-config.yaml', 'puppet/ceph-storage-post.yaml', 'puppet/cephstorage-config.yaml', 'puppet/compute-config.yaml', 'puppet/compute-post.yaml', 'puppet/cinder-storage-post.yaml', 'puppet/controller-post.yaml']",11,561f3b984baa3f905c719afa70fd0bca43fc38ab,bp/custom-roles,,"heat_template_version: 2015-04-30 description: > OpenStack controller node post deployment for Puppet. parameters: ConfigDebug: default: false description: Whether to run config management (e.g. Puppet) in debug mode. type: boolean servers: type: json RoleData: type: json default: {} DeployIdentifier: type: string default: '' description: Value which changes if the node configuration may need to be re-applied resources: ControllerArtifactsConfig: type: deploy-artifacts.yaml ControllerArtifactsDeploy: type: OS::Heat::StructuredDeployments properties: servers: {get_param: servers} config: {get_resource: ControllerArtifactsConfig} ControllerPrePuppet: type: OS::TripleO::Tasks::ControllerPrePuppet properties: servers: {get_param: servers} input_values: update_identifier: {get_param: DeployIdentifier} ControllerPuppetConfig: type: OS::TripleO::ControllerConfig properties: StepConfig: {get_param: [RoleData, step_config]} # Step through a series of Puppet runs using the same manifest. # NOTE: To enable stepping through the deployments via heat hooks, # you must observe the glob naming defined in overcloud-steps.yaml # e.g all Deployment resources should have a *Deployment_StepN suffix ControllerLoadBalancerDeployment_Step1: type: OS::Heat::StructuredDeployments depends_on: [ControllerPrePuppet, ControllerArtifactsDeploy] properties: name: ControllerLoadBalancerDeployment_Step1 servers: {get_param: servers} config: {get_resource: ControllerPuppetConfig} input_values: step: 1 update_identifier: {get_param: DeployIdentifier} ControllerServicesBaseDeployment_Step2: type: OS::Heat::StructuredDeployments depends_on: ControllerLoadBalancerDeployment_Step1 properties: name: ControllerServicesBaseDeployment_Step2 servers: {get_param: servers} config: {get_resource: ControllerPuppetConfig} input_values: step: 2 update_identifier: {get_param: DeployIdentifier} ControllerOvercloudServicesDeployment_Step3: type: OS::Heat::StructuredDeployments depends_on: ControllerServicesBaseDeployment_Step2 properties: name: ControllerOvercloudServicesDeployment_Step3 servers: {get_param: servers} config: {get_resource: ControllerPuppetConfig} input_values: step: 3 update_identifier: {get_param: DeployIdentifier} ControllerOvercloudServicesDeployment_Step4: type: OS::Heat::StructuredDeployments depends_on: ControllerOvercloudServicesDeployment_Step3 properties: name: ControllerOvercloudServicesDeployment_Step4 servers: {get_param: servers} config: {get_resource: ControllerPuppetConfig} input_values: step: 4 update_identifier: {get_param: DeployIdentifier} ControllerOvercloudServicesDeployment_Step5: type: OS::Heat::StructuredDeployments depends_on: ControllerOvercloudServicesDeployment_Step4 properties: name: ControllerOvercloudServicesDeployment_Step5 servers: {get_param: servers} config: {get_resource: ControllerPuppetConfig} input_values: step: 5 update_identifier: {get_param: DeployIdentifier} ControllerPostPuppet: type: OS::TripleO::Tasks::ControllerPostPuppet depends_on: ControllerOvercloudServicesDeployment_Step5 properties: servers: {get_param: servers} input_values: update_identifier: {get_param: DeployIdentifier} # Note, this should come last, so use depends_on to ensure # this is created after any other resources. ExtraConfig: depends_on: ControllerPostPuppet type: OS::TripleO::NodeExtraConfigPost properties: servers: {get_param: servers} ",773,502
openstack%2Fneutron~master~I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6,openstack/neutron,master,I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6,Inherit segmentation details for trunk subports if requested,MERGED,2017-02-22 04:40:42.000000000,2017-04-05 09:36:56.000000000,2017-04-05 09:36:56.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 6637}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 12860}, {'_account_id': 14208}, {'_account_id': 14525}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-02-22 04:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bcd156dde5ce06c077d90c83d9faf5f43388289', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit,segmentation_id=<port_uuid> will let the\ntrunk plugin infer these details from the network to which the\nsubport is connected to.\n\nThis type of request will only be successful when the network's\nsegmentation type is 'vlan', and the network has only one segment\n(provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 2, 'created': '2017-02-22 04:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70897b44d5800b51d6f9aef7751b73092f4b38c4', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit,segmentation_id=<port_uuid> will let the\ntrunk plugin infer these details from the network to which the\nsubport is connected to.\n\nThis type of request will only be successful when the network's\nsegmentation type is 'vlan', and the network has only one segment\n(provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 3, 'created': '2017-02-22 13:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fb2a6abf8f392840c4792ed7e9e3f7736ee867b', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit,segmentation_id=<port_uuid> will let the\ntrunk plugin infer these details from the network to which the\nsubport is connected to.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 4, 'created': '2017-02-22 18:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d67fc35dd60cfa54d4c28026ca7dee2439492ce2', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit,segmentation_id=<port_uuid> will let the\ntrunk plugin infer these details from the network to which the\nsubport is connected to.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 5, 'created': '2017-02-22 21:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c25f68869bfb7d5760a49cca18dd836525a4d47', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit,segmentation_id=<port_uuid> will let the\ntrunk plugin infer these details from the network to which the\nsubport is connected to.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 6, 'created': '2017-02-27 19:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c741bc9b58f48905415f8d65aa6dba68b21a9e36', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 7, 'created': '2017-02-27 21:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87d15b3e50f21a64821c167c48a44d684850a9df', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 8, 'created': '2017-03-07 21:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7942dc2650c11aa73d14b43b48c4194ddee88226', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 9, 'created': '2017-03-23 05:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ba94c723f55224187eb01159b51ac38efe75e74', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 10, 'created': '2017-03-23 14:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fedaa33f749dd11e55b3dfae9d7aa0435197c34', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 11, 'created': '2017-03-23 15:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bff74490319f6dca51184560a3b3602bc12f2b72', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 12, 'created': '2017-03-24 05:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99f14ea6d02433f9217696409d5ac8e6a3efd584', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 13, 'created': '2017-04-03 22:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ca13adc63ee6d8d1b0e413fc851fbbd008bfad3', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}, {'number': 14, 'created': '2017-04-04 04:22:49.000000000', 'files': ['neutron/tests/tempest/api/test_trunk.py', 'neutron/tests/contrib/hooks/vlan_provider', 'neutron/tests/contrib/gate_hook.sh', 'releasenotes/notes/trunk_inherit-455dc74b9fa22dad.yaml', 'neutron/services/trunk/rules.py', 'neutron/tests/tempest/api/test_trunk_negative.py', 'neutron/tests/tempest/config.py', 'neutron/services/trunk/constants.py', 'neutron/tests/unit/services/trunk/test_rules.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a6d06550bd98b473bdcf5e58dcfb7f5ca9424ef', 'message': ""Inherit segmentation details for trunk subports if requested\n\nThis patch introduces support for requests where the user does\nnot know the segmentation details of a subport and by specifying\nsegmentation_type=inherit will let the trunk plugin infer these\ndetails from the network to which the subport is connected to, thus\nignoring the segmentation_id in case it were to be specified.\n\nThis type of request is currently expected to have correct results\nwhen the network segmentation type is 'vlan', and the network has\nonly one segment (provider-net extension use case).\n\nDocImpact: Extend trunk documentation to include Ironic use case.\n\nCloses-bug: #1648129\n\nDepends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070\nChange-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6\n""}]",31,436756,4a6d06550bd98b473bdcf5e58dcfb7f5ca9424ef,156,17,14,748,,,0,"Inherit segmentation details for trunk subports if requested

This patch introduces support for requests where the user does
not know the segmentation details of a subport and by specifying
segmentation_type=inherit will let the trunk plugin infer these
details from the network to which the subport is connected to, thus
ignoring the segmentation_id in case it were to be specified.

This type of request is currently expected to have correct results
when the network segmentation type is 'vlan', and the network has
only one segment (provider-net extension use case).

DocImpact: Extend trunk documentation to include Ironic use case.

Closes-bug: #1648129

Depends-on: Ib510aade1716e6ca92940b85245eda7d0c84a070
Change-Id: I3be2638fddf3a9723dd852a3f9ea9f64eb1d0dd6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/436756/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_trunk.py', 'neutron/services/trunk/rules.py', 'neutron/services/trunk/constants.py', 'neutron/tests/unit/services/trunk/test_rules.py']",4,0bcd156dde5ce06c077d90c83d9faf5f43388289,bug/1648129," mock.patch.object(rules.SubPortsValidator, '_prepare_subports', return_value=None).start()",,73,0
openstack%2Fgovernance~master~Ie8c0805e14e6952cce2132a6c5c9a0844a2edbab,openstack/governance,master,Ie8c0805e14e6952cce2132a6c5c9a0844a2edbab,[I18n] Renew & add Zanata dev members as extra ATC,MERGED,2017-03-30 02:30:51.000000000,2017-04-05 09:20:43.000000000,2017-04-05 09:20:43.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6159}, {'_account_id': 6482}, {'_account_id': 14482}]","[{'number': 1, 'created': '2017-03-30 02:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8e905ef7607702774344e85c22dfdcc2acfb3044', 'message': '[I18n] Renew & add Zanata dev members as extra ATC\n\nZanata dev team has continuously helped I18n team and Infra team\nto setup our translation system with open source software Zanata [1].\nAlso, they collect our requirements for Zanata and enhance Zanata.\nSince they are not translators, they do not satisfy our standard\nATC requirements [2], but they helped a lot with kind opinions and\ncomments on translation platform such as Zanata upgrade [3].\n\nMore details:\n - Carlos is the manager in Zanata development team.\n   He encouages Alex and Patrick to help I18n team with answering\n   to OpenStack I18n opinions like [4].\n - Alex has helped a lot to collect Zanata feedback and Zanata upgrade\n   with detail configuration suggestions [5].\n - Patrick also helped [5] and kindly answered Zanata upgrade details\n   with opinions in openstack-i18n and openstack-infra IRC channel [6].\n\n[1] https://translate.zanata.org/\n[2] https://docs.openstack.org/developer/i18n/official_translator.html#atc-status-in-i18n-project\n[2] https://blueprints.launchpad.net/openstack-i18n/+spec/ocata-zanata-upgrade\n[3] http://lists.openstack.org/pipermail/openstack-i18n/2016-July/002300.html\n[4] https://review.openstack.org/#/c/422373/\n[5] http://eavesdrop.openstack.org/irclogs/%23openstack-infra/%23openstack-infra.2017-01-19.log.html#t2017-01-19T03:01:09\n\nChange-Id: Ie8c0805e14e6952cce2132a6c5c9a0844a2edbab\n'}, {'number': 2, 'created': '2017-03-30 02:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/59a73cef7e3bfc0830f407462eda7a355600630c', 'message': '[I18n] Renew & add Zanata dev members as extra ATC\n\nZanata dev team has continuously helped I18n team and Infra team\nto setup our translation system with open source software Zanata [1].\nAlso, they collect our requirements for Zanata and enhance Zanata.\nSince they are not translators, they do not satisfy our standard\nATC requirements [2], but they helped a lot with kind opinions and\ncomments on translation platform such as Zanata upgrade [3].\n\nMore details:\n - Carlos is the manager in Zanata development team.\n   He encouages Alex and Patrick to help I18n team with answering\n   to OpenStack I18n opinions like [4].\n - Alex has helped a lot to collect Zanata feedback and Zanata upgrade\n   with detail configuration suggestions [5].\n - Patrick also helped [5] and kindly answered Zanata upgrade details\n   with opinions in openstack-i18n and openstack-infra IRC channel [6].\n\n[1] https://translate.zanata.org/\n[2] https://docs.openstack.org/developer/i18n/official_translator.html#atc-status-in-i18n-project\n[3] https://blueprints.launchpad.net/openstack-i18n/+spec/ocata-zanata-upgrade\n[4] http://lists.openstack.org/pipermail/openstack-i18n/2016-July/002300.html\n[5] https://review.openstack.org/#/c/422373/\n[6] http://eavesdrop.openstack.org/irclogs/%23openstack-infra/%23openstack-infra.2017-01-19.log.html#t2017-01-19T03:01:09\n\nChange-Id: Ie8c0805e14e6952cce2132a6c5c9a0844a2edbab\n'}, {'number': 3, 'created': '2017-04-05 08:45:59.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/dc21ca44f72e321c96653fd638cfbec613b6d9d1', 'message': '[I18n] Renew & add Zanata dev members as extra ATC\n\nZanata dev team has continuously helped I18n team and Infra team\nto setup our translation system with open source software Zanata [1].\nAlso, they collect our requirements for Zanata and enhance Zanata.\nSince they are not translators, they do not satisfy our standard\nATC requirements [2], but they helped a lot with kind opinions and\ncomments on translation platform such as Zanata upgrade [3].\n\nMore details:\n - Carlos is the manager in Zanata development team.\n   He encouages Alex and Patrick to help I18n team with answering\n   to OpenStack I18n opinions like [4].\n - Alex has helped a lot to collect Zanata feedback and Zanata upgrade\n   with detail configuration suggestions [5].\n - Patrick also helped [5] and kindly answered Zanata upgrade details\n   with opinions in openstack-i18n and openstack-infra IRC channel [6].\n\n[1] https://translate.zanata.org/\n[2] https://docs.openstack.org/developer/i18n/official_translator.html#atc-status-in-i18n-project\n[3] https://blueprints.launchpad.net/openstack-i18n/+spec/ocata-zanata-upgrade\n[4] http://lists.openstack.org/pipermail/openstack-i18n/2016-July/002300.html\n[5] https://review.openstack.org/#/c/422373/\n[6] http://eavesdrop.openstack.org/irclogs/%23openstack-infra/%23openstack-infra.2017-01-19.log.html#t2017-01-19T03:01:09\n\nChange-Id: Ie8c0805e14e6952cce2132a6c5c9a0844a2edbab\n'}]",6,451625,dc21ca44f72e321c96653fd638cfbec613b6d9d1,25,9,3,14482,,,0,"[I18n] Renew & add Zanata dev members as extra ATC

Zanata dev team has continuously helped I18n team and Infra team
to setup our translation system with open source software Zanata [1].
Also, they collect our requirements for Zanata and enhance Zanata.
Since they are not translators, they do not satisfy our standard
ATC requirements [2], but they helped a lot with kind opinions and
comments on translation platform such as Zanata upgrade [3].

More details:
 - Carlos is the manager in Zanata development team.
   He encouages Alex and Patrick to help I18n team with answering
   to OpenStack I18n opinions like [4].
 - Alex has helped a lot to collect Zanata feedback and Zanata upgrade
   with detail configuration suggestions [5].
 - Patrick also helped [5] and kindly answered Zanata upgrade details
   with opinions in openstack-i18n and openstack-infra IRC channel [6].

[1] https://translate.zanata.org/
[2] https://docs.openstack.org/developer/i18n/official_translator.html#atc-status-in-i18n-project
[3] https://blueprints.launchpad.net/openstack-i18n/+spec/ocata-zanata-upgrade
[4] http://lists.openstack.org/pipermail/openstack-i18n/2016-July/002300.html
[5] https://review.openstack.org/#/c/422373/
[6] http://eavesdrop.openstack.org/irclogs/%23openstack-infra/%23openstack-infra.2017-01-19.log.html#t2017-01-19T03:01:09

Change-Id: Ie8c0805e14e6952cce2132a6c5c9a0844a2edbab
",git fetch https://review.opendev.org/openstack/governance refs/changes/25/451625/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,8e905ef7607702774344e85c22dfdcc2acfb3044,formal-vote, expires-in: April 2018 expires-in: April 2018 comment: Zanata development - name: Patrick Huang email: pahuang@redhat.com expires-in: April 2018, expires-in: April 2017 expires-in: April 2017,6,2
openstack%2Fdragonflow~master~I6e28b0ace8991037a107fcf31d893f0db1815f4e,openstack/dragonflow,master,I6e28b0ace8991037a107fcf31d893f0db1815f4e,Remove unused file bloomfilter.py,MERGED,2017-04-05 03:59:37.000000000,2017-04-05 09:13:20.000000000,2017-04-05 09:13:20.000000000,"[{'_account_id': 3}, {'_account_id': 11343}, {'_account_id': 20229}]","[{'number': 1, 'created': '2017-04-05 03:59:37.000000000', 'files': ['dragonflow/utils/bloomfilter.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/6fc7a41f6951c7919c7d18b8f38ea64957882ef9', 'message': 'Remove unused file bloomfilter.py\n\nThe file is not used.\n\nChange-Id: I6e28b0ace8991037a107fcf31d893f0db1815f4e\n'}]",0,453450,6fc7a41f6951c7919c7d18b8f38ea64957882ef9,7,3,1,11159,,,0,"Remove unused file bloomfilter.py

The file is not used.

Change-Id: I6e28b0ace8991037a107fcf31d893f0db1815f4e
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/50/453450/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/utils/bloomfilter.py'],1,6fc7a41f6951c7919c7d18b8f38ea64957882ef9,rm_file,,"# Copyright (c) 2015 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import random class BloomFilter(object): def __init__(self, num_bytes, num_probes, iterable=()): """"""Bloom filter implementation Example: Check if number in set >>> bf = BloomFilter(8, 2, (123, 321, 213, 3123)) >>> 123 in bf True >>> 456 in bf False :param num_bytes: Number of bytes in the filter :type num_bytes: int :param num_probes: Number of bloom filter probes :type num_probes: int :param iterable: Iterable set of items to create the filter from """""" self._array = bytearray(num_bytes) self._num_probes = num_probes self._num_bits = num_bytes * 8 self.update(iterable) @property def array(self): return self._array def _get_probes(self, key): rdm = random.Random(key).random return (int(rdm() * self._num_bits) for _probe in range(self._num_probes)) def update(self, keys): """"""Add keys to the current filter :param keys: iterable set of keys """""" for key in keys: for i in self._get_probes(key): self._array[i // 8] |= 2 ** (i % 8) def __contains__(self, key): return all(self._array[i // 8] & (2 ** (i % 8)) for i in self._get_probes(key)) ",0,60
openstack%2Fmanila~master~I182356fa8c6cad7da419114a73d9a17e179e3c36,openstack/manila,master,I182356fa8c6cad7da419114a73d9a17e179e3c36,Updated from global requirements,MERGED,2017-04-01 15:25:47.000000000,2017-04-05 09:13:09.000000000,2017-04-04 01:39:56.000000000,"[{'_account_id': 3}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 18128}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 24594}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-04-01 15:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/41b234a00913261a6a538642d5004fd75f121691', 'message': 'Updated from global requirements\n\nChange-Id: I182356fa8c6cad7da419114a73d9a17e179e3c36\n'}, {'number': 2, 'created': '2017-04-03 16:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/36040fe0b36c8ba27a3c9dadd96cfc91a0a8112c', 'message': 'Updated from global requirements\n\nChange-Id: I182356fa8c6cad7da419114a73d9a17e179e3c36\n'}, {'number': 3, 'created': '2017-04-03 21:52:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/77c118dd8e659c69c1fa7ac02969fc7225e6db79', 'message': 'Updated from global requirements\n\nChange-Id: I182356fa8c6cad7da419114a73d9a17e179e3c36\n'}]",0,452473,77c118dd8e659c69c1fa7ac02969fc7225e6db79,37,12,3,11131,,,0,"Updated from global requirements

Change-Id: I182356fa8c6cad7da419114a73d9a17e179e3c36
",git fetch https://review.opendev.org/openstack/manila refs/changes/73/452473/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,41b234a00913261a6a538642d5004fd75f121691,openstack/requirements,WebOb>=1.7.1 # MIT,WebOb>=1.6.0 # MIT,1,1
openstack%2Fgovernance~master~I26aa7e76a71992c93a3e1e284b09d8a56046e8e2,openstack/governance,master,I26aa7e76a71992c93a3e1e284b09d8a56046e8e2,Clarify project addition process,MERGED,2017-03-31 07:30:05.000000000,2017-04-05 09:07:26.000000000,2017-04-05 09:07:26.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 10343}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-03-31 07:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/44dff3bf1de52f036523e57498176e5f5fa2b8eb', 'message': 'Clarify project addition process\n\nAdd some clarifications on the project addition process,\nin particular mention the possibility to ask the TC for\nan early read on the adequation of project scope with the\nOpenStack mission, and link the process from the projects\nteam list for easier discovery.\n\nChange-Id: I26aa7e76a71992c93a3e1e284b09d8a56046e8e2\n'}, {'number': 2, 'created': '2017-04-04 09:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f0e54d92a6d689847b07914beb79cfaf81381414', 'message': 'Clarify project addition process\n\nAdd some clarifications on the project addition process,\nin particular mention the possibility to ask the TC for\nan early read on the adequation of project scope with the\nOpenStack mission, and link the process from the projects\nteam list for easier discovery.\n\nChange-Id: I26aa7e76a71992c93a3e1e284b09d8a56046e8e2\n'}, {'number': 3, 'created': '2017-04-05 08:46:14.000000000', 'files': ['reference/new-projects-requirements.rst', 'reference/projects/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/ca7a388bb05418f0762fa46eec99c5362774c1f7', 'message': 'Clarify project addition process\n\nAdd some clarifications on the project addition process,\nin particular mention the possibility to ask the TC for\nan early read on the adequation of project scope with the\nOpenStack mission, and link the process from the projects\nteam list for easier discovery.\n\nChange-Id: I26aa7e76a71992c93a3e1e284b09d8a56046e8e2\n'}]",4,452073,ca7a388bb05418f0762fa46eec99c5362774c1f7,30,13,3,308,,,0,"Clarify project addition process

Add some clarifications on the project addition process,
in particular mention the possibility to ask the TC for
an early read on the adequation of project scope with the
OpenStack mission, and link the process from the projects
team list for easier discovery.

Change-Id: I26aa7e76a71992c93a3e1e284b09d8a56046e8e2
",git fetch https://review.opendev.org/openstack/governance refs/changes/73/452073/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/new-projects-requirements.rst', 'reference/projects/index.rst']",2,44dff3bf1de52f036523e57498176e5f5fa2b8eb,formal-vote,"Here is the list of all official OpenStack project teams, which produce the various deliverables of the OpenStack family (or help other teams achieve that mission). All official OpenStack project teams are under the OpenStack Technical Committee oversight. Project teams interested in joining as an official project should read the :doc:`../new-projects-requirements`, and apply by proposing the corresponding change to the `reference/projects.yaml` file in the `openstack/governance` repository.",OpenStack projects are governed by the OpenStack Technical Committee. Here is the list of projects.,18,2
openstack%2Fgovernance~master~I001e587b7b04491e748f528b84055ec62364654c,openstack/governance,master,I001e587b7b04491e748f528b84055ec62364654c,Use case analysis for Golang addition to Openstack,MERGED,2017-03-29 19:00:23.000000000,2017-04-05 09:06:54.000000000,2017-04-05 09:06:54.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 170}, {'_account_id': 308}, {'_account_id': 330}, {'_account_id': 782}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 3153}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-03-29 19:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3629635af1c2358ccfdd00000da5b5ce45cecdf2', 'message': 'Use case analysis for Golang addition to Openstack\n\nThis resolution provides the use case analysis (step 1)\nfor the addition of Go (aka golang) as a supported\nlanguage under the OpenStack governance model based\non the requirements of the Swift object server and its\ndata consistency engine.\n\nChange-Id: I001e587b7b04491e748f528b84055ec62364654c\n'}, {'number': 2, 'created': '2017-04-05 08:45:44.000000000', 'files': ['resolutions/20170329-golang-use-case.rst', 'resolutions/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/63555d58fe4272852cb4b11e6a77c4306568c2e8', 'message': 'Use case analysis for Golang addition to Openstack\n\nThis resolution provides the use case analysis (step 1)\nfor the addition of Go (aka golang) as a supported\nlanguage under the OpenStack governance model based\non the requirements of the Swift object server and its\ndata consistency engine.\n\nChange-Id: I001e587b7b04491e748f528b84055ec62364654c\n'}]",0,451524,63555d58fe4272852cb4b11e6a77c4306568c2e8,25,14,2,9625,,,0,"Use case analysis for Golang addition to Openstack

This resolution provides the use case analysis (step 1)
for the addition of Go (aka golang) as a supported
language under the OpenStack governance model based
on the requirements of the Swift object server and its
data consistency engine.

Change-Id: I001e587b7b04491e748f528b84055ec62364654c
",git fetch https://review.opendev.org/openstack/governance refs/changes/24/451524/2 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/20170329-golang-use-case.rst', 'resolutions/index.rst']",2,3629635af1c2358ccfdd00000da5b5ce45cecdf2,formal-vote,2017 ==== .. toctree:: :maxdepth: 1 :glob: 2017* ,,118,0
openstack%2Fopenstack-manuals~master~I4343884528c64404479877fe728c79d82125ae68,openstack/openstack-manuals,master,I4343884528c64404479877fe728c79d82125ae68,"[ops-guide] Replace ""tenant"" with ""project""",ABANDONED,2017-02-25 09:44:48.000000000,2017-04-05 08:57:01.000000000,,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 13478}, {'_account_id': 14962}]","[{'number': 1, 'created': '2017-02-25 09:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/73afb802da3b375c8e8734f4effebfe50dc53a27', 'message': '[ops-guide] Replace ""tenant"" with ""project""\n\nChange-Id: I4343884528c64404479877fe728c79d82125ae68\nPartial-Bug: #1475005\n'}, {'number': 2, 'created': '2017-02-28 13:44:19.000000000', 'files': ['doc/ops-guide/source/ops-monitoring.rst', 'doc/ops-guide/source/ops-network-troubleshooting.rst', 'doc/ops-guide/source/arch-provision.rst', 'doc/ops-guide/source/ops-users.rst', 'doc/ops-guide/source/arch-network-design.rst', 'doc/ops-guide/source/app-crypt.rst', 'doc/ops-guide/source/arch-example-neutron.rst', 'doc/ops-guide/source/ops-user-facing-operations.rst', 'doc/ops-guide/source/ops-quotas.rst', 'doc/ops-guide/source/app-roadmaps.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5ea7cefc401fccd618451e18a29e5953d492eae9', 'message': '[ops-guide] Replace ""tenant"" with ""project""\n\nChange-Id: I4343884528c64404479877fe728c79d82125ae68\nPartial-Bug: #1475005\n'}]",3,438168,5ea7cefc401fccd618451e18a29e5953d492eae9,13,4,2,14151,,,0,"[ops-guide] Replace ""tenant"" with ""project""

Change-Id: I4343884528c64404479877fe728c79d82125ae68
Partial-Bug: #1475005
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/68/438168/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/ops-guide/source/arch-storage.rst', 'doc/ops-guide/source/ops-monitoring.rst', 'doc/ops-guide/source/ops-network-troubleshooting.rst', 'doc/ops-guide/source/arch-provision.rst', 'doc/ops-guide/source/arch-network-design.rst', 'doc/ops-guide/source/ops-users.rst', 'doc/ops-guide/source/app-crypt.rst', 'doc/ops-guide/source/arch-example-neutron.rst', 'doc/ops-guide/source/ops-user-facing-operations.rst', 'doc/ops-guide/source/app-roadmaps.rst', 'doc/ops-guide/source/ops-quotas.rst']",11,73afb802da3b375c8e8734f4effebfe50dc53a27,bug/1475005,"the number of gigabytes allowed per project can be controlled to ensure that a single project cannot consume all of the disk space. Quotas are currently enforced at the project level, rather than the Because without sensible quotas a single project could use up all theTypically, default values are changed because a project requires more than the OpenStack default of 10 volumes per project, or more than the To view all projects, run:an existing project, as well as update the quota defaults for a new project. See :ref:`table_compute_quota`.View and update compute quotas for a project``python-novaclient`` package, to view and update project quotas.#. List all default quotas for all projects, as follows:#. Update a default value for a new project, as follows:**To view quota values for a project** #. Place the project ID in a variable:#. List the currently set quota values for a project, as follows:**To update quota values for a project** #. Obtain the project ID, as follows:quotas for a project, as well as update the quota defaults for a new project. See :ref:`table_block_storage_quota`. - Number of volume gigabytes allowed per project - Number of Block Storage snapshots allowed per project. - Number of Block Storage volumes allowed per project View and update Block Storage quotas for a project``python-cinderclient`` package, to view and update project quotas.#. List all default quotas for all projects, as follows:#. Obtain the project ID, as follows:#. To update a default value for a new project, update the property in the**To view Block Storage quotas for a project** #. View quotas for the project, as follows: # cinder quota-show tenantID**To update Block Storage quotas for a project** #. Place the project ID in a variable:","the number of gigabytes allowed per tenant can be controlled to ensure that a single tenant cannot consume all of the disk space. Quotas are currently enforced at the tenant (or project) level, rather than the Because without sensible quotas a single tenant could use up all theTypically, default values are changed because a tenant requires more than the OpenStack default of 10 volumes per tenant, or more than the To view all tenants, run:an existing tenant, as well as update the quota defaults for a new tenant. See :ref:`table_compute_quota`.View and update compute quotas for a tenant (project)``python-novaclient`` package, to view and update tenant quotas.#. List all default quotas for all tenants, as follows:#. Update a default value for a new tenant, as follows:**To view quota values for a tenant (project)** #. Place the tenant ID in a variable:#. List the currently set quota values for a tenant, as follows:**To update quota values for a tenant (project)** #. Obtain the tenant ID, as follows:quotas for a tenant, as well as update the quota defaults for a new tenant. See :ref:`table_block_storage_quota`. - Number of volume gigabytes allowed per tenant - Number of Block Storage snapshots allowed per tenant. - Number of Block Storage volumes allowed per tenant View and update Block Storage quotas for a tenant (project)``python-cinderclient`` package, to view and update tenant quotas.#. List all default quotas for all tenants, as follows:#. Obtain the tenant ID, as follows:#. To update a default value for a new tenant, update the property in the**To view Block Storage quotas for a tenant (project)** #. View quotas for the tenant, as follows: # cinder quota-show tenantID**To update Block Storage quotas for a tenant (project)** #. Place the tenant ID in a variable:",62,62
openstack%2Fopenstack-manuals~master~I0f815eee1392feed57a1dd4765a54a9228ff238e,openstack/openstack-manuals,master,I0f815eee1392feed57a1dd4765a54a9228ff238e,Fix Sort_key error for cinder manageable list,ABANDONED,2017-03-01 10:44:52.000000000,2017-04-05 08:54:50.000000000,,"[{'_account_id': 3}, {'_account_id': 10068}, {'_account_id': 14643}]","[{'number': 1, 'created': '2017-03-01 10:44:52.000000000', 'files': ['doc/cli-reference/source/cinder.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3a1bc88c6e25f1bc2f6350413dd507d255077090', 'message': 'Fix Sort_key error for cinder manageable list\n\nChange-Id: I0f815eee1392feed57a1dd4765a54a9228ff238e\n'}]",0,439530,3a1bc88c6e25f1bc2f6350413dd507d255077090,6,3,1,24941,,,0,"Fix Sort_key error for cinder manageable list

Change-Id: I0f815eee1392feed57a1dd4765a54a9228ff238e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/30/439530/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/cli-reference/source/cinder.rst'],1,3a1bc88c6e25f1bc2f6350413dd507d255077090,b1," the form of <key>[:<asc|desc>]. Valid keys: size, reference. Default=None."," the form of <key>[:<asc|desc>]. Valid keys: id, status, size, availability_zone, name, bootable, created_at, reference. Default=None.",1,3
openstack%2Fopenstack-manuals~master~Ib605a71b1fc303ade164e64f207ba0ebbb4b81af,openstack/openstack-manuals,master,Ib605a71b1fc303ade164e64f207ba0ebbb4b81af,[arch-design] Networking concepts edits,MERGED,2017-04-05 06:33:54.000000000,2017-04-05 08:53:43.000000000,2017-04-05 08:53:43.000000000,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-04-05 06:33:54.000000000', 'files': ['doc/arch-design/source/design-networking/design-networking-concepts.rst', 'doc/arch-design/source/design-networking/design-networking-layer2.rst', 'doc/arch-design/source/design-networking/design-networking-services.rst', 'doc/arch-design/source/design-networking/design-networking-layer3.rst', 'doc/arch-design/source/design-networking.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b8a91960150eea8738674115812e7f3b69f8e070', 'message': '[arch-design] Networking concepts edits\n\nMove L2 and L3 networking to the networking\nconcepts subsection\n\nChange-Id: Ib605a71b1fc303ade164e64f207ba0ebbb4b81af\nImplements: blueprint arch-design-pike\n'}]",0,453477,b8a91960150eea8738674115812e7f3b69f8e070,7,3,1,10705,,,0,"[arch-design] Networking concepts edits

Move L2 and L3 networking to the networking
concepts subsection

Change-Id: Ib605a71b1fc303ade164e64f207ba0ebbb4b81af
Implements: blueprint arch-design-pike
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/77/453477/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design/source/design-networking/design-networking-concepts.rst', 'doc/arch-design/source/design-networking/design-networking-layer2.rst', 'doc/arch-design/source/design-networking/design-networking-services.rst', 'doc/arch-design/source/design-networking/design-networking-layer3.rst', 'doc/arch-design/source/design-networking.rst']",5,b8a91960150eea8738674115812e7f3b69f8e070,bp/arch-design-pike,, design-networking/design-networking-layer2 design-networking/design-networking-layer3,159,155
openstack%2Fnova~master~Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7,openstack/nova,master,Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7,Query parameter validation for hosts API,ABANDONED,2017-01-11 11:49:05.000000000,2017-04-05 08:48:59.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18339}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-11 11:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1598d8958066d2b58b38a5e3755e9b6fe77705dd', 'message': 'Query parameter validation for hosts API\n\nAdds JSON Schema query parameter validation for\nthe hosts zone query string.\n\nChange-Id: Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7\n'}, {'number': 2, 'created': '2017-01-12 08:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/379a73837a4036481373cc12ecdab611491a56f4', 'message': 'Query parameter validation for hosts API\n\nAdds JSON Schema query parameter validation for\nthe hosts zone query string.\n\nChange-Id: Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7\n'}, {'number': 3, 'created': '2017-01-12 10:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a07d1b206892ad86090a88685c9e8ac3b4aa3a64', 'message': 'Query parameter validation for hosts API\n\nAdds JSON Schema query parameter validation for\nthe hosts zone query string.\n\nChange-Id: Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7\n'}, {'number': 4, 'created': '2017-01-16 10:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26a07dc24a12d8753f5ce7d63467a9ac4dbe7347', 'message': 'Query parameter validation for hosts API\n\nAdds JSON Schema query parameter validation for\nthe hosts zone query string.\n\nChange-Id: Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7\n'}, {'number': 5, 'created': '2017-01-18 10:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dff849a4244f688e8dd3351495df011010c28b3f', 'message': 'Query parameter validation for hosts API\n\nAdds JSON Schema query parameter validation for\nthe hosts zone query string.\n\nChange-Id: Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7\n'}, {'number': 6, 'created': '2017-04-05 07:59:36.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/api/openstack/compute/schemas/hosts.py', 'nova/api/openstack/compute/hosts.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f6a8364afad2ffeba0ca241690bae8ab5f407c33', 'message': 'Query parameter validation for hosts API\n\nAdds JSON Schema query parameter validation for\nthe hosts zone query string.\n\nChange-Id: Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7\n'}]",6,418880,f6a8364afad2ffeba0ca241690bae8ab5f407c33,67,18,6,23676,,,0,"Query parameter validation for hosts API

Adds JSON Schema query parameter validation for
the hosts zone query string.

Change-Id: Ib52551c00eb7292f2e4b2e61b8cc8e6b6f6010d7
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/418880/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/schemas/hosts.py', 'nova/api/openstack/compute/hosts.py']",2,1598d8958066d2b58b38a5e3755e9b6fe77705dd,query-parameter-validation-for-hosts-API, @validation.query_schema(hosts.index_query_schema),,12,0
openstack%2Fopenstack-manuals~stable%2Fnewton~Idae1b9459bbbc6452891e9864362903653927457,openstack/openstack-manuals,stable/newton,Idae1b9459bbbc6452891e9864362903653927457,Don't use 'we',MERGED,2017-04-05 07:31:19.000000000,2017-04-05 08:48:07.000000000,2017-04-05 08:48:07.000000000,"[{'_account_id': 3}, {'_account_id': 10607}]","[{'number': 1, 'created': '2017-04-05 07:31:19.000000000', 'files': ['doc/install-guide/source/launch-instance-networks-selfservice.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d8c4b3333035821a3262037629a558f81514db95', 'message': 'Don\'t use \'we\'\n\nThe document used ""The admin or other privileged\nuser must include this option during network\ncreation or add it later. In this case, we can\nadd it to the existing provider provider network."".\n\nTo use ""we"" in this case should be avoided.\n\nChange-Id: Idae1b9459bbbc6452891e9864362903653927457\nCloses-Bug: #1679584\n(cherry picked from commit 5c91e66384fa16f1d1ac869682208f84c0a11d63)\n'}]",0,453498,d8c4b3333035821a3262037629a558f81514db95,6,2,1,23913,,,0,"Don't use 'we'

The document used ""The admin or other privileged
user must include this option during network
creation or add it later. In this case, we can
add it to the existing provider provider network."".

To use ""we"" in this case should be avoided.

Change-Id: Idae1b9459bbbc6452891e9864362903653927457
Closes-Bug: #1679584
(cherry picked from commit 5c91e66384fa16f1d1ac869682208f84c0a11d63)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/98/453498/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/launch-instance-networks-selfservice.rst'],1,d8c4b3333035821a3262037629a558f81514db95,bug/1679584,"option during network creation or add it later. In this case, the ``router:external`` option was set by using the ``--external`` parameter when creating the ``provider`` network.","option during network creation or add it later. In this case, we already did that by providing the ``--external`` parameter when we created the ``provider`` provider network.",3,3
openstack%2Fgovernance~master~I8ab8e00ddebfce8ed432405eec6a246352b41a47,openstack/governance,master,I8ab8e00ddebfce8ed432405eec6a246352b41a47,Blacklist Pillow 4.1.0,MERGED,2017-04-05 08:31:52.000000000,2017-04-05 08:47:19.000000000,2017-04-05 08:47:19.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6159}]","[{'number': 1, 'created': '2017-04-05 08:31:52.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/governance/commit/5ddcdce53abd279fcc0ab3942248aef1018ab6e5', 'message': 'Blacklist Pillow 4.1.0\n\nPillow 4.1.0 as released on April 4 is generating import\nerrors from the badge generation code:\n\nImportError: The _imagingft C module is not installed\n\nThis triggers test/gate failures on the docs job.  Blacklist\nthis version to unblock governance while we figure out where\nthe issue exactly comes from.\n\nChange-Id: I8ab8e00ddebfce8ed432405eec6a246352b41a47\n'}]",0,453513,5ddcdce53abd279fcc0ab3942248aef1018ab6e5,7,3,1,308,,,0,"Blacklist Pillow 4.1.0

Pillow 4.1.0 as released on April 4 is generating import
errors from the badge generation code:

ImportError: The _imagingft C module is not installed

This triggers test/gate failures on the docs job.  Blacklist
this version to unblock governance while we figure out where
the issue exactly comes from.

Change-Id: I8ab8e00ddebfce8ed432405eec6a246352b41a47
",git fetch https://review.opendev.org/openstack/governance refs/changes/13/453513/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5ddcdce53abd279fcc0ab3942248aef1018ab6e5,backlist-pillow-4.1,"Pillow>=2.4.0,!=4.1.0 # PIL License",Pillow>=2.4.0 # PIL License,1,1
openstack%2Ffuel-library~stable%2Focata~I4043bb406aafaf9fb46509f8a2542e5b6c3d9d7d,openstack/fuel-library,stable/ocata,I4043bb406aafaf9fb46509f8a2542e5b6c3d9d7d,Update ref for puppet-ironic module,MERGED,2017-03-29 19:52:25.000000000,2017-04-05 08:33:33.000000000,2017-04-05 08:30:02.000000000,"[{'_account_id': 3}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 11827}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-03-29 19:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cd8f70d9df1e82b2f97fe876b37428d6a98b7aaa', 'message': ""Update ref for puppet-ironic module\n\nRecently 'ironic:drivers:interface' class was backported to Newton\nby https://review.openstack.org/#/c/445799/\nAnd ability to convert network name to UUID was added by\nhttps://review.openstack.org/#/c/449804/\nThis patch update ref for puppet-ironic module to use that commit.\n\nRelated-Bug: #1588380\n\nChange-Id: I4043bb406aafaf9fb46509f8a2542e5b6c3d9d7d\n""}, {'number': 2, 'created': '2017-03-29 19:54:35.000000000', 'files': ['deployment/puppet/openstack_tasks/Puppetfile'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3db29e88af6af032f8601819489234073bc61bc8', 'message': 'Update ref for puppet-ironic module\n\nRecently an ability to convert network name to UUID was added by\nhttps://review.openstack.org/#/c/449802/\nThis patch update ref for puppet-ironic module to use that commit.\n\nRelated-Bug: #1588380\n\nChange-Id: I4043bb406aafaf9fb46509f8a2542e5b6c3d9d7d\n'}]",0,451545,3db29e88af6af032f8601819489234073bc61bc8,45,5,2,14525,,,0,"Update ref for puppet-ironic module

Recently an ability to convert network name to UUID was added by
https://review.openstack.org/#/c/449802/
This patch update ref for puppet-ironic module to use that commit.

Related-Bug: #1588380

Change-Id: I4043bb406aafaf9fb46509f8a2542e5b6c3d9d7d
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/45/451545/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/openstack_tasks/Puppetfile'],1,cd8f70d9df1e82b2f97fe876b37428d6a98b7aaa,bug/1588380, :ref => 'f63c1c7efcdddd384d65e7cd7eee6e3501ea39d4', :ref => '2c376db42cf51e5688de77355764ba3c7a2d613b',1,1
openstack%2Fnetworking-ovn~master~I1719fc8e3d0a0e6b5a003a73087886df18fc08ea,openstack/networking-ovn,master,I1719fc8e3d0a0e6b5a003a73087886df18fc08ea,Update local.conf.sample to enable automatic host discovery for cell,MERGED,2017-04-04 05:22:06.000000000,2017-04-05 08:33:32.000000000,2017-04-05 08:33:32.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 23458}]","[{'number': 1, 'created': '2017-04-04 05:22:06.000000000', 'files': ['devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/77edbc1daba26283fc4b24a49466ab6db72bc3d3', 'message': 'Update local.conf.sample to enable automatic host discovery for cell\n\nCell is enabled by default since Ocata. Because of the change, when\na new compute node is added the host needs to be discovered by the\ncell. Otherwise, there will be nova scheduler error when booting a\nvm: host xxx is not mapped to any cell. Discovery can be done either\nmanually or by enabling automatic discovery. This patch is to enable\nthe automatic discovery, to avoid unexpected error when following the\nsteps in [1].\n\n[1] https://docs.openstack.org/developer/networking-ovn/testing.html\n\nChange-Id: I1719fc8e3d0a0e6b5a003a73087886df18fc08ea\n'}]",0,453021,77edbc1daba26283fc4b24a49466ab6db72bc3d3,7,3,1,11762,,,0,"Update local.conf.sample to enable automatic host discovery for cell

Cell is enabled by default since Ocata. Because of the change, when
a new compute node is added the host needs to be discovered by the
cell. Otherwise, there will be nova scheduler error when booting a
vm: host xxx is not mapped to any cell. Discovery can be done either
manually or by enabling automatic discovery. This patch is to enable
the automatic discovery, to avoid unexpected error when following the
steps in [1].

[1] https://docs.openstack.org/developer/networking-ovn/testing.html

Change-Id: I1719fc8e3d0a0e6b5a003a73087886df18fc08ea
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/21/453021/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.sample'],1,77edbc1daba26283fc4b24a49466ab6db72bc3d3,discover_in_cell, # Enable Nova automatic host discovery for cell every 2 seconds [[post-config|$NOVA_CONF]] [scheduler] discover_hosts_in_cells_interval = 2,,5,0
openstack%2Ffuel-library~master~I63da8332cade0e76bdd687f0522bbc4c3006a68f,openstack/fuel-library,master,I63da8332cade0e76bdd687f0522bbc4c3006a68f,Add Ironic multitenancy support,MERGED,2017-03-13 13:46:19.000000000,2017-04-05 08:33:22.000000000,2017-04-05 08:29:54.000000000,"[{'_account_id': 3}, {'_account_id': 7468}, {'_account_id': 7604}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11827}, {'_account_id': 14200}, {'_account_id': 14525}, {'_account_id': 16771}, {'_account_id': 18462}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-03-13 13:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/92c36dd887836e2d8c9e5bd0ce9525757ec88fba', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config options:\n  * cleaning_network - the name of Neutron network to be used when\n                       cleaning Ironic nodes\n  * provisioning_network - the name of Neutron network to be used for\n                           provisioning Ironic nodes\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 2, 'created': '2017-03-15 07:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ff0765d9fd394038eaac38aac5270ecb9f38fbb9', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config options:\n  * cleaning_network - the name of Neutron network to be used when\n                       cleaning Ironic nodes\n  * provisioning_network - the name of Neutron network to be used for\n                           provisioning Ironic nodes\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 3, 'created': '2017-03-17 11:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0bb9eea0cef50e9eeba0003b080d6cecbc1a592a', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config options:\n  * cleaning_network - the name of Neutron network to be used when\n                       cleaning Ironic nodes\n  * provisioning_network - the name of Neutron network to be used for\n                           provisioning Ironic nodes\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 4, 'created': '2017-03-17 13:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/175c589d779e1cd99b889938ff41366bc809e177', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 5, 'created': '2017-03-20 12:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3bca41453adf3e5514132cc23f7ba756e5fbfea9', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 6, 'created': '2017-03-20 14:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4c34b089cd7f661605b968d9a499832f343340de', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 7, 'created': '2017-03-20 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d865ac9130f05981bfb3c163d80b99a9b13343a0', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 8, 'created': '2017-03-22 07:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2f7f0fa6d42f59c97c27ecc2f07e6c49ae127334', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 9, 'created': '2017-03-22 13:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8ced13019a8fa1e945b89c16031b387aae9123fa', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 10, 'created': '2017-03-23 13:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3a09d6e60342bc7d6f8bbed6fe7c03e69712e46d', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremeta' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n      Ironic conductor\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 11, 'created': '2017-03-30 11:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/81dc347771b3be907d6c5adcf080dfc7b8143826', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremetal' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n    Ironic conductor\n  * cleaning_network_name - name of Neutron network to be used\n    during node cleaning\n  * provisioning_network_name - name of Neutron network to be used\n    during node provisioning\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}, {'number': 12, 'created': '2017-03-31 22:16:32.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/ssl/tasks.yaml', 'deployment/puppet/openstack_tasks/examples/keystone/tasks.yaml', 'deployment/puppet/openstack_tasks/examples/roles/tasks.yaml', 'deployment/puppet/openstack_tasks/manifests/openstack_network/networks.pp', 'tests/noop/spec/hosts/openstack-network/networks_spec.rb', 'deployment/puppet/openstack_tasks/manifests/roles/ironic_conductor.pp', 'tests/noop/spec/hosts/roles/ironic-conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ee596db56ed0ac99a8edfce9155a0552d57d757f', 'message': ""Add Ironic multitenancy support\n\nThis patch removes hardcoded type for 'baremetal' Neutron network.\nUpdate ironic conductor config with new config option:\n  * enabled_network_interfaces - list of enabled network interfaces on\n    Ironic conductor\n  * cleaning_network_name - name of Neutron network to be used\n    during node cleaning\n  * provisioning_network_name - name of Neutron network to be used\n    during node provisioning\n\nAdd openrc generation task for nodes with ironic role, needed as it is\nrequired for translation from name to uuid.\n\nChange-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f\nRelated-Bug: #1588380\n""}]",0,444909,ee596db56ed0ac99a8edfce9155a0552d57d757f,281,13,12,14525,,,0,"Add Ironic multitenancy support

This patch removes hardcoded type for 'baremetal' Neutron network.
Update ironic conductor config with new config option:
  * enabled_network_interfaces - list of enabled network interfaces on
    Ironic conductor
  * cleaning_network_name - name of Neutron network to be used
    during node cleaning
  * provisioning_network_name - name of Neutron network to be used
    during node provisioning

Add openrc generation task for nodes with ironic role, needed as it is
required for translation from name to uuid.

Change-Id: I63da8332cade0e76bdd687f0522bbc4c3006a68f
Related-Bug: #1588380
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/09/444909/12 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack_tasks/manifests/openstack_network/networks.pp', 'deployment/puppet/openstack_tasks/manifests/roles/ironic_conductor.pp', 'tests/noop/spec/hosts/roles/ironic-conductor_spec.rb']",3,92c36dd887836e2d8c9e5bd0ce9525757ec88fba,bug/1588380," 'api_url' => ""http://#{baremetal_vip}:6385"", 'cleaning_network' => 'baremetal', 'provisioning_network' => 'baremetal' it 'should declare ironic::drivers:interfaces correctly' do should contain_class('ironic::drivers:interfaces').with( 'enabled_network_interfaces' => ['noop', 'flat', 'neutron'] ) end "," 'api_url' => ""http://#{baremetal_vip}:6385"",",26,4
openstack%2Fblazar~stable%2Focata~Ia04eccb080dd0b7cf80a09ff6aa0601afdf02aa6,openstack/blazar,stable/ocata,Ia04eccb080dd0b7cf80a09ff6aa0601afdf02aa6,Don't merge this - test patch for stable branch,ABANDONED,2017-04-05 07:40:04.000000000,2017-04-05 08:28:07.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-05 07:40:04.000000000', 'files': ['.placeholder'], 'web_link': 'https://opendev.org/openstack/blazar/commit/6b370925206bb151015bda83f0f46d86842d439d', 'message': ""Don't merge this - test patch for stable branch\n\nChange-Id: Ia04eccb080dd0b7cf80a09ff6aa0601afdf02aa6\n""}]",0,453501,6b370925206bb151015bda83f0f46d86842d439d,3,1,1,8878,,,0,"Don't merge this - test patch for stable branch

Change-Id: Ia04eccb080dd0b7cf80a09ff6aa0601afdf02aa6
",git fetch https://review.opendev.org/openstack/blazar refs/changes/01/453501/1 && git format-patch -1 --stdout FETCH_HEAD,['.placeholder'],1,6b370925206bb151015bda83f0f46d86842d439d,test,,,0,0
openstack%2Fneutron~master~If2473f2db3ca16b5f46d3280e79a49756d1c098a,openstack/neutron,master,If2473f2db3ca16b5f46d3280e79a49756d1c098a,Handle auto-address subnets on port update,MERGED,2017-03-31 12:54:06.000000000,2017-04-05 08:24:21.000000000,2017-04-03 19:16:56.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-31 12:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b94d2bf880af95193d66b90b94ca17dbce84da49', 'message': 'Handle auto-address subnets on port update\n\nThe patch handles the case when a port is updated\nwith an IP from a new IPv6 auto-address subnet\n\nSee bug for details on how the issue can affect DHCP\nfunctionality.\n\nCloses-Bug: #1678104\nChange-Id: If2473f2db3ca16b5f46d3280e79a49756d1c098a\n'}, {'number': 2, 'created': '2017-03-31 15:26:51.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ad855a934e44e0fdc6a70c7dac9901ac9eafb5b', 'message': 'Handle auto-address subnets on port update\n\nThe patch handles the case when a port is updated\nwith an IP from a new IPv6 auto-address subnet\n\nSee bug for details on how the issue can affect DHCP\nfunctionality.\n\nCloses-Bug: #1678104\nChange-Id: If2473f2db3ca16b5f46d3280e79a49756d1c098a\n'}]",0,452195,6ad855a934e44e0fdc6a70c7dac9901ac9eafb5b,35,11,2,5948,,,0,"Handle auto-address subnets on port update

The patch handles the case when a port is updated
with an IP from a new IPv6 auto-address subnet

See bug for details on how the issue can affect DHCP
functionality.

Closes-Bug: #1678104
Change-Id: If2473f2db3ca16b5f46d3280e79a49756d1c098a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/452195/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py']",3,b94d2bf880af95193d66b90b94ca17dbce84da49,bug/1678104, mocks['ipam']._ipam_get_subnets = mock.Mock(return_value=[]), mocks['ipam']._ipam_get_subnets = mock.Mock(),65,11
openstack%2Ftripleo-common~stable%2Fnewton~Ia2742c2c0ef74e2d8f7404dada43d4478699aef3,openstack/tripleo-common,stable/newton,Ia2742c2c0ef74e2d8f7404dada43d4478699aef3,Updated from global requirements,MERGED,2017-04-03 15:17:46.000000000,2017-04-05 08:21:40.000000000,2017-04-05 08:21:40.000000000,"[{'_account_id': 3}, {'_account_id': 4978}]","[{'number': 1, 'created': '2017-04-03 15:17:46.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/570c5acc9e7bebeaa489821b6bb21568fb005575', 'message': 'Updated from global requirements\n\nChange-Id: Ia2742c2c0ef74e2d8f7404dada43d4478699aef3\n'}]",0,452799,570c5acc9e7bebeaa489821b6bb21568fb005575,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ia2742c2c0ef74e2d8f7404dada43d4478699aef3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/452799/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,570c5acc9e7bebeaa489821b6bb21568fb005575,openstack/requirements,"hacking<0.12,>=0.11.0 # Apache-2.0","hacking>=0.11.0,<0.12 # Apache-2.0",1,1
openstack%2Fproject-config~master~Iba9a11de868a38a8577dbaeeae687317692b37e5,openstack/project-config,master,Iba9a11de868a38a8577dbaeeae687317692b37e5,Link to Infra Manual for CI problems,MERGED,2017-03-31 18:48:15.000000000,2017-04-05 08:10:21.000000000,2017-04-05 08:10:21.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-03-31 18:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8996e46858fae7ed5cacbe8d7c8a328e1e4dbdea', 'message': 'Link to Infra Manual for CI problems\n\nLink to new content on how to check and report for problems.\n\nChange-Id: Iba9a11de868a38a8577dbaeeae687317692b37e5\nDepends-On: I723168f1f0196f6901cfabd9c1b3f8e2fb21067c\n'}, {'number': 2, 'created': '2017-04-03 06:08:33.000000000', 'files': ['docs-site/infra-index.html.tmpl'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dcc2ea71fa1982e6685cbfec89c2fb146a3ab411', 'message': 'Link to Infra Manual for CI problems\n\nLink to new content on how to check and report for problems.\n\nChange-Id: Iba9a11de868a38a8577dbaeeae687317692b37e5\nDepends-On: I723168f1f0196f6901cfabd9c1b3f8e2fb21067c\n'}]",1,452287,dcc2ea71fa1982e6685cbfec89c2fb146a3ab411,12,4,2,6547,,,0,"Link to Infra Manual for CI problems

Link to new content on how to check and report for problems.

Change-Id: Iba9a11de868a38a8577dbaeeae687317692b37e5
Depends-On: I723168f1f0196f6901cfabd9c1b3f8e2fb21067c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/452287/1 && git format-patch -1 --stdout FETCH_HEAD,['docs-site/infra-index.html.tmpl'],1,8996e46858fae7ed5cacbe8d7c8a328e1e4dbdea,failures," <a href=""https://docs.openstack.org/"">OpenStack documentation</a>. <p>In case you notice problems with the OpenStack CI infrastructure, read the <a href=""https://docs.openstack.infra/manual"">Infra Manual</a> for help.</p>"," <a href=""http://docs.openstack.org/"">OpenStack documentation</a>.",5,1
openstack%2Fopenstack-manuals~master~If7053fe8c0ac96e3bf0557c3c50d081acc774a0b,openstack/openstack-manuals,master,If7053fe8c0ac96e3bf0557c3c50d081acc774a0b,Updating the command line formatting,MERGED,2017-04-01 14:47:38.000000000,2017-04-05 08:07:56.000000000,2017-04-05 08:07:56.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 10897}, {'_account_id': 14962}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-04-01 14:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f04c12bbd4c48f6eb405faac7e20e798e70a3990', 'message': 'Update the formart of compute-live-migration-usage.rst\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}, {'number': 2, 'created': '2017-04-01 22:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/73ba3cf450c8e8ad13c0f33e4d13bd27753ccb51', 'message': 'Update the formart of compute-live-migration-usage.rst\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}, {'number': 3, 'created': '2017-04-01 22:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4384f76335b2be151f7511dd6677a8bd8827ce39', 'message': 'Update the formart of compute-live-migration-usage.rst\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}, {'number': 4, 'created': '2017-04-01 22:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ff96e49dc2af69c6ea880dace9a96e6db318f2da', 'message': 'Update the formart of compute-live-migration-usage.rst\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}, {'number': 5, 'created': '2017-04-01 22:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ea9ea6faf705fb896e6fc5434c3455d7cb745a7c', 'message': 'Update the formart of compute-live-migration-usage.rst\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}, {'number': 6, 'created': '2017-04-04 05:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ffd3e6ceb29c89bf9acac9557dc6fac090bcdca4', 'message': 'Update the formart of compute-live-migration-usage.rst\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}, {'number': 7, 'created': '2017-04-05 06:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5455189dc9e63ee49e7765be55e6e83252ab325b', 'message': 'Updating the command line formatting\n\n- update the format of compute-live-migration-usage.rst\n- update the ""#"" to ""$""\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}, {'number': 8, 'created': '2017-04-05 07:42:00.000000000', 'files': ['doc/admin-guide/source/compute-live-migration-usage.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5b088f6b7c2cbdf9beadb10f5c69bf2198c41748', 'message': 'Updating the command line formatting\n\n- update the format of compute-live-migration-usage.rst\n- update the ""#"" to ""$""\n\nChange-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b\n'}]",11,452463,5b088f6b7c2cbdf9beadb10f5c69bf2198c41748,26,6,8,22165,,,0,"Updating the command line formatting

- update the format of compute-live-migration-usage.rst
- update the ""#"" to ""$""

Change-Id: If7053fe8c0ac96e3bf0557c3c50d081acc774a0b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/63/452463/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide/source/compute-live-migration-usage.rst'],1,f04c12bbd4c48f6eb405faac7e20e798e70a3990,," .. code-block:: console $ openstack host show HostC +-------+------------+-----+-----------+---------+ | Host | Project | CPU | Memory MB | Disk GB | +-------+------------+-----+-----------+---------+ | HostC | (total) | 16 | 32232 | 878 | | HostC | (used_now) | 22 | 21284 | 422 | | HostC | (used_max) | 22 | 21284 | 422 | | HostC | p1 | 22 | 21284 | 422 | | HostC | p2 | 22 | 21284 | 422 | +-------+------------+-----+-----------+---------+ - ``cpu``: Number of CPUs - ``memory_mb``: Total amount of memory, in MB - ``disk_gb``: Total amount of space for NOVA-INST-DIR/instances, in GB .. code-block:: console $ openstack server show d1df1b5a-70c4-4fed-98b7-423362f2c47c +----------------------+--------------------------------------+ | Field | Value | +----------------------+--------------------------------------+ | ... | ... | | OS-EXT-SRV-ATTR:host | HostC | | ... | ... | +----------------------+--------------------------------------+ .. code-block:: console $ openstack server show d1df1b5a-70c4-4fed-98b7-423362f2c47c +----------------------+--------------------------------------+ | Field | Value | +----------------------+--------------------------------------+ | ... | ... | | status | MIGRATING | | ... | ... | +----------------------+--------------------------------------+ $ nova live-migration-abort INSTANCE_ID MIGRATION_ID"," .. code-block:: console # openstack host show HostC +-------+------------+-----+-----------+---------+ | Host | Project | CPU | Memory MB | Disk GB | +-------+------------+-----+-----------+---------+ | HostC | (total) | 16 | 32232 | 878 | | HostC | (used_now) | 22 | 21284 | 422 | | HostC | (used_max) | 22 | 21284 | 422 | | HostC | p1 | 22 | 21284 | 422 | | HostC | p2 | 22 | 21284 | 422 | +-------+------------+-----+-----------+---------+ - ``cpu``: Number of CPUs - ``memory_mb``: Total amount of memory, in MB - ``disk_gb``: Total amount of space for NOVA-INST-DIR/instances, in GB .. code-block:: console $ openstack server show d1df1b5a-70c4-4fed-98b7-423362f2c47c +----------------------+--------------------------------------+ | Field | Value | +----------------------+--------------------------------------+ | ... | ... | | OS-EXT-SRV-ATTR:host | HostC | | ... | ... | +----------------------+--------------------------------------+ .. code-block:: console $ openstack server show d1df1b5a-70c4-4fed-98b7-423362f2c47c +----------------------+--------------------------------------+ | Field | Value | +----------------------+--------------------------------------+ | ... | ... | | status | MIGRATING | | ... | ... | +----------------------+--------------------------------------+ $ nova live-migration-abort INSTANCE_ID MIGRATION_ID",33,33
openstack%2Fnova~master~If9cafba1ea845e0696fe2be59e701128960a6dc9,openstack/nova,master,If9cafba1ea845e0696fe2be59e701128960a6dc9,Update IronicDriver return  hypervisor_type,ABANDONED,2016-09-30 07:26:17.000000000,2017-04-05 08:06:48.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9801}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14819}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19590}, {'_account_id': 20040}, {'_account_id': 22689}, {'_account_id': 23310}, {'_account_id': 23676}]","[{'number': 1, 'created': '2016-09-30 07:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ad82c73d6943daedb0585cd95f1c35d82616012', 'message': ""Update IronicDriver return  hypervisor_type\n\nwe can use hv_type.IRONIC defined in nova.compute.hv_type\ninstead of 'ironic' string value\n\nChange-Id: If9cafba1ea845e0696fe2be59e701128960a6dc9\n""}, {'number': 2, 'created': '2016-12-26 02:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ec50918214b47e749f4951dad7b37cdfdca0b4f', 'message': ""Update IronicDriver return  hypervisor_type\n\nwe can use hv_type.IRONIC defined in nova.compute.hv_type\ninstead of 'ironic' string value\n\nChange-Id: If9cafba1ea845e0696fe2be59e701128960a6dc9\n""}, {'number': 3, 'created': '2017-01-04 03:04:15.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05afc12b0ccfd8b068a98594e57190bb0bfbdeae', 'message': ""Update IronicDriver return  hypervisor_type\n\nwe can use obj_fields.HVType.IRONIC defined in\nnova.objects.fileds.HVType instead of 'ironic' string value\n\nChange-Id: If9cafba1ea845e0696fe2be59e701128960a6dc9\n""}]",1,379968,05afc12b0ccfd8b068a98594e57190bb0bfbdeae,54,20,3,23676,,,0,"Update IronicDriver return  hypervisor_type

we can use obj_fields.HVType.IRONIC defined in
nova.objects.fileds.HVType instead of 'ironic' string value

Change-Id: If9cafba1ea845e0696fe2be59e701128960a6dc9
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/379968/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,1ad82c73d6943daedb0585cd95f1c35d82616012,nova/ironic-hypervisor-type, return hv_type.IRONIC, return 'ironic',1,1
openstack%2Fproject-config~master~Ia875524dba524ec00101806edc86287af09eb9ab,openstack/project-config,master,Ia875524dba524ec00101806edc86287af09eb9ab,Exclude dir to prevent change-while-read error,MERGED,2017-04-04 08:47:31.000000000,2017-04-05 08:03:53.000000000,2017-04-05 08:03:53.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-04-04 08:47:31.000000000', 'files': ['jenkins/jobs/loci-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ab3bcb031bcecf6215a7028654f6eafe706968a4', 'message': 'Exclude dir to prevent change-while-read error\n\n[0] http://logs.openstack.org/41/413e6058fbaf8ce7f062bfa236c0ccc8f4e8cd85/post/loci-publish-loci-tarball/9597830/console.html#_2017-04-04_08_37_14_161578\n\nChange-Id: Ia875524dba524ec00101806edc86287af09eb9ab\n'}]",0,453065,ab3bcb031bcecf6215a7028654f6eafe706968a4,7,3,1,14119,,,0,"Exclude dir to prevent change-while-read error

[0] http://logs.openstack.org/41/413e6058fbaf8ce7f062bfa236c0ccc8f4e8cd85/post/loci-publish-loci-tarball/9597830/console.html#_2017-04-04_08_37_14_161578

Change-Id: Ia875524dba524ec00101806edc86287af09eb9ab
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/453065/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/loci-jobs.yaml'],1,ab3bcb031bcecf6215a7028654f6eafe706968a4,loci-fix, mkdir dist tar cvfz dist/{name}.tar.gz --exclude dist --exclude .git . mv dist/{name}.tar.gz dist/{name}-$PROJECT_VER.tar.gz, tar cvfz {name}.tar.gz --exclude .git . mkdir dist mv {name}.tar.gz dist/{name}-$PROJECT_VER.tar.gz,3,3
openstack%2Fproject-config~master~I2541e54b9bd50ea0a4d40e8298d6a9e1f1150449,openstack/project-config,master,I2541e54b9bd50ea0a4d40e8298d6a9e1f1150449,add /usr/local/lib to library cache,MERGED,2017-04-03 17:46:18.000000000,2017-04-05 08:03:46.000000000,2017-04-05 08:03:46.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-04-03 17:46:18.000000000', 'files': ['jenkins/jobs/liberasurecode.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f131dddd63baa93d9853d7147d356e8eda1eddc3', 'message': 'add /usr/local/lib to library cache\n\nliberasurecode is installed under /usr/local/lib. When building\nfrom source, we need to add that directory to the shared library\ncache.\n\nChange-Id: I2541e54b9bd50ea0a4d40e8298d6a9e1f1150449\n'}]",0,452886,f131dddd63baa93d9853d7147d356e8eda1eddc3,7,3,1,9625,,,0,"add /usr/local/lib to library cache

liberasurecode is installed under /usr/local/lib. When building
from source, we need to add that directory to the shared library
cache.

Change-Id: I2541e54b9bd50ea0a4d40e8298d6a9e1f1150449
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/452886/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/liberasurecode.yaml'],1,f131dddd63baa93d9853d7147d356e8eda1eddc3,add_ldconfig," sudo bash -c ""echo /usr/local/lib >> /etc/ld.so.conf"" sudo ldconfig",,2,0
openstack%2Fproject-config~master~I1427f2d1131bdbd058c7c3ecee2a9235e263a558,openstack/project-config,master,I1427f2d1131bdbd058c7c3ecee2a9235e263a558,Add py35 job to os-net-config,MERGED,2017-03-31 20:54:39.000000000,2017-04-05 08:03:40.000000000,2017-04-05 08:03:40.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-03-31 20:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aacf8395c5b46626e00ffe90e474751d43955b03', 'message': ""Add py35 job to os-net-config\n\nThis project already passes its py35 tests, but it hasn't been\ngating on them.\n\nChange-Id: I1427f2d1131bdbd058c7c3ecee2a9235e263a558\n""}, {'number': 2, 'created': '2017-04-04 15:20:28.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc59e9228f0ab2613bdea893e635ff054a78967d', 'message': ""Add py35 job to os-net-config\n\nThis project already passes its py35 tests, but it hasn't been\ngating on them.\n\nChange-Id: I1427f2d1131bdbd058c7c3ecee2a9235e263a558\n""}]",0,452322,fc59e9228f0ab2613bdea893e635ff054a78967d,11,4,2,6928,,,0,"Add py35 job to os-net-config

This project already passes its py35 tests, but it hasn't been
gating on them.

Change-Id: I1427f2d1131bdbd058c7c3ecee2a9235e263a558
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/452322/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,aacf8395c5b46626e00ffe90e474751d43955b03,tripleo-coverage, - name: python35-jobs,,1,0
openstack%2Fproject-config~master~I06b72cb07cac0c864ad1713d0379e5496bdc1919,openstack/project-config,master,I06b72cb07cac0c864ad1713d0379e5496bdc1919,Change mogan tempest job to use ipmitool driver,MERGED,2017-04-03 12:28:34.000000000,2017-04-05 08:03:30.000000000,2017-04-05 08:03:30.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6610}, {'_account_id': 8290}]","[{'number': 1, 'created': '2017-04-03 12:28:34.000000000', 'files': ['jenkins/jobs/mogan.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c0f40cab246412bee6002d4c049a1aa801e0bdc0', 'message': 'Change mogan tempest job to use ipmitool driver\n\nthe *_ssh drivers in ironic are unsupported since Newton and slated for\nremoval in Pike.\n\nThis patch moves gate-mogan-dsvm-tempest-plugin job to set up ironic\nwith agent_ipmitool driver insead of agent_ssh one.\n\nThis change was tested [0] with force-enabled *_ipmitool drivers and\nthe job in question has succeeded.\n\n[0] https://review.openstack.org/#/c/452720\n\nChange-Id: I06b72cb07cac0c864ad1713d0379e5496bdc1919\nRelated-Bug: #1570301\n'}]",0,452735,c0f40cab246412bee6002d4c049a1aa801e0bdc0,11,5,1,9542,,,0,"Change mogan tempest job to use ipmitool driver

the *_ssh drivers in ironic are unsupported since Newton and slated for
removal in Pike.

This patch moves gate-mogan-dsvm-tempest-plugin job to set up ironic
with agent_ipmitool driver insead of agent_ssh one.

This change was tested [0] with force-enabled *_ipmitool drivers and
the job in question has succeeded.

[0] https://review.openstack.org/#/c/452720

Change-Id: I06b72cb07cac0c864ad1713d0379e5496bdc1919
Related-Bug: #1570301
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/452735/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/mogan.yaml'],1,c0f40cab246412bee6002d4c049a1aa801e0bdc0,bug/1570301, export DEVSTACK_GATE_IRONIC_DRIVER=agent_ipmitool, export DEVSTACK_GATE_IRONIC_DRIVER=agent_ssh,1,1
openstack%2Fproject-config~master~I9dc11590fd0087fcc35dec33e6fb2f0384be596e,openstack/project-config,master,I9dc11590fd0087fcc35dec33e6fb2f0384be596e,Add acl config for tripleo-image-elements/incubator,MERGED,2017-04-04 12:52:13.000000000,2017-04-05 08:03:17.000000000,2017-04-05 08:03:17.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-04-04 12:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb3dfdb449cac17dbe30a26f4b633f57e2b7d87b', 'message': ""Add acl config for tripleo-image-elements/incubator\n\nSomething changed recently which means tripleo-core no longer have\n+2/A rights on tripleo-image-elements - I'm assuming it's because\nwe're missing these acls, so adding to match other tripleo projects.\n\nChange-Id: I9dc11590fd0087fcc35dec33e6fb2f0384be596e\n""}, {'number': 2, 'created': '2017-04-04 15:39:55.000000000', 'files': ['gerrit/acls/openstack/tripleo-image-elements.config', 'gerrit/projects.yaml', 'gerrit/acls/openstack/tripleo-incubator.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/30be626bd95c0e866361d5385f3581b71872f13f', 'message': ""Add acl config for tripleo-image-elements/incubator\n\nThe split of the tripleo and diskimage-builder teams recently\nmeans tripleo-core no longer have +2/A rights on tripleo-image-elements\n\nWe don't need special acl files for these repos, and t-i-e should\nbe owned by tripleo-core, so switch to the generic tripleo config.\n\nChange-Id: I9dc11590fd0087fcc35dec33e6fb2f0384be596e\n""}]",0,453158,30be626bd95c0e866361d5385f3581b71872f13f,12,5,2,4328,,,0,"Add acl config for tripleo-image-elements/incubator

The split of the tripleo and diskimage-builder teams recently
means tripleo-core no longer have +2/A rights on tripleo-image-elements

We don't need special acl files for these repos, and t-i-e should
be owned by tripleo-core, so switch to the generic tripleo config.

Change-Id: I9dc11590fd0087fcc35dec33e6fb2f0384be596e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/58/453158/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,bb3dfdb449cac17dbe30a26f4b633f57e2b7d87b,, acl-config: /home/gerrit2/acls/openstack/tripleo.config acl-config: /home/gerrit2/acls/openstack/tripleo.config,,2,0
openstack%2Fproject-config~master~I855b3122158d60416da0e9d1e05770d9c7a8cc4d,openstack/project-config,master,I855b3122158d60416da0e9d1e05770d9c7a8cc4d,Add coverage check jobs to tripleo python projects,MERGED,2017-03-31 20:54:39.000000000,2017-04-05 08:02:37.000000000,2017-04-05 08:02:37.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6928}]","[{'number': 1, 'created': '2017-03-31 20:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/021cdfdecab2c3587692b9c2af4a49c636c4555e', 'message': ""Add coverage check jobs to tripleo python projects\n\nIt's useful to have code coverage information at hand when reviewing\npatches.\n\nChange-Id: I855b3122158d60416da0e9d1e05770d9c7a8cc4d\n""}, {'number': 2, 'created': '2017-04-04 15:20:28.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3b569f0ab4055177600abca6976124e740ec6fbc', 'message': ""Add coverage check jobs to tripleo python projects\n\nIt's useful to have code coverage information at hand when reviewing\npatches.\n\nChange-Id: I855b3122158d60416da0e9d1e05770d9c7a8cc4d\n""}]",0,452321,3b569f0ab4055177600abca6976124e740ec6fbc,12,5,2,6928,,,0,"Add coverage check jobs to tripleo python projects

It's useful to have code coverage information at hand when reviewing
patches.

Change-Id: I855b3122158d60416da0e9d1e05770d9c7a8cc4d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/452321/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,021cdfdecab2c3587692b9c2af4a49c636c4555e,tripleo-coverage, check: - instack-coverage-ubuntu-xenial - instack-undercloud-coverage-ubuntu-xenial - os-apply-config-coverage-ubuntu-xenial - os-collect-config-coverage-ubuntu-xenial - os-net-config-coverage-ubuntu-xenial - os-refresh-config-coverage-ubuntu-xenial check: - tripleo-common-coverage-ubuntu-xenial check: - tripleo-repos-coverage-ubuntu-xenial, - os-apply-config-coverage-ubuntu-xenial - os-collect-config-coverage-ubuntu-xenial,17,2
openstack%2Fmanila~master~I005d1b204ea25ced8913351d19eac282ca465fb6,openstack/manila,master,I005d1b204ea25ced8913351d19eac282ca465fb6,[CI] Add support for CI jobs with custom images,MERGED,2017-03-10 16:48:26.000000000,2017-04-05 08:01:59.000000000,2017-04-04 21:14:47.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 8851}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15942}, {'_account_id': 16657}, {'_account_id': 17565}, {'_account_id': 17623}, {'_account_id': 18128}, {'_account_id': 18752}, {'_account_id': 20695}, {'_account_id': 22236}, {'_account_id': 22248}, {'_account_id': 24594}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-03-10 16:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8dcdad099dc7ca2917d9a93bfe8a0ed7b859c1c', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\nDepends-On: I74d118b6661fe7683f505706c67a793700844af3\n""}, {'number': 2, 'created': '2017-03-10 16:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1a92f0628ebec2c64d7a15d5cde2ec69bd147236', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\n""}, {'number': 3, 'created': '2017-04-03 12:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e789af8e8cf66f00cd547837cba5479d4453909a', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\n""}, {'number': 4, 'created': '2017-04-03 12:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/851e8938f27b74248a3e8b8202f9870358e1c366', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\n""}, {'number': 5, 'created': '2017-04-04 09:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e3d8048f0683410348009077ee916114dd30d401', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\n""}, {'number': 6, 'created': '2017-04-04 10:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e14e6135edd5e2161ead13c1d58a97aa598f8a9a', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\n""}, {'number': 7, 'created': '2017-04-04 14:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/80150f573eecf9d6f195763b475c3c2f69f580db', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\n""}, {'number': 8, 'created': '2017-04-04 14:46:35.000000000', 'files': ['contrib/ci/pre_test_hook.sh', 'contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/2668da7bf0199e0c3741c12c64f513273a3d2185', 'message': ""[CI] Add support for CI jobs with custom images\n\nManila project uses special images for some of its share drivers.\nSo, add possibility to configure manila and run tempest tests using\ncustom image that was built with proposed changes to\n'manila-image-elements' project.\nSupported share drivers are 'generic' and 'container'.\n\nChange-Id: I005d1b204ea25ced8913351d19eac282ca465fb6\n""}]",7,444406,2668da7bf0199e0c3741c12c64f513273a3d2185,72,19,8,8851,,,0,"[CI] Add support for CI jobs with custom images

Manila project uses special images for some of its share drivers.
So, add possibility to configure manila and run tempest tests using
custom image that was built with proposed changes to
'manila-image-elements' project.
Supported share drivers are 'generic' and 'container'.

Change-Id: I005d1b204ea25ced8913351d19eac282ca465fb6
",git fetch https://review.opendev.org/openstack/manila refs/changes/06/444406/8 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/pre_test_hook.sh', 'contrib/ci/post_test_hook.sh']",2,d8dcdad099dc7ca2917d9a93bfe8a0ed7b859c1c,,"elif [[ ""$DRIVER"" == ""generic""* ]]; then if [[ ""$DRIVER"" == ""generic_with_custom_image"" ]]; then # For CI jobs that test changes to image we do not need to run lots of tests # Will be enough to run simple scenario test. MANILA_TESTS=""(^manila_tempest_tests.tests.scenario)(?=.*\[.*\btest_write_data_to_share_created_from_snapshot\b.*\])"" else MANILA_TESTS=""(^manila_tempest_tests.tests.api)(?=.*\[.*\bbackend\b.*\])"" fielif [[ ""$DRIVER"" == ""container""* ]]; then if [[ ""$DRIVER"" == ""container_with_custom_image"" ]]; then # For CI jobs that test changes to image we do not need to run lots of tests # Will be enough to run simple scenario test. MANILA_TESTS=""(^manila_tempest_tests.tests.scenario)(?=.*\[.*\btest_read_write_two_vms\b.*\])"" else MANILA_TESTS=""(^manila_tempest_tests.tests.api)(?=.*\[.*\bbackend\b.*\])"" fi","elif [[ ""$DRIVER"" == ""generic"" ]]; then MANILA_TESTS=""(^manila_tempest_tests.tests.api)(?=.*\[.*\bbackend\b.*\])""elif [[ ""$DRIVER"" == ""container"" ]]; then MANILA_TESTS=""(^manila_tempest_tests.tests.api)(?=.*\[.*\bbackend\b.*\])""",19,7
openstack%2Fmistral~stable%2Fnewton~Ib901052897d705ba3defc11b6b9bfee5412beccb,openstack/mistral,stable/newton,Ib901052897d705ba3defc11b6b9bfee5412beccb,Updated from global requirements,MERGED,2017-04-04 19:30:37.000000000,2017-04-05 08:00:53.000000000,2017-04-05 08:00:53.000000000,"[{'_account_id': 3}, {'_account_id': 8731}]","[{'number': 1, 'created': '2017-04-04 19:30:37.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5cc4080d53726a6fb2edf8c99da5e1f11501cf9a', 'message': 'Updated from global requirements\n\nChange-Id: Ib901052897d705ba3defc11b6b9bfee5412beccb\n'}]",0,453311,5cc4080d53726a6fb2edf8c99da5e1f11501cf9a,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ib901052897d705ba3defc11b6b9bfee5412beccb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/11/453311/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5cc4080d53726a6fb2edf8c99da5e1f11501cf9a,openstack/requirements,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,>=16.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,>=16.0 # PSF/ZPL",1,1
openstack%2Ftripleo-validations~stable%2Focata~I05e9364e51d86406fa51c68955c44a5ef738b0b3,openstack/tripleo-validations,stable/ocata,I05e9364e51d86406fa51c68955c44a5ef738b0b3,Blacklist setuptools versions 34.0.0-34.3.2,MERGED,2017-04-05 07:43:30.000000000,2017-04-05 07:59:12.000000000,2017-04-05 07:59:12.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-04-05 07:43:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/35cf7c9fc73114c1bd2645570692a0d23a90b0bc', 'message': 'Blacklist setuptools versions 34.0.0-34.3.2\n\nExcluding setuptools versions 34.0.0-34.3.2 until this has been fixed:\n\nhttps://github.com/pypa/setuptools/issues/951\n\n(cherry picked from commit 1f862615ba30e64a67420cbd0b3b803ad679dd06)\n\nChange-Id: I05e9364e51d86406fa51c68955c44a5ef738b0b3\n'}]",0,453502,35cf7c9fc73114c1bd2645570692a0d23a90b0bc,7,3,1,17888,,,0,"Blacklist setuptools versions 34.0.0-34.3.2

Excluding setuptools versions 34.0.0-34.3.2 until this has been fixed:

https://github.com/pypa/setuptools/issues/951

(cherry picked from commit 1f862615ba30e64a67420cbd0b3b803ad679dd06)

Change-Id: I05e9364e51d86406fa51c68955c44a5ef738b0b3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/02/453502/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,35cf7c9fc73114c1bd2645570692a0d23a90b0bc,pin-setuptools-version,"# Excluding setuptools versions 34.0.0-34.3.2 until this has been fixed: # https://github.com/pypa/setuptools/issues/951 # This is also referenced here: # https://github.com/openstack/requirements/blob/stable/ocata/global-requirements.txt#L346 setuptools>=16.0,!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2 # PSF/ZPL ",,6,0
openstack%2Ftripleo-validations~master~I256c771869b4399d9fb9d4eae34c1298e47a10fe,openstack/tripleo-validations,master,I256c771869b4399d9fb9d4eae34c1298e47a10fe,Blacklist setuptools versions 34.0.0-34.3.2,MERGED,2017-04-03 18:52:16.000000000,2017-04-05 07:43:30.000000000,2017-04-05 07:39:58.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-04-03 18:52:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1f862615ba30e64a67420cbd0b3b803ad679dd06', 'message': 'Blacklist setuptools versions 34.0.0-34.3.2\n\nExcluding setuptools versions 34.0.0-34.3.2 until this has been fixed:\n\nhttps://github.com/pypa/setuptools/issues/951\n\nChange-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe\n'}]",0,452898,1f862615ba30e64a67420cbd0b3b803ad679dd06,8,3,1,17888,,,0,"Blacklist setuptools versions 34.0.0-34.3.2

Excluding setuptools versions 34.0.0-34.3.2 until this has been fixed:

https://github.com/pypa/setuptools/issues/951

Change-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/452898/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1f862615ba30e64a67420cbd0b3b803ad679dd06,pin-setuptools-version,"# Excluding setuptools versions 34.0.0-34.3.2 until this has been fixed: # https://github.com/pypa/setuptools/issues/951 # This is also referenced here: # https://github.com/openstack/requirements/blob/stable/ocata/global-requirements.txt#L346 setuptools>=16.0,!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2 # PSF/ZPL ",,6,0
openstack%2Ftripleo-validations~master~I78f893d56583d70f2f9916b19b2f757719b08024,openstack/tripleo-validations,master,I78f893d56583d70f2f9916b19b2f757719b08024,Fix docs to reflect Ansible 2.0 requirements,MERGED,2017-03-20 14:23:12.000000000,2017-04-05 07:40:52.000000000,2017-04-05 07:40:52.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 9317}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-03-20 14:23:12.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9c6628c0849e18227614f0809c8c4c82cf85fec2', 'message': 'Fix docs to reflect Ansible 2.0 requirements\n\nIn Ansible 2.0 the full path to the inventory script is required\nthis commit changes the documentation examples to reflect that.\n\nChange-Id: I78f893d56583d70f2f9916b19b2f757719b08024\n'}]",0,447519,9c6628c0849e18227614f0809c8c4c82cf85fec2,11,5,1,22306,,,0,"Fix docs to reflect Ansible 2.0 requirements

In Ansible 2.0 the full path to the inventory script is required
this commit changes the documentation examples to reflect that.

Change-Id: I78f893d56583d70f2f9916b19b2f757719b08024
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/19/447519/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9c6628c0849e18227614f0809c8c4c82cf85fec2,fix-docs,"Just pass ``-i /usr/bin/tripleo-ansible-inventory`` to ``ansible-playbook`` command:: ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/hello_world.yaml $ ansible-playbook -i /usr/bin/tripleo-ansible-inventory path/to/validation.yaml $ ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/undercloud-ram.yamlFor other useful values, run ``ansible -i /usr/bin/tripleo-ansible-inventory ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/undercloud-ram.yaml -e minimum_ram_gb=1 ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/undercloud-ram.yaml -e minimum_ram_gb=128","Just pass ``-i tripleo-ansible-inventory`` to ``ansible-playbook`` command:: ansible-playbook -i tripleo-ansible-inventory validations/hello_world.yaml $ ansible-playbook -i tripleo-ansible-inventory path/to/validation.yaml $ ansible-playbook -i tripleo-ansible-inventory validations/undercloud-ram.yamlFor other useful values, run ``ansible -i tripleo-ansible-inventory ansible-playbook -i tripleo-ansible-inventory validations/undercloud-ram.yaml -e minimum_ram_gb=1 ansible-playbook -i tripleo-ansible-inventory validations/undercloud-ram.yaml -e minimum_ram_gb=128",7,7
openstack%2Fblazar~stable%2Focata~I85c12bb586f9929b624e41d1db7f3f6e2272168d,openstack/blazar,stable/ocata,I85c12bb586f9929b624e41d1db7f3f6e2272168d,Add default branch for ocata release,MERGED,2017-04-05 06:51:42.000000000,2017-04-05 07:36:17.000000000,2017-04-05 07:36:17.000000000,"[{'_account_id': 3}, {'_account_id': 8878}]","[{'number': 1, 'created': '2017-04-05 06:51:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/blazar/commit/83f00377ec8eeb3d23f19da9c36a464c9f979637', 'message': 'Add default branch for ocata release\n\nChange-Id: I85c12bb586f9929b624e41d1db7f3f6e2272168d\n'}]",0,453488,83f00377ec8eeb3d23f19da9c36a464c9f979637,6,2,1,8878,,,0,"Add default branch for ocata release

Change-Id: I85c12bb586f9929b624e41d1db7f3f6e2272168d
",git fetch https://review.opendev.org/openstack/blazar refs/changes/88/453488/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,83f00377ec8eeb3d23f19da9c36a464c9f979637,change-default-branch,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-manuals~stable%2Focata~I2c7a9e0f0b563b1f0460d22745f224dfe542287e,openstack/openstack-manuals,stable/ocata,I2c7a9e0f0b563b1f0460d22745f224dfe542287e,Fix horizon/keystone default domain instructions,MERGED,2017-04-05 06:50:21.000000000,2017-04-05 07:33:02.000000000,2017-04-05 07:33:02.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 8482}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-04-05 06:50:21.000000000', 'files': ['doc/install-guide/source/horizon-install.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4148f3e523f26a4aabe2ebbdb2134ddd466ed09c', 'message': ""Fix horizon/keystone default domain instructions\n\nHorizon requires the OPENSTACK_KEYSTONE_DEFAULT_DOMAIN value to be the name of\nthe default domain, not the ID[1]. The name of the default keystone domain is\n'Default', not 'default', which is its ID. This patch updates the horizon\ninstall guide to demonstrate the correct default value.\n\n[1] https://review.openstack.org/#/c/389679/\n\nbackport: ocata\nChange-Id: I2c7a9e0f0b563b1f0460d22745f224dfe542287e\n(cherry picked from commit bda3ea8a5e0b006ac477e1ac8235117b71312511)\n""}]",0,453486,4148f3e523f26a4aabe2ebbdb2134ddd466ed09c,8,4,1,6547,,,0,"Fix horizon/keystone default domain instructions

Horizon requires the OPENSTACK_KEYSTONE_DEFAULT_DOMAIN value to be the name of
the default domain, not the ID[1]. The name of the default keystone domain is
'Default', not 'default', which is its ID. This patch updates the horizon
install guide to demonstrate the correct default value.

[1] https://review.openstack.org/#/c/389679/

backport: ocata
Change-Id: I2c7a9e0f0b563b1f0460d22745f224dfe542287e
(cherry picked from commit bda3ea8a5e0b006ac477e1ac8235117b71312511)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/86/453486/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/horizon-install.rst'],1,4148f3e523f26a4aabe2ebbdb2134ddd466ed09c,ocata/backport/453071," * Configure ``Default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""Default"" * Configure ``Default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""Default"" * Configure ``Default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""Default"""," * Configure ``default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""default"" * Configure ``default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""default"" * Configure ``default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""default""",6,6
openstack%2Fopenstack-manuals~stable%2Focata~I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c,openstack/openstack-manuals,stable/ocata,I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c,[Install-Guide] Note discover_hosts_in_cells_interval,MERGED,2017-04-04 01:41:17.000000000,2017-04-05 07:32:15.000000000,2017-04-05 07:32:14.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 10607}, {'_account_id': 22165}, {'_account_id': 25245}]","[{'number': 1, 'created': '2017-04-04 01:41:17.000000000', 'files': ['doc/install-guide/source/nova-compute-install.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8c32fc2917e4e855daa9f239985c60eb874c3939', 'message': '[Install-Guide] Note discover_hosts_in_cells_interval\n\nNote the configuration setting in nova.conf that enables\nautomatic host discovery at a set interval.\n\nChange-Id: I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c\nRelated-Bug: #1663485\n'}]",0,453004,8c32fc2917e4e855daa9f239985c60eb874c3939,9,5,1,12686,,,0,"[Install-Guide] Note discover_hosts_in_cells_interval

Note the configuration setting in nova.conf that enables
automatic host discovery at a set interval.

Change-Id: I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c
Related-Bug: #1663485
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/04/453004/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/nova-compute-install.rst'],1,8c32fc2917e4e855daa9f239985c60eb874c3939,bug/1663485," nodes. Alternatively, you can set an appropriate interval in ``/etc/nova/nova.conf``: .. code-block:: ini [scheduler] discover_hosts_in_cells_interval = 300", nodes.,7,1
openstack%2Fironic~master~Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1,openstack/ironic,master,Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1,[Devstack] Rework VMs connection logic,MERGED,2017-03-02 17:31:03.000000000,2017-04-05 07:31:24.000000000,2017-04-03 10:22:32.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 6773}, {'_account_id': 10118}, {'_account_id': 10342}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22226}]","[{'number': 1, 'created': '2017-03-02 17:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e86c7951a25c1b893bd1b71f2fd4ede5c8ee9fe4', 'message': ""Remove extra bridge created for plumbing BM VMs\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 2, 'created': '2017-03-03 12:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b93bb8d27ee1d2ff1505eff8b79872cfd4d5980', 'message': ""Remove extra bridge created for plumbing BM VMs\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 3, 'created': '2017-03-06 13:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5bc36cc0fb7cc73cfd722696a9588716e948c2a', 'message': ""Remove extra bridge created for plumbing BM VMs\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 4, 'created': '2017-03-16 13:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/713850b06e75f8fa926c246be4e2f02170ecd60d', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 5, 'created': '2017-03-16 13:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b446fa26947be2db830c97ce0ff72f5cac0ffd89', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 6, 'created': '2017-03-27 13:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9862bd5830633d8048f1eb84946ffbf44153a742', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 7, 'created': '2017-03-27 13:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4abd0b734a574f2efa7c0a8fd2887c82a52fef5c', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 8, 'created': '2017-03-27 15:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/32c4679655a3e523052dea4c4e46ae6f0867b6d0', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 9, 'created': '2017-03-27 16:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6202225c6cb42de6ebea5ac304152943066f5df7', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 10, 'created': '2017-03-27 19:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d417ed4d0e32121b8a22d1abfe31cda799121c00', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 11, 'created': '2017-03-28 06:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c598f4e9d66b7baa792ce35188e4336a8ff36359', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 12, 'created': '2017-03-29 09:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/063ed1a4a277e7744edc189f2b436970a9150eaf', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 13, 'created': '2017-03-29 10:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ceb2ddb230ec9c90e07445a7d5e5d012c8c4c3ac', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 14, 'created': '2017-03-29 10:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/643a6c54df8ee8238cd1fca0b369608f87064c31', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 15, 'created': '2017-03-29 12:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/da275eb00ba0c40982d0863194cab75303d2f7d4', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable, supported only when network\ninterface is set to 'neutron'.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 16, 'created': '2017-03-30 13:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/150740136d10678aa2da249620be73fe4cb443a3', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 17, 'created': '2017-03-30 14:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b25688152d3eae2d7212d7c239b24f64e8aa13da', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}, {'number': 18, 'created': '2017-03-30 14:05:20.000000000', 'files': ['devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'devstack/tools/ironic/scripts/configure-vm.py', 'devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ec88c9b8acb1229c30bb39cb5b92bb3131da6d2', 'message': ""[Devstack] Rework VMs connection logic\n\nDevstack currently plugs the simulated baremetal VMs into OVS using the\nlibvirt bridge driver, this caused a problem because libvirt unplugs the\nVM from the network when it is turned off. To fix this an extra bridge\nwas added between the VM and OVS to allow the OVS port to persist even\nwhen the VM was turned off. This patch replaces how the devstack\nsimulated baremetal VMs are plugged into OVS with a manually created tap\ninterface, this removes the need for an extra bridge, because manually\ncreated tap interfaces aren't unplugged when the VM is turned off.\n\nAllow to connect several interfaces to a node by setting\nIRONIC_VM_INTERFACE_COUNT devstack variable.\n\nCo-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>\n\nChange-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1\n""}]",35,440719,4ec88c9b8acb1229c30bb39cb5b92bb3131da6d2,97,13,18,6637,,,0,"[Devstack] Rework VMs connection logic

Devstack currently plugs the simulated baremetal VMs into OVS using the
libvirt bridge driver, this caused a problem because libvirt unplugs the
VM from the network when it is turned off. To fix this an extra bridge
was added between the VM and OVS to allow the OVS port to persist even
when the VM was turned off. This patch replaces how the devstack
simulated baremetal VMs are plugged into OVS with a manually created tap
interface, this removes the need for an extra bridge, because manually
created tap interfaces aren't unplugged when the VM is turned off.

Allow to connect several interfaces to a node by setting
IRONIC_VM_INTERFACE_COUNT devstack variable.

Co-Authored-By: Vasyl Saienko <vsaienko@mirantis.com>

Change-Id: Iafd470445d59f0e2009e65ddaf65a6c603a1e1c1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/440719/18 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'devstack/tools/ironic/scripts/configure-vm.py', 'devstack/tools/ironic/scripts/create-node.sh']",4,e86c7951a25c1b893bd1b71f2fd4ede5c8ee9fe4,(HEAD,"while getopts ""n:c:m:d:a:t:e:E:p:o:f:l:L:N:"" arg; do t) TARGET=$OPTARG;; --target $TARGET --disk-format $DISK_FORMAT $VM_LOGGING --engine $ENGINE $UEFI_OPTS $vm_opts >&2echo $VM_MAC $VBMC_PORT $PDU_OUTLET $TARGET $@","while getopts ""n:c:m:d:a:b:e:E:p:o:f:l:L:N:"" arg; do b) BRIDGE=$OPTARG;;# Create bridge and add VM interface to it. # Additional interface will be added to this bridge and # it will be plugged to OVS. # This is needed in order to have interface in OVS even # when VM is in shutdown state sudo brctl addbr br-$NAME sudo ip link set br-$NAME up sudo ovs-vsctl add-port $BRIDGE ovs-$NAME -- set Interface ovs-$NAME type=internal sudo ip link set ovs-$NAME up sudo brctl addif br-$NAME ovs-$NAME --bridge br-$NAME --disk-format $DISK_FORMAT $VM_LOGGING --engine $ENGINE $UEFI_OPTS $vm_opts >&2switch_id=$(ip link show dev $BRIDGE | egrep -o ""ether [A-Za-z0-9:]+""|sed ""s/ether\ //"") echo $VM_MAC $VBMC_PORT $PDU_OUTLET $BRIDGE $switch_id ovs-$NAME",18,29
openstack%2Fopenstack-manuals~master~Idae1b9459bbbc6452891e9864362903653927457,openstack/openstack-manuals,master,Idae1b9459bbbc6452891e9864362903653927457,Don't use 'we',MERGED,2017-04-04 09:26:28.000000000,2017-04-05 07:31:19.000000000,2017-04-04 11:28:05.000000000,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 19779}]","[{'number': 1, 'created': '2017-04-04 09:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b931ef0a98bd050df4c4a4e40a7213354a4f758b', 'message': 'Don\'t use \'we\'\n\nThe document used ""The admin or other privileged\nuser must include this option during network\ncreation or add it later. In this case, we can\nadd it to the existing provider provider network."".\n\nTo use ""we"" in this case should be avoided.\n\nChange-Id: Idae1b9459bbbc6452891e9864362903653927457\nCloses-Bug: #1679584\n'}, {'number': 2, 'created': '2017-04-04 09:48:55.000000000', 'files': ['doc/install-guide/source/launch-instance-networks-selfservice.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5c91e66384fa16f1d1ac869682208f84c0a11d63', 'message': 'Don\'t use \'we\'\n\nThe document used ""The admin or other privileged\nuser must include this option during network\ncreation or add it later. In this case, we can\nadd it to the existing provider provider network."".\n\nTo use ""we"" in this case should be avoided.\n\nChange-Id: Idae1b9459bbbc6452891e9864362903653927457\nCloses-Bug: #1679584\n'}]",0,453076,5c91e66384fa16f1d1ac869682208f84c0a11d63,12,3,2,23913,,,0,"Don't use 'we'

The document used ""The admin or other privileged
user must include this option during network
creation or add it later. In this case, we can
add it to the existing provider provider network."".

To use ""we"" in this case should be avoided.

Change-Id: Idae1b9459bbbc6452891e9864362903653927457
Closes-Bug: #1679584
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/76/453076/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/launch-instance-networks-selfservice.rst'],1,b931ef0a98bd050df4c4a4e40a7213354a4f758b,bug/1679584,"option during network creation or add it later. In this case, the ``router:external`` option was set by using the ``--external`` parameter when creating the ``provider`` provider network.","option during network creation or add it later. In this case, we already did that by providing the ``--external`` parameter when we created the ``provider`` provider network.",3,3
openstack%2Fopenstack-manuals~stable%2Fnewton~Iac9c6fc40f071543f82d9f06fa3067ee581faf52,openstack/openstack-manuals,stable/newton,Iac9c6fc40f071543f82d9f06fa3067ee581faf52,Install guide: Create provider network with --external,MERGED,2017-04-04 07:25:35.000000000,2017-04-05 07:30:16.000000000,2017-04-05 07:30:16.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 10607}, {'_account_id': 10897}, {'_account_id': 22165}, {'_account_id': 23913}]","[{'number': 1, 'created': '2017-04-04 07:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/69cf67c2c461afa449ef8e9c90be48eb5b4ed76e', 'message': 'Install guide: Create provider network with --external\n\nCreate provider network with --external in\nlaunch-instenace-networks-provider of install\nguide.\n\nChange-Id: Iac9c6fc40f071543f82d9f06fa3067ee581faf52\nCloses-Bug: #1674452\n'}, {'number': 2, 'created': '2017-04-04 12:03:55.000000000', 'files': ['doc/install-guide/source/launch-instance-networks-selfservice.rst', 'doc/install-guide/source/launch-instance-networks-provider.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8d993d3bbd17ce22288b9ea9caa6d93618522f46', 'message': 'Install guide: Create provider network with --external\n\nCreate provider network with --external in\nlaunch-instenace-networks-provider of install\nguide.\n\nChange-Id: Iac9c6fc40f071543f82d9f06fa3067ee581faf52\nCloses-Bug: #1674452\n'}]",2,453043,8d993d3bbd17ce22288b9ea9caa6d93618522f46,14,6,2,23913,,,0,"Install guide: Create provider network with --external

Create provider network with --external in
launch-instenace-networks-provider of install
guide.

Change-Id: Iac9c6fc40f071543f82d9f06fa3067ee581faf52
Closes-Bug: #1674452
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/43/453043/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/launch-instance-networks-selfservice.rst', 'doc/install-guide/source/launch-instance-networks-provider.rst', 'doc/install-guide/source/launch-instance-networks-selfservice.rst.orig']",3,69cf67c2c461afa449ef8e9c90be48eb5b4ed76e,bug/1674452,".. _launch-instance-networks-selfservice: Self-service network ~~~~~~~~~~~~~~~~~~~~ If you chose networking option 2, you can also create a self-service (private) network that connects to the physical network infrastructure via NAT. This network includes a DHCP server that provides IP addresses to instances. An instance on this network can automatically access external networks such as the Internet. However, access to an instance on this network from external networks such as the Internet requires a :term:`floating IP address`. The ``demo`` or other unprivileged user can create this network because it provides connectivity to instances within the ``demo`` project only. .. warning:: You must :ref:`create the provider network <launch-instance-networks-provider>` before the self-service network. .. note:: The following instructions and diagrams use example IP address ranges. You must adjust them for your particular environment. .. figure:: figures/network2-overview.png :alt: Networking Option 2: Self-service networks - Overview **Networking Option 2: Self-service networks - Overview** .. figure:: figures/network2-connectivity.png :alt: Networking Option 2: Self-service networks - Connectivity **Networking Option 2: Self-service networks - Connectivity** Create the self-service network ------------------------------- #. On the controller node, source the ``demo`` credentials to gain access to user-only CLI commands: .. code-block:: console $ . demo-openrc .. end #. Create the network: .. code-block:: console $ openstack network create selfservice Created a new network: +-------------------------+--------------------------------------+ | Field | Value | +-------------------------+--------------------------------------+ | admin_state_up | UP | | availability_zone_hints | | | availability_zones | | | created_at | 2016-11-04T18:20:59Z | | description | | | headers | | | id | 7c6f9b37-76b4-463e-98d8-27e5686ed083 | | ipv4_address_scope | None | | ipv6_address_scope | None | | mtu | 1450 | | name | selfservice | | port_security_enabled | True | | project_id | 3828e7c22c5546e585f27b9eb5453788 | | project_id | 3828e7c22c5546e585f27b9eb5453788 | | revision_number | 3 | | router:external | Internal | | shared | False | | status | ACTIVE | | subnets | | | tags | [] | | updated_at | 2016-11-04T18:20:59Z | +-------------------------+--------------------------------------+ .. end Non-privileged users typically cannot supply additional parameters to this command. The service automatically chooses parameters using information from the following files: ``ml2_conf.ini``: .. code-block:: ini [ml2] tenant_network_types = vxlan [ml2_type_vxlan] vni_ranges = 1:1000 .. end #. Create a subnet on the network: .. code-block:: console $ openstack subnet create --network selfservice \ --dns-nameserver DNS_RESOLVER --gateway SELFSERVICE_NETWORK_GATEWAY \ --subnet-range SELFSERVICE_NETWORK_CIDR selfservice .. end Replace ``DNS_RESOLVER`` with the IP address of a DNS resolver. In most cases, you can use one from the ``/etc/resolv.conf`` file on the host. Replace ``SELFSERVICE_NETWORK_GATEWAY`` with the gateway you want to use on the self-service network, typically the "".1"" IP address. Replace ``SELFSERVICE_NETWORK_CIDR`` with the subnet you want to use on the self-service network. You can use any arbitrary value, although we recommend a network from `RFC 1918 <https://tools.ietf.org/html/rfc1918>`_. **Example** The self-service network uses 172.16.1.0/24 with a gateway on 172.16.1.1. A DHCP server assigns each instance an IP address from 172.16.1.2 to 172.16.1.254. All instances use 8.8.4.4 as a DNS resolver. .. code-block:: console $ openstack subnet create --network selfservice \ --dns-nameserver 8.8.4.4 --gateway 172.16.1.1 \ --subnet-range 172.16.1.0/24 selfservice Created a new subnet: +-------------------+--------------------------------------+ | Field | Value | +-------------------+--------------------------------------+ | allocation_pools | 172.16.1.2-172.16.1.254 | | cidr | 172.16.1.0/24 | | created_at | 2016-11-04T18:30:54Z | | description | | | dns_nameservers | 8.8.4.4 | | enable_dhcp | True | | gateway_ip | 172.16.1.1 | | headers | | | host_routes | | | id | 5c37348e-e7da-439b-8c23-2af47d93aee5 | | ip_version | 4 | | ipv6_address_mode | None | | ipv6_ra_mode | None | | name | selfservice | | network_id | b9273876-5946-4f02-a4da-838224a144e7 | | project_id | 3828e7c22c5546e585f27b9eb5453788 | | project_id | 3828e7c22c5546e585f27b9eb5453788 | | revision_number | 2 | | service_types | [] | | subnetpool_id | None | | updated_at | 2016-11-04T18:30:54Z | +-------------------+--------------------------------------+ .. end Create a router --------------- Self-service networks connect to provider networks using a virtual router that typically performs bidirectional NAT. Each router contains an interface on at least one self-service network and a gateway on a provider network. The provider network must include the ``router:external`` option to enable self-service routers to use it for connectivity to external networks such as the Internet. The ``admin`` or other privileged user must include this option during network creation or add it later. In this case, we already did that by providing the ``--external`` parameter when we created the ``provider`` provider network. #. On the controller node, source the ``admin`` credentials to gain access to admin-only CLI commands: .. code-block:: console $ . admin-openrc .. end <<<<<<< HEAD #. Add the ``router: external`` option to the ``provider`` network: .. code-block:: console $ neutron net-update provider --router:external Updated network: provider .. end ======= >>>>>>> 19da06bd0... Install guide: Create provider network with --external #. Source the ``demo`` credentials to gain access to user-only CLI commands: .. code-block:: console $ . demo-openrc .. end #. Create the router: .. code-block:: console $ openstack router create router Created a new router: +-------------------------+--------------------------------------+ | Field | Value | +-------------------------+--------------------------------------+ | admin_state_up | UP | | availability_zone_hints | | | availability_zones | | | created_at | 2016-11-04T18:32:56Z | | description | | | external_gateway_info | null | | flavor_id | None | | headers | | | id | 67324374-396a-4db6-9443-c70be167a42b | | name | router | | project_id | 3828e7c22c5546e585f27b9eb5453788 | | project_id | 3828e7c22c5546e585f27b9eb5453788 | | revision_number | 2 | | routes | | | status | ACTIVE | | updated_at | 2016-11-04T18:32:56Z | +-------------------------+--------------------------------------+ .. end #. Add the self-service network subnet as an interface on the router: .. code-block:: console $ neutron router-interface-add router selfservice Added interface bff6605d-824c-41f9-b744-21d128fc86e1 to router router. .. end #. Set a gateway on the provider network on the router: .. code-block:: console $ neutron router-gateway-set router provider Set gateway for router router .. end Verify operation ---------------- We recommend that you verify operation and fix any issues before proceeding. The following steps use the IP address ranges from the network and subnet creation examples. #. On the controller node, source the ``admin`` credentials to gain access to admin-only CLI commands: .. code-block:: console $ . admin-openrc .. end #. List network namespaces. You should see one ``qrouter`` namespace and two ``qdhcp`` namespaces. .. code-block:: console $ ip netns qrouter-89dd2083-a160-4d75-ab3a-14239f01ea0b qdhcp-7c6f9b37-76b4-463e-98d8-27e5686ed083 qdhcp-0e62efcd-8cee-46c7-b163-d8df05c3c5ad .. end #. List ports on the router to determine the gateway IP address on the provider network: .. code-block:: console $ neutron router-port-list router +--------------------------------------+------+-------------------+------------------------------------------+ | id | name | mac_address | fixed_ips | +--------------------------------------+------+-------------------+------------------------------------------+ | bff6605d-824c-41f9-b744-21d128fc86e1 | | fa:16:3e:2f:34:9b | {""subnet_id"": | | | | | ""3482f524-8bff-4871-80d4-5774c2730728"", | | | | | ""ip_address"": ""172.16.1.1""} | | d6fe98db-ae01-42b0-a860-37b1661f5950 | | fa:16:3e:e8:c1:41 | {""subnet_id"": | | | | | ""5cc70da8-4ee7-4565-be53-b9c011fca011"", | | | | | ""ip_address"": ""203.0.113.102""} | +--------------------------------------+------+-------------------+------------------------------------------+ .. end #. Ping this IP address from the controller node or any host on the physical provider network: .. code-block:: console $ ping -c 4 203.0.113.102 PING 203.0.113.102 (203.0.113.102) 56(84) bytes of data. 64 bytes from 203.0.113.102: icmp_req=1 ttl=64 time=0.619 ms 64 bytes from 203.0.113.102: icmp_req=2 ttl=64 time=0.189 ms 64 bytes from 203.0.113.102: icmp_req=3 ttl=64 time=0.165 ms 64 bytes from 203.0.113.102: icmp_req=4 ttl=64 time=0.216 ms --- 203.0.113.102 ping statistics --- rtt min/avg/max/mdev = 0.165/0.297/0.619/0.187 ms .. end Return to :ref:`Launch an instance - Create virtual networks <launch-instance-networks>`. ",,332,14
openstack%2Fsenlin~master~I19c3d572b62a3c24968629d16ab3f2cc3d1271db,openstack/senlin,master,I19c3d572b62a3c24968629d16ab3f2cc3d1271db,Update senlin tempest guide,MERGED,2017-04-04 15:16:35.000000000,2017-04-05 07:25:01.000000000,2017-04-05 07:25:01.000000000,"[{'_account_id': 3}, {'_account_id': 6348}, {'_account_id': 8246}, {'_account_id': 22998}]","[{'number': 1, 'created': '2017-04-04 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c92c46288ecb5d72ba216c07ec4bcd1c6dd3afac', 'message': 'Update senlin tempest guide\n\nrun_tempest.sh has been removed in newest version, need update senlin tempest\nguide.\n\nChange-Id: I19c3d572b62a3c24968629d16ab3f2cc3d1271db\n'}, {'number': 2, 'created': '2017-04-04 15:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b5c7f10c5cda0d4f92cd0430a386eb547f00f96b', 'message': 'Update senlin tempest guide\n\nrun_tempest.sh has been removed in newest version, need update senlin tempest\nguide.\n\nChange-Id: I19c3d572b62a3c24968629d16ab3f2cc3d1271db\n'}, {'number': 3, 'created': '2017-04-05 01:33:42.000000000', 'files': ['senlin/tests/tempest/README.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/925aace86e7adafe762d6e44003e2a68e54f7082', 'message': 'Update senlin tempest guide\n\nrun_tempest.sh has been removed in newest version, need update senlin tempest\nguide.\n\nChange-Id: I19c3d572b62a3c24968629d16ab3f2cc3d1271db\n'}]",2,453218,925aace86e7adafe762d6e44003e2a68e54f7082,12,4,3,22998,,,0,"Update senlin tempest guide

run_tempest.sh has been removed in newest version, need update senlin tempest
guide.

Change-Id: I19c3d572b62a3c24968629d16ab3f2cc3d1271db
",git fetch https://review.opendev.org/openstack/senlin refs/changes/18/453218/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/tests/tempest/README.rst'],1,c92c46288ecb5d72ba216c07ec4bcd1c6dd3afac,tempest-guide,"If you can not find run_tempest.sh script in tempest directory, that means the script has be removed in the crtain version. You can use ""nosetests -v"" to replace ""./run_tempest.sh -N"" in above command.",,2,0
openstack%2Foslo.log~master~I6dd34f80662d2733b37f8d8d1b9f81eb6161f346,openstack/oslo.log,master,I6dd34f80662d2733b37f8d8d1b9f81eb6161f346,"When record.args is None, it should not give an exception.",MERGED,2017-03-17 12:35:05.000000000,2017-04-05 07:24:23.000000000,2017-04-05 07:24:23.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 10068}, {'_account_id': 25468}]","[{'number': 1, 'created': '2017-03-17 12:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/766e36fec9c9a80f8a1e6c15871b2884670456eb', 'message': 'When record.args is None, it gives an exception instead of the actual log message. This will fix that.\n\nChange-Id: I6dd34f80662d2733b37f8d8d1b9f81eb6161f346\n'}, {'number': 2, 'created': '2017-04-04 11:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/44d20d7da5fadae05dfed953bdc3294c560f977a', 'message': 'When record.args is None, it should not give an exception.\n\nAlso included a unit test which will validate that scenario.\nError occured at oslo_privsep implementation, which is now fixed upstream:\nhttps://github.com/openstack/oslo.privsep/commit/3c47348ced0d3ace1113ba8de8dff015792b0b89\n\nChange-Id: I6dd34f80662d2733b37f8d8d1b9f81eb6161f346\n'}, {'number': 3, 'created': '2017-04-04 11:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/c0be176c91ac39ff91b801561ea78a5f51c3a91c', 'message': 'When record.args is None, it should not give an exception.\n\nAlso included a unit test which will validate that scenario.\nError occured at oslo_privsep implementation, which is fixed upstream:\nhttps://github.com/openstack/oslo.privsep/commit/3c47348ced0d3ace1113ba8de8dff015792b0b89\n\nChange-Id: I6dd34f80662d2733b37f8d8d1b9f81eb6161f346\n'}, {'number': 4, 'created': '2017-04-04 13:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6f266063e04daf2bee84793f6d6910a1f2174194', 'message': 'When record.args is None, it should not give an exception.\n\nAlso included a unit test which will validate that scenario.\nError occured at oslo_privsep implementation, which is fixed upstream:\nhttps://github.com/openstack/oslo.privsep/commit/3c47348ced0d3ace1113ba8de8dff015792b0b89\n\nChange-Id: I6dd34f80662d2733b37f8d8d1b9f81eb6161f346\n'}, {'number': 5, 'created': '2017-04-04 20:47:18.000000000', 'files': ['oslo_log/formatters.py', 'oslo_log/tests/unit/test_custom_loghandler.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/20437e5177256bd1ebbaafc8508fab395314ad48', 'message': 'When record.args is None, it should not give an exception.\n\nAlso included a unit test which will validate that scenario.\nError occured at oslo_privsep implementation, which is fixed upstream:\nhttps://github.com/openstack/oslo.privsep/commit/3c47348ced0d3ace1113ba8de8dff015792b0b89\n\nChange-Id: I6dd34f80662d2733b37f8d8d1b9f81eb6161f346\n'}]",2,446984,20437e5177256bd1ebbaafc8508fab395314ad48,21,5,5,25468,,,0,"When record.args is None, it should not give an exception.

Also included a unit test which will validate that scenario.
Error occured at oslo_privsep implementation, which is fixed upstream:
https://github.com/openstack/oslo.privsep/commit/3c47348ced0d3ace1113ba8de8dff015792b0b89

Change-Id: I6dd34f80662d2733b37f8d8d1b9f81eb6161f346
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/84/446984/5 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/formatters.py'],1,766e36fec9c9a80f8a1e6c15871b2884670456eb,formatter-args-fix, for arg in record.args or []:, for arg in record.args:,1,1
openstack%2Fbarbican~master~I13bfeef4f06602984d2ffb727212ab6d39797401,openstack/barbican,master,I13bfeef4f06602984d2ffb727212ab6d39797401,Fix install guide docs for SUSE,MERGED,2017-04-04 11:20:37.000000000,2017-04-05 07:20:04.000000000,2017-04-05 03:16:08.000000000,"[{'_account_id': 3}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-04-04 11:20:37.000000000', 'files': ['install-guide/source/install-obs.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/7df3342e353c0b26c97c350be52373d2b0bc2ebc', 'message': 'Fix install guide docs for SUSE\n\nFirst, the example package install command neglected to include any of\nthe package names, so this patch adds the correct package names as well\nas omits the non-essential, personal-preference command flags so as to\nbe consistent with the examples in the main OpenStack install guide.\n\nSecond, like the barbican packages in RDO, the OBS barbican packages do\nnot include an openstack-barbican-api systemd unit file and instead\nprovide an Apache vhost sample file, so this patch modifies the service\ninstructions to configure the service with Apache.\n\nChange-Id: I13bfeef4f06602984d2ffb727212ab6d39797401\n'}]",0,453133,7df3342e353c0b26c97c350be52373d2b0bc2ebc,9,4,1,8482,,,0,"Fix install guide docs for SUSE

First, the example package install command neglected to include any of
the package names, so this patch adds the correct package names as well
as omits the non-essential, personal-preference command flags so as to
be consistent with the examples in the main OpenStack install guide.

Second, like the barbican packages in RDO, the OBS barbican packages do
not include an openstack-barbican-api systemd unit file and instead
provide an Apache vhost sample file, so this patch modifies the service
instructions to configure the service with Apache.

Change-Id: I13bfeef4f06602984d2ffb727212ab6d39797401
",git fetch https://review.opendev.org/openstack/barbican refs/changes/33/453133/1 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/install-obs.rst'],1,7df3342e353c0b26c97c350be52373d2b0bc2ebc,fix_docs_obs, # zypper install openstack-barbican-api openstack-barbican-keystone-listener openstack-barbican-worker#. Copy the sample Apache vhost file into place: # cp /etc/apache2/conf.d/barbican-api.conf.sample /etc/apache2/vhosts.d/barbican-api.conf #. Start the Apache HTTP service and configure it to start when the system boots: .. code-block:: console # systemctl enable apache2.service # systemctl start apache2.service, # zypper --quiet --non-interactive installStart the Key Manager services and configure them to start when the system boots: # systemctl enable openstack-barbican-api.service # systemctl start openstack-barbican-api.service,9,5
openstack%2Fglance~master~Ib874abe0b6a86f70d9cb33974ebec16e8a157e4c,openstack/glance,master,Ib874abe0b6a86f70d9cb33974ebec16e8a157e4c,Reduce code duplication,ABANDONED,2017-04-04 10:31:08.000000000,2017-04-05 07:15:42.000000000,,"[{'_account_id': 3}, {'_account_id': 8158}]","[{'number': 1, 'created': '2017-04-04 10:31:08.000000000', 'files': ['glance/registry/api/v1/members.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c1ca1c2f891ee7e63feecf3125daa7e9f91e50d5', 'message': 'Reduce code duplication\n\nReduced source code by extracting duplicated code\n(in registry/api/v1/members.py)\n\nChange-Id: Ib874abe0b6a86f70d9cb33974ebec16e8a157e4c\n'}]",0,453107,c1ca1c2f891ee7e63feecf3125daa7e9f91e50d5,4,2,1,18603,,,0,"Reduce code duplication

Reduced source code by extracting duplicated code
(in registry/api/v1/members.py)

Change-Id: Ib874abe0b6a86f70d9cb33974ebec16e8a157e4c
",git fetch https://review.opendev.org/openstack/glance refs/changes/07/453107/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/registry/api/v1/members.py'],1,c1ca1c2f891ee7e63feecf3125daa7e9f91e50d5,," def _get_image(self, req, image_id): return image @utils.mutating def update_all(self, req, image_id, body): """""" Replaces the members of the image with those specified in the body. The body is a dict with the following format:: {'memberships': [ {'member_id': <MEMBER_ID>, ['can_share': [True|False]]}, ... ]} """""" image = self._get_image(req, image_id) image = self._get_image(req, image_id) self._get_image(req, image_id)"," @utils.mutating def update_all(self, req, image_id, body): """""" Replaces the members of the image with those specified in the body. The body is a dict with the following format:: {'memberships': [ {'member_id': <MEMBER_ID>, ['can_share': [True|False]]}, ... ]} """""" self._check_can_access_image_members(req.context) # Make sure the image exists try: image = self.db_api.image_get(req.context, image_id, v1_mode=True) except exception.NotFound: msg = _(""Image %(id)s not found"") % {'id': image_id} LOG.warn(msg) raise webob.exc.HTTPNotFound(msg) except exception.Forbidden: # If it's private and doesn't belong to them, don't let on # that it exists msg = _LW(""Access denied to image %(id)s but returning"" "" 'not found'"") % {'id': image_id} LOG.warn(msg) raise webob.exc.HTTPNotFound() # Can they manipulate the membership? if not self.is_image_sharable(req.context, image): msg = (_LW(""User lacks permission to share image %(id)s"") % {'id': image_id}) LOG.warn(msg) msg = _(""No permission to share that image"") raise webob.exc.HTTPForbidden(msg) self._check_can_access_image_members(req.context) # Make sure the image exists try: image = self.db_api.image_get(req.context, image_id, v1_mode=True) except exception.NotFound: msg = _(""Image %(id)s not found"") % {'id': image_id} LOG.warn(msg) raise webob.exc.HTTPNotFound(msg) except exception.Forbidden: # If it's private and doesn't belong to them, don't let on # that it exists msg = _LW(""Access denied to image %(id)s but returning"" "" 'not found'"") % {'id': image_id} LOG.warn(msg) raise webob.exc.HTTPNotFound() # Can they manipulate the membership? if not self.is_image_sharable(req.context, image): msg = (_LW(""User lacks permission to share image %(id)s"") % {'id': image_id}) LOG.warn(msg) msg = _(""No permission to share that image"") raise webob.exc.HTTPForbidden(msg)",17,60
openstack%2Ffuel-web~stable%2F8.0~Ia9d7264d3885805f91862e408f8059c4e5eed1d6,openstack/fuel-web,stable/8.0,Ia9d7264d3885805f91862e408f8059c4e5eed1d6,Add exception handling when NIC with given name is missing in db,MERGED,2016-10-14 08:16:15.000000000,2017-04-05 07:05:22.000000000,2017-04-05 06:20:08.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8392}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10391}, {'_account_id': 10488}, {'_account_id': 13505}, {'_account_id': 14200}, {'_account_id': 14610}, {'_account_id': 14689}, {'_account_id': 16518}, {'_account_id': 17737}, {'_account_id': 18205}, {'_account_id': 19158}, {'_account_id': 19234}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-10-14 08:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/09af52ce69c81b0572e37665b7864ad0c2239890', 'message': ""Add exception handling when NIC with given name is missing in db\n\nIn case NIC names in 'nic_mapping' section of the network template do\nnot correspond to actually existing NICs of node, to which networks must\nbe assigned, the error will occur; as lookup in db by name is performed,\nresult of such lookup will be None, so any attempt to get attributes\nfrom it raises AttributeError.\n\nThis change adds handling of the situation by adding of custom exception\nand returning proper http response to user who tries to upload network\ntemplate. Such handling was added for following API end points, by which\nnetwork template is applied to nodes:\n* NodeHandler.PUT;\n* NodeCollectionHandler.PUT;\n* ClusterHandler.PUT;\n* TemplateNetworkConfigurationHandler.PUT\n\nChange-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6\nCloses-Bug: #1539115\n(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)\n""}, {'number': 2, 'created': '2016-10-14 08:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/811e5436b249e267d4f457b371ff1e5b974b1620', 'message': ""Add exception handling when NIC with given name is missing in db\n\nIn case NIC names in 'nic_mapping' section of the network template do\nnot correspond to actually existing NICs of node, to which networks must\nbe assigned, the error will occur; as lookup in db by name is performed,\nresult of such lookup will be None, so any attempt to get attributes\nfrom it raises AttributeError.\n\nThis change adds handling of the situation by adding of custom exception\nand returning proper http response to user who tries to upload network\ntemplate. Such handling was added for following API end points, by which\nnetwork template is applied to nodes:\n* NodeHandler.PUT;\n* NodeCollectionHandler.PUT;\n* ClusterHandler.PUT;\n* TemplateNetworkConfigurationHandler.PUT\n\nChange-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6\nCloses-Bug: #1539115\n(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)\n""}, {'number': 3, 'created': '2016-10-14 09:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/29954aeedb4254b98b2ae90b23ed9590cb694d8f', 'message': ""Add exception handling when NIC with given name is missing in db\n\nIn case NIC names in 'nic_mapping' section of the network template do\nnot correspond to actually existing NICs of node, to which networks must\nbe assigned, the error will occur; as lookup in db by name is performed,\nresult of such lookup will be None, so any attempt to get attributes\nfrom it raises AttributeError.\n\nThis change adds handling of the situation by adding of custom exception\nand returning proper http response to user who tries to upload network\ntemplate. Such handling was added for following API end points, by which\nnetwork template is applied to nodes:\n* NodeHandler.PUT;\n* NodeCollectionHandler.PUT;\n* ClusterHandler.PUT;\n* TemplateNetworkConfigurationHandler.PUT\n\nChange-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6\nCloses-Bug: #1539115\n(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)\n""}, {'number': 4, 'created': '2016-10-14 09:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3047e43c6a5307b5e4ed41bfc221f8f8cf8a8546', 'message': ""Add exception handling when NIC with given name is missing in db\n\nIn case NIC names in 'nic_mapping' section of the network template do\nnot correspond to actually existing NICs of node, to which networks must\nbe assigned, the error will occur; as lookup in db by name is performed,\nresult of such lookup will be None, so any attempt to get attributes\nfrom it raises AttributeError.\n\nThis change adds handling of the situation by adding of custom exception\nand returning proper http response to user who tries to upload network\ntemplate. Such handling was added for following API end points, by which\nnetwork template is applied to nodes:\n* NodeHandler.PUT;\n* NodeCollectionHandler.PUT;\n* ClusterHandler.PUT;\n* TemplateNetworkConfigurationHandler.PUT\n\nChange-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6\nCloses-Bug: #1539115\n(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)\n""}, {'number': 5, 'created': '2016-10-17 12:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7e47b4596c5ce226ae27e3dbbce25fa47b7d1521', 'message': ""Add exception handling when NIC with given name is missing in db\n\nIn case NIC names in 'nic_mapping' section of the network template do\nnot correspond to actually existing NICs of node, to which networks must\nbe assigned, the error will occur; as lookup in db by name is performed,\nresult of such lookup will be None, so any attempt to get attributes\nfrom it raises AttributeError.\n\nThis change adds handling of the situation by adding of custom exception\nand returning proper http response to user who tries to upload network\ntemplate. Such handling was added for following API end points, by which\nnetwork template is applied to nodes:\n* NodeHandler.PUT;\n* NodeCollectionHandler.PUT;\n* ClusterHandler.PUT;\n* TemplateNetworkConfigurationHandler.PUT\n\nChange-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6\nCloses-Bug: #1539115\n(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)\n""}, {'number': 6, 'created': '2016-10-19 10:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c802cd318c295109f02d7a94524aa42d2d491b0f', 'message': ""Add exception handling when NIC with given name is missing in db\n\nIn case NIC names in 'nic_mapping' section of the network template do\nnot correspond to actually existing NICs of node, to which networks must\nbe assigned, the error will occur; as lookup in db by name is performed,\nresult of such lookup will be None, so any attempt to get attributes\nfrom it raises AttributeError.\n\nThis change adds handling of the situation by adding of custom exception\nand returning proper http response to user who tries to upload network\ntemplate. Such handling was added for following API end points, by which\nnetwork template is applied to nodes:\n* NodeHandler.PUT;\n* NodeCollectionHandler.PUT;\n* ClusterHandler.PUT;\n* TemplateNetworkConfigurationHandler.PUT\n\nChange-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6\nCloses-Bug: #1539115\n(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)\n""}, {'number': 7, 'created': '2017-03-30 10:37:12.000000000', 'files': ['nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/api/v1/validators/network.py', 'nailgun/nailgun/api/v1/handlers/node.py', 'nailgun/nailgun/api/v1/handlers/cluster.py', 'nailgun/nailgun/api/v1/handlers/network_configuration.py', 'nailgun/nailgun/errors/__init__.py', 'nailgun/nailgun/test/integration/test_network_template_apply.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2637149229d46ecc04fd24368945da27cb946277', 'message': ""Add exception handling when NIC with given name is missing in db\n\nIn case NIC names in 'nic_mapping' section of the network template do\nnot correspond to actually existing NICs of node, to which networks must\nbe assigned, the error will occur; as lookup in db by name is performed,\nresult of such lookup will be None, so any attempt to get attributes\nfrom it raises AttributeError.\n\nThis change adds handling of the situation by adding of custom exception\nand returning proper http response to user who tries to upload network\ntemplate. Such handling was added for following API end points, by which\nnetwork template is applied to nodes:\n* NodeHandler.PUT;\n* NodeCollectionHandler.PUT;\n* ClusterHandler.PUT;\n* TemplateNetworkConfigurationHandler.PUT\n\nChange-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6\nCloses-Bug: #1539115\n(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)\n""}]",0,386449,2637149229d46ecc04fd24368945da27cb946277,140,18,7,19234,,,0,"Add exception handling when NIC with given name is missing in db

In case NIC names in 'nic_mapping' section of the network template do
not correspond to actually existing NICs of node, to which networks must
be assigned, the error will occur; as lookup in db by name is performed,
result of such lookup will be None, so any attempt to get attributes
from it raises AttributeError.

This change adds handling of the situation by adding of custom exception
and returning proper http response to user who tries to upload network
template. Such handling was added for following API end points, by which
network template is applied to nodes:
* NodeHandler.PUT;
* NodeCollectionHandler.PUT;
* ClusterHandler.PUT;
* TemplateNetworkConfigurationHandler.PUT

Change-Id: Ia9d7264d3885805f91862e408f8059c4e5eed1d6
Closes-Bug: #1539115
(cherry picked from commit 9a261b6dce363d07e4abd284e78c1b23931d3fcd)
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/49/386449/2 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/api/v1/validators/network.py', 'nailgun/nailgun/network/neutron.py', 'nailgun/nailgun/api/v1/handlers/node.py', 'nailgun/nailgun/api/v1/handlers/cluster.py', 'nailgun/nailgun/api/v1/handlers/network_configuration.py', 'nailgun/nailgun/test/integration/test_network_template_apply.py']",6,09af52ce69c81b0572e37665b7864ad0c2239890,bug/1539115,"# -*- coding: utf-8 -*- # Copyright 2016 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from oslo_serialization import jsonutils import six from nailgun import objects from nailgun.test import base class TestNetTemplateMalformedNICMappingApply(base.BaseIntegrationTest): def setUp(self): super(TestNetTemplateMalformedNICMappingApply, self).setUp() self.cluster = self.env.create( release_kwargs={'api': False, 'version': 'mitaka-9.0'}, cluster_kwargs={'api': False} ) self.node = self.create_controller() self.modified_template = self.mutilate_nic_mapping( self._prepare_template(), self.node) def create_controller(self): node = self.env.create_node(roles=['controller']) node.roles = ['controller'] self.db.flush() return node def _prepare_template(self): template = self.env.read_fixtures(['network_template_90'])[0] template.pop('pk') # PK is not needed return template def add_node_to_cluster(self, cluster, node, expect_errors=False): return self.app.put( base.reverse( 'NodeHandler', kwargs={'obj_id': node.id} ), params=jsonutils.dumps({'cluster_id': cluster.id}), headers=self.default_headers, expect_errors=expect_errors ) def upload_template(self, cluster, template, expect_errors=False): return self.app.put( base.reverse( 'TemplateNetworkConfigurationHandler', kwargs={'cluster_id': cluster.id}, ), jsonutils.dumps(template), headers=self.default_headers, expect_errors=expect_errors ) def mutilate_nic_mapping(self, template, node): # change names of those interfaces in NIC mapping for which networks # must be assigned after building of networks to nodes mapping; this # must result in error as look up by NIC name is performed for node # in such case, and network controllers of that node will have # different names, thus will not be returned by query node_nic_names = [nic.name for nic in node.nic_interfaces] # NOTE(aroma): in order to make this method more general let's use only # 'default' node group, as in some test cases modified template # is assigned for cluster before nodes, and consequently their node # groups are not yet known by the moment nic_mapping = \ template['adv_net_template']['default']['nic_mapping'] new_mapping = {} for substitute, iface_name in six.iteritems(nic_mapping['default']): if iface_name in node_nic_names: new_mapping[substitute] = uuid.uuid4().hex else: new_mapping[substitute] = iface_name nic_mapping['default'] = new_mapping return template def check_err_resp(self, resp): self.assertEqual(resp.status_code, 400) self.assertIn('does not exist for node', resp.json_body['message']) def test_fail_for_cluster_w_nodes(self): self.add_node_to_cluster(self.cluster, self.node) # network template is applied for nodes (if any) when it is uploaded resp = self.upload_template(self.cluster, self.modified_template, expect_errors=True) self.check_err_resp(resp) def test_fail_if_set_node_via_single_handler(self): # NOTE(aroma): the template contains data pertaining to node groups; # so if 'nic_mapping' subsection is malformed the template can # still be uploaded successfully, but only in case cluster does not # have assigned nodes bound to that particular node group self.upload_template(self.cluster, self.modified_template) # network template is applied for node if it is being added to # cluster (via handler for single objects) resp = self.add_node_to_cluster(self.cluster, self.node, expect_errors=True) self.check_err_resp(resp) def test_fail_if_set_node_via_collect_handler(self): # node could be assigned to cluster via NodeCollectionHandler # too; please, see comments for previous test case as the main idea # here is the same except different handler must be checked self.upload_template(self.cluster, self.modified_template) resp = self.app.put( base.reverse(""NodeCollectionHandler""), params=jsonutils.dumps( [{'id': self.node.id, 'cluster_id': self.cluster.id}] ), headers=self.default_headers, expect_errors=True ) self.check_err_resp(resp) def test_fail_if_set_node_via_cluster_handler(self): # node could be set via PUT to ClusterHandler; network template is # applied to the node in such case; ditto as in comments for # previous test cases self.upload_template(self.cluster, self.modified_template) self.node.nodegroup = objects.Cluster.get_default_group(self.cluster) resp = self.app.put( base.reverse( ""ClusterHandler"", kwargs={'obj_id': self.cluster.id} ), params=jsonutils.dumps({'nodes': [self.node.id]}), headers=self.default_headers, expect_errors=True ) self.check_err_resp(resp) ",,244,2
openstack%2Fpython-zaqarclient~master~Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b,openstack/python-zaqarclient,master,Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b,Support post and list messages,MERGED,2017-03-27 22:40:05.000000000,2017-04-05 07:03:37.000000000,2017-04-05 07:03:37.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 15054}]","[{'number': 1, 'created': '2017-03-27 22:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/7eb2b18682217923987f4f752209d6c163facfae', 'message': ""Support post and list messages\n\nAllow post and list messages with CLI so that user can easily verify\nZaqar's messaging functions with command line.\n\nChange-Id: Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b\n""}, {'number': 2, 'created': '2017-03-28 02:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/fd6c30844df47edbde9881edc992e3b81ad81602', 'message': ""Support post and list messages\n\nAllow post and list messages with CLI so that user can easily verify\nZaqar's messaging functions with command line.\n\nChange-Id: Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b\n""}, {'number': 3, 'created': '2017-03-28 03:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/72d2901ec279361c6aab948f368c1101cdd8f9aa', 'message': ""Support post and list messages\n\nAllow post and list messages with CLI so that user can easily verify\nZaqar's messaging functions with command line.\n\nChange-Id: Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b\n""}, {'number': 4, 'created': '2017-03-31 03:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/d1b8386ea20d5710edbc2cdb08cdf630fb58fec5', 'message': ""Support post and list messages\n\nAllow post and list messages with CLI so that user can easily verify\nZaqar's messaging functions with command line.\n\nChange-Id: Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b\n""}, {'number': 5, 'created': '2017-04-03 22:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/6365a7cb18b70c5a3f3db08dfa00a4cd8955de38', 'message': ""Support post and list messages\n\nAllow post and list messages with CLI so that user can easily verify\nZaqar's messaging functions with command line.\n\nChange-Id: Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b\n""}, {'number': 6, 'created': '2017-04-05 03:40:02.000000000', 'files': ['releasenotes/notes/support-post-list-messages-cc224643840a1242.yaml', 'zaqarclient/queues/v1/cli.py', 'zaqarclient/queues/v2/message.py', 'setup.cfg', 'zaqarclient/queues/v2/cli.py'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/96370f27ed6909c465fbded9c1cc9db87d3cc13a', 'message': ""Support post and list messages\n\nAllow post and list messages with CLI so that user can easily verify\nZaqar's messaging functions with command line.\n\nChange-Id: Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b\n""}]",8,450480,96370f27ed6909c465fbded9c1cc9db87d3cc13a,29,4,6,6484,,,0,"Support post and list messages

Allow post and list messages with CLI so that user can easily verify
Zaqar's messaging functions with command line.

Change-Id: Ib1b82917cc67b604e0bf9d94a18763bc79de0f2b
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/80/450480/6 && git format-patch -1 --stdout FETCH_HEAD,['zaqarclient/queues/v2/cli.py'],1,7eb2b18682217923987f4f752209d6c163facfae,support_post_list_messages,"class PostMessages(command.Command): """"""Post messages for a given queue"""""" _description = _(""Post messages for a given queue"") log = logging.getLogger(__name__ + "".PostMessages"") def get_parser(self, prog_name): parser = super(PostMessages, self).get_parser(prog_name) parser.add_argument( ""queue_name"", metavar=""<queue_name>"", help=""Name of the queue"") parser.add_argument( ""messages"", metavar=""<messages>"", help=""Messages to be posted."") return parser def take_action(self, parsed_args): client = _get_client(self, parsed_args) queue = client.queue(parsed_args.queue_name) queue.post(parsed_args.messages) class ListMessages(command.Lister): """"""List all messages for a given queue"""""" _description = _(""List all messages for a given queue"") log = logging.getLogger(__name__ + "".ListMessages"") def get_parser(self, prog_name): parser = super(ListMessages, self).get_parser(prog_name) parser.add_argument( ""queue_name"", metavar=""<queue_name>"", help=""Name of the queue"") parser.add_argument( ""--message_ids"", metavar=""<message_ids>"", help=""List of messages' ids to retrieve"") parser.add_argument( ""--marker"", metavar=""<message_id>"", help=""Message's paging marker"") parser.add_argument( ""--limit"", metavar=""<limit>"", help=""Maximum number of messages to get"") parser.add_argument( ""--echo"", metavar=""<echo>"", help=""Whether to get our own messages"") parser.add_argument( ""--include_claimed"", metavar=""<include_claimed>"", help=""Whether to include claimed messages"") return parser def take_action(self, parsed_args): client = _get_client(self, parsed_args) kwargs = {} if parsed_args.marker is not None: kwargs[""marker""] = parsed_args.marker if parsed_args.limit is not None: kwargs[""limit""] = parsed_args.limit if parsed_args.echo is not None: kwargs[""echo""] = parsed_args.echo if parsed_args.include_claimed is not None: kwargs[""include_claimed""] = parsed_args.include_claimed queue = client.queue(parsed_args.queue_name) messages = queue.messages(parsed_args.message_ids, kwargs) columns = (""Body"", ""TTL"" ) return (columns, (utils.get_item_properties(s, columns) for s in messages)) ",,78,0
openstack%2Fopenstack-ansible-os_ironic~master~I67f64167914d6e3e9fddb57e5e38dc03757ae5c7,openstack/openstack-ansible-os_ironic,master,I67f64167914d6e3e9fddb57e5e38dc03757ae5c7,Configure Swift Endpoint Typei,MERGED,2017-04-03 14:47:23.000000000,2017-04-05 07:03:32.000000000,2017-04-05 07:03:32.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-03 14:47:23.000000000', 'files': ['templates/ironic.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/314d6c5658b7a0c141c1ad1243b2763af48a925f', 'message': 'Configure Swift Endpoint Typei\n\nUpdated the template for ironic.conf to enable configuration of\nthe swift url endpoint type within ironic.conf\n\nChange-Id: I67f64167914d6e3e9fddb57e5e38dc03757ae5c7\n'}]",0,452780,314d6c5658b7a0c141c1ad1243b2763af48a925f,7,3,1,24908,,,0,"Configure Swift Endpoint Typei

Updated the template for ironic.conf to enable configuration of
the swift url endpoint type within ironic.conf

Change-Id: I67f64167914d6e3e9fddb57e5e38dc03757ae5c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/80/452780/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ironic.conf.j2', 'defaults/main.yml']",2,314d6c5658b7a0c141c1ad1243b2763af48a925f,configure-swift-endpoint-type,ironic_swift_url_endpoint_type: swift,,2,1
openstack%2Fdiskimage-builder~master~I149c345d38d761a49b3a6ccc4833482f09f1cd05,openstack/diskimage-builder,master,I149c345d38d761a49b3a6ccc4833482f09f1cd05,Don't provide dib-run-parts,MERGED,2017-03-16 03:19:50.000000000,2017-04-05 07:01:29.000000000,2017-04-05 07:01:29.000000000,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 10035}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-03-16 03:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d3a95bb4dd76382af238cd74c18113e70da60777', 'message': 'Don\'t provide dib-run-parts\n\nSomething that wasn\'t quite fully considered when retiring dib-utils\nis what happens if dib-utils is still installed alongside\ndiskimage-builder, despite it not being in the requirements.txt.  Both\nare trying to provide dib-run-parts in /usr/local/bin.  This tacitly\nworks at the moment because they\'re both the same script right now,\nbut that might change.\n\ndib can call it\'s ""internal"" dib-run-parts directly from $_LIB and not\nhave it on the path at all.\n\nThe dib-run-parts element currently copies this script into the chroot\nenvironment.  Part of the reason for all this is potential for a\ndifferent dib-run-parts inside the chroot that doesn\'t rely on bash\n(for container type elements that only have busybox, or only python,\netc).  Add notes that while the scripts are currently the same, things\nmay change.\n\nSome tools, such as instack, have used dib-run-parts to drive running\ndib elements outside disk-image-create.  This has always been a bit\nrisky, because disk-image-create provides an ad-hoc environment setup\nthat elements rely on.  These tools have to make a best-effort guess\nat replicating disk-image-create\'s behaviour.  This will still work,\nbut I think we all agree longer term we\'d like to incorporate such a\nrunner into dib so we can test and support it properly.\n\nChange-Id: I149c345d38d761a49b3a6ccc4833482f09f1cd05\n'}, {'number': 2, 'created': '2017-03-16 03:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c4cc2d48bae4a1e11baf8efb8d15019abe9c13c6', 'message': 'Don\'t provide dib-run-parts\n\nSomething that wasn\'t quite fully considered when retiring dib-utils\nis what happens if dib-utils is still installed alongside\ndiskimage-builder, despite it not being in the requirements.txt.  Both\nare trying to provide dib-run-parts in /usr/local/bin.  This tacitly\nworks at the moment because they\'re both the same script right now,\nbut that might change.\n\ndib can call it\'s ""internal"" dib-run-parts directly from $_LIB and not\nhave it on the path at all.\n\nThe dib-run-parts element currently copies this script into the chroot\nenvironment.  Part of the reason for all this is potential for a\ndifferent dib-run-parts inside the chroot that doesn\'t rely on bash\n(for container type elements that only have busybox, or only python,\netc).  Add notes that while the scripts are currently the same, things\nmay change.\n\nSome tools, such as instack, have used dib-run-parts to drive running\ndib elements outside disk-image-create.  This has always been a bit\nrisky, because disk-image-create provides an ad-hoc environment setup\nthat elements rely on.  These tools have to make a best-effort guess\nat replicating disk-image-create\'s behaviour.  This will still work,\nbut I think we all agree longer term we\'d like to incorporate such a\nrunner into dib so we can test and support it properly.\n\nChange-Id: I149c345d38d761a49b3a6ccc4833482f09f1cd05\n'}, {'number': 3, 'created': '2017-03-17 01:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5a58830858f538734b733c8dd1ff42cb219948e1', 'message': ""Don't provide dib-run-parts\n\nIt was an oversight during v2 development for dib to start providing\ndib-run-parts.  The intention was for dib to use a vendored\ndib-run-parts directly from $_LIB and have no dependencies on\ndib-utils at all.  By exporting dib-run-parts, we created an\nunintentional conflict with the dib-utils package which provides the\nsame script.\n\nTools that depend on dib-utils are unaffected by this\n(os-refresh-config).\n\nThe only tool that installs diskimage-builder and then assumes\ndib-run-parts is available in the path is instack.  I have proposed\nIbfe972208df40fa092b11b5419043524c903f1b4 to modify that to use our\ninternal version.\n\nChange-Id: I149c345d38d761a49b3a6ccc4833482f09f1cd05\n""}, {'number': 4, 'created': '2017-04-05 03:11:41.000000000', 'files': ['diskimage_builder/dib_run_parts.py', 'releasenotes/notes/dib-run-parts-e18cc3a6c2d66c24.yaml', 'diskimage_builder/lib/common-functions', 'diskimage_builder/lib/dib-run-parts', 'diskimage_builder/elements/dib-run-parts/README.rst', 'setup.cfg', 'diskimage_builder/lib/img-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fd424757a64921a60b92837a625a23b8f681130a', 'message': ""Don't provide dib-run-parts\n\nIt was an oversight during v2 development for dib to start providing\ndib-run-parts.  The intention was for dib to use a vendored\ndib-run-parts directly from $_LIB and have no dependencies on\ndib-utils at all.  By exporting dib-run-parts, we created an\nunintentional conflict with the dib-utils package which provides the\nsame script.\n\nTools that depend on dib-utils are unaffected by this\n(os-refresh-config).\n\nThe only tool that installs diskimage-builder and then assumes\ndib-run-parts is available in the path is instack.  I have proposed\nIbfe972208df40fa092b11b5419043524c903f1b4 to modify that to use our\ninternal version.\n\nChange-Id: I149c345d38d761a49b3a6ccc4833482f09f1cd05\n""}]",0,446285,fd424757a64921a60b92837a625a23b8f681130a,26,4,4,7118,,,0,"Don't provide dib-run-parts

It was an oversight during v2 development for dib to start providing
dib-run-parts.  The intention was for dib to use a vendored
dib-run-parts directly from $_LIB and have no dependencies on
dib-utils at all.  By exporting dib-run-parts, we created an
unintentional conflict with the dib-utils package which provides the
same script.

Tools that depend on dib-utils are unaffected by this
(os-refresh-config).

The only tool that installs diskimage-builder and then assumes
dib-run-parts is available in the path is instack.  I have proposed
Ibfe972208df40fa092b11b5419043524c903f1b4 to modify that to use our
internal version.

Change-Id: I149c345d38d761a49b3a6ccc4833482f09f1cd05
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/85/446285/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/lib/common-functions', 'diskimage_builder/elements/dib-run-parts/README.rst', 'setup.cfg', 'diskimage_builder/lib/img-functions']",4,d3a95bb4dd76382af238cd74c18113e70da60777,bug/1673144, # NOTE: this is the dib-run-parts copied into the chroot by the # dib-run-parts element.,,13,4
openstack%2Fneutron~master~I3a85654afa48f997b96d008a860221dc733a991e,openstack/neutron,master,I3a85654afa48f997b96d008a860221dc733a991e,Remove unnecessary overrides in Subnetpool OVO,MERGED,2016-12-17 00:20:52.000000000,2017-04-05 06:58:47.000000000,2017-04-05 06:58:47.000000000,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1653}, {'_account_id': 6788}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14208}, {'_account_id': 15518}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 17292}, {'_account_id': 20246}, {'_account_id': 20330}, {'_account_id': 22776}]","[{'number': 1, 'created': '2016-12-17 00:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09ccf10aa7b6bad9544816545f72fe0aecdb9e9c', 'message': ""Remove unnecessary overrides in Subnetpool OVO\n\nThe implementation of Subnetpool OVO overrides get_object and\nobjects methods when it's not required. This patch removes doesn't\noverrided methods and modifies the overrided create and update\nmethods to standarize them.\n\nChange-Id: I3a85654afa48f997b96d008a860221dc733a991e\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 2, 'created': '2016-12-19 23:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/576d57b645c6b5a1c674d48b2417f723f541a343', 'message': ""Remove unnecessary overrides in Subnetpool OVO\n\nThe implementation of Subnetpool OVO overrides get_object and\nobjects methods when it's not required. This patch removes doesn't\noverrided methods and modifies the overrided create and update\nmethods to standarize them.\n\nChange-Id: I3a85654afa48f997b96d008a860221dc733a991e\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 3, 'created': '2017-02-08 14:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da4b3600355fe4a4f4f1ce03368f05c88a9332d2', 'message': ""Remove unnecessary overrides in Subnetpool OVO\n\nThe implementation of Subnetpool OVO overrides get_object and\nget_objects methods when it's not required. This patch removes\noverridden methods and modifies the overrided create and update\nmethods to standarize them.\n\nChange-Id: I3a85654afa48f997b96d008a860221dc733a991e\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 4, 'created': '2017-02-21 17:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b61167bc541d3dee7e6e8e5dfc82a50d1cc735f5', 'message': ""Remove unnecessary overrides in Subnetpool OVO\n\nThe implementation of Subnetpool OVO overrides get_object and\nget_objects methods when it's not required. This patch removes\noverridden methods and modifies the overrided create and update\nmethods to standarize them.\n\nChange-Id: I3a85654afa48f997b96d008a860221dc733a991e\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 5, 'created': '2017-03-06 20:59:18.000000000', 'files': ['neutron/objects/subnetpool.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52cc76b5a3a27630f2efe04717cb26662be33156', 'message': ""Remove unnecessary overrides in Subnetpool OVO\n\nThe implementation of Subnetpool OVO overrides get_object and\nget_objects methods when it's not required. This patch removes\noverridden methods and modifies the overrided create and update\nmethods to standarize them.\n\nChange-Id: I3a85654afa48f997b96d008a860221dc733a991e\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}]",15,412017,52cc76b5a3a27630f2efe04717cb26662be33156,80,20,5,8726,,,0,"Remove unnecessary overrides in Subnetpool OVO

The implementation of Subnetpool OVO overrides get_object and
get_objects methods when it's not required. This patch removes
overridden methods and modifies the overrided create and update
methods to standarize them.

Change-Id: I3a85654afa48f997b96d008a860221dc733a991e
Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/412017/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/subnetpool.py'],1,09ccf10aa7b6bad9544816545f72fe0aecdb9e9c,bp/adopt-oslo-versioned-objects-for-db," def from_db_object(self, db_obj): super(SubnetPool, self).from_db_object(db_obj) if db_obj.get('prefixes', []): self.prefixes = [ prefix.cidr for prefix in db_obj.prefixes else: self.prefixes = [] def _attach_prefixes(self, prefixes): SubnetPoolPrefix.delete_objects(self.obj_context, subnetpool_id=self.id) if prefixes: for prefix in prefixes: SubnetPoolPrefix(self.obj_context, subnetpool_id=self.id, cidr=prefix).create() self.prefixes = prefixes self.obj_reset_changes(['prefixes']) fields = self.obj_get_changes() with db_api.autonested_transaction(self.obj_context.session): prefixes = self.prefixes if prefixes is None: prefixes = [] if 'prefixes' in fields: self._attach_prefixes(prefixes) fields = self.obj_get_changes() with db_api.autonested_transaction(self.obj_context.session): if 'prefixes' in fields: self._attach_prefixes(fields['prefixes'])"," @classmethod def modify_fields_from_db(cls, db_obj): fields = super(SubnetPool, cls).modify_fields_from_db(db_obj) if 'prefixes' in fields: fields['prefixes'] = [ netaddr.IPNetwork(prefix.cidr) for prefix in fields['prefixes'] return fields @classmethod def modify_fields_to_db(cls, fields): result = super(SubnetPool, cls).modify_fields_to_db(fields) if 'prefixes' in result: result['prefixes'] = [ models.SubnetPoolPrefix(cidr=str(prefix), subnetpool_id=result['id']) for prefix in result['prefixes'] ] return result def reload_prefixes(self): prefixes = [ obj.cidr for obj in SubnetPoolPrefix.get_objects( self.obj_context, subnetpool_id=self.id) ] setattr(self, 'prefixes', prefixes) @classmethod def get_object(cls, context, **kwargs): with db_api.autonested_transaction(context.session): pool_obj = super(SubnetPool, cls).get_object(context, **kwargs) if pool_obj is not None: pool_obj.reload_prefixes() return pool_obj @classmethod def get_objects(cls, context, _pager=None, validate_filters=True, **kwargs): with db_api.autonested_transaction(context.session): objs = super(SubnetPool, cls).get_objects(context, _pager, validate_filters, **kwargs) for obj in objs: obj.reload_prefixes() return objs synthetic_changes = self._get_changed_synthetic_fields() with db_api.autonested_transaction(self.obj_context.session): if 'prefixes' in synthetic_changes: for prefix in self.prefixes: prefix = SubnetPoolPrefix( self.obj_context, subnetpool_id=self.id, cidr=prefix) prefix.create() self.reload_prefixes() with db_api.autonested_transaction(self.obj_context.session): synthetic_changes = self._get_changed_synthetic_fields() if synthetic_changes: if 'prefixes' in synthetic_changes: SubnetPoolPrefix.delete_objects(self.obj_context, subnetpool_id=self.id) for prefix in self.prefixes: prefix_obj = SubnetPoolPrefix(self.obj_context, subnetpool_id=self.id, cidr=prefix) prefix_obj.create()",26,63
openstack%2Ftempest~master~I401429c9a17b7eb30e1941cd9e2573441abe6a58,openstack/tempest,master,I401429c9a17b7eb30e1941cd9e2573441abe6a58,Reduce the time waiting for server ACTIVE,MERGED,2017-04-01 08:54:49.000000000,2017-04-05 06:58:39.000000000,2017-04-05 06:58:39.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 11075}]","[{'number': 1, 'created': '2017-04-01 08:54:49.000000000', 'files': ['tempest/api/compute/servers/test_list_server_filters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b8a367472707aa5e3ac3e7f327a142fbf356688', 'message': ""Reduce the time waiting for server ACTIVE\n\nIn ListServerFiltersTestJSON' resource_setup, 3 servers are\ncreated and we wait for them reaching ACTIVE one by one.\nThis is to optimize the waiting time.\n\nChange-Id: I401429c9a17b7eb30e1941cd9e2573441abe6a58\n""}]",2,452419,9b8a367472707aa5e3ac3e7f327a142fbf356688,16,5,1,20190,,,0,"Reduce the time waiting for server ACTIVE

In ListServerFiltersTestJSON' resource_setup, 3 servers are
created and we wait for them reaching ACTIVE one by one.
This is to optimize the waiting time.

Change-Id: I401429c9a17b7eb30e1941cd9e2573441abe6a58
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/452419/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_list_server_filters.py'],1,9b8a367472707aa5e3ac3e7f327a142fbf356688,not_wait_active," cls.s1 = cls.create_test_server(name=cls.s1_name, **network_kwargs) name=cls.s2_name, image_id=cls.image_ref_alt or cls.image_ref) waiters.wait_for_server_status(cls.client, cls.s1['id'], 'ACTIVE') waiters.wait_for_server_status(cls.client, cls.s2['id'], 'ACTIVE') "," cls.s1 = cls.create_test_server(name=cls.s1_name, wait_until='ACTIVE', **network_kwargs) name=cls.s2_name, image_id=cls.image_ref_alt or cls.image_ref, wait_until='ACTIVE')",7,5
openstack%2Fopenstack-manuals~master~I2c7a9e0f0b563b1f0460d22745f224dfe542287e,openstack/openstack-manuals,master,I2c7a9e0f0b563b1f0460d22745f224dfe542287e,Fix horizon/keystone default domain instructions,MERGED,2017-04-04 09:08:11.000000000,2017-04-05 06:57:53.000000000,2017-04-05 06:56:55.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10897}, {'_account_id': 12686}]","[{'number': 1, 'created': '2017-04-04 09:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/935ae05c6a2d706444958fe005817d7b33d9c91a', 'message': ""Fix horizon/keystone default domain instructions\n\nHorizon requires the OPENSTACK_KEYSTONE_DEFAULT_DOMAIN value to be the name of\nthe default domain, not the ID[1]. The name of the default keystone domain is\n'Default', not 'default', which is its ID. This patch updates the horizon\ninstall guide to demonstrate the correct default value.\n\n[1] https://review.openstack.org/#/c/389679/\n\nChange-Id: I2c7a9e0f0b563b1f0460d22745f224dfe542287e\n""}, {'number': 2, 'created': '2017-04-05 06:04:22.000000000', 'files': ['doc/install-guide/source/horizon-install.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bda3ea8a5e0b006ac477e1ac8235117b71312511', 'message': ""Fix horizon/keystone default domain instructions\n\nHorizon requires the OPENSTACK_KEYSTONE_DEFAULT_DOMAIN value to be the name of\nthe default domain, not the ID[1]. The name of the default keystone domain is\n'Default', not 'default', which is its ID. This patch updates the horizon\ninstall guide to demonstrate the correct default value.\n\n[1] https://review.openstack.org/#/c/389679/\n\nbackport: ocata\nChange-Id: I2c7a9e0f0b563b1f0460d22745f224dfe542287e\n""}]",0,453071,bda3ea8a5e0b006ac477e1ac8235117b71312511,12,4,2,8482,,,0,"Fix horizon/keystone default domain instructions

Horizon requires the OPENSTACK_KEYSTONE_DEFAULT_DOMAIN value to be the name of
the default domain, not the ID[1]. The name of the default keystone domain is
'Default', not 'default', which is its ID. This patch updates the horizon
install guide to demonstrate the correct default value.

[1] https://review.openstack.org/#/c/389679/

backport: ocata
Change-Id: I2c7a9e0f0b563b1f0460d22745f224dfe542287e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/71/453071/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/horizon-install.rst'],1,935ae05c6a2d706444958fe005817d7b33d9c91a,fix_horizon_install," * Configure ``Default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""Default"" * Configure ``Default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""Default"" * Configure ``Default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""Default"""," * Configure ``default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""default"" * Configure ``default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""default"" * Configure ``default`` as the default domain for users that you create OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = ""default""",6,6
openstack%2Fopenstack-manuals~master~I3984030783aeacac41c81eadc271d7359c700c03,openstack/openstack-manuals,master,I3984030783aeacac41c81eadc271d7359c700c03,Add murano Install Guide,MERGED,2017-03-31 05:11:24.000000000,2017-04-05 06:56:49.000000000,2017-04-05 06:56:49.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 14107}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-03-31 05:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6eaf659bd766352857f1dfc352f2e6722491ed4e', 'message': ""Add murano Install Guide\n\nDue to Suse and CentOS support wasn't thoroughly tested,\nThis time only adds to ubuntu distribution.\n\nChange-Id: I3984030783aeacac41c81eadc271d7359c700c03\nDepends-On: I65782b8f286a31a460bb7e6078471a069e70f88c\n""}, {'number': 2, 'created': '2017-04-01 01:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ce851a7a71b0171aa2c48fc443969679ec58cafe', 'message': ""Add murano Install Guide\n\nDue to Suse and CentOS support wasn't thoroughly tested,\nThis time only adds to ubuntu distribution.\n\nChange-Id: I3984030783aeacac41c81eadc271d7359c700c03\nDepends-On: I65782b8f286a31a460bb7e6078471a069e70f88c\n""}, {'number': 3, 'created': '2017-04-01 01:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e79851063617a4ff215908565d5a32a343c67cb4', 'message': ""Add murano Install Guide\n\nDue to Suse and CentOS support wasn't thoroughly tested,\nThis time only adds to ubuntu distribution.\n\nChange-Id: I3984030783aeacac41c81eadc271d7359c700c03\nDepends-On: I2ffd6454377bf5396ac04627764072b08dc66701\n""}, {'number': 4, 'created': '2017-04-05 02:06:11.000000000', 'files': ['www/project-install-guide/draft/ubuntu-services.html', 'doc/install-guide/source/additional-services.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6b1a4e165d7f73f1fe155cafc10806a9a5a2128e', 'message': ""Add murano Install Guide\n\nDue to Suse and CentOS support wasn't thoroughly tested,\nThis time only adds to ubuntu distribution.\n\nChange-Id: I3984030783aeacac41c81eadc271d7359c700c03\nDepends-On: I2ffd6454377bf5396ac04627764072b08dc66701\n""}]",1,452042,6b1a4e165d7f73f1fe155cafc10806a9a5a2128e,20,4,4,14107,,,0,"Add murano Install Guide

Due to Suse and CentOS support wasn't thoroughly tested,
This time only adds to ubuntu distribution.

Change-Id: I3984030783aeacac41c81eadc271d7359c700c03
Depends-On: I2ffd6454377bf5396ac04627764072b08dc66701
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/42/452042/4 && git format-patch -1 --stdout FETCH_HEAD,"['www/project-install-guide/ocata/ubuntu-services.html', 'www/project-install-guide/draft/ubuntu-services.html', 'doc/install-guide/source/additional-services.rst']",3,6eaf659bd766352857f1dfc352f2e6722491ed4e,, Application Catalog service (murano) ==================================== The Application Catalog service (murano) combines an application catalog with versatile tooling to simplify and accelerate packaging and deployment. Installation and configuration is documented in the `Application Catalog installation guide <https://docs.openstack.org/project-install-guide/application-catalog/draft/>`_.,,14,0
openstack%2Fopenstack-ansible-os_neutron~master~I48c0ffb8f95b30fabcdeba0c740bc2e737960c6f,openstack/openstack-ansible-os_neutron,master,I48c0ffb8f95b30fabcdeba0c740bc2e737960c6f,Remove lxc_container_bind_mounts in test group_vars,MERGED,2017-04-04 17:17:54.000000000,2017-04-05 06:55:15.000000000,2017-04-05 06:55:15.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 10881}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-04 17:17:54.000000000', 'files': ['tests/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f4b17afd216fc8e9bde9d4d0f29abd24fcfd248c', 'message': ""Remove lxc_container_bind_mounts in test group_vars\n\nThe value set in this var is already set as part of\nlxc_container_default_bind_mounts in the tests repo\ntest-vars.yml so it's redundant.\n\nChange-Id: I48c0ffb8f95b30fabcdeba0c740bc2e737960c6f\n""}]",0,453269,f4b17afd216fc8e9bde9d4d0f29abd24fcfd248c,8,4,1,6816,,,0,"Remove lxc_container_bind_mounts in test group_vars

The value set in this var is already set as part of
lxc_container_default_bind_mounts in the tests repo
test-vars.yml so it's redundant.

Change-Id: I48c0ffb8f95b30fabcdeba0c740bc2e737960c6f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/69/453269/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/group_vars/all_containers.yml'],1,f4b17afd216fc8e9bde9d4d0f29abd24fcfd248c,,,"lxc_container_bind_mounts: - host_directory: ""/openstack/log/{{ inventory_hostname }}"" container_directory: ""/var/log""",0,3
openstack%2Ftripleo-heat-templates~master~Ie677091d1f1de0313edbd6bec8c8671d7c58c00a,openstack/tripleo-heat-templates,master,Ie677091d1f1de0313edbd6bec8c8671d7c58c00a,Remove kolla_config sections from nova services.,ABANDONED,2017-03-20 21:31:02.000000000,2017-04-05 06:54:23.000000000,,"[{'_account_id': 3}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-20 21:31:02.000000000', 'files': ['docker/services/nova-ironic.yaml', 'docker/services/nova-placement.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/nova-api.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/344da7b1a4213384339b911b0636fbd359230dc1', 'message': ""Remove kolla_config sections from nova services.\n\nWe're moving to using volumes for configuration data.  Don't need\nthe kolla_config sections for these services.\n\nChange-Id: Ie677091d1f1de0313edbd6bec8c8671d7c58c00a\n""}]",0,447700,344da7b1a4213384339b911b0636fbd359230dc1,6,2,1,2011,,,0,"Remove kolla_config sections from nova services.

We're moving to using volumes for configuration data.  Don't need
the kolla_config sections for these services.

Change-Id: Ie677091d1f1de0313edbd6bec8c8671d7c58c00a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/447700/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-ironic.yaml', 'docker/services/nova-placement.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/nova-metadata.yaml', 'docker/services/nova-api.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/nova-compute.yaml', 'docker/services/nova-libvirt.yaml']",8,344da7b1a4213384339b911b0636fbd359230dc1,pep8, command: /usr/sbin/libvirtd --config /etc/libvirt/libvirtd.conf volumes: - /var/lib/config-data/nova_libvirt/etc/libvirt:/etc/libvirt:ro, kolla_config: /var/lib/kolla/config_files/nova-libvirt.json: command: /usr/sbin/libvirtd --config /etc/libvirt/libvirtd.conf config_files: - dest: /etc/libvirt/libvirtd.conf owner: root perm: '0644' source: /var/lib/kolla/config_files/src/etc/libvirt/libvirtd.conf volumes: - /var/lib/kolla/config_files/nova-libvirt.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/nova_libvirt:/var/lib/kolla/config_files/src:ro environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS,16,114
openstack%2Ftripleo-heat-templates~master~I2d04d862b2aff4ce137b088d45e87ab987ccd979,openstack/tripleo-heat-templates,master,I2d04d862b2aff4ce137b088d45e87ab987ccd979,Remove Kolla config copy in glance-api.,ABANDONED,2017-03-09 21:19:11.000000000,2017-04-05 06:54:10.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 2011}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-09 21:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28658be4ecc06e7f9fab8da3d5e4aa6d592bba60', 'message': ""Remove Kolla config copy in glance-api.\n\nWe're moving away from using kolla config copying.  This mounts the\nconfiguration volume directly for the glance api service.\n\nChange-Id: I2d04d862b2aff4ce137b088d45e87ab987ccd979\n""}, {'number': 2, 'created': '2017-03-20 19:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cef207bb56af173fef37f2ef3ae26ebaac575636', 'message': ""Remove Kolla config copy in glance-api.\n\nWe're moving away from using kolla config copying.  This mounts the\nconfiguration volume directly for the glance api service.\n\nChange-Id: I2d04d862b2aff4ce137b088d45e87ab987ccd979\n""}, {'number': 3, 'created': '2017-03-20 21:16:52.000000000', 'files': ['docker/services/glance-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f4adddb600fe7a5b6f10fc82f30470339121305', 'message': ""Remove Kolla config copy in glance-api.\n\nWe're moving away from using kolla config copying.  This mounts the\nconfiguration volume directly for the glance api service.\n\nChange-Id: I2d04d862b2aff4ce137b088d45e87ab987ccd979\n""}]",2,443967,1f4adddb600fe7a5b6f10fc82f30470339121305,13,4,3,2011,,,0,"Remove Kolla config copy in glance-api.

We're moving away from using kolla config copying.  This mounts the
configuration volume directly for the glance api service.

Change-Id: I2d04d862b2aff4ce137b088d45e87ab987ccd979
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/443967/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/glance-api.yaml'],1,28658be4ecc06e7f9fab8da3d5e4aa6d592bba60,pep8, - /var/lib/config-data/glance_api/etc/glance:/etc/glance, config_files: - dest: /etc/glance/glance-api.conf owner: glance perm: '0600' source: /var/lib/kolla/config_files/src/etc/glance/glance-api.conf - dest: /etc/glance/glance-swift.conf owner: glance perm: '0600' source: /var/lib/kolla/config_files/src/etc/glance/glance-swift.conf - /var/lib/config-data/glance_api/:/var/lib/kolla/config_files/src:ro,1,10
openstack%2Ftripleo-heat-templates~master~Ia86e4f807b74dd5ebd09f7605da8fb5aea7ca0ca,openstack/tripleo-heat-templates,master,Ia86e4f807b74dd5ebd09f7605da8fb5aea7ca0ca,Remove kolla config files from ironic.,ABANDONED,2017-03-14 18:53:12.000000000,2017-04-05 06:53:51.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-14 18:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca549bfd24fc7a989a16ebdd18246e4ab12a7fc5', 'message': ""Remove kolla start from ironic.\n\nWe shouldn't need the kolla start shell scripts here.  Puppet\nconfigures the services properly.\n\nChange-Id: Ia86e4f807b74dd5ebd09f7605da8fb5aea7ca0ca\n""}, {'number': 2, 'created': '2017-03-20 21:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/718adc98e619bbadea5a89511fcb27882fbb54a7', 'message': ""Remove kolla start from ironic.\n\nWe shouldn't need the kolla start shell scripts here.  Puppet\nconfigures the services properly.\n\nChange-Id: Ia86e4f807b74dd5ebd09f7605da8fb5aea7ca0ca\n""}, {'number': 3, 'created': '2017-03-24 20:50:25.000000000', 'files': ['docker/services/ironic-conductor.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/ironic-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3679c3442b8977a33ba699e333f03a98555feace', 'message': 'Remove kolla config files from ironic.\n\nMount in config files for ironic.  Puppet configures the services\nproperly.\n\nChange-Id: Ia86e4f807b74dd5ebd09f7605da8fb5aea7ca0ca\n'}]",2,445620,3679c3442b8977a33ba699e333f03a98555feace,14,3,3,2011,,,0,"Remove kolla config files from ironic.

Mount in config files for ironic.  Puppet configures the services
properly.

Change-Id: Ia86e4f807b74dd5ebd09f7605da8fb5aea7ca0ca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/445620/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/ironic-conductor.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/ironic-api.yaml']",3,ca549bfd24fc7a989a16ebdd18246e4ab12a7fc5,pep8, command: /usr/bin/ironic-api volumes: - /var/lib/config-data/ironic/etc/:/etc/:ro, kolla_config: /var/lib/kolla/config_files/ironic_api.json: command: /usr/bin/ironic-api config_files: - dest: /etc/ironic/ironic.conf owner: ironic perm: '0640' source: /var/lib/kolla/config_files/src/etc/ironic/ironic.conf environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS volumes: - /var/lib/kolla/config_files/ironic_api.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/ironic/:/var/lib/kolla/config_files/src:ro environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS,24,88
openstack%2Ftripleo-heat-templates~master~I098b8b93b881dd447ff14d7dfc6913055deaa768,openstack/tripleo-heat-templates,master,I098b8b93b881dd447ff14d7dfc6913055deaa768,Remove kolla config entries from heat services.,ABANDONED,2017-03-09 21:52:16.000000000,2017-04-05 06:52:55.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 2011}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-09 21:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f68c9db346d1d3caf1218db85b58ff5be7f900a5', 'message': ""Remove kolla config from heat services.\n\nWe don't need to use the kolla entry points because we are configuring\nthe services with puppet.\n\nChange-Id: I098b8b93b881dd447ff14d7dfc6913055deaa768\n""}, {'number': 2, 'created': '2017-03-14 15:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ec6197ffc4f3852f93c2c58a03d57a56be95356', 'message': ""Remove kolla config from heat services.\n\nWe don't need to use the kolla entry points because we are configuring\nthe services with puppet.\n\nChange-Id: I098b8b93b881dd447ff14d7dfc6913055deaa768\n""}, {'number': 3, 'created': '2017-03-14 20:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b09734b92b7ac2fa529f724d896aebb151d5696', 'message': ""Remove kolla config from heat services.\n\nWe don't need to use the kolla entry points because we are configuring\nthe services with puppet.\n\nChange-Id: I098b8b93b881dd447ff14d7dfc6913055deaa768\n""}, {'number': 4, 'created': '2017-03-20 21:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c54dee521cbc9297e287dd312e569f9ed05e180', 'message': ""Remove kolla config from heat services.\n\nWe don't need to use the kolla entry points because we are configuring\nthe services with puppet.\n\nChange-Id: I098b8b93b881dd447ff14d7dfc6913055deaa768\n""}, {'number': 5, 'created': '2017-03-24 21:21:06.000000000', 'files': ['docker/services/heat-api.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/heat-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce004edec90dca2909eec1c08d7fbb61cffe972c', 'message': ""Remove kolla config entries from heat services.\n\nWe don't need to use the kolla config copy as puppet configures\nthe service with proper ownership etc.\n\nChange-Id: I098b8b93b881dd447ff14d7dfc6913055deaa768\n""}]",6,443974,ce004edec90dca2909eec1c08d7fbb61cffe972c,35,8,5,2011,,,0,"Remove kolla config entries from heat services.

We don't need to use the kolla config copy as puppet configures
the service with proper ownership etc.

Change-Id: I098b8b93b881dd447ff14d7dfc6913055deaa768
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/443974/5 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/heat-api.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/heat-engine.yaml']",3,f68c9db346d1d3caf1218db85b58ff5be7f900a5,heat, command: - '/usr/bin/heat-engine' - '--config-file' - '/usr/share/heat/heat-dist.conf' - '--config-file' - '/etc/heat/heat.conf' - /var/lib/config-data/heat/etc/heat:/etc/heat:ro, kolla_config: /var/lib/kolla/config_files/heat_engine.json: command: /usr/bin/heat-engine --config-file /usr/share/heat/heat-dist.conf --config-file /etc/heat/heat.conf config_files: - dest: /etc/heat/heat.conf owner: heat perm: '0640' source: /var/lib/kolla/config_files/src/etc/heat/heat.conf - /var/lib/kolla/config_files/heat_engine.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/heat/:/var/lib/kolla/config_files/src:ro environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS,21,36
openstack%2Fironic~master~I6cd163e7cbe2b075f91f16d6a7965b674ce8e2a4,openstack/ironic,master,I6cd163e7cbe2b075f91f16d6a7965b674ce8e2a4,"Revert ""[Devstack] Rework VMs connection logic""",MERGED,2017-04-04 19:14:55.000000000,2017-04-05 06:52:31.000000000,2017-04-04 23:04:18.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10343}, {'_account_id': 10379}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14525}, {'_account_id': 14760}, {'_account_id': 23883}]","[{'number': 1, 'created': '2017-04-04 19:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfc6ffc2a89ae34b49b6be2fd687f0f1eba4f070', 'message': 'Revert ""[Devstack] Rework VMs connection logic""\n\nThis reverts commit 4ec88c9b8acb1229c30bb39cb5b92bb3131da6d2.\n\nThe commit changed the port creation logic with the change of the variable creation/handling such that the ports are only created in devstack scenarios, thus breaking third party CI running on baremetal.\n\nChange-Id: I6cd163e7cbe2b075f91f16d6a7965b674ce8e2a4\n'}, {'number': 2, 'created': '2017-04-04 19:16:30.000000000', 'files': ['devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'devstack/tools/ironic/scripts/configure-vm.py', 'devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d756d064c5469b3670627f9560b75466a7b2084a', 'message': 'Revert ""[Devstack] Rework VMs connection logic""\n\nThis reverts commit 4ec88c9b8acb1229c30bb39cb5b92bb3131da6d2.\n\nThe commit changed the port creation logic with the change\nof the variable creation/handling such that the ports are only\ncreated in devstack scenarios, thus breaking third party CI\nrunning on baremetal.\n\nChange-Id: I6cd163e7cbe2b075f91f16d6a7965b674ce8e2a4\n'}]",0,453300,d756d064c5469b3670627f9560b75466a7b2084a,16,9,2,11655,,,0,"Revert ""[Devstack] Rework VMs connection logic""

This reverts commit 4ec88c9b8acb1229c30bb39cb5b92bb3131da6d2.

The commit changed the port creation logic with the change
of the variable creation/handling such that the ports are only
created in devstack scenarios, thus breaking third party CI
running on baremetal.

Change-Id: I6cd163e7cbe2b075f91f16d6a7965b674ce8e2a4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/453300/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'devstack/tools/ironic/templates/vm.xml', 'devstack/tools/ironic/scripts/configure-vm.py', 'devstack/tools/ironic/scripts/create-node.sh']",4,cfc6ffc2a89ae34b49b6be2fd687f0f1eba4f070,(HEAD,"while getopts ""n:c:m:d:a:b:e:E:p:o:f:l:L:N:"" arg; do sudo brctl addbr br-$NAME sudo ip link set br-$NAME up sudo ovs-vsctl add-port $BRIDGE ovs-$NAME -- set Interface ovs-$NAME type=internal sudo ip link set ovs-$NAME up sudo brctl addif br-$NAME ovs-$NAME --bridge br-$NAME --disk-format $DISK_FORMAT $VM_LOGGING --engine $ENGINE $UEFI_OPTS $vm_opts >&2# echo mac VM_MAC=$(virsh dumpxml $NAME | grep ""mac address"" | head -1 | cut -d\' -f2) switch_id=$(ip link show dev $BRIDGE | egrep -o ""ether [A-Za-z0-9:]+""|sed ""s/ether\ //"") echo $VM_MAC $VBMC_PORT $PDU_OUTLET $BRIDGE $switch_id ovs-$NAME","while getopts ""n:c:i:m:M:d:a:b:e:E:p:o:f:l:L:N:"" arg; do i) INTERFACE_COUNT=$OPTARG;; M) INTERFACE_MTU=$OPTARG;;INTERFACE_COUNT=${INTERFACE_COUNT:-1} for int in $(seq 1 $INTERFACE_COUNT); do tapif=tap-${NAME}i${int} sudo ip tuntap add dev $tapif mode tap sudo ip link set $tapif mtu $INTERFACE_MTU sudo ip link set $tapif up sudo ovs-vsctl add-port $BRIDGE $tapif done --disk-format $DISK_FORMAT $VM_LOGGING --engine $ENGINE $UEFI_OPTS $vm_opts \ --interface-count $INTERFACE_COUNT >&2# echo mac in format mac1,ovs-node-0i1;mac2,ovs-node-0i2;...;macN,ovs-node0iN VM_MAC=$(echo -n $(virsh domiflist $NAME |awk '/tap-/{print $5"",""$1}')|tr ' ' ';') echo -n ""$VM_MAC $VBMC_PORT $PDU_OUTLET""",34,75
openstack%2Fneutron~stable%2Fnewton~Ibc1094ef22a77403b7992cf896ac77a12f77a308,openstack/neutron,stable/newton,Ibc1094ef22a77403b7992cf896ac77a12f77a308,"Revert ""Protect against non-determinstic sort""",ABANDONED,2017-04-05 06:48:01.000000000,2017-04-05 06:52:30.000000000,,"[{'_account_id': 3}, {'_account_id': 14571}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-04-05 06:48:01.000000000', 'files': ['neutron/db/common_db_mixin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa565c379c615bc13a44a780baded829e5f1034a', 'message': 'Revert ""Protect against non-determinstic sort""\n\nThis reverts commit 2cf518554d23527e63ea64cf1e73fd7aa0aed6ba.\n\nSee master commit for why. [1]\n\n[1] I6c32949d789f25d877d329ef0ae9d8650cb81acf\n\nChange-Id: Ibc1094ef22a77403b7992cf896ac77a12f77a308\n'}]",0,453485,fa565c379c615bc13a44a780baded829e5f1034a,4,3,1,6854,,,0,"Revert ""Protect against non-determinstic sort""

This reverts commit 2cf518554d23527e63ea64cf1e73fd7aa0aed6ba.

See master commit for why. [1]

[1] I6c32949d789f25d877d329ef0ae9d8650cb81acf

Change-Id: Ibc1094ef22a77403b7992cf896ac77a12f77a308
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/453485/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/common_db_mixin.py'],1,fa565c379c615bc13a44a780baded829e5f1034a,bug/1656947,," if limit: # we always want deterministic results for limit subqueries # so add unique keys to limit queries when present. # (http://docs.sqlalchemy.org/en/latest/orm/ # loading_relationships.html#subqueryload-ordering) # (http://docs.sqlalchemy.org/en/latest/faq/ # ormconfiguration.html#faq-subqueryload-limit-sort) for k in self._unique_keys(model, marker_obj): if k not in sort_keys: sort_keys.append(k) sort_dirs.append('asc') def _unique_keys(self, model, marker_obj): # just grab first set of unique keys and use them. # if model has no unqiue sets, 'paginate_query' will # warn if sorting is unstable uk_sets = sa_utils._get_unique_keys(model) for kset in uk_sets: for k in kset: if marker_obj and isinstance(getattr(marker_obj, k), bool): # TODO(kevinbenton): workaround for bug/1656947. # we can't use boolean cols until that bug is fixed. return # first entry in uk_sets once that bug is resolved break else: return kset return [] ",0,27
openstack%2Ffuel-qa~master~I4ddcba69018238001df9b00b9e4174de3a9840c9,openstack/fuel-qa,master,I4ddcba69018238001df9b00b9e4174de3a9840c9,[ceph] Change radosgw frontend port,MERGED,2017-03-28 08:46:36.000000000,2017-04-05 06:50:57.000000000,2017-04-05 06:50:57.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2017-03-28 08:46:36.000000000', 'files': ['fuelweb_test/tests/test_ceph.py', 'fuelweb_test/tests/test_net_templates_base.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/152f029f38d53382b54ae4e0f2ee58ec48530fef', 'message': '[ceph] Change radosgw frontend port\n\nSet radosgw listen port to default\nvalue of built-in frontend.\n\nChange-Id: I4ddcba69018238001df9b00b9e4174de3a9840c9\nRelated-Bug: #1674917\n'}]",0,450638,152f029f38d53382b54ae4e0f2ee58ec48530fef,10,5,1,16771,,,0,"[ceph] Change radosgw frontend port

Set radosgw listen port to default
value of built-in frontend.

Change-Id: I4ddcba69018238001df9b00b9e4174de3a9840c9
Related-Bug: #1674917
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/38/450638/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/tests/test_ceph.py', 'fuelweb_test/tests/test_net_templates_base.py']",2,152f029f38d53382b54ae4e0f2ee58ec48530fef,bug/1674917," 'tcp_ports': [7480],"," 'tcp_ports': [6780],",3,3
openstack%2Ffuel-qa~stable%2Fmitaka~I4e400b682d4cc69b994cb06d0cf12b27e0f6fff2,openstack/fuel-qa,stable/mitaka,I4e400b682d4cc69b994cb06d0cf12b27e0f6fff2,Rework nailgun restarting spike,MERGED,2017-01-26 07:34:20.000000000,2017-04-05 06:49:29.000000000,2017-04-05 06:49:29.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2017-01-26 07:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0cae201d7584b01ee7d4e1bedc56ad7f09917f84', 'message': ""Rework nailgun restarting spike\n\nPrevious 502 error right after nailgun restart was uWSGI response\nfor request to not fully started nailgun, so previous sleep(10) solution\nactually fixes the issue allowing nailgun to start properly.\nBut sleep(10) is not good solution at all in production so\nlets use fuel's built-in client that can wait untill nailgun service\nwill response good data instead of returning 5xx errors.\n\nChange-Id: I4e400b682d4cc69b994cb06d0cf12b27e0f6fff2\n""}, {'number': 2, 'created': '2017-01-26 07:35:32.000000000', 'files': ['fuelweb_test/helpers/fuel_actions.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/1cca02616323dd54bf1cc97107cb4344fffbf86e', 'message': ""Rework nailgun restarting spike\n\nPrevious 502 error right after nailgun restart was uWSGI response\nfor request to not fully started nailgun, so previous sleep(10) solution\nactually fixes the issue allowing nailgun to start properly.\nBut sleep(10) is not good solution at all in production so\nlets use fuel's built-in client that can wait untill nailgun service\nwill response good data instead of returning 5xx errors.\n\nChange-Id: I4e400b682d4cc69b994cb06d0cf12b27e0f6fff2\n""}]",0,425564,1cca02616323dd54bf1cc97107cb4344fffbf86e,13,4,2,15984,,,0,"Rework nailgun restarting spike

Previous 502 error right after nailgun restart was uWSGI response
for request to not fully started nailgun, so previous sleep(10) solution
actually fixes the issue allowing nailgun to start properly.
But sleep(10) is not good solution at all in production so
lets use fuel's built-in client that can wait untill nailgun service
will response good data instead of returning 5xx errors.

Change-Id: I4e400b682d4cc69b994cb06d0cf12b27e0f6fff2
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/64/425564/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/helpers/fuel_actions.py'],1,0cae201d7584b01ee7d4e1bedc56ad7f09917f84,,"import loggingfrom devops.helpers.helpers import wait_passfrom core.helpers.log_helpers import QuietLogger # let uWSGI start nailgun properly - service readiness does not # mean that it was started completely inside uwsgi # fuel-client itself can handle this scenario so we can just run any # ""fuel %action%"" command and wait until it completed # also this small check will indicate that # nailgun was started correctly self.ssh_manager.check_call(ip=self.admin_ip, command=""fuel release"")", # TODO(vkhlyunev): REWORK NAILGUN RESTART # if nailgun service is restarted fuel-qa's keystone session does not # know about it and tries to reuse tcp session which is closed on # fuel side. We should restart it properly but right now # lets give it to tcp keep-alive mechanism import time time.sleep(10),10,8
openstack%2Fneutron~stable%2Fnewton~I503c65560d970427be93b39898f4e7acfc4d3e1f,openstack/neutron,stable/newton,I503c65560d970427be93b39898f4e7acfc4d3e1f,Protect against non-determinstic sort,MERGED,2017-03-23 10:46:20.000000000,2017-04-05 06:48:01.000000000,2017-03-28 01:05:20.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 14571}, {'_account_id': 14611}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-23 10:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/654de007a6b3c75d8e28f3ba918782e42b013918', 'message': 'Protect against non-determinstic sort\n\nThis reverts commit e74b45d0eb923129902f1926aaddb51e6e2b8085.\n\nThis re-adds the non-deterministic sort logic but avoids using\nboolean columns to work around the related bug.\n\nOriginal commit msg:\n\nWith the switch to subquery loading, we need to eliminate the\npossibility for non-deterministic results in the event of LIMIT\nqueries caused by non-unique SORT BY parameters.\n\nThis always adds on a set of unique keys to sort by when sorting\nparams are present. By placing them at the end, they take the lower\npriority over the user-provided sort strings.\n\n1. http://docs.sqlalchemy.org/en/latest/orm/loading_relationships.html#subqueryload-ordering\n2. http://docs.sqlalchemy.org/en/latest/faq/ormconfiguration.html#faq-subqueryload-limit-sort\n\nRelated-Bug: #1656947\nChange-Id: I503c65560d970427be93b39898f4e7acfc4d3e1f\n(cherry picked from commit 393a3bd94724284c8f567fbfcd418859e5fc73c4)\n'}, {'number': 2, 'created': '2017-03-27 08:56:45.000000000', 'files': ['neutron/db/common_db_mixin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cf518554d23527e63ea64cf1e73fd7aa0aed6ba', 'message': 'Protect against non-determinstic sort\n\nThis reverts commit e74b45d0eb923129902f1926aaddb51e6e2b8085.\n\nThis re-adds the non-deterministic sort logic but avoids using\nboolean columns to work around the related bug.\n\nOriginal commit msg:\n\nWith the switch to subquery loading, we need to eliminate the\npossibility for non-deterministic results in the event of LIMIT\nqueries caused by non-unique SORT BY parameters.\n\nThis always adds on a set of unique keys to sort by when sorting\nparams are present. By placing them at the end, they take the lower\npriority over the user-provided sort strings.\n\n1. http://docs.sqlalchemy.org/en/latest/orm/loading_relationships.html#subqueryload-ordering\n2. http://docs.sqlalchemy.org/en/latest/faq/ormconfiguration.html#faq-subqueryload-limit-sort\n\nRelated-Bug: #1656947\nChange-Id: I503c65560d970427be93b39898f4e7acfc4d3e1f\n(cherry picked from commit 393a3bd94724284c8f567fbfcd418859e5fc73c4)\n'}]",0,449058,2cf518554d23527e63ea64cf1e73fd7aa0aed6ba,18,8,2,23804,,,0,"Protect against non-determinstic sort

This reverts commit e74b45d0eb923129902f1926aaddb51e6e2b8085.

This re-adds the non-deterministic sort logic but avoids using
boolean columns to work around the related bug.

Original commit msg:

With the switch to subquery loading, we need to eliminate the
possibility for non-deterministic results in the event of LIMIT
queries caused by non-unique SORT BY parameters.

This always adds on a set of unique keys to sort by when sorting
params are present. By placing them at the end, they take the lower
priority over the user-provided sort strings.

1. http://docs.sqlalchemy.org/en/latest/orm/loading_relationships.html#subqueryload-ordering
2. http://docs.sqlalchemy.org/en/latest/faq/ormconfiguration.html#faq-subqueryload-limit-sort

Related-Bug: #1656947
Change-Id: I503c65560d970427be93b39898f4e7acfc4d3e1f
(cherry picked from commit 393a3bd94724284c8f567fbfcd418859e5fc73c4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/449058/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/common_db_mixin.py'],1,654de007a6b3c75d8e28f3ba918782e42b013918,bug/1656947," if limit: # we always want deterministic results for limit subqueries # so add unique keys to limit queries when present. # (http://docs.sqlalchemy.org/en/latest/orm/ # loading_relationships.html#subqueryload-ordering) # (http://docs.sqlalchemy.org/en/latest/faq/ # ormconfiguration.html#faq-subqueryload-limit-sort) for k in self._unique_keys(model, marker_obj): if k not in sort_keys: sort_keys.append(k) sort_dirs.append('asc') def _unique_keys(self, model, marker_obj): # just grab first set of unique keys and use them. # if model has no unqiue sets, 'paginate_query' will # warn if sorting is unstable uk_sets = sa_utils.get_unique_keys(model) for kset in uk_sets: for k in kset: if marker_obj and isinstance(getattr(marker_obj, k), bool): # TODO(kevinbenton): workaround for bug/1656947. # we can't use boolean cols until that bug is fixed. return # first entry in uk_sets once that bug is resolved break else: return kset return [] ",,27,0
openstack%2Fnova~master~I6b52b1554ce6a1c23216758a608b8bf56a2c297e,openstack/nova,master,I6b52b1554ce6a1c23216758a608b8bf56a2c297e,PoC: add hierarchy quota driver,ABANDONED,2016-10-27 09:11:31.000000000,2017-04-05 06:47:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2033}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21279}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-10-27 09:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83249340f2ff95b02ed81ca900401015c1490ede', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 2, 'created': '2016-10-31 14:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30e96e89cb21a5a53471d64ad7934397b0a1d3b7', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 3, 'created': '2016-11-03 13:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b61aeccf954086aed605f5d31328312fadaa6e6', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 4, 'created': '2016-11-07 08:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/203cd8258e881eb69daf06bcbed30011af76304f', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 5, 'created': '2016-11-07 09:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3f8302973c5ab6a4a7c3665b369f9aa097c691e', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 6, 'created': '2016-11-14 16:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1f85d5e8c69546e9a6b5a6a49ff938aeb7c6148', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 7, 'created': '2016-11-16 18:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/844aec832e91031fad9ae7879c6206340f065eb3', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 8, 'created': '2016-11-21 13:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/694b1de23652dfd118db0f7afe7386fa829ac545', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 9, 'created': '2016-11-28 11:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/654dcda0ca578c5024e69856d3bf75b52c031295', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 10, 'created': '2016-12-09 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8da1066a4512c0f9480742cac1c21c7063d0b909', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 11, 'created': '2017-01-09 10:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/debdf1f1f8c1a69ebabff1806edb4f70746310c2', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 12, 'created': '2017-01-10 11:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e02df56063dd7d91a551872095cabb6f45d47b59', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}, {'number': 13, 'created': '2017-01-20 10:20:13.000000000', 'files': ['nova/tests/unit/test_quota.py', 'nova/conf/quota.py', 'nova/keystone.py', 'nova/tests/functional/wsgi/test_hierarchy_quotas.py', 'nova/quota.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb35b4603c68836797d7eeb1e10584516c4a8860', 'message': ""PoC: add hierarchy quota driver\n\nHierarchy quota driver can check limits for project\ntaking into accout project hierarchy from identity service.\nQuota for project limits own project usage and the sum of\nall subprojects usages.\nOverbooking of limits allows sutuation when the sum of\nsuprojects *limits* can be greater than parent project *limit*.\n\nThe difference between hierarchy limit and hierarchy limit with\noverbooking is that with the later we have to check parent projects\nlimits.\n\nHierarchy quota example:\n       /-b, 10.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('a', {'vm': 10})  # ok\ntree.use('b', {'vm': 10})  # ok\ntree.use('c', {'vm': 20})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nHierarchy quota with overbooking example:\n       /-b, 20.0\n-a, 30.0\n       \\-c, 20.0\n\ntree.use('b', {'vm': 15})  # ok\ntree.use('c', {'vm': 15})  # ok\ntree.use('b', {'vm': 5})\n^ fail - ProjectLimitExceed: Exceed in node a, resource vm\n\nThe process of reserving includes following:\n- Loading projects hierarchy from identity service.\n- Loading limits and usages according to loaded projects.\n- Building quota tree and traversing and cheking limits.\n- Calling DbQuoutaDriver.reserve as ancestor's method.\n\nChange-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e\n""}]",0,391072,fb35b4603c68836797d7eeb1e10584516c4a8860,179,20,13,21813,,,0,"PoC: add hierarchy quota driver

Hierarchy quota driver can check limits for project
taking into accout project hierarchy from identity service.
Quota for project limits own project usage and the sum of
all subprojects usages.
Overbooking of limits allows sutuation when the sum of
suprojects *limits* can be greater than parent project *limit*.

The difference between hierarchy limit and hierarchy limit with
overbooking is that with the later we have to check parent projects
limits.

Hierarchy quota example:
       /-b, 10.0
-a, 30.0
       \-c, 20.0

tree.use('a', {'vm': 10})  # ok
tree.use('b', {'vm': 10})  # ok
tree.use('c', {'vm': 20})
^ fail - ProjectLimitExceed: Exceed in node a, resource vm

Hierarchy quota with overbooking example:
       /-b, 20.0
-a, 30.0
       \-c, 20.0

tree.use('b', {'vm': 15})  # ok
tree.use('c', {'vm': 15})  # ok
tree.use('b', {'vm': 5})
^ fail - ProjectLimitExceed: Exceed in node a, resource vm

The process of reserving includes following:
- Loading projects hierarchy from identity service.
- Loading limits and usages according to loaded projects.
- Building quota tree and traversing and cheking limits.
- Calling DbQuoutaDriver.reserve as ancestor's method.

Change-Id: I6b52b1554ce6a1c23216758a608b8bf56a2c297e
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/391072/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/quota.py', 'nova/tests/functional/wsgi/test_hierarchy_quotas.py', 'nova/db/api.py', 'nova/compute/api.py', 'nova/db/sqlalchemy/api.py']",5,83249340f2ff95b02ed81ca900401015c1490ede,poc-hierarchy-quota,"def quota_get_all_by_projects(context, project_ids): rows = model_query(context, models.Quota, read_deleted=""no"").\ filter( models.Quota.project_id.in_(project_ids)).\ all() result = collections.defaultdict(dict) for row in rows: result[row.project_id][row.resource] = row.hard_limit return result @require_context @main_context_manager.readerdef quota_usage_get_all_by_projects(context, project_ids): query = model_query(context, models.QuotaUsage, read_deleted=""no"").\ filter(models.QuotaUsage.project_id.in_(project_ids)) rows = query.all() result = {} for row in rows: result.setdefault( row.project_id, collections.defaultdict(int))[row.resource] += ( row.in_use + row.reserved) return result @require_context @main_context_manager.reader",,266,6
openstack%2Ffuel-qa~master~I3f404d8270782456bb977a8a35bf4c2d0288bf23,openstack/fuel-qa,master,I3f404d8270782456bb977a8a35bf4c2d0288bf23,Improvment for scale test,MERGED,2017-03-22 06:32:01.000000000,2017-04-05 06:47:24.000000000,2017-04-05 06:47:24.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2017-03-22 06:32:01.000000000', 'files': ['fuelweb_test/tests/tests_scale/test_scale_group_2.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/b38cd9fe1a60fe905259d227e1e7481756d00fb7', 'message': 'Improvment for scale test\n\nThe same cluster used for two tests. We should make snapshot\nafter cluster deployment and use it for both tests.\n\nChange-Id: I3f404d8270782456bb977a8a35bf4c2d0288bf23\n(cherry picked from commit ed4ebfee1a5a80b35e1104680fdfe3f0d0c3e6c6)\n'}]",0,448403,b38cd9fe1a60fe905259d227e1e7481756d00fb7,10,4,1,19884,,,0,"Improvment for scale test

The same cluster used for two tests. We should make snapshot
after cluster deployment and use it for both tests.

Change-Id: I3f404d8270782456bb977a8a35bf4c2d0288bf23
(cherry picked from commit ed4ebfee1a5a80b35e1104680fdfe3f0d0c3e6c6)
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/03/448403/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_scale/test_scale_group_2.py'],1,b38cd9fe1a60fe905259d227e1e7481756d00fb7,," groups=[""ha_scale_group_2_cluster""]) @log_snapshot_after_test def ha_scale_group_2_cluster(self): """"""Deploy cluster with 3 controllers and 1 compute Scenario: 1. Create cluster 2. Add 3 controller nodes and 1 compute 3. Deploy the cluster Duration 80m Snapshot ha_scale_group_2_cluster """""" self.env.revert_snapshot(""ready_with_5_slaves"") self.show_step(1, initialize=True) cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=DEPLOYMENT_MODE) self.show_step(2) self.fuel_web.update_nodes( cluster_id, { 'slave-01': ['controller'], 'slave-02': ['controller'], 'slave-03': ['controller'], 'slave-04': ['compute'] } ) self.show_step(3) self.fuel_web.deploy_cluster_wait(cluster_id) self.fuel_web.verify_network(cluster_id) self.env.make_snapshot(""ha_scale_group_2_cluster"", is_make=True) @test(depends_on=[ha_scale_group_2_cluster], self.env.revert_snapshot(""ha_scale_group_2_cluster"") cluster_id = self.fuel_web.get_last_created_cluster() self.show_step(10) self.fuel_web.verify_network(cluster_id) @test(depends_on=[ha_scale_group_2_cluster], self.env.revert_snapshot(""ha_scale_group_2_cluster"") cluster_id = self.fuel_web.get_last_created_cluster() hostname = ''.join(self.ssh_manager.check_call( ip=node['ip'], command=""hostname"")['stdout']).strip() self.show_step(7) self.fuel_web.verify_network(cluster_id) result = self.ssh_manager.check_call( ip=node['ip'], command=cmd, expected=[1]) result = self.ssh_manager.check_call( ip=node['ip'], command=cmd, expected=[1])"," self.env.revert_snapshot(""ready_with_5_slaves"") cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=DEPLOYMENT_MODE) self.fuel_web.update_nodes( cluster_id, { 'slave-01': ['controller'], 'slave-02': ['controller'], 'slave-03': ['controller'], 'slave-04': ['compute'] } ) self.fuel_web.deploy_cluster_wait(cluster_id) self.show_step(10) self.fuel_web.verify_network(cluster_id) @test(depends_on=[SetupEnvironment.prepare_slaves_5], self.env.revert_snapshot(""ready_with_5_slaves"") cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=DEPLOYMENT_MODE) self.fuel_web.update_nodes( cluster_id, { 'slave-01': ['controller'], 'slave-02': ['controller'], 'slave-03': ['controller'], 'slave-04': ['compute'] } ) self.fuel_web.deploy_cluster_wait(cluster_id) hostname = ''.join(self.ssh_manager.execute_on_remote( ip=node['ip'], cmd=""hostname"")['stdout']).strip() self.show_step(7) self.fuel_web.verify_network(cluster_id) result = self.ssh_manager.execute_on_remote( ip=node['ip'], cmd=cmd, assert_ec_equal=[1]) result = self.ssh_manager.execute_on_remote( ip=node['ip'], cmd=cmd, assert_ec_equal=[1])",51,39
openstack%2Ffuel-qa~stable%2Focata~I3f404d8270782456bb977a8a35bf4c2d0288bf23,openstack/fuel-qa,stable/ocata,I3f404d8270782456bb977a8a35bf4c2d0288bf23,Improvment for scale test,MERGED,2017-03-22 06:32:11.000000000,2017-04-05 06:46:48.000000000,2017-04-05 06:46:48.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}, {'_account_id': 23308}]","[{'number': 1, 'created': '2017-03-22 06:32:11.000000000', 'files': ['fuelweb_test/tests/tests_scale/test_scale_group_2.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/efb36826364deaf3c1fd8a5c9b2be2261e8daa3b', 'message': 'Improvment for scale test\n\nThe same cluster used for two tests. We should make snapshot\nafter cluster deployment and use it for both tests.\n\nChange-Id: I3f404d8270782456bb977a8a35bf4c2d0288bf23\n(cherry picked from commit ed4ebfee1a5a80b35e1104680fdfe3f0d0c3e6c6)\n'}]",0,448404,efb36826364deaf3c1fd8a5c9b2be2261e8daa3b,11,5,1,19884,,,0,"Improvment for scale test

The same cluster used for two tests. We should make snapshot
after cluster deployment and use it for both tests.

Change-Id: I3f404d8270782456bb977a8a35bf4c2d0288bf23
(cherry picked from commit ed4ebfee1a5a80b35e1104680fdfe3f0d0c3e6c6)
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/04/448404/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_scale/test_scale_group_2.py'],1,efb36826364deaf3c1fd8a5c9b2be2261e8daa3b,," groups=[""ha_scale_group_2_cluster""]) @log_snapshot_after_test def ha_scale_group_2_cluster(self): """"""Deploy cluster with 3 controllers and 1 compute Scenario: 1. Create cluster 2. Add 3 controller nodes and 1 compute 3. Deploy the cluster Duration 80m Snapshot ha_scale_group_2_cluster """""" self.env.revert_snapshot(""ready_with_5_slaves"") self.show_step(1, initialize=True) cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=DEPLOYMENT_MODE) self.show_step(2) self.fuel_web.update_nodes( cluster_id, { 'slave-01': ['controller'], 'slave-02': ['controller'], 'slave-03': ['controller'], 'slave-04': ['compute'] } ) self.show_step(3) self.fuel_web.deploy_cluster_wait(cluster_id) self.fuel_web.verify_network(cluster_id) self.env.make_snapshot(""ha_scale_group_2_cluster"", is_make=True) @test(depends_on=[ha_scale_group_2_cluster], self.env.revert_snapshot(""ha_scale_group_2_cluster"") cluster_id = self.fuel_web.get_last_created_cluster() self.show_step(10) self.fuel_web.verify_network(cluster_id) @test(depends_on=[ha_scale_group_2_cluster], self.env.revert_snapshot(""ha_scale_group_2_cluster"") cluster_id = self.fuel_web.get_last_created_cluster() hostname = ''.join(self.ssh_manager.check_call( ip=node['ip'], command=""hostname"")['stdout']).strip() self.show_step(7) self.fuel_web.verify_network(cluster_id) result = self.ssh_manager.check_call( ip=node['ip'], command=cmd, expected=[1]) result = self.ssh_manager.check_call( ip=node['ip'], command=cmd, expected=[1])"," self.env.revert_snapshot(""ready_with_5_slaves"") cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=DEPLOYMENT_MODE) self.fuel_web.update_nodes( cluster_id, { 'slave-01': ['controller'], 'slave-02': ['controller'], 'slave-03': ['controller'], 'slave-04': ['compute'] } ) self.fuel_web.deploy_cluster_wait(cluster_id) self.show_step(10) self.fuel_web.verify_network(cluster_id) @test(depends_on=[SetupEnvironment.prepare_slaves_5], self.env.revert_snapshot(""ready_with_5_slaves"") cluster_id = self.fuel_web.create_cluster( name=self.__class__.__name__, mode=DEPLOYMENT_MODE) self.fuel_web.update_nodes( cluster_id, { 'slave-01': ['controller'], 'slave-02': ['controller'], 'slave-03': ['controller'], 'slave-04': ['compute'] } ) self.fuel_web.deploy_cluster_wait(cluster_id) hostname = ''.join(self.ssh_manager.execute_on_remote( ip=node['ip'], cmd=""hostname"")['stdout']).strip() self.show_step(7) self.fuel_web.verify_network(cluster_id) result = self.ssh_manager.execute_on_remote( ip=node['ip'], cmd=cmd, assert_ec_equal=[1]) result = self.ssh_manager.execute_on_remote( ip=node['ip'], cmd=cmd, assert_ec_equal=[1])",51,39
openstack%2Ffuel-qa~stable%2Fmitaka~Ifa1b405ddc1f6213805e04ff5648813773da9240,openstack/fuel-qa,stable/mitaka,Ifa1b405ddc1f6213805e04ff5648813773da9240,Fix deployment with custom repos,MERGED,2017-03-27 11:07:06.000000000,2017-04-05 06:46:41.000000000,2017-04-05 06:46:41.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 10288}, {'_account_id': 15984}, {'_account_id': 19119}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-03-27 11:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0841e520e24869139080f25b4148e8fef56a08d8', 'message': 'Fix deployment with custom respos\n\nChange-Id: Ifa1b405ddc1f6213805e04ff5648813773da9240\nCloses-bug: #1676312\n'}, {'number': 2, 'created': '2017-03-27 11:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/eca39262180af39251f345f072db2050264f700f', 'message': 'Fix deployment with custom respos\n\nChange-Id: Ifa1b405ddc1f6213805e04ff5648813773da9240\nCloses-bug: #1676312\n'}, {'number': 3, 'created': '2017-03-27 11:21:00.000000000', 'files': ['fuelweb_test/helpers/replace_repos.py', 'fuelweb_test/helpers/fuel_actions.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/7218a36805f4d9e6bbbae7221ca9f46a8fe718e3', 'message': 'Fix deployment with custom repos\n\nChange-Id: Ifa1b405ddc1f6213805e04ff5648813773da9240\nCloses-bug: #1676312\n'}]",0,450166,7218a36805f4d9e6bbbae7221ca9f46a8fe718e3,22,6,3,9588,,,0,"Fix deployment with custom repos

Change-Id: Ifa1b405ddc1f6213805e04ff5648813773da9240
Closes-bug: #1676312
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/66/450166/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/helpers/replace_repos.py', 'fuelweb_test/helpers/fuel_actions.py']",2,0841e520e24869139080f25b4148e8fef56a08d8,bug1676312,"from fuelweb_test.helpers.replace_repos import replace_ubuntu_reposfrom fuelweb_test.settings import MIRROR_UBUNTU if MIRROR_UBUNTU: fuel_settings['BOOTSTRAP']['repos'] = \ replace_ubuntu_repos( { 'value': fuel_settings['BOOTSTRAP']['repos'] }, upstream_host='archive.ubuntu.com') logger.info(""Replace default Ubuntu mirror URL for "" ""bootstrap image in Fuel settings"")"," fuel_settings['BOOTSTRAP']['repos'] = \ [repo for repo in fuel_settings[ 'BOOTSTRAP']['repos'] if ""mos-"" not in repo['name']]",13,3
openstack%2Ffuel-qa~stable%2Focata~I2b42447a0cbf13299898c92a48df7604f6928d66,openstack/fuel-qa,stable/ocata,I2b42447a0cbf13299898c92a48df7604f6928d66,Fix for custom_graph test,MERGED,2017-03-30 05:49:50.000000000,2017-04-05 06:45:28.000000000,2017-04-05 06:45:28.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2017-03-30 05:49:50.000000000', 'files': ['fuelweb_test/tests/tests_custom_graph/test_custom_graph.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/c8d4d14f51a02757c7e2a1a53c4fd2d897200885', 'message': 'Fix for custom_graph test\n\nChange index of checked group in release tasks.\nCloses-Bug: 1674725\n\nChange-Id: I2b42447a0cbf13299898c92a48df7604f6928d66\n'}]",0,451652,c8d4d14f51a02757c7e2a1a53c4fd2d897200885,10,4,1,19884,,,0,"Fix for custom_graph test

Change index of checked group in release tasks.
Closes-Bug: 1674725

Change-Id: I2b42447a0cbf13299898c92a48df7604f6928d66
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/52/451652/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_custom_graph/test_custom_graph.py'],1,c8d4d14f51a02757c7e2a1a53c4fd2d897200885,bug/1674725, rel_tasks = self.fuel_web.client.get_release_tasks(rel_id)[3]['tasks'], rel_tasks = self.fuel_web.client.get_release_tasks(rel_id)[0]['tasks'],1,1
openstack%2Ffuel-qa~master~I2b42447a0cbf13299898c92a48df7604f6928d66,openstack/fuel-qa,master,I2b42447a0cbf13299898c92a48df7604f6928d66,Fix for custom_graph test,MERGED,2017-03-30 05:50:12.000000000,2017-04-05 06:44:02.000000000,2017-04-05 06:44:02.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 19119}]","[{'number': 1, 'created': '2017-03-30 05:50:12.000000000', 'files': ['fuelweb_test/tests/tests_custom_graph/test_custom_graph.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/9a33b1d794a4ae96c96323daada0aa33fb4e8516', 'message': 'Fix for custom_graph test\n\nChange index of checked group in release tasks.\nCloses-Bug: 1674725\n\nChange-Id: I2b42447a0cbf13299898c92a48df7604f6928d66\n'}]",0,451653,9a33b1d794a4ae96c96323daada0aa33fb4e8516,10,4,1,19884,,,0,"Fix for custom_graph test

Change index of checked group in release tasks.
Closes-Bug: 1674725

Change-Id: I2b42447a0cbf13299898c92a48df7604f6928d66
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/53/451653/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_custom_graph/test_custom_graph.py'],1,9a33b1d794a4ae96c96323daada0aa33fb4e8516,bug/1674725, rel_tasks = self.fuel_web.client.get_release_tasks(rel_id)[3]['tasks'], rel_tasks = self.fuel_web.client.get_release_tasks(rel_id)[0]['tasks'],1,1
openstack%2Fmistral~stable%2Fnewton~I0ee300f631a4bdfa2f618c2a10048267f27b3345,openstack/mistral,stable/newton,I0ee300f631a4bdfa2f618c2a10048267f27b3345,Fix memory leak related to cached lookups,MERGED,2017-04-05 05:27:31.000000000,2017-04-05 06:28:30.000000000,2017-04-05 06:28:30.000000000,"[{'_account_id': 3}, {'_account_id': 8731}]","[{'number': 1, 'created': '2017-04-05 05:27:31.000000000', 'files': ['mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/api/controllers/v2/resources.py', 'mistral/workflow/lookup_utils.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/00199fdfe8adb2f07c9d809d845cd46c7f0317a0', 'message': 'Fix memory leak related to cached lookups\n\n* It turned out that Mistral used a lot of memory because it\n  used cached DB lookups for task executions (only task executions\n  in a terminal state get cached) and the maximum size of the cache\n  was too big, 20000 entries. One task execution in certain cases\n  may take a lot of memory (e.g. several megabytes) so 20000 objects\n  make memory footprint huge. Additionally, when a workflow completes\n  we need to invalidate coresponding task executions in the cache.\n  This didn\'t happen before this patch.\n* This patch fixes the aforementioned issues by using partial\n  invalidation of the cache and setting smaller cache size.\n* Fixed ""Starting workflow .."" log statement to not print the entire\n  structure of the workflow definition into the workflow log, only its\n  name and input parameters\n* Minor style fixes\n\nChange-Id: I0ee300f631a4bdfa2f618c2a10048267f27b3345\nCloses-bug: #1664864\n(cherry picked from commit 086a3d43fa734dae61ed40912cde701912318dc9)\n'}]",0,453466,00199fdfe8adb2f07c9d809d845cd46c7f0317a0,6,2,1,8731,,,0,"Fix memory leak related to cached lookups

* It turned out that Mistral used a lot of memory because it
  used cached DB lookups for task executions (only task executions
  in a terminal state get cached) and the maximum size of the cache
  was too big, 20000 entries. One task execution in certain cases
  may take a lot of memory (e.g. several megabytes) so 20000 objects
  make memory footprint huge. Additionally, when a workflow completes
  we need to invalidate coresponding task executions in the cache.
  This didn't happen before this patch.
* This patch fixes the aforementioned issues by using partial
  invalidation of the cache and setting smaller cache size.
* Fixed ""Starting workflow .."" log statement to not print the entire
  structure of the workflow definition into the workflow log, only its
  name and input parameters
* Minor style fixes

Change-Id: I0ee300f631a4bdfa2f618c2a10048267f27b3345
Closes-bug: #1664864
(cherry picked from commit 086a3d43fa734dae61ed40912cde701912318dc9)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/66/453466/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/api/controllers/v2/resources.py', 'mistral/workflow/lookup_utils.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/base.py']",5,00199fdfe8adb2f07c9d809d845cd46c7f0317a0,bug/1664864, lookup_utils.clear_caches(), lookup_utils.clean_caches(),127,15
openstack%2Fopenstack-manuals~master~I20846b9d9a176ca0084bfbb8284f52afa1f91590,openstack/openstack-manuals,master,I20846b9d9a176ca0084bfbb8284f52afa1f91590,Update zaqar flagmappings,MERGED,2017-03-22 16:59:26.000000000,2017-04-05 06:27:39.000000000,2017-04-05 06:27:39.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10497}, {'_account_id': 10607}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-03-22 16:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a60151ab1554ff24d633f214b918fdb7982ef0ff', 'message': 'Update zenlin flagmappings\n\nThis is currently broken. Investigate why.\n\nChange-Id: I20846b9d9a176ca0084bfbb8284f52afa1f91590\n'}, {'number': 2, 'created': '2017-03-23 11:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7bbfc7a36913fdef8a65f322bc0cfd8594f69771', 'message': 'Update zaqar flagmappings\n\nThis is currently broken. Investigate why.\n\nChange-Id: I20846b9d9a176ca0084bfbb8284f52afa1f91590\n'}, {'number': 3, 'created': '2017-03-23 11:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1baee350269e5a79691d486e2329f804cbe546ad', 'message': 'Update zaqar flagmappings\n\nThis is currently broken. Investigate why.\n\nChange-Id: I20846b9d9a176ca0084bfbb8284f52afa1f91590\n'}, {'number': 4, 'created': '2017-04-04 10:55:43.000000000', 'files': ['tools/autogenerate-config-flagmappings/zaqar.flagmappings'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/85373d3aa14f4a4bb61570c323499226ec75aa5e', 'message': ""Update zaqar flagmappings\n\nThis involved manually updating 'zaqar/requirements.txt' to exclude\nrequests 2.13.0, preventing a requirements conflict with oslo.config.\n\nChange-Id: I20846b9d9a176ca0084bfbb8284f52afa1f91590\n""}]",3,448700,85373d3aa14f4a4bb61570c323499226ec75aa5e,17,5,4,15334,,,0,"Update zaqar flagmappings

This involved manually updating 'zaqar/requirements.txt' to exclude
requests 2.13.0, preventing a requirements conflict with oslo.config.

Change-Id: I20846b9d9a176ca0084bfbb8284f52afa1f91590
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/00/448700/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,a60151ab1554ff24d633f214b918fdb7982ef0ff,feat/rework-config-docs-output,,,0,0
openstack%2Fopenstack-manuals~master~I76a1cbcdba1c1cce80392723fbc48ce691f2e6c8,openstack/openstack-manuals,master,I76a1cbcdba1c1cce80392723fbc48ce691f2e6c8,Update networking-guide/config-qos,MERGED,2017-04-04 08:03:36.000000000,2017-04-05 05:57:08.000000000,2017-04-05 05:57:08.000000000,"[{'_account_id': 3}, {'_account_id': 6635}, {'_account_id': 10607}, {'_account_id': 10705}]","[{'number': 1, 'created': '2017-04-04 08:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3d73492501fe678a9ec80375afc1208acf97a029', 'message': 'Update networking-guide/config-qos for #1678475\n\nChange-Id: I76a1cbcdba1c1cce80392723fbc48ce691f2e6c8\nClosed-Bug: #1678475\nRelated-Bug: #1659265\n'}, {'number': 2, 'created': '2017-04-04 09:04:12.000000000', 'files': ['doc/networking-guide/source/config-qos.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/449fc666801ce2cc74e36ebcec9734672d6409fc', 'message': 'Update networking-guide/config-qos\n\nChange-Id: I76a1cbcdba1c1cce80392723fbc48ce691f2e6c8\nCloses-Bug: #1678475\nRelated-Bug: #1659265\n'}]",3,453053,449fc666801ce2cc74e36ebcec9734672d6409fc,11,4,2,24132,,,0,"Update networking-guide/config-qos

Change-Id: I76a1cbcdba1c1cce80392723fbc48ce691f2e6c8
Closes-Bug: #1678475
Related-Bug: #1659265
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/53/453053/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/networking-guide/source/config-qos.rst'],1,3d73492501fe678a9ec80375afc1208acf97a029,bug/1678475,ports like DHCP and internal router ports are excluded from network policy application.,ports like DHCP and router ports are excluded from network policy application.,2,1
openstack%2Fmonasca-log-api~master~I974a9e5001266aab878bf77af001d1ba61d761e2,openstack/monasca-log-api,master,I974a9e5001266aab878bf77af001d1ba61d761e2,Replace six.iteritems() with .items(),MERGED,2017-04-04 09:37:38.000000000,2017-04-05 05:53:46.000000000,2017-04-05 05:53:46.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-04-04 09:37:38.000000000', 'files': ['monasca_log_api/reference/common/validation.py'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/c8e70e35d6826d357c693a715cfe616dfd565400', 'message': 'Replace six.iteritems() with .items()\n\nWe should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n\nChange-Id: I974a9e5001266aab878bf77af001d1ba61d761e2\n'}]",0,453083,c8e70e35d6826d357c693a715cfe616dfd565400,7,3,1,25571,,,0,"Replace six.iteritems() with .items()

We should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3 as well. And dict.items/keys will more readable.

Change-Id: I974a9e5001266aab878bf77af001d1ba61d761e2
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/83/453083/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_log_api/reference/common/validation.py'],1,c8e70e35d6826d357c693a715cfe616dfd565400,," for dim_name, dim_value in dimensions.items():"," for dim_name, dim_value in six.iteritems(dimensions):",1,1
openstack%2Fmonasca-agent~master~Ic82c26e0f37bd3ecea98bc85bd98bd62c8d762a2,openstack/monasca-agent,master,Ic82c26e0f37bd3ecea98bc85bd98bd62c8d762a2,Replace six.iteritems() with .items(),MERGED,2017-04-02 15:39:44.000000000,2017-04-05 05:45:08.000000000,2017-04-05 05:45:08.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-04-02 15:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/6094b19d3e4589cdcfbeded67cb98fcad22a393c', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using\nsix.iteritems to achieve iterators. We can\nuse dict.items instead, as it will return\niterators in PY3 as well. And dict.items/keys\nwill more readable. 2.In py2, the performance\nabout list should be negligible, see the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ic82c26e0f37bd3ecea98bc85bd98bd62c8d762a2\n'}, {'number': 2, 'created': '2017-04-03 14:54:09.000000000', 'files': ['monasca_agent/collector/checks_d/process.py', 'monasca_agent/collector/daemon.py', 'monasca_agent/common/aggregator.py', 'monasca_agent/collector/checks_d/cpu.py', 'monasca_agent/collector/checks_d/mysql.py', 'monasca_agent/collector/checks_d/haproxy.py', 'monasca_agent/collector/checks/collector.py', 'monasca_agent/collector/checks_d/rabbitmq.py', 'tests_to_fix/test_postfix.py', 'monasca_setup/agent_config.py', 'monasca_setup/main.py', 'monasca_agent/collector/checks_d/solidfire.py', 'monasca_agent/collector/checks_d/cadvisor_host.py', 'monasca_agent/collector/checks_d/ovs.py', 'monasca_agent/collector/checks/utils.py', 'monasca_agent/collector/checks_d/kafka_consumer.py', 'monasca_agent/collector/checks_d/libvirt.py', 'monasca_setup/detection/plugins/kafka_consumer.py', 'monasca_agent/collector/checks_d/kubernetes.py', 'monasca_agent/collector/checks_d/vertica.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/978157fe329918677e0443b67b63fdc5edd504eb', 'message': 'Replace six.iteritems() with .items()\n\nupdate  where ```iteritems``` is used\n1.As mentioned in [1], we should avoid using\nsix.iteritems to achieve iterators. We can\nuse dict.items instead, as it will return\niterators in PY3 as well. And dict.items/keys\nwill more readable. 2.In py2, the performance\nabout list should be negligible, see the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ic82c26e0f37bd3ecea98bc85bd98bd62c8d762a2\n'}]",0,452545,978157fe329918677e0443b67b63fdc5edd504eb,12,3,2,25079,,,0,"Replace six.iteritems() with .items()

update  where ```iteritems``` is used
1.As mentioned in [1], we should avoid using
six.iteritems to achieve iterators. We can
use dict.items instead, as it will return
iterators in PY3 as well. And dict.items/keys
will more readable. 2.In py2, the performance
about list should be negligible, see the link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: Ic82c26e0f37bd3ecea98bc85bd98bd62c8d762a2
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/45/452545/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/kubernetes.py', 'monasca_agent/collector/checks_d/cadvisor_host.py']",2,6094b19d3e4589cdcfbeded67cb98fcad22a393c,replace-six-iteritems," for cadvisor_key, (metric_name, metric_types, metric_units) in memory_metrics.items(): for cadvisor_key, (metric_name, metric_types, metric_units) in filesystem_metrics.items(): for cadvisor_key, (metric_name, metric_types, metric_units) in network_metrics.items(): for cadvisor_key, (metric_name, metric_types, metric_units) in cpu_metrics.items(): for host, cadvisor_metrics in metrics.items():"," for cadvisor_key, (metric_name, metric_types, metric_units) in six.iteritems(memory_metrics): for cadvisor_key, (metric_name, metric_types, metric_units) in six.iteritems(filesystem_metrics): for cadvisor_key, (metric_name, metric_types, metric_units) in six.iteritems(network_metrics): for cadvisor_key, (metric_name, metric_types, metric_units) in six.iteritems(cpu_metrics): for host, cadvisor_metrics in six.iteritems(metrics):",15,15
openstack%2Fmonasca-notification~master~Ic532dc08e7712721e8be5eda83fc8fa2beb415e2,openstack/monasca-notification,master,Ic532dc08e7712721e8be5eda83fc8fa2beb415e2,Replacing six.iteritems() with .items(),MERGED,2017-04-04 10:55:10.000000000,2017-04-05 05:35:31.000000000,2017-04-05 05:35:31.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-04-04 10:55:10.000000000', 'files': ['monasca_notification/types/notifiers.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/92bfb5a0deb98125bb031679b3a3df23c9a7b6c7', 'message': 'Replacing six.iteritems() with .items()\n\nWe should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3* as well. And dict.items/keys will be more readable.\n\nChange-Id: Ic532dc08e7712721e8be5eda83fc8fa2beb415e2\n'}]",0,453116,92bfb5a0deb98125bb031679b3a3df23c9a7b6c7,7,3,1,25571,,,0,"Replacing six.iteritems() with .items()

We should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3* as well. And dict.items/keys will be more readable.

Change-Id: Ic532dc08e7712721e8be5eda83fc8fa2beb415e2
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/16/453116/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/types/notifiers.py'],1,92bfb5a0deb98125bb031679b3a3df23c9a7b6c7,," formatted_config = {t.lower(): v for t, v in cfg.items()}","import six formatted_config = {t.lower(): v for t, v in six.iteritems(cfg)}",1,3
openstack%2Fdiskimage-builder~master~Id0dc83d9c558b0c0bbfaed7727883541d140472c,openstack/diskimage-builder,master,Id0dc83d9c558b0c0bbfaed7727883541d140472c,Adding aarch64 support for CentOS7,MERGED,2017-01-18 20:52:53.000000000,2017-04-05 05:32:29.000000000,2017-04-05 05:10:05.000000000,"[{'_account_id': 3}, {'_account_id': 5792}, {'_account_id': 7118}, {'_account_id': 12459}, {'_account_id': 12715}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-01-18 20:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/caf9150c7c5244ce49e251dd1ad364d30367a282', 'message': 'Adding aarch64 support for CentOS7\n\nUsing delorian, delorian-deps and epel-release for aarch64\nthis will produce an overcloud-full image\n\nChange-Id: Id0dc83d9c558b0c0bbfaed7727883541d140472c\n'}, {'number': 2, 'created': '2017-01-24 12:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/914614c963121e217c6f6ecbaca3d1e6576053c5', 'message': 'Adding aarch64 support for CentOS7\n\nUsing delorian and delorian-deps for aarch64\nthis will produce an overcloud-full image\n\nChange-Id: Id0dc83d9c558b0c0bbfaed7727883541d140472c\n'}, {'number': 3, 'created': '2017-03-22 14:47:06.000000000', 'files': ['diskimage_builder/elements/rpm-distro/pre-install.d/01-override-yum-arch', 'diskimage_builder/lib/common-defaults', 'doc/source/developer/developing_elements.rst', 'diskimage_builder/elements/centos7/root.d/10-centos7-cloud-image', 'doc/source/developer/components.rst', 'diskimage_builder/lib/disk-image-create'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/06576a02f09d1326cad342bc0901334e4c79722e', 'message': 'Adding aarch64 support for CentOS7\n\nUsing delorian and delorian-deps for aarch64\nthis will produce an overcloud-full image\n\nChange-Id: Id0dc83d9c558b0c0bbfaed7727883541d140472c\n'}]",0,422232,06576a02f09d1326cad342bc0901334e4c79722e,38,6,3,5792,,,0,"Adding aarch64 support for CentOS7

Using delorian and delorian-deps for aarch64
this will produce an overcloud-full image

Change-Id: Id0dc83d9c558b0c0bbfaed7727883541d140472c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/32/422232/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/disk-image-create', 'elements/centos7/root.d/10-centos7-cloud-image', 'doc/source/developer/developing_elements.rst', 'doc/source/developer/components.rst']",4,caf9150c7c5244ce49e251dd1ad364d30367a282,centos7-aarch64,`disk-image-create [-a i386|amd64|armhf|aarch64] -o filename {element} [{element} ...]`,`disk-image-create [-a i386|amd64|armhf] -o filename {element} [{element} ...]`,11,7
openstack%2Fmistral~master~I0ee300f631a4bdfa2f618c2a10048267f27b3345,openstack/mistral,master,I0ee300f631a4bdfa2f618c2a10048267f27b3345,Fix memory leak related to cached lookups,MERGED,2017-02-17 11:54:32.000000000,2017-04-05 05:27:31.000000000,2017-02-17 17:48:57.000000000,"[{'_account_id': 3}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 9029}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 18238}, {'_account_id': 19206}]","[{'number': 1, 'created': '2017-02-17 11:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/53cad3d6dc0ca93aa2977f7f474d829ccfbb8029', 'message': 'Fix memory leak related to cached lookups\n\n* It turned out that Mistral used a lot of memory because it\n  used cached DB lookups for task executions (only task executions\n  in a terminal state get cached) and the maximum size of the cache\n  was too big, 20000 entries. One task execution in certain cases\n  may take a lot of memory (e.g. several megabytes) so 20000 objects\n  make memory footprint huge. Additionally, when a workflow completes\n  we need to invalidate coresponding task executions in the cache.\n  This didn\'t happen before this patch.\n* This patch fixes the aforementioned issues by using partial\n  invalidation of the cache and setting smaller cache size.\n* Fixed ""Starting workflow .."" log statement to not print the entire\n  structure of the workflow definition into the workflow log, only its\n  name and input parameters\n* Minor style fixes\n\nChange-Id: I0ee300f631a4bdfa2f618c2a10048267f27b3345\nCloses-bug: #1664864\n'}, {'number': 2, 'created': '2017-02-17 12:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4a7708cece90326b559eae03c006d03c30fef151', 'message': 'Fix memory leak related to cached lookups\n\n* It turned out that Mistral used a lot of memory because it\n  used cached DB lookups for task executions (only task executions\n  in a terminal state get cached) and the maximum size of the cache\n  was too big, 20000 entries. One task execution in certain cases\n  may take a lot of memory (e.g. several megabytes) so 20000 objects\n  make memory footprint huge. Additionally, when a workflow completes\n  we need to invalidate coresponding task executions in the cache.\n  This didn\'t happen before this patch.\n* This patch fixes the aforementioned issues by using partial\n  invalidation of the cache and setting smaller cache size.\n* Fixed ""Starting workflow .."" log statement to not print the entire\n  structure of the workflow definition into the workflow log, only its\n  name and input parameters\n* Minor style fixes\n\nChange-Id: I0ee300f631a4bdfa2f618c2a10048267f27b3345\nCloses-bug: #1664864\n'}, {'number': 3, 'created': '2017-02-17 12:23:58.000000000', 'files': ['mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/api/controllers/v2/resources.py', 'mistral/workflow/lookup_utils.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/base.py', 'mistral/engine/default_engine.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/086a3d43fa734dae61ed40912cde701912318dc9', 'message': 'Fix memory leak related to cached lookups\n\n* It turned out that Mistral used a lot of memory because it\n  used cached DB lookups for task executions (only task executions\n  in a terminal state get cached) and the maximum size of the cache\n  was too big, 20000 entries. One task execution in certain cases\n  may take a lot of memory (e.g. several megabytes) so 20000 objects\n  make memory footprint huge. Additionally, when a workflow completes\n  we need to invalidate coresponding task executions in the cache.\n  This didn\'t happen before this patch.\n* This patch fixes the aforementioned issues by using partial\n  invalidation of the cache and setting smaller cache size.\n* Fixed ""Starting workflow .."" log statement to not print the entire\n  structure of the workflow definition into the workflow log, only its\n  name and input parameters\n* Minor style fixes\n\nChange-Id: I0ee300f631a4bdfa2f618c2a10048267f27b3345\nCloses-bug: #1664864\n'}]",0,435404,086a3d43fa734dae61ed40912cde701912318dc9,11,9,3,8731,,,0,"Fix memory leak related to cached lookups

* It turned out that Mistral used a lot of memory because it
  used cached DB lookups for task executions (only task executions
  in a terminal state get cached) and the maximum size of the cache
  was too big, 20000 entries. One task execution in certain cases
  may take a lot of memory (e.g. several megabytes) so 20000 objects
  make memory footprint huge. Additionally, when a workflow completes
  we need to invalidate coresponding task executions in the cache.
  This didn't happen before this patch.
* This patch fixes the aforementioned issues by using partial
  invalidation of the cache and setting smaller cache size.
* Fixed ""Starting workflow .."" log statement to not print the entire
  structure of the workflow definition into the workflow log, only its
  name and input parameters
* Minor style fixes

Change-Id: I0ee300f631a4bdfa2f618c2a10048267f27b3345
Closes-bug: #1664864
",git fetch https://review.opendev.org/openstack/mistral refs/changes/04/435404/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_lookup_utils.py', 'mistral/api/controllers/v2/resources.py', 'mistral/workflow/lookup_utils.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/base.py', 'mistral/engine/default_engine.py']",6,53cad3d6dc0ca93aa2977f7f474d829ccfbb8029,bug/1664864,,,127,16
openstack%2Fnova~master~Ia2cc8fbc8731e12795ddbfb803956c4d9492f9c0,openstack/nova,master,Ia2cc8fbc8731e12795ddbfb803956c4d9492f9c0,Try our best to bypass the dirty BDM to make nova more robust,ABANDONED,2017-04-05 04:17:02.000000000,2017-04-05 05:23:57.000000000,,"[{'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2017-04-05 04:17:02.000000000', 'files': ['nova/objects/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f99086cfb8046f07f59673f5e9f1437ec985bf2', 'message': 'Try our best to bypass the dirty BDM to make nova more robust\n\nSometimes we can see multiple BDMs mapped to the same volume_id\nin the database, the comment [1] explains how it was created.\n\nChange c1a61fcc37a06f7d25b86c5ace47e9d68008ddff made\nBlockDeviceMapping.get_by_volume raise VolumeBDMIsMultiAttach, but\nit should be better if we can try our best to bypass the dirty BDM.\n\n[1] https://bugs.launchpad.net/nova/+bug/1427060/comments/4\n\nChange-Id: Ia2cc8fbc8731e12795ddbfb803956c4d9492f9c0\nRelated-Bug: #1533834\nRelated-Bug: #1427060\n'}]",0,453451,5f99086cfb8046f07f59673f5e9f1437ec985bf2,6,4,1,2711,,,0,"Try our best to bypass the dirty BDM to make nova more robust

Sometimes we can see multiple BDMs mapped to the same volume_id
in the database, the comment [1] explains how it was created.

Change c1a61fcc37a06f7d25b86c5ace47e9d68008ddff made
BlockDeviceMapping.get_by_volume raise VolumeBDMIsMultiAttach, but
it should be better if we can try our best to bypass the dirty BDM.

[1] https://bugs.launchpad.net/nova/+bug/1427060/comments/4

Change-Id: Ia2cc8fbc8731e12795ddbfb803956c4d9492f9c0
Related-Bug: #1533834
Related-Bug: #1427060
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/453451/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/block_device.py'],1,5f99086cfb8046f07f59673f5e9f1437ec985bf2,bug/1533834," # NOTE (zhhuabj): Using the last BDM can try our best to bypass some # dirty data, eg: there are multiple BDMs mapped to the same volume_id db_bdm = db_bdms[-1]", db_bdm = db_bdms[0],3,1
openstack%2Fopenstack-manuals~master~I74beea3d1aed86bb4ad233ce106c55c5f094b52a,openstack/openstack-manuals,master,I74beea3d1aed86bb4ad233ce106c55c5f094b52a,Add link to release README,MERGED,2017-03-23 05:36:59.000000000,2017-04-05 05:11:27.000000000,2017-04-05 05:11:27.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10705}, {'_account_id': 10897}, {'_account_id': 12686}]","[{'number': 1, 'created': '2017-03-23 05:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1552401b3eff78d7579df04d57bac034d34807d6', 'message': 'Document the steps for triggering a tools release\n\nChange-Id: I74beea3d1aed86bb4ad233ce106c55c5f094b52a\n'}, {'number': 2, 'created': '2017-04-04 23:51:08.000000000', 'files': ['doc/contributor-guide/source/release/release-tools.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3bb142197ed599cc77f9d3060340e4ea52492c51', 'message': 'Add link to release README\n\nAdd a link to the releases README file that contains\nsteps for triggering a tools release.\n\nChange-Id: I74beea3d1aed86bb4ad233ce106c55c5f094b52a\n'}]",0,448897,3bb142197ed599cc77f9d3060340e4ea52492c51,13,5,2,12686,,,0,"Add link to release README

Add a link to the releases README file that contains
steps for triggering a tools release.

Change-Id: I74beea3d1aed86bb4ad233ce106c55c5f094b52a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/97/448897/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/contributor-guide/source/release/release-tools.rst'],1,1552401b3eff78d7579df04d57bac034d34807d6,tools-release-process," Triggering a release ~~~~~~~~~~~~~~~~~~~~ #. Clone the `openstack/release <https://review.openstack.org/#/admin/projects/openstack/releases>`_ repository and create a local working branch. #. Edit the YAML file for the repository you want to release: openstackdocstheme ``deliverables/_independent/openstackdocstheme.yaml`` openstack-doc-tools ``deliverables/_independent/openstack-doc-tools.yaml`` os-api-ref ``deliverables/_independent/os-api-ref.yaml`` #. Add an entry for the new release, using the previous release as a template. - Update the version number using `semantic versioning <http://semver.org/>`_. - Update the commit hash to the latest commit you want included in the release. - Update the highlights field with important changes. If the release contains only minor fixes, you can remove the highlights entry. **Example:** .. code-block:: yaml - version: 1.6.1 projects: - repo: openstack/openstackdocstheme hash: 58823b338cbeffeacce5b524269a5e6f194bbce9 highlights: > Adds a checklist to the doc bug template. #. Commit your changes, stating the package name release number in the commit subject line: .. code-block:: console $ git commit -a -m 'Release openstackdocstheme 1.6.1' #. Push your patch for review: .. code-block:: console $ git review",,53,0
openstack%2Fproject-config~master~I65ca0cb7a2bc9042506c899d316f29a07c5cb1de,openstack/project-config,master,I65ca0cb7a2bc9042506c899d316f29a07c5cb1de,networking-odl: remove one periodic job,MERGED,2017-03-07 18:07:05.000000000,2017-04-05 05:07:18.000000000,2017-04-05 05:07:18.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 9656}, {'_account_id': 17120}, {'_account_id': 22220}]","[{'number': 1, 'created': '2017-03-07 18:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/675da764e86811dc4baff89ee562246e93741711', 'message': 'networking-odl: remove one periodic job\n\nremove periodic-tempest-dsvm-networking-odl-boron-snapshot-v1driver-mitaka\nNow Ocata is released and there is no plan to actively maintain mitaka +\nodl boron combination. So remove it.\n\nChange-Id: I65ca0cb7a2bc9042506c899d316f29a07c5cb1de\n'}, {'number': 2, 'created': '2017-03-08 15:27:00.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8c5d56a731fd295f47ba40da52f9072ae807ac93', 'message': 'networking-odl: remove one periodic job\n\nremove periodic-tempest-dsvm-networking-odl-boron-snapshot-v1driver-mitaka\nNow Ocata is released and there is no plan to actively maintain mitaka +\nodl boron combination. So remove it.\n\nChange-Id: I65ca0cb7a2bc9042506c899d316f29a07c5cb1de\n'}]",0,442651,8c5d56a731fd295f47ba40da52f9072ae807ac93,16,6,2,333,,,0,"networking-odl: remove one periodic job

remove periodic-tempest-dsvm-networking-odl-boron-snapshot-v1driver-mitaka
Now Ocata is released and there is no plan to actively maintain mitaka +
odl boron combination. So remove it.

Change-Id: I65ca0cb7a2bc9042506c899d316f29a07c5cb1de
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/442651/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,675da764e86811dc4baff89ee562246e93741711,networking-odl-remove-mitaka-periodic,, periodic: - periodic-tempest-dsvm-networking-odl-boron-snapshot-v1driver-mitaka,0,2
openstack%2Fkolla-ansible~master~Idb433d526f7d44dfe4fd02ee918bd67e05c523f6,openstack/kolla-ansible,master,Idb433d526f7d44dfe4fd02ee918bd67e05c523f6,Use versionless keystone endpoints,MERGED,2017-02-28 15:38:37.000000000,2017-04-05 04:51:33.000000000,2017-04-05 04:51:33.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 10787}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22582}, {'_account_id': 22959}, {'_account_id': 23308}, {'_account_id': 23314}, {'_account_id': 23717}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-02-28 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/50a8d60a0fd378ad8f89447fa76a1139c68828cd', 'message': 'WIP Use versionless keystone endpoints\n\nnova quota fail to create due a recent change.\nKeystone endpoint cannot have version v3 in the url.\n\nChange-Id: Idb433d526f7d44dfe4fd02ee918bd67e05c523f6\nCloses-Bug: #1668663\n'}, {'number': 2, 'created': '2017-03-09 14:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79abe3878ddf73a8712120cbf93a65c577cdb7f3', 'message': 'Use versionless keystone endpoints\n\nnova quota fail to create due a recent change.\nKeystone endpoint cannot have version v3 in the url.\n\nDuring upgrade to Pike nova endpoint must be changed\nto be versionless.\n\nChange-Id: Idb433d526f7d44dfe4fd02ee918bd67e05c523f6\nCloses-Bug: #1668663\n'}, {'number': 3, 'created': '2017-03-15 14:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee2ba4e91a9dbaad48df4add164261990a8878a2', 'message': 'Use versionless keystone endpoints\n\nnova quota fail to create due a recent change.\nKeystone endpoint cannot have version v3 in the url.\n\nDuring upgrade to Pike nova endpoint must be changed\nto be versionless.\n\nChange-Id: Idb433d526f7d44dfe4fd02ee918bd67e05c523f6\nDepends-On: 3ad7fec84d2e38d5156e2e5d3076935332fcccfa\nCloses-Bug: #1668663\n'}, {'number': 4, 'created': '2017-03-19 12:30:49.000000000', 'files': ['ansible/roles/keystone/tasks/update_endpoints.yml', 'ansible/roles/keystone/tasks/upgrade.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b14f1c569540b85db854a50a5e76d62009e4e14e', 'message': 'Use versionless keystone endpoints\n\nnova quota fail to create due a recent change.\nKeystone endpoint cannot have version v3 in the url.\n\nDuring upgrade to Pike nova endpoint must be changed\nto be versionless.\n\nChange-Id: Idb433d526f7d44dfe4fd02ee918bd67e05c523f6\nDepends-On: I568db4559428525ac6c5083cfc20cffc20be6342\nCloses-Bug: #1668663\n'}]",2,439024,b14f1c569540b85db854a50a5e76d62009e4e14e,37,13,4,19316,,,0,"Use versionless keystone endpoints

nova quota fail to create due a recent change.
Keystone endpoint cannot have version v3 in the url.

During upgrade to Pike nova endpoint must be changed
to be versionless.

Change-Id: Idb433d526f7d44dfe4fd02ee918bd67e05c523f6
Depends-On: I568db4559428525ac6c5083cfc20cffc20be6342
Closes-Bug: #1668663
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/439024/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,50a8d60a0fd378ad8f89447fa76a1139c68828cd,bug/1668663,"keystone_admin_url: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }}"" keystone_internal_url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}"" keystone_public_url: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ keystone_public_port }}""","keystone_admin_url: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_admin_port }}/v3"" keystone_internal_url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}/v3"" keystone_public_url: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ keystone_public_port }}/v3""",3,3
openstack%2Ftempest~master~I82ac3dace47c187160dc683e0f740b0589773c0b,openstack/tempest,master,I82ac3dace47c187160dc683e0f740b0589773c0b,Fix tox coverage section,MERGED,2017-04-04 07:40:03.000000000,2017-04-05 04:45:56.000000000,2017-04-05 04:45:56.000000000,"[{'_account_id': 3}, {'_account_id': 7350}, {'_account_id': 8556}]","[{'number': 1, 'created': '2017-04-04 07:40:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c860912ddd728764ded6caa24dda911c9fc18171', 'message': ""Fix tox coverage section\n\nThis commit removes the setenv parameter of testenv:cover section in\ntox.ini. Recently, ''tox -e cover doesn't'' work, actually.\n\nChange-Id: I82ac3dace47c187160dc683e0f740b0589773c0b\n""}]",1,453049,c860912ddd728764ded6caa24dda911c9fc18171,9,3,1,5689,,,0,"Fix tox coverage section

This commit removes the setenv parameter of testenv:cover section in
tox.ini. Recently, ''tox -e cover doesn't'' work, actually.

Change-Id: I82ac3dace47c187160dc683e0f740b0589773c0b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/453049/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c860912ddd728764ded6caa24dda911c9fc18171,fix-cover,,setenv = OS_TEST_PATH=./tempest/tests,0,1
openstack%2Frally~master~I17545f7bf299adffcc0a7193ad26a90253f14022,openstack/rally,master,I17545f7bf299adffcc0a7193ad26a90253f14022,[REPORT] Adjust started_at param's form in task_report,MERGED,2017-02-14 01:51:54.000000000,2017-04-05 04:41:26.000000000,2017-04-05 04:41:26.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 13404}, {'_account_id': 14817}, {'_account_id': 19011}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-02-14 01:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a97254f58851d8b18458efb6e9dfec31b862f165', 'message': '[REPORT] Adjust started_at param\'s form in task_report\n\nAdjust started_at param in task report.\nFrom ""2017-02-14T07:33:04"" to ""2017-02-14 07:33:04""\n\nChange-Id: I17545f7bf299adffcc0a7193ad26a90253f14022\n'}, {'number': 2, 'created': '2017-03-22 18:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2d055f12bb704124fda0a8c2eddde10ace43c43d', 'message': '[REPORT] Adjust started_at param\'s form in task_report\n\nAdjust started_at param in task report.\nFrom ""2017-02-14T07:33:04"" to ""2017-02-14 07:33:04""\n\nChange-Id: I17545f7bf299adffcc0a7193ad26a90253f14022\n'}, {'number': 3, 'created': '2017-03-29 16:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/26ac53021db2669fd0f1cadc88a6c25d5a4eec76', 'message': '[REPORT] Adjust started_at param\'s form in task_report\n\nAdjust started_at param in task report.\nFrom ""2017-02-14T07:33:04"" to ""2017-02-14 07:33:04""\n\nChange-Id: I17545f7bf299adffcc0a7193ad26a90253f14022\n'}, {'number': 4, 'created': '2017-03-30 10:28:44.000000000', 'files': ['tests/unit/common/objects/test_task.py', 'rally/cli/commands/task.py', 'tests/unit/cli/commands/test_task.py', 'rally/common/objects/task.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/a036b6cd86d9bf6eef117fe4aa0260c20b3ce140', 'message': '[REPORT] Adjust started_at param\'s form in task_report\n\nAdjust started_at param in task report.\nFrom ""2017-02-14T07:33:04"" to ""2017-02-14 07:33:04""\n\nChange-Id: I17545f7bf299adffcc0a7193ad26a90253f14022\n'}]",2,433389,a036b6cd86d9bf6eef117fe4aa0260c20b3ce140,29,6,4,22960,,,0,"[REPORT] Adjust started_at param's form in task_report

Adjust started_at param in task report.
From ""2017-02-14T07:33:04"" to ""2017-02-14 07:33:04""

Change-Id: I17545f7bf299adffcc0a7193ad26a90253f14022
",git fetch https://review.opendev.org/openstack/rally refs/changes/89/433389/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/common/objects/test_task.py', 'rally/cli/commands/task.py', 'tests/unit/cli/commands/test_task.py', 'rally/common/objects/task.py']",4,a97254f58851d8b18458efb6e9dfec31b862f165,task-report," scenario[k] = scenario[k].strftime(""%Y-%d-%m %H:%M:%S"")"," scenario[k] = scenario[k].strftime(""%Y-%d-%mT%H:%M:%S"")",10,10
openstack%2Fcongress~master~I41dc35ae23a0bda2d6d8cc323b06fc3e0c050fa7,openstack/congress,master,I41dc35ae23a0bda2d6d8cc323b06fc3e0c050fa7,Use HostAddressOpt for opts that accept IP and hostnames,MERGED,2017-03-25 11:04:22.000000000,2017-04-05 04:37:52.000000000,2017-04-05 04:37:52.000000000,"[{'_account_id': 3}, {'_account_id': 11278}, {'_account_id': 18591}]","[{'number': 1, 'created': '2017-03-25 11:04:22.000000000', 'files': ['congress/common/config.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/7ff0027dc5628c9950ced4ffd8aa72d3f54b1630', 'message': 'Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using ``StrOpt``. The change [1] that\nadded support for ``HostAddressOpt`` type was merged in Ocata\nand became available for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to use\nthis more relevant opt type - HostAddressOpt.\n\n[1] I77bdb64b7e6e56ce761d76696bc4448a9bd325eb\n\nChange-Id: I41dc35ae23a0bda2d6d8cc323b06fc3e0c050fa7\n'}]",0,449911,7ff0027dc5628c9950ced4ffd8aa72d3f54b1630,20,3,1,24903,,,0,"Use HostAddressOpt for opts that accept IP and hostnames

Some configuration options were accepting both IP addresses
and hostnames. Since there was no specific OSLO opt type to
support this, we were using ``StrOpt``. The change [1] that
added support for ``HostAddressOpt`` type was merged in Ocata
and became available for use with oslo version 3.22.

This patch changes the opt type of configuration options to use
this more relevant opt type - HostAddressOpt.

[1] I77bdb64b7e6e56ce761d76696bc4448a9bd325eb

Change-Id: I41dc35ae23a0bda2d6d8cc323b06fc3e0c050fa7
",git fetch https://review.opendev.org/openstack/congress refs/changes/11/449911/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/common/config.py'],1,7ff0027dc5628c9950ced4ffd8aa72d3f54b1630,HostAddressOpt," cfg.HostAddressOpt('bind_host', default='0.0.0.0', help=""The host IP to bind to""),"," cfg.StrOpt('bind_host', default='0.0.0.0', help=""The host IP to bind to""),",2,2
openstack%2Fmonasca-agent~master~Ie0c02729917e161bbc0134443f423837e80492e3,openstack/monasca-agent,master,Ie0c02729917e161bbc0134443f423837e80492e3,Added missing .example extension to files in conf.d,ABANDONED,2016-07-22 08:19:35.000000000,2017-04-05 04:14:26.000000000,,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 10068}, {'_account_id': 15027}]","[{'number': 1, 'created': '2016-07-22 08:19:35.000000000', 'files': ['conf.d/load.yaml.example', 'conf.d/memory.yaml.example', 'conf.d/disk.yaml.example', 'conf.d/vcenter.yaml.example', 'conf.d/cpu.yaml.example', 'conf.d/network.yaml.example'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/e5f4384b67d3529f2d543794aac9b33e3fbe5880', 'message': 'Added missing .example extension to files in conf.d\n\nChange-Id: Ie0c02729917e161bbc0134443f423837e80492e3\n'}]",0,345895,e5f4384b67d3529f2d543794aac9b33e3fbe5880,6,4,1,17460,,,0,"Added missing .example extension to files in conf.d

Change-Id: Ie0c02729917e161bbc0134443f423837e80492e3
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/95/345895/1 && git format-patch -1 --stdout FETCH_HEAD,"['conf.d/load.yaml.example', 'conf.d/memory.yaml.example', 'conf.d/disk.yaml.example', 'conf.d/vcenter.yaml.example', 'conf.d/cpu.yaml.example', 'conf.d/network.yaml.example']",6,e5f4384b67d3529f2d543794aac9b33e3fbe5880,,,,0,0
openstack%2Fmonasca-agent~master~I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639,openstack/monasca-agent,master,I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639,Removed oslo libs config and utils,ABANDONED,2016-08-16 19:20:42.000000000,2017-04-05 04:09:46.000000000,,"[{'_account_id': 3}, {'_account_id': 11809}, {'_account_id': 14273}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 18179}, {'_account_id': 19339}, {'_account_id': 20033}, {'_account_id': 22157}]","[{'number': 1, 'created': '2016-08-16 19:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/17cdbfa2c0bbc3eb83a3efa95aa33add54000522', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 2, 'created': '2016-08-16 23:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/0a8c9882cc621ff7090e0101ab9ad9c106edd400', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 3, 'created': '2016-08-17 16:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/debe445bcbc4a6dbe043c9c75dfecc259f6cb06c', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 4, 'created': '2016-08-18 16:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/324fb33a76deaeb03472c5e1c08b44b5470478d3', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 5, 'created': '2016-09-06 15:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f7f9cadb41039205cffdd2805159f095ee466556', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 6, 'created': '2016-09-06 16:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/8606db9555901a27c9ff1bbdd6350178aec9e01d', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 7, 'created': '2017-01-10 21:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/2d74ed774fa21bf0b233fd7e4f4fa2be73106657', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 8, 'created': '2017-01-11 17:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/26f274d3ab19c12d6485cccc7be67e20dfe9754a', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 9, 'created': '2017-01-11 21:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/832e33af981fd63fe11e5483fb5d12d969ad4545', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 10, 'created': '2017-01-12 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/84ad65fc46ddb61c41e9c1cee1a3afa93e9bab27', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 11, 'created': '2017-01-13 20:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a53dc3fb7ba9ad1589a6f0759d94842958dc9669', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 12, 'created': '2017-03-27 05:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/8f23efddea5a12ae799834581be4d51114bed262', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 13, 'created': '2017-03-27 06:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ad1b640f5923183d8e1d65b62915446ed1fd0008', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}, {'number': 14, 'created': '2017-04-04 08:21:05.000000000', 'files': ['monasca_agent/collector/virt/inspector.py', 'monasca_agent/collector/virt/hyperv/inspector.py', 'requirements.txt', 'monasca_agent/collector/virt/vmware/inspector.py', 'monasca_agent/collector/virt/libvirt/inspector.py', 'monasca_agent/collector/virt/xenapi/inspector.py', 'monasca_agent/collector/virt/args.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/50c8d7c7b058bf55bb41f7d2c87df4f30d3812b1', 'message': 'Removed oslo libs config and utils\n\nChange-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639\n'}]",14,356104,50c8d7c7b058bf55bb41f7d2c87df4f30d3812b1,59,9,14,22157,,,0,"Removed oslo libs config and utils

Change-Id: I6fead830dd3eb8c9ce6ae1264bc9e93077d4a639
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/04/356104/12 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/virt/inspector.py', 'monasca_agent/collector/virt/hyperv/inspector.py', 'requirements.txt', 'monasca_agent/collector/virt/vmware/inspector.py', 'monasca_agent/collector/virt/libvirt/inspector.py', 'monasca_agent/collector/virt/xenapi/inspector.py']",6,17cdbfa2c0bbc3eb83a3efa95aa33add54000522,oslo,"cfg{'connection_url' : '', 'connection_username' : 'root', 'connection_password' : '', # ~~~ NOTE: There was a secret=True option here ~~~ # 'login_timeout' : 10} helpstr{'connection_url' : 'URL for connection to XenServer/Xen Cloud Platform.', 'connection_username' : 'Username for connection to XenServer/Xen Cloud Platform.', 'connection_password' : 'Password for connection to XenServer/Xen Cloud Platform.', 'login_timeout' : 'Timeout in seconds for XenAPI login.'} url = cfg['connection_url'] username = cfg['connection_password'] password = cfg['connection_username'] with timeout.Timeout(cfg['login_timeout'], exception): self.Ki = 1024 self.Mi = 1024 ** 2 memory = long(metrics_rec['memory_actual']) / self.Mi rx_rate = float(vif_metrics_rec['io_read_kbs']) * self.Ki tx_rate = float(vif_metrics_rec['io_write_kbs']) * self.Ki read_rate = float(vbd_metrics_rec['io_read_kbs']) * self.Ki write_rate = float(vbd_metrics_rec['io_write_kbs']) * self.Ki","from oslo_config import cfg from oslo_utils import unitsopt_group = cfg.OptGroup(name='xenapi', title='Options for XenAPI') OPTS = [ cfg.StrOpt('connection_url', help='URL for connection to XenServer/Xen Cloud Platform.'), cfg.StrOpt('connection_username', default='root', help='Username for connection to XenServer/Xen Cloud ' 'Platform.'), cfg.StrOpt('connection_password', help='Password for connection to XenServer/Xen Cloud Platform.', secret=True), cfg.IntOpt('login_timeout', default=10, help='Timeout in seconds for XenAPI login.'), ] CONF = cfg.CONF CONF.register_group(opt_group) CONF.register_opts(OPTS, group=opt_group) url = CONF.xenapi.connection_url username = CONF.xenapi.connection_username password = CONF.xenapi.connection_password with timeout.Timeout(CONF.xenapi.login_timeout, exception): memory = long(metrics_rec['memory_actual']) / units.Mi rx_rate = float(vif_metrics_rec['io_read_kbs']) * units.Ki tx_rate = float(vif_metrics_rec['io_write_kbs']) * units.Ki read_rate = float(vbd_metrics_rec['io_read_kbs']) * units.Ki write_rate = float(vbd_metrics_rec['io_write_kbs']) * units.Ki",72,128
openstack%2Fdragonflow~master~Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e,openstack/dragonflow,master,Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e,Add reconnection for PUB zmq socket,MERGED,2017-03-31 10:49:46.000000000,2017-04-05 04:03:20.000000000,2017-04-05 04:03:20.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 20229}]","[{'number': 1, 'created': '2017-03-31 10:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/f5348b71173391870de12e1cf2cb822ae7629ef0', 'message': 'Add reconnection for PUB zmq socket\n\n1. Implement reconnection for PUB socket.\n2. Refactor some codes to make it more stable.\n\nChange-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e\nCloses-Bug: #1678054\n'}, {'number': 2, 'created': '2017-03-31 10:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b96ea26261a2613f10aa712c6587e657ed09f934', 'message': 'Add reconnection for PUB zmq socket\n\n1. Implement reconnection for PUB socket.\n2. Refactor some codes to make it more stable.\n\nChange-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e\nCloses-Bug: #1678054\n'}, {'number': 3, 'created': '2017-04-01 04:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/c330af9c86c5e3afa2466d82d037c3d590039240', 'message': 'Add reconnection for PUB zmq socket\n\n1. Implement reconnection for PUB socket.\n2. Reuse zmq context.\n3. Refactor some codes to make it more stable.\n\nChange-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e\nCloses-Bug: #1678054\n'}, {'number': 4, 'created': '2017-04-01 04:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/77e25c1a7e9a5d062a01c6a02e4e3daa5977aa21', 'message': 'Add reconnection for PUB zmq socket\n\n1. Implement reconnection for PUB socket.\n2. Reuse zmq context.\n3. Refactor some codes to make it more stable.\n\nChange-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e\nCloses-Bug: #1678054\n'}, {'number': 5, 'created': '2017-04-02 03:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/41902c56aa11924eddfbdfb3b4e1a7c5e82d7554', 'message': 'Add reconnection for PUB zmq socket\n\n1. Implement reconnection for PUB socket.\n2. Reuse zmq context.\n3. Refactor some codes to make it more stable.\n4. Add zmq pubsub unit tests\n\nChange-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e\nCloses-Bug: #1678054\n'}, {'number': 6, 'created': '2017-04-03 06:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/141c76a261773e1fc52b59d1ccdee4679f3ea7ed', 'message': 'Add reconnection for PUB zmq socket\n\n1. Implement reconnection for PUB socket.\n2. Reuse zmq context.\n3. Refactor some codes to make it more stable.\n4. Add zmq pubsub unit tests\n\nChange-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e\nCloses-Bug: #1678054\n'}, {'number': 7, 'created': '2017-04-04 15:40:32.000000000', 'files': ['dragonflow/tests/unit/test_zmq_pubsub.py', 'dragonflow/db/pubsub_drivers/zmq_pubsub_driver.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ca0540ea1fb4c47148244d7d760c687712c000c7', 'message': 'Add reconnection for PUB zmq socket\n\n1. Implement reconnection for PUB socket.\n2. Reuse zmq context.\n3. Refactor some codes to make it more stable.\n4. Add zmq pubsub unit tests\n\nChange-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e\nCloses-Bug: #1678054\n'}]",12,452141,ca0540ea1fb4c47148244d7d760c687712c000c7,19,4,7,7805,,,0,"Add reconnection for PUB zmq socket

1. Implement reconnection for PUB socket.
2. Reuse zmq context.
3. Refactor some codes to make it more stable.
4. Add zmq pubsub unit tests

Change-Id: Iba94fd5d0d5fa8958b508a9ceb2eccd4b062913e
Closes-Bug: #1678054
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/41/452141/7 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/db/pubsub_drivers/zmq_pubsub_driver.py'],1,f5348b71173391870de12e1cf2cb822ae7629ef0,bug/1678054," self.context = None LOG.debug(""Sending %s"", update) self.context.term() self.context = zmq.Context() self.socket = self.context.socket(zmq.PUB) self.socket.setsockopt(zmq.LINGER, 0) LOG.debug(""About to bind to network socket: %s"", self._endpoint) def send_event(self, update, topic=None): if not self.socket: self._connect() super(ZMQPublisherAgent, self).send_event(update, topic) self.context = zmq.Context() self.socket = self.context.socket(zmq.PUSH) ipc_socket = cfg.CONF.df.publisher_multiproc_socket LOG.debug(""About to connect to IPC socket: %s"", ipc_socket) self.socket.connect('ipc://%s' % ipc_socket) self.inproc_server = None self.context = None self.context = zmq.Context() self.inproc_server = self.context.socket(zmq.PULL) LOG.debug(""About to bind to IPC socket: %s"", ipc_socket) self.inproc_server.bind('ipc://%s' % ipc_socket) return self.inproc_server self.context = zmq.Context() self.socket = self.context.socket(zmq.SUB) LOG.debug(""About to connect to network publisher at %s"", uri) self.socket.connect(uri) for topic in self.topic_list: self.socket.setsockopt(zmq.SUBSCRIBE, topic) return self.socket"," LOG.debug(""sending %s"", update) context = zmq.Context() self.socket = context.socket(zmq.PUB) LOG.debug(""about to bind to network socket: %s"", self._endpoint) self.ipc_socket = cfg.CONF.df.publisher_multiproc_socket context = zmq.Context() self.socket = context.socket(zmq.PUSH) LOG.debug(""about to connect to IPC socket: %s"", self.ipc_socket) self.socket.connect('ipc://%s' % self.ipc_socket) context = zmq.Context() inproc_server = context.socket(zmq.PULL) LOG.debug(""about to bind to IPC socket: %s"", ipc_socket) inproc_server.bind('ipc://%s' % ipc_socket) return inproc_server context = zmq.Context() socket = context.socket(zmq.SUB) LOG.debug(""about to connect to network publisher at %s"", uri) socket.connect(uri) for topic in self.topic_list: socket.setsockopt(zmq.SUBSCRIBE, topic) return socket",30,20
openstack%2Fnetworking-odl~master~I5bf0da901db038da7c7a5da021c1e120ef06a486,openstack/networking-odl,master,I5bf0da901db038da7c7a5da021c1e120ef06a486,DO NOT REVIEW/MERGE: cleanup workaroud,ABANDONED,2016-12-20 08:19:33.000000000,2017-04-05 03:42:05.000000000,,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 15070}]","[{'number': 1, 'created': '2016-12-20 08:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6b75b587fce39f31e0b0991f428d8ebad3c6632c', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 2, 'created': '2016-12-20 08:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/545b4d9cebde6fef60a68f676cb779b83da7f93f', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 3, 'created': '2016-12-21 01:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3ac2315400bbaed2b8171e559ebc86a1323598f4', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 4, 'created': '2016-12-21 04:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/de54fc30b1ffbb9efc7dba180f1d91bd316f9b35', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 5, 'created': '2016-12-21 07:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6fbc40d18d6fc0ccb94c98aa4820a91b872f1437', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 6, 'created': '2016-12-21 08:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/330e158cc106d361ff4565d5dc83ec1a73c9a2f2', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 7, 'created': '2016-12-22 01:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3fb329f3ff9d13a903a175ed5f4a85f512501bff', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 8, 'created': '2016-12-22 05:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/85ddb21bb16610c43819bc58bd662543933d0363', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 9, 'created': '2016-12-22 08:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f049290998cbc1a69096e50a344751aa27bde341', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 10, 'created': '2016-12-22 08:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f3969d3374afbe466ce9a8229ddb088a8f00c868', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 11, 'created': '2016-12-23 00:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/658e776c3f6c6c560e92f44024e24c643876d6c1', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 12, 'created': '2016-12-23 03:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9c685b8779b314e6507d3a68df278e28cf35b1b0', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 13, 'created': '2016-12-26 02:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2e4852937138c75cf1de97974256921e2473c9cd', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 14, 'created': '2016-12-27 07:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d3c394de68ec0258f7a39f9a48bced11707e7944', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 15, 'created': '2016-12-27 08:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f8bb7063e71fc4d9ec278636a3ba57228ad7f420', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 16, 'created': '2016-12-28 00:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c6d43e019fb54d55926c2d8cec9563200d4d8e2a', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 17, 'created': '2016-12-28 03:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b23252c2943f0f789d1b3f137f8bbe34340f0929', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 18, 'created': '2016-12-28 06:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3a7a313b5ff8f1193fbfe86c487196565023a872', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 19, 'created': '2016-12-30 00:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9eb98263db3ba9785e97efdcda25e83bd1a2499a', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 20, 'created': '2016-12-30 03:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9d916880d4b905062a161c29362380cc7b5b01c6', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 21, 'created': '2016-12-30 05:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6ffc2c66d8641e3c7223096c0da18fc48b4142b5', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 22, 'created': '2016-12-30 06:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ba5a759612f14c5445f6d6a54e811225ecce0354', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 23, 'created': '2017-01-03 01:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e6c9eeddffa1c7b6e55ef6d862a43de45a12be1d', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 24, 'created': '2017-01-03 05:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e8a48a54dc3b8ecdbf633aa005deb7f628fadc31', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 25, 'created': '2017-01-03 07:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8df0ae85803ec1ca9cec23afe8751bc5ce0896af', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 26, 'created': '2017-01-03 08:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/241ba70f53333ac4a15b787124dcae02cfdd2ce1', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 27, 'created': '2017-01-03 13:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9d0b5fde46f442c442fa2e40cf640bbba2815114', 'message': 'DO NOT MERGE: Set new netvirt as default\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 28, 'created': '2017-01-04 00:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/da871133a243d18e6519f03d02ddca9b628fdf78', 'message': 'DO NOT MERGE: test legacy netvirt + boron + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 29, 'created': '2017-01-04 02:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dfc485352bcf1c47cd63f0bad4c0d53801555e45', 'message': 'DO NOT MERGE: test legacy netvirt + boron + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 30, 'created': '2017-01-04 19:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f86887af9280b5cab39893ae2f179a7604a579c4', 'message': 'DO NOT MERGE: test legacy netvirt + boron + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 31, 'created': '2017-01-05 01:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bfd447767b52fdcb51de16cff6929fe7730e7014', 'message': 'DO NOT MERGE: test legacy netvirt + carbon + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 32, 'created': '2017-01-05 03:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2989b4b82944b688696c055c2d40a309780273c3', 'message': 'DO NOT MERGE: test legacy netvirt + carbon + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 33, 'created': '2017-01-05 03:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8062d775e00db0f38440ce8f6065374654ca398c', 'message': 'DO NOT MERGE: test legacy netvirt + carbon + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 34, 'created': '2017-01-05 05:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fdc20a49e5212ffd100b67efcf616b0198f0310c', 'message': 'DO NOT MERGE: test legacy netvirt + carbon + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 35, 'created': '2017-01-05 13:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5c713aa65c5b288d5bec9b9af546277024a05cc4', 'message': 'DO NOT MERGE: test legacy netvirt + carbon + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 36, 'created': '2017-01-06 00:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/59e7c17541e43a5ab0a8d845ecf65a746f0ec9ce', 'message': 'DO NOT MERGE: test legacy netvirt + carbon + multinode\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 37, 'created': '2017-01-09 03:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7a11c3d33329e2c898524272e8be1e5ccbaf6e5b', 'message': 'DO NOT REVIEW/MERGE: regression test\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 38, 'created': '2017-01-09 07:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f4c006c427c21476ab13c985f3444975a29c8a21', 'message': 'DO NOT REVIEW/MERGE: regression test\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 39, 'created': '2017-01-10 03:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/13613376f8308065638fa4a0730e993aa72922c6', 'message': 'DO NOT REVIEW/MERGE: regression test\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\nSigned-off-by: Guo Ruijing <ruijing.guo@intel.com>\n'}, {'number': 40, 'created': '2017-01-10 08:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/16600e97e7b9db7591897801d2023fbbd3e4589c', 'message': 'DO NOT REVIEW/MERGE: regression test\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 41, 'created': '2017-01-17 00:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dc2a43ddda4d736a07b802da7f354ad9e9e12d26', 'message': 'DO NOT REVIEW/MERGE: regression test\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 42, 'created': '2017-03-30 06:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0d9f83bfd43e8d7a1287083172feb7cf2f58216c', 'message': 'DO NOT REVIEW/MERGE: cleanup workaroud\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}, {'number': 43, 'created': '2017-04-05 01:51:15.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f67492298b210e7230b391a6235144868a156ede', 'message': 'DO NOT REVIEW/MERGE: cleanup workaroud\n\nChange-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486\n'}]",0,412864,f67492298b210e7230b391a6235144868a156ede,110,3,43,15070,,,0,"DO NOT REVIEW/MERGE: cleanup workaroud

Change-Id: I5bf0da901db038da7c7a5da021c1e120ef06a486
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/64/412864/43 && git format-patch -1 --stdout FETCH_HEAD,['devstack/pre_test_hook.sh'],1,6b75b587fce39f31e0b0991f428d8ebad3c6632c,(detached, vpnservice|*) netvirt), vpnservice) netvirt|*),2,2
openstack%2Fkeystone~master~I52215694a753dcb4761421d8306700cf35491342,openstack/keystone,master,I52215694a753dcb4761421d8306700cf35491342,Move credential policies to DocumentedRuleDefault,MERGED,2017-03-23 17:27:02.000000000,2017-04-05 03:36:58.000000000,2017-04-05 03:36:58.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 11022}, {'_account_id': 17860}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-03-23 17:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/15955a9d5fb56fa56d8f47abefdfd3046f729e0e', 'message': 'Move credential policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our credential policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I52215694a753dcb4761421d8306700cf35491342\nPartially-Implements: bp policy-docs\n'}, {'number': 2, 'created': '2017-03-28 01:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/49a786ce79c74d3eb57f1ab4412302e0fc9a8f73', 'message': 'Move credential policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our credential policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I52215694a753dcb4761421d8306700cf35491342\nPartially-Implements: bp policy-docs\n'}, {'number': 3, 'created': '2017-03-28 16:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7bf0d72ef53654535971c51c3773c5b64eb9dc9b', 'message': 'Move credential policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our credential policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I52215694a753dcb4761421d8306700cf35491342\nPartially-Implements: bp policy-docs\n'}, {'number': 4, 'created': '2017-04-04 16:11:11.000000000', 'files': ['keystone/common/policies/credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/498ddaa81801954c7c75068ffa3baa28a8ca0f83', 'message': 'Move credential policies to DocumentedRuleDefault\n\nA new policy class was introduce that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our credential policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: I52215694a753dcb4761421d8306700cf35491342\nPartially-Implements: bp policy-docs\n'}]",3,449233,498ddaa81801954c7c75068ffa3baa28a8ca0f83,18,5,4,22219,,,0,"Move credential policies to DocumentedRuleDefault

A new policy class was introduce that requires
additional parameters when defining policy objects.

This patch switches our credential policy object to
the policy.DocumentedRuleDefault and fills the
required policy parameters as needed.

Change-Id: I52215694a753dcb4761421d8306700cf35491342
Partially-Implements: bp policy-docs
",git fetch https://review.opendev.org/openstack/keystone refs/changes/33/449233/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/credential.py'],1,15955a9d5fb56fa56d8f47abefdfd3046f729e0e,bp/policy-docs," policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Show credentials details', operations=[{'path': '/v3/credentials/{credential_id}', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='List credentials', operations=[{'path': '/v3/credentials', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Create credential', operations=[{'path': '/v3/credentials', 'method': 'POST'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Update credential', operations=[{'path': '/v3/credentials/{credential_id}', 'method': 'PATCH'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Delete credential', operations=[{'path': '/v3/credentials/{credential_id}', 'method': 'DELETE'}])"," policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED)",25,10
openstack%2Ftripleo-quickstart~master~I8f3680129205ff120bb455becbe6a9291035fe8a,openstack/tripleo-quickstart,master,I8f3680129205ff120bb455becbe6a9291035fe8a,fix virthost yum repo setup,MERGED,2017-03-30 23:31:56.000000000,2017-04-05 03:35:07.000000000,2017-04-05 03:35:07.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-03-30 23:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/533156d2504267595c3a51e3b9a2742ede1d7913', 'message': 'fix virthost yum repo setup\n\nFew issues found:\n1. the repo-setup playbook in tqe was overwriting\nthe repo-setup playbook in tq.\n2. added the proper tags\n3. create a default variable in tq/common\n4. move repo-setup earlier in the workflow.\nIn most cases this will just be skipped, however\nin the cases where custom yum repo-setup is required\nit is best to do it early in the workflow.\n\nChange-Id: I8f3680129205ff120bb455becbe6a9291035fe8a\n'}, {'number': 2, 'created': '2017-04-04 19:27:51.000000000', 'files': ['playbooks/repo-setup-virthost.yml', 'playbooks/repo-setup.yml', 'roles/common/defaults/main.yml', 'playbooks/quickstart.yml', 'playbooks/provision.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ecb109d647b0cf9a5640abf5d44ff9993318ffdc', 'message': 'fix virthost yum repo setup\n\nFew issues found:\n1. the repo-setup playbook in tqe was overwriting\nthe repo-setup playbook in tq.\n2. added the proper tags\n3. create a default variable in tq/common\n4. move repo-setup earlier in the workflow.\nIn most cases this will just be skipped, however\nin the cases where custom yum repo-setup is required\nit is best to do it early in the workflow.\n\nChange-Id: I8f3680129205ff120bb455becbe6a9291035fe8a\n'}]",0,452008,ecb109d647b0cf9a5640abf5d44ff9993318ffdc,20,6,2,9592,,,0,"fix virthost yum repo setup

Few issues found:
1. the repo-setup playbook in tqe was overwriting
the repo-setup playbook in tq.
2. added the proper tags
3. create a default variable in tq/common
4. move repo-setup earlier in the workflow.
In most cases this will just be skipped, however
in the cases where custom yum repo-setup is required
it is best to do it early in the workflow.

Change-Id: I8f3680129205ff120bb455becbe6a9291035fe8a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/08/452008/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/repo-setup-virthost.yml', 'playbooks/repo-setup.yml', 'roles/common/defaults/main.yml', 'playbooks/quickstart.yml', 'playbooks/provision.yml']",5,533156d2504267595c3a51e3b9a2742ede1d7913,,,# Allow the user to optionally perform a yum repo setup # Default is set to false as the quickstart images will provide the # correct yum repos. - include: repo-setup.yml when: virthost_repo_setup|default(false) ,16,12
openstack%2Fswift~master~I1cdca1777cc175b5adec5acbdf28d73ad61472b9,openstack/swift,master,I1cdca1777cc175b5adec5acbdf28d73ad61472b9,update doc infos to ocata,ABANDONED,2017-03-28 05:53:51.000000000,2017-04-05 03:26:19.000000000,,"[{'_account_id': 3}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-03-28 05:53:51.000000000', 'files': ['releasenotes/source/newton.rst', 'install-guide/source/controller-install-ubuntu.rst', 'install-guide/source/storage-install-rdo.rst', 'install-guide/source/controller-install-rdo.rst', 'releasenotes/source/ocata.rst', 'install-guide/source/controller-install-debian.rst', 'install-guide/source/storage-install-ubuntu-debian.rst', 'install-guide/source/finalize-installation-rdo.rst', 'releasenotes/source/index.rst', 'install-guide/source/finalize-installation-ubuntu-debian.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/705086f87a6896868c8d53c5ad8b2fbb38d1e422', 'message': 'update doc infos to ocata\n\nThe recent release has been to ocata,\nso the doc should be updated accordingly\n\nChange-Id: I1cdca1777cc175b5adec5acbdf28d73ad61472b9\n'}]",2,450571,705086f87a6896868c8d53c5ad8b2fbb38d1e422,5,3,1,25456,,,0,"update doc infos to ocata

The recent release has been to ocata,
so the doc should be updated accordingly

Change-Id: I1cdca1777cc175b5adec5acbdf28d73ad61472b9
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/450571/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'install-guide/source/controller-install-rdo.rst', 'install-guide/source/controller-install-ubuntu.rst', 'install-guide/source/storage-install-rdo.rst', 'releasenotes/source/ocata.rst', 'install-guide/source/controller-install-debian.rst', 'install-guide/source/storage-install-ubuntu-debian.rst', 'install-guide/source/finalize-installation-rdo.rst', 'releasenotes/source/index.rst', 'install-guide/source/finalize-installation-ubuntu-debian.rst']",10,705086f87a6896868c8d53c5ad8b2fbb38d1e422,, https://git.openstack.org/cgit/openstack/swift/plain/etc/swift.conf-sample?h=stable/ocata, https://git.openstack.org/cgit/openstack/swift/plain/etc/swift.conf-sample?h=stable/newton,18,18
openstack%2Fopenstack-ansible-os_cinder~master~Ia64b2f548161745e4ec75197c67119fbfedd69a0,openstack/openstack-ansible-os_cinder,master,Ia64b2f548161745e4ec75197c67119fbfedd69a0,Deprecate auth_plugin option,MERGED,2017-03-22 03:05:22.000000000,2017-04-05 03:21:32.000000000,2017-04-05 03:21:32.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-03-22 03:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/c633afea58e83ce4f020dd345c3799a622b8b527', 'message': 'Deprecate auth_plugin option\n\nOption ""auth_plugin"" is deprecated, use option ""auth_type"" instead.\n\nChange-Id: Ia64b2f548161745e4ec75197c67119fbfedd69a0\nImplements: blueprint deprecate-auth-plugin\n'}, {'number': 2, 'created': '2017-03-25 04:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/ff31330fc72af91eb20354cdd2cb1649c5926a52', 'message': 'Deprecate auth_plugin option\n\nOption ""auth_plugin"" is deprecated, use option ""auth_type"" instead.\n\nChange-Id: Ia64b2f548161745e4ec75197c67119fbfedd69a0\nImplements: blueprint deprecate-auth-plugin\n'}, {'number': 3, 'created': '2017-03-25 04:27:54.000000000', 'files': ['releasenotes/notes/deprecate_auth_plugin-1a78326719d67f23.yaml', 'defaults/main.yml', 'templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b0e5eb6e27e01e8721d2f04f957b9ae62bd905e3', 'message': 'Deprecate auth_plugin option\n\nOption ""auth_plugin"" is deprecated, use option ""auth_type"" instead.\n\nChange-Id: Ia64b2f548161745e4ec75197c67119fbfedd69a0\nImplements: blueprint deprecate-auth-plugin\n'}]",0,448362,b0e5eb6e27e01e8721d2f04f957b9ae62bd905e3,28,4,3,9414,,,0,"Deprecate auth_plugin option

Option ""auth_plugin"" is deprecated, use option ""auth_type"" instead.

Change-Id: Ia64b2f548161745e4ec75197c67119fbfedd69a0
Implements: blueprint deprecate-auth-plugin
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/62/448362/3 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/cinder.conf.j2']",2,c633afea58e83ce4f020dd345c3799a622b8b527,bp/deprecate-auth-plugin,auth_type = {{ cinder_keystone_auth_plugin }},auth_plugin = {{ cinder_keystone_auth_plugin }},3,2
openstack%2Fdragonflow~master~Id07a362a6ecd9d713a1a1eac2c88a49ce66b01e2,openstack/dragonflow,master,Id07a362a6ecd9d713a1a1eac2c88a49ce66b01e2,Remove dragonflow.db.models2,MERGED,2017-04-03 12:00:12.000000000,2017-04-05 03:19:34.000000000,2017-04-05 03:19:34.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-04-03 12:00:12.000000000', 'files': ['dragonflow/db/models2/__init__.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/af6ea119664f5cea97b49d593b4bb16e00ef3ca1', 'message': 'Remove dragonflow.db.models2\n\nThis module is both empty and not used. Therefore, I propose to remove\nit.\n\nTrivialFix\n\nChange-Id: Id07a362a6ecd9d713a1a1eac2c88a49ce66b01e2\n'}]",0,452730,af6ea119664f5cea97b49d593b4bb16e00ef3ca1,11,5,1,20229,,,0,"Remove dragonflow.db.models2

This module is both empty and not used. Therefore, I propose to remove
it.

TrivialFix

Change-Id: Id07a362a6ecd9d713a1a1eac2c88a49ce66b01e2
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/30/452730/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/db/models2/__init__.py'],1,af6ea119664f5cea97b49d593b4bb16e00ef3ca1,rm-models2,,,0,0
openstack%2Fdragonflow~master~Icdc460a441b8c61396fb5470b81b06c8ada50070,openstack/dragonflow,master,Icdc460a441b8c61396fb5470b81b06c8ada50070,Add option to NbAPI methods to skip publishing event,MERGED,2017-04-04 09:02:00.000000000,2017-04-05 03:19:28.000000000,2017-04-05 03:19:28.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 20229}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-04-04 09:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/f5dd4d59770ef6eb0adb06d2a41d27f14062e57e', 'message': ""NbAPI should not publish if not a neutron server\n\nIt is possible that create, update, or delete are called on a\nnon-neutron server nb api instance. This change verifies that an event\nis not sent, since the publisher isn't initialised.\n\nChange-Id: Icdc460a441b8c61396fb5470b81b06c8ada50070\n""}, {'number': 2, 'created': '2017-04-04 14:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/0ed6152b196992098d137883ac84fbb933057607', 'message': 'Add option to NbAPI methods to skip publishing event\n\nIn some cases, it is desired to modify the NB database, but not publish\nan event (e.g. not a Neutron server). Checking for neutron-server-ness\nis not enough due to applications e.g. ActivePortDetection. Therefore,\nwe add an optional flag to not publish an event.\n\nChange-Id: Icdc460a441b8c61396fb5470b81b06c8ada50070\n'}, {'number': 3, 'created': '2017-04-04 14:28:53.000000000', 'files': ['dragonflow/db/api_nb.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/c5a96739a832d8d48f01d31bb73d2416b955738c', 'message': 'Add option to NbAPI methods to skip publishing event\n\nIn some cases, it is desired to modify the NB database, but not publish\nan event (e.g. not a Neutron server). Checking for neutron-server-ness\nis not enough due to applications e.g. ActivePortDetection. Therefore,\nwe add an optional flag to not publish an event.\n\nChange-Id: Icdc460a441b8c61396fb5470b81b06c8ada50070\n'}]",2,453068,c5a96739a832d8d48f01d31bb73d2416b955738c,12,5,3,20229,,,0,"Add option to NbAPI methods to skip publishing event

In some cases, it is desired to modify the NB database, but not publish
an event (e.g. not a Neutron server). Checking for neutron-server-ness
is not enough due to applications e.g. ActivePortDetection. Therefore,
we add an optional flag to not publish an event.

Change-Id: Icdc460a441b8c61396fb5470b81b06c8ada50070
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/68/453068/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/db/api_nb.py'],1,f5dd4d59770ef6eb0adb06d2a41d27f14062e57e,bp/services-status, if not self.use_pubsub or not self.is_neutron_server:, if not self.use_pubsub:,1,1
openstack%2Fbarbican~master~I8ba0289c160ada618383b65a53b5cd1fabfe54a6,openstack/barbican,master,I8ba0289c160ada618383b65a53b5cd1fabfe54a6,Updated from global requirements,MERGED,2017-04-01 15:22:06.000000000,2017-04-05 03:15:57.000000000,2017-04-05 03:15:57.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 11561}]","[{'number': 1, 'created': '2017-04-01 15:22:06.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/65c017cbeb178e2dd953e60a3f45d22515729222', 'message': 'Updated from global requirements\n\nChange-Id: I8ba0289c160ada618383b65a53b5cd1fabfe54a6\n'}]",0,452464,65c017cbeb178e2dd953e60a3f45d22515729222,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I8ba0289c160ada618383b65a53b5cd1fabfe54a6
",git fetch https://review.opendev.org/openstack/barbican refs/changes/64/452464/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,65c017cbeb178e2dd953e60a3f45d22515729222,openstack/requirements,WebOb>=1.7.1 # MIT,WebOb>=1.6.0 # MIT,1,1
openstack%2Fopenstack-ansible-os_gnocchi~master~I672f1a40231378db596a418b68ff288bf5c562d9,openstack/openstack-ansible-os_gnocchi,master,I672f1a40231378db596a418b68ff288bf5c562d9,Deprecate auth_plugin option,MERGED,2017-03-22 03:08:49.000000000,2017-04-05 03:13:07.000000000,2017-04-05 03:13:07.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 9414}, {'_account_id': 10881}]","[{'number': 1, 'created': '2017-03-22 03:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/fcbdec3cfc9090d70c130c45abf75210b8b6e862', 'message': 'Deprecate auth_plugin option\n\nOption ""auth_plugin"" is deprecated, use option ""auth_type"" instead.\n\nChange-Id: I672f1a40231378db596a418b68ff288bf5c562d9\nImplements: blueprint deprecate-auth-plugin\n'}, {'number': 2, 'created': '2017-03-25 04:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/cbd7a01f6e631e12a03d5c49f9fde7d9773ce20c', 'message': 'Deprecate auth_plugin option\n\nOption ""auth_plugin"" is deprecated, use option ""auth_type"" instead.\n\nChange-Id: I672f1a40231378db596a418b68ff288bf5c562d9\nImplements: blueprint deprecate-auth-plugin\n'}, {'number': 3, 'created': '2017-03-25 04:27:47.000000000', 'files': ['releasenotes/notes/deprecate_auth_plugin-819233a76d4523e8.yaml', 'defaults/main.yml', 'templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/712400f06696d204be4957b916e976cf2c5d5ee2', 'message': 'Deprecate auth_plugin option\n\nOption ""auth_plugin"" is deprecated, use option ""auth_type"" instead.\n\nChange-Id: I672f1a40231378db596a418b68ff288bf5c562d9\nImplements: blueprint deprecate-auth-plugin\n'}]",0,448363,712400f06696d204be4957b916e976cf2c5d5ee2,31,5,3,9414,,,0,"Deprecate auth_plugin option

Option ""auth_plugin"" is deprecated, use option ""auth_type"" instead.

Change-Id: I672f1a40231378db596a418b68ff288bf5c562d9
Implements: blueprint deprecate-auth-plugin
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/63/448363/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/gnocchi.conf.j2']",2,fcbdec3cfc9090d70c130c45abf75210b8b6e862,bp/deprecate-auth-plugin,auth_type = {{ gnocchi_keystone_auth_plugin }},auth_plugin = {{ gnocchi_keystone_auth_plugin }},3,2
openstack%2Fdragonflow~master~If4080c613ab5ebe34dd5e461f8045f1b4c6f1c48,openstack/dragonflow,master,If4080c613ab5ebe34dd5e461f8045f1b4c6f1c48,Disconnect connection to close a redis publisher,MERGED,2017-04-04 07:24:30.000000000,2017-04-05 03:11:57.000000000,2017-04-05 03:11:57.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 20229}]","[{'number': 1, 'created': '2017-04-04 07:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ddb83d52aba541a9be66921239c52a2eb6ff04d9', 'message': ""Disconnect connection to close a redis publisher\n\nredis.client_kill is to kill a client, while self.remote\nis a ip:port of redis server.\n\nJust disconnect all the connection of publisher's redis\nclient for closing redis publisher.\n\nThe corresponding is at https://review.openstack.org/#/c/452614/\n\nChange-Id: If4080c613ab5ebe34dd5e461f8045f1b4c6f1c48\nCloses-Bug: #1678926\n""}, {'number': 2, 'created': '2017-04-04 07:26:21.000000000', 'files': ['dragonflow/db/pubsub_drivers/redis_db_pubsub_driver.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/d3f55e81b0752a56d05b408cae2dd096d0ee8f5a', 'message': ""Disconnect connection to close a redis publisher\n\nredis.client_kill is to kill a client, while self.remote\nis a ip:port of redis server.\n\nJust disconnect all the connection of publisher's redis\nclient for closing redis publisher.\n\nThe corresponding is at https://review.openstack.org/#/c/452614/\n\nChange-Id: If4080c613ab5ebe34dd5e461f8045f1b4c6f1c48\nCloses-Bug: #1678926\n""}]",0,453042,d3f55e81b0752a56d05b408cae2dd096d0ee8f5a,8,3,2,11159,,,0,"Disconnect connection to close a redis publisher

redis.client_kill is to kill a client, while self.remote
is a ip:port of redis server.

Just disconnect all the connection of publisher's redis
client for closing redis publisher.

The corresponding is at https://review.openstack.org/#/c/452614/

Change-Id: If4080c613ab5ebe34dd5e461f8045f1b4c6f1c48
Closes-Bug: #1678926
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/42/453042/2 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/db/pubsub_drivers/redis_db_pubsub_driver.py'],1,ddb83d52aba541a9be66921239c52a2eb6ff04d9,bug/1678926, self.client.connection_pool.disconnect() self.remote = None, self.client.client_kill(self.remote),2,1
openstack%2Fbarbican~master~I01f2d02af4bfa6143026c3af59e9b5afdc558b97,openstack/barbican,master,I01f2d02af4bfa6143026c3af59e9b5afdc558b97,[TEST] Fix python2/3 compatible issue,ABANDONED,2017-04-05 02:42:53.000000000,2017-04-05 03:07:28.000000000,,"[{'_account_id': 11561}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-04-05 02:42:53.000000000', 'files': ['functionaltests/common/client.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/089c0e1937320586bad076f38c9f2565ac87f9df', 'message': '[TEST] Fix python2/3 compatible issue\n\nChange-Id: I01f2d02af4bfa6143026c3af59e9b5afdc558b97\n'}]",0,453436,089c0e1937320586bad076f38c9f2565ac87f9df,4,2,1,21797,,,0,"[TEST] Fix python2/3 compatible issue

Change-Id: I01f2d02af4bfa6143026c3af59e9b5afdc558b97
",git fetch https://review.opendev.org/openstack/barbican refs/changes/36/453436/1 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/common/client.py'],1,089c0e1937320586bad076f38c9f2565ac87f9df,py3, return content, return content.decode('ascii'),1,1
openstack%2Fpython-barbicanclient~master~I093160f746f346871c136043a8fa48c9491fdc1a,openstack/python-barbicanclient,master,I093160f746f346871c136043a8fa48c9491fdc1a,Replace six.iteritems() with .items(),MERGED,2017-03-30 13:09:08.000000000,2017-04-05 03:06:20.000000000,2017-04-05 03:06:20.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 11561}]","[{'number': 1, 'created': '2017-03-30 13:09:08.000000000', 'files': ['barbicanclient/tests/keystone_client_fixtures.py', 'barbicanclient/containers.py', 'functionaltests/utils.py', 'barbicanclient/barbican.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/978d3b43f3feac5a6013a1deec3db290fef71225', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I093160f746f346871c136043a8fa48c9491fdc1a\n'}]",0,451812,978d3b43f3feac5a6013a1deec3db290fef71225,7,3,1,20401,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3 as well. And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the
link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I093160f746f346871c136043a8fa48c9491fdc1a
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/12/451812/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbicanclient/tests/keystone_client_fixtures.py', 'barbicanclient/containers.py', 'functionaltests/utils.py', 'barbicanclient/barbican.py']",4,978d3b43f3feac5a6013a1deec3db290fef71225,," return dict((k, v) for (k, v) in kwargs.items() if v)","import six return dict((k, v) for (k, v) in six.iteritems(kwargs) if v)",10,12
openstack%2Fcastellan~master~I63aec037973aad2555190ca3eb6bba765955399a,openstack/castellan,master,I63aec037973aad2555190ca3eb6bba765955399a,Add ability to get only metadata,MERGED,2016-12-19 18:06:46.000000000,2017-04-05 03:04:40.000000000,2017-04-05 03:04:40.000000000,"[{'_account_id': 3}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-12-19 18:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/8424312e162fe71f880abe74b77ac3528078fcb4', 'message': ""Add ability to get only metadata\n\nAdds the ability to retrieve only the metadata of a secret. This is\nhelpful in situations when the caller wants to know information about\nthe secret, but doesn't want to unnecessarily handle the secret data.\n\nChange-Id: I63aec037973aad2555190ca3eb6bba765955399a\n""}, {'number': 2, 'created': '2016-12-19 18:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/90f779719e0bb9eedbc3a091fb1fd24e25afb911', 'message': ""Add ability to get only metadata\n\nAdds the ability to retrieve only the metadata of a secret. This is\nhelpful in situations when the caller wants to know information about\nthe secret, but doesn't want to unnecessarily handle the secret data.\n\nChange-Id: I63aec037973aad2555190ca3eb6bba765955399a\n""}, {'number': 3, 'created': '2017-01-09 02:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/9fa654cb0572150ff8c206580732577ec1808aae', 'message': ""Add ability to get only metadata\n\nAdds the ability to retrieve only the metadata of a secret. This is\nhelpful in situations when the caller wants to know information about\nthe secret, but doesn't want to unnecessarily handle the secret data.\n\nChange-Id: I63aec037973aad2555190ca3eb6bba765955399a\n""}, {'number': 4, 'created': '2017-01-30 17:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/47d0dc6aabe553eeeebb7d3bc8ccc9a292633241', 'message': ""Add ability to get only metadata\n\nAdds the ability to retrieve only the metadata of a secret. This is\nhelpful in situations when the caller wants to know information about\nthe secret, but doesn't want to unnecessarily handle the secret data.\n\nChange-Id: I63aec037973aad2555190ca3eb6bba765955399a\n""}, {'number': 5, 'created': '2017-01-30 17:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/4f778fd2f83eef1228089b02405719c16ba7ea7a', 'message': ""Add ability to get only metadata\n\nAdds the ability to retrieve only the metadata of a secret. This is\nhelpful in situations when the caller wants to know information about\nthe secret, but doesn't want to unnecessarily handle the secret data.\n\nChange-Id: I63aec037973aad2555190ca3eb6bba765955399a\n""}, {'number': 6, 'created': '2017-02-06 17:36:09.000000000', 'files': ['castellan/common/objects/managed_object.py', 'castellan/tests/unit/objects/test_opaque.py', 'castellan/tests/unit/objects/test_symmetric_key.py', 'castellan/tests/unit/key_manager/mock_key_manager.py', 'castellan/tests/unit/objects/test_public_key.py', 'castellan/tests/unit/objects/test_x_509.py', 'castellan/tests/unit/objects/test_private_key.py', 'castellan/key_manager/barbican_key_manager.py', 'castellan/key_manager/key_manager.py', 'castellan/tests/functional/key_manager/test_key_manager.py', 'castellan/tests/unit/key_manager/test_mock_key_manager.py', 'castellan/tests/unit/objects/test_passphrase.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/d1d8568d2bb98d0ccc47bd7324caa6691d10e9a1', 'message': ""Add ability to get only metadata\n\nAdds the ability to retrieve only the metadata of a secret. This is\nhelpful in situations when the caller wants to know information about\nthe secret, but doesn't want to unnecessarily handle the secret data.\n\nChange-Id: I63aec037973aad2555190ca3eb6bba765955399a\n""}]",16,412558,d1d8568d2bb98d0ccc47bd7324caa6691d10e9a1,29,7,6,8623,,,0,"Add ability to get only metadata

Adds the ability to retrieve only the metadata of a secret. This is
helpful in situations when the caller wants to know information about
the secret, but doesn't want to unnecessarily handle the secret data.

Change-Id: I63aec037973aad2555190ca3eb6bba765955399a
",git fetch https://review.opendev.org/openstack/castellan refs/changes/58/412558/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/common/objects/managed_object.py', 'castellan/tests/unit/objects/test_opaque.py', 'castellan/tests/unit/objects/test_symmetric_key.py', 'castellan/tests/unit/key_manager/mock_key_manager.py', 'castellan/tests/unit/objects/test_public_key.py', 'castellan/tests/unit/objects/test_x_509.py', 'castellan/tests/unit/objects/test_private_key.py', 'castellan/key_manager/barbican_key_manager.py', 'castellan/key_manager/key_manager.py', 'castellan/tests/functional/key_manager/test_key_manager.py', 'castellan/tests/unit/key_manager/test_mock_key_manager.py', 'castellan/tests/unit/objects/test_passphrase.py']",12,8424312e162fe71f880abe74b77ac3528078fcb4,get_meta," def test_is_not_only_metadata(self): self.assertFalse(self.passphrase.is_metadata_only()) def test_is_only_metadata(self): p = passphrase.Passphrase(None, self.name, self.created) self.assertTrue(p.is_metadata_only()) ",,137,5
openstack%2Fkolla-ansible~master~Iacc068120262caab4c0d312ac18b70b09c9326f1,openstack/kolla-ansible,master,Iacc068120262caab4c0d312ac18b70b09c9326f1,Add ansible to requirement,ABANDONED,2017-03-31 07:33:05.000000000,2017-04-05 03:00:40.000000000,,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 22165}, {'_account_id': 22959}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-31 07:33:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c82a6f743d86433ca58bf6eccf477645d325a0c2', 'message': 'Add ansible to requirement\n\nChange-Id: Iacc068120262caab4c0d312ac18b70b09c9326f1\n'}]",2,452075,c82a6f743d86433ca58bf6eccf477645d325a0c2,10,5,1,22582,,,0,"Add ansible to requirement

Change-Id: Iacc068120262caab4c0d312ac18b70b09c9326f1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/452075/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c82a6f743d86433ca58bf6eccf477645d325a0c2,,ansible>=2.2.0,,1,0
openstack%2Fpython-openstackclient~master~I7fe4621439ef0d8dca080551ffaeb614c5a91174,openstack/python-openstackclient,master,I7fe4621439ef0d8dca080551ffaeb614c5a91174,Enable to specify which fixed-ip to add to a vm.,MERGED,2017-03-31 14:56:44.000000000,2017-04-05 02:55:11.000000000,2017-04-05 02:55:11.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 8124}, {'_account_id': 21514}]","[{'number': 1, 'created': '2017-03-31 14:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dd513ea8952f929454b3945ec910feab8f68a43b', 'message': 'Enable to specify which vm fixed-ip to add\n\nThis change enables to specify which fixed-ip will be added to a vm using:\n\n openstack server add fixed ip <vm> <network> --fixed-ip-address <ip>\n\nThis change uses interface_attach instead of add_fixed_ip[1] which is\ndeprecated and less flexible\n\n[1] https://review.openstack.org/384261\n\nCloses-Bug: #1678140\nChange-Id: I7fe4621439ef0d8dca080551ffaeb614c5a91174\n'}, {'number': 2, 'created': '2017-03-31 17:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/37f4b742061ff63843db72a5b050eb5895f4c03c', 'message': 'Enable to specify which vm fixed-ip to add\n\nThis change enables to specify which fixed-ip will be added to a vm using:\n\n openstack server add fixed ip <vm> <network> --fixed-ip-address <ip>\n\nThis change uses interface_attach instead of add_fixed_ip[1] which is\ndeprecated and less flexible\n\n[1] https://review.openstack.org/384261\n\nCloses-Bug: #1678140\nChange-Id: I7fe4621439ef0d8dca080551ffaeb614c5a91174\n'}, {'number': 3, 'created': '2017-04-01 16:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/36e4aa0741de5a82a05e17384fe3d19b85a7bcd6', 'message': 'Enable to specify which fixed-ip to add to a vm.\n\nThis change enables to specify which fixed-ip will be added to a vm using:\n\n openstack server add fixed ip <vm> <network> --fixed-ip-address <ip>\n\nThis change uses interface_attach instead of add_fixed_ip[1] which is\nless flexible and uses a deprecated API.\n\n[1] https://review.openstack.org/384261\n\nCloses-Bug: #1678140\nChange-Id: I7fe4621439ef0d8dca080551ffaeb614c5a91174\n'}, {'number': 4, 'created': '2017-04-04 16:15:43.000000000', 'files': ['doc/source/command-objects/server.rst', 'releasenotes/notes/allow-to-vm-ip-to-add-7721ba64b863fa77.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7f9814860ad739e25b82898176d26c7b788e8e33', 'message': 'Enable to specify which fixed-ip to add to a vm.\n\nThis change enables to specify which fixed-ip will be added to a vm using:\n\n openstack server add fixed ip <vm> <network> --fixed-ip-address <ip>\n\nThis change uses interface_attach instead of add_fixed_ip[1] which is\nless flexible and uses a deprecated API.\n\n[1] https://review.openstack.org/384261\n\nCloses-Bug: #1678140\nChange-Id: I7fe4621439ef0d8dca080551ffaeb614c5a91174\n'}]",1,452235,7f9814860ad739e25b82898176d26c7b788e8e33,19,4,4,8124,,,0,"Enable to specify which fixed-ip to add to a vm.

This change enables to specify which fixed-ip will be added to a vm using:

 openstack server add fixed ip <vm> <network> --fixed-ip-address <ip>

This change uses interface_attach instead of add_fixed_ip[1] which is
less flexible and uses a deprecated API.

[1] https://review.openstack.org/384261

Closes-Bug: #1678140
Change-Id: I7fe4621439ef0d8dca080551ffaeb614c5a91174
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/35/452235/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/command-objects/server.rst', 'releasenotes/notes/allow-to-vm-ip-to-add-7721ba64b863fa77.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",4,dd513ea8952f929454b3945ec910feab8f68a43b,bug/1678140," parser.add_argument( ""--fixed-ip-address"", metavar=""<fixed-ip-address>"", help=_(""Requested fixed IP address""), ) server.interface_attach(port_id=None, net_id=network.id, fixed_ip=parsed_args.fixed_ip_address)", server.add_fixed_ip(network.id),33,7
openstack%2Fopenstack-ansible~stable%2Fnewton~I1a4db66441d50b915a2cc172758f8ca9b4f4f63c,openstack/openstack-ansible,stable/newton,I1a4db66441d50b915a2cc172758f8ca9b4f4f63c,Updated from global requirements,MERGED,2017-04-04 19:33:52.000000000,2017-04-05 02:39:55.000000000,2017-04-05 02:39:55.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-04-04 19:33:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/785e7431eccfafba8f388e4e8006e16082bfea85', 'message': 'Updated from global requirements\n\nChange-Id: I1a4db66441d50b915a2cc172758f8ca9b4f4f63c\n'}]",0,453313,785e7431eccfafba8f388e4e8006e16082bfea85,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I1a4db66441d50b915a2cc172758f8ca9b4f4f63c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/453313/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,785e7431eccfafba8f388e4e8006e16082bfea85,openstack/requirements,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,>=16.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,>=16.0 # PSF/ZPL",1,1
openstack%2Fopenstack-ansible-security~master~I01c1dc091c5b93ae030b9c83a4314a94f96aa5ac,openstack/openstack-ansible-security,master,I01c1dc091c5b93ae030b9c83a4314a94f96aa5ac,[Docs] Fix docs for V-72055,MERGED,2017-04-04 16:48:26.000000000,2017-04-05 02:36:58.000000000,2017-04-05 02:36:58.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 8803}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-04 16:48:26.000000000', 'files': ['doc/metadata/rhel7/V-72055.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/1a1bc2b1ec6e3c59c2f422ce965ed04f2bea3a53', 'message': '[Docs] Fix docs for V-72055\n\nV-72055 is implemented by a task made for V-72053. The docs need an\nupdate.\n\nCloses-Bug: 1679766\nChange-Id: I01c1dc091c5b93ae030b9c83a4314a94f96aa5ac\n'}]",0,453258,1a1bc2b1ec6e3c59c2f422ce965ed04f2bea3a53,8,4,1,538,,,0,"[Docs] Fix docs for V-72055

V-72055 is implemented by a task made for V-72053. The docs need an
update.

Closes-Bug: 1679766
Change-Id: I01c1dc091c5b93ae030b9c83a4314a94f96aa5ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/58/453258/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/metadata/rhel7/V-72055.rst'],1,1a1bc2b1ec6e3c59c2f422ce965ed04f2bea3a53,bug/1679766,status: implementedThe group ownership for ``/etc/cron.allow`` is already set by the task for the following STIG control: :ref:`stig-V-72053`,status: not implementedThis STIG requirement is not yet implemented.,5,2
openstack%2Fpython-muranoclient~master~Ib3740617715c7097efeb5852338a669dc0bf8ff7,openstack/python-muranoclient,master,Ib3740617715c7097efeb5852338a669dc0bf8ff7,Replace six.iteritems() with .items(),MERGED,2017-04-04 12:01:09.000000000,2017-04-05 02:33:17.000000000,2017-04-05 02:33:17.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-04 12:01:09.000000000', 'files': ['muranoclient/common/utils.py', 'muranoclient/glance/__init__.py', 'muranoclient/v1/environments.py', 'muranoclient/apiclient/auth.py', 'muranoclient/glance/artifacts.py', 'muranoclient/apiclient/exceptions.py', 'muranoclient/v1/shell.py', 'muranoclient/tests/unit/base.py', 'muranoclient/v1/categories.py', 'muranoclient/apiclient/base.py', 'muranoclient/v1/artifact_packages.py', 'muranoclient/v1/packages.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/3e70d5be31c861a763400303e538d5dea976c4ab', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ib3740617715c7097efeb5852338a669dc0bf8ff7\n'}]",0,453142,3e70d5be31c861a763400303e538d5dea976c4ab,9,5,1,20401,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3 as well. And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the
link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: Ib3740617715c7097efeb5852338a669dc0bf8ff7
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/42/453142/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/common/utils.py', 'muranoclient/glance/__init__.py', 'muranoclient/v1/environments.py', 'muranoclient/apiclient/auth.py', 'muranoclient/glance/artifacts.py', 'muranoclient/apiclient/exceptions.py', 'muranoclient/v1/shell.py', 'muranoclient/tests/unit/base.py', 'muranoclient/v1/categories.py', 'muranoclient/apiclient/base.py', 'muranoclient/v1/artifact_packages.py', 'muranoclient/v1/packages.py']",12,3e70d5be31c861a763400303e538d5dea976c4ab,," for key, value in body.items():"," for key, value in six.iteritems(body):",18,26
openstack%2Fpython-karborclient~master~I45d33572f27ab6e6cee35d9a46911fda4caca85a,openstack/python-karborclient,master,I45d33572f27ab6e6cee35d9a46911fda4caca85a,Remove log translations Log messages are no longer being translated.,ABANDONED,2017-03-21 08:54:19.000000000,2017-04-05 02:26:20.000000000,,"[{'_account_id': 3}, {'_account_id': 17130}, {'_account_id': 20883}, {'_account_id': 21648}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-03-21 08:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/b7939ef0a39c62460035af10a291953488743c1a', 'message': 'Remove log translations Log messages are no longer being translated. This removes all use of the _LE, _LI, and _LW translation markers to simplify logging and to avoid confusion with new contributions. See: http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html Change-Id: I4c96f3590d46205c45d12ee4ead8c208e11c52c5\n\nChange-Id: I45d33572f27ab6e6cee35d9a46911fda4caca85a\n'}, {'number': 2, 'created': '2017-03-23 02:34:07.000000000', 'files': ['karborclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/234e6c3eb7db587ba602a524291b1dd4aa9ee556', 'message': 'Remove log translations Log messages are no longer being translated.\n\nChange-Id: I45d33572f27ab6e6cee35d9a46911fda4caca85a\n'}]",3,447959,234e6c3eb7db587ba602a524291b1dd4aa9ee556,12,5,2,23958,,,0,"Remove log translations Log messages are no longer being translated.

Change-Id: I45d33572f27ab6e6cee35d9a46911fda4caca85a
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/59/447959/1 && git format-patch -1 --stdout FETCH_HEAD,['karborclient/common/http.py'],1,b7939ef0a39c62460035af10a291953488743c1a,Remove log translations Log messages are no longer being translated.," LOG.warning(""System ca file could not be found."") LOG.warning(""Use of 'body' is deprecated; use 'data' instead"") LOG.error('Could not decode response body as JSON') LOG.warning(""Use of 'body' is deprecated; use 'data' instead"") LOG.warning(""Use of 'body' is deprecated; use 'data' instead"") LOG.warning(""Use of 'body' is deprecated; use 'data' instead"")","from karborclient.i18n import _LE from karborclient.i18n import _LW LOG.warning(_LW(""System ca file could not be found."")) LOG.warning(_LW(""Use of 'body' is deprecated; use 'data' instead"")) LOG.error(_LE('Could not decode response body as JSON')) LOG.warning(_LW(""Use of 'body' is deprecated; use 'data' instead"")) LOG.warning(_LW(""Use of 'body' is deprecated; use 'data' instead"")) LOG.warning(_LW(""Use of 'body' is deprecated; use 'data' instead""))",6,8
openstack%2Fgnocchi~stable%2F3.0~I3bc7d1d05d0c6d00215d75ba67dfe0ce37519645,openstack/gnocchi,stable/3.0,I3bc7d1d05d0c6d00215d75ba67dfe0ce37519645,ceph: Allow to configure timeout,MERGED,2017-03-31 19:32:06.000000000,2017-04-05 02:26:10.000000000,2017-04-05 02:26:10.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 6924}]","[{'number': 1, 'created': '2017-03-31 19:32:06.000000000', 'files': ['gnocchi/storage/ceph.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b236ba17cf4adc5c65f1c6342839da1fd1dab938', 'message': 'ceph: Allow to configure timeout\n\nThis change introduces ceph_timeout option to\nset ceph connection/operation timeout.\n\n(cherry picked from commit 19f48d42d2a0c35ed89fde812e791e7aeb1a728d)\nChange-Id: I3bc7d1d05d0c6d00215d75ba67dfe0ce37519645\n'}]",0,452296,b236ba17cf4adc5c65f1c6342839da1fd1dab938,15,3,1,2813,,,0,"ceph: Allow to configure timeout

This change introduces ceph_timeout option to
set ceph connection/operation timeout.

(cherry picked from commit 19f48d42d2a0c35ed89fde812e791e7aeb1a728d)
Change-Id: I3bc7d1d05d0c6d00215d75ba67dfe0ce37519645
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/96/452296/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/storage/ceph.py'],1,b236ba17cf4adc5c65f1c6342839da1fd1dab938,sileht/3.0-ceph-timeout," cfg.IntOpt('ceph_timeout', help='Ceph connection timeout'), if conf.ceph_timeout: options['rados_osd_op_timeout'] = conf.ceph_timeout options['rados_mon_op_timeout'] = conf.ceph_timeout options['client_mount_timeout'] = conf.ceph_timeout",,5,0
openstack%2Fneutron~master~I545b1e5043b124e17f5bf35d729ffa1a79693698,openstack/neutron,master,I545b1e5043b124e17f5bf35d729ffa1a79693698,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:30:03.000000000,2017-04-05 02:15:14.000000000,,[{'_account_id': 15752}],"[{'number': 1, 'created': '2017-04-05 01:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/958fd822846589f2e103e79fd258cc347fcd8451', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I545b1e5043b124e17f5bf35d729ffa1a79693698\nSem-Ver: feature\n'}]",0,453407,958fd822846589f2e103e79fd258cc347fcd8451,3,1,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I545b1e5043b124e17f5bf35d729ffa1a79693698
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/453407/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,958fd822846589f2e103e79fd258cc347fcd8451,sem-ver/pike,,,0,0
openstack%2Fkarbor~master~If51622fd05e9c3c85641b92abf4f4cd8ab9c6080,openstack/karbor,master,If51622fd05e9c3c85641b92abf4f4cd8ab9c6080,Updated from global requirements,MERGED,2017-03-28 21:29:20.000000000,2017-04-05 02:01:35.000000000,2017-04-05 02:01:35.000000000,"[{'_account_id': 3}, {'_account_id': 17151}]","[{'number': 1, 'created': '2017-03-28 21:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/56230fd538163ac2245a221fa72dcb9aa4bfb692', 'message': 'Updated from global requirements\n\nChange-Id: If51622fd05e9c3c85641b92abf4f4cd8ab9c6080\n'}, {'number': 2, 'created': '2017-03-29 13:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9c4eda00f440f82c318964702455768742f52a5d', 'message': 'Updated from global requirements\n\nChange-Id: If51622fd05e9c3c85641b92abf4f4cd8ab9c6080\n'}, {'number': 3, 'created': '2017-03-30 14:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9912901f55b79579f1281a810850f34fccf77c77', 'message': 'Updated from global requirements\n\nChange-Id: If51622fd05e9c3c85641b92abf4f4cd8ab9c6080\n'}, {'number': 4, 'created': '2017-04-01 15:24:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/karbor/commit/b14557e925c646033c6423012561a6b6787513fd', 'message': 'Updated from global requirements\n\nChange-Id: If51622fd05e9c3c85641b92abf4f4cd8ab9c6080\n'}]",0,451013,b14557e925c646033c6423012561a6b6787513fd,12,2,4,11131,,,0,"Updated from global requirements

Change-Id: If51622fd05e9c3c85641b92abf4f4cd8ab9c6080
",git fetch https://review.opendev.org/openstack/karbor refs/changes/13/451013/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,56230fd538163ac2245a221fa72dcb9aa4bfb692,openstack/requirements,oslo.log>=3.22.0 # Apache-2.0,oslo.log>=3.11.0 # Apache-2.0,1,1
openstack%2Fwatcher~master~Ibe9005db4fa24b63914fa5f24fe4b144867781cd,openstack/watcher,master,Ibe9005db4fa24b63914fa5f24fe4b144867781cd,Use tox to generate a sample configuration file,MERGED,2017-04-01 09:56:49.000000000,2017-04-05 01:52:42.000000000,2017-04-05 01:52:41.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 21361}, {'_account_id': 21692}]","[{'number': 1, 'created': '2017-04-01 09:56:49.000000000', 'files': ['doc/source/dev/environment.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/a3ee1634806a5d253063e56b62a05654808e4091', 'message': ""Use tox to generate a sample configuration file\n\nThere is no sample configuration file if we don't generate one.\n\nChange-Id: Ibe9005db4fa24b63914fa5f24fe4b144867781cd\n""}]",0,452439,a3ee1634806a5d253063e56b62a05654808e4091,8,4,1,24872,,,0,"Use tox to generate a sample configuration file

There is no sample configuration file if we don't generate one.

Change-Id: Ibe9005db4fa24b63914fa5f24fe4b144867781cd
",git fetch https://review.opendev.org/openstack/watcher refs/changes/39/452439/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/environment.rst'],1,a3ee1634806a5d253063e56b62a05654808e4091,,Watcher services require a configuration file. Use tox to generate a sample configuration file that can be used to get started: $ tox -e genconfig,Watcher services require a configuration file. There is a sample configuration file that can be used to get started:,3,2
openstack%2Fceilometer~master~Ibaece885e0cee903c998ee866ffd91669f824301,openstack/ceilometer,master,Ibaece885e0cee903c998ee866ffd91669f824301,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:16:27.000000000,2017-04-05 01:45:21.000000000,,[{'_account_id': 15843}],"[{'number': 1, 'created': '2017-04-05 01:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/14eb72a93ba39a7975cf71d2a72846622917601b', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: Ibaece885e0cee903c998ee866ffd91669f824301\nSem-Ver: feature\n'}]",0,453394,14eb72a93ba39a7975cf71d2a72846622917601b,3,1,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: Ibaece885e0cee903c998ee866ffd91669f824301
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/94/453394/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,14eb72a93ba39a7975cf71d2a72846622917601b,sem-ver/pike,,,0,0
openstack%2Fmistral~master~I45bfc197e32857b85e72163ac3504ec58f8b00b9,openstack/mistral,master,I45bfc197e32857b85e72163ac3504ec58f8b00b9,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:27:30.000000000,2017-04-05 01:44:13.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/294586bda60d0d2237cf6ec068e1dac7e0f7a399', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I45bfc197e32857b85e72163ac3504ec58f8b00b9\nSem-Ver: feature\n'}]",0,453406,294586bda60d0d2237cf6ec068e1dac7e0f7a399,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I45bfc197e32857b85e72163ac3504ec58f8b00b9
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/mistral refs/changes/06/453406/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,294586bda60d0d2237cf6ec068e1dac7e0f7a399,sem-ver/pike,,,0,0
openstack%2Fmanila~master~I8e7240f194d73ecb1601fe0f3805715d8af99850,openstack/manila,master,I8e7240f194d73ecb1601fe0f3805715d8af99850,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:27:18.000000000,2017-04-05 01:43:55.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5fc6cee05a5ec9c622a4a8c24d328705ed1ea36e', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I8e7240f194d73ecb1601fe0f3805715d8af99850\nSem-Ver: feature\n'}]",0,453405,5fc6cee05a5ec9c622a4a8c24d328705ed1ea36e,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I8e7240f194d73ecb1601fe0f3805715d8af99850
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/manila refs/changes/05/453405/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5fc6cee05a5ec9c622a4a8c24d328705ed1ea36e,sem-ver/pike,,,0,0
openstack%2Fkeystone~master~I9e0ff779b2f63941a4602aba49f59e2f063581e5,openstack/keystone,master,I9e0ff779b2f63941a4602aba49f59e2f063581e5,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:27:02.000000000,2017-04-05 01:43:37.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2b71b035332f7b58883c54070236c4d3330a4a62', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I9e0ff779b2f63941a4602aba49f59e2f063581e5\nSem-Ver: feature\n'}]",0,453404,2b71b035332f7b58883c54070236c4d3330a4a62,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I9e0ff779b2f63941a4602aba49f59e2f063581e5
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/keystone refs/changes/04/453404/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,2b71b035332f7b58883c54070236c4d3330a4a62,sem-ver/pike,,,0,0
openstack%2Fhorizon~master~Ia7a3c97c42abe200e949b3e6836446068e52b114,openstack/horizon,master,Ia7a3c97c42abe200e949b3e6836446068e52b114,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:25:52.000000000,2017-04-05 01:43:21.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ed6001cdc633e5da9930c601d0658b0491f89f09', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: Ia7a3c97c42abe200e949b3e6836446068e52b114\nSem-Ver: feature\n'}]",0,453402,ed6001cdc633e5da9930c601d0658b0491f89f09,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: Ia7a3c97c42abe200e949b3e6836446068e52b114
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/453402/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,ed6001cdc633e5da9930c601d0658b0491f89f09,sem-ver/pike,,,0,0
openstack%2Fheat~master~I4e8ac311d0e8d79cced7b7955376fa863158bbec,openstack/heat,master,I4e8ac311d0e8d79cced7b7955376fa863158bbec,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:22:41.000000000,2017-04-05 01:42:42.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7d907b1c74f008ac1c35954cd2a414d38d93e961', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I4e8ac311d0e8d79cced7b7955376fa863158bbec\nSem-Ver: feature\n'}]",0,453401,7d907b1c74f008ac1c35954cd2a414d38d93e961,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I4e8ac311d0e8d79cced7b7955376fa863158bbec
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/heat refs/changes/01/453401/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,7d907b1c74f008ac1c35954cd2a414d38d93e961,sem-ver/pike,,,0,0
openstack%2Fgnocchi~master~I945385be8bbb997d5bb52956fe137db529f4270e,openstack/gnocchi,master,I945385be8bbb997d5bb52956fe137db529f4270e,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:21:50.000000000,2017-04-05 01:42:25.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/6becdbca01ff5fd05165e928822423467605168a', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I945385be8bbb997d5bb52956fe137db529f4270e\nSem-Ver: feature\n'}]",0,453400,6becdbca01ff5fd05165e928822423467605168a,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I945385be8bbb997d5bb52956fe137db529f4270e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/00/453400/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,6becdbca01ff5fd05165e928822423467605168a,sem-ver/pike,,,0,0
openstack%2Fglance~master~Idb9e017adbdb6c116c75d979b915db87294bcecd,openstack/glance,master,Idb9e017adbdb6c116c75d979b915db87294bcecd,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:21:39.000000000,2017-04-05 01:41:56.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cefe5f71b9f955ddfd2dfc0a28b4cce11aed5009', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: Idb9e017adbdb6c116c75d979b915db87294bcecd\nSem-Ver: feature\n'}]",0,453399,cefe5f71b9f955ddfd2dfc0a28b4cce11aed5009,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: Idb9e017adbdb6c116c75d979b915db87294bcecd
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/453399/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,cefe5f71b9f955ddfd2dfc0a28b4cce11aed5009,sem-ver/pike,,,0,0
openstack%2Fcongress~master~I2f8cf92b10b087ef73c472ed40a588a850ef0aea,openstack/congress,master,I2f8cf92b10b087ef73c472ed40a588a850ef0aea,Optimize the link address for fetching git code,MERGED,2017-03-21 02:07:46.000000000,2017-04-05 01:41:16.000000000,2017-04-05 01:41:16.000000000,"[{'_account_id': 3}, {'_account_id': 8215}, {'_account_id': 18591}, {'_account_id': 20541}]","[{'number': 1, 'created': '2017-03-21 02:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/0a2cc07d95c857f78e5faffb922ac41f54145ead', 'message': 'Optimize the link address for fetching git code\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\n\nChange-Id: I2f8cf92b10b087ef73c472ed40a588a850ef0aea\n'}, {'number': 2, 'created': '2017-03-21 02:09:19.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/congress/commit/05ff8399b080dbf175aa80b9b45d1d850c64acc5', 'message': 'Optimize the link address for fetching git code\n\nUse https instead of http to ensure the safety without containing our\naccount/password information\n\nChange-Id: I2f8cf92b10b087ef73c472ed40a588a850ef0aea\n'}]",0,447755,05ff8399b080dbf175aa80b9b45d1d850c64acc5,12,4,2,22104,,,0,"Optimize the link address for fetching git code

Use https instead of http to ensure the safety without containing our
account/password information

Change-Id: I2f8cf92b10b087ef73c472ed40a588a850ef0aea
",git fetch https://review.opendev.org/openstack/congress refs/changes/55/447755/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,0a2cc07d95c857f78e5faffb922ac41f54145ead,,,,0,0
openstack%2Fec2-api~master~I05a0042e0553bab2f84227a3cadf0cbaf4b49a13,openstack/ec2-api,master,I05a0042e0553bab2f84227a3cadf0cbaf4b49a13,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:21:03.000000000,2017-04-05 01:41:06.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f4f5eed6de35963ffc469c49b08f2224a5acd1aa', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I05a0042e0553bab2f84227a3cadf0cbaf4b49a13\nSem-Ver: feature\n'}]",0,453397,f4f5eed6de35963ffc469c49b08f2224a5acd1aa,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I05a0042e0553bab2f84227a3cadf0cbaf4b49a13
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/97/453397/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,f4f5eed6de35963ffc469c49b08f2224a5acd1aa,sem-ver/pike,,,0,0
openstack%2Fkolla-ansible~master~I89de0e82fd9027a46146a8b19a2e6d5b9861433e,openstack/kolla-ansible,master,I89de0e82fd9027a46146a8b19a2e6d5b9861433e,Split globals.yml into mutiple part by service,ABANDONED,2017-03-27 07:58:08.000000000,2017-04-05 01:40:41.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 19339}, {'_account_id': 22582}, {'_account_id': 22959}, {'_account_id': 24013}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-27 07:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9f43101027f5a423deb2c0518f33a6ea556f2ae2', 'message': 'Split globals.yml into mutiple part by service\n\nAs the number of services that kolla supports increase,\nglobals.yml file becomes too long and not so convenient\nto edit.\nI think it is a good idea to split this ansible variable\nfile into several parts. Configuration lines of  every\nservice should be in its own file.\n\nChange-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e\n'}, {'number': 2, 'created': '2017-03-28 07:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3da45f6e5d72cb797a25299d274cb2dbfb433e54', 'message': 'Split globals.yml into mutiple part by service\n\nAs the number of services that kolla supports increase,\nglobals.yml file becomes too long and not so convenient\nto edit.\nI think it is a good idea to split this ansible variable\nfile into several parts. Configuration lines of  every\nservice should be in its own file.\n\nChange-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e\n'}, {'number': 3, 'created': '2017-03-28 08:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62ee8c3624ae76d35ff9f7f026a43edbf6723b6f', 'message': 'Split globals.yml into mutiple part by service\n\nAs the number of services that kolla supports increase,\nglobals.yml file becomes too long and not so convenient\nto edit.\nI think it is a good idea to split this ansible variable\nfile into several parts. Configuration lines of  every\nservice should be in its own file.\n\nChange-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e\n'}, {'number': 4, 'created': '2017-03-28 09:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e871162de905242fb6fc9b784e6180dd3b253b0', 'message': 'Split globals.yml into mutiple part by service\n\nAs the number of services that kolla supports increase,\nglobals.yml file becomes too long and not so convenient\nto edit.\nI think it is a good idea to split this ansible variable\nfile into several parts. Configuration lines of  every\nservice should be in its own file.\n\nChange-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e\n'}, {'number': 5, 'created': '2017-03-28 09:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/760b985f47db1f2bc0a7b958fe4124dc3618617e', 'message': 'Split globals.yml into mutiple part by service\n\nAs the number of services that kolla supports increase,\nglobals.yml file becomes too long and not so convenient\nto edit.\nI think it is a good idea to split this ansible variable\nfile into several parts. Configuration lines of  every\nservice should be in its own file.\n\nChange-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e\n'}, {'number': 6, 'created': '2017-03-29 01:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3fe4a04e35c1e4a366f5164404abe73ce2a8f9ba', 'message': 'Split globals.yml into mutiple part by service\n\nAs the number of services that kolla supports increase,\nglobals.yml file becomes too long and not so convenient\nto edit.\nI think it is a good idea to split this ansible variable\nfile into several parts. Configuration lines of  every\nservice should be in its own file.\n\nChange-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e\n'}, {'number': 7, 'created': '2017-03-29 01:39:06.000000000', 'files': ['etc/kolla/services/manila.yml', 'etc/kolla/services/cinder.yml', 'etc/kolla/services/designate.yml', 'etc/kolla/services/panko.yml', 'etc/kolla/services/temptest.yml', 'etc/kolla/services/ceph.yml', 'etc/kolla/services/ceilometer.yml', 'etc/kolla/services/keystone.yml', 'etc/kolla/services/nova.yml', 'etc/kolla/services/glance.yml', 'etc/kolla/services/horizon.yml', 'etc/kolla/globals.yml', 'etc/kolla/services/barbican.yml', 'etc/kolla/services/gnocchi.yml', 'etc/kolla/services/swift.yml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e418395a5a29de18b3cdc9ee2689d2396ef1fed0', 'message': 'Split globals.yml into mutiple part by service\n\nAs the number of services that kolla supports increase,\nglobals.yml file becomes too long and not so convenient\nto edit.\nI think it is a good idea to split this ansible variable\nfile into several parts. Configuration lines of  every\nservice should be in its own file.\n\nChange-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e\n'}]",6,450106,e418395a5a29de18b3cdc9ee2689d2396ef1fed0,28,9,7,24013,,,0,"Split globals.yml into mutiple part by service

As the number of services that kolla supports increase,
globals.yml file becomes too long and not so convenient
to edit.
I think it is a good idea to split this ansible variable
file into several parts. Configuration lines of  every
service should be in its own file.

Change-Id: I89de0e82fd9027a46146a8b19a2e6d5b9861433e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/450106/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kolla/globals.yml.d/keystone.yml', 'etc/kolla/globals.yml.d/nova.yml', 'etc/kolla/globals.yml.d/designate.yml', 'etc/kolla/globals.yml.d/horizon.yml', 'etc/kolla/globals.yml.d/glance.yml', 'etc/kolla/globals.yml.d/temptest.yml', 'etc/kolla/globals.yml.d/panko.yml', 'etc/kolla/globals.yml.d/ceph.yml', 'etc/kolla/globals.yml.d/ceilometer.yml', 'etc/kolla/globals.yml.d/swift.yml', 'etc/kolla/globals.yml.d/manila.yml', 'etc/kolla/globals.yml.d/cinder.yml', 'etc/kolla/globals.yml.d/gnocchi.yml', 'etc/kolla/globals.yml.d/barbican.yml', 'etc/kolla/globals.yml', 'tools/kolla-ansible']",16,9f43101027f5a423deb2c0518f33a6ea556f2ae2,,"EXTRA_VARS_FILES=$( for i in $(find ${CONFIG_DIR}/globals.yml.d/ -name \*.yml); do echo ""-e @'$i'""; done ) CONFIG_OPTS=""-e @${CONFIG_DIR}/globals.yml ${EXTRA_VARS_FILES} -e @${PASSWORDS_FILE} -e CONFIG_DIR=${CONFIG_DIR}""echo $CMD","CONFIG_OPTS=""-e @${CONFIG_DIR}/globals.yml -e @${PASSWORDS_FILE} -e CONFIG_DIR=${CONFIG_DIR}""",124,142
openstack%2Fcongress~master~Idb4f69f994f4c6e2dd74ee129acb6775bd6a8109,openstack/congress,master,Idb4f69f994f4c6e2dd74ee129acb6775bd6a8109,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:20:53.000000000,2017-04-05 01:40:39.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/e548c268801aacc4e66a0ddd8c02c15359a8822d', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: Idb4f69f994f4c6e2dd74ee129acb6775bd6a8109\nSem-Ver: feature\n'}]",0,453396,e548c268801aacc4e66a0ddd8c02c15359a8822d,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: Idb4f69f994f4c6e2dd74ee129acb6775bd6a8109
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/congress refs/changes/96/453396/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,e548c268801aacc4e66a0ddd8c02c15359a8822d,sem-ver/pike,,,0,0
openstack%2Fcinder~master~Ib1d3e79c9c10e8a7aa42e441be3a05b6fa95d91b,openstack/cinder,master,Ib1d3e79c9c10e8a7aa42e441be3a05b6fa95d91b,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:20:35.000000000,2017-04-05 01:40:20.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f99e7a0cfad50a5c59a6d2054f1afc3987fc06c1', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: Ib1d3e79c9c10e8a7aa42e441be3a05b6fa95d91b\nSem-Ver: feature\n'}]",0,453395,f99e7a0cfad50a5c59a6d2054f1afc3987fc06c1,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: Ib1d3e79c9c10e8a7aa42e441be3a05b6fa95d91b
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/453395/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,f99e7a0cfad50a5c59a6d2054f1afc3987fc06c1,sem-ver/pike,,,0,0
openstack%2Fneutron~master~Ia41837a0fcda8919fbc9007a4600ef246f23d0f2,openstack/neutron,master,Ia41837a0fcda8919fbc9007a4600ef246f23d0f2,Address TODO to get rid of QoS notification driver,ABANDONED,2017-03-29 06:37:07.000000000,2017-04-05 01:34:26.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17776}, {'_account_id': 18051}, {'_account_id': 20330}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-03-29 06:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab477a112dac893f5bfe714f54be692c72aa055c', 'message': '[wip]: address TODO\n\nChange-Id: Ia41837a0fcda8919fbc9007a4600ef246f23d0f2\n'}, {'number': 2, 'created': '2017-03-29 23:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34646b94e650ce16b8e1ceb92a17c9b67ed8f894', 'message': 'Address TODO to get rid of QoS notification driver\n\nAddress a TODO in the code to get rid of this in Pike.\n\nChange-Id: Ia41837a0fcda8919fbc9007a4600ef246f23d0f2\n'}, {'number': 3, 'created': '2017-03-30 10:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/145432ea24a5e96a6c325c3e163699ad029a09fd', 'message': 'Address TODO to get rid of QoS notification driver\n\nAddress a TODO in the code to get rid of this in Pike.\n\nChange-Id: Ia41837a0fcda8919fbc9007a4600ef246f23d0f2\n'}, {'number': 4, 'created': '2017-03-30 11:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bbfa8e055bf64bee259de2e196cb921b6905396', 'message': 'Address TODO to get rid of QoS notification driver\n\nAddress a TODO in the code to get rid of this in Pike.\n\nChange-Id: Ia41837a0fcda8919fbc9007a4600ef246f23d0f2\n'}, {'number': 5, 'created': '2017-03-30 11:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0e581c95ae0861c3b9d7f558f384b8e4c4ee688', 'message': 'Address TODO to get rid of QoS notification driver\n\nAddress a TODO in the code to get rid of this in Pike.\n\nChange-Id: Ia41837a0fcda8919fbc9007a4600ef246f23d0f2\n'}, {'number': 6, 'created': '2017-04-05 01:00:33.000000000', 'files': ['neutron/services/qos/drivers/manager.py', 'neutron/opts.py', 'neutron/services/qos/notification_drivers/__init__.py', 'neutron/services/qos/notification_drivers/message_queue.py', 'neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/notification_drivers/dummy.py', 'neutron/services/qos/notification_drivers/qos_base.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'etc/oslo-config-generator/neutron.conf', 'neutron/tests/unit/services/qos/notification_drivers/__init__.py', 'neutron/services/qos/notification_drivers/manager.py', 'neutron/tests/unit/services/qos/notification_drivers/test_manager.py', 'setup.cfg', 'neutron/conf/services/qos_driver_manager.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cba41b0fff92169d708552e67910f1480b7680fe', 'message': 'Address TODO to get rid of QoS notification driver\n\nAddress a TODO in the code to get rid of this in Pike.\n\nChange-Id: Ia41837a0fcda8919fbc9007a4600ef246f23d0f2\n'}]",24,451208,cba41b0fff92169d708552e67910f1480b7680fe,61,17,6,7787,,,0,"Address TODO to get rid of QoS notification driver

Address a TODO in the code to get rid of this in Pike.

Change-Id: Ia41837a0fcda8919fbc9007a4600ef246f23d0f2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/451208/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/services/qos/drivers/manager.py']",2,ab477a112dac893f5bfe714f54be692c72aa055c,, def __init__(self): self.rpc_notifications_required = False self.push_api = resources_rpc.ResourcesPushRpcApi()," def __init__(self, enable_rpc=False): #TODO(mangelajo): remove the enable_rpc parameter in Pike since # we only use it when a message_queue derived driver # is found in the notification_drivers self.rpc_notifications_required = enable_rpc if self.rpc_notifications_required: self.push_api = resources_rpc.ResourcesPushRpcApi()",4,31
openstack%2Fglance~master~Iaf99e99d9b0d87abfe167f88d7e6a77c308c87ba,openstack/glance,master,Iaf99e99d9b0d87abfe167f88d7e6a77c308c87ba,Fix a few typos,ABANDONED,2017-04-01 08:01:38.000000000,2017-04-05 01:29:27.000000000,,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 22448}]","[{'number': 1, 'created': '2017-04-01 08:01:38.000000000', 'files': ['glance/api/common.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ff8ab01a7e194f1ca3f34153a314abf3f6c962c8', 'message': 'Fix a few typos\n\nChange-Id: Iaf99e99d9b0d87abfe167f88d7e6a77c308c87ba\n'}]",0,452406,ff8ab01a7e194f1ca3f34153a314abf3f6c962c8,5,3,1,21511,,,0,"Fix a few typos

Change-Id: Iaf99e99d9b0d87abfe167f88d7e6a77c308c87ba
",git fetch https://review.opendev.org/openstack/glance refs/changes/06/452406/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/common.py'],1,ff8ab01a7e194f1ca3f34153a314abf3f6c962c8,glance0401," else creating a new pool, stores it in cache and returns newly created"," else create new pool, stores it in cache and return newly created",1,1
openstack%2Fpython-zaqarclient~master~If3f6713668dd7373e489731e9cb2a55f5b014d8a,openstack/python-zaqarclient,master,If3f6713668dd7373e489731e9cb2a55f5b014d8a,Add Ocata version mapping,MERGED,2017-02-15 02:31:07.000000000,2017-04-05 01:28:05.000000000,2017-03-23 10:52:52.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 15054}, {'_account_id': 22998}]","[{'number': 1, 'created': '2017-02-15 02:31:07.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/7f89bb910982c59c76489e8877a036859c5cb128', 'message': 'Add Ocata version mapping\n\nChange-Id: If3f6713668dd7373e489731e9cb2a55f5b014d8a\n'}]",0,434027,7f89bb910982c59c76489e8877a036859c5cb128,10,5,1,15054,,,0,"Add Ocata version mapping

Change-Id: If3f6713668dd7373e489731e9cb2a55f5b014d8a
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/27/434027/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,7f89bb910982c59c76489e8877a036859c5cb128,update_reno,Ocata 1.4.0,,1,0
openstack%2Fironic~master~I0bf3b39273e9ba01446c525696f0dcb578ea4be4,openstack/ironic,master,I0bf3b39273e9ba01446c525696f0dcb578ea4be4,Add sem-ver flag so pbr generates correct version,ABANDONED,2017-04-05 01:26:19.000000000,2017-04-05 01:27:17.000000000,,[],"[{'number': 1, 'created': '2017-04-05 01:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ea90ed1033330feda93641277d957f24cf21bd5', 'message': 'Add sem-ver flag so pbr generates correct version\n\nWithout this Ocata and Pike have the same version causing\npackaging issues.\n\nChange-Id: I0bf3b39273e9ba01446c525696f0dcb578ea4be4\nSem-Ver: feature\n'}]",0,453403,5ea90ed1033330feda93641277d957f24cf21bd5,2,0,1,3153,,,0,"Add sem-ver flag so pbr generates correct version

Without this Ocata and Pike have the same version causing
packaging issues.

Change-Id: I0bf3b39273e9ba01446c525696f0dcb578ea4be4
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/453403/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5ea90ed1033330feda93641277d957f24cf21bd5,sem-ver/pike,,,0,0
openstack%2Finstack-undercloud~master~Ie8aa61f5804257f1bf469eadc9be3a47a9ff4ba4,openstack/instack-undercloud,master,Ie8aa61f5804257f1bf469eadc9be3a47a9ff4ba4,Allow install user to run docker commands,MERGED,2016-10-25 12:53:13.000000000,2017-04-05 01:25:13.000000000,2017-04-05 00:59:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-10-25 12:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4115b285b13e7f1f69dc17a521dbb9a6e1851cb8', 'message': 'Allow install user to run docker commands\n\nThis uses the user and group puppet resource types to ensure that the\ndocker group exists and that the install user belongs to it.\n\nChange-Id: Ie8aa61f5804257f1bf469eadc9be3a47a9ff4ba4\n'}, {'number': 2, 'created': '2016-10-26 07:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/edee3e1a466c96d60e940e135a7d286620779ddc', 'message': 'Allow install user to run docker commands\n\nThis uses the user and group puppet resource types to ensure that the\ndocker group exists and that the install user belongs to it.\n\nChange-Id: Ie8aa61f5804257f1bf469eadc9be3a47a9ff4ba4\n'}, {'number': 3, 'created': '2017-04-04 20:42:18.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d6d9140e6ce3f000b61749ae79ce6764342a0e90', 'message': 'Allow install user to run docker commands\n\nThis uses the user and group puppet resource types to ensure that the\ndocker group exists and that the install user belongs to it.\n\nChange-Id: Ie8aa61f5804257f1bf469eadc9be3a47a9ff4ba4\n'}]",11,390549,d6d9140e6ce3f000b61749ae79ce6764342a0e90,24,7,3,4571,,,0,"Allow install user to run docker commands

This uses the user and group puppet resource types to ensure that the
docker group exists and that the install user belongs to it.

Change-Id: Ie8aa61f5804257f1bf469eadc9be3a47a9ff4ba4
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/49/390549/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,4115b285b13e7f1f69dc17a521dbb9a6e1851cb8,docker-registry," group { 'docker': ensure => 'present', } user { 'docker_user': name => hiera('tripleo_install_user'), groups => 'docker', notify => Service['docker'], }",,8,0
openstack%2Fpuppet-ceilometer~master~I3813f0918c8394ef14959be7580bf026314ba82e,openstack/puppet-ceilometer,master,I3813f0918c8394ef14959be7580bf026314ba82e,Fix dispatcher params,MERGED,2017-04-04 20:01:27.000000000,2017-04-05 01:24:56.000000000,2017-04-05 01:24:56.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-04 20:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/a5da916b0cca1cedef5b8cf273f482dfd6c4a958', 'message': 'Fix dispatcher params\n\nCurrently we join the params and pass in a string to the dispatcher\nsettings. This wont work as ceilometer config expects separate\nlines for each value.\n\nChange-Id: I3813f0918c8394ef14959be7580bf026314ba82e\n'}, {'number': 2, 'created': '2017-04-04 21:31:16.000000000', 'files': ['spec/classes/ceilometer_collector_spec.rb', 'releasenotes/notes/fix-dispatcher-params-fe916b43ffa5aeab.yaml', 'manifests/collector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/a791baa616668e8b7ce12e49d7f918a52293b74f', 'message': 'Fix dispatcher params\n\nCurrently we join the params and pass in a string to the dispatcher\nsettings. This wont work as ceilometer config expects separate\nlines for each value.\n\nChange-Id: I3813f0918c8394ef14959be7580bf026314ba82e\n'}]",0,453318,a791baa616668e8b7ce12e49d7f918a52293b74f,14,4,2,6924,,,0,"Fix dispatcher params

Currently we join the params and pass in a string to the dispatcher
settings. This wont work as ceilometer config expects separate
lines for each value.

Change-Id: I3813f0918c8394ef14959be7580bf026314ba82e
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/18/453318/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-dispatcher-params-fe916b43ffa5aeab.yaml', 'manifests/collector.pp']",2,a5da916b0cca1cedef5b8cf273f482dfd6c4a958,fix-dispatcher-params, 'DEFAULT/meter_dispatchers': value => any2array($meter_dispatchers_real); 'DEFAULT/event_dispatchers': value => any2array($event_dispatchers_real);," 'DEFAULT/meter_dispatchers': value => join(any2array($meter_dispatchers_real), ','); 'DEFAULT/event_dispatchers': value => join(any2array($event_dispatchers_real), ',');",6,2
openstack%2Finstack-undercloud~stable%2Focata~If77b6a935712e7d0a9a7ade477ec2411f56f94eb,openstack/instack-undercloud,stable/ocata,If77b6a935712e7d0a9a7ade477ec2411f56f94eb,Dont include wsgi profile when legacy flag is disabled,MERGED,2017-04-04 17:20:27.000000000,2017-04-05 01:21:44.000000000,2017-04-05 01:21:43.000000000,"[{'_account_id': 3}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-04-04 17:20:27.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d8aa7d12cb85d109232b51f6f2904947e488b736', 'message': 'Dont include wsgi profile when legacy flag is disabled\n\nWhen we disable ceilometer api, we dont want to include wsgi\nprofile.\n\nChange-Id: If77b6a935712e7d0a9a7ade477ec2411f56f94eb\nCloses-bug: #1679676\n(cherry picked from commit 13e559fcfd990e6d67fa10fe48a97c4de917b4f7)\n'}]",0,453270,d8aa7d12cb85d109232b51f6f2904947e488b736,7,2,1,6924,,,0,"Dont include wsgi profile when legacy flag is disabled

When we disable ceilometer api, we dont want to include wsgi
profile.

Change-Id: If77b6a935712e7d0a9a7ade477ec2411f56f94eb
Closes-bug: #1679676
(cherry picked from commit 13e559fcfd990e6d67fa10fe48a97c4de917b4f7)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/70/453270/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,d8aa7d12cb85d109232b51f6f2904947e488b736,bug/1679676, include ::ceilometer::wsgi::apache }, } include ::ceilometer::wsgi::apache,1,1
openstack%2Fkolla-ansible~stable%2Focata~Idb26e61ec715525bf7ebb2acbeac673ee2bed0e9,openstack/kolla-ansible,stable/ocata,Idb26e61ec715525bf7ebb2acbeac673ee2bed0e9,Fix service_token_roles_required option,ABANDONED,2017-03-25 08:51:42.000000000,2017-04-05 01:21:20.000000000,,"[{'_account_id': 3}, {'_account_id': 19316}, {'_account_id': 19339}, {'_account_id': 22165}, {'_account_id': 24330}]","[{'number': 1, 'created': '2017-03-25 08:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84ed0dee2413ea88ffb7146798a586d9af67e230', 'message': 'Fix service_token_roles_required option\n\nAuthToken middleware is set with\nkeystone_authtoken.service_token_roles_required set to False.\nThis is backwards compatible but deprecated behaviour.\nPlease set this to True.\n\nChange-Id: Idb26e61ec715525bf7ebb2acbeac673ee2bed0e9\nCloses-Bug: #1675995\n'}, {'number': 2, 'created': '2017-03-27 07:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/04d4db4667f3e35f11232e9f03212bc2681beb9c', 'message': 'Fix service_token_roles_required option\n\nAuthToken middleware is set with\nkeystone_authtoken.service_token_roles_required set to False.\nThis is backwards compatible but deprecated behaviour.\nPlease set this to True.\n\nChange-Id: Idb26e61ec715525bf7ebb2acbeac673ee2bed0e9\nCloses-Bug: #1675995\n'}, {'number': 3, 'created': '2017-03-31 07:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/112fb22cc36e8f7b287f7a14b1d985204512a0b5', 'message': 'Fix service_token_roles_required option\n\nAuthToken middleware is set with\nkeystone_authtoken.service_token_roles_required set to False.\nThis is backwards compatible but deprecated behaviour.\nPlease set this to True.\n\nChange-Id: Idb26e61ec715525bf7ebb2acbeac673ee2bed0e9\nCloses-Bug: #1675995\n'}, {'number': 4, 'created': '2017-03-31 08:20:09.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/glance/templates/glance-registry.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d3116a2675bacda745b7264a95e9ee5a6dc7eab', 'message': 'Fix service_token_roles_required option\n\nAuthToken middleware is set with\nkeystone_authtoken.service_token_roles_required set to False.\nThis is backwards compatible but deprecated behaviour.\nPlease set this to True.\n\nChange-Id: Idb26e61ec715525bf7ebb2acbeac673ee2bed0e9\nCloses-Bug: #1675995\n'}]",0,449889,6d3116a2675bacda745b7264a95e9ee5a6dc7eab,20,5,4,24330,,,0,"Fix service_token_roles_required option

AuthToken middleware is set with
keystone_authtoken.service_token_roles_required set to False.
This is backwards compatible but deprecated behaviour.
Please set this to True.

Change-Id: Idb26e61ec715525bf7ebb2acbeac673ee2bed0e9
Closes-Bug: #1675995
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/449889/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/congress/templates/congress.conf.j2', 'ansible/roles/freezer/templates/freezer-api.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/karbor/templates/karbor.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/glance/templates/glance-registry.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/searchlight/templates/searchlight.conf.j2']",30,84ed0dee2413ea88ffb7146798a586d9af67e230,bug/1675995,service_token_roles_required = True ,,50,1
openstack%2Fdiskimage-builder~master~Iedf6167a7cd69418255ebbee095aea04c50d73fd,openstack/diskimage-builder,master,Iedf6167a7cd69418255ebbee095aea04c50d73fd,Add flag to disable EPEL,MERGED,2017-03-02 00:13:09.000000000,2017-04-05 00:59:44.000000000,2017-04-04 23:26:48.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-03-02 00:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bb3b0a27275654a51746ba26bacc4a064e3f0234', 'message': 'Add flag to disable EPEL\n\nAdd DIB_EPEL_DISABLED flag that allows installation of the EPEL repo,\nbut to have it disabled by default.  This will help when you have\nunavoidable EPEL dependencies, but want to make sure you only pull\nspecific things in with ""--enablerepo"" calls when installing those\npackages.\n\nChange-Id: Iedf6167a7cd69418255ebbee095aea04c50d73fd\n'}, {'number': 2, 'created': '2017-04-04 20:00:34.000000000', 'files': ['diskimage_builder/elements/epel/pre-install.d/05-rpm-epel-release', 'diskimage_builder/elements/epel/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8e822768f96945cf5cbe911992513aa244177676', 'message': 'Add flag to disable EPEL\n\nAdd DIB_EPEL_DISABLED flag that allows installation of the EPEL repo,\nbut to have it disabled by default.  This will help when you have\nunavoidable EPEL dependencies, but want to make sure you only pull\nspecific things in with ""--enablerepo"" calls when installing those\npackages.\n\nChange-Id: Iedf6167a7cd69418255ebbee095aea04c50d73fd\n'}]",0,439926,8e822768f96945cf5cbe911992513aa244177676,15,4,2,7118,,,0,"Add flag to disable EPEL

Add DIB_EPEL_DISABLED flag that allows installation of the EPEL repo,
but to have it disabled by default.  This will help when you have
unavoidable EPEL dependencies, but want to make sure you only pull
specific things in with ""--enablerepo"" calls when installing those
packages.

Change-Id: Iedf6167a7cd69418255ebbee095aea04c50d73fd
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/26/439926/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/epel/README.rst', 'elements/epel/pre-install.d/05-rpm-epel-release']",2,bb3b0a27275654a51746ba26bacc4a064e3f0234,epel-disabled,if [ ${DIB_EPEL_DISABLED:-0} -ne 0 ]; then yum-config-manager --disable epel fi ,,14,0
openstack%2Fzun-ui~master~Ia1db001790fc491982ba4a6377bea2684d18f610,openstack/zun-ui,master,Ia1db001790fc491982ba4a6377bea2684d18f610,Fixed the error on stop reboot and kill,MERGED,2017-04-03 19:56:44.000000000,2017-04-05 00:59:38.000000000,2017-04-05 00:59:38.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 16352}]","[{'number': 1, 'created': '2017-04-03 19:56:44.000000000', 'files': ['zun_ui/api/rest_api.py', 'zun_ui/api/client.py'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/b2f0448e57e34b12f290bced15cea9caa2e7aa75', 'message': ""Fixed the error on stop reboot and kill\n\nFor stop and reboot, the timeout parameter is missing. For kill,\nit doesn't work if users left the signal unspecified.\n\nChange-Id: Ia1db001790fc491982ba4a6377bea2684d18f610\n""}]",0,452914,b2f0448e57e34b12f290bced15cea9caa2e7aa75,8,3,1,11536,,,0,"Fixed the error on stop reboot and kill

For stop and reboot, the timeout parameter is missing. For kill,
it doesn't work if users left the signal unspecified.

Change-Id: Ia1db001790fc491982ba4a6377bea2684d18f610
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/14/452914/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/api/rest_api.py', 'zun_ui/api/client.py']",2,b2f0448e57e34b12f290bced15cea9caa2e7aa75,,"def container_stop(request, id, timeout): return zunclient(request).containers.stop(id, timeout) def container_reboot(request, id, timeout): return zunclient(request).containers.reboot(id, timeout)","def container_stop(request, id): return zunclient(request).containers.stop(id) def container_reboot(request, id): return zunclient(request).containers.reboot(id)",9,7
openstack%2Ftempest~master~I46f14c5dc944110d383ca3f1a395e681d6fb3159,openstack/tempest,master,I46f14c5dc944110d383ca3f1a395e681d6fb3159,Move test_volume_manage to unversioned path,MERGED,2017-04-03 21:13:42.000000000,2017-04-05 00:54:14.000000000,2017-04-05 00:54:14.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}]","[{'number': 1, 'created': '2017-04-03 21:13:42.000000000', 'files': ['tempest/api/volume/admin/test_volume_manage.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9fff020f372239402ba9595e6710a15397402328', 'message': 'Move test_volume_manage to unversioned path\n\nJust before I2acfe5a28a2533b16565e6ebad5c820e7c3a3967 , the patch\nwhich adds test_volume_manage was merged. So this patch moves the\ntest into unversioned path again.\n\nChange-Id: I46f14c5dc944110d383ca3f1a395e681d6fb3159\n'}]",0,452954,9fff020f372239402ba9595e6710a15397402328,12,3,1,6167,,,0,"Move test_volume_manage to unversioned path

Just before I2acfe5a28a2533b16565e6ebad5c820e7c3a3967 , the patch
which adds test_volume_manage was merged. So this patch moves the
test into unversioned path again.

Change-Id: I46f14c5dc944110d383ca3f1a395e681d6fb3159
",git fetch https://review.opendev.org/openstack/tempest refs/changes/54/452954/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_manage.py'],1,9fff020f372239402ba9595e6710a15397402328,cinder,"class VolumeManageAdminTest(base.BaseVolumeAdminTest): super(VolumeManageAdminTest, cls).skip_checks()","class VolumeManageAdminV2Test(base.BaseVolumeAdminTest): super(VolumeManageAdminV2Test, cls).skip_checks()",2,2
openstack%2Fopenstack-manuals~master~I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c,openstack/openstack-manuals,master,I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c,[Install-Guide] Note discover_hosts_in_cells_interval,MERGED,2017-04-04 01:25:43.000000000,2017-04-05 00:51:13.000000000,2017-04-05 00:51:13.000000000,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 10705}, {'_account_id': 10897}, {'_account_id': 11219}, {'_account_id': 20156}, {'_account_id': 25245}]","[{'number': 1, 'created': '2017-04-04 01:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/60d5f954e37422edbaeab38c9d9417287bf7b560', 'message': '[Install-Guide] Note discover_hosts_in_cells_interval\n\nNote the configuration setting in nova.conf that enables\nautomatic host discovery at a set interval.\n\nChange-Id: I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c\nRelated-Bug: #1663485\n'}, {'number': 2, 'created': '2017-04-04 01:40:19.000000000', 'files': ['doc/install-guide/source/nova-compute-install.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/815691352a47fd9688d58c38583180d3516a93d9', 'message': '[Install-Guide] Note discover_hosts_in_cells_interval\n\nNote the configuration setting in nova.conf that enables\nautomatic host discovery at a set interval.\n\nChange-Id: I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c\nBackport: ocata\nRelated-Bug: #1663485\n'}]",0,453003,815691352a47fd9688d58c38583180d3516a93d9,13,7,2,12686,,,0,"[Install-Guide] Note discover_hosts_in_cells_interval

Note the configuration setting in nova.conf that enables
automatic host discovery at a set interval.

Change-Id: I46ca0a3f4abc9edd83cd0e07e86d9a599af3d51c
Backport: ocata
Related-Bug: #1663485
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/03/453003/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/nova-compute-install.rst'],1,60d5f954e37422edbaeab38c9d9417287bf7b560,bug/1663485," nodes. Alternatively, you can set an appropriate interval in ``/etc/nova/nova.conf``: .. code-block:: ini [scheduler] discover_hosts_in_cells_interval = 300", nodes.,7,1
openstack%2Ftempest~master~I4fa07451a9dc3568efa547f3220d52d28719cbf6,openstack/tempest,master,I4fa07451a9dc3568efa547f3220d52d28719cbf6,Rename and replace remaining Cinder V2 API test,ABANDONED,2017-04-01 05:54:52.000000000,2017-04-05 00:34:03.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 21884}]","[{'number': 1, 'created': '2017-04-01 05:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b05d97ebd17a79a08a86735ccdfd93da7934c0f9', 'message': ""Rename remaining Cinder V2 API test\n\nThis patch just renames the remaing v2 api test 'VolumeManageAdminV2Test'\n\nChange-Id: I4fa07451a9dc3568efa547f3220d52d28719cbf6\n""}, {'number': 2, 'created': '2017-04-01 06:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/06e6400b3138279589825a0c20f65d521fe34053', 'message': ""Rename and replace remaining Cinder V2 API test\n\nThis patch just renames and replaces the v2 admin api test\n'VolumeManageAdminV2Test'\n\nDepends-On: I2acfe5a28a2533b16565e6ebad5c820e7c3a3967\nChange-Id: I4fa07451a9dc3568efa547f3220d52d28719cbf6\n""}, {'number': 3, 'created': '2017-04-01 07:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ab0be087080ffed3ff4aacd6ba1018a71bc45a7a', 'message': ""Rename and replace remaining Cinder V2 API test\n\nThis patch just renames and replaces the v2 admin api test\n'VolumeManageAdminV2Test'\n\nChange-Id: I4fa07451a9dc3568efa547f3220d52d28719cbf6\n""}, {'number': 4, 'created': '2017-04-04 05:23:25.000000000', 'files': ['tempest/api/volume/admin/test_volume_manage.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/94c86051927b4e8a93f03c7f9edc1c3e524525b0', 'message': ""Rename and replace remaining Cinder V2 API test\n\nPatch I2acfe5a28a2533b16565e6ebad5c820e7c3a3967 moved Cinder admin tests\ninto unversioned path, but miss test_volume_manage in v2 admin tests.\nThis patch just renames and replaces the v2 admin api test\n'VolumeManageAdminV2Test'\n\nChange-Id: I4fa07451a9dc3568efa547f3220d52d28719cbf6\n""}]",1,452389,94c86051927b4e8a93f03c7f9edc1c3e524525b0,16,6,4,23081,,,0,"Rename and replace remaining Cinder V2 API test

Patch I2acfe5a28a2533b16565e6ebad5c820e7c3a3967 moved Cinder admin tests
into unversioned path, but miss test_volume_manage in v2 admin tests.
This patch just renames and replaces the v2 admin api test
'VolumeManageAdminV2Test'

Change-Id: I4fa07451a9dc3568efa547f3220d52d28719cbf6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/452389/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/v2/test_volume_manage.py'],1,b05d97ebd17a79a08a86735ccdfd93da7934c0f9,rename_replace_v2_volume_manage,"class VolumeManageAdminTest(base.BaseVolumeAdminTest): super(VolumeManageAdminTest, cls).skip_checks()","class VolumeManageAdminV2Test(base.BaseVolumeAdminTest): super(VolumeManageAdminV2Test, cls).skip_checks()",2,2
openstack%2Fdesignate~master~I45562a4ceb6edd75811520fb6c5e80678739c89a,openstack/designate,master,I45562a4ceb6edd75811520fb6c5e80678739c89a,[WIP] just a test balloon,ABANDONED,2017-04-04 14:01:52.000000000,2017-04-05 00:20:10.000000000,,"[{'_account_id': 3}, {'_account_id': 16907}]","[{'number': 1, 'created': '2017-04-04 14:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/28e9cc2ac359b0d7a31c8a6498a4b4deccd592d1', 'message': '[WIP] just a test balloon\n\nChange-Id: I45562a4ceb6edd75811520fb6c5e80678739c89a\nDepends-On: Icef3a281a065e34183be42d89dedb41d4be85aef\n'}, {'number': 2, 'created': '2017-04-04 14:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/97568a76a3248bf7331ac66342d2c72998391667', 'message': '[WIP] just a test balloon\n\nChange-Id: I45562a4ceb6edd75811520fb6c5e80678739c89a\nDepends-On: Icef3a281a065e34183be42d89dedb41d4be85aef\nDepends-On: I4de68749e9eddbddbc7f8d8df68ce3ea71cc4fcb\n'}, {'number': 3, 'created': '2017-04-04 14:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/62f23960e3947d4a2c6dc2f7f03c70679afc7f04', 'message': '[WIP] just a test balloon\n\nChange-Id: I45562a4ceb6edd75811520fb6c5e80678739c89a\nDepends-On: Icef3a281a065e34183be42d89dedb41d4be85aef\nDepends-On: I4de68749e9eddbddbc7f8d8df68ce3ea71cc4fcb\n'}, {'number': 4, 'created': '2017-04-04 16:39:01.000000000', 'files': ['designate/pool_manager/rpcapi.py', 'designate/tests/unit/test_service_status.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b706aaec1fdc538933f9bd9b265bbee8ce7842b1', 'message': '[WIP] just a test balloon\n\nChange-Id: I45562a4ceb6edd75811520fb6c5e80678739c89a\nDepends-On: Icef3a281a065e34183be42d89dedb41d4be85aef\nDepends-On: I4de68749e9eddbddbc7f8d8df68ce3ea71cc4fcb\nDepends-On: Ifff8ea53d145d5353db4f58bffd6bace53d3e13c'}]",0,453185,b706aaec1fdc538933f9bd9b265bbee8ce7842b1,8,2,4,5638,,,0,"[WIP] just a test balloon

Change-Id: I45562a4ceb6edd75811520fb6c5e80678739c89a
Depends-On: Icef3a281a065e34183be42d89dedb41d4be85aef
Depends-On: I4de68749e9eddbddbc7f8d8df68ce3ea71cc4fcb
Depends-On: Ifff8ea53d145d5353db4f58bffd6bace53d3e13c",git fetch https://review.opendev.org/openstack/designate refs/changes/85/453185/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/test_service_status.py'],1,28e9cc2ac359b0d7a31c8a6498a4b4deccd592d1,, # Just a test,,1,0
openstack%2Fsenlin~master~I518a47284d030692ec97bf76fe920248af44aac7,openstack/senlin,master,I518a47284d030692ec97bf76fe920248af44aac7,Support keypair add/delete,MERGED,2017-04-04 14:40:47.000000000,2017-04-05 00:12:02.000000000,2017-04-05 00:12:02.000000000,"[{'_account_id': 3}, {'_account_id': 6348}, {'_account_id': 8246}]","[{'number': 1, 'created': '2017-04-04 14:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/aaed488fb78933ab991d1bdb67c796105c190f3c', 'message': 'Support keypair add/delete\n\nThis patch support keypai add/delete in profile.\n\nChange-Id: I518a47284d030692ec97bf76fe920248af44aac7\npartial-blueprint: #support-keypair-add-delete\n'}, {'number': 2, 'created': '2017-04-04 14:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a01ba27fe64e98e1f85424795300bff4d272b4c2', 'message': 'Support keypair add/delete\n\nThis patch support keypai add/delete in profile.\n\nChange-Id: I518a47284d030692ec97bf76fe920248af44aac7\npartial-blueprint:support-keypair-add-delete-and-slove-tempest\n'}, {'number': 3, 'created': '2017-04-04 14:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/636f2508eda9ecae702014836e60dc61540aebef', 'message': 'Support keypair add/delete\n\nThis patch support keypai add/delete in profile.\n\nChange-Id: I518a47284d030692ec97bf76fe920248af44aac7\npartial-blueprint:support-keypair-add-delete-and-solve-tempest\n'}, {'number': 4, 'created': '2017-04-04 14:59:09.000000000', 'files': ['senlin/tests/unit/drivers/test_nova_v2.py', 'senlin/drivers/openstack/nova_v2.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/947e80954bf10e713fb533d80019978c0faa3198', 'message': 'Support keypair add/delete\n\nThis patch is the start of this bp. First, we need support keypair\nadd/delete in nova_v2.\n\nChange-Id: I518a47284d030692ec97bf76fe920248af44aac7\npartial-blueprint:support-keypair-add-delete-and-solve-tempest\n'}]",0,453202,947e80954bf10e713fb533d80019978c0faa3198,10,3,4,22998,,,0,"Support keypair add/delete

This patch is the start of this bp. First, we need support keypair
add/delete in nova_v2.

Change-Id: I518a47284d030692ec97bf76fe920248af44aac7
partial-blueprint:support-keypair-add-delete-and-solve-tempest
",git fetch https://review.opendev.org/openstack/senlin refs/changes/02/453202/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/drivers/test_nova_v2.py', 'senlin/drivers/openstack/nova_v2.py']",2,aaed488fb78933ab991d1bdb67c796105c190f3c,bp/support-keypair-add-delete-and-solve-tempest," def keypair_create(self, **attrs): return self.conn.compute.create_keypair(**attrs) @sdk.translate_exception def keypair_delete(self, name_or_id, ignore_missing=False): return self.conn.compute.delete_keypair(name_or_id, ignore_missing) @sdk.translate_exception",,26,0
openstack%2Frally~master~I33fb74cfe780ad3dc8d516cdc7e753b2ec54c665,openstack/rally,master,I33fb74cfe780ad3dc8d516cdc7e753b2ec54c665,Switch glance wrapper to image service that cinder service calls,MERGED,2017-04-01 08:49:22.000000000,2017-04-05 00:11:55.000000000,2017-04-05 00:11:55.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-04-01 08:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/dda38b26237b84633330bccc5e9608efb21a5256', 'message': 'Switch glance wrapper to image service that cinder service calls\n\nimage service has been merged, we should switch to image service.\n\nChange-Id: I33fb74cfe780ad3dc8d516cdc7e753b2ec54c665\n'}, {'number': 2, 'created': '2017-04-03 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f1fcc3128a7c62661bf0b3623b2309524fe9b940', 'message': 'Switch glance wrapper to image service that cinder service calls\n\nimage service has been merged, we should switch to image service.\n\nChange-Id: I33fb74cfe780ad3dc8d516cdc7e753b2ec54c665\n'}, {'number': 3, 'created': '2017-04-03 16:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3a86ceb8900837a4207c0c49647495ff2b0cd372', 'message': 'Switch glance wrapper to image service that cinder service calls\n\nimage service has been merged, we should switch to image service.\n\nChange-Id: I33fb74cfe780ad3dc8d516cdc7e753b2ec54c665\n'}, {'number': 4, 'created': '2017-04-04 14:25:32.000000000', 'files': ['rally/plugins/openstack/services/storage/cinder_common.py', 'tests/unit/plugins/openstack/services/storage/test_cinder_common.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/778c03a2b4ba45e72ad110dc6bbe7fe6849b92e8', 'message': 'Switch glance wrapper to image service that cinder service calls\n\nimage service has been merged, we should switch to image service.\n\nChange-Id: I33fb74cfe780ad3dc8d516cdc7e753b2ec54c665\n'}]",0,452415,778c03a2b4ba45e72ad110dc6bbe7fe6849b92e8,19,4,4,21528,,,0,"Switch glance wrapper to image service that cinder service calls

image service has been merged, we should switch to image service.

Change-Id: I33fb74cfe780ad3dc8d516cdc7e753b2ec54c665
",git fetch https://review.opendev.org/openstack/rally refs/changes/15/452415/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/services/storage/cinder_common.py', 'tests/unit/plugins/openstack/services/storage/test_cinder_common.py']",2,dda38b26237b84633330bccc5e9608efb21a5256,cinder_service," @mock.patch(""rally.plugins.openstack.services.image.image.Image"") def test_upload_volume_to_image(self, mock_image): glance = mock_image.return_value glance.get_image.return_value, update_resource=glance.get_image, glance.get_image.assert_called_once_with(1)"," @mock.patch(""rally.plugins.openstack.wrappers.glance.wrap"") def test_upload_volume_to_image(self, mock_wrap): glance_client = mock_wrap.return_value.client glance_client.images.get.return_value = image glance_client.images.get.return_value, update_resource=mock_wrap.return_value.get_image, glance_client.images.get.assert_called_once_with(1)",14,16
openstack%2Ftripleo-heat-templates~master~I4ec5dd8b360faea71a044894a61790997f54d48a,openstack/tripleo-heat-templates,master,I4ec5dd8b360faea71a044894a61790997f54d48a,Remove kolla_config copy from services,MERGED,2017-03-29 12:12:57.000000000,2017-04-04 23:34:20.000000000,2017-04-04 23:29:12.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 2011}, {'_account_id': 4571}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-29 12:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e08daf08ab8362e3d9f0b1f069cdf2bb4062ca2', 'message': ""Remove kolla_config copy from aodh services\n\nSimplify the config of the aodh services by mounting in the\nconfigurations instead of specifying them all in kolla config.\n\nThis is change is useful to limit the side effects of generating the\nconfig files and running the container is two separate steps as config\ndirectories are now bind-mounted inside the container instead of having\nfiles being copied to the container. We've seen examples of Apache's\nmod_ssl configuration file present on the container preventing it to\nstart when puppet configured apache not to load the ssl module (in case\nTLS is disabled).\n\nChange-Id: I4ec5dd8b360faea71a044894a61790997f54d48a\n""}, {'number': 2, 'created': '2017-03-29 14:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9aabe4beb0db9e6f1f4c54525b6cea4e1ebc1f7a', 'message': ""Remove kolla_config copy from services\n\nSimplify the config of the containerized services by bind mounting in\nthe configurations instead of specifying them all in kolla config.\n\nThis is change is useful to limit the side effects of generating the\nconfig files and running the container is two separate steps as config\ndirectories are now bind-mounted inside the container instead of having\nfiles being copied to the container. We've seen examples of Apache's\nmod_ssl configuration file present on the container preventing it to\nstart when puppet configured apache not to load the ssl module (in case\nTLS is disabled).\n\nCo-Authored-By: Ian Main <imain@redhat.com>\nChange-Id: I4ec5dd8b360faea71a044894a61790997f54d48a\n""}, {'number': 3, 'created': '2017-03-29 16:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61212f3332084cadb7e1f9e31370e6a8c9dccb18', 'message': ""Remove kolla_config copy from services\n\nSimplify the config of the containerized services by bind mounting in\nthe configurations instead of specifying them all in kolla config.\n\nThis is change is useful to limit the side effects of generating the\nconfig files and running the container is two separate steps as config\ndirectories are now bind-mounted inside the container instead of having\nfiles being copied to the container. We've seen examples of Apache's\nmod_ssl configuration file present on the container preventing it to\nstart when puppet configured apache not to load the ssl module (in case\nTLS is disabled).\n\nCo-Authored-By: Ian Main <imain@redhat.com>\nChange-Id: I4ec5dd8b360faea71a044894a61790997f54d48a\n""}, {'number': 4, 'created': '2017-04-03 16:25:02.000000000', 'files': ['docker/services/gnocchi-metricd.yaml', 'docker/services/panko-api.yaml', 'docker/services/swift-storage.yaml', 'docker/services/nova-ironic.yaml', 'docker/services/aodh-api.yaml', 'docker/services/database/mongodb.yaml', 'docker/services/gnocchi-statsd.yaml', 'docker/services/nova-api.yaml', 'docker/services/nova-conductor.yaml', 'docker/services/nova-libvirt.yaml', 'docker/services/neutron-l3.yaml', 'docker/services/heat-api.yaml', 'docker/services/ironic-conductor.yaml', 'docker/services/neutron-dhcp.yaml', 'docker/services/ironic-pxe.yaml', 'docker/services/mistral-api.yaml', 'docker/services/gnocchi-api.yaml', 'docker/services/mistral-executor.yaml', 'docker/services/aodh-listener.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/neutron-api.yaml', 'docker/services/neutron-ovs-agent.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/ironic-api.yaml', 'docker/services/keystone.yaml', 'docker/services/zaqar.yaml', 'docker/services/aodh-evaluator.yaml', 'docker/services/database/mysql.yaml', 'docker/services/heat-api-cfn.yaml', 'docker/services/nova-placement.yaml', 'docker/services/heat-engine.yaml', 'docker/services/swift-proxy.yaml', 'docker/services/glance-api.yaml', 'docker/services/mistral-engine.yaml', 'docker/services/rabbitmq.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91e7a548cb4e39e72798c8cda16f3a946128a419', 'message': ""Remove kolla_config copy from services\n\nSimplify the config of the containerized services by bind mounting in\nthe configurations instead of specifying them all in kolla config.\n\nThis is change is useful to limit the side effects of generating the\nconfig files and running the container is two separate steps as config\ndirectories are now bind-mounted inside the container instead of having\nfiles being copied to the container. We've seen examples of Apache's\nmod_ssl configuration file present on the container preventing it to\nstart when puppet configured apache not to load the ssl module (in case\nTLS is disabled).\n\nCo-Authored-By: Ian Main <imain@redhat.com>\nChange-Id: I4ec5dd8b360faea71a044894a61790997f54d48a\n""}]",3,451366,91e7a548cb4e39e72798c8cda16f3a946128a419,33,8,4,13039,,,0,"Remove kolla_config copy from services

Simplify the config of the containerized services by bind mounting in
the configurations instead of specifying them all in kolla config.

This is change is useful to limit the side effects of generating the
config files and running the container is two separate steps as config
directories are now bind-mounted inside the container instead of having
files being copied to the container. We've seen examples of Apache's
mod_ssl configuration file present on the container preventing it to
start when puppet configured apache not to load the ssl module (in case
TLS is disabled).

Co-Authored-By: Ian Main <imain@redhat.com>
Change-Id: I4ec5dd8b360faea71a044894a61790997f54d48a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/451366/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/aodh-listener.yaml', 'docker/services/aodh-api.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/aodh-evaluator.yaml']",4,0e08daf08ab8362e3d9f0b1f069cdf2bb4062ca2,bindmount-config, - /var/lib/config-data/aodh/etc/aodh/:/etc/aodh/:ro, config_files: - dest: /etc/aodh/aodh.conf owner: aodh perm: '0640' source: /var/lib/kolla/config_files/src/etc/aodh/aodh.conf - /var/lib/config-data/aodh/:/var/lib/kolla/config_files/src:ro,9,48
openstack%2Fpuppet-tripleo~master~I367757cbe8757d11943af7e41af620f9ce919a06,openstack/puppet-tripleo,master,I367757cbe8757d11943af7e41af620f9ce919a06,Configure migration SSH tunnel,MERGED,2017-03-28 15:04:00.000000000,2017-04-04 23:29:07.000000000,2017-04-04 23:29:06.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-03-28 15:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d029b91155f444f70078bf2d09dd3f39bfcf0b06', 'message': 'WIP: migration SSH tunnel config\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\n'}, {'number': 2, 'created': '2017-03-30 20:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0f8411ff4d6c703e2c478323c2037bb82f4151a3', 'message': 'WIP: migration SSH tunnel config\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec\n'}, {'number': 3, 'created': '2017-03-30 21:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a5f75961fb08780d65103bc1a9fec2a05d801e01', 'message': 'WIP: migration SSH tunnel config\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec\n'}, {'number': 4, 'created': '2017-03-30 21:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ea398b0472b94d14732c377a97f072eae5442ea7', 'message': 'WIP: migration SSH tunnel config\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec\n'}, {'number': 5, 'created': '2017-03-30 21:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c248d9d27372d068c01750e7ee6afc481506a1a0', 'message': 'WIP: migration SSH tunnel config\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec\n'}, {'number': 6, 'created': '2017-03-30 22:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a9858f83ac0db530ea60e4bc4a8a29e70e631a53', 'message': 'WIP: migration SSH tunnel config\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec\n'}, {'number': 7, 'created': '2017-04-03 08:14:52.000000000', 'files': ['releasenotes/notes/cold_migration_setup-dc4ebd834920c27f.yaml', 'manifests/profile/base/nova.pp', 'spec/classes/tripleo_profile_base_nova_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ccbcd11276c7bc3ffc8f013d9a5b2d3944bf76cf', 'message': 'Configure migration SSH tunnel\n\nThis patch configures SSH tunneling for nova cold-migration and reuses the\ntunnel for libvirt live-migration unless TLS has been enabled.\n\nChange-Id: I367757cbe8757d11943af7e41af620f9ce919a06\nDepends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec\n'}]",13,450826,ccbcd11276c7bc3ffc8f013d9a5b2d3944bf76cf,30,6,7,23811,,,0,"Configure migration SSH tunnel

This patch configures SSH tunneling for nova cold-migration and reuses the
tunnel for libvirt live-migration unless TLS has been enabled.

Change-Id: I367757cbe8757d11943af7e41af620f9ce919a06
Depends-On: Iac1763761c652bed637cb7cf85bc12347b5fe7ec
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/26/450826/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova.pp', 'spec/classes/tripleo_profile_base_nova_spec.rb']",2,d029b91155f444f70078bf2d09dd3f39bfcf0b06,bp/tripleo-cold-migration," is_expected.to contain_class('nova').with( :default_transport_url => /.+/, :notification_transport_url => /.+/, :nova_public_key => nil, :nova_private_key => nil, ) is_expected.to contain_class('nova').with( :default_transport_url => /.+/, :notification_transport_url => /.+/, :nova_public_key => nil, :nova_private_key => nil, ) :use_tls => false, :configure_libvirt => false, :configure_nova => params[:nova_compute_enabled] ) is_expected.to contain_nova_config('libvirt/live_migration_uri').with( 'value' => 'qemu+ssh://nova@%s/system?keyfile=/var/lib/nova/.ssh/id_rsa' ) } end context 'with step 4 with libvirt TLS' do let(:pre_condition) { 'include ::nova::compute::libvirt::services' } let(:params) { { :step => 4, :libvirt_enabled => true, :manage_migration => true, :nova_compute_enabled => true, :bootstrap_node => 'node.example.com', :oslomsg_rpc_hosts => [ 'localhost' ], :oslomsg_rpc_password => 'foo', :libvirt_tls => true, } } it { is_expected.to contain_class('tripleo::profile::base::nova') is_expected.to contain_class('nova').with( :default_transport_url => /.+/, :notification_transport_url => /.+/, :nova_public_key => nil, :nova_private_key => nil, ) is_expected.to contain_class('nova::config') is_expected.to contain_class('nova::placement') is_expected.to contain_class('nova::cache') is_expected.to contain_class('nova::migration::libvirt').with( :use_tls => true, :configure_libvirt => params[:libvirt_enabled], :configure_nova => params[:nova_compute_enabled], ) is_expected.to_not contain_nova_config('libvirt/live_migration_uri').with( 'value' => 'qemu+ssh://nova@%s/system?keyfile=/var/lib/nova/.ssh/id_rsa' ) } end context 'with step 4 with libvirt and migration ssh key' do let(:pre_condition) { 'include ::nova::compute::libvirt::services' } let(:params) { { :step => 4, :libvirt_enabled => true, :manage_migration => true, :nova_compute_enabled => true, :bootstrap_node => 'node.example.com', :oslomsg_rpc_hosts => [ 'localhost' ], :oslomsg_rpc_password => 'foo', :migration_ssh_key => { 'private_key' => 'foo', 'public_key' => 'ssh-rsa bar'} } } it { is_expected.to contain_class('tripleo::profile::base::nova') is_expected.to contain_class('nova').with( :default_transport_url => /.+/, :notification_transport_url => /.+/, :nova_public_key => {'key' => 'bar', 'type' => 'ssh-rsa'}, :nova_private_key => {'key' => 'foo', 'type' => 'ssh-rsa'} ) is_expected.to contain_class('nova::config') is_expected.to contain_class('nova::placement') is_expected.to contain_class('nova::cache') is_expected.to contain_class('nova::migration::libvirt').with( :use_tls => false, :configure_libvirt => false, :configure_nova => params[:nova_compute_enabled] ) is_expected.to contain_nova_config('libvirt/live_migration_uri').with( 'value' => 'qemu+ssh://nova@%s/system?keyfile=/var/lib/nova/.ssh/id_rsa' ) } end context 'with step 4 with libvirt TLS and migration ssh key' do let(:pre_condition) { 'include ::nova::compute::libvirt::services' } let(:params) { { :step => 4, :libvirt_enabled => true, :manage_migration => true, :nova_compute_enabled => true, :bootstrap_node => 'node.example.com', :oslomsg_rpc_hosts => [ 'localhost' ], :oslomsg_rpc_password => 'foo', :libvirt_tls => true, :migration_ssh_key => { 'private_key' => 'foo', 'public_key' => 'ssh-rsa bar'} } } it { is_expected.to contain_class('tripleo::profile::base::nova') is_expected.to contain_class('nova').with( :default_transport_url => /.+/, :notification_transport_url => /.+/, :nova_public_key => {'key' => 'bar', 'type' => 'ssh-rsa'}, :nova_private_key => {'key' => 'foo', 'type' => 'ssh-rsa'} ) is_expected.to contain_class('nova::config') is_expected.to contain_class('nova::placement') is_expected.to contain_class('nova::cache') is_expected.to contain_class('nova::migration::libvirt').with( :use_tls => true, is_expected.to_not contain_nova_config('libvirt/live_migration_uri').with( 'value' => 'qemu+ssh://nova@%s/system?keyfile=/var/lib/nova/.ssh/id_rsa' )", is_expected.to contain_class('nova') is_expected.to contain_class('nova'),234,27
openstack%2Fkolla-kubernetes~master~I302a257281ebe210305e527e38c307aa32f26260,openstack/kolla-kubernetes,master,I302a257281ebe210305e527e38c307aa32f26260,Fix seleneum blocking the gate,MERGED,2017-04-04 19:37:24.000000000,2017-04-04 23:27:03.000000000,2017-04-04 23:27:03.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 9237}, {'_account_id': 19384}]","[{'number': 1, 'created': '2017-04-04 19:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/06807f1c65c7ad8cecaba75de0c1ded081cf63c3', 'message': 'Fix seleneum blocking the gate\n\nIn case of screenshot failure, the test is blocking the gate.\nThis should fix it so that it logs and moves on.\n\nChange-Id: I302a257281ebe210305e527e38c307aa32f26260\n'}, {'number': 2, 'created': '2017-04-04 22:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/4da3d5b78d807c28d2ff3e46d7bcfe280f9655b1', 'message': 'Fix seleneum blocking the gate\n\nIn case of screenshot failure, the test is blocking the gate.\nThis should fix it so that it logs and moves on.\n\nChange-Id: I302a257281ebe210305e527e38c307aa32f26260\n'}, {'number': 3, 'created': '2017-04-04 22:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/c93dec4de8d8cff7dfd6406fc36b50860d20c67d', 'message': 'Fix seleneum blocking the gate\n\nIn case of screenshot failure, the test is blocking the gate.\nThis should fix it so that it logs and moves on.\n\nChange-Id: I302a257281ebe210305e527e38c307aa32f26260\n'}, {'number': 4, 'created': '2017-04-04 22:41:47.000000000', 'files': ['tests/bin/horizon_test.py'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/a075a3b1ba3d98669a3c7cf0625b9688a6ee1b27', 'message': 'Fix seleneum blocking the gate\n\nIn case of screenshot failure, the test is blocking the gate.\nThis should fix it so that it logs and moves on.\n\nChange-Id: I302a257281ebe210305e527e38c307aa32f26260\n'}]",0,453315,a075a3b1ba3d98669a3c7cf0625b9688a6ee1b27,12,4,4,9237,,,0,"Fix seleneum blocking the gate

In case of screenshot failure, the test is blocking the gate.
This should fix it so that it logs and moves on.

Change-Id: I302a257281ebe210305e527e38c307aa32f26260
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/15/453315/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/bin/horizon_test.py'],1,06807f1c65c7ad8cecaba75de0c1ded081cf63c3,soleneumgatefix," except Exception, e: print(""Tearing down due to error. %s"" %e) try: i.screenshot() except Exception, e: print(""Got another exception. %s"" %e)"," except Exception: print(""Tearing down due to error."") i.screenshot() try: except Exception:",5,4
openstack%2Fgnocchi~stable%2F3.0~I02042c0b5005a50b3760c9aae67ad4d0eeb69e04,openstack/gnocchi,stable/3.0,I02042c0b5005a50b3760c9aae67ad4d0eeb69e04,Correct bad use response_strings in live.yaml,MERGED,2017-04-04 21:47:33.000000000,2017-04-04 23:18:26.000000000,2017-04-04 23:18:26.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-04-04 21:47:33.000000000', 'files': ['gnocchi/tests/gabbi/gabbits-live/live.yaml'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/ad739d479533b7936270b328c3203bfaead80226', 'message': ""Correct bad use response_strings in live.yaml\n\nresponse_strings wants a list, not a string. In gabbi earlier than\n1.33.0 it accept a string and then iterated checking for each single\ncharacter in the response body. So still passing.\n\nThis fixes recent failures by putting the necessary '-' at the start\nof the search string. It's an easy bug to make and then never\nnotice, which is why gabbi 1.33.0 is all uptight about it.\n\nChange-Id: I02042c0b5005a50b3760c9aae67ad4d0eeb69e04\n(cherry picked from commit f9fc5a7449139f5fb3d410083bf7565e74a3e31b)\n(cherry picked from commit b02b8bb22016efd6cde2da4aa448e0fd03ba42ec)\n""}]",0,453350,ad739d479533b7936270b328c3203bfaead80226,6,3,1,6537,,,0,"Correct bad use response_strings in live.yaml

response_strings wants a list, not a string. In gabbi earlier than
1.33.0 it accept a string and then iterated checking for each single
character in the response body. So still passing.

This fixes recent failures by putting the necessary '-' at the start
of the search string. It's an easy bug to make and then never
notice, which is why gabbi 1.33.0 is all uptight about it.

Change-Id: I02042c0b5005a50b3760c9aae67ad4d0eeb69e04
(cherry picked from commit f9fc5a7449139f5fb3d410083bf7565e74a3e31b)
(cherry picked from commit b02b8bb22016efd6cde2da4aa448e0fd03ba42ec)
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/50/453350/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/tests/gabbi/gabbits-live/live.yaml'],1,ad739d479533b7936270b328c3203bfaead80226,gabbi," - '""aggregation_methods"": [""max"", ""min"", ""mean""]' - '""metric_pattern"": ""live.*"", ""archive_policy_name"": ""gabbilive"", ""name"": ""gabbilive_rule""' - '""user_id"": ""126204ef-989a-46fd-999b-ee45c8108f31""' - '""id"": ""2ae35573-7f9f-4bb1-aae8-dad8dff5706e""'"," '""aggregation_methods"": [""max"", ""min"", ""mean""]' '""metric_pattern"": ""live.*"", ""archive_policy_name"": ""gabbilive"", ""name"": ""gabbilive_rule""' '""user_id"": ""126204ef-989a-46fd-999b-ee45c8108f31""' '""id"": ""2ae35573-7f9f-4bb1-aae8-dad8dff5706e""'",4,4
openstack%2Fironic~master~Ifb0fba3a82d7b24c25893ba258c74a66630617d9,openstack/ironic,master,Ifb0fba3a82d7b24c25893ba258c74a66630617d9,Fix base object serialization checks,MERGED,2017-04-04 14:45:49.000000000,2017-04-04 23:06:55.000000000,2017-04-04 23:06:55.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14629}]","[{'number': 1, 'created': '2017-04-04 14:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2c677ca5c2e9ce5d3f9a54c48e16959e9d34cc4', 'message': ""Fix serialization warnings for unicode strings\n\nThis logs a warning every time a unicode object is serialized. Don't do\nthat.\n\nChange-Id: Ifb0fba3a82d7b24c25893ba258c74a66630617d9\n""}, {'number': 2, 'created': '2017-04-04 17:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6af4c544970f14876fb10782e76b855e271c2320', 'message': ""Fix serialization warnings for unicode strings\n\nThis logs a warning every time a unicode object is serialized. Don't do\nthat.\n\nChange-Id: Ifb0fba3a82d7b24c25893ba258c74a66630617d9\n""}, {'number': 3, 'created': '2017-04-04 17:41:36.000000000', 'files': ['ironic/objects/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/25bfdcdd1f51a24a6b4fb18b39329b748875090f', 'message': ""Fix base object serialization checks\n\nWe're missing unicode and long types in python 2 and bytes in python 3\nhere. These don't need to be serialized but will currently emit a\nwarning log when we hit this path. Add these types (via six so we're\ncompatible).\n\nChange-Id: Ifb0fba3a82d7b24c25893ba258c74a66630617d9\n""}]",0,453205,25bfdcdd1f51a24a6b4fb18b39329b748875090f,13,5,3,10343,,,0,"Fix base object serialization checks

We're missing unicode and long types in python 2 and bytes in python 3
here. These don't need to be serialized but will currently emit a
warning log when we hit this path. Add these types (via six so we're
compatible).

Change-Id: Ifb0fba3a82d7b24c25893ba258c74a66630617d9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/453205/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic/objects/base.py'],1,e2c677ca5c2e9ce5d3f9a54c48e16959e9d34cc4,fix-serialization-warnings," elif (not isinstance(entity, (int, str, unicode, bool, float, type)) and entity):"," elif not isinstance(entity, (int, str, bool, float, type)) and entity:",2,1
openstack%2Fpuppet-cinder~master~I295d8388ba17dd60e83995e7c82f64f02a3c4258,openstack/puppet-cinder,master,I295d8388ba17dd60e83995e7c82f64f02a3c4258,Remove the eqlx deprecated options,MERGED,2017-03-06 05:57:28.000000000,2017-04-04 23:04:07.000000000,2017-04-04 22:57:10.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 18795}, {'_account_id': 24680}]","[{'number': 1, 'created': '2017-03-06 05:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/cf2026e20407e019bd86d5d6c61e8bd1f2ac418f', 'message': ""Remove the eqlx deprecated options\n\nRemoving the Dell EqualLogic driver's deprecated configuration options.\nPlease replace old options in your cinder.conf with the new one.\n\n* Removed - eqlx_cli_timeout\n* Replaced with - ssh_conn_timeout\n* Removed - eqlx_use_chap\n* Replaced with - use_chap_auth\n* Removed - eqlx_chap_login\n* Replaced with - chap_username\n* Removed - eqlx_chap_password\n* Replaced with - chap_password\n\nChange-Id: I295d8388ba17dd60e83995e7c82f64f02a3c4258\n""}, {'number': 2, 'created': '2017-03-06 06:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c0476e5c6c094a84368a105ba8a073e8aff30e8f', 'message': ""Remove the eqlx deprecated options\n\nThe eqlx deprecated options have been removed in cinder.\nRemoving the Dell EqualLogic driver's deprecated configuration options.\nPlease replace old options in your cinder.conf with the new one.\n\n* Removed - eqlx_cli_timeout\n* Replaced with - ssh_conn_timeout\n* Removed - eqlx_use_chap\n* Replaced with - use_chap_auth\n* Removed - eqlx_chap_login\n* Replaced with - chap_username\n* Removed - eqlx_chap_password\n* Replaced with - chap_password\n\nChange-Id: I295d8388ba17dd60e83995e7c82f64f02a3c4258\n""}, {'number': 3, 'created': '2017-03-08 05:45:27.000000000', 'files': ['manifests/backend/eqlx.pp', 'releasenotes/notes/remove-eqlx-deprecated-options-a3898135d783f4e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dff1b165ec81326aa04853d668c342aaac20c104', 'message': ""Remove the eqlx deprecated options\n\nThe eqlx deprecated options have been removed in cinder.\nRemoving the Dell EqualLogic driver's deprecated configuration options.\nPlease replace old options in your cinder.conf with the new one.\n\n* Removed - eqlx_cli_timeout\n* Replaced with - ssh_conn_timeout\n* Removed - eqlx_use_chap\n* Replaced with - use_chap_auth\n* Removed - eqlx_chap_login\n* Replaced with - chap_username\n* Removed - eqlx_chap_password\n* Replaced with - chap_password\n\nChange-Id: I295d8388ba17dd60e83995e7c82f64f02a3c4258\n""}]",0,441751,dff1b165ec81326aa04853d668c342aaac20c104,37,6,3,9414,,,0,"Remove the eqlx deprecated options

The eqlx deprecated options have been removed in cinder.
Removing the Dell EqualLogic driver's deprecated configuration options.
Please replace old options in your cinder.conf with the new one.

* Removed - eqlx_cli_timeout
* Replaced with - ssh_conn_timeout
* Removed - eqlx_use_chap
* Replaced with - use_chap_auth
* Removed - eqlx_chap_login
* Replaced with - chap_username
* Removed - eqlx_chap_password
* Replaced with - chap_password

Change-Id: I295d8388ba17dd60e83995e7c82f64f02a3c4258
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/51/441751/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/eqlx.pp', 'releasenotes/notes/remove-eqlx-deprecated-options-a3898135d783f4e.yaml']",2,cf2026e20407e019bd86d5d6c61e8bd1f2ac418f,remove_deprecate_eqlx_parameters,--- upgrade: - | Removing the Dell EqualLogic driver's deprecated configuration options. Please replace old options in your cinder.conf with the new one. * Removed - eqlx_cli_timeout * Replaced with - ssh_conn_timeout * Removed - eqlx_use_chap * Replaced with - use_chap_auth * Removed - eqlx_chap_login * Replaced with - chap_username * Removed - eqlx_chap_password * Replaced with - chap_password ,,20,65
openstack%2Frally~master~I070cb920cf11bf6c718758be8ac5d95379a5a75d,openstack/rally,master,I070cb920cf11bf6c718758be8ac5d95379a5a75d,[ci] Change image name for senlin job,MERGED,2017-04-03 08:23:18.000000000,2017-04-04 22:59:27.000000000,2017-04-04 22:59:27.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 19011}]","[{'number': 1, 'created': '2017-04-03 08:23:18.000000000', 'files': ['rally-jobs/rally-senlin.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/0cc7b59ccb984207fc1692cca84ea93d59796905', 'message': '[ci] Change image name for senlin job\n\nThe nae of image is change, so we need to change it in our task file.\n\nChange-Id: I070cb920cf11bf6c718758be8ac5d95379a5a75d\n'}]",0,452632,0cc7b59ccb984207fc1692cca84ea93d59796905,9,4,1,9545,,,0,"[ci] Change image name for senlin job

The nae of image is change, so we need to change it in our task file.

Change-Id: I070cb920cf11bf6c718758be8ac5d95379a5a75d
",git fetch https://review.opendev.org/openstack/rally refs/changes/32/452632/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/rally-senlin.yaml'],1,0cc7b59ccb984207fc1692cca84ea93d59796905,senlin," image: ""cirros-0.3.5-x86_64-disk"""," image: ""cirros-0.3.5-x86_64-disk.img""",1,1
openstack%2Fcinder~master~Ie1c7fa935fb06d07ff901eae1a9024069a250a1b,openstack/cinder,master,Ie1c7fa935fb06d07ff901eae1a9024069a250a1b,[Trivial]Fix some incorrect annotations,MERGED,2017-02-07 08:34:01.000000000,2017-04-04 22:57:42.000000000,2017-04-04 22:57:42.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18827}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21511}, {'_account_id': 21863}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25112}]","[{'number': 1, 'created': '2017-02-07 08:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74ffeea9dc2ed66b166e2187a01cdc5a8f386165', 'message': 'Fix some incorrect annotations\n\nChange-Id: Ie1c7fa935fb06d07ff901eae1a9024069a250a1b\n'}, {'number': 2, 'created': '2017-02-07 11:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dff5d65f252725820798f080547f7c34f5bb950', 'message': 'Fix some incorrect annotations\n\nChange-Id: Ie1c7fa935fb06d07ff901eae1a9024069a250a1b\n'}, {'number': 3, 'created': '2017-02-08 02:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f06b59dc7d636f74b19590a6ff00b97ad8f8fd3b', 'message': '[Trivial]Fix some incorrect annotations\n\nChange-Id: Ie1c7fa935fb06d07ff901eae1a9024069a250a1b\n'}, {'number': 4, 'created': '2017-03-30 03:42:11.000000000', 'files': ['cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da73909143fc18fa45827959f3e2cbd0529b0316', 'message': '[Trivial]Fix some incorrect annotations\n\nChange-Id: Ie1c7fa935fb06d07ff901eae1a9024069a250a1b\n'}]",0,430116,da73909143fc18fa45827959f3e2cbd0529b0316,152,43,4,21511,,,0,"[Trivial]Fix some incorrect annotations

Change-Id: Ie1c7fa935fb06d07ff901eae1a9024069a250a1b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/430116/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/utils.py'],1,74ffeea9dc2ed66b166e2187a01cdc5a8f386165,cinder2017," Parameters of the decorator are as follows. whether to log methods or api traces. If there are no elements, an empty string will be returned. """"""Make sure that value is a valid integer, potentially within a range."," Parameters of the decorator is as follows. whether to log method and api traces. If there are no elements an empty string will be returned. """"""Make sure that value is a valid integer, potentially within range.",4,4
openstack%2Fneutron~master~If45d8dfe256893194b06d0d1139c907665a0605a,openstack/neutron,master,If45d8dfe256893194b06d0d1139c907665a0605a,hacking: disable log translations check,MERGED,2017-04-04 15:00:52.000000000,2017-04-04 22:55:16.000000000,2017-04-04 22:55:16.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 13717}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-04 15:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27f0cea16b326ac85190fd9f02766f0baf4f25f2', 'message': 'hacking: disable log translations check\n\nIn order to stay along with log translation guidelines [1]\nN320 check should be disabled.\n\n[1] https://docs.openstack.org/developer/oslo.i18n/guidelines.html#log-translation\n\nChange-Id: If45d8dfe256893194b06d0d1139c907665a0605a\n'}, {'number': 2, 'created': '2017-04-04 17:36:08.000000000', 'files': ['neutron/hacking/checks.py', 'neutron/tests/unit/hacking/test_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb64e7de492efbafebf38c875ce6ba76601286ac', 'message': 'hacking: disable log translations check\n\nIn order to stay along with log translation guidelines [1]\nN320 check should be disabled.\n\n[1] https://docs.openstack.org/developer/oslo.i18n/guidelines.html#log-translation\n\nChange-Id: If45d8dfe256893194b06d0d1139c907665a0605a\n'}]",0,453211,fb64e7de492efbafebf38c875ce6ba76601286ac,24,10,2,13717,,,0,"hacking: disable log translations check

In order to stay along with log translation guidelines [1]
N320 check should be disabled.

[1] https://docs.openstack.org/developer/oslo.i18n/guidelines.html#log-translation

Change-Id: If45d8dfe256893194b06d0d1139c907665a0605a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/453211/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/hacking/checks.py'],1,27f0cea16b326ac85190fd9f02766f0baf4f25f2,bug/1615690,,"import pep8 import sixlog_translation_hint = re.compile( '|'.join('(?:%s)' % _regex_for_level(level, hint) for level, hint in six.iteritems(_all_log_levels))) def validate_log_translations(logical_line, physical_line, filename): """"""N320 - Log messages require translation."""""" # Translations are not required in the test directory if ""neutron/tests"" in filename: return if pep8.noqa(physical_line): return msg = ""N320: Log messages require translation hints!"" if log_translation_hint.match(logical_line): yield (0, msg) @flake8ext register(validate_log_translations)",0,21
openstack%2Foctavia~stable%2Focata~Ib8476e727c24dd5a51d03e75a4d07df7d812e1fa,openstack/octavia,stable/ocata,Ib8476e727c24dd5a51d03e75a4d07df7d812e1fa,Updated from global requirements,MERGED,2017-03-09 18:19:49.000000000,2017-04-04 22:54:48.000000000,2017-04-04 22:50:07.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 16923}]","[{'number': 1, 'created': '2017-03-09 18:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1da3eff4496eb0cd72bbf9a0a6cca8bdb2048951', 'message': 'Updated from global requirements\n\nChange-Id: Ib8476e727c24dd5a51d03e75a4d07df7d812e1fa\n'}, {'number': 2, 'created': '2017-04-04 20:34:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a523c45757c3f9bdccd91a7c83f78766f9f0f064', 'message': 'Updated from global requirements\n\nChange-Id: Ib8476e727c24dd5a51d03e75a4d07df7d812e1fa\n'}]",0,443849,a523c45757c3f9bdccd91a7c83f78766f9f0f064,15,4,2,11131,,,0,"Updated from global requirements

Change-Id: Ib8476e727c24dd5a51d03e75a4d07df7d812e1fa
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/443849/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1da3eff4496eb0cd72bbf9a0a6cca8bdb2048951,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fneutron~master~I436072d03f401240df6d7b8348616bc7c4731c4a,openstack/neutron,master,I436072d03f401240df6d7b8348616bc7c4731c4a,Let setup.py compile_catalog process all language files,MERGED,2016-05-20 16:55:55.000000000,2017-04-04 22:53:53.000000000,2017-04-04 22:53:53.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 13717}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19173}, {'_account_id': 20330}]","[{'number': 1, 'created': '2016-05-20 16:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5598f492db093d58ffdea6dd028fb5801b3b2b20', 'message': 'Let setup.py compile_catalog process all language files\n\nTwo years ago the translation files have been split into several\nfiles, separating the log messages of different log levels from each\nother, like X.pot, X-log-warning.pot, X-log-info.pot, and so on.\nHowever, the setup.py command `compile_catalogs`, that comes from the\nbabel package and compiles the corresponding .po files into .mo\nfiles, only supported one file per python package.  This means that\nduring packaging `compile_catalogs` never compiled the X-log-*.po\nfiles, so the corresponding translations were always missing.\n\nSince babel 2.3 the domain can be set to a space separated list of\ndomains.  This change adds the the additional log level files to the\ndomain list.\n\nThe obsolete check that .po and .pot files are valid is removed from\ntox.ini.\n\nChange-Id: I436072d03f401240df6d7b8348616bc7c4731c4a\nCloses-Bug: #1536226\n'}, {'number': 2, 'created': '2017-02-25 05:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25de5cc6b40c513da48e09b0fef541350e2f923a', 'message': 'Let setup.py compile_catalog process all language files\n\nTwo years ago the translation files have been split into several\nfiles, separating the log messages of different log levels from each\nother, like X.pot, X-log-warning.pot, X-log-info.pot, and so on.\nHowever, the setup.py command `compile_catalogs`, that comes from the\nbabel package and compiles the corresponding .po files into .mo\nfiles, only supported one file per python package.  This means that\nduring packaging `compile_catalogs` never compiled the X-log-*.po\nfiles, so the corresponding translations were always missing.\n\nSince babel 2.3 the domain can be set to a space separated list of\ndomains.  This change adds the the additional log level files to the\ndomain list.\n\nChange-Id: I436072d03f401240df6d7b8348616bc7c4731c4a\nCloses-Bug: #1536226\n'}, {'number': 3, 'created': '2017-02-25 05:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31297dbaacb10802946f427dde129d22e7e43ec1', 'message': 'Let setup.py compile_catalog process all language files\n\nTwo years ago the translation files have been split into several\nfiles, separating the log messages of different log levels from each\nother, like X.pot, X-log-warning.pot, X-log-info.pot, and so on.\nHowever, the setup.py command `compile_catalogs`, that comes from the\nbabel package and compiles the corresponding .po files into .mo\nfiles, only supported one file per python package.  This means that\nduring packaging `compile_catalogs` never compiled the X-log-*.po\nfiles, so the corresponding translations were always missing.\n\nSince babel 2.3 the domain can be set to a space separated list of\ndomains.  This change adds the the additional log level files to the\ndomain list.\n\nChange-Id: I436072d03f401240df6d7b8348616bc7c4731c4a\nCloses-Bug: #1536226\n'}, {'number': 4, 'created': '2017-03-15 04:27:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf42abc85e385eac12123ccac63a7dd3eb4f83ce', 'message': 'Let setup.py compile_catalog process all language files\n\nTwo years ago the translation files have been split into several\nfiles, separating the log messages of different log levels from each\nother, like X.pot, X-log-warning.pot, X-log-info.pot, and so on.\nHowever, the setup.py command `compile_catalogs`, that comes from the\nbabel package and compiles the corresponding .po files into .mo\nfiles, only supported one file per python package.  This means that\nduring packaging `compile_catalogs` never compiled the X-log-*.po\nfiles, so the corresponding translations were always missing.\n\nSince babel 2.3 the domain can be set to a space separated list of\ndomains.  This change adds the the additional log level files to the\ndomain list.\n\nChange-Id: I436072d03f401240df6d7b8348616bc7c4731c4a\nCloses-Bug: #1536226\n'}]",3,319353,cf42abc85e385eac12123ccac63a7dd3eb4f83ce,56,17,4,19173,,,0,"Let setup.py compile_catalog process all language files

Two years ago the translation files have been split into several
files, separating the log messages of different log levels from each
other, like X.pot, X-log-warning.pot, X-log-info.pot, and so on.
However, the setup.py command `compile_catalogs`, that comes from the
babel package and compiles the corresponding .po files into .mo
files, only supported one file per python package.  This means that
during packaging `compile_catalogs` never compiled the X-log-*.po
files, so the corresponding translations were always missing.

Since babel 2.3 the domain can be set to a space separated list of
domains.  This change adds the the additional log level files to the
domain list.

Change-Id: I436072d03f401240df6d7b8348616bc7c4731c4a
Closes-Bug: #1536226
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/319353/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5598f492db093d58ffdea6dd028fb5801b3b2b20,bug/1536226,domain = neutron neutron-log-error neutron-log-info neutron-log-warning,domain = neutron,1,1
openstack%2Fgnocchi~master~I1569e6827038909fae2913b78d655ade7f59f9fb,openstack/gnocchi,master,I1569e6827038909fae2913b78d655ade7f59f9fb,ceph: drop casting measures to process for metric,ABANDONED,2017-04-04 15:45:31.000000000,2017-04-04 22:50:18.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-04 15:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/449f69edcd130c2c5585aed95b54be4536a82a6f', 'message': ""ceph: drop casting measures to process for metric\n\nwe don't need it so no point in doing it.\n\nChange-Id: I1569e6827038909fae2913b78d655ade7f59f9fb\n""}, {'number': 2, 'created': '2017-04-04 21:28:20.000000000', 'files': ['gnocchi/storage/incoming/ceph.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b9967fdc392a0514d364d34d2f9104ae8c33f180', 'message': ""ceph: drop casting measures to process for metric\n\nwe don't need it so no point in doing it.\n\nChange-Id: I1569e6827038909fae2913b78d655ade7f59f9fb\n""}]",0,453234,b9967fdc392a0514d364d34d2f9104ae8c33f180,5,1,2,6537,,,0,"ceph: drop casting measures to process for metric

we don't need it so no point in doing it.

Change-Id: I1569e6827038909fae2913b78d655ade7f59f9fb
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/34/453234/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/storage/incoming/ceph.py'],1,449f69edcd130c2c5585aed95b54be4536a82a6f,clean, object_names = self._list_object_names_to_process(object_prefix)), object_names = list(self._list_object_names_to_process(object_prefix)),1,1
openstack%2Fneutron-lbaas~stable%2Fnewton~I5d41652a85cfb91646bb48d38eedbe97741a97c2,openstack/neutron-lbaas,stable/newton,I5d41652a85cfb91646bb48d38eedbe97741a97c2,Don't use Tempest internal methods,MERGED,2017-03-27 20:28:17.000000000,2017-04-04 22:50:13.000000000,2017-04-04 22:50:13.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 6579}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 11628}, {'_account_id': 14591}]","[{'number': 1, 'created': '2017-03-27 20:28:17.000000000', 'files': ['neutron_lbaas/tests/tempest/v2/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f7e234fd5ab2e08c616274c817b77b2f433c00a3', 'message': ""Don't use Tempest internal methods\n\nAll changed methods are clearly internal methods of Tempest, and the\nTempest commit 64e6b4457c748f74bfb4fbf3860ab65b65ae9beb has removed\nthe internal methods and now the gate issue happens.\nThis patch makes this project to use better ones instead.\n\nChange-Id: I5d41652a85cfb91646bb48d38eedbe97741a97c2\nRelated-Bug: #1667824\n(cherry picked from commit 18db6d460cd45f92c19f1225823f83aaaa4e8a7f)\n""}]",0,450448,f7e234fd5ab2e08c616274c817b77b2f433c00a3,11,7,1,9656,,,0,"Don't use Tempest internal methods

All changed methods are clearly internal methods of Tempest, and the
Tempest commit 64e6b4457c748f74bfb4fbf3860ab65b65ae9beb has removed
the internal methods and now the gate issue happens.
This patch makes this project to use better ones instead.

Change-Id: I5d41652a85cfb91646bb48d38eedbe97741a97c2
Related-Bug: #1667824
(cherry picked from commit 18db6d460cd45f92c19f1225823f83aaaa4e8a7f)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/48/450448/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/tests/tempest/v2/scenario/base.py'],1,f7e234fd5ab2e08c616274c817b77b2f433c00a3,bug/1667824, tenant_net = self.admin_manager.networks_client.list_networks( tenant_id=tenant_id)['networks'][0] self.subnet = self.admin_manager.subnets_client.list_subnets( tenant_id=tenant_id)['subnets'][0] subnet = self.admin_manager.subnets_client.list_subnets( network_id=self.network['id'])['subnets'][0], tenant_net = self._list_networks(tenant_id=tenant_id)[0] self.subnet = self._list_subnets(tenant_id=tenant_id)[0] subnet = self._list_subnets(network_id=self.network['id'])[0],6,3
openstack%2Fopenstack-ansible~master~Ia5b3e4a51c907f5a27710d201c0bef07d397fd53,openstack/openstack-ansible,master,Ia5b3e4a51c907f5a27710d201c0bef07d397fd53,SHA Bump as of 04 April 2017,MERGED,2017-04-04 14:11:58.000000000,2017-04-04 22:34:43.000000000,2017-04-04 22:34:43.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 15362}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-04 14:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0c882e5c70bfc458c00393e1f3b24c297fef19e9', 'message': 'SHA Bump as of 04 April 2017\n\nAdditionally, disable designate from the integrated build until their\ngate issues are unblocked and patch\nhttps://review.openstack.org/#/c/445069/ can merge.\n\nChange-Id: Ia5b3e4a51c907f5a27710d201c0bef07d397fd53\n'}, {'number': 2, 'created': '2017-04-04 19:50:19.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'tests/bootstrap-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d9e1330c7ff9d72a604b6b4f3af765f66a01b30e', 'message': 'SHA Bump as of 04 April 2017\n\nAdditionally, disable designate from the integrated build until their\ngate issues are unblocked and patch\nhttps://review.openstack.org/#/c/445069/ can merge.\n\nChange-Id: Ia5b3e4a51c907f5a27710d201c0bef07d397fd53\n'}]",0,453193,d9e1330c7ff9d72a604b6b4f3af765f66a01b30e,15,5,2,2799,,,0,"SHA Bump as of 04 April 2017

Additionally, disable designate from the integrated build until their
gate issues are unblocked and patch
https://review.openstack.org/#/c/445069/ can merge.

Change-Id: Ia5b3e4a51c907f5a27710d201c0bef07d397fd53
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/453193/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'tests/bootstrap-aio.yml']",5,0c882e5c70bfc458c00393e1f3b24c297fef19e9,sha-update,# TODO: (andymccr) Disable designate until https://review.openstack.org/#/c/445069/ merges # - name: designate.yml.aio, - name: designate.yml.aio,40,39
openstack%2Fironic-python-agent~master~Ic89074e92befcef8d920d4087be8c1a81b27b4e2,openstack/ironic-python-agent,master,Ic89074e92befcef8d920d4087be8c1a81b27b4e2,Updated from global requirements,MERGED,2017-03-28 21:29:15.000000000,2017-04-04 22:34:30.000000000,2017-04-04 22:34:30.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13295}]","[{'number': 1, 'created': '2017-03-28 21:29:15.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/819eaf86a15827da8c9813786b5b0dca7d2e1e67', 'message': 'Updated from global requirements\n\nChange-Id: Ic89074e92befcef8d920d4087be8c1a81b27b4e2\n'}]",0,451012,819eaf86a15827da8c9813786b5b0dca7d2e1e67,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ic89074e92befcef8d920d4087be8c1a81b27b4e2
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/12/451012/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,819eaf86a15827da8c9813786b5b0dca7d2e1e67,openstack/requirements,oslo.log>=3.22.0 # Apache-2.0,oslo.log>=3.11.0 # Apache-2.0,1,1
openstack%2Fnova-powervm~master~I613354b9ffce9fedcf973206c79e22a06198f125,openstack/nova-powervm,master,I613354b9ffce9fedcf973206c79e22a06198f125,WIP: Harden use of glance download,ABANDONED,2016-11-21 23:57:13.000000000,2017-04-04 22:25:45.000000000,,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 14070}]","[{'number': 1, 'created': '2016-11-21 23:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/deb9623dd29b7a426c7f68ab668e8d87b3dbc2e5', 'message': 'WIP: Harden use of glance download\n\nThere are problems with using nova.image.api.API.download with a\ndst_path.\n\nFirst, it does not take into account PEP475.  Thus, if the open()\nreceives EINTR, the exception is raised all the way up.  But if the\nopen() succeeds, and then some number of write()s succeed, but then a\nwrite() in the middle receives EINTR, that exception is likewise raised\nall the way up.  The caller would have no option but to redrive the\nentire download operation from the start.\n\nTo address this issue, this change set moves away from using this form\nof the download method.  It instead uses the form that _only_ does the\nopen() - wrapped in a retry if that receives EINTR.  This way, the\ncalling context has control over the read/write operations and can retry\nthose individually (in mid-stream) if they themselves receive EINTR.\n\nSecond, it has been observed that the .length property of the\nIterableWithLength object returned from the download method is not\nalways set properly to the size of the image.  This results in failure\nof lazy checks (`if handle` versus `if handle is not None`, for example)\nas well as incorrect assignment of the Content-Length header when using\nthe generator for upload through the `requests` library.\n\nTo address this issue, this change set explicitly sets the length of the\nIterableWithLength to the byte size of the image (gleaned from the\nimage_meta).\n\nChange-Id: I613354b9ffce9fedcf973206c79e22a06198f125\nWIP: Live test\nWIP: Unit test\n'}, {'number': 2, 'created': '2016-11-22 21:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/884b2d326d24e58b73bf3baf51a5fa93ba52808f', 'message': 'WIP: Harden use of glance download\n\nThere are problems with using nova.image.api.API.download with a\ndst_path.\n\nFirst, it does not take into account PEP475.  Thus, if the open()\nreceives EINTR, the exception is raised all the way up.  But if the\nopen() succeeds, and then some number of write()s succeed, but then a\nwrite() in the middle receives EINTR, that exception is likewise raised\nall the way up.  The caller would have no option but to redrive the\nentire download operation from the start.\n\nTo address this issue, this change set moves away from using this form\nof the download method.  It instead uses the form that _only_ does the\nopen() - wrapped in a retry if that receives EINTR.  This way, the\ncalling context has control over the read/write operations and can retry\nthose individually (in mid-stream) if they themselves receive EINTR.\n\nSecond, it has been observed that the .length property of the\nIterableWithLength object returned from the download method is not\nalways set properly to the size of the image.  This results in failure\nof lazy checks (`if handle` versus `if handle is not None`, for example)\nas well as incorrect assignment of the Content-Length header when using\nthe generator for upload through the `requests` library.\n\nTo address this issue, this change set explicitly sets the length of the\nIterableWithLength to the byte size of the image (gleaned from the\nimage_meta).\n\nChange-Id: I613354b9ffce9fedcf973206c79e22a06198f125\nWIP: Live test\nWIP: Unit test\n'}, {'number': 3, 'created': '2016-11-23 17:52:27.000000000', 'files': ['nova_powervm/virt/powervm/disk/ssp.py', 'nova_powervm/virt/powervm/image.py', 'nova_powervm/virt/powervm/disk/localdisk.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/b15592e2847850fa7ac11467370d359778da0a48', 'message': 'WIP: Harden use of glance download\n\nnova.image.api.API.download with a dst_path does not take into account\nPEP475.  Thus, if the open() receives EINTR, the exception is raised all\nthe way up.  But if the open() succeeds, and then some number of\nwrite()s succeed, but then a write() in the middle receives EINTR, that\nexception is likewise raised all the way up.  The caller would have no\noption but to redrive the entire download operation from the start.\n\nTo address this issue, this change set moves away from using this form\nof the download method.  It instead uses the form that _only_ does the\nopen() - wrapped in a retry if that receives EINTR.  This way, the\ncalling context has control over the read/write operations and can retry\nthose individually (in mid-stream) if they themselves receive EINTR.\n\nChange-Id: I613354b9ffce9fedcf973206c79e22a06198f125\nWIP: Live test\nWIP: Unit test\n'}]",2,400451,b15592e2847850fa7ac11467370d359778da0a48,7,3,3,14070,,,0,"WIP: Harden use of glance download

nova.image.api.API.download with a dst_path does not take into account
PEP475.  Thus, if the open() receives EINTR, the exception is raised all
the way up.  But if the open() succeeds, and then some number of
write()s succeed, but then a write() in the middle receives EINTR, that
exception is likewise raised all the way up.  The caller would have no
option but to redrive the entire download operation from the start.

To address this issue, this change set moves away from using this form
of the download method.  It instead uses the form that _only_ does the
open() - wrapped in a retry if that receives EINTR.  This way, the
calling context has control over the read/write operations and can retry
those individually (in mid-stream) if they themselves receive EINTR.

Change-Id: I613354b9ffce9fedcf973206c79e22a06198f125
WIP: Live test
WIP: Unit test
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/51/400451/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/disk/ssp.py', 'nova_powervm/virt/powervm/image.py', 'nova_powervm/virt/powervm/disk/localdisk.py']",3,deb9623dd29b7a426c7f68ab668e8d87b3dbc2e5,upload_overhaul,"from nova_powervm.virt.powervm import image self.adapter, self._vios_uuid, self.vg_uuid, image.get_image_chunks(context, image_meta), vol_name, image_meta.size, d_size=disk_bytes)[0]","from nova import imageIMAGE_API = image.API() def upload(path): IMAGE_API.download(context, image_meta.id, dest_path=path) self.adapter, self._vios_uuid, self.vg_uuid, upload, vol_name, image_meta.size, d_size=disk_bytes, upload_type=tsk_stg.UploadType.FUNC)[0]",39,15
openstack%2Fneutron~master~Ia0468a89a108194c19728c0599e2fc1528531719,openstack/neutron,master,Ia0468a89a108194c19728c0599e2fc1528531719,Remove unused phys_net parameter form EmbSwitch class,MERGED,2016-08-25 12:18:50.000000000,2017-04-04 22:23:31.000000000,2017-04-04 22:23:31.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 12171}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}]","[{'number': 1, 'created': '2016-08-25 12:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c05edc728353565c591cc49c6cff07f584a138b', 'message': 'Remove unused parameter\n\nRemove unused phys_net parameter form EmbSwitch class\n\nChange-Id: Ia0468a89a108194c19728c0599e2fc1528531719\n'}, {'number': 2, 'created': '2016-08-25 16:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c7f5c655b1a0437db9105c42a51149e0399c7eb', 'message': 'Remove unused phys_net parameter form EmbSwitch class\n\nChange-Id: Ia0468a89a108194c19728c0599e2fc1528531719\n'}, {'number': 3, 'created': '2016-09-15 13:28:45.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b785597b2721aed1627f1a10f0764d7fd83da40f', 'message': 'Remove unused phys_net parameter form EmbSwitch class\n\nChange-Id: Ia0468a89a108194c19728c0599e2fc1528531719\n'}]",1,360488,b785597b2721aed1627f1a10f0764d7fd83da40f,39,13,3,21683,,,0,"Remove unused phys_net parameter form EmbSwitch class

Change-Id: Ia0468a89a108194c19728c0599e2fc1528531719
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/360488/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py']",2,5c05edc728353565c591cc49c6cff07f584a138b,physnet_eswitch," def __init__(self, dev_name, exclude_devices): embedded_switch = EmbSwitch(dev_name, exclude_devices)"," def __init__(self, phys_net, dev_name, exclude_devices): @param phys_net: physical network self.phys_net = phys_net embedded_switch = EmbSwitch(phys_net, dev_name, exclude_devices)",5,8
openstack%2Fdeb-horizon~debian%2Fnewton~I0f9f5deb16e38198d26299b7c3282214084e9962,openstack/deb-horizon,debian/newton,I0f9f5deb16e38198d26299b7c3282214084e9962,CVE-2017-7400: XSS in federation mappings UI,MERGED,2017-04-04 21:50:36.000000000,2017-04-04 22:19:43.000000000,2017-04-04 22:19:43.000000000,"[{'_account_id': 3}, {'_account_id': 6476}]","[{'number': 1, 'created': '2017-04-04 21:50:36.000000000', 'files': ['debian/changelog', 'debian/po/it.po', 'debian/patches/series', 'debian/compat', 'debian/patches/CVE-2017-7400_Remove_dangerous_safestring_declaration.patch', 'debian/control'], 'web_link': 'https://opendev.org/openstack/deb-horizon/commit/8e91b43737243955dcffbdbc0c3573b3cb6ff014', 'message': 'CVE-2017-7400: XSS in federation mappings UI\n\n  * Revert bump of debhelper version.\n  * CVE-2017-7400: XSS in federation mappings UI. Applied upstream patch:\n    Remove dangerous safestring declaration (Closes: #859559).\n  * Updated Italian translation of debconf messages (Closes: #846931).\n\nChange-Id: I0f9f5deb16e38198d26299b7c3282214084e9962\n'}]",0,453351,8e91b43737243955dcffbdbc0c3573b3cb6ff014,6,2,1,6476,,,0,"CVE-2017-7400: XSS in federation mappings UI

  * Revert bump of debhelper version.
  * CVE-2017-7400: XSS in federation mappings UI. Applied upstream patch:
    Remove dangerous safestring declaration (Closes: #859559).
  * Updated Italian translation of debconf messages (Closes: #846931).

Change-Id: I0f9f5deb16e38198d26299b7c3282214084e9962
",git fetch https://review.opendev.org/openstack/deb-horizon refs/changes/51/453351/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/changelog', 'debian/po/it.po', 'debian/patches/series', 'debian/compat', 'debian/patches/CVE-2017-7400_Remove_dangerous_safestring_declaration.patch', 'debian/control']",6,8e91b43737243955dcffbdbc0c3573b3cb6ff014,,"Build-Depends: debhelper (>= 9),","Build-Depends: debhelper (>= 10),",49,10
openstack%2Fpuppet-tripleo~master~I5173361818508849e5012a943a984af69d9d08cd,openstack/puppet-tripleo,master,I5173361818508849e5012a943a984af69d9d08cd,Refactor enabled languages from an array to a hash,MERGED,2017-03-07 18:58:41.000000000,2017-04-04 22:09:54.000000000,2017-04-04 22:09:54.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 10112}, {'_account_id': 14985}, {'_account_id': 20970}, {'_account_id': 21794}]","[{'number': 1, 'created': '2017-03-07 18:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ae231ce4e64471845b4d24dd3d730b052b725b61', 'message': 'Refactor enabled languages from an array to an object\n\nChange-Id: I5173361818508849e5012a943a984af69d9d08cd\nDepends-On: I2d28d9019e8bcf9f6b8ef5698958932d44321679\nPartial-Bug: #1668978\n'}, {'number': 2, 'created': '2017-03-08 14:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/54252aca12b6b29c03097d4edf70707ce4dca03a', 'message': 'Refactor enabled languages from an array to an object\n\nChange-Id: I5173361818508849e5012a943a984af69d9d08cd\nDepends-On: I2d28d9019e8bcf9f6b8ef5698958932d44321679\nCloses-Bug: #1668978\n'}, {'number': 3, 'created': '2017-03-30 09:54:36.000000000', 'files': ['templates/ui/tripleo_ui_config.js.erb', 'manifests/ui.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/60db285fd59eb36bca9d3a209c945e4f23412b3b', 'message': 'Refactor enabled languages from an array to a hash\n\nChange-Id: I5173361818508849e5012a943a984af69d9d08cd\nDepends-On: I2d28d9019e8bcf9f6b8ef5698958932d44321679\nCloses-Bug: #1668978\n'}]",5,442683,60db285fd59eb36bca9d3a209c945e4f23412b3b,24,7,3,20970,,,0,"Refactor enabled languages from an array to a hash

Change-Id: I5173361818508849e5012a943a984af69d9d08cd
Depends-On: I2d28d9019e8bcf9f6b8ef5698958932d44321679
Closes-Bug: #1668978
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/442683/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ui.pp', 'templates/ui/tripleo_ui_config.js.erb']",2,ae231ce4e64471845b4d24dd3d730b052b725b61,bug/1668978," 'languages': <%= @enabled_languages.to_json %>,"," 'languages': ['<%= @enabled_languages.join(""', '"") %>'],",10,2
openstack%2Fkolla-kubernetes~master~Ia3ae80e0f82031036d46ee0d28381fe818350d43,openstack/kolla-kubernetes,master,Ia3ae80e0f82031036d46ee0d28381fe818350d43,Upgrade gate to kubernetes 1.6.1,MERGED,2017-04-03 23:56:38.000000000,2017-04-04 22:01:25.000000000,2017-04-04 22:01:25.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 9237}, {'_account_id': 19384}]","[{'number': 1, 'created': '2017-04-03 23:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/cd0521118ef45559fae3c014825cb563ab882308', 'message': 'Upgrade gate to kubernetes 1.6.1\n\nUpgrade gate to kubernetes 1.6.1\n\nChange-Id: Ia3ae80e0f82031036d46ee0d28381fe818350d43\n'}, {'number': 2, 'created': '2017-04-04 00:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/8e7119376a2042457f948ce9ba9ded82576cf084', 'message': 'Upgrade gate to kubernetes 1.6.1\n\nUpgrade gate to kubernetes 1.6.1\n\nChange-Id: Ia3ae80e0f82031036d46ee0d28381fe818350d43\n'}, {'number': 3, 'created': '2017-04-04 03:02:20.000000000', 'files': ['tools/setup_kubernetes.sh'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/fa62e77f846e4fdd8b0ee9a5ed8f4a4da8e5085b', 'message': 'Upgrade gate to kubernetes 1.6.1\n\nUpgrade gate to kubernetes 1.6.1\n\nChange-Id: Ia3ae80e0f82031036d46ee0d28381fe818350d43\n'}]",0,452993,fa62e77f846e4fdd8b0ee9a5ed8f4a4da8e5085b,18,4,3,19384,,,0,"Upgrade gate to kubernetes 1.6.1

Upgrade gate to kubernetes 1.6.1

Change-Id: Ia3ae80e0f82031036d46ee0d28381fe818350d43
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/93/452993/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_kubernetes.sh'],1,cd0521118ef45559fae3c014825cb563ab882308,1.6.1_fix,"yum install -y docker kubeadm kubelet kubectl kubernetes-cni ebtables#if [ ""$1"" == ""master"" ]; then # cat >> /tmp/setup.$$ <<""EOF"" #sed -i 's|^\(Environment.*KUBELET_NETWORK_ARGS.*\)|#\1|g' \ # /etc/systemd/system/kubelet.service.d/10-kubeadm.conf #EOF #fi#sed -i 's|^#\(Environment.*KUBELET_NETWORK_ARGS.*\)|\1|g' \ # /etc/systemd/system/kubelet.service.d/10-kubeadm.conf","yum install -y docker kubeadm-1.6.0-0.x86_64 kubelet kubectl kubernetes-cni ebtablesif [ ""$1"" == ""master"" ]; then cat >> /tmp/setup.$$ <<""EOF"" sed -i 's|^\(Environment.*KUBELET_NETWORK_ARGS.*\)|#\1|g' \ /etc/systemd/system/kubelet.service.d/10-kubeadm.conf EOF fised -i 's|^#\(Environment.*KUBELET_NETWORK_ARGS.*\)|\1|g' \ /etc/systemd/system/kubelet.service.d/10-kubeadm.conf",9,9
openstack%2Fnova~master~I3fab8439891fab7ca837230dfccf89e4c0a7190c,openstack/nova,master,I3fab8439891fab7ca837230dfccf89e4c0a7190c,Switch from pip_missing_reqs to pip_check_reqs,MERGED,2017-04-04 14:47:15.000000000,2017-04-04 21:58:34.000000000,2017-04-04 17:46:06.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 15334}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-04 14:47:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/44ea834438208dc5ecbaf322f293305d7b450dd8', 'message': 'Switch from pip_missing_reqs to pip_check_reqs\n\nThe pip_missing_reqs tool is abandoned and now incompatible with\nrecent versions of pip. It has been supplanted by the pip_check_reqs\ntool which provides the same pip-missing-reqs entrypoint (plus some\nothers), effectively renamed.\n\n    https://github.com/r1chardj0n3s/pip-check-reqs/commit/99c5628\n    https://ask.openstack.org/question/105026\n\nChange-Id: I3fab8439891fab7ca837230dfccf89e4c0a7190c\n'}]",0,453208,44ea834438208dc5ecbaf322f293305d7b450dd8,13,4,1,5263,,,0,"Switch from pip_missing_reqs to pip_check_reqs

The pip_missing_reqs tool is abandoned and now incompatible with
recent versions of pip. It has been supplanted by the pip_check_reqs
tool which provides the same pip-missing-reqs entrypoint (plus some
others), effectively renamed.

    https://github.com/r1chardj0n3s/pip-check-reqs/commit/99c5628
    https://ask.openstack.org/question/105026

Change-Id: I3fab8439891fab7ca837230dfccf89e4c0a7190c
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/453208/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44ea834438208dc5ecbaf322f293305d7b450dd8,check-reqs,deps = pip_check_reqs,deps = pip_missing_reqs,1,1
openstack%2Fgnocchi~stable%2F3.1~I02042c0b5005a50b3760c9aae67ad4d0eeb69e04,openstack/gnocchi,stable/3.1,I02042c0b5005a50b3760c9aae67ad4d0eeb69e04,Correct bad use response_strings in live.yaml,MERGED,2017-03-23 14:46:41.000000000,2017-04-04 21:47:33.000000000,2017-03-23 16:28:06.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-03-23 14:46:41.000000000', 'files': ['gnocchi/tests/gabbi/gabbits-live/live.yaml'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b02b8bb22016efd6cde2da4aa448e0fd03ba42ec', 'message': ""Correct bad use response_strings in live.yaml\n\nresponse_strings wants a list, not a string. In gabbi earlier than\n1.33.0 it accept a string and then iterated checking for each single\ncharacter in the response body. So still passing.\n\nThis fixes recent failures by putting the necessary '-' at the start\nof the search string. It's an easy bug to make and then never\nnotice, which is why gabbi 1.33.0 is all uptight about it.\n\nChange-Id: I02042c0b5005a50b3760c9aae67ad4d0eeb69e04\n(cherry picked from commit f9fc5a7449139f5fb3d410083bf7565e74a3e31b)\n""}]",0,449181,b02b8bb22016efd6cde2da4aa448e0fd03ba42ec,8,4,1,6537,,,0,"Correct bad use response_strings in live.yaml

response_strings wants a list, not a string. In gabbi earlier than
1.33.0 it accept a string and then iterated checking for each single
character in the response body. So still passing.

This fixes recent failures by putting the necessary '-' at the start
of the search string. It's an easy bug to make and then never
notice, which is why gabbi 1.33.0 is all uptight about it.

Change-Id: I02042c0b5005a50b3760c9aae67ad4d0eeb69e04
(cherry picked from commit f9fc5a7449139f5fb3d410083bf7565e74a3e31b)
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/81/449181/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/tests/gabbi/gabbits-live/live.yaml'],1,b02b8bb22016efd6cde2da4aa448e0fd03ba42ec,gabbi," - '""aggregation_methods"": [""max"", ""min"", ""mean""]' - '""metric_pattern"": ""live.*"", ""archive_policy_name"": ""gabbilive"", ""name"": ""gabbilive_rule""' - '""user_id"": ""126204ef-989a-46fd-999b-ee45c8108f31""' - '""id"": ""2ae35573-7f9f-4bb1-aae8-dad8dff5706e""'"," '""aggregation_methods"": [""max"", ""min"", ""mean""]' '""metric_pattern"": ""live.*"", ""archive_policy_name"": ""gabbilive"", ""name"": ""gabbilive_rule""' '""user_id"": ""126204ef-989a-46fd-999b-ee45c8108f31""' '""id"": ""2ae35573-7f9f-4bb1-aae8-dad8dff5706e""'",4,4
openstack%2Finstack~master~I81743703b144c083ed8449ec99599964bf222d7c,openstack/instack,master,I81743703b144c083ed8449ec99599964bf222d7c,Updated from global requirements,MERGED,2017-02-10 05:49:32.000000000,2017-04-04 21:47:09.000000000,2017-04-04 21:47:09.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-02-10 05:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/f560d9b8b56d11442caa50bad9026c1cb1e1c38a', 'message': 'Updated from global requirements\n\nChange-Id: I81743703b144c083ed8449ec99599964bf222d7c\n'}, {'number': 2, 'created': '2017-03-02 04:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/5f640867e5d0ed123b2f61ede769cac3589c4883', 'message': 'Updated from global requirements\n\nChange-Id: I81743703b144c083ed8449ec99599964bf222d7c\n'}, {'number': 3, 'created': '2017-03-02 11:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/d485928cc680f5468103aeacbff280e41f9ebc4f', 'message': 'Updated from global requirements\n\nChange-Id: I81743703b144c083ed8449ec99599964bf222d7c\n'}, {'number': 4, 'created': '2017-03-08 22:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/4c554268d54f9db2ec36c93fd70f8a7a61bf83b6', 'message': 'Updated from global requirements\n\nChange-Id: I81743703b144c083ed8449ec99599964bf222d7c\n'}, {'number': 5, 'created': '2017-03-10 03:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/b623852be9ff2574dad3ca95d9c0344eb5b27e75', 'message': 'Updated from global requirements\n\nChange-Id: I81743703b144c083ed8449ec99599964bf222d7c\n'}, {'number': 6, 'created': '2017-03-27 12:16:59.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/instack/commit/ef9f6d0eaeee339d85c085d64d0b5b39f795e7ac', 'message': 'Updated from global requirements\n\nChange-Id: I81743703b144c083ed8449ec99599964bf222d7c\n'}]",0,431951,ef9f6d0eaeee339d85c085d64d0b5b39f795e7ac,28,4,6,11131,,,0,"Updated from global requirements

Change-Id: I81743703b144c083ed8449ec99599964bf222d7c
",git fetch https://review.opendev.org/openstack/instack refs/changes/51/431951/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f560d9b8b56d11442caa50bad9026c1cb1e1c38a,openstack/requirements,sphinx>=1.5.1 # BSD,"sphinx!=1.3b1,<1.4,>=1.2.1 # BSD",1,1
openstack%2Fcongress~stable%2Fnewton~Ia8fa72430dca60214585e9534b2db09d37ac3554,openstack/congress,stable/newton,Ia8fa72430dca60214585e9534b2db09d37ac3554,Removed deprecated oslo_db keyword,ABANDONED,2017-03-31 23:51:03.000000000,2017-04-04 21:46:47.000000000,,"[{'_account_id': 3}, {'_account_id': 18591}, {'_account_id': 20541}]","[{'number': 1, 'created': '2017-03-31 23:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/c2e631aaf66c2f2874695307d2ad6630e24141f6', 'message': ""Removed deprecated oslo_db keyword\n\nRemoved sqlite_db keyword which was causing an error that prevented\ntox -e genconfig from generating the congress.conf.sample file.\nsqlite_db keyword was replaced by 'connection' and the function\ncall had both keywords.\n\nsqlite_db keyword removal in oslo.db:\nhttps://github.com/openstack/oslo.db/tree/stable/newton/oslo_db\n\nChange-Id: Ia8fa72430dca60214585e9534b2db09d37ac3554\nCloses-Bug: #1669168\n""}, {'number': 2, 'created': '2017-03-31 23:56:55.000000000', 'files': ['congress/common/config.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/a0bf1e83d1305ac0de2bd88ab9eb35a748c28f9c', 'message': ""Removed deprecated oslo_db keyword\n\nRemoved sqlite_db keyword which was causing an error that prevented\ntox -e genconfig from generating the congress.conf.sample file.\nsqlite_db keyword was replaced by 'connection' and the function\ncall had both keywords.\n\nsqlite_db keyword removal in oslo.db:\nhttps://github.com/openstack/oslo.db/tree/stable/newton/oslo_db\n\nNote: this issue has been fixed in Ocata\n\nChange-Id: Ia8fa72430dca60214585e9534b2db09d37ac3554\nCloses-Bug: #1669168\n""}]",0,452350,a0bf1e83d1305ac0de2bd88ab9eb35a748c28f9c,9,3,2,20541,,,0,"Removed deprecated oslo_db keyword

Removed sqlite_db keyword which was causing an error that prevented
tox -e genconfig from generating the congress.conf.sample file.
sqlite_db keyword was replaced by 'connection' and the function
call had both keywords.

sqlite_db keyword removal in oslo.db:
https://github.com/openstack/oslo.db/tree/stable/newton/oslo_db

Note: this issue has been fixed in Ocata

Change-Id: Ia8fa72430dca60214585e9534b2db09d37ac3554
Closes-Bug: #1669168
",git fetch https://review.opendev.org/openstack/congress refs/changes/50/452350/2 && git format-patch -1 --stdout FETCH_HEAD,['congress/common/config.py'],1,c2e631aaf66c2f2874695307d2ad6630e24141f6,bug/1669168," max_pool_size=10,"," sqlite_db='', max_pool_size=10,",1,1
openstack%2Fpatrole~master~Ida4d6a934d6f3e5122f8f9e49e4739f368097a2d,openstack/patrole,master,Ida4d6a934d6f3e5122f8f9e49e4739f368097a2d,Update installation guide,MERGED,2017-04-03 21:25:58.000000000,2017-04-04 21:43:26.000000000,2017-04-04 21:43:26.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-03 21:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5f19384d8609408f130247a864e5fbbffb333d1a', 'message': 'Update installation guide\n\nRemoves contains deprecated or removed configuration options from\nthe installation guide.\n\nChange-Id: Ida4d6a934d6f3e5122f8f9e49e4739f368097a2d\nCloses-Bug: #1679282\n'}, {'number': 2, 'created': '2017-04-04 14:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/6bafb831f234c1545a149048aabd9149ae57413d', 'message': 'Update installation guide\n\nUpdates installation guide to remove deprecated configuration options.\n\nChange-Id: Ida4d6a934d6f3e5122f8f9e49e4739f368097a2d\nCloses-Bug: #1679282\n'}, {'number': 3, 'created': '2017-04-04 18:50:45.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/9af4e53a8a8512056108ac64541716c45e424ac7', 'message': 'Update installation guide\n\nUpdates installation guide to remove deprecated configuration options.\n\nChange-Id: Ida4d6a934d6f3e5122f8f9e49e4739f368097a2d\nCloses-Bug: #1679282\n'}]",0,452963,9af4e53a8a8512056108ac64541716c45e424ac7,11,3,3,23185,,,0,"Update installation guide

Updates installation guide to remove deprecated configuration options.

Change-Id: Ida4d6a934d6f3e5122f8f9e49e4739f368097a2d
Closes-Bug: #1679282
",git fetch https://review.opendev.org/openstack/patrole refs/changes/63/452963/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,5f19384d8609408f130247a864e5fbbffb333d1a,,," # Set tempest role to admin so all APIs are accessible tempest_roles = admin # Allows test cases to create/destroy tenants and users. This # option enables isolated test cases and better parallel # execution, but also requires that OpenStack Identity API # admin credentials are known. (boolean value) allow_tenant_isolation = True ",0,9
openstack%2Fpuppet-barbican~master~Icbaecc894d1b9370c6a27da16b0bd59cd8039018,openstack/puppet-barbican,master,Icbaecc894d1b9370c6a27da16b0bd59cd8039018,Remove explicit log file for barbican,MERGED,2017-03-30 22:03:36.000000000,2017-04-04 21:40:05.000000000,2017-04-04 21:40:05.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9414}]","[{'number': 1, 'created': '2017-03-30 22:03:36.000000000', 'files': ['manifests/api/logging.pp', 'releasenotes/notes/remove-explicit-log-237870e1de2fc4d8.yaml', 'spec/classes/barbican_api_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/0cecc8603865ba8a2e87629dde893594e6bd6ac3', 'message': ""Remove explicit log file for barbican\n\nThe log file cannot be written to when running under apache so let's\nswitch to the default value and rely on apache for logging.\n\nChange-Id: Icbaecc894d1b9370c6a27da16b0bd59cd8039018\n""}]",0,451998,0cecc8603865ba8a2e87629dde893594e6bd6ac3,11,3,1,14985,,,0,"Remove explicit log file for barbican

The log file cannot be written to when running under apache so let's
switch to the default value and rely on apache for logging.

Change-Id: Icbaecc894d1b9370c6a27da16b0bd59cd8039018
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/98/451998/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api/logging.pp', 'releasenotes/notes/remove-explicit-log-237870e1de2fc4d8.yaml', 'spec/classes/barbican_api_logging_spec.rb']",3,0cecc8603865ba8a2e87629dde893594e6bd6ac3,fix-ci," :log_date_format, :log_file ].each { |param|"," :log_date_format, ].each { |param|",8,3
openstack%2Fironic~master~I60e2c433273aeae522ad3247004522190351264f,openstack/ironic,master,I60e2c433273aeae522ad3247004522190351264f,Add bumping sem-ver to the releasing docs,MERGED,2017-02-02 15:09:08.000000000,2017-04-04 21:28:24.000000000,2017-02-02 18:45:45.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 6618}, {'_account_id': 10342}]","[{'number': 1, 'created': '2017-02-02 15:09:08.000000000', 'files': ['doc/source/dev/releasing.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c399e5668eaba13f012152a7cdef2988b654e0c5', 'message': 'Add bumping sem-ver to the releasing docs\n\nChange-Id: I60e2c433273aeae522ad3247004522190351264f\n'}]",0,428197,c399e5668eaba13f012152a7cdef2988b654e0c5,10,4,1,10239,,,0,"Add bumping sem-ver to the releasing docs

Change-Id: I60e2c433273aeae522ad3247004522190351264f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/428197/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/releasing.rst'],1,c399e5668eaba13f012152a7cdef2988b654e0c5,sem-ver,"Additionally, changes need to be made on master to: * create an empty commit with a ``Sem-Ver`` tag to bump the generated minor version. See `example <https://git.openstack.org/cgit/openstack/ironic/commit/?id=4b28af4645c2f3b6d7864671e15904ed8f40414d>`_ and `pbr documentation <http://docs.openstack.org/developer/pbr/#version>`_ for details. ",,8,0
openstack%2Fneutron-fwaas~stable%2Fnewton~I55afd465d396d4bf23e616df7a65b3c6d4e44266,openstack/neutron-fwaas,stable/newton,I55afd465d396d4bf23e616df7a65b3c6d4e44266,tempest: Switch to local copy of tempset/scenario/manager.py,MERGED,2017-03-14 07:11:09.000000000,2017-04-04 21:23:49.000000000,2017-04-04 21:23:49.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-03-14 07:11:09.000000000', 'files': ['neutron_fwaas/tests/tempest_plugin/tests/scenario/base.py', 'neutron_fwaas/tests/tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/249b85fb1848cb576375c51fb41836f938970ffe', 'message': ""tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was mostly literally copied from\ntempest as of today. [1]  It's slightly modified to\nappease N521 hacking check.\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\nChange-Id: I55afd465d396d4bf23e616df7a65b3c6d4e44266\n(cherry picked from commit b3e2d3d2a174d0f76c13f46f263ff21fac7fb250)\nConflicts:\n    neutron_fwaas/tests/tempest_plugin/tests/scenario/base.py\n""}]",2,445328,249b85fb1848cb576375c51fb41836f938970ffe,10,5,1,6854,,,0,"tempest: Switch to local copy of tempset/scenario/manager.py

The manager.py file was mostly literally copied from
tempest as of today. [1]  It's slightly modified to
appease N521 hacking check.

tempest/scenario/manager.py is not a part of tempest stable
interface for plugins. [2]

This was suggested on openstack-dev as a preparation for
the coming refactoring in tempest. [3]

As tempest is branchless, this change needs to be backported
to all relevant stable branches.

[1] d184d619d7adc6ab60055884515055a7f3cf7770
[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use
[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html

Change-Id: I55afd465d396d4bf23e616df7a65b3c6d4e44266
(cherry picked from commit b3e2d3d2a174d0f76c13f46f263ff21fac7fb250)
Conflicts:
    neutron_fwaas/tests/tempest_plugin/tests/scenario/base.py
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/28/445328/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/tempest_plugin/tests/scenario/base.py', 'neutron_fwaas/tests/tempest_plugin/tests/scenario/manager.py']",2,249b85fb1848cb576375c51fb41836f938970ffe,tempest-manager,"# Copyright 2012 OpenStack Foundation # Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import subprocess import netaddr from oslo_log import log from oslo_serialization import jsonutils from oslo_utils import netutils from tempest.common import compute from tempest.common import image as common_image from tempest.common.utils import data_utils from tempest.common.utils.linux import remote_client from tempest.common.utils import net_utils from tempest.common import waiters from tempest import config from tempest import exceptions from tempest.lib.common.utils import test_utils from tempest.lib import exceptions as lib_exc import tempest.test CONF = config.CONF LOG = log.getLogger(__name__) class ScenarioTest(tempest.test.BaseTestCase): """"""Base class for scenario tests. Uses tempest own clients. """""" credentials = ['primary'] @classmethod def setup_clients(cls): super(ScenarioTest, cls).setup_clients() # Clients (in alphabetical order) cls.flavors_client = cls.manager.flavors_client cls.compute_floating_ips_client = ( cls.manager.compute_floating_ips_client) if CONF.service_available.glance: # Check if glance v1 is available to determine which client to use. if CONF.image_feature_enabled.api_v1: cls.image_client = cls.manager.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.manager.image_client_v2 else: raise lib_exc.InvalidConfiguration( 'Either api_v1 or api_v2 must be True in ' '[image-feature-enabled].') # Compute image client cls.compute_images_client = cls.manager.compute_images_client cls.keypairs_client = cls.manager.keypairs_client # Nova security groups client cls.compute_security_groups_client = ( cls.manager.compute_security_groups_client) cls.compute_security_group_rules_client = ( cls.manager.compute_security_group_rules_client) cls.servers_client = cls.manager.servers_client cls.interface_client = cls.manager.interfaces_client # Neutron network client cls.networks_client = cls.manager.networks_client cls.ports_client = cls.manager.ports_client cls.routers_client = cls.manager.routers_client cls.subnets_client = cls.manager.subnets_client cls.floating_ips_client = cls.manager.floating_ips_client cls.security_groups_client = cls.manager.security_groups_client cls.security_group_rules_client = ( cls.manager.security_group_rules_client) if CONF.volume_feature_enabled.api_v2: cls.volumes_client = cls.manager.volumes_v2_client cls.snapshots_client = cls.manager.snapshots_v2_client else: cls.volumes_client = cls.manager.volumes_client cls.snapshots_client = cls.manager.snapshots_client # ## Test functions library # # The create_[resource] functions only return body and discard the # resp part which is not used in scenario tests def _create_port(self, network_id, client=None, namestart='port-quotatest', **kwargs): if not client: client = self.ports_client name = data_utils.rand_name(namestart) result = client.create_port( name=name, network_id=network_id, **kwargs) self.assertIsNotNone(result, 'Unable to allocate port') port = result['port'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_port, port['id']) return port def create_keypair(self, client=None): if not client: client = self.keypairs_client name = data_utils.rand_name(self.__class__.__name__) # We don't need to create a keypair by pubkey in scenario body = client.create_keypair(name=name) self.addCleanup(client.delete_keypair, name) return body['keypair'] def create_server(self, name=None, image_id=None, flavor=None, validatable=False, wait_until='ACTIVE', clients=None, **kwargs): """"""Wrapper utility that returns a test server. This wrapper utility calls the common create test server and returns a test server. The purpose of this wrapper is to minimize the impact on the code of the tests already using this function. """""" # NOTE(jlanoux): As a first step, ssh checks in the scenario # tests need to be run regardless of the run_validation and # validatable parameters and thus until the ssh validation job # becomes voting in CI. The test resources management and IP # association are taken care of in the scenario tests. # Therefore, the validatable parameter is set to false in all # those tests. In this way create_server just return a standard # server and the scenario tests always perform ssh checks. # Needed for the cross_tenant_traffic test: if clients is None: clients = self.manager if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-server"") vnic_type = CONF.network.port_vnic_type # If vnic_type is configured create port for # every network if vnic_type: ports = [] create_port_body = {'binding:vnic_type': vnic_type, 'namestart': 'port-smoke'} if kwargs: # Convert security group names to security group ids # to pass to create_port if 'security_groups' in kwargs: security_groups = \ clients.security_groups_client.list_security_groups( ).get('security_groups') sec_dict = dict([(s['name'], s['id']) for s in security_groups]) sec_groups_names = [s['name'] for s in kwargs.pop( 'security_groups')] security_groups_ids = [sec_dict[s] for s in sec_groups_names] if security_groups_ids: create_port_body[ 'security_groups'] = security_groups_ids networks = kwargs.pop('networks', []) else: networks = [] # If there are no networks passed to us we look up # for the project's private networks and create a port. # The same behaviour as we would expect when passing # the call to the clients with no networks if not networks: networks = clients.networks_client.list_networks( **{'router:external': False, 'fields': 'id'})['networks'] # It's net['uuid'] if networks come from kwargs # and net['id'] if they come from # clients.networks_client.list_networks for net in networks: net_id = net.get('uuid', net.get('id')) if 'port' not in net: port = self._create_port(network_id=net_id, client=clients.ports_client, **create_port_body) ports.append({'port': port['id']}) else: ports.append({'port': net['port']}) if ports: kwargs['networks'] = ports self.ports = ports tenant_network = self.get_tenant_network() body, servers = compute.create_test_server( clients, tenant_network=tenant_network, wait_until=wait_until, name=name, flavor=flavor, image_id=image_id, **kwargs) self.addCleanup(waiters.wait_for_server_termination, clients.servers_client, body['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, clients.servers_client.delete_server, body['id']) server = clients.servers_client.show_server(body['id'])['server'] return server def create_volume(self, size=None, name=None, snapshot_id=None, imageRef=None, volume_type=None): if size is None: size = CONF.volume.volume_size if imageRef: image = self.compute_images_client.show_image(imageRef)['image'] min_disk = image.get('minDisk') size = max(size, min_disk) if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-volume"") kwargs = {'display_name': name, 'snapshot_id': snapshot_id, 'imageRef': imageRef, 'volume_type': volume_type, 'size': size} volume = self.volumes_client.create_volume(**kwargs)['volume'] self.addCleanup(self.volumes_client.wait_for_resource_deletion, volume['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.volumes_client.delete_volume, volume['id']) # NOTE(e0ne): Cinder API v2 uses name instead of display_name if 'display_name' in volume: self.assertEqual(name, volume['display_name']) else: self.assertEqual(name, volume['name']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # The volume retrieved on creation has a non-up-to-date status. # Retrieval after it becomes active ensures correct details. volume = self.volumes_client.show_volume(volume['id'])['volume'] return volume def create_volume_type(self, client=None, name=None, backend_name=None): if not client: client = self.admin_volume_types_client if not name: class_name = self.__class__.__name__ name = data_utils.rand_name(class_name + '-volume-type') randomized_name = data_utils.rand_name('scenario-type-' + name) LOG.debug(""Creating a volume type: %s on backend %s"", randomized_name, backend_name) extra_specs = {} if backend_name: extra_specs = {""volume_backend_name"": backend_name} body = client.create_volume_type(name=randomized_name, extra_specs=extra_specs) volume_type = body['volume_type'] self.assertIn('id', volume_type) self.addCleanup(client.delete_volume_type, volume_type['id']) return volume_type def _create_loginable_secgroup_rule(self, secgroup_id=None): _client = self.compute_security_groups_client _client_rules = self.compute_security_group_rules_client if secgroup_id is None: sgs = _client.list_security_groups()['security_groups'] for sg in sgs: if sg['name'] == 'default': secgroup_id = sg['id'] # These rules are intended to permit inbound ssh and icmp # traffic from all sources, so no group_id is provided. # Setting a group_id would only permit traffic from ports # belonging to the same security group. rulesets = [ { # ssh 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'cidr': '0.0.0.0/0', }, { # ping 'ip_protocol': 'icmp', 'from_port': -1, 'to_port': -1, 'cidr': '0.0.0.0/0', } ] rules = list() for ruleset in rulesets: sg_rule = _client_rules.create_security_group_rule( parent_group_id=secgroup_id, **ruleset)['security_group_rule'] rules.append(sg_rule) return rules def _create_security_group(self): # Create security group sg_name = data_utils.rand_name(self.__class__.__name__) sg_desc = sg_name + "" description"" secgroup = self.compute_security_groups_client.create_security_group( name=sg_name, description=sg_desc)['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.compute_security_groups_client.delete_security_group, secgroup['id']) # Add rules to the security group self._create_loginable_secgroup_rule(secgroup['id']) return secgroup def get_remote_client(self, ip_address, username=None, private_key=None): """"""Get a SSH client to a remote server @param ip_address the server floating or fixed IP address to use for ssh validation @param username name of the Linux account on the remote server @param private_key the SSH private key to use @return a RemoteClient object """""" if username is None: username = CONF.validation.image_ssh_user # Set this with 'keypair' or others to log in with keypair or # username/password. if CONF.validation.auth_method == 'keypair': password = None if private_key is None: private_key = self.keypair['private_key'] else: password = CONF.validation.image_ssh_password private_key = None linux_client = remote_client.RemoteClient(ip_address, username, pkey=private_key, password=password) try: linux_client.validate_authentication() except Exception as e: message = ('Initializing SSH connection to %(ip)s failed. ' 'Error: %(error)s' % {'ip': ip_address, 'error': e}) caller = test_utils.find_test_caller() if caller: message = '(%s) %s' % (caller, message) LOG.exception(message) self._log_console_output() raise return linux_client def _image_create(self, name, fmt, path, disk_format=None, properties=None): if properties is None: properties = {} name = data_utils.rand_name('%s-' % name) params = { 'name': name, 'container_format': fmt, 'disk_format': disk_format or fmt, } if CONF.image_feature_enabled.api_v1: params['is_public'] = 'False' params['properties'] = properties params = {'headers': common_image.image_meta_to_headers(**params)} else: params['visibility'] = 'private' # Additional properties are flattened out in the v2 API. params.update(properties) body = self.image_client.create_image(**params) image = body['image'] if 'image' in body else body self.addCleanup(self.image_client.delete_image, image['id']) self.assertEqual(""queued"", image['status']) with open(path, 'rb') as image_file: if CONF.image_feature_enabled.api_v1: self.image_client.update_image(image['id'], data=image_file) else: self.image_client.store_image_file(image['id'], image_file) return image['id'] def glance_image_create(self): img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.img_file aki_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.aki_img_file ari_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ari_img_file ami_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ami_img_file img_container_format = CONF.scenario.img_container_format img_disk_format = CONF.scenario.img_disk_format img_properties = CONF.scenario.img_properties LOG.debug(""paths: img: %s, container_format: %s, disk_format: %s, "" ""properties: %s, ami: %s, ari: %s, aki: %s"", img_path, img_container_format, img_disk_format, img_properties, ami_img_path, ari_img_path, aki_img_path) try: image = self._image_create('scenario-img', img_container_format, img_path, disk_format=img_disk_format, properties=img_properties) except IOError: LOG.debug(""A qcow2 image was not found. Try to get a uec image."") kernel = self._image_create('scenario-aki', 'aki', aki_img_path) ramdisk = self._image_create('scenario-ari', 'ari', ari_img_path) properties = {'kernel_id': kernel, 'ramdisk_id': ramdisk} image = self._image_create('scenario-ami', 'ami', path=ami_img_path, properties=properties) LOG.debug(""image:%s"", image) return image def _log_console_output(self, servers=None): if not CONF.compute_feature_enabled.console_output: LOG.debug('Console output not supported, cannot log') return if not servers: servers = self.servers_client.list_servers() servers = servers['servers'] for server in servers: try: console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug('Console output for %s\nbody=\n%s', server['id'], console_output) except lib_exc.NotFound: LOG.debug(""Server %s disappeared(deleted) while looking "" ""for the console log"", server['id']) def _log_net_info(self, exc): # network debug is called as part of ssh init if not isinstance(exc, lib_exc.SSHTimeout): LOG.debug('Network information on a devstack host') def create_server_snapshot(self, server, name=None): # Glance client _image_client = self.image_client # Compute client _images_client = self.compute_images_client if name is None: name = data_utils.rand_name(self.__class__.__name__ + 'snapshot') LOG.debug(""Creating a snapshot image for server: %s"", server['name']) image = _images_client.create_image(server['id'], name=name) image_id = image.response['location'].split('images/')[1] waiters.wait_for_image_status(_image_client, image_id, 'active') self.addCleanup(_image_client.wait_for_resource_deletion, image_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, _image_client.delete_image, image_id) if CONF.image_feature_enabled.api_v1: # In glance v1 the additional properties are stored in the headers. resp = _image_client.check_image(image_id) snapshot_image = common_image.get_image_meta_from_headers(resp) image_props = snapshot_image.get('properties', {}) else: # In glance v2 the additional properties are flattened. snapshot_image = _image_client.show_image(image_id) image_props = snapshot_image bdm = image_props.get('block_device_mapping') if bdm: bdm = jsonutils.loads(bdm) if bdm and 'snapshot_id' in bdm[0]: snapshot_id = bdm[0]['snapshot_id'] self.addCleanup( self.snapshots_client.wait_for_resource_deletion, snapshot_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.snapshots_client.delete_snapshot, snapshot_id) waiters.wait_for_volume_resource_status(self.snapshots_client, snapshot_id, 'available') image_name = snapshot_image['name'] self.assertEqual(name, image_name) LOG.debug(""Created snapshot image %s for server %s"", image_name, server['name']) return snapshot_image def nova_volume_attach(self, server, volume_to_attach): volume = self.servers_client.attach_volume( server['id'], volumeId=volume_to_attach['id'], device='/dev/%s' % CONF.compute.volume_device_name)['volumeAttachment'] self.assertEqual(volume_to_attach['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'in-use') # Return the updated volume after the attachment return self.volumes_client.show_volume(volume['id'])['volume'] def nova_volume_detach(self, server, volume): self.servers_client.detach_volume(server['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') volume = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual('available', volume['status']) def rebuild_server(self, server_id, image=None, preserve_ephemeral=False, wait=True, rebuild_kwargs=None): if image is None: image = CONF.compute.image_ref rebuild_kwargs = rebuild_kwargs or {} LOG.debug(""Rebuilding server (id: %s, image: %s, preserve eph: %s)"", server_id, image, preserve_ephemeral) self.servers_client.rebuild_server( server_id=server_id, image_ref=image, preserve_ephemeral=preserve_ephemeral, **rebuild_kwargs) if wait: waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') def ping_ip_address(self, ip_address, should_succeed=True, ping_timeout=None, mtu=None): timeout = ping_timeout or CONF.validation.ping_timeout cmd = ['ping', '-c1', '-w1'] if mtu: cmd += [ # don't fragment '-M', 'do', # ping receives just the size of ICMP payload '-s', str(net_utils.get_ping_payload_size(mtu, 4)) ] cmd.append(ip_address) def ping(): proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) proc.communicate() return (proc.returncode == 0) == should_succeed caller = test_utils.find_test_caller() LOG.debug('%(caller)s begins to ping %(ip)s in %(timeout)s sec and the' ' expected result is %(should_succeed)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'should_succeed': 'reachable' if should_succeed else 'unreachable' }) result = test_utils.call_until_true(ping, timeout, 1) LOG.debug('%(caller)s finishes ping %(ip)s in %(timeout)s sec and the ' 'ping result is %(result)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'result': 'expected' if result else 'unexpected' }) return result def check_vm_connectivity(self, ip_address, username=None, private_key=None, should_connect=True, mtu=None): """"""Check server connectivity :param ip_address: server to test against :param username: server's ssh username :param private_key: server's ssh private key to be used :param should_connect: True/False indicates positive/negative test positive - attempt ping and ssh negative - attempt ping and fail if succeed :param mtu: network MTU to use for connectivity validation :raises: AssertError if the result of the connectivity check does not match the value of the should_connect param """""" if should_connect: msg = ""Timed out waiting for %s to become reachable"" % ip_address else: msg = ""ip address %s is reachable"" % ip_address self.assertTrue(self.ping_ip_address(ip_address, should_succeed=should_connect, mtu=mtu), msg=msg) if should_connect: # no need to check ssh for negative connectivity self.get_remote_client(ip_address, username, private_key) def check_public_network_connectivity(self, ip_address, username, private_key, should_connect=True, msg=None, servers=None, mtu=None): # The target login is assumed to have been configured for # key-based authentication by cloud-init. LOG.debug('checking network connections to IP %s with user: %s', ip_address, username) try: self.check_vm_connectivity(ip_address, username, private_key, should_connect=should_connect, mtu=mtu) except Exception: ex_msg = 'Public network connectivity check failed' if msg: ex_msg += "": "" + msg LOG.exception(ex_msg) self._log_console_output(servers) raise def create_floating_ip(self, thing, pool_name=None): """"""Create a floating IP and associates to a server on Nova"""""" if not pool_name: pool_name = CONF.network.floating_network_name floating_ip = (self.compute_floating_ips_client. create_floating_ip(pool=pool_name)['floating_ip']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.compute_floating_ips_client.delete_floating_ip, floating_ip['id']) self.compute_floating_ips_client.associate_floating_ip_to_server( floating_ip['ip'], thing['id']) return floating_ip def create_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.make_fs(dev_name) ssh_client.mount(dev_name, mount_path) cmd_timestamp = 'sudo sh -c ""date > %s/timestamp; sync""' % mount_path ssh_client.exec_command(cmd_timestamp) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.mount(dev_name, mount_path) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_server_ip(self, server): """"""Get the server fixed or floating IP. Based on the configuration we're in, return a correct ip address for validating that a guest is up. """""" if CONF.validation.connect_method == 'floating': # The tests calling this method don't have a floating IP # and can't make use of the validation resources. So the # method is creating the floating IP there. return self.create_floating_ip(server)['ip'] elif CONF.validation.connect_method == 'fixed': # Determine the network name to look for based on config or creds # provider network resources. if CONF.validation.network_for_ssh: addresses = server['addresses'][ CONF.validation.network_for_ssh] else: creds_provider = self._get_credentials_provider() net_creds = creds_provider.get_primary_creds() network = getattr(net_creds, 'network', None) addresses = (server['addresses'][network['name']] if network else []) for address in addresses: if (address['version'] == CONF.validation.ip_version_for_ssh and address['OS-EXT-IPS:type'] == 'fixed'): return address['addr'] raise exceptions.ServerUnreachable(server_id=server['id']) else: raise lib_exc.InvalidConfiguration() class NetworkScenarioTest(ScenarioTest): """"""Base class for network scenario tests. This class provide helpers for network scenario tests, using the neutron API. Helpers from ancestor which use the nova network API are overridden with the neutron API. This Class also enforces using Neutron instead of novanetwork. Subclassed tests will be skipped if Neutron is not enabled """""" credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(NetworkScenarioTest, cls).skip_checks() if not CONF.service_available.neutron: raise cls.skipException('Neutron not available') def _create_network(self, networks_client=None, tenant_id=None, namestart='network-smoke-', port_security_enabled=True): if not networks_client: networks_client = self.networks_client if not tenant_id: tenant_id = networks_client.tenant_id name = data_utils.rand_name(namestart) network_kwargs = dict(name=name, tenant_id=tenant_id) # Neutron disables port security by default so we have to check the # config before trying to create the network with port_security_enabled if CONF.network_feature_enabled.port_security: network_kwargs['port_security_enabled'] = port_security_enabled result = networks_client.create_network(**network_kwargs) network = result['network'] self.assertEqual(network['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, networks_client.delete_network, network['id']) return network def _create_subnet(self, network, subnets_client=None, routers_client=None, namestart='subnet-smoke', **kwargs): """"""Create a subnet for the given network within the cidr block configured for tenant networks. """""" if not subnets_client: subnets_client = self.subnets_client if not routers_client: routers_client = self.routers_client def cidr_in_use(cidr, tenant_id): """"""Check cidr existence :returns: True if subnet with cidr already exist in tenant False else """""" cidr_in_use = self.admin_manager.subnets_client.list_subnets( tenant_id=tenant_id, cidr=cidr)['subnets'] return len(cidr_in_use) != 0 ip_version = kwargs.pop('ip_version', 4) if ip_version == 6: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_v6_cidr) num_bits = CONF.network.project_network_v6_mask_bits else: tenant_cidr = netaddr.IPNetwork(CONF.network.project_network_cidr) num_bits = CONF.network.project_network_mask_bits result = None str_cidr = None # Repeatedly attempt subnet creation with sequential cidr # blocks until an unallocated block is found. for subnet_cidr in tenant_cidr.subnet(num_bits): str_cidr = str(subnet_cidr) if cidr_in_use(str_cidr, tenant_id=network['tenant_id']): continue subnet = dict( name=data_utils.rand_name(namestart), network_id=network['id'], tenant_id=network['tenant_id'], cidr=str_cidr, ip_version=ip_version, **kwargs ) try: result = subnets_client.create_subnet(**subnet) break except lib_exc.Conflict as e: is_overlapping_cidr = 'overlaps with another subnet' in str(e) if not is_overlapping_cidr: raise self.assertIsNotNone(result, 'Unable to allocate tenant network') subnet = result['subnet'] self.assertEqual(subnet['cidr'], str_cidr) self.addCleanup(test_utils.call_and_ignore_notfound_exc, subnets_client.delete_subnet, subnet['id']) return subnet def _get_server_port_id_and_ip4(self, server, ip_addr=None): ports = self.admin_manager.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) self.assertNotEqual(0, len(port_map), ""No IPv4 addresses found in: %s"" % ports) self.assertEqual(len(port_map), 1, ""Found multiple IPv4 addresses: %s. "" ""Unable to determine which port to target."" % port_map) return port_map[0] def _get_network_by_name(self, network_name): net = self.admin_manager.networks_client.list_networks( name=network_name)['networks'] self.assertNotEqual(len(net), 0, ""Unable to get network by name: %s"" % network_name) return net[0] def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip def _associate_floating_ip(self, floating_ip, server): port_id, _ = self._get_server_port_id_and_ip4(server) kwargs = dict(port_id=port_id) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertEqual(port_id, floating_ip['port_id']) return floating_ip def _disassociate_floating_ip(self, floating_ip): """""":param floating_ip: floating_ips_client.create_floatingip"""""" kwargs = dict(port_id=None) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertIsNone(floating_ip['port_id']) return floating_ip def check_floating_ip_status(self, floating_ip, status): """"""Verifies floatingip reaches the given status :param dict floating_ip: floating IP dict to check status :param status: target status :raises: AssertionError if status doesn't match """""" floatingip_id = floating_ip['id'] def refresh(): result = (self.floating_ips_client. show_floatingip(floatingip_id)['floatingip']) return status == result['status'] test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval) floating_ip = self.floating_ips_client.show_floatingip( floatingip_id)['floatingip'] self.assertEqual(status, floating_ip['status'], message=""FloatingIP: {fp} is at status: {cst}. "" ""failed to reach status: {st}"" .format(fp=floating_ip, cst=floating_ip['status'], st=status)) LOG.info(""FloatingIP: {fp} is at status: {st}"" .format(fp=floating_ip, st=status)) def _check_tenant_network_connectivity(self, server, username, private_key, should_connect=True, servers_for_debug=None): if not CONF.network.project_networks_reachable: msg = 'Tenant networks not configured to be reachable.' LOG.info(msg) return # The target login is assumed to have been configured for # key-based authentication by cloud-init. try: for net_name, ip_addresses in server['addresses'].items(): for ip_address in ip_addresses: self.check_vm_connectivity(ip_address['addr'], username, private_key, should_connect=should_connect) except Exception as e: LOG.exception('Tenant network connectivity check failed') self._log_console_output(servers_for_debug) self._log_net_info(e) raise def _check_remote_connectivity(self, source, dest, should_succeed=True, nic=None): """"""check ping server via source ssh connection :param source: RemoteClient: an ssh connection from which to ping :param dest: and IP to ping against :param should_succeed: boolean should ping succeed or not :param nic: specific network interface to ping from :returns: boolean -- should_succeed == ping :returns: ping is false if ping failed """""" def ping_remote(): try: source.ping_host(dest, nic=nic) except lib_exc.SSHExecCommandFailed: LOG.warning('Failed to ping IP: %s via a ssh connection ' 'from: %s.', dest, source.ssh_client.host) return not should_succeed return should_succeed return test_utils.call_until_true(ping_remote, CONF.validation.ping_timeout, 1) def _create_security_group(self, security_group_rules_client=None, tenant_id=None, namestart='secgroup-smoke', security_groups_client=None): if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if tenant_id is None: tenant_id = security_groups_client.tenant_id secgroup = self._create_empty_security_group( namestart=namestart, client=security_groups_client, tenant_id=tenant_id) # Add rules to the security group rules = self._create_loginable_secgroup_rule( security_group_rules_client=security_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client) for rule in rules: self.assertEqual(tenant_id, rule['tenant_id']) self.assertEqual(secgroup['id'], rule['security_group_id']) return secgroup def _create_empty_security_group(self, client=None, tenant_id=None, namestart='secgroup-smoke'): """"""Create a security group without rules. Default rules will be created: - IPv4 egress to any - IPv6 egress to any :param tenant_id: secgroup will be created in this tenant :returns: the created security group """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sg_name = data_utils.rand_name(namestart) sg_desc = sg_name + "" description"" sg_dict = dict(name=sg_name, description=sg_desc) sg_dict['tenant_id'] = tenant_id result = client.create_security_group(**sg_dict) secgroup = result['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(tenant_id, secgroup['tenant_id']) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_security_group, secgroup['id']) return secgroup def _default_security_group(self, client=None, tenant_id=None): """"""Get default secgroup for given tenant_id. :returns: default secgroup for given tenant """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sgs = [ sg for sg in list(client.list_security_groups().values())[0] if sg['tenant_id'] == tenant_id and sg['name'] == 'default' ] msg = ""No default security group for tenant %s."" % (tenant_id) self.assertGreater(len(sgs), 0, msg) return sgs[0] def _create_security_group_rule(self, secgroup=None, sec_group_rules_client=None, tenant_id=None, security_groups_client=None, **kwargs): """"""Create a rule from a dictionary of rule parameters. Create a rule in a secgroup. if secgroup not defined will search for default secgroup in tenant_id. :param secgroup: the security group. :param tenant_id: if secgroup not passed -- the tenant in which to search for default secgroup :param kwargs: a dictionary containing rule parameters: for example, to allow incoming ssh: rule = { direction: 'ingress' protocol:'tcp', port_range_min: 22, port_range_max: 22 } """""" if sec_group_rules_client is None: sec_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if not tenant_id: tenant_id = security_groups_client.tenant_id if secgroup is None: secgroup = self._default_security_group( client=security_groups_client, tenant_id=tenant_id) ruleset = dict(security_group_id=secgroup['id'], tenant_id=secgroup['tenant_id']) ruleset.update(kwargs) sg_rule = sec_group_rules_client.create_security_group_rule(**ruleset) sg_rule = sg_rule['security_group_rule'] self.assertEqual(secgroup['tenant_id'], sg_rule['tenant_id']) self.assertEqual(secgroup['id'], sg_rule['security_group_id']) return sg_rule def _create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None): """"""Create loginable security group rule This function will create: 1. egress and ingress tcp port 22 allow rule in order to allow ssh access for ipv4. 2. egress and ingress ipv6 icmp allow rule, in order to allow icmpv6. 3. egress and ingress ipv4 icmp allow rule, in order to allow icmpv4. """""" if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client rules = [] rulesets = [ dict( # ssh protocol='tcp', port_range_min=22, port_range_max=22, ), dict( # ping protocol='icmp', ), dict( # ipv6-icmp for ping6 protocol='icmp', ethertype='IPv6', ) ] sec_group_rules_client = security_group_rules_client for ruleset in rulesets: for r_direction in ['ingress', 'egress']: ruleset['direction'] = r_direction try: sg_rule = self._create_security_group_rule( sec_group_rules_client=sec_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client, **ruleset) except lib_exc.Conflict as ex: # if rule already exist - skip rule and continue msg = 'Security group rule already exists' if msg not in ex._error_string: raise ex else: self.assertEqual(r_direction, sg_rule['direction']) rules.append(sg_rule) return rules def _get_router(self, client=None, tenant_id=None): """"""Retrieve a router for the given tenant id. If a public router has been configured, it will be returned. If a public router has not been configured, but a public network has, a tenant router will be created and returned that routes traffic to the public network. """""" if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id router_id = CONF.network.public_router_id network_id = CONF.network.public_network_id if router_id: body = client.show_router(router_id) return body['router'] elif network_id: router = self._create_router(client, tenant_id) kwargs = {'external_gateway_info': dict(network_id=network_id)} router = client.update_router(router['id'], **kwargs)['router'] return router else: raise Exception(""Neither of 'public_router_id' or "" ""'public_network_id' has been defined."") def _create_router(self, client=None, tenant_id=None, namestart='router-smoke'): if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id name = data_utils.rand_name(namestart) result = client.create_router(name=name, admin_state_up=True, tenant_id=tenant_id) router = result['router'] self.assertEqual(router['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_router, router['id']) return router def _update_router_admin_state(self, router, admin_state_up): kwargs = dict(admin_state_up=admin_state_up) router = self.routers_client.update_router( router['id'], **kwargs)['router'] self.assertEqual(admin_state_up, router['admin_state_up']) def create_networks(self, networks_client=None, routers_client=None, subnets_client=None, tenant_id=None, dns_nameservers=None, port_security_enabled=True): """"""Create a network with a subnet connected to a router. The baremetal driver is a special case since all nodes are on the same shared network. :param tenant_id: id of tenant to create resources in. :param dns_nameservers: list of dns servers to send to subnet. :returns: network, subnet, router """""" if CONF.network.shared_physical_network: # NOTE(Shrews): This exception is for environments where tenant # credential isolation is available, but network separation is # not (the current baremetal case). Likely can be removed when # test account mgmt is reworked: # https://blueprints.launchpad.net/tempest/+spec/test-accounts if not CONF.compute.fixed_network_name: m = 'fixed_network_name must be specified in config' raise lib_exc.InvalidConfiguration(m) network = self._get_network_by_name( CONF.compute.fixed_network_name) router = None subnet = None else: network = self._create_network( networks_client=networks_client, tenant_id=tenant_id, port_security_enabled=port_security_enabled) router = self._get_router(client=routers_client, tenant_id=tenant_id) subnet_kwargs = dict(network=network, subnets_client=subnets_client, routers_client=routers_client) # use explicit check because empty list is a valid option if dns_nameservers is not None: subnet_kwargs['dns_nameservers'] = dns_nameservers subnet = self._create_subnet(**subnet_kwargs) if not routers_client: routers_client = self.routers_client router_id = router['id'] routers_client.add_router_interface(router_id, subnet_id=subnet['id']) # save a cleanup job to remove this association between # router and subnet self.addCleanup(test_utils.call_and_ignore_notfound_exc, routers_client.remove_router_interface, router_id, subnet_id=subnet['id']) return network, subnet, router class EncryptionScenarioTest(ScenarioTest): """"""Base class for encryption scenario tests"""""" credentials = ['primary', 'admin'] @classmethod def setup_clients(cls): super(EncryptionScenarioTest, cls).setup_clients() if CONF.volume_feature_enabled.api_v2: cls.admin_volume_types_client = cls.os_adm.volume_types_v2_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_adm.volume_types_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_client def create_encryption_type(self, client=None, type_id=None, provider=None, key_size=None, cipher=None, control_location=None): if not client: client = self.admin_encryption_types_client if not type_id: volume_type = self.create_volume_type() type_id = volume_type['id'] LOG.debug(""Creating an encryption type for volume type: %s"", type_id) client.create_encryption_type( type_id, provider=provider, key_size=key_size, cipher=cipher, control_location=control_location)['encryption'] class ObjectStorageScenarioTest(ScenarioTest): """"""Provide harness to do Object Storage scenario tests. Subclasses implement the tests that use the methods provided by this class. """""" @classmethod def skip_checks(cls): super(ObjectStorageScenarioTest, cls).skip_checks() if not CONF.service_available.swift: skip_msg = (""%s skipped as swift is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def setup_credentials(cls): cls.set_network_resources() super(ObjectStorageScenarioTest, cls).setup_credentials() operator_role = CONF.object_storage.operator_role cls.os_operator = cls.get_client_manager(roles=[operator_role]) @classmethod def setup_clients(cls): super(ObjectStorageScenarioTest, cls).setup_clients() # Clients for Swift cls.account_client = cls.os_operator.account_client cls.container_client = cls.os_operator.container_client cls.object_client = cls.os_operator.object_client def get_swift_stat(self): """"""get swift status for our user account."""""" self.account_client.list_account_containers() LOG.debug('Swift status information obtained successfully') def create_container(self, container_name=None): name = container_name or data_utils.rand_name( 'swift-scenario-container') self.container_client.create_container(name) # look for the container to assure it is created self.list_and_check_container_objects(name) LOG.debug('Container %s created', name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.container_client.delete_container, name) return name def delete_container(self, container_name): self.container_client.delete_container(container_name) LOG.debug('Container %s deleted', container_name) def upload_object_to_container(self, container_name, obj_name=None): obj_name = obj_name or data_utils.rand_name('swift-scenario-object') obj_data = data_utils.random_bytes() self.object_client.create_object(container_name, obj_name, obj_data) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.object_client.delete_object, container_name, obj_name) return obj_name, obj_data def delete_object(self, container_name, filename): self.object_client.delete_object(container_name, filename) self.list_and_check_container_objects(container_name, not_present_obj=[filename]) def list_and_check_container_objects(self, container_name, present_obj=None, not_present_obj=None): # List objects for a given container and assert which are present and # which are not. if present_obj is None: present_obj = [] if not_present_obj is None: not_present_obj = [] _, object_list = self.container_client.list_container_contents( container_name) if present_obj: for obj in present_obj: self.assertIn(obj, object_list) if not_present_obj: for obj in not_present_obj: self.assertNotIn(obj, object_list) def change_container_acl(self, container_name, acl): metadata_param = {'metadata_prefix': 'x-container-', 'metadata': {'read': acl}} self.container_client.update_container_metadata(container_name, **metadata_param) resp, _ = self.container_client.list_container_metadata(container_name) self.assertEqual(resp['x-container-read'], acl) def download_and_verify(self, container_name, obj_name, expected_data): _, obj = self.object_client.get_object(container_name, obj_name) self.assertEqual(obj, expected_data) ",,1351,1
openstack%2Fneutron-lbaas~stable%2Focata~I5d41652a85cfb91646bb48d38eedbe97741a97c2,openstack/neutron-lbaas,stable/ocata,I5d41652a85cfb91646bb48d38eedbe97741a97c2,Don't use Tempest internal methods,MERGED,2017-03-27 20:28:11.000000000,2017-04-04 21:22:38.000000000,2017-04-04 21:22:38.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 6579}, {'_account_id': 7787}, {'_account_id': 10850}, {'_account_id': 14591}]","[{'number': 1, 'created': '2017-03-27 20:28:11.000000000', 'files': ['neutron_lbaas/tests/tempest/v2/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/ef1d6e7160a75dc849d193839e008b6b4762dabf', 'message': ""Don't use Tempest internal methods\n\nAll changed methods are clearly internal methods of Tempest, and the\nTempest commit 64e6b4457c748f74bfb4fbf3860ab65b65ae9beb has removed\nthe internal methods and now the gate issue happens.\nThis patch makes this project to use better ones instead.\n\nChange-Id: I5d41652a85cfb91646bb48d38eedbe97741a97c2\nRelated-Bug: #1667824\n(cherry picked from commit 18db6d460cd45f92c19f1225823f83aaaa4e8a7f)\n""}]",0,450447,ef1d6e7160a75dc849d193839e008b6b4762dabf,10,6,1,9656,,,0,"Don't use Tempest internal methods

All changed methods are clearly internal methods of Tempest, and the
Tempest commit 64e6b4457c748f74bfb4fbf3860ab65b65ae9beb has removed
the internal methods and now the gate issue happens.
This patch makes this project to use better ones instead.

Change-Id: I5d41652a85cfb91646bb48d38eedbe97741a97c2
Related-Bug: #1667824
(cherry picked from commit 18db6d460cd45f92c19f1225823f83aaaa4e8a7f)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/47/450447/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/tests/tempest/v2/scenario/base.py'],1,ef1d6e7160a75dc849d193839e008b6b4762dabf,bug/1667824, tenant_net = self.admin_manager.networks_client.list_networks( tenant_id=tenant_id)['networks'][0] self.subnet = self.admin_manager.subnets_client.list_subnets( tenant_id=tenant_id)['subnets'][0] subnet = self.admin_manager.subnets_client.list_subnets( network_id=self.network['id'])['subnets'][0], tenant_net = self._list_networks(tenant_id=tenant_id)[0] self.subnet = self._list_subnets(tenant_id=tenant_id)[0] subnet = self._list_subnets(network_id=self.network['id'])[0],6,3
openstack%2Fheat~master~I800c4f58feec7c1aaa4897c2ba056e5a74200e5d,openstack/heat,master,I800c4f58feec7c1aaa4897c2ba056e5a74200e5d,Only recreate CHECK FAILED resources in ResourceGroup,MERGED,2017-03-14 21:47:06.000000000,2017-04-04 21:06:58.000000000,2017-04-04 21:06:58.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 7253}, {'_account_id': 7256}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 15123}]","[{'number': 1, 'created': '2017-03-14 21:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4a83da74e793c6a132bf679373a1c852564b5f24', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that the handle_update method will only replace the\nresources in CHECK_FAILED status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 2, 'created': '2017-03-15 15:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/743abf281a927ece6b3dfcea232229a6373b2b6c', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that the handle_update method will only replace the\nresources in CHECK_FAILED status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 3, 'created': '2017-03-15 21:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bc8b6e566efef8c02a59c41dfd6cf32788aa4ad6', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that the handle_update method will only replace the\nresources in CHECK_FAILED status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 4, 'created': '2017-03-22 19:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/04ceea75e44070c28af8d2c6bf89ae26d1202ca2', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that the handle_update method will only replace the\nresources in CHECK_FAILED status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 5, 'created': '2017-03-22 21:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e9320036d75142fcfa8b827c2330101d129f4362', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that the handle_update method will only replace the\nresources in CHECK_FAILED status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 6, 'created': '2017-03-23 21:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d2c04cb0882b1053b98f90d1d79c3389c6fc347d', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that the handle_update method will only replace the\nresources in CHECK_FAILED status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 7, 'created': '2017-03-28 21:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/df47b6f8cd0a956ffa09ccdf159706375234d348', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that only resources in the CHECK_FAILED  status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 8, 'created': '2017-03-29 16:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/71886e1438ef7be857702a10afd520343823004e', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that only resources in the CHECK_FAILED  status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}, {'number': 9, 'created': '2017-04-04 17:56:46.000000000', 'files': ['heat/engine/resources/stack_resource.py', 'heat/tests/test_stack_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/362069cd1f8541a4a5511d92e5dbbe38bb78701f', 'message': 'Only recreate CHECK FAILED resources in ResourceGroup\n\nPreviously, ResourceGroup._needs_update() would raise UpdateReplace\nwhen the ResourceGroup was in CHECK_FAILED status, resulting in\ndelete/replacement of every resource in the group.  Now, it will\nreturn True so that only resources in the CHECK_FAILED  status.\n\nChange-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d\nCloses-Bug: #1671592\n'}]",5,445662,362069cd1f8541a4a5511d92e5dbbe38bb78701f,46,8,9,7253,,,0,"Only recreate CHECK FAILED resources in ResourceGroup

Previously, ResourceGroup._needs_update() would raise UpdateReplace
when the ResourceGroup was in CHECK_FAILED status, resulting in
delete/replacement of every resource in the group.  Now, it will
return True so that only resources in the CHECK_FAILED  status.

Change-Id: I800c4f58feec7c1aaa4897c2ba056e5a74200e5d
Closes-Bug: #1671592
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/445662/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/resource_group.py', 'heat/tests/openstack/heat/test_resource_group.py']",2,4a83da74e793c6a132bf679373a1c852564b5f24,bug/1671592," def test_handle_update_check_failed(self): stack = utils.parse_stack(template) snip = stack.t.resource_definitions(stack)['group1'] resgrp = resource_group.ResourceGroup('test', snip, stack) resgrp._nested = get_fake_nested_stack(['0', '1']) resgrp._assemble_nested = mock.Mock(return_value=None) resgrp.action = resgrp.CHECK resgrp.status = resgrp.FAILED self.patchobject(scheduler.TaskRunner, 'start') self.assertTrue(resgrp._needs_update( stack.t, stack.t, resgrp.properties, resgrp.properties, resgrp)) ",,21,0
openstack%2Fpuppet-neutron~master~I2be0fab671ec1a804d029afc6dc27d19a193b064,openstack/puppet-neutron,master,I2be0fab671ec1a804d029afc6dc27d19a193b064,Fix sync_db in BGPVPN,MERGED,2017-03-10 22:44:59.000000000,2017-04-04 20:58:46.000000000,2017-04-04 20:58:46.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 10873}, {'_account_id': 12021}, {'_account_id': 14985}, {'_account_id': 18795}, {'_account_id': 20775}, {'_account_id': 21626}, {'_account_id': 23938}]","[{'number': 1, 'created': '2017-03-10 22:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2a81eddc9d6237d61cc9bbb7f95f105fccda54af', 'message': 'Test BGPVPN\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 2, 'created': '2017-03-11 09:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/21f2922562a57c2bafdc112178fe4b586659c128', 'message': 'Test BGPVPN\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 3, 'created': '2017-03-11 12:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/bd79fc501b9e53088768d97abb202e4513c2cb80', 'message': 'Test BGPVPN\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 4, 'created': '2017-03-11 13:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0b1243de1254e961c8fbc50b30b6be5719a0b53d', 'message': 'Test BGPVPN\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 5, 'created': '2017-03-22 07:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/677080851f8d0edf1775d808c3c6c9a26bd7b2a7', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 6, 'created': '2017-03-28 08:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5906b0401991d9fc10487603da04d910a1705be8', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 7, 'created': '2017-03-28 10:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6fbc457aa87eda86f7b40f19d8518148996835f6', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 8, 'created': '2017-03-28 11:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8256e2a272fbe1bd23566084f727838496b2ae93', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 9, 'created': '2017-03-28 12:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/bc59cced28df27cdabc4b06eb4542889d11897af', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 10, 'created': '2017-03-28 13:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3d556e338891c50fe47e0f482143fc6f76678703', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 11, 'created': '2017-03-28 13:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b66e1d36b1e930c15a06f5e62e6f32975a41f18d', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 12, 'created': '2017-03-28 16:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/46517ef7e8b40b45a24df3d9687b6e973517d55e', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 13, 'created': '2017-04-03 08:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1f5aa76eb98b6f74679bc6807273a424303a7ed7', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}, {'number': 14, 'created': '2017-04-04 15:33:13.000000000', 'files': ['manifests/services/bgpvpn.pp', 'spec/classes/neutron_services_bgpvpn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cd835dadfdb18de7dc337c29833b68cc3a8898cb', 'message': 'Fix sync_db in BGPVPN\n\nWe need to add head to neutron-db-manage in order to\nrun the command correctly.\n\nChange-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064\n'}]",0,444528,cd835dadfdb18de7dc337c29833b68cc3a8898cb,84,10,14,20775,,,0,"Fix sync_db in BGPVPN

We need to add head to neutron-db-manage in order to
run the command correctly.

Change-Id: I2be0fab671ec1a804d029afc6dc27d19a193b064
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/28/444528/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/services/bgpvpn.pp'],1,2a81eddc9d6237d61cc9bbb7f95f105fccda54af,add-bgpvpn-to-tripleo-ci," command => 'neutron-db-manage --config-file /etc/neutron/neutron.conf --subproject networking-bgpvpn upgrade head', refreshonly => true, require => Package['python-networking-bgpvpn'], tries => 10"," command => 'neutron-db-manage --config-file /etc/neutron/neutron.conf --subproject networking-bgpvpn upgrade', refreshonly => true",4,2
openstack%2Finstack-undercloud~master~Ic1f73d13d8b30163d629df6e2eb2195b86b9aba1,openstack/instack-undercloud,master,Ic1f73d13d8b30163d629df6e2eb2195b86b9aba1,Set Zaqar roles,MERGED,2017-03-31 08:31:28.000000000,2017-04-04 20:45:02.000000000,2017-04-04 18:55:47.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 6928}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-31 08:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/e2f0dcb638a2387cb91a92e46c89083a913e2fca', 'message': 'Set Zaqar roles\n\nThis sets Zaqar roles so that it works correctly with the swift backend.\n\nChange-Id: Ic1f73d13d8b30163d629df6e2eb2195b86b9aba1\n'}, {'number': 2, 'created': '2017-03-31 12:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/00c59056d8b07d8f49a3640c9e0806331297218e', 'message': 'Set Zaqar roles\n\nThis sets Zaqar roles so that it works correctly with the swift backend.\n\nDepends-On: I92c721fc697d9cfb28ad7069d5898ca4db82897f\nChange-Id: Ic1f73d13d8b30163d629df6e2eb2195b86b9aba1\n'}, {'number': 3, 'created': '2017-04-04 06:09:08.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c3113002551d58d0a434cbac2ea46a137a6f2e49', 'message': 'Set Zaqar roles\n\nThis sets Zaqar roles so that it works correctly with the swift backend.\n\nDepends-On: I92c721fc697d9cfb28ad7069d5898ca4db82897f\nChange-Id: Ic1f73d13d8b30163d629df6e2eb2195b86b9aba1\n'}]",0,452098,c3113002551d58d0a434cbac2ea46a137a6f2e49,28,7,3,7385,,,0,"Set Zaqar roles

This sets Zaqar roles so that it works correctly with the swift backend.

Depends-On: I92c721fc697d9cfb28ad7069d5898ca4db82897f
Change-Id: Ic1f73d13d8b30163d629df6e2eb2195b86b9aba1
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/98/452098/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,e2f0dcb638a2387cb91a92e46c89083a913e2fca,zaqar-roles,zaqar::keystone::auth::roles: - admin - ResellerAdmin,,3,0
openstack%2Fpuppet-freezer~master~I0690afe7d32a450b0d3514b4ea0fffbe0c7587d3,openstack/puppet-freezer,master,I0690afe7d32a450b0d3514b4ea0fffbe0c7587d3,Change metadata parameters,MERGED,2017-04-03 09:54:22.000000000,2017-04-04 20:42:43.000000000,2017-04-04 20:42:43.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-03 09:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/0747a11c6265bcb7bf967fa5a660e3a987818640', 'message': 'Change metadata parameters\n\nMetadata parameters has been changed after init commit\naccording to freezer project requirements\n\nChange-Id: I0690afe7d32a450b0d3514b4ea0fffbe0c7587d3\n'}, {'number': 2, 'created': '2017-04-03 22:03:57.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/ea26351c1db96d257ca9c9594a9a3d470c82b541', 'message': 'Change metadata parameters\n\nMetadata parameters has been changed after init commit\naccording to freezer project requirements\n\nChange-Id: I0690afe7d32a450b0d3514b4ea0fffbe0c7587d3\n'}]",1,452668,ea26351c1db96d257ca9c9594a9a3d470c82b541,23,4,2,22405,,,0,"Change metadata parameters

Metadata parameters has been changed after init commit
according to freezer project requirements

Change-Id: I0690afe7d32a450b0d3514b4ea0fffbe0c7587d3
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/68/452668/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,0747a11c6265bcb7bf967fa5a660e3a987818640,metadata_fix," ""version"": ""11.0.0-dev"", ""operatingsystemrelease"": [ ""8"" ] ""operatingsystemrelease"": [ ""24"" ] ""operatingsystemrelease"": [ ""7"" ] ""operatingsystemrelease"": [ ""16.04"" ] ""description"": ""Installs and configures OpenStack Freezer (distributed backup restore and disaster recovery as a service platform)."", { ""name"": ""puppetlabs/inifile"", ""version_requirement"": "">=1.0.0 <2.0.0"" }, { ""name"": ""openstack/keystone"", ""version_requirement"": "">=11.0.0 <12.0.0"" }, { ""name"": ""puppetlabs/stdlib"", ""version_requirement"": "">=4.0.0 <5.0.0"" }, { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=11.0.0 <12.0.0"" }, { ""name"": ""openstack/oslo"", ""version_requirement"": "">=11.0.0 <12.0.0"" }, { ""name"": ""puppetlabs/apache"", ""version_requirement"": "">=1.0.0 <2.0.0"" }"," ""version"": ""0.0.1"", ""operatingsystemrelease"": [""8""] ""operatingsystemrelease"": [""21"",""22""] ""operatingsystemrelease"": [""7""] ""operatingsystemrelease"": [""14.04"",""16.04""] { ""name"": ""puppetlabs/inifile"", ""version_requirement"": "">=1.0.0 <2.0.0"" }, { ""name"": ""puppetlabs/stdlib"", ""version_requirement"": "">= 4.2.0 <5.0.0"" }, { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=9.2.0 <10.0.0"" }, { ""name"": ""openstack/keystone"", ""version_requirement"": "">=9.2.0 <10.0.0"" }, { ""name"": ""openstack/oslo"", ""version_requirement"": "">=9.2.0 <10.0.0"" }",38,10
openstack%2Fpython-openstackclient~master~I8b92271185f82f275fa73adad03e9dad70be70e4,openstack/python-openstackclient,master,I8b92271185f82f275fa73adad03e9dad70be70e4,Structure FindFloatingIP() to work without ip_cache,MERGED,2017-03-21 08:09:00.000000000,2017-04-04 20:31:15.000000000,2017-04-04 20:31:15.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 8276}, {'_account_id': 17776}, {'_account_id': 18332}, {'_account_id': 19339}, {'_account_id': 21629}, {'_account_id': 22218}, {'_account_id': 22774}]","[{'number': 1, 'created': '2017-03-21 08:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/de8a5f651a7fd483a12dcbbc2e3363ea15f16594', 'message': 'TrivialFix : Introduce FindFloatingIP() without ip_Cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch introduces a new function _find_floating_ip_without_cache()\nto remove the ip_cache.\nNeeded by [1] and probably more patches may follow.\n\nTrivialFix\n[1]: I6c5222287c46ca42365917d2deae70bdb626347\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 2, 'created': '2017-03-21 08:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/198d3f4304b4aa8cdec49b086eac11ea394b5233', 'message': 'TrivialFix : Introduce FindFloatingIP() without ip_Cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch introduces a new function _find_floating_ip_without_cache()\nto remove the ip_cache.\nNeeded by [1] and probably more patches may follow.\n\nTrivialFix\n[1]: I6c5222287c46ca42365917d2deae70bdb626347\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 3, 'created': '2017-03-22 00:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ad721b17eb963ed36e0eec142772ab6fb792a493', 'message': 'TrivialFix : Introduce FindFloatingIP() without ip_Cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch introduces a new function _find_floating_ip_without_cache()\nto remove the ip_cache.\nNeeded by [1] and probably more patches may follow.\n\nTrivialFix\n[1]: I6c5222287c46ca42365917d2deae70bdb626347\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 4, 'created': '2017-03-22 03:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0a9e3cd9c7c56ea8d19ccbea6f4a975fdf596ae4', 'message': 'TrivialFix : Introduce FindFloatingIP() without ip_Cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch introduces a new function _find_floating_ip_without_cache()\nto remove the ip_cache.\nNeeded by [1] and probably more patches may follow.\n\nTrivialFix\n[1]: I6c5222287c46ca42365917d2deae70bdb626347\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 5, 'created': '2017-03-22 10:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a76c4fd2470d877f96dac5d27382583d32eae3bc', 'message': 'Introduce FindFloatingIP() without ip_Cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch introduces a new function _find_floating_ip_without_cache()\nto remove the ip_cache. Needed by [1].\n\n[1]: I6c5222287c46ca42365917d2deae70bdb626347\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 6, 'created': '2017-03-22 23:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c262bc7b3ec8ce9c9f7d91de52a02d319894d906', 'message': 'Introduce FindFloatingIP() without ip_Cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch introduces a new function _find_floating_ip_without_cache()\nto remove the ip_cache. Needed by [1].\n\n[1]: I6c5222287c46ca42365917d2deae70bdb626347\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 7, 'created': '2017-03-22 23:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb82509a6cd55bfa368ccdab334fac5a63958c67', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch modifies _find_floating_ip() to make the ip_cache optional.\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 8, 'created': '2017-03-23 01:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2baef237c02da4ed56418c7837748c8fe2e51064', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch modifies _find_floating_ip() to make the ip_cache optional.\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 9, 'created': '2017-03-27 08:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/810d976a275a98e971224431894d069dc1dec33b', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch modifies _find_floating_ip() to make the ip_cache optional.\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 10, 'created': '2017-04-01 09:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/52e199ad62d0ffc57069a31d94830e057bec74ec', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch modifies _find_floating_ip() to make the ip_cache optional.\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 11, 'created': '2017-04-01 09:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c560874975caf83969dec5ae84cb1fb917d453ec', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch modifies _find_floating_ip() to make the ip_cache optional.\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 12, 'created': '2017-04-01 09:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d96473d06f5448beffe7eee8a7c93b118c43d1ce', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch rmoves the need of ip_cache in _find_floating_ip().\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 13, 'created': '2017-04-04 06:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/909217c15a60930a208f08eab67ecf5e6efaf64f', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch rmoves the need of ip_cache in _find_floating_ip().\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}, {'number': 14, 'created': '2017-04-04 16:27:24.000000000', 'files': ['openstackclient/network/v2/floating_ip.py', 'openstackclient/tests/unit/network/v2/test_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0e42ea3ae325cf5b168bb966e62cd6b8e9ee0159', 'message': 'Structure FindFloatingIP() to work without ip_cache\n\nCurrently we have an ip_cache returned from _find_floating_ip() which\nis generally ignored as it is not always required.\n\nThis patch removes the need of ip_cache in _find_floating_ip().\n\nCo-Authored-By: Sindhu Devale<sindhu.devale@intel.com>\n\nChange-Id: I8b92271185f82f275fa73adad03e9dad70be70e4\n'}]",2,447938,0e42ea3ae325cf5b168bb966e62cd6b8e9ee0159,56,10,14,17776,,,0,"Structure FindFloatingIP() to work without ip_cache

Currently we have an ip_cache returned from _find_floating_ip() which
is generally ignored as it is not always required.

This patch removes the need of ip_cache in _find_floating_ip().

Co-Authored-By: Sindhu Devale<sindhu.devale@intel.com>

Change-Id: I8b92271185f82f275fa73adad03e9dad70be70e4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/38/447938/5 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/floating_ip.py'],1,de8a5f651a7fd483a12dcbbc2e3363ea15f16594,introduce_floating_ip_find_without_cache,"def _find_floating_ip_without_cache(session, name_or_id, ignore_missing=True, **params): """"""Find Floating IP by IP or ID but ignore ip_cache"""""" result, ignore_cache = _find_floating_ip(session, [], name_or_id, ignore_missing, params) return result ",,9,0
openstack%2Frequirements~stable%2Fnewton~Id1459e63c09fb2c6b4e42da0629053a3a922f5f7,openstack/requirements,stable/newton,Id1459e63c09fb2c6b4e42da0629053a3a922f5f7,Upgrade upper-constraints of diskimage-builder for newton,MERGED,2017-04-03 09:29:05.000000000,2017-04-04 20:28:52.000000000,2017-04-04 20:28:52.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 4328}, {'_account_id': 5638}, {'_account_id': 13294}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-03 09:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8f92f427522aa6c3d0480b1d82746bda5f84a767', 'message': ""Upgrade upper-constraints for newton\n\nThe 1.18.2 version has epel repo hardcoded, and it's\nblocking the TripleO image builds on centos, because of version\nconflicts between packages in epel and base.\nMoving to 1.19.0 as it is fixing that issue.\n\nChange-Id: Id1459e63c09fb2c6b4e42da0629053a3a922f5f7\n""}, {'number': 2, 'created': '2017-04-03 09:29:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/887bde972c77371e6ef6af6cdcba4ace745798e1', 'message': ""Upgrade upper-constraints of diskimage-builder for newton\n\nThe 1.18.2 version has epel repo hardcoded, and it's\nblocking the TripleO image builds on centos, because of version\nconflicts between packages in epel and base.\nMoving to 1.19.0 as it is fixing that issue.\n\nChange-Id: Id1459e63c09fb2c6b4e42da0629053a3a922f5f7\n""}]",0,452659,887bde972c77371e6ef6af6cdcba4ace745798e1,20,7,2,6133,,,0,"Upgrade upper-constraints of diskimage-builder for newton

The 1.18.2 version has epel repo hardcoded, and it's
blocking the TripleO image builds on centos, because of version
conflicts between packages in epel and base.
Moving to 1.19.0 as it is fixing that issue.

Change-Id: Id1459e63c09fb2c6b4e42da0629053a3a922f5f7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/452659/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8f92f427522aa6c3d0480b1d82746bda5f84a767,,diskimage-builder===1.19.0,diskimage-builder===1.18.2,1,1
openstack%2Fopenstack-ansible-os_nova~master~I5e4e2d6f48845f1edc13d3b548df9d0d40fd68d0,openstack/openstack-ansible-os_nova,master,I5e4e2d6f48845f1edc13d3b548df9d0d40fd68d0,Added constraints to qemu save dir check and move,MERGED,2017-03-30 01:59:45.000000000,2017-04-04 20:25:03.000000000,2017-04-04 20:25:03.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 11782}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-03-30 01:59:45.000000000', 'files': ['tasks/nova_compute_kvm_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2dbb8609c89c9508aaa8af687497429fadb55083', 'message': 'Added constraints to qemu save dir check and move\n\nThis change adds a constraint to the\n""/var/lib/libvirt/qemu/save"" directory state check and list commands\nso that should the dir not exist and not be created by the libvirt\nstartup process the role can carry on with the subsequent linking\nof ""/var/lib/libvirt/qemu/save"" to ""{{ nova_libvirt_save_path }}"".\n\nChange-Id: I5e4e2d6f48845f1edc13d3b548df9d0d40fd68d0\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",1,451621,2dbb8609c89c9508aaa8af687497429fadb55083,10,5,1,7353,,,0,"Added constraints to qemu save dir check and move

This change adds a constraint to the
""/var/lib/libvirt/qemu/save"" directory state check and list commands
so that should the dir not exist and not be created by the libvirt
startup process the role can carry on with the subsequent linking
of ""/var/lib/libvirt/qemu/save"" to ""{{ nova_libvirt_save_path }}"".

Change-Id: I5e4e2d6f48845f1edc13d3b548df9d0d40fd68d0
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/21/451621/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_compute_kvm_install.yml'],1,2dbb8609c89c9508aaa8af687497429fadb55083,libvirt-save, failed_when: false when: - _qemu_save_dir.stat.isdir is defined - _qemu_save_dir.stat.isdir | bool,,4,0
openstack%2Frpm-packaging~master~I41e49fa292e609dcc718727bed7a03c88e29d28f,openstack/rpm-packaging,master,I41e49fa292e609dcc718727bed7a03c88e29d28f,Remove os-cloud-config,MERGED,2017-03-28 19:32:36.000000000,2017-04-04 20:22:23.000000000,2017-04-04 20:21:40.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 6593}, {'_account_id': 6717}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 10384}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}, {'_account_id': 25218}]","[{'number': 1, 'created': '2017-03-28 19:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/abd37ccab58fd4d5eb325e66a0383296faf7a741', 'message': 'Remove os-cloud-config\n\nThe module is deprecated in Ocata and aims to be removed soon.\n\nChange-Id: I41e49fa292e609dcc718727bed7a03c88e29d28f\nRelated-Bug: #1677008\n'}, {'number': 2, 'created': '2017-03-28 22:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0e9fca9e8dc36699a6097452d3e0af3230058d6b', 'message': 'Remove os-cloud-config\n\nThe module is deprecated in Ocata and aims to be removed soon.\n\nChange-Id: I41e49fa292e609dcc718727bed7a03c88e29d28f\nRelated-Bug: #1677008\n'}, {'number': 3, 'created': '2017-04-04 18:22:37.000000000', 'files': ['openstack/os-cloud-config/os-cloud-config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/54c73700428be9407f343752beaaf3a04a91bba5', 'message': 'Remove os-cloud-config\n\nThe module is deprecated in Ocata and aims to be removed soon.\n\nChange-Id: I41e49fa292e609dcc718727bed7a03c88e29d28f\nRelated-Bug: #1677008\n'}]",0,450944,54c73700428be9407f343752beaaf3a04a91bba5,35,13,3,3153,,,0,"Remove os-cloud-config

The module is deprecated in Ocata and aims to be removed soon.

Change-Id: I41e49fa292e609dcc718727bed7a03c88e29d28f
Related-Bug: #1677008
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/44/450944/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-cloud-config/os-cloud-config.spec.j2'],1,abd37ccab58fd4d5eb325e66a0383296faf7a741,bug/1677008,,"%global sname os-cloud-config %bcond_with test %bcond_with docs Name: {{ py2name('os-cloud-config') }} Version: 5.1.0 Release: 0 Summary: Configuration for OpenStack clouds License: {{ license('Apache-2.0') }} Group: Development/Languages/Python Url: https://launchpad.net/%{sname} Source0: https://pypi.io/packages/source/o/%{sname}/%{sname}-%{version}.tar.gz BuildRequires: openstack-macros BuildRequires: python-devel BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('python-glanceclient') }} Requires: {{ py2pkg('python-ironicclient') }} Requires: {{ py2pkg('python-keystoneclient') }} Requires: {{ py2pkg('python-neutronclient') }} Requires: {{ py2pkg('python-novaclient') }} BuildArch: noarch %if %{with test} BuildRequires: {{ py2pkg('extras') }} BuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('python-glanceclient') }} BuildRequires: {{ py2pkg('python-ironicclient') }} BuildRequires: {{ py2pkg('python-keystoneclient') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('testrepository') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} %endif %description When first installing an OpenStack cloud there are a number of common up-front configuration tasks that need to be performed. To alleviate the need for different sets of tooling to reinvent solutions to these problems, this package provides a set of tools. These tools are intended to be well-tested, and available as importable Python modules as well as command-line tools. %if %{with docs} %package doc Summary: Documentation for OpenStack clouds configuration library BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} BuildRequires: {{ py2pkg('reno') }} %description doc Documentation for the os-cloud-config library. %endif %prep %autosetup -n %{sname}-%{version} %py_req_cleanup %build %{py2_build} %if %{with docs} # generate html docs %{__python2} setup.py build_sphinx # remove the sphinx-build leftovers rm -rf html/.{doctrees,buildinfo} %endif %install %{py2_install} %if %{with test} %check export PYTHONPATH=""%{python2_sitearch}:%{python2_sitelib}:%{buildroot}%{python2_sitelib}"" testr init && testr run %endif %files %license LICENSE %doc README.rst %{_bindir}/generate-keystone-pki %{_bindir}/init-keystone %{_bindir}/init-keystone-heat-domain %{_bindir}/register-nodes %{_bindir}/setup-endpoints %{_bindir}/setup-flavors %{_bindir}/setup-neutron %{_bindir}/upload-kernel-ramdisk %{python2_sitelib}/os_cloud_config %{python2_sitelib}/*.egg-info %if %{with docs} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",0,96
openstack%2Fcharm-tempest~master~Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d,openstack/charm-tempest,master,Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d,Add Zesty metadata,MERGED,2017-03-07 19:35:23.000000000,2017-04-04 20:14:30.000000000,2017-04-04 20:14:30.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20812}]","[{'number': 1, 'created': '2017-03-07 19:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/f318ab9a08a9b42baa9b7f694f663c65910e916d', 'message': 'Enable Ocata and Zesty Amulet Tests\n\n- Add Zesty as a supported series.\n- Turn on Xenial-Ocata Amulet test definitions.\n- Turn on Zesty-Ocata Amulet test definitions.\n- Sync charm helpers to get Juju 2.x amulet compatibility.\n\nChange-Id: Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d\n'}, {'number': 2, 'created': '2017-03-09 22:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/d65d080fcafdf12ac1b01bc0d62c5eb44686eca1', 'message': 'Enable Ocata and Zesty Amulet Tests\n\n- Add Zesty as a supported series.\n- Turn on Xenial-Ocata Amulet test definitions.\n- Turn on Zesty-Ocata Amulet test definitions.\n- Sync charm helpers to get Juju 2.x amulet compatibility.\n\nChange-Id: Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d\n'}, {'number': 3, 'created': '2017-04-04 18:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/5420721fd9289725a94ee0ea7a9ccb595d2ad13c', 'message': 'Enable Ocata and Zesty Amulet Tests\n\n- Add Zesty as a supported series.\n- Turn on Xenial-Ocata Amulet test definitions.\n- Turn on Zesty-Ocata Amulet test definitions.\n- Sync charm helpers to get Juju 2.x amulet compatibility.\n\nChange-Id: Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d\n'}, {'number': 4, 'created': '2017-04-04 18:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/a682d56efc41080d515b8cb6c505f2350dc17543', 'message': 'Add Zesty metadata\nChange-Id: Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d\n'}, {'number': 5, 'created': '2017-04-04 19:24:17.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/0459569160075b286a883b46da5b9aef4559bce3', 'message': 'Add Zesty metadata\n\nChange-Id: Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d\n'}]",0,442751,0459569160075b286a883b46da5b9aef4559bce3,21,4,5,20805,,,0,"Add Zesty metadata

Change-Id: Ia1b9173bee576f1a64aea35db2e6c0b06a22a45d
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/51/442751/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/metadata.yaml', 'src/tests/gate-basic-zesty-ocata', 'src/tests/gate-basic-xenial-ocata']",3,f318ab9a08a9b42baa9b7f694f663c65910e916d,enable-ocata,,,1,0
openstack%2Fdiskimage-builder~master~I7499eb5b56417b7469326507e02b6b3c25330614,openstack/diskimage-builder,master,I7499eb5b56417b7469326507e02b6b3c25330614,Use mailx in yum-minimal,ABANDONED,2017-04-04 10:54:42.000000000,2017-04-04 20:01:46.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-04-04 10:54:42.000000000', 'files': ['diskimage_builder/elements/yum-minimal/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ba216e2342eb678139c27e5857999091fc71d1b7', 'message': 'Use mailx in yum-minimal\n\nredhat-lsb-core requires a MTA (because LSB does) and by default it\nbrings in postfix (actually, the redhat-lsb-core .spec requires\n/bin/mailx and /usr/sbin/sendmail.  Not 100% sure why postfix gets\npicked).  Manually specify the simpler mailx to satisfy this\ndependency.\n\nChange-Id: I7499eb5b56417b7469326507e02b6b3c25330614\n'}]",0,453115,ba216e2342eb678139c27e5857999091fc71d1b7,5,2,1,7118,,,0,"Use mailx in yum-minimal

redhat-lsb-core requires a MTA (because LSB does) and by default it
brings in postfix (actually, the redhat-lsb-core .spec requires
/bin/mailx and /usr/sbin/sendmail.  Not 100% sure why postfix gets
picked).  Manually specify the simpler mailx to satisfy this
dependency.

Change-Id: I7499eb5b56417b7469326507e02b6b3c25330614
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/15/453115/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/package-installs.yaml'],1,ba216e2342eb678139c27e5857999091fc71d1b7,mailx-yum,mailx:,,1,0
openstack%2Finstack-undercloud~master~I920c73a1eb9b83644d7dd7dc4768ef1bd9949cdd,openstack/instack-undercloud,master,I920c73a1eb9b83644d7dd7dc4768ef1bd9949cdd,Remove instack-virt-setup,MERGED,2017-03-30 17:25:51.000000000,2017-04-04 19:59:31.000000000,2017-04-04 19:59:31.000000000,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-30 17:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/45d4d5a549768ad5f53dbea987fbc71c9c2ea0ac', 'message': 'Remove instack-virt-setup\n\nWe deprecated this script in ocata and can now remove it. The depends on\npatch updates tripleo-docs to point to tripleo-quickstart directly for\ncreating virtual environments.\n\nChange-Id: I920c73a1eb9b83644d7dd7dc4768ef1bd9949cdd\nDepends-On: Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd\n'}, {'number': 2, 'created': '2017-03-30 18:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2e4584fc0909942d65fa0f0559cc948b8edc977c', 'message': 'Remove instack-virt-setup\n\nWe deprecated this script in ocata and can now remove it. The depends on\npatch updates tripleo-docs to point to tripleo-quickstart directly for\ncreating virtual environments.\n\nChange-Id: I920c73a1eb9b83644d7dd7dc4768ef1bd9949cdd\nDepends-On: Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd\n'}, {'number': 3, 'created': '2017-04-03 20:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0176f2d913b4991bd3754abd6ec8daa19d14837b', 'message': 'Remove instack-virt-setup\n\nWe deprecated this script in ocata and can now remove it. The depends on\npatch updates tripleo-docs to point to tripleo-quickstart directly for\ncreating virtual environments.\n\nChange-Id: I920c73a1eb9b83644d7dd7dc4768ef1bd9949cdd\nDepends-On: Ie1e1cedbc82503ddc88df48ad7d8e497f2af79cd\n'}, {'number': 4, 'created': '2017-04-04 11:56:58.000000000', 'files': ['scripts/instack-virt-setup', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/13d18699aa2a8e1af37527fc2786f767ed802af3', 'message': 'Remove instack-virt-setup\n\nWe deprecated this script in ocata and can now remove it. The depends on\npatch updates tripleo-docs to point to tripleo-quickstart directly for\ncreating virtual environments.\n\nChange-Id: I920c73a1eb9b83644d7dd7dc4768ef1bd9949cdd\n'}]",0,451914,13d18699aa2a8e1af37527fc2786f767ed802af3,26,4,4,7144,,,0,"Remove instack-virt-setup

We deprecated this script in ocata and can now remove it. The depends on
patch updates tripleo-docs to point to tripleo-quickstart directly for
creating virtual environments.

Change-Id: I920c73a1eb9b83644d7dd7dc4768ef1bd9949cdd
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/14/451914/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/instack-virt-setup'],1,45d4d5a549768ad5f53dbea987fbc71c9c2ea0ac,451914,,"#!/bin/bash echo echo ""#######################################################################"" echo ""WARNING: instack-virt-setup is DEPRECATED in Ocata and will be removed "" echo ""in a future release"" echo ""#######################################################################"" echo if [ $EUID -eq 0 ]; then echo ""This script cannot be run as root."" exit 1 fi set -ex export UNDERCLOUD_VM_NAME=${UNDERCLOUD_VM_NAME:-""instack""} mkdir -p ~/.instack LOGFILE=~/.instack/virt-setup-${UNDERCLOUD_VM_NAME}.log exec > >(tee $LOGFILE) exec 2>&1 export LIBVIRT_DEFAULT_URI=""qemu:///system"" if [ ! -d ""/usr/share/instack-undercloud"" ]; then DEVTEST_VARIABLES=/usr/libexec/openstack-tripleo/devtest_variables.sh export ANSWERSFILE=$(dirname $0)/../undercloud.conf.sample export ELEMENTS_PATH=""$(realpath $(dirname $0)/../elements):/usr/share/tripleo-image-elements:/usr/share/diskimage-builder/elements"" else DEVTEST_VARIABLES=/usr/libexec/openstack-tripleo/devtest_variables.sh export ANSWERSFILE=/usr/share/instack-undercloud/undercloud.conf.sample export ELEMENTS_PATH=""/usr/share/instack-undercloud:/usr/share/tripleo-image-elements:/usr/share/diskimage-builder/elements"" fi if $(grep -Eqs 'Red Hat Enterprise Linux' /etc/redhat-release); then export NODE_DIST=${NODE_DIST:-rhel7} export REG_METHOD=${REG_METHOD:-disable} export REG_HALT_UNREGISTER=${REG_HALT_UNREGISTER:-1} elif $(grep -Eqs 'CentOS' /etc/redhat-release); then export NODE_DIST=${NODE_DIST:-centos7} elif $(grep -Eqs 'Fedora' /etc/redhat-release); then export NODE_DIST=${NODE_DIST:-fedora} else echo ""Could not detect distribution from /etc/redhat-release!"" exit 1 fi source $DEVTEST_VARIABLES tripleo install-dependencies # libvirtd group LIBVIRTD_GROUP='libvirtd' getent group $LIBVIRTD_GROUP || sudo groupadd $LIBVIRTD_GROUP if ! grep LIBVIRT_DEFAULT_URI ~/.bashrc; then echo 'export LIBVIRT_DEFAULT_URI=""qemu:///system""' >> ~/.bashrc; fi if ! id | grep -qw $LIBVIRTD_GROUP; then echo ""adding $USER to group $LIBVIRTD_GROUP"" sudo usermod -a -G $LIBVIRTD_GROUP $USER fi if [ ""$TRIPLEO_OS_FAMILY"" = ""redhat"" ]; then libvirtd_file=/etc/libvirt/libvirtd.conf if ! sudo grep -q ""^unix_sock_group"" $libvirtd_file; then sudo sed -i ""s/^#unix_sock_group.*/unix_sock_group = \""$LIBVIRTD_GROUP\""/g"" $libvirtd_file sudo sed -i 's/^#auth_unix_rw.*/auth_unix_rw = ""none""/g' $libvirtd_file sudo sed -i 's/^#unix_sock_rw_perms.*/unix_sock_rw_perms = ""0770""/g' $libvirtd_file sudo service libvirtd restart fi fi export UNDERCLOUD_BRIDGE=${UNDERCLOUD_BRIDGE:-""brbm""} # Set REG_MACHINE_NAME to match UNDERCLOUD_VM_NAME if it isn't already defined. # This will be the name used to register the system to satllite/portal. If # registration is not in use, this doesn't hurt anything. export REG_MACHINE_NAME=${REG_MACHINE_NAME:-""$UNDERCLOUD_VM_NAME""} if sudo virsh list --all --name | grep -q ""^$UNDERCLOUD_VM_NAME$""; then set +x echo ""*** Error ***"" echo ""Found existing libvirt domain '$UNDERCLOUD_VM_NAME'."" echo ""This script will not work if the domain already exists."" echo ""Undefine the domain and re-run instack-virt-setup."" exit 1 fi # We use $NODE_COUNT here instead of the $NODE_CNT from devtest_variables.sh so # that it can still be overrideable *after* sourcing devtest_variables.sh export NODE_COUNT=${NODE_COUNT:-2} export NODE_CNT=$NODE_COUNT export NODE_ARCH=x86_64 export NODE_MEM=${NODE_MEM:-6144} export NODE_CPU=${NODE_CPU:-1} # Check if virbr0 is already defined, and if it is, check if the libvirt # default net is inactive. If it is inactive, we need to delete the existing # virbr0. # This is a case that shouldn't be encountered, but several people have run # into it, so we have this workaround. if ip link show | grep ' virbr0:'; then default_net=$(sudo virsh net-list --all --persistent | grep default | awk 'BEGIN{OFS="":"";} {print $2,$3}') state=${default_net%%:*} autostart=${default_net##*:} if [ ""$state"" = ""inactive"" ]; then # We're in a bad state, somehow virbr0 exists but the default net is # not active. # Delete virbr0 sudo ip link set dev virbr0 down sudo brctl delbr virbr0 fi fi export TE_DATAFILE=instackenv.json eval ""sudo -H -E tripleo devtest_testenv.sh ${TESTENV_ARGS} $TE_DATAFILE"" sudo mv /root/.ssh/id_rsa_virt_power $HOME/.ssh/ sudo mv /root/.ssh/id_rsa_virt_power.pub $HOME/.ssh/ sudo chown -R $USER: ~/.ssh sudo virsh undefine --remove-all-storage seed if [ -n ""${ATTACH_EXTRA_DISKS:-}"" ]; then # Save number of overcloud VMs to make the following for loop flexible VM_LAST_NUMBER=$((NODE_COUNT-1)) # Attach disks for os-disk-config testing for i in $(seq 0 $VM_LAST_NUMBER); do qcow_file=/var/lib/libvirt/images/baremetal_extra_${i}.qcow2 sudo rm -f $qcow_file sudo qemu-img create $qcow_file 10G sudo virsh attach-disk baremetal_$i $qcow_file vda --type disk --persistent done fi export UNDERCLOUD_NODE_ARCH=x86_64 export UNDERCLOUD_NODE_MEM=${UNDERCLOUD_NODE_MEM:-8192} export UNDERCLOUD_NODE_CPU=${UNDERCLOUD_NODE_CPU:-4} export UNDERCLOUD_NODE_DISK=${UNDERCLOUD_NODE_DISK:-30} export UNDERCLOUD_INSTALL=${UNDERCLOUD_INSTALL:-1} if [ ""$UNDERCLOUD_INSTALL"" = ""1"" ]; then cp $ANSWERSFILE /tmp/instack.answers disk-image-create \ --image-size $UNDERCLOUD_NODE_DISK \ -a amd64 \ $NODE_DIST instack-vm \ -o $UNDERCLOUD_VM_NAME sudo cp $UNDERCLOUD_VM_NAME.qcow2 /var/lib/libvirt/images/$UNDERCLOUD_VM_NAME.qcow2 else sudo qemu-img create -f qcow2 /var/lib/libvirt/images/$UNDERCLOUD_VM_NAME.qcow2 ${UNDERCLOUD_NODE_DISK}G fi UNDERCLOUD_NODE_EXTRAOPTS= if [[ ${DIB_COMMON_ELEMENTS:-} == *enable-serial-console* ]]; then UNDERCLOUD_NODE_EXTRAOPTS=""--enable-serial-console"" fi sudo tripleo configure-vm $UNDERCLOUD_NODE_EXTRAOPTS \ --name $UNDERCLOUD_VM_NAME \ --image /var/lib/libvirt/images/$UNDERCLOUD_VM_NAME.qcow2 \ --baremetal-interface $UNDERCLOUD_BRIDGE \ --seed \ --libvirt-nic-driver virtio \ --arch $UNDERCLOUD_NODE_ARCH \ --memory $((1024 * $UNDERCLOUD_NODE_MEM)) \ --cpus $UNDERCLOUD_NODE_CPU sudo virsh start $UNDERCLOUD_VM_NAME timeout_seconds=180 elapsed_seconds=0 while true; do IP=$(ip n | grep $(tripleo get-vm-mac "" $UNDERCLOUD_VM_NAME "") | awk '{print $1;}') if [ -n ""$IP"" ]; then set +x echo ""$UNDERCLOUD_VM_NAME vm IP address is $IP"" echo ""You can connect by running:"" echo ""ssh root@$IP"" echo ""And then su to the stack user:"" echo ""su - stack"" break fi sleep 3 elapsed_seconds=$((elapsed_seconds + 3)) if [ $elapsed_seconds -ge $timeout_seconds ]; then set +x echo ""$UNDERCLOUD_VM_NAME never got an IP address from the libvirt default network."" fi done ",0,198
openstack%2Foctavia~stable%2Fnewton~I4b015858600a573091ab51fc9132577abfebbd0a,openstack/octavia,stable/newton,I4b015858600a573091ab51fc9132577abfebbd0a,Look for all qemu-img/kvm package names in rhel-based distros,MERGED,2017-03-24 01:23:08.000000000,2017-04-04 19:57:46.000000000,2017-04-04 18:54:04.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 16923}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-03-24 01:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/799199991614df02af5666649c34bea633e3fc9f', 'message': 'Look for all qemu-img/kvm package names in rhel-based distros\n\n""yum install qemu-img"" will get the correct package in all cases, but\nit can be called qemu-img, qemu-img-ev, qemu-img-rhev, ...\nSo use a wildcard in package search to allow for all variants\n\nAlso use ""yum info"" instead of ""yum list"", it is faster and skips online\nupdates\n\nCherry-pick from review.openstack.org/#/c/446610/\nChange-Id: I4b015858600a573091ab51fc9132577abfebbd0a\n'}, {'number': 2, 'created': '2017-03-24 01:28:46.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a73ba7afe5ed388431fbd4d9fd4c56406060bff1', 'message': 'Look for all qemu-img/kvm package names in rhel-based distros\n\n""yum install qemu-img"" will get the correct package in all cases, but\nit can be called qemu-img, qemu-img-ev, qemu-img-rhev, ...\nSo use a wildcard in package search to allow for all variants\n\nAlso use ""yum info"" instead of ""yum list"", it is faster and skips online\nupdates\n\nChange-Id: I4b015858600a573091ab51fc9132577abfebbd0a\n(cherry picked from commit dc98000fb7871aac0cf0872b7900bf0bf3c7c2a6)\n'}]",0,449382,a73ba7afe5ed388431fbd4d9fd4c56406060bff1,15,6,2,20244,,,0,"Look for all qemu-img/kvm package names in rhel-based distros

""yum install qemu-img"" will get the correct package in all cases, but
it can be called qemu-img, qemu-img-ev, qemu-img-rhev, ...
So use a wildcard in package search to allow for all variants

Also use ""yum info"" instead of ""yum list"", it is faster and skips online
updates

Change-Id: I4b015858600a573091ab51fc9132577abfebbd0a
(cherry picked from commit dc98000fb7871aac0cf0872b7900bf0bf3c7c2a6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/449382/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,799199991614df02af5666649c34bea633e3fc9f,," if ! yum info installed $pkg &> /dev/null; then PKG_LIST=""qemu-kvm qemu-img"" # Actual name may be qemu-img, qemu-img-ev, qemu-img-rhev, ... # ""yum install qemu-img"" works for all, but search requires wildcard if ! yum info installed ${pkg}* &> /dev/null; then echo ""Required package "" $pkg "" is not installed. Exiting."" exit 1 fi done PKG_LIST=""kpartx git"" for pkg in $PKG_LIST; do if ! yum info installed $pkg &> /dev/null; then if ! yum info installed $pkg &> /dev/null; then"," if ! yum list installed $pkg &> /dev/null; then PKG_LIST=""qemu-kvm qemu-img kpartx git"" if ! yum list installed $pkg &> /dev/null; then if ! yum list installed $pkg &> /dev/null; then",13,4
openstack%2Fopenstack-ansible~master~I3c64bee05f1434c3661647abee26062d812a2650,openstack/openstack-ansible,master,I3c64bee05f1434c3661647abee26062d812a2650,Produce ARA junit XML report,ABANDONED,2017-03-07 18:25:26.000000000,2017-04-04 19:56:26.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-03-07 18:25:26.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/62c710562f52540c4cdaf0cdff759b1349aa8ef1', 'message': 'Produce ARA junit XML report\n\nThe junit XML report can be interpreted by Jenkins\nand other tools for visualisation and analysis in\na more machine-orientated way.\n\nChange-Id: I3c64bee05f1434c3661647abee26062d812a2650\n'}]",0,442665,62c710562f52540c4cdaf0cdff759b1349aa8ef1,4,2,1,6816,,,0,"Produce ARA junit XML report

The junit XML report can be interpreted by Jenkins
and other tools for visualisation and analysis in
a more machine-orientated way.

Change-Id: I3c64bee05f1434c3661647abee26062d812a2650
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/442665/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,62c710562f52540c4cdaf0cdff759b1349aa8ef1,upgrade-fix," # Generate the ARA HTML report # Generate the ARA junit report /opt/ansible-runtime/bin/ara generate junit ""${GATE_LOG_DIR}/testrepository.junit.xml"" || true", # Generate the ARA report,3,1
openstack%2Fpuppet-tripleo~master~Iadff36bf7beb247d0408913c89f83fa5c8ac6874,openstack/puppet-tripleo,master,Iadff36bf7beb247d0408913c89f83fa5c8ac6874,Remove cluster_enabled setting for etcd,MERGED,2017-03-16 14:25:26.000000000,2017-04-04 19:44:34.000000000,2017-04-04 19:02:23.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-16 14:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/395ce3024260ebc089ae0a4e04ad7fcf9bf48345', 'message': 'Remove cluster_enabled setting\n\nSetting cluster_enabled to false causes ETCD_INITIAL_ADVERTISE_PEER_URLS\nto be unset, which will cause deployment failure when etcd is deployed\nin a single node mode.\n\nCloses-Bug: #1673188\n\nChange-Id: Iadff36bf7beb247d0408913c89f83fa5c8ac6874\nSigned-off-by: Feng Pan <fpan@redhat.com>\n'}, {'number': 2, 'created': '2017-03-16 14:26:15.000000000', 'files': ['manifests/profile/base/etcd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6284719dac025be2f9fcc6b3373e342f8866495f', 'message': 'Remove cluster_enabled setting for etcd\n\nSetting cluster_enabled to false causes ETCD_INITIAL_ADVERTISE_PEER_URLS\nto be unset, which will cause deployment failure when etcd is deployed\nin a single node mode.\n\nCloses-Bug: #1673188\n\nChange-Id: Iadff36bf7beb247d0408913c89f83fa5c8ac6874\nSigned-off-by: Feng Pan <fpan@redhat.com>\n'}]",0,446564,6284719dac025be2f9fcc6b3373e342f8866495f,59,3,2,20971,,,0,"Remove cluster_enabled setting for etcd

Setting cluster_enabled to false causes ETCD_INITIAL_ADVERTISE_PEER_URLS
to be unset, which will cause deployment failure when etcd is deployed
in a single node mode.

Closes-Bug: #1673188

Change-Id: Iadff36bf7beb247d0408913c89f83fa5c8ac6874
Signed-off-by: Feng Pan <fpan@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/64/446564/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/etcd.pp'],1,395ce3024260ebc089ae0a4e04ad7fcf9bf48345,bug/1673188,," if count($nodes) > 1 { $cluster_enabled = true } else { $cluster_enabled = false } cluster_enabled => $cluster_enabled,",0,7
openstack%2Fopenstack-ansible~master~Id00134dce81d75f75c7dc0392098d4e520279685,openstack/openstack-ansible,master,Id00134dce81d75f75c7dc0392098d4e520279685,[ops-guide] Add network maintenace content,MERGED,2017-04-03 17:01:17.000000000,2017-04-04 19:34:57.000000000,2017-04-04 19:34:57.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 10607}, {'_account_id': 12402}, {'_account_id': 14552}]","[{'number': 1, 'created': '2017-04-03 17:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c7c70ff0c0eb7516e2194613ced3980a95d6ec6a', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 2, 'created': '2017-04-03 17:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fef8481215f354b3c238672f5d1875436377983a', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 3, 'created': '2017-04-03 17:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34dc6dcc9ca8a007fc238a4227f0161f70b0c922', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 4, 'created': '2017-04-03 18:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a4187d3c9a7a94998ea2b4d5ca9d5eda83fbf80', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 5, 'created': '2017-04-04 10:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd35421d398b2bd698b4d9024b52366a80a25128', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 6, 'created': '2017-04-04 10:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a07d708dfa6167da8546e0dfaa46d8c9646374df', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 7, 'created': '2017-04-04 10:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f76861924c5394420053eb88afb82f41646958a4', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 8, 'created': '2017-04-04 15:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/beb5610e56db1a0d0049280b489d60d6dcf7b3f7', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}, {'number': 9, 'created': '2017-04-04 15:12:37.000000000', 'files': ['doc/source/draft-operations-guide/maintenance-tasks/network-maintain.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a3a1535ff8acc05faa9b02c77bb5f403c4f90ecc', 'message': '[ops-guide] Add network maintenace content\n\nImplements: blueprint create-ops-guide\n\nChange-Id: Id00134dce81d75f75c7dc0392098d4e520279685\n'}]",3,452847,a3a1535ff8acc05faa9b02c77bb5f403c4f90ecc,25,6,9,14552,,,0,"[ops-guide] Add network maintenace content

Implements: blueprint create-ops-guide

Change-Id: Id00134dce81d75f75c7dc0392098d4e520279685
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/47/452847/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/draft-operations-guide/maintenance-tasks/network-maintain.rst'],1,c7c70ff0c0eb7516e2194613ced3980a95d6ec6a,bp/create-ops-guide-patch7,"Operational considerations, like compliance, can make it necessary to manage networks, like adding new provider networks to the OpenStack-Ansible managed cloud. Followed are the most common administrative tasks outlined to complete those tasks. Add provider bridges using new network interfaces ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Every provider network to be added to your cloud has to be made known to the OpenStack-Ansible configuration and the operating system before you can execute the necessary playbooks to complete the configuration. OpenStack-Ansible configuration ------------------------------- All provider networks need to be added to the OpenStack-Ansible configuration. Edit the file ``/etc/openstack_deploy/openstack_user_config.yml`` and add a new block underneath the ``provider_networks`` section: .. code-block: yaml - network: container_bridge: ""br-examplenetwork"" container_type: ""veth"" container_interface: ""eth12"" type: ""vlan"" range: ""2:4094"" net_name: ""physnet2"" group_binds: - neutron_linuxbridge_agent The ``container_bridge`` setting defines the physical network interface used to bridge the container into. Inside the container, the ``container_interface`` setting defines the name at which the physical network will be made available. Please make sure that both settings are uniquely defined across ther provider networks and that the network interface is correctly configured inside your operating system. ``group_binds`` define where this network need to attached to, to either containers or physical hosts and is ultimately dependent on the network stack in use (Linuxbridge vs OVS for example). The configuration ``range`` defines Neutron physical segmentation IDs which are automatically used by end users when creating networks via mainly Horizon and the Neutron API. Similar is true for the ``net_name`` configuration which defines the addressable name inside the Neutron configuration. This configuration also need to be unique across other provider networks. More information is located at `https://docs.openstack.org/project-deploy-guide/openstack-ansible/draft/configure.html` OpenStack-Ansible playbooks --------------------------- After the initial configuration the container network configuration need to be updated with the following playbook and the container will be restarted towards the end of the playbook run. It is advisable to either limit or reduce the number of forks to make sure that enough services are availble. For example: .. code-block:: console # openstack-ansible lxc-containers-create.yml --limit infra01:infra01-host_containers Lastly the Neutron configuration will be updated, running specifically the neutron-config tag, in order to only alter the configration and restart the Neutron agent services: .. code-block:: console # openstack-ansible os-neutron-install.yml --tags neutron-config Remove provider bridges from OpenStack ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Similar to adding a provider network, the removal process uses the same procedure but in a reversed order where Neutron ports needs to be removed prior to the removal of the network. 1. Unassign all Neutron floating IPs Export the Neutron network, about to be removed, as single UUID. .. code-block:: console export NETWORK_UUID=<uuid> for p in $( neutron port-list -c id --device_owner compute:nova --network_id=${NETWORK_UUID}| awk '/([A-Fa-f0-9]+-){3}/ {print $2}' ); do floatid=$( neutron floatingip-list -c id --port_id=$p | awk '/([A-Fa-z0-9]+-){3}/ { print $2 }' ) if [ -n ""$floatid"" ]; then echo ""Disassociating floating IP $floatid from port $p"" neutron floatingip-disassociate $floatid fi done 2. Remove all Neutron ports from the instances .. code-block:: console export NETWORK_UUID=<uuid> for p in $( neutron port-list -c id -c device_id --device_owner compute:nova --network_id=${NETWORK_UUID}| awk '/([A-Fa-f0-9]+-){3}/ {print $2}' ); do echo ""Removing Neutron compute port $p"" neutron port-delete $p done 3. Remove Neutron router ports and DHCP agents .. code-block:: console export NETWORK_UUID=<uuid> for line in $( neutron port-list -c id -c device_id --device_owner network:router_interface --network_id=${NETWORK_UUID}| awk '/([A-Fa-f0-9]+-){3}/ {print $2 ""+"" $4}' ); do p=$( echo ""$line""| cut -d'+' -f1 ); r=$( echo ""$line""| cut -d'+' -f2 ) echo ""Removing Neutron router port $p from $r"" neutron router-interface-delete $r port=$p done for agent in $( neutron agent-list -c id --agent_type='DHCP Agent' --network_id=${NETWORK_UUID}| awk '/([A-Fa-f0-9]+-){3}/ {print $2}' ); do echo ""Remove network $NETWORK_UUID from Neutron DHCP Agent $agent"" neutron dhcp-agent-network-remove ""${agent}"" $NETWORK_UUID done 4. Remove Neutron network .. code-block:: console export NETWORK_UUID=<uuid> neutron net-delete $NETWORK_UUID 5. Remove the network block from the provider_networks configuration of the OpenStack-Ansible configuration ``/etc/openstack_deploy/openstack_user_config.yml`` and reun the following playbooks: .. code-block:: console # openstack-ansible lxc-containers-create.yml --limit infra01:infra01-host_containers # openstack-ansible os-neutron-install.yml --tags neutron-config Under some cirumstances, configuration or temporary issues, one specific or all Neutron agents container need to be restarted. This can be accomplished with multiple commands: Reboot from inside the container -------------------------------- This example will issue a reboot to the container named with ``neutron_agents_container_hostname_name`` from inside .. code-block:: console # ansible -m shell neutron_agents_container_hostname_name -a 'reboot' Staggered reboot of all containers ---------------------------------- .. code-block:: console # ansible -m shell neutron_agents_container -a 'sleep 60; reboot' --forks 1 Or in case the container does not respond, it can be restared from the network host: .. code-block:: console # ansible -m shell network_hosts -a 'for c in $(lxc-ls -1 |grep neutron_agents_container); do lxc-stop -n $c && lxc-start -d -n $c; done' --forks 1 ",This is a draft networking maintenance page for the proposed OpenStack-Ansible operations guide. Add network interfaces to LXC containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Remove network interfaces from LXC containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Add provider bridges using new NICs ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Remove provider bridges ~~~~~~~~~~~~~~~~~~~~~~~Reference to networking guide/ops guide content ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,165,12
openstack%2Fneutron~master~Ie48aa843ca8c852b1e93e760d2e3e8aaa38aed56,openstack/neutron,master,Ie48aa843ca8c852b1e93e760d2e3e8aaa38aed56,Use oslo.context class method to construct context object,MERGED,2017-03-22 12:12:46.000000000,2017-04-04 19:33:28.000000000,2017-04-04 19:33:28.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 20330}, {'_account_id': 22220}]","[{'number': 1, 'created': '2017-03-22 12:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95794d3932e2148ae433d46922e56997eb55122d', 'message': 'Use oslo.context class method to construct context object\n\noslo_context.Context.from_environ provides a more generic way\nto contruct a context object from request environment.\nWe can support more new attributes supported in keystonemiddleware\nwithout changing our code.\n\nCloses-Bug: #1674349\nCloses-Bug: #1621073\n\nDepends-On: Ieec57d9ea8d95e55499a17e2c04da5e3e78a1557\nChange-Id: Ie48aa843ca8c852b1e93e760d2e3e8aaa38aed56\n'}, {'number': 2, 'created': '2017-03-22 12:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01dee68768aaf73e773690cf4942244596d7d6cb', 'message': 'Use oslo.context class method to construct context object\n\noslo_context.Context.from_environ provides a more generic way\nto contruct a context object from request environment.\nWe can support more new attributes supported in keystonemiddleware\nwithout changing our code.\n\nPartial-Bug: #1674349\nCloses-Bug: #1621073\n\nDepends-On: Ieec57d9ea8d95e55499a17e2c04da5e3e78a1557\nChange-Id: Ie48aa843ca8c852b1e93e760d2e3e8aaa38aed56\n'}, {'number': 3, 'created': '2017-03-22 16:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa20d4bc66e2ca69da11226bc27f00994537d43f', 'message': 'Use oslo.context class method to construct context object\n\noslo_context.Context.from_environ provides a more generic way\nto contruct a context object from request environment.\nWe can support more new attributes supported in keystonemiddleware\nwithout changing our code.\n\nPartial-Bug: #1674349\nCloses-Bug: #1621073\n\ncontext.tenant_name is actually used nowhere, so the unit test\nnow checks context.project_name instead (to avoid dependency\non neutron-lib review).\n\nNote that a neutron-lib patch https://review.openstack.org/#/c/448537/\nalso ensures context.project_name and context.tenant_name have\na same value.\n\nChange-Id: Ie48aa843ca8c852b1e93e760d2e3e8aaa38aed56\n'}, {'number': 4, 'created': '2017-03-23 09:08:29.000000000', 'files': ['neutron/auth.py', 'neutron/tests/unit/test_auth.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75c34838ef7132352a34b0c224c2536a5283b1d5', 'message': 'Use oslo.context class method to construct context object\n\noslo_context.Context.from_environ provides a more generic way\nto contruct a context object from request environment.\nWe can support more new attributes supported in keystonemiddleware\nwithout changing our code.\n\nPartial-Bug: #1674349\nCloses-Bug: #1621073\n\nIn the unit test, context.tenant_name is replaced to context.project_name\nas it will be the recommended way to access project name now.\nNote that equivalency of project_name and tenant_name will be ensured\nby a depending neutron-lib patch [1], so this change affects nobody.\n\n[1] https://review.openstack.org/#/c/448537/\n\nDepends-On: Ieec57d9ea8d95e55499a17e2c04da5e3e78a1557\nChange-Id: Ie48aa843ca8c852b1e93e760d2e3e8aaa38aed56\n'}]",14,448538,75c34838ef7132352a34b0c224c2536a5283b1d5,51,15,4,841,,,0,"Use oslo.context class method to construct context object

oslo_context.Context.from_environ provides a more generic way
to contruct a context object from request environment.
We can support more new attributes supported in keystonemiddleware
without changing our code.

Partial-Bug: #1674349
Closes-Bug: #1621073

In the unit test, context.tenant_name is replaced to context.project_name
as it will be the recommended way to access project name now.
Note that equivalency of project_name and tenant_name will be ensured
by a depending neutron-lib patch [1], so this change affects nobody.

[1] https://review.openstack.org/#/c/448537/

Depends-On: Ieec57d9ea8d95e55499a17e2c04da5e3e78a1557
Change-Id: Ie48aa843ca8c852b1e93e760d2e3e8aaa38aed56
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/448538/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/auth.py'],1,95794d3932e2148ae433d46922e56997eb55122d,bug/1674349, ctx = context.Context.from_environ(req.environ) if not ctx.user_id:,"from oslo_middleware import request_id # Determine the user ID user_id = req.headers.get('X_USER_ID') if not user_id: # Determine the tenant tenant_id = req.headers.get('X_PROJECT_ID') # Suck out the roles roles = [r.strip() for r in req.headers.get('X_ROLES', '').split(',')] # Human-friendly names tenant_name = req.headers.get('X_PROJECT_NAME') user_name = req.headers.get('X_USER_NAME') # Use request_id if already set req_id = req.environ.get(request_id.ENV_REQUEST_ID) # Get the auth token auth_token = req.headers.get('X_AUTH_TOKEN', req.headers.get('X_STORAGE_TOKEN')) # Create a context with the authentication data ctx = context.Context(user_id, tenant_id, roles=roles, user_name=user_name, tenant_name=tenant_name, request_id=req_id, auth_token=auth_token) ",3,26
openstack%2Fnova-specs~master~I3de9a33828315771634114920f0665f3499bb27c,openstack/nova-specs,master,I3de9a33828315771634114920f0665f3499bb27c,Request Standardized Capabilities In Nova,ABANDONED,2016-08-04 08:29:53.000000000,2017-04-04 19:30:21.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 11564}, {'_account_id': 12171}, {'_account_id': 15648}, {'_account_id': 17920}]","[{'number': 1, 'created': '2016-08-04 08:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/edb3d5b032efee6dde6d331dd824133725c968c4', 'message': 'Request Standardized Capabilities In Nova\n\nThis blueprint aims at leveraging os-capabilities and resource-provider-tags to\nstandardize the way to specify and request capabilities in Nova.\n\nBlueprint request-standardized-capabilities\n\nChange-Id: I3de9a33828315771634114920f0665f3499bb27c\n'}, {'number': 2, 'created': '2016-08-04 08:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/23020d7bcb86ec62c7ab5b31047e0dfba6aafd52', 'message': 'Request Standardized Capabilities In Nova\n\nThis blueprint aims at leveraging os-capabilities and resource-provider-tags to\nstandardize the way to specify and request capabilities in Nova.\n\nBlueprint request-standardized-capabilities\n\nChange-Id: I3de9a33828315771634114920f0665f3499bb27c\n'}, {'number': 3, 'created': '2016-08-10 04:32:44.000000000', 'files': ['specs/ocata/approved/request-standardized-capabilities.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bd51b48a0f03adfe7c49a64adcdf074f7977d62c', 'message': 'Request Standardized Capabilities In Nova\n\nThis blueprint aims at leveraging os-capabilities and resource-provider-tags to\nstandardize the way to specify and request capabilities in Nova.\n\nBlueprint request-standardized-capabilities\n\nChange-Id: I3de9a33828315771634114920f0665f3499bb27c\n'}]",41,351063,bd51b48a0f03adfe7c49a64adcdf074f7977d62c,26,8,3,15648,,,0,"Request Standardized Capabilities In Nova

This blueprint aims at leveraging os-capabilities and resource-provider-tags to
standardize the way to specify and request capabilities in Nova.

Blueprint request-standardized-capabilities

Change-Id: I3de9a33828315771634114920f0665f3499bb27c
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/63/351063/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/request-standardized-capabilities.rst'],1,edb3d5b032efee6dde6d331dd824133725c968c4,bp/request-standardized-capabilities,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Request Standardized Capabilities In Nova ========================================= https://blueprints.launchpad.net/nova/+spec/request-standardized-capabilities This blueprint aims at leveraging os-capabilities and resource-provider-tags to standardize the way to specify and request capabilities in Nova. Problem description =================== Cloud users currently have to deal with free-formed flavor extra_specs and image metadata in order to specify capabilities in a launch request. It is error-prone because a string can easily be misspelled and cannot be validated. We also lack a feature to specify preferences of capabilities in flavors and images. We need a coherent way to objectify capabilities and their functionalities in flavor, image and request_spec to do validations and preprocessing before sending them to a generic scheduler. Use Cases --------- For end users: * Allow them to specify ""required"" and ""preferred"" capabilities in flavors and image metadata. * Allow nova-api to validate capabilities for end users when create/modify a flavor. * Fail fast in nova-api when a requested capability doesn't exist or isn't valid in the cloud. For developers: * Standardize how to request capabilities through request spec. * Decouple nova-specific capabilities handling related to flavor extra_specs and image metadata out of scheduler. Proposed change =============== We propose a new nova object `Capabilities` to deal with capability specification and validation in flavors and image metadata, and the preprocessing logics to generate qualitative part of request for generic scheduler in request spec. The proposed change with the new object adds following features to Nova: ""Required"" and ""Preferred"" capabilities management in flavors ------------------------------------------------------------- Store capabilities with their preferences in the new `Capabilities` object. Add a new field to `Flavor` object to store capabilities in flavors. The relationship between flavors and capabilities are then persisted to the API database. A RESTful API is proposed that will allow administrative users to specify the ""Required"" and ""Preferred"" capabilities in flavor. ""Required"" and ""Preferred"" capabilities management in image metadata -------------------------------------------------------------------- Add a new field to `ImageMeta` object to store the parsed capabilities with their preferences from image metadata into the new `Capabilities` object. Capabilities validation in Nova ------------------------------- When create or modify a `Capabilities` object, it checks os-capabilities library and placement engine to do early validation to prevent misspelling and arbitrary strings. It enables capability validation during flavor creation and modification operations. And it also enables early capability validations in flavors and image metadata when a boot request is received by nova-api. The validation implies following checks: 1. Pass all the standardized capabilities by checking os-capabilities library. 2. Pass all the valid capabilities by querying placement engine. 3. Report error when a capability string doesn't represent a standardized nor a valid capability. Build up qualitative part of request in the request_spec object --------------------------------------------------------------- The major goal of this spec is to follow the concept of ""generic scheduler"" and approach the final separation from scheduler, at least in qualitative part. By implementing the `Capabilities` object, it is very easy to build up qualitative part of request, and break them out of flavor extra_specs and image metadata in the existing request_spec. A collection of valid capability strings with their preferences can be built from `Capabilities` objects in flavor and image metadata, and be set into a new field in the request_spec. Then the scheduler can make decisions based on capability specifications in request_spec, without worrying about flavors and images. Backward compatibility ---------------------- This spec is only about adding features. The existing flavor extra_specs and image metadata shall continue to be workable as before, until scheduler can process the qualitative capabilities through placement engine. Then we should consider to deprecate the duplicated implementations and fields related to flavor extra_specs, image metadata and request_spec. Alternatives ------------ We can choose to implement capability priorities instead of ""preferred"" and ""required"" preferences. For example: the ""required"" is equal to setting the highest priority for capabilities; the ""preferred"" is equal to setting the other positive priorities. Using priorities, we can also specify capabilities that we don't like or don't want, and improve the flexibility to choose the best host to place instances. Data model impact ----------------- For the API database schema, the following table should be created to persist capabilities specified in flavor:: CREATE TABLE flavor_capabilities ( flavor_id INT NOT NULL, capability_name VARCHAR(200) NOT NULL, is_required INT NOT NULL ); REST API impact --------------- TODO. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: cyx1231st <yingxin.cheng@intel.com> Other contributors: Alex Xu <hejie.xu@intel.com> Ed Leafe <ed@leafe.com> Work Items ---------- TODO. Dependencies ============ * `resource-provider-tags` blueprint implemented. * `os-capabilities` interface decided. Testing ======= Unit tests for the new `Capabilities` object shall be added. Functional tests for creating flavors, image metadata, and building up requests shall be added. Documentation Impact ==================== The new API microversion will have to be documented, as well as the user guides for specifying capabilities in flavor. References ========== None. ",,209,0
openstack%2Fkeystone~master~Ibaf4df9f270d2a816d4242153ed927667254a406,openstack/keystone,master,Ibaf4df9f270d2a816d4242153ed927667254a406,Move policy policies to DocumentedRuleDefault,MERGED,2017-03-23 17:46:09.000000000,2017-04-04 19:27:08.000000000,2017-04-04 19:27:08.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 8871}, {'_account_id': 11022}, {'_account_id': 17860}, {'_account_id': 18464}, {'_account_id': 22219}]","[{'number': 1, 'created': '2017-03-23 17:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/eb088e39a6e035a677b881b90dd3641c8e90ba5e', 'message': 'Move policy policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our policy, policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: Ibaf4df9f270d2a816d4242153ed927667254a406\nPartially-Implements: bp policy-docs\n'}, {'number': 2, 'created': '2017-03-28 16:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c5fd0a3e845b44c51946cf91e51b5ae459c89b58', 'message': 'Move policy policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our policy, policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: Ibaf4df9f270d2a816d4242153ed927667254a406\nPartially-Implements: bp policy-docs\n'}, {'number': 3, 'created': '2017-03-30 15:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ec9a1661ac370f18b7bd76a78dbb2feafa896d0c', 'message': 'Move policy policies to DocumentedRuleDefault\n\nA new policy class was introduce that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our policy, policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: Ibaf4df9f270d2a816d4242153ed927667254a406\nPartially-Implements: bp policy-docs\n'}, {'number': 4, 'created': '2017-03-30 17:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/351f3ce3c643886dff36077a25e93d2a92969787', 'message': 'Move policy policies to DocumentedRuleDefault\n\nA new policy class was introduced that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our policy, policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: Ibaf4df9f270d2a816d4242153ed927667254a406\nPartially-Implements: bp policy-docs\n'}, {'number': 5, 'created': '2017-04-04 15:05:15.000000000', 'files': ['keystone/common/policies/policy.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ba8b5b34fd20e2b308ed0bc5968cdcb7c42c9f3e', 'message': 'Move policy policies to DocumentedRuleDefault\n\nA new policy class was introduced that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our policy, policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: Ibaf4df9f270d2a816d4242153ed927667254a406\nPartially-Implements: bp policy-docs\n'}]",5,449248,ba8b5b34fd20e2b308ed0bc5968cdcb7c42c9f3e,27,7,5,22219,,,0,"Move policy policies to DocumentedRuleDefault

A new policy class was introduced that requires
additional parameters when defining policy objects.

This patch switches our policy, policy object to
the policy.DocumentedRuleDefault and fills the
required policy parameters as needed.

Change-Id: Ibaf4df9f270d2a816d4242153ed927667254a406
Partially-Implements: bp policy-docs
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/449248/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/policy.py'],1,eb088e39a6e035a677b881b90dd3641c8e90ba5e,bp/policy-docs," policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Show policy details', operations=[{'path': '/v3/policy/{policy_id}', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='List policies', operations=[{'path': '/v3/policies', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Create policy', operations=[{'path': '/v3/policies', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Update policy', operations=[{'path': '/v3/policies/{policy_id}', 'method': 'PATCH'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Delete policy', operations=[{'path': '/v3/policies/{policy_id}', 'method': 'DELETE'}])"," policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED)",25,10
openstack%2Frequirements~stable%2Fnewton~I3effb27201496c2cc20762a1d9ad525dafbe37ce,openstack/requirements,stable/newton,I3effb27201496c2cc20762a1d9ad525dafbe37ce,global-requirements: Avoid setuptools 34.3.1,MERGED,2017-03-09 10:50:02.000000000,2017-04-04 19:27:02.000000000,2017-04-04 19:27:02.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 8119}, {'_account_id': 9796}, {'_account_id': 12898}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 14689}]","[{'number': 1, 'created': '2017-03-09 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4d1a7d46e4a0cc875278677c5e2e69057640b3cc', 'message': 'global-requirements: Avoid setuptools 34.3.1\n\nThis is a follow-on to I9c57c08a150571c5bb62235d502839394d53a4c1.\n34.3.1 [1] was released on 3/3/2017 and still has the same problem.\nBump excludes up to this new release.\n\n[1] https://github.com/pypa/setuptools/releases/tag/v34.3.1\n\nChange-Id: I3effb27201496c2cc20762a1d9ad525dafbe37ce\n(cherry picked from commit 3476bdce401d0bdc57b49323c4f130533aa9a5b9)\n'}, {'number': 2, 'created': '2017-04-03 13:19:49.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3128f89fba2f853bb3051e379f9afbca48d4d742', 'message': 'global-requirements: Avoid setuptools 34.3.1\n\nThis is a follow-on to I9c57c08a150571c5bb62235d502839394d53a4c1.\n34.3.1 [1] was released on 3/3/2017 and still has the same problem.\nBump excludes up to this new release.\n\n[1] https://github.com/pypa/setuptools/releases/tag/v34.3.1\n\nChange-Id: I3effb27201496c2cc20762a1d9ad525dafbe37ce\n(cherry picked from commit 3476bdce401d0bdc57b49323c4f130533aa9a5b9)\n'}]",0,443560,3128f89fba2f853bb3051e379f9afbca48d4d742,18,9,2,9172,,,0,"global-requirements: Avoid setuptools 34.3.1

This is a follow-on to I9c57c08a150571c5bb62235d502839394d53a4c1.
34.3.1 [1] was released on 3/3/2017 and still has the same problem.
Bump excludes up to this new release.

[1] https://github.com/pypa/setuptools/releases/tag/v34.3.1

Change-Id: I3effb27201496c2cc20762a1d9ad525dafbe37ce
(cherry picked from commit 3476bdce401d0bdc57b49323c4f130533aa9a5b9)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/443560/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,4d1a7d46e4a0cc875278677c5e2e69057640b3cc,newton-v34.3.1,"# Blacklist setuptools 34.0.0-34.3.1 due to https://github.com/pypa/setuptools/issues/951 setuptools>=16.0,!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1 # PSF/ZPL","# Blacklist setuptools 34.0.0-34.3.0 due to https://github.com/pypa/setuptools/issues/951 setuptools>=16.0,!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0 # PSF/ZPL",2,2
openstack%2Floci~master~Ic30fab535c96941a459ac4b58613aa7d986d778c,openstack/loci,master,Ic30fab535c96941a459ac4b58613aa7d986d778c,Moving these from yaodu/common tag 0.1.2,MERGED,2017-04-04 19:26:05.000000000,2017-04-04 19:26:53.000000000,2017-04-04 19:26:53.000000000,"[{'_account_id': 3}, {'_account_id': 14119}]","[{'number': 1, 'created': '2017-04-04 19:26:05.000000000', 'files': ['scripts/cleanup.sh', 'scripts/download.sh', 'scripts/install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/8b4532da88ef201e9fffced50f093318f928495b', 'message': 'Moving these from yaodu/common tag 0.1.2\n\nChange-Id: Ic30fab535c96941a459ac4b58613aa7d986d778c\n'}]",0,453305,8b4532da88ef201e9fffced50f093318f928495b,6,2,1,14119,,,0,"Moving these from yaodu/common tag 0.1.2

Change-Id: Ic30fab535c96941a459ac4b58613aa7d986d778c
",git fetch https://review.opendev.org/openstack/loci refs/changes/05/453305/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/cleanup.sh', 'scripts/download.sh', 'scripts/install.sh']",3,8b4532da88ef201e9fffced50f093318f928495b,add_common_scripts,"#!/bin/bash -ex PROJECT=$1 GIT_REPO=$2 GIT_REF_REPO=$3 GIT_REF=$4 git clone ${GIT_REPO} /tmp/${PROJECT} if [[ -n ""$GIT_REF"" ]]; then git --git-dir /tmp/${PROJECT}/.git fetch ${GIT_REF_REPO} ${GIT_REF} git --git-dir /tmp/${PROJECT}/.git checkout FETCH_HEAD fi curl -sSL https://bootstrap.pypa.io/get-pip.py -o get-pip.py python get-pip.py rm get-pip.py pip install --no-cache-dir --no-index --no-compile --find-links /tmp/packages --constraint /tmp/packages/upper-constraints.txt \ /tmp/${PROJECT} \ pymysql \ python-memcached \ uwsgi groupadd -g 42424 ${PROJECT} useradd -u 42424 -g ${PROJECT} -M -d /var/lib/${PROJECT} -s /usr/sbin/nologin -c ""${PROJECT} user"" ${PROJECT} mkdir -p /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} chown ${PROJECT}:${PROJECT} /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} ",,65,0
openstack%2Fnova~master~I47e771c641d72a837345b1b9a07e86ca4313b518,openstack/nova,master,I47e771c641d72a837345b1b9a07e86ca4313b518,doc: Separate the releasenotes guide from the code-review section,MERGED,2017-03-30 15:38:22.000000000,2017-04-04 19:16:04.000000000,2017-04-03 22:53:20.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-30 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c94a45aefc11aa20cac0a28aa0da2fcd4662a402', 'message': 'doc: Separate the releasenotes guide from the code-review section\n\nThis was previously hidden within the code review guide making it almost\nimpossible to find from the initial index page.\n\nChange-Id: I47e771c641d72a837345b1b9a07e86ca4313b518\n'}, {'number': 2, 'created': '2017-04-03 16:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b050573409d835a360027679326af8eef5bf5936', 'message': 'doc: Separate the releasenotes guide from the code-review section\n\nThis was previously hidden within the code review guide making it almost\nimpossible to find from the initial index page.\n\nChange-Id: I47e771c641d72a837345b1b9a07e86ca4313b518\n'}, {'number': 3, 'created': '2017-04-03 22:03:01.000000000', 'files': ['doc/source/index.rst', 'doc/source/code-review.rst', 'doc/source/releasenotes.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c6a399f4535770d0a333bece590857a6ed1cdcd7', 'message': 'doc: Separate the releasenotes guide from the code-review section\n\nThis was previously hidden within the code review guide making it almost\nimpossible to find from the initial index page.\n\nChange-Id: I47e771c641d72a837345b1b9a07e86ca4313b518\n'}]",5,451870,c6a399f4535770d0a333bece590857a6ed1cdcd7,32,11,3,10135,,,0,"doc: Separate the releasenotes guide from the code-review section

This was previously hidden within the code review guide making it almost
impossible to find from the initial index page.

Change-Id: I47e771c641d72a837345b1b9a07e86ca4313b518
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/451870/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/code-review.rst', 'doc/source/releasenotes.rst']",3,c94a45aefc11aa20cac0a28aa0da2fcd4662a402,,".. _releasenotes: Release Notes ============= What is reno ? -------------- Nova uses `reno <http://docs.openstack.org/developer/reno/usage.html>`_ for providing release notes in-tree. That means that a patch can include a *reno file* or a series can have a follow-on change containing that file explaining what the impact is. A *reno file* is a YAML file written in the releasenotes/notes tree which is generated using the reno tool this way: .. code-block:: bash $ tox -e venv -- reno new <name-your-file> where usually ``<name-your-file>`` can be ``bp-<blueprint_name>`` for a blueprint or ``bug-XXXXXX`` for a bugfix. Refer to the `reno documentation <http://docs.openstack.org/developer/reno/usage.html#editing-a-release-note>`_ for the full list of sections. When a release note is needed ----------------------------- A release note is required anytime a reno section is needed. Below are some examples for each section. Any sections that would be blank should be left out of the note file entirely. If no section is needed, then you know you don't need to provide a release note :-) * ``upgrade`` * The patch has an `UpgradeImpact <http://docs.openstack.org/infra/manual/developers.html#peer-review>`_ tag * A DB change needs some deployer modification (like a migration) * A configuration option change (deprecation, removal or modified default) * some specific changes that have a `DocImpact <http://docs.openstack.org/infra/manual/developers.html#peer-review>`_ tag but require further action from an deployer perspective * any patch that requires an action from the deployer in general * ``security`` * If the patch fixes a known vulnerability * ``features`` * If the patch has an `APIImpact <http://docs.openstack.org/infra/manual/developers.html#peer-review>`_ tag * For nova-manage and python-novaclient changes, if it adds or changes a new command, including adding new options to existing commands * not all blueprints in general, just the ones impacting a `contractual API <http://docs.openstack.org/developer/nova/policies.html#public-contractual-apis>`_ * a new virt driver is provided or an existing driver impacts the `HypervisorSupportMatrix <http://docs.openstack.org/developer/nova/support-matrix.html>`_ * ``critical`` * Bugfixes categorized as Critical in Launchpad *impacting users* * ``fixes`` * No clear definition of such bugfixes. Hairy long-standing bugs with high importance that have been fixed are good candidates though. Three sections are left intentionally unexplained (``prelude``, ``issues`` and ``other``). Those are targeted to be filled in close to the release time for providing details about the soon-ish release. Don't use them unless you know exactly what you are doing. Notifications ============= * Every new notification type shall use the new versioned notification infrastructure documented in :doc:`notifications` ",,72,69
openstack%2Foctavia~stable%2Focata~I7937d0a21c7a748cd682511bd429de8cf0ffe498,openstack/octavia,stable/ocata,I7937d0a21c7a748cd682511bd429de8cf0ffe498,Look for diskimage-builder not dib-utils when building amps,MERGED,2017-03-17 11:26:12.000000000,2017-04-04 19:15:35.000000000,2017-04-04 19:10:50.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 14591}, {'_account_id': 16923}, {'_account_id': 19339}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-03-17 11:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c75a5100319b92bf7f65d7659f79fa81909fd325', 'message': 'Look for diskimage-builder not dib-utils when building amps\n\nAlso ignore E402 and W503 pep8 issues\n\nChange-Id: I7937d0a21c7a748cd682511bd429de8cf0ffe498\n(cherry picked from commit cf9a8c8f779a3542681a4b3ea3274681cec6f682)\n'}, {'number': 2, 'created': '2017-03-22 14:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/34aee71b42f625fd4eb83c4e33027d71613bf90d', 'message': 'Remove pip checks in diskimage-create.sh script\n\nThese were removed in master, are mentioned in documentation and\nrequirements.txt, and allow an easier script usage when run system-wide\n\nChange-Id: I7937d0a21c7a748cd682511bd429de8cf0ffe498\n(cherry picked from commit cf9a8c8f779a3542681a4b3ea3274681cec6f682)\n'}, {'number': 3, 'created': '2017-03-27 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa4bd639e86adb1516b1e2c0e33f7ef0374eb3a6', 'message': 'Look for diskimage-builder not dib-utils when building amps\n\nAlso ignore E402 and W503 pep8 issues\n\nChange-Id: I7937d0a21c7a748cd682511bd429de8cf0ffe498\n(cherry picked from commit cf9a8c8f779a3542681a4b3ea3274681cec6f682)\n'}, {'number': 4, 'created': '2017-03-29 21:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ac83a61b937d9a4e2b46ea84a6af6e6c8e900d1', 'message': 'Look for diskimage-builder not dib-utils when building amps\n\nAlso ignore E402 and W503 pep8 issues\n\nChange-Id: I7937d0a21c7a748cd682511bd429de8cf0ffe498\n(cherry picked from commit cf9a8c8f779a3542681a4b3ea3274681cec6f682)\n'}, {'number': 5, 'created': '2017-03-29 22:50:28.000000000', 'files': ['diskimage-create/requirements.txt', 'diskimage-create/README.rst', 'requirements.txt', 'octavia/db/migration/alembic_migrations/versions/44a2414dd683_adding_name_column_to_member_and_health_.py', 'octavia/common/decorators.py', 'diskimage-create/diskimage-create.sh', 'octavia/api/v2/controllers/__init__.py', 'devstack/plugin.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d0c996734f3a75c26eadd77ce2954e09447fe9da', 'message': 'Look for diskimage-builder not dib-utils when building amps\n\nAlso ignore E402 and W503 pep8 issues\n\nChange-Id: I7937d0a21c7a748cd682511bd429de8cf0ffe498\n(cherry picked from commit cf9a8c8f779a3542681a4b3ea3274681cec6f682)\n'}]",3,446959,d0c996734f3a75c26eadd77ce2954e09447fe9da,37,9,5,21798,,,0,"Look for diskimage-builder not dib-utils when building amps

Also ignore E402 and W503 pep8 issues

Change-Id: I7937d0a21c7a748cd682511bd429de8cf0ffe498
(cherry picked from commit cf9a8c8f779a3542681a4b3ea3274681cec6f682)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/446959/4 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/requirements.txt', 'diskimage-create/README.rst', 'requirements.txt', 'diskimage-create/diskimage-create.sh', 'devstack/plugin.sh', 'tox.ini']",6,c75a5100319b92bf7f65d7659f79fa81909fd325,pip_checks,"ignore = O321,E402,W503",ignore = O321,7,41
openstack%2Fneutron-lbaas~master~I3836562363e9b66a8173b1c73e2538e2ce2a4922,openstack/neutron-lbaas,master,I3836562363e9b66a8173b1c73e2538e2ce2a4922,Explicitly list neutron api extensions for tests,MERGED,2017-03-30 01:20:09.000000000,2017-04-04 19:13:59.000000000,2017-04-04 19:13:59.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 23619}]","[{'number': 1, 'created': '2017-03-30 01:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/1ff09f5b1a06d0c31083add5692ebd369f23b42f', 'message': 'Explicitly list neutron api extensions for tests\n\nRecent changes to neutron and gate hooks can cause the api extension\nlist to not include ""all"" but a neutron specific list.  This means\nlbaasv2 may not be included in api extension list.  This will cause\ntempest to skip the neutron-lbaas tests.\n\nThis change explictly adds ""all,lbaasv2"" for the network extensions.\n\nChange-Id: I3836562363e9b66a8173b1c73e2538e2ce2a4922\n'}, {'number': 2, 'created': '2017-03-30 01:53:47.000000000', 'files': ['neutron_lbaas/tests/contrib/gate_hook.sh', 'neutron_lbaas/tests/contrib/hooks/api_extensions'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/5d523cf3b859c088ed908492b9112d10ca4eaf23', 'message': 'Explicitly list neutron api extensions for tests\n\nRecent changes to neutron and gate hooks can cause the api extension\nlist to not include ""all"" but a neutron specific list.  This means\nlbaasv2 may not be included in api extension list.  This will cause\ntempest to skip the neutron-lbaas tests.\n\nThis change explictly adds ""all,lbaasv2"" for the network extensions.\n\nChange-Id: I3836562363e9b66a8173b1c73e2538e2ce2a4922\n'}]",0,451612,5d523cf3b859c088ed908492b9112d10ca4eaf23,21,7,2,11628,,,0,"Explicitly list neutron api extensions for tests

Recent changes to neutron and gate hooks can cause the api extension
list to not include ""all"" but a neutron specific list.  This means
lbaasv2 may not be included in api extension list.  This will cause
tempest to skip the neutron-lbaas tests.

This change explictly adds ""all,lbaasv2"" for the network extensions.

Change-Id: I3836562363e9b66a8173b1c73e2538e2ce2a4922
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/12/451612/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/contrib/gate_hook.sh', 'neutron_lbaas/tests/contrib/hooks/api_extensions']",2,1ff09f5b1a06d0c31083add5692ebd369f23b42f,,"NETWORK_API_EXTENSIONS=""all,lbaasv2"" ",,4,0
openstack%2Foctavia~stable%2Focata~I4b015858600a573091ab51fc9132577abfebbd0a,openstack/octavia,stable/ocata,I4b015858600a573091ab51fc9132577abfebbd0a,Look for all qemu-img/kvm package names in rhel-based distros,MERGED,2017-03-24 09:55:06.000000000,2017-04-04 18:58:41.000000000,2017-04-04 18:53:58.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 16923}]","[{'number': 1, 'created': '2017-03-24 09:55:06.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1525de4b361954ac4bb35f6472b4a04dedcda9b9', 'message': 'Look for all qemu-img/kvm package names in rhel-based distros\n\n""yum install qemu-img"" will get the correct package in all cases, but\nit can be called qemu-img, qemu-img-ev, qemu-img-rhev, ...\nSo use a wildcard in package search to allow for all variants\n\nAlso use ""yum info"" instead of ""yum list"", it is faster and skips online\nupdates\n\nChange-Id: I4b015858600a573091ab51fc9132577abfebbd0a\n(cherry picked from commit dc98000fb7871aac0cf0872b7900bf0bf3c7c2a6)\n'}]",0,449540,1525de4b361954ac4bb35f6472b4a04dedcda9b9,10,5,1,21798,,,0,"Look for all qemu-img/kvm package names in rhel-based distros

""yum install qemu-img"" will get the correct package in all cases, but
it can be called qemu-img, qemu-img-ev, qemu-img-rhev, ...
So use a wildcard in package search to allow for all variants

Also use ""yum info"" instead of ""yum list"", it is faster and skips online
updates

Change-Id: I4b015858600a573091ab51fc9132577abfebbd0a
(cherry picked from commit dc98000fb7871aac0cf0872b7900bf0bf3c7c2a6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/449540/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,1525de4b361954ac4bb35f6472b4a04dedcda9b9,diskimage-create_rhel," if ! yum info installed $pkg &> /dev/null; then # Actual name may be qemu-img, qemu-img-ev, qemu-img-rhev, ... # ""yum install qemu-img"" works for all, but search requires wildcard if ! yum info installed ${pkg}* &> /dev/null; then echo ""Required package "" $pkg "" is not installed. Exiting."" exit 1 if ! yum info installed $pkg &> /dev/null; then if ! yum info installed $pkg &> /dev/null; then"," if ! yum list installed $pkg &> /dev/null; then if ! yum list installed $pkg &> /dev/null; then if ! yum list installed $pkg""-ev"" &> /dev/null; then echo ""Required package "" $pkg "" or "" $pkg""-ev"" "" is not installed. Exiting."" exit 1 fi if ! yum list installed $pkg &> /dev/null; then if ! yum list installed $pkg &> /dev/null; then",8,8
openstack%2Fcharm-glance~master~Iaac2773c267566f4509b3f5db8d3546ca0e78ed9,openstack/charm-glance,master,Iaac2773c267566f4509b3f5db8d3546ca0e78ed9,Remove old contact info from readme,MERGED,2017-03-08 18:37:16.000000000,2017-04-04 18:49:48.000000000,2017-04-04 18:49:48.000000000,"[{'_account_id': 3}, {'_account_id': 10068}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-03-08 18:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b0ec36b767d393f5b845c64c683abe5f2b2dcaf0', 'message': 'Remove old contact info from readme\n\nChange-Id: Iaac2773c267566f4509b3f5db8d3546ca0e78ed9\n'}, {'number': 2, 'created': '2017-04-04 02:06:02.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6b5ffc13a9db359982525e9c7edcbffa49ba3d59', 'message': 'Remove old contact info from readme\n\nChange-Id: Iaac2773c267566f4509b3f5db8d3546ca0e78ed9\n'}]",0,443282,6b5ffc13a9db359982525e9c7edcbffa49ba3d59,18,4,2,25353,,,0,"Remove old contact info from readme

Change-Id: Iaac2773c267566f4509b3f5db8d3546ca0e78ed9
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/82/443282/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b0ec36b767d393f5b845c64c683abe5f2b2dcaf0,update-readme,, Contact Information ------------------- Author: Adam Gandelman <adamg@canonical.com> Report bugs at: http://bugs.launchpad.net/charms/+source/glance Location: http://jujucharms.com,0,7
openstack%2Foctavia~stable%2Fnewton~I4047f77472fa99a845d5cf014bf7390e8efe617c,openstack/octavia,stable/newton,I4047f77472fa99a845d5cf014bf7390e8efe617c,Updated from global requirements,MERGED,2017-04-03 15:13:10.000000000,2017-04-04 18:37:53.000000000,2017-04-04 18:34:09.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 14591}, {'_account_id': 16923}]","[{'number': 1, 'created': '2017-04-03 15:13:10.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e9cd7572c263c231148e3db9a59986ed6d9f6a6b', 'message': 'Updated from global requirements\n\nChange-Id: I4047f77472fa99a845d5cf014bf7390e8efe617c\n'}]",0,452794,e9cd7572c263c231148e3db9a59986ed6d9f6a6b,10,5,1,11131,,,0,"Updated from global requirements

Change-Id: I4047f77472fa99a845d5cf014bf7390e8efe617c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/452794/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e9cd7572c263c231148e3db9a59986ed6d9f6a6b,openstack/requirements,"diskimage-builder!=1.6.0,!=1.7.0,!=1.7.1,>=1.1.2 # Apache-2.0","diskimage-builder>=1.1.2,!=1.6.0,!=1.7.0,!=1.7.1 # Apache-2.0",1,1
openstack%2Fnova~master~I6a8b3d3aaa49859e8b769a296684ac96883719f8,openstack/nova,master,I6a8b3d3aaa49859e8b769a296684ac96883719f8,Distinguish between cells v1 and v2 in upgrades doc,MERGED,2017-04-03 17:32:14.000000000,2017-04-04 18:31:58.000000000,2017-04-03 17:55:37.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-03 17:32:14.000000000', 'files': ['doc/source/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/068d2565d15c1e6005a46286a5133dafc1848fe5', 'message': ""Distinguish between cells v1 and v2 in upgrades doc\n\nThe note about rolling upgrades not being supported for cells\nwas referring to cells v1, so let's make that clear.\n\nWe will support rolling upgrades for cells v2 deployments, we\njust haven't documented it yet (or done it in a grenade job).\n\nChange-Id: I6a8b3d3aaa49859e8b769a296684ac96883719f8\n""}]",0,452872,068d2565d15c1e6005a46286a5133dafc1848fe5,13,9,1,6873,,,0,"Distinguish between cells v1 and v2 in upgrades doc

The note about rolling upgrades not being supported for cells
was referring to cells v1, so let's make that clear.

We will support rolling upgrades for cells v2 deployments, we
just haven't documented it yet (or done it in a grenade job).

Change-Id: I6a8b3d3aaa49859e8b769a296684ac96883719f8
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/452872/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrade.rst'],1,068d2565d15c1e6005a46286a5133dafc1848fe5,upgrades-doc-cells, This does not apply to cells v1 deployments since cells v1 does not support rolling upgrades. It is assumed that cells v1 deployments are The procedure for rolling upgrades with multiple cells v2 cells is not yet determined. , This does not apply to cells deployments since cells does not currently support rolling upgrades. It is assumed that cells deployments are,5,2
openstack%2Fmasakari~master~Ib01ad624f5931f177e4e838494ea772449a35b70,openstack/masakari,master,Ib01ad624f5931f177e4e838494ea772449a35b70,Implement auto_priority and rh_priority recovery_methods,MERGED,2017-02-14 14:23:15.000000000,2017-04-04 18:30:21.000000000,2017-04-04 18:30:21.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 12950}]","[{'number': 1, 'created': '2017-02-14 14:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/c7f2efae29f84f7c907a972bda2bd245ed5d1e4e', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}, {'number': 2, 'created': '2017-02-15 14:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4cb9439c46238cb2482b9369788e6b479888df71', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}, {'number': 3, 'created': '2017-02-16 07:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae120c6a50fdcf40c659df717a934f816cfccc78', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}, {'number': 4, 'created': '2017-03-14 07:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2e130a0e05fe8b8197664f6bbaf2019a4bac91a4', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}, {'number': 5, 'created': '2017-03-20 09:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/13f3e6524d8ae17db616120d586d4c19e3a0ba07', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}, {'number': 6, 'created': '2017-03-30 12:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b0fec41b39954327c3aaddd2e7b60e79a097a4c1', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}, {'number': 7, 'created': '2017-03-31 12:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/78266d80e37d7e2dc78128e9216ee06e30ec9881', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}, {'number': 8, 'created': '2017-04-04 12:01:01.000000000', 'files': ['releasenotes/notes/auto_priority_and_rh_priority_recovery_methods-b88cc00041fa2c4d.yaml', 'masakari/engine/drivers/taskflow/driver.py', 'masakari/tests/unit/engine/drivers/taskflow/test_taskflow_driver.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/4861413682d62207e34393c6f5629fe66c626179', 'message': ""Implement auto_priority and rh_priority recovery_methods\n\nThis patch adds support of 'auto_priority' and 'rh_priority'\nrecovery_methods in case of host failure recovery.\n\nInstances will be recovered on the basis of recovery_method set\nby operator for the respective failed_host's failover_segment.\n\nImplements: blueprint implement-recovery-methods\nChange-Id: Ib01ad624f5931f177e4e838494ea772449a35b70\n""}]",13,433669,4861413682d62207e34393c6f5629fe66c626179,27,3,8,20191,,,0,"Implement auto_priority and rh_priority recovery_methods

This patch adds support of 'auto_priority' and 'rh_priority'
recovery_methods in case of host failure recovery.

Instances will be recovered on the basis of recovery_method set
by operator for the respective failed_host's failover_segment.

Implements: blueprint implement-recovery-methods
Change-Id: Ib01ad624f5931f177e4e838494ea772449a35b70
",git fetch https://review.opendev.org/openstack/masakari refs/changes/69/433669/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/auto_priority_and_rh_priority_recovery_methods-b88cc00041fa2c4d.yaml', 'masakari/engine/drivers/taskflow/driver.py']",2,c7f2efae29f84f7c907a972bda2bd245ed5d1e4e,bp/implement-recovery-methods," def _execute_auto_worflow(novaclient, process_what): flow_engine = host_failure.get_auto_flow(novaclient, process_what) # Attaching this listener will capture all of the notifications # that taskflow sends out and redirect them to a more useful # log for masakari's debugging (or error reporting) usage. with base.DynamicLogListener(flow_engine, logger=LOG): flow_engine.run() def _execute_rh_workflow(novaclient, process_what): if not process_what['reserved_host_list']: msg = _('No reserved_hosts available for evacuation.') LOG.info(msg) raise exception.ReservedHostsUnavailable(message=msg) flow_engine = host_failure.get_rh_flow(novaclient, process_what) with base.DynamicLogListener(flow_engine, logger=LOG): try: flow_engine.run() except exception.LockAlreadyAcquired as ex: raise exception.HostRecoveryFailureException(ex.message) _execute_auto_worflow(novaclient, process_what) _execute_rh_workflow(novaclient, process_what) try: _execute_auto_worflow(novaclient, process_what) except Exception: # Caught generic Exception to make sure that any failure # should lead to execute 'reserved_host' recovery workflow. msg = _LW(""Failed to evacuate all instances from "" ""failed_host: '%(failed_host)s' using "" ""'%(auto)s' workflow, retrying using "" ""'%(reserved_host)s' workflow."") LOG.warning(msg, { 'failed_host': host_name, 'auto': fields.FailoverSegmentRecoveryMethod.AUTO, 'reserved_host': fields.FailoverSegmentRecoveryMethod.RESERVED_HOST }) process_what['reserved_host_list'] = reserved_host_list _execute_rh_workflow(novaclient, process_what) try: process_what['reserved_host_list'] = reserved_host_list _execute_rh_workflow(novaclient, process_what) except Exception: # Caught generic Exception to make sure that any failure # should lead to execute 'auto' recovery workflow. msg = _LW(""Failed to evacuate all instances from "" ""failed_host '%(failed_host)s' using "" ""'%(reserved_host)s' workflow, retrying using "" ""'%(auto)s' workflow"") LOG.warning(msg, { 'failed_host': host_name, 'reserved_host': fields.FailoverSegmentRecoveryMethod.RESERVED_HOST, 'auto': fields.FailoverSegmentRecoveryMethod.AUTO }) # Remove 'reserved_host_list' from 'process_what' # dictionary as 'auto' recovery workflow doesn't requires # it. del process_what['reserved_host_list'] _execute_auto_worflow(novaclient, process_what)"," flow_engine = host_failure.get_auto_flow(novaclient, process_what) if not reserved_host_list: msg = _('No reserved_hosts available for evacuation.') LOG.info(msg) raise exception.ReservedHostsUnavailable(message=msg) flow_engine = host_failure.get_rh_flow( novaclient, process_what) raise NotImplementedError(_(""Flow not implemented for "" ""recovery_method""), recovery_method) raise NotImplementedError(_(""Flow not implemented for "" ""recovery_method""), recovery_method) # Attaching this listener will capture all of the notifications that # taskflow sends out and redirect them to a more useful log for # masakari's debugging (or error reporting) usage. with base.DynamicLogListener(flow_engine, logger=LOG): try: flow_engine.run() except exception.LockAlreadyAcquired as ex: raise exception.HostRecoveryFailureException(ex.message) ",71,24
openstack%2Ffuel-library~stable%2Fnewton~I515f7fae4bbe67123d70572a4f861e879ec580f6,openstack/fuel-library,stable/newton,I515f7fae4bbe67123d70572a4f861e879ec580f6,Use intersection of added vs deleted nodes instead of just deleted ones,MERGED,2017-04-04 13:38:17.000000000,2017-04-04 18:20:49.000000000,2017-04-04 18:17:05.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11827}, {'_account_id': 13344}, {'_account_id': 16518}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-04-04 13:38:17.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/hosts/hosts.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3f01bb9d23c1a408912736e1137f6c309530a1d6', 'message': 'Use intersection of added vs deleted nodes instead of just deleted ones\n\nThere are cases when nailgun can send us data where there are nodes\nincluded into list of added nodes and deleted ones. As a result, puppet\nmanifests failed with resource ensurance for present and absent hosts.\nTo avoid this situation, subtract added nodes from deleted prior to\nactually deleting them from hosts.\n\nChange-Id: I515f7fae4bbe67123d70572a4f861e879ec580f6\nCloses-Bug: #1679522\n'}]",0,453171,3f01bb9d23c1a408912736e1137f6c309530a1d6,41,7,1,8786,,,0,"Use intersection of added vs deleted nodes instead of just deleted ones

There are cases when nailgun can send us data where there are nodes
included into list of added nodes and deleted ones. As a result, puppet
manifests failed with resource ensurance for present and absent hosts.
To avoid this situation, subtract added nodes from deleted prior to
actually deleting them from hosts.

Change-Id: I515f7fae4bbe67123d70572a4f861e879ec580f6
Closes-Bug: #1679522
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/71/453171/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/hosts/hosts.pp'],1,3f01bb9d23c1a408912736e1137f6c309530a1d6,bug/1679522," $deleted_nodes = difference(hiera('deleted_nodes', []), keys($host_resources))"," $deleted_nodes = hiera('deleted_nodes', [])",1,1
openstack%2Fopenstack-ansible-memcached_server~master~Ib57cceeb9af4d1d0232a20622ad6efdba4cc346d,openstack/openstack-ansible-memcached_server,master,Ib57cceeb9af4d1d0232a20622ad6efdba4cc346d,Add SUSE support,MERGED,2017-03-23 14:59:16.000000000,2017-04-04 18:19:31.000000000,2017-04-04 18:19:31.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-03-23 14:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/4ede3a03b9170f7df148ad0e8c1fa6c4c221719d', 'message': 'Add SUSE support\n\nAdd support for SUSE based distributions\n\nChange-Id: Ib57cceeb9af4d1d0232a20622ad6efdba4cc346d\n'}, {'number': 2, 'created': '2017-04-04 17:18:01.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'tasks/memcached_install.yml', 'templates/memcached.suse.j2', 'Vagrantfile', 'files/memcached.service.suse', 'tasks/install-zypper.yml', 'tasks/memcached_config.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/58e17aa13ebe7b0aa5da7c00afc75d6716d2720d', 'message': 'Add SUSE support\n\nAdd support for SUSE based distributions\n\nChange-Id: Ib57cceeb9af4d1d0232a20622ad6efdba4cc346d\n'}]",2,449183,58e17aa13ebe7b0aa5da7c00afc75d6716d2720d,14,5,2,23163,,,0,"Add SUSE support

Add support for SUSE based distributions

Change-Id: Ib57cceeb9af4d1d0232a20622ad6efdba4cc346d
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/83/449183/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tasks/memcached_install.yml', 'templates/memcached.suse.j2', 'files/memcached.service.suse', 'tasks/install-zypper.yml', 'tasks/memcached_config.yml', 'meta/main.yml', 'vars/suse.yml']",8,4ede3a03b9170f7df148ad0e8c1fa6c4c221719d,osa-add-suse-support,"--- # Copyright 2017, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. memcached_user: memcached memcached_distro_packages: - memcached memcached_test_distro_packages: - netcat-openbsd memcached_conf_template: memcached.suse.j2 memcached_systemd_service: memcached.service.suse memcached_conf_dest: /etc/sysconfig/memcached ",,125,13
openstack%2Fpython-openstackclient~master~Ifd09a8b091ae89c33a06590aba935df5e22e215b,openstack/python-openstackclient,master,Ifd09a8b091ae89c33a06590aba935df5e22e215b,Correct flavor associate/disassociate commands in Mapping Guide,MERGED,2017-04-04 15:43:45.000000000,2017-04-04 18:18:59.000000000,2017-04-04 18:18:59.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-04-04 15:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e3556432070a335957fadeb32b7d5ed8632258bc', 'message': 'Correct flavor associate/disassociate commands in Mapping Guide\n\nThis patch fixes the neutron CLI mapping for neutron flavor-associate\nand flavor-disassociate since [1] for merged.\n\n[1] - https://review.openstack.org/#/c/403907/\n\nChange-Id: Ifd09a8b091ae89c33a06590aba935df5e22e215b\n'}, {'number': 2, 'created': '2017-04-04 15:45:50.000000000', 'files': ['doc/source/data/neutron.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/abb2498e714cf1915e5ec7a8a344a0a71962bc50', 'message': 'Correct flavor associate/disassociate commands in Mapping Guide\n\nThis patch fixes the neutron CLI mapping for neutron flavor-associate\nand flavor-disassociate since [1] got merged.\n\n[1] - https://review.openstack.org/#/c/403907/\n\nChange-Id: Ifd09a8b091ae89c33a06590aba935df5e22e215b\n'}]",0,453232,abb2498e714cf1915e5ec7a8a344a0a71962bc50,10,3,2,22774,,,0,"Correct flavor associate/disassociate commands in Mapping Guide

This patch fixes the neutron CLI mapping for neutron flavor-associate
and flavor-disassociate since [1] got merged.

[1] - https://review.openstack.org/#/c/403907/

Change-Id: Ifd09a8b091ae89c33a06590aba935df5e22e215b
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/32/453232/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/data/neutron.csv'],1,e3556432070a335957fadeb32b7d5ed8632258bc,,"flavor-associate,network flavor add profile,Add a Neutron service flavor with a flavor profile.flavor-disassociate,network flavor remove profile,Remove a Neutron service flavor from a flavor profile.vpn-service-update,,Update a given VPN service. ","flavor-associate,network flavor associate,Associate a Neutron service flavor with a flavor profile.flavor-disassociate,network flavor disassociate,Disassociate a Neutron service flavor from a flavor profile.vpn-service-update,,Update a given VPN service.",3,3
openstack%2Fopenstack-ansible-os_ceilometer~master~I75fb8efaaba5a3f02fa7af07790066b9b948d570,openstack/openstack-ansible-os_ceilometer,master,I75fb8efaaba5a3f02fa7af07790066b9b948d570,Fix inventory file bracket,MERGED,2017-04-04 17:17:46.000000000,2017-04-04 18:15:38.000000000,2017-04-04 18:15:38.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 12807}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-04 17:17:46.000000000', 'files': ['tests/inventory'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/956ff6642eea25bc89d1be97187f94221689ac27', 'message': 'Fix inventory file bracket\n\nBracket was mistakenly removed while removing the\nceilometer api service. This commit fixes it\n\nChange-Id: I75fb8efaaba5a3f02fa7af07790066b9b948d570\n'}]",0,453268,956ff6642eea25bc89d1be97187f94221689ac27,7,5,1,11268,,,0,"Fix inventory file bracket

Bracket was mistakenly removed while removing the
ceilometer api service. This commit fixes it

Change-Id: I75fb8efaaba5a3f02fa7af07790066b9b948d570
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/68/453268/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/inventory'],1,956ff6642eea25bc89d1be97187f94221689ac27,fix-inventory,[all],all],1,1
openstack%2Fneutron-lib~master~I71e274d0f0199896f28daae6db71241d9b43a2f3,openstack/neutron-lib,master,I71e274d0f0199896f28daae6db71241d9b43a2f3,Add flush_on_subtransaction=True to engine config,MERGED,2017-04-04 08:43:21.000000000,2017-04-04 18:15:07.000000000,2017-04-04 18:15:07.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9531}, {'_account_id': 9656}, {'_account_id': 17776}, {'_account_id': 19999}]","[{'number': 1, 'created': '2017-04-04 08:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3a60b1bbf04152b322c772ed646c7a697e1e6b5b', 'message': ""Add flush_on_subtransaction=True to engine config\n\nBy default, the new enginefacade doesn't emulate the same\nautoflush behavior we had on exits of session context managers\nwith the old style. As of olso.db 4.18, we have an option to\nget this same behavior. This patch implements it in our db.api\nto help with the adoption of the new enginefacade by providing\nthe same flush semantics.\n\nChange-Id: I71e274d0f0199896f28daae6db71241d9b43a2f3\nRelated-Bug: #1664643\nPartially-Implements: blueprint enginefacade-switch\n""}, {'number': 2, 'created': '2017-04-04 10:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e8164d04f30944a41bee5fdd4ed0b26140756484', 'message': ""Add flush_on_subtransaction=True to engine config\n\nBy default, the new enginefacade doesn't emulate the same\nautoflush behavior we had on exits of session context managers\nwith the old style. As of olso.db 4.18, we have an option to\nget this same behavior. This patch implements it in our db.api\nto help with the adoption of the new enginefacade by providing\nthe same flush semantics.\n\nRelated-Bug: #1664643\nPartially-Implements: blueprint enginefacade-switch\nChange-Id: I71e274d0f0199896f28daae6db71241d9b43a2f3\n""}, {'number': 3, 'created': '2017-04-04 10:55:16.000000000', 'files': ['neutron_lib/db/api.py', 'releasenotes/notes/flush_on_subtransaction-99ef11dfb56b706d.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/72a2e9df96998f2198b2aba44e4daa2b466b1158', 'message': ""Add flush_on_subtransaction=True to engine config\n\nBy default, the new enginefacade doesn't emulate the same\nautoflush behavior we had on exits of session context managers\nwith the old style. As of olso.db 4.18, we have an option to\nget this same behavior. This patch implements it in our db.api\nto help with the adoption of the new enginefacade by providing\nthe same flush semantics.\n\nRelated-Bug: #1664643\nPartially-Implements: blueprint enginefacade-switch\nChange-Id: I71e274d0f0199896f28daae6db71241d9b43a2f3\n""}]",7,453063,72a2e9df96998f2198b2aba44e4daa2b466b1158,24,10,3,7787,,,0,"Add flush_on_subtransaction=True to engine config

By default, the new enginefacade doesn't emulate the same
autoflush behavior we had on exits of session context managers
with the old style. As of olso.db 4.18, we have an option to
get this same behavior. This patch implements it in our db.api
to help with the adoption of the new enginefacade by providing
the same flush semantics.

Related-Bug: #1664643
Partially-Implements: blueprint enginefacade-switch
Change-Id: I71e274d0f0199896f28daae6db71241d9b43a2f3
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/63/453063/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/api.py'],1,3a60b1bbf04152b322c772ed646c7a697e1e6b5b,bug/1664643," _CTX_MANAGER.configure(sqlite_fk=True, flush_on_subtransaction=True)", _CTX_MANAGER.configure(sqlite_fk=True),1,1
openstack%2Fnova-specs~master~I0ae099bc6ed90bfe4883f37c33a8c879c38bd1d7,openstack/nova-specs,master,I0ae099bc6ed90bfe4883f37c33a8c879c38bd1d7,Convert consoles code to use objects framework,MERGED,2017-04-04 07:23:30.000000000,2017-04-04 18:12:37.000000000,2017-04-04 18:12:37.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 8864}]","[{'number': 1, 'created': '2017-04-04 07:23:30.000000000', 'files': ['specs/pike/approved/convert-consoles-to-objects.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0bf0812b8333c951ace1f81bdc352bd7daeb0b54', 'message': 'Convert consoles code to use objects framework\n\nThis spec was originally approved for Newton but was not\nfinished due to lack of time. It is being picked up again\nfor Pike.\n\nPreviously-approved: Newton\n\nSpec for blueprint convert-consoles-to-objects\n\nChange-Id: I0ae099bc6ed90bfe4883f37c33a8c879c38bd1d7\n'}]",3,453041,0bf0812b8333c951ace1f81bdc352bd7daeb0b54,10,3,1,4690,,,0,"Convert consoles code to use objects framework

This spec was originally approved for Newton but was not
finished due to lack of time. It is being picked up again
for Pike.

Previously-approved: Newton

Spec for blueprint convert-consoles-to-objects

Change-Id: I0ae099bc6ed90bfe4883f37c33a8c879c38bd1d7
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/41/453041/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/convert-consoles-to-objects.rst'],1,0bf0812b8333c951ace1f81bdc352bd7daeb0b54,bp/convert-consoles-to-objects,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Convert Consoles To Use Objects Framework ========================================= https://blueprints.launchpad.net/nova/+spec/convert-consoles-to-objects Make consoles to use the objects framework -- the current console code does not take advantage of the framework objects, instead it provides some types (console/type.py) to handle them. These types do not provide any features to handle versioning, RPC or any kind of methods to make them useful. Problem description =================== The current code does not provide any mechanism to handle versioning. Additionally, since RPC cannot handle classes derived from the Python object type, we need to handle a dict ""connect_info"" between RPC calls and no way is provided to share the state of the console across processes. Another problem comes with the token, memcached is not a database and cannot guarantee that the expire time will be respected, a token can expire before that limit (eviction). By using the framework objects we can get the opportunity to store the whole state of Console object with a valid token in the database and share the state between process. For instance bug 1425640 needs to know when an user is connected to a particular port from a number of perspectives: from the compute node, to return the next port defined and not connected; from the proxy to reject new connections on already connected port from the API to let user informed no more port are available. We will also enhance security by only storing a hash of tokens in the database after to have returned the clean one to the users. Then when users will request to connect a console the token passed will be hashed and compared to the one stored in the database for validation. A new option will be introduced ""console_tokens_backend"" which will allow operator to switch between different backends. The scope of this spec will allow 2 backends: consoleauth (using memcached) or database. The consoleauth service will be retained for legacy compatibility but in a deprecated status, supported for one release. After the period the consoleauth service can be removed. Because the new tokens will go in the database we need to consider cells v2. The child cell database is the appropriate place for console connection info because it relates directly to instances. Currently the console connection URLs returned to the user only contain a token. This is not sufficient to determine which cell holds the console connection. This can be resolved by adding the instance uuid to the query string in the URL. This approach is backward compatible with the existing console proxies. Ultimately it is still the token that determines authority to connect to the console, but we will add verification that the instance uuid in the URL matches the instance uuid in the connection info retrieved for the token. Use Cases ---------- Developer can take advantage of using the framework objects when adding a new console or features. Proposed change =============== * Define a new ConsoleConnection object. * Convert drivers to generate ConsoleConnection object. * Define schema and API to store ConsoleConnection object in child cell database. * Update code to store ConsoleConnection with valid token in database or consoleauth dependant on the switch until consoleauth is removed. * Add the instance uuid to the console proxy URLs to allow proxies to locate the child cell database containing the connection info. * Update proxies to use the database or consoleauth dependant on the switch until consoleauth is removed. * Define a periodic task to clean expired object stored in database; To balance the load and avoid blocking the database during too much time each compute nodes will be responsible to clean connection_info for guests they host. * Fix bug 1425640 Alternatives ------------ Continue to use memcached as a backend will make the behavior of connection information not previsible since objects can be evicted. Also in order to fix issue 1425640 and 1455252 a scan has to be done to list available ports which is difficult when using memcached without add specific code to maintain a list of stored keys. Data model impact ----------------- A new ConsoleConnection model needs to be defined with attributes: - instance: an instance which refer the console - host: a string field to handle hostname - port: an int field to handle service number - token_hash: a string field to handle a token or null - access_url: a string field to handle access or null - options: a dict field to handle particular information like usetls, internal_access_path, mode... - expires: a date time to indicate when the token expires or null The database schema :: CREATE TABLE console_connection ( instance_uuid CHAR(36) NOT NULL, host VARCHAR(255) NOT NULL, port INT NOT NULL, token_hash CHAR(40), access_url VARCHAR(255), options TEXT, expires DATETIME, PRIMARY KEY (instance_uuid, host, port), INDEX (token, instance_uuid), FOREIGN KEY (instance_uuid) REFERENCES instances(uuid) ON DELETE CASCADE ); .. note:: No migration are expected from serialized dicts connection info stored in memcached to the database, during the upgrade clients already connected to consoles will keep their connections until proxy will be restarted. At this step we expect to have the consoleauth service to also have been restarted. REST API impact --------------- None Security impact --------------- In the point of view of tokens we can expect a better security since currently tokens are stored in memcached which does not provide any security layer. Now only hash of tokens will be stored in the database also security policy will enhanced to be the same than other critical components stored in database. Notifications impact -------------------- None Other end user impact --------------------- When proxyclient will be restartred users will be disconnected from our consoles but should reconnect to it with the same token if not already expired. Performance Impact ------------------ The database load will increase but we can expect that with a minimal impact for DBA. Other deployer impact --------------------- The consoleauth service must be restarted before proxy services. When proxy will be restarted clients will be disconnected from consoles. consoleauth will continue to work as backend until a deprecated period of one release operator are encouraged to switch on the database backend (see option: console_tokens_backend). If the deployer choses to use the database to store console connection information the consoleauth service will not be required. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: PaulMurray Other contributors: sahid-ferdjaoui Work Items ---------- * Convert code to use objects framework * Update consoleauth to take advantage of the database to handle tokens * Fix bug 1425640 Dependencies ============ None Testing ======= The current code is already tested by functional and unit tests since we do not provide any feature we can consider that the code will be well covered by those tests. The new version will be tested in the gate. Documentation Impact ==================== None References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Liberty - Introduced * - Newton - Re-proposed * - Pike - Re-proposed ",,245,0
openstack%2Fsecurity-doc~master~Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c,openstack/security-doc,master,Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c,Add checklist for the Glance Image Service,MERGED,2017-02-09 14:21:16.000000000,2017-04-04 18:04:31.000000000,2017-04-04 18:04:31.000000000,"[{'_account_id': 3}, {'_account_id': 6804}, {'_account_id': 9162}, {'_account_id': 9382}, {'_account_id': 10607}, {'_account_id': 10705}, {'_account_id': 12325}, {'_account_id': 17893}, {'_account_id': 19814}, {'_account_id': 22781}]","[{'number': 1, 'created': '2017-02-09 14:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/7b3ebee7c5acf980c468f1f3f595dbf8bc09c0c6', 'message': 'Add checklist for the Glance Image Service\n\nChange-Id: Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c\n'}, {'number': 2, 'created': '2017-02-09 14:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/a792dab9036345c9afb27f1ed20586a06df5785c', 'message': 'Add checklist for the Glance Image Service\n\nChange-Id: Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c\n'}, {'number': 3, 'created': '2017-02-22 15:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/451934f176de535fad30a47378e83bb78b21de2d', 'message': 'Add checklist for the Glance Image Service\n\nChange-Id: Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c\n'}, {'number': 4, 'created': '2017-04-03 11:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d3dde3a81967f0ff6cbd38683d4653e1ff66982a', 'message': 'Add checklist for the Glance Image Service\n\nChange-Id: Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c\n'}, {'number': 5, 'created': '2017-04-03 12:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/fc0a3c1ebb6b3965dccf7f69d7a2c30152dfd3bb', 'message': 'Add checklist for the Glance Image Service\n\nChange-Id: Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c\n'}, {'number': 6, 'created': '2017-04-04 09:46:09.000000000', 'files': ['security-guide/source/image-storage.rst', 'security-guide/source/image-storage/checklist.rst', 'security-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/c087345ca3f5b848ad2f8df349ec98b2b378841a', 'message': 'Add checklist for the Glance Image Service\n\nChange-Id: Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c\n'}]",15,431571,c087345ca3f5b848ad2f8df349ec98b2b378841a,31,10,6,19814,,,0,"Add checklist for the Glance Image Service

Change-Id: Ib0e811668e1cd4f6bd321ebf317cd634461cfa0c
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/71/431571/6 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/image-storage.rst', 'security-guide/source/image-storage/checklist.rst', 'security-guide/source/index.rst']",3,7b3ebee7c5acf980c468f1f3f595dbf8bc09c0c6,glance_checklist, image-storage.rst,,159,0
openstack%2Foctavia~master~Ic915e7098871e554dd4f1fa39e6792108f718b01,openstack/octavia,master,Ic915e7098871e554dd4f1fa39e6792108f718b01,Fix pool validation exception typo,MERGED,2017-04-03 18:57:11.000000000,2017-04-04 18:01:27.000000000,2017-04-04 17:56:50.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 16923}]","[{'number': 1, 'created': '2017-04-03 18:57:11.000000000', 'files': ['octavia/api/v2/controllers/pool.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3aec6312b0e3f6f78e8cc8931821e85bd045075e', 'message': 'Fix pool validation exception typo\n\nChange-Id: Ic915e7098871e554dd4f1fa39e6792108f718b01\nCloses-Bug: #1679259\n'}]",0,452899,3aec6312b0e3f6f78e8cc8931821e85bd045075e,10,5,1,10273,,,0,"Fix pool validation exception typo

Change-Id: Ic915e7098871e554dd4f1fa39e6792108f718b01
Closes-Bug: #1679259
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/452899/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v2/controllers/pool.py'],1,3aec6312b0e3f6f78e8cc8931821e85bd045075e,bug/1679259, raise exceptions.ValidationException(detail=msg), raise exceptions.ValidationException(details=msg),1,1
openstack%2Fnova~master~Icec74b6d58f45ca1aab117d9aad2d0410acaadfa,openstack/nova,master,Icec74b6d58f45ca1aab117d9aad2d0410acaadfa,Remove unnecessary duplicated NOTE,MERGED,2017-03-31 18:32:57.000000000,2017-04-04 18:01:17.000000000,2017-04-04 17:45:42.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15334}, {'_account_id': 17814}, {'_account_id': 20040}, {'_account_id': 24711}]","[{'number': 1, 'created': '2017-03-31 18:32:57.000000000', 'files': ['nova/api/validation/validators.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a24340c76203619258195f2729721f17b4e65b6', 'message': 'Remove unnecessary duplicated NOTE\n\nThe commit I7d5c353680cafbd59692bd462e9d3f8766021310 copied the\nerror response message for filter validation, but we forgot to\nremove the corresponding NOTE. Then we have duplicated NOTE around\nit. This patch just removes it.\n\nTrivialFix\n\nChange-Id: Icec74b6d58f45ca1aab117d9aad2d0410acaadfa\n'}]",4,452284,1a24340c76203619258195f2729721f17b4e65b6,35,9,1,6167,,,0,"Remove unnecessary duplicated NOTE

The commit I7d5c353680cafbd59692bd462e9d3f8766021310 copied the
error response message for filter validation, but we forgot to
remove the corresponding NOTE. Then we have duplicated NOTE around
it. This patch just removes it.

TrivialFix

Change-Id: Icec74b6d58f45ca1aab117d9aad2d0410acaadfa
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/452284/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/validation/validators.py'],1,1a24340c76203619258195f2729721f17b4e65b6,add-microversion-into-error-msg,," # NOTE: For whole OpenStack message consistency, this error # message has been written as the similar format of WSME.",0,2
openstack%2Fglance~master~Ib95644747e20bfd8ade5572d46651f9bd706e9da,openstack/glance,master,Ib95644747e20bfd8ade5572d46651f9bd706e9da,Use cryptography instead of pycrypto,MERGED,2017-03-24 02:24:54.000000000,2017-04-04 18:00:27.000000000,2017-04-04 18:00:27.000000000,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 12807}, {'_account_id': 15524}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-03-24 02:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/49f9c5e2a82141a8aaf6dd044fe1ddeec7add8db', 'message': ""Use cryptography instead of pycrypto\n\nI was following up on [0] to see how much work would be required to\nget Glance off pycrypto.  There's not much, so I decided to just do\nit.\n\nThis patch set includes the old code so tests can be run to show that\nthe new utilities can decrypt output from the old utilities, and the\nold utilities can decrypt output from the new utilities (needed for\nrolling upgrades).  So this patch doesn't remove pycrypto from\nrequirements.txt yet.  Once this patch passes tests and there's a\nrecord that the new utilities are interoperable with the old ones,\nI'll put up a new patch removing the old utilities and removing\npycrypto from requirements.txt.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113568.html\n\nChange-Id: Ib95644747e20bfd8ade5572d46651f9bd706e9da\n""}, {'number': 2, 'created': '2017-03-28 17:14:31.000000000', 'files': ['glance/common/crypt.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/5ebde9079b34544cc6642a73b40ec865bcef8580', 'message': ""Use cryptography instead of pycrypto\n\nI was following up on [0] to see how much work would be required to\nget Glance off pycrypto.  There's not much, so I decided to just do\nit.  This patch rewrites the utility functions that were using the\npycrpyto library to instead use cryptography and removes pycrypto\nfrom requirements.txt.\n\nNote: PS1 included both the pycrypto- and cryptography- based\nutilities in order to show that the new utilities can decrypt output\nfrom the old utilities, and the old utilities can decrypt output from\nthe new utilities (needed for rolling upgrades).  You can look at the\nearlier test results or download PS1 to run and verify.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113568.html\n\nChange-Id: Ib95644747e20bfd8ade5572d46651f9bd706e9da\n""}]",7,449401,5ebde9079b34544cc6642a73b40ec865bcef8580,21,9,2,5314,,,0,"Use cryptography instead of pycrypto

I was following up on [0] to see how much work would be required to
get Glance off pycrypto.  There's not much, so I decided to just do
it.  This patch rewrites the utility functions that were using the
pycrpyto library to instead use cryptography and removes pycrypto
from requirements.txt.

Note: PS1 included both the pycrypto- and cryptography- based
utilities in order to show that the new utilities can decrypt output
from the old utilities, and the old utilities can decrypt output from
the new utilities (needed for rolling upgrades).  You can look at the
earlier test results or download PS1 to run and verify.

[0] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113568.html

Change-Id: Ib95644747e20bfd8ade5572d46651f9bd706e9da
",git fetch https://review.opendev.org/openstack/glance refs/changes/01/449401/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/crypt.py', 'glance/common/old_crypt.py', 'glance/tests/unit/test_misc.py']",3,49f9c5e2a82141a8aaf6dd044fe1ddeec7add8db,remove-pycrypto,"from glance.common import old_crypt # TODO(rosmaita): the following will be removed before # this patch is merged. It's here on this patch set # because I couldn't think of a different way to show # interoperability once pycrypto is removed # show that the ""old"" pycrypto decryptor correctly decodes # text output by the ""new"" encryptor text = old_crypt.urlsafe_decrypt(key, ciphertext) self.assertIsInstance(text, str) self.assertEqual(plaintext, text) # show that the new code correctly deccrypts text produced # by the ""old"" pycrypto-based encryptor ciphertext = old_crypt.urlsafe_encrypt( key, plaintext, blocksize) text = crypt.urlsafe_decrypt(key, ciphertext) self.assertIsInstance(text, str) self.assertEqual(plaintext, text) ",,126,10
openstack%2Fnova-specs~master~I40aa61065d90cc4e41fd0fce5469633b50fab60e,openstack/nova-specs,master,I40aa61065d90cc4e41fd0fce5469633b50fab60e,New intro,ABANDONED,2017-03-24 16:40:25.000000000,2017-04-04 17:53:20.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-03-24 16:40:25.000000000', 'files': ['specs/pike/approved/policy-remove-scope-checks.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/80c6d375b2ce8be338e730ed7877b758e63db788', 'message': 'New intro\n\nChange-Id: I40aa61065d90cc4e41fd0fce5469633b50fab60e\n'}]",0,449722,80c6d375b2ce8be338e730ed7877b758e63db788,3,1,1,2750,,,0,"New intro

Change-Id: I40aa61065d90cc4e41fd0fce5469633b50fab60e
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/22/449722/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/policy-remove-scope-checks.rst'],1,80c6d375b2ce8be338e730ed7877b758e63db788,bp/policy-remove-scope-checks,"The OpenStack policy domain specific language specifies a policy enforcement point, and the rule to check at that point:: ""os_compute_api:os-extended-volumes"": ""rule:admin_or_owner"", ""os_compute_api:os-extended-volumes:discoverable"": ""@"", ""os_compute_api:os-fixed-ips"": ""rule:admin_api"", ""os_compute_api:os-fixed-ips:discoverable"": ""@"", What is often surprising to people is that rules like ``rule:admin_or_owner`` is not a function of the policy system, but it defined within the same policy definition itself:: ""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"", These rules, in turn evaluate based on information available from the oslo.context from keystone. They can be quite complicated. It is also is confusing and error prone. Some of these rules apply generally i.e. ``is_admin:True``, or ``role:auditor``. But others require something to operate on, i.e. ``project_id:%(project_id)s``. That evaluates to true if the project_id of something matches the project_id of the request. Lets take the example of:: ""os_compute_api:os-lock-server:lock"": ""rule:admin_or_owner"", It is very conceivable that you'd want to change this to actually be that any OpenStack service can lock any server (allowing Trove to lock servers administratively). So one would naively try to change this to:: ""os_compute_api:os-lock-server:lock"": ""rule:admin_or_owner or role:service"" However... this does not work as expected. Because the actual flow is as follows. - Attempt to fetch server in question - If not ""is_admin:True"", filter available servers by project_id of token - If a server is returned, apply policy rules against that server Which basically means that elements of ""admin_or_owner"" are embedded deep in the database layer and nobs that look like they are changable in policy are not. This is the equivalent of issues that arise on a Linux filesystem if the adminstrator leaves the permissions of a file as 775, but then does a `chattr +i` on the file, so that it's not writable. The user thinks that they can change things, but it fails because there is a different level of protection that's not easily discoverable. The breaks the principle of least surprise. ",,57,1
openstack%2Fcharm-tempest~master~I5d24c5351609ef57a3f47233cfbdaf8e4b7d8bc6,openstack/charm-tempest,master,I5d24c5351609ef57a3f47233cfbdaf8e4b7d8bc6,Fix novaclient creation for ocata and later.,MERGED,2017-04-03 22:24:57.000000000,2017-04-04 17:52:46.000000000,2017-04-04 17:52:46.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 25353}]","[{'number': 1, 'created': '2017-04-03 22:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/861dc598c8a0cccbdbad154292d61cf894daee79', 'message': ""Fix novaclient creation for ocata and later.\n\nnovaclient.client.Client's positional args changed in 7.0.0 (ocata),\nbreaking this charm. This commit changes the client to use\nkeystoneauth1 based session authentication to work around that issue.\n\nCloses: 1671619\n\nChange-Id: I5d24c5351609ef57a3f47233cfbdaf8e4b7d8bc6\n""}, {'number': 2, 'created': '2017-04-03 23:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/46df6e67191ad8e1181e744b478410b9db382f72', 'message': ""Fix novaclient creation for ocata and later.\n\nnovaclient.client.Client's positional args changed in 7.0.0 (ocata),\nbreaking this charm. This commit changes the client to use\nkeystoneauth1 based session authentication to work around that issue.\n\nCloses-Bug: #1671619\n\nChange-Id: I5d24c5351609ef57a3f47233cfbdaf8e4b7d8bc6\n""}, {'number': 3, 'created': '2017-04-03 23:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/287533f702bcf703a3a7e3c1a8c554968099564e', 'message': ""Fix novaclient creation for ocata and later.\n\nnovaclient.client.Client's positional args changed in 7.0.0 (ocata),\nbreaking this charm. This commit changes the client to use\nkeystoneauth1 based session authentication to work around that issue.\n\nAlso enable ocata tests.\n\nCloses-Bug: #1671619\n\nChange-Id: I5d24c5351609ef57a3f47233cfbdaf8e4b7d8bc6\n""}, {'number': 4, 'created': '2017-04-04 14:16:32.000000000', 'files': ['src/tox.ini', 'src/lib/charm/openstack/tempest.py', 'src/tests/gate-basic-zesty-ocata', 'src/tests/gate-basic-xenial-ocata'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/12364a109b8eba25507cccf3f496a0fd1773d72a', 'message': ""Fix novaclient creation for ocata and later.\n\nnovaclient.client.Client's positional args changed in 7.0.0 (ocata),\nbreaking this charm. This commit changes the client to use\nkeystoneauth1 based session authentication to work around that issue.\n\nAlso enable ocata tests.\n\nCloses-Bug: #1671619\n\nChange-Id: I5d24c5351609ef57a3f47233cfbdaf8e4b7d8bc6\n""}]",1,452981,12364a109b8eba25507cccf3f496a0fd1773d72a,27,4,4,22446,,,0,"Fix novaclient creation for ocata and later.

novaclient.client.Client's positional args changed in 7.0.0 (ocata),
breaking this charm. This commit changes the client to use
keystoneauth1 based session authentication to work around that issue.

Also enable ocata tests.

Closes-Bug: #1671619

Change-Id: I5d24c5351609ef57a3f47233cfbdaf8e4b7d8bc6
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/81/452981/4 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/tempest.py'],1,861dc598c8a0cccbdbad154292d61cf894daee79,bug/1671619,"import keystoneauth1.identity.v2 as keystoneauth1_v2 import keystoneauth1.session as keystoneauth1_session def get_nova_client(self): if not self.keystone_session: auth = keystoneauth1_v2.Password( auth_url=self.keystone_auth_url(), username=self.keystone_info['service_username'], password=self.keystone_info['service_password'], tenant_name=self.keystone_info['service_tenant_name']) self.keystone_session = keystoneauth1_session.Session(auth=auth) return novaclient_client.Client( 2, session=self.keystone_session) nova_client = self.get_nova_client()"," if self.keystone_session: nova_client = novaclient_client.Client( 2, session=self.keystone_session) else: nova_client = novaclient_client.Client( 2, self.keystone_info['service_username'], self.keystone_info['service_password'], self.keystone_info['service_tenant_name'], self.keystone_auth_url(), )",14,11
openstack%2Fceilometermiddleware~master~Ifa5dfb07b32ad753a1bdad26d2517df29e27aedc,openstack/ceilometermiddleware,master,Ifa5dfb07b32ad753a1bdad26d2517df29e27aedc,Switch to get_notification_transport for Notifier,MERGED,2017-04-03 15:12:40.000000000,2017-04-04 17:52:15.000000000,2017-04-04 17:52:15.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 8770}]","[{'number': 1, 'created': '2017-04-03 15:12:40.000000000', 'files': ['releasenotes/notes/bug-1679196-ab9d6bb2134120e0.yaml', 'ceilometermiddleware/swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/0cea730b10000f9e16af33d1cbbe9ca2004a3880', 'message': 'Switch to get_notification_transport for Notifier\n\nIncorrect transport would get used when dual backends configured\nfor oslo.messaging\n\nChange-Id: Ifa5dfb07b32ad753a1bdad26d2517df29e27aedc\n'}]",0,452793,0cea730b10000f9e16af33d1cbbe9ca2004a3880,8,3,1,20523,,,0,"Switch to get_notification_transport for Notifier

Incorrect transport would get used when dual backends configured
for oslo.messaging

Change-Id: Ifa5dfb07b32ad753a1bdad26d2517df29e27aedc
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/93/452793/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1679196-ab9d6bb2134120e0.yaml', 'ceilometermiddleware/swift.py']",2,0cea730b10000f9e16af33d1cbbe9ca2004a3880,bug/1679196," oslo_messaging.get_notification_transport(cfg.CONF, url=conf.get('url')),"," oslo_messaging.get_transport(cfg.CONF, url=conf.get('url')),",7,1
openstack%2Fnova-specs~master~I2e42488b3d605050bf9a894f58d16de6ca2744e3,openstack/nova-specs,master,I2e42488b3d605050bf9a894f58d16de6ca2744e3,Add hierarchy quota driver specification,ABANDONED,2016-11-07 13:18:15.000000000,2017-04-04 17:51:57.000000000,,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 2537}, {'_account_id': 6062}, {'_account_id': 10263}, {'_account_id': 11057}, {'_account_id': 11564}, {'_account_id': 21813}]","[{'number': 1, 'created': '2016-11-07 13:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3aa9b7aae6db4101890ad9a9381b9ada81b4699f', 'message': 'WIP Add hierarchy quota driver specification\n\nChange-Id: I2e42488b3d605050bf9a894f58d16de6ca2744e3\nblueprint: hierarchy-quota-driver\nCo-Authored-by: Kseniya Tychkova <ktychkova@mirantis.com>\n'}, {'number': 2, 'created': '2016-11-07 13:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/db76eaa02aa5f840d3ff4040206c3664023f38d3', 'message': 'WIP Add hierarchy quota driver specification\n\nChange-Id: I2e42488b3d605050bf9a894f58d16de6ca2744e3\nblueprint: hierarchy-quota-driver\nCo-Authored-by: Kseniya Tychkova <ktychkova@mirantis.com>\n'}, {'number': 3, 'created': '2016-11-07 14:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0511900da85ee0f7d9e63c15bc253be3d6ed08e0', 'message': 'WIP Add hierarchy quota driver specification\n\nChange-Id: I2e42488b3d605050bf9a894f58d16de6ca2744e3\nblueprint: hierarchy-quota-driver\nCo-Authored-by: Kseniya Tychkova <ktychkova@mirantis.com>\n'}, {'number': 4, 'created': '2016-11-08 09:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/544a86da30335f70ffe48df6ffb5afc5336cd18f', 'message': 'Add hierarchy quota driver specification\n\nChange-Id: I2e42488b3d605050bf9a894f58d16de6ca2744e3\nblueprint: hierarchy-quota-driver\nCo-Authored-by: Kseniya Tychkova <ktychkova@mirantis.com>\n'}, {'number': 5, 'created': '2017-01-09 16:42:44.000000000', 'files': ['specs/pike/approved/hierarchy-quota-driver-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/063cd1b3c78f187d0577f387556494c94729fc45', 'message': 'Add hierarchy quota driver specification\n\nChange-Id: I2e42488b3d605050bf9a894f58d16de6ca2744e3\nblueprint: hierarchy-quota-driver\nCo-Authored-by: Kseniya Tychkova <ktychkova@mirantis.com>\n'}]",1,394422,063cd1b3c78f187d0577f387556494c94729fc45,15,8,5,21813,,,0,"Add hierarchy quota driver specification

Change-Id: I2e42488b3d605050bf9a894f58d16de6ca2744e3
blueprint: hierarchy-quota-driver
Co-Authored-by: Kseniya Tychkova <ktychkova@mirantis.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/22/394422/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/hierarchy-quota-driver-api.rst'],1,3aa9b7aae6db4101890ad9a9381b9ada81b4699f,bp/hierarchy-quota-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Hierarchy Quota Driver ====================== https://blueprints.launchpad.net/nova/+spec/hierarchy-quota-driver This blueprint aims to provide `HierarchyQuotaDriver` which enforces resource limits for projects taking into account projects hierarchy in identity service. Problem description =================== OpenStack supports projects hierarchy. Projects tree can be built to provide a more manageable model and organize infrastructure according to divide and conquer paradigm. From this, it logically follows that quota management and enforcement tools should also be aware of projects hierarchy. The existing Quota Driver in Nova called `DbQuotaDriver` does not support enforcement of quotas for hierarchical project structure. It means that current Quota Driver does not check quotas for the nested projects in nova. This spec is primarily focused on limits enforcement rather than limits management which is already project aware. Use Cases --------- As cloud operator, I wish to use quota driver that aware of projects hierarchy and can enforce quota limits taking into account current project usage and sum of all subtree projects usages. I wish also to choose a mode with or without overbooking. As cloud user, I wish to understand current limits and, in the case of over quota, get the clear explanation why it happens. Proposed change =============== We propose `HierarchQuotaDriver` that is aware of projects hierarchy in identity service and can function in two enforcement modes with or without overbooking. For the nested projects limits enforcement should be in done such way that not only project usage cannot exceed project limit but the sum of project usage and subprojects usages cannot exceed project limit. An overbooking option can be enabled via configuration. The overbooking term in this context means that sum of subnodes limit values can be greater than parent limit value. For example, it allows consuming more resources for more active projects still having an upper limit in the parent project. For each reserve request `HierarchQuotaDriver` does the following steps: 1) Load project hierarchy from keystone or get it from cache according to cache settings. 2) Load quotas limits and usages corresponding tree project ids. Limits can be cached also. 3) Build quota tree from loaded data with `QuotaNode` object. 4) Check limits for node including subnodes and parent nodes if necessary. Scenario 1: Nested quotas without overbooking --------------------------------------------- There is a projects tree. Prj_0_a has to subprojects: Prj_1_a and Prj_1_b. Prj_0_a quota = 10. Prj_1_a quota = 3. Prj_1_a quota < Prj_0_a quota. Prj_1_b quota = 4. Prj_1_a quota < Prj_0_a quota. Sum(Prj_1_a quota, Prj_1_b quota) = 7 < Prj_0_a quota. :: +--------------------------------+ | | | +--------+ | | | Domain | | | +--------+ | | /\ | | / \ | | / \ | | / \ | | / \ | | +---------+ +---------+ | | | Prj_0_a | | Prj_0_b | | | +---------+ +---------+ | | |quota=10 | |quota=10 | | | +---------+ +---------+ | | /\ | | / \ | | / \ | | / \ | | / \ | | +---------+ +---------+ | | | Prj_1_a | | Prj_1_b | | | +---------+ +---------+ | | |quota=3 | |quota=4 | | | +---------+ +---------+ | | | +--------------------------------+ 1) Try to allocate 4 items of resources for project ""Prj_1_a"" - get an error due to the project limits. 2) Try to allocate 3 items of resources for project ""Prj_1_a"" - success. Prj_1_a usage = 3. 3) Try to allocate one more item for ""Prj_1_a"" - get an error due to the project limits. 4) Try to allocate 4 items for project ""Prj_1_b"" - success. Prj_1_b usage = 4. 5) Try to allocate one more item for project ""Prj_1_b"" - get an error due to the project limits. 6) Try to allocate 4 items for project ""Prj_0_a"" - get error due to the project limits (10, 3 + 4 + 4 = 11) Scenario 2: Nested quotas with overbooking ------------------------------------------ There is a projects tree. Prj_0_a has to subprojects: Prj_1_a and Prj_1_b. Prj_0_a quota = 10. Prj_1_a quota = 7. Prj_1_a quota < Prj_0_a quota. Prj_1_b quota = 10. Prj_1_a quota = Prj_0_a quota. Sum(Prj_1_a quota, Prj_1_b quota) = 17 > Prj_0_a quota. :: +--------------------------------+ | | | +--------+ | | | Domain | | | +--------+ | | /\ | | / \ | | / \ | | / \ | | / \ | | +---------+ +---------+ | | | Prj_0_a | | Prj_0_b | | | +---------+ +---------+ | | |quota=10 | |quota=10 | | | +---------+ +---------+ | | /\ | | / \ | | / \ | | / \ | | / \ | | +---------+ +---------+ | | | Prj_1_a | | Prj_1_b | | | +---------+ +---------+ | | |quota=7 | |quota=10 | | | +---------+ +---------+ | | | +--------------------------------+ 2.1) 1) Try to allocate 8 items of resources for project ""Prj_1_a"" - get an error due to the project limits. 2) Try to allocate 7 items of resources for project ""Prj_1_a"" - success. Prj_1_a usage = 7. Prj_0_a usage = 7. 3) Try to allocate one more item for ""Prj_1_a"" - get an error due to the project limits. 4) Try to allocate 3 items for ""Prj_1_b"" - success. Prj_1_b usage = 3. Prj_0_a usage = 10. 5) Try to allocate one more item for project ""Prj_1_b"" - get an error due to the parent project limits. 2.2) 1) Try to allocate 5 items for project ""Prj_0_a"" - success. Prj_0_a usage = 5. 2) Try to allocate 5 items for project ""Prj_1_a"" - success. Prj_1_a usage = 5. Prj_0_a usage = 10. 3) Try to allocate one more item for project ""Prj_1_a"" - get an error due to the parent project limits. Alternatives ------------ TODO(avolkov): describe difference between nested quotas spec Data model impact ----------------- TODO(avolkov): can be done together with other changes REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ TODO(avolkov): describe impact of loading projects at once Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * avolkov Work Items ---------- 1) Implement a new class called ``QuotaNode`` to represent a node of the quotas tree. An instance of ``QuotaNode`` class will have following attributes: * project_name * project_id * limits - a dict {project_id: {recourse: limit}, ...}} * usages - a dict {project_id: {recourse: usage}, ...}} * children - a list of child nodes * parent - parent node 2) Implement a new Quota Driver called `HierarchyQuotaDriver` by extending the existing `DbQuotaDriver`, to enforce quotas in hierarchical multitenancy in OpenStack. 3) A new driver `HierarchyQuotaDriver` will build a tree of instances `QuotaNode` to check limits and usages of resource for project. 4) The check will be done by `check` method in the `QuotaNode` class. It will work for non-overbooking and overbooking case because of flag. 5) If `OVERBOOKING_ALLOWED` flag is set to False: Sum of subprojects usages + project usage should be <= project limit. 6) If `OVERBOOKING_ALLOWED` flag is set to True in addition to the previous condition should be called a check for the parent project. Dependencies ============ None Testing ======= TODO(avolkov): describe cross projects testing Documentation Impact ==================== Developer docs should be added that detail the new `HierarchyQuotaDriver` functionality. References ========== * `Heirarchical Projects <http://specs.openstack.org/openstack/keystone-specs/specs/juno/hierarchical_multitenancy.html>`_ * `Nested Quota Driver API <https://review.openstack.org/#/c/160605/3/specs/liberty/approved/nested-quota-driver-api.rst>`_ * `PoC: add hierarchy quota driver <https://review.openstack.org/#/c/391072/>`_ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Newton - Introduced ",,326,0
openstack%2Fhorizon~master~Ie341eac840f18aee3e5de526d7a96813f41e2809,openstack/horizon,master,Ie341eac840f18aee3e5de526d7a96813f41e2809,Horizon checks non-existent policy action,ABANDONED,2016-11-18 16:23:30.000000000,2017-04-04 17:51:45.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 7665}, {'_account_id': 8040}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 11778}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 17896}, {'_account_id': 23184}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2016-11-18 16:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eddbd35e45ab0f9acadbadec7a84beb448d8c17f', 'message': 'Horizon checks non-existent policy action\n\nHorizon checks a neutron policy.json action that does not exists.\n""remove_router"" doesn\'t exists in the neutron_policy.json.\n\nChange-Id: Ie341eac840f18aee3e5de526d7a96813f41e2809\nCloses-Bug: #1638344\n'}, {'number': 2, 'created': '2016-11-18 18:33:03.000000000', 'files': ['openstack_dashboard/dashboards/project/firewalls/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/72ab6248c20ebad549a9f3057cbd28f30a04f786', 'message': 'Horizon checks non-existent policy action\n\nHorizon checks a neutron policy.json action that does not exists.\n""remove_router"" doesn\'t exists in the neutron_policy.json.\n\nChange-Id: Ie341eac840f18aee3e5de526d7a96813f41e2809\nCloses-Bug: #1638344\n'}]",4,399673,72ab6248c20ebad549a9f3057cbd28f30a04f786,15,16,2,17896,,,0,"Horizon checks non-existent policy action

Horizon checks a neutron policy.json action that does not exists.
""remove_router"" doesn't exists in the neutron_policy.json.

Change-Id: Ie341eac840f18aee3e5de526d7a96813f41e2809
Closes-Bug: #1638344
",git fetch https://review.opendev.org/openstack/horizon refs/changes/73/399673/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/firewalls/tables.py'],1,eddbd35e45ab0f9acadbadec7a84beb448d8c17f,bug/1638344," (""network"", ""update_firewall""),)"," (""network"", ""remove_router""),)",1,1
openstack%2Fnova~master~I6db254fdaa60923732fe01ae53a98e5d7f126247,openstack/nova,master,I6db254fdaa60923732fe01ae53a98e5d7f126247,trivial: Add a note about 'cells_api',MERGED,2017-03-13 14:25:32.000000000,2017-04-04 17:46:57.000000000,2017-04-04 17:46:57.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 7037}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15888}]","[{'number': 1, 'created': '2017-03-13 14:25:32.000000000', 'files': ['nova/compute/cells_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a612e8a8a54e38de2345939754aeb5945f8260c', 'message': ""trivial: Add a note about 'cells_api'\n\nI was confused about what was cells v1 and what was cells v2. That got\nclarified in a review [1]. Add this clarification to the code itself.\n\n[1] https://review.openstack.org/#/c/391941/22/nova/compute/cells_api.py\n\nChange-Id: I6db254fdaa60923732fe01ae53a98e5d7f126247\n""}]",0,444926,6a612e8a8a54e38de2345939754aeb5945f8260c,24,8,1,15334,,,0,"trivial: Add a note about 'cells_api'

I was confused about what was cells v1 and what was cells v2. That got
clarified in a review [1]. Add this clarification to the code itself.

[1] https://review.openstack.org/#/c/391941/22/nova/compute/cells_api.py

Change-Id: I6db254fdaa60923732fe01ae53a98e5d7f126247
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/444926/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/cells_api.py'],1,6a612e8a8a54e38de2345939754aeb5945f8260c,,"""""""Compute API that proxies via Cells Service. This relates to cells v1. This layer is basically responsible for intercepting compute/api calls at the top layer and forwarding to the child cell to be replayed there. """"""","""""""Compute API that proxies via Cells Service.""""""",6,1
openstack%2Fnova~master~I40dfd0599394494e0eda4c80ffabf736fc93b92c,openstack/nova,master,I40dfd0599394494e0eda4c80ffabf736fc93b92c,Remove _wait_for_state_change() calls from notification (action)tests,MERGED,2017-03-29 07:11:18.000000000,2017-04-04 17:46:31.000000000,2017-04-04 17:46:31.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 15334}, {'_account_id': 18602}]","[{'number': 1, 'created': '2017-03-29 07:11:18.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5b208de6a86f1680cd799d614948ea0ac581951', 'message': 'Remove _wait_for_state_change() calls from notification (action)tests\n\nThe _wait_for_state_change method() is called (with the active status)\nafter every notification action (in test_instance_action), so it can\nbe deleted from the action-tests.\n\nChange-Id: I40dfd0599394494e0eda4c80ffabf736fc93b92c\n'}]",1,451217,d5b208de6a86f1680cd799d614948ea0ac581951,15,4,1,18603,,,0,"Remove _wait_for_state_change() calls from notification (action)tests

The _wait_for_state_change method() is called (with the active status)
after every notification action (in test_instance_action), so it can
be deleted from the action-tests.

Change-Id: I40dfd0599394494e0eda4c80ffabf736fc93b92c
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/451217/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,d5b208de6a86f1680cd799d614948ea0ac581951,,," self._wait_for_state_change(self.admin_api, server, 'ACTIVE') self._wait_for_state_change(self.admin_api, server, 'ACTIVE') self._wait_for_state_change(self.api, server, 'ACTIVE')",0,3
openstack%2Fnova~master~I3a8977fb1ea035acd0da71233e184ed293619556,openstack/nova,master,I3a8977fb1ea035acd0da71233e184ed293619556,Remove unnecessary tearDown function in testcase,MERGED,2017-04-01 03:06:12.000000000,2017-04-04 17:42:36.000000000,2017-04-04 17:42:36.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 15751}]","[{'number': 1, 'created': '2017-04-01 03:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fc924b4982e0226d33031f63bd95bbc5179ba67', 'message': 'Remove unnecessary tearDown function in testcase\n\nChange-Id: I3a8977fb1ea035acd0da71233e184ed293619556\n'}, {'number': 2, 'created': '2017-04-01 03:11:35.000000000', 'files': ['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59379eec8a3baf87ac1fe42e00f7942d9bdad328', 'message': 'Remove unnecessary tearDown function in testcase\n\nIn testcase, tearDown will be called automatically. This patch used to\nremove tearDown functions that do nothing. Besides, it will keep code clean\n\nChange-Id: I3a8977fb1ea035acd0da71233e184ed293619556\n'}]",0,452371,59379eec8a3baf87ac1fe42e00f7942d9bdad328,19,5,2,23958,,,0,"Remove unnecessary tearDown function in testcase

In testcase, tearDown will be called automatically. This patch used to
remove tearDown functions that do nothing. Besides, it will keep code clean

Change-Id: I3a8977fb1ea035acd0da71233e184ed293619556
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/452371/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2fc924b4982e0226d33031f63bd95bbc5179ba67,fix,," def tearDown(self): super(LibvirtVolumeSnapshotTestCase, self).tearDown() ",0,6
openstack%2Ftempest~master~Ie0db2079163f536ae72668c8fc9129ae4c6389e2,openstack/tempest,master,Ie0db2079163f536ae72668c8fc9129ae4c6389e2,Add tempest test writing guide,MERGED,2017-03-01 20:28:38.000000000,2017-04-04 17:42:26.000000000,2017-04-04 17:42:26.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 12393}, {'_account_id': 16690}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-03-01 20:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6932c23068d87421f4476643594f28030f91694d', 'message': 'WIP: Add tempest test writing guide\n\nThis commit is the start of a new doc guide for helping people figure\nout how to write good tempest tests.\n\nChange-Id: Ie0db2079163f536ae72668c8fc9129ae4c6389e2\n'}, {'number': 2, 'created': '2017-03-03 15:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/617e17efaaed1e669b1ac85e2af437de2939158f', 'message': 'WIP: Add tempest test writing guide\n\nThis commit is the start of a new doc guide for helping people figure\nout how to write good tempest tests.\n\nChange-Id: Ie0db2079163f536ae72668c8fc9129ae4c6389e2\n'}, {'number': 3, 'created': '2017-03-06 14:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3777fa46aa64734983a2ef151e253b9e1de3cab2', 'message': 'WIP: Add tempest test writing guide\n\nThis commit is the start of a new doc guide for helping people figure\nout how to write good tempest tests.\n\nChange-Id: Ie0db2079163f536ae72668c8fc9129ae4c6389e2\n'}, {'number': 4, 'created': '2017-03-31 16:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dccf94d0ce9163280ce9a9fb42e7e65b9a46588c', 'message': ""Add tempest test writing guide\n\nThis commit is the start of a new doc guide for helping people figure\nout how to write good tempest tests. This is just a starting point for\nthe document and doesn't cover every aspect of writing a test case in\ntempest. Right now it just covers the setupClass phase for writing\nTestCases. It will be expanded upon in future commits to give a complete\nguide to writing tests in Tempest.\n\nChange-Id: Ie0db2079163f536ae72668c8fc9129ae4c6389e2\n""}, {'number': 5, 'created': '2017-04-03 15:54:37.000000000', 'files': ['doc/source/index.rst', 'doc/source/write_tests.rst', 'doc/source/configuration.rst', 'doc/source/plugin.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8ab5f9b080d67ef5023a9a2eaa3e9ed8feafd7a', 'message': ""Add tempest test writing guide\n\nThis commit is the start of a new doc guide for helping people figure\nout how to write good tempest tests. This is just a starting point for\nthe document and doesn't cover every aspect of writing a test case in\ntempest. Right now it just covers the setupClass phase for writing\nTestCases. It will be expanded upon in future commits to give a complete\nguide to writing tests in Tempest.\n\nChange-Id: Ie0db2079163f536ae72668c8fc9129ae4c6389e2\n""}]",56,439830,e8ab5f9b080d67ef5023a9a2eaa3e9ed8feafd7a,36,12,5,5196,,,0,"Add tempest test writing guide

This commit is the start of a new doc guide for helping people figure
out how to write good tempest tests. This is just a starting point for
the document and doesn't cover every aspect of writing a test case in
tempest. Right now it just covers the setupClass phase for writing
TestCases. It will be expanded upon in future commits to give a complete
guide to writing tests in Tempest.

Change-Id: Ie0db2079163f536ae72668c8fc9129ae4c6389e2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/439830/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/write_tests.rst', 'doc/source/plugin.rst']",3,6932c23068d87421f4476643594f28030f91694d,439830,.. _tempest_plugin: ,,188,0
openstack%2Fcinder~stable%2Fnewton~If2e3bae98db225ff0cfc9e868eaaeef088135562,openstack/cinder,stable/newton,If2e3bae98db225ff0cfc9e868eaaeef088135562,NetApp: Track SVM and Cluster scoped credentials,MERGED,2017-03-29 20:22:51.000000000,2017-04-04 17:42:07.000000000,2017-04-04 17:42:07.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-03-29 20:22:51.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff961336eeeaa35f77230b69519fb3fab4a35d83', 'message': 'NetApp: Track SVM and Cluster scoped credentials\n\nThis fix avoids logging an exception when a user\nchooses to use an SVM scoped account. cDOT\ndriver requires cluster scoped privileges to\ngather backend statistics, performance\ncounters, etc. These APIs are not available for\nSVM scoped credentials.\n\nCloses-Bug: #1660870\nChange-Id: If2e3bae98db225ff0cfc9e868eaaeef088135562\n(cherry picked from commit 0f9b6e9ac2ddfd4f90b1a3a71ec46fa56008aaee)\n(cherry picked from commit 109177a366b2440f31d5994df0318bdc0124a88b)\n'}]",0,451548,ff961336eeeaa35f77230b69519fb3fab4a35d83,24,5,1,16643,,,0,"NetApp: Track SVM and Cluster scoped credentials

This fix avoids logging an exception when a user
chooses to use an SVM scoped account. cDOT
driver requires cluster scoped privileges to
gather backend statistics, performance
counters, etc. These APIs are not available for
SVM scoped credentials.

Closes-Bug: #1660870
Change-Id: If2e3bae98db225ff0cfc9e868eaaeef088135562
(cherry picked from commit 0f9b6e9ac2ddfd4f90b1a3a71ec46fa56008aaee)
(cherry picked from commit 109177a366b2440f31d5994df0318bdc0124a88b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/451548/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py']",5,ff961336eeeaa35f77230b69519fb3fab4a35d83,bug/1660870,"from oslo_utils import excutils def list_cluster_nodes(self): """"""Get all available cluster nodes."""""" api_args = { 'desired-attributes': { 'node-details-info': { 'node': None, }, }, } result = self.send_iter_request('system-node-get-iter', api_args) nodes_info_list = result.get_child_by_name( 'attributes-list') or netapp_api.NaElement('none') return [node_info.get_child_content('node') for node_info in nodes_info_list.get_children()] def check_for_cluster_credentials(self): """"""Checks whether cluster-scoped credentials are being used or not."""""" try: self.list_cluster_nodes() # API succeeded, so definitely a cluster management LIF return True except netapp_api.NaApiError as e: if e.code == netapp_api.EAPINOTFOUND: LOG.debug('Not connected to cluster management LIF.') else: with excutils.save_and_reraise_exception(): msg = _LE('Failed to get the list of nodes.') LOG.exception(msg) return False except netapp_api.NaApiError as e: if e.code == netapp_api.EAPIPRIVILEGE: LOG.debug('Dedupe info for volume %(name)s will not be ' 'collected. This API requires cluster-scoped ' 'credentials.', {'name': flexvol_name}) else: msg = _LE('Failed to get dedupe info for volume %s.') LOG.exception(msg, flexvol_name) except netapp_api.NaApiError as e: if e.code == netapp_api.EAPINOTFOUND: LOG.debug('Aggregate info can only be collected with ' 'cluster-scoped credentials.') else: msg = _LE('Failed to get info for aggregate %s.') LOG.exception(msg, aggregate_name) except netapp_api.NaApiError as e: if e.code == netapp_api.EAPINOTFOUND: LOG.debug('Disk types can only be collected with ' 'cluster scoped credentials.') else: msg = _LE('Failed to get disk info for aggregate %s.') LOG.exception(msg, aggregate_name) except netapp_api.NaApiError as e: if e.code == netapp_api.EAPINOTFOUND: LOG.debug('Aggregate capacity can only be collected with ' 'cluster scoped credentials.') else: msg = _LE('Failed to get info for aggregate %s.') LOG.exception(msg, aggregate_name)"," except netapp_api.NaApiError: msg = _LE('Failed to get dedupe info for volume %s.') LOG.exception(msg, flexvol_name) except netapp_api.NaApiError: msg = _LE('Failed to get info for aggregate %s.') LOG.exception(msg, aggregate_name) except netapp_api.NaApiError: msg = _LE('Failed to get disk info for aggregate %s.') LOG.exception(msg, aggregate_name) except netapp_api.NaApiError: msg = _LE('Failed to get info for aggregate %s.') LOG.exception(msg, aggregate_name)",190,17
openstack%2Fcinder~stable%2Focata~I1483ca38362c5ff1724940c2abf1179e75e02c8e,openstack/cinder,stable/ocata,I1483ca38362c5ff1724940c2abf1179e75e02c8e,VMAX driver - Live Migration is dropping connection,MERGED,2017-03-31 10:06:49.000000000,2017-04-04 17:41:49.000000000,2017-04-04 17:41:49.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-03-31 10:06:49.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57d29519afa70bf55bc8315899582a2bbbd34da3', 'message': 'VMAX driver - Live Migration is dropping connection\n\nWhen Live migrating from one compute node to another the connection\ndrops and requires the instance to be rebooted. To prevent this\nfrom happening we need to share the storage group and port group\nbetween masking views.\n\nChange-Id: I1483ca38362c5ff1724940c2abf1179e75e02c8e\nCloses-Bug: #1676459\n(cherry picked from commit 069dd5b80db1af365052e97a811b26a72d47a094)\n'}]",0,452125,57d29519afa70bf55bc8315899582a2bbbd34da3,29,4,1,12670,,,0,"VMAX driver - Live Migration is dropping connection

When Live migrating from one compute node to another the connection
drops and requires the instance to be rebooted. To prevent this
from happening we need to share the storage group and port group
between masking views.

Change-Id: I1483ca38362c5ff1724940c2abf1179e75e02c8e
Closes-Bug: #1676459
(cherry picked from commit 069dd5b80db1af365052e97a811b26a72d47a094)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/452125/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py']",5,57d29519afa70bf55bc8315899582a2bbbd34da3,,,"import osfrom oslo_serialization import jsonutils def insert_live_migration_record(self, volume, maskingviewdict, connector, extraSpecs): """"""Insert a record of live migration destination into a temporary file :param volume: the volume dictionary :param maskingviewdict: the storage group instance name :param connector: the connector Object :param extraSpecs: the extraSpecs dict """""" live_migration_details = self.get_live_migration_record(volume, True) if live_migration_details: if volume['id'] not in live_migration_details: live_migration_details[volume['id']] = [maskingviewdict, connector, extraSpecs] else: live_migration_details = {volume['id']: [maskingviewdict, connector, extraSpecs]} try: with open(LIVE_MIGRATION_FILE, ""w"") as f: jsonutils.dump(live_migration_details, f) except Exception: exceptionMessage = (_( ""Error in processing live migration file."")) LOG.exception(exceptionMessage) raise exception.VolumeBackendAPIException( data=exceptionMessage) def delete_live_migration_record(self, volume): """"""Delete record of live migration Delete record of live migration destination from file and if after deletion of record, delete file if empty. :param volume: the volume dictionary """""" live_migration_details = self.get_live_migration_record(volume, True) if live_migration_details: if volume['id'] in live_migration_details: del live_migration_details[volume['id']] with open(LIVE_MIGRATION_FILE, ""w"") as f: jsonutils.dump(live_migration_details, f) else: LOG.debug(""%(Volume)s doesn't exist in live migration "" ""record."", {'Volume': volume['id']}) if not live_migration_details: os.remove(LIVE_MIGRATION_FILE) def get_live_migration_record(self, volume, returnallrecords): """"""get record of live migration destination from a temporary file :param volume: the volume dictionary :param returnallrecords: if true, return all records in file :returns: returns a single record or all records depending on returnallrecords flag """""" returned_record = None if os.path.isfile(LIVE_MIGRATION_FILE): with open(LIVE_MIGRATION_FILE, ""rb"") as f: live_migration_details = jsonutils.load(f) if returnallrecords: returned_record = live_migration_details else: if volume['id'] in live_migration_details: returned_record = live_migration_details[volume['id']] else: LOG.debug(""%(Volume)s doesn't exist in live migration "" ""record."", {'Volume': volume['id']}) return returned_record ",429,328
openstack%2Ftripleo-incubator~master~I82e1383d68573f5616551da51c938cb87b0f74cb,openstack/tripleo-incubator,master,I82e1383d68573f5616551da51c938cb87b0f74cb,H803 hacking have been deprecated,MERGED,2016-12-22 07:09:10.000000000,2017-04-04 17:34:58.000000000,2017-04-04 17:34:58.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 11672}]","[{'number': 1, 'created': '2016-12-22 07:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/04f8ba37332a35acbd15707ec60b3433f458342a', 'message': 'H803 hacking have been deprecated\n\nH803 hacking have been removed since hacking 0.10.\nhttps://github.com/openstack-dev/hacking/blob/master/setup.cfg.\nCloses-Bug: #1651963\n\nChange-Id: I82e1383d68573f5616551da51c938cb87b0f74cb\n'}, {'number': 2, 'created': '2017-03-17 02:35:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/a7686792e731c8c49b630271b4aec15b9ba9cce2', 'message': 'H803 hacking have been deprecated\n\nH803 hacking have been removed since hacking 0.10.\nhttps://github.com/openstack-dev/hacking/blob/master/setup.cfg.\nCloses-Bug: #1651963\n\nChange-Id: I82e1383d68573f5616551da51c938cb87b0f74cb\n'}]",0,413938,a7686792e731c8c49b630271b4aec15b9ba9cce2,45,3,2,11672,,,0,"H803 hacking have been deprecated

H803 hacking have been removed since hacking 0.10.
https://github.com/openstack-dev/hacking/blob/master/setup.cfg.
Closes-Bug: #1651963

Change-Id: I82e1383d68573f5616551da51c938cb87b0f74cb
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/38/413938/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,04f8ba37332a35acbd15707ec60b3433f458342a,bug/1651963,,ignore = H803,0,1
openstack%2Fdragonflow~master~I048a9874331c67c3c186da20ce1628f82c5eae06,openstack/dragonflow,master,I048a9874331c67c3c186da20ce1628f82c5eae06,Introduce notion of first class models,MERGED,2017-04-03 12:59:31.000000000,2017-04-04 17:28:49.000000000,2017-04-04 17:28:49.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-04-03 12:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/8879f042b79f00c763eedeebd7a09c3bdc86eef1', 'message': ""Introduce notion of first class models\n\nFirst class models are models that reside in their own table in the NB\ndatabase (as opposed to models embedded in other models).\n\nThis patch adds extra checks for models passed to @register_model\ndecorator, to make sure we're adding only models that are first class\nand we're not creating a conflict in the database.\n\nChange-Id: I048a9874331c67c3c186da20ce1628f82c5eae06\n""}, {'number': 2, 'created': '2017-04-04 08:45:48.000000000', 'files': ['dragonflow/tests/unit/test_model_framework.py', 'dragonflow/db/model_framework.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/3d6b5190adffb6cab8e82e86b718b5a7c43513e4', 'message': ""Introduce notion of first class models\n\nFirst class models are models that reside in their own table in the NB\ndatabase (as opposed to models embedded in other models).\n\nThis patch adds extra checks for models passed to @register_model\ndecorator, to make sure we're adding only models that are first class\nand we're not creating a conflict in the database.\n\nChange-Id: I048a9874331c67c3c186da20ce1628f82c5eae06\n""}]",0,452745,3d6b5190adffb6cab8e82e86b718b5a7c43513e4,10,6,2,23766,,,0,"Introduce notion of first class models

First class models are models that reside in their own table in the NB
database (as opposed to models embedded in other models).

This patch adds extra checks for models passed to @register_model
decorator, to make sure we're adding only models that are first class
and we're not creating a conflict in the database.

Change-Id: I048a9874331c67c3c186da20ce1628f82c5eae06
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/45/452745/2 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/tests/unit/test_model_framework.py', 'dragonflow/db/model_framework.py']",2,8879f042b79f00c763eedeebd7a09c3bdc86eef1,enforce_first_class," @classmethod def is_first_class(cls): return hasattr(cls, 'table_name') if not cls.is_first_class(): raise ValueError( _('Non first-class {0} model cannot be registered').format( cls.__name__, ), ) if cls.table_name in _lookup_by_table_name: raise ValueError( _('Cannot register {0} to table {1}, ' 'already occupied by {2}').format( cls.__name__, cls.table_name, _lookup_by_table_name[cls.table_name].__name__, ), ) _lookup_by_table_name[cls.table_name] = cls return cls for key in _lookup_by_table_name: yield key"," try: _lookup_by_table_name[cls.table_name] = cls except AttributeError: pass finally: return cls for model in iter_models(): if hasattr(model, 'table_name'): yield model.table_name",33,10
openstack%2Fpatrole~master~Ifcca3a127d8ed7811521189077ce428f656806fa,openstack/patrole,master,Ifcca3a127d8ed7811521189077ce428f656806fa,Identity V3 (ext) Tests - Oauth Consumers,MERGED,2017-03-15 23:43:34.000000000,2017-04-04 17:24:37.000000000,2017-04-04 17:24:37.000000000,"[{'_account_id': 3}, {'_account_id': 23185}, {'_account_id': 23186}, {'_account_id': 23900}]","[{'number': 1, 'created': '2017-03-15 23:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d2e4beb2042eebb571ed5d86d316d3255fbecca9', 'message': 'Identity V3 (ext) Tests - Oauth Consumers\n\nTests for identity v3 extension oauth consumers\nRequires missing Oauth Consumers Client (missing from tempest)\n\nCo-Authored-By: Kaustuv Royburman (kr336r@us.att.com)\nPartially-Implements bp: initial-tests-identity\n\nChange-Id: Ifcca3a127d8ed7811521189077ce428f656806fa\n'}, {'number': 2, 'created': '2017-03-17 17:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/0684cfde1e0f6fc4917ecaf360cd76aa02638bd2', 'message': 'Identity V3 (ext) Tests - Oauth Consumers\n\nTests for identity v3 extension oauth consumers\nRequires missing Oauth Consumers Client (missing from tempest)\n\nCo-Authored-By: Kaustuv Royburman (kr336r@us.att.com)\nPartially-Implements bp: initial-tests-identity\n\nChange-Id: Ifcca3a127d8ed7811521189077ce428f656806fa\nDepends-On: I6d0884637cfe00a5313a5d019e1e062316f76d57'}, {'number': 3, 'created': '2017-03-30 16:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/bfae68c5d56c36ed940265a63082adf6a28f4d54', 'message': 'Identity V3 (ext) Tests - Oauth Consumers\n\nTests for identity v3 extension oauth consumers\nRequires missing Oauth Consumers Client (missing from tempest)\n\nCo-Authored-By: Kaustuv Royburman (kr336r@us.att.com)\nPartially-Implements bp: initial-tests-identity\n\nChange-Id: Ifcca3a127d8ed7811521189077ce428f656806fa\nDepends-On: I6d0884637cfe00a5313a5d019e1e062316f76d57'}, {'number': 4, 'created': '2017-04-03 15:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/022168678808d4a81b25438f21252eef1d1e6fd6', 'message': 'Identity V3 (ext) Tests - Oauth Consumers\n\nTests for identity v3 extension oauth consumers\nRequires missing Oauth Consumers Client (missing from tempest)\n\nCo-Authored-By: Kaustuv Royburman (kr336r@us.att.com)\nPartially-Implements bp: initial-tests-identity\n\nChange-Id: Ifcca3a127d8ed7811521189077ce428f656806fa\nDepends-On: I6d0884637cfe00a5313a5d019e1e062316f76d57\n'}, {'number': 5, 'created': '2017-04-04 15:31:28.000000000', 'files': ['patrole_tempest_plugin/tests/api/identity/v3/test_oauth_consumers_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/rbac_base.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/f512433299b78e837201940439dd1df45f9f5afc', 'message': 'Identity V3 (ext) Tests - Oauth Consumers\n\nTests for identity v3 extension oauth consumers\nRequires missing Oauth Consumers Client (missing from tempest)\n\nCo-Authored-By: Kaustuv Royburman (kr336r@us.att.com)\nPartially-Implements bp: initial-tests-identity\n\nChange-Id: Ifcca3a127d8ed7811521189077ce428f656806fa\nDepends-On: I6d0884637cfe00a5313a5d019e1e062316f76d57\n'}]",1,446229,f512433299b78e837201940439dd1df45f9f5afc,18,4,5,23625,,,0,"Identity V3 (ext) Tests - Oauth Consumers

Tests for identity v3 extension oauth consumers
Requires missing Oauth Consumers Client (missing from tempest)

Co-Authored-By: Kaustuv Royburman (kr336r@us.att.com)
Partially-Implements bp: initial-tests-identity

Change-Id: Ifcca3a127d8ed7811521189077ce428f656806fa
Depends-On: I6d0884637cfe00a5313a5d019e1e062316f76d57
",git fetch https://review.opendev.org/openstack/patrole refs/changes/29/446229/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/identity/v3/test_oauth_consumers.py'],1,d2e4beb2042eebb571ed5d86d316d3255fbecca9,bp/initial-tests-identity,"# Copyright 2017 AT&T Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.common.utils import test_utils from tempest.lib import decorators from patrole_tempest_plugin import rbac_rule_validation from patrole_tempest_plugin.tests.api.identity.v3 import rbac_base class IdentityConsumersV3AdminRbacTest(rbac_base.BaseIdentityV3RbacAdminTest): def _create_consumer(self): description = self.rbac_random_name('test_create_consumer') consumer = self.oauth_consumers_client.create_consumer( description)['consumer'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.oauth_consumers_client.delete_consumer, consumer['id']) return consumer @rbac_rule_validation.action(service=""keystone"", rule=""identity:create_consumer"") @decorators.idempotent_id('0f148510-63bf-11e6-4522-080044d0d970') def test_create_consumer(self): self.rbac_utils.switch_role(self, switchToRbacRole=True) self._create_consumer() @rbac_rule_validation.action(service=""keystone"", rule=""identity:delete_consumer"") @decorators.idempotent_id('0f148510-63bf-11e6-4522-080044d0d971') def test_delete_consumer(self): consumer = self._create_consumer() self.rbac_utils.switch_role(self, switchToRbacRole=True) self.oauth_consumers_client.delete_consumer(consumer['id']) @rbac_rule_validation.action(service=""keystone"", rule=""identity:update_consumer"") @decorators.idempotent_id('0f148510-63bf-11e6-4522-080044d0d972') def test_update_consumer(self): consumer = self._create_consumer() new_description = self.rbac_random_name('test_update_consumer') self.rbac_utils.switch_role(self, switchToRbacRole=True) self.oauth_consumers_client.update_consumer(consumer['id'], new_description) @rbac_rule_validation.action(service=""keystone"", rule=""identity:get_consumer"") @decorators.idempotent_id('0f148510-63bf-11e6-4522-080044d0d973') def test_show_consumer(self): consumer = self._create_consumer() self.rbac_utils.switch_role(self, switchToRbacRole=True) self.oauth_consumers_client.show_consumer(consumer['id']) @rbac_rule_validation.action(service=""keystone"", rule=""identity:list_consumers"") @decorators.idempotent_id('0f148510-63bf-11e6-4522-080044d0d975') def test_list_consumers(self): self.rbac_utils.switch_role(self, switchToRbacRole=True) self.oauth_consumers_client.list_consumers() ",,75,0
openstack%2Fproject-config~master~Ia88d59cb8f0bedf93ce7bb766c2e2640c1fb5a22,openstack/project-config,master,Ia88d59cb8f0bedf93ce7bb766c2e2640c1fb5a22,Set PYTHON environment variable for Barbican Functional Tests,ABANDONED,2017-04-04 13:20:15.000000000,2017-04-04 17:23:49.000000000,,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 11561}]","[{'number': 1, 'created': '2017-04-04 13:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7b9f31409c58332259d8c9812871e56975b54e6b', 'message': 'Set PYTHON environment variable for Barbican Functional Tests\n\nWhen testing with py35, the Barbican functional tests should\nalso use py35.  This patch sets the PYTHON variable appropriately.\n\nChange-Id: Ia88d59cb8f0bedf93ce7bb766c2e2640c1fb5a22\n'}, {'number': 2, 'created': '2017-04-04 13:35:53.000000000', 'files': ['jenkins/jobs/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7667dce14324889e3e36043a1433ccba90f51f00', 'message': 'Set PYTHON environment variable for Barbican Functional Tests\n\nWhen testing with py35, the Barbican functional tests should\nalso use py35.  This patch sets the PYTHON variable appropriately.\n\nChange-Id: Ia88d59cb8f0bedf93ce7bb766c2e2640c1fb5a22\n'}]",1,453165,7667dce14324889e3e36043a1433ccba90f51f00,9,4,2,11561,,,0,"Set PYTHON environment variable for Barbican Functional Tests

When testing with py35, the Barbican functional tests should
also use py35.  This patch sets the PYTHON variable appropriately.

Change-Id: Ia88d59cb8f0bedf93ce7bb766c2e2640c1fb5a22
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/453165/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/barbican.yaml'],1,7b9f31409c58332259d8c9812871e56975b54e6b,goal-python35," if [ ""{special}"" == ""-py35"" ] ; then export PYTHON=$(which python${PYTHON3_VERSION} 2>/dev/null || which python3 2>/dev/null) fi",,3,0
openstack%2Finstack-undercloud~master~If77b6a935712e7d0a9a7ade477ec2411f56f94eb,openstack/instack-undercloud,master,If77b6a935712e7d0a9a7ade477ec2411f56f94eb,Dont include wsgi profile when legacy flag is disabled,MERGED,2017-04-04 12:27:39.000000000,2017-04-04 17:20:28.000000000,2017-04-04 17:19:51.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-04 12:27:39.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/13e559fcfd990e6d67fa10fe48a97c4de917b4f7', 'message': 'Dont include wsgi profile when legacy flag is disabled\n\nWhen we disable ceilometer api, we dont want to include wsgi\nprofile.\n\nChange-Id: If77b6a935712e7d0a9a7ade477ec2411f56f94eb\nCloses-bug: #1679676\n'}]",0,453150,13e559fcfd990e6d67fa10fe48a97c4de917b4f7,10,3,1,6924,,,0,"Dont include wsgi profile when legacy flag is disabled

When we disable ceilometer api, we dont want to include wsgi
profile.

Change-Id: If77b6a935712e7d0a9a7ade477ec2411f56f94eb
Closes-bug: #1679676
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/50/453150/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,13e559fcfd990e6d67fa10fe48a97c4de917b4f7,bug/1679676, include ::ceilometer::wsgi::apache }, } include ::ceilometer::wsgi::apache,1,1
openstack%2Fnova-specs~master~I976c0f6775d3020028e3e4cc0ed3bc67a70c421d,openstack/nova-specs,master,I976c0f6775d3020028e3e4cc0ed3bc67a70c421d,Remove Location header from createImage and createBackup response (spec),MERGED,2017-04-03 21:07:47.000000000,2017-04-04 17:18:31.000000000,2017-04-04 17:18:31.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 19590}]","[{'number': 1, 'created': '2017-04-03 21:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c6f6144415d49c74a18041bb72fbbfd680e015ba', 'message': 'Remove Location header from createImage and createBackup response (spec)\n\nThe `createImage` and `createBackup` API returns a `Location` header in the\nresponse which is a URL pointing at what is most likely an internal Glance API\nserver, and is therefore not accessible to the end user. The URL is also not\nversioned for the Image service, so unless the cloud provides an alias, the URL\nis wrong anyway. This spec proposes to replace the Location header with a simple\nresponse body json dict that contains the image_id for the snapshot image.\n\nAPIImpact\n\nSpec for blueprint remove-create-image-location-header-response\n\nChange-Id: I976c0f6775d3020028e3e4cc0ed3bc67a70c421d\n'}, {'number': 2, 'created': '2017-04-03 21:10:58.000000000', 'files': ['specs/pike/approved/remove-create-image-location-header-response.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cf8b39cff4866106932dcaeb712b0c2b8c679816', 'message': 'Remove Location header from createImage and createBackup response (spec)\n\nThe `createImage` and `createBackup` APIs return a `Location` header in the\nresponse which is a URL pointing at what is most likely an internal Glance API\nserver, and is therefore not accessible to the end user. The URL is also not\nversioned for the Image service, so unless the cloud provides an alias, the URL\nis wrong anyway. This spec proposes to replace the Location header with a simple\nresponse body json dict that contains the image_id for the snapshot image.\n\nAPIImpact\n\nSpec for blueprint remove-create-image-location-header-response\n\nChange-Id: I976c0f6775d3020028e3e4cc0ed3bc67a70c421d\n'}]",4,452951,cf8b39cff4866106932dcaeb712b0c2b8c679816,13,8,2,6873,,,0,"Remove Location header from createImage and createBackup response (spec)

The `createImage` and `createBackup` APIs return a `Location` header in the
response which is a URL pointing at what is most likely an internal Glance API
server, and is therefore not accessible to the end user. The URL is also not
versioned for the Image service, so unless the cloud provides an alias, the URL
is wrong anyway. This spec proposes to replace the Location header with a simple
response body json dict that contains the image_id for the snapshot image.

APIImpact

Spec for blueprint remove-create-image-location-header-response

Change-Id: I976c0f6775d3020028e3e4cc0ed3bc67a70c421d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/51/452951/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/remove-create-image-location-header-response.rst'],1,c6f6144415d49c74a18041bb72fbbfd680e015ba,bp/remove-create-image-location-header-response,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================== Remove Location header from createImage and createBackup responses ================================================================== `<https://blueprints.launchpad.net/nova/+spec/remove-create-image-location-header-response>`_ The `createImage` and `createBackup` APIs returns a `Location` header in the response which is a URL pointing at what is most likely an internal Glance API server, and is therefore not accessible to the end user. The URL is also not versioned for the Image service, so unless the cloud provides an alias, the URL is wrong anyway. This spec proposes to replace the Location header with a simple response body json dict that contains the image_id for the snapshot image. Problem description =================== The `createImage` and `createBackup` APIs returns a `Location` header in the response which is built from the ``CONF.glance.api_servers`` configuration within Nova that is most likely using internal addresses for Glance, making it unusable for the end user. Client code like Tempest [1]_ and python-novaclient [2]_ have always ignored the Location header in the response and just parsed the URL to get the image ID and use it for their own ``GET /v2/images/{image_id}`` request. Also, the URL in the Location header response is unversioned, but reading the image service API reference docs for the versions document and the examples, there is always a versioned prefix on the URL, e.g. ``GET /v1/images`` or ``GET /v2/images``. The fact the URL returned from nova is unversioned likely means this is a legacy artifact before Glance was split out from Nova. Use Cases --------- As a user, I want to be able to use an accurate response from the `createImage` and `createBackup` APIs to poll the status on the created snapshot image in the Image service. Proposed change =============== This blueprint proposes to remove the Location header in the response and just return the image_id in a response body dict with a new microversion for the `createImage` and `createBackup` APIs. Alternatives ------------ We could change the code that generates the Location header URL to use the `public` interface for the `image` service type in the service catalog. This would require more work since we would have to likely make the interface to use configurable. Also, given how many client libraries are already ignoring the Location header and not using it directly, but instead just parsing the image ID from the URL, we can create a cleaner break from the broken behavior of the past by returning a simple json response body with the value consumers actually care about. Data model impact ----------------- None REST API impact --------------- In a microversion, the response for the `createImage` and `createBackup` server action APIs will replace the `Location` header with a json dict response body that contains a single `image_id` key mapped to the snapshot image ID (uuid) created. So rather than return a response with a header like:: Location: http://172.21.1.10:9292/images/f5d5b63b-e710-4d59-aa12-a9bd42f6652a We will return a response with a body like:: { 'image_id': 'f5d5b63b-e710-4d59-aa12-a9bd42f6652a' } Security impact --------------- None. This is arguably more secure since we would no longer be leaking internal Glance API server IPs out of the public compute REST API. Notifications impact -------------------- None. There are actually ``compute.instance.snapshot.start`` and ``compute.instance.snapshot.end`` notifications but they do not actually contain the snapshot image ID, for whatever reason, so there is no impact to those existing notifications. Other end user impact --------------------- python-novaclient will need to be updated to handle the change in response format in the microversion for the ``nova image-create`` CLI. The ``nova backup`` CLI in python-novaclient does not currently parse the Location header from the server response to print the snapshot image ID, so there are no changes to python-novaclient for the `createBackup` change. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Matt Riedemann (mriedem) Work Items ---------- * Add the microversion response change to the `createImage` and `createBackup` server action APIs. * Update documentation, including making a note in the API reference docs that the Location header in the response before the microversion is likely broken. Dependencies ============ None Testing ======= * Unit and functional (API samples) tests as normal. * Since the `createImage` and `createBackup` APIs currently do not return a response body there is not actually an existing response schema validation check in Tempest, so one would have to be added. Documentation Impact ==================== The `createImage` and `createBackup` API reference documentation will be updated. References ========== This originally came up as a bug: https://bugs.launchpad.net/nova/+bug/1679285 .. [1] https://github.com/openstack/tempest/blob/15.0.0/tempest/api/compute/images/test_images_oneserver.py#L94 .. [2] https://github.com/openstack/python-novaclient/blob/7.1.0/novaclient/v2/servers.py#L1613 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,184,0
openstack%2Fkeystone~master~I2c8217c6c07b1ec0855c2e19c0b6115e43467175,openstack/keystone,master,I2c8217c6c07b1ec0855c2e19c0b6115e43467175,Move policy association to DocumentedRuleDefault,MERGED,2017-03-23 22:31:22.000000000,2017-04-04 17:12:59.000000000,2017-04-04 17:07:27.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 17860}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-03-23 22:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c55762ebf74204afd1e67ec0162be437344aff2b', 'message': 'Move policy association to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our policy association policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175\nPartially-Implements: bp policy-docs\n'}, {'number': 2, 'created': '2017-03-28 01:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/11f6a1bb20c9ebebdeb4c391e0ada1a7213bb0cd', 'message': 'Move policy association to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our policy association policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175\nPartially-Implements: bp policy-docs\n'}, {'number': 3, 'created': '2017-03-28 16:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e1a7b685b3770c711715e8216b0e3cfc07a4535c', 'message': 'Move policy association to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our policy association policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175\nPartially-Implements: bp policy-docs\n'}, {'number': 4, 'created': '2017-03-29 18:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e854455985f355f3c197d6b247998157a16771ee', 'message': 'Move policy association to DocumentedRuleDefault\n\nA new policy class was introduce that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our policy association policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n\nChange-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175\nPartially-Implements: bp policy-docs\n'}, {'number': 5, 'created': '2017-03-29 19:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b2530147c64ad91259af34a471c9196e6b34b5e8', 'message': 'Move policy association to DocumentedRuleDefault\n\nA new policy class was introduced that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our policy association policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175\nPartially-Implements: bp policy-docs\n'}, {'number': 6, 'created': '2017-04-04 15:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/274e1bdfc608d5b6d7179326b7d319c9bd9fcb31', 'message': 'Move policy association to DocumentedRuleDefault\n\nA new policy class was introduced that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our policy association policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175\nPartially-Implements: bp policy-docs\n'}, {'number': 7, 'created': '2017-04-04 15:45:41.000000000', 'files': ['keystone/common/policies/policy_association.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0cf247ca9a5ea7e6aad996a96503bf46cd104b62', 'message': 'Move policy association to DocumentedRuleDefault\n\nA new policy class was introduced that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our policy association policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175\nPartially-Implements: bp policy-docs\n'}]",16,449344,0cf247ca9a5ea7e6aad996a96503bf46cd104b62,26,4,7,22219,,,0,"Move policy association to DocumentedRuleDefault

A new policy class was introduced that requires
additional parameters when defining policy objects.

This patch switches our policy association policy object to
the policy.DocumentedRuleDefault and fills the
required policy parameters as needed.

Change-Id: I2c8217c6c07b1ec0855c2e19c0b6115e43467175
Partially-Implements: bp policy-docs
",git fetch https://review.opendev.org/openstack/keystone refs/changes/44/449344/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/policy_association.py'],1,c55762ebf74204afd1e67ec0162be437344aff2b,bp/policy-docs," policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Create policy association for endpoint', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'endpoints/{endpoint_id}'), 'method': 'PUT'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Check policy association for endpoint', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'endpoints/{endpoint_id}'), 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Delete policy association for endpoint', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'endpoints/{endpoint_id}'), 'method': 'DELETE'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Create policy association for service', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'services/{service_id}'), 'method': 'PUT'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Check policy association for service', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'services/{service_id}'), 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Delete policy association for service', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'services/{service_id}'), 'method': 'DELETE'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Create policy association for region and service', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'services/{service_id}/regions/{region_id}'), 'method': 'PUT'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Check policy association for region and service', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'services/{service_id}/regions/{region_id}'), 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Delete policy association for region and service', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'services/{service_id}/regions/{region_id}'), 'method': 'DELETE'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Get policy for endpoint', operations=[{'path': ('/v3/endpoints/{endpoint_id}/OS-ENDPOINT-POLICY/' 'policy'), 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='List endpoints for policy', operations=[{'path': ('/v3/policies/{policy_id}/OS-ENDPOINT-POLICY/' 'endpoints'), 'method': 'GET'}])"," policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED)",66,22
openstack%2Fkeystone~master~If68bcdb3a284647b642c0677a4ca8f4cf8531a66,openstack/keystone,master,If68bcdb3a284647b642c0677a4ca8f4cf8531a66,Move service policies to DocumentedRuleDefault,MERGED,2017-03-23 16:28:33.000000000,2017-04-04 17:00:51.000000000,2017-04-04 17:00:51.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-03-23 16:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/28c46d55f9afef866d3e66366b20331f0de937c1', 'message': 'Move service policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our service policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: If68bcdb3a284647b642c0677a4ca8f4cf8531a66\nPartially-Implements: bp policy-docs\n'}, {'number': 2, 'created': '2017-03-23 17:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fabc9bf4e6fb660d0d2b49de66f72302c3e58d03', 'message': 'Move service policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our service policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: If68bcdb3a284647b642c0677a4ca8f4cf8531a66\nPartially-Implements: bp policy-docs\n'}, {'number': 3, 'created': '2017-03-28 01:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b77e060902bc05d788036fc2a36d7af0613f9b15', 'message': 'Move service policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our service policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: If68bcdb3a284647b642c0677a4ca8f4cf8531a66\nPartially-Implements: bp policy-docs\n'}, {'number': 4, 'created': '2017-03-28 16:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b6fff83e5ec9d28057eb99d722fcfda22026f887', 'message': 'Move service policies to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our service policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: If68bcdb3a284647b642c0677a4ca8f4cf8531a66\nPartially-Implements: bp policy-docs\n'}, {'number': 5, 'created': '2017-03-30 14:42:26.000000000', 'files': ['keystone/common/policies/service.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/50430a7d168a38c242e15e0797f22f097c5ee09d', 'message': 'Move service policies to DocumentedRuleDefault\n\nA new policy class was introduce that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our service policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: If68bcdb3a284647b642c0677a4ca8f4cf8531a66\nPartially-Implements: bp policy-docs\n'}]",0,449214,50430a7d168a38c242e15e0797f22f097c5ee09d,15,3,5,22219,,,0,"Move service policies to DocumentedRuleDefault

A new policy class was introduce that requires
additional parameters when defining policy objects.

This patch switches our service policy object to
the policy.DocumentedRuleDefault and fills the
required policy parameters as needed.

Change-Id: If68bcdb3a284647b642c0677a4ca8f4cf8531a66
Partially-Implements: bp policy-docs
",git fetch https://review.opendev.org/openstack/keystone refs/changes/14/449214/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/service.py'],1,28c46d55f9afef866d3e66366b20331f0de937c1,bp/policy-docs," policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Show service details', operations=[{'path': '/v3/services/{service_id}', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='List services', operations=[{'path': '/v3/services', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Create service', operations=[{'path': '/v3/services', 'method': 'POST'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Update service', operations=[{'path': '/v3/services/{service_id}', 'method': 'PATCH'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Delete service', operations=[{'path': '/v3/services/{service_id}', 'method': 'DELETE'}])"," policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED)",25,10
openstack%2Fkeystone~master~Ie4e353149a3827f9e9beede920c8db5eb62aa003,openstack/keystone,master,Ie4e353149a3827f9e9beede920c8db5eb62aa003,Move auth to DocumentedRuleDefault,MERGED,2017-03-23 22:02:05.000000000,2017-04-04 17:00:44.000000000,2017-04-04 17:00:44.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 17860}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-03-23 22:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a85c0e6aa6bf2ccd310299f63d5aa914472c165c', 'message': 'Move auth to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our auth policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: Ie4e353149a3827f9e9beede920c8db5eb62aa003\nPartially-Implements: bp policy-docs\n'}, {'number': 2, 'created': '2017-03-28 01:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e72ce4859d44fe5aae07aec43deeaeac864d30e', 'message': 'Move auth to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our auth policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: Ie4e353149a3827f9e9beede920c8db5eb62aa003\nPartially-Implements: bp policy-docs\n'}, {'number': 3, 'created': '2017-03-28 16:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/803660f3e8b745e6fdd74d99b7b3b0b735580698', 'message': 'Move auth to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our auth policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: Ie4e353149a3827f9e9beede920c8db5eb62aa003\nPartially-Implements: bp policy-docs\n'}, {'number': 4, 'created': '2017-03-30 14:42:40.000000000', 'files': ['keystone/common/policies/auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/68eacec96ce5fd4f13fa72667b93271a7c43a973', 'message': 'Move auth to DocumentedRuleDefault\n\nA new policy class was introduce that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our auth policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: Ie4e353149a3827f9e9beede920c8db5eb62aa003\nPartially-Implements: bp policy-docs\n'}]",3,449336,68eacec96ce5fd4f13fa72667b93271a7c43a973,18,4,4,22219,,,0,"Move auth to DocumentedRuleDefault

A new policy class was introduce that requires
additional parameters when defining policy objects.

This patch switches our auth policy object to
the policy.DocumentedRuleDefault and fills the
required policy parameters as needed.

[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6

Change-Id: Ie4e353149a3827f9e9beede920c8db5eb62aa003
Partially-Implements: bp policy-docs
",git fetch https://review.opendev.org/openstack/keystone refs/changes/36/449336/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/auth.py'],1,a85c0e6aa6bf2ccd310299f63d5aa914472c165c,bp/policy-docs," policy.DocumentedRuleDefault( check_str='', description='Get service catalog', operations=[{'path': '/v3/auth/catalog', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str='', description='Get available project scopes', operations=[{'path': '/v3/auth/projects', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str='', description='Get available domain scopes', operations=[{'path': '/v3/auth/domains', 'method': 'GET'}]),"," policy.RuleDefault( check_str=''), policy.RuleDefault( check_str=''), policy.RuleDefault( check_str=''),",15,6
openstack%2Ftripleo-quickstart-extras~master~I01c6b5612a3180549ae591d13a3723b90dc67dd7,openstack/tripleo-quickstart-extras,master,I01c6b5612a3180549ae591d13a3723b90dc67dd7,Added command to list tempest plugins.,MERGED,2017-03-30 10:41:14.000000000,2017-04-04 16:59:56.000000000,2017-04-04 16:59:56.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 8367}, {'_account_id': 10459}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 16312}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-03-30 10:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/95aa813d0cfa8bb6bf069870a00ebf2428801d98', 'message': 'Added command to list tempest plugins.\n\n* It will list installed and tempest discovered tempest plugins,\n  will be helpful while debugging tempest plugins conflicting issue.\n\n* Fixed docs formatting\n\nChange-Id: I01c6b5612a3180549ae591d13a3723b90dc67dd7\n'}, {'number': 2, 'created': '2017-03-30 13:38:00.000000000', 'files': ['roles/validate-tempest/templates/run-tempest.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6fe7b1d09f792c0dc2fb995c4612df00e29d4272', 'message': 'Added command to list tempest plugins.\n\n* It will list installed and tempest discovered tempest plugins,\n  will be helpful while debugging tempest plugins conflicting issue.\n\n* Fixed docs formatting\n\nChange-Id: I01c6b5612a3180549ae591d13a3723b90dc67dd7\n'}]",0,451747,6fe7b1d09f792c0dc2fb995c4612df00e29d4272,29,9,2,12393,,,0,"Added command to list tempest plugins.

* It will list installed and tempest discovered tempest plugins,
  will be helpful while debugging tempest plugins conflicting issue.

* Fixed docs formatting

Change-Id: I01c6b5612a3180549ae591d13a3723b90dc67dd7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/451747/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/templates/run-tempest.sh.j2'],1,95aa813d0cfa8bb6bf069870a00ebf2428801d98,tempest-plugins,## FIXME(chkumar246): Tempest run interface is unstable till that use ostestr for ## running tests: https://bugs.launchpad.net/tempest/+bug/1669455export TEMPESTCLI='{{ working_dir }}/tempest_git/tools/with_venv.sh tempest' ## List Testsexport TEMPESTCLI='/usr/bin/tempest'## List tempest plugins $TEMPESTCLI list-plugin ,# FIXME(chkumar246): Tempest run interface is unstable till that use ostestr for # running tests: https://bugs.launchpad.net/tempest/+bug/1669455#List Tests,8,3
openstack%2Ftripleo-common~master~I361d178d934ec406f91a22a0ac404693048938cc,openstack/tripleo-common,master,I361d178d934ec406f91a22a0ac404693048938cc,Updated from global requirements,MERGED,2017-03-28 21:40:01.000000000,2017-04-04 16:59:50.000000000,2017-04-04 16:59:50.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 9317}]","[{'number': 1, 'created': '2017-03-28 21:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc3d845063e63220c36f78c27512c3f443ad8304', 'message': 'Updated from global requirements\n\nChange-Id: I361d178d934ec406f91a22a0ac404693048938cc\n'}, {'number': 2, 'created': '2017-03-28 22:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc09986db4cf1e610c4539f67734528f02abbec5', 'message': 'Updated from global requirements\n\nChange-Id: I361d178d934ec406f91a22a0ac404693048938cc\n'}, {'number': 3, 'created': '2017-03-30 12:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f998371cd383615119e4be07a86ceac741631ee6', 'message': 'Updated from global requirements\n\nChange-Id: I361d178d934ec406f91a22a0ac404693048938cc\n'}, {'number': 4, 'created': '2017-03-31 17:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/811c0c5fae9482355a5d11530df7020a4206d41f', 'message': 'Updated from global requirements\n\nChange-Id: I361d178d934ec406f91a22a0ac404693048938cc\n'}, {'number': 5, 'created': '2017-03-31 22:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c7a951587af413e72df8c6ed9277f15bd4c7a10', 'message': 'Updated from global requirements\n\nChange-Id: I361d178d934ec406f91a22a0ac404693048938cc\n'}, {'number': 6, 'created': '2017-04-04 11:48:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2a8b26f6cd38222d72f2a66d902567943c66483', 'message': 'Updated from global requirements\n\nChange-Id: I361d178d934ec406f91a22a0ac404693048938cc\n'}]",0,451075,a2a8b26f6cd38222d72f2a66d902567943c66483,21,3,6,11131,,,0,"Updated from global requirements

Change-Id: I361d178d934ec406f91a22a0ac404693048938cc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/451075/6 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,dc3d845063e63220c36f78c27512c3f443ad8304,openstack/requirements,oslo.log>=3.22.0 # Apache-2.0,oslo.log>=3.11.0 # Apache-2.0,1,1
openstack%2Fpuppet-tripleo~stable%2Focata~I8f4e543a7cef5e50a35a191fe20e276d518daf20,openstack/puppet-tripleo,stable/ocata,I8f4e543a7cef5e50a35a191fe20e276d518daf20,Decouple ceilometer user create from API,MERGED,2017-04-02 14:19:24.000000000,2017-04-04 16:59:45.000000000,2017-04-04 16:59:44.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6924}]","[{'number': 1, 'created': '2017-04-02 14:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/97e60bfa1bc267e42696ed1496b260d21f3ba9fe', 'message': 'Decouple ceilometer user create from API\n\nCeilometer user is needed for other ceilometer services to\nauthenticate with keystone even when API is not present.\nSo the data can be dispatched to gnocchi. Lets keep these\nseparate so user always exists even when api is not.\n\nDepends-On: Iffebd40752eafb1d30b5962da8b5624fb9df7d48\n\nCloses-bug: #1677354\n\nChange-Id: I8f4e543a7cef5e50a35a191fe20e276d518daf20\n(cherry picked from commit 38e4976b7b80487e26c75ece20bab631597240a3)\n'}, {'number': 2, 'created': '2017-04-04 12:06:57.000000000', 'files': ['manifests/profile/base/keystone.pp', 'releasenotes/notes/create-ceilo-user-for-gnocchi-b8a4d5ea2f2375a9.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/12e6b07527a9d9c3b1c36b15805a6a1dcced6f5b', 'message': 'Decouple ceilometer user create from API\n\nCeilometer user is needed for other ceilometer services to\nauthenticate with keystone even when API is not present.\nSo the data can be dispatched to gnocchi. Lets keep these\nseparate so user always exists even when api is not.\n\nDepends-On: Iffebd40752eafb1d30b5962da8b5624fb9df7d48\n\nCloses-bug: #1677354\n\nChange-Id: I8f4e543a7cef5e50a35a191fe20e276d518daf20\n(cherry picked from commit 38e4976b7b80487e26c75ece20bab631597240a3)\n'}]",0,452541,12e6b07527a9d9c3b1c36b15805a6a1dcced6f5b,13,3,2,6924,,,0,"Decouple ceilometer user create from API

Ceilometer user is needed for other ceilometer services to
authenticate with keystone even when API is not present.
So the data can be dispatched to gnocchi. Lets keep these
separate so user always exists even when api is not.

Depends-On: Iffebd40752eafb1d30b5962da8b5624fb9df7d48

Closes-bug: #1677354

Change-Id: I8f4e543a7cef5e50a35a191fe20e276d518daf20
(cherry picked from commit 38e4976b7b80487e26c75ece20bab631597240a3)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/452541/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/keystone.pp', 'releasenotes/notes/create-ceilo-user-for-gnocchi-b8a4d5ea2f2375a9.yaml']",2,97e60bfa1bc267e42696ed1496b260d21f3ba9fe,bug/1677354,--- fixes: - We need ceilometer user in cases where ceilometer API is disabled. This is to ensure other ceilometer services can still authenticate with keystone. ,,9,1
openstack%2Fkeystone~master~If83591d10c76ad25309362f68f23184309705ce0,openstack/keystone,master,If83591d10c76ad25309362f68f23184309705ce0,Consolidate duplicate test and code in test_revoke,ABANDONED,2017-03-30 17:53:57.000000000,2017-04-04 16:40:10.000000000,,"[{'_account_id': 3}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-03-30 17:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ed84326306dbf0db0576bdd0e572e17ffb014b2', 'message': 'Consolidate duplicate test and code in test_revoke\n\nThis is a work in progress. There are a few things I would like\nto address first before seriously putting this up for review and this\nwill probably be broken out into seperate patches. The summary for\nthis patch is that it puts all tests under one class. Initially\nthey were broke out into two classes soley because after revocation\nwas optomized, we tested the backend directly instead of create fake\nprivate methods and lists to spoof what would happen in the backend.\nThis will address that and clean up quite a bit of the old way of\ntesting this.\n\nChange-Id: If83591d10c76ad25309362f68f23184309705ce0\n'}, {'number': 2, 'created': '2017-03-31 14:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/97020d4f5d6ae1a366b214f3b1ed44ceb7de18a5', 'message': 'Consolidate duplicate test and code in test_revoke\n\nThis is a work in progress. There are a few things I would like\nto address first before seriously putting this up for review and this\nwill probably be broken out into seperate patches. The summary for\nthis patch is that it puts all tests under one class. Initially\nthey were broke out into two classes soley because after revocation\nwas optomized, we tested the backend directly instead of create fake\nprivate methods and lists to spoof what would happen in the backend.\nThis will address that and clean up quite a bit of the old way of\ntesting this.\n\nChange-Id: If83591d10c76ad25309362f68f23184309705ce0\n'}, {'number': 3, 'created': '2017-03-31 15:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0e22e3033e596da6818bd14ecc32f19980e1b91f', 'message': 'Consolidate duplicate test and code in test_revoke\n\nThis is a work in progress. There are a few things I would like\nto address first before seriously putting this up for review and this\nwill probably be broken out into seperate patches. The summary for\nthis patch is that it puts all tests under one class. Initially\nthey were broke out into two classes soley because after revocation\nwas optomized, we tested the backend directly instead of create fake\nprivate methods and lists to spoof what would happen in the backend.\nThis will address that and clean up quite a bit of the old way of\ntesting this.\n\nChange-Id: If83591d10c76ad25309362f68f23184309705ce0\n'}, {'number': 4, 'created': '2017-03-31 16:55:58.000000000', 'files': ['keystone/tests/unit/test_revoke.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/273b5f4e31f108603d6b12da58278cb92e8c3555', 'message': 'Consolidate duplicate test and code in test_revoke\n\nThis is a work in progress. There are a few things I would like\nto address first before seriously putting this up for review and this\nwill probably be broken out into seperate patches. The summary for\nthis patch is that it puts all tests under one class. Initially\nthey were broke out into two classes soley because after revocation\nwas optomized, we tested the backend directly instead of create fake\nprivate methods and lists to spoof what would happen in the backend.\nThis will address that and clean up quite a bit of the old way of\ntesting this.\n\nChange-Id: If83591d10c76ad25309362f68f23184309705ce0\n'}]",0,451926,273b5f4e31f108603d6b12da58278cb92e8c3555,14,2,4,18464,,,0,"Consolidate duplicate test and code in test_revoke

This is a work in progress. There are a few things I would like
to address first before seriously putting this up for review and this
will probably be broken out into seperate patches. The summary for
this patch is that it puts all tests under one class. Initially
they were broke out into two classes soley because after revocation
was optomized, we tested the backend directly instead of create fake
private methods and lists to spoof what would happen in the backend.
This will address that and clean up quite a bit of the old way of
testing this.

Change-Id: If83591d10c76ad25309362f68f23184309705ce0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/26/451926/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_revoke.py'],1,7ed84326306dbf0db0576bdd0e572e17ffb014b2,," def test_by_project_and_user_and_role(self): user_id1 = uuid.uuid4().hex user_id2 = uuid.uuid4().hex project_id = uuid.uuid4().hex token_data = _sample_blank_token() token_data['user_id'] = user_id2 token_data['project_id'] = project_id self._assertTokenNotRevoked(token_data) self.revoke_api.revoke_by_user_and_project(user_id2, project_id) self._assertTokenRevoked(token_data) def test_by_domain_user(self): # If revoke a domain, then a token for a user in the domain is revoked user_id = uuid.uuid4().hex domain_id = uuid.uuid4().hex token_data = _sample_blank_token() token_data['user_id'] = user_id token_data['identity_domain_id'] = domain_id self._assertTokenNotRevoked(token_data) self.revoke_api.revoke(revoke_model.RevokeEvent(domain_id=domain_id)) self._assertTokenRevoked(token_data) def test_by_domain_project(self): # If revoke a domain, then a token scoped to a project in the domain # is revoked. user_id = uuid.uuid4().hex user_domain_id = uuid.uuid4().hex project_id = uuid.uuid4().hex project_domain_id = uuid.uuid4().hex token_data = _sample_blank_token() token_data['user_id'] = user_id token_data['identity_domain_id'] = user_domain_id token_data['project_id'] = project_id token_data['assignment_domain_id'] = project_domain_id self._assertTokenNotRevoked(token_data) self.revoke_api.revoke( revoke_model.RevokeEvent(domain_id=project_domain_id)) self._assertTokenRevoked(token_data) def test_by_domain_domain(self): # If revoke a domain, then a token scoped to the domain is revoked. user_id = uuid.uuid4().hex user_domain_id = uuid.uuid4().hex domain_id = uuid.uuid4().hex token_data = _sample_blank_token() token_data['user_id'] = user_id token_data['identity_domain_id'] = user_domain_id token_data['assignment_domain_id'] = domain_id self._assertTokenNotRevoked(token_data) self.revoke_api.revoke(revoke_model.RevokeEvent(domain_id=domain_id)) self._assertTokenRevoked(token_data) "," def _revoke_by_user(self, user_id): return add_event( self.revoke_events, revoke_model.RevokeEvent(user_id=user_id)) def _revoke_by_expiration(self, user_id, expires_at, project_id=None, domain_id=None): event = add_event( self.revoke_events, revoke_model.RevokeEvent(user_id=user_id, expires_at=expires_at, project_id=project_id, domain_id=domain_id)) self.events.append(event) return event def _revoke_by_user_and_project(self, user_id, project_id): event = add_event(self.revoke_events, revoke_model.RevokeEvent(project_id=project_id, user_id=user_id)) self.events.append(event) return event def _revoke_by_domain(self, domain_id): event = add_event(self.revoke_events, revoke_model.RevokeEvent(domain_id=domain_id)) self.events.append(event) def test_by_project_and_user_and_role(self): user_id1 = uuid.uuid4().hex user_id2 = uuid.uuid4().hex project_id = uuid.uuid4().hex self.events.append(self._revoke_by_user(user_id1)) self.events.append( self._revoke_by_user_and_project(user_id2, project_id)) token_data = _sample_blank_token() token_data['user_id'] = user_id2 token_data['project_id'] = project_id self._assertTokenRevoked(token_data) def test_by_domain_user(self): # If revoke a domain, then a token for a user in the domain is revoked user_id = uuid.uuid4().hex domain_id = uuid.uuid4().hex token_data = _sample_blank_token() token_data['user_id'] = user_id token_data['identity_domain_id'] = domain_id self._revoke_by_domain(domain_id) self._assertTokenRevoked(token_data) def test_by_domain_project(self): # If revoke a domain, then a token scoped to a project in the domain # is revoked. user_id = uuid.uuid4().hex user_domain_id = uuid.uuid4().hex project_id = uuid.uuid4().hex project_domain_id = uuid.uuid4().hex token_data = _sample_blank_token() token_data['user_id'] = user_id token_data['identity_domain_id'] = user_domain_id token_data['project_id'] = project_id token_data['assignment_domain_id'] = project_domain_id self._revoke_by_domain(project_domain_id) self._assertTokenRevoked(token_data) def test_by_domain_domain(self): # If revoke a domain, then a token scoped to the domain is revoked. user_id = uuid.uuid4().hex user_domain_id = uuid.uuid4().hex domain_id = uuid.uuid4().hex token_data = _sample_blank_token() token_data['user_id'] = user_id token_data['identity_domain_id'] = user_domain_id token_data['assignment_domain_id'] = domain_id self._revoke_by_domain(domain_id) self._assertTokenRevoked(token_data) def _assertEmpty(self, collection): return self.assertEqual(0, len(collection), ""collection not empty"") def test_cleanup(self): events = self.events self._assertEmpty(self.revoke_events) for i in range(0, 10): events.append( self._revoke_by_user_and_project(uuid.uuid4().hex, uuid.uuid4().hex)) for event in self.events: remove_event(self.revoke_events, event) self._assertEmpty(self.revoke_events)",58,106
openstack%2Fkeystone~master~I0cabf715bf111fe8f0a648840f1c0534c7d3a225,openstack/keystone,master,I0cabf715bf111fe8f0a648840f1c0534c7d3a225,Remove redundant code in test_revoke,ABANDONED,2017-03-29 15:41:58.000000000,2017-04-04 16:40:03.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7725}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-03-29 15:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c128340b09b4321ac8c29ef1270ead9b6528e53e', 'message': 'Remove redundant code in test_revoke\n\nFor some reason we have a unit test private method _matches that\nmirrors matches from revoke_models. This patch simply removes the\nduplicate code inside the test and instead replaces the _matches call\nwith revoke_model.matches since we already import and use\nrevoke_model.\n\nChange-Id: I0cabf715bf111fe8f0a648840f1c0534c7d3a225\n'}, {'number': 2, 'created': '2017-03-29 15:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d188331e3fd4f7c7e8514df97c0241f5e0759cde', 'message': 'Remove redundant code in test_revoke\n\nFor some reason we have a unit test private method _matches that\nmirrors matches from revoke_models. This patch simply removes the\nduplicate code inside the test and instead replaces the _matches call\nwith revoke_model.matches [1] since we already import and use\nrevoke_model.\n\n[1]: https://github.com/openstack/keystone/blob/master/keystone/models/revoke_model.py#L151-L208\nChange-Id: I0cabf715bf111fe8f0a648840f1c0534c7d3a225\n'}, {'number': 3, 'created': '2017-03-29 17:29:39.000000000', 'files': ['keystone/tests/unit/test_revoke.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e084dd1864bb77bddf34cc53ff31affb6318ef7b', 'message': 'Remove redundant code in test_revoke\n\nFor some reason we have a unit test private method _matches that\nmirrors matches from revoke_models. This patch simply removes the\nduplicate code inside the test and instead replaces the _matches call\nwith revoke_model.matches [1] since we already import and use\nrevoke_model.\n\n[1]: https://github.com/openstack/keystone/blob/36da6f0c8660968e1ddacab274bace3abd78c0cb/keystone/models/revoke_model.py#L151-L208\nChange-Id: I0cabf715bf111fe8f0a648840f1c0534c7d3a225\n'}]",7,451463,e084dd1864bb77bddf34cc53ff31affb6318ef7b,11,4,3,18464,,,0,"Remove redundant code in test_revoke

For some reason we have a unit test private method _matches that
mirrors matches from revoke_models. This patch simply removes the
duplicate code inside the test and instead replaces the _matches call
with revoke_model.matches [1] since we already import and use
revoke_model.

[1]: https://github.com/openstack/keystone/blob/36da6f0c8660968e1ddacab274bace3abd78c0cb/keystone/models/revoke_model.py#L151-L208
Change-Id: I0cabf715bf111fe8f0a648840f1c0534c7d3a225
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/451463/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_revoke.py'],1,c128340b09b4321ac8c29ef1270ead9b6528e53e,refactor_test_revoke," self.assertTrue( any([revoke_model.matches(e, token_data) for e in self.events])) self.assertFalse( any([revoke_model.matches(e, token_data) for e in self.events]))","def _matches(event, token_values): """"""See if the token matches the revocation event. Used as a secondary check on the logic to Check By Tree Below: This is abrute force approach to checking. Compare each attribute from the event with the corresponding value from the token. If the event does not have a value for the attribute, a match is still possible. If the event has a value for the attribute, and it does not match the token, no match is possible, so skip the remaining checks. :param event: one revocation event to match :param token_values: dictionary with set of values taken from the token :returns: True if the token matches the revocation event, indicating the token has been revoked """""" # The token has three attributes that can match the user_id if event.user_id is not None: for attribute_name in ['user_id', 'trustor_id', 'trustee_id']: if event.user_id == token_values[attribute_name]: break else: return False # The token has two attributes that can match the domain_id if event.domain_id is not None: for attribute_name in ['identity_domain_id', 'assignment_domain_id']: if event.domain_id == token_values[attribute_name]: break else: return False if event.domain_scope_id is not None: if event.domain_scope_id != token_values['assignment_domain_id']: return False # If any one check does not match, the while token does # not match the event. The numerous return False indicate # that the token is still valid and short-circuits the # rest of the logic. attribute_names = ['project_id', 'expires_at', 'trust_id', 'consumer_id', 'access_token_id', 'audit_id', 'audit_chain_id'] for attribute_name in attribute_names: if getattr(event, attribute_name) is not None: if (getattr(event, attribute_name) != token_values[attribute_name]): return False if event.role_id is not None: roles = token_values['roles'] for role in roles: if event.role_id == role: break else: return False if token_values['issued_at'] > event.issued_before: return False return True self.assertTrue(any([_matches(e, token_data) for e in self.events])) self.assertFalse(any([_matches(e, token_data) for e in self.events]))",4,64
openstack%2Fkeystone~master~I5e13b21ad9b953f4e9af73a6aeb69d4bbeb724a8,openstack/keystone,master,I5e13b21ad9b953f4e9af73a6aeb69d4bbeb724a8,Remove unused methods in unit test test_revoke,ABANDONED,2017-04-03 15:24:37.000000000,2017-04-04 16:39:52.000000000,,"[{'_account_id': 3}, {'_account_id': 16465}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-04-03 15:24:37.000000000', 'files': ['keystone/tests/unit/test_revoke.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5bf84a69345e3d8b58b7258a77b1de1828a413cc', 'message': 'Remove unused methods in unit test test_revoke\n\nThis patch removes clutter in the test by removing a few methods\nthat were not being called and used anymore. Among the removed\nmethods are _past_time, test_cleanup, and _assertEmpty.\n\nChange-Id: I5e13b21ad9b953f4e9af73a6aeb69d4bbeb724a8\n'}]",1,452802,5bf84a69345e3d8b58b7258a77b1de1828a413cc,5,3,1,18464,,,0,"Remove unused methods in unit test test_revoke

This patch removes clutter in the test by removing a few methods
that were not being called and used anymore. Among the removed
methods are _past_time, test_cleanup, and _assertEmpty.

Change-Id: I5e13b21ad9b953f4e9af73a6aeb69d4bbeb724a8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/02/452802/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_revoke.py'],1,5bf84a69345e3d8b58b7258a77b1de1828a413cc,test-cleanup,,"def _past_time(): expire_delta = datetime.timedelta(days=-1000) past_time = timeutils.utcnow() + expire_delta return past_time def _assertEmpty(self, collection): return self.assertEqual(0, len(collection), ""collection not empty"") def test_cleanup(self): events = self.events self._assertEmpty(self.revoke_events) for i in range(0, 10): events.append( self._revoke_by_user_and_project(uuid.uuid4().hex, uuid.uuid4().hex)) for event in self.events: remove_event(self.revoke_events, event) self._assertEmpty(self.revoke_events)",0,21
openstack%2Fnova-specs~master~Ie84013771649d336c3b7e72c1e8c4f2073116b16,openstack/nova-specs,master,Ie84013771649d336c3b7e72c1e8c4f2073116b16,Update metadata-service-network-info according to implementation,MERGED,2016-07-05 18:25:15.000000000,2017-04-04 16:32:17.000000000,2017-04-04 16:32:17.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7080}, {'_account_id': 7156}, {'_account_id': 15334}]","[{'number': 1, 'created': '2016-07-05 18:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/96bc495055c5e8e4cd0d9de303d12660d87fa95d', 'message': 'Update metadata-service-network-info according to implementation\n\nThis change updates the spec to reflect the actual implementation.\n\n* Update ethernet_mac_address field name for vlan link\n  The actual field used in the implementation is ""ethernet_mac_address"",\n  not ""vlan_mac_address"" as per spec. The ""ethernet_mac_address"" field can\n  also be found in tools consuming the network_data.json. (such as glean)\n* The neutron_port_id field is vif_id\n  The Neutron port ID is stored in vif_id, not neutron_port_id.\n* The neutron_network_id field is network_id\n  The Neutron network ID is stored in network_id, not neutron_network_id.\n\nChange-Id: Ie84013771649d336c3b7e72c1e8c4f2073116b16\n'}, {'number': 2, 'created': '2016-07-05 18:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6714b371e1b902ceac895977a8ea61e557e5ae8f', 'message': 'Update metadata-service-network-info according to implementation\n\nThis change updates the spec to reflect the actual implementation.\n\n* Update ethernet_mac_address field name for vlan link\n  The actual field used in the implementation is ""ethernet_mac_address"",\n  not ""vlan_mac_address"" as per spec. The ""ethernet_mac_address"" field can\n  also be found in tools consuming the network_data.json. (such as glean)\n* The neutron_port_id field is vif_id\n  The Neutron port ID is stored in vif_id, not neutron_port_id.\n* The neutron_network_id field is network_id\n  The Neutron network ID is stored in network_id, not neutron_network_id.\n* The network_id and vif_id values are lower case\n  Actual values passed in implementation are lower case. Update example\n  so one does not conclude that Nova explicitly upper case the values.\n\nChange-Id: Ie84013771649d336c3b7e72c1e8c4f2073116b16\n'}, {'number': 3, 'created': '2016-07-05 19:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b7f978d4a2e1ac405e200f8424b93496da9e7410', 'message': 'Update metadata-service-network-info according to implementation\n\nThis change updates the spec to reflect the actual implementation.\n\n* The neutron_port_id field is vif_id\n  The Neutron port ID is stored in vif_id, not neutron_port_id.\n* The neutron_network_id field is network_id\n  The Neutron network ID is stored in network_id, not neutron_network_id.\n* The network_id and vif_id values are lower case\n  Actual values passed in implementation are lower case. Update example\n  so one does not conclude that Nova explicitly upper case the values.\n\nChange-Id: Ie84013771649d336c3b7e72c1e8c4f2073116b16\n'}, {'number': 4, 'created': '2016-08-30 00:10:22.000000000', 'files': ['specs/liberty/implemented/metadata-service-network-info.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b22bc8a2db5bde63b8bf77e14cfaebcc46ce5079', 'message': 'Update metadata-service-network-info according to implementation\n\nThis change updates the spec to reflect the actual implementation.\n\n* The neutron_port_id field is vif_id\n  The Neutron port ID is stored in vif_id, not neutron_port_id.\n* The neutron_network_id field is network_id\n  The Neutron network ID is stored in network_id, not neutron_network_id.\n* The network_id and vif_id values are lower case\n  Actual values passed in implementation are lower case. Update example\n  so one does not conclude that Nova explicitly upper case the values.\n\nChange-Id: Ie84013771649d336c3b7e72c1e8c4f2073116b16\n'}]",4,337819,b22bc8a2db5bde63b8bf77e14cfaebcc46ce5079,18,6,4,7156,,,0,"Update metadata-service-network-info according to implementation

This change updates the spec to reflect the actual implementation.

* The neutron_port_id field is vif_id
  The Neutron port ID is stored in vif_id, not neutron_port_id.
* The neutron_network_id field is network_id
  The Neutron network ID is stored in network_id, not neutron_network_id.
* The network_id and vif_id values are lower case
  Actual values passed in implementation are lower case. Update example
  so one does not conclude that Nova explicitly upper case the values.

Change-Id: Ie84013771649d336c3b7e72c1e8c4f2073116b16
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/19/337819/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/implemented/metadata-service-network-info.rst'],1,96bc495055c5e8e4cd0d9de303d12660d87fa95d,bp/metadata-service-network-info," ""ethernet_mac_address"": ""a0:36:9f:2c:e8:80"", ""vif_id"": ""E1C90E9F-EAFC-4E2D-8EC9-58B91CEBB53F"" ""network_id"": ""DA5BB487-5193-4A65-A3DF-4A0055A8C0D7"" ""network_id"": ""DA5BB487-5193-4A65-A3DF-4A0055A8C0D8"" ""network_id"": ""62611D6F-66CB-4270-8B1F-503EF0DD4736"""," ""vlan_mac_address"": ""a0:36:9f:2c:e8:80"", ""neutron_port_id"": ""E1C90E9F-EAFC-4E2D-8EC9-58B91CEBB53F"" ""neutron_network_id"": ""DA5BB487-5193-4A65-A3DF-4A0055A8C0D7"" ""neutron_network_id"": ""DA5BB487-5193-4A65-A3DF-4A0055A8C0D8"" ""neutron_network_id"": ""62611D6F-66CB-4270-8B1F-503EF0DD4736""",5,5
openstack%2Frally~master~Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53,openstack/rally,master,Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53,[plugins] Fix ironic scenarios,MERGED,2017-04-03 10:37:09.000000000,2017-04-04 16:28:22.000000000,2017-04-04 15:24:54.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 19011}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-04-03 10:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5bd9a92a7e38e8e762634c02fc11e8031b12526b', 'message': ""[ci] Change driver for ironic job\n\nDriver `pxe_ssh` was deprecated long time agi (in OpenStack Newton) and it\ndoesn't exist anymore.\n\nTo fix rally-jobs we should use `pxe_ipmitool` driver or `fake`.\n\nChange-Id: Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53\n""}, {'number': 2, 'created': '2017-04-03 17:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5de22ab75233feeef29fc78390a544258499e9d0', 'message': '[plugins] Fix ironic scenarios\n\n* Change driver for ironic job\n\n  Driver `pxe_ssh` was deprecated long time agi (in OpenStack Newton) and it\n  doesn\'t exist anymore.\n\n  To fix rally-jobs we should use `pxe_ipmitool` driver or `fake`.\n\n* Check ""name"" of node in the list of all nodes, instead of using names.\n\n* Add wait for node become active\n\n* Add waiter for node deletion\n\nChange-Id: Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53\n'}, {'number': 3, 'created': '2017-04-03 18:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bb576cbd4c5c11461ba206a8d64fcd2d67d7f600', 'message': '[plugins] Fix ironic scenarios\n\n* Change driver for ironic job\n\n  Driver `pxe_ssh` was deprecated long time agi (in OpenStack Newton) and it\n  doesn\'t exist anymore.\n\n  To fix rally-jobs we should use `pxe_ipmitool` driver or `fake`.\n\n* Check ""name"" of node in the list of all nodes, instead of using names.\n\n* Add wait for node become active\n\n* Add waiter for node deletion\n\nChange-Id: Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53\n'}, {'number': 4, 'created': '2017-04-04 10:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/69f92a10362397b9164ca52456a3314f7f9e72a3', 'message': '[plugins] Fix ironic scenarios\n\n* Change driver for ironic job\n\n  Driver `pxe_ssh` was deprecated long time agi (in OpenStack Newton) and it\n  doesn\'t exist anymore.\n\n  To fix rally-jobs we should use `pxe_ipmitool` driver or `fake`.\n\n* Check ""name"" of node in the list of all nodes, instead of using names.\n\n* Add wait for node become active\n\n* Add waiter for node deletion\n\nChange-Id: Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53\n'}, {'number': 5, 'created': '2017-04-04 12:26:19.000000000', 'files': ['rally-jobs/rally-ironic.yaml', 'tests/unit/plugins/openstack/scenarios/ironic/test_utils.py', 'rally/plugins/openstack/scenarios/ironic/nodes.py', 'tests/unit/plugins/openstack/scenarios/ironic/test_nodes.py', 'rally/plugins/openstack/scenarios/ironic/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/ad86cb4c71bac9fb2edcdbc7a067df805833aedf', 'message': '[plugins] Fix ironic scenarios\n\n* Change driver for ironic job\n\n  Driver `pxe_ssh` was deprecated long time agi (in OpenStack Newton) and it\n  doesn\'t exist anymore.\n\n  To fix rally-jobs we should use `pxe_ipmitool` driver or `fake`.\n\n* Check ""name"" of node in the list of all nodes, instead of using names.\n\n* Add wait for node become active\n\n* Add waiter for node deletion\n\n* Increase load in our gates\n\nChange-Id: Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53\n'}]",0,452687,ad86cb4c71bac9fb2edcdbc7a067df805833aedf,29,5,5,9545,,,0,"[plugins] Fix ironic scenarios

* Change driver for ironic job

  Driver `pxe_ssh` was deprecated long time agi (in OpenStack Newton) and it
  doesn't exist anymore.

  To fix rally-jobs we should use `pxe_ipmitool` driver or `fake`.

* Check ""name"" of node in the list of all nodes, instead of using names.

* Add wait for node become active

* Add waiter for node deletion

* Increase load in our gates

Change-Id: Ieac7b6ce7dc132c3a09ddf9d70cb96ebcaecba53
",git fetch https://review.opendev.org/openstack/rally refs/changes/87/452687/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/rally-ironic.yaml'],1,5bd9a92a7e38e8e762634c02fc11e8031b12526b,ironic," driver: ""fake"" times: 20 concurrency: 5"," driver: ""pxe_ssh"" times: 10 concurrency: 2",3,3
openstack%2Fnova-specs~master~I11de35b54a08bd4e231fb791dd85acd79b700941,openstack/nova-specs,master,I11de35b54a08bd4e231fb791dd85acd79b700941,Fix the typo in the resource provider traits spec,MERGED,2017-03-10 02:28:49.000000000,2017-04-04 16:27:16.000000000,2017-04-04 16:27:16.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 6804}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10202}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 19590}]","[{'number': 1, 'created': '2017-03-10 02:28:49.000000000', 'files': ['specs/pike/approved/resource-provider-traits.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4db5fbf696d1b529caeea9ee544bdcc4402a9934', 'message': 'Fix the typo in the resource provider traits spec\n\nChange-Id: I11de35b54a08bd4e231fb791dd85acd79b700941\n'}]",3,444065,4db5fbf696d1b529caeea9ee544bdcc4402a9934,15,10,1,5754,,,0,"Fix the typo in the resource provider traits spec

Change-Id: I11de35b54a08bd4e231fb791dd85acd79b700941
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/65/444065/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/resource-provider-traits.rst'],1,4db5fbf696d1b529caeea9ee544bdcc4402a9934,,"to differentiate their characteristics from each other.Using shared storage in this example, the cloud admin can then tag a certain provider as having an SSD trait so that they are only used by flavors that specify SSD trait.track and manage qualitative information. The traits for a given resource provider will be a flat list, and is straightforward to manage through the API.To query the traits whose name begins with a specific prefix, use* `400 BadRequest` if trait name isn't prefixed with `CUSTOM_` prefix.","to differenitiate their characteristics from each other.Using shared storage in this example, the cloud admin can then tag certain provider as having SSD trait so that they are only used by flavors that specify SSD trait.track and manage qualitative information. The traits for a given host will be a flat list, and is straightforward to manage through the API.To query the traits whose name begines with a specific prefix, use* `400 BadRequest` if trait name sn't prefixed with `CUSTOM_` prefix.",8,8
openstack%2Freviewday~master~Id88ee651e40e521f092bf1411fbdbe2d646ea978,openstack/reviewday,master,Id88ee651e40e521f092bf1411fbdbe2d646ea978,Append a new section to neutron dashboard,MERGED,2017-02-28 19:11:54.000000000,2017-04-04 16:26:42.000000000,2017-04-04 16:26:42.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 748}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6609}, {'_account_id': 6635}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-02-28 19:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/f6e89ea2efcd1ceabda7840e86d8f4b4f9ba2b30', 'message': 'Add a new dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a dashboard to track patches related to gate\nfailure\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 2, 'created': '2017-02-28 19:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/502e4e71a8506c6de1709ff64d5e8f74811a6c57', 'message': 'Add a new dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a dashboard to track patches related to gate\nfailure\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 3, 'created': '2017-02-28 20:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/4135723416ac3ad7c395d0e8c80dc2e7f3d75e70', 'message': 'Add a new dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a dashboard to track patches related to gate\nfailure\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 4, 'created': '2017-02-28 23:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/b9c63262a3ebc22baa02b9d0dbf829e717128746', 'message': 'Add a new dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a dashboard to track patches related to gate\nfailure\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 5, 'created': '2017-03-21 03:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/dab67c032a4e19c1b4dd657208d12c1b34045172', 'message': 'Append a new section to neutron dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a section to existing dashboard to track patches\nrelated to gate failure. Example of review page [1].\n\n[1]. https://tinyurl.com/lqdu3qo\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 6, 'created': '2017-03-21 03:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/5064fa6e7f18dbd2e78182b85003be21501246d5', 'message': 'Append a new section to neutron dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a section to existing dashboard to track patches\nrelated to gate failure. Example of review page [1].\n\n[1]. https://tinyurl.com/lqdu3qo\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 7, 'created': '2017-03-21 16:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/69419521b3a8fb464af78afc63ccf48374359ee6', 'message': 'Append a new section to neutron dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a section to existing dashboard to track patches\nrelated to gate failure. Example of review page [1].\n\n[1]. https://tinyurl.com/mj2uyw5\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 8, 'created': '2017-03-21 16:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewday/commit/5afc8563d444fbff7e6a960a2376aa570fe442e0', 'message': 'Append a new section to neutron dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a section to existing dashboard to track patches\nrelated to gate failure. Example of review page [1].\n\n[1]. https://tinyurl.com/mj2uyw5\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}, {'number': 9, 'created': '2017-03-21 20:51:09.000000000', 'files': ['bin/neutron'], 'web_link': 'https://opendev.org/openstack/reviewday/commit/9852644551c26382678230a53daf0736fc96af77', 'message': 'Append a new section to neutron dashboard\n\nAs recently we started seeing issues in gate jobs for neutron\nthis patch add a section to existing dashboard to track patches\nrelated to gate failure. Example of review page [1].\n\n[1]. https://tinyurl.com/lma2tj8\n\nChange-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978\n'}]",12,439114,9852644551c26382678230a53daf0736fc96af77,27,11,9,17120,,,0,"Append a new section to neutron dashboard

As recently we started seeing issues in gate jobs for neutron
this patch add a section to existing dashboard to track patches
related to gate failure. Example of review page [1].

[1]. https://tinyurl.com/lma2tj8

Change-Id: Id88ee651e40e521f092bf1411fbdbe2d646ea978
",git fetch https://review.opendev.org/openstack/reviewday refs/changes/14/439114/8 && git format-patch -1 --stdout FETCH_HEAD,"['reviewday/report.html', 'reviewday/util.py', 'reviewday/create_gate_fail_dash.py']",3,f6e89ea2efcd1ceabda7840e86d8f4b4f9ba2b30,400227,"#!/usr/bin/env python # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Creating url for gerrit dashboard for patches related to gate failure """""" import os from launchpadlib.launchpad import Launchpad from subprocess import call cachedir = ""~/.launchpadlib/cache/"" launchpad = Launchpad.login_anonymously('just testing', 'production', cachedir, version=""devel"") neutron = launchpad.projects['neutron'] url = 'https://github.com/openstack/gerrit-dash-creator' dest = '/opt/stack/' def write_section(filen, section_name, query): print(section_name) if query: filen.write(""[section \"""") filen.write(section_name) filen.write(""\""]\n"") filen.write(""query = "") filen.write(query) print(query) else: print(""No result found\n"") def _search_task(project, **kwargs): bugs = project.searchTasks(**kwargs) if not bugs: return gerrit_query1 = ""("" for b in bugs: gerrit_query1 += (""topic:bug/%d OR "" % b.bug.id) gerrit_query1 = gerrit_query1[:-4] gerrit_query1 += "")\n\n"" return gerrit_query1 def get_gate_failure_query(project, **kwargs): cbg = _search_task(project, **kwargs) return cbg def write_queries_for_project(file_name, project): critical_bugs = {'tags': ['gate-failure'], 'importance': [""Critical""], 'status': [""In Progress""]} High_bugs = {'tags': ['gate-failure'], 'importance': [""High""]} ml_bugs = {'tags': ['gate-failure'], 'importance': [""Medium"", 'Low']} cb = get_gate_failure_query(project, **critical_bugs) section_name = ""Critical Gate failures %s"" % project.name write_section(file_name, section_name, cb) hg = get_gate_failure_query(project, **High_bugs) section_name = ""High priority Gate failures %s"" % project.name write_section(file_name, section_name, hg) rest_b = get_gate_failure_query(project, **ml_bugs) section_name = ""All other Gate failures %s"" % project.name write_section(file_name, section_name, rest_b) def write_dash_file(file_name): if not os.path.isfile(file_name): with open(file_name, 'w') as f: title = ""[dashboard]\ntitle = Neutron Review Gate Failures\n"" f.write(title) f.write(""description = Review Inbox\n"") f.write(""foreach = (project:openstack/neutron OR "" ""project:openstack/python-neutronclient OR "" ""project:openstack/neutron-lib) status:open NOT owner:self "" ""NOT label:Code-Review>=-2,self branch:master\n"") f.write(""\n"") write_queries_for_project(f, neutron) else: raise ""Dash File already exists"" ",,113,0
openstack%2Fkeystone~master~I6b2dae1172fa263a98849b562867cb4af9df7fea,openstack/keystone,master,I6b2dae1172fa263a98849b562867cb4af9df7fea,Move identity provider to DocumentedRuleDefault,MERGED,2017-03-23 18:43:13.000000000,2017-04-04 16:24:48.000000000,2017-04-04 16:24:48.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 16465}, {'_account_id': 17860}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-03-23 18:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/08a30da1df2c292eb8628658300943cfda852a98', 'message': 'Move identity provider to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our identity provider policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I6b2dae1172fa263a98849b562867cb4af9df7fea\nPartially-Implements: bp policy-docs\n'}, {'number': 2, 'created': '2017-03-28 01:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bdb7b3f664591f41c20e458e55c262219e85e99e', 'message': 'Move identity provider to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our identity provider policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I6b2dae1172fa263a98849b562867cb4af9df7fea\nPartially-Implements: bp policy-docs\n'}, {'number': 3, 'created': '2017-03-28 16:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fb9348a060e4ac14aee3edab3a94c37980a29a17', 'message': 'Move identity provider to DocumentedRuleDefault\n\nThe overall goal is to define a richer policy for deployers\nand operators[0]. To achieve that goal a new policy\nclass was introduce that requires additional parameters\nwhen defining policy objects.\n\nThis patch switches our identity provider policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\n[0] I2b59f92545c5ead2a883d358f72f3ad3b3dfe1a6\n\nChange-Id: I6b2dae1172fa263a98849b562867cb4af9df7fea\nPartially-Implements: bp policy-docs\n'}, {'number': 4, 'created': '2017-03-29 18:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f357667932b093f92756174ad6d50abc2453d585', 'message': 'Move identity provider to DocumentedRuleDefault\n\nA new policy class was introduce that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our identity provider policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: I6b2dae1172fa263a98849b562867cb4af9df7fea\nPartially-Implements: bp policy-docs\n'}, {'number': 5, 'created': '2017-03-29 20:23:36.000000000', 'files': ['keystone/common/policies/identity_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/548fe0502d0a357d79d5ce5031c9b56ab5e8b8e1', 'message': 'Move identity provider to DocumentedRuleDefault\n\nA new policy class was introduced that requires\nadditional parameters when defining policy objects.\n\nThis patch switches our identity provider policy object to\nthe policy.DocumentedRuleDefault and fills the\nrequired policy parameters as needed.\n\nChange-Id: I6b2dae1172fa263a98849b562867cb4af9df7fea\nPartially-Implements: bp policy-docs\n'}]",1,449275,548fe0502d0a357d79d5ce5031c9b56ab5e8b8e1,23,5,5,22219,,,0,"Move identity provider to DocumentedRuleDefault

A new policy class was introduced that requires
additional parameters when defining policy objects.

This patch switches our identity provider policy object to
the policy.DocumentedRuleDefault and fills the
required policy parameters as needed.

Change-Id: I6b2dae1172fa263a98849b562867cb4af9df7fea
Partially-Implements: bp policy-docs
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/449275/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/identity_provider.py'],1,08a30da1df2c292eb8628658300943cfda852a98,bp/policy-docs," policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Create identity provider', operations=[{'path': '/v3/OS-FEDERATION/identity_providers/{idp_id}', 'method': 'PUT'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='List identity providers', operations=[{'path': '/v3/OS-FEDERATION/identity_providers', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Get identity provider', operations=[{'path': '/v3/OS-FEDERATION/identity_providers/{idp_id}', 'method': 'GET'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Update identity provider', operations=[{'path': '/v3/OS-FEDERATION/identity_providers/{idp_id}', 'method': 'PATCH'}]), policy.DocumentedRuleDefault( check_str=base.RULE_ADMIN_REQUIRED, description='Delete identity provider', operations=[{'path': '/v3/OS-FEDERATION/identity_providers/{idp_id}', 'method': 'DELETE'}])"," policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED), policy.RuleDefault( check_str=base.RULE_ADMIN_REQUIRED)",25,10
openstack%2Fpython-cinderclient~master~Ia819d04800a0f9cbd46e844895729126edc77ed9,openstack/python-cinderclient,master,Ia819d04800a0f9cbd46e844895729126edc77ed9,[BugFix] Make 'instance_id' required in attachment-create CLI.,MERGED,2017-03-25 03:23:34.000000000,2017-04-04 16:17:13.000000000,2017-04-04 16:17:13.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9562}, {'_account_id': 11904}, {'_account_id': 19339}, {'_account_id': 23083}]","[{'number': 1, 'created': '2017-03-25 03:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b3b4da96fbd38cfda254f15fb4d4236804369467', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, change it.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 2, 'created': '2017-03-25 03:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bae8bd017e30425295e03d13b39202a81e923c3e', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, change it.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 3, 'created': '2017-03-27 12:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0f4df14530b3def1ff46a9a22d12e0765ec7bb93', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, change it.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 4, 'created': '2017-03-27 13:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/a9ddb204027473903af94b97156691ee5c580818', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, change it.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 5, 'created': '2017-03-27 15:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f1ff7a774ce56ac0af042bd1fc6602a65e517c36', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, change it.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 6, 'created': '2017-03-28 00:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c191103d29f8c66742bb45e1114cdd231b76839e', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, change it.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 7, 'created': '2017-03-30 01:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0ef764c5a5f544c110e9f9b6309f949a7bfb2b5e', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, also change the name from 'instance_uuid' to\n'server_uuid'.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 8, 'created': '2017-03-30 14:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/a513e8bb49b3711371778297bc06e801f422141a', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, also change the name from 'instance_uuid' to\n'server_id'.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 8eac3b071cb7cca8f8b11952c95476fa57daffc0\nCloses-Bug: #1675975\n""}, {'number': 9, 'created': '2017-04-01 01:16:26.000000000', 'files': ['cinderclient/v3/shell.py', 'cinderclient/tests/unit/v3/test_shell.py', 'releasenotes/notes/bug-1675975-ad91a7a34e0esywc.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ae7ab7dfc5a850319ba303261f71fb298926b780', 'message': ""[BugFix] Make 'instance_id' required in attachment-create CLI.\n\nThere are some issues around new attach/detach APIs/CLIs,\nfix them step by step. Based our current API design\nin cinder [1] and irc conversation [2] the 'instance_uuid'\nis required, also change the name from 'instance_uuid' to\n'server_id'.\n\n[1]\nhttps://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152\n[2]\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03\nChange-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9\nDepends-On: 273c724382ae846fe075aa6d93b30b3d0b07bf97\nCloses-Bug: #1675975\n""}]",12,449858,ae7ab7dfc5a850319ba303261f71fb298926b780,34,9,9,23083,,,0,"[BugFix] Make 'instance_id' required in attachment-create CLI.

There are some issues around new attach/detach APIs/CLIs,
fix them step by step. Based our current API design
in cinder [1] and irc conversation [2] the 'instance_uuid'
is required, also change the name from 'instance_uuid' to
'server_id'.

[1]
https://github.com/openstack/cinder/blob/master/cinder/api/v3/attachments.py#L152
[2]
http://eavesdrop.openstack.org/irclogs/%23openstack-cinder/%23openstack-cinder.2017-03-24.log.html#t2017-03-24T13:32:03
Change-Id: Ia819d04800a0f9cbd46e844895729126edc77ed9
Depends-On: 273c724382ae846fe075aa6d93b30b3d0b07bf97
Closes-Bug: #1675975
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/58/449858/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'cinderclient/tests/unit/v3/test_shell.py']",2,b3b4da96fbd38cfda254f15fb4d4236804369467,bug/1675975," @ddt.data({'cmd': '1234 1233', {'cmd': '1234 1233 '"," @ddt.data({'cmd': '1234 --instance 1233', {'cmd': '1234 --instance 1233 '",4,5
openstack%2Fcinder~master~Iaf2d3cc942e6f6492dd3270e188ffa6676ac635a,openstack/cinder,master,Iaf2d3cc942e6f6492dd3270e188ffa6676ac635a,Add more specific error message,MERGED,2017-03-27 16:04:09.000000000,2017-04-04 16:10:35.000000000,2017-04-04 16:10:35.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 13628}, {'_account_id': 14614}, {'_account_id': 15831}, {'_account_id': 16708}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}]","[{'number': 1, 'created': '2017-03-27 16:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b981778168eab323766357f33e216224783f88a9', 'message': ""Add more specific error message\n\nDuring restoring backup without providing volume_id if we have\nerror in volume creation process we will have error message\n'Volume to be restored must be available' that is ambiguous.\nThis message it's more connected with that situation when we\nprovide volume_id for restoring operation and it isn't in\navailable state.\n\nAdd more specific error message for this situation.\n\nChange-Id: Iaf2d3cc942e6f6492dd3270e188ffa6676ac635a\n""}, {'number': 2, 'created': '2017-03-27 16:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c0dd84e7038ea887b61654e19230d9984971a99', 'message': ""Add more specific error message\n\nDuring restoring backup without providing volume_id if we have\nerror in volume creation process we will have error message\n'Volume to be restored must be available' that is ambiguous.\nThis message it's more connected with that situation when we\nprovide volume_id for restoring operation and it isn't in\navailable state.\n\nAdd more specific error message for this situation.\n\nChange-Id: Iaf2d3cc942e6f6492dd3270e188ffa6676ac635a\n""}, {'number': 3, 'created': '2017-03-28 09:22:18.000000000', 'files': ['cinder/backup/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f26b94117bb3c8688bd3d72733eb0b12d548ca9a', 'message': ""Add more specific error message\n\nDuring restoring backup without providing volume_id if we have\nerror in volume creation process we will have error message\n'Volume to be restored must be available' that is ambiguous.\nThis message it's more connected with that situation when we\nprovide volume_id for restoring operation and it isn't in\navailable state.\n\nAdd more specific error message for this situation.\n\nChange-Id: Iaf2d3cc942e6f6492dd3270e188ffa6676ac635a\n""}]",3,450308,f26b94117bb3c8688bd3d72733eb0b12d548ca9a,62,19,3,23602,,,0,"Add more specific error message

During restoring backup without providing volume_id if we have
error in volume creation process we will have error message
'Volume to be restored must be available' that is ambiguous.
This message it's more connected with that situation when we
provide volume_id for restoring operation and it isn't in
available state.

Add more specific error message for this situation.

Change-Id: Iaf2d3cc942e6f6492dd3270e188ffa6676ac635a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/450308/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/api.py'],1,b981778168eab323766357f33e216224783f88a9,add_restore_error_message," if volume['status'] == ""error"": msg = _('Error during creating volume %(volume_id)s ' 'for restoring backup.' % {'volume_id': volume_id}) raise exception.InvalidVolume(reason=msg)",,6,0
openstack%2Fnova~master~I93012529b122012f6fc639d17669f4eb54bf44ae,openstack/nova,master,I93012529b122012f6fc639d17669f4eb54bf44ae,Test Implements: bug/1234,ABANDONED,2017-03-28 07:49:35.000000000,2017-04-04 16:08:57.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-28 07:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7ec9bdffcd9eb62fb9e9c37d20098cbd0d70618', 'message': 'Implements: bug/1234\n\nChange-Id: I93012529b122012f6fc639d17669f4eb54bf44ae\n'}, {'number': 2, 'created': '2017-03-28 08:29:36.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d49f3ac837a577e1678c89430cf76e7bf6293837', 'message': 'Test\nImplements: bug/1234\n\nChange-Id: I93012529b122012f6fc639d17669f4eb54bf44ae\n'}]",0,450604,d49f3ac837a577e1678c89430cf76e7bf6293837,19,9,2,20157,,,0,"Test
Implements: bug/1234

Change-Id: I93012529b122012f6fc639d17669f4eb54bf44ae
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/450604/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c7ec9bdffcd9eb62fb9e9c37d20098cbd0d70618,bug/1234,FoR more information about the different compute (hypervisor) drivers,For information about the different compute (hypervisor) drivers,1,1
openstack%2Ftripleo-docs~master~I04af72c90a7afb76d64381658a822bee938aa382,openstack/tripleo-docs,master,I04af72c90a7afb76d64381658a822bee938aa382,Virtual environments are not deprecated,ABANDONED,2017-02-15 18:30:02.000000000,2017-04-04 16:07:27.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 20156}]","[{'number': 1, 'created': '2017-02-15 18:30:02.000000000', 'files': ['doc/source/environments/virtual.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dbafef15ad8ca824c9cfecfb33b48e683b3e4924', 'message': ""Virtual environments are not deprecated\n\nThe deprecation warning at the top of the virtual environment setup\ndocs is problematic in a couple of ways.  First, you can't deprecate\nsomething without a replacement, and there is currently no\nreplacement for the virtual environment docs.  Second, the wording\nof the warning suggests that virtual environment setup is going\naway completely, which is not the case.\n\nThis change relaxes the deprecation to just a notification that\nmajor changes to the process are coming.  Once the new docs are\nwritten we can turn this back into a warning with a reference to\nthe new ones.\n\nChange-Id: I04af72c90a7afb76d64381658a822bee938aa382\n""}]",0,434458,dbafef15ad8ca824c9cfecfb33b48e683b3e4924,5,4,1,6928,,,0,"Virtual environments are not deprecated

The deprecation warning at the top of the virtual environment setup
docs is problematic in a couple of ways.  First, you can't deprecate
something without a replacement, and there is currently no
replacement for the virtual environment docs.  Second, the wording
of the warning suggests that virtual environment setup is going
away completely, which is not the case.

This change relaxes the deprecation to just a notification that
major changes to the process are coming.  Once the new docs are
written we can turn this back into a warning with a reference to
the new ones.

Change-Id: I04af72c90a7afb76d64381658a822bee938aa382
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/58/434458/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/environments/virtual.rst'],1,dbafef15ad8ca824c9cfecfb33b48e683b3e4924,not-deprecated,.. note:: Significant changes to virtual environment setup are planned for the Pike release. This documentation will be updated once those changes are complete.,.. warning:: These instructions are DEPRECATED as of the Ocata release and will be removed in a future release.,3,2
openstack%2Fnova~master~I9ee862cfe444bbc5e9db14d13c5d87003e275241,openstack/nova,master,I9ee862cfe444bbc5e9db14d13c5d87003e275241,Add fix_opt_description to database conf,ABANDONED,2017-03-28 13:57:31.000000000,2017-04-04 16:01:57.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19590}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-28 13:57:31.000000000', 'files': ['nova/conf/database.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c12e3435475cb908531dcbb209cc001ee0fe36a4', 'message': 'Add fix_opt_description to database conf\n\nWhile all the tags from database configuration have been removed,\noptions under database group still do not have proper description.\n\nBurndown chart: http://45.55.105.55:8082/config-options.html\n\nChange-Id: I9ee862cfe444bbc5e9db14d13c5d87003e275241\nImplements: bp centralize-config-options-pike\n'}]",0,450799,c12e3435475cb908531dcbb209cc001ee0fe36a4,30,17,1,14511,,,0,"Add fix_opt_description to database conf

While all the tags from database configuration have been removed,
options under database group still do not have proper description.

Burndown chart: http://45.55.105.55:8082/config-options.html

Change-Id: I9ee862cfe444bbc5e9db14d13c5d87003e275241
Implements: bp centralize-config-options-pike
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/450799/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/database.py'],1,c12e3435475cb908531dcbb209cc001ee0fe36a4,bp/centralize-config-options-pike,# needs:fix_opt_description ,,2,0
openstack%2Fdeb-designate~debian%2Fnewton~I22a2caeb198bc73ec302c12123ed54bd90c08727,openstack/deb-designate,debian/newton,I22a2caeb198bc73ec302c12123ed54bd90c08727,Updated German debconf translation,MERGED,2017-04-04 15:30:42.000000000,2017-04-04 15:55:36.000000000,2017-04-04 15:55:36.000000000,"[{'_account_id': 3}, {'_account_id': 6476}]","[{'number': 1, 'created': '2017-04-04 15:30:42.000000000', 'files': ['debian/changelog', 'debian/po/de.po'], 'web_link': 'https://opendev.org/openstack/deb-designate/commit/4d8ccf293eaf8bae4291e94b12f03acc9fc79d5e', 'message': 'Updated German debconf translation\n\n  * Updated German debconf translation (Closes: #857524).\n\nChange-Id: I22a2caeb198bc73ec302c12123ed54bd90c08727\n'}]",0,453224,4d8ccf293eaf8bae4291e94b12f03acc9fc79d5e,6,2,1,6476,,,0,"Updated German debconf translation

  * Updated German debconf translation (Closes: #857524).

Change-Id: I22a2caeb198bc73ec302c12123ed54bd90c08727
",git fetch https://review.opendev.org/openstack/deb-designate refs/changes/24/453224/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/changelog', 'debian/po/de.po']",2,4d8ccf293eaf8bae4291e94b12f03acc9fc79d5e,,"# Copyright (C) Helge Kreutzmann <debian@helgefjell.de>, 2014, 2017.""Project-Id-Version: designate 1:3.0.0-2\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2016-12-15 14:26+0000\n"" ""PO-Revision-Date: 2017-03-12 06:38+0100\n""""sich mit einem bekannten Projektnamen, Administrator-Benutzernamen und "" ""Passwort verbinden knnen. Der Administrations-Authentifizierungs-Token wird "" ""nicht mehr verwandt.""msgstr ""Keystone-Administratorname:""#. Type: password #. Description#: ../designate-api.templates:6001""Um den Diensteendpunkt zu registrieren, muss dieses Paket den Anmeldenamen "" ""des Administrators, den Namen, den Projektnamen und das Passwort fr den "" ""Keystone-Server kennen.""msgstr ""Keystone-Administratorprojektname:"" #~ msgid """" #~ ""To configure its endpoint in Keystone, designate-api needs the Keystone "" #~ ""authentication token."" #~ msgstr """" #~ ""Um seine Endpunkte in Keystone zu konfigurieren, bentigt Designate-Api "" #~ ""den Keystone-Authentifizierungs-Token.""","# Copyright (C) Helge Kreutzmann <debian@helgefjell.de>, 2014.""Project-Id-Version: designate 2014.1-10\n"" ""Report-Msgid-Bugs-To: designate@packages.debian.org\n"" ""POT-Creation-Date: 2016-03-29 12:52+0000\n"" ""PO-Revision-Date: 2014-09-27 14:38+0200\n""#, fuzzy #| msgid """" #| ""Note that you will need to have an up and running Keystone server on "" #| ""which to connect using the Keystone authentication token.""""sich mit einem Keystone-Authentifizierungs-Token verbinden knnen.""#, fuzzy #| msgid ""Keystone authentication token:""msgstr ""Keystone-Authentifizierungs-Token:""msgstr """"#. Type: password #. Description #: ../designate-api.templates:6001 msgid """" ""To configure its endpoint in Keystone, designate-api needs the Keystone "" ""authentication token."" msgstr """" ""Um seine Endpunkte in Keystone zu konfigurieren, bentigt Designate-Api den "" ""Keystone-Authentifizierungs-Token."" ",29,24
openstack%2Fdeb-zaqar~debian%2Fnewton~I2a61cbf17c95fab93fb6a70330e5680d36bba6f2,openstack/deb-zaqar,debian/newton,I2a61cbf17c95fab93fb6a70330e5680d36bba6f2,Danish translation of the debconf templates,MERGED,2017-04-04 15:34:51.000000000,2017-04-04 15:55:07.000000000,2017-04-04 15:55:07.000000000,"[{'_account_id': 3}, {'_account_id': 6476}]","[{'number': 1, 'created': '2017-04-04 15:34:51.000000000', 'files': ['debian/po/da.po', 'debian/changelog'], 'web_link': 'https://opendev.org/openstack/deb-zaqar/commit/528aa83f902eacd734933408eb743773543b2917', 'message': 'Danish translation of the debconf templates\n\n  * Danish translation of the debconf templates (Closes: #850877).\n\nChange-Id: I2a61cbf17c95fab93fb6a70330e5680d36bba6f2\n'}]",0,453227,528aa83f902eacd734933408eb743773543b2917,6,2,1,6476,,,0,"Danish translation of the debconf templates

  * Danish translation of the debconf templates (Closes: #850877).

Change-Id: I2a61cbf17c95fab93fb6a70330e5680d36bba6f2
",git fetch https://review.opendev.org/openstack/deb-zaqar refs/changes/27/453227/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/po/da.po', 'debian/changelog']",2,528aa83f902eacd734933408eb743773543b2917,,"zaqar (3.0.0-6) unstable; urgency=medium * Danish translation of the debconf templates (Closes: #850877). -- Thomas Goirand <zigo@debian.org> Tue, 04 Apr 2017 17:33:55 +0200 ",,17,91
openstack%2Fdeb-magnum~debian%2Fnewton~I48188ddec74092eb7890472bc06e94270e456ce4,openstack/deb-magnum,debian/newton,I48188ddec74092eb7890472bc06e94270e456ce4,debconf templates translations,MERGED,2017-04-04 15:32:55.000000000,2017-04-04 15:54:45.000000000,2017-04-04 15:54:45.000000000,"[{'_account_id': 3}, {'_account_id': 6476}]","[{'number': 1, 'created': '2017-04-04 15:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/deb-magnum/commit/f31e5dcca871ed8d3ac3cd97a73da43ae842ff0a', 'message': 'Brazilian Portuguese debconf templates\n\n  * Brazilian Portuguese debconf templates (Closes: #852444).\n\nChange-Id: I48188ddec74092eb7890472bc06e94270e456ce4\n'}, {'number': 2, 'created': '2017-04-04 15:36:21.000000000', 'files': ['debian/po/pt_BR.po', 'debian/changelog', 'debian/po/de.po'], 'web_link': 'https://opendev.org/openstack/deb-magnum/commit/d6a9e4b6cefd4342085a23e2652c03be926d91f4', 'message': 'debconf templates translations\n\n  * Brazilian Portuguese debconf templates (Closes: #852444).\n  * German debconf translation update (Closes: #842486).\n\nChange-Id: I48188ddec74092eb7890472bc06e94270e456ce4\n'}]",0,453226,d6a9e4b6cefd4342085a23e2652c03be926d91f4,7,2,2,6476,,,0,"debconf templates translations

  * Brazilian Portuguese debconf templates (Closes: #852444).
  * German debconf translation update (Closes: #842486).

Change-Id: I48188ddec74092eb7890472bc06e94270e456ce4
",git fetch https://review.opendev.org/openstack/deb-magnum refs/changes/26/453226/2 && git format-patch -1 --stdout FETCH_HEAD,"['debian/po/pt_BR.po', 'debian/changelog']",2,f31e5dcca871ed8d3ac3cd97a73da43ae842ff0a,,"magnum (3.1.1-4) unstable; urgency=medium * Brazilian Portuguese debconf templates (Closes: #852444). -- Thomas Goirand <zigo@debian.org> Tue, 04 Apr 2017 17:31:50 +0200 ",,17,13
openstack%2Fdeb-mistral~debian%2Fnewton~I0fbb646323638384bbdc9f83309b6a06b371bbdb,openstack/deb-mistral,debian/newton,I0fbb646323638384bbdc9f83309b6a06b371bbdb,Patch requirements.txt to accept SQLAlchemy >= 1.1.,ABANDONED,2017-02-02 13:11:36.000000000,2017-04-04 15:47:43.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-02-02 13:11:36.000000000', 'files': ['debian/patches/allow-sqla-1.1.patch', 'debian/changelog', 'debian/patches/series', 'debian/compat', 'debian/control'], 'web_link': 'https://opendev.org/openstack/deb-mistral/commit/22f608e50873807d9e3e7f63320f13dc0fe84ef4', 'message': 'Patch requirements.txt to accept SQLAlchemy >= 1.1.\n\n  * Patch requirements.txt to accept SQLAlchemy >= 1.1.\n  * Revert ""Bumped debhelper compat version to 10"" (wouldn\'t be accepted by\n    the release team).\n\nChange-Id: I0fbb646323638384bbdc9f83309b6a06b371bbdb\n'}]",0,428129,22f608e50873807d9e3e7f63320f13dc0fe84ef4,3,1,1,6476,,,0,"Patch requirements.txt to accept SQLAlchemy >= 1.1.

  * Patch requirements.txt to accept SQLAlchemy >= 1.1.
  * Revert ""Bumped debhelper compat version to 10"" (wouldn't be accepted by
    the release team).

Change-Id: I0fbb646323638384bbdc9f83309b6a06b371bbdb
",git fetch https://review.opendev.org/openstack/deb-mistral refs/changes/29/428129/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/patches/allow-sqla-1.1.patch', 'debian/changelog', 'debian/patches/series', 'debian/compat', 'debian/control']",5,22f608e50873807d9e3e7f63320f13dc0fe84ef4,,"Build-Depends: debhelper (>= 9),","Build-Depends: debhelper (>= 10),",22,5
openstack%2Fopenstack-ansible-os_neutron~master~Ifd51c0e59da7ec092fad0f5dffd8c940609c31c2,openstack/openstack-ansible-os_neutron,master,Ifd51c0e59da7ec092fad0f5dffd8c940609c31c2,"Update paste, policy and rootwrap configurations 2017-04-04",MERGED,2017-04-04 14:06:58.000000000,2017-04-04 15:44:29.000000000,2017-04-04 15:44:29.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-04-04 14:06:58.000000000', 'files': ['files/rootwrap.d/openvswitch-plugin.filters'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2a92a4e1857e7457683aefd87ee5a4e751fc701a', 'message': 'Update paste, policy and rootwrap configurations 2017-04-04\n\nChange-Id: Ifd51c0e59da7ec092fad0f5dffd8c940609c31c2\n'}]",0,453190,2a92a4e1857e7457683aefd87ee5a4e751fc701a,7,3,1,2799,,,0,"Update paste, policy and rootwrap configurations 2017-04-04

Change-Id: Ifd51c0e59da7ec092fad0f5dffd8c940609c31c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/90/453190/1 && git format-patch -1 --stdout FETCH_HEAD,['files/rootwrap.d/openvswitch-plugin.filters'],1,2a92a4e1857e7457683aefd87ee5a4e751fc701a,sha-update,,"xe: CommandFilter, xe, root",0,1
openstack%2Felection~master~I81a3af8d2dcbe4556b652762be474007ea679d43,openstack/election,master,I81a3af8d2dcbe4556b652762be474007ea679d43,Adding Thierry Carrez (ttx) candidacy for TC,MERGED,2017-04-03 14:06:12.000000000,2017-04-04 15:44:01.000000000,2017-04-04 15:44:01.000000000,"[{'_account_id': 3}, {'_account_id': 9311}, {'_account_id': 16708}]","[{'number': 1, 'created': '2017-04-03 14:06:12.000000000', 'files': ['candidates/pike/TC/ttx.txt'], 'web_link': 'https://opendev.org/openstack/election/commit/3049bd330106368a4cf40460e55e49d016bb3bb0', 'message': 'Adding Thierry Carrez (ttx) candidacy for TC\n\nChange-Id: I81a3af8d2dcbe4556b652762be474007ea679d43\n'}]",0,452775,3049bd330106368a4cf40460e55e49d016bb3bb0,7,3,1,308,,,0,"Adding Thierry Carrez (ttx) candidacy for TC

Change-Id: I81a3af8d2dcbe4556b652762be474007ea679d43
",git fetch https://review.opendev.org/openstack/election refs/changes/75/452775/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/pike/TC/ttx.txt'],1,3049bd330106368a4cf40460e55e49d016bb3bb0,tc-candidacy,"Hi everyone, I am announcing my candidacy for a position on the OpenStack Technical Committee. For those who don't know me yet, I work for the OpenStack Foundation, and I've been serving on the Technical Committee as its chair since it was created. Beyond coordinating the TC activities, upstream my focus is mainly on Release Management. I'd like to use my candidacy email to explain the role of the Technical Committee, what we did over the past year and what would be my focus if you'd have me for one more year. The Technical Committee fills a number of tasks: 1. Serving its constituency The Technical Committee handles communications and interactions with other parts of OpenStack community and governance, like the Board of Directors or the User Committee. It also acts as a governance safety valve, providing a final decision-making mechanism for upstream development. Finally, it is responsible for ensuring we have an inclusive and welcoming environment for open collaboration. I think we made great improvements over the last year in this area. The relationships with the Board and User Committee improved a lot, and we are collaborating on strategic improvements for OpenStack in common workgroups now. Also the TC was not used that much over the last year to make final calls or resolve disputes, which is a good thing and shows that our governance model works. We have a number of challenges ahead in terms of inclusivity, in particular to better support part-time contributors and Asian contributors, where timezones, language and cultural difference might get in the way. If elected, I intend to work to evolve how we operate to be more welcoming of those groups. 2. Defining which teams are part of OpenStack and which are not Another big part of what the Technical Committee does is to define the list of ""official"" project teams whose deliverables are considered a component of ""OpenStack"". That means evaluating new team applications as they come, but also refining the limit between ""in"" and ""out"" of OpenStack official projects. That includes interesting discussions about how far up the stack we should go, but also more difficult discussions about removing dead efforts or cutting down areas that hurt us strategically. We also constantly need to balance our community's integrity/principles with reality: in terms of supporting new programming languages like Golang, but also in terms of open collaboration (should driver teams be considered as official or 3rd-party teams ?). Over the last year we managed to tackle a large number of those questions. We refined the process for adding programming languages, finally opening the door for Golang projects in OpenStack. We more aggressively removed projects, and just started the discussion on our first ""strategic"" removal (the Community App Catalog). Significant change takes time, so most of those discussions are still in progress. If elected, I look forward to completing those discussions, and together with the Board and User Committee produce maps of the OpenStack universe that will make it clearer what OpenStack is (an open infrastructure framework that you can deploy in various ways) and what it is not. 3. Considering OpenStack as ""one platform"" and influencing its direction An increasingly important task of the Technical Committee is to take a step back and look at OpenStack as a whole. While it is made up of several components, OpenStack is ""one platform"" for open infrastructure. We should make sure that OpenStack components are easy to operate together, and behave in a consistent way as much as possible. We should /also/ make sure that it is easy to plug other infrastructure solutions on an OpenStack base, or to integrate OpenStack components in other software stacks where they make sense. Over the past year we introduced ""release goals"" as a means to make progress in the same direction together, and as a means to reach base levels of functionality and consistency across the stack. I personally participated in the Architecture workgroup, and pushed the idea of ""base services"" (which all components can assume will always be present in an ""OpenStack"" installation, and therefore can depend on them being present). This should hopefully help us reach the next step in terms of scaling and performance, by adopting mature external solutions rather than forcing us to reinvent the wheel locally. If I'm elected, I intend to pursue those initiatives. 4. Documenting existing culture and systems The final task of the Technical Committee is to produce clear documentation about what we mean by ""the OpenStack Way"" or ""being one of us"". There is a lot of unwritten shared understandings in OpenStack, but without anyone to write it down, it's hard for new members of our community to absorb that culture and internalize it. This was a major focus for the Technical Committee over the past year. In particular we documented the ""OpenStack principles"", and started creating a clear vision for the next two years of the Technical Committee. If elected, I intend to continue working on that vision to further explain and clarify the direction we are going to. Thanks for reading so far. I hope this candidacy email clarifies a bit what the role of the Technical Committee is, what the current membership achieved over the past year, and what would be my focus, if elected, for the coming year. Thank you for your consideration! -- Thierry Carrez ",,100,0
openstack%2Fswift~master~Ic608ef5d0116d9d49b2397f3c0e7b765f7427d28,openstack/swift,master,Ic608ef5d0116d9d49b2397f3c0e7b765f7427d28,Remove Content-Length from 204 No Content Response,ABANDONED,2016-03-10 22:10:10.000000000,2017-04-04 15:43:53.000000000,,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 5600}, {'_account_id': 7233}, {'_account_id': 7662}, {'_account_id': 12279}, {'_account_id': 13052}, {'_account_id': 15932}, {'_account_id': 20378}]","[{'number': 1, 'created': '2016-03-10 22:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/550fe848497e04e81c109bb869e0731a0dcdfcc1', 'message': 'Remove Content-Length from 204 No Content Response\n\nSwift appends Content-Length HTTP header with 0 value even in\na 204 No Content response. However, RFC 7230 clearly states [1]:\n\n    ""A server MUST NOT send a Content-Length header field in any\n    response with a status code of 1xx (Informational) or 204 (No\n    Content).""\n\nWhen a response is created, it will remove Content-Length from the\nheaders if it is a 204 No Content response.\n\nChange-Id: Ic608ef5d0116d9d49b2397f3c0e7b765f7427d28\nCloses-Bug: #1537811\n'}, {'number': 2, 'created': '2016-03-14 16:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9506fa51443dc075e3bf4d7b5b000e87db4da6c6', 'message': 'Remove Content-Length from 204 No Content Response\n\nSwift appends Content-Length HTTP header with 0 value even in\na 204 No Content response. However, RFC 7230 clearly states [1]:\n\n    ""A server MUST NOT send a Content-Length header field in any\n    response with a status code of 1xx (Informational) or 204 (No\n    Content).""\n\nWhen a response is created, it will remove Content-Length from the\nheaders if it is a 204 No Content response.\n\nChange-Id: Ic608ef5d0116d9d49b2397f3c0e7b765f7427d28\nCloses-Bug: #1537811\n'}, {'number': 3, 'created': '2016-03-14 17:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ac54b5749ba0b56087eda9b9e9d96f3a7cfcffa0', 'message': 'Remove Content-Length from 204 No Content Response\n\nSwift appends Content-Length HTTP header with 0 value even in\na 204 No Content response. However, RFC 7230 clearly states [1]:\n\n    ""A server MUST NOT send a Content-Length header field in any\n    response with a status code of 1xx (Informational) or 204 (No\n    Content).""\n\nWhen a response is created, it will remove Content-Length from the\nheaders if it is a 204 No Content response.\n\nChange-Id: Ic608ef5d0116d9d49b2397f3c0e7b765f7427d28\nCloses-Bug: #1537811\n'}, {'number': 4, 'created': '2016-03-14 18:21:44.000000000', 'files': ['swift/common/swob.py', 'test/functional/swift_test_client.py', 'test/unit/common/test_swob.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9044ba55d180433f4748f5043e4918e411889818', 'message': 'Remove Content-Length from 204 No Content Response\n\nSwift appends Content-Length HTTP header with 0 value even in\na 204 No Content response. However, RFC 7230 clearly states [1]:\n\n    ""A server MUST NOT send a Content-Length header field in any\n    response with a status code of 1xx (Informational) or 204 (No\n    Content).""\n\nWhen a response is created, it will remove Content-Length from the\nheaders if it is a 204 No Content response.\n\nChange-Id: Ic608ef5d0116d9d49b2397f3c0e7b765f7427d28\nCloses-Bug: #1537811\n'}]",3,291461,9044ba55d180433f4748f5043e4918e411889818,27,11,4,20378,,,0,"Remove Content-Length from 204 No Content Response

Swift appends Content-Length HTTP header with 0 value even in
a 204 No Content response. However, RFC 7230 clearly states [1]:

    ""A server MUST NOT send a Content-Length header field in any
    response with a status code of 1xx (Informational) or 204 (No
    Content).""

When a response is created, it will remove Content-Length from the
headers if it is a 204 No Content response.

Change-Id: Ic608ef5d0116d9d49b2397f3c0e7b765f7427d28
Closes-Bug: #1537811
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/291461/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/swob.py'],1,550fe848497e04e81c109bb869e0731a0dcdfcc1,bug/1537811, if 'Content-Length' in headers and (self._body or self.status_int == 204): # Or if the status is 204 (No Content) do not send the # Content-Length header according to RFC 7230, if self._body and 'Content-Length' in headers:,4,1
openstack%2Fperformance-docs~master~Iff8d4347b4d16a646fb89e38ba4eaeb950377053,openstack/performance-docs,master,Iff8d4347b4d16a646fb89e38ba4eaeb950377053,Indicating the location tests directory in oslo_debug_helper,MERGED,2017-03-09 09:51:22.000000000,2017-04-04 15:43:29.000000000,2017-04-04 15:43:29.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 5950}]","[{'number': 1, 'created': '2017-03-09 09:51:22.000000000', 'files': ['scripts/rally-runners/tox.ini'], 'web_link': 'https://opendev.org/openstack/performance-docs/commit/5f122c0665333b533fa5500a95777c3c6d806d29', 'message': 'Indicating the location tests directory in oslo_debug_helper\n\nAccording to [1], we can passing a ""-t"" argument to\noslo_debug_helper to indicate the directory where tests\nare located. This will solves ImportError exception.\n\n[1] https://docs.openstack.org/developer/oslotest/features.html\n\nChange-Id: Iff8d4347b4d16a646fb89e38ba4eaeb950377053\nCloses-Bug: #1666560\n'}]",0,443530,5f122c0665333b533fa5500a95777c3c6d806d29,7,3,1,22255,,,0,"Indicating the location tests directory in oslo_debug_helper

According to [1], we can passing a ""-t"" argument to
oslo_debug_helper to indicate the directory where tests
are located. This will solves ImportError exception.

[1] https://docs.openstack.org/developer/oslotest/features.html

Change-Id: Iff8d4347b4d16a646fb89e38ba4eaeb950377053
Closes-Bug: #1666560
",git fetch https://review.opendev.org/openstack/performance-docs refs/changes/30/443530/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/rally-runners/tox.ini'],1,5f122c0665333b533fa5500a95777c3c6d806d29,adddir,commands = oslo_debug_helper -t tests {posargs},commands = oslo_debug_helper {posargs},1,1
openstack%2Fnova~master~I6116b4cc3deef4b9fad9383ea3e6a570a8becead,openstack/nova,master,I6116b4cc3deef4b9fad9383ea3e6a570a8becead,Use HostAddressOpt for opts that accept IP and hostnames,MERGED,2017-03-15 07:08:33.000000000,2017-04-04 15:33:43.000000000,2017-04-03 17:42:25.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19590}, {'_account_id': 20040}, {'_account_id': 20191}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-03-15 07:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f8726311beca87ece8a4581f99f4e52fd899aaa', 'message': ""Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using 'StrOpt'. The support for\n'HostAddressOpt' type was merged in Ocata and became\navailable for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to\nuse this more relevant opt type - HostAddressOpt. This patch\ndepends on [1] which bumps the oslo.config version in nova.\n\n[1] Id41de48cc3b3258f83d60e96c0690bd16a0ad05e\n\nChange-Id: I6116b4cc3deef4b9fad9383ea3e6a570a8becead\n""}, {'number': 2, 'created': '2017-03-20 07:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16ac1cf850b8921f6159b80d07b4e914aad79185', 'message': ""Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using 'StrOpt'. The support for\n'HostAddressOpt' type was merged in Ocata and became\navailable for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to\nuse this more relevant opt type - HostAddressOpt.\n\nChange-Id: I6116b4cc3deef4b9fad9383ea3e6a570a8becead\n""}, {'number': 3, 'created': '2017-03-28 09:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33e699b9d0502c6d270c77732c46e51f904d5861', 'message': ""Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using 'StrOpt'. The support for\n'HostAddressOpt' type was merged in Ocata and became\navailable for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to\nuse this more relevant opt type - HostAddressOpt.\n\nChange-Id: I6116b4cc3deef4b9fad9383ea3e6a570a8becead\n""}, {'number': 4, 'created': '2017-03-28 12:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d39f39dc3fad5eeabfbeff3c421c08609992cdb', 'message': ""Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using 'StrOpt'. The support for\n'HostAddressOpt' type was merged in Ocata and became\navailable for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to\nuse this more relevant opt type - HostAddressOpt.\n\nChange-Id: I6116b4cc3deef4b9fad9383ea3e6a570a8becead\n""}, {'number': 5, 'created': '2017-04-03 07:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85f7715e17de8634754c087f92579c13732e8e9f', 'message': ""Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using 'StrOpt'. The support for\n'HostAddressOpt' type was merged in Ocata and became\navailable for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to\nuse this more relevant opt type - HostAddressOpt.\n\nCo-Authored-By: John Garbutt <john.garbutt@rackspace.com>\nChange-Id: I6116b4cc3deef4b9fad9383ea3e6a570a8becead\n""}, {'number': 6, 'created': '2017-04-03 11:10:58.000000000', 'files': ['nova/tests/unit/test_service.py', 'nova/conf/remote_debug.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/conf/vnc.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/conf/spice.py', 'nova/conf/vmware.py', 'nova/conf/scheduler.py', 'nova/conf/xenserver.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/128c75054bac5d31ba7a7ea0ebcb9a27aa12100d', 'message': ""Use HostAddressOpt for opts that accept IP and hostnames\n\nSome configuration options were accepting both IP addresses\nand hostnames. Since there was no specific OSLO opt type to\nsupport this, we were using 'StrOpt'. The support for\n'HostAddressOpt' type was merged in Ocata and became\navailable for use with oslo version 3.22.\n\nThis patch changes the opt type of configuration options to\nuse this more relevant opt type - HostAddressOpt.\n\nCo-Authored-By: John Garbutt <john.garbutt@rackspace.com>\nChange-Id: I6116b4cc3deef4b9fad9383ea3e6a570a8becead\n""}]",12,445782,128c75054bac5d31ba7a7ea0ebcb9a27aa12100d,106,24,6,20191,,,0,"Use HostAddressOpt for opts that accept IP and hostnames

Some configuration options were accepting both IP addresses
and hostnames. Since there was no specific OSLO opt type to
support this, we were using 'StrOpt'. The support for
'HostAddressOpt' type was merged in Ocata and became
available for use with oslo version 3.22.

This patch changes the opt type of configuration options to
use this more relevant opt type - HostAddressOpt.

Co-Authored-By: John Garbutt <john.garbutt@rackspace.com>
Change-Id: I6116b4cc3deef4b9fad9383ea3e6a570a8becead
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/445782/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_service.py', 'nova/conf/remote_debug.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/conf/vnc.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/conf/spice.py', 'nova/conf/vmware.py', 'nova/conf/scheduler.py', 'nova/conf/xenserver.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py']",10,5f8726311beca87ece8a4581f99f4e52fd899aaa,bp/centralize-config-options-pike,"from oslo_utils import netutils host_ip=netutils.get_my_ipv4(),"," host_ip='test_url',",33,28
openstack%2Fpatrole~master~I4c1978becb63584d2b3977a357400ff36e8e1349,openstack/patrole,master,I4c1978becb63584d2b3977a357400ff36e8e1349,[WIP] Framework efficiency/stability enhancements.,ABANDONED,2017-03-11 02:14:45.000000000,2017-04-04 15:29:58.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-03-11 02:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/9bae5d925e51c8d71d6c76af3db606f6d0c8c1eb', 'message': '[WIP] Framework efficiency/stability enhancements.\n\nChange-Id: I4c1978becb63584d2b3977a357400ff36e8e1349\n'}, {'number': 2, 'created': '2017-03-11 17:37:53.000000000', 'files': ['patrole_tempest_plugin/tests/api/clients.py', 'patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/tests/api/network/test_subnetpools_rbac.py', 'patrole_tempest_plugin/tests/api/rbac_base.py', 'patrole_tempest_plugin/tests/api/network/rbac_base.py', 'patrole_tempest_plugin/tests/api/network/test_metering_label_rules_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/compute/rbac_base.py', 'patrole_tempest_plugin/tests/api/compute/test_keypairs_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/ba186dbb4637f8e9776bddce63bf73658e8fd647', 'message': '[WIP] Framework efficiency/stability enhancements.\n\nChange-Id: I4c1978becb63584d2b3977a357400ff36e8e1349\n'}]",0,444548,ba186dbb4637f8e9776bddce63bf73658e8fd647,5,1,2,23186,,,0,"[WIP] Framework efficiency/stability enhancements.

Change-Id: I4c1978becb63584d2b3977a357400ff36e8e1349
",git fetch https://review.opendev.org/openstack/patrole refs/changes/48/444548/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/rbac_utils.py', 'patrole_tempest_plugin/tests/api/network/rbac_base.py', 'patrole_tempest_plugin/tests/api/network/test_floating_ips_rbac.py', 'patrole_tempest_plugin/tests/api/compute/rbac_base.py', 'patrole_tempest_plugin/tests/api/compute/test_keypairs_rbac.py']",5,9bae5d925e51c8d71d6c76af3db606f6d0c8c1eb,remove_switch_role," cls.client = cls.os.keypairs_client def _create_keypair(self, client=None): if client is None: client = self.keypairs_client kp_name = self._create_keypair()['keypair'][ 'name'] kp_name = self._create_keypair()['keypair'][ 'name']"," cls.client = cls.keypairs_client def _create_keypair(self): self.rbac_utils.switch_role(self, switchToRbacRole=True) kp_name = self._create_keypair()['keypair']['name'] self.rbac_utils.switch_role(self, switchToRbacRole=True) kp_name = self._create_keypair()['keypair']['name'] self.rbac_utils.switch_role(self, switchToRbacRole=True) self.rbac_utils.switch_role(self, switchToRbacRole=True)",89,45
openstack%2Fpuppet-tripleo~stable%2Fnewton~I4032f7c24edc0ff9ed637e213870cdd3beb9a54e,openstack/puppet-tripleo,stable/newton,I4032f7c24edc0ff9ed637e213870cdd3beb9a54e,Move horizon to step 3,MERGED,2017-04-03 22:19:12.000000000,2017-04-04 15:25:46.000000000,2017-04-04 15:25:46.000000000,"[{'_account_id': 3}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-04-03 22:19:12.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f206c2c431e809c0058378b7288026be29361aaa', 'message': 'Move horizon to step 3\n\nWe configure apache in step 3 so horizon should be configured at the\nsame time or else updates will cause horizon to be unvailable during the\nupdate process.\n\nChange-Id: I4032f7c24edc0ff9ed637e213870cdd3beb9a54e\nCloses-Bug: #1678338\n(cherry picked from commit e2928717412242faa4eb15d778f1b5c0952edc08)\n'}]",0,452977,f206c2c431e809c0058378b7288026be29361aaa,7,2,1,14985,,,0,"Move horizon to step 3

We configure apache in step 3 so horizon should be configured at the
same time or else updates will cause horizon to be unvailable during the
update process.

Change-Id: I4032f7c24edc0ff9ed637e213870cdd3beb9a54e
Closes-Bug: #1678338
(cherry picked from commit e2928717412242faa4eb15d778f1b5c0952edc08)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/452977/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",3,f206c2c431e809c0058378b7288026be29361aaa,bug/1678338,"# # Copyright (C) 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::horizon' do shared_examples_for 'tripleo::profile::base::horizon' do let(:pre_condition) do ""class { '::tripleo::profile::base::aodh': step => #{params[:step]} }"" end context 'with step less than 3' do let(:params) { { :step => 2 } } it 'should do nothing' do is_expected.to contain_class('tripleo::profile::base::horizon') is_expected.to_not contain_class('horizon') end end context 'with step 3' do let(:params) { { :step => 3, } } it 'should trigger complete configuration' do is_expected.to contain_class('horizon') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'tripleo::profile::base::horizon' end end end ",,59,1
openstack%2Fopenstack-manuals~master~I8631bc6b30845d6579ac4587117159680b8a1259,openstack/openstack-manuals,master,I8631bc6b30845d6579ac4587117159680b8a1259,Update networking guide with metering agent alias,MERGED,2017-04-03 17:37:09.000000000,2017-04-04 15:25:20.000000000,2017-04-04 15:25:20.000000000,"[{'_account_id': 3}, {'_account_id': 6635}, {'_account_id': 9162}, {'_account_id': 10607}, {'_account_id': 10897}]","[{'number': 1, 'created': '2017-04-03 17:37:09.000000000', 'files': ['doc/admin-guide/source/networking-adv-config.rst', 'doc/admin-guide/source/networking-config-agents.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/20610cb706017277700460f9ed0e8c3dd40b2d27', 'message': 'Update networking guide with metering agent alias\n\nThe metering agent can now be specified with a stevedore\nalias, update appropriate places.\n\nChange-Id: I8631bc6b30845d6579ac4587117159680b8a1259\nCloses-bug: #1678561\n'}]",0,452876,20610cb706017277700460f9ed0e8c3dd40b2d27,12,5,1,1131,,,0,"Update networking guide with metering agent alias

The metering agent can now be specified with a stevedore
alias, update appropriate places.

Change-Id: I8631bc6b30845d6579ac4587117159680b8a1259
Closes-bug: #1678561
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/76/452876/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/admin-guide/source/networking-adv-config.rst', 'doc/admin-guide/source/networking-config-agents.rst']",2,20610cb706017277700460f9ed0e8c3dd40b2d27,bug/1678561, driver = iptables, driver = neutron.services.metering.drivers.iptables.iptables_driver.IptablesMeteringDriver,2,2
openstack%2Fos-cloud-config~master~Icd5d598b62b256414605320e83045dab27d0a110,openstack/os-cloud-config,master,Icd5d598b62b256414605320e83045dab27d0a110,Force tty usage on remote ssh,ABANDONED,2016-08-02 13:21:06.000000000,2017-04-04 15:24:59.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5803}, {'_account_id': 6773}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 14345}]","[{'number': 1, 'created': '2016-08-02 13:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/36866435722daaf7993413f2ebc2db3c253d1afc', 'message': 'Force tty usage on remote ssh\n\nWhen os_cloud_config invoked without a tty, but the remote host,\nsudoer.conf requires tty we need to use -tt with ssh in order\nto avoid rejections by sudo.\n\nChange-Id: Icd5d598b62b256414605320e83045dab27d0a110\n'}, {'number': 2, 'created': '2016-08-02 13:31:53.000000000', 'files': ['os_cloud_config/tests/test_keystone.py', 'os_cloud_config/keystone.py'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/edfe604a9793fd1933296ec432229ab7f2b6901e', 'message': 'Force tty usage on remote ssh\n\nWhen os_cloud_config invoked without a tty, but the remote host,\nsudoer.conf requires tty we need to use -tt with ssh in order\nto avoid rejections by sudo.\n\nCo-Authored-By: Filip Hubk <fhubik@redhat.com>\n\nChange-Id: Icd5d598b62b256414605320e83045dab27d0a110\n'}]",0,350004,edfe604a9793fd1933296ec432229ab7f2b6901e,18,7,2,5803,,,0,"Force tty usage on remote ssh

When os_cloud_config invoked without a tty, but the remote host,
sudoer.conf requires tty we need to use -tt with ssh in order
to avoid rejections by sudo.

Co-Authored-By: Filip Hubk <fhubik@redhat.com>

Change-Id: Icd5d598b62b256414605320e83045dab27d0a110
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/04/350004/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_cloud_config/tests/test_keystone.py', 'os_cloud_config/keystone.py']",2,36866435722daaf7993413f2ebc2db3c253d1afc,force-tty," subprocess.check_call([""ssh"", ""-o"" ""StrictHostKeyChecking=no"", ""-tt"","," subprocess.check_call([""ssh"", ""-o"" ""StrictHostKeyChecking=no"", ""-t"",",3,3
openstack%2Fpython-swiftclient~master~Ie940d470f2be8006aa8eb7fe242f092457aeae21,openstack/python-swiftclient,master,Ie940d470f2be8006aa8eb7fe242f092457aeae21,Make tempurl subcommand insist on whole number seconds,MERGED,2016-09-09 10:13:35.000000000,2017-04-04 15:22:44.000000000,2016-09-15 02:34:01.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 9216}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-09-09 10:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/07e8f288b13f7c5e67fd073f2bfba7b7a810cdfc', 'message': 'Make tempurl subcommand insist on whole number seconds\n\nPreviously the tempurl subcommand would dump a traceback\ndue to a TypeError if the seconds option was not an int\nvalue. With this patch it will now return the same\nerror message as if the seconds option were negative or not\na number.\n\nAlso changes the error message to state that the seconds\noption should be a ""whole number"" rather than a ""positive\ninteger"", since 0 is a valid value.\n\nChange-Id: Ie940d470f2be8006aa8eb7fe242f092457aeae21\nCloses-Bug: #1621817\n'}, {'number': 2, 'created': '2016-09-14 17:19:51.000000000', 'files': ['tests/unit/test_utils.py', 'swiftclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/e41158d79e4bcb280ec94365226f9423f72d7b66', 'message': 'Make tempurl subcommand insist on whole number seconds\n\nPreviously the tempurl subcommand would dump a traceback\ndue to a TypeError if the seconds option was not an int\nvalue. With this patch it will now return the same\nerror message as if the seconds option were negative or not\na number.\n\nAlso changes the error message to state that the seconds\noption should be a ""whole number"" rather than a ""positive\ninteger"", since 0 is a valid value.\n\nChange-Id: Ie940d470f2be8006aa8eb7fe242f092457aeae21\nCloses-Bug: #1621817\n'}]",3,367915,e41158d79e4bcb280ec94365226f9423f72d7b66,14,4,2,7847,,,0,"Make tempurl subcommand insist on whole number seconds

Previously the tempurl subcommand would dump a traceback
due to a TypeError if the seconds option was not an int
value. With this patch it will now return the same
error message as if the seconds option were negative or not
a number.

Also changes the error message to state that the seconds
option should be a ""whole number"" rather than a ""positive
integer"", since 0 is a valid value.

Change-Id: Ie940d470f2be8006aa8eb7fe242f092457aeae21
Closes-Bug: #1621817
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/15/367915/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_utils.py', 'swiftclient/utils.py']",2,07e8f288b13f7c5e67fd073f2bfba7b7a810cdfc,p-tempurl-in-secs, :raises: ValueError if seconds is not a whole number or path is not to seconds = float(seconds) if not seconds.is_integer(): raise ValueError() if seconds < 0: raise ValueError() except ValueError: raise ValueError('seconds must be a whole number'), :raises: ValueError if seconds is not a positive integer or path is not to :raises: TypeError if seconds is not an integer except ValueError: raise TypeError('seconds must be an integer') if seconds < 0: raise ValueError('seconds must be a positive integer'),25,8
openstack%2Fnova~master~I455c02b5dcd77df43fc8c0113269f71a5207d3d5,openstack/nova,master,I455c02b5dcd77df43fc8c0113269f71a5207d3d5,Clean up metadata param in doc,MERGED,2017-03-08 07:28:09.000000000,2017-04-04 15:19:23.000000000,2017-04-03 12:39:18.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16897}, {'_account_id': 17130}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-08 07:28:09.000000000', 'files': ['api-ref/source/os-aggregates.inc', 'api-ref/source/parameters.yaml', 'api-ref/source/os-server-groups.inc', 'api-ref/source/os-volumes.inc', 'api-ref/source/images.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/4aaa8bc0bfb4b43e3d76c9903a61c0f0bff629ca', 'message': 'Clean up metadata param in doc\n\nseveral params like metadata_xxx are used and actually they are\nsame, so just clean up them and use metadata_object instead\n\npart of bp:api-ref-in-rst-pike\n\nChange-Id: I455c02b5dcd77df43fc8c0113269f71a5207d3d5\n'}]",0,442981,4aaa8bc0bfb4b43e3d76c9903a61c0f0bff629ca,29,10,1,6062,,,0,"Clean up metadata param in doc

several params like metadata_xxx are used and actually they are
same, so just clean up them and use metadata_object instead

part of bp:api-ref-in-rst-pike

Change-Id: I455c02b5dcd77df43fc8c0113269f71a5207d3d5
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/442981/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/os-aggregates.inc', 'api-ref/source/parameters.yaml', 'api-ref/source/os-server-groups.inc', 'api-ref/source/os-volumes.inc', 'api-ref/source/images.inc']",5,4aaa8bc0bfb4b43e3d76c9903a61c0f0bff629ca,bp/api-ref-in-rst-pike, - metadata: metadata_object - metadata: metadata_object - metadata: metadata_object - metadata: metadata_object - metadata: metadata_object - metadata: metadata_object - metadata: metadata_object , - metadata: metadata_image - metadata: metadata_image - metadata: metadata_image - metadata: metadata_image - metadata: metadata_image - metadata: metadata_image - metadata: metadata_image,15,38
openstack%2Fnova-specs~master~I98d059052570ebfb6195d2e46717e1d1222ac5f8,openstack/nova-specs,master,I98d059052570ebfb6195d2e46717e1d1222ac5f8,Re-propose nested resource providers spec,MERGED,2017-03-24 01:17:54.000000000,2017-04-04 15:17:01.000000000,2017-04-04 15:17:01.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 7166}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-03-24 01:17:54.000000000', 'files': ['specs/pike/approved/nested-resource-providers.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dc2be6c431d2352feadfdc170db4f72a47621141', 'message': ""Re-propose nested resource providers spec\n\nI've filled in the History section and also added a couple of\nadditional clarifying sentences to say that we only support\n0 or 1 parent providers, not multiple parents, as discussed\nat the Pike PTG.\n\nPreviously-approved: Ocata\n\nSpec for blueprint nested-resource-providers\n\nChange-Id: I98d059052570ebfb6195d2e46717e1d1222ac5f8\n""}]",2,449381,dc2be6c431d2352feadfdc170db4f72a47621141,9,5,1,6873,,,0,"Re-propose nested resource providers spec

I've filled in the History section and also added a couple of
additional clarifying sentences to say that we only support
0 or 1 parent providers, not multiple parents, as discussed
at the Pike PTG.

Previously-approved: Ocata

Spec for blueprint nested-resource-providers

Change-Id: I98d059052570ebfb6195d2e46717e1d1222ac5f8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/81/449381/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/nested-resource-providers.rst'],1,dc2be6c431d2352feadfdc170db4f72a47621141,bp/nested-resource-providers,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Nested Resource Providers ========================= https://blueprints.launchpad.net/nova/+spec/nested-resource-providers We propose changing the database schema, object model and REST API of resource providers to allow a hierarchical relationship between different resource providers to be represented. Problem description =================== With the addition of the new placement API, we now have a new way to account for quantitative resources in the system. Resource providers contain inventories of various resource classes. These inventories are simple integer amounts and, along with the concept of allocation records, are designed to answer the questions: * ""how many of a type of resource does this provider have available?"" * ""how much of a type of resource is being consumed in the system?"" * ""what level of over-commit does each provider expose for each type of resource?"" In the initial version of the resource provider schema in the placement API, we stuck with a simple world-view that resource providers could be related to each other only via an aggregate relationship. In other words, a resource provider ""X"" may provide shared resources to a set of other resource providers ""S"" if and only if ""X"" was associated with an aggregate ""A"" that all members of ""S"" were also associated with. This relationship works perfectly fine for things like shared storage or IP pools. However, certain classes of resource require a more parent->child relationship than a many-to-many relationship that the aggregate association offers. Two examples of where a parent->child relationship is more appropriate are when handling VCPU/MEMORY_MB resources on NUMA nodes on a compute host and when handling SRIOV_NET_VF resources for NICs on a compute host. In the case of NUMA nodes, the system must be able to track how many VCPU and MEMORY_MB have been allocated to each individual NUMA node on the host. Allocating memory to a guest and having that memory span address space across two banks of DIMMs attached to different NUMA nodes results in sub-optimal performance, and for certain high-performance guest workloads this penalty is not acceptable. Another example is the SRIOV_NET_VF resource class, which is provided by SRIOV-enabled network interface cards. In the case of multiple SRIOV-enabled NICs on a compute host, different qualitative traits may be tagged to each NIC. For example, the NIC called enp2s0 might have a trait ""network:public"" indicating that the NIC is attached to a physical network called ""public"". The NIC enp2s1 might have a trait ""network:intranet"" that indicates the NIC is attached to the physical network called ""Intranet"". We need a way of representing that these NICs each provide SRIOV_NET_VF resources but those virtual functions are associated with different physical networks. In the resource providers data modeling, the entity which is associated with qualitative traits is the **resource provider** object. Therefore, we require a way of representing that the SRIOV-enabled NICs are themselves resource providers with inventories of SRIOV_NET_VF resources. Those resource providers are contained on a compute host which is a resource provider that has inventory records for *other* types of resources such as VCPU, MEMORY_MB or DISK_GB. Use Cases --------- As an NFV cloud operator, I wish to request that my VNF workload needs an SRIOV virtual function on a NIC that is tagged to the physical network ""public"" and I want to be able to view the resource consumption of SRIOV virtual functions on a per-physical-network basis. As an NFV cloud operator, I wish to ensure that the memory and vCPU assigned to my workload is local to a particular NUMA topology and that those resources are represented in unique inventories per NUMA node and reported as separate allocations. Proposed change =============== We will add two new attributes to the resource provider data model: * `parent_provider_uuid`: Indicates the UUID of the immediate parent provider. This will be None for the vast majority of providers, and for nested resource providers, this will most likely be the compute host's UUID. To be clear, a resource provider can have 0 or 1 parents. We will not support multiple parents for a resource provider. * `root_provider_uuid`: Indicates the UUID of the resource provider that is at the ""root"" of the tree of providers. This field allows us to implement efficient tree-access queries and avoid use of recursive queries to follow child->parent relations. A new microversion will be added to the placement REST API that adds the above attributes to the appropriate request and response payloads. The scheduler reporting client shall be modified to track NUMA nodes and SRIOV-enabled NICs as child resource providers to a parent compute host resource provider. The `VCPU` and `MEMORY_MB` resource classes will continue to be inventoried on the parent resource provider (i.e the compute node resource provider) and not the NUMA node child providers. The NUMA node child providers will have inventory records populated for the `NUMA_CORE`, `NUMA_THREAD` and `NUMA_MEMORY_MB` resource classes. When a boot request is received, the Nova API service will need to determine whether the request (flavor and image) specifies a particular NUMA topology and, if so, construct the request to the placement service for the appropriate `NUMA_XXX` resources. This is currently out of scope for this spec. This spec is only about the inventorying of the various child providers with appropriate resource classes. On the CPU-pinning side of the equation, we do not plan to allow a compute node to serve as *either* a general-purpose compute node *or* as a target for NUMA-specific (pinned) workloads. A compute node will be either a target for pinned workloads or it will be a target for generic (floating CPU) workloads. It is not yet clear what we will use to indicate that a compute node targets floating workloads or not. Initial thoughts were to use the pci_passthrough_whitelist CONF option to determine this however this still needs to be debated. This spec will simply ensure that if a virt driver returns a NUMATopology object in the result of its get_available_resource() call, then we will create child resource providers representing those NUMA nodes. Similarly, if the PCI device manager returns a set of SR-IOV physical functions on the compute host, we will create child resource provider records for those SR-IOV PFs. Alternatives ------------ We could try hiding the `root_provider_uuid` attribute from the GET /resource-provider[s] REST API response payload to reduce complexity of the API. We will still, however, need a REST API call that ""gets all resource providers in a tree"" where the user would pass a UUID and we'd look up all resource providers having that UUID as their root provider UUID. Instead of having a concept of nested resource providers, we could force deployers to create custom resource classes for every permutation of physical network trait. For instance, assuming the example above, the operator would need to create an SRIOV_NET_VF_PUBLIC_NET and a SRIOV_NET_VF_INTRANET_NET custom resource class and then manually set the inventory of the compute node resource provider to an amount of VFs each PF exposed. The problem with this approach is two-fold. First, we no longer have any standardization on the SRIOV_NET_VF resource class. Secondly, we are coupling the qualitative and quantitative aspects of a provider together again, which is part of the problem with the existing Nova codebase and why it has been hard to standardize the tracking and scheduling of resources in the first place. Data model impact ----------------- Two new fields will be added to the `resource_providers` DB table: * `root_provider_uuid`: This will be populated using an online data migration that sets `root_provider_uuid` to the value of the `resource_providers.uuid` field for all existing resource providers. * `parent_provider_uuid`: This will be a NULLable field and default to NULL REST API impact --------------- `root_provider_uuid` and `parent_provider_uuid` fields will be added to the corresponding request and response payloads of appropriate placement REST APIs. The `GET /resource-providers` call will get a new filter on `root={uuid}` that, when present, will return all resource provider records, inclusive of the root, having a `root_provider_uuid` equal to `{uuid}`. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. The setting and getting of provider tree information will be entirely handled in the `nova-compute` worker with no changes needed by the deployer. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: jaypipes Other contributors: cdent Work Items ---------- * Add DB schema and object model changes * Add REST API microversion adding new attributes for resource providers * Add REST API microversion adding new `root={uuid}` filter on `GET /resource-providers` * Add code in scheduler reporting client to track NUMA nodes as child resource providers on the parent compute host resource provider * Add code in scheduler reporting client to track SRIOV PFs as child resource providers on the parent compute host resource provider Dependencies ============ None. Testing ======= Most of the focus will be on functional tests for the DB/server and the REST API with new functional tests added for the specific NUMA and SRIOV PF child provider scenarios described in this spec. Documentation Impact ==================== Some devref content should be written. References ========== http://etherpad.openstack.org/p/nested-resource-providers History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Introduced * - Pike - Re-proposed ",,259,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Focata~I318700582a65cc1ea6571d9460fd58bed949a4e9,openstack/openstack-ansible-os_keystone,stable/ocata,I318700582a65cc1ea6571d9460fd58bed949a4e9,Allow the split of install and config,MERGED,2017-04-04 09:57:07.000000000,2017-04-04 15:12:51.000000000,2017-04-04 15:12:51.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-04-04 09:57:07.000000000', 'files': ['tasks/main.yml', 'tasks/keystone_db_setup.yml', 'tasks/keystone_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/00dcf03eb89cb1fe85aa8aad845b5ee158fb862d', 'message': 'Allow the split of install and config\n\nIf keystone install is done separately from the config (filtering\nor interruption), a re-run of the role will not mark the venv\nas changed, and the db sync will not trigger.\n\nHere we force a flush on file next to the venv change, and use\nthis file (local fact) as a way to know if a db sync is required.\n\nWhen a dbsync is considered done, i.e after the expand and migrate\nstages, we mark the db_migrate as done for all the nodes.\n\nChange-Id: I318700582a65cc1ea6571d9460fd58bed949a4e9\nDepends-On: Ie4a47e85bf31e1ac3a2bd6f0dec510bb24abdbbd\n'}]",0,453089,00dcf03eb89cb1fe85aa8aad845b5ee158fb862d,11,3,1,17068,,,0,"Allow the split of install and config

If keystone install is done separately from the config (filtering
or interruption), a re-run of the role will not mark the venv
as changed, and the db sync will not trigger.

Here we force a flush on file next to the venv change, and use
this file (local fact) as a way to know if a db sync is required.

When a dbsync is considered done, i.e after the expand and migrate
stages, we mark the db_migrate as done for all the nodes.

Change-Id: I318700582a65cc1ea6571d9460fd58bed949a4e9
Depends-On: Ie4a47e85bf31e1ac3a2bd6f0dec510bb24abdbbd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/89/453089/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/keystone_db_setup.yml', 'tasks/keystone_install.yml']",3,00dcf03eb89cb1fe85aa8aad845b5ee158fb862d,cannot-run-install-and-then-update, - name: Record the need for a db sync ini_file: dest: /etc/ansible/facts.d/keystone.fact section: general option: need_db_sync value: True when: keystone_get_venv | changed or keystone_venv_dir | changed or install_packages | changed,,29,4
openstack%2Fpuppet-vswitch~master~I3227189691df85f265cf84bd4115d8d4c9f979f3,openstack/puppet-vswitch,master,I3227189691df85f265cf84bd4115d8d4c9f979f3,OVS2.6 changes for DPDK,MERGED,2017-02-10 08:03:21.000000000,2017-04-04 15:11:20.000000000,2017-04-04 15:11:20.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 20971}]","[{'number': 1, 'created': '2017-02-10 08:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e5b50386f8b403286e8fe7e1bc53ec72b751725a', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2.6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 2, 'created': '2017-02-10 09:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/a400ec3fcdbbb6095b54c29bb39fb54aef5b35cb', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ""ovs-2.6-dpdk""\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 3, 'created': '2017-02-10 09:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f4a9fe744ac925e058628bd552774692a0e31497', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: ""blueprint ovs-2.6-dpdk""\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 4, 'created': '2017-02-10 09:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/0e263a23a0894169d757739a03cfe22c84cc6205', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 5, 'created': '2017-02-14 12:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/30b05724835df0d6daf22d95311832b1fb970a7d', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 6, 'created': '2017-02-16 17:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/b7e0ee2e2b2d12d5fe92be60d61af3c8a4368584', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 7, 'created': '2017-02-16 17:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/36a71b5cb0089aae4c9e5b44a07b7f471449d64d', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 8, 'created': '2017-02-17 06:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/1696dd3b332fc0424ed3fcf5f0f565cbeda40c55', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 9, 'created': '2017-02-17 07:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6889cdf16b134328468f62971c30f01f8058e960', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 10, 'created': '2017-02-20 14:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/fdd4cf1338f4e8bb669b490ab9fbeb2a94a33c2e', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 11, 'created': '2017-02-20 16:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/3b9a9a779798cc1189f0ca5166b1d384a1c7dbb5', 'message': 'WIP: OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 12, 'created': '2017-02-20 17:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/26fd8693340956d6b1e666670472ba63d2e35175', 'message': 'WIP: OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 13, 'created': '2017-02-21 15:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/be74f36afb2a1c0552d9f7cc53f66a469d0c88a7', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 14, 'created': '2017-03-07 13:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/44432c845675e0be58cfc8138b7f5fee9a2f2f34', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 15, 'created': '2017-03-16 15:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/07deea380c2692f0e5456fc3e0f04c15013b26ab', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 16, 'created': '2017-03-22 14:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/0502c9229340501bc1723f771efa555403b21aa9', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 17, 'created': '2017-03-23 09:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/cbf0528ecca5b410c6d87867faf997c7a9c7c066', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 18, 'created': '2017-03-30 11:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/dc7c7faba4b7cc8399e03d46a344c890cabc56a9', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 19, 'created': '2017-03-31 15:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/559c486c2464972885f2c1fa6fb4b15d5690550d', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 20, 'created': '2017-04-04 06:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f75b713a2d15559ffe626a171c605d4d841a33a7', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}, {'number': 21, 'created': '2017-04-04 13:00:10.000000000', 'files': ['lib/puppet/type/vs_config.rb', 'spec/classes/vswitch_dpdk_spec.rb', 'Rakefile', 'lib/puppet/provider/vs_config/ovs.rb', 'spec/unit/puppet/lib/type/vs_config_spec.rb', 'manifests/params.pp', 'releasenotes/notes/ovs2.6_support-cb3b2b5e75fde8ab.yaml', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/b58bd4844a0f1a30ccae9ae8cd4cb85ed4a7fee2', 'message': 'OVS2.6 changes for DPDK\n\nConfiguration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,\ndpdk-socket-mem are addressed as per OVS2.6, while maintaining\nbackward compatibility with OVS 2.5\n\nImplements: blueprint ovs-2-6-dpdk\n\nChange-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3\nSigned-off-by: karthik s <ksundara@redhat.com>\n'}]",87,432165,b58bd4844a0f1a30ccae9ae8cd4cb85ed4a7fee2,104,8,21,18904,,,0,"OVS2.6 changes for DPDK

Configuration of DPDK parameters pmd-cpu-mask, dpdk-lcore-mask,
dpdk-socket-mem are addressed as per OVS2.6, while maintaining
backward compatibility with OVS 2.5

Implements: blueprint ovs-2-6-dpdk

Change-Id: I3227189691df85f265cf84bd4115d8d4c9f979f3
Signed-off-by: karthik s <ksundara@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/65/432165/17 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp']",2,e5b50386f8b403286e8fe7e1bc53ec72b751725a,bp/ovs-2-6-dpdk,"# (optional) The number of memory channels to use as an integer. # This parameter is required only for OVS versions <= 2.5.# This parameter is required only for OVS versions <= 2.5. $memory_channels = undef, $ovs_ver_string = inline_template('<%= Facter.value(""ovs_version"") %>') # DPDK_OPTIONS is no longer used in ovs 2.6, since it was a distribution # specific hack to the ovs-ctl scripts. Instead dpdk information is # pulled from the ovsdb. if $ovs_ver_string =~ /^2\.5.*/ { $legacy_options_support = true } elsif $legacy_options_support { if $legacy_options_support { if $socket_mem { $socket_string = ""--socket-mem ${socket_mem}"" } if $driver_type { $pci_list = inline_template('<%= Facter.value(""pci_address_driver_#@driver_type"") %>') unless empty($pci_list) { $white_list = inline_template('-w <%= @pci_list.gsub("","", "" -w "") %>') } } $options = ""DPDK_OPTIONS = \""-l ${core_list_string} -n ${memory_channels} ${socket_string} ${white_list}\"""" } else { if $host_core_list { $host_core_list_updated = inline_template('<%= @core_list_string.split("","").map{|c| c.include?(""-"")?(c.split(""-"").map(&:to_i)[0]..c.split(""-"").map(&:to_i)[1]).to_a.join("",""):c}.join("","") %>') $dpdk_lcore_mask = inline_template('<%= @host_core_list_updated.split("","").map{|c| 1<<c.to_i}.inject(0,:|).to_s(16) %>') } } } if $legacy_options_support { file_line { '/etc/sysconfig/openvswitch': notify => Service['openvswitch'], path => '/etc/sysconfig/openvswitch', match => '^DPDK_OPTIONS.*', line => $options, require => Package[$::vswitch::params::ovs_dpdk_package_name], before => Service['openvswitch'], } vs_config { 'other_config:pmd-cpu-mask': value => $pmd_core_mask, notify => Service['openvswitch'], } }else { vs_config { 'other_config:dpdk-init' : value => 'true', notify => Service['openvswitch']; 'other_config:dpdk-socket-mem': value => $socket_mem, notify => Service['openvswitch']; 'other_config:dpdk-lcore-mask': value => $dpdk_lcore_mask, notify => Service['openvswitch']; 'other_config:pmd-cpu-mask' : value => $pmd_core_mask, notify => Service['openvswitch']; }} ","# (required) The number of memory channels to use as an integer $memory_channels, if $socket_mem { $socket_string = ""--socket-mem ${socket_mem}"" } if $driver_type { $pci_list = inline_template('<%= Facter.value(""pci_address_driver_#@driver_type"") %>') unless empty($pci_list) { $white_list = inline_template('-w <%= @pci_list.gsub("","", "" -w "") %>') } } else { $options = ""DPDK_OPTIONS = \""-l ${core_list_string} -n ${memory_channels} ${socket_string} ${white_list}\"""" vs_config { 'other_config:pmd-cpu-mask': value => $pmd_core_mask, require => Service['openvswitch'], } } file_line { '/etc/sysconfig/openvswitch': notify => Service['openvswitch'], path => '/etc/sysconfig/openvswitch', match => '^DPDK_OPTIONS.*', line => $options, require => Package[$::vswitch::params::ovs_dpdk_package_name], before => Service['openvswitch'], }",80,123
openstack%2Ftripleo-quickstart-extras~master~I2e40a62b8110a087086c5c51969aea10962b4ace,openstack/tripleo-quickstart-extras,master,I2e40a62b8110a087086c5c51969aea10962b4ace,DONT REVIEW: test non-iso settings,ABANDONED,2017-04-04 09:22:59.000000000,2017-04-04 15:08:27.000000000,,"[{'_account_id': 3}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-04-04 09:22:59.000000000', 'files': ['roles/overcloud-deploy/tasks/pre-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23661ac0d380f32309f96ee0bd41315e4bf26e86', 'message': 'DONT REVIEW: test non-iso settings\n\nNothing here\n\nChange-Id: I2e40a62b8110a087086c5c51969aea10962b4ace\n'}]",0,453075,23661ac0d380f32309f96ee0bd41315e4bf26e86,9,4,1,10969,,,0,"DONT REVIEW: test non-iso settings

Nothing here

Change-Id: I2e40a62b8110a087086c5c51969aea10962b4ace
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/75/453075/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/pre-deploy.yml'],1,23661ac0d380f32309f96ee0bd41315e4bf26e86,, {% if network_isolation|bool %}{{ network_isolation_args }}{% else %} -e {{ working_dir }}/network-environment.yaml {% endif %}, {% if network_isolation|bool %}{{ network_isolation_args }}{% endif %},3,1
openstack%2Ftripleo-ci~master~I3fa4a081c838c82f5871d9672fbc75f15e4406d8,openstack/tripleo-ci,master,I3fa4a081c838c82f5871d9672fbc75f15e4406d8,Support report by periodic multinode jobs,ABANDONED,2017-03-21 06:19:13.000000000,2017-04-04 15:07:47.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 10969}, {'_account_id': 12715}]","[{'number': 1, 'created': '2017-03-21 06:19:13.000000000', 'files': ['scripts/mirror-server/upload.cgi'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/89a5727d71c3eb4ce13167039dbb1124d15af9db', 'message': 'Support report by periodic multinode jobs\n\nIn multinode jobs servers has addresses from 10.0.0.0/8 networks,\nallow them to report their status for promotion.\n\nChange-Id: I3fa4a081c838c82f5871d9672fbc75f15e4406d8\n'}]",1,447860,89a5727d71c3eb4ce13167039dbb1124d15af9db,9,5,1,10969,,,0,"Support report by periodic multinode jobs

In multinode jobs servers has addresses from 10.0.0.0/8 networks,
allow them to report their status for promotion.

Change-Id: I3fa4a081c838c82f5871d9672fbc75f15e4406d8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/60/447860/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/mirror-server/upload.cgi'],1,89a5727d71c3eb4ce13167039dbb1124d15af9db,," if (not os.environ.get(""REMOTE_ADDR"", """").startswith(""192.168."") and not os.environ.get(""REMOTE_ADDR"", """").startswith(""10."")): return 1"," if not os.environ.get(""REMOTE_ADDR"", """").startswith(""192.168.""): return 1",3,2
openstack%2Ftripleo-ci~master~Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5,openstack/tripleo-ci,master,Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5,DONT REVIEW: test new ovb with images building,ABANDONED,2017-03-13 22:13:57.000000000,2017-04-04 15:06:52.000000000,,"[{'_account_id': 3}, {'_account_id': 10969}]","[{'number': 1, 'created': '2017-03-13 22:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/58f7d14a24a56bda602460bfa8a705f3fbfa7475', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\nDepends-On: I67e0a7bb6d8db75e00bd6d1a7db495aadcfc04a6\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}, {'number': 2, 'created': '2017-03-15 16:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d7b9db1be88b787fb38c95524cde97caa6f75661', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\nDepends-On: I67e0a7bb6d8db75e00bd6d1a7db495aadcfc04a6\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}, {'number': 3, 'created': '2017-03-16 15:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4eea183f1f2347a61af8f129ccc8c31476e6ba7a', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\nDepends-On: I4464587cc8e00d63212d52d322a659385ad259fe\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}, {'number': 4, 'created': '2017-03-18 10:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/71b58555f0570cb778cd5a8a97ffcd855d6292da', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\nDepends-On: I4464587cc8e00d63212d52d322a659385ad259fe\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}, {'number': 5, 'created': '2017-03-19 16:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b941027319d53ab3f1f75f5203652256ad12d2b6', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\nDepends-On: I4464587cc8e00d63212d52d322a659385ad259fe\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}, {'number': 6, 'created': '2017-03-21 14:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c962d96676110779786e735429dd8b55142576d8', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\nDepends-On: I4464587cc8e00d63212d52d322a659385ad259fe\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}, {'number': 7, 'created': '2017-03-28 22:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/60e79c291a63a771bb7978d6c8dc28b018822fc8', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\nDepends-On: I4464587cc8e00d63212d52d322a659385ad259fe\nDepends-On: Ie2489b2b51605b6e185371f37676e0d9cd66a04f\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}, {'number': 8, 'created': '2017-03-30 09:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3cdcf52df5e4e131e21ea39bbe031cfb7b6d5056', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\nDepends-On: I4464587cc8e00d63212d52d322a659385ad259fe\nDepends-On: Ie2489b2b51605b6e185371f37676e0d9cd66a04f\n'}, {'number': 9, 'created': '2017-03-30 13:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b460a4a21109d5ad72164f37000de3de7575a218', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\nDepends-On: I4464587cc8e00d63212d52d322a659385ad259fe\nDepends-On: Ie2489b2b51605b6e185371f37676e0d9cd66a04f\n'}, {'number': 10, 'created': '2017-03-30 20:13:38.000000000', 'files': ['scripts/common_functions.sh', 'scripts/quickstart/ovb-playbook.yml', 'toci_instack_oooq.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ce045371c14660be6698f494f1bc6287e7d7fd41', 'message': 'DONT REVIEW: test new ovb with images building\n\nNothing here\n\nChange-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5\n'}]",0,445228,ce045371c14660be6698f494f1bc6287e7d7fd41,96,2,10,10969,,,0,"DONT REVIEW: test new ovb with images building

Nothing here

Change-Id: Ieb2f7a11f765c7cf9adeceee728aa4e6f72737f5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/445228/8 && git format-patch -1 --stdout FETCH_HEAD,['scripts/quickstart/ovb-playbook.yml'],1,58f7d14a24a56bda602460bfa8a705f3fbfa7475,newovb,# test,,1,0
openstack%2Ftripleo-heat-templates~master~I16853cdec6c8fe6ad54f17ae2ad1e0460f1574ea,openstack/tripleo-heat-templates,master,I16853cdec6c8fe6ad54f17ae2ad1e0460f1574ea,Remove not-working all-in-one upgrade environment,MERGED,2017-04-03 15:20:00.000000000,2017-04-04 15:06:50.000000000,2017-04-04 15:06:50.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 8297}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-04-03 15:20:00.000000000', 'files': ['environments/major-upgrade-all-in-one.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66551bd7de0c78aa943c2aebd4fee9cb14c49c88', 'message': ""Remove not-working all-in-one upgrade environment\n\nThis won't work because we need to change the state of UpgradeLevelNovaCompute\nand EnableConfigPurge during the upgrade - it should have been removed\nbefore release, which was an oversight.\n\nRemoving this now to avoid further confusion in future.\n\nChange-Id: I16853cdec6c8fe6ad54f17ae2ad1e0460f1574ea\nCloses-Bug: #1679214\n""}]",0,452800,66551bd7de0c78aa943c2aebd4fee9cb14c49c88,12,5,1,4328,,,0,"Remove not-working all-in-one upgrade environment

This won't work because we need to change the state of UpgradeLevelNovaCompute
and EnableConfigPurge during the upgrade - it should have been removed
before release, which was an oversight.

Removing this now to avoid further confusion in future.

Change-Id: I16853cdec6c8fe6ad54f17ae2ad1e0460f1574ea
Closes-Bug: #1679214
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/452800/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/major-upgrade-all-in-one.yaml'],1,66551bd7de0c78aa943c2aebd4fee9cb14c49c88,bug/1679214,,resource_registry: OS::TripleO::PostDeploySteps: ../puppet/major_upgrade_steps.yaml ,0,2
openstack%2Fopenstack-ansible~master~I49eac157292423fff7e89cfe4053dcf34832abcb,openstack/openstack-ansible,master,I49eac157292423fff7e89cfe4053dcf34832abcb,SHA Bump for Pike 31 March 2017,ABANDONED,2017-03-31 14:05:07.000000000,2017-04-04 15:06:41.000000000,,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-03-31 14:05:07.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/827b096f110bfeb88022f7fa58174da69afe3297', 'message': 'SHA Bump for Pike 31 March 2017\n\nChange-Id: I49eac157292423fff7e89cfe4053dcf34832abcb\n'}]",0,452212,827b096f110bfeb88022f7fa58174da69afe3297,7,3,1,2799,,,0,"SHA Bump for Pike 31 March 2017

Change-Id: I49eac157292423fff7e89cfe4053dcf34832abcb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/452212/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,827b096f110bfeb88022f7fa58174da69afe3297,sha-update,"tempest_git_install_branch: e8afb8c2c5f948ee45e1c7edab4d82516920bd9a # HEAD of ""master"" as of 31.03.2017rally_git_install_branch: 6793e7e164b0d00a5eede462a606ed66e38e52fc # HEAD of ""master"" as of 31.03.2017","tempest_git_install_branch: 4411b2992c4f093ddc893e2e8149b2277d35c137 # HEAD of ""master"" as of 22.03.2017rally_git_install_branch: 0978e1b0b5ccd9accfe4c1e5cf28220aa082fd10 # HEAD of ""master"" as of 22.03.2017",38,38
openstack%2Ftripleo-ci~master~Ie775ad2a09f81859e2f0e0c435542a60460dad30,openstack/tripleo-ci,master,Ie775ad2a09f81859e2f0e0c435542a60460dad30,WIP: remove logs from subnode,ABANDONED,2017-03-15 12:08:37.000000000,2017-04-04 15:06:30.000000000,,"[{'_account_id': 3}, {'_account_id': 10022}]","[{'number': 1, 'created': '2017-03-15 12:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/137bbaad105cf6ffe2ec08b661d6789953dbfabf', 'message': 'WIP: remove logs from subnode\n\nRemove redundant subnode-2 logs dir\n\nChange-Id: Ie775ad2a09f81859e2f0e0c435542a60460dad30\n'}, {'number': 2, 'created': '2017-03-15 16:27:33.000000000', 'files': ['toci-quickstart/playbooks/multinode.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c6e02ef037b938f14f18cd5113ca53be23929afb', 'message': 'WIP: remove logs from subnode\n\nRemove redundant subnode-2 logs dir\n\nChange-Id: Ie775ad2a09f81859e2f0e0c435542a60460dad30\n'}]",0,445902,c6e02ef037b938f14f18cd5113ca53be23929afb,8,2,2,10969,,,0,"WIP: remove logs from subnode

Remove redundant subnode-2 logs dir

Change-Id: Ie775ad2a09f81859e2f0e0c435542a60460dad30
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/02/445902/2 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/playbooks/multinode.yml'],1,137bbaad105cf6ffe2ec08b661d6789953dbfabf,dellog, - name: Remove subnode logs shell: rm -rf /opt/stack/logs become: true,,4,0
openstack%2Fopenstack-ansible-os_swift~master~I81a94fa6b9efc6396ef21e5a06fa728dadb23d14,openstack/openstack-ansible-os_swift,master,I81a94fa6b9efc6396ef21e5a06fa728dadb23d14,Remove double swift-host setup run in testing,MERGED,2017-04-04 13:07:45.000000000,2017-04-04 15:03:51.000000000,2017-04-04 15:03:51.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-04 13:07:45.000000000', 'files': ['tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d62d6a23ac0b01d0320dbcb6c710dfd5f3cecfdf', 'message': 'Remove double swift-host setup run in testing\n\nThis happens as part of the swift-install play already.\n\nChange-Id: I81a94fa6b9efc6396ef21e5a06fa728dadb23d14\n'}]",0,453161,d62d6a23ac0b01d0320dbcb6c710dfd5f3cecfdf,7,3,1,2799,,,0,"Remove double swift-host setup run in testing

This happens as part of the swift-install play already.

Change-Id: I81a94fa6b9efc6396ef21e5a06fa728dadb23d14
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/61/453161/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test.yml'],1,d62d6a23ac0b01d0320dbcb6c710dfd5f3cecfdf,,,# Setup Swift-hosts - include: common/test-setup-swifthosts.yml ,0,3
openstack%2Fpuppet-panko~master~I861de5885ea674e28111e46a0e6e7f2d2a143fd7,openstack/puppet-panko,master,I861de5885ea674e28111e46a0e6e7f2d2a143fd7,oslo log: check puppet resource instead of actual config in spec,MERGED,2017-03-29 16:06:17.000000000,2017-04-04 15:03:00.000000000,2017-04-04 15:03:00.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9414}]","[{'number': 1, 'created': '2017-03-29 16:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/3b1b5b49575c5cde5afcb09a0b4c0be631726de7', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I861de5885ea674e28111e46a0e6e7f2d2a143fd7\n'}, {'number': 2, 'created': '2017-03-29 16:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/58cde82a38d65c842d2bfd4b7d52e3168efb69be', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I861de5885ea674e28111e46a0e6e7f2d2a143fd7\n'}, {'number': 3, 'created': '2017-04-03 09:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/8fce80d927de4ba0f2980ca381782cdd2298e3f0', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I861de5885ea674e28111e46a0e6e7f2d2a143fd7\n'}, {'number': 4, 'created': '2017-04-03 11:55:51.000000000', 'files': ['spec/classes/panko_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/29de8e9cc964aced3268d63d5807e05f44970ab2', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I861de5885ea674e28111e46a0e6e7f2d2a143fd7\n'}]",0,451473,29de8e9cc964aced3268d63d5807e05f44970ab2,18,3,4,18795,,,0,"oslo log: check puppet resource instead of actual config in spec

Change-Id: I861de5885ea674e28111e46a0e6e7f2d2a143fd7
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/73/451473/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/panko_logging_spec.rb', 'log/default/2017-03-29_19_01_52/sut.log']",2,3b1b5b49575c5cde5afcb09a0b4c0be631726de7,standard-oslo-log-params,,,38,50
openstack%2Fstorlets~master~Ic079ec47e453dea0ce23ee265ccef5f2da230388,openstack/storlets,master,Ic079ec47e453dea0ce23ee265ccef5f2da230388,Fix py3 unit test failures,MERGED,2017-04-03 09:59:01.000000000,2017-04-04 14:57:45.000000000,2017-04-04 07:59:50.000000000,"[{'_account_id': 3}, {'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 11317}, {'_account_id': 17901}]","[{'number': 1, 'created': '2017-04-03 09:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/612709aa1c4d66f3feb99ecefdfde567687c3795', 'message': 'Fix py3 unit test failures\n\nChange-Id: Ic079ec47e453dea0ce23ee265ccef5f2da230388\n'}, {'number': 2, 'created': '2017-04-04 01:53:36.000000000', 'files': ['tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/51ce5d9d1a6596712936fc08931674b05517490d', 'message': 'Fix py3 unit test failures\n\nChange-Id: Ic079ec47e453dea0ce23ee265ccef5f2da230388\n'}]",5,452673,51ce5d9d1a6596712936fc08931674b05517490d,13,5,2,4608,,,0,"Fix py3 unit test failures

Change-Id: Ic079ec47e453dea0ce23ee265ccef5f2da230388
",git fetch https://review.opendev.org/openstack/storlets refs/changes/73/452673/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py']",2,612709aa1c4d66f3feb99ecefdfde567687c3795,," with os.fdopen(fd, 'w') as writer: yield writer"," writer = os.fdopen(fd, 'w') try: os.close(fd) except Exception: # any error is ok to close this operation because even if it # happens, we cannot do anything. pass try: yield writer finally: writer.close() # NOTE(takashi): writer.close() also closes fd, so we don't have to # close fd again. ",16,36
openstack%2Ffuel-qa~stable%2Fnewton~I6e7832870aa78467f5ce44899dda67269280ca5a,openstack/fuel-qa,stable/newton,I6e7832870aa78467f5ce44899dda67269280ca5a,Don't retry fuel master migration for each test,ABANDONED,2017-04-04 11:37:44.000000000,2017-04-04 14:57:06.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}]","[{'number': 1, 'created': '2017-04-04 11:37:44.000000000', 'files': ['fuel_tests/tests/test_fuel_migration.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/e4aadf05cf8162ffee8aea803769dd674b5708ec', 'message': ""Don't retry fuel master migration for each test\n\nChange-Id: I6e7832870aa78467f5ce44899dda67269280ca5a\n""}]",0,453137,e4aadf05cf8162ffee8aea803769dd674b5708ec,6,2,1,9588,,,0,"Don't retry fuel master migration for each test

Change-Id: I6e7832870aa78467f5ce44899dda67269280ca5a
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/37/453137/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_tests/tests/test_fuel_migration.py'],1,e4aadf05cf8162ffee8aea803769dd674b5708ec,bug1676848, snapshot_name = 'migrated_fuel_master' if instance.manager.check_run(snapshot_name): logger.debug('Snapshot with name {!r} already exists and it will ' 'be used for further testing'.format(snapshot_name)) instance.manager.env.revert_snapshot(snapshot_name) return None instance.manager.save_env_snapshot(snapshot_name) instance.manager.env.revert_snapshot(snapshot_name),,8,0
openstack%2Fheat~master~Ib40612fbb88969cf41457c513722a83d1cdc9019,openstack/heat,master,Ib40612fbb88969cf41457c513722a83d1cdc9019,Use timeout as whole seconds in swift plugin,MERGED,2016-11-15 02:54:37.000000000,2017-04-04 14:52:46.000000000,2016-11-15 04:37:06.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 13564}]","[{'number': 1, 'created': '2016-11-15 02:54:37.000000000', 'files': ['heat/engine/clients/os/swift.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ddd55567f51769c9bdb05edea346edb5bae4e801', 'message': 'Use timeout as whole seconds in swift plugin\n\nChange-Id: Ib40612fbb88969cf41457c513722a83d1cdc9019\nCloses-Bug: #1641800\n'}]",0,397490,ddd55567f51769c9bdb05edea346edb5bae4e801,8,3,1,8833,,,0,"Use timeout as whole seconds in swift plugin

Change-Id: Ib40612fbb88969cf41457c513722a83d1cdc9019
Closes-Bug: #1641800
",git fetch https://review.opendev.org/openstack/heat refs/changes/90/397490/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/swift.py'],1,ddd55567f51769c9bdb05edea346edb5bae4e801,bug/1641800, timeout = int(MAX_EPOCH - 60 - time.time()), timeout = MAX_EPOCH - 60 - time.time(),1,1
openstack%2Fironic~master~I94d63a0956bc6cb274afd704bdf816114748a5bd,openstack/ironic,master,I94d63a0956bc6cb274afd704bdf816114748a5bd,Removing -U flag in install_command,ABANDONED,2016-10-14 16:27:33.000000000,2017-04-04 14:48:38.000000000,,"[{'_account_id': 3}, {'_account_id': 5660}, {'_account_id': 14760}, {'_account_id': 19339}, {'_account_id': 20826}]","[{'number': 1, 'created': '2016-10-14 16:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e16b69f05a1d3c07e0481ac2eed21137a4ad845', 'message': ""Constraints are ready to be used for tox.ini\n\nPer email[1] from Andreas, we don't need to hack at install_command\nany longer.\n\n[1] http://openstack.markmail.org/thread/a4l7tokbotwqvuoh\n\nChange-Id: I94d63a0956bc6cb274afd704bdf816114748a5bd\n""}, {'number': 2, 'created': '2016-10-14 17:52:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4dd84a4893d7c9afca2fccd9aa2378f9fd1f230', 'message': 'Removing -U flag in install_command\n\nSince ironic uses Constraints removed the -U flag.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2016-August/101474.html\n\nChange-Id: I94d63a0956bc6cb274afd704bdf816114748a5bd\n'}]",3,386684,b4dd84a4893d7c9afca2fccd9aa2378f9fd1f230,13,5,2,20826,,,0,"Removing -U flag in install_command

Since ironic uses Constraints removed the -U flag.

http://lists.openstack.org/pipermail/openstack-dev/2016-August/101474.html

Change-Id: I94d63a0956bc6cb274afd704bdf816114748a5bd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/386684/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2e16b69f05a1d3c07e0481ac2eed21137a4ad845,tox,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-heat-templates~master~Ia83d17b609e4f737074482a980689cc57c3ad911,openstack/tripleo-heat-templates,master,Ia83d17b609e4f737074482a980689cc57c3ad911,Purge initial firewall for deployed-server's,MERGED,2017-04-03 16:52:52.000000000,2017-04-04 14:46:55.000000000,2017-04-04 14:33:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-04-03 16:52:52.000000000', 'files': ['releasenotes/notes/deployed-server-firewall-purge-9d9fe73faf925056.yaml', 'deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a216934f408439e77bf8346dafe30c4752c70946', 'message': ""Purge initial firewall for deployed-server's\n\nWe need to purge the initial firewall for deployed-server's, otherwise\nif you have a default REJECT rule, the pacemaker cluster will fail to\ninitialize. This matches the behavior done when using images, see:\nIddc21316a1a3d42a1a43cbb4b9c178adba8f8db3\nI0dee5ff045fbfe7b55d078583e16b107eec534aa\n\nChange-Id: Ia83d17b609e4f737074482a980689cc57c3ad911\nCloses-Bug: #1679234\n""}]",0,452836,a216934f408439e77bf8346dafe30c4752c70946,10,4,1,7144,,,0,"Purge initial firewall for deployed-server's

We need to purge the initial firewall for deployed-server's, otherwise
if you have a default REJECT rule, the pacemaker cluster will fail to
initialize. This matches the behavior done when using images, see:
Iddc21316a1a3d42a1a43cbb4b9c178adba8f8db3
I0dee5ff045fbfe7b55d078583e16b107eec534aa

Change-Id: Ia83d17b609e4f737074482a980689cc57c3ad911
Closes-Bug: #1679234
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/452836/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deployed-server-firewall-purge-9d9fe73faf925056.yaml', 'deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh']",3,a216934f408439e77bf8346dafe30c4752c70946,bug/1679234, echo '# empty ruleset created by deployed-server bootstrap' > /etc/sysconfig/iptables echo '# empty ruleset created by deployed-server bootstrap' > /etc/sysconfig/ip6tables,,12,0
openstack%2Frenderspec~master~I32037e1d386f2ff3986563f1484a3610fc684690,openstack/renderspec,master,I32037e1d386f2ff3986563f1484a3610fc684690,Removes unnecessary utf-8 coding for renderspec,ABANDONED,2016-12-27 00:35:02.000000000,2017-04-04 14:41:42.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 7613}, {'_account_id': 13404}, {'_account_id': 25173}]","[{'number': 1, 'created': '2016-12-27 00:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/renderspec/commit/a48e3a769326ec28a675e27c23343405ecb6360f', 'message': 'Removes unnecessary utf-8 coding\n\nThe file was added redundant utf-8 coding by some editor.\nwe can delete it .\n\nChange-Id: I32037e1d386f2ff3986563f1484a3610fc684690\n'}, {'number': 2, 'created': '2017-03-10 01:33:33.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/6d4348b05e57f537c86da9da942aaeafcd741350', 'message': 'Removes unnecessary utf-8 coding for renderspec\n\nThe file was added redundant utf-8 coding by some editor.\nwe can delete it .\n\nChange-Id: I32037e1d386f2ff3986563f1484a3610fc684690\n'}]",0,415037,6d4348b05e57f537c86da9da942aaeafcd741350,12,6,2,22484,,,0,"Removes unnecessary utf-8 coding for renderspec

The file was added redundant utf-8 coding by some editor.
we can delete it .

Change-Id: I32037e1d386f2ff3986563f1484a3610fc684690
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/37/415037/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a48e3a769326ec28a675e27c23343405ecb6360f,bug/gengchc,,# -*- coding: utf-8 -*- ,0,2
openstack%2Frpm-packaging~master~I55620f32d06e0524d5d6809e0c47622fcf35ebea,openstack/rpm-packaging,master,I55620f32d06e0524d5d6809e0c47622fcf35ebea,Update oslo.vmware to 2.19.0,MERGED,2017-04-03 19:56:57.000000000,2017-04-04 14:41:21.000000000,2017-04-04 14:39:35.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-04-03 19:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d0b073e03e5dee78fcee7671e6cfba4c1bf3cecf', 'message': 'Update oslo.vmware to 2.19.0\n\nChange-Id: I55620f32d06e0524d5d6809e0c47622fcf35ebea\nDepends-on: Iccba959d7cc2fe1be7abd983b201e6c54dfc8fa0\n'}, {'number': 2, 'created': '2017-04-04 13:54:56.000000000', 'files': ['openstack/oslo.vmware/0001-Make-the-mock-call-in-MemoryCacheTest-forward-compat.patch', 'openstack/oslo.vmware/oslo.vmware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5073b37c7f9c8c6fa439baf4e7fd285bf435f5ef', 'message': 'Update oslo.vmware to 2.19.0\n\nChange-Id: I55620f32d06e0524d5d6809e0c47622fcf35ebea\nDepends-on: Iccba959d7cc2fe1be7abd983b201e6c54dfc8fa0\n'}]",0,452915,5073b37c7f9c8c6fa439baf4e7fd285bf435f5ef,20,7,2,17130,,,0,"Update oslo.vmware to 2.19.0

Change-Id: I55620f32d06e0524d5d6809e0c47622fcf35ebea
Depends-on: Iccba959d7cc2fe1be7abd983b201e6c54dfc8fa0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/452915/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.vmware/oslo.vmware.spec.j2'],1,d0b073e03e5dee78fcee7671e6cfba4c1bf3cecf,oslo-vmware,Version: 2.19.0,Version: 2.18.0,1,1
openstack%2Fpuppet-neutron~master~Iad75df03e2e000cb48e3887661ed1475dc14ec02,openstack/puppet-neutron,master,Iad75df03e2e000cb48e3887661ed1475dc14ec02,Add support for Bagpipe driver to BGPVPN Service,MERGED,2017-03-23 11:25:21.000000000,2017-04-04 14:40:51.000000000,2017-04-04 14:40:51.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 12021}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 17893}, {'_account_id': 18795}, {'_account_id': 20775}, {'_account_id': 20971}, {'_account_id': 21626}, {'_account_id': 21747}]","[{'number': 1, 'created': '2017-03-23 11:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7015c7ba372b066077671c3854c7aac168d2103a', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 2, 'created': '2017-03-23 11:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/39dbb20e12b6ca73bb959f8fb8e109e9adcc609d', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 3, 'created': '2017-03-24 11:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/dbec2db532f51acbe3052ab9ee4f54b3a807fadc', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 4, 'created': '2017-03-24 12:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fede9bfe695ad39a3607b903a6710212f07b039e', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 5, 'created': '2017-03-29 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/158720e500512ed3d48e8834b8186f18220f54d1', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 6, 'created': '2017-03-29 13:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cb69320ed4d2f25f17711ee547d1fa4525fb1101', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 7, 'created': '2017-03-30 09:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4e8a6e06a5778b9ae504aeb452e42607413fba87', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 8, 'created': '2017-03-30 10:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/643dfd550a65fa1c4a6f82c26e510b5671e41029', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 9, 'created': '2017-03-30 13:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/edd193eb6dbcca1369928ca6f68c26bf533863c9', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 10, 'created': '2017-04-03 09:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/56812bc3d9324d38b90ea4f4770b5f07806f54fd', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 11, 'created': '2017-04-04 09:49:11.000000000', 'files': ['spec/unit/provider/neutron_bgpvpn_bagpipe_config/openstackconfig_spec.rb', 'lib/puppet/provider/neutron_bgpvpn_bagpipe_config/openstackconfig.rb', 'manifests/agents/bagpipe.pp', 'spec/unit/type/neutron_bgpvpn_bagpipe_config_spec.rb', 'spec/classes/neutron_agents_bagpipe_spec.rb', 'manifests/params.pp', 'manifests/deps.pp', 'lib/puppet/type/neutron_bgpvpn_bagpipe_config.rb', 'releasenotes/notes/bgpvpn-support-73886489d10d6301.yaml', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7a198387c91b917bf5294dbd2e6718e357d55ba6', 'message': 'Add support for Bagpipe driver to BGPVPN Service\n\n  Introduce puppet classes to configure networking-bagpipe\n\nImplements: blueprint bgpvpn-service-integration\n\nChange-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}]",54,449081,7a198387c91b917bf5294dbd2e6718e357d55ba6,66,12,11,21626,,,0,"Add support for Bagpipe driver to BGPVPN Service

  Introduce puppet classes to configure networking-bagpipe

Implements: blueprint bgpvpn-service-integration

Change-Id: Iad75df03e2e000cb48e3887661ed1475dc14ec02
Signed-off-by: Ricardo Noriega <rnoriega@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/81/449081/11 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/neutron_bgpvpn_bagpipe_config/openstackconfig_spec.rb', 'lib/puppet/provider/neutron_bgpvpn_bagpipe_config/openstackconfig.rb', 'manifests/agents/bagpipe.pp', 'spec/unit/type/neutron_bgpvpn_bagpipe_config_spec.rb', 'manifests/params.pp', 'manifests/deps.pp', 'lib/puppet/type/neutron_bgpvpn_bagpipe_config.rb', 'releasenotes/notes/bgpvpn-support-73886489d10d6301.yaml', 'manifests/config.pp']",9,7015c7ba372b066077671c3854c7aac168d2103a,bp/bgpvpn-service-integration,"# [*bgpvpn_bagpipe_config*] # (optional) Manage configuration of bgp.conf # $bgpvpn_bagpipe_config = {}, validate_hash($bgpvpn_bagpipe_config) create_resources('neutron_bgpvpn_bagpipe_config', $bgpvpn_bagpipe_config)",,264,0
openstack%2Fpuppet-tacker~master~Ia561acb808cb642f33acbaf3c2fa1065e9ce263b,openstack/puppet-tacker,master,Ia561acb808cb642f33acbaf3c2fa1065e9ce263b,oslo log: check puppet resource instead of actual config in spec,MERGED,2017-04-03 09:55:00.000000000,2017-04-04 14:40:45.000000000,2017-04-04 14:40:45.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-03 09:55:00.000000000', 'files': ['spec/classes/tacker_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/b0caa5553e81c706a9e2571f23cfebdef4f3929f', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: Ia561acb808cb642f33acbaf3c2fa1065e9ce263b\n'}]",0,452669,b0caa5553e81c706a9e2571f23cfebdef4f3929f,10,3,1,18795,,,0,"oslo log: check puppet resource instead of actual config in spec

Change-Id: Ia561acb808cb642f33acbaf3c2fa1065e9ce263b
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/69/452669/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tacker_logging_spec.rb'],1,b0caa5553e81c706a9e2571f23cfebdef4f3929f,standard-oslo-log-params," 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', :log_file => '/var/tmp/tacker_random.log', is_expected.to contain_oslo__log('tacker_config').with( :use_syslog => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :syslog_log_facility => '<SERVICE DEFAULT>', :log_dir => '/var/log/tacker', :log_file => '/var/log/tacker/tacker.log', :debug => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__log('tacker_config').with( :use_syslog => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/tacker_random.log', :debug => true, ) is_expected.to contain_oslo__log('tacker_config').with( :logging_context_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s', :logging_default_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s', :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/tacker/logging.conf', :publish_errors => true, :default_log_levels => { 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', ) it { is_expected.to contain_oslo__log('tacker_config').with(""#{param}"" => '<SERVICE DEFAULT>') }"," 'qpid' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', :log_file => '/var/log/tacker.log', is_expected.to contain_tacker_config('DEFAULT/use_syslog').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tacker_config('DEFAULT/use_stderr').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tacker_config('DEFAULT/syslog_log_facility').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tacker_config('DEFAULT/log_dir').with(:value => '/var/log/tacker') is_expected.to contain_tacker_config('DEFAULT/log_file').with(:value => '/var/log/tacker/tacker.log') is_expected.to contain_tacker_config('DEFAULT/debug').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tacker_config('DEFAULT/use_syslog').with(:value => 'true') is_expected.to contain_tacker_config('DEFAULT/use_stderr').with(:value => 'false') is_expected.to contain_tacker_config('DEFAULT/syslog_log_facility').with(:value => 'LOG_FOO') is_expected.to contain_tacker_config('DEFAULT/log_dir').with(:value => '/var/log') is_expected.to contain_tacker_config('DEFAULT/log_file').with(:value => '/var/log/tacker.log') is_expected.to contain_tacker_config('DEFAULT/debug').with(:value => 'true') is_expected.to contain_tacker_config('DEFAULT/logging_context_format_string').with_value( '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s') is_expected.to contain_tacker_config('DEFAULT/logging_default_format_string').with_value( '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s') is_expected.to contain_tacker_config('DEFAULT/logging_debug_format_suffix').with_value( '%(funcName)s %(pathname)s:%(lineno)d') is_expected.to contain_tacker_config('DEFAULT/logging_exception_prefix').with_value( '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s') is_expected.to contain_tacker_config('DEFAULT/log_config_append').with_value( '/etc/tacker/logging.conf') is_expected.to contain_tacker_config('DEFAULT/publish_errors').with_value( true) is_expected.to contain_tacker_config('DEFAULT/default_log_levels').with_value( 'amqp=WARN,amqplib=WARN,boto=WARN,iso8601=WARN,qpid=WARN,requests.packages.urllib3.connectionpool=WARN,sqlalchemy=WARN,suds=INFO') is_expected.to contain_tacker_config('DEFAULT/fatal_deprecations').with_value( true) is_expected.to contain_tacker_config('DEFAULT/instance_format').with_value( '[instance: %(uuid)s] ') is_expected.to contain_tacker_config('DEFAULT/instance_uuid_format').with_value( '[instance: %(uuid)s] ') is_expected.to contain_tacker_config('DEFAULT/log_date_format').with_value( '%Y-%m-%d %H:%M:%S') it { is_expected.to contain_tacker_config(""DEFAULT/#{param}"").with_value('<SERVICE DEFAULT>') }",36,48
openstack%2Frpm-packaging~master~If8240779738448843d621164812a4a82ee404156,openstack/rpm-packaging,master,If8240779738448843d621164812a4a82ee404156,Update python-tripleoclient to 6.1.0,MERGED,2017-03-29 06:22:49.000000000,2017-04-04 14:40:45.000000000,2017-04-04 14:39:41.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-03-29 06:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a4713a8a82cac318315ce44bb4c9ad115ef23515', 'message': 'Update python-tripleoclient to 6.1.0\n\nIn order to remove os-cloud-config dependency, add non-released\nupstream patch.\n\nChange-Id: If8240779738448843d621164812a4a82ee404156\n'}, {'number': 2, 'created': '2017-03-29 11:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/425a13a59cced2cc2562557ceedca29aca5186d5', 'message': 'Update python-tripleoclient to 6.1.0\n\nIn order to remove os-cloud-config dependency, add non-released\nupstream patch.\n\nChange-Id: If8240779738448843d621164812a4a82ee404156\n'}, {'number': 3, 'created': '2017-04-04 13:24:35.000000000', 'files': ['openstack/python-tripleoclient/0001-Stop-using-os-cloud-config.patch', 'openstack/python-tripleoclient/python-tripleoclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1dc120b428e672258b5ae8ccc6d2860c1e1b880c', 'message': 'Update python-tripleoclient to 6.1.0\n\nIn order to remove os-cloud-config dependency, add non-released\nupstream patch.\n\nChange-Id: If8240779738448843d621164812a4a82ee404156\n'}]",0,451202,1dc120b428e672258b5ae8ccc6d2860c1e1b880c,31,6,3,6593,,,0,"Update python-tripleoclient to 6.1.0

In order to remove os-cloud-config dependency, add non-released
upstream patch.

Change-Id: If8240779738448843d621164812a4a82ee404156
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/451202/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-tripleoclient/0001-Stop-using-os-cloud-config.patch', 'openstack/python-tripleoclient/python-tripleoclient.spec.j2']",2,a4713a8a82cac318315ce44bb4c9ad115ef23515,tripleoclient,Version: 6.1.0Patch1: 0001-Stop-using-os-cloud-config.patch%autosetup -p1 -n %{sname}-%{version},Version: 6.0.0BuildRequires: {{ py2pkg('os-cloud-config') }}Requires: {{ py2pkg('os-cloud-config') }}%autosetup -n %{sname}-%{version},420,4
openstack%2Frpm-packaging~master~I5d3a56d05f44aeaa5789a6e40836a90029c0baf0,openstack/rpm-packaging,master,I5d3a56d05f44aeaa5789a6e40836a90029c0baf0,Update  python-ironicclient to 1.12.0,MERGED,2017-03-29 21:46:25.000000000,2017-04-04 14:40:12.000000000,2017-04-04 14:37:54.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-03-29 21:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/75699dc8bd02f17ba9c852f64635b6b8887a2ae5', 'message': 'Update  python-ironicclient to 1.12.0\n\nChange-Id: I5d3a56d05f44aeaa5789a6e40836a90029c0baf0\nDepends-on: I142e41e772e90f58aed0f3e6de52e317c249b82e\n'}, {'number': 2, 'created': '2017-04-03 12:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/93b226f8dcf77d85f48b8765e24f1e15a68d0777', 'message': 'Update  python-ironicclient to 1.12.0\n\nChange-Id: I5d3a56d05f44aeaa5789a6e40836a90029c0baf0\nDepends-on: I142e41e772e90f58aed0f3e6de52e317c249b82e\n'}, {'number': 3, 'created': '2017-04-04 13:43:20.000000000', 'files': ['openstack/python-ironicclient/python-ironicclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1ccdab0ca289a237e0efb959989be0ff280ded75', 'message': 'Update  python-ironicclient to 1.12.0\n\nChange-Id: I5d3a56d05f44aeaa5789a6e40836a90029c0baf0\nDepends-on: I142e41e772e90f58aed0f3e6de52e317c249b82e\n'}]",0,451580,1ccdab0ca289a237e0efb959989be0ff280ded75,32,6,3,17130,,,0,"Update  python-ironicclient to 1.12.0

Change-Id: I5d3a56d05f44aeaa5789a6e40836a90029c0baf0
Depends-on: I142e41e772e90f58aed0f3e6de52e317c249b82e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/451580/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-ironicclient/python-ironicclient.spec.j2'],1,75699dc8bd02f17ba9c852f64635b6b8887a2ae5,python-ironicclient,Version: 1.12.0,Version: 1.11.0,1,1
openstack%2Fnova~master~Ic155bd29d46059832cce970bf60375e7e472eca6,openstack/nova,master,Ic155bd29d46059832cce970bf60375e7e472eca6,encryptors: Introduce encryption provider constants,MERGED,2016-11-04 18:37:57.000000000,2017-04-04 14:33:11.000000000,2016-12-14 20:34:00.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}]","[{'number': 1, 'created': '2016-11-04 18:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90d0f432f4d10cd8278e57a92200f067fcaad946', 'message': 'WIP encryptors: Use an EncryptionProvider enum\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 2, 'created': '2016-11-04 19:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72d3465c727a6c71c7bfae69d514ff990d34c3c9', 'message': 'WIP encryptors: Use an EncryptionProvider enum\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 3, 'created': '2016-11-04 19:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec49e2770c0ad9a8321fe90718ffd0c6bca8fd6c', 'message': 'WIP encryptors: Use an EncryptionProvider enum\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 4, 'created': '2016-11-07 15:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58e52a8137e1c9a3560f7a0f8a9caf85ddb337d7', 'message': 'WIP encryptors: Introduce EncryptionProvider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nTODO: detail required cinder changes\n\nBoth the use of out of tree and direct use of in tree encryption\nprovider implementations is now deprecated and will be blocked in the\nPike release of Nova.\n\nThe NoOpEncryptor encryption implementation is also deprecated and will\nbe removed in the Pike release of Nova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 5, 'created': '2016-11-07 17:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b24f381bd159d887db275b946529a39748a2ab9', 'message': 'WIP encryptors: Introduce EncryptionProvider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nTODO: detail required cinder changes\n\nBoth the use of out of tree and direct use of in tree encryption\nprovider implementations is now deprecated and will be blocked in the\nPike release of Nova.\n\nThe NoOpEncryptor encryption implementation is also deprecated and will\nbe removed in the Pike release of Nova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 6, 'created': '2016-11-07 17:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e63ac1699c0a09828ab649073d40bef6c3e27bea', 'message': 'WIP encryptors: Introduce EncryptionProvider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nTODO: detail required cinder changes\n\nBoth the use of out of tree and direct use of in tree encryption\nprovider implementations is now deprecated and will be blocked in the\nPike release of Nova.\n\nThe NoOpEncryptor encryption implementation is also deprecated and will\nbe removed in the Pike release of Nova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 7, 'created': '2016-11-07 17:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a66bb69228027581e291c5c83e9048f43d29216', 'message': 'WIP encryptors: Introduce EncryptionProvider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nTODO: detail required cinder changes\n\nBoth the use of out of tree and direct use of in tree encryption\nprovider implementations is now deprecated and will be blocked in the\nPike release of Nova.\n\nThe NoOpEncryptor encryption implementation is also deprecated and will\nbe removed in the Pike release of Nova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 8, 'created': '2016-11-09 09:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/568bf9143313967e58cb166639f2e3410975ecd7', 'message': 'encryptors: Introduce encryption provider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nThe use of out of tree and direct use of these in tree encryption\nprovider implementations is now deprecated and will be blocked in the\n16.0.0 Pike release of Nova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 9, 'created': '2016-11-10 09:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a208204bbc76b2db58e18ee03a7007965b9d3056', 'message': 'encryptors: Introduce encryption provider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nThe use of out of tree and direct use of these in tree encryption\nprovider implementations is now deprecated and will be blocked in the\n16.0.0 Pike release of Nova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 10, 'created': '2016-11-10 20:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5bf6f11accfc74171a1df1d962efd0e89d8e4c0', 'message': 'encryptors: Introduce encryption provider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nThe use of out of tree and direct use of these in tree encryption\nprovider implementations is now deprecated and will be blocked in the\n16.0.0 Pike release of Nova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 11, 'created': '2016-11-16 09:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90796b74dd3fd5b715cd102e46f3f68461bf8942', 'message': 'encryptors: Introduce encryption provider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nThe use of out of tree and direct use of these in tree implementations\nis now deprecated and will be blocked in the 16.0.0 Pike release of\nNova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}, {'number': 12, 'created': '2016-11-23 10:57:11.000000000', 'files': ['nova/volume/encryptors/__init__.py', 'nova/tests/unit/volume/encryptors/test_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbbc21828283e5dbd45016c1bc5fc24c2c20f365', 'message': 'encryptors: Introduce encryption provider constants\n\nThese constants detail the supported encryption formats and their\nassociated in tree encryption provider implementations.\n\nThe use of out of tree and direct use of these in tree implementations\nis now deprecated and will be blocked in the 16.0.0 Pike release of\nNova.\n\nChange-Id: Ic155bd29d46059832cce970bf60375e7e472eca6\nPartial-bug: #1639293\n'}]",15,393901,cbbc21828283e5dbd45016c1bc5fc24c2c20f365,110,17,12,10135,,,0,"encryptors: Introduce encryption provider constants

These constants detail the supported encryption formats and their
associated in tree encryption provider implementations.

The use of out of tree and direct use of these in tree implementations
is now deprecated and will be blocked in the 16.0.0 Pike release of
Nova.

Change-Id: Ic155bd29d46059832cce970bf60375e7e472eca6
Partial-bug: #1639293
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/393901/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/encryptors/__init__.py', 'nova/objects/fields.py', 'nova/tests/unit/volume/encryptors/test_base.py']",3,90d0f432f4d10cd8278e57a92200f067fcaad946,bug/1639293,"from nova.objects import fields 'provider': fields.EncryptionProdvider.LUKS} encryptor = encryptors.get_volume_encryptor(self.connection_info, **encryption) self.assertIsInstance(encryptor, luks.LuksEncryptor, ""encryptor is not an instance of LuksEncryptor"") encryption = { 'control_location': 'front-end', 'provider': 'nova.volume.encryptors.luks.LuksEncryptor' } 'provider': fields.EncryptionProdvider.PLAIN} encryptor = encryptors.get_volume_encryptor(self.connection_info, **encryption) self.assertIsInstance(encryptor, cryptsetup.CryptsetupEncryptor, ""encryptor is not an instance of"" ""CryptsetupEncryptor"") encryption = { 'control_location': 'front-end', 'provider': 'nova.volume.encryptors.cryptsetup.CryptsetupEncryptor' } 'provider': fields.EncryptionProdvider.NOOP} encryptor = encryptors.get_volume_encryptor(self.connection_info, **encryption) self.assertIsInstance(encryptor, nop.NoOpEncryptor, ""encryptor is not an instance of NoOpEncryptor"") encryption = { 'control_location': 'front-end', 'provider': 'nova.volume.encryptors.nop.NoOpEncryptor' } def test_unsupported_encryptor_log(self, log): log.warning.assert_called_once_with(""Use of the unsupported "" ""encryptor class %(provider) "" ""will be blocked with the Pike"" "" release of Nova."", {'provider': 'TestEncryptor'})"," 'provider': 'LuksEncryptor'} 'provider': 'CryptsetupEncryptor'} 'provider': 'NoOpEncryptor'} def test_error_log(self, log):",75,12
openstack%2Frally~master~I6b72a77d0c1d4f60a94c0687f470beed8b58bd97,openstack/rally,master,I6b72a77d0c1d4f60a94c0687f470beed8b58bd97,[validation] Use jsonschema validator in SLA plugins,MERGED,2017-04-04 07:40:12.000000000,2017-04-04 14:21:18.000000000,2017-04-04 14:21:18.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-04-04 07:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7ec04109cb03f7fc81fac6d953f9432a261fdb6c', 'message': '[validation] Use jsonschema validator in SLA plugins\n\n* Added small corrections to SLA schemas\n* Renamed test_ouliers.py to test_outliers.py\n\nChange-Id: I6b72a77d0c1d4f60a94c0687f470beed8b58bd97\n'}, {'number': 2, 'created': '2017-04-04 07:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/532e3537af01fe41b8c98499b9da8481f1611dcd', 'message': '[validation] Use jsonschema validator in SLA plugins\n\n* Added small corrections to SLA schemas\n* Renamed test_ouliers.py to test_outliers.py\n\nChange-Id: I6b72a77d0c1d4f60a94c0687f470beed8b58bd97\n'}, {'number': 3, 'created': '2017-04-04 11:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fad77b915842d49a6861fcd9c0ac429b6bb80f6b', 'message': '[validation] Use jsonschema validator in SLA plugins\n\n* Added small corrections to SLA schemas\n* Renamed test_ouliers.py to test_outliers.py\n\nChange-Id: I6b72a77d0c1d4f60a94c0687f470beed8b58bd97\n'}, {'number': 4, 'created': '2017-04-04 12:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/636eeb37f7da22d63066dea097bf5e6d4b9b6710', 'message': '[validation] Use jsonschema validator in SLA plugins\n\n* Added small corrections to SLA schemas\n* Renamed test_ouliers.py to test_outliers.py\n\nChange-Id: I6b72a77d0c1d4f60a94c0687f470beed8b58bd97\n'}, {'number': 5, 'created': '2017-04-04 12:12:46.000000000', 'files': ['rally/plugins/common/sla/failure_rate.py', 'tests/unit/plugins/common/sla/test_max_average_duration.py', 'tests/unit/doc/test_jsonschemas.py', 'tests/unit/task/test_engine.py', 'rally/plugins/common/sla/max_average_duration_per_atomic.py', 'tests/unit/plugins/common/sla/test_performance_degradation.py', 'tests/unit/plugins/common/sla/test_iteration_time.py', 'tests/unit/task/test_sla.py', 'rally/task/engine.py', 'tests/unit/plugins/common/sla/test_outliers.py', 'rally/task/sla.py', 'tests/unit/plugins/common/sla/test_failure_rate.py', 'tests/unit/plugins/common/sla/test_max_average_duration_per_atomic.py', 'rally/plugins/common/sla/outliers.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/6e73568e1684ae05cf71569c561e408925d496ea', 'message': '[validation] Use jsonschema validator in SLA plugins\n\n* Added small corrections to SLA schemas\n* Renamed test_ouliers.py to test_outliers.py\n\nChange-Id: I6b72a77d0c1d4f60a94c0687f470beed8b58bd97\n'}]",0,453050,6e73568e1684ae05cf71569c561e408925d496ea,17,3,5,19011,,,0,"[validation] Use jsonschema validator in SLA plugins

* Added small corrections to SLA schemas
* Renamed test_ouliers.py to test_outliers.py

Change-Id: I6b72a77d0c1d4f60a94c0687f470beed8b58bd97
",git fetch https://review.opendev.org/openstack/rally refs/changes/50/453050/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/common/sla/failure_rate.py', 'tests/unit/plugins/common/sla/test_max_average_duration.py', 'tests/unit/task/test_engine.py', 'rally/plugins/common/sla/max_average_duration_per_atomic.py', 'tests/unit/plugins/common/sla/test_performance_degradation.py', 'tests/unit/plugins/common/sla/test_iteration_time.py', 'tests/unit/task/test_sla.py', 'rally/task/engine.py', 'tests/unit/plugins/common/sla/test_outliers.py', 'rally/task/sla.py', 'tests/unit/plugins/common/sla/test_failure_rate.py', 'tests/unit/plugins/common/sla/test_max_average_duration_per_atomic.py', 'rally/plugins/common/sla/outliers.py']",13,7ec04109cb03f7fc81fac6d953f9432a261fdb6c,sla-validators," }, ""additionalProperties"": False,", },236,194
openstack%2Fpatrole~master~I7bdeedf51f77ba008dbad74c32c668eb0cab8aac,openstack/patrole,master,I7bdeedf51f77ba008dbad74c32c668eb0cab8aac,Add role assignments rbac tests to identity v3.,MERGED,2017-04-01 04:35:09.000000000,2017-04-04 14:20:29.000000000,2017-04-04 14:20:29.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}]","[{'number': 1, 'created': '2017-04-01 04:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/1cea53c6889d37ec9c25f3683fb1da70adc38e2b', 'message': 'Add role assignments rbac tests to identity v3.\n\nAdd role assignments rbac tests to identity v3. These\ntests cover the policy actions here [0]:\n  - identity:list_role_assignments\n  - identity:list_role_assignments_for_tree\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/role_assignment.py\n\nChange-Id: I7bdeedf51f77ba008dbad74c32c668eb0cab8aac\nPartially-Implements: blueprint initial-tests-identity\n'}, {'number': 2, 'created': '2017-04-02 15:40:21.000000000', 'files': ['patrole_tempest_plugin/tests/api/identity/v3/test_role_assignments_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/rbac_base.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/fb185791f96051fbdfeed15edd79d6eae7444f64', 'message': 'Add role assignments rbac tests to identity v3.\n\nAdd role assignments rbac tests to identity v3. These\ntests cover the policy actions here [0]:\n  - identity:list_role_assignments\n  - identity:list_role_assignments_for_tree\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/role_assignment.py\n\nChange-Id: I7bdeedf51f77ba008dbad74c32c668eb0cab8aac\nPartially-Implements: blueprint initial-tests-identity\n'}]",0,452378,fb185791f96051fbdfeed15edd79d6eae7444f64,9,3,2,23186,,,0,"Add role assignments rbac tests to identity v3.

Add role assignments rbac tests to identity v3. These
tests cover the policy actions here [0]:
  - identity:list_role_assignments
  - identity:list_role_assignments_for_tree

[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/role_assignment.py

Change-Id: I7bdeedf51f77ba008dbad74c32c668eb0cab8aac
Partially-Implements: blueprint initial-tests-identity
",git fetch https://review.opendev.org/openstack/patrole refs/changes/78/452378/2 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/identity/v3/test_role_assignments_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/rbac_base.py']",2,1cea53c6889d37ec9c25f3683fb1da70adc38e2b,bp/initial-tests-identity, cls.role_assignments_client = cls.os.role_assignments_client,,48,0
openstack%2Fironic~master~Ic745433cd425c874b14ab99a4e326cf41a1d15cf,openstack/ironic,master,Ic745433cd425c874b14ab99a4e326cf41a1d15cf,Add assertion of name to test_list_portgroups test,MERGED,2017-03-30 12:39:40.000000000,2017-04-04 14:12:59.000000000,2017-04-04 14:12:59.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 11878}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-03-30 12:39:40.000000000', 'files': ['ironic_tempest_plugin/tests/api/admin/test_portgroups.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0594b85ea4137af856d88a60cae93836737070ac', 'message': 'Add assertion of name to test_list_portgroups test\n\nChange-Id: Ic745433cd425c874b14ab99a4e326cf41a1d15cf\n'}]",0,451796,0594b85ea4137af856d88a60cae93836737070ac,10,4,1,14614,,,0,"Add assertion of name to test_list_portgroups test

Change-Id: Ic745433cd425c874b14ab99a4e326cf41a1d15cf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/451796/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/api/admin/test_portgroups.py'],1,0594b85ea4137af856d88a60cae93836737070ac,," self.node['uuid'], address=data_utils.rand_mac_address(), name=data_utils.rand_name('portgroup')) self.assertIn(self.portgroup['name'], [i['name'] for i in body['portgroups']])"," self.node['uuid'], address=data_utils.rand_mac_address())",4,1
openstack%2Ftripleo-validations~master~I6554d7dce826ec6702dbef48cf0c3079a44ee1c5,openstack/tripleo-validations,master,I6554d7dce826ec6702dbef48cf0c3079a44ee1c5,Typo fix: choses => chooses,MERGED,2017-02-07 06:32:00.000000000,2017-04-04 14:08:58.000000000,2017-03-15 11:18:51.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 4978}, {'_account_id': 9317}, {'_account_id': 13039}, {'_account_id': 13719}]","[{'number': 1, 'created': '2017-02-07 06:32:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e8111abd6f1b9417a5bca5a4d24a0615e2462d10', 'message': 'Typo fix: choses => chooses\n\nChange-Id: I6554d7dce826ec6702dbef48cf0c3079a44ee1c5\n'}]",0,430083,e8111abd6f1b9417a5bca5a4d24a0615e2462d10,11,6,1,19935,,,0,"Typo fix: choses => chooses

Change-Id: I6554d7dce826ec6702dbef48cf0c3079a44ee1c5
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/83/430083/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e8111abd6f1b9417a5bca5a4d24a0615e2462d10,,dynamic inventory script depending on which one the operator chooses to use.,dynamic inventory script depending on which one the operator choses to use.,1,1
openstack%2Ftripleo-validations~master~I397435926289365df6a4e70b6f725edd4b0bacf8,openstack/tripleo-validations,master,I397435926289365df6a4e70b6f725edd4b0bacf8,Update reno for stable/ocata,MERGED,2017-03-27 11:55:35.000000000,2017-04-04 14:08:06.000000000,2017-03-27 12:06:34.000000000,"[{'_account_id': 3}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-03-27 11:55:35.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c15f4696d68dbab2d61c9ce3bf158551300229d1', 'message': 'Update reno for stable/ocata\n\nChange-Id: I397435926289365df6a4e70b6f725edd4b0bacf8\n'}]",0,450180,c15f4696d68dbab2d61c9ce3bf158551300229d1,10,2,1,22816,,,0,"Update reno for stable/ocata

Change-Id: I397435926289365df6a4e70b6f725edd4b0bacf8
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/80/450180/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst']",2,c15f4696d68dbab2d61c9ce3bf158551300229d1,reno-ocata, ocata,,7,0
openstack%2Frally~master~I01c30c14c670e08a8537c7b7edc7bae3390aa1a6,openstack/rally,master,I01c30c14c670e08a8537c7b7edc7bae3390aa1a6,[Service] Update get_image functions' input and add a param in UnifiedImage,MERGED,2017-04-03 13:38:58.000000000,2017-04-04 14:07:57.000000000,2017-04-04 14:07:56.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-04-03 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9e1c8107946507d9f545251c198d78d5687d231b', 'message': ""[Service] Update get_image functions' input\n\nUpdate UnifiedGlanceService's get_image function's input\nfrom `image_id` to `image`\n\nChange-Id: I01c30c14c670e08a8537c7b7edc7bae3390aa1a6\n""}, {'number': 2, 'created': '2017-04-03 16:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/360df0f76c206b7b318cd0d9889594764c17ff62', 'message': ""[Service] Update get_image functions' input and add a param in UnifiedImage\n\n1) Update UnifiedGlanceService's get_image function's input\nfrom `image_id` to `image`\n2) UnifiedImage add the property of status\n\nChange-Id: I01c30c14c670e08a8537c7b7edc7bae3390aa1a6\n""}, {'number': 3, 'created': '2017-04-04 11:37:34.000000000', 'files': ['rally/plugins/openstack/services/image/glance_v1.py', 'rally/plugins/openstack/services/image/glance_v2.py', 'tests/unit/plugins/openstack/services/image/test_glance_v1.py', 'tests/unit/plugins/openstack/services/image/test_glance_v2.py', 'tests/unit/plugins/openstack/services/image/test_image.py', 'rally/plugins/openstack/services/image/image.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/b39319cfe461af962d012e6fa5050771415ebdee', 'message': ""[Service] Update get_image functions' input and add a param in UnifiedImage\n\n1) Update UnifiedGlanceService's get_image function's input\nfrom `image_id` to `image`\n2) UnifiedImage add the property of status\n\nChange-Id: I01c30c14c670e08a8537c7b7edc7bae3390aa1a6\n""}]",3,452767,b39319cfe461af962d012e6fa5050771415ebdee,15,5,3,22960,,,0,"[Service] Update get_image functions' input and add a param in UnifiedImage

1) Update UnifiedGlanceService's get_image function's input
from `image_id` to `image`
2) UnifiedImage add the property of status

Change-Id: I01c30c14c670e08a8537c7b7edc7bae3390aa1a6
",git fetch https://review.opendev.org/openstack/rally refs/changes/67/452767/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/services/image/glance_v1.py', 'rally/plugins/openstack/services/image/glance_v2.py', 'tests/unit/plugins/openstack/services/image/test_glance_v1.py', 'tests/unit/plugins/openstack/services/image/test_glance_v2.py']",4,9e1c8107946507d9f545251c198d78d5687d231b,image_service, image = self.service.get_image(image=image_id) self.service._impl.get_image.assert_called_once_with(image=image_id), image = self.service.get_image(image_id=image_id) self.service._impl.get_image.assert_called_once_with( image_id=image_id),10,12
openstack%2Fnova~master~If8588af9f927c5b2a4491399e1f87ed814730250,openstack/nova,master,If8588af9f927c5b2a4491399e1f87ed814730250,Add pxe support for libvirt,ABANDONED,2017-02-15 23:00:49.000000000,2017-04-04 13:59:06.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6873}, {'_account_id': 6928}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 14985}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-15 23:00:49.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'releasenotes/notes/libvirt-pxe-support-7efcb7ec7800bdb7.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa4caf32ab9c3521fff59d220d988a9a25e90b68', 'message': 'Add pxe support for libvirt\n\nThis change adds a new configuration option for libvirt which can be\nused to support configuring boot from network for use with pxe. When the\nnew setting is enabled in the nova configuration, the end user can add\ninstance metadata which triggers a boot from network first configuration\nfor the guest vm.\n\nChange-Id: If8588af9f927c5b2a4491399e1f87ed814730250\n'}]",5,434549,aa4caf32ab9c3521fff59d220d988a9a25e90b68,20,16,1,14985,,,0,"Add pxe support for libvirt

This change adds a new configuration option for libvirt which can be
used to support configuring boot from network for use with pxe. When the
new setting is enabled in the nova configuration, the end user can add
instance metadata which triggers a boot from network first configuration
for the guest vm.

Change-Id: If8588af9f927c5b2a4491399e1f87ed814730250
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/434549/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'releasenotes/notes/libvirt-pxe-support-7efcb7ec7800bdb7.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,aa4caf32ab9c3521fff59d220d988a9a25e90b68,ipxe-support," @mock.patch.object(time, ""time"") def test_get_guest_config_enable_pxe_support(self, time_mock): CONF.set_override('enable_pxe_support', True, group='libvirt') time_mock.return_value = 1234567.89 drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) test_instance = copy.deepcopy(self.test_instance) test_instance[""display_name""] = ""purple tomatoes"" ctxt = context.RequestContext(project_id=123, project_name=""aubergine"", user_id=456, user_name=""pie"") flavor = objects.Flavor(name='m1.small', memory_mb=6, vcpus=28, root_gb=496, ephemeral_gb=8128, swap=33550336, extra_specs={}) instance_ref = objects.Instance(**test_instance) instance_ref.flavor = flavor instance_ref.metadata = {'libvirt:pxe-first': True} image_meta = objects.ImageMeta.from_dict(self.test_image_meta) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) cfg = drvr._get_guest_config(instance_ref, _fake_network_info(self, 1), image_meta, disk_info, context=ctxt) self.assertIn('network', cfg.os_boot_dev) ",,67,0
openstack%2Fnova~master~I7600d7e3775d237e0593ec52fbb474e1dad079c1,openstack/nova,master,I7600d7e3775d237e0593ec52fbb474e1dad079c1,Rename the model object ResourceProviderTraits to ResourceProviderTrait,MERGED,2017-03-30 03:22:04.000000000,2017-04-04 13:56:34.000000000,2017-04-03 16:03:40.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6167}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-03-30 03:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0379b4f67368494275ff341dc947a54791928846', 'message': 'Rename the model object ResourceProviderTraits to ResourceProviderTrait\n\nThe name of model object should be singular. This patch corrects it.\n\nPartial implement blueprint resource-provider-traits\n\nChange-Id: I7600d7e3775d237e0593ec52fbb474e1dad079c1\n'}, {'number': 2, 'created': '2017-03-31 02:19:49.000000000', 'files': ['nova/tests/functional/db/test_resource_provider.py', 'nova/db/sqlalchemy/api_models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba6e352929d63b0e1a765cb26c528c53dcc18a9a', 'message': 'Rename the model object ResourceProviderTraits to ResourceProviderTrait\n\nThe name of model object should be singular. This patch corrects it.\n\nPartial implement blueprint resource-provider-traits\n\nChange-Id: I7600d7e3775d237e0593ec52fbb474e1dad079c1\n'}]",0,451635,ba6e352929d63b0e1a765cb26c528c53dcc18a9a,67,20,2,5754,,,0,"Rename the model object ResourceProviderTraits to ResourceProviderTrait

The name of model object should be singular. This patch corrects it.

Partial implement blueprint resource-provider-traits

Change-Id: I7600d7e3775d237e0593ec52fbb474e1dad079c1
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/451635/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api_models.py'],1,0379b4f67368494275ff341dc947a54791928846,bp/resource-provider-traits,class ResourceProviderTrait(API_BASE):,class ResourceProviderTraits(API_BASE):,1,1
openstack%2Fnova-specs~master~Ia7e29db553e2c80a63976b3de4b285b098b2a055,openstack/nova-specs,master,Ia7e29db553e2c80a63976b3de4b285b098b2a055,Fix rendering sub-directories in README,MERGED,2017-03-23 08:38:28.000000000,2017-04-04 13:53:56.000000000,2017-04-04 13:53:56.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 13689}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-03-23 08:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/69b2bcded3546525a34ae546b55d87eaa9ee27d0', 'message': 'Fix rendering sub-directories in README\n\nThis patch fixes rendering sub-directories as expected in README.\nThe directories are rendered in one line.\n\nChange-Id: Ia7e29db553e2c80a63976b3de4b285b098b2a055\n'}, {'number': 2, 'created': '2017-03-24 06:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3f9318841878a5ac83ace7522a348e89619d2bd6', 'message': 'Fix rendering sub-directories in README\n\nThis patch fixes rendering sub-directories as expected in README.\nThe directories are rendered in one line.\n\nChange-Id: Ia7e29db553e2c80a63976b3de4b285b098b2a055\n'}, {'number': 3, 'created': '2017-03-27 09:49:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a76d3a321f7a597d756c9b7b08f9b3847fa38e47', 'message': 'Fix rendering sub-directories in README\n\nThis patch fixes rendering sub-directories as expected in README.\nThe directories are rendered in one line.\n\nChange-Id: Ia7e29db553e2c80a63976b3de4b285b098b2a055\n'}]",3,449000,a76d3a321f7a597d756c9b7b08f9b3847fa38e47,16,5,3,13689,,,0,"Fix rendering sub-directories in README

This patch fixes rendering sub-directories as expected in README.
The directories are rendered in one line.

Change-Id: Ia7e29db553e2c80a63976b3de4b285b098b2a055
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/00/449000/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,69b2bcded3546525a34ae546b55d87eaa9ee27d0,fix-readme,Where there are two sub-directories::,Where there are two sub-directories:,1,1
openstack%2Fnova~master~If21c8c5c8b1c0348ecfd4d37b65a0edf42f3367e,openstack/nova,master,If21c8c5c8b1c0348ecfd4d37b65a0edf42f3367e,nova-manage: Deprecate 'shell' commands,ABANDONED,2017-03-28 13:51:48.000000000,2017-04-04 13:46:13.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 25564}]","[{'number': 1, 'created': '2017-03-28 13:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef8961c6d1dae7169975cf64c3dc5698e782b4ff', 'message': ""nova-manage: Deprecate 'shell' commands\n\nThere's no good reason to maintain this. Deprecate it.\n\nChange-Id: If21c8c5c8b1c0348ecfd4d37b65a0edf42f3367e\nPartially-Implements: bp move-nova-cmds-to-cliff\n""}, {'number': 2, 'created': '2017-03-29 12:58:05.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e055bc9ad9b6f3c23c7f2c04cf8d682e05129b09', 'message': ""nova-manage: Deprecate 'shell' commands\n\nThere's no good reason to maintain this. Deprecate it.\n\nChange-Id: If21c8c5c8b1c0348ecfd4d37b65a0edf42f3367e\nPartially-Implements: bp move-nova-cmds-to-cliff\n""}]",2,450794,e055bc9ad9b6f3c23c7f2c04cf8d682e05129b09,39,19,2,15334,,,0,"nova-manage: Deprecate 'shell' commands

There's no good reason to maintain this. Deprecate it.

Change-Id: If21c8c5c8b1c0348ecfd4d37b65a0edf42f3367e
Partially-Implements: bp move-nova-cmds-to-cliff
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/450794/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,ef8961c6d1dae7169975cf64c3dc5698e782b4ff,bp/move-nova-cmds-to-cliff, # TODO(stephenfin): Remove this during the Ocata cycle description = ('DEPRECATED: The shell commands are deprecated since ' 'Pike. They will be removed in an upcoming release.') ,,5,0
openstack%2Fos-win~master~I5af94f110b4a6d7672416212f97cb0387cd0cd06,openstack/os-win,master,I5af94f110b4a6d7672416212f97cb0387cd0cd06,pathutils: Adds copy_folder_files method,MERGED,2017-01-30 14:31:09.000000000,2017-04-04 13:41:23.000000000,2017-04-04 13:41:23.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 24544}]","[{'number': 1, 'created': '2017-01-30 14:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/f00f982a0a0873eeb09999d39d1c99a1313ff992', 'message': 'Adds get_remote_unc_path and copy_folder_files pathutils methods\n\nChange-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06\n'}, {'number': 2, 'created': '2017-02-06 11:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/d91d0f57255770efd0b54fee82f97254cfd480de', 'message': 'Adds get_remote_unc_path and copy_folder_files pathutils methods\n\nChange-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06\n'}, {'number': 3, 'created': '2017-02-17 11:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/6cedcfdf79c1ee8f447de0be13587b5d1afe3fdf', 'message': ""pathutils: Adds get_remote_path and copy_folder_files methods\n\nget_remote_path returns a local path if the given remote_path is a\nCSV path, and it exists locally, otherwise it will return a remote UNC\npath.\n\ncopy_folder_files will copy all the given source folder's files to the\ndestination (only files, folders are ignored).\n\nChange-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06\n""}, {'number': 4, 'created': '2017-02-17 11:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/01dabd1c57c5643289cc4b5f15051e8972f27bbf', 'message': ""pathutils: Adds get_remote_path and copy_folder_files methods\n\nget_remote_path returns a local path if the given remote_path is a\nCSV path, and it exists locally, otherwise it will return a remote UNC\npath.\n\ncopy_folder_files will copy all the given source folder's files to the\ndestination (only files, folders are ignored).\n\nChange-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06\n""}, {'number': 5, 'created': '2017-03-30 14:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/6ab73d72d41cf42ca218c80aeaa2ca1b01c9802c', 'message': ""pathutils: Adds get_remote_path and copy_folder_files methods\n\nget_remote_path returns a local path if the given remote_path is a\nCSV path, and it exists locally, otherwise it will return a remote UNC\npath.\n\ncopy_folder_files will copy all the given source folder's files to the\ndestination (only files, folders are ignored).\n\nChange-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06\n""}, {'number': 6, 'created': '2017-04-04 09:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/36c89639e6af6ebfe479008ecc718be006aa1777', 'message': ""pathutils: Adds copy_folder_files method\n\nget_remote_path returns a local path if the given remote_path is a\nCSV path, and it exists locally, otherwise it will return a remote UNC\npath.\n\ncopy_folder_files will copy all the given source folder's files to the\ndestination (only files, folders are ignored).\n\nChange-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06\n""}, {'number': 7, 'created': '2017-04-04 11:24:16.000000000', 'files': ['os_win/tests/unit/utils/test_pathutils.py', 'os_win/utils/pathutils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/b6a22be25964172b6ff1c5b335958f915ec94c70', 'message': ""pathutils: Adds copy_folder_files method\n\ncopy_folder_files will copy all the given source folder's files to the\ndestination (only files, folders are ignored).\n\nChange-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06\n""}]",0,426778,b6a22be25964172b6ff1c5b335958f915ec94c70,33,5,7,8213,,,0,"pathutils: Adds copy_folder_files method

copy_folder_files will copy all the given source folder's files to the
destination (only files, folders are ignored).

Change-Id: I5af94f110b4a6d7672416212f97cb0387cd0cd06
",git fetch https://review.opendev.org/openstack/os-win refs/changes/78/426778/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/tests/unit/utils/test_pathutils.py', 'os_win/utils/pathutils.py']",2,f00f982a0a0873eeb09999d39d1c99a1313ff992,," def get_remote_unc_path(self, remote_server, remote_path): """"""Returns the UNC path for the given remote server and path. :param remote_server: the server's name which will be contained in the returned UNC path. :param remote_path: the path on the given server. """""" if remote_path.startswith('\\\\'): remote_unc_path = remote_path else: # Use an administrative share remote_unc_path = ('\\\\%(remote_server)s\\%(path)s' % dict(remote_server=remote_server, path=remote_path.replace(':', '$'))) return remote_unc_path def copy_folder_files(self, src_dir, dest_dir): """"""Copies the files of the given src_dir to dest_dir. It will ignore any nested folders. :param src_dir: Given folder from which to copy files. :param dest_dir: Folder to which to copy files. """""" for fname in os.listdir(src_dir): src = os.path.join(src_dir, fname) # ignore subdirs. if os.path.isfile(src): self.copy(src, os.path.join(dest_dir, fname)) ",,69,0
openstack%2Fpuppet-vitrage~master~I14ee1a659ee2ea9eb360b2fea1dca3b18aa02cc5,openstack/puppet-vitrage,master,I14ee1a659ee2ea9eb360b2fea1dca3b18aa02cc5,oslo log: check puppet resource instead of actual config in spec,MERGED,2017-04-03 11:56:36.000000000,2017-04-04 13:37:14.000000000,2017-04-04 13:37:14.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-03 11:56:36.000000000', 'files': ['spec/classes/vitrage_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/424aaf95fe1660128a27ffca046597ed52c85b15', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I14ee1a659ee2ea9eb360b2fea1dca3b18aa02cc5\n'}]",0,452728,424aaf95fe1660128a27ffca046597ed52c85b15,12,3,1,18795,,,0,"oslo log: check puppet resource instead of actual config in spec

Change-Id: I14ee1a659ee2ea9eb360b2fea1dca3b18aa02cc5
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/28/452728/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/vitrage_logging_spec.rb'],1,424aaf95fe1660128a27ffca046597ed52c85b15,standard-oslo-log-params," 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', shared_examples_for 'vitrage-logging' do shared_examples 'basic default logging settings' do is_expected.to contain_oslo__log('vitrage_config').with( :use_syslog => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :syslog_log_facility => '<SERVICE DEFAULT>', :log_dir => '/var/log/vitrage', :debug => '<SERVICE DEFAULT>', ) shared_examples 'basic non-default logging settings' do is_expected.to contain_oslo__log('vitrage_config').with( :use_syslog => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :debug => true, ) is_expected.to contain_oslo__log('vitrage_config').with( :logging_context_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s', :logging_default_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s', :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/vitrage/logging.conf', :publish_errors => true, :default_log_levels => { 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', ) it { is_expected.to contain_oslo__log('vitrage_config').with(""#{param}"" => '<SERVICE DEFAULT>') } it_behaves_like 'vitrage-logging'"," 'qpid' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', shared_examples_for 'vitrage::logging' do shared_examples_for 'basic default logging settings' do is_expected.to contain_vitrage_config('DEFAULT/use_syslog').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_vitrage_config('DEFAULT/use_stderr').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_vitrage_config('DEFAULT/syslog_log_facility').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_vitrage_config('DEFAULT/log_dir').with(:value => '/var/log/vitrage') is_expected.to contain_vitrage_config('DEFAULT/debug').with(:value => '<SERVICE DEFAULT>') shared_examples_for 'basic non-default logging settings' do is_expected.to contain_vitrage_config('DEFAULT/use_syslog').with(:value => 'true') is_expected.to contain_vitrage_config('DEFAULT/use_stderr').with(:value => 'false') is_expected.to contain_vitrage_config('DEFAULT/syslog_log_facility').with(:value => 'LOG_FOO') is_expected.to contain_vitrage_config('DEFAULT/log_dir').with(:value => '/var/log') is_expected.to contain_vitrage_config('DEFAULT/debug').with(:value => 'true') is_expected.to contain_vitrage_config('DEFAULT/logging_context_format_string').with_value( '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s') is_expected.to contain_vitrage_config('DEFAULT/logging_default_format_string').with_value( '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s') is_expected.to contain_vitrage_config('DEFAULT/logging_debug_format_suffix').with_value( '%(funcName)s %(pathname)s:%(lineno)d') is_expected.to contain_vitrage_config('DEFAULT/logging_exception_prefix').with_value( '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s') is_expected.to contain_vitrage_config('DEFAULT/log_config_append').with_value( '/etc/vitrage/logging.conf') is_expected.to contain_vitrage_config('DEFAULT/publish_errors').with_value( true) is_expected.to contain_vitrage_config('DEFAULT/default_log_levels').with_value( 'amqp=WARN,amqplib=WARN,boto=WARN,iso8601=WARN,qpid=WARN,requests.packages.urllib3.connectionpool=WARN,sqlalchemy=WARN,suds=INFO') is_expected.to contain_vitrage_config('DEFAULT/fatal_deprecations').with_value( true) is_expected.to contain_vitrage_config('DEFAULT/instance_format').with_value( '[instance: %(uuid)s] ') is_expected.to contain_vitrage_config('DEFAULT/instance_uuid_format').with_value( '[instance: %(uuid)s] ') is_expected.to contain_vitrage_config('DEFAULT/log_date_format').with_value( '%Y-%m-%d %H:%M:%S') it { is_expected.to contain_vitrage_config(""DEFAULT/#{param}"").with_value('<SERVICE DEFAULT>') } it_configures 'vitrage::logging'",38,48
openstack%2Fpuppet-watcher~master~I6a24f82053aaf69b4b5ef114677934af365a1989,openstack/puppet-watcher,master,I6a24f82053aaf69b4b5ef114677934af365a1989,oslo log: check puppet resource instead of actual config in spec,MERGED,2017-04-03 12:46:24.000000000,2017-04-04 13:36:38.000000000,2017-04-04 13:36:38.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-03 12:46:24.000000000', 'files': ['spec/classes/watcher_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/34834324589ab98b4c401f1ba0d3d526bcf03c18', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I6a24f82053aaf69b4b5ef114677934af365a1989\n'}]",0,452738,34834324589ab98b4c401f1ba0d3d526bcf03c18,10,3,1,18795,,,0,"oslo log: check puppet resource instead of actual config in spec

Change-Id: I6a24f82053aaf69b4b5ef114677934af365a1989
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/38/452738/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/watcher_logging_spec.rb'],1,34834324589ab98b4c401f1ba0d3d526bcf03c18,standard-oslo-log-params," 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :log_file => '/var/tmp/watcher_random.log', is_expected.to contain_oslo__log('watcher_config').with( :use_syslog => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :syslog_log_facility => '<SERVICE DEFAULT>', :log_dir => '/var/log/watcher', :log_file => '/var/log/watcher/watcher.log', :debug => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__log('watcher_config').with( :use_syslog => true, :use_stderr => false, :syslog_log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/tmp/watcher_random.log', :debug => true, ) is_expected.to contain_oslo__log('watcher_config').with( :logging_context_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s', :logging_default_format_string => '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s', :logging_debug_format_suffix => '%(funcName)s %(pathname)s:%(lineno)d', :logging_exception_prefix => '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s', :log_config_append => '/etc/watcher/logging.conf', :publish_errors => true, :default_log_levels => { 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :fatal_deprecations => true, :instance_format => '[instance: %(uuid)s] ', :instance_uuid_format => '[instance: %(uuid)s] ', :log_date_format => '%Y-%m-%d %H:%M:%S', ) it { is_expected.to contain_oslo__log('watcher_config').with(""#{param}"" => '<SERVICE DEFAULT>') }"," 'amqp' => 'WARN', 'amqplib' => 'WARN', 'boto' => 'WARN', 'qpid' => 'WARN', 'sqlalchemy' => 'WARN', 'suds' => 'INFO', 'iso8601' => 'WARN', 'requests.packages.urllib3.connectionpool' => 'WARN' }, :log_file => '/var/log/watcher.log', is_expected.to contain_watcher_config('DEFAULT/use_syslog').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_watcher_config('DEFAULT/use_stderr').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_watcher_config('DEFAULT/syslog_log_facility').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_watcher_config('DEFAULT/log_dir').with(:value => '/var/log/watcher') is_expected.to contain_watcher_config('DEFAULT/log_file').with(:value => '/var/log/watcher/watcher.log') is_expected.to contain_watcher_config('DEFAULT/debug').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_watcher_config('DEFAULT/use_syslog').with(:value => 'true') is_expected.to contain_watcher_config('DEFAULT/use_stderr').with(:value => 'false') is_expected.to contain_watcher_config('DEFAULT/syslog_log_facility').with(:value => 'LOG_FOO') is_expected.to contain_watcher_config('DEFAULT/log_dir').with(:value => '/var/log') is_expected.to contain_watcher_config('DEFAULT/log_file').with(:value => '/var/log/watcher.log') is_expected.to contain_watcher_config('DEFAULT/debug').with(:value => 'true') is_expected.to contain_watcher_config('DEFAULT/logging_context_format_string').with_value( '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s') is_expected.to contain_watcher_config('DEFAULT/logging_default_format_string').with_value( '%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s') is_expected.to contain_watcher_config('DEFAULT/logging_debug_format_suffix').with_value( '%(funcName)s %(pathname)s:%(lineno)d') is_expected.to contain_watcher_config('DEFAULT/logging_exception_prefix').with_value( '%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s') is_expected.to contain_watcher_config('DEFAULT/log_config_append').with_value( '/etc/watcher/logging.conf') is_expected.to contain_watcher_config('DEFAULT/publish_errors').with_value( true) is_expected.to contain_watcher_config('DEFAULT/default_log_levels').with_value( 'amqp=WARN,amqplib=WARN,boto=WARN,iso8601=WARN,qpid=WARN,requests.packages.urllib3.connectionpool=WARN,sqlalchemy=WARN,suds=INFO') is_expected.to contain_watcher_config('DEFAULT/fatal_deprecations').with_value( true) is_expected.to contain_watcher_config('DEFAULT/instance_format').with_value( '[instance: %(uuid)s] ') is_expected.to contain_watcher_config('DEFAULT/instance_uuid_format').with_value( '[instance: %(uuid)s] ') is_expected.to contain_watcher_config('DEFAULT/log_date_format').with_value( '%Y-%m-%d %H:%M:%S') it { is_expected.to contain_watcher_config(""DEFAULT/#{param}"").with_value('<SERVICE DEFAULT>') }",38,50
openstack%2Fpuppet-trove~master~I4c67e4be0ebca8731fa37ddfa948d7c07c487685,openstack/puppet-trove,master,I4c67e4be0ebca8731fa37ddfa948d7c07c487685,oslo log: check puppet resource instead of actual config in spec,MERGED,2017-04-03 10:24:15.000000000,2017-04-04 13:36:33.000000000,2017-04-04 13:36:33.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-03 10:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/00f2d5baf94f5ae435055c575bdf986aae3f32dc', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I4c67e4be0ebca8731fa37ddfa948d7c07c487685\n'}, {'number': 2, 'created': '2017-04-03 11:48:59.000000000', 'files': ['spec/classes/trove_conductor_spec.rb', 'spec/classes/trove_logging_spec.rb', 'spec/classes/trove_taskmanager_spec.rb', 'spec/classes/trove_guestagent_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/ca278bdf0c4e34cc8bb45d05844df990b3b38271', 'message': 'oslo log: check puppet resource instead of actual config in spec\n\nChange-Id: I4c67e4be0ebca8731fa37ddfa948d7c07c487685\n'}]",0,452681,ca278bdf0c4e34cc8bb45d05844df990b3b38271,12,3,2,18795,,,0,"oslo log: check puppet resource instead of actual config in spec

Change-Id: I4c67e4be0ebca8731fa37ddfa948d7c07c487685
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/81/452681/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/trove_conductor_spec.rb', 'spec/classes/trove_logging_spec.rb', 'spec/classes/trove_guestagent_spec.rb', 'spec/classes/trove_taskmanager_spec.rb']",4,00f2d5baf94f5ae435055c575bdf986aae3f32dc,standard-oslo-log-params," it 'configures trove-taskmanager with default logging parameters' do is_expected.to contain_oslo__log('trove_taskmanager_config').with( :use_syslog => '<SERVICE DEFAULT>', :syslog_log_facility => '<SERVICE DEFAULT>', :log_dir => '/var/log/trove', :log_file => '/var/log/trove/trove-taskmanager.log', :debug => '<SERVICE DEFAULT>', ) end ", is_expected.to contain_trove_taskmanager_config('DEFAULT/debug').with_value('<SERVICE DEFAULT>') is_expected.to contain_trove_taskmanager_config('DEFAULT/use_syslog').with_value('<SERVICE DEFAULT>') is_expected.to contain_trove_taskmanager_config('DEFAULT/syslog_log_facility').with_value('<SERVICE DEFAULT>') is_expected.to contain_trove_taskmanager_config('DEFAULT/log_file').with_value('/var/log/trove/trove-taskmanager.log') is_expected.to contain_trove_taskmanager_config('DEFAULT/log_dir').with_value('/var/log/trove'),66,62
openstack%2Fnetworking-bgpvpn~master~I32701b29a3314bcdcfba6ba73d71ddcf3c62afa4,openstack/networking-bgpvpn,master,I32701b29a3314bcdcfba6ba73d71ddcf3c62afa4,devstack job config cleanups,MERGED,2017-03-14 09:18:44.000000000,2017-04-04 13:33:59.000000000,2017-04-04 13:33:59.000000000,"[{'_account_id': 3}, {'_account_id': 2888}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-03-14 09:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3ee0a1ae5bcdc2f904c18f95bbb49fa5983a75ea', 'message': 'devstack job config cleanups\n\nBug 1567052 (issue when setting VERBOSE to True) should now be solved thanks\nto the fact that the use of the newer bagpipe-bgp, using oslo.rootwrap,\ndoes not require starting it as sudo anymore.\n\nAdditionally, networking-bagpipe now has a proper way to set BGP peers\nto an empty list, which we should use in our devstack gate job config\nbecause our job is single node.\n\nChange-Id: I32701b29a3314bcdcfba6ba73d71ddcf3c62afa4\n'}, {'number': 2, 'created': '2017-03-20 10:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/03e06bfe588c76d02aea796e35a3bca43d56ae89', 'message': '[wip] devstack job config cleanups\n\nBug 1567052 (issue when setting VERBOSE to True) should now be solved thanks\nto the fact that the use of the newer bagpipe-bgp, using oslo.rootwrap,\ndoes not require starting it as sudo anymore.\n\nAdditionally, networking-bagpipe now has a proper way to set BGP peers\nto an empty list, which we should use in our devstack gate job config\nbecause our job is single node.\n\nChange-Id: I32701b29a3314bcdcfba6ba73d71ddcf3c62afa4\n'}, {'number': 3, 'created': '2017-03-20 11:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ad7aca3a87482ecdb75aa2e18416a52279f2b376', 'message': '[wip] devstack job config cleanups\n\nBug 1567052 (issue when setting VERBOSE to True) should now be solved thanks\nto the fact that the use of the newer bagpipe-bgp, using oslo.rootwrap,\ndoes not require starting it as sudo anymore.\n\nAdditionally, networking-bagpipe now has a proper way to set BGP peers\nto an empty list, which we should use in our devstack gate job config\nbecause our job is single node.\n\nChange-Id: I32701b29a3314bcdcfba6ba73d71ddcf3c62afa4\n'}, {'number': 4, 'created': '2017-03-21 09:58:07.000000000', 'files': ['devstack/devstack-gate-bagpipe-rc'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7ee9c5c0dea5024dc1c36f1d155deda56d6aa956', 'message': 'devstack job config cleanups\n\nnetworking-bagpipe now has a proper way to set BGP peers\nto an empty list, which we should use in our devstack gate job config\nbecause our job is single node.\n\nAdditionally, we can specify the use of the OVS driver of bagpipe-bgp\nin a simpler/shorter way.\n\nChange-Id: I32701b29a3314bcdcfba6ba73d71ddcf3c62afa4\n'}]",1,445374,7ee9c5c0dea5024dc1c36f1d155deda56d6aa956,30,3,4,12021,,,0,"devstack job config cleanups

networking-bagpipe now has a proper way to set BGP peers
to an empty list, which we should use in our devstack gate job config
because our job is single node.

Additionally, we can specify the use of the OVS driver of bagpipe-bgp
in a simpler/shorter way.

Change-Id: I32701b29a3314bcdcfba6ba73d71ddcf3c62afa4
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/74/445374/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstack-gate-bagpipe-rc'],1,3ee0a1ae5bcdc2f904c18f95bbb49fa5983a75ea,bug/1567052,"export DEVSTACK_LOCAL_CONFIG+=$'\n'""BAGPIPE_DATAPLANE_DRIVER_IPVPN=ovs"" # until we do multinode, there is no BGP peer to connect to export DEVSTACK_LOCAL_CONFIG+=$'\n'""BAGPIPE_BGP_PEERS=-""","export DEVSTACK_LOCAL_CONFIG+=$'\n'""BAGPIPE_DATAPLANE_DRIVER_IPVPN=mpls_ovs_dataplane.MPLSOVSDataplaneDriver"" # until we do multinode, there is no BGP peer to connect to export DEVSTACK_LOCAL_CONFIG+=$'\n'""BAGPIPE_BGP_PEERS="" # https://bugs.launchpad.net/devstack/+bug/1567052 # so we need VERBOSE=False until bagpipe-bgp uses rootwrap and is not run with sudo (same for bagpipe-fakerr) export DEVSTACK_LOCAL_CONFIG+=$'\n'""VERBOSE=False""",3,6
openstack%2Ftripleo-common~master~I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911,openstack/tripleo-common,master,I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911,[WIP] TripleO-Common message bus module for GUI / CLI,ABANDONED,2016-12-01 17:01:26.000000000,2017-04-04 13:30:35.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 7509}, {'_account_id': 8532}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 11085}]","[{'number': 1, 'created': '2016-12-01 17:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/68e334dcb1eb8c7c56fc1f17973bd1a784a34486', 'message': 'Nodes registration are not interactive enough, information in regards to current status of each nodes is not available until the registration function completes the entire list of request which may appear to the user as though the process may be hung/suspended.\n\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 2, 'created': '2016-12-01 20:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ba0aa9a29f086abcad1f0d49ac29a5b0e256c55c', 'message': 'TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 3, 'created': '2016-12-05 21:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/725163dd67476fdb7f12a23b927ca000741f8042', 'message': 'TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 4, 'created': '2016-12-06 20:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/797ccbe365fbda35f76bf6208bdfc898b568b8c9', 'message': 'TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 5, 'created': '2016-12-06 20:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92eba83c91444424a6d53ae33720d93802d0838b', 'message': 'TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nRelated-Bug: #1637311\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 6, 'created': '2017-01-31 18:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb2b6238fe64ad275f3e26b8931580e801887094', 'message': 'TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nRelated-Bug: #1637311\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 7, 'created': '2017-01-31 18:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/144278e88b1e0ff1a349ab6135197d7e9f24b1ad', 'message': '[WIP] TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nRelated-Bug: #1637311\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 8, 'created': '2017-01-31 21:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6670aa1b53ddaa1981f79d03fd2b03270f7a7528', 'message': '[WIP] TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nRelated-Bug: #1637311\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 9, 'created': '2017-02-07 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/48c1c25e5a4e0d34b844ceeff08cedf290a49034', 'message': '[WIP] TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nRelated-Bug: #1637311\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}, {'number': 10, 'created': '2017-02-07 18:33:04.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/actions/baremetal.py', 'tripleo_common/tests/utils/test_messaging.py', 'workbooks/baremetal.yaml', 'tripleo_common/actions/base.py', 'tripleo_common/utils/messaging.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c57c05dc9e32df175b2b8b68b3fc6633c101a44', 'message': '[WIP] TripleO-Common message bus module for GUI / CLI\n\nNodes registration are not interactive enough, information in regards\nto current status of each nodes is not available until the registration\nfunction completes the entire list of request which may appear to the\nuser as though the process may be hung/suspended.\n\nRelated-Bug: #1637311\nChange-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911\n'}]",15,405531,7c57c05dc9e32df175b2b8b68b3fc6633c101a44,41,8,10,11085,,,0,"[WIP] TripleO-Common message bus module for GUI / CLI

Nodes registration are not interactive enough, information in regards
to current status of each nodes is not available until the registration
function completes the entire list of request which may appear to the
user as though the process may be hung/suspended.

Related-Bug: #1637311
Change-Id: I66e163dcb4e74a7c027a6cf7bdfc026c7f69e911
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/405531/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_messaging.py', 'tripleo_common/utils/messaging.py', 'tripleo_common/utils/nodes.py']",3,68e334dcb1eb8c7c56fc1f17973bd1a784a34486,bug/1637311,"from tripleo_common.utils import messagingMSG = messaging.Messenger() '.*_ipmi(tool|native)': PrefixedDriverInfo('ipmi'), '.*_drac': PrefixedDriverInfo('drac', address_field='host'), MSG.post_message(""Node: %{} has been registered."", ""tripleo_node_registration"".format(node))"," '.*_ipmi(tool|native)': PrefixedDriverInfo('ipmi', has_port=True), '.*_drac': PrefixedDriverInfo('drac', address_field='host', has_port=True),",130,3
openstack%2Fkolla-ansible~master~Ib684e3f4bcd26e40c5bfde9bec8a1d83563d5460,openstack/kolla-ansible,master,Ib684e3f4bcd26e40c5bfde9bec8a1d83563d5460,Remove unused driver attr in cinder_backends map,MERGED,2017-04-04 11:09:53.000000000,2017-04-04 13:28:34.000000000,2017-04-04 13:28:33.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-04-04 11:09:53.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98f3283dc919000b712419c638313c6ba1def2f2', 'message': 'Remove unused driver attr in cinder_backends map\n\nChange-Id: Ib684e3f4bcd26e40c5bfde9bec8a1d83563d5460\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}]",0,453129,98f3283dc919000b712419c638313c6ba1def2f2,8,3,1,21284,,,0,"Remove unused driver attr in cinder_backends map

Change-Id: Ib684e3f4bcd26e40c5bfde9bec8a1d83563d5460
Signed-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/453129/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/defaults/main.yml'],1,98f3283dc919000b712419c638313c6ba1def2f2,cinder_backend_driver,," driver: ""ceph"" driver: ""lvm"" driver: ""nfs"" driver: ""hnas_iscsi"" driver: ""hnas_nfs""",0,5
openstack%2Frpm-packaging~master~I3042837e5b8406eae0f5ec7b5218e81d4d4d4338,openstack/rpm-packaging,master,I3042837e5b8406eae0f5ec7b5218e81d4d4d4338,Update python-glareclient to 0.3.0,MERGED,2017-03-31 07:31:24.000000000,2017-04-04 13:26:57.000000000,2017-04-04 13:25:12.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-03-31 07:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/21947f26af543e2f59a4bd8b697be0d73e78d0af', 'message': 'Update python-glareclient to 0.3.0\n\nChange-Id: I3042837e5b8406eae0f5ec7b5218e81d4d4d4338\nDepends-on: I701668047b17df1e4c032d672d0c7be0cda4c25e\n'}, {'number': 2, 'created': '2017-04-03 12:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b72dd5b3bc688430970412496eb07cc0eb01a372', 'message': 'Update python-glareclient to 0.3.0\n\nChange-Id: I3042837e5b8406eae0f5ec7b5218e81d4d4d4338\nDepends-on: I701668047b17df1e4c032d672d0c7be0cda4c25e\n'}, {'number': 3, 'created': '2017-04-04 12:48:47.000000000', 'files': ['openstack/python-glareclient/python-glareclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ca2abb746e5cce3320b86c99656c6d5eca226c0e', 'message': 'Update python-glareclient to 0.3.0\n\nChange-Id: I3042837e5b8406eae0f5ec7b5218e81d4d4d4338\nDepends-on: I701668047b17df1e4c032d672d0c7be0cda4c25e\n'}]",0,452074,ca2abb746e5cce3320b86c99656c6d5eca226c0e,38,7,3,24013,,,0,"Update python-glareclient to 0.3.0

Change-Id: I3042837e5b8406eae0f5ec7b5218e81d4d4d4338
Depends-on: I701668047b17df1e4c032d672d0c7be0cda4c25e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/452074/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-glareclient/python-glareclient.spec.j2'],1,21947f26af543e2f59a4bd8b697be0d73e78d0af,452074,Version: 0.3.0,Version: 0.2.0,1,1
openstack%2Fcloudkitty~master~If6475a27011a7ae5cd1a0c9aa36eb90273938a1a,openstack/cloudkitty,master,If6475a27011a7ae5cd1a0c9aa36eb90273938a1a,Assign the resource_type when search resource by gnocchiclient,MERGED,2017-04-02 01:27:01.000000000,2017-04-04 13:22:09.000000000,2017-04-04 12:57:22.000000000,"[{'_account_id': 3}, {'_account_id': 9662}, {'_account_id': 21797}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2017-04-02 01:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a327b8999ed3eb083a214f03292252c78545da9b', 'message': ""Assign the resource_type when search resource by gnocchiclient\n\nThe default resource_type parameter of search resource by gnocchiclient\nis 'generic' [1], which the retrieve resource did not include metadata\nlike flavor_id, display_name, volume_type, etc. The metadata is the key\nof field in hashmap rating module,\n\n[1] http://gnocchi.xyz/gnocchiclient/api/gnocchiclient.v1.resource.html#gnocchiclient.v1.resource.ResourceManager.search\nCloses-Bug: 1678166\n\nChange-Id: If6475a27011a7ae5cd1a0c9aa36eb90273938a1a\n""}, {'number': 2, 'created': '2017-04-02 06:09:01.000000000', 'files': ['cloudkitty/collector/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d28ba9755a393248333d85583b262da8ac45df41', 'message': ""Assign the resource_type when search resource by gnocchiclient\n\nThe default resource_type parameter of search resource by gnocchiclient\nis 'generic' [1], which the retrieve resource did not include metadata\nlike flavor_id, display_name, volume_type, etc. The metadata is the key\nof field in hashmap rating module,\n\n[1] http://gnocchi.xyz/gnocchiclient/api/gnocchiclient.v1.resource.html#gnocchiclient.v1.resource.ResourceManager.search\nCloses-Bug: 1678166\n\nChange-Id: If6475a27011a7ae5cd1a0c9aa36eb90273938a1a\n""}]",0,452504,d28ba9755a393248333d85583b262da8ac45df41,12,5,2,8358,,,0,"Assign the resource_type when search resource by gnocchiclient

The default resource_type parameter of search resource by gnocchiclient
is 'generic' [1], which the retrieve resource did not include metadata
like flavor_id, display_name, volume_type, etc. The metadata is the key
of field in hashmap rating module,

[1] http://gnocchi.xyz/gnocchiclient/api/gnocchiclient.v1.resource.html#gnocchiclient.v1.resource.ResourceManager.search
Closes-Bug: 1678166

Change-Id: If6475a27011a7ae5cd1a0c9aa36eb90273938a1a
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/04/452504/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/storage/test_storage.py', 'cloudkitty/collector/gnocchi.py']",2,a327b8999ed3eb083a214f03292252c78545da9b,bug/1678166," resources = self._conn.resource.search(resource_type=resource_type,", resources = self._conn.resource.search(,2,2
openstack%2Frally~master~I62ede78d76bd0a70d1a9149e849c47399a03ebb7,openstack/rally,master,I62ede78d76bd0a70d1a9149e849c47399a03ebb7,[validation] Use jsonschema validator in Hook and Trigger plugins,MERGED,2017-04-03 08:57:27.000000000,2017-04-04 13:22:03.000000000,2017-04-04 13:22:03.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 19011}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-04-03 08:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/53a2df4413df6b964d3911a00e288200085a1380', 'message': '[validation] Use jsonschema validator in Hook and Trigger plugins\n\nChange-Id: I62ede78d76bd0a70d1a9149e849c47399a03ebb7\n'}, {'number': 2, 'created': '2017-04-04 11:16:48.000000000', 'files': ['rally/task/engine.py', 'tests/unit/plugins/common/trigger/test_event.py', 'rally/task/trigger.py', 'tests/unit/task/test_hook.py', 'tests/unit/task/test_trigger.py', 'tests/unit/plugins/openstack/hook/test_fault_injection.py', 'rally/task/hook.py', 'tests/unit/plugins/common/trigger/test_periodic.py', 'tests/unit/task/test_engine.py', 'tests/unit/plugins/common/hook/test_sys_call.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/7fb348c31b8908f3f95fb6ffb014698ad13850ec', 'message': '[validation] Use jsonschema validator in Hook and Trigger plugins\n\nChange-Id: I62ede78d76bd0a70d1a9149e849c47399a03ebb7\n'}]",3,452644,7fb348c31b8908f3f95fb6ffb014698ad13850ec,13,5,2,19011,,,0,"[validation] Use jsonschema validator in Hook and Trigger plugins

Change-Id: I62ede78d76bd0a70d1a9149e849c47399a03ebb7
",git fetch https://review.opendev.org/openstack/rally refs/changes/44/452644/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/engine.py', 'tests/unit/plugins/common/trigger/test_event.py', 'rally/task/trigger.py', 'tests/unit/task/test_hook.py', 'tests/unit/task/test_trigger.py', 'tests/unit/plugins/openstack/hook/test_fault_injection.py', 'rally/task/hook.py', 'tests/unit/plugins/common/trigger/test_periodic.py', 'tests/unit/task/test_engine.py', 'tests/unit/plugins/common/hook/test_sys_call.py']",10,53a2df4413df6b964d3911a00e288200085a1380,hook-validators,"from rally.task import hook @ddt.data((""ls"", True), (50, False)) @ddt.unpack def test_validate(self, config, valid): results = hook.Hook.validate( ""sys_call"", None, None, config) if valid: self.assertEqual([], results) else: self.assertEqual(1, len(results))","import jsonschema def test_validate(self): sys_call.SysCallHook.validate( { ""name"": ""sys_call"", ""description"": ""list folder"", ""args"": ""ls"", ""trigger"": { ""name"": ""event"", ""args"": { ""unit"": ""iteration"", ""at"": [10] } } } ) def test_validate_error(self): conf = { ""name"": ""sys_call"", ""description"": ""list folder"", ""args"": { ""cmd"": 50, }, ""trigger"": { ""name"": ""event"", ""args"": { ""unit"": ""iteration"", ""at"": [10] } } } self.assertRaises( jsonschema.ValidationError, sys_call.SysCallHook.validate, conf)",183,171
openstack%2Fsahara-tests~master~I707b0dc64242dee7de311c8f131d04d1f9086ff3,openstack/sahara-tests,master,I707b0dc64242dee7de311c8f131d04d1f9086ff3,Added support of Storm 1.1.0,MERGED,2017-04-04 07:33:14.000000000,2017-04-04 13:11:21.000000000,2017-04-04 13:11:21.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 10459}]","[{'number': 1, 'created': '2017-04-04 07:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/74411b5ee236aeb61873ffd338a8dede5c2b22ed', 'message': 'Added support of Storm 1.1.0\n\nThis version was added to sahara and we need to test it on CI\n\nChange-Id: I707b0dc64242dee7de311c8f131d04d1f9086ff3\n'}, {'number': 2, 'created': '2017-04-04 07:43:41.000000000', 'files': ['sahara_tests/scenario/defaults/storm-1.1.0.yaml.mako'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/cd01cf60da28dbd3927074d2448cbb65de64980c', 'message': 'Added support of Storm 1.1.0\n\nThis version was added to sahara and we need to test it on CI\n\nChange-Id: I707b0dc64242dee7de311c8f131d04d1f9086ff3\n'}]",1,453045,cd01cf60da28dbd3927074d2448cbb65de64980c,10,3,2,13919,,,0,"Added support of Storm 1.1.0

This version was added to sahara and we need to test it on CI

Change-Id: I707b0dc64242dee7de311c8f131d04d1f9086ff3
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/45/453045/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_tests/scenario/defaults/storm-1.1.0.yaml.mako'],1,74411b5ee236aeb61873ffd338a8dede5c2b22ed,,"<%page args=""is_proxy_gateway='true', use_auto_security_group='true', ci_flavor_id='m1.small', medium_flavor_id='m1.medium'""/> clusters: - plugin_name: storm plugin_version: 1.1.0 image: ${storm_110_image} node_group_templates: - name: master flavor: ${ci_flavor_id} node_processes: - nimbus auto_security_group: ${use_auto_security_group} is_proxy_gateway: ${is_proxy_gateway} - name: worker flavor: ${ci_flavor_id} node_processes: - supervisor auto_security_group: ${use_auto_security_group} - name: zookeeper flavor: ${medium_flavor_id} node_processes: - zookeeper auto_security_group: ${use_auto_security_group} cluster_template: name: storm101 node_group_templates: master: 1 worker: 1 zookeeper: 1 cluster: name: ${cluster_name} scaling: - operation: add node_group: worker size: 1 scenario: - scale ",,37,0
openstack%2Fpuppet-nova~master~I0a1684397ebefaa8dc00237e0b7952e9296381fa,openstack/puppet-nova,master,I0a1684397ebefaa8dc00237e0b7952e9296381fa,Use newer configuration options for libvirt's live migration URI,MERGED,2017-03-31 07:18:41.000000000,2017-04-04 13:11:02.000000000,2017-04-04 13:11:02.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 18795}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-03-31 07:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/281b220d9f25e6c26e809f3648fc37a74aaabda0', 'message': ""Use newer configuration options for libvirt's live migration URI\n\nThe live_migration_uri option that was being used in case TLS is used in\nlive migration is set to be deprecated, and this will take effect\nsomewhere in Pike, as stated in the nova code-base. So instead, this\npatch takes into use the two recommended options:\n\n* live_migration_inbound_addr\n* live_migration_scheme\n\nThese will be used by nova to determine the URI.\n\nChange-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa\n""}, {'number': 2, 'created': '2017-04-04 06:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4c275532561e54fffbd403abe9d8a22096580a85', 'message': ""Use newer configuration options for libvirt's live migration URI\n\nThe live_migration_uri option that was being used in case TLS is used in\nlive migration is set to be deprecated, and this will take effect\nsomewhere in Pike, as stated in the nova code-base. So instead, this\npatch takes into use the two recommended options:\n\n* live_migration_inbound_addr\n* live_migration_scheme\n\nThese will be used by nova to determine the URI.\n\nChange-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa\n""}, {'number': 3, 'created': '2017-04-04 06:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1f680b5b4af687c968b7a648f3cb5f42fd6db75a', 'message': ""Use newer configuration options for libvirt's live migration URI\n\nThe live_migration_uri option that was being used in case TLS is used in\nlive migration doesn't permit the usage of a host other than the one\ndetected automatically by nova. This is problematic for cases like TLS\nwhere the address needs to match the certificate's SubjectAltName entry.\nSo instead, this patch takes into use the two recommended options:\n\n* live_migration_inbound_addr\n* live_migration_scheme\n\nThese will be used by nova to determine the URI.\n\nOn the other hand, libvirt_migration_uri is set to be deprecated at some\npoint. But, a way to add the query parameters to the query is\nneeded before this happens.\n\nChange-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa\n""}, {'number': 4, 'created': '2017-04-04 07:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e80df12c1ce160545ba0451c2071529733ca28a3', 'message': ""Use newer configuration options for libvirt's live migration URI\n\nThe live_migration_uri option that was being used in case TLS is used in\nlive migration doesn't permit the usage of a host other than the one\ndetected automatically by nova. This is problematic for cases like TLS\nwhere the address needs to match the certificate's SubjectAltName entry.\nSo instead, this patch takes into use the two recommended options:\n\n* live_migration_inbound_addr\n* live_migration_scheme\n\nThese will be used by nova to determine the URI.\n\nOn the other hand, libvirt_migration_uri is set to be deprecated at some\npoint. But, a way to add the query parameters to the query is\nneeded before this happens.\n\nChange-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa\n""}, {'number': 5, 'created': '2017-04-04 08:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c50f53304c95dc30f0675f9c716330693b201b42', 'message': ""Use newer configuration options for libvirt's live migration URI\n\nThe live_migration_uri option that was being used in case TLS is used in\nlive migration doesn't permit the usage of a host other than the one\ndetected automatically by nova. This is problematic for cases like TLS\nwhere the address needs to match the certificate's SubjectAltName entry.\nSo instead, this patch takes into use the two recommended options:\n\n* live_migration_inbound_addr\n* live_migration_scheme\n\nThese will be used by nova to determine the URI.\n\nOn the other hand, libvirt_migration_uri is set to be deprecated at some\npoint. But, a way to add the query parameters to the query is\nneeded before this happens.\n\nChange-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa\n""}, {'number': 6, 'created': '2017-04-04 09:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8130142a5836fbfa4ffae05c776960bca09a2330', 'message': ""Use newer configuration options for libvirt's live migration URI\n\nThe live_migration_uri option that was being used in case TLS is used in\nlive migration doesn't permit the usage of a host other than the one\ndetected automatically by nova. This is problematic for cases like TLS\nwhere the address needs to match the certificate's SubjectAltName entry.\nSo instead, this patch takes into use the two recommended options:\n\n* live_migration_inbound_addr\n* live_migration_scheme\n\nThese will be used by nova to determine the URI.\n\nOn the other hand, libvirt_migration_uri is set to be deprecated at some\npoint. But, a way to add the query parameters to the query is\nneeded before this happens.\n\nChange-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa\n""}, {'number': 7, 'created': '2017-04-04 10:11:23.000000000', 'files': ['releasenotes/notes/add-live-migration-inbound-addr-and-scheme-b5f864ce3f0e58f9.yaml', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/71b6c8c5f78d0f3cabb99ab5038feb1cd4349558', 'message': ""Use newer configuration options for libvirt's live migration URI\n\nThe live_migration_uri option that was being used in case TLS is used in\nlive migration doesn't permit the usage of a host other than the one\ndetected automatically by nova. This is problematic for cases like TLS\nwhere the address needs to match the certificate's SubjectAltName entry.\nSo instead, this patch takes into use the two recommended options:\n\n* live_migration_inbound_addr\n* live_migration_scheme\n\nThese will be used by nova to determine the URI.\n\nOn the other hand, libvirt_migration_uri is set to be deprecated at some\npoint. But, a way to add the query parameters to the query is\nneeded before this happens.\n\nChange-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa\n""}]",1,452072,71b6c8c5f78d0f3cabb99ab5038feb1cd4349558,36,8,7,10873,,,0,"Use newer configuration options for libvirt's live migration URI

The live_migration_uri option that was being used in case TLS is used in
live migration doesn't permit the usage of a host other than the one
detected automatically by nova. This is problematic for cases like TLS
where the address needs to match the certificate's SubjectAltName entry.
So instead, this patch takes into use the two recommended options:

* live_migration_inbound_addr
* live_migration_scheme

These will be used by nova to determine the URI.

On the other hand, libvirt_migration_uri is set to be deprecated at some
point. But, a way to add the query parameters to the query is
needed before this happens.

Change-Id: I0a1684397ebefaa8dc00237e0b7952e9296381fa
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/452072/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-live-migration-inbound-addr-and-scheme-b5f864ce3f0e58f9.yaml', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",3,281b220d9f25e6c26e809f3648fc37a74aaabda0,live-migration," it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_nova_config('libvirt/live_migration_inbound_addr').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('<SERVICE DEFAULT>')} context 'with tls enabled and no inbound addr set' do it { is_expected.to contain_nova_config('libvirt/live_migration_inbound_addr').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls')} end context 'with tls enabled and inbound addr set' do let :params do { :use_tls => true, :live_migration_inbound_addr => 'host1.example.com', } end it { is_expected.to contain_file_line('/etc/libvirt/libvirtd.conf listen_tls').with(:line => ""listen_tls = 1"") } it { is_expected.to contain_file_line('/etc/libvirt/libvirtd.conf listen_tcp').with(:line => ""listen_tcp = 0"") } it { is_expected.to contain_file_line('/etc/libvirt/libvirtd.conf auth_tls').with(:line => ""auth_tls = \""none\"""") } it { is_expected.not_to contain_file_line('/etc/libvirt/libvirtd.conf auth_tcp')} it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_nova_config('libvirt/live_migration_inbound_addr').with_value('host1.example.com')} it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls')}", context 'with tls enabled' do,56,3
openstack%2Fceilometermiddleware~master~Ic9ee55718982f1cdeff7e236d11e1eb4f5b759f9,openstack/ceilometermiddleware,master,Ic9ee55718982f1cdeff7e236d11e1eb4f5b759f9,Update test-requirements.txt,ABANDONED,2017-03-24 03:43:31.000000000,2017-04-04 12:59:16.000000000,,"[{'_account_id': 3}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-03-24 03:43:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/14667790323e42010c7b488107bcdc7878c79dee', 'message': 'Update test-requirements.txt\n\nThis patch brings it in line with the latest global requirements.\nBy being in line with global requirements, this is a more accurate\nlist with respect to how things are actually tested in the gate.\nThe following link[0][1][2] shows the latest reno, oslosphinx, sphinx\npackages.\n\n[0]https://github.com/openstack/requirements/blob/master/global-requirements.txt#L263\n[1]https://github.com/openstack/requirements/blob/master/global-requirements.txt#L372\n[2]https://github.com/openstack/requirements/blob/master/global-requirements.txt#L395\n\nChange-Id: Ic9ee55718982f1cdeff7e236d11e1eb4f5b759f9\n'}]",0,449421,14667790323e42010c7b488107bcdc7878c79dee,4,2,1,23823,,,0,"Update test-requirements.txt

This patch brings it in line with the latest global requirements.
By being in line with global requirements, this is a more accurate
list with respect to how things are actually tested in the gate.
The following link[0][1][2] shows the latest reno, oslosphinx, sphinx
packages.

[0]https://github.com/openstack/requirements/blob/master/global-requirements.txt#L263
[1]https://github.com/openstack/requirements/blob/master/global-requirements.txt#L372
[2]https://github.com/openstack/requirements/blob/master/global-requirements.txt#L395

Change-Id: Ic9ee55718982f1cdeff7e236d11e1eb4f5b759f9
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/21/449421/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,14667790323e42010c7b488107bcdc7878c79dee,,sphinx>=1.5.1 # BSD oslosphinx>=4.7.0 # Apache-2.0reno>=1.8.0 # Apache-2.0,"sphinx!=1.2.0,!=1.3b1,<1.3,>=1.1.2 # BSD oslosphinx!=3.4.0,>=2.5.0 # Apache-2.0reno>=0.1.1 # Apache-2.0",3,3
openstack%2Fopenstack-ansible-security~master~I0ee949f7e9f89a2520d4d7eba2f8b44ff78e9f49,openstack/openstack-ansible-security,master,I0ee949f7e9f89a2520d4d7eba2f8b44ff78e9f49,Remove end spaces in STIG XML,MERGED,2017-04-04 12:42:54.000000000,2017-04-04 12:57:51.000000000,2017-04-04 12:57:51.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 13095}]","[{'number': 1, 'created': '2017-04-04 12:42:54.000000000', 'files': ['doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R1_Manual-xccdf.xml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/9d745ec4fe8ac3e6d6cbb2412abe5196a9d2dad7', 'message': 'Remove end spaces in STIG XML\n\nThe xmllint parser added some ending spaces in the STIG XML. This\npatch cleans those up properly.\n\nChange-Id: I0ee949f7e9f89a2520d4d7eba2f8b44ff78e9f49\n'}]",0,453155,9d745ec4fe8ac3e6d6cbb2412abe5196a9d2dad7,7,3,1,538,,,0,"Remove end spaces in STIG XML

The xmllint parser added some ending spaces in the STIG XML. This
patch cleans those up properly.

Change-Id: I0ee949f7e9f89a2520d4d7eba2f8b44ff78e9f49
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/55/453155/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R1_Manual-xccdf.xml'],1,9d745ec4fe8ac3e6d6cbb2412abe5196a9d2dad7,rhel7-stig-v1-renumber-take2,"Note: If the system does not have GNOME installed, this requirement is Not Applicable.Note: If the system does not have GNOME installed, this requirement is Not Applicable.Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command:The console can now be locked with the following key combination:Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command:Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command:# grep ucredit /etc/security/pwquality.conf# grep lcredit /etc/security/pwquality.conf lcredit = -1# grep dcredit /etc/security/pwquality.conf dcredit = -1# grep ocredit /etc/security/pwquality.conf# grep difok /etc/security/pwquality.conf# grep minclass /etc/security/pwquality.conf# grep maxrepeat /etc/security/pwquality.conf# grep maxclassrepeat /etc/security/pwquality.confAdd or update the following line in ""/etc/libuser.conf"" in the [defaults] section:Check for the value of ""PASS_MIN_DAYS"" in ""/etc/login.defs"" with the following command: <check-content>To verify that null passwords cannot be used, run the following command: <description>&lt;VulnDiscussion&gt;Without re-authentication, users may access resources or perform tasks for which they do not have authorization. <description>&lt;VulnDiscussion&gt;Without re-authentication, users may access resources or perform tasks for which they do not have authorization.Note: If the system does not have GNOME installed, this requirement is Not Applicable.Note: If the system does not have GNOME installed, this requirement is Not Applicable.1) Accesses explicitly identified and documented by the organization. Organizations document specific user actions that can be performed on the information system without identification or authentication;Use the following command to map a new user to the ""sysdam_u"" role:# cat /etc/cron.daily/aide <fixtext fixref=""F-78327r1_fix"">Configure the operating system to notify designated personnel if baseline configurations are changed in an unauthorized manner. The AIDE tool can be configured to email designated personnel through the use of the cron system. The following example output is generic. It will set cron to run AIDE daily and to send email at the completion of the analysis.If AIDE is not installed, ask the SA how file integrity checks are performed on the system.If ""gpgcheck"" is not set to ""1"", or if options are missing or commented out, ask the System Administrator how the certificates for patches and other operating system components are verified.If ""localpkg_gpgcheck"" is not set to ""1"", or if options are missing or commented out, ask the System Administrator how the signatures of local packages and other operating system components are verified.If ""repo_gpgcheck"" is not set to ""1"", or if options are missing or commented out, ask the System Administrator how the metadata of local packages and other operating system components are verified.If GNOME is active on the system, create a database to contain the system-wide setting (if it does not already exist) with the following command: # cat /etc/dconf/db/local.d/00-disable-CAD <check-content>Verify the operating system security patches and updates are installed and up to date. Updates are required to be applied with a frequency determined by the site or Program Management Office (PMO). 70 | install aide | 2016-05-05 10:58 | Install | 1 68 | install vlc | 2016-04-21 17:12 | Install | 21If package updates have not been performed on the system within the timeframe that the site/program documentation requires, this is a finding. <fixtext fixref=""F-78353r1_fix"">Configure the system so all accounts on the system are assigned to an active system, application, or user account. Remove accounts that do not support approved system activities or that allow for a normal user to perform administrative-level actions.Accounts such as ""games"" and ""gopher"" are not authorized accounts as they do not support authorized system functions. <fixtext fixref=""F-78357r1_fix"">Change the UID of any account on the system, other than root, that has a UID of ""0"".# mkdir /home/smithjsa:x:100:juan,shelley,bob,smithjusers:x:1000:smithj,jonesj,jacksons <fixtext fixref=""F-78401r1_fix"">Remove the umask statement from all local interactive users initialization files.Note: If another logging package is used, substitute the utility configuration file for ""/etc/rsyslog.conf"".If ""rsyslog"" is not logging messages for the cron facility or all facilities, this is a finding.If AIDE is not installed, ask the System Administrator how file integrity checks are performed on the system.Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory./bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbinConfigure the operating system to implement DoD-approved encryption by following the steps below:# cat /proc/sys/crypto/fips_enabled <fixtext fixref=""F-78421r1_fix"">Configure the file integrity tool to check file and directory ACLs.If AIDE is not installed, ask the System Administrator how file integrity checks are performed on the system.Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory./bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbin <fixtext fixref=""F-78423r1_fix"">Configure the file integrity tool to check file and directory extended attributes.Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory./bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbin <fixtext fixref=""F-78425r1_fix"">Configure the file integrity tool to use FIPS 140-2 cryptographic hashes for validating file and directory contents.If AIDE is not installed, ask the System Administrator how file integrity checks are performed on the system.Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory./bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbinIf a ""grub.cfg"" is found in any subdirectories other than ""/boot/grub2"" and ""/boot/efi/EFI/redhat"", ask the System Administrator if there is documentation signed by the ISSO to approve the use of removable media as a boot loader.If a privileged user were to log on using this service, the privileged user password could be compromised.Check to see what level ""auditctl"" is set to with following command:If a remote server is not configured, or the line is commented out, ask the System Administrator to indicate how the audit logs are off-loaded to a different system or media.If the value of the ""enable_krb5"" option is not set to ""yes"" or the line is commented out, ask the System Administrator to indicate how the audit logs are off-loaded to a different system or media.Check the system configuration to determine the partition the audit records are being written to:space_left = 225Uncomment or edit the ""space_left_action"" keyword in ""/etc/audit/auditd.conf"" and set it to ""email"". Uncomment or edit the ""action_mail_acct"" keyword in ""/etc/audit/auditd.conf"" and set it to root and any other accounts associated with security personnel. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful account access count events occur. Check the file system rule in ""/etc/audit/audit.rules"" with the following commands: <fixtext fixref=""F-78497r3_fix"">Configure the operating system to generate audit records when unsuccessful account access events occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when unsuccessful account access events occur. Check the file system rule in ""/etc/audit/audit.rules"" with the following commands: <fixtext fixref=""F-78499r3_fix"">Configure the operating system to generate audit records when successful account access events occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful account access events occur. Check the file system rules in ""/etc/audit/audit.rules"" with the following commands:-w /var/log/lastlog -p wa -k loginsAdd or update the following rule in ""/etc/audit/rules.d/audit.rules"": -a always,exit -F path=/bin/su -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-priv_changeCheck for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"":Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": -a always,exit -F path=/usr/bin/sudo -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-priv_changeCheck for the following system calls being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"":Check for modification of the following files being audited by performing the following commands to check the file system rules in ""/etc/audit/audit.rules"":Add or update the following rule in ""/etc/audit/rules.d/audit.rules"":Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"":Add or update the following rule in ""/etc/audit/rules.d/audit.rules"":Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"":Add or update the following rule in ""/etc/audit/rules.d/audit.rules"":Check for the following system calls being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"":Check for the following system calls being audited by performing the following series of commands to check the file system rules in ""/etc/audit/audit.rules"":Add or update the following rule in ""/etc/audit/rules.d/audit.rules"":Check for the following system calls being audited by performing the following series of commands to check the file system rules in ""/etc/audit/audit.rules"":-a always,exit -F path=/bin/umount -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-mountAdd or update the following rule in ""/etc/audit/rules.d/audit.rules"":Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78531r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""postqueue"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""postqueue"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78533r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""ssh-keysign"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""ssh-keysign"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78535r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""pt_chown"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""pt_chown"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78537r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""crontab"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""crontab"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78539r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""pam_timestamp_check"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""pam_timestamp_check"" command occur.-a always,exit -F path=/sbin/pam_timestamp_check -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-pam <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78541r4_fix"">Configure the operating system generates audit records when successful/unsuccessful attempts to use the ""init_module"" command occur. Add or update the following rules in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""init_module"" command occur.If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78543r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""delete_module"" command occur. Add or update the following rules in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""delete_module"" command occur.If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78545r5_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""insmod"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""insmod"" command occur.If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78547r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""rmmod"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""rmmod"" command occur.If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78549r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""modprobe"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""modprobe"" command occur.If the command does not return the following output (appropriate to the architecture), this is a finding.If there are no lines in the ""/etc/rsyslog.conf"" file that contain the ""@"" or ""@@"" symbol(s), and the lines with the correct symbol(s) to send output to another system do not cover all ""rsyslog"" output, ask the System Administrator to indicate how the audit logs are off-loaded to a different system or media. <description>&lt;VulnDiscussion&gt;Virus scanning software can be used to protect a system from penetration from computer viruses and to limit their spread through intermediate systems.nails - service for McAfee VirusScan Enterprise for LinuxIf neither of these applications are loaded and active, ask the System Administrator if there is an antivirus package installed and active on the system. <description>&lt;VulnDiscussion&gt;Virus scanning software can be used to protect a system from penetration from computer viruses and to limit their spread through intermediate systems.nails - service for McAfee VirusScan Enterprise for Linux sources: ports: forward-ports: icmp-blocks: rich rules: Ask the System Administrator for the site or program PPSM CLSA. Verify the services allowed by the firewall match the PPSM CLSA. <description>&lt;VulnDiscussion&gt;Terminating an idle session within a short time period reduces the window of opportunity for unauthorized personnel to take control of a management session enabled on the console or console port that has been left unattended. In addition, quickly terminating an idle session will also free up resources committed by the managed network element.# grep -i tmout /etc/bashrcIf USELDAPAUTH=yes, then LDAP is being used. <description>&lt;VulnDiscussion&gt;Without protection of the transmitted information, confidentiality and integrity may be compromised because unprotected communications can be intercepted and either read or altered. This requirement applies to both internal and external networks and all types of information system components from which information can be transmitted (e.g., servers, mobile devices, notebook computers, printers, copiers, scanners, and facsimile machines). Communication paths outside the physical protection of a controlled boundary are exposed to the possibility of interception and modification. <description>&lt;VulnDiscussion&gt;Without protection of the transmitted information, confidentiality and integrity may be compromised because unprotected communications can be intercepted and either read or altered. This requirement applies to both internal and external networks and all types of information system components from which information can be transmitted (e.g., servers, mobile devices, notebook computers, printers, copiers, scanners, and facsimile machines). Communication paths outside the physical protection of a controlled boundary are exposed to the possibility of interception and modification. <fixtext fixref=""F-78609r1_fix"">Note: SSH public key files may be found in other directories on the system depending on the installation. <fixtext fixref=""F-78613r2_fix"">Uncomment the ""GSSAPIAuthentication"" keyword in ""/etc/ssh/sshd_config"" (this file may be named differently or be in a different location if using a version of SSH that is provided by a third-party vendor) and set the value to ""no"":If the ""firewalld"" package is not installed, ask the System Administrator if another firewall application (such as iptables) is installed. If an application firewall is not installed, this is a finding.If ""firewalld"" does not show a status of ""loaded"" and ""active"", this is a finding.# firewall-cmd --state <fixtext fixref=""F-78629r1_fix"">Configure the operating system to provide users with feedback on when account accesses last occurred by setting the required configuration options in ""/etc/pam.d/postlogin-ac"". <fixtext fixref=""F-78645r2_fix"">Configure the system to not allow interfaces to perform IPv4 ICMP redirects by default. <fixtext fixref=""F-78647r2_fix"">Configure the system to not allow interfaces to perform IPv4 ICMP redirects.postfix-2.6.6-6.el7.x86_64.rpmIf a TFTP server is installed, check for the server arguments with the following command: <fixtext fixref=""F-78665r2_fix"">Update the ""/etc/fstab"" file so the option ""sec"" is defined for each NFS mounted file system and the ""sec"" option does not have the ""sys"" setting. <fixtext fixref=""F-78669r1_fix"">If ""firewalld"" is installed and active on the system, configure rules for allowing specific services and hosts. <check-content>If the ""firewalld"" package is not installed, ask the System Administrator (SA) if another firewall application (such as iptables) is installed. If an application firewall is not installed, this is a finding.Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command: <check-content>Verify the operating system prevents a user from overriding a screensaver lock after a 15-minute period of inactivity for graphical user interfaces.Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command:Note: If the system does not have GNOME installed, this requirement is Not Applicable. <check-content>Verify the operating system uses ""pwquality"" to enforce the password complexity rules.","Note: If the system does not have GNOME installed, this requirement is Not Applicable. Note: If the system does not have GNOME installed, this requirement is Not Applicable. Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command: The console can now be locked with the following key combination: Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command: Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command: # grep ucredit /etc/security/pwquality.conf # grep lcredit /etc/security/pwquality.conf lcredit = -1 # grep dcredit /etc/security/pwquality.conf dcredit = -1 # grep ocredit /etc/security/pwquality.conf # grep difok /etc/security/pwquality.conf # grep minclass /etc/security/pwquality.conf # grep maxrepeat /etc/security/pwquality.conf # grep maxclassrepeat /etc/security/pwquality.conf Add or update the following line in ""/etc/libuser.conf"" in the [defaults] section: Check for the value of ""PASS_MIN_DAYS"" in ""/etc/login.defs"" with the following command: <check-content>To verify that null passwords cannot be used, run the following command: <description>&lt;VulnDiscussion&gt;Without re-authentication, users may access resources or perform tasks for which they do not have authorization. <description>&lt;VulnDiscussion&gt;Without re-authentication, users may access resources or perform tasks for which they do not have authorization. Note: If the system does not have GNOME installed, this requirement is Not Applicable. Note: If the system does not have GNOME installed, this requirement is Not Applicable. 1) Accesses explicitly identified and documented by the organization. Organizations document specific user actions that can be performed on the information system without identification or authentication; Use the following command to map a new user to the ""sysdam_u"" role: # cat /etc/cron.daily/aide <fixtext fixref=""F-78327r1_fix"">Configure the operating system to notify designated personnel if baseline configurations are changed in an unauthorized manner. The AIDE tool can be configured to email designated personnel through the use of the cron system. The following example output is generic. It will set cron to run AIDE daily and to send email at the completion of the analysis. If AIDE is not installed, ask the SA how file integrity checks are performed on the system. If ""gpgcheck"" is not set to ""1"", or if options are missing or commented out, ask the System Administrator how the certificates for patches and other operating system components are verified. If ""localpkg_gpgcheck"" is not set to ""1"", or if options are missing or commented out, ask the System Administrator how the signatures of local packages and other operating system components are verified. If ""repo_gpgcheck"" is not set to ""1"", or if options are missing or commented out, ask the System Administrator how the metadata of local packages and other operating system components are verified. If GNOME is active on the system, create a database to contain the system-wide setting (if it does not already exist) with the following command: # cat /etc/dconf/db/local.d/00-disable-CAD <check-content>Verify the operating system security patches and updates are installed and up to date. Updates are required to be applied with a frequency determined by the site or Program Management Office (PMO). 70 | install aide | 2016-05-05 10:58 | Install | 1 68 | install vlc | 2016-04-21 17:12 | Install | 21 If package updates have not been performed on the system within the timeframe that the site/program documentation requires, this is a finding. <fixtext fixref=""F-78353r1_fix"">Configure the system so all accounts on the system are assigned to an active system, application, or user account. Remove accounts that do not support approved system activities or that allow for a normal user to perform administrative-level actions. Accounts such as ""games"" and ""gopher"" are not authorized accounts as they do not support authorized system functions. <fixtext fixref=""F-78357r1_fix"">Change the UID of any account on the system, other than root, that has a UID of ""0"". # mkdir /home/smithj sa:x:100:juan,shelley,bob,smithj users:x:1000:smithj,jonesj,jacksons <fixtext fixref=""F-78401r1_fix"">Remove the umask statement from all local interactive users initialization files. Note: If another logging package is used, substitute the utility configuration file for ""/etc/rsyslog.conf"". If ""rsyslog"" is not logging messages for the cron facility or all facilities, this is a finding. If AIDE is not installed, ask the System Administrator how file integrity checks are performed on the system. Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory. /bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbin Configure the operating system to implement DoD-approved encryption by following the steps below: # cat /proc/sys/crypto/fips_enabled <fixtext fixref=""F-78421r1_fix"">Configure the file integrity tool to check file and directory ACLs. If AIDE is not installed, ask the System Administrator how file integrity checks are performed on the system. Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory. /bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbin <fixtext fixref=""F-78423r1_fix"">Configure the file integrity tool to check file and directory extended attributes. Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory. /bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbin <fixtext fixref=""F-78425r1_fix"">Configure the file integrity tool to use FIPS 140-2 cryptographic hashes for validating file and directory contents. If AIDE is not installed, ask the System Administrator how file integrity checks are performed on the system. Note: AIDE is highly configurable at install time. These commands assume the ""aide.conf"" file is under the ""/etc"" directory. /bin All # apply the custom rule to the files in bin /sbin All # apply the same custom rule to the files in sbin If a ""grub.cfg"" is found in any subdirectories other than ""/boot/grub2"" and ""/boot/efi/EFI/redhat"", ask the System Administrator if there is documentation signed by the ISSO to approve the use of removable media as a boot loader. If a privileged user were to log on using this service, the privileged user password could be compromised. Check to see what level ""auditctl"" is set to with following command: If a remote server is not configured, or the line is commented out, ask the System Administrator to indicate how the audit logs are off-loaded to a different system or media. If the value of the ""enable_krb5"" option is not set to ""yes"" or the line is commented out, ask the System Administrator to indicate how the audit logs are off-loaded to a different system or media. Check the system configuration to determine the partition the audit records are being written to: space_left = 225 Uncomment or edit the ""space_left_action"" keyword in ""/etc/audit/auditd.conf"" and set it to ""email"". Uncomment or edit the ""action_mail_acct"" keyword in ""/etc/audit/auditd.conf"" and set it to root and any other accounts associated with security personnel. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful account access count events occur. Check the file system rule in ""/etc/audit/audit.rules"" with the following commands: <fixtext fixref=""F-78497r3_fix"">Configure the operating system to generate audit records when unsuccessful account access events occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when unsuccessful account access events occur. Check the file system rule in ""/etc/audit/audit.rules"" with the following commands: <fixtext fixref=""F-78499r3_fix"">Configure the operating system to generate audit records when successful account access events occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful account access events occur. Check the file system rules in ""/etc/audit/audit.rules"" with the following commands: -w /var/log/lastlog -p wa -k logins Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": -a always,exit -F path=/bin/su -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-priv_change Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": -a always,exit -F path=/usr/bin/sudo -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-priv_change Check for the following system calls being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": Check for modification of the following files being audited by performing the following commands to check the file system rules in ""/etc/audit/audit.rules"": Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": Check for the following system calls being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": Check for the following system calls being audited by performing the following series of commands to check the file system rules in ""/etc/audit/audit.rules"": Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": Check for the following system calls being audited by performing the following series of commands to check the file system rules in ""/etc/audit/audit.rules"": -a always,exit -F path=/bin/umount -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-mount Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78531r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""postqueue"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""postqueue"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78533r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""ssh-keysign"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""ssh-keysign"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78535r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""pt_chown"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""pt_chown"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78537r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""crontab"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""crontab"" command occur. Check for the following system call being audited by performing the following command to check the file system rules in ""/etc/audit/audit.rules"": <fixtext fixref=""F-78539r3_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""pam_timestamp_check"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"": <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""pam_timestamp_check"" command occur. -a always,exit -F path=/sbin/pam_timestamp_check -F perm=x -F auid&gt;=1000 -F auid!=4294967295 -k privileged-pam <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78541r4_fix"">Configure the operating system generates audit records when successful/unsuccessful attempts to use the ""init_module"" command occur. Add or update the following rules in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""init_module"" command occur. If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78543r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""delete_module"" command occur. Add or update the following rules in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""delete_module"" command occur. If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78545r5_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""insmod"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""insmod"" command occur. If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78547r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""rmmod"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""rmmod"" command occur. If the command does not return the following output (appropriate to the architecture), this is a finding. <description>&lt;VulnDiscussion&gt;Without generating audit records that are specific to the security and mission needs of the organization, it would be difficult to establish, correlate, and investigate the events relating to an incident or identify those responsible for one. <fixtext fixref=""F-78549r4_fix"">Configure the operating system to generate audit records when successful/unsuccessful attempts to use the ""modprobe"" command occur. Add or update the following rule in ""/etc/audit/rules.d/audit.rules"" (removing those that do not match the CPU architecture): <check-content>Verify the operating system generates audit records when successful/unsuccessful attempts to use the ""modprobe"" command occur. If the command does not return the following output (appropriate to the architecture), this is a finding. If there are no lines in the ""/etc/rsyslog.conf"" file that contain the ""@"" or ""@@"" symbol(s), and the lines with the correct symbol(s) to send output to another system do not cover all ""rsyslog"" output, ask the System Administrator to indicate how the audit logs are off-loaded to a different system or media. <description>&lt;VulnDiscussion&gt;Virus scanning software can be used to protect a system from penetration from computer viruses and to limit their spread through intermediate systems. nails - service for McAfee VirusScan Enterprise for Linux If neither of these applications are loaded and active, ask the System Administrator if there is an antivirus package installed and active on the system. <description>&lt;VulnDiscussion&gt;Virus scanning software can be used to protect a system from penetration from computer viruses and to limit their spread through intermediate systems. nails - service for McAfee VirusScan Enterprise for Linux sources: ports: forward-ports: icmp-blocks: rich rules: Ask the System Administrator for the site or program PPSM CLSA. Verify the services allowed by the firewall match the PPSM CLSA. <description>&lt;VulnDiscussion&gt;Terminating an idle session within a short time period reduces the window of opportunity for unauthorized personnel to take control of a management session enabled on the console or console port that has been left unattended. In addition, quickly terminating an idle session will also free up resources committed by the managed network element. # grep -i tmout /etc/bashrc If USELDAPAUTH=yes, then LDAP is being used. <description>&lt;VulnDiscussion&gt;Without protection of the transmitted information, confidentiality and integrity may be compromised because unprotected communications can be intercepted and either read or altered. This requirement applies to both internal and external networks and all types of information system components from which information can be transmitted (e.g., servers, mobile devices, notebook computers, printers, copiers, scanners, and facsimile machines). Communication paths outside the physical protection of a controlled boundary are exposed to the possibility of interception and modification. <description>&lt;VulnDiscussion&gt;Without protection of the transmitted information, confidentiality and integrity may be compromised because unprotected communications can be intercepted and either read or altered. This requirement applies to both internal and external networks and all types of information system components from which information can be transmitted (e.g., servers, mobile devices, notebook computers, printers, copiers, scanners, and facsimile machines). Communication paths outside the physical protection of a controlled boundary are exposed to the possibility of interception and modification. <fixtext fixref=""F-78609r1_fix"">Note: SSH public key files may be found in other directories on the system depending on the installation. <fixtext fixref=""F-78613r2_fix"">Uncomment the ""GSSAPIAuthentication"" keyword in ""/etc/ssh/sshd_config"" (this file may be named differently or be in a different location if using a version of SSH that is provided by a third-party vendor) and set the value to ""no"": If the ""firewalld"" package is not installed, ask the System Administrator if another firewall application (such as iptables) is installed. If an application firewall is not installed, this is a finding. If ""firewalld"" does not show a status of ""loaded"" and ""active"", this is a finding. # firewall-cmd --state <fixtext fixref=""F-78629r1_fix"">Configure the operating system to provide users with feedback on when account accesses last occurred by setting the required configuration options in ""/etc/pam.d/postlogin-ac"". <fixtext fixref=""F-78645r2_fix"">Configure the system to not allow interfaces to perform IPv4 ICMP redirects by default. <fixtext fixref=""F-78647r2_fix"">Configure the system to not allow interfaces to perform IPv4 ICMP redirects. postfix-2.6.6-6.el7.x86_64.rpm If a TFTP server is installed, check for the server arguments with the following command: <fixtext fixref=""F-78665r2_fix"">Update the ""/etc/fstab"" file so the option ""sec"" is defined for each NFS mounted file system and the ""sec"" option does not have the ""sys"" setting. <fixtext fixref=""F-78669r1_fix"">If ""firewalld"" is installed and active on the system, configure rules for allowing specific services and hosts. <check-content>If the ""firewalld"" package is not installed, ask the System Administrator (SA) if another firewall application (such as iptables) is installed. If an application firewall is not installed, this is a finding. Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command: <check-content>Verify the operating system prevents a user from overriding a screensaver lock after a 15-minute period of inactivity for graphical user interfaces. Create a database to contain the system-wide screensaver settings (if it does not already exist) with the following command: Note: If the system does not have GNOME installed, this requirement is Not Applicable. <check-content>Verify the operating system uses ""pwquality"" to enforce the password complexity rules. ",196,196
openstack%2Fopenstack-ansible-security~master~I65023fe63163c9804a3aec9dcdbf23c69bedb604,openstack/openstack-ansible-security,master,I65023fe63163c9804a3aec9dcdbf23c69bedb604,Handle RHEL 7 STIG renumbering,MERGED,2017-04-03 22:45:40.000000000,2017-04-04 12:57:45.000000000,2017-04-04 12:57:45.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 13095}]","[{'number': 1, 'created': '2017-04-03 22:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/b26117a8a4e689cee7091f509e81fae6731590dd', 'message': '[Docs] Handle RHEL 7 STIG renumbering\n\nThis patch gets the docs adjusted to work with the new RHEL 7 STIG\nversion 1 release. The new STIG release has changed all of the\nnumbering, but it maintains a link to (most) of the old STIG IDs in\nthe XML.\n\nRelated-bug: 1676865\nChange-Id: I65023fe63163c9804a3aec9dcdbf23c69bedb604\n'}, {'number': 2, 'created': '2017-04-03 22:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/3e9453fd5895d9602e89bce8e25d197792c8b4d7', 'message': '[Docs] Handle RHEL 7 STIG renumbering\n\nThis patch gets the docs adjusted to work with the new RHEL 7 STIG\nversion 1 release. The new STIG release has changed all of the\nnumbering, but it maintains a link to (most) of the old STIG IDs in\nthe XML.\n\nRelated-bug: 1676865\nChange-Id: I65023fe63163c9804a3aec9dcdbf23c69bedb604\n'}, {'number': 3, 'created': '2017-04-03 22:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/7183136408bf345dec2bd04d9b3666b2d0312b6d', 'message': 'Handle RHEL 7 STIG renumbering\n\nThis patch gets the docs adjusted to work with the new RHEL 7 STIG\nversion 1 release. The new STIG release has changed all of the\nnumbering, but it maintains a link to (most) of the old STIG IDs in\nthe XML.\n\nRelated-bug: 1676865\nChange-Id: I65023fe63163c9804a3aec9dcdbf23c69bedb604\n'}, {'number': 4, 'created': '2017-04-04 12:22:19.000000000', 'files': ['doc/metadata/rhel7/V-73177.rst', 'doc/metadata/rhel7/V-71991.rst', 'doc/metadata/rhel7/V-72063.rst', 'doc/metadata/rhel7/RHEL-07-010470.rst', 'doc/metadata/rhel7/V-72195.rst', 'doc/metadata/rhel7/RHEL-07-010373.rst', 'templates/osas-auditd-rhel7.j2', 'doc/metadata/rhel7/V-71975.rst', 'templates/pam_faillock.j2', 'doc/metadata/rhel7/V-72101.rst', 'doc/metadata/rhel7/V-71983.rst', 'doc/metadata/rhel7/V-72055.rst', 'doc/metadata/rhel7/V-72241.rst', 'doc/metadata/rhel7/V-72187.rst', 'doc/metadata/rhel7/V-72217.rst', 'doc/metadata/rhel7/V-72039.rst', 'doc/metadata/rhel7/V-72183.rst', 'doc/metadata/rhel7/RHEL-07-010490.rst', 'doc/metadata/rhel7/RHEL-07-040040.rst', 'doc/metadata/rhel7/V-72191.rst', 'doc/metadata/rhel7/V-72233.rst', 'doc/metadata/rhel7/RHEL-07-040230.rst', 'doc/metadata/rhel7/V-72221.rst', 'doc/metadata/rhel7/V-71939.rst', 'doc/metadata/rhel7/V-72179.rst', 'doc/metadata/rhel7/V-71971.rst', 'doc/metadata/rhel7/V-72043.rst', 'doc/metadata/rhel7/V-71967.rst', 'doc/metadata/rhel7/V-72205.rst', 'doc/metadata/rhel7/V-72167.rst', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R0-2_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72027.rst', 'doc/metadata/rhel7/V-71955.rst', 'doc/metadata/rhel7/V-72261.rst', 'doc/metadata/rhel7/V-72007.rst', 'doc/metadata/rhel7/V-72279.rst', 'doc/metadata/rhel7/V-71919.rst', 'doc/metadata/rhel7/V-71979.rst', 'tasks/rhel7stig/aide.yml', 'doc/metadata/rhel7/V-71855.rst', 'templates/sshd_config_block.j2', 'doc/metadata/rhel7/V-72155.rst', 'doc/metadata/rhel7/V-72287.rst', 'doc/metadata/rhel7/RHEL-07-020170.rst', 'doc/metadata/rhel7/V-72067.rst', 'doc/metadata/rhel7/V-72201.rst', 'doc/metadata/rhel7/V-72253.rst', 'doc/metadata/rhel7/V-73173.rst', 'doc/metadata/rhel7/V-73165.rst', 'doc/metadata/rhel7/V-72059.rst', 'doc/metadata/rhel7/V-72317.rst', 'doc/metadata/rhel7/V-72105.rst', 'tasks/rhel7stig/file_perms.yml', 'doc/metadata/rhel7/RHEL-07-010071.rst', 'doc/metadata/rhel7/V-71947.rst', 'doc/metadata/rhel7/V-72095.rst', 'doc/metadata/rhel7/V-72225.rst', 'doc/metadata/rhel7/RHEL-07-040060.rst', 'doc/metadata/rhel7/V-72159.rst', 'doc/metadata/rhel7/V-71951.rst', 'doc/metadata/rhel7/V-72071.rst', 'doc/metadata/rhel7/RHEL-07-020680.rst', 'doc/metadata/rhel7/V-71921.rst', 'doc/metadata/rhel7/V-72035.rst', 'doc/metadata/rhel7/RHEL-07-020870.rst', 'doc/metadata/rhel7/V-72163.rst', 'doc/metadata/rhel7/V-72133.rst', 'doc/metadata/rhel7/V-72291.rst', 'doc/metadata/rhel7/V-72435.rst', 'tasks/rhel7stig/auth.yml', 'doc/metadata/rhel7/V-71931.rst', 'doc/metadata/rhel7/V-72303.rst', 'doc/metadata/rhel7/V-72117.rst', 'doc/metadata/rhel7/V-72151.rst', 'doc/metadata/rhel7/V-72249.rst', 'doc/metadata/rhel7/V-72283.rst', 'doc/metadata/rhel7/V-72257.rst', 'doc/metadata/rhel7/RHEL-07-040351.rst', 'doc/metadata/rhel7/V-71913.rst', 'doc/metadata/rhel7/V-71895.rst', 'doc/metadata/rhel7/V-72127.rst', 'doc/metadata/rhel7/V-72313.rst', 'vars/redhat.yml', 'doc/metadata/rhel7/V-72161.rst', 'doc/metadata/rhel7/V-72135.rst', 'doc/metadata/rhel7/V-72267.rst', 'doc/metadata/rhel7/V-71925.rst', 'doc/metadata/rhel7/V-72099.rst', 'doc/metadata/rhel7/V-72123.rst', 'doc/metadata/rhel7/V-71891.rst', 'doc/metadata/rhel7/V-72277.rst', 'doc/metadata/rhel7/V-72013.rst', 'doc/metadata/rhel7/V-72093.rst', 'doc/metadata/rhel7/V-72229.rst', 'doc/metadata/rhel7/V-71941.rst', 'doc/metadata/rhel7/V-72087.rst', 'doc/metadata/rhel7/V-72141.rst', 'doc/metadata/rhel7/V-71907.rst', 'doc/metadata/rhel7/V-71999.rst', 'doc/metadata/rhel7/V-73163.rst', 'doc/metadata/rhel7/V-72107.rst', 'doc/metadata/rhel7/V-72295.rst', 'tasks/rhel7stig/apt.yml', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R1_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72001.rst', 'doc/metadata/rhel7/V-72139.rst', 'doc/metadata/rhel7/V-71863.rst', 'doc/metadata/rhel7/V-72199.rst', 'doc/metadata/rhel7/V-71995.rst', 'doc/metadata/rhel7/V-72173.rst', 'doc/metadata/rhel7/V-72307.rst', 'templates/dconf-session-user-config-lockout.j2', 'doc/metadata/stig_to_rst.py', 'doc/metadata/rhel7/RHEL-07-040810.rst', 'doc/metadata/rhel7/V-71935.rst', 'doc/metadata/rhel7/V-71899.rst', 'doc/metadata/rhel7/V-72113.rst', 'doc/metadata/rhel7/V-72245.rst', 'doc/metadata/rhel7/V-72077.rst', 'doc/metadata/rhel7/V-73157.rst', 'doc/metadata/rhel7/V-72051.rst', 'doc/metadata/rhel7/RHEL-07-040490.rst', 'doc/metadata/rhel7/V-71963.rst', 'doc/metadata/rhel7/V-72017.rst', 'tasks/rhel7stig/rpm.yml', 'doc/metadata/rhel7/V-72145.rst', 'doc/metadata/rhel7/V-72273.rst', 'doc/metadata/rhel7/V-72299.rst', 'doc/metadata/rhel7/V-71989.rst', 'doc/metadata/rhel7/V-72049.rst', 'doc/metadata/rhel7/V-72239.rst', 'doc/metadata/rhel7/V-72023.rst', 'doc/metadata/rhel7/V-71929.rst', 'doc/metadata/rhel7/V-72083.rst', 'tasks/rhel7stig/lsm.yml', 'doc/metadata/rhel7/V-71903.rst', 'doc/metadata/rhel7/V-72213.rst', 'doc/metadata/rhel7/V-71949.rst', 'doc/metadata/rhel7/V-72177.rst', 'doc/metadata/rhel7/V-72231.rst', 'doc/metadata/rhel7/V-72045.rst', 'doc/metadata/rhel7/V-72223.rst', 'doc/metadata/rhel7/RHEL-07-021610.rst', 'doc/metadata/rhel7/V-72169.rst', 'doc/metadata/rhel7/V-72037.rst', 'doc/metadata/rhel7/RHEL-07-040050.rst', 'doc/metadata/rhel7/RHEL-07-040182.rst', 'doc/metadata/rhel7/V-71965.rst', 'doc/metadata/rhel7/V-72207.rst', 'tasks/rhel7stig/packages.yml', 'doc/metadata/rhel7/V-72215.rst', 'doc/metadata/rhel7/RHEL-07-010401.rst', 'doc/metadata/rhel7/V-71957.rst', 'tasks/rhel7stig/misc.yml', 'doc/metadata/rhel7/V-72029.rst', 'doc/metadata/rhel7/V-71985.rst', 'doc/metadata/rhel7/V-72009.rst', 'doc/metadata/rhel7/V-72073.rst', 'doc/metadata/rhel7/V-72149.rst', 'doc/metadata/rhel7/V-72203.rst', 'doc/metadata/rhel7/V-73175.rst', 'doc/metadata/rhel7/V-72197.rst', 'doc/metadata/rhel7/V-71969.rst', 'doc/metadata/rhel7/RHEL-07-040070.rst', 'doc/metadata/rhel7/V-72251.rst', 'doc/metadata/rhel7/V-71861.rst', 'vars/main.yml', 'doc/metadata/rhel7/V-71937.rst', 'doc/metadata/rhel7/V-73159.rst', 'doc/metadata/rhel7/V-72057.rst', 'doc/metadata/rhel7/V-72111.rst', 'doc/metadata/rhel7/V-71973.rst', 'doc/metadata/rhel7/V-72235.rst', 'doc/metadata/rhel7/V-72061.rst', 'doc/metadata/rhel7/V-72185.rst', 'doc/metadata/rhel7/V-72219.rst', 'doc/metadata/rhel7/V-72227.rst', 'doc/metadata/rhel7/V-71945.rst', 'doc/metadata/rhel7/V-73171.rst', 'doc/metadata/rhel7/V-72041.rst', 'doc/metadata/rhel7/V-72165.rst', 'doc/metadata/rhel7/V-72033.rst', 'doc/metadata/rhel7/RHEL-07-010440.rst', 'doc/source/special-notes.rst', 'doc/metadata/rhel7/V-72157.rst', 'doc/metadata/rhel7/V-72289.rst', 'doc/metadata/rhel7/V-71909.rst', 'doc/metadata/rhel7/V-71953.rst', 'doc/metadata/rhel7/V-72131.rst', 'doc/metadata/rhel7/V-72263.rst', 'tasks/rhel7stig/kernel.yml', 'doc/metadata/rhel7/V-72285.rst', 'doc/metadata/rhel7/V-72255.rst', 'doc/metadata/rhel7/V-72319.rst', 'doc/metadata/rhel7/V-72065.rst', 'doc/metadata/rhel7/V-71917.rst', 'doc/metadata/rhel7/V-72189.rst', 'doc/metadata/rhel7/RHEL-07-010402.rst', 'doc/metadata/rhel7/V-72103.rst', 'doc/metadata/rhel7/V-72417.rst', 'doc/metadata/rhel7/V-73167.rst', 'doc/metadata/rhel7/RHEL-07-040410.rst', 'doc/metadata/rhel7/V-72129.rst', 'doc/metadata/rhel7/V-72193.rst', 'doc/metadata/rhel7/V-71977.rst', 'doc/metadata/rhel7/RHEL-07-020840.rst', 'doc/metadata/rhel7/V-72005.rst', 'doc/metadata/rhel7/RHEL-07-040030.rst', 'doc/metadata/rhel7/V-71849.rst', 'doc/metadata/rhel7/V-71981.rst', 'doc/metadata/rhel7/V-71923.rst', 'doc/metadata/rhel7/V-72125.rst', 'doc/metadata/rhel7/V-72311.rst', 'doc/metadata/rhel7/V-71893.rst', 'doc/metadata/rhel7/V-72097.rst', 'doc/metadata/rhel7/V-72143.rst', 'doc/metadata/rhel7/V-72011.rst', 'doc/metadata/rhel7/RHEL-07-020670.rst', 'defaults/main.yml', 'doc/metadata/rhel7/RHEL-07-020700.rst', 'doc/metadata/rhel7/V-71915.rst', 'doc/metadata/rhel7/V-71859.rst', 'doc/metadata/rhel7/V-72259.rst', 'doc/metadata/rhel7/V-72275.rst', 'templates/dconf-screensaver-lock.j2', 'doc/metadata/rhel7/V-72089.rst', 'doc/source/developer-guide.rst', 'doc/metadata/rhel7/V-71905.rst', 'doc/metadata/rhel7/V-72293.rst', 'doc/metadata/rhel7/V-72003.rst', 'doc/metadata/rhel7/V-73161.rst', 'doc/metadata/rhel7/V-72427.rst', 'doc/metadata/rhel7/V-72109.rst', 'doc/metadata/rhel7/V-72153.rst', 'doc/metadata/rhel7/RHEL-07-020850.rst', 'doc/metadata/rhel7/RHEL-07-040333.rst', 'doc/metadata/rhel7/V-72301.rst', 'doc/metadata/rhel7/V-72247.rst', 'doc/metadata/rhel7/RHEL-07-010400.rst', 'doc/metadata/rhel7/V-71911.rst', 'doc/metadata/rhel7/V-72119.rst', 'doc/metadata/rhel7/V-72281.rst', 'doc/metadata/rhel7/V-71997.rst', 'doc/metadata/rhel7/V-72069.rst', 'doc/metadata/rhel7/RHEL-07-010031.rst', 'doc/metadata/rhel7/V-71943.rst', 'doc/metadata/rhel7/V-72171.rst', 'doc/metadata/rhel7/V-72031.rst', 'doc/metadata/rhel7/V-72315.rst', 'doc/source/_exts/metadata-docs-rhel7.py', 'doc/metadata/rhel7/V-72137.rst', 'doc/metadata/rhel7/V-72265.rst', 'doc/metadata/rhel7/V-71901.rst', 'doc/metadata/rhel7/V-72075.rst', 'doc/metadata/rhel7/V-73155.rst', 'doc/metadata/rhel7/RHEL-07-040080.rst', 'doc/metadata/rhel7/V-71987.rst', 'doc/metadata/rhel7/V-71961.rst', 'doc/metadata/rhel7/RHEL-07-040020.rst', 'doc/metadata/rhel7/V-72091.rst', 'tasks/rhel7stig/auditd.yml', 'doc/metadata/rhel7/V-72121.rst', 'doc/metadata/rhel7/V-72309.rst', 'doc/metadata/rhel7/V-72147.rst', 'doc/metadata/rhel7/V-72015.rst', 'doc/metadata/rhel7/V-72025.rst', 'doc/metadata/rhel7/V-72237.rst', 'doc/metadata/rhel7/V-72297.rst', 'doc/metadata/rhel7/V-72271.rst', 'releasenotes/notes/stig-rhel7-version-1-renumbering-fiesta-aa047fea3ea35e74.yaml', 'doc/metadata/rhel7/V-71927.rst', 'doc/metadata/rhel7/V-72085.rst', 'tasks/rhel7stig/sshd.yml', 'doc/metadata/rhel7/V-72211.rst', 'doc/metadata/rhel7/V-72081.rst', 'tasks/rhel7stig/graphical.yml', 'doc/metadata/rhel7/V-71993.rst', 'doc/metadata/rhel7/V-71933.rst', 'doc/metadata/rhel7/V-72433.rst', 'doc/metadata/rhel7/V-72115.rst', 'doc/metadata/rhel7/V-72209.rst', 'doc/metadata/rhel7/V-72021.rst', 'doc/metadata/rhel7/V-72047.rst', 'doc/metadata/rhel7/V-72305.rst', 'doc/metadata/rhel7/V-72175.rst', 'doc/metadata/rhel7/V-72019.rst', 'doc/metadata/rhel7/V-72243.rst', 'doc/metadata/rhel7/V-71897.rst', 'doc/metadata/rhel7/V-72181.rst', 'doc/metadata/rhel7/V-72269.rst', 'doc/metadata/rhel7/V-71959.rst', 'doc/metadata/rhel7/V-72079.rst', 'doc/metadata/rhel7/RHEL-07-010070.rst', 'doc/metadata/rhel7/V-72053.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/dccce1d5cc06985a58f0ecba4fd0d977388592b2', 'message': 'Handle RHEL 7 STIG renumbering\n\nThis patch gets the docs adjusted to work with the new RHEL 7 STIG\nversion 1 release. The new STIG release has changed all of the\nnumbering, but it maintains a link to (most) of the old STIG IDs in\nthe XML.\n\nCloses-bug: 1676865\nChange-Id: I65023fe63163c9804a3aec9dcdbf23c69bedb604\n'}]",0,452984,dccce1d5cc06985a58f0ecba4fd0d977388592b2,12,4,4,538,,,0,"Handle RHEL 7 STIG renumbering

This patch gets the docs adjusted to work with the new RHEL 7 STIG
version 1 release. The new STIG release has changed all of the
numbering, but it maintains a link to (most) of the old STIG IDs in
the XML.

Closes-bug: 1676865
Change-Id: I65023fe63163c9804a3aec9dcdbf23c69bedb604
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/84/452984/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/metadata/rhel7/V-73177.rst', 'doc/metadata/rhel7/V-71991.rst', 'doc/metadata/rhel7/V-72063.rst', 'doc/metadata/rhel7/RHEL-07-010470.rst', 'doc/metadata/rhel7/V-72195.rst', 'doc/metadata/rhel7/RHEL-07-010373.rst', 'templates/osas-auditd-rhel7.j2', 'doc/metadata/rhel7/V-71975.rst', 'templates/pam_faillock.j2', 'doc/metadata/rhel7/V-72101.rst', 'doc/metadata/rhel7/V-71983.rst', 'doc/metadata/rhel7/V-72055.rst', 'doc/metadata/rhel7/V-72241.rst', 'doc/metadata/rhel7/V-72187.rst', 'doc/metadata/rhel7/V-72217.rst', 'doc/metadata/rhel7/V-72039.rst', 'doc/metadata/rhel7/V-72183.rst', 'doc/metadata/rhel7/RHEL-07-010490.rst', 'doc/metadata/rhel7/RHEL-07-040040.rst', 'doc/metadata/rhel7/V-72191.rst', 'doc/metadata/rhel7/V-72233.rst', 'doc/metadata/rhel7/RHEL-07-040230.rst', 'doc/metadata/rhel7/V-72221.rst', 'doc/metadata/rhel7/V-71939.rst', 'doc/metadata/rhel7/V-72179.rst', 'doc/metadata/rhel7/V-71971.rst', 'doc/metadata/rhel7/V-72043.rst', 'releasenotes/notes/remove-cn-map-check-962c5d0058a32543.yaml', 'doc/metadata/rhel7/V-71967.rst', 'doc/metadata/rhel7/V-72205.rst', 'doc/metadata/rhel7/V-72167.rst', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R0-2_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72027.rst', 'doc/metadata/rhel7/V-71955.rst', 'doc/metadata/rhel7/V-72261.rst', 'doc/metadata/rhel7/V-72007.rst', 'doc/metadata/rhel7/V-72279.rst', 'doc/metadata/rhel7/V-71919.rst', 'doc/metadata/rhel7/V-71979.rst', 'tasks/rhel7stig/aide.yml', 'doc/metadata/rhel7/V-71855.rst', 'templates/sshd_config_block.j2', 'doc/metadata/rhel7/V-72155.rst', 'doc/metadata/rhel7/V-72287.rst', 'doc/metadata/rhel7/RHEL-07-020170.rst', 'doc/metadata/rhel7/V-72067.rst', 'doc/metadata/rhel7/V-72201.rst', 'doc/metadata/rhel7/V-72253.rst', 'doc/metadata/rhel7/V-73173.rst', 'doc/metadata/rhel7/V-73165.rst', 'doc/metadata/rhel7/V-72059.rst', 'doc/metadata/rhel7/V-72317.rst', 'doc/metadata/rhel7/V-72105.rst', 'tasks/rhel7stig/file_perms.yml', 'doc/metadata/rhel7/RHEL-07-010071.rst', 'doc/metadata/rhel7/V-71947.rst', 'doc/metadata/rhel7/V-72095.rst', 'doc/metadata/rhel7/V-72225.rst', 'doc/metadata/rhel7/RHEL-07-040060.rst', 'doc/metadata/rhel7/V-72159.rst', 'doc/metadata/rhel7/V-71951.rst', 'doc/metadata/rhel7/V-72071.rst', 'doc/metadata/rhel7/RHEL-07-020680.rst', 'doc/metadata/rhel7/V-71921.rst', 'doc/metadata/rhel7/V-72035.rst', 'doc/metadata/rhel7/RHEL-07-020870.rst', 'doc/metadata/rhel7/V-72163.rst', 'doc/metadata/rhel7/V-72133.rst', 'doc/metadata/rhel7/V-72291.rst', 'doc/metadata/rhel7/V-72435.rst', 'tasks/rhel7stig/auth.yml', 'doc/metadata/rhel7/V-71931.rst', 'doc/metadata/rhel7/V-72303.rst', 'doc/metadata/rhel7/V-72117.rst', 'doc/metadata/rhel7/V-72151.rst', 'doc/metadata/rhel7/V-72249.rst', 'doc/metadata/rhel7/V-72283.rst', 'doc/metadata/rhel7/V-72257.rst', 'doc/metadata/rhel7/RHEL-07-040351.rst', 'doc/metadata/rhel7/V-71913.rst', 'doc/metadata/rhel7/V-71895.rst', 'doc/metadata/rhel7/V-72127.rst', 'doc/metadata/rhel7/V-72313.rst', 'vars/redhat.yml', 'doc/metadata/rhel7/V-72161.rst', 'doc/metadata/rhel7/V-72135.rst', 'doc/metadata/rhel7/V-72267.rst', 'doc/metadata/rhel7/V-71925.rst', 'doc/metadata/rhel7/V-72099.rst', 'doc/metadata/rhel7/V-72123.rst', 'doc/metadata/rhel7/V-71891.rst', 'doc/metadata/rhel7/V-72277.rst', 'doc/metadata/rhel7/V-72013.rst', 'doc/metadata/rhel7/V-72093.rst', 'doc/metadata/rhel7/V-72229.rst', 'doc/metadata/rhel7/V-71941.rst', 'doc/metadata/rhel7/V-72087.rst', 'doc/metadata/rhel7/V-72141.rst', 'doc/metadata/rhel7/V-71907.rst', 'doc/metadata/rhel7/V-71999.rst', 'releasenotes/notes/remove-pki-auth-validation-2ceb2899805ac065.yaml', 'doc/metadata/rhel7/V-73163.rst', 'doc/metadata/rhel7/V-72107.rst', 'doc/metadata/rhel7/V-72295.rst', 'tasks/rhel7stig/apt.yml', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R1_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72001.rst', 'doc/metadata/rhel7/V-72139.rst', 'doc/metadata/rhel7/V-71863.rst', 'doc/metadata/rhel7/V-72199.rst', 'doc/metadata/rhel7/V-71995.rst', 'doc/metadata/rhel7/V-72173.rst', 'doc/metadata/rhel7/V-72307.rst', 'templates/dconf-session-user-config-lockout.j2', 'doc/metadata/stig_to_rst.py', 'doc/metadata/rhel7/RHEL-07-040810.rst', 'doc/metadata/rhel7/V-71935.rst', 'doc/metadata/rhel7/V-71899.rst', 'doc/metadata/rhel7/V-72113.rst', 'doc/metadata/rhel7/V-72245.rst', 'doc/metadata/rhel7/V-72077.rst', 'doc/metadata/rhel7/V-73157.rst', 'doc/metadata/rhel7/V-72051.rst', 'doc/metadata/rhel7/RHEL-07-040490.rst', 'doc/metadata/rhel7/V-71963.rst', 'doc/metadata/rhel7/V-72017.rst', 'tasks/rhel7stig/rpm.yml', 'doc/metadata/rhel7/V-72145.rst', 'doc/metadata/rhel7/V-72273.rst', 'doc/metadata/rhel7/V-72299.rst', 'doc/metadata/rhel7/V-71989.rst', 'doc/metadata/rhel7/V-72049.rst', 'doc/metadata/rhel7/V-72239.rst', 'doc/metadata/rhel7/V-72023.rst', 'doc/metadata/rhel7/V-71929.rst', 'doc/metadata/rhel7/V-72083.rst', 'tasks/rhel7stig/lsm.yml', 'doc/metadata/rhel7/V-71903.rst', 'doc/metadata/rhel7/V-72213.rst', 'doc/metadata/rhel7/V-71949.rst', 'doc/metadata/rhel7/V-72177.rst', 'doc/metadata/rhel7/V-72231.rst', 'doc/metadata/rhel7/V-72045.rst', 'doc/metadata/rhel7/V-72223.rst', 'doc/metadata/rhel7/RHEL-07-021610.rst', 'doc/metadata/rhel7/V-72169.rst', 'doc/metadata/rhel7/V-72037.rst', 'doc/metadata/rhel7/RHEL-07-040050.rst', 'doc/metadata/rhel7/RHEL-07-040182.rst', 'doc/metadata/rhel7/V-71965.rst', 'doc/metadata/rhel7/V-72207.rst', 'tasks/rhel7stig/packages.yml', 'doc/metadata/rhel7/V-72215.rst', 'doc/metadata/rhel7/RHEL-07-010401.rst', 'doc/metadata/rhel7/V-71957.rst', 'tasks/rhel7stig/misc.yml', 'doc/metadata/rhel7/V-72029.rst', 'doc/metadata/rhel7/V-71985.rst', 'doc/metadata/rhel7/V-72009.rst', 'doc/metadata/rhel7/V-72073.rst', 'doc/metadata/rhel7/V-72149.rst', 'doc/metadata/rhel7/V-72203.rst', 'doc/metadata/rhel7/V-73175.rst', 'doc/metadata/rhel7/V-72197.rst', 'doc/metadata/rhel7/V-71969.rst', 'doc/metadata/rhel7/RHEL-07-040070.rst', 'doc/metadata/rhel7/V-72251.rst', 'doc/metadata/rhel7/V-71861.rst', 'vars/main.yml', 'doc/metadata/rhel7/V-71937.rst', 'doc/metadata/rhel7/V-73159.rst', 'doc/metadata/rhel7/V-72057.rst', 'doc/metadata/rhel7/V-72111.rst', 'doc/metadata/rhel7/V-71973.rst', 'doc/metadata/rhel7/V-72235.rst', 'doc/metadata/rhel7/V-72061.rst', 'doc/metadata/rhel7/V-72185.rst', 'doc/metadata/rhel7/V-72219.rst', 'doc/metadata/rhel7/V-72227.rst', 'doc/metadata/rhel7/V-71945.rst', 'doc/metadata/rhel7/V-73171.rst', 'doc/metadata/rhel7/V-72041.rst', 'doc/metadata/rhel7/V-72165.rst', 'doc/metadata/rhel7/V-72033.rst', 'doc/metadata/rhel7/RHEL-07-010440.rst', 'doc/source/special-notes.rst', 'doc/metadata/rhel7/V-72157.rst', 'doc/metadata/rhel7/V-72289.rst', 'doc/metadata/rhel7/V-71909.rst', 'doc/metadata/rhel7/V-71953.rst', 'doc/metadata/rhel7/V-72131.rst', 'doc/metadata/rhel7/V-72263.rst', 'tasks/rhel7stig/kernel.yml', 'doc/metadata/rhel7/V-72285.rst', 'doc/metadata/rhel7/V-72255.rst', 'doc/metadata/rhel7/V-72319.rst', 'doc/metadata/rhel7/V-72065.rst', 'doc/metadata/rhel7/V-71917.rst', 'doc/metadata/rhel7/V-72189.rst', 'doc/metadata/rhel7/RHEL-07-010402.rst', 'doc/metadata/rhel7/V-72103.rst', 'doc/metadata/rhel7/V-72417.rst', 'doc/metadata/rhel7/V-73167.rst', 'doc/metadata/rhel7/RHEL-07-040410.rst', 'doc/metadata/rhel7/V-72129.rst', 'doc/metadata/rhel7/V-72193.rst', 'doc/metadata/rhel7/V-71977.rst', 'doc/metadata/rhel7/RHEL-07-020840.rst', 'doc/metadata/rhel7/V-72005.rst', 'doc/metadata/rhel7/RHEL-07-040030.rst', 'doc/metadata/rhel7/V-71849.rst', 'doc/metadata/rhel7/V-71981.rst', 'doc/metadata/rhel7/V-71923.rst', 'doc/metadata/rhel7/V-72125.rst', 'doc/metadata/rhel7/V-72311.rst', 'doc/metadata/rhel7/V-71893.rst', 'doc/metadata/rhel7/V-72097.rst', 'doc/metadata/rhel7/V-72143.rst', 'doc/metadata/rhel7/V-72011.rst', 'doc/metadata/rhel7/RHEL-07-020670.rst', 'defaults/main.yml', 'doc/metadata/rhel7/RHEL-07-020700.rst', 'doc/metadata/rhel7/V-71915.rst', 'doc/metadata/rhel7/V-71859.rst', 'doc/metadata/rhel7/V-72259.rst', 'doc/metadata/rhel7/V-72275.rst', 'templates/dconf-screensaver-lock.j2', 'doc/metadata/rhel7/V-72089.rst', 'doc/source/developer-guide.rst', 'doc/metadata/rhel7/V-71905.rst', 'doc/metadata/rhel7/V-72293.rst', 'doc/metadata/rhel7/V-72003.rst', 'doc/metadata/rhel7/V-73161.rst', 'doc/metadata/rhel7/V-72427.rst', 'doc/metadata/rhel7/V-72109.rst', 'doc/metadata/rhel7/V-72153.rst', 'releasenotes/notes/add-v-71863-c9ca84afa37f2522.yaml', 'doc/metadata/rhel7/RHEL-07-020850.rst', 'doc/metadata/rhel7/RHEL-07-040333.rst', 'doc/metadata/rhel7/V-72301.rst', 'doc/metadata/rhel7/V-72247.rst', 'doc/metadata/rhel7/RHEL-07-010400.rst', 'doc/metadata/rhel7/V-71911.rst', 'doc/metadata/rhel7/V-72119.rst', 'doc/metadata/rhel7/V-72281.rst', 'doc/metadata/rhel7/V-71997.rst', 'doc/metadata/rhel7/V-72069.rst', 'doc/metadata/rhel7/RHEL-07-010031.rst', 'doc/metadata/rhel7/V-71943.rst', 'doc/metadata/rhel7/V-72171.rst', 'doc/metadata/rhel7/V-72031.rst', 'doc/metadata/rhel7/V-72315.rst', 'doc/source/_exts/metadata-docs-rhel7.py', 'doc/metadata/rhel7/V-72137.rst', 'doc/metadata/rhel7/V-72265.rst', 'doc/metadata/rhel7/V-71901.rst', 'doc/metadata/rhel7/V-72075.rst', 'doc/metadata/rhel7/V-73155.rst', 'doc/metadata/rhel7/RHEL-07-040080.rst', 'doc/metadata/rhel7/V-71987.rst', 'doc/metadata/rhel7/V-71961.rst', 'doc/metadata/rhel7/RHEL-07-040020.rst', 'doc/metadata/rhel7/V-72091.rst', 'tasks/rhel7stig/auditd.yml', 'doc/metadata/rhel7/V-72121.rst', 'doc/metadata/rhel7/V-72309.rst', 'doc/metadata/rhel7/V-72147.rst', 'doc/metadata/rhel7/V-72015.rst', 'doc/metadata/rhel7/V-72025.rst', 'doc/metadata/rhel7/V-72237.rst', 'doc/metadata/rhel7/V-72297.rst', 'doc/metadata/rhel7/V-72271.rst', 'doc/metadata/rhel7/V-71927.rst', 'doc/metadata/rhel7/V-72085.rst', 'tasks/rhel7stig/sshd.yml', 'doc/metadata/rhel7/V-72211.rst', 'doc/metadata/rhel7/V-72081.rst', 'tasks/rhel7stig/graphical.yml', 'doc/metadata/rhel7/V-71993.rst', 'doc/metadata/rhel7/V-71933.rst', 'doc/metadata/rhel7/V-72433.rst', 'doc/metadata/rhel7/V-72115.rst', 'doc/metadata/rhel7/V-72209.rst', 'doc/metadata/rhel7/V-72021.rst', 'doc/metadata/rhel7/V-72047.rst', 'doc/metadata/rhel7/V-72305.rst', 'doc/metadata/rhel7/V-72175.rst', 'doc/metadata/rhel7/V-72019.rst', 'doc/metadata/rhel7/V-72243.rst', 'doc/metadata/rhel7/V-71897.rst', 'doc/metadata/rhel7/V-72181.rst', 'doc/metadata/rhel7/V-72269.rst', 'doc/metadata/rhel7/V-71959.rst', 'doc/metadata/rhel7/V-72079.rst', 'doc/metadata/rhel7/RHEL-07-010070.rst', 'doc/metadata/rhel7/V-72053.rst']",296,b26117a8a4e689cee7091f509e81fae6731590dd,bug/1676865,id: V-72053,id: RHEL-07-021190,13099,11664
openstack%2Frpm-packaging~master~I12477ca637905dc24e6271778ff4bde250d938b9,openstack/rpm-packaging,master,I12477ca637905dc24e6271778ff4bde250d938b9,Update debtcollector to 1.13.0,MERGED,2017-04-03 20:21:25.000000000,2017-04-04 12:57:00.000000000,2017-04-04 12:48:13.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-04-03 20:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ca198e41d376264319b20c529a25889f637ae922', 'message': 'Update debtcollector to 1.13.0\n\nChange-Id: I12477ca637905dc24e6271778ff4bde250d938b9\nDepends-on: I97b4333b009af91308170cb5fc835afa3e0a74e3\n'}, {'number': 2, 'created': '2017-04-04 10:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/533bfe64a03c4bf5c6e5b77c83660ee24457ca96', 'message': 'Update debtcollector to 1.13.0\n\nChange-Id: I12477ca637905dc24e6271778ff4bde250d938b9\nDepends-on: I97b4333b009af91308170cb5fc835afa3e0a74e3\n'}, {'number': 3, 'created': '2017-04-04 10:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/22e3c35d97eb372224126e0df9e1563b00a41161', 'message': 'Update debtcollector to 1.13.0\n\nChange-Id: I12477ca637905dc24e6271778ff4bde250d938b9\nDepends-on: I97b4333b009af91308170cb5fc835afa3e0a74e3\n'}, {'number': 4, 'created': '2017-04-04 11:26:31.000000000', 'files': ['openstack/debtcollector/debtcollector.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fa709686e1cb452b14e493f1a0014ef1aa82eb82', 'message': 'Update debtcollector to 1.13.0\n\nChange-Id: I12477ca637905dc24e6271778ff4bde250d938b9\nDepends-on: I97b4333b009af91308170cb5fc835afa3e0a74e3\n'}]",0,452923,fa709686e1cb452b14e493f1a0014ef1aa82eb82,33,7,4,17130,,,0,"Update debtcollector to 1.13.0

Change-Id: I12477ca637905dc24e6271778ff4bde250d938b9
Depends-on: I97b4333b009af91308170cb5fc835afa3e0a74e3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/452923/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/debtcollector/debtcollector.spec.j2'],1,ca198e41d376264319b20c529a25889f637ae922,debtcollector,Version: 1.13.0,Version: 1.12.0,1,1
openstack%2Frpm-packaging~master~Ia3fd799e0b5bbd454988d3f81d0fe1d02af80a9a,openstack/rpm-packaging,master,Ia3fd799e0b5bbd454988d3f81d0fe1d02af80a9a,Update oslo.utils to 3.24.0,ABANDONED,2017-03-28 07:13:14.000000000,2017-04-04 12:53:39.000000000,,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-03-28 07:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/768f071113ef4fb50587e3eee58a013234a87152', 'message': 'Update oslo.utils to 3.24.0\n\nChange-Id: Ia3fd799e0b5bbd454988d3f81d0fe1d02af80a9a\nDepends-on: I64cb20daea9ab1a984df549d46257ae612068420\n'}, {'number': 2, 'created': '2017-03-28 16:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f0f1bd080e973037aac172cd2d5f3705b013bb3c', 'message': 'Update oslo.utils to 3.24.0\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: Ia3fd799e0b5bbd454988d3f81d0fe1d02af80a9a\nDepends-on: I64cb20daea9ab1a984df549d46257ae612068420\n'}, {'number': 3, 'created': '2017-03-29 06:53:27.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c5966e1cc72cb845ee5bcff20d3754d7cdc2995f', 'message': 'Update oslo.utils to 3.24.0\n\nCo-Authored-By: Thomas Bechtold <tbechtold@suse.com>\nChange-Id: Ia3fd799e0b5bbd454988d3f81d0fe1d02af80a9a\nDepends-on: I64cb20daea9ab1a984df549d46257ae612068420\n'}]",0,450592,c5966e1cc72cb845ee5bcff20d3754d7cdc2995f,27,7,3,17130,,,0,"Update oslo.utils to 3.24.0

Co-Authored-By: Thomas Bechtold <tbechtold@suse.com>
Change-Id: Ia3fd799e0b5bbd454988d3f81d0fe1d02af80a9a
Depends-on: I64cb20daea9ab1a984df549d46257ae612068420
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/92/450592/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,768f071113ef4fb50587e3eee58a013234a87152,oslo-utils,Version: 3.24.0,Version: 3.23.0,1,1
openstack%2Frpm-packaging~master~I09bb4654f132c1673d62916cdba4d62d07edc707,openstack/rpm-packaging,master,I09bb4654f132c1673d62916cdba4d62d07edc707,Update oslo.service to 1.21.0,ABANDONED,2017-03-28 07:17:28.000000000,2017-04-04 12:52:50.000000000,,"[{'_account_id': 3}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-03-28 07:17:28.000000000', 'files': ['openstack/oslo.service/oslo.service.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/423c07d5c02c5cbce746b735cb9c7572f7407c8c', 'message': 'Update oslo.service to 1.21.0\n\nChange-Id: I09bb4654f132c1673d62916cdba4d62d07edc707\nDepends-on: Ie36836ba75f019ce1b5a30ac6ad4c66b62d9be00\n'}]",0,450594,423c07d5c02c5cbce746b735cb9c7572f7407c8c,12,5,1,17130,,,0,"Update oslo.service to 1.21.0

Change-Id: I09bb4654f132c1673d62916cdba4d62d07edc707
Depends-on: Ie36836ba75f019ce1b5a30ac6ad4c66b62d9be00
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/450594/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.service/oslo.service.spec.j2'],1,423c07d5c02c5cbce746b735cb9c7572f7407c8c,oslo-service,Version: 1.21.0,Version: 1.20.0,1,1
openstack%2Fnova-specs~master~I28b93c6f127fa6f65acac2827c3cdadbe8d38068,openstack/nova-specs,master,I28b93c6f127fa6f65acac2827c3cdadbe8d38068,"Fix typos in server-count-api.rst,etc",MERGED,2016-12-22 05:44:09.000000000,2017-04-04 12:51:21.000000000,2017-04-04 12:51:21.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 25173}]","[{'number': 1, 'created': '2016-12-22 05:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d91dfe826a804f6ab41d4f705b1d15e35b501cfd', 'message': 'Fix a typo in server-count-api.rst,etc\n\nTrivialFix\n\nChange-Id: I28b93c6f127fa6f65acac2827c3cdadbe8d38068\n'}, {'number': 2, 'created': '2017-03-10 01:41:57.000000000', 'files': ['specs/newton/implemented/libvirt-vzstorage-volume-support.rst', 'specs/kilo/implemented/libvirt-smbfs-volume-support.rst', 'specs/juno/approved/server-count-api.rst', 'specs/kilo/implemented/quobyte-nova-driver.rst', 'specs/mitaka/approved/libvirt-vzstorage-volume-support.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ce0fa97fb71a0a081a6385c14f1799589d52d4fe', 'message': 'Fix typos in server-count-api.rst,etc\n\nTrivialFix\n\nChange-Id: I28b93c6f127fa6f65acac2827c3cdadbe8d38068\n'}]",3,413916,ce0fa97fb71a0a081a6385c14f1799589d52d4fe,12,6,2,22484,,,0,"Fix typos in server-count-api.rst,etc

TrivialFix

Change-Id: I28b93c6f127fa6f65acac2827c3cdadbe8d38068
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/16/413916/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/newton/implemented/libvirt-vzstorage-volume-support.rst', 'specs/kilo/implemented/libvirt-smbfs-volume-support.rst', 'specs/juno/approved/server-count-api.rst', 'specs/kilo/implemented/quobyte-nova-driver.rst', 'specs/mitaka/approved/libvirt-vzstorage-volume-support.rst']",5,d91dfe826a804f6ab41d4f705b1d15e35b501cfd,,located on Virtuozzo Storage. The volume driver will have a similar workflow,located on Virtuozzo Storage. The volume driver will have a similiar workflow,6,6
openstack%2Fcloudkitty-dashboard~master~I4f4241dd9d8e58c740d9fd5f6e4ec9234849c72b,openstack/cloudkitty-dashboard,master,I4f4241dd9d8e58c740d9fd5f6e4ec9234849c72b,Setup cloudkitty-dashboard to get ready for translation,ABANDONED,2017-02-15 13:34:51.000000000,2017-04-04 12:48:18.000000000,,"[{'_account_id': 3}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 18898}, {'_account_id': 21387}, {'_account_id': 23173}, {'_account_id': 25134}]","[{'number': 1, 'created': '2017-02-15 13:34:51.000000000', 'files': ['babel-django.cfg', 'babel-djangojs.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/21db435c19293a89c57295de252fd935fef54559', 'message': 'Setup cloudkitty-dashboard to get ready for translation\n\nChange-Id: I4f4241dd9d8e58c740d9fd5f6e4ec9234849c72b\n'}]",0,434275,21db435c19293a89c57295de252fd935fef54559,5,7,1,21797,,,0,"Setup cloudkitty-dashboard to get ready for translation

Change-Id: I4f4241dd9d8e58c740d9fd5f6e4ec9234849c72b
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/75/434275/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel-django.cfg', 'babel-djangojs.cfg']",2,21db435c19293a89c57295de252fd935fef54559,translate,[extractors] # We use a custom extractor to find translatable strings in AngularJS # templates. The extractor is included in horizon.utils for now. # See http://babel.pocoo.org/docs/messages/#referencing-extraction-methods for # details on how this works. angular = horizon.utils.babel_extract_angular:extract_angular [javascript: **.js] # We need to look into all static folders for HTML files. # The **/static ensures that we also search within # .../dashboards/XYZ/static which will ensure # that plugins are also translated. [angular: **/static/**.html] ,,20,0
openstack%2Fproject-config~master~I62fe4cda1f9f8565dbe3ee18efdebb10e0692fd6,openstack/project-config,master,I62fe4cda1f9f8565dbe3ee18efdebb10e0692fd6,Setup translation job for cloudkitty-dashboard,ABANDONED,2017-02-15 10:08:30.000000000,2017-04-04 12:47:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2376}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 14482}, {'_account_id': 21797}, {'_account_id': 23173}]","[{'number': 1, 'created': '2017-02-15 10:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a5d72b5613e25732173d1ed44ca20164a7a461ad', 'message': 'Setup translation job for cloudkitty-dashboard\n\nChange-Id: I62fe4cda1f9f8565dbe3ee18efdebb10e0692fd6\n'}, {'number': 2, 'created': '2017-02-15 15:00:45.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e8360c3b3d9953dbce3d3a548f8b332cdc49ca45', 'message': 'Setup translation job for cloudkitty-dashboard\n\nChange-Id: I62fe4cda1f9f8565dbe3ee18efdebb10e0692fd6\nDepends-On: I4f4241dd9d8e58c740d9fd5f6e4ec9234849c72b\n'}]",0,434192,e8360c3b3d9953dbce3d3a548f8b332cdc49ca45,14,8,2,21797,,,0,"Setup translation job for cloudkitty-dashboard

Change-Id: I62fe4cda1f9f8565dbe3ee18efdebb10e0692fd6
Depends-On: I4f4241dd9d8e58c740d9fd5f6e4ec9234849c72b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/434192/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",3,a5d72b5613e25732173d1ed44ca20164a7a461ad,ck-dashboard-translate, - name: translation-jobs,,4,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fnewton~I318700582a65cc1ea6571d9460fd58bed949a4e9,openstack/openstack-ansible-os_keystone,stable/newton,I318700582a65cc1ea6571d9460fd58bed949a4e9,Allow the split of install and config,MERGED,2017-04-04 10:05:19.000000000,2017-04-04 12:46:59.000000000,2017-04-04 12:46:59.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-04-04 10:05:19.000000000', 'files': ['tasks/main.yml', 'tasks/keystone_db_setup.yml', 'tasks/keystone_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0e6df79ed81d1d392bbf0414bc2e96c1c83ca8af', 'message': 'Allow the split of install and config\n\nIf keystone install is done separately from the config (filtering\nor interruption), a re-run of the role will not mark the venv\nas changed, and the db sync will not trigger.\n\nHere we force a flush on file next to the venv change, and use\nthis file (local fact) as a way to know if a db sync is required.\n\nWhen a dbsync is considered done, i.e after the expand and migrate\nstages, we mark the db_migrate as done for all the nodes.\n\nChange-Id: I318700582a65cc1ea6571d9460fd58bed949a4e9\n(manually cherry picked from commit cee7a02143a1826479e6444c6fb5f1c2b6074ab7)\n'}]",0,453092,0e6df79ed81d1d392bbf0414bc2e96c1c83ca8af,7,3,1,17068,,,0,"Allow the split of install and config

If keystone install is done separately from the config (filtering
or interruption), a re-run of the role will not mark the venv
as changed, and the db sync will not trigger.

Here we force a flush on file next to the venv change, and use
this file (local fact) as a way to know if a db sync is required.

When a dbsync is considered done, i.e after the expand and migrate
stages, we mark the db_migrate as done for all the nodes.

Change-Id: I318700582a65cc1ea6571d9460fd58bed949a4e9
(manually cherry picked from commit cee7a02143a1826479e6444c6fb5f1c2b6074ab7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/92/453092/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/keystone_db_setup.yml', 'tasks/keystone_install.yml']",3,0e6df79ed81d1d392bbf0414bc2e96c1c83ca8af,cannot-run-install-and-then-update, - name: Record the need for a db sync ini_file: dest: /etc/ansible/facts.d/keystone.fact section: general option: need_db_sync value: True when: keystone_get_venv | changed or keystone_venv_dir | changed or install_packages | changed,,28,3
openstack%2Fnova-specs~master~I6f6e6951ecbfb163df7295063a25f2cf4034beb8,openstack/nova-specs,master,I6f6e6951ecbfb163df7295063a25f2cf4034beb8,TinyFix: Changed type of CPU ID from 'String' to 'Integer' in diagnostics spec,MERGED,2017-03-15 10:05:25.000000000,2017-04-04 12:46:13.000000000,2017-04-04 12:46:13.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9569}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-03-15 10:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b0b34afa435b2d6c8c075de7473a5bb9de8cc2d6', 'message': ""TinyFix: Changed type of CPU ID from 'String' to 'Integer' in diagnostics spec\n\nDuring implementation I figure out that hypervisors returns\nCPU IDs as integer. Also it's more obvious to have integer IDs\nfor CPU cores (like 0,1,2,3...)\n\nChange-Id: I6f6e6951ecbfb163df7295063a25f2cf4034beb8\nblueprint: restore-vm-diagnostics\n""}, {'number': 2, 'created': '2017-04-04 07:09:45.000000000', 'files': ['specs/pike/approved/restore-vm-diagnostics.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a1aaf5d41c86373300113d65e6f68b85d058b31e', 'message': ""TinyFix: Changed type of CPU ID from 'String' to 'Integer' in diagnostics spec\n\nDuring implementation I figure out that hypervisors returns\nCPU IDs as integer. Also it's more obvious to have integer IDs\nfor CPU cores (like 0,1,2,3...)\n\nblueprint: restore-vm-diagnostics\n\nChange-Id: I6f6e6951ecbfb163df7295063a25f2cf4034beb8\n""}]",3,445855,a1aaf5d41c86373300113d65e6f68b85d058b31e,24,9,2,9569,,,0,"TinyFix: Changed type of CPU ID from 'String' to 'Integer' in diagnostics spec

During implementation I figure out that hypervisors returns
CPU IDs as integer. Also it's more obvious to have integer IDs
for CPU cores (like 0,1,2,3...)

blueprint: restore-vm-diagnostics

Change-Id: I6f6e6951ecbfb163df7295063a25f2cf4034beb8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/55/445855/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/restore-vm-diagnostics.rst'],1,b0b34afa435b2d6c8c075de7473a5bb9de8cc2d6,bp/restore-vm-diagnostics,"| id | CPU ID (Integer) | 'cpu_details': [{'id': 0,","| id | CPU ID (String) | 'cpu_details': [{'id': '0',",2,2
openstack%2Fi18n~master~I40b1a5fd7a4b85ae34496042d75b74c7a518dc76,openstack/i18n,master,I40b1a5fd7a4b85ae34496042d75b74c7a518dc76,added helper script,ABANDONED,2017-02-23 16:46:30.000000000,2017-04-04 12:45:15.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 14482}, {'_account_id': 17907}]","[{'number': 1, 'created': '2017-02-23 16:46:30.000000000', 'files': ['tools/zanata/zanata_edit_helper.sh'], 'web_link': 'https://opendev.org/openstack/i18n/commit/dc92a858058c80d4f3da53a4f8273afbbdcd8c7a', 'message': 'added helper script\n\nChange-Id: I40b1a5fd7a4b85ae34496042d75b74c7a518dc76\n'}]",5,437520,dc92a858058c80d4f3da53a4f8273afbbdcd8c7a,8,4,1,17907,,,0,"added helper script

Change-Id: I40b1a5fd7a4b85ae34496042d75b74c7a518dc76
",git fetch https://review.opendev.org/openstack/i18n refs/changes/20/437520/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/zanata/zanata_edit_helper.sh'],1,dc92a858058c80d4f3da53a4f8273afbbdcd8c7a,,"#!/bin/bash # # simple shellscript to quickly point the browser to Zanata # and (more or less) directly to the to be edited string. # base URL is the URL in Zanata after the editor is started # and no search issued. There will be issues as the URL encoding # only does spaces, needs improvement but works for me. # # rsimai@suse.com echo -n ""base URL: "" read URL while true; do echo -n ""search: "" read in in=$(sed 's/ /%20/g' <<< $in) chromium ""$URL;search:$in"" >/dev/null done ",,20,0
openstack%2Ftripleo-quickstart~master~I5416172759131dea52a19704771839c84ed787df,openstack/tripleo-quickstart,master,I5416172759131dea52a19704771839c84ed787df,WIP gate upgrade,ABANDONED,2016-07-14 12:57:29.000000000,2017-04-04 12:45:14.000000000,,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-07-14 12:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5cc43359d66b57f3c53d92bd2549b7f560274b71', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 2, 'created': '2016-07-14 14:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/991125a575587e09dbfbe026e461f656826d8c4e', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 3, 'created': '2016-07-14 17:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2f4ed24acb2cf0e7ae065c0d73de68648c155fd1', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 4, 'created': '2016-07-15 10:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/79fc8af503d2a3abc49bf651cf5f63cd9db9f2f3', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 5, 'created': '2016-07-15 11:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d2f137d961b3abbea0b8acea1184248509ea62fc', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 6, 'created': '2016-07-15 12:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/12842cf5f2909d3bbd0732d4e6276fc54ad36f29', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 7, 'created': '2016-07-15 14:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0069a0fbf579ee9b73f5fea620de039b88fa25a6', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 8, 'created': '2016-07-15 14:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/001cc029713138b53a6d86b1385e071477b9bef1', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 9, 'created': '2016-07-15 18:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/471b9824d5df5bc3365183094320849f61885c40', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 10, 'created': '2016-07-15 19:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8fabbe17aeee6849c77e487109c9631f3ff2c79e', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 11, 'created': '2016-07-16 07:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/026ba4bb6807cf1fd6f6ca156619a2a21e0ede74', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 12, 'created': '2016-07-16 08:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0c75fbf4f0ad6678509cc3c1b8c54bc3531254d7', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 13, 'created': '2016-07-19 10:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d81baf51b61bd0d960a3cbfba2a898dd2557d1d4', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 14, 'created': '2016-07-19 11:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5137e8a83ce268186587a7d45ad1b7a4f84819a9', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 15, 'created': '2016-07-19 16:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c93d5b6284d2f2bd1b3e1ae14bdad1cf0e038f94', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 16, 'created': '2016-07-20 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/19cf99b6bddb9f29e0bd54a2e7c037feeeb59280', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 17, 'created': '2016-07-20 15:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f8b20b959a8b19c5b100d4b2018c6f8fa89b70bb', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 18, 'created': '2016-07-20 15:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aa1a69403d116bac558e1e76637340a82ceb11bf', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 19, 'created': '2016-07-21 07:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/58d65d0e1efe51e4388f2c07005aa1db8125d68b', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 20, 'created': '2016-07-21 10:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e17a3c91e451326a647362278bb99a4f59d1803c', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 21, 'created': '2016-07-21 13:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f6d28aaa47a188f55012cc38ed201d81566acb94', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 22, 'created': '2016-07-22 07:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/60c0bf75541b5d7e39e1662bcbb8b98a3e23fe09', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 23, 'created': '2016-07-22 08:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ccdc405b887a18243e7f7388908a94207ba144df', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 24, 'created': '2016-07-22 12:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c3e56f3b77b0ef0c2ec346f8d8941c76c194609a', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 25, 'created': '2016-07-26 14:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/945d1aef9223183490b387aefa402b0546e16257', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 26, 'created': '2016-07-29 08:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/10761c698cd8a3a3fa246a756b650133004646db', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 27, 'created': '2016-07-30 09:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/252e0190b7b22bf802282b5bd76d40fa4ef04fca', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 28, 'created': '2016-07-30 09:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b6698ff1b0b8b3c8697f5777d57486afd5ed3151', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 29, 'created': '2016-08-01 13:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ef12d7f07b38caf4e5fe0ef1c3be8e7023082f11', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 30, 'created': '2016-08-01 14:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/74dc5492b35df552557ec6a5a262604eebdb9a70', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 31, 'created': '2016-08-01 15:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d7b31ff38673ec1410fee07246b41030d023d282', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 32, 'created': '2016-08-25 15:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/229394b45b19f884dac5f2a3c632316dc210a9d6', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 33, 'created': '2016-09-06 07:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/10fc499cb269807074d77ad971270340e60ffb76', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 34, 'created': '2016-09-15 07:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/30263e830a65c9e76842a1d7cab0958dae8a4d93', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 35, 'created': '2016-09-18 13:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/87a3b71f307cfc34f9bf26d98e8cbd319e6af412', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 36, 'created': '2016-09-19 07:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/55eb76feb573a4aa2f3913dfcc1349035c663d11', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 37, 'created': '2016-10-05 06:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f291889661addd391a3d2d18992f0e2c29515540', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 38, 'created': '2016-10-05 12:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/22da32b040e5c9e9b9de008e7fe9b85fcfb41397', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 39, 'created': '2016-10-12 13:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/932f1bc34e3e4527ce12ff818279d9347ef67d3b', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 40, 'created': '2016-10-13 06:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/12398690ea27a708086e4e0c68510276356a3474', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 41, 'created': '2016-10-13 14:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1f4e1c18aa1250475036ea1a101f2ad770c2de18', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}, {'number': 42, 'created': '2016-10-27 08:13:04.000000000', 'files': ['ci-scripts/gate-upgrade.sh', 'playbooks/gate-upgrade.yml', 'ansible_ssh_env.sh', 'quickstart.sh', 'roles/libvirt/setup/undercloud/tasks/inject_gating_repo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ab70fb1ec7dc3961c59b2b2b4295a0e9d022a2a3', 'message': 'WIP gate upgrade\n\nChange-Id: I5416172759131dea52a19704771839c84ed787df\n'}]",9,342161,ab70fb1ec7dc3961c59b2b2b4295a0e9d022a2a3,141,6,42,15895,,,0,"WIP gate upgrade

Change-Id: I5416172759131dea52a19704771839c84ed787df
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/61/342161/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci-scripts/gate-upgrade.sh', 'playbooks/gate-upgrade.yml']",2,5cc43359d66b57f3c53d92bd2549b7f560274b71,gate_upgrade,--- - include: tripleo-roles.yml - name: Enable gating repo hosts: undercloud:overcloud gather_facts: false sudo: true tasks: - name: enable gating repo shell: | sed -i 's/enabled=0/enabled=1/' /etc/yum.repos.d/gating.repo - name: Upgrade Tripleo hosts: undercloud gather_facts: no roles: - { role: tripleo-overcloud-upgrade } ,,88,0
openstack%2Ftripleo-quickstart~master~I8b7b0b1b96b8e9bc53eeca27484c998e55a8d29b,openstack/tripleo-quickstart,master,I8b7b0b1b96b8e9bc53eeca27484c998e55a8d29b,add a config for a keystone-only overcloud deployment,ABANDONED,2016-11-16 14:18:40.000000000,2017-04-04 12:43:50.000000000,,"[{'_account_id': 3}, {'_account_id': 10022}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-11-16 14:18:40.000000000', 'files': ['config/general_config/keystone-only.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/75c40d60f19bcc8b3d85ff4f2322b967107f846e', 'message': 'add a config for a keystone-only overcloud deployment\n\nThis will enable a composable services deployment of\nthe overcloud with keystone only.\n\nDepends-On: I09bcc106299b1807b26bd4a56553333c7e966e4e@gerrithub\n\nChange-Id: I8b7b0b1b96b8e9bc53eeca27484c998e55a8d29b\n'}]",2,398375,75c40d60f19bcc8b3d85ff4f2322b967107f846e,5,3,1,9592,,,0,"add a config for a keystone-only overcloud deployment

This will enable a composable services deployment of
the overcloud with keystone only.

Depends-On: I09bcc106299b1807b26bd4a56553333c7e966e4e@gerrithub

Change-Id: I8b7b0b1b96b8e9bc53eeca27484c998e55a8d29b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/75/398375/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/keystone-only.yml'],1,75c40d60f19bcc8b3d85ff4f2322b967107f846e,,"# We run tempest in this topology instead of ping test. # We set introspection to true and use only the minimal amount of nodes # for this job, but test all defaults otherwise. step_introspect: true # Define a single controller node and a single compute node. overcloud_nodes: - name: control_0 flavor: control - name: compute_0 flavor: compute # Tell tripleo how we want things done. extra_args: >- -e keystone_only.yaml network_isolation: false # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: false # This enables the deployment of the overcloud with SSL. ssl_overcloud: false # This enables a composable deployment with only keystone installed on the controller composable_keyston_only: true # If `test_tempest` is `true`, run tempests tests, otherwise do not # run them. test_ping: false run_tempest: false tempest_workers: 4 # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-install - overcloud-custom-tht-script - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-install - overcloud-custom-tht-script - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate ",,59,0
openstack%2Ftripleo-ci~master~I907440a8ecc977e1770a6ecfbb26f23363d3c8ae,openstack/tripleo-ci,master,I907440a8ecc977e1770a6ecfbb26f23363d3c8ae,POC DO NOT MERGE: Add virt-setup option to tripleo.sh,ABANDONED,2016-09-16 14:39:49.000000000,2017-04-04 12:43:03.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 12715}]","[{'number': 1, 'created': '2016-09-16 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cce770dc7b6632c2e63f9b60837c5f1f678b3e7d', 'message': 'POC DO NOT MERGE: Add virt-setup option to tripleo.sh\n\nThere is now a ""developer mode"" in tripleo-quickstart, which will\nuse the overcloud-full.qcow2 produced by tripleo-ci as an undercloud\nimage. This is a POC of how we could use tripleo.sh on a virthost to\nkick off this mode of tripleo-quickstart.\n\nAt the end of running `tripleo.sh --virt-setup` on a virthost the user\nwould have a running and installed undercloud VM as well as all of the\novercloud VMs. The user would also have tripleo-ci cloned on the\nundercloud and could use tripleo.sh to proceed with the remaining steps.\n\nTODO:\n\n  - clone tripleo-ci on the undercloud either in the virt-setup function\n    or in tripleo-quickstart devmode code\n  - turn the relevant options to quickstart.sh into ENV variables\n  - add ability to inject dlrn built packages into undercloud/overcloud\n    prior to booting undercloud VM (this functionality exists in an\n    ansible role outside of the tripleo-quickstart tree).\n\nChange-Id: I907440a8ecc977e1770a6ecfbb26f23363d3c8ae\n'}, {'number': 2, 'created': '2016-09-21 12:51:24.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cc660e408a3daf589926428fe7f2d2109429efb7', 'message': 'POC DO NOT MERGE: Add virt-setup option to tripleo.sh\n\nThere is now a ""developer mode"" in tripleo-quickstart, which will\nuse the overcloud-full.qcow2 produced by tripleo-ci as an undercloud\nimage. This is a POC of how we could use tripleo.sh on a virthost to\nkick off this mode of tripleo-quickstart.\n\nAt the end of running `tripleo.sh --virt-setup` on a virthost the user\nwould have a running and installed undercloud VM as well as all of the\novercloud VMs. The user would also have a ""complete_deploy"" script on\nthe undercloud, that will complete the deploy using deploy.sh from\ntripleo-ci. This script would take the job name that is being reproduced,\nand run exactly what is ran in CI.\n\nTODO:\n\n  - add ability to inject dlrn built packages into undercloud/overcloud\n    prior to booting undercloud VM (this functionality exists in an\n    ansible role outside of the tripleo-quickstart tree).\n  - lots of cleanup is needed as deploy.sh is not designed for consumption\n    outside of tripleo-ci, though it does seem feasible to make it so.\n\nDepends-On: I00b50aa62768af010d887e5bf88d8e97a6c762fa\nChange-Id: I907440a8ecc977e1770a6ecfbb26f23363d3c8ae\n'}]",2,371587,cc660e408a3daf589926428fe7f2d2109429efb7,9,4,2,12715,,,0,"POC DO NOT MERGE: Add virt-setup option to tripleo.sh

There is now a ""developer mode"" in tripleo-quickstart, which will
use the overcloud-full.qcow2 produced by tripleo-ci as an undercloud
image. This is a POC of how we could use tripleo.sh on a virthost to
kick off this mode of tripleo-quickstart.

At the end of running `tripleo.sh --virt-setup` on a virthost the user
would have a running and installed undercloud VM as well as all of the
overcloud VMs. The user would also have a ""complete_deploy"" script on
the undercloud, that will complete the deploy using deploy.sh from
tripleo-ci. This script would take the job name that is being reproduced,
and run exactly what is ran in CI.

TODO:

  - add ability to inject dlrn built packages into undercloud/overcloud
    prior to booting undercloud VM (this functionality exists in an
    ansible role outside of the tripleo-quickstart tree).
  - lots of cleanup is needed as deploy.sh is not designed for consumption
    outside of tripleo-ci, though it does seem feasible to make it so.

Depends-On: I00b50aa62768af010d887e5bf88d8e97a6c762fa
Change-Id: I907440a8ecc977e1770a6ecfbb26f23363d3c8ae
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/371587/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,cce770dc7b6632c2e63f9b60837c5f1f678b3e7d,oooq-devmode," echo "" --virt-setup -- Setup undercloud and overcloud VMs and install the undercloud."" -l,help,repo-setup,delorean-setup,delorean-build,virt-setup,multinode-setup,bootstrap-subnodes,undercloud,overcloud-images,register-nodes,introspect-nodes,overcloud-deploy,overcloud-update,overcloud-delete,use-containers,overcloud-pingtest,undercloud-upgrade,skip-pingtest-cleanup,all,enable-check,run-tempest \VIRT_SETUP=${VIRT_SETUP:=""""} --virt-setup) VIRT_SETUP=""1""; shift 1;;function virt_setup { if [ ! -f ~/.ssh/id_rsa.pub ]; then ssh-keygen -q -f ~/.ssh/id_rsa -N """" fi cat ~/.ssh/id_rsa.pub | sudo tee -a /root/.ssh/authorized_keys if [ ! -d ~/tripleo-quickstart ]; then git clone https://git.openstack.org/openstack/tripleo-quickstart ~/tripleo-quickstart fi pushd ~/tripleo-quickstart bash quickstart.sh --install-deps bash quickstart.sh \ --no-clone \ --clean \ --tags all \ --config config/general_config/minimal_pacemaker.yml \ --teardown all \ --release master-tripleo-ci \ 127.0.0.2 popd } if [ ""$VIRT_SETUP"" = 1 ]; then virt_setup fi "," -l,help,repo-setup,delorean-setup,delorean-build,multinode-setup,bootstrap-subnodes,undercloud,overcloud-images,register-nodes,introspect-nodes,overcloud-deploy,overcloud-update,overcloud-delete,use-containers,overcloud-pingtest,undercloud-upgrade,skip-pingtest-cleanup,all,enable-check,run-tempest \",37,1
openstack%2Fnova-specs~master~I455bcd5bbe761fa73c4745227567a98b1106e672,openstack/nova-specs,master,I455bcd5bbe761fa73c4745227567a98b1106e672,WIP: API: rework security group APIs,ABANDONED,2016-10-05 13:34:57.000000000,2017-04-04 12:42:56.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 19590}]","[{'number': 1, 'created': '2016-10-05 13:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ce324b745a3266ae3831a8a44adac82047e686e2', 'message': ""WIP: API: rework security group APIs\n\nThe current security group APIs don't work well with Neutron.\nThis spec fixes that problem, and deprecates the older APIs.\n\nblueprint api-security-group-rework\n\nChange-Id: I455bcd5bbe761fa73c4745227567a98b1106e672\n""}, {'number': 2, 'created': '2016-10-06 14:41:16.000000000', 'files': ['specs/ocata/approved/api-secuirty-group-rework.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3800ed74edf2bd6ccd3c72fa5acdeece89e826c8', 'message': ""WIP: API: rework security group APIs\n\nThe current security group APIs don't work well with Neutron.\nThis spec fixes that problem, and deprecates the older APIs.\n\nblueprint api-security-group-rework\n\nChange-Id: I455bcd5bbe761fa73c4745227567a98b1106e672\n""}]",2,382414,3800ed74edf2bd6ccd3c72fa5acdeece89e826c8,7,6,2,782,,,0,"WIP: API: rework security group APIs

The current security group APIs don't work well with Neutron.
This spec fixes that problem, and deprecates the older APIs.

blueprint api-security-group-rework

Change-Id: I455bcd5bbe761fa73c4745227567a98b1106e672
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/14/382414/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/api-secuirty-group-rework.rst'],1,ce324b745a3266ae3831a8a44adac82047e686e2,bp/api-security-group-rework,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Rework nova's security group APIs ================================= https://blueprints.launchpad.net/nova/+spec/api-security-group-rework The current security group APIs were written for nova-network and not Neutron. This spec looks at the changes to support Neutron security groups as a first class citizen. Problem description =================== In Neutron security groups are attached per port. In nova-network security groups are attached per server. The current Nova APIs attempt to hide these differences, with only a limited amount of success. Given we have now deprecated nova-network, we can focus on APIs that work best only with Neutron. If the new APIs are used with nova-network, they will return a 400 error. It is hoped nova-network support will be removed before these patches land, so there will be no need to worry about that detail. Use Cases --------- * User creates their own port, sets up security groups outside Nova. This is then added during boot (or hot plugged later on). * Nova creates a port for the user, on a specified network. To ensure the server is protected from the moment it boots up, the users specifies the security group uuid that the port should belong to. Proposed change =============== First, we will remove all existing security group APIs: * Alternatives ------------ We could just remove the existing API support, and force users that want security groups setup to only talk with Neutron. But forcing that route leads to a poor user experience. Data model impact ----------------- No DB model change. NetworkRequest object changes... REST API impact --------------- TODO Security impact --------------- Should lead to less confusion around how to use Security Groups with Neutron. Notifications impact -------------------- None. Other end user impact --------------------- We will need to update python-novaclient to support something like::: nova boot --nic net-id=uuid_net1 security-group=db --nic ned-id=uuid_net2 security-group=api --flavor 1 --image test-image test-server Also we will deprecate the following commands: * TODO Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: johnthetubaguy Other contributors: OSIC team Work Items ---------- * Deprecate old security group in new microversion * Add ability to specify security group on a port at boot time * Update python-novaclient to match API changes Dependencies ============ None. Testing ======= Must add a new tempest test for the new API, that will be run in the Neutron based gate jobs. Documentation Impact ==================== Update the api-ref to describe the API changes. References ========== * Previous discussion: https://review.openstack.org/#/c/301372 History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Introduced ",,160,0
openstack%2Fnova-specs~master~Ie9be793135df7ef825b8593dfa5e9ae8db00b381,openstack/nova-specs,master,Ie9be793135df7ef825b8593dfa5e9ae8db00b381,Extend tag length limit to 80,ABANDONED,2017-01-20 07:57:22.000000000,2017-04-04 12:42:09.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 8864}, {'_account_id': 9569}, {'_account_id': 9610}, {'_account_id': 15334}, {'_account_id': 15888}]","[{'number': 1, 'created': '2017-01-20 07:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e4b1fbff216da5ccc8cb3dadbba9cd76b65b4745', 'message': 'Extend tag length limit to 80\n\nAdd a new microversion for tag related API to Extend tag length limit from\n60 to 80 so that the API layer limit is the same as in DB.\n\nChange-Id: Ie9be793135df7ef825b8593dfa5e9ae8db00b381\nBlueprint: extend-tag-len-limit-to-80\n'}, {'number': 2, 'created': '2017-02-06 01:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3975345d782efb2696795b3e855e4438ee5f3f11', 'message': 'Extend tag length limit to 80\n\nAdd a new microversion for tag related API to Extend tag length limit from\n60 to 80 so that the API layer limit is the same as in DB.\n\nChange-Id: Ie9be793135df7ef825b8593dfa5e9ae8db00b381\nBlueprint: extend-tag-len-limit-to-80\n'}, {'number': 3, 'created': '2017-02-06 08:53:03.000000000', 'files': ['specs/pike/approved/extend-tag-len-limit-to-80.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2c653f6873fe9fc9fc01041657d6dd6ebe020e96', 'message': 'Extend tag length limit to 80\n\nAdd a new microversion for tag related API to Extend tag length limit from\n60 to 80 so that the API layer limit is the same as in DB.\n\nChange-Id: Ie9be793135df7ef825b8593dfa5e9ae8db00b381\nBlueprint: extend-tag-len-limit-to-80\n'}]",2,423112,2c653f6873fe9fc9fc01041657d6dd6ebe020e96,16,7,3,15888,,,0,"Extend tag length limit to 80

Add a new microversion for tag related API to Extend tag length limit from
60 to 80 so that the API layer limit is the same as in DB.

Change-Id: Ie9be793135df7ef825b8593dfa5e9ae8db00b381
Blueprint: extend-tag-len-limit-to-80
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/12/423112/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/extend-tag-len-limit-to-80.rst'],1,e4b1fbff216da5ccc8cb3dadbba9cd76b65b4745,bp/extend-tag-len-limit-to-80,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Extend tag length limit to 80 ============================= https://blueprints.launchpad.net/nova/+spec/extend-tag-len-limit-to-80 Add a new microversion for tag related API to Extend tag length limit from 60 to 80 so that the API layer limit is the same as in DB. Problem description =================== When instance tags were introduced, it was designed to have a length limit of 60 [1]_ . But while implementing, the API layer length limit was set to 60 according to the design but the limit in DB model was set to 80. This inconsistent may confuse the cloud administrator. Use Cases --------- Extend the tag length limit in API layer from 60 to 80 will eliminate the inconsistency between API and DB layer. Cloud user will also welcome longer tags. Proposed change =============== Add a new microversion in tags related API to extend api layer tag length limit from 60 to 80. Alternatives ------------ Keep the current inconsistency implementation. Data model impact ----------------- None REST API impact --------------- A new microversion will be added for ``os-server-tags`` update and update_all API, the tag length limit updated from requests with a microversion latter than this microversion will be extend to 80. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The instance tag length limit will be 80 if the provided API request is latter than the API microversion added in this BP. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Zhenyu Zheng Work Items ---------- 1. Add new microversion to extend tag length limit from 60 to 80 in API layer. 2. Add docs about the change. 3. Add related tests. Dependencies ============ None Testing ======= Add unit test and functional test for new API microversion Documentation Impact ==================== Docs will be modified about the limit change References ========== 1 http://specs.openstack.org/openstack/nova-specs/specs/kilo/approved/tag-instances.html History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,140,0
openstack%2Ftripleo-quickstart~master~I00b50aa62768af010d887e5bf88d8e97a6c762fa,openstack/tripleo-quickstart,master,I00b50aa62768af010d887e5bf88d8e97a6c762fa,POC DO NOT MERGE Make oooq able to reproduce tripleo-ci jobs exactly,ABANDONED,2016-09-21 12:50:13.000000000,2017-04-04 12:42:02.000000000,,"[{'_account_id': 3}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-09-21 12:50:13.000000000', 'files': ['roles/libvirt/setup/undercloud/templates/convert_image.sh.j2', 'roles/libvirt/setup/undercloud/templates/complete_deploy.sh.j2', 'roles/libvirt/setup/undercloud/tasks/convert_image.yml', 'roles/common/defaults/main.yml', 'config/general_config/tripleo-ci/nonha.yml', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7630909ed0a985f69b628615642d3f6eae2f6de6', 'message': 'POC DO NOT MERGE Make oooq able to reproduce tripleo-ci jobs exactly\n\nThis will eventually need to be split into multiple discrete changes.\nIt contains all of the changes needed to make the tripleo-ci POC[1] work\nwith quickstart.\n\n[1] https://review.openstack.org/#/c/371587/\n\nChange-Id: I00b50aa62768af010d887e5bf88d8e97a6c762fa\n'}]",0,374116,7630909ed0a985f69b628615642d3f6eae2f6de6,5,2,1,12715,,,0,"POC DO NOT MERGE Make oooq able to reproduce tripleo-ci jobs exactly

This will eventually need to be split into multiple discrete changes.
It contains all of the changes needed to make the tripleo-ci POC[1] work
with quickstart.

[1] https://review.openstack.org/#/c/371587/

Change-Id: I00b50aa62768af010d887e5bf88d8e97a6c762fa
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/16/374116/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/libvirt/setup/undercloud/templates/convert_image.sh.j2', 'roles/libvirt/setup/undercloud/templates/complete_deploy.sh.j2', 'roles/libvirt/setup/undercloud/tasks/convert_image.yml', 'roles/common/defaults/main.yml', 'config/general_config/tripleo-ci/nonha.yml', 'quickstart.sh']",6,7630909ed0a985f69b628615642d3f6eae2f6de6,oooq-devmode,"# This will print instructions to follow docs starting with post undercloud # install steps. if ! [[ ""overcloud-deploy"" =~ .*$OPT_TAGS.* ]] && [[ $OPT_PLAYBOOK == quickstart.yml ]] && ! [[ $OPT_RELEASE == ""master-tripleo-ci"" ]]; then # In the case of devmode we want to provide instructions on running # the provided tripleo.sh wrapper script if ! [[ ""overcloud-deploy"" =~ .*$OPT_TAGS.* ]] && [[ $OPT_PLAYBOOK == quickstart.yml ]] && [[ $OPT_RELEASE == ""master-tripleo-ci"" ]]; then cat <<EOF ################################## Virtual Environment Setup Complete ################################## Access the undercloud by: ssh -F $OPT_WORKDIR/ssh.config.ansible undercloud There is a small wrapper script for tripleo.sh located in the stack users home directory. It can be used to complete the deployment: ./complete_deploy.sh ################################## Virtual Environment Setup Complete ################################## EOF fi ","if ! [[ ""overcloud-deploy"" =~ .*$OPT_TAGS.* ]] && [[ $OPT_PLAYBOOK == quickstart.yml ]]; then",178,4
openstack%2Fos-cloud-config~master~I31f382fc5a55ffdb847403e1a25f679647579ad5,openstack/os-cloud-config,master,I31f382fc5a55ffdb847403e1a25f679647579ad5,Retire os-cloud-config,MERGED,2017-03-28 19:39:44.000000000,2017-04-04 12:41:54.000000000,2017-04-04 12:41:54.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6547}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7160}, {'_account_id': 8042}, {'_account_id': 9317}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 17893}]","[{'number': 1, 'created': '2017-03-28 19:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/6c34a0277930439c04a71390641c93263690bf97', 'message': ""Retire os-cloud-config\n\nos-cloud-config has been deprecated in Ocata and is not used anymore in\nPike.\n\nWe don't need it anymore. Looking at:\nhttp://codesearch.openstack.org/?q=os_cloud_config&i=nope&files=&repos=\nThe module is not used anymore.\n\nChange-Id: I31f382fc5a55ffdb847403e1a25f679647579ad5\n""}, {'number': 2, 'created': '2017-03-30 05:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/a4a5f0c32e9c2bfbff88e5e119cdc7115effb23c', 'message': ""Retire os-cloud-config\n\nos-cloud-config has been deprecated in Ocata and is not used anymore in\nPike.\n\nWe don't need it anymore. Looking at:\nhttp://codesearch.openstack.org/?q=os_cloud_config&i=nope&files=&repos=\nThe module is not used anymore.\n\nChange-Id: I31f382fc5a55ffdb847403e1a25f679647579ad5\n""}, {'number': 3, 'created': '2017-04-03 15:55:13.000000000', 'files': ['os_cloud_config/utils/tests/__init__.py', '.gitreview', 'test-requirements.txt', 'README.rst', 'doc/source/usage.rst', 'os_cloud_config/utils/tests/test_clients.py', 'os_cloud_config/cmd/utils/_clients.py', 'setup.py', 'os_cloud_config/cmd/upload_kernel_ramdisk.py', 'os_cloud_config/tests/test_neutron.py', 'CONTRIBUTING.rst', 'os_cloud_config/exception.py', 'os_cloud_config/tests/base.py', 'os_cloud_config/cmd/tests/test_init_keystone_heat_domain.py', 'os_cloud_config/keystone.py', 'os_cloud_config/cmd/tests/test_register_nodes.py', 'os_cloud_config/cmd/tests/test_upload_kernel_ramdisk.py', 'os_cloud_config/cmd/init_keystone_heat_domain.py', '.coveragerc', 'LICENSE', 'os_cloud_config/__init__.py', 'os_cloud_config/cmd/utils/__init__.py', 'os_cloud_config/keystone_pki.py', 'os_cloud_config/cmd/tests/test_init_keystone.py', 'os_cloud_config/glance.py', 'os_cloud_config/cmd/utils/tests/test_environment.py', 'os_cloud_config/tests/test_keystone_pki.py', '.mailmap', 'MANIFEST.in', 'doc/source/installation.rst', 'os_cloud_config/cmd/generate_keystone_pki.py', 'os_cloud_config/cmd/__init__.py', 'os_cloud_config/cmd/setup_neutron.py', 'os_cloud_config/tests/test_keystone.py', 'os_cloud_config/cmd/utils/environment.py', 'os_cloud_config/cmd/setup_endpoints.py', 'setup.cfg', 'tox.ini', 'os_cloud_config/cmd/setup_flavors.py', 'os_cloud_config/cmd/init_keystone.py', 'doc/source/contributing.rst', '.gitignore', 'os_cloud_config/utils/clients.py', 'os_cloud_config/cmd/utils/tests/__init__.py', 'os_cloud_config/utils/__init__.py', 'os_cloud_config/tests/test_flavors.py', 'os_cloud_config/tests/test_glance.py', 'os_cloud_config/cmd/tests/test_generate_keystone_pki.py', 'requirements.txt', 'os_cloud_config/_i18n.py', 'tools/tox_install.sh', 'os_cloud_config/flavors.py', 'os_cloud_config/cmd/tests/__init__.py', 'os_cloud_config/cmd/tests/test_setup_endpoints.py', 'os_cloud_config/nodes.py', 'os_cloud_config/tests/test_nodes.py', 'os_cloud_config/neutron.py', 'os_cloud_config/cmd/tests/test_setup_flavors.py', 'os_cloud_config/tests/__init__.py', 'babel.cfg', 'doc/source/conf.py', 'os_cloud_config/cmd/tests/test_setup_neutron.py', 'os_cloud_config/cmd/register_nodes.py', 'doc/source/index.rst', '.testr.conf', 'doc/source/readme.rst', 'HACKING.rst', 'os_cloud_config/cmd/utils/tests/test_clients.py'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/95587d4c6494b53107107f756119eee866713e42', 'message': ""Retire os-cloud-config\n\nos-cloud-config has been deprecated in Ocata and is not used anymore in\nPike.\n\nWe don't need it anymore. Looking at:\nhttp://codesearch.openstack.org/?q=os_cloud_config&i=nope&files=&repos=\nThe module is not used anymore.\n\nChange-Id: I31f382fc5a55ffdb847403e1a25f679647579ad5\n""}]",0,450946,95587d4c6494b53107107f756119eee866713e42,23,11,3,3153,,,0,"Retire os-cloud-config

os-cloud-config has been deprecated in Ocata and is not used anymore in
Pike.

We don't need it anymore. Looking at:
http://codesearch.openstack.org/?q=os_cloud_config&i=nope&files=&repos=
The module is not used anymore.

Change-Id: I31f382fc5a55ffdb847403e1a25f679647579ad5
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/46/450946/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_cloud_config/utils/tests/__init__.py', 'test-requirements.txt', 'README.rst', 'doc/source/usage.rst', 'os_cloud_config/utils/tests/test_clients.py', 'os_cloud_config/cmd/utils/_clients.py', 'setup.py', 'os_cloud_config/cmd/upload_kernel_ramdisk.py', 'os_cloud_config/tests/test_neutron.py', 'CONTRIBUTING.rst', 'os_cloud_config/exception.py', 'os_cloud_config/tests/base.py', 'os_cloud_config/cmd/tests/test_init_keystone_heat_domain.py', 'os_cloud_config/keystone.py', 'os_cloud_config/cmd/tests/test_register_nodes.py', 'os_cloud_config/cmd/tests/test_upload_kernel_ramdisk.py', 'os_cloud_config/cmd/init_keystone_heat_domain.py', '.coveragerc', 'LICENSE', 'os_cloud_config/__init__.py', 'os_cloud_config/cmd/utils/__init__.py', 'os_cloud_config/keystone_pki.py', 'os_cloud_config/cmd/tests/test_init_keystone.py', 'os_cloud_config/glance.py', 'os_cloud_config/cmd/utils/tests/test_environment.py', 'os_cloud_config/tests/test_keystone_pki.py', '.mailmap', 'MANIFEST.in', 'doc/source/installation.rst', 'os_cloud_config/cmd/generate_keystone_pki.py', 'os_cloud_config/cmd/__init__.py', 'os_cloud_config/cmd/setup_neutron.py', 'os_cloud_config/tests/test_keystone.py', 'os_cloud_config/cmd/utils/environment.py', 'os_cloud_config/cmd/setup_endpoints.py', 'setup.cfg', 'tox.ini', 'os_cloud_config/cmd/setup_flavors.py', 'os_cloud_config/cmd/init_keystone.py', 'doc/source/contributing.rst', 'os_cloud_config/utils/clients.py', 'os_cloud_config/cmd/utils/tests/__init__.py', 'os_cloud_config/utils/__init__.py', 'os_cloud_config/tests/test_flavors.py', 'os_cloud_config/tests/test_glance.py', 'os_cloud_config/cmd/tests/test_generate_keystone_pki.py', 'requirements.txt', 'os_cloud_config/_i18n.py', 'tools/tox_install.sh', 'os_cloud_config/flavors.py', 'os_cloud_config/cmd/tests/__init__.py', 'os_cloud_config/cmd/tests/test_setup_endpoints.py', 'os_cloud_config/nodes.py', 'os_cloud_config/tests/test_nodes.py', 'os_cloud_config/neutron.py', 'os_cloud_config/cmd/tests/test_setup_flavors.py', 'os_cloud_config/tests/__init__.py', 'babel.cfg', 'doc/source/conf.py', 'os_cloud_config/cmd/tests/test_setup_neutron.py', 'os_cloud_config/cmd/register_nodes.py', 'doc/source/index.rst', '.testr.conf', 'doc/source/readme.rst', 'HACKING.rst', 'os_cloud_config/cmd/utils/tests/test_clients.py']",66,6c34a0277930439c04a71390641c93263690bf97,bug/1677008,,"# Copyright (c) 2014 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from os_cloud_config.cmd.utils import _clients as clients from os_cloud_config.tests import base class CMDClientsTest(base.TestCase): @mock.patch.dict('os.environ', {'OS_USERNAME': 'username', 'OS_PASSWORD': 'password', 'OS_TENANT_NAME': 'tenant', 'OS_AUTH_URL': 'auth_url', 'OS_CACERT': 'cacert'}) def test___get_client_args(self): result = clients._get_client_args() expected = (""username"", ""password"", ""tenant"", ""auth_url"", ""cacert"") self.assertEqual(result, expected) @mock.patch('os.environ') @mock.patch('ironicclient.client.get_client') def test_get_ironic_client(self, client_mock, environ): clients.get_ironic_client() client_mock.assert_called_once_with( 1, os_username=environ[""OS_USERNAME""], os_password=environ[""OS_PASSWORD""], os_auth_url=environ[""OS_AUTH_URL""], os_tenant_name=environ[""OS_TENANT_NAME""], ca_file=environ.get(""OS_CACERT"")) @mock.patch('os.environ') @mock.patch('novaclient.client.Client') def test_get_nova_bm_client(self, client_mock, environ): clients.get_nova_bm_client() client_mock.assert_called_once_with(""2"", environ[""OS_USERNAME""], environ[""OS_PASSWORD""], environ[""OS_AUTH_URL""], environ[""OS_TENANT_NAME""], cacert=environ.get(""OS_CACERT""), extensions=[mock.ANY]) @mock.patch('os.environ') @mock.patch('keystoneclient.v2_0.client.Client') def test_get_keystone_client(self, client_mock, environ): clients.get_keystone_client() client_mock.assert_called_once_with( username=environ[""OS_USERNAME""], password=environ[""OS_PASSWORD""], auth_url=environ[""OS_AUTH_URL""], tenant_name=environ[""OS_TENANT_NAME""], cacert=environ.get(""OS_CACERT"")) @mock.patch('os.environ') @mock.patch('keystoneclient.v3.client.Client') def test_get_keystone_v3_client(self, client_mock, environ): clients.get_keystone_v3_client() client_mock.assert_called_once_with( username=environ[""OS_USERNAME""], password=environ[""OS_PASSWORD""], auth_url=environ[""OS_AUTH_URL""].replace('v2.0', 'v3'), tenant_name=environ[""OS_TENANT_NAME""], cacert=environ.get(""OS_CACERT"")) @mock.patch('os.environ') @mock.patch('neutronclient.neutron.client.Client') def test_get_neutron_client(self, client_mock, environ): clients.get_neutron_client() client_mock.assert_called_once_with( '2.0', username=environ[""OS_USERNAME""], password=environ[""OS_PASSWORD""], auth_url=environ[""OS_AUTH_URL""], tenant_name=environ[""OS_TENANT_NAME""], ca_cert=environ.get(""OS_CACERT"")) @mock.patch('os.environ') @mock.patch('keystoneclient.session.Session') @mock.patch('keystoneclient.auth.identity.v2.Password') @mock.patch('glanceclient.Client') def test_get_glance_client(self, client_mock, password_mock, session_mock, environ): clients.get_glance_client() tenant_name = environ[""OS_TENANT_NAME""] password_mock.assert_called_once_with(auth_url=environ[""OS_AUTH_URL""], username=environ[""OS_USERNAME""], password=environ[""OS_PASSWORD""], tenant_name=tenant_name) session_mock.assert_called_once_with(auth=password_mock.return_value) session_mock.return_value.get_endpoint.assert_called_once_with( service_type='image', interface='public', region_name='regionOne') session_mock.return_value.get_token.assert_called_once_with() client_mock.assert_called_once_with( '1', endpoint=session_mock.return_value.get_endpoint.return_value, token=session_mock.return_value.get_token.return_value, cacert=environ.get('OS_CACERT')) ",5,5810
openstack%2Ftripleo-quickstart~master~I8bc028bb0e62c177264c23ac95bc1b3e87dcc9cd,openstack/tripleo-quickstart,master,I8bc028bb0e62c177264c23ac95bc1b3e87dcc9cd,Add Undercloud reboot,ABANDONED,2016-09-08 09:48:30.000000000,2017-04-04 12:41:30.000000000,,"[{'_account_id': 3}, {'_account_id': 10022}, {'_account_id': 11105}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-09-08 09:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/de95104e35d642c66054b80aaf1333fde8f4feaa', 'message': '[WIP] Undercloud reboot\n\nChange-Id: I8bc028bb0e62c177264c23ac95bc1b3e87dcc9cd\n'}, {'number': 2, 'created': '2016-09-10 04:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2bdf2836a97ba83fcb6c96228e8667db27c5fc28', 'message': '[WIP] Undercloud reboot\n\nChange-Id: I8bc028bb0e62c177264c23ac95bc1b3e87dcc9cd\n'}, {'number': 3, 'created': '2016-09-10 08:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/be322028279045afaeef7f98db955da696a0d15c', 'message': 'Add Undercloud reboot\n\nThe undercloud reboot depends on [1] role and can be enabled with\nstep_reboot_undercloud variable value true.\n\n[1] https://github.com/redhat-openstack/ansible-role-tripleo-reboot\n\nChange-Id: I8bc028bb0e62c177264c23ac95bc1b3e87dcc9cd\n'}, {'number': 4, 'created': '2016-09-14 11:07:33.000000000', 'files': ['playbooks/quickstart-extras.yml', 'quickstart-extras-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a274fbf5865309f15744c9956de5a59c18af61a6', 'message': 'Add Undercloud reboot\n\nThe undercloud reboot depends on [1] role and can be enabled with\nstep_reboot_undercloud variable value true.\n\n[1] https://github.com/redhat-openstack/ansible-role-tripleo-reboot\n\nChange-Id: I8bc028bb0e62c177264c23ac95bc1b3e87dcc9cd\n'}]",0,367253,a274fbf5865309f15744c9956de5a59c18af61a6,20,4,4,11105,,,0,"Add Undercloud reboot

The undercloud reboot depends on [1] role and can be enabled with
step_reboot_undercloud variable value true.

[1] https://github.com/redhat-openstack/ansible-role-tripleo-reboot

Change-Id: I8bc028bb0e62c177264c23ac95bc1b3e87dcc9cd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/53/367253/3 && git format-patch -1 --stdout FETCH_HEAD,['quickstart-extras-requirements.txt'],1,de95104e35d642c66054b80aaf1333fde8f4feaa,add-undercloud-reboot,git+https://github.com/redhat-openstack/ansible-role-tripleo-reboot.git#egg=ansible-role-tripleo-reboot,,1,0
openstack%2Ftripleo-quickstart~master~I60fc3f009c59280e6d02054c44b1836b02199574,openstack/tripleo-quickstart,master,I60fc3f009c59280e6d02054c44b1836b02199574,Change to not clone quickstart by default,ABANDONED,2016-06-23 18:10:50.000000000,2017-04-04 12:40:56.000000000,,"[{'_account_id': 3}, {'_account_id': 8745}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-06-23 18:10:50.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/acca5323b7e044718f2fc9789802bd1a967fa847', 'message': 'Change to not clone quickstart by default\n\nclone must now be requested explicitly\n\nChange-Id: I60fc3f009c59280e6d02054c44b1836b02199574\n'}]",0,333524,acca5323b7e044718f2fc9789802bd1a967fa847,6,3,1,10022,,,0,"Change to not clone quickstart by default

clone must now be requested explicitly

Change-Id: I60fc3f009c59280e6d02054c44b1836b02199574
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/333524/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,acca5323b7e044718f2fc9789802bd1a967fa847,no-clone-default," if [ ""$OPT_CLONE"" = 1 ]; then --clone|-n) OPT_CLONE=1if [ ""$OPT_CLONE"" = 1 ]; thenelse OOOQ_DIR=."," if [ ""$OPT_NO_CLONE"" != 1 ]; then --no-clone|-n) OPT_NO_CLONE=1if [ ""$OPT_NO_CLONE"" = 1 ]; then OOOQ_DIR=. else",6,6
openstack%2Ftripleo-validations~master~I859f814f1bbeda267d7f39d27edce87a41126138,openstack/tripleo-validations,master,I859f814f1bbeda267d7f39d27edce87a41126138,prevent validations from failing  when undercloud.conf is missing:,MERGED,2016-12-05 17:26:09.000000000,2017-04-04 12:40:04.000000000,2017-03-07 10:36:10.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 9317}, {'_account_id': 13039}]","[{'number': 1, 'created': '2016-12-05 17:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/13f79e30025db7662e39d4003916cbc9ec39a259', 'message': ""prevent validations from failing  when undercloud.conf is missing:\n\n- check-network-gateway, ctlplane-iprange and dhcp-provisioning now don't fail when\n  undercloud.conf is missing, they use default values for the validation instead\n- module undercloud_conf.py has a new option ignore_missing which (if set to true)\n  prevents the module from failing when undercloud.conf does not exist\n\nChange-Id: I859f814f1bbeda267d7f39d27edce87a41126138\nCloses-Bug: #1643810\n""}, {'number': 2, 'created': '2016-12-08 10:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b9a6c4d7dda999c7e31ce0008954da770197631e', 'message': ""prevent validations from failing  when undercloud.conf is missing:\n\n- check-network-gateway, ctlplane-iprange and dhcp-provisioning now don't fail when\n  undercloud.conf is missing, they use default values for the validation instead\n- module undercloud_conf.py has a new option ignore_missing which (if set to true)\n  prevents the module from failing when undercloud.conf does not exist\n\nChange-Id: I859f814f1bbeda267d7f39d27edce87a41126138\nCloses-Bug: #1643810\n""}, {'number': 3, 'created': '2017-01-25 15:13:13.000000000', 'files': ['validations/dhcp-provisioning.yaml', 'validations/ctlplane-ip-range.yaml', 'validations/library/undercloud_conf.py', 'validations/check-network-gateway.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c27c9e6b39a178434538816514fa21897f13e3ba', 'message': ""prevent validations from failing  when undercloud.conf is missing:\n\n- check-network-gateway, ctlplane-iprange and dhcp-provisioning now don't fail when\n  undercloud.conf is missing, they use default values for the validation instead\n- module undercloud_conf.py has a new option ignore_missing which (if set to true)\n  prevents the module from failing when undercloud.conf does not exist\n\nChange-Id: I859f814f1bbeda267d7f39d27edce87a41126138\nCloses-Bug: #1643810\n""}]",1,407098,c27c9e6b39a178434538816514fa21897f13e3ba,15,4,3,24062,,,0,"prevent validations from failing  when undercloud.conf is missing:

- check-network-gateway, ctlplane-iprange and dhcp-provisioning now don't fail when
  undercloud.conf is missing, they use default values for the validation instead
- module undercloud_conf.py has a new option ignore_missing which (if set to true)
  prevents the module from failing when undercloud.conf does not exist

Change-Id: I859f814f1bbeda267d7f39d27edce87a41126138
Closes-Bug: #1643810
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/407098/3 && git format-patch -1 --stdout FETCH_HEAD,"['validations/dhcp-provisioning.yaml', 'validations/ctlplane-ip-range.yaml', 'validations/library/undercloud_conf.py', 'validations/check-network-gateway.yaml']",4,13f79e30025db7662e39d4003916cbc9ec39a259,bug/1643810, undercloud_conf: undercloud_conf_path={{ tripleo_undercloud_conf_file }} \ ignore_missing=true, undercloud_conf: undercloud_conf_path={{ tripleo_undercloud_conf_file }},10,3
openstack%2Ftripleo-quickstart~master~Iff44a83fa3e61c5f5639bc7eed2253dc8209741f,openstack/tripleo-quickstart,master,Iff44a83fa3e61c5f5639bc7eed2253dc8209741f,Restore usage information when running with quickstart defaults,ABANDONED,2016-07-13 14:38:46.000000000,2017-04-04 12:36:19.000000000,,"[{'_account_id': 3}, {'_account_id': 10022}, {'_account_id': 11105}, {'_account_id': 11491}, {'_account_id': 18846}, {'_account_id': 22136}]","[{'number': 1, 'created': '2016-07-13 14:38:46.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6a62b70f68d8b81a001bfb8af68d4c9d5e4dc37e', 'message': 'Restore usage information when running with quickstart defaults\n\nExplicit teardown broke the behavior of printing out further usage\ninstructions for new users. This patch restores that behavior.\n\nChange-Id: Iff44a83fa3e61c5f5639bc7eed2253dc8209741f\nCloses-Bug: 1600279\n'}]",2,341587,6a62b70f68d8b81a001bfb8af68d4c9d5e4dc37e,12,6,1,12715,,,0,"Restore usage information when running with quickstart defaults

Explicit teardown broke the behavior of printing out further usage
instructions for new users. This patch restores that behavior.

Change-Id: Iff44a83fa3e61c5f5639bc7eed2253dc8209741f
Closes-Bug: 1600279
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/87/341587/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,6a62b70f68d8b81a001bfb8af68d4c9d5e4dc37e,bug/1600279,"if [ $OPT_TAGS = ""$DEFAULT_OPT_TAGS,teardown-nodes"" -a $OPT_PLAYBOOK = quickstart.yml ] ; then",if [ $OPT_TAGS = $DEFAULT_OPT_TAGS -a $OPT_PLAYBOOK = quickstart.yml ] ; then,1,1
openstack%2Ftripleo-quickstart~master~I5ca4e61231e12cefc6d3de83f555bc997a84f8da,openstack/tripleo-quickstart,master,I5ca4e61231e12cefc6d3de83f555bc997a84f8da,Resize undercloud image(call virt-resize)-fails,ABANDONED,2016-07-03 00:34:30.000000000,2017-04-04 12:35:32.000000000,,"[{'_account_id': 3}, {'_account_id': 9712}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22198}]","[{'number': 1, 'created': '2016-07-03 00:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fc5eecf596176e45729d57cfa51026afb1d7dbe1', 'message': 'Resize undercloud image(call virt-resize)-fails\n\nThis patch resolve the problem with the virt-resize errors\n\nCloses-Bug: #1598495\n\nChange-Id: I5ca4e61231e12cefc6d3de83f555bc997a84f8da\n'}, {'number': 2, 'created': '2016-07-08 12:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cc443ed1af75441e8971a727ce290d5ad6284e0a', 'message': 'Resize undercloud image(call virt-resize)-fails\n\nThis patch resolve the problem with the virt-resize errors\n\nCloses-Bug: #1598495\n\nChange-Id: I5ca4e61231e12cefc6d3de83f555bc997a84f8da\n'}, {'number': 3, 'created': '2016-07-18 11:06:04.000000000', 'files': ['roles/libvirt/setup/undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ebf2282fdc78795cf725c5cd5949523b540e49b', 'message': 'Resize undercloud image(call virt-resize)-fails\n\nThis patch resolve the problem with the virt-resize errors\n\nCloses-Bug: #1598495\n\nChange-Id: I5ca4e61231e12cefc6d3de83f555bc997a84f8da\n'}]",2,336875,2ebf2282fdc78795cf725c5cd5949523b540e49b,23,6,3,22198,,,0,"Resize undercloud image(call virt-resize)-fails

This patch resolve the problem with the virt-resize errors

Closes-Bug: #1598495

Change-Id: I5ca4e61231e12cefc6d3de83f555bc997a84f8da
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/75/336875/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/undercloud/tasks/main.yml'],1,fc5eecf596176e45729d57cfa51026afb1d7dbe1,bug/1598495,- name: Expand the image file command: > truncate -s '+{{ flavors[undercloud_node.name].disk }}G' '{{ working_dir }}/undercloud-resized.qcow2' when: undercloud_vol_check|failed become: true,,8,0
openstack%2Ftripleo-quickstart~master~I60885b7e73eda027bbaf3127ec3a7f6cd52e3713,openstack/tripleo-quickstart,master,I60885b7e73eda027bbaf3127ec3a7f6cd52e3713,inject debug options on the under/overcloud images,ABANDONED,2016-06-15 15:03:38.000000000,2017-04-04 12:34:05.000000000,,"[{'_account_id': 3}, {'_account_id': 8745}, {'_account_id': 9592}, {'_account_id': 12715}, {'_account_id': 15895}, {'_account_id': 17053}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-06-15 15:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bf6d218fb3b78fe350da40bb54392b5dc04f9540', 'message': 'inject debug options on the under/overcloud images\n\nthis is set using -e debug_services=true\n\nChange-Id: I60885b7e73eda027bbaf3127ec3a7f6cd52e3713\n'}, {'number': 2, 'created': '2016-06-16 13:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1cd50a011d6b6bd82f38e91d03044ef761798913', 'message': 'inject debug options on the under/overcloud images\n\nthis is set using -e debug_services=true\n\nChange-Id: I60885b7e73eda027bbaf3127ec3a7f6cd52e3713\n'}, {'number': 3, 'created': '2016-07-08 06:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3f5a447b03a2ef8742d746aa240d23ceb82032dd', 'message': 'inject debug options on the under/overcloud images\n\nthis is set using -e debug_services=true\n\nChange-Id: I60885b7e73eda027bbaf3127ec3a7f6cd52e3713\n'}, {'number': 4, 'created': '2016-07-11 10:09:45.000000000', 'files': ['roles/libvirt/setup/undercloud/tasks/main.yml', 'docs/configuring.md', 'roles/libvirt/setup/undercloud/templates/inject_debug_options.sh.j2', 'roles/libvirt/setup/undercloud/tasks/inject_debug_options.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/826ea272b1342864226e57f87992d3d0406d23fc', 'message': 'inject debug options on the under/overcloud images\n\nthis is set using -e debug_services=true\n\nChange-Id: I60885b7e73eda027bbaf3127ec3a7f6cd52e3713\n'}]",5,329999,826ea272b1342864226e57f87992d3d0406d23fc,22,7,4,15895,,,0,"inject debug options on the under/overcloud images

this is set using -e debug_services=true

Change-Id: I60885b7e73eda027bbaf3127ec3a7f6cd52e3713
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/99/329999/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/libvirt/setup/undercloud/tasks/main.yml', 'docs/configuring.md', 'roles/libvirt/setup/undercloud/templates/inject_debug_options.sh.j2', 'roles/libvirt/setup/undercloud/tasks/inject_debug_options.yml']",4,bf6d218fb3b78fe350da40bb54392b5dc04f9540,debug_services,"--- - name: Create the injection script template: src: inject_debug_options.sh.j2 dest: ""{{ working_dir }}/inject_debug_options.sh"" - block: # We need to extract the overcloud image, so we can inject the gating # repo into it. - name: Extract overcloud-full image command: > virt-copy-out -a {{ working_dir }}/undercloud.qcow2 /home/stack/overcloud-full.qcow2 {{ working_dir }} - name: Inject the gating repo (overcloud-full) command: > virt-customize -a {{ working_dir }}/overcloud-full.qcow2 --run '{{ working_dir }}/inject_debug_options.sh' - name: Copy updated overcloud-full image back to undercloud command: > virt-copy-in -a {{ working_dir }}/undercloud.qcow2 {{ working_dir }}/overcloud-full.qcow2 /home/stack/ - name: Inject debug options command: > virt-customize -a {{ working_dir }}/undercloud.qcow2 --run '{{ working_dir }}/inject_debug_options.sh' environment: LIBGUESTFS_BACKEND: direct LIBVIRT_DEFAULT_URI: ""{{ libvirt_uri }}"" ",,59,0
openstack%2Fpython-openstackclient~master~I2c31746ed6ded3845244e03e57d809f8bc0e6b9d,openstack/python-openstackclient,master,I2c31746ed6ded3845244e03e57d809f8bc0e6b9d,"Help/docs cleanups: marker, limit, ip-address metavars",MERGED,2017-04-03 21:23:38.000000000,2017-04-04 12:32:55.000000000,2017-04-04 12:32:55.000000000,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-04-03 21:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c977813a8005e3b0995386b012db5ba2d22d636f', 'message': ""Help/docs cleanups: marker, limit, ip-address metavars\n\nCleanup help strings and docs for clarity and to keep things consistent:\n* --limit metavar should be <num-resource> to indicate what is being counted\n* --marker metavar should be <resource> or <resource-id> to indicate the\n  type of value being specified\n* <*-ip-address> metavars should be just <ip-address> as there is no difference\n  in format between fixed and floating IPs\n* Move all occurances of '(name or ID)' to end of help text\n\nChange-Id: I2c31746ed6ded3845244e03e57d809f8bc0e6b9d\n""}, {'number': 2, 'created': '2017-04-04 03:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fc82b5f485b2c85d6880fca1209d8f2d3d80f0eb', 'message': ""Help/docs cleanups: marker, limit, ip-address metavars\n\nCleanup help strings and docs for clarity and to keep things consistent:\n* --limit metavar should be <num-resource> to indicate what is being counted\n* --marker metavar should be <resource> or <resource-id> to indicate the\n  type of value being specified\n* <*-ip-address> metavars should be just <ip-address> as there is no difference\n  in format between fixed and floating IPs\n* Move all occurances of '(name or ID)' to end of help text\n\nChange-Id: I2c31746ed6ded3845244e03e57d809f8bc0e6b9d\n""}, {'number': 3, 'created': '2017-04-04 03:56:23.000000000', 'files': ['openstackclient/volume/v2/snapshot.py', 'doc/source/command-objects/subnet.rst', 'openstackclient/object/v1/object.py', 'doc/source/command-objects/volume-backup.rst', 'openstackclient/compute/v2/server.py', 'openstackclient/object/v1/container.py', 'openstackclient/network/v2/floating_ip.py', 'doc/source/command-objects/floating-ip.rst', 'doc/source/command-objects/subnet-pool.rst', 'doc/source/command-objects/image.rst', 'doc/source/command-objects/volume.rst', 'doc/source/command-objects/object.rst', 'openstackclient/volume/v1/volume.py', 'doc/source/command-objects/volume-snapshot.rst', 'doc/source/command-objects/port.rst', 'openstackclient/compute/v2/flavor.py', 'doc/source/command-objects/flavor.rst', 'openstackclient/network/v2/port.py', 'openstackclient/volume/v2/volume_snapshot.py', 'openstackclient/volume/v2/volume.py', 'doc/source/command-objects/container.rst', 'doc/source/command-objects/server.rst', 'openstackclient/network/v2/subnet_pool.py', 'openstackclient/network/v2/subnet.py', 'doc/source/command-options.rst', 'doc/source/command-objects/snapshot.rst', 'openstackclient/volume/v2/volume_type.py', 'openstackclient/volume/v2/backup.py', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1686dc54f09b6e77b1de3abc708c297710987a04', 'message': ""Help/docs cleanups: marker, limit, ip-address metavars\n\nCleanup help strings and docs for clarity and to keep things consistent:\n* --limit metavar should be <num-resource> to indicate what is being counted\n* --marker metavar should be <resource> or <resource-id> to indicate the\n  type of value being specified\n* <*-ip-address> metavars should be just <ip-address> as there is no difference\n  in format between fixed and floating IPs\n* Move all occurances of '(name or ID)' to end of help text\n\nChange-Id: I2c31746ed6ded3845244e03e57d809f8bc0e6b9d\n""}]",5,452961,1686dc54f09b6e77b1de3abc708c297710987a04,15,2,3,970,,,0,"Help/docs cleanups: marker, limit, ip-address metavars

Cleanup help strings and docs for clarity and to keep things consistent:
* --limit metavar should be <num-resource> to indicate what is being counted
* --marker metavar should be <resource> or <resource-id> to indicate the
  type of value being specified
* <*-ip-address> metavars should be just <ip-address> as there is no difference
  in format between fixed and floating IPs
* Move all occurances of '(name or ID)' to end of help text

Change-Id: I2c31746ed6ded3845244e03e57d809f8bc0e6b9d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/61/452961/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/snapshot.py', 'doc/source/command-objects/subnet.rst', 'openstackclient/object/v1/object.py', 'doc/source/command-objects/volume-backup.rst', 'openstackclient/compute/v2/server.py', 'openstackclient/object/v1/container.py', 'openstackclient/network/v2/floating_ip.py', 'doc/source/command-objects/floating-ip.rst', 'doc/source/command-objects/subnet-pool.rst', 'doc/source/command-objects/image.rst', 'doc/source/command-objects/volume.rst', 'doc/source/command-objects/object.rst', 'openstackclient/volume/v1/volume.py', 'doc/source/command-objects/volume-snapshot.rst', 'doc/source/command-objects/port.rst', 'openstackclient/compute/v2/flavor.py', 'doc/source/command-objects/flavor.rst', 'openstackclient/network/v2/port.py', 'openstackclient/volume/v2/volume_snapshot.py', 'openstackclient/volume/v2/volume.py', 'doc/source/command-objects/container.rst', 'doc/source/command-objects/server.rst', 'openstackclient/network/v2/subnet_pool.py', 'openstackclient/network/v2/subnet.py', 'doc/source/command-options.rst', 'doc/source/command-objects/snapshot.rst', 'openstackclient/volume/v2/volume_type.py', 'openstackclient/volume/v2/backup.py', 'openstackclient/image/v2/image.py']",29,c977813a8005e3b0995386b012db5ba2d22d636f,docs-cleanup," metavar=""<num-images>"", metavar='<image>', help=_(""The last image of the previous page. Display "" ""specified. (name or ID)""),"," metavar=""<limit>"", metavar='<marker>', help=_(""The last image (name or ID) of the previous page. Display "" ""specified.""),",115,112
openstack%2Fkolla-ansible~master~Ibe885c77794ac675afa98f65efecfa40ee9b31e5,openstack/kolla-ansible,master,Ibe885c77794ac675afa98f65efecfa40ee9b31e5,[WIP] Add external rabbitmq,ABANDONED,2017-04-04 12:30:51.000000000,2017-04-04 12:31:42.000000000,,[],"[{'number': 1, 'created': '2017-04-04 12:30:51.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/rabbitmq/tasks/upgrade.yml', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/rabbitmq/tasks/main.yml', 'etc/kolla/passwords.yml', 'ansible/site.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.config.j2', 'ansible/roles/rabbitmq/templates/definitions.json.j2', 'ansible/roles/rabbitmq/tasks/reconfigure.yml', 'ansible/roles/rabbitmq/tasks/pull.yml', 'ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/tasks/start.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-clusterer.config.j2', 'ansible/roles/murano/tasks/precheck.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fcf428f155181ca38b17ba964a4b7e4e5faec00d', 'message': '[WIP] Add external rabbitmq\n\nBased on Icbb19f7eaf6f464019623ae564389f2404ab896c\n\nChange-Id: Ibe885c77794ac675afa98f65efecfa40ee9b31e5\n'}]",0,453152,fcf428f155181ca38b17ba964a4b7e4e5faec00d,2,0,1,1390,,,0,"[WIP] Add external rabbitmq

Based on Icbb19f7eaf6f464019623ae564389f2404ab896c

Change-Id: Ibe885c77794ac675afa98f65efecfa40ee9b31e5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/453152/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/rabbitmq/tasks/upgrade.yml', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/rabbitmq/tasks/main.yml', 'etc/kolla/passwords.yml', 'ansible/site.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.config.j2', 'ansible/roles/rabbitmq/templates/definitions.json.j2', 'ansible/roles/rabbitmq/tasks/reconfigure.yml', 'ansible/roles/rabbitmq/tasks/pull.yml', 'ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/tasks/start.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-clusterer.config.j2', 'ansible/roles/murano/tasks/precheck.yml', 'ansible/roles/rabbitmq/templates/rabbitmq-env.conf.j2']",16,fcf428f155181ca38b17ba964a4b7e4e5faec00d,,export ERL_EPMD_PORT={{ role_rabbitmq_epmd_port }},export ERL_EPMD_PORT={{ rabbitmq_epmd_port }},72,22
openstack%2Fproject-config~master~I23c49f6a7492e9ba215566cd0154a6bfc30be2df,openstack/project-config,master,I23c49f6a7492e9ba215566cd0154a6bfc30be2df,Move ovb containers job to experimental queue,MERGED,2017-03-29 20:08:10.000000000,2017-04-04 12:18:03.000000000,2017-03-29 20:53:29.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 6159}, {'_account_id': 6928}, {'_account_id': 7144}]","[{'number': 1, 'created': '2017-03-29 20:08:10.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e239853a693e074d17157e182d514764e7b64551', 'message': 'Move ovb containers job to experimental queue\n\nWe do not, and have not for quite some time, had the capacity to add a\n4th ovb to check-tripleo. Move the containers job to the experimental\nqueue for now until either some of the existing jobs are consolidated or\nwe gain more capacity.\n\nChange-Id: I23c49f6a7492e9ba215566cd0154a6bfc30be2df\n'}]",0,451546,e239853a693e074d17157e182d514764e7b64551,13,7,1,7144,,,0,"Move ovb containers job to experimental queue

We do not, and have not for quite some time, had the capacity to add a
4th ovb to check-tripleo. Move the containers job to the experimental
queue for now until either some of the existing jobs are consolidated or
we gain more capacity.

Change-Id: I23c49f6a7492e9ba215566cd0154a6bfc30be2df
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/451546/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,e239853a693e074d17157e182d514764e7b64551,, - gate-tripleo-ci-centos-7-ovb-containers-oooq-nv, - gate-tripleo-ci-centos-7-ovb-containers-oooq-nv,1,1
openstack%2Fpython-tripleoclient~master~I84a2d593ae3bad2559de530de8678925a2109547,openstack/python-tripleoclient,master,I84a2d593ae3bad2559de530de8678925a2109547,Remove the single-message interface to websockets,MERGED,2017-03-16 10:20:50.000000000,2017-04-04 12:16:06.000000000,2017-04-04 12:16:06.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 7065}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-03-16 10:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d0d43431976174e90afde8bf3b1aa18dae63faf1', 'message': 'Remove the single-message interface to websockets\n\nThis is longer used and the multiple-message interface should be used.\n\nChange-Id: I84a2d593ae3bad2559de530de8678925a2109547\nCloses-Bug: #1646887\n'}, {'number': 2, 'created': '2017-03-16 11:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e74bedf80fcadc1a468e7e3e9115e94fa78959f5', 'message': 'Remove the single-message interface to websockets\n\nThis is longer used and the multiple-message interface should be used.\n\nChange-Id: I84a2d593ae3bad2559de530de8678925a2109547\nCloses-Bug: #1646887\n'}, {'number': 3, 'created': '2017-04-04 08:20:33.000000000', 'files': ['tripleoclient/plugin.py', 'tripleoclient/tests/v1/baremetal/test_baremetal.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/70998137f6bc8ada0fa5e6fecd8c4f655028e17c', 'message': 'Remove the single-message interface to websockets\n\nThis is longer used and the multiple-message interface should be used.\n\nChange-Id: I84a2d593ae3bad2559de530de8678925a2109547\nCloses-Bug: #1646887\n'}]",0,446439,70998137f6bc8ada0fa5e6fecd8c4f655028e17c,19,4,3,9712,,,0,"Remove the single-message interface to websockets

This is longer used and the multiple-message interface should be used.

Change-Id: I84a2d593ae3bad2559de530de8678925a2109547
Closes-Bug: #1646887
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/446439/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/plugin.py', 'tripleoclient/tests/v1/baremetal/test_baremetal.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/fakes.py']",6,d0d43431976174e90afde8bf3b1aa18dae63faf1,cli-multi-message,," def wait_for_message(self, execution_id, timeout=None): return { 'status': 'SUCCESS' } ",0,110
openstack%2Fopenstack-manuals~stable%2Focata~Idae1b9459bbbc6452891e9864362903653927457,openstack/openstack-manuals,stable/ocata,Idae1b9459bbbc6452891e9864362903653927457,Don't use 'we',MERGED,2017-04-04 11:37:05.000000000,2017-04-04 12:13:09.000000000,2017-04-04 12:13:09.000000000,"[{'_account_id': 3}, {'_account_id': 10607}]","[{'number': 1, 'created': '2017-04-04 11:37:05.000000000', 'files': ['doc/install-guide/source/launch-instance-networks-selfservice.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7dbd4473757c6123751d5737daf29eab0b42faa4', 'message': 'Don\'t use \'we\'\n\nThe document used ""The admin or other privileged\nuser must include this option during network\ncreation or add it later. In this case, we can\nadd it to the existing provider provider network."".\n\nTo use ""we"" in this case should be avoided.\n\nChange-Id: Idae1b9459bbbc6452891e9864362903653927457\nCloses-Bug: #1679584\n(cherry picked from commit 5c91e66384fa16f1d1ac869682208f84c0a11d63)\n'}]",0,453136,7dbd4473757c6123751d5737daf29eab0b42faa4,6,2,1,23913,,,0,"Don't use 'we'

The document used ""The admin or other privileged
user must include this option during network
creation or add it later. In this case, we can
add it to the existing provider provider network."".

To use ""we"" in this case should be avoided.

Change-Id: Idae1b9459bbbc6452891e9864362903653927457
Closes-Bug: #1679584
(cherry picked from commit 5c91e66384fa16f1d1ac869682208f84c0a11d63)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/36/453136/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/launch-instance-networks-selfservice.rst'],1,7dbd4473757c6123751d5737daf29eab0b42faa4,bug/1679584,"option during network creation or add it later. In this case, the ``router:external`` option was set by using the ``--external`` parameter when creating the ``provider`` network.","option during network creation or add it later. In this case, we already did that by providing the ``--external`` parameter when we created the ``provider`` provider network.",3,3
openstack%2Ftempest~master~Id7cab21ab75092226f0784877ae55f17e880229c,openstack/tempest,master,Id7cab21ab75092226f0784877ae55f17e880229c,Rename server arg in wait_for_interface_status method,MERGED,2017-04-03 15:37:23.000000000,2017-04-04 12:09:25.000000000,2017-04-04 12:09:25.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}]","[{'number': 1, 'created': '2017-04-03 15:37:23.000000000', 'files': ['tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ea48f06f232a52661dab6582c1a01c96366a2fe', 'message': 'Rename server arg in wait_for_interface_status method\n\nThis is very minor, but the server formal argument to the\nwait_for_interface_status method is actually a server id.\n\nThis changes the name of the parameter to be clear on the\ntype of that object, since it could easily be confused\nwith a full server response body dict.\n\nChange-Id: Id7cab21ab75092226f0784877ae55f17e880229c\n'}]",0,452805,2ea48f06f232a52661dab6582c1a01c96366a2fe,9,3,1,6873,,,0,"Rename server arg in wait_for_interface_status method

This is very minor, but the server formal argument to the
wait_for_interface_status method is actually a server id.

This changes the name of the parameter to be clear on the
type of that object, since it could easily be confused
with a full server response body dict.

Change-Id: Id7cab21ab75092226f0784877ae55f17e880229c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/452805/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/waiters.py'],1,2ea48f06f232a52661dab6582c1a01c96366a2fe,wait_for_interface_status,"def wait_for_interface_status(client, server_id, port_id, status): body = (client.show_interface(server_id, port_id) body = (client.show_interface(server_id, port_id)","def wait_for_interface_status(client, server, port_id, status): body = (client.show_interface(server, port_id) body = (client.show_interface(server, port_id)",3,3
openstack%2Fnetworking-bgpvpn~master~Ie0cae3655071f565acbee79e3984b2337fd0fd96,openstack/networking-bgpvpn,master,Ie0cae3655071f565acbee79e3984b2337fd0fd96,Updated from global requirements,MERGED,2017-04-01 15:26:38.000000000,2017-04-04 12:06:14.000000000,2017-04-04 12:06:14.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-04-01 15:26:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/54ad357ede6ba02d162b23d956d0660119bd8871', 'message': 'Updated from global requirements\n\nChange-Id: Ie0cae3655071f565acbee79e3984b2337fd0fd96\n'}]",0,452476,54ad357ede6ba02d162b23d956d0660119bd8871,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ie0cae3655071f565acbee79e3984b2337fd0fd96
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/76/452476/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,54ad357ede6ba02d162b23d956d0660119bd8871,openstack/requirements,WebOb>=1.7.1 # MIT,WebOb>=1.6.0 # MIT,1,1
openstack%2Fdevstack-gate~master~I381ba3b540c57b2ca5d73087473c8be4b5b32cad,openstack/devstack-gate,master,I381ba3b540c57b2ca5d73087473c8be4b5b32cad,Enable libvirt coredumps & save to logs,MERGED,2017-03-29 07:16:08.000000000,2017-04-04 12:01:36.000000000,2017-04-04 12:01:36.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}]","[{'number': 1, 'created': '2017-03-29 07:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f9329e502f2be0739e7584b888217cf569b24478', 'message': 'Enable libvirt coredumps & save to logs\n\nWith this flag devstack will enable coredumps for libvirt, which are\nsaved to /var/core.  Compress and save them to the logs.\n\nChange-Id: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nPartial-Bug: 1643911\nDepends-On: If7cd54e804a5a389a0d82a325b58f5b41b8ef0db\n'}, {'number': 2, 'created': '2017-03-29 08:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/816aaf89546fb2bc9b0dc002fb26c7c5fbf11b46', 'message': 'Enable libvirt coredumps & save to logs\n\nWith this flag devstack will enable coredumps for libvirt, which are\nsaved to /var/core.  Compress and save them to the logs.\n\nChange-Id: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nPartial-Bug: 1643911\nDepends-On: If7cd54e804a5a389a0d82a325b58f5b41b8ef0db\n'}, {'number': 3, 'created': '2017-03-29 10:50:29.000000000', 'files': ['devstack-vm-gate.sh', 'functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a14a7a1ae02fa70270af62093e6d60af91077824', 'message': 'Enable libvirt coredumps & save to logs\n\nWith this flag devstack will enable coredumps for libvirt, which are\nsaved to /var/core.  Compress and save them to the logs.\n\nChange-Id: I381ba3b540c57b2ca5d73087473c8be4b5b32cad\nPartial-Bug: 1643911\nDepends-On: If7cd54e804a5a389a0d82a325b58f5b41b8ef0db\n'}]",0,451219,a14a7a1ae02fa70270af62093e6d60af91077824,17,3,3,7118,,,0,"Enable libvirt coredumps & save to logs

With this flag devstack will enable coredumps for libvirt, which are
saved to /var/core.  Compress and save them to the logs.

Change-Id: I381ba3b540c57b2ca5d73087473c8be4b5b32cad
Partial-Bug: 1643911
Depends-On: If7cd54e804a5a389a0d82a325b58f5b41b8ef0db
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/19/451219/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate-wrap.sh', 'functions.sh']",2,f9329e502f2be0739e7584b888217cf569b24478,bug/1643911, # gzip and save any coredumps in /var/core if [ -d /var/core/ ]; then for c in /var/core/*; do sudo gzip $c done sudo cp -r /var/core $BASE/logs/ fi ,,15,0
openstack%2Fnova-specs~master~I190745baa037c4f71694ad19c9d0ee71fea02da4,openstack/nova-specs,master,I190745baa037c4f71694ad19c9d0ee71fea02da4,Configurable PXE Boot for Instances,ABANDONED,2017-02-16 17:51:51.000000000,2017-04-04 11:56:25.000000000,,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 4393}, {'_account_id': 6772}, {'_account_id': 6928}, {'_account_id': 10135}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-02-16 17:51:51.000000000', 'files': ['specs/pike/approved/pxe-boot-instances.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c486169291ab05e85d038ffdeb86792dd3118b0e', 'message': 'Configurable PXE Boot for Instances\n\nPXE boot for Nova instances is a commonly requested feature (see references).\nWhile several options exist today to PXE boot an instance, they all either\nrequire hacky patches to Nova or have other usability drawbacks.  Having\nPXE boot functionality built in to Nova itself would eliminate the need\nfor these various one-off solutions and improve user experience in situations\nwhere PXE boot is required.\n\nChange-Id: I190745baa037c4f71694ad19c9d0ee71fea02da4\n'}]",9,435052,c486169291ab05e85d038ffdeb86792dd3118b0e,9,7,1,6928,,,0,"Configurable PXE Boot for Instances

PXE boot for Nova instances is a commonly requested feature (see references).
While several options exist today to PXE boot an instance, they all either
require hacky patches to Nova or have other usability drawbacks.  Having
PXE boot functionality built in to Nova itself would eliminate the need
for these various one-off solutions and improve user experience in situations
where PXE boot is required.

Change-Id: I190745baa037c4f71694ad19c9d0ee71fea02da4
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/52/435052/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/pxe-boot-instances.rst'],1,c486169291ab05e85d038ffdeb86792dd3118b0e,pxe-boot-instances,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Configurable PXE Boot for Instances =================================== https://blueprints.launchpad.net/nova/+spec/pxe-boot-instances PXE boot for Nova instances is a commonly requested feature (see references). While several options exist today to PXE boot an instance, they all either require hacky patches to Nova or have other usability drawbacks. Having PXE boot functionality built in to Nova itself would eliminate the need for these various one-off solutions and improve user experience in situations where PXE boot is required. Problem description =================== There are a number of use cases for PXE boot of Nova instances, but currently they must be implemented using hacky patches or a PXE boot image, which has its own drawbacks. Use Cases --------- OpenStack Virtual Baremetal ^^^^^^^^^^^^^^^^^^^^^^^^^^^ `OpenStack Virtual Baremetal <https://github.com/cybertron/openstack-virtual-baremetal>`_ is a method used by TripleO to simulate baremetal deployments using OpenStack instances. The motivations for this are listed in the `OVB introduction <http://openstack-virtual-baremetal.readthedocs.io/en/latest/introduction.html>`_ but for the most part can be summed up as providing better flexibility and scalability for testing baremetal deployment. Currently OVB does PXE booting in one of two ways: a Nova patch applied to the host cloud or a PXE boot image. The patch is obviously a problem because it requires modification of Nova, and the PXE boot image is not ideal because it can only be used once. After the ""baremetal"" deployment has been done, the image has been overwritten and the instance can no longer PXE boot without being rebuilt to the initial image again. For automated CI where instances are deleted and recreated for each test run this is not a problem, but for interactive developer use it tends to cause problems because developers often do multiple deployments in a single environment. It's very easy to forget to rebuild the instances and end up booting something you didn't expect. Legacy/Non-Cloud Deployment Tooling ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Some OpenStack users have existing deployment tooling that may have been used with baremetal or non-cloud VMs in the past. They may want to continue using this tooling after migrating to OpenStack. Alternatively, and similar to the OVB case, they may want to use OpenStack to test deployments before doing them on real baremetal. Proposed change =============== I'm unsure of the best way to handle this, but will discuss a few of the options I'm aware of. Note that none of them solve all the problems. Part of the motivation for this spec is to get input from the Nova team on how best to proceed. Alternatives ------------ * The current OVB patch uses instance metadata to determine the boot order of the instance. This is problematic because instance metadata is not intended to influence Nova's behavior. * Use flavor extra-specs. This was `tried back in the early days of OVB <https://github.com/cybertron/tripleo-scripts/commit/3660a9e6e4f8a8ee309030faaa19f7900c658715>`_ and changed to instance metadata because flavor extra-specs cannot be changed after the initial deployment of the instance. This may not be a problem for all users, but in the OVB case where we try to replicate baremetal system behavior as much as possible, it is not ideal to be unable to change the boot order via the IPMI server linked in the references section. * Use image metadata. I haven't tried this, but I expect it would have the same drawbacks as flavor extra-specs. * Continue using a PXE boot image. I've discussed the drawbacks to this approach above, but it does work for many PXE boot use cases. [Impact sections removed until we decide how/if this will be implemented] Implementation ============== Assignee(s) ----------- Primary assignee: bnemec Other contributors: mwhahaha Work Items ---------- Depends on the implementation Dependencies ============ None Testing ======= Testing this in the gate would require setting up a PXE boot environment. Since the option will be configurable, it should be possible to PXE boot an instance in Tempest as long as the necessary pieces are in place. It likely won't be simple, but it should be possible. Note that there is also a desire to upstream OVB, and we'll need some sort of gate jobs for it when that happens. I don't know whether Nova would be open to gating on such a job, but it should exercise this functionality too so it could be an option for testing this feature. Documentation Impact ==================== Depends on the implementation References ========== People asking about PXE boot in Nova: * http://serverfault.com/questions/469479/does-nova-support-pxe-boot * https://ask.openstack.org/en/question/43289/pxetftp-boot-vm-instance-within-openstack/ * https://ask.openstack.org/en/question/1542/boot-guest-os-with-pxe/ * http://lists.openstack.org/pipermail/openstack-dev/2014-July/041531.html `Previously proposed blueprint <https://wiki.openstack.org/wiki/Nova/Blueprints/pxe-boot-instance>`_ `OpenStack Virtual Baremetal <https://github.com/cybertron/openstack-virtual-baremetal>`_ `Patch currently used by OVB <https://github.com/cybertron/openstack-virtual-baremetal/blob/master/patches/nova/nova-pxe-boot.patch>`_ `OpenStack BMC used to provide IPMI control of instances <https://github.com/cybertron/openstack-virtual-baremetal/blob/master/openstack_virtual_baremetal/openstackbmc.py#L76-L94>`_ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,170,0
openstack%2Ftripleo-validations~stable%2Focata~I256c771869b4399d9fb9d4eae34c1298e47a10fe,openstack/tripleo-validations,stable/ocata,I256c771869b4399d9fb9d4eae34c1298e47a10fe,Blacklist setuptools versions 34.0.0-34.3.2,ABANDONED,2017-03-30 09:13:30.000000000,2017-04-04 11:55:32.000000000,,"[{'_account_id': 3}, {'_account_id': 10112}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-03-30 09:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9122d52526abdfa561e2a1ef63674982b7e20965', 'message': 'Blacklist setuptools versions 34.0.0-34.3.3\n\nExcluding setuptools versions 34.0.0-34.3.3 until this has been fixed:\n\nhttps://github.com/pypa/setuptools/issues/951\n\nChange-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe\n'}, {'number': 2, 'created': '2017-03-30 09:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/67fa626329a92987dde30fa7745cdb4cbeb0bf98', 'message': 'Blacklist setuptools versions 34.0.0-34.3.3\n\nExcluding setuptools versions 34.0.0-34.3.3 until this has been fixed:\n\nhttps://github.com/pypa/setuptools/issues/951\n\nChange-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe\n'}, {'number': 3, 'created': '2017-03-30 10:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/132be8b8bb14edbce79efb11cf4a8c38556c9391', 'message': 'Blacklist setuptools versions 34.0.0-34.3.1\n\nExcluding setuptools versions 34.0.0-34.3.1 until this has been fixed:\n\nhttps://github.com/pypa/setuptools/issues/951\n\nChange-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe\n'}, {'number': 4, 'created': '2017-03-30 11:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/45c863dda2e1e62b824fe5edca9cb3c4f52ff699', 'message': 'Pin setuptools version to 33.1.1\n\nPinning setuptools version to 33.1.1 until this has been fixed:\n\nhttps://github.com/pypa/setuptools/issues/951\n\nChange-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe\n'}, {'number': 5, 'created': '2017-03-30 11:38:00.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9d2b7d4658fea30a7cf356a9f2c6c49a1461d468', 'message': 'Blacklist setuptools versions 34.0.0-34.3.2\n\nExcluding setuptools versions 34.0.0-34.3.2 until this has been fixed:\n\nhttps://github.com/pypa/setuptools/issues/951\n\nChange-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe\n'}]",0,451711,9d2b7d4658fea30a7cf356a9f2c6c49a1461d468,17,4,5,17888,,,0,"Blacklist setuptools versions 34.0.0-34.3.2

Excluding setuptools versions 34.0.0-34.3.2 until this has been fixed:

https://github.com/pypa/setuptools/issues/951

Change-Id: I256c771869b4399d9fb9d4eae34c1298e47a10fe
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/11/451711/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,9122d52526abdfa561e2a1ef63674982b7e20965,pin-setuptools-version,deps = setuptools -r{toxinidir}/test-requirements.txt,deps = -r{toxinidir}/test-requirements.txt,9,1
openstack%2Ffuel-qa~stable%2Fnewton~I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504,openstack/fuel-qa,stable/newton,I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504,Disable OSTF in test for new controller role,MERGED,2017-03-31 06:55:46.000000000,2017-04-04 11:54:28.000000000,2017-04-04 11:54:28.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9588}, {'_account_id': 15921}, {'_account_id': 15984}]","[{'number': 1, 'created': '2017-03-31 06:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/c4cd9954fbac8f4e0c5a01abb23faf2e6925b08b', 'message': ""Disable OSTF in test for new controller role\n\nOSTF can not check cloud that not contains fuel's default controller node\n\nChange-Id: I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504\nCloses-bug: 1677989\n""}, {'number': 2, 'created': '2017-04-04 10:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/78bb49c416aa6d1d22aa2a9398ac1152b714de82', 'message': ""Disable OSTF in test for new controller role\n\nOSTF can not check cloud that not contains fuel's default controller node\n\nChange-Id: I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504\nCloses-bug: 1677989\n""}, {'number': 3, 'created': '2017-04-04 10:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/c56aaae6a765c5b313f0c9fd042776b655b21778', 'message': ""Disable OSTF in test for new controller role\n\nOSTF can not check cloud that not contains fuel's default controller node\n\nChange-Id: I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504\nCloses-bug: 1677989\n""}, {'number': 4, 'created': '2017-04-04 10:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/5fb4cb1a90f05286da20ee2bc492f791b72a08b1', 'message': ""Disable OSTF in test for new controller role\n\nOSTF can not check cloud that not contains fuel's default controller node\n\nChange-Id: I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504\nCloses-bug: 1677989\n""}, {'number': 5, 'created': '2017-04-04 11:06:25.000000000', 'files': ['fuelweb_test/tests/tests_lcm/test_tags.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/1bbd8cc067d440e08f36d546ee4adbaa298e1801', 'message': ""Disable OSTF in test for new controller role\n\nOSTF can not check cloud that not contains fuel's default controller node\n\nChange-Id: I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504\nCloses-bug: 1677989\n""}]",0,452064,1bbd8cc067d440e08f36d546ee4adbaa298e1801,28,5,5,15984,,,0,"Disable OSTF in test for new controller role

OSTF can not check cloud that not contains fuel's default controller node

Change-Id: I8db7cbd96d05a1a5d50d649b38c26ea2d22f4504
Closes-bug: 1677989
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/64/452064/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_lcm/test_tags.py'],1,c4cd9954fbac8f4e0c5a01abb23faf2e6925b08b,bug/1677989, # we are unable to check cluster health by ostf because ostf does not # able to deal with cluster without built-in controller role # self.show_step(6) # self.run_ostf(), 6. Run OSTF self.show_step(6) self.run_ostf(),4,3
openstack%2Fnova-specs~master~Ie6c16de47109420ff5e687eb45319f48607b351b,openstack/nova-specs,master,Ie6c16de47109420ff5e687eb45319f48607b351b,Attach/detach instance access from Manila shares,ABANDONED,2016-04-25 19:59:26.000000000,2017-04-04 11:51:29.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2271}, {'_account_id': 2417}, {'_account_id': 2759}, {'_account_id': 4393}, {'_account_id': 6939}, {'_account_id': 6940}, {'_account_id': 7102}, {'_account_id': 7652}, {'_account_id': 8056}, {'_account_id': 9237}, {'_account_id': 11865}, {'_account_id': 16643}, {'_account_id': 18643}, {'_account_id': 18788}]","[{'number': 1, 'created': '2016-04-25 19:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/70c69883f5a7f18c60749719addf3ae74b3da767', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nSigned-off-by: Luis Pabn <lpabon@redhat.com>\n'}, {'number': 2, 'created': '2016-04-27 16:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/eca497c24a5b8a23b68eea104c4facdb0f8f106c', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nSigned-off-by: Luis Pabn <lpabon@redhat.com>\n'}, {'number': 3, 'created': '2016-04-27 19:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/adb8ee03e5e294aca2a4efb467083e47f3fd3103', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nSigned-off-by: Luis Pabn <lpabon@redhat.com>\n'}, {'number': 4, 'created': '2016-05-12 21:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2741aa43204a540a386f1633047e04ea4f8c7684', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nSigned-off-by: Luis Pabn <lpabon@redhat.com>\n'}, {'number': 5, 'created': '2016-05-17 10:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/491955f8daee1ab2d220bb78843a4c2f3f498f81', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nCo-authored-by: Luis Pabn <lpabon@redhat.com>\nCo-authored-by: Emile Snyder <emsnyder@ebay.com>\nCo-authored-by: John Spray <jspray@redhat.com>\n'}, {'number': 6, 'created': '2016-05-23 22:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/343d2d8c06210981c932a10d18d6e8ea7922bdbf', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nCo-authored-by: Luis Pabn <lpabon@redhat.com>\nCo-authored-by: Emile Snyder <emsnyder@ebay.com>\nCo-authored-by: John Spray <jspray@redhat.com>\n'}, {'number': 7, 'created': '2016-05-23 22:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ee056d1e9f1323fa916ed61e66205ea4c64c7970', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nCo-authored-by: Luis Pabn <lpabon@redhat.com>\nCo-authored-by: Emile Snyder <emsnyder@ebay.com>\nCo-authored-by: John Spray <jspray@redhat.com>\n'}, {'number': 8, 'created': '2016-05-26 19:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/012abb41643f8007d741223b28f1a1dffe1772ff', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nCo-authored-by: Luis Pabn <lpabon@redhat.com>\nCo-authored-by: Emile Snyder <emsnyder@ebay.com>\nCo-authored-by: John Spray <jspray@redhat.com>\n'}, {'number': 9, 'created': '2016-06-07 21:02:02.000000000', 'files': ['specs/backlog/fs-attach-detach.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/930cc6dbb8ddaf593e520484d2451f6478f90fe0', 'message': 'Attach/detach instance access from Manila shares\n\nCreate new share attach/detach APIs in Nova to manage\nthe connectivity and access to shares created by Manila.\n\nAPIImpact\n\nChange-Id: Ie6c16de47109420ff5e687eb45319f48607b351b\nCo-authored-by: Luis Pabn <lpabon@redhat.com>\nCo-authored-by: Emile Snyder <emsnyder@ebay.com>\nCo-authored-by: John Spray <jspray@redhat.com>\n'}]",19,310050,930cc6dbb8ddaf593e520484d2451f6478f90fe0,41,16,9,18788,,,0,"Attach/detach instance access from Manila shares

Create new share attach/detach APIs in Nova to manage
the connectivity and access to shares created by Manila.

APIImpact

Change-Id: Ie6c16de47109420ff5e687eb45319f48607b351b
Co-authored-by: Luis Pabn <lpabon@redhat.com>
Co-authored-by: Emile Snyder <emsnyder@ebay.com>
Co-authored-by: John Spray <jspray@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/50/310050/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/fs-attach-detach.rst'],1,70c69883f5a7f18c60749719addf3ae74b3da767,fs-attach-detach-review,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== File System Attach / Detach API ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/fs-attach-detach Create new share attach/detach APIs in Nova to manage the connectivity and access to shares created by Manila. Problem description =================== Until recently, OpenStack has had only two storage services providing persistent storage for Nova instances. The first is Swift, OpenStack's object storage offering, which requires simple HTTP to access its storage. The second is Cinder, the block storage service, which requires the hypervisor to access to the allocated storage. For this reason, it is very tightly integrated with Nova, enabling users to easily attach and detach volumes from their instances. Now with Manila, the filesystem-as-a-service offering from OpenStack, users have a third storage model which can provide persistent storage. This relatively new model is not very integrated with Nova, and as such, its workflow is not as efficient as Cinder's. Also, by not having Nova participate in the workflow, it complicates the addition of future enhancements in the Manila user model. Use Cases --------- User creates a Manila share with the appropriate permissions. Using the same workflow as Cinder, they would then *attach* the share to one or more Nova instances, enabling the guest instance to access the share. Proposed change =============== There are two ways to access a network file system share from a Nova instance, direct network access and hypervisor mediated access. In **direct network access** a guest directly accesses the shared file system over a network connecting the guest instances and Manila share servers. Although this method requires no participation from Nova, it could benefit from Nova by exposing information about the network based shares in the metadata service. In **hypervisor mediated access** Nova instructs the hypervisor to isolate connectivity to a network file system share by participating in the workflow to access a share created by Manila. We propose a workflow where Nova participation enables future enhancements in the Manila user model. The following changes to Nova are proposed: * Client needed to communicate with the Manila service. * State saved in Nova database showing instance share attach state. * Additional actions to the Nova action endpoint to attach, detach, and list shares associated with specified instances. Alternatives ------------ Continue using the method used today, preventing implementation of hypervisor-mediated access to shares. Data model impact ----------------- Just as information about a Cinder volume integration with an instance is saved in the *block device mapping* (BDM) data structure, a new *filesystem mapping* (FSM) structure would need to be created. This structure would be largely based on the current ``nova.objects.BlockDeviceMapping`` class and its types. Types ^^^^^ The following new field types would be required: .. code:: python class FileSystemDeviceType(Enum): """""" Represents possible device_type values for a FileSystemMapping. """""" NETWORK = 'network' ALL = (NETWORK) def __init__(self): super(FileSystemDeviceType, self).__init__( valid_values=FileSystemDeviceType.ALL) class FileSystemDeviceTypeField(BaseEnumField): AUTO_TYPE = FileSystemDeviceType() File System Mapping (FSM) ^^^^^^^^^^^^^^^^^^^^^^^^^ The following object would describe an FSM: .. code:: python class FileSystemMapping(base.NovaObject): # Version 1.0: Initial version VERSION = '1.0' fields = { 'id': fields.IntegerField(), 'instance_uuid': fields.UUIDField(), 'instance': fields.ObjectField('Instance', nullable=True), 'device_type': fields.FileSystemDeviceTypeField(nullable=True), 'mount_point': fields.StringField(nullable=True), 'share_id': fields.StringField(nullable=True), 'connection_info': fields.StringField(nullable=True), } @base.remotable def create(self): """"""Create the file device record on the database"""""" @base.remotable def update_or_create(self): """"""Update file system device record on the database"""""" @base.remotable def destroy(self): """"""Remove file system device record from the database"""""" @base.remotable def save(self): """"""Save record"""""" @base.NovaObjectRegistry.register class FileSystemMappingList(base.ObjectListBase, base.NovaObject): # Version 1.0: Initial version VERSION = '1.0' fields = { 'objects': fields.ListOfObjectsField('FileSystemMapping'), } DB helper functions ^^^^^^^^^^^^^^^^^^^ ``db.api.filesystem_device_mapping_*`` would need to be added based on those from ``db.api.block_device_mapping_*`` functions. File System Device Dictionary ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ A class loosely based on ``nova.BlockDeviceDict()`` will need to be created. REST API impact --------------- Create server with share ^^^^^^^^^^^^^^^^^^^^^^^^ Create a Nova instance with access to a file system share. The following is a new request parameter proposed for API:: POST /v2.1/{tenant_id}/servers/ +---------------------+------------+-------------+--------------------------+ | Parameter | Style | Type | Description | +=====================+============+=============+==========================+ | fs_mapping(Opt) | plain | xsd:string | Attach a share(s) | +---------------------+------------+-------------+--------------------------+ The parameter *fs_mapping* is an array of FSMs requests, just as *block_device_mapping_v2* is defined as an array of BDMs. The client will provide two values for each of FSM request: +---------------------+------------+-------------+--------------------------+ | Parameter | Style | Type | Description | +=====================+============+=============+==========================+ | share_id | plain | csapi:UUID | The file system share ID | +---------------------+------------+-------------+--------------------------+ | mount_point(Opt) | plain | xsd:string | The mount point location | +---------------------+------------+-------------+--------------------------+ On instance creation, Nova will ensure the instance has access to the share by using Manila *access* endpoint:: POST /v2/{tenant_id}/shares/{share_id}/action Once this call is successful, Nova will then save FSMs to the database. Attach Share ^^^^^^^^^^^^ Enable a Nova instance to access a Manila share. The following Nova action is proposed to the API:: POST /v2.1/{tenant_id}/servers/{server_id}/action +---------------------+------------+-------------+--------------------------+ | Parameter | Style | Type | Description | +=====================+============+=============+==========================+ | share_attach | plain | xsd:string | The action | +---------------------+------------+-------------+--------------------------+ | share_id | plain | csapi:UUID | The share ID | +---------------------+------------+-------------+--------------------------+ | mount_point(Opt) | plain | xsd:string | The mount point location | +---------------------+------------+-------------+--------------------------+ .. code-block:: json { ""share_attach"": { ""share_id"": ""15e59938-07d5-11e1-90e3-e3dffe0c5983"", ""mount_point"": ""/net/mymount"", } } This operation does not return a response body. When this call is executed, Nova will ensure the instance has access to the share by using Manila *access* endpoint:: POST /v2/{tenant_id}/shares/{share_id}/action Once this call is successful, Nova will then save FSMs to the database. List Shares ^^^^^^^^^^^ List shares accessable by the instance. A new JSON value is proposed to the following API:: GET /v2.1/{tenant_id}/servers/{server_id} +------------------------+------------+-------------+-----------------------+ | Parameter | Style | Type | Description | +========================+============+=============+=======================+ | os-extended- | plain | csapi:dict | Attached shares, | | shares:shares_attached | | | if any | +------------------------+------------+-------------+-----------------------+ Detach Share storage ^^^^^^^^^^^^^^^^^^^^ Remove access to a Manila share. The following Nova action is proposed to the API:: POST /v2.1/{tenant_id}/servers/{server_id}/action +---------------------+------------+-------------+--------------------------+ | Parameter | Style | Type | Description | +=====================+============+=============+==========================+ | share_detach | plain | xsd:string | The action | +---------------------+------------+-------------+--------------------------+ | share_id | plain | csapi:UUID | The share ID | +---------------------+------------+-------------+--------------------------+ | mount_point(Opt) | plain | xsd:string | The mount point location | +---------------------+------------+-------------+--------------------------+ .. code-block:: json { ""share_detach"": { ""share_id"": ""15e59938-07d5-11e1-90e3-e3dffe0c5983"", ""mount_point"": ""/net/mymount"", } } This operation does not return a response body. When this call is executed, Nova will ensure the instance has access to the share removed by using Manila *access* endpoint:: POST /v2/{tenant_id}/shares/{share_id}/action Once this call is successful, Nova will then remove FSMs from the database. Security impact --------------- None. Notifications impact -------------------- Use the same notification service as attaching a Cinder volume. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- * This work is needed for one possible goal of having hypervisor mediated access, instead of our current network mediated security model. * Together with [1] will enable future enhancements which could simplify the filesystem access workflow. * We would like to get feedback not only from the Nova community but also from the Manila community. Implementation ============== Assignee(s) ----------- Primary assignee: lpabon Work Items ---------- * Create new actions * Create unit tests for actions Dependencies ============ None Testing ======= * Unit tests Documentation Impact ==================== API documentation will need to be updated. References ========== * Nova actions API: * http://developer.openstack.org/api-ref-compute-v2.1.html#os-server-actions-v2.1 * Manila API: * http://developer.openstack.org/api-ref-share-v2.html * Attach/Detach email: * https://www.mail-archive.com/openstack-dev@lists.openstack.org/msg66667.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Mitaka - Introduced * - Newton - Re-proposed. ",,384,0
openstack%2Fnova-specs~master~Ic90530ffc1283bff5207c48313a38a875756fa65,openstack/nova-specs,master,Ic90530ffc1283bff5207c48313a38a875756fa65,Add 'attributed-action-notifications' spec,ABANDONED,2016-10-19 09:22:57.000000000,2017-04-04 11:50:34.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-10-19 09:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7553a5afa2e244f1cd60ec4307d3e5e772fe25b4', 'message': ""Add 'attributed-action-notifications' spec\n\nThis blueprint aims to add an 'initiator' field to the instance action\nnotification body. This will report the user that requested said action\non the instance.\n\nChange-Id: Ic90530ffc1283bff5207c48313a38a875756fa65\nImplements: bp attributed-action-notifications\n""}, {'number': 2, 'created': '2017-01-31 12:04:24.000000000', 'files': ['specs/pike/approved/attributed-action-notifications.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e1ab55143f2bdb98346e71d57acedba247fd2554', 'message': ""Add 'attributed-action-notifications' spec\n\nThis blueprint aims to add an 'initiator' field to the instance action\nnotification body. This will report the user that requested said action\non the instance.\n\nChange-Id: Ic90530ffc1283bff5207c48313a38a875756fa65\nImplements: bp attributed-action-notifications\n""}]",0,388573,e1ab55143f2bdb98346e71d57acedba247fd2554,5,1,2,15334,,,0,"Add 'attributed-action-notifications' spec

This blueprint aims to add an 'initiator' field to the instance action
notification body. This will report the user that requested said action
on the instance.

Change-Id: Ic90530ffc1283bff5207c48313a38a875756fa65
Implements: bp attributed-action-notifications
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/73/388573/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/attributed-action-notifications.rst'],1,7553a5afa2e244f1cd60ec4307d3e5e772fe25b4,bp/aims,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= User-attributed Instance Action Notifications ============================================= https://blueprints.launchpad.net/nova/+spec/attributed-action-notifications This blueprint aims to add an ``initiator`` field to the instance action notification body. This will report the user that requested said action on the instance. Problem description =================== nova sends RPC notifications at when an instance transitions from one state to another - shelved to restored, active to deleted, etc. These notification are marked with an event type, such as ``instance.shelve.start``, along with additional metadata, such as the priority of the notification, and a serialized representation of the instance. However, while these notifications indicate the host and binary that *published* the notification, they do not indicate the user that initiated the event. Use Cases --------- - A user in a multi-user project would like to track who's deleting instances Proposed change =============== An additional field - ``initiator`` - will be added to the instance action notifications responses. Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores, and use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not CamelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not CamelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Example JSON schema definitions can be found in the Nova tree http://git.openstack.org/cgit/openstack/nova/tree/nova/api/openstack/compute/schemas Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-novaclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in nova, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Nova (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Nova tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Introduced ",,332,0
openstack%2Fkolla~master~I3d2e6eb4394eb9071ffb390235a06ef4e0682b55,openstack/kolla,master,I3d2e6eb4394eb9071ffb390235a06ef4e0682b55,Install InfluxDB Plugin in Grafana,MERGED,2017-03-16 16:40:38.000000000,2017-04-04 11:48:09.000000000,2017-04-04 11:48:09.000000000,"[{'_account_id': 3}, {'_account_id': 16233}, {'_account_id': 16620}, {'_account_id': 19316}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-16 16:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bb221e6abe204ca88ada10a0121ecc21e0e44931', 'message': 'Install InfluxDB Plugin in Grafana\n\nInfluxDB plugin is missing in Grafana and is required to be installed to\nuse InfluxDB as a data source in Grafana.\n\nChange-Id: I3d2e6eb4394eb9071ffb390235a06ef4e0682b55\nCloses-Bug: 1673512\nPartially-implements: bp/monitoring\n'}, {'number': 2, 'created': '2017-03-16 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f991f53a537e2207437d28565e78e032c7a02e7f', 'message': 'Install InfluxDB Plugin in Grafana\n\nInfluxDB plugin is missing in Grafana and is required to be installed to\nuse InfluxDB as a data source in Grafana.\n\nChange-Id: I3d2e6eb4394eb9071ffb390235a06ef4e0682b55\nCloses-Bug: 1673512\nPartially-implements: blueprint bp/monitoring\n'}, {'number': 3, 'created': '2017-03-16 16:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2a10e5812bf2cb53c64521f8fa1047d58b6b1d57', 'message': 'Install InfluxDB Plugin in Grafana\n\nInfluxDB plugin is missing in Grafana and is required to be installed to\nuse InfluxDB as a data source in Grafana.\n\nChange-Id: I3d2e6eb4394eb9071ffb390235a06ef4e0682b55\nCloses-Bug: 1673512\nPartially-implements: bp/monitoring\n'}, {'number': 4, 'created': '2017-03-31 20:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f305db6bdf652045a78abb8744775c82967c99d5', 'message': 'Install InfluxDB Plugin in Grafana\n\nInfluxDB plugin is missing in Grafana and is required to be installed to\nuse InfluxDB as a data source in Grafana.\n\nChange-Id: I3d2e6eb4394eb9071ffb390235a06ef4e0682b55\nPartially-implements: blueprint monitoring\n'}, {'number': 5, 'created': '2017-03-31 20:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e766ca6493549cb7ba11250dfe545ca2ed1b0d8', 'message': 'Install InfluxDB Plugin in Grafana\n\nInfluxDB plugin is missing in Grafana and is required to be installed to\nuse InfluxDB as a data source in Grafana.\n\nChange-Id: I3d2e6eb4394eb9071ffb390235a06ef4e0682b55\n'}, {'number': 6, 'created': '2017-04-04 01:55:33.000000000', 'files': ['docker/grafana/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/56137d0da1603f32f960bd3c9e209faa51e448f9', 'message': 'Install InfluxDB Plugin in Grafana\n\nInfluxDB plugin is missing in Grafana and is required to be installed to\nuse InfluxDB as a data source in Grafana.\n\nChange-Id: I3d2e6eb4394eb9071ffb390235a06ef4e0682b55\n'}]",8,446624,56137d0da1603f32f960bd3c9e209faa51e448f9,32,7,6,24164,,,0,"Install InfluxDB Plugin in Grafana

InfluxDB plugin is missing in Grafana and is required to be installed to
use InfluxDB as a data source in Grafana.

Change-Id: I3d2e6eb4394eb9071ffb390235a06ef4e0682b55
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/446624/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/grafana/Dockerfile.j2'],1,bb221e6abe204ca88ada10a0121ecc21e0e44931,bug/1673512, && grafana-cli plugins install grafana-influxdb-08-datasource 1.0.2 \,,1,0
openstack%2Ftripleo-quickstart~master~I50a5a7ccbacec3f9e0ae2ec00010e82626a60ab7,openstack/tripleo-quickstart,master,I50a5a7ccbacec3f9e0ae2ec00010e82626a60ab7,"Revert ""Generate/inject instack.json if overcloud nodes""",MERGED,2017-04-04 00:30:26.000000000,2017-04-04 11:40:23.000000000,2017-04-04 11:36:57.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22306}]","[{'number': 1, 'created': '2017-04-04 00:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/12087009713b187b13f311e27d71e60443c10969', 'message': 'Revert ""Generate/inject instack.json if overcloud nodes""\n\nThis reverts commit 8d4c77328e221beaa18bafa56a4967841da9e5d9.\n\nChange-Id: I50a5a7ccbacec3f9e0ae2ec00010e82626a60ab7\n'}, {'number': 2, 'created': '2017-04-04 09:19:11.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/main.yml', 'roles/libvirt/setup/undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f6076f68ee56914577310d33a3521cda50f449ce', 'message': 'Revert ""Generate/inject instack.json if overcloud nodes""\n\nThis reverts commit 8d4c77328e221beaa18bafa56a4967841da9e5d9.\n\nThe original commit breaks baremetal deployments using virt undercloud.\nThe instackenv.json is needed when overcloud_nodes is empty in the\nbaremetal case.\n\nChange-Id: I50a5a7ccbacec3f9e0ae2ec00010e82626a60ab7\n'}]",0,452998,f6076f68ee56914577310d33a3521cda50f449ce,18,10,2,9976,,,0,"Revert ""Generate/inject instack.json if overcloud nodes""

This reverts commit 8d4c77328e221beaa18bafa56a4967841da9e5d9.

The original commit breaks baremetal deployments using virt undercloud.
The instackenv.json is needed when overcloud_nodes is empty in the
baremetal case.

Change-Id: I50a5a7ccbacec3f9e0ae2ec00010e82626a60ab7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/98/452998/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/libvirt/setup/overcloud/tasks/main.yml', 'roles/libvirt/setup/undercloud/tasks/main.yml']",2,12087009713b187b13f311e27d71e60443c10969,448294,, when: overcloud_nodes,9,5
openstack%2Fnetworking-sfc~stable%2Focata~I8c2bb8b7b02e5e755d64fd29f9d20a55dc75ccdd,openstack/networking-sfc,stable/ocata,I8c2bb8b7b02e5e755d64fd29f9d20a55dc75ccdd,tempest: Switch to local copy of tempset/scenario/manager.py,MERGED,2017-03-27 04:44:31.000000000,2017-04-04 11:39:28.000000000,2017-04-04 11:39:28.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 14605}, {'_account_id': 14611}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-03-27 04:44:31.000000000', 'files': ['networking_sfc/tests/tempest_plugin/tests/scenario/manager.py', 'networking_sfc/tests/tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f677e79ec6db0b6bc790d60d4e811187650a065d', 'message': ""tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was mostly literally copied from\ntempest as of today. [1]  It's slightly modified to\nappease N521 hacking check.\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\nChange-Id: I8c2bb8b7b02e5e755d64fd29f9d20a55dc75ccdd\n(cherry picked from commit 29e0732f2af35ebebc465bca051415a58e522d85)\n""}]",0,450076,f677e79ec6db0b6bc790d60d4e811187650a065d,17,8,1,6854,,,0,"tempest: Switch to local copy of tempset/scenario/manager.py

The manager.py file was mostly literally copied from
tempest as of today. [1]  It's slightly modified to
appease N521 hacking check.

tempest/scenario/manager.py is not a part of tempest stable
interface for plugins. [2]

This was suggested on openstack-dev as a preparation for
the coming refactoring in tempest. [3]

As tempest is branchless, this change needs to be backported
to all relevant stable branches.

[1] d184d619d7adc6ab60055884515055a7f3cf7770
[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use
[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html

Change-Id: I8c2bb8b7b02e5e755d64fd29f9d20a55dc75ccdd
(cherry picked from commit 29e0732f2af35ebebc465bca051415a58e522d85)
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/76/450076/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/tests/tempest_plugin/tests/scenario/manager.py', 'networking_sfc/tests/tempest_plugin/tests/scenario/base.py']",2,f677e79ec6db0b6bc790d60d4e811187650a065d,tempest-manager,from networking_sfc.tests.tempest_plugin.tests.scenario import manager,from tempest.scenario import manager,1351,1
openstack%2Foslo-specs~master~I51f10aaaaec05b0476025c4e27df2f1eaf0930ff,openstack/oslo-specs,master,I51f10aaaaec05b0476025c4e27df2f1eaf0930ff,Add TweetMQ oslo.messaging driver spec,ABANDONED,2017-03-31 14:19:44.000000000,2017-04-04 11:35:36.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 9396}, {'_account_id': 9664}, {'_account_id': 11303}, {'_account_id': 11600}, {'_account_id': 11655}, {'_account_id': 12651}, {'_account_id': 13692}, {'_account_id': 14511}, {'_account_id': 14611}, {'_account_id': 18893}, {'_account_id': 19206}, {'_account_id': 19520}, {'_account_id': 22752}, {'_account_id': 22860}, {'_account_id': 23220}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-03-31 14:19:44.000000000', 'files': ['specs/pike/tweetmq.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/c9796e5c136a22e13645366d4c89ed4db2dc1118', 'message': 'Add TweetMQ oslo.messaging driver spec\n\nCo-Authored-By: Dawid Deja <dawid.deja@intel.com>\nCo-Authored-By: Lukasz Leszczuk <lleszczuk@gmail.com>\nCo-Authored-By: Szymon Borkowski <szymon.borkowski@intel.com>\nChange-Id: I51f10aaaaec05b0476025c4e27df2f1eaf0930ff\n'}]",32,452219,c9796e5c136a22e13645366d4c89ed4db2dc1118,20,20,1,11600,,,0,"Add TweetMQ oslo.messaging driver spec

Co-Authored-By: Dawid Deja <dawid.deja@intel.com>
Co-Authored-By: Lukasz Leszczuk <lleszczuk@gmail.com>
Co-Authored-By: Szymon Borkowski <szymon.borkowski@intel.com>
Change-Id: I51f10aaaaec05b0476025c4e27df2f1eaf0930ff
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/19/452219/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/tweetmq.rst'],1,c9796e5c136a22e13645366d4c89ed4db2dc1118,bp/tweetmq,"=============================== Use Twitter in oslo.messaging =============================== https://blueprints.launchpad.net/oslo?searchtext=tweetmq One of the most important issue in OpenStack's scalability is RabbitMQ scale limit. To address this issue we propose using infrastructure of someone who deals with billions of messages every day - introducing TweetMQ. Problem description =================== As stated above the problem is RabbitMQ being not scalable when running more than ~1500 compute nodes. To address that we propose using Twitter API (and infrastructure) to communicate between services. This may be useful for building federated clouds. Also please note that Twitter is already cloud-native technology in contrary to legacy-app-style RabbitMQ system. Proposed change =============== A new oslo.messaging driver called TweetMQ will be introduced. Design assumptions: * Each MQ client will register a Twitter acount on initialization. * A configurable master account will make client discovery possible: * Each client account is required to follow master account. * Clients monitor followers of master account and follow all of them as well. * Publishing a message on a queue is realized by publishing a tweet. * The name of the queue we want to publish on and mode (direct or fanout) is sent as a tweet text separated by space. E.g. ""nova-conductor direct"" * The message itself is encoded in BMP image attached to the tweet. * This way we're bypassing 140 chars limit. * ACK is implemented by retweeting a read message on account of the client. Explanation diagram:: +-------------------+ | | +Host A----------------+ | +Host B----+-----------+ | +---------+ | | | Decode | | | Service | | | | message | | +---+-----+ | | | from bmp | | | | | | | | | | | +----+----+ | +------v---------+ | | Sends | | Twitter | | | Oslo.messaging | | | Message | | Magick | | +-----+----------+ | | | | +----^----+ | | | | | | | | Receive | | | | | | message | | +------v---------+ | | | | | | | Oslo.messaging | | | | +---v-----+ | | +------+---------+ | | | | Service | | | | | | | +---------+ | | | | | | | | | | | | | | | | | | | | | Enocde | | | | | +--message--------------+ | | | to bmp | | | +----------------------+ +----------------------+ Alternatives ------------ Slack? What's App? Viber? Or Facebook Messenger? Impact on Existing APIs ----------------------- All existing oslo.messaging APIs will get implemented. Security impact --------------- There's no security impact, as message contents in images will be encrypted using a configurable key shared between clients. Besides that Twitter API implements HTTPS. Performance Impact ------------------ Potentially there will be negligible performance impact as we'll be hitting HTTP API that is not colocated in cloud's datacenter. This is a tradeoff you need to face when increasing scalability of the system. Configuration Impact -------------------- Few options will be added here and there, in particular in [tweetmq] section. Developer Impact ---------------- None. Testing Impact -------------- We should implement an oslo.messaging CI that will be running the driver. Implementation ============== Assignee(s) ----------- Primary assignee: * dulek Other contributors: * ddeja * lukl Milestones ---------- Target Milestone for completion: Pike Work Items ---------- * Implement the driver. * Create CI. Documentation Impact ==================== New driver will get documented. Dependencies ============ None. References ========== * Twitter API reference: https://dev.twitter.com/rest/public .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,155,0
openstack%2Frenderspec~master~I3eff2fcc8daf5b9819fa9fd14fee8d89b64f5d93,openstack/renderspec,master,I3eff2fcc8daf5b9819fa9fd14fee8d89b64f5d93,Fix docs for child templates,MERGED,2017-04-04 10:36:50.000000000,2017-04-04 11:32:01.000000000,2017-04-04 11:32:01.000000000,"[{'_account_id': 3}, {'_account_id': 13294}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-04 10:36:50.000000000', 'files': ['doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/611f92cad92ad3e1dd5f78cf13da281f31eb892d', 'message': 'Fix docs for child templates\n\nSyntax was wrong.\n\nChange-Id: I3eff2fcc8daf5b9819fa9fd14fee8d89b64f5d93\n'}]",0,453112,611f92cad92ad3e1dd5f78cf13da281f31eb892d,7,3,1,7102,,,0,"Fix docs for child templates

Syntax was wrong.

Change-Id: I3eff2fcc8daf5b9819fa9fd14fee8d89b64f5d93
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/12/453112/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,611f92cad92ad3e1dd5f78cf13da281f31eb892d,,For example consider simple `renderspec/dist-templates/fedora.spec.j2`::allows following in a spec template::to render into::,For example consider simple `renderspec/dist-templates/fedora.spec.j2`:allows following in a spec template:to render into,3,3
openstack%2Fnova-specs~master~Iee38be61f4e8d6c98f9a2655837398c0aa94fb04,openstack/nova-specs,master,Iee38be61f4e8d6c98f9a2655837398c0aa94fb04,WIP add FusionCompute driver,ABANDONED,2017-02-07 07:13:16.000000000,2017-04-04 11:28:33.000000000,,"[{'_account_id': 3}, {'_account_id': 15888}]","[{'number': 1, 'created': '2017-02-07 07:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/71df01542a0af54b89826fb0896dacef2099d00f', 'message': 'WIP add FusionCompute driver\n\nChange-Id: Iee38be61f4e8d6c98f9a2655837398c0aa94fb04\nBlueprint: add-fusion-compute-driver\n'}, {'number': 2, 'created': '2017-02-07 07:16:39.000000000', 'files': ['specs/pike/approved/add-fusioncompute-driver.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2f22ba48a3c6f1548bb279dd747032a66b100b9e', 'message': 'WIP add FusionCompute driver\n\nChange-Id: Iee38be61f4e8d6c98f9a2655837398c0aa94fb04\nBlueprint: add-fusioncompute-driver\n'}]",0,430099,2f22ba48a3c6f1548bb279dd747032a66b100b9e,5,2,2,15888,,,0,"WIP add FusionCompute driver

Change-Id: Iee38be61f4e8d6c98f9a2655837398c0aa94fb04
Blueprint: add-fusioncompute-driver
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/99/430099/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/add-fusioncompute-driver.rst'],1,71df01542a0af54b89826fb0896dacef2099d00f,bp/add-fusioncompute-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== FusionCompute Driver Integration - Phase 1 ========================================== `<https://blueprints.launchpad.net/nova/+spec/add-fusioncompute-driver>`_ The FusionCompute driver has been developed out-of-tree, but with the intention to provide an in-tree implementation. Before it could be integrated in-tree, the Nova core teams provided several requirements that have since been met. This blueprint is the first in a series that will work toward FusionCompute driver integration in-tree. Problem description =================== The FusionCompute driver, which provides OpenStack enablement for FusionCompute computing virtualization software providing tuned high performance and high reliabilities in VM instance provisioning, clustered resource pool management and intelligent HA/FT scheduling, is being proposed for integration into the main Nova tree. However, as the out-of-tree driver has grown to contain a significant amount of function and maturity over the past OpenStack releases, the intention is to bring this driver in-tree. The work to drive towards full integration is expected to be driven over multiple OpenStack releases. This first blueprint is to provide minimal integration into Nova for the Pike release. The FusionCompute driver team has met the following requirements from the Nova core team. * CI running and publishing results against Nova and nova-fusioncompte driver: Results are publicly available, as well as the configuration of the CI. Per guidance from the Nova core team, the CI runs against all Nova change sets but is not currently voting on patches as it is not an in-tree driver. The `configuration for the CI`_ is also publicly available. * External users beyond Huawei: TBA * Show commitment to the driver: Our first supported release was Liberty and we continue to maintain, grow and extend the driver with each subsequent release, following the stable branch support model. We are committed to developing the driver following the `OpenStack way`_, with open source code, open design/development, and an open community (IRC @ #openstack-fusioncompute, etc). The PowerVM driver fits the Nova compute driver design, and follows the community development direction. We also ensure that the development team is actively participating in upstream development - attending IRC meetings, mid-cycles, and summits. The out-of-tree driver will be maintained, supported and extended as the in-tree driver is being integrated. For this first phase, it is expected new code will first be proposed to the out-of-tree driver and then proposed in-tree. As the integration of the driver progresses further, that process shifts to all code being proposed in-tree. However, for any contribution (either in-tree or out-of-tree), the primary contributors of this blueprint will ensure the change is proposed to the other driver during this transition period. .. _`configuration for the CI`: https://github.com/powervm/powervm-ci .. _`OpenStack way`: https://governance.openstack.org/reference/new-projects-requirements.html Use Cases --------- Phase 1 Use Cases: * A user should be able to deploy a glance-based image with basic networking on a system with the FusionCompute hypervisor. That image may be Linux (RHEL, SLES, Ubuntu, etc...). Proposed change =============== The change proposed is to submit a series of patches building out enough basic function to support deployment of a glance-based virtual machine on FusionCompute. This subset of the driver code (and associated unit tests) would support features such as: * Basic VM lifecycle tasks (launch, shutdown, reboot, snapshot, etc) * Instance status * VNC console * Flat/VLAN networking using the Open vSwitch Neutron agent * Config drive The phase 1 of the driver is meant to get the net minimum of `mandatory` and `choice` options from the `support matrix`_. .. _`support matrix`: http://docs.openstack.org/developer/nova/support-matrix.html The nova-fusioncompute live migration object will also be integrated to reduce friction that operators have expressed. Integration of the object makes it easier for existing operator deployments. In subsequent releases we will work to bring further function into the Nova tree, but we see this as a long-term journey. Some of the specific functions that would come as part of future blueprints that are not part of this one: * Resize * Live Migrate * Cold Migrate * Cinder Volume Support * Shared Ethernet Support (FusionCompute network technology) There are additional functions (that are currently integrated in the out-of-tree driver), but they will be proposed as part of subsequent blueprints. Alternatives ------------ 1) Integrate the entire driver. That would be too unwieldy to do in one release and would require too much core reviewer time. 2) Do not integrate the driver. As there are users of the driver, and the Nova direction is to have drivers in-tree, this is not an option. 3) Officially support out-of-tree drivers via Nova. Allow integration of driver objects that are required in-tree to be added for out-of-tree drivers (e.g. the live migration object). This was discussed at one point but at the time was decided to not be ideal (as all the official drivers are in-tree). Data model impact ----------------- No core data model impact. The live migration object for PowerVM would be integrated. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None. Integration has no performance effect on existing code paths. Other deployer impact --------------------- Deployers who wish to use the PowerVM driver will need to change the ``compute_driver`` in their conf to ``fusioncompute``. The in-tree FusionCompute driver will initially have a very limited set of functionality. As noted above, they can install the nova-fusioncompute out-of-tree driver to gain the additional functionality while the team works over multiple releases to integrate the driver. For this first integration, there will be no required configuration from the deployer beyond setting the ``compute_driver`` type. The driver will be documented in the hypervisor support matrix (along with its capabilities in-tree). A new dependency on ``pyfusioncompute`` will be introduced . This is a third-party, open-source library that allows its consumers to drive FusionCompute virtualization. The FusionCompute live migration object will be integrated into Nova. Even though it uses features that won't yet be available in the integrated FusionCompute driver, it eases the burden on the deployers using the out-of-tree driver (during the transition period) so that they do not have to install nova-fusioncompute on the controller node. We have multiple deployers citing that this is a challenge to their existing deployments. Developer impact ---------------- There are no changes to the driver API. The FusionCompute driver will conform to the existing Nova API. Implementation ============== Assignee(s) ----------- Primary assignees: Other contributors: Work Items ---------- * Add the pyfusioncompute dependency * Create the fusioncompute driver directory * Add support for basic life cycle tasks (Create, Power On/Off, Delete) * Add support for OVS-based networks * Add the FusionCompute live migration object to nova * Add console support via VNC * Increase the scope of the existing FusionCompute CI to include the FusionCompute driver in-tree. Two jobs will need to be kicked off for each Nova change (one for out-of-tree, one for in-tree) during this transition period. Dependencies ============ Testing ======= All code paths run through the standard Tempest tests as part of our CI. The code will also include significant unit test. This code will come from the out-of-tree nova-powervm driver. The CI infrastructure will also continue to support the automated testing of the out-of-tree nova-powervm driver. Voting will be enabled for the CI for the in-tree driver only. Per our discussions with the Nova core team, we will not enable voting for the out-of-tree driver. However, logs for both runs are publicly available, and we have dedicated team members monitoring and supporting the CI. No new tests are required. The PowerVM driver is meant to conform to the Nova model. Outside testing will be done to validate performance and scale. This has already been done on the out-of-tree driver. RefStack compliance will also be validated, but we do not expect this first phase to pass as it does not have all of the required support out of the box. Documentation Impact ==================== We will work with the ID team to create new documents on the PowerVM driver. A proposed update to the hypervisor driver matrix will be made as well. References ========== History ======= Historically speaking, there have been a couple other Power drivers. The first PowerVM driver was built on PowerVM and only worked with a component called IVM. The challenge with this was that it required the nova-compute to run on a separate server and SSH in to issue commands. It also did not integrate well with other OpenStack components. There was also the PowerVC OpenStack driver. This sat on top of PowerVC and was a clustered management model. Due to the push away from clustered management, this was not the approved management model for OpenStack Nova Compute. It was never pulled in-tree. This model is different, with core changes to the PowerVM hypervisor. It has been shipping in the field for a long period of time, and has products built on top of it. It also matches the development model of OpenStack Nova and has dedicated developers who have been working on it for multiple years. Lastly, Power systems also natively run Linux. For those wishing to use KVM on Power, the standard libvirt driver is also available. However, that support is limited to Linux based client virtual machines. A rough timeline is provided below. * November 2013: PowerVM IVM driver removed due to lack of CI and development. Also did not fit the direction of Nova core team to have the Nova compute process running on the system itself. * October 2014: `First commit`_ for new PowerVM driver built on NovaLink. * May 2015: Socialized the NovaLink based PowerVM driver at the summit. NovaLink changes the hypervisor itself to match the OpenStack model. All OpenStack code was developed from the start as open source. * October 2015: Liberty based out-of-tree nova-powervm driver released. All developed openly. Support for: * Lifecycle operations * Spawn from glance * Cinder FC support * Nova with networking-powervm agent * Live Migration * AIX and Linux VMs * DevStack * TaskFlow in its core to support graceful rollbacks of failed operations * January 2016: Continuous Integration environment live. * April 2016: nova-powervm driver updated for Mitaka release. All nova-powervm development done openly during the release. Initial third-party contributions made. Added new capabilities: * Cold Migration / Rebuild / Resize * Scalability testing * Basic VNC Console * IBM i VMs * Scale & Resiliency testing * July 2016: CI running against all Nova patch sets. Not voting (due to Nova core team guidance) but logs still published to log server. * October 2016: nova-powervm driver updated for Newton release. Updated for: * SR-IOV via PowerVM vNIC * Linux Bridge / OVS * Enhancements to VNC console * Integration with OpenStack Ansible (outside nova-powervm) .. _`First commit`: https://github.com/openstack/nova-powervm/commit/095e1c183baf4f9083d6b0d363818be21f64f992 .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,345,0
openstack%2Fneutron~master~Ib2a635575bcdfdad865670c51d113301f8033238,openstack/neutron,master,Ib2a635575bcdfdad865670c51d113301f8033238,Remove unused port_to_br OVS method,ABANDONED,2017-03-17 09:21:19.000000000,2017-04-04 11:27:04.000000000,,"[{'_account_id': 3}, {'_account_id': 5756}, {'_account_id': 8124}, {'_account_id': 9732}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-17 09:21:19.000000000', 'files': ['neutron/agent/ovsdb/native/commands.py', 'neutron/agent/ovsdb/impl_vsctl.py', 'neutron/agent/ovsdb/impl_idl.py', 'neutron/agent/ovsdb/api.py', 'neutron/tests/unit/agent/ovsdb/test_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c760f014f0b3c9fee73b5739a66c6253a99743f9', 'message': 'Remove unused port_to_br OVS method\n\nThis change removes port_to_br method which is not used in OpenStack\nprojects.\n\nChange-Id: Ib2a635575bcdfdad865670c51d113301f8033238\n'}]",0,446909,c760f014f0b3c9fee73b5739a66c6253a99743f9,12,9,1,8124,,,0,"Remove unused port_to_br OVS method

This change removes port_to_br method which is not used in OpenStack
projects.

Change-Id: Ib2a635575bcdfdad865670c51d113301f8033238
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/446909/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovsdb/native/commands.py', 'neutron/agent/ovsdb/impl_vsctl.py', 'neutron/agent/ovsdb/impl_idl.py', 'neutron/agent/ovsdb/api.py', 'neutron/tests/unit/agent/ovsdb/test_api.py']",5,c760f014f0b3c9fee73b5739a66c6253a99743f9,remove-port-to-br,," def port_to_br(self, name): pass ",0,34
openstack%2Fos-win~stable%2Focata~I5542046375114c24387cbcfba0aa8528f8e0dd6d,openstack/os-win,stable/ocata,I5542046375114c24387cbcfba0aa8528f8e0dd6d,Uses _compat_conn where WMI objects need to be updated or added,MERGED,2017-04-04 09:57:57.000000000,2017-04-04 11:25:46.000000000,2017-04-04 11:25:46.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-04-04 09:57:57.000000000', 'files': ['os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/compute/vmutils.py', 'os_win/tests/unit/utils/compute/test_migrationutils.py', 'os_win/utils/compute/migrationutils.py', 'os_win/utils/baseutils.py', 'os_win/tests/unit/utils/compute/test_livemigrationutils.py', 'os_win/exceptions.py', 'os_win/utils/compute/livemigrationutils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/1c52396ac483c554ec37c1c6cef79931a6821d85', 'message': ""Uses _compat_conn where WMI objects need to be updated or added\n\nThis patch only affects Windows / Hyper-V Server 2012.\n\nOn Windows / Hyper-V Server 2012_compat_conn represents the old WMI\nconnection, in order to ensure that the add / update operations work\nproperly, since PyMI's and WMI's GetText_(1) outputs are different,\ncausing an issue on 2012.\n\nNote(claudiub): The merge conflict resulted from the different line\nendings in the file.\n\nConflicts:\n\tos_win/tests/unit/utils/compute/test_migrationutils.py\n\tos_win/utils/compute/migrationutils.py\n\n(cherry-picked from commit 973f50ff1dedfee2718228e5bda12ed00940059d)\n\nCloses-Bug: #1678968\n\nChange-Id: I5542046375114c24387cbcfba0aa8528f8e0dd6d\n""}]",0,453090,1c52396ac483c554ec37c1c6cef79931a6821d85,7,2,1,8213,,,0,"Uses _compat_conn where WMI objects need to be updated or added

This patch only affects Windows / Hyper-V Server 2012.

On Windows / Hyper-V Server 2012_compat_conn represents the old WMI
connection, in order to ensure that the add / update operations work
properly, since PyMI's and WMI's GetText_(1) outputs are different,
causing an issue on 2012.

Note(claudiub): The merge conflict resulted from the different line
endings in the file.

Conflicts:
	os_win/tests/unit/utils/compute/test_migrationutils.py
	os_win/utils/compute/migrationutils.py

(cherry-picked from commit 973f50ff1dedfee2718228e5bda12ed00940059d)

Closes-Bug: #1678968

Change-Id: I5542046375114c24387cbcfba0aa8528f8e0dd6d
",git fetch https://review.opendev.org/openstack/os-win refs/changes/90/453090/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/tests/unit/test_base.py', 'os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/tests/unit/utils/compute/test_migrationutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/baseutils.py', 'os_win/utils/compute/migrationutils.py', 'os_win/tests/unit/utils/compute/test_livemigrationutils.py', 'os_win/exceptions.py', 'os_win/utils/compute/livemigrationutils.py']",9,1c52396ac483c554ec37c1c6cef79931a6821d85,bug/1678968," return self._get_wmi_obj(self._wmi_namespace % host, compatibility_mode=True)", return self._get_wmi_obj(self._wmi_namespace % host),29,10
openstack%2Frpm-packaging~master~Ib4877ee475cce02053c112e0fdf80e63e718b2d6,openstack/rpm-packaging,master,Ib4877ee475cce02053c112e0fdf80e63e718b2d6,Update cliff to 2.5.0,MERGED,2017-04-03 20:52:46.000000000,2017-04-04 11:17:02.000000000,2017-04-04 10:26:59.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-04-03 20:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5c7fe40e4f3f9425da47dd6ea2930231d91bbc56', 'message': 'Update cliff to 2.5.0\n\nChange-Id: Ib4877ee475cce02053c112e0fdf80e63e718b2d6\nDepends-on: I0826110f009c46cab9228690449841ccbff1f580\n'}, {'number': 2, 'created': '2017-04-04 10:22:00.000000000', 'files': ['openstack/cliff/cliff.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a959152a39533589f02f2ba716b4baa6c67e714d', 'message': 'Update cliff to 2.5.0\n\nChange-Id: Ib4877ee475cce02053c112e0fdf80e63e718b2d6\nDepends-on: I0826110f009c46cab9228690449841ccbff1f580\n'}]",0,452940,a959152a39533589f02f2ba716b4baa6c67e714d,30,6,2,17130,,,0,"Update cliff to 2.5.0

Change-Id: Ib4877ee475cce02053c112e0fdf80e63e718b2d6
Depends-on: I0826110f009c46cab9228690449841ccbff1f580
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/40/452940/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cliff/cliff.spec.j2'],1,5c7fe40e4f3f9425da47dd6ea2930231d91bbc56,update-cliff,Version: 2.5.0,Version: 2.4.0,1,1
openstack%2Fnova-specs~master~I676b13cabbf3ad176e8f0041f8f7942d8dcecc55,openstack/nova-specs,master,I676b13cabbf3ad176e8f0041f8f7942d8dcecc55,change pci-passthrough-whitelist-regex spec to 644,MERGED,2017-02-21 13:31:13.000000000,2017-04-04 11:16:04.000000000,2017-04-04 11:16:04.000000000,"[{'_account_id': 3}, {'_account_id': 782}]","[{'number': 1, 'created': '2017-02-21 13:31:13.000000000', 'files': ['specs/ocata/approved/pci-passthrough-whitelist-regex.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f143579804c61e77ba67becdfa952c4b164471da', 'message': 'change pci-passthrough-whitelist-regex spec to 644\n\nChange-Id: I676b13cabbf3ad176e8f0041f8f7942d8dcecc55\n'}]",0,436451,f143579804c61e77ba67becdfa952c4b164471da,6,2,1,12171,,,0,"change pci-passthrough-whitelist-regex spec to 644

Change-Id: I676b13cabbf3ad176e8f0041f8f7942d8dcecc55
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/51/436451/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/pci-passthrough-whitelist-regex.rst'],1,f143579804c61e77ba67becdfa952c4b164471da,,,,0,0
openstack%2Fnova-specs~master~If470b65277718a4c6d1c56b4d215b565babe67d0,openstack/nova-specs,master,If470b65277718a4c6d1c56b4d215b565babe67d0,Fix typos in docs,MERGED,2016-12-19 07:50:08.000000000,2017-04-04 11:15:57.000000000,2017-04-04 11:15:57.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22104}]","[{'number': 1, 'created': '2016-12-19 07:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/19267207f764d5a97368a2992c7bfec9990ee6a8', 'message': 'Fix typo in same-instances-scheduling.rst\n\n""automaticly"" should be ""automatically""\n\nChange-Id: If470b65277718a4c6d1c56b4d215b565babe67d0\n'}, {'number': 2, 'created': '2016-12-19 07:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f9fd56bd78b1b42ac232515e8f90dfedaa29ed4e', 'message': 'Fix typo in same-instances-scheduling.rst\n\n""automaticly"" should be ""automatically""\n\nChange-Id: If470b65277718a4c6d1c56b4d215b565babe67d0\n'}, {'number': 3, 'created': '2016-12-20 02:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0abe76a63c6ff91e3d22d690b6444c206a5c9226', 'message': 'Fix typos in docs\n\n""automaticly"" should be ""automatically""\n""instnaces"" should be ""instances""\n\nChange-Id: If470b65277718a4c6d1c56b4d215b565babe67d0\n'}, {'number': 4, 'created': '2016-12-26 08:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f2ffe30b03b42a89754e977783cbae58df650c70', 'message': 'Fix typos in docs\n\nTrivialFix:\n""automaticly"" should be ""automatically""\n""instnaces"" should be ""instances""\n\nChange-Id: If470b65277718a4c6d1c56b4d215b565babe67d0\n'}, {'number': 5, 'created': '2017-01-20 07:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/577a3ede23bf075a78c92e409fe3a287baeef23c', 'message': 'Fix typos in docs\n\nTrivialFix:\n""automaticly"" should be ""automatically""\n""instnaces"" should be ""instances""\n\nChange-Id: If470b65277718a4c6d1c56b4d215b565babe67d0\n'}, {'number': 6, 'created': '2017-02-04 01:55:00.000000000', 'files': ['specs/newton/approved/virt-rescue-stable-disk-devices.rst', 'specs/kilo/approved/nova-api-policy.rst', 'specs/mitaka/approved/virt-rescue-stable-disk-devices.rst', 'specs/backlog/approved/same-instances-scheduling.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f53c30d90b75153366bab5bb242362b5a701af24', 'message': 'Fix typos in docs\n\nTrivialFix:\n""automaticly"" should be ""automatically""\n""instnaces"" should be ""instances""\n""verison"" should be ""version""\n\nChange-Id: If470b65277718a4c6d1c56b4d215b565babe67d0\n'}]",1,412338,f53c30d90b75153366bab5bb242362b5a701af24,23,5,6,22104,,,0,"Fix typos in docs

TrivialFix:
""automaticly"" should be ""automatically""
""instnaces"" should be ""instances""
""verison"" should be ""version""

Change-Id: If470b65277718a4c6d1c56b4d215b565babe67d0
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/38/412338/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,19267207f764d5a97368a2992c7bfec9990ee6a8,,,,0,0
openstack%2Fnova-specs~master~I4aca0073f1fa26ff0c3a34407370f6ba6d916879,openstack/nova-specs,master,I4aca0073f1fa26ff0c3a34407370f6ba6d916879,Fix additional mistakes in the NUMA spec document,MERGED,2016-05-31 09:37:11.000000000,2017-04-04 11:15:27.000000000,2017-04-04 11:15:27.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 6772}, {'_account_id': 7634}, {'_account_id': 9569}, {'_account_id': 10618}, {'_account_id': 12171}, {'_account_id': 15334}, {'_account_id': 17216}]","[{'number': 1, 'created': '2016-05-31 09:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/72ad3e1cd180cb23b0cc6bdfed4d11039228900b', 'message': ""Fix additional mistakes in the NUMA spec document\n\nThe 'hw:numa_mempolicy' paramter was never implemented and will likely\nnever be, however, it's located in the 'implemented' folder suggesting\notherwise. Seeing as specs are as much a reference as anything, this\ninvalid information should not be retained. Correct this.\n\nChange-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879\nSigned-off-by: Stephen Finucane <stephen.finucane@intel.com>\n""}, {'number': 2, 'created': '2016-06-08 13:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/28c0b23faff8fbe7c9a6d0b8c0d1eb03de4cd5ac', 'message': ""Fix additional mistakes in the NUMA spec document\n\nThe 'hw:numa_mempolicy' parameter was never implemented and will likely\nnever be, however, it's located in the 'implemented' folder suggesting\notherwise. Seeing as specs are as much a reference as anything, this\ninvalid information should not be retained. Correct this, taking the\nopportunity to fix some other typo, line wrapping and general\nformatting.\n\nChange-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879\n""}, {'number': 3, 'created': '2016-07-04 09:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/375df370fb35172d3572bcd73d40cac914696a62', 'message': ""Fix additional mistakes in the NUMA spec document\n\nThe 'hw:numa_mempolicy' parameter was never implemented and will likely\nnever be, however, it's located in the 'implemented' folder suggesting\notherwise. Seeing as specs are as much a reference as anything, this\ninvalid information should not be retained. Correct this, taking the\nopportunity to fix some other typo, line wrapping and general\nformatting.\n\nChange-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879\n""}, {'number': 4, 'created': '2016-11-28 10:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/69de21c87191b70c265bd40d2dbe10a7d61bcef1', 'message': ""Fix additional mistakes in the NUMA spec document\n\nThe 'hw:numa_mempolicy' parameter was never implemented and will likely\nnever be, however, it's located in the 'implemented' folder suggesting\notherwise. Seeing as specs are as much a reference as anything, this\ninvalid information should not be retained. Correct this, taking the\nopportunity to fix some other typo, line wrapping and general\nformatting.\n\nChange-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879\n""}, {'number': 5, 'created': '2017-02-09 17:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/54e11f3d5676aa3394b696092cbfe7d3fa3f04cd', 'message': ""Fix additional mistakes in the NUMA spec document\n\nThe 'hw:numa_mempolicy' parameter was never implemented and will likely\nnever be, however, it's located in the 'implemented' folder suggesting\notherwise. Seeing as specs are as much a reference as anything, this\ninvalid information should not be retained. Correct this, taking the\nopportunity to fix some other typo, line wrapping and general\nformatting.\n\nChange-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879\n""}, {'number': 6, 'created': '2017-02-10 11:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/370f8cccefa1c3340e57ca951f71118d3c3398ce', 'message': ""Fix additional mistakes in the NUMA spec document\n\nThe 'hw:numa_mempolicy' parameter was never implemented and will likely\nnever be, however, it's located in the 'implemented' folder suggesting\notherwise. Seeing as specs are as much a reference as anything, this\ninvalid information should not be retained. Correct this, taking the\nopportunity to fix some other typo, line wrapping and general\nformatting.\n\nChange-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879\n""}, {'number': 7, 'created': '2017-02-13 14:40:14.000000000', 'files': ['specs/juno/implemented/virt-driver-numa-placement.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/45252df4c54674d2ac71cd88154af476c4d510e1', 'message': ""Fix additional mistakes in the NUMA spec document\n\nThe 'hw:numa_mempolicy' parameter was never implemented and will likely\nnever be, however, it's located in the 'implemented' folder suggesting\notherwise. Seeing as specs are as much a reference as anything, this\ninvalid information should not be retained. Correct this, taking the\nopportunity to fix some other typo, line wrapping and general\nformatting.\n\nChange-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879\n""}]",18,323252,45252df4c54674d2ac71cd88154af476c4d510e1,36,11,7,15334,,,0,"Fix additional mistakes in the NUMA spec document

The 'hw:numa_mempolicy' parameter was never implemented and will likely
never be, however, it's located in the 'implemented' folder suggesting
otherwise. Seeing as specs are as much a reference as anything, this
invalid information should not be retained. Correct this, taking the
opportunity to fix some other typo, line wrapping and general
formatting.

Change-Id: I4aca0073f1fa26ff0c3a34407370f6ba6d916879
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/52/323252/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/implemented/virt-driver-numa-placement.rst'],1,72ad3e1cd180cb23b0cc6bdfed4d11039228900b,feat/remove-numa_mempolicy-docs,"the flavor vCPUs and RAM will be divided equally across the NUMA nodes. When this is set, it is mandatory for the instance's RAM allocations to come from the NUMA nodes to which it is bound.RAM it will not be considered a valid match.","* hw:numa_mempolicy=preferred|strict - memory allocation policythe flavor vCPUs and RAM will be divided equally across the NUMA nodes. The 'hw:numa_mempolicy' option allows specification of whether it is mandatory for the instance's RAM allocations to come from the NUMA nodes to which it is bound, or whether the kernel is free to fallback to using an alternative node. If 'hw:numa_nodes' is specified, then 'hw:numa_mempolicy' is assumed to default to 'strict'. It is useful to change it to 'preferred' when the 'hw:numa_nodes' parameter is being set to '1' to force disable use of NUMA by image property overrides.RAM it will not be considered a valid match. The same logic will be applied in the scheduler regardless of the hw:numa_mempolicy option setting.* hw_numa_mempolicy=strict|preferred - memory allocation policy",4,13
openstack%2Fpuppet-tripleo~master~If749dc9148ccf8f2fa12b56b6ed6740f42e65aeb,openstack/puppet-tripleo,master,If749dc9148ccf8f2fa12b56b6ed6740f42e65aeb,Add tunnel timeout for ui proxy container,MERGED,2017-03-31 00:40:08.000000000,2017-04-04 11:06:18.000000000,2017-04-03 22:25:10.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 10112}]","[{'number': 1, 'created': '2017-03-31 00:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/591b8b73b2bd9c21cdba1afe84e3ef06632e5e17', 'message': 'Add tunnel timeout for ui proxy container\n\nAdd an explicit tunnel timeout configuration option to increase the\ntunnel timeout for persistent socket connections from two minutes (2m)\nto one hour (3600s).  A configuration was already present to apply a\ntunnel timeout to the zaqar_ws endpoint, but that only applies to\nconnections made directly to the zaqar_ws endpoint directly.  Since UI\nnow uses mod_proxy to proxy WebSocket connections for Zaqar, the timeout\nis now applied for the same reasons to the ui haproxy server.\n\nChange-Id: If749dc9148ccf8f2fa12b56b6ed6740f42e65aeb\nCloses-Bug: 1672826\n'}, {'number': 2, 'created': '2017-03-31 03:36:27.000000000', 'files': ['manifests/haproxy.pp', 'releasenotes/notes/add-tunnel-timeout-for-haproxy-ui-0705dfd671f9f487.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e8125cb3640e0fe74b8617aaf55686d5645c8f7f', 'message': 'Add tunnel timeout for ui proxy container\n\nAdd an explicit tunnel timeout configuration option to increase the\ntunnel timeout for persistent socket connections from two minutes (2m)\nto one hour (3600s).  A configuration was already present to apply a\ntunnel timeout to the zaqar_ws endpoint, but that only applies to\nconnections made directly to the zaqar_ws endpoint directly.  Since UI\nnow uses mod_proxy to proxy WebSocket connections for Zaqar, the timeout\nis now applied for the same reasons to the ui haproxy server.\n\nChange-Id: If749dc9148ccf8f2fa12b56b6ed6740f42e65aeb\nCloses-Bug: 1672826\n'}]",1,452017,e8125cb3640e0fe74b8617aaf55686d5645c8f7f,22,4,2,21794,,,0,"Add tunnel timeout for ui proxy container

Add an explicit tunnel timeout configuration option to increase the
tunnel timeout for persistent socket connections from two minutes (2m)
to one hour (3600s).  A configuration was already present to apply a
tunnel timeout to the zaqar_ws endpoint, but that only applies to
connections made directly to the zaqar_ws endpoint directly.  Since UI
now uses mod_proxy to proxy WebSocket connections for Zaqar, the timeout
is now applied for the same reasons to the ui haproxy server.

Change-Id: If749dc9148ccf8f2fa12b56b6ed6740f42e65aeb
Closes-Bug: 1672826
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/452017/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'releasenotes/notes/add-tunnel-timeout-for-haproxy-ui-0705dfd671f9f487.yaml']",2,591b8b73b2bd9c21cdba1afe84e3ef06632e5e17,bug/1672826,--- fixes: - | Add a tunnel timeout to the HAProxy tripleo-ui configuration to ensure Zaqar WebSocket tunnels persist longer than two minutes https://bugs.launchpad.net/tripleo/+bug/1672826 ,,12,0
openstack%2Fnova-specs~master~I33389c29160e65fc627e55e27f9895d2592976bc,openstack/nova-specs,master,I33389c29160e65fc627e55e27f9895d2592976bc,Reproposes the Hyper-V Cluster spec to Ocata,ABANDONED,2016-08-03 12:46:58.000000000,2017-04-04 11:00:14.000000000,,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 12604}, {'_account_id': 15130}, {'_account_id': 23209}]","[{'number': 1, 'created': '2016-08-03 12:46:58.000000000', 'files': ['specs/ocata/approved/hyper-v-cluster.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/98a8bf35d08c78f1fbe96e099fc45117859db0d3', 'message': 'Reproposes the Hyper-V Cluster spec to Ocata\n\nPreviously-approved: Liberty, Mitaka, Newton\n\nChange-Id: I33389c29160e65fc627e55e27f9895d2592976bc\nImplements: blueprint hyper-v-cluster\n'}]",3,350559,98a8bf35d08c78f1fbe96e099fc45117859db0d3,9,7,1,8213,,,0,"Reproposes the Hyper-V Cluster spec to Ocata

Previously-approved: Liberty, Mitaka, Newton

Change-Id: I33389c29160e65fc627e55e27f9895d2592976bc
Implements: blueprint hyper-v-cluster
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/59/350559/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/hyper-v-cluster.rst'],1,98a8bf35d08c78f1fbe96e099fc45117859db0d3,bp/hyper-v-cluster,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============== Hyper-V Cluster =============== https://blueprints.launchpad.net/nova/+spec/hyper-v-cluster Hyper-V Clustering has been introduced since Windows / Hyper-V Server 2008 and it introduced several benefits such as highly available VMs, better performance, faster live migrations and other features. [1][2][3] Problem description =================== Hyper-V Clustering can bring a set of advantages to advantages that are not available otherwise and also improve the performance of existing features. A few examples would be highly available VMs, faster live migrations, network health detection, etc. A more detailed list of features can be found in the References section [1][2][3]. Currently, there is no support for Hyper-V Clusters in OpenStack. This blueprint is addressing this issue and adds an implementation. Use Cases ---------- This feature is particularly useful for its increased performance, highly available VMs and virtual machine and virtual machine network health detection. Proposed change =============== There are two methods for creating and deploying a Hyper-V Cluster, each with their own advantages and disadvantages: * Option A. Hyper-V Cluster controlled by a single nova-compute service. This means that the nova-compute service will run on a single Hyper-V Node in a Cluster and can manipulate WMI objects remotely on all the Cluster Nodes. Advantages: * Consistent disk resource tracking. The Cluster Shared Storage is only tracked by a single compute service. * Smaller overhead, as only one nova-compute service will necessary, as oposed to one nova-compute service / node. Disadvantages: * neutron-hyperv-agent are still mandatory on every Node. Even though its performance has been enhanced over the past release cycles, it won't be able to handle port binding efficiently, VLAN tagging and creating security group rules for each new port (up to thousands of ports in some scenarios). * ceilometer-agent-compute will have to run on each Node or implementing a Hyper-V Cluster Inspector is necessary, in order to poll the metrics of all the resources. * Free memory tracking issue. Consider this example: 16 x Nodes Cluster, each having 1 GB free memory => ResourceTracker will report 16 GB free memory. Deploying a 2 GB instance in the Cluster fails, as there is no viable host for it. * Free vCPU tracking issue. Same as above. * nova-compute service might perform poorly, as it will spawn threads for console logging for a considerably larger number of instances, which will cause the serial console access to be less responsive. * When performing actions on an instance, extra queries will be necessary in the Hyper-V Cluster Driver to determine on which Node the instance resides, in order to properly manipulate it. * The Hyper-V Cluster will act as a scheduler in choosing a node for a new instance, resulting in poor allocation choices. * The underlying cluster infrastructure will be opaque and the user won't be be able to know on which physical node the instance resides usinf Nova API. * Users cannot choose to live-migrate in the same cluster. As there is only one compute node reported in nova, all the 'foo' instances will be deployed on the host 'bar' and running the command: nova live-migration foo bar will result in a UnableToMigrateToSelf exception. This will negate one of the Hyper-V Cluster's advantages: faster live migrations within the same Cluster. * Option B. nova-compute service on each Hyper-V Cluster Node. Advantages: * Correct memory and vCPU tracking. * nova-scheduler will properly schedule the instances in the Cluster. * No decrease in nova-compute service's performance. * Live migrations within the same cluster are faster. Disadvantages: * Free disk resource tracking. Since all the nova-compute services will report on the same Cluster Shared Storage, each ResourceTracker will report different amount of storage used. For example, having a 500 GB node in shared storage and 2 instances with 200 GB used storage each on a single the cluster, that node will report having 100 GB free storage space, while other nodes, with no instances, will report as having 500 GB free. Trying to deploy another 200 GB instance would fail. This issue will be solved when the resource providers blueprint will be implemented. [8] This blueprint will address Option B, as its value far outweighs Option A. Almost all the existing Hyper-V code in nova is reusable for the purpose of creating the Hyper-V Cluster Driver, though a few changes are necessary for Option B: * Instances will have to added to be clustered when they are spawned. * Need to check before live migration if the new host is in the same Cluster. If it is in the same Cluster, cluster live migration will have to be performed, otherwise, the instance will have to unclustered before doing a classic live migration. * Cold migrations are still possible in Hyper-V Clusters, the same conditions as live migration apply. * The instance must be unclustered before it is destroyed. * When a new instance is added to the Cluster via live migration or cold migration from a non-clustered Hyper-V Server or from another Cluster, the instance will have to be clustered. * Develop method to query free / available disk space for a Cluster Shared Storage, which will be reported to the Resource Tracker. * Develop method to ensure that only one Hyper-V compute node will fetch a certain glance image. Failover migrations ------------------- A failover migration occurs whenever an instance can no longer run on a host due to various reasons (hardware failures, unexpected shutdowns, network healh issues, etc.), moving the instance to another suitable host in the cluster. This is done automatically by the Microsoft Cluster Service, without nova's knowledge. In order to address this issue, there are a few solutions available: 1. Create a WMI event listener which detects whenever failover occurs, and notify nova when they occur. 2. Disable failover migrations entirely, create a WMI event listener which will detect whenever a failover migration needs to happen, and request nova to do it. With this solution however, the instances will have a higher downtime, when a failover is needed. Alternatives ------------ None, in order take advantage of the benefits offered by the Hyper-V Cluster, the instances have to be clustered. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- nova-compute service will have to run with an Active Directory user which has Hyper-V Management priviledges on all the Hyper-V nodes. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ * Because of the cluster shared storage, the images will have to be cached only once per cluster, instead of once per node, resulting in less storage used for caching and less time spent doing it. * Because of the cluster shared storage, live migration and cold migration duration is greatly reduced. * Host evacuation takes place automatically when a clustered compute node is put into maintenance mode or is taken down. The instances are live-migrated, assuring high availability. Other deployer impact --------------------- * Hyper-V Cluster requirements: [4] * Creating Hyper-V Cluster: [5] * Hyper-V nodes will have to be joined in an Active Directory. * Hyper-V nodes will have to be joined in a Failover Cluster and the setup has to be validated. [6][7] * Only nodes with the same version can be joined in the same cluster. For example, clusters can contain only Windows / Hyper-V Server 2012, Windows / Hyper-V Server 2012 R2 or Windows / Hyper-V Server 2008 R2. * All Hyper-V nodes in the cluster must have access to the same shared cluster storage. * The path to the shared storage will have to be set in the compute nodes' nova.conf file as such: instances_path=\\SHARED_STORAGE\OpenStack\Instances * The compute_driver in compute nodes' nova.conf file will have to be set as such: compute_driver=nova.virt.hyperv.cluster.driver.HyperVClusterDriver * Hyper-V nodes in the same Cluster should be added to the same host aggregate. This will ensure that the scheduler will opt for a host in the same aggregate for cold migration. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Claudiu Belu <cbelu@cloudbasesolutions.com> Other contributors: Adelina Tuvenie <atuvenie@cloudbasesolutions.com> Work Items ---------- As described in the Proposed change section. Dependencies ============ None Testing ======= * Unit tests. * Tempest tests will be able to validate this feature and they will run as part of the Hyper-V CI. Documentation Impact ==================== Documentation about HyperVClusterDriver will be added. References ========== [1] Windows Hyper-V / Server 2012 Cluster features: https://technet.microsoft.com/en-us/library/dn265972.aspx#BKMK_2012 [2] Windows Hyper-V / Server 2012 R2 Cluster features: https://technet.microsoft.com/en-us/library/dn265972.aspx#BKMK_2012R2 [3] Hyper-V Cluster live migration: https://technet.microsoft.com/en-us/library/dd759249.aspx#BKMK_live [4] Hyper-V Cluster requirements: https://technet.microsoft.com/en-us/library/jj612869.aspx [5] Creating Hyper-V Cluster: http://blogs.technet.com/b/keithmayer/archive/2012/12/12/step-by-step-building-a-free-hyper-v-server-2012-cluster-part-1-of-2.aspx [6] Hyper-V Cluster validation: https://technet.microsoft.com/en-us/library/jj134244.aspx [7] Windows Hyper-V / Server 2012 R2 Cluster validation: https://technet.microsoft.com/en-us/library/hh847274%28v=wps.630%29.aspx [8] Generic Resource Pools blueprint https://blueprints.launchpad.net/nova/+spec/generic-resource-pools History ======= ",,285,0
openstack%2Frequirements~master~I772bf284261cc182b529d4b8af036f13f1d7e59b,openstack/requirements,master,I772bf284261cc182b529d4b8af036f13f1d7e59b,Updated from generate-constraints,MERGED,2017-04-04 08:37:47.000000000,2017-04-04 11:00:05.000000000,2017-04-04 11:00:05.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-04-04 08:37:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/322f7271d43b66689b374efdb1b9a0501bb40dab', 'message': 'Updated from generate-constraints\n\nChange-Id: I772bf284261cc182b529d4b8af036f13f1d7e59b\n'}]",0,453062,322f7271d43b66689b374efdb1b9a0501bb40dab,6,2,1,11131,,,0,"Updated from generate-constraints

Change-Id: I772bf284261cc182b529d4b8af036f13f1d7e59b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/453062/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,322f7271d43b66689b374efdb1b9a0501bb40dab,openstack/requirements/constraints,libvirt-python===3.2.0Jinja2===2.9.6thriftpy===0.3.9;python_version=='2.7'Sphinx===1.5.5progressbar2===3.17.0botocore===1.5.34python-utils===2.1.0xattr===0.9.2happybase===1.1.0;python_version=='2.7',thrift===0.10.0;python_version=='2.7'libvirt-python===3.1.0Jinja2===2.9.5Sphinx===1.5.4progressbar2===3.16.1botocore===1.5.33python-utils===2.0.1xattr===0.9.1happybase===0.9;python_version=='2.7',9,9
openstack%2Frpm-packaging~master~If625575f32d07c66880b767e6a7e3fcaabf17da6,openstack/rpm-packaging,master,If625575f32d07c66880b767e6a7e3fcaabf17da6,Update oslo.middleware to 3.25.0,MERGED,2017-04-03 20:43:58.000000000,2017-04-04 10:59:30.000000000,2017-04-04 10:57:48.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-04-03 20:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/42f21a1df2d917e69e8cd17f3c194890c5658a01', 'message': 'Update oslo.middleware to\n\nChange-Id: If625575f32d07c66880b767e6a7e3fcaabf17da6\nDepends-on: I4fe3d7b521a8cb841f16373da769843569ea5465\n'}, {'number': 2, 'created': '2017-04-03 20:57:27.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9231a35aa7f00dddd88aa9aff71a1713e2299229', 'message': 'Update oslo.middleware to 3.25.0\n\nChange-Id: If625575f32d07c66880b767e6a7e3fcaabf17da6\nDepends-on: I4fe3d7b521a8cb841f16373da769843569ea5465\n'}]",0,452936,9231a35aa7f00dddd88aa9aff71a1713e2299229,18,6,2,17130,,,0,"Update oslo.middleware to 3.25.0

Change-Id: If625575f32d07c66880b767e6a7e3fcaabf17da6
Depends-on: I4fe3d7b521a8cb841f16373da769843569ea5465
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/36/452936/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,42f21a1df2d917e69e8cd17f3c194890c5658a01,oslo-middleware,Version: 3.25.0,Version: 3.24.0,1,1
openstack%2Frpm-packaging~master~I8ea5e69f6818f8dbeccf00dba543f0e159fbd5f1,openstack/rpm-packaging,master,I8ea5e69f6818f8dbeccf00dba543f0e159fbd5f1,Update futurist to 1.0.0,MERGED,2017-04-03 20:36:27.000000000,2017-04-04 10:56:12.000000000,2017-04-04 10:54:22.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-04-03 20:36:27.000000000', 'files': ['openstack/futurist/futurist.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e1baac0910db8fb5fa4776bc475cb6cb65a8acf2', 'message': 'Update futurist to 1.0.0\n\nChange-Id: I8ea5e69f6818f8dbeccf00dba543f0e159fbd5f1\nDepends-on: I57f1d198e9d9a32f6abf157be992ba207e950d9e\n'}]",0,452931,e1baac0910db8fb5fa4776bc475cb6cb65a8acf2,13,5,1,17130,,,0,"Update futurist to 1.0.0

Change-Id: I8ea5e69f6818f8dbeccf00dba543f0e159fbd5f1
Depends-on: I57f1d198e9d9a32f6abf157be992ba207e950d9e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/31/452931/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/futurist/futurist.spec.j2'],1,e1baac0910db8fb5fa4776bc475cb6cb65a8acf2,update-futurist,Version: 1.0.0,Version: 0.23.0,1,1
openstack%2Ffuel-qa~stable%2Fnewton~Icd2ca75543830e46b17c40e999e61aa47b33038a,openstack/fuel-qa,stable/newton,Icd2ca75543830e46b17c40e999e61aa47b33038a,Hardcode slave name in failover acceptance test,MERGED,2017-04-04 09:01:44.000000000,2017-04-04 10:51:16.000000000,2017-04-04 10:51:16.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15921}, {'_account_id': 15984}]","[{'number': 1, 'created': '2017-04-04 09:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/9e80a917c047f43a79a875d554e193a950e8b0de', 'message': 'Hardcode slave name in failover acceptance test\n\nThe tests are passing fqdn instead of devops name to get_pacemaker_resource_location\nmethod; for now we can hardcode name of the controller because it 100% binded in\npreparation test case\n\nChange-Id: Icd2ca75543830e46b17c40e999e61aa47b33038a\nCloses-bug: 1679550\n'}, {'number': 2, 'created': '2017-04-04 10:19:06.000000000', 'files': ['fuelweb_test/tests/tests_strength/test_failover_group_1.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/55627d3e5cd16cc6ab4d92df6c3f4a9363003faf', 'message': 'Hardcode slave name in failover acceptance test\n\nThe tests are passing fqdn instead of devops name to get_pacemaker_resource_location\nmethod; for now we can hardcode name of the controller because it 100% binded in\npreparation test case\n\nChange-Id: Icd2ca75543830e46b17c40e999e61aa47b33038a\nCloses-bug: 1679550\n'}]",0,453067,55627d3e5cd16cc6ab4d92df6c3f4a9363003faf,15,4,2,15984,,,0,"Hardcode slave name in failover acceptance test

The tests are passing fqdn instead of devops name to get_pacemaker_resource_location
method; for now we can hardcode name of the controller because it 100% binded in
preparation test case

Change-Id: Icd2ca75543830e46b17c40e999e61aa47b33038a
Closes-bug: 1679550
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/67/453067/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_strength/test_failover_group_1.py'],1,9e80a917c047f43a79a875d554e193a950e8b0de,bug/1679550," 'slave-01', 'vip__management') 'slave-01', agent['resource'])"," controllers[0]['fqdn'], 'vip__management') controllers[0]['fqdn'], agent['resource'])",2,2
openstack%2Fnova~master~Idbcb33d912b123bf76ff5649050ad6f142533c48,openstack/nova,master,Idbcb33d912b123bf76ff5649050ad6f142533c48,[placement] Add api-ref for POST RP inventories,ABANDONED,2017-03-30 14:59:24.000000000,2017-04-04 10:47:59.000000000,,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-03-30 14:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffa8548b51cbf7477cf6c0ba4c18eae4171c0c31', 'message': '[placement] Add api-ref for POST RP inventories\n\nThis provides simple documentation of the response body and query\nparameters when creating resource provider inventories.\n\nChange-Id: Idbcb33d912b123bf76ff5649050ad6f142533c48\n'}, {'number': 2, 'created': '2017-03-31 12:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f5e4efa5f7276a7e4340cb43d5623a3f0ccfb9a', 'message': '[placement] Add api-ref for POST RP inventories\n\nThis provides simple documentation of the response body and query\nparameters when creating resource provider inventories.\n\nChange-Id: Idbcb33d912b123bf76ff5649050ad6f142533c48\n'}, {'number': 3, 'created': '2017-04-03 11:02:21.000000000', 'files': ['placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/create-inventories.json', 'placement-api-ref/source/create-inventories-request.json', 'placement-api-ref/source/inventories.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/53f5cc605384bb016842965b5c7dc957b3ba8be2', 'message': '[placement] Add api-ref for POST RP inventories\n\nThis provides simple documentation of the response body and query\nparameters when creating resource provider inventories.\n\nChange-Id: Idbcb33d912b123bf76ff5649050ad6f142533c48\n'}]",13,451855,53f5cc605384bb016842965b5c7dc957b3ba8be2,58,17,3,21813,,,0,"[placement] Add api-ref for POST RP inventories

This provides simple documentation of the response body and query
parameters when creating resource provider inventories.

Change-Id: Idbcb33d912b123bf76ff5649050ad6f142533c48
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/451855/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement-api-ref/source/parameters.yaml', 'placement-api-ref/source/create-inventories-request.json', 'placement-api-ref/source/create-inventories.json', 'placement-api-ref/source/inventories.inc']",4,ffa8548b51cbf7477cf6c0ba4c18eae4171c0c31,cd/placement-api-ref," Create resource provider inventory ================================== Create a new inventory for the resource provider identified by `{uuid}`. .. rest_method:: POST /resource_providers/{uuid}/inventories Normal Response Codes: 201 Error response codes: badRequest(400), itemNotFound(404), conflict(409) Request ------- .. rest_parameters:: parameters.yaml - uuid: resource_provider_uuid_query_required - resource_class: resource_class - allocation_ratio: allocation_ratio_opt - max_unit: max_unit_opt - min_unit: min_unit_opt - reserved: reserved_opt - step_size: step_size_opt - total: total Request example --------------- .. literalinclude:: create-inventories-request.json :language: javascript Response -------- .. rest_parameters:: parameters.yaml - inventories: inventories - resource_provider_generation: resource_provider_generation - allocation_ratio: allocation_ratio - max_unit: max_unit - min_unit: min_unit - reserved: reserved - step_size: step_size - total: total Response Example ---------------- .. literalinclude:: create-inventories.json :language: javascript",,117,0
openstack%2Fmurano-dashboard~master~I21d80b98552a2660ad42d265ffaa3bb8a98c0913,openstack/murano-dashboard,master,I21d80b98552a2660ad42d265ffaa3bb8a98c0913,Fix the import keypair url,MERGED,2017-04-01 08:39:40.000000000,2017-04-04 10:39:56.000000000,2017-04-04 10:39:55.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 13149}, {'_account_id': 13962}, {'_account_id': 15168}]","[{'number': 1, 'created': '2017-04-01 08:39:40.000000000', 'files': ['muranodashboard/dynamic_ui/forms.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8d0a6b50c67f864e25dcff37fb621871655eff91', 'message': 'Fix the import keypair url\n\nHorizon change the import keypair url, we should update it.\n\nChange-Id: I21d80b98552a2660ad42d265ffaa3bb8a98c0913\nCloses-Bug: #1673114\n'}]",0,452414,8d0a6b50c67f864e25dcff37fb621871655eff91,9,5,1,14107,,,0,"Fix the import keypair url

Horizon change the import keypair url, we should update it.

Change-Id: I21d80b98552a2660ad42d265ffaa3bb8a98c0913
Closes-Bug: #1673114
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/14/452414/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/dynamic_ui/forms.py'],1,8d0a6b50c67f864e25dcff37fb621871655eff91,bug/1673114,"KEYPAIR_IMPORT_URL = ""horizon:project:key_pairs:import""","# From Horizon project/instances/workflow/create_instance KEYPAIR_IMPORT_URL = ""horizon:project:access_and_security:keypairs:import""",1,2
openstack%2Ftripleo-common~master~I262b718d29f2a91e390a183adbd8df6a242ce42f,openstack/tripleo-common,master,I262b718d29f2a91e390a183adbd8df6a242ce42f,Validate nodes_json before trying to register or updates any nodes,MERGED,2016-12-08 12:03:48.000000000,2017-04-04 10:39:11.000000000,2017-04-04 10:39:11.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4330}, {'_account_id': 6773}, {'_account_id': 9712}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-12-08 12:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e7f8b8334f8b56ef364559efe1069c0b6058a646', 'message': '[WIP] Add action and workflow to validate instackenv.json\n\nThis is a replacement for terribly outdated ""validate instackenv""\ncommand in tripleoclient. Reuses as much registration logic as possible.\n\nChange-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f\n'}, {'number': 2, 'created': '2016-12-09 11:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cfa569f7f8a2947c03291d0092f2fb12e20fb6ea', 'message': 'Validate nodes_json before trying to register or updates any nodes\n\nThis is a partial replacement for terribly outdated ""validate instackenv""\ncommand in tripleoclient. Does some basic sanity checks not involving Ironic.\nReuses as much registration logic as possible.\n\nChange-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f\n'}, {'number': 3, 'created': '2016-12-09 14:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a198f974bffc7c7390ebc7a5c645a7b6fd3cf414', 'message': 'Validate nodes_json before trying to register or updates any nodes\n\nThis is a partial replacement for terribly outdated ""validate instackenv""\ncommand in tripleoclient. Does some basic sanity checks not involving Ironic.\nReuses as much registration logic as possible.\n\nChange-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f\n'}, {'number': 4, 'created': '2016-12-12 12:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3433e7b08589f7a3a0118bf456732ce9354efa9d', 'message': 'Validate nodes_json before trying to register or updates any nodes\n\nThis is a partial replacement for terribly outdated ""validate instackenv""\ncommand in tripleoclient. Does some basic sanity checks not involving Ironic.\nReuses as much registration logic as possible.\n\nChange-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f\n'}, {'number': 5, 'created': '2017-01-17 12:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62d713fe2a19204312931c619e6552c575ecb883', 'message': '[WIP] Validate nodes_json before trying to register or updates any nodes\n\nThis is a replacement for terribly outdated ""validate instackenv""\ncommand in tripleoclient. Does some basic sanity checks not involving Ironic.\nReuses as much registration logic as possible.\n\nChange-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f\n'}, {'number': 6, 'created': '2017-01-17 14:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e6eb439efb2a46d6172ce9266775d75f4b2ec1c0', 'message': 'Validate nodes_json before trying to register or updates any nodes\n\nThis is a replacement for terribly outdated ""validate instackenv""\ncommand in tripleoclient. Does some basic sanity checks not involving Ironic.\nReuses as much registration logic as possible.\n\nChange-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f\n'}, {'number': 7, 'created': '2017-03-08 16:31:49.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/actions/baremetal.py', 'workbooks/baremetal.yaml', 'setup.cfg', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/53b48a303053fbe5c7308ca2623db4d2c2156be5', 'message': 'Validate nodes_json before trying to register or updates any nodes\n\nThis is a replacement for terribly outdated ""validate instackenv""\ncommand in tripleoclient. Does some basic sanity checks not involving Ironic.\nReuses as much registration logic as possible.\n\nChange-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f\n'}]",5,408581,53b48a303053fbe5c7308ca2623db4d2c2156be5,47,7,7,10239,,,0,"Validate nodes_json before trying to register or updates any nodes

This is a replacement for terribly outdated ""validate instackenv""
command in tripleoclient. Does some basic sanity checks not involving Ironic.
Reuses as much registration logic as possible.

Change-Id: I262b718d29f2a91e390a183adbd8df6a242ce42f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/81/408581/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal.py', 'setup.cfg', 'tripleo_common/utils/nodes.py']",3,e7f8b8334f8b56ef364559efe1069c0b6058a646,validate,"from oslo_utils import netutils def __init__(self, prefix, mapping, deprecated_mapping=None, mandatory_fields=()): self._mandatory_fields = mandatory_fields def validate(self, node): """"""Validate node record supplied by a user. :param node: node already processed by convert(). :raises: exception.InvalidNode """""" missing = [] for field in self._mandatory_fields: if field not in node: missing.append(field) if missing: raise exception.InvalidNode( 'The following fields (or their pm_* counterparts) are ' 'missing: %s' % ', '.join(missing)) mandatory_fields = list(mapping.values()) deprecated_mapping=deprecated_mapping, mandatory_fields=mandatory_fields, }, mandatory_fields=['ssh_address', 'ssh_username', 'ssh_key_contents'], def validate(self, node): super(SshDriverInfo, self).validate(node) if not node.get('mac'): raise exception.InvalidNode( 'Nodes with SSH drivers require at least one MAC') def validate_nodes(nodes_list, client, glance_client=None, kernel_name=None, ramdisk_name=None): """"""Validate all nodes list. :param nodes_list: The list of nodes to register. :param client: An Ironic client object. :param glance_client: A Glance client object, for fetching ramdisk images. :param kernel_name: Glance ID of the kernel to use for the nodes. :param ramdisk_name: Glance ID of the ramdisk to use for the nodes. :raises: InvalidNode on one or more invalid nodes """""" if kernel_name and ramdisk_name: glance.create_or_find_kernel_and_ramdisk(glance_client, kernel_name, ramdisk_name) failures = [] unique_ids = set() names = set() for index, node in enumerate(nodes_list): handler = _find_node_handler(node) try: handler.validate(node) except exception.InvalidNode as exc: failures.append((index, exc)) for mac in node.get('mac', ()): if not netutils.is_valid_mac(mac): failures.append((index, 'MAC address %s is invalid' % mac)) unique_id = handler.unique_id_from_fields(node) if unique_id: if unique_id in unique_ids: failures.append( (index, ""Node identified by %s already present"" % unique_id)) else: unique_ids.add(unique_id) else: failures.append( (index, ""Cannot calculate unique identifier"")) if node.get('name'): if node['name'] in names: failures.append( (index, 'Name %s is not unique' % node['name'])) else: names.add(node['name']) if failures: raise exception.InvalidNode( ""Validation failed for some nodes:\n%s"" % '\n'.join('node #%d: %s' % tpl for tpl in failures)) "," def __init__(self, prefix, mapping, deprecated_mapping=None): deprecated_mapping=deprecated_mapping }",118,3
openstack%2Fmanila-image-elements~master~Iec46e31b2e201a9f24a1b0c0a70e6160729ffd60,openstack/manila-image-elements,master,Iec46e31b2e201a9f24a1b0c0a70e6160729ffd60,[DNM] test1,ABANDONED,2017-04-03 13:03:14.000000000,2017-04-04 10:27:00.000000000,,"[{'_account_id': 3}, {'_account_id': 8851}]","[{'number': 1, 'created': '2017-04-03 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/50fa9a5ee87d541ca9ee63f23beca413edece72e', 'message': '[DNM] test1\n\nChange-Id: Iec46e31b2e201a9f24a1b0c0a70e6160729ffd60\n'}, {'number': 2, 'created': '2017-04-03 13:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/2c610184e52f89235aa7e7e838a06a9af130d93c', 'message': '[DNM] test1\n\nChange-Id: Iec46e31b2e201a9f24a1b0c0a70e6160729ffd60\n'}, {'number': 3, 'created': '2017-04-03 14:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/02ee623e4183a2222d914d3a77b50e7c2b9d2194', 'message': '[DNM] test1\n\nChange-Id: Iec46e31b2e201a9f24a1b0c0a70e6160729ffd60\n'}, {'number': 4, 'created': '2017-04-03 15:35:06.000000000', 'files': ['tools/gate/build-images'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/e0a0ef1508d5eff11426e2b399a9c2db8278f42d', 'message': '[DNM] test1\n\nChange-Id: Iec46e31b2e201a9f24a1b0c0a70e6160729ffd60\n'}]",0,452747,e0a0ef1508d5eff11426e2b399a9c2db8278f42d,12,2,4,8851,,,0,"[DNM] test1

Change-Id: Iec46e31b2e201a9f24a1b0c0a70e6160729ffd60
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/47/452747/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/build-images'],1,50fa9a5ee87d541ca9ee63f23beca413edece72e,, tox -v -e buildimage -c ../../tox.ini tox -v -e buildimage-docker -c ../../tox.ini, tox -v -e buildimage tox -v -e buildimage-docker,2,2
openstack%2Fnova-specs~master~Iae6b6dc072ea46496c4185598efd0d62c01625f4,openstack/nova-specs,master,Iae6b6dc072ea46496c4185598efd0d62c01625f4,Fix a typo,MERGED,2016-12-02 08:18:40.000000000,2017-04-04 10:26:32.000000000,2017-04-04 10:26:32.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 7634}]","[{'number': 1, 'created': '2016-12-02 08:18:40.000000000', 'files': ['specs/mitaka/approved/virt-image-props-boot-override.rst', 'specs/newton/approved/virt-image-props-boot-override.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d1ff5ab69543548bd6e5370f2ab7217aa3351b67', 'message': 'Fix a typo\n\nTrivialFix\n\nChange-Id: Iae6b6dc072ea46496c4185598efd0d62c01625f4\n'}]",0,405986,d1ff5ab69543548bd6e5370f2ab7217aa3351b67,7,3,1,22484,,,0,"Fix a typo

TrivialFix

Change-Id: Iae6b6dc072ea46496c4185598efd0d62c01625f4
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/86/405986/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/mitaka/approved/virt-image-props-boot-override.rst', 'specs/newton/approved/virt-image-props-boot-override.rst']",2,d1ff5ab69543548bd6e5370f2ab7217aa3351b67,bug/gengchc,augmented / overridden with the properties provided via the boot API. This,augmented / overriden with the properties provided via the boot API. This,2,2
openstack%2Fnova-specs~master~I2c760eae64fd5bde1216386fc01bf08b186e3052,openstack/nova-specs,master,I2c760eae64fd5bde1216386fc01bf08b186e3052,Initial draft of API capabilities interface,ABANDONED,2016-09-27 14:48:13.000000000,2017-04-04 10:25:04.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 2218}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 11600}]","[{'number': 1, 'created': '2016-09-27 14:48:13.000000000', 'files': ['specs/ocata/approved/api-capabilities.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/137986555643e0ae08d324dbb871ea3c06b06c55', 'message': 'Initial draft of API capabilities interface\n\nThis is an initial draft of the API capabilities interface for Nova,\nso that something concrete exists to discuss and evolve to an eventual\nimplementation.\n\nChange-Id: I2c760eae64fd5bde1216386fc01bf08b186e3052\n'}]",37,377756,137986555643e0ae08d324dbb871ea3c06b06c55,23,13,1,2750,,,0,"Initial draft of API capabilities interface

This is an initial draft of the API capabilities interface for Nova,
so that something concrete exists to discuss and evolve to an eventual
implementation.

Change-Id: I2c760eae64fd5bde1216386fc01bf08b186e3052
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/56/377756/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/api-capabilities.rst'],1,137986555643e0ae08d324dbb871ea3c06b06c55,api_cap,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Discoverable API Capabilities ============================= https://blueprints.launchpad.net/nova/+spec/api-capabilities While Nova strives to provide a uniform compute API for all OpenStack deployments, there are times when that is not possible. Baremetal servers don't support live migration. Certain features may end up in one hypervisor backend before others. Deployments may feel the need to disable features for user protection, or because of security demands on their systems. While we want to limit these differences, complete eliminate will be impossible while continuing to support multiple virt backends, at multiple software levels. The next best approach is to be explicit about exposing features we expect may end up in an optional realm. And ensure that there is a standard discovery path for these features. Problem description =================== This addresses the problem that we will not be able to ensure that we always have the exact same features available. Use Cases --------- Nova would like to expose a Live Resize operation on guests, but we know that it will not work with baremetal computes, and that many sites will disable it as it causes fragmentation in their scheduler. Proposed change =============== In order to make the detection of capabilities be consistence, we must first have a root of truth that explains all the capabilities that might exist in this cloud. .. code:: javascript GET /capabilities { ""allowed"": [""CAP_RESIZE""], ""known"": [""CAP_RESIZE"", ""CAP_LIVE_RESIZE"", ""CAP_LIVE_MIGRATION""] } The top level resource would return 2 values. Capabilities which are supported in this cloud, for your user, and a list of all capabilities that are known to be possible. The known field will grow over time whenever a new capability is added to Nova that we believe fits this category. It will also grow over time as we expose existing capabilities in this manner. Changes to the ""known"" list are not versioned, and do not require MV version bumps. It will also include default admin level actions, because the definition of ""admin"" varies quite a bit between deployments. It is also important to expose capabilities on flavors and instances. Some flavors may support more or less capabilities than global capabilities. .. code:: javascript GET /servers/{id}/capabilities { ""allowed"": [""CAP_RESIZE"", ""CAP_LIVE_MIGRATION""] } Capability Registry ------------------- All known capabilities will be documented in a dedicated page in the api-ref document for Nova. The implications of a capability will be described there. Filtering by policy ------------------- Many capabilities are impacted by policy. When an operator disables/enables some feature for a class of users based on policy that should be reflected in this list. Alternatives ------------ Policy over the wire ^^^^^^^^^^^^^^^^^^^^ One of the previous ideas was to expose OpenStack policy language over the wire. However it's a rather complicated DSL that is hard to evaluate in the abstract. Higher level capabilities are much easier to program to. Data model impact ----------------- TBD REST API impact --------------- See Above. The capabilities resources will show up as a new Microversion. They should all expose in the same microversion, and from there forward evolution of capabilities will be largely distinct from microversions. Security impact --------------- TBD Notifications impact -------------------- None Other end user impact --------------------- Python novaclient could be updated to provide a better understanding of what is doable in advance. Performance Impact ------------------ There should be little performance impact on capabilities, the bulk of this will be in a dedicated API that will be queried when needed. It will mostly be synthesizing results from code and policy (and in cases of instance / flavor possibly the db). Other deployer impact --------------------- TBD Developer impact ---------------- This will likely require virt drivers to think more clearly about what part of capabilities they expose, and have a dedicated interface for that. Implementation ============== Assignee(s) ----------- TBD Work Items ---------- The starting point is likely starting with 2 to 3 existing capabilities we'd like to be more explicit about (one of which is typically admin only) and go through the modeling and software prototype for this. Dependencies ============ TBD Testing ======= Capabilities will be tested via Nova functional tests as well as Tempest tests (when appropriate). Documentation Impact ==================== API ref will need to be updated with a section on capabilities and how one is expected to use them in developing OpenStack code. References ========== TBD History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Introduced ",,202,0
openstack%2Fnova-specs~master~I11415a55119bf4ba929e0f27f869993449bf9c5f,openstack/nova-specs,master,I11415a55119bf4ba929e0f27f869993449bf9c5f,Add support for image metadata,ABANDONED,2016-12-02 11:46:57.000000000,2017-04-04 10:22:18.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 7730}, {'_account_id': 8802}, {'_account_id': 15334}]","[{'number': 1, 'created': '2016-12-02 11:46:57.000000000', 'files': ['specs/ocata/approved/libvirt-emulator-threads-policy.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cc42fb1c5522b5e818115d8839e8e61233934396', 'message': 'Add support for image metadata\n\nMany of the other ""scheduler hints"" (cpu_policy, cpu_thread_policy,\ncpu_realtime_mask, serial_port_count, ...) accept both flavor extra spec\nand image metadata properties as ways to configure them. This provides a\nway for users to provide pre-packaged applications that will, for\nexample, always have pinned CPUs or always have N serial ports. The\nemulator threads policy should also be configurable in the manner for\nthe exact same reason. Correct this oversight in the spec.\n\nThe property itself has changed names since the spec was written. This\nis also corrected.\n\nChange-Id: I11415a55119bf4ba929e0f27f869993449bf9c5f\nBlueprint: libvirt-emulator-threads-policy\n'}]",4,406081,cc42fb1c5522b5e818115d8839e8e61233934396,7,6,1,15334,,,0,"Add support for image metadata

Many of the other ""scheduler hints"" (cpu_policy, cpu_thread_policy,
cpu_realtime_mask, serial_port_count, ...) accept both flavor extra spec
and image metadata properties as ways to configure them. This provides a
way for users to provide pre-packaged applications that will, for
example, always have pinned CPUs or always have N serial ports. The
emulator threads policy should also be configurable in the manner for
the exact same reason. Correct this oversight in the spec.

The property itself has changed names since the spec was written. This
is also corrected.

Change-Id: I11415a55119bf4ba929e0f27f869993449bf9c5f
Blueprint: libvirt-emulator-threads-policy
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/81/406081/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/libvirt-emulator-threads-policy.rst'],1,cc42fb1c5522b5e818115d8839e8e61233934396,bp/libvirt-emulator-threads-policy,"feature on a flavor is that it must also have ``hw:cpu_policy`` set to ``dedicated``. The flavor extra specs will be enhanced to support one new paramter: * hw:emulator_threads_policy=isolated|shared Each hypervisor has a different architecture: for example, QEMU has`estimate_instance_overhead` to return one additional host CPU to take into account during claim. This results in two policies: - isolate: The emulator threads will be pinned to a single host pCPU, and the instance is to be considered to consume one additional host CPU. That pCPU used to make running emulator threads is going to always be configured on the related guest NUMA node ID 0, to make it predictable for users. - shared: The emulator threads will float across the host cores. This is the default if no policy is specified. The image metadata properties will also allow specification of emulator threads policy: * hw_emulator_threads_policy=isolated|shared This provides users with a way to package and distribute pre-configured real time applications. However, this property will only be honored if it does not conflict with the flavor. In the event of a conflict, an exception will be raised. This ensures the cloud administrator can have absolute control over emulator threads policy if desired. Currently there is no desire to make customizable the number of host CPUs running emulator threads since only one should work for almost every use case. If in the future there is a desire to isolate more than one host CPU to run emulator threads, we would implement instead I/O threads to add granularity on dedicating used resources to run guests on host CPUs.implementation is not going to update the user quotas, that in a spirit of simplicity since quotas already leak on different scenarios.This field will be implemented as an enum with the two options - shared and isolated - described previously.","feature on a flavor is that it must also have hw:cpu_policy set to dedicated. Each hypervisor has a different architecture, for example QEMU has`estimate_instance_overhead` to return 1 additional host CPU to take into account during claim. A user which expresses the desire to isolate emulator threads must use a flavor configured to accept that specification as: * hw:cpu_emulator_threads=isolate Would say that this instance is to be considered to consume 1 additional host CPU. That pCPU used to make running emulator threads is going to always be configured on the related guest NUMA node ID 0, to make it predictable for users. Currently there is no desire to make customizable the number of host CPUs running emulator threads since only one should work for almost every use case. If in the future there is a desire to isolate more than one host CPU to run emulator threads, we would implement instead I/O threads to add granularity on dedicating used resources to run guests on host CPUs.implementation is not going to update the user quotas, that in a spirit of simplicity since quotas already leak on different scenarios.This field will be implemented as an enum with two options: * shared - The emulator threads float across the pCPUs associated to the guest. * isolate - The emulator threads are isolated on a single pCPU.",37,24
openstack%2Ffuel-agent~stable%2Focata~Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20,openstack/fuel-agent,stable/ocata,Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20,[Multitenancy] Add logic to work with network providers,MERGED,2017-03-23 14:17:51.000000000,2017-04-04 10:21:37.000000000,2017-04-04 10:19:47.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8971}, {'_account_id': 14525}, {'_account_id': 17270}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-03-23 14:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/1301a33b0ed5ba2a108d4f6d218a2fec0e563ff7', 'message': '[Multitenancy] Add logic to work with network providers\n\nThis patch adds logic to work with network providers to fuel_* ironic drivers.\n\nDepends-On: I742a52c991058d1f8bd9170f9b583c28dff22839\n\nChange-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20\nRelated-Bug: #1588380\n'}, {'number': 2, 'created': '2017-04-03 17:11:29.000000000', 'files': ['contrib/ironic/ironic-fa-deploy/ironic_fa_deploy/modules/fuel_agent.py'], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/44b29777dce3c64030d1f642d88344b484c3abe6', 'message': '[Multitenancy] Add logic to work with network providers\n\nThis patch adds logic to work with network providers to fuel_* ironic drivers.\n\nDepends-On: I742a52c991058d1f8bd9170f9b583c28dff22839\n\nChange-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20\nRelated-Bug: #1588380\n'}]",0,449171,44b29777dce3c64030d1f642d88344b484c3abe6,25,6,2,14525,,,0,"[Multitenancy] Add logic to work with network providers

This patch adds logic to work with network providers to fuel_* ironic drivers.

Depends-On: I742a52c991058d1f8bd9170f9b583c28dff22839

Change-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20
Related-Bug: #1588380
",git fetch https://review.opendev.org/openstack/fuel-agent refs/changes/71/449171/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ironic/ironic-fa-deploy/ironic_fa_deploy/modules/fuel_agent.py'],1,1301a33b0ed5ba2a108d4f6d218a2fec0e563ff7,bug/1588380," task.driver.network.unconfigure_tenant_networks(task) if node.provision_state == states.DEPLOYING: # Adding the node to provisioning network so that the dhcp # options get added for the provisioning port. manager_utils.node_power_action(task, states.POWER_OFF) # NOTE(vdrok): in case of rebuild, we have tenant network already # configured, unbind tenant ports if present task.driver.network.unconfigure_tenant_networks(task) task.driver.network.add_provisioning_network(task) manager_utils.node_power_action(task, states.POWER_OFF) task.driver.network.remove_provisioning_network(task) task.driver.network.configure_tenant_networks(task) manager_utils.node_power_action(task, states.POWER_ON)"," manager_utils.node_power_action(task, states.REBOOT)",15,1
openstack%2Fnetworking-generic-switch~stable%2Focata~Ie7f5e658303a3a4488c7bf1ea4aa5ec2b8f4e30f,openstack/networking-generic-switch,stable/ocata,Ie7f5e658303a3a4488c7bf1ea4aa5ec2b8f4e30f,Fix generic_switch upgrade,MERGED,2017-04-03 21:59:35.000000000,2017-04-04 10:21:10.000000000,2017-04-04 10:21:10.000000000,"[{'_account_id': 3}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-04-03 21:59:35.000000000', 'files': ['devstack/upgrade/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/d1b7afb43df63fad19b516435fdd37cceeb1a120', 'message': 'Fix generic_switch upgrade\n\nFix install_service name to apply upgrades\n\nChange-Id: Ie7f5e658303a3a4488c7bf1ea4aa5ec2b8f4e30f\n'}]",0,452968,d1b7afb43df63fad19b516435fdd37cceeb1a120,8,2,1,14525,,,0,"Fix generic_switch upgrade

Fix install_service name to apply upgrades

Change-Id: Ie7f5e658303a3a4488c7bf1ea4aa5ec2b8f4e30f
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/68/452968/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/upgrade.sh'],1,d1b7afb43df63fad19b516435fdd37cceeb1a120,f,stack_install_service generic_switch,stack_install_service networking-generic-switch,1,1
openstack%2Fironic~master~I2145f76a6802e8116b9ee2c1e23a88322b1bdeac,openstack/ironic,master,I2145f76a6802e8116b9ee2c1e23a88322b1bdeac,Updates to RPC and object version pinning,MERGED,2017-04-03 15:40:44.000000000,2017-04-04 10:21:02.000000000,2017-04-04 10:21:02.000000000,"[{'_account_id': 3}, {'_account_id': 10343}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-04-03 15:40:44.000000000', 'files': ['ironic/tests/unit/common/test_release_mappings.py', 'etc/ironic/ironic.conf.sample', 'ironic/common/release_mappings.py', 'ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f10391494ad1135de5995abdc3cedc76672d8d2', 'message': ""Updates to RPC and object version pinning\n\nAdds a warning to pin_release_version config to indicate that it\nisn't being used yet since the rolling upgrades work isn't complete.\n\nAlso includes updates as a followup to\n9bc06783ecaff5eef58535904abc12ea15982329, including adding a\nrelease mapping for ironic version 8.0.\n\nChange-Id: I2145f76a6802e8116b9ee2c1e23a88322b1bdeac\n""}]",0,452806,4f10391494ad1135de5995abdc3cedc76672d8d2,25,5,1,6618,,,0,"Updates to RPC and object version pinning

Adds a warning to pin_release_version config to indicate that it
isn't being used yet since the rolling upgrades work isn't complete.

Also includes updates as a followup to
9bc06783ecaff5eef58535904abc12ea15982329, including adding a
release mapping for ironic version 8.0.

Change-Id: I2145f76a6802e8116b9ee2c1e23a88322b1bdeac
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/452806/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_release_mappings.py', 'etc/ironic/ironic.conf.sample', 'ironic/common/release_mappings.py', 'ironic/conf/default.py']",4,4f10391494ad1135de5995abdc3cedc76672d8d2,bug/1526283," help=_('WARNING: This configuration option is part of the ' 'incomplete rolling upgrades work; changing this ' 'value has no effect. ' 'Used for rolling upgrades. Setting this option ' 'downgrades (or pins) the internal ironic RPC ' 'communication to the specified version to enable ' 'communication with older services. When doing a ' 'rolling upgrade from version X to version Y, set (pin) ' 'this to X. To unpin, leave it unset. Defaults to '"," help=_('Used for rolling upgrades. Setting this option ' 'downgrades the internal ironic RPC communication to ' 'the specified version to enable communication with ' 'older services. When doing a rolling upgrade from ' 'version X to version Y, set this to X. Defaults to '",35,14
openstack%2Fnova-specs~master~I2f3e0f5a6ec72f77226483a533b738a1d7c4639d,openstack/nova-specs,master,I2f3e0f5a6ec72f77226483a533b738a1d7c4639d,Add offset to console log,ABANDONED,2016-10-22 21:43:57.000000000,2017-04-04 10:18:31.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 6849}, {'_account_id': 12712}, {'_account_id': 20912}]","[{'number': 1, 'created': '2016-10-22 21:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f664efad2fe54691a03bde416aba176a30988f08', 'message': 'Add offset to console log\n\nAdd new optional parameter offset\nconsole-logs command.\n\nAPIImpact\n\nPreviously-approved: newton\n\nChange-Id: I2f3e0f5a6ec72f77226483a533b738a1d7c4639d\n'}, {'number': 2, 'created': '2016-11-09 16:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/33193ccac389bd99eb70338abcccd290b5c42c3e', 'message': 'Add offset to console log\n\nAdd new optional parameter offset\nconsole-logs command.\n\nAPIImpact\n\nPreviously-approved: newton\n\nChange-Id: I2f3e0f5a6ec72f77226483a533b738a1d7c4639d\n'}, {'number': 3, 'created': '2016-11-15 14:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2404ec22324be6c006bb5c32d20e89ef09d85e34', 'message': 'Add offset to console log\n\nAdd new optional parameter offset\nconsole-logs command.\n\nAPIImpact\n\nPreviously-approved: newton\n\nChange-Id: I2f3e0f5a6ec72f77226483a533b738a1d7c4639d\n'}, {'number': 4, 'created': '2016-11-15 16:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/37881e9ff03c74eb01d8538683ab4aaac1f494a1', 'message': 'Add offset to console log\n\nAdd new optional parameter offset\nconsole-logs command.\n\nAPIImpact\n\nPreviously-approved: newton\n\nChange-Id: I2f3e0f5a6ec72f77226483a533b738a1d7c4639d\n'}, {'number': 5, 'created': '2016-11-17 16:26:07.000000000', 'files': ['specs/ocata/approved/console-log-offset.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2987dfcd9ad26ef0be50c3fc90007525fd08be2d', 'message': 'Add offset to console log\n\nAdd new optional parameter offset\nconsole-logs command.\n\nAPIImpact\n\nPreviously-approved: newton\n\nChange-Id: I2f3e0f5a6ec72f77226483a533b738a1d7c4639d\n'}]",46,390027,2987dfcd9ad26ef0be50c3fc90007525fd08be2d,25,6,5,12712,,,0,"Add offset to console log

Add new optional parameter offset
console-logs command.

APIImpact

Previously-approved: newton

Change-Id: I2f3e0f5a6ec72f77226483a533b738a1d7c4639d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/27/390027/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/console-log-offset.rst'],1,f664efad2fe54691a03bde416aba176a30988f08,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Add offset to console logs ========================================== https://blueprints.launchpad.net/nova/+spec/console-log-offset In order to observe console logs from specified position we need to add new optional argument to console logs command that allows to list logs from specified position. Problem description =================== When user triggers console-log command it gets all logs from the end. It might be not useful to get all log content when you observe your system activity and want to see logs about event that happened in the past. Scrolling thousands of lines might be annoying. Use Cases --------- Operator wants to observe logs from specified offset. Proposed change =============== Additional optional parameter offset should be added to handle the problem when operator want to show part of log. Alternatives ------------ An alternative would be to show all log all or specified amount of lines from tail and scroll up until you get what do you need. Data model impact ----------------- None REST API impact --------------- The proposal will add new optional parameter 'offset' for request. This change will need bump in API microversion. In case of empty log or if log doesn't contain this offset response should be empty. Request: URL: /v2.1/{tenant_id}/servers/{server_id}/action Method: POST JSON format: { ""os-getConsoleOutput"": { ""lines"": 2, ""offset"": 10 } } Response: { ""output"": ""ANOTHER\nLAST LINE"" } Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- python nova client will be updated with new optional parameter to console-logs command. New command will looks like: nova console-logs <instanced-id> --length 10 --offset 100 Performance Impact ------------------ Reduce amount of data transferred to python-novalcient. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: gstepanov Work Items ---------- * Update API microversion on getting console logs with offset parameter * Update python-novaclient API by adding offset parameter Dependencies ============ None Testing ======= Would need new Tempest, functional and unit tests. Documentation Impact ==================== Docs needed for new API microversion and usage. References ========== None ",,150,0
openstack%2Freleases~master~I317c7eb3ffe4fe6e983ebfc779b12419336b0137,openstack/releases,master,I317c7eb3ffe4fe6e983ebfc779b12419336b0137,Change murano release model back to cycle-with-milestones,MERGED,2017-04-03 18:40:59.000000000,2017-04-04 10:16:40.000000000,2017-04-04 10:16:40.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-03 18:40:59.000000000', 'files': ['deliverables/pike/murano.yaml', 'deliverables/pike/murano-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b34d40dbf4992b4409ad48fd7e6dbfa4148700b0', 'message': ""Change murano release model back to cycle-with-milestones\n\nChange murano and murano-dashboard's release model back to\ncycle-with-milestones. Team discussed this change back at the PTG.\nMurano changed release model to cycle-with-intermediary during ocata\ncycle, envisioning faster shorter releases.\nWe didn't have much activity during ocata however. We would like to\nreturn to a more familiar and predictable release model.\n\nChange-Id: I317c7eb3ffe4fe6e983ebfc779b12419336b0137\n""}]",0,452894,b34d40dbf4992b4409ad48fd7e6dbfa4148700b0,9,5,1,15168,,,0,"Change murano release model back to cycle-with-milestones

Change murano and murano-dashboard's release model back to
cycle-with-milestones. Team discussed this change back at the PTG.
Murano changed release model to cycle-with-intermediary during ocata
cycle, envisioning faster shorter releases.
We didn't have much activity during ocata however. We would like to
return to a more familiar and predictable release model.

Change-Id: I317c7eb3ffe4fe6e983ebfc779b12419336b0137
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/452894/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/murano.yaml', 'deliverables/pike/murano-dashboard.yaml']",2,b34d40dbf4992b4409ad48fd7e6dbfa4148700b0,,release-model: cycle-with-milestones,release-model: cycle-with-intermediary,2,2
openstack%2Foslo.concurrency~stable%2Focata~I6fa8a0e284e17b4815c14e688ac2ffa8c152f927,openstack/oslo.concurrency,stable/ocata,I6fa8a0e284e17b4815c14e688ac2ffa8c152f927,Updated from global requirements,MERGED,2017-03-09 18:21:37.000000000,2017-04-04 10:16:17.000000000,2017-04-04 10:16:17.000000000,"[{'_account_id': 3}, {'_account_id': 708}]","[{'number': 1, 'created': '2017-03-09 18:21:37.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/4d6cd7a0883c611e313742d60b2309721f2d4039', 'message': 'Updated from global requirements\n\nChange-Id: I6fa8a0e284e17b4815c14e688ac2ffa8c152f927\n'}]",0,443858,4d6cd7a0883c611e313742d60b2309721f2d4039,18,2,1,11131,,,0,"Updated from global requirements

Change-Id: I6fa8a0e284e17b4815c14e688ac2ffa8c152f927
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/58/443858/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4d6cd7a0883c611e313742d60b2309721f2d4039,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fnova-specs~master~I2788d252563850c68019db740c1c46a01f913650,openstack/nova-specs,master,I2788d252563850c68019db740c1c46a01f913650,Eventually consistent scheduler host state,ABANDONED,2016-04-17 16:09:53.000000000,2017-04-04 10:15:44.000000000,,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 11564}, {'_account_id': 15648}, {'_account_id': 20873}]","[{'number': 1, 'created': '2016-04-17 16:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0f4a2aa08d1ef96dffa4529670626bdc2b7c72b7', 'message': ""Eventually consistent scheduler host state\n\nNova scheduler is planned to scale for a much larger cloud (~10k nodes) in the\ncoming cells v2, but the widely-used filter scheduler is still suffering from\nperformance issue even in 1000-node deployment. This issue is majorly caused by\nthe poor implementation of scheduler-cache update model, which causes a time\nconsuming database block during every decision making processes. So a\nwork-around caching scheduler is implemented which excludes the involvement of\ndatabase during request processing, and the throughput is boosted to about\n*850%* [1] as a result . However, caching scheduler still has a very naive\ncache update model which makes it unsuitable to the rapidly changing\ncompute-node resources, because it still refreshes its entire scheduler cache\nfrom database periodically, and it's 60 seconds by default.\n\nSo we propose a new scheduler host manager driver to apply an eventually\nconsistent update model to scheduler host states. It excludes the involvement\nof database during decision making like caching scheduler. But the scheduler\ncaches are always *almost* up-to-date because they receive incremental updates\ndirectly from compute nodes, and the schedulers know whether their decisions\nare successful or not in compute nodes. The throughput of a prototype\nimplementation [2] is boosted to at least *510%* [3] compared with the legacy\nimplementation in the same 1000-node simulation.\n\n[1] Austin summit session\n    https://www.openstack.org/summit/austin-2016/summit-schedule/events/7129\n    or a brief introduction here: http://paste.openstack.org/show/494336\n[2] https://review.openstack.org/#/c/306301\n[3] http://paste.openstack.org/show/494211\n\nChange-Id: I2788d252563850c68019db740c1c46a01f913650\n""}, {'number': 2, 'created': '2016-04-18 12:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d90a5d3b6fe9c4205357b945275e11c2b3e3f1e7', 'message': ""Eventually consistent scheduler host state\n\nNova scheduler is planned to scale for a much larger cloud (~10k nodes) in the\ncoming cells v2, but the widely-used filter scheduler is still suffering from\nperformance issue even in 1000-node deployment. This issue is majorly caused by\nthe poor implementation of scheduler-cache update model, which causes a time\nconsuming database block during every decision making processes. So a\nwork-around caching scheduler is implemented which excludes the involvement of\ndatabase during request processing, and the throughput is boosted to about\n*850%* [1] as a result . However, caching scheduler still has a very naive\ncache update model which makes it unsuitable to the rapidly changing\ncompute-node resources, because it still refreshes its entire scheduler cache\nfrom database periodically, and it's 60 seconds by default.\n\nSo we propose a new scheduler host manager driver to apply an eventually\nconsistent update model to scheduler host states. It excludes the involvement\nof database during decision making like caching scheduler. But the scheduler\ncaches are always *almost* up-to-date because they receive incremental updates\ndirectly from compute nodes, and the schedulers know whether their decisions\nare successful or not in compute nodes. The throughput of a prototype\nimplementation [2] is boosted to at least *510%* [3] compared with the legacy\nimplementation in the same 1000-node simulation.\n\n[1] Austin summit session\n    https://www.openstack.org/summit/austin-2016/summit-schedule/events/7129\n    or a brief introduction here: http://paste.openstack.org/show/494336\n[2] https://review.openstack.org/#/c/306301\n[3] http://paste.openstack.org/show/494211\n\nChange-Id: I2788d252563850c68019db740c1c46a01f913650\n""}, {'number': 3, 'created': '2016-04-21 06:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d13f333d24785dc01bd8d5b2422f6e9ee464343b', 'message': ""Eventually consistent scheduler host state\n\nNova scheduler is planned to scale for a much larger cloud (~10k nodes) in the\ncoming cells v2, but the widely-used filter scheduler is still suffering from\nperformance issue even in 1000-node deployment. This issue is majorly caused by\nthe poor implementation of scheduler-cache update model, which causes a time\nconsuming database block during every decision making processes. So a\nwork-around caching scheduler is implemented which excludes the involvement of\ndatabase during request processing, and the throughput is boosted to about\n*850%* [1] as a result . However, caching scheduler still has a very naive\ncache update model which makes it unsuitable to the rapidly changing\ncompute-node resources, because it still refreshes its entire scheduler cache\nfrom database periodically, and it's 60 seconds by default.\n\nSo we propose a new scheduler host manager driver to apply an eventually\nconsistent update model to scheduler host states. It excludes the involvement\nof database during decision making like caching scheduler. But the scheduler\ncaches are always *almost* up-to-date because they receive incremental updates\ndirectly from compute nodes, and the schedulers know whether their decisions\nare successful or not in compute nodes. The throughput of a prototype\nimplementation [2] is boosted to at least *510%* [3] compared with the legacy\nimplementation in the same 1000-node simulation.\n\n[1] Austin summit session\n    https://www.openstack.org/summit/austin-2016/summit-schedule/events/7129\n    or a brief introduction here: http://paste.openstack.org/show/494336\n[2] https://review.openstack.org/#/c/306301\n[3] http://paste.openstack.org/show/494211\n\nChange-Id: I2788d252563850c68019db740c1c46a01f913650\n""}, {'number': 4, 'created': '2016-04-22 02:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3e64ea08e2aec9382203fb396957ad9afb7a509', 'message': ""Eventually consistent scheduler host state\n\nNova scheduler is planned to scale for a much larger cloud (~10k nodes) in the\ncoming cells v2, but the widely-used filter scheduler is still suffering from\nperformance issue even in 1000-node deployment. This issue is majorly caused by\nthe poor implementation of scheduler-cache update model, which causes a time\nconsuming database block during every decision making processes. So a\nwork-around caching scheduler is implemented which excludes the involvement of\ndatabase during request processing, and the throughput is boosted to about\n*850%* [1] as a result . However, caching scheduler still has a very naive\ncache update model which makes it unsuitable to the rapidly changing\ncompute-node resources, because it still refreshes its entire scheduler cache\nfrom database periodically, and it's 60 seconds by default.\n\nSo we propose a new scheduler host manager driver to apply an eventually\nconsistent update model to scheduler host states. It excludes the involvement\nof database during decision making like caching scheduler. But the scheduler\ncaches are always *almost* up-to-date because they receive incremental updates\ndirectly from compute nodes, and the schedulers know whether their decisions\nare successful or not in compute nodes. The throughput of a prototype\nimplementation [2] is boosted to at least *510%* [3] compared with the legacy\nimplementation in the same 1000-node simulation.\n\n[1] Austin summit session\n    https://www.openstack.org/summit/austin-2016/summit-schedule/events/7129\n    or a brief introduction here: http://paste.openstack.org/show/494336\n[2] https://review.openstack.org/#/c/306301\n[3] http://paste.openstack.org/show/494211\n\nChange-Id: I2788d252563850c68019db740c1c46a01f913650\n""}, {'number': 5, 'created': '2016-07-22 07:40:22.000000000', 'files': ['specs/ocata/approved/eventually-consistent-scheduler-host-state.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/486dbf0c6be79d5dad4d27e6c8c4234231eaf5ad', 'message': ""Eventually consistent scheduler host state\n\nNova scheduler is planned to scale for a much larger cloud (~10k nodes) in the\ncoming cells v2, but the widely-used filter scheduler is still suffering from\nperformance issue even in 1000-node deployment. This issue is majorly caused by\nthe poor implementation of scheduler-cache update model, which causes a time\nconsuming database block during every decision making processes. So a\nwork-around caching scheduler is implemented which excludes the involvement of\ndatabase during request processing, and the throughput is boosted to about\n*850%* [1] as a result . However, caching scheduler still has a very naive\ncache update model which makes it unsuitable to the rapidly changing\ncompute-node resources, because it still refreshes its entire scheduler cache\nfrom database periodically, and it's 60 seconds by default.\n\nSo we propose a new scheduler host manager driver to apply an eventually\nconsistent update model to scheduler host states. It excludes the involvement\nof database during decision making like caching scheduler. But the scheduler\ncaches are always *almost* up-to-date because they receive incremental updates\ndirectly from compute nodes, and the schedulers know whether their decisions\nare successful or not in compute nodes. The throughput of a prototype\nimplementation [2] is boosted to at least *510%* [3] compared with the legacy\nimplementation in the same 1000-node simulation.\n\n[1] Austin summit session\n    https://www.openstack.org/summit/austin-2016/summit-schedule/events/7129\n    or a brief introduction here: http://paste.openstack.org/show/494336\n[2] https://review.openstack.org/#/c/306301\n[3] http://paste.openstack.org/show/494211\n\nChange-Id: I2788d252563850c68019db740c1c46a01f913650\n""}]",17,306844,486dbf0c6be79d5dad4d27e6c8c4234231eaf5ad,20,5,5,15648,,,0,"Eventually consistent scheduler host state

Nova scheduler is planned to scale for a much larger cloud (~10k nodes) in the
coming cells v2, but the widely-used filter scheduler is still suffering from
performance issue even in 1000-node deployment. This issue is majorly caused by
the poor implementation of scheduler-cache update model, which causes a time
consuming database block during every decision making processes. So a
work-around caching scheduler is implemented which excludes the involvement of
database during request processing, and the throughput is boosted to about
*850%* [1] as a result . However, caching scheduler still has a very naive
cache update model which makes it unsuitable to the rapidly changing
compute-node resources, because it still refreshes its entire scheduler cache
from database periodically, and it's 60 seconds by default.

So we propose a new scheduler host manager driver to apply an eventually
consistent update model to scheduler host states. It excludes the involvement
of database during decision making like caching scheduler. But the scheduler
caches are always *almost* up-to-date because they receive incremental updates
directly from compute nodes, and the schedulers know whether their decisions
are successful or not in compute nodes. The throughput of a prototype
implementation [2] is boosted to at least *510%* [3] compared with the legacy
implementation in the same 1000-node simulation.

[1] Austin summit session
    https://www.openstack.org/summit/austin-2016/summit-schedule/events/7129
    or a brief introduction here: http://paste.openstack.org/show/494336
[2] https://review.openstack.org/#/c/306301
[3] http://paste.openstack.org/show/494211

Change-Id: I2788d252563850c68019db740c1c46a01f913650
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/44/306844/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/eventually-consistent-scheduler-host-state.rst'],1,0f4a2aa08d1ef96dffa4529670626bdc2b7c72b7,bp/eventually-consistent-scheduler-host-state,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Eventually consistent scheduler host state ========================================== https://blueprints.launchpad.net/nova/+spec/eventually-consistent-scheduler-host-state Nova scheduler is planned to scale for a much larger cloud (~10k nodes) in the coming cells v2, but the widely-used filter scheduler is still suffering from performance issue even in 1000-node deployment. This issue is majorly caused by the poor implementation of scheduler-cache update model, which causes a time consuming database block during every decision making processes. So a work-around caching scheduler is implemented which excludes the involvement of database during request processing, and the throughput is boosted to about *850%* [1]_ as a result . However, caching scheduler still has a very naive cache update model which makes it unsuitable to the rapidly changing compute-node resources, because it still refreshes its entire scheduler cache from database periodically, and it's 60 seconds by default. So we propose a new scheduler host manager driver to apply an eventually consistent update model to scheduler host states. It excludes the involvement of database during decision making like caching scheduler. But the scheduler caches are always *almost* up-to-date because they receive incremental updates directly from compute nodes, and the schedulers know whether their decisions are successful or not in compute nodes. The throughput of a prototype implementation [4]_ is boosted to at least *510%* [2]_ compared with the legacy implementation in the same 1000-node simulation. Problem description =================== The nova scheduler performance issue is complicated and systematic, it may caused by any possible bottlenecks. For example if nova-api has a very low throughput to deliver schedule requests to nova-conductor, all the following schedule processes will be affected, leading to the overall low performance of nova scheduler. Other possible bottlenecks are nova-conductor, nova-scheduler and the resource-tracker claim in nova-computes. The bottleneck can even be in other non-python components, for example the message queue and the database. This description is going to point out the biggest bottleneck in current nova scheduler system from the results of a profiling tool based on real OpenStack deployment [3]_. The bottleneck is the cache refreshing step in nova-scheduler service. Specifically, it is the database. The reasoning is organized by the following steps: 1. Prove the existence of nova scheduler performance issue; 2. Present where is the biggest bottleneck and why; 3. The theoretical performance boost by removing the bottleneck; 4. Secondary risks caused by that bottleneck. 1. Performance issue. A recent research based on a nova scheduler profiling tool [3]_ shows that the throughput of the one-filter-scheduler deployment is only 4.33 requests/second in the 200-node simulation and it is even rapidly decreased to 1.08 requests/second in the 1000-node simulation. Note the controller server in the experiments is very powerful with 2 Intel(R) E5-2680V3 CPUs and 128GB RAM. To make sure the experimental data is accurate, the compute node services are running a separate machine, the entire schedule process is intact and only the compute node virt drivers with some network interfaces are faked to better manage those emulated compute nodes. So the performance of the real OpenStack with the same settings will only be worse than that. It may be unacceptable to most of OpenStack users and deployers. 2. The biggest bottleneck. Those experiments did in #1 can be further evaluated from the produced logs, especially from the average time cost of each steps during single request processing. It shows the cost of nova-scheduler service is about 72.3% of the overall schedule process (from nova-api to nova-compute) in 200-node simulation with 50 concurrent boot requests, which is increased to 91.6% in 1000-node simulation. And the logs also show the cost of the scheduler method `FilterScheduler._get_all_host_states()` is about 98.5% of the cost in nova-scheduler service. The result strongly points out database is the biggest bottleneck during scheduling, because the method ""get_all_host_states()"" is majorly accessing the database to update the scheduler cache. All others including in-memory filtering and weighing only costs about 1.5% of the time in nova-scheduler service. 3. The performance boost by removing the bottleneck. To see the performance gain without the biggest bottleneck, the best practice is to use the caching scheduler, which doesn't access database in method `get_all_host_states()` and all other in-memory filtering and weighing algorithms are identical with filter scheduler. The result shows the overhead of scheduler service is only 0.03~0.43% from 200 to 1000 node simulation, compared with filter scheduler 72.3~91.6%. And the `get_all_host_states()` overhead can be ignored(0%) in caching scheduler, compared with filter scheduler 98.5%. The caching scheduler's throughput is 14.81 queries/second at 200 nodes, and 9.17 queries/second at 1000 nodes. The performance boost measured by throughput is about 850% in 1000 node environment, which is the theoretical performance improvement if the biggest bottleneck is removed. 4. Secondary risks due to the bottleneck. The direct impact of the database bottleneck is a longer wait in nova-scheduler service. It not only causes the low throughput of scheduler, but also has several secondary risks. Firstly, recall that nova-conductor uses RPC ""call"" method to ask for the decisions from nova-scheduler. The ""RPC call"" can be timed-out according to oslo-messaging settings (60 seconds by default). If the scheduler service takes more than 60 seconds to complete the requests, which is possible due to the pressure of requests or more compute nodes or a less powerful controller, the conductor will start to retry those in-progress requests because of timing out. Those retries will launch a flood of requests to the already-exhausted nova-scheduler, causing all instances to ERROR state because RPC calls are exceeding the QueuePool limit of message queue, which is relatively luckiest in fact. The worse thing will happen if the database connection limit is exceeded and all new connections are refused, causing unpredictable behaviors of the entire OpenStack. Note nova scheduler currently doesn't use nova-conductor service to limit its database connections. Secondly, a longer wait means a longer time from a decision is made in scheduler, to the decision is accepted by nova-compute and updated to the database. The longer a decision stays in memory, the worse race conditions will happen. It seems like caching scheduler can solve the problem by excluding database block during scheduling. However, caching scheduler's cache update model is too simple. It only refreshes the entire scheduler caches from database periodically, with the default setting 60 seconds. It means caching scheduler will not be aware of resource changes in compute nodes including but not limited to instance delete, instance shelving, instance migration etc., until the next cache refresh operation 60 seconds later. The accuracy of scheduler decision will be largely affected and users won't like to launch multiple caching schedulers to let them fight against each other. Use Cases --------- As a user, I wish to have a better experience with faster spawned instances. I don't like to wait for instances to be scheduled for a long, long time and failed. As a deployer, I wish to have a better scheduler for a large cluster, with a shorter scheduling time, less race conditions and possibilities to launch multiple scheduler services for HA or performance, and with the easiest configurations and full functionalities. As a developer, I wish to provide better scheduler options without any loss of existing features, and with the least API impact. Proposed change =============== <TODO> Alternatives ------------ There are many other ways to improve scheduler performance by dealing with the database bottleneck. Caching scheduler circumvents the database during scheduling by creating periodical jobs, but it will make inaccurate decisions due to the rapidly changed resource view and it doesn't support multiple schedulers by design. Resource-provider scheduler takes a different approach by doing optimized database queries to minimize the cost of querying host states, and by letting schedulers do claims rather than resource trackers, but it makes substantial changes to the resource management, and the its performance gain in the real OpenStack deployment hasn't been measured. The no-db scheduler also excludes database from scheduling, but it takes a different approach and will introduce another memcached backend with complexities. Data model impact ----------------- <TODO> REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- Users will be provided a new option of scheduler_host_manager_driver. Performance Impact ------------------ This change will introduce `number_of_schedulers` more messages in processing a schedule request. And `number_of_schedulers` more messages will be introduced by processing instance delete/shelve or any other operations that will change the available resources. Other deployer impact --------------------- A new option of scheduler_host_manager is introduced: shared_state_host_manager. The changes take immediate effect if the option is changed to `shared_state_host_manager`. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: cyx1231st <yingxin.cheng@intel.com> Other contributors: <volunteers?> Work Items ---------- <TODO> Dependencies ============ * Scheduler claim implementation and compute claim refactor: `host-state-level-locking` implemented. * Pci-stats refactor: `pci-stats-generate` implemented. * The micro-version field in database is essential to scheduler cache synchronization and validation, this field has a counterpart `resource_providers.generation`: `resource-provider` implemented. * To schedule shared resources accurately with resource providers: `generic-resource-pools` implemented. * Fix the inconsistent resource consumption between scheduler and resource trackers: `bug #1550098` fixed. * To enable multiple schedulers, make sure all db accesses of nova-scheduler will through conductors: https://review.openstack.org/#/c/292362/ or the similar work-around merged. Testing ======= Full unit tests for the new host manager driver, and functional tests. Documentation Impact ==================== Documentation for the new scheduler host manager driver option `shared_state_host_manager`. References ========== .. [1] Austin summit session https://www.openstack.org/summit/austin-2016/summit-schedule/events/7129 or a brief introduction `here <http://paste.openstack.org/show/494336>`. .. [2] http://paste.openstack.org/show/494211 .. [3] https://github.com/cyx1231st/nova-scheduler-bench .. [4] https://review.openstack.org/#/c/306301 History ======= ",,261,0
openstack%2Fnova-specs~master~I5cfc88b89f87b07dbceca031718c36c5ba0bada2,openstack/nova-specs,master,I5cfc88b89f87b07dbceca031718c36c5ba0bada2,Improve Scheduler Logging,ABANDONED,2016-10-23 17:39:58.000000000,2017-04-04 10:13:44.000000000,,"[{'_account_id': 3}, {'_account_id': 6772}, {'_account_id': 15334}]","[{'number': 1, 'created': '2016-10-23 17:39:58.000000000', 'files': ['specs/ocata/approved/improve-sched-logging.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/72cb93d2aad09c5e47fd463961089a5d54501778', 'message': 'Improve Scheduler Logging\n\nThe nova scheduler includes a number of very complicated filters with\nnon-obvious failure modes (the NUMATopologyFilter in particular comes\nto mind). It is possible to have a situation where a given instances\nfails to schedule, and it is not immediately apparent as to what\nexactly caused the failure.\n\nAccordingly, it is proposed that we allow for optional detailed\nmessages about precisely *why* a scheduler filter is failing.\n\n(This was originally approved for Newton, but the implementation\nwas not merged in time.)\n\nChange-Id: I5cfc88b89f87b07dbceca031718c36c5ba0bada2\n'}]",0,390116,72cb93d2aad09c5e47fd463961089a5d54501778,6,3,1,8768,,,0,"Improve Scheduler Logging

The nova scheduler includes a number of very complicated filters with
non-obvious failure modes (the NUMATopologyFilter in particular comes
to mind). It is possible to have a situation where a given instances
fails to schedule, and it is not immediately apparent as to what
exactly caused the failure.

Accordingly, it is proposed that we allow for optional detailed
messages about precisely *why* a scheduler filter is failing.

(This was originally approved for Newton, but the implementation
was not merged in time.)

Change-Id: I5cfc88b89f87b07dbceca031718c36c5ba0bada2
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/16/390116/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/improve-sched-logging.rst'],1,72cb93d2aad09c5e47fd463961089a5d54501778,sched-error-reporting,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Improve Scheduler Logging ========================= https://blueprints.launchpad.net/nova/+spec/improve-sched-logging The nova scheduler includes a number of very complicated filters with non-obvious failure modes (the NUMATopologyFilter in particular comes to mind). It is possible to have a situation where a given instances fails to schedule, and it is not immediately apparent as to what exactly caused the failure. Accordingly, it is proposed that we allow for optional detailed messages about precisely *why* a scheduler filter is failing. Problem description =================== If the nova scheduler fails to find a suitable compute node for an instance, it is sometimes tricky to figure out what the problem was. For simple filters (CPU/RAM/disk) the checks are fairly straightforward, but for more complicated filters (PCI, IO ops, and especially NUMA-related things like CPU pinning, huge pages, and hyperthreading) its difficult to manually determine why things failed from looking at the logs. Even with debug logging enabled, there are scenarios where the NUMATopologyFilter filter can fail with no useful logs. As an example, if the NUMATopologyFilter filter fails a compute node, it logs a pretty generic message: *""%(host)s, %(node)s fails NUMA topology requirements. The instance does not fit on this host.""* There are quite a few different ways that we could end up getting to that point without emitting any other logs. For example, in objects.numa.NUMACell.can_fit_hugepages(), there is a case where it can raise exception.MemoryPageSizeNotSupported. If that happens, we propose that it would be better to have a more detailed error like: *""%(host)s, %(node)s does not support page size %(size)d.""* Or if the numa node doesn't have enough CPU/RAM to satisfy the requirements, we propose that the exact problem should be indicated in the log: *""%(host)s, %(node)s CPUs avail(%d) < required(%d)""* Use Cases --------- The primary use case is when an end-user tries to perform an operation that requires scheduling an instance, and it fails. They then ask the Deployer why it failed, but there is no obvious failure reason in the logs. Proposed change =============== As discussed at the Summit, the proposal is two-pronged. First, we will attempt to ensure that all scheduler filter failures have a useful log message describing why the filter failed for that host. Second, we propose adding a new ""sched_detailed_log_only_on_failure"" option, which will default to True. When this option is set, we will accumulate debug logs in memory (the current plan is to use a sched-filter-specific logging mechanism, but we could likely use https://review.openstack.org/#/c/227766/ or similar if it gets merged) and then emit them only if the overall scheduling operation fails (i.e. exception.NoValidHost is raised). If the scheduling operation passes, the logs will be thrown out. Since the logging would happen only on failure, it is proposed that we log the detailed filter logs at the ""info"" level. (The actual NoValidHost error log will still be logged at the current logging level.) If this config option is set to False, we will emit logs exactly the way we do currently. Third, in order to further reduce the logging, it is proposed that a new ""scheduler_suppressed_log_filters"" config option be added. This will consist of a list of filter names (analogous to ""scheduler_default_filters"") for which we want to suppress debug logging. In this way operators could avoid logging for cases which fail for trivial reasons like lack of CPU/RAM/disk. We propose that this option default to ['CoreFilter', 'RamFilter', 'DiskFilter', 'ComputeFilter']. This option would apply regardless of which way the ""log only on failure"" config option is set, for several reasons: * When logging only on NoValidHost we would still need to do work to store the logs for the success path, so this would give a way to reduce the overhead and also reduce the amount of logging on a scheduler failure. * If the operator decides they don't need logging from particular filters then it likely doesn't matter whether we only log on failure. * If an operator does want to change the suppressed filters when changing the ""sched_detailed_log_only_on_failure"" config option, then they have the option of doing so. Alternatives ------------ The alternative would be to enhance the existing debug logs so that all failure cases are covered. For this to be useful the deployer would need to run the scheduler with debug logging enabled, and the extra logging would apply to all cases, including ones that were ultimately successful. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Expected to be low, assuming the simple filters (CPU/RAM/disk/etc.) have their logs suppressed. There will be some additional CPU time spent processing logs and some additional memory consumed during scheduling. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: cbf123 (aka cfriesen) Other contributors: lbeliveau Work Items ---------- * Add the new config option. * Add the core scheduler code to log the error messages (if there are any) if the scheduler is unable to locate a suitable compute node. * For each filter, ensure that all failure modes are covered by an error message. This can be parallelized, since the logging for each filter is essentially independent of the other filters. Dependencies ============ * None Testing ======= There should be no end-user-visible changes, so current Tempest and functional tests should suffice for proving correctness. To exercise the additional logging, some additional unit tests will be added covering a number of strategic scenarios where different filters fail. Documentation Impact ==================== The Operations Guide would be updated with information on the existance of the config option and how it would simplify debugging scheduling failures. A new config option is being introduced, so it would need to be documented appropriately. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Newton - Introduced ",,211,0
openstack%2Ftripleo-quickstart-extras~master~I15a9db5a37c0aa09cd46e7132023b902da6c861c,openstack/tripleo-quickstart-extras,master,I15a9db5a37c0aa09cd46e7132023b902da6c861c,Write openstack bash completion for undercloud,ABANDONED,2017-03-22 14:22:48.000000000,2017-04-04 10:12:55.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 19339}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-03-22 14:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/958af38b147ac42b27a225425ff3ed487171e9cc', 'message': 'Write openstack bash completion for undercloud\n\nChange-Id: I15a9db5a37c0aa09cd46e7132023b902da6c861c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2017-03-22 14:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e49ef9176711e18ba29c9b50891b74acbc6a15a3', 'message': 'Write openstack bash completion for undercloud\n\nChange-Id: I15a9db5a37c0aa09cd46e7132023b902da6c861c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2017-03-22 15:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2cbf0de46540cb6bd177788cbd5b654a6652e77e', 'message': 'Write openstack bash completion for undercloud\n\nChange-Id: I15a9db5a37c0aa09cd46e7132023b902da6c861c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2017-03-27 10:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a1061b4d500f2feedebf0735e08863c8a818671', 'message': 'Write openstack bash completion for undercloud\n\nChange-Id: I15a9db5a37c0aa09cd46e7132023b902da6c861c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2017-03-29 16:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/45dc85d885cb9fc3e8d56edd80c869e1b61f84ba', 'message': 'Write openstack bash completion for undercloud\n\nChange-Id: I15a9db5a37c0aa09cd46e7132023b902da6c861c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2017-04-03 09:11:23.000000000', 'files': ['roles/undercloud-deploy/tasks/bash_complete.yml', 'roles/undercloud-deploy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/830084af10c016e2e290295ea7c6d132aeaa3e32', 'message': 'Write openstack bash completion for undercloud\n\nChange-Id: I15a9db5a37c0aa09cd46e7132023b902da6c861c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,448606,830084af10c016e2e290295ea7c6d132aeaa3e32,34,12,6,6926,,,0,"Write openstack bash completion for undercloud

Change-Id: I15a9db5a37c0aa09cd46e7132023b902da6c861c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/06/448606/6 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/tasks/package_installs.yml'],1,958af38b147ac42b27a225425ff3ed487171e9cc,completion,"- name: Install bash completion package package: name: bash-completion state: latest - name: Gather OpenStack CLI bash completion command: /usr/bin/openstack complete no_log: true register: openstack_bash_completion - name: Write OpenStack CLI bash completion copy: content: ""{{ openstack_bash_completion.stdout }}"" dest: /etc/bash_completion.d/openstack.sh owner: root group: root mode: 0755 when: openstack_bash_completion.changed",,18,0
openstack%2Frenderspec~master~I92f6d59c287160e8677b2df3ce0a4411a95af760,openstack/renderspec,master,I92f6d59c287160e8677b2df3ce0a4411a95af760,Introduce context variable 'pypi_name',MERGED,2017-04-03 16:18:53.000000000,2017-04-04 10:11:52.000000000,2017-04-04 10:11:52.000000000,"[{'_account_id': 3}, {'_account_id': 13294}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-03 16:18:53.000000000', 'files': ['renderspec/__init__.py', 'tests.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/79fc18493a40e06aa3e83b92a78c0e08d62f0b35', 'message': ""Introduce context variable 'pypi_name'\n\nIt will be useful for future functions to know the pypi name inside\nof the Jinja2 context. For that a variable must be set.\nThe first user of that variable is the context function py2name().\nIf this function is called without any parameter, the value from\n'pypi_name' is used for the name calculation.\nAlso document the currently available context variables.\n\nChange-Id: I92f6d59c287160e8677b2df3ce0a4411a95af760\n""}]",1,452823,79fc18493a40e06aa3e83b92a78c0e08d62f0b35,8,3,1,7102,,,0,"Introduce context variable 'pypi_name'

It will be useful for future functions to know the pypi name inside
of the Jinja2 context. For that a variable must be set.
The first user of that variable is the context function py2name().
If this function is called without any parameter, the value from
'pypi_name' is used for the name calculation.
Also document the currently available context variables.

Change-Id: I92f6d59c287160e8677b2df3ce0a4411a95af760
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/23/452823/1 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/__init__.py', 'tests.py', 'doc/source/usage.rst']",3,79fc18493a40e06aa3e83b92a78c0e08d62f0b35,,"**************************The prefered way to use `py2name` is to set the context variable `pypi_name` and then call `py2name()` without any parameters. In that case, the context variable is used:: {% set pypi_name = 'oslo.config' %} Name: {{ py2name() }}It is also possible to pass the pypi name directly to the `py2name` context function:: Name: {{ py2name('oslo.config') }} That would create the same rendering result. If the context env var `pypi_name` is set **and** `py2name` is called with a parameter, the parameter is used instead of the context var. Available context variables =========================== There are some variables that need to be set in the spec.j2 template. Preferable at the beginning before any context function is used. pypi_name ********* This variable defines the name that is used on pypi. Set with:: {% set pypi_name = 'oslo.messaging' %} where 'oslo.messaging' is the name that is set. The variable can later be used:: Source: {{ pypi_name }}.tar.gz upstream_version **************** The variable defines the upstream version that is used:: {% set upstream_version = '1.2.3.0rc1' %} rpm_release *********** The variable defines the rpm release. It is used together with 'upstream_version' and only needed with the fedora spec style:: {% set rpm_release = '1' %} ","***********************For example, to define a package name and use the `py2name` context function, do:: Name: {{ py2name('oslo.config') }}",75,5
openstack%2Fnova-specs~master~I4d0272ff2b53f698efc7ee087da277859db08429,openstack/nova-specs,master,I4d0272ff2b53f698efc7ee087da277859db08429,Quota Management in Nested Projects,ABANDONED,2016-10-22 22:04:09.000000000,2017-04-04 10:08:19.000000000,,"[{'_account_id': 3}, {'_account_id': 6849}]","[{'number': 1, 'created': '2016-10-22 22:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3be4bd9715a6ac6ba037f49127bec547aeae26f', 'message': 'Quota Management in Nested Projects\n\nPreviouslu-approved: mitaka\n\nChange-Id: I4d0272ff2b53f698efc7ee087da277859db08429\n'}, {'number': 2, 'created': '2016-10-24 09:19:20.000000000', 'files': ['specs/ocata/approved/nested-quota-driver-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0c948bee60505a383b247ace6f12cf18bda74707', 'message': 'Quota Management in Nested Projects\n\nPreviouslu-approved: mitaka\n\nCo-Authored-By: Sajeesh CS <sajeesh.cs@cern.ch>\nChange-Id: I4d0272ff2b53f698efc7ee087da277859db08429\n'}]",1,390028,0c948bee60505a383b247ace6f12cf18bda74707,6,2,2,12712,,,0,"Quota Management in Nested Projects

Previouslu-approved: mitaka

Co-Authored-By: Sajeesh CS <sajeesh.cs@cern.ch>
Change-Id: I4d0272ff2b53f698efc7ee087da277859db08429
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/28/390028/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/nested-quota-driver-api.rst'],1,b3be4bd9715a6ac6ba037f49127bec547aeae26f,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== Nested Quota Driver API ======================== https://blueprints.launchpad.net/nova/+spec/nested-quota-driver-api Nested quota driver will enable OpenStack to enforce quota in nested projects. http://specs.openstack.org/openstack/keystone-specs/specs/juno/hierarchical_multitenancy.html Problem description =================== OpenStack is moving towards support for hierarchical ownership of projects. In this regard, the Keystone will change the organizational structure of OpenStack, creating nested projects. The existing Quota Driver in Nova called ``DbQuotaDriver`` is useful to enforce quotas at both the project and the project-user level provided that all the projects are at the same level (i.e. hierarchy level cannot be greater than 1). The proposal is extend the existing ``DbQuotaDriver`` to allow enforcing quotas in nested projects in OpenStack. The nested projects are having a hierarchical structure, where each project may contain users and projects (can be called sub-projects). Users can have different roles inside each project: A normal user can make use of resources of a project. A project-admin, for example can be a user who in addition is allowed to create sub-projects, assign quota on resources to these sub-projects and assign the project admin role to individual users of the sub-projects. Resource quotas of the root project can only be set by the admin of the root project. The user roles can be set as inherited, and if set, then an admin of a project is automatically an admin of all the projects in the tree below. Use Cases --------- **Actors** * Martha - Cloud Admin (i.e. role:cloud-admin) of ProductionIT * George - Manager (i.e. role: project-admin) of Project CMS * John - Manager (i.e. role: project-admin) of Project ATLAS * Peter - Manager (i.e. role: project-admin) of Project Operations * Sam - Manager (i.e. role: project-admin) of Project Services * Paul - Manager (i.e. role: project-admin) of Project Computing * Jim - Manager (i.e. role: project-admin) of Project Visualisation The nested structure of the projects is as follows. .. code:: javascript { ProductionIT: { CMS : { Computing, Visualisation }, ATLAS: { Operations, Services } } } Martha is an infrastructure provider and offers cloud services to George for Project CMS, and John for Project ATLAS. CMS has two sub projects below it named, Visualisation and Computing, managed by Jim and Paul respectively. ATLAS has two sub projects called Services and Operations, managed by Sam and Peter respectively. 1. Martha needs to be able to set the quotas for both CMS and ATLAS, and also manage quotas across the entire projects including the root project, ProductionIT. 2. George should be able to update the quota of Visualisation and Computing. 3. George should be able to able to view the quota of CMS, Visualisation and Computing. 4. George should not be able to update the quota of CMS, although he is the Manager of it. Only Martha can do that. 5. George should not be able to view the quota of ATLAS. Only John and Martha can do that. 6. Jim, the Manager of Visualisation should not be able to see the quota of CMS. Jim should be able to see the quota of Visualisation only, and also the quota of any sub projects that will be created under Visualisation. 7. The quota information regarding number of instances in different projects are as follows, +----------------+----------------+----------+--------------+ | Name | ``hard_limit`` | ``used`` | ``reserved`` | +================+================+==========+==============+ | ProductionIT | 1000 | 100 | 100 | +----------------+----------------+----------+--------------+ | CMS | 300 | 25 | 15 | +----------------+----------------+----------+--------------+ | Computing | 100 | 50 | 50 | +----------------+----------------+----------+--------------+ | Visualisation | 150 | 25 | 25 | +----------------+----------------+----------+--------------+ | ATLAS | 400 | 25 | 25 | +----------------+----------------+----------+--------------+ | Services | 100 | 25 | 25 | +----------------+----------------+----------+--------------+ | Computing | 200 | 50 | 50 | +----------------+----------------+----------+--------------+ a. Suppose, Martha(admin of root project or cloud admin) increases the ``hard_limit`` of instances in CMS to 400 b. Suppose, Martha increases the ``hard_limit`` of instances in CMS to 500 c. Suppose, Martha delete the quota of CMS d. Suppose, Martha reduces the ``hard_limit`` of instances in CMS to 350 e. Suppose, Martha reduces the ``hard_limit`` of instances in CMS to 200 f. Suppose, George(Manager of CMS)increases the ``hard_limit`` of instances in CMS to 400 g. Suppose, George tries to view the quota of ATLAS h. Suppose, Jim tries to reduce the ``hard_limit`` of instances in CMS to 400. i. Suppose, Martha tries to increase the ``hard_limit`` of instances in ProductionIT to 2000. j. Suppose, Martha deletes the quota of Visualisation. k. Suppose, Martha deletes the project Visualisation. 8. Suppose the company doesn't want a nested structure and want to restructure in such a way that there are only four projects namely, Visualisation, Computing, Services and Operations. Project Priority ----------------- The code in the existing DBQuotaDriver is deprecated and hence we need an update. Also as the entire OpenStack community is moving toward hierarchical projects this can be an useful addition to Nova. Proposed change =============== 1. The default quota (hard limit) for any new subproject is set to 0. The neutral value of zero ensures consistency of data in the case of race conditions when several projects are created by admins at the same time. Suppose the default value of RAM is 1024, and A is the root project. And an admin is creating B, a child project of A, and another admin is creating C, again a child project of A. Now, the sum of default values for RAM of B and C are crossing the default value of A. To avoid this type of situations, default quota is set as Zero. 2. A project is allowed to create a instance, only after setting the quota to a non-zero value (as default value is 0). After the creation of a new project, quota values must be set explicitly by a Nova API call to a value which ensures availability of free quota, before resources can be claimed in the project. 3. A user with role ""admin"" in the root project is permitted to do quota operations across the entire hierarchy, including the top level project. Admins in the root project are the only users who are allowed to set the quota of the root project in a tree. 4. A person with role ""admin"" in a project is permitted to do quota operations on its immediate subprojects and users in the hierarchy. If the role ""admin"" in a project is set as inheritable in Keystone, then the user with this role is permitted to do quota operations starting from its immediate child projects to the last level project/user under the project hierarchy. 5. The total resources consumed by a project is divided into a) Used Quota - Resources used by the instances in a project. (excluding child-projects) b) Reserved Quota - Resources reserved for future use by the project c) Allocated Quota - Sum of the quota ``hard_limit`` values of immediate child projects 6. The ``free`` quota available within a project is calculated as ``free quota = hard_limit - (used + reserved + allocated)`` Free quota is not stored in the database; it is calculated for each project on the fly. 7. An increase in the quota value of a project is allowed only if its parent has sufficient free quota available. If there is free quota available with the parent, then the quota update operation will result in the update of the ``hard_limit`` value of the project and ``allocated`` value update of its parent project. That's why, it should be noted that updating the quota of a project requires the token to be scoped at the parent level. * Hierarchy of Projects is as A->B->C (A is the root project) +------+----------------+----------+--------------+---------------+ | Name | ``hard_limit`` | ``used`` | ``reserved`` | ``allocated`` | +======+================+==========+==============+===============+ | A | 100 | 0 | 50 | 50 | +------+----------------+----------+--------------+---------------+ | B | 50 | 20 | 0 | 10 | +------+----------------+----------+--------------+---------------+ | C | 10 | 10 | 0 | 0 | +------+----------------+----------+--------------+---------------+ Free quota for projects would be: A:Free Quota = 100 {A:hard_limit} - ( 0 {A:used} + 0 {A:reserved} + 50 {A:Allocated to B}) A:Free Quota = 50 B:Free Quota = 50 {B:hard_limit} - ( 20 {B:used} + 0 {B:reserved} + 10 {B:Allocated to C}) B:Free Quota = 20 C:Free Quota = 10 {C:hard_limit} - ( 10 {C:used} + 0 {C:reserved} + 0 {C:Allocated}) C:Free Quota = 0 If Project C ``hard_limit`` is increased by 10, then this change results in: +------------+----------------+----------+--------------+---------------+ | Name | ``hard_limit`` | ``used`` | ``reserved`` | ``allocated`` | +============+================+==========+==============+===============+ | A | 100 | 0 | 50 | 50 | +------------+----------------+----------+--------------+---------------+ | B | 50 | 20 | 0 | 20 | +------------+----------------+----------+--------------+---------------+ | C | 10 | 10 | 0 | 0 | +------------+----------------+----------+--------------+---------------+ If Project C hard_limit needs to be increased further by 20, then this operation will be aborted, because the free quota available with its parent i.e. Project B is only 10. So, first project-admin of A should increase the ``hard_limit`` of Project B (using scoped token to Project A, because of action at level A) and then increase the ``hard_limit`` of Project C (again scoped token to Project B) Please consider the use cases mentioned above. The quota information of various projects, including the allocated quota is as follows, | ProductionIT : hard_limit=1000, used=100, reserved=100, allocated=700 | CMS : hard_limit=300, used=25, reserved=15, allocated=250 | Computing : hard_limit=100, used=50, reserved=50, allocated=0 | Visualisation : hard_limit=150, used=25, reserved=25, allocated=0 | ATLAS : hard_limit=400, used=25, reserved=25, allocated=300 | Services : hard_limit=100, used=25, reserved=25, allocated=0 | Computing : hard_limit=200, used=50, reserved=50, allocated=0 * Suppose Martha tries to increase the instances quota in CMS to 400. Since Martha is having the role of admin in ProductionIT which is the parent of CMS, she can increase the quota of CMS provided that the token is scoped to ProductionIT. This is required because the increase of quota limit in CMS results in the corresponding reduction of free quota in ProductionIT. Using the above formula, free quota of ProductionIT is given by, | ProductionIT:hard_limit minus | ProductionIT:used minus | ProductionIT:reserved minus | ProductionIT:allocated = | 1000 - 100 - 100 - (300 + 400) = 100. So maximum permissible quota for CMS is 300 + 100 = 400 Note:ProductionIT:allocated = CMS:hard_limit + ATLAS:hard_limit Minimum quota of CMS is given by, CMS:used + CMS:reserved + CMS:allocated = 25 + 15 + 250 = 290 Note: CMS:allocated = Visualisation:hard_limit + Computing:hard_limit Since 290 <= 400 <=400, quota operation will be successful. After update, the quota of ProductionIT and CMS will be as follows, | ProductionIT : hard_limit=1000, used=100, reserved=100, allocated=800 | CMS : hard_limit=400, used=25, reserved=15, allocated=250 * Suppose Martha tries to increase the instances quota in CMS to 500. Then it will not be successful, since the maximum quota available for CMS is 400. * Suppose George who is the Manager of CMS increases the instances quota in CMS to 400, then it will not be successful, since George is not having admin or project-admin role in ProductionIT which is the parent of CMS. * Suppose Martha tries to increase the quota of ProductionIT to 2000, then it will be successful. Since ProductionIT is the root project, there is no limit for the maximum quota of ProductionIT. And also, Martha is having admin role in ProductionIT. 8. A decrease in the quota value of a project is allowed only if it has free quota available, free quota > 0 (zero), hence the maximum decrease in quota value is limited to free quota value. * Hierarchy of Projects is A->B->C, where A is the root project Project A (hard_limit = 100, used = 0, reserved = 0, allocated = 50) Project B (hard_limit = 50, used = 20, reserved = 0, allocated = 10) Project C (hard_limit = 10, used = 10, reserved = 0, allocated = 0) If Project B hard_limit is reduced by 10, then this change results in Project A (hard_limit = 100, used = 0, reserved = 0, allocated = 40) Project B (hard_limit = 40, used = 20, reserved = 0, allocated = 10) Project C (hard_limit = 10, used = 10, reserved = 0, allocated = 0) If Project B's hard_limit needs to be reduced further by 20, then this operation will be aborted, because the free quota of Project B should be greater than or equal to (20+0+10). * Suppose Martha tries to reduce the instances quota in CMS to 350, it will be successful since the minimum quota required for CMS is 290. * Suppose Martha tries to reduce the instances quota of CMS to 200, then it will not be successful, since it violates the minimum quota criteria. 9. Delete quota is equivalent to updating the quota with zero values. It will be successful if the allocated quota is zero. Authentication logic is same as that of update logic. * Suppose Martha tries to delete the quota of CMS then it will not be successful, since allocated quota of CMS is non-zero. * Suppose Martha deletes the quota of Visualisation, then it will be successful since the allocated quota of Visualisation is zero. The deleted quota of Visualisation will add to the free_quota of CMS. The quota of CMS will be CMS :hard_limit=300, used=25, reserved=15, allocated=100. * Suppose, Martha deletes the project Visualisation, the quota of Visualisation should be released to its parent, CMS. But in the current setup, Nova will not come to know, when a project is deleted from keystone. This is because, Keystone service is not synchronized with other services, including nova. So even if the project is deleted from keystone, the quota information remains there in nova database. This problem is there in the current running model of OpenStack. Once the keystone service is synchronized, this will be automatically taken care of. For the time being, Martha has to delete the quota of Visualisation, before she is deleting that project. Synchronization of keystone with other OpenStack services is beyond the scope of this blueprint. 10. Suppose if George, who is the Manager of CMS tries to view the quota of ATLAS, it will not be successful, since George is not having any role in ATLAS or in the parent of ATLAS. 11. Suppose Jim who is the Manager of Visualisation tries to update the quota of CMS, it will not be successful, because he is not having admin or project-admin role in the parent of CMS. 12. Suppose if the organization doesn't want a nested structure and wants only four projects namely, Visualisation, Computing, Services and Operations, then the setup will work like the current setup where there is only one level of projects. All the four projects will be treated as root projects. 13. A ""admin"" user in a parent project, will be able to set quotas for users beyond the hierarchy. Alternatives ------------ For quota update and delete operations of a project, the token can be scoped to the project itself, instead to its parent. But, we are avoiding that, because the quota change in the child project lead to change in the free quota of the parent. Because of that, according to this bp, for quota update and delete operations, the token is scoped to the parent. Data model impact ----------------- Create a new column ``allocated`` in table ``quotas`` with default value 0. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: * sajeesh Other contributors: * ericksonsantos * raildo * schwicke * vilobhm Work Items ---------- 1. Extend the existing ``DbQuotaDriver``, to enforce quotas in hierarchical multitenancy in OpenStack. 2. A migration script will be added to create the new column ``allocated`` in table ``quotas``, with default value 0. 3. Update the default quota value for subprojects to zero. 4. Implements Keystone calls to get the parent_id and subtree information. 5. Update the API v2.1 related to Quota operations to handle with a target project( On this case, a subproject) 6. Update the quota calculation to handle with the allocated quota. Dependencies ============ Depends on bp Hierarchical Multitenancy * `<http://specs.openstack.org/openstack/keystone-specs/specs/juno/hierarchical_multitenancy.html>`_ Testing ======= * Unit tests will be added for all the REST APIs calls. * Add unit tests for integration with other services. * Add functional tests in tempest for the new API calls. Documentation Impact ==================== * Update the API docs to explain how the user can update quota for a subproject. References ========== * `Wiki <https://wiki.openstack.org/wiki/HierarchicalMultitenancy>`_ * `Heirarchical Projects <http://specs.openstack.org/openstack/keystone-specs/specs/juno/hierarchical_multitenancy.html>`_ * `Hierarchical Projects Improvements <https://blueprints.launchpad.net/keystone/+spec/hierarchical-multitenancy-improvements>`_ * `Cinder nested quota driver <http://specs.openstack.org/openstack/cinder-specs/specs/liberty/cinder-nested-quota-driver.html>`_ ",,493,0
openstack%2Fnova-specs~master~I90282f528c806a5823bd9872179738391bc2b352,openstack/nova-specs,master,I90282f528c806a5823bd9872179738391bc2b352,Cleanup running shelved-offloaded instances,ABANDONED,2016-09-20 14:26:49.000000000,2017-04-04 10:06:37.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2271}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 20354}, {'_account_id': 20424}]","[{'number': 1, 'created': '2016-09-20 14:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fb134dc99eb117427412ce47efb6e8bef17c43b7', 'message': 'Cleanup running shelved-offloaded instances\n\nAllow cleaning erroneously active instances when they\nare shelved-offloaded in the DB\n\nChange-Id: I90282f528c806a5823bd9872179738391bc2b352\n'}, {'number': 2, 'created': '2016-09-21 11:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8848f73485463d89ca5531cd5b6b2b215731398c', 'message': 'Cleanup running shelved-offloaded instances\n\nAllow cleaning erroneously active instances when they\nare shelved-offloaded in the DB\n\nChange-Id: I90282f528c806a5823bd9872179738391bc2b352\n'}, {'number': 3, 'created': '2016-10-12 00:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ba3b8209e42a1caba2a955986771d9241de29a1a', 'message': 'Cleanup running shelved-offloaded instances\n\nAllow cleaning erroneously active instances when they\nare shelved-offloaded in the DB\n\nChange-Id: I90282f528c806a5823bd9872179738391bc2b352\n'}, {'number': 4, 'created': '2016-10-22 00:19:01.000000000', 'files': ['specs/ocata/approved/cleanup-running-shelved-instances.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2bfc694a9d3d3cc03bf2377ae0e872f9ff89a6f3', 'message': 'Cleanup running shelved-offloaded instances\n\nAllow cleaning erroneously active instances when they\nare shelved-offloaded in the DB\n\nChange-Id: I90282f528c806a5823bd9872179738391bc2b352\n'}]",20,373371,2bfc694a9d3d3cc03bf2377ae0e872f9ff89a6f3,20,7,4,20354,,,0,"Cleanup running shelved-offloaded instances

Allow cleaning erroneously active instances when they
are shelved-offloaded in the DB

Change-Id: I90282f528c806a5823bd9872179738391bc2b352
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/71/373371/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/cleanup-running-shelved-instances.rst'],1,fb134dc99eb117427412ce47efb6e8bef17c43b7,bp/cleanup-running-shelved-instances,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== Cleanup running shelved-offloaded instances =========================================== https://blueprints.launchpad.net/nova/+spec/cleanup-running-shelved-instances Allow cleaning erroneously active instances when they are shelved-offloaded in the DB Problem description =================== Errors or bugs might make instances run on a node, after they were already deleted or shelved-offloaded by API. nova-compute now has a mechanism that allow users to cleanup running instances that were deleted, but not instances that were shelved-offloaded. That can cause serious problems for the user - instance that if marked as shelved- offloaded, but actually is running, and is later started by the user, will cause the same instance to run twice in a cluster, and 2 instances can write to the same volume and cause data corruption. Use Cases --------- Actually-hapened to me - The user has a shelved-offloaded instance. He has requested to unshelve the instance. nova-compute tries to spawn the instance in the hypervisor. The hypervisor is really busy and slow, and reports a timeout. nova-compute tries to clean the instance, but it didn't spawn yet, it will spawn in a few seconds, and the unshelving fails - the instance goes back to being shelved-offloaded. The user then sees it, and re-tries the unshelving. The scheduler returns a different node, and the spawning is successful. We now have 2 instances of the same VM, on different nodes, writing to the same volume, and a data-corruption occurs. Proposed change =============== nova-compute already have a mechanism of cleanup of running-deleted instances, controlled by the running_deleted_instance_action configuration parameter. This suggests to add a configuration parameter - cleanup_shelved_instances, that will make the same mechaism cleaning-up shelved-offloaeded instances on the same loop. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- No change to notifications, but the loop that reaps instances, the calls shutdown upon instances and the shutdown sends a notification, will do so to shelved-instances as well as deleted Other end user impact --------------------- Extra boolean option in nova.conf - cleanup_shelved_instances. Defaults to False to keep current behaviour. Performance Impact ------------------ A bit more complicated DB query when searching for erroneously active instances Other deployer impact --------------------- To enable this feature, the user will need to add the cleanup_shelved_instances option to his configuration file Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: shoham-peller Other contributors: None Work Items ---------- * Have nova-compute's _running_deleted_instances method to accept a optional statuses list parameter which, if, given, filters for instances in the given statuses * Rename nova-compute's _running_deleted_instances method accorindgly Dependencies ============ None Testing ======= unit-testing that the cleanup loop cleans (calls shutdown and delete) shelved instances it gets from the DB, as well as deleted ones Documentation Impact ==================== Add the cleanup_shelved_instances option to nova.conf documentation References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Introduced ",,162,0
openstack%2Fnova-specs~master~Ib85a62450572ab178e64e28adac2cc237b1a476b,openstack/nova-specs,master,Ib85a62450572ab178e64e28adac2cc237b1a476b,Conductor deployment options in cellsv2,ABANDONED,2016-10-06 19:16:14.000000000,2017-04-04 10:03:17.000000000,,"[{'_account_id': 3}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6589}, {'_account_id': 15648}]","[{'number': 1, 'created': '2016-10-06 19:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7efe22380e69434551d3758bcb95340cdd8cc3a', 'message': 'Conductor deployment options in cellsv2\n\nThis discusses some different ways that nova-conductor could be deployed\nin a cellvs2 world and what level of support we should provide those\noptions.\n\nChange-Id: Ib85a62450572ab178e64e28adac2cc237b1a476b\n'}, {'number': 2, 'created': '2016-10-13 14:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0aada6291dc3c897ee1970bb0dfd61e3aef5562d', 'message': 'Conductor deployment options in cellsv2\n\nThis discusses some different ways that nova-conductor could be deployed\nin a cellvs2 world and what level of support we should provide those\noptions.\n\nChange-Id: Ib85a62450572ab178e64e28adac2cc237b1a476b\n'}, {'number': 3, 'created': '2016-10-13 21:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c8caa2f70aa76ef5e4958e3bf2ef722e8e84a262', 'message': 'Conductor deployment options in cellsv2\n\nThis discusses some different ways that nova-conductor could be deployed\nin a cellvs2 world and what level of support we should provide those\noptions.\n\nChange-Id: Ib85a62450572ab178e64e28adac2cc237b1a476b\n'}, {'number': 4, 'created': '2016-10-13 21:58:04.000000000', 'files': ['specs/ocata/approved/cells-conductor-deployments.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b75c96742d75128142c9a2050ffaee2d0514a511', 'message': 'Conductor deployment options in cellsv2\n\nThis discusses some different ways that nova-conductor could be deployed\nin a cellvs2 world and what level of support we should provide those\noptions.\n\nChange-Id: Ib85a62450572ab178e64e28adac2cc237b1a476b\n'}]",6,383419,b75c96742d75128142c9a2050ffaee2d0514a511,15,5,4,5441,,,0,"Conductor deployment options in cellsv2

This discusses some different ways that nova-conductor could be deployed
in a cellvs2 world and what level of support we should provide those
options.

Change-Id: Ib85a62450572ab178e64e28adac2cc237b1a476b
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/19/383419/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/cells-conductor-deployments.rst'],1,f7efe22380e69434551d3758bcb95340cdd8cc3a,ocata_cells_conductor_deployment,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Cells conductor deployments =========================== https://blueprints.launchpad.net/nova/+spec/cells-conductor-deployments Cellsv2 is being designed in such a way that nova-conductor is required to be in each cell and also available for the api level to use. This proposes some deployment scenarios that we will want to support. Problem description =================== Nova conductor performs multiple roles and is needed by various services which rely on that. Computes need access to the conductor for it's db proxying capability. Computes and the api needs access to conductor to manage long running tasks like build requests or migrations. And multiple services rely on conductor for it's ability to backport versioned objects. This means that nova-conductor is required to be deployed in such a way that every cell can talk to it, and the api level can talk to it. The simplest way to do this would be to have a set of nova-conductors running in each cell and a set running for the api to use. This is also the most heavyweight setup and may be overkill for some cases, like a single cell deployment. Use Cases ---------- * When considering deployment options operators want to understand what the recommened and supported setups are, and to have flexibility when possible. Proposed change =============== There are three different setups I would like to consider: 1. Conductors at api level and in each cell. 2. Single cell setup with conductors in the cell which are shared with the api level. 3. Multiple cells setup with conductors in each cell which are shared with the api level. **Conductors at api level and in each cell** This should always be a deployment option. While it is the most heavyweight it is also the simplest and there is no reason to not allow or support it. Each layer (api, cell) has a clear set of conductors to communicate with. And there are no requirements about conductors in a cell needing to communicate to any other cell. So fully isolating cells from each other is possible. The api level conductors do need the ability to communicate to a cell. In this setup nova-api will communicate with its conductors using the DEFAULT/transport_url config option for building an instance and will communicate with cell conductors using the data in the cell_mapping table in the nova_api database. Services within a cell will communicate with its conductors using the DEFAULT/transport_url config option. **Single cell setup with conductors in the cell which are shared with the api level** This should always be a deployment option as well. This can be used for Devstack deployments and deployments that are just getting setup and would like to start simple. The primary difference from the scenario above is that the DEFAULT/transport_url config used by nova-api should be set to the message queue within the cell so that nova-api is communicating with cell conductors. **Multiple cells setup with conductors in each cell which are shared with the api level** This does not need to be a deployment option, but could work if a few requirements are met. The primary one being that any nova-conductor would need network access to communicate with the database and message-queue of any other cell. If that is in place then nova-api could send a build request to any conductor and it can then create the instance in any cell db and the cast to any nova-compute to continue with the build. The missing piece here is that there is no mechanism for nova-api to communicate with multiple cell conductors for the build request. It would be possible to configure nova-api to rely on the conductors within a single cell by using the DEFAULT/transport_url option in the same way as scenario 2 above. I think this deployment scenario should be documented as unsupported but no work needs to go into barring its use. **Calls up from a cell to the api level** Something that is not currently necessary in cellsv2 is the ability for a service within a cell to send a message up to the api level. If it is possible to avoid ever doing that we will, but it may be necessary at some point or may offer great convenience to do so. If that is something that is added it will need to take into account these deployment scenarios, or further constrain them while providing notice and time to operators to adjust. Alternatives ------------ Any feasible alternatives should have been discussed above. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- There should be no impact outside of what is discussed above. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: alaski Other contributors: None Work Items ---------- * Document what is agreed upon here. Dependencies ============ None Testing ======= Since this is designed to be an internal re-architecting of Nova with no user visible changes the current suite of Tempest or functional tests should suffice. Documentation Impact ==================== This spec should be distilled into operator facing documentation as the code supports various scenarios. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Ocata - Introduced ",,201,0
