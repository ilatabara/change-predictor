id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkayobe-config~stable%2Fussuri~I630ef8200037b88c0130c7f1a14d9f4801d7958d,openstack/kayobe-config,stable/ussuri,I630ef8200037b88c0130c7f1a14d9f4801d7958d,Synchronise with kayobe for Ussuri,MERGED,2020-08-27 13:35:19.000000000,2020-08-28 08:45:21.000000000,2020-08-28 08:45:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-08-27 13:35:19.000000000', 'files': ['etc/kayobe/seed.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/dacd0b92dd3fa98be1d00a47a6e5d9495131b421', 'message': 'Synchronise with kayobe for Ussuri\n\nSynchronised with kayobe at 50001a10eff3338320af70ad490a17856c83e11a.\n\nChange-Id: I630ef8200037b88c0130c7f1a14d9f4801d7958d\n'}]",0,748438,dacd0b92dd3fa98be1d00a47a6e5d9495131b421,7,3,1,15197,,,0,"Synchronise with kayobe for Ussuri

Synchronised with kayobe at 50001a10eff3338320af70ad490a17856c83e11a.

Change-Id: I630ef8200037b88c0130c7f1a14d9f4801d7958d
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/38/748438/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/seed.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml']",4,dacd0b92dd3fa98be1d00a47a6e5d9495131b421,,"# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.2.2004-20200611.2.x86_64.qcow2"".# List of network interfaces to attach to the seed VM. Format is as accepted by # the stackhpc.libvirt-vm role's libvirt_vms.interfaces variable. Default is # one interface for each network in 'network_interfaces'. # # Example with one interface connected to a libvirt network called # 'libvirt-net', and another interface directly plugged into a host device # called 'eth1': # # seed_vm_interfaces: # - network: libvirt-net # - type: direct # source: # dev: eth1 # #seed_vm_interfaces: ","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2"".",116,8
openstack%2Fdevstack-plugin-ceph~master~I964feb9a3ca932ca810fdb4210f222acbca0d45d,openstack/devstack-plugin-ceph,master,I964feb9a3ca932ca810fdb4210f222acbca0d45d,Ceph-iscsi: Use pip to install targetcli-fb,ABANDONED,2020-06-05 06:34:58.000000000,2020-08-28 08:40:44.000000000,,"[{'_account_id': 5997}, {'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2020-06-05 06:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/aa044787f9cb0d55dd4fd30ee3087d18770c1ce0', 'message': 'Ceph-iscsi: Use pip to install targetcli-fb\n\nAlso install ceph-iscsi package according to python version\n\nChange-Id: I964feb9a3ca932ca810fdb4210f222acbca0d45d\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 2, 'created': '2020-06-09 02:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/43c4f2303c75e3bda955447e9ac4a543e8b5cb27', 'message': 'Ceph-iscsi: Use pip to install targetcli-fb\n\nAlso install ceph-iscsi package according to python version\n\nChange-Id: I964feb9a3ca932ca810fdb4210f222acbca0d45d\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 3, 'created': '2020-06-18 09:05:16.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a5ac268b7adab21727f4066a5b5cf9a6f69b7bc6', 'message': 'Ceph-iscsi: Use pip to install targetcli-fb\n\nAlso install ceph-iscsi package according to python version\n\nChange-Id: I964feb9a3ca932ca810fdb4210f222acbca0d45d\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,733751,a5ac268b7adab21727f4066a5b5cf9a6f69b7bc6,10,8,3,22076,,,0,"Ceph-iscsi: Use pip to install targetcli-fb

Also install ceph-iscsi package according to python version

Change-Id: I964feb9a3ca932ca810fdb4210f222acbca0d45d
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/51/733751/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,aa044787f9cb0d55dd4fd30ee3087d18770c1ce0,iscsi-gateway-fix, pip_install targetcli-fb if python3_enabled; then sudo python3 setup.py install --install-scripts=/usr/bin else sudo python setup.py install --install-scripts=/usr/bin fi,"TARGETCLI_REPO=""https://github.com/open-iscsi/targetcli-fb.git"" # not in pypi yet. git_clone $TARGETCLI_REPO $DEST/targetcli-fb master cd $DEST/targetcli-fb sudo python setup.py install sudo python setup.py install --install-scripts=/usr/bin",6,6
openstack%2Fdevstack-plugin-ceph~master~I5e64438a1a5f84dc3ff18d81adce8896d6e275bb,openstack/devstack-plugin-ceph,master,I5e64438a1a5f84dc3ff18d81adce8896d6e275bb,Add description for configure the iscsi-gateway.cfg,ABANDONED,2020-06-11 08:25:32.000000000,2020-08-28 08:40:41.000000000,,"[{'_account_id': 5997}, {'_account_id': 16643}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2020-06-11 08:25:32.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/657e2119e76ca0263b309d9ef1d0160e86c63a9f', 'message': 'Add description for configure the iscsi-gateway.cfg\n\nEspecially the HOST_IP and HOSTNAME mapping relationship.\n\nChange-Id: I5e64438a1a5f84dc3ff18d81adce8896d6e275bb\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",2,735078,657e2119e76ca0263b309d9ef1d0160e86c63a9f,7,5,1,22076,,,0,"Add description for configure the iscsi-gateway.cfg

Especially the HOST_IP and HOSTNAME mapping relationship.

Change-Id: I5e64438a1a5f84dc3ff18d81adce8896d6e275bb
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/78/735078/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,657e2119e76ca0263b309d9ef1d0160e86c63a9f,," # Please make sure the Ceph_ISCSI_API_HOST and HOST_IP have right mapping relationship # otherwise, you may meet create gateway error just like: # https://github.com/ceph/ceph-iscsi/issues/193 # To check the relationship, can run the python code locally like this: # >>>import socket # >>>socket.gethostname() # >>>'devstack-host1' # >>>socket.getfqdn() # >>>'devstack-host1.fqdn.suffix' # >>>socket.gethostbyaddr(socket.gethostname()) # >>>('devstack-host1.fqdn.suffix', [], ['192.168.100.100']) # Please fill devstack-host1.fqdn.suffix to CEPH_ISCSI_API_HOST with right HOST_IP here",,13,0
openstack%2Fkayobe-config~stable%2Ftrain~I66842efc796ccc0d9fb6f4f817f55a3395713a8f,openstack/kayobe-config,stable/train,I66842efc796ccc0d9fb6f4f817f55a3395713a8f,Synchronise with latest kayobe for Train,MERGED,2020-08-27 13:32:53.000000000,2020-08-28 08:39:16.000000000,2020-08-28 08:39:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-08-27 13:32:53.000000000', 'files': ['etc/kayobe/kolla.yml', 'etc/kayobe/monasca.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/2e700ae2729ca4ebd019d5bc32677ddd8d1819b7', 'message': 'Synchronise with latest kayobe for Train\n\nSynchronised with kayobe at 9e9808a072a4a30d3398f69c560cccc4ff662f6c.\n\nChange-Id: I66842efc796ccc0d9fb6f4f817f55a3395713a8f\n'}]",0,748436,2e700ae2729ca4ebd019d5bc32677ddd8d1819b7,7,3,1,15197,,,0,"Synchronise with latest kayobe for Train

Synchronised with kayobe at 9e9808a072a4a30d3398f69c560cccc4ff662f6c.

Change-Id: I66842efc796ccc0d9fb6f4f817f55a3395713a8f
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/36/748436/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'etc/kayobe/monasca.yml']",2,2e700ae2729ca4ebd019d5bc32677ddd8d1819b7,,"--- ############################################################################### # Monasca configuration. # Monasca OpenStack Project name. # The default is ""monasca_control_plane"". #monasca_control_plane_project: # Monasca OpenStack Domain name. Default is ""default"". #monasca_control_plane_domain: # Monasca Grafana Server port. Must match kolla-ansible # var of the same name. Default is ""3001"". #monasca_grafana_server_port: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ",,84,4
openstack%2Fcharm-manila-ganesha~master~I6176617986ac624a7892fc2955f9a15aa0b4f601,openstack/charm-manila-ganesha,master,I6176617986ac624a7892fc2955f9a15aa0b4f601,Refactor ceph-client interface usage,MERGED,2020-08-26 08:49:35.000000000,2020-08-28 08:33:59.000000000,2020-08-28 08:33:59.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-26 08:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/081e135eb91efd0e27be2ebadac258934931569a', 'message': ""Refactor ceph-client interface usage\n\nThe ceph-client interface switched from RelationBase -> Endpoint\nwhich means that 'get_local' is no longer provided.\n\nRefactor permissions request to use new Endpoint based class.\n\nChange-Id: I6176617986ac624a7892fc2955f9a15aa0b4f601\nCloses-Bug: 1892873\n""}, {'number': 2, 'created': '2020-08-26 09:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/2c3567606886f11fe30e89297dc15d6831de286e', 'message': ""Refactor ceph-client interface usage\n\nThe ceph-client interface switched from RelationBase -> Endpoint\nwhich means that 'get_local' is no longer provided.\n\nRefactor permissions request to use new Endpoint based class.\n\nChange-Id: I6176617986ac624a7892fc2955f9a15aa0b4f601\nCloses-Bug: 1892873\n""}, {'number': 3, 'created': '2020-08-26 09:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/127711e062f755a27e1b4889e09f47bdb4f58aab', 'message': ""Refactor ceph-client interface usage\n\nThe ceph-client interface switched from RelationBase -> Endpoint\nwhich means that 'get_local' is no longer provided.\n\nRefactor permissions request to use new Endpoint based class.\n\nChange-Id: I6176617986ac624a7892fc2955f9a15aa0b4f601\nCloses-Bug: 1892873\n""}, {'number': 4, 'created': '2020-08-27 15:40:39.000000000', 'files': ['unit_tests/test_lib_charm_openstack_manila_ganesha.py', 'src/reactive/manila_ganesha.py', 'src/lib/charm/openstack/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/64ee2a393bda3b7d64ada66d25a8ca2115c37bfb', 'message': ""Refactor ceph-client interface usage\n\nThe ceph-client interface switched from RelationBase -> Endpoint\nwhich means that 'get_local' is no longer provided.\n\nRefactor permissions request to use new Endpoint based class.\n\nChange-Id: I6176617986ac624a7892fc2955f9a15aa0b4f601\nCloses-Bug: 1892873\n""}]",4,748139,64ee2a393bda3b7d64ada66d25a8ca2115c37bfb,19,4,4,935,,,0,"Refactor ceph-client interface usage

The ceph-client interface switched from RelationBase -> Endpoint
which means that 'get_local' is no longer provided.

Refactor permissions request to use new Endpoint based class.

Change-Id: I6176617986ac624a7892fc2955f9a15aa0b4f601
Closes-Bug: 1892873
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/39/748139/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_manila_ganesha.py', 'src/lib/charm/openstack/manila_ganesha.py']",2,081e135eb91efd0e27be2ebadac258934931569a,bug/1892873, rq = ceph.get_current_request() or CephBrokerRq() ceph.send_request_if_needed(rq)," rq = CephBrokerRq() json_rq = ceph.get_local(key='broker_req') if json_rq: try: j = json.loads(json_rq) log(""Json request: {}"".format(json_rq)) rq.set_ops(j['ops']) except ValueError as err: log(""Unable to decode broker_req: {}. Error {}"".format( json_rq, err)) ceph.set_local(key='broker_req', value=rq.request) send_request_if_needed(rq, relation='ceph')",4,17
openstack%2Ftripleo-quickstart~master~Ib2f505be6e579c9f73eab6aad11f932c79062cf4,openstack/tripleo-quickstart,master,Ib2f505be6e579c9f73eab6aad11f932c79062cf4,Fix registry namespace,MERGED,2020-08-27 12:25:01.000000000,2020-08-28 08:33:47.000000000,2020-08-28 08:30:59.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-27 12:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a0617531bb95886648d49b953b229011a1c5c2d9', 'message': 'Fix registry namespace\n\nRemove trailing spaces\nChange-Id: Ib2f505be6e579c9f73eab6aad11f932c79062cf4\n'}, {'number': 2, 'created': '2020-08-27 14:53:03.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bf8211a5f4536e9b280bb8292fd5bb63d26ec195', 'message': 'Fix registry namespace\n\nRemove trailing spaces\nChange-Id: Ib2f505be6e579c9f73eab6aad11f932c79062cf4\n'}]",2,748424,bf8211a5f4536e9b280bb8292fd5bb63d26ec195,24,9,2,10969,,,0,"Fix registry namespace

Remove trailing spaces
Change-Id: Ib2f505be6e579c9f73eab6aad11f932c79062cf4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/748424/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,a0617531bb95886648d49b953b229011a1c5c2d9,, {%- elif job.registry_ip_address is defined -%}, {% elif job.registry_ip_address is defined %},1,1
openstack%2Fcharm-openstack-dashboard~master~I5b5216909268ba3bb1b7ad13767647fa1af77cc5,openstack/charm-openstack-dashboard,master,I5b5216909268ba3bb1b7ad13767647fa1af77cc5,Check the created_roles reply for keystone,MERGED,2020-08-20 15:33:07.000000000,2020-08-28 08:31:55.000000000,2020-08-28 08:31:55.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/519e591970447f7eef26485d52101e51617b2ac1', 'message': 'Check the created_roles reply for keystone\n\nCheck the created_roles reply for keystone to see if the name of\nthe role that was created in keystone matches what was requested.\nIt may differ in terms of case.\n\nChange-Id: I5b5216909268ba3bb1b7ad13767647fa1af77cc5\nCloses-Bug: #1890437\n'}, {'number': 2, 'created': '2020-08-27 14:08:27.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/47c1097ea421efaee1d9d04e3549a73b53792ce2', 'message': 'Check the created_roles reply for keystone\n\nCheck the created_roles reply for keystone to see if the name of\nthe role that was created in keystone matches what was requested.\nIt may differ in terms of case.\n\nChange-Id: I5b5216909268ba3bb1b7ad13767647fa1af77cc5\nCloses-Bug: #1890437\n'}]",3,747213,47c1097ea421efaee1d9d04e3549a73b53792ce2,18,4,2,12549,,,0,"Check the created_roles reply for keystone

Check the created_roles reply for keystone to see if the name of
the role that was created in keystone matches what was requested.
It may differ in terms of case.

Change-Id: I5b5216909268ba3bb1b7ad13767647fa1af77cc5
Closes-Bug: #1890437
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/13/747213/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,519e591970447f7eef26485d52101e51617b2ac1,bug/1890437," 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'webroot': '/horizon', 'default_role': 'member', 'default_role': 'member', 'default_role': 'member', 'default_role': 'member', @patch(""hooks.horizon_contexts.format_ipv6_addr"") def test_IdentityServiceContext_default_role(self, mock_format_ipv6_addr): self.test_config.set('default-role', 'member') mock_format_ipv6_addr.return_value = ""foo"" self.relation_ids.return_value = ['foo'] self.related_units.return_value = ['bar', 'baz'] self.relation_get.side_effect = self.test_relation.get self.test_relation.set({ 'service_host': 'foo', 'service_port': 5000, 'region': 'regionOne', 'api_version': '3', 'created_roles': 'Member', 'admin_domain_id': 'admindomainid'}) self.context_complete.return_value = True self.assertEqual(horizon_contexts.IdentityServiceContext()(), { 'service_host': 'foo', 'service_port': 5000, 'api_version': '3', 'default_role': 'Member', 'admin_domain_id': 'admindomainid', 'service_protocol': 'http'}) @patch(""hooks.horizon_contexts.format_ipv6_addr"") def test_IdentityServiceContext_default_role_fallback(self, mock_ipv6_addr): self.test_config.set('default-role', 'member') mock_ipv6_addr.return_value = ""foo"" self.relation_ids.return_value = ['foo'] self.related_units.return_value = ['bar', 'baz'] self.relation_get.side_effect = self.test_relation.get self.test_relation.set({ 'service_host': 'foo', 'service_port': 5000, 'region': 'regionOne', 'api_version': '3', 'admin_domain_id': 'admindomainid'}) self.context_complete.return_value = True self.assertEqual(horizon_contexts.IdentityServiceContext()(), { 'service_host': 'foo', 'service_port': 5000, 'api_version': '3', 'default_role': 'member', 'admin_domain_id': 'admindomainid', 'service_protocol': 'http'}) "," 'default_role': 'member', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'ubuntu_theme': True, 'default_theme': None, 'custom_theme': False, 'secret': 'secret', 'support_profile': None, ""neutron_network_dvr"": False, ""neutron_network_l3ha"": False, ""neutron_network_lb"": False, ""neutron_network_firewall"": False, ""neutron_network_vpn"": False, ""cinder_backup"": False, ""password_retrieve"": False, ""default_domain"": None, ""multi_domain"": True, ""allow_password_autocompletion"": False, ""default_create_volume"": True, ""image_formats"": '', ""api_result_limit"": 1000, ""enable_fip_topology_check"": True, ""session_timeout"": 3600, ""dropdown_max_items"": 30, ""enable_consistency_groups"": False, ""disable_instance_snapshot"": False, ""disable_password_reveal"": False, } ) def test_HorizonContext_role(self): self.test_config.set('default-role', 'foo') self.assertEqual(horizon_contexts.HorizonContext()(), {'compress_offline': True, 'debug': False, 'customization_module': '', 'default_role': 'foo', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon', 'default_role': 'member', 'webroot': '/horizon',",69,50
openstack%2Fcharm-keystone~master~Idc0865a688886a2066dfcdbd15e30118ae5c5bb8,openstack/charm-keystone,master,Idc0865a688886a2066dfcdbd15e30118ae5c5bb8,Tell clients what roles were created,MERGED,2020-08-20 15:31:33.000000000,2020-08-28 08:26:40.000000000,2020-08-28 08:26:39.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/eb623bdbce7a1090ce1bbb47bb1c7231360b2682', 'message': ""Tell clients what roles were created\n\nIf a client requests a role then inform them what role was\nactually created or already existed.\n\nIf a client requests the creation of a role and that role already\nexists with a different mix of upper and lower case then the new\nrole is not created. This is because keystone purports to be case\ninsensative. However the client may not be case insesative (horizon)\nand may assume that the role was created. This change replies to\nthe client with a new key 'created_roles'. This tells the client\nwhat the case sensative name actually is.\n\nChange-Id: Idc0865a688886a2066dfcdbd15e30118ae5c5bb8\nCloses-Bug: #1890437\n""}, {'number': 2, 'created': '2020-08-27 13:21:44.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/manager.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f72ae6160ba37afbcbd80d6c254b423a63ceaf78', 'message': ""Tell clients what roles were created\n\nIf a client requests a role then inform them what role was\nactually created or already existed.\n\nIf a client requests the creation of a role and that role already\nexists with a different mix of upper and lower case then the new\nrole is not created. This is because keystone purports to be case\ninsensative. However the client may not be case insesative (horizon)\nand may assume that the role was created. This change replies to\nthe client with a new key 'created_roles'. This tells the client\nwhat the case sensative name actually is.\n\nChange-Id: Idc0865a688886a2066dfcdbd15e30118ae5c5bb8\nCloses-Bug: #1890437\n""}]",1,747212,f72ae6160ba37afbcbd80d6c254b423a63ceaf78,24,4,2,12549,,,0,"Tell clients what roles were created

If a client requests a role then inform them what role was
actually created or already existed.

If a client requests the creation of a role and that role already
exists with a different mix of upper and lower case then the new
role is not created. This is because keystone purports to be case
insensative. However the client may not be case insesative (horizon)
and may assume that the role was created. This change replies to
the client with a new key 'created_roles'. This tells the client
what the case sensative name actually is.

Change-Id: Idc0865a688886a2066dfcdbd15e30118ae5c5bb8
Closes-Bug: #1890437
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/12/747212/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/manager.py']",3,eb623bdbce7a1090ce1bbb47bb1c7231360b2682,bug/1890437," def resolve_role_name(self, name): """"""Find the role_id of a given role"""""" roles = [r._info for r in self.api.roles.list()] for r in roles: if name.lower() == r['name'].lower(): return r['name'] ",,65,7
openstack%2Fcharm-neutron-api-plugin-arista~master~I0fb75e856fe37a934fa3c621e61a52e62865b674,openstack/charm-neutron-api-plugin-arista,master,I0fb75e856fe37a934fa3c621e61a52e62865b674,Add bionic-ussuri test bundle,MERGED,2020-08-27 12:07:03.000000000,2020-08-28 08:14:15.000000000,2020-08-28 08:14:14.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-27 12:07:03.000000000', 'files': ['src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/37f9ef64c517b86c5d950835ead528218c2c1324', 'message': 'Add bionic-ussuri test bundle\n\nChange-Id: I0fb75e856fe37a934fa3c621e61a52e62865b674\nPartial-Bug: #1890628\n'}]",0,748419,37f9ef64c517b86c5d950835ead528218c2c1324,12,4,1,31289,,,0,"Add bionic-ussuri test bundle

Change-Id: I0fb75e856fe37a934fa3c621e61a52e62865b674
Partial-Bug: #1890628
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/19/748419/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml']",3,37f9ef64c517b86c5d950835ead528218c2c1324,bug/1890628,"variables: openstack-origin: &openstack-origin cloud:bionic-ussuri series: &series bionic applications: glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: openstack-origin: *openstack-origin enable-ml2-dns: False flat-network-providers: default vlan-ranges: default:1000:3000 vni-ranges: 1001:2000 neutron-security-groups: True overlay-network-type: vxlan use-internal-endpoints: True enable-l3ha: True dhcp-agents-per-network: 2 enable-ml2-port-security: True default-tenant-network-type: vlan l2-population: False ipv4-ptr-zone-prefix-size: reverse-dns-lookup: False dns-domain: manage-neutron-plugin-legacy-mode: False neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch num_units: 0 options: prevent-arp-spoofing: True firewall-driver: openvswitch enable-local-dhcp-and-metadata: True bridge-mappings: default:br-data data-port: ens7 nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron neutron-api-plugin-arista: charm: ../../../neutron-api-plugin-arista num_units: 0 options: # Contains fix https://review.opendev.org/743740 source: ppa:aurelien-lourot/arista-ussuri # Fake IP, will be set to arista-virt-test-fixture's IP address on test # setup: eapi-host: 192.0.2.42 eapi-username: admin eapi-password: password123 api-type: EAPI placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 constraints: mem=4G cores=4 options: openstack-origin: *openstack-origin config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 lldpd: charm: cs:lldpd options: interfaces-regex: 'en*' short-name: true arista-virt-test-fixture: charm: cs:~openstack-charmers-next/arista-virt-test-fixture num_units: 1 relations: - - nova-compute:amqp - rabbitmq-server:amqp - - keystone:shared-db - mysql:shared-db - - nova-cloud-controller:identity-service - keystone:identity-service - - glance:identity-service - keystone:identity-service - - neutron-api:identity-service - keystone:identity-service - - neutron-openvswitch:neutron-plugin-api - neutron-api:neutron-plugin-api - - neutron-api:shared-db - mysql:shared-db - - neutron-api:amqp - rabbitmq-server:amqp - - glance:shared-db - mysql:shared-db - - glance:amqp - rabbitmq-server:amqp - - nova-cloud-controller:image-service - glance:image-service - - nova-compute:image-service - glance:image-service - - nova-cloud-controller:cloud-compute - nova-compute:cloud-compute - - nova-cloud-controller:amqp - rabbitmq-server:amqp - - nova-compute:neutron-plugin - neutron-openvswitch:neutron-plugin - - neutron-openvswitch:amqp - rabbitmq-server:amqp - - nova-cloud-controller:shared-db - mysql:shared-db - - nova-cloud-controller:neutron-api - neutron-api:neutron-api - - neutron-api - neutron-api-plugin-arista - - neutron-api:neutron-plugin-api-subordinate - neutron-api-plugin-arista:neutron-plugin-api-subordinate - - lldpd - nova-compute - - placement:shared-db - mysql:shared-db - - placement:identity-service - keystone:identity-service - - placement:placement - nova-cloud-controller:placement ",,158,0
openstack%2Fpuppet-neutron~master~Ia6fb46e21b9483fdf26a90c7e44d6556c80af2b2,openstack/puppet-neutron,master,Ia6fb46e21b9483fdf26a90c7e44d6556c80af2b2,Test os_neutron_dac_override: on,ABANDONED,2020-08-27 15:24:30.000000000,2020-08-28 08:00:26.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 15:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f479989b0a3d00f201185f4df2135b71380dfc76', 'message': 'Test os_neutron_dac_override: on\n\nDepends-on: https://review.opendev.org/#/c/748463\nChange-Id: Ia6fb46e21b9483fdf26a90c7e44d6556c80af2b2\n'}, {'number': 2, 'created': '2020-08-27 16:42:58.000000000', 'files': ['spec/acceptance/basic_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4d756f213da25ad93c76d34848ca15c2e7ca457e', 'message': 'Test os_neutron_dac_override: on\n\nDepends-on: https://review.opendev.org/#/c/748463\nChange-Id: Ia6fb46e21b9483fdf26a90c7e44d6556c80af2b2\n'}]",0,748468,4d756f213da25ad93c76d34848ca15c2e7ca457e,7,2,2,9816,,,0,"Test os_neutron_dac_override: on

Depends-on: https://review.opendev.org/#/c/748463
Change-Id: Ia6fb46e21b9483fdf26a90c7e44d6556c80af2b2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/68/748468/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_neutron_spec.rb'],1,f479989b0a3d00f201185f4df2135b71380dfc76,selinux,,,0,1
openstack%2Fnova~master~I25baf5edd25d9e551686b7ed317a63fd778be533,openstack/nova,master,I25baf5edd25d9e551686b7ed317a63fd778be533,rbd: Move rbd_utils out of libvirt driver under nova.storage,MERGED,2020-08-19 12:21:51.000000000,2020-08-28 07:14:34.000000000,2020-08-26 18:06:39.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9963}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-19 12:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb2c3a694c063ca0a579f85c26ca17be2ea970cb', 'message': ""rbd: Move rbd_utils out of libvirt driver under nova.storage\n\nThis module will be used within nova.image.glance as part of the\nnova-image-download-via-rbd blueprint. As this can technically be used\nby multiple virt drivers it's time to break rbd_utils out from the\nlibvirt driver into a more generic place in the codebase.\n\nChange-Id: I25baf5edd25d9e551686b7ed317a63fd778be533\n""}, {'number': 2, 'created': '2020-08-19 18:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f15b7bb202aa7c260a735f3837da429a72530bc8', 'message': ""rbd: Move rbd_utils out of libvirt driver under nova.storage\n\nThis module will be used within nova.image.glance as part of the\nnova-image-download-via-rbd blueprint. As this can technically be used\nby multiple virt drivers it's time to break rbd_utils out from the\nlibvirt driver into a more generic place in the codebase.\n\nChange-Id: I25baf5edd25d9e551686b7ed317a63fd778be533\n""}, {'number': 3, 'created': '2020-08-24 14:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a9b6ba37e464eecfd7d32a201f1dd8937c70ea6', 'message': ""rbd: Move rbd_utils out of libvirt driver under nova.storage\n\nThis module will be used within nova.image.glance as part of the\nnova-image-download-via-rbd blueprint. As this can technically be used\nby multiple virt drivers it's time to break rbd_utils out from the\nlibvirt driver into a more generic place in the codebase.\n\nChange-Id: I25baf5edd25d9e551686b7ed317a63fd778be533\n""}, {'number': 4, 'created': '2020-08-26 12:37:44.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/storage/test_rbd.py', 'nova/storage/__init__.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9285428a16560d72cea1e44cdee73ff4d5ce5430', 'message': ""rbd: Move rbd_utils out of libvirt driver under nova.storage\n\nThis module will be used within nova.image.glance as part of the\nnova-image-download-via-rbd blueprint. As this can technically be used\nby multiple virt drivers it's time to break rbd_utils out from the\nlibvirt driver into a more generic place in the codebase.\n\nChange-Id: I25baf5edd25d9e551686b7ed317a63fd778be533\n""}]",3,746904,9285428a16560d72cea1e44cdee73ff4d5ce5430,45,13,4,10135,,,0,"rbd: Move rbd_utils out of libvirt driver under nova.storage

This module will be used within nova.image.glance as part of the
nova-image-download-via-rbd blueprint. As this can technically be used
by multiple virt drivers it's time to break rbd_utils out from the
libvirt driver into a more generic place in the codebase.

Change-Id: I25baf5edd25d9e551686b7ed317a63fd778be533
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/746904/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/storage/rbd_utils.py', 'nova/tests/unit/image/test_glance.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,fb2c3a694c063ca0a579f85c26ca17be2ea970cb,bp/nova-image-download-via-rbd,from nova.storage import rbd_utils,from nova.virt.libvirt.storage import rbd_utils,11,10
openstack%2Fironic-lib~master~I3a686b00cb2a6cb7cde4a26001d6d9016aab08eb,openstack/ironic-lib,master,I3a686b00cb2a6cb7cde4a26001d6d9016aab08eb,Remove the unused coding style modules,MERGED,2020-08-26 14:34:24.000000000,2020-08-28 07:12:29.000000000,2020-08-28 07:10:06.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 14:34:24.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d61ca27745b09ad4a971c2354a9df386559d01a5', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: I3a686b00cb2a6cb7cde4a26001d6d9016aab08eb\n'}]",0,748246,d61ca27745b09ad4a971c2354a9df386559d01a5,9,4,1,26285,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
they are not needed during installation.

Change-Id: I3a686b00cb2a6cb7cde4a26001d6d9016aab08eb
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/46/748246/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,d61ca27745b09ad4a971c2354a9df386559d01a5,,,flake8==2.5.5 flake8-import-order==0.17.1hacking==3.1.0mccabe==0.2.1pep8==1.5.7pyflakes==0.8.1,0,6
openstack%2Fneutron~stable%2Ftrain~Icc995f7b2b465921e41342711d17539f16ead0ce,openstack/neutron,stable/train,Icc995f7b2b465921e41342711d17539f16ead0ce,Handle properly existing LLA address during l3 agent restart,MERGED,2020-08-25 09:09:25.000000000,2020-08-28 07:06:11.000000000,2020-08-28 07:03:24.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 09:09:25.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b934ae57f1494e14cc3f935f23a815cee6ac7c03', 'message': ""Handle properly existing LLA address during l3 agent restart\n\nIn case when L3 agent is hosting routers which have got subnets\nwith Prefix Delegation enabled, agent couldn't properly handle\nIpAddressAlreadyExists exception raised when pd module tries to\nconfigure link local IPv6 addresses.\n\nNow this is fixed and L3 agent can restart without problems in such\ncase.\n\nChange-Id: Icc995f7b2b465921e41342711d17539f16ead0ce\nCloses-Bug: #1892362\n(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)\n""}]",0,747871,b934ae57f1494e14cc3f935f23a815cee6ac7c03,16,4,1,11975,,,0,"Handle properly existing LLA address during l3 agent restart

In case when L3 agent is hosting routers which have got subnets
with Prefix Delegation enabled, agent couldn't properly handle
IpAddressAlreadyExists exception raised when pd module tries to
configure link local IPv6 addresses.

Now this is fixed and L3 agent can restart without problems in such
case.

Change-Id: Icc995f7b2b465921e41342711d17539f16ead0ce
Closes-Bug: #1892362
(cherry picked from commit 81d375d39ab1affe4b0a29437eaabc387fb1c570)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/747871/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/pd.py']",2,b934ae57f1494e14cc3f935f23a815cee6ac7c03,bug/1892362-stable/ussuri-stable/train,"from neutron.agent.linux import ip_lib try: self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA # uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask) except ip_lib.IpAddressAlreadyExists: pass"," self.intf_driver.add_ipv6_addr(router['gw_interface'], lla_with_mask, router['ns_name'], 'link') # There is a delay before the LLA becomes active. # This is because the kernel runs DAD to make sure LLA uniqueness # Spawn a thread to wait for the interface to be ready self._spawn_lla_thread(router['gw_interface'], router['ns_name'], lla_with_mask)",62,10
openstack%2Fkeystone~stable%2Ftrain~I3834b3b34641c006c70614d5331d292c41f8a346,openstack/keystone,stable/train,I3834b3b34641c006c70614d5331d292c41f8a346,Fix lower-constraint for PyMySQL,MERGED,2020-08-11 22:33:42.000000000,2020-08-28 06:08:11.000000000,2020-08-28 06:05:05.000000000,"[{'_account_id': 5046}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-11 22:33:42.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fb7d54543fd69e046a5136ca4028f4e128b947c2', 'message': ""Fix lower-constraint for PyMySQL\n\nkeystone does not have any lower constraint for PyMySQL so the\nlatest version 0.10.0 is picked by the job which is failing [1]\nIn OpenStack, PyMySQL upper constraint is .9.3 means that version\nis tested not 0.10.0 [2] let's add PyMySQL lower constraint also\nso that we test lower-constraint job with correct lower version.\n\n[1]https://zuul.opendev.org/t/openstack/build/3077d96f4fff4b7985cb763d0635d471/log/job-output.txt#621\n[2]https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L384\n\nChange-Id: I3834b3b34641c006c70614d5331d292c41f8a346\nCloses-Bug: #1888886\n(cherry picked from commit 3de085b1eb9750cb0d0d25cb468250cf34804eaf)\n(cherry picked from commit 300e79e93b9966e988ec92a74bf9b49b71d77d1b)\n""}]",0,745757,fb7d54543fd69e046a5136ca4028f4e128b947c2,9,4,1,8482,,,0,"Fix lower-constraint for PyMySQL

keystone does not have any lower constraint for PyMySQL so the
latest version 0.10.0 is picked by the job which is failing [1]
In OpenStack, PyMySQL upper constraint is .9.3 means that version
is tested not 0.10.0 [2] let's add PyMySQL lower constraint also
so that we test lower-constraint job with correct lower version.

[1]https://zuul.opendev.org/t/openstack/build/3077d96f4fff4b7985cb763d0635d471/log/job-output.txt#621
[2]https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L384

Change-Id: I3834b3b34641c006c70614d5331d292c41f8a346
Closes-Bug: #1888886
(cherry picked from commit 3de085b1eb9750cb0d0d25cb468250cf34804eaf)
(cherry picked from commit 300e79e93b9966e988ec92a74bf9b49b71d77d1b)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/745757/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,fb7d54543fd69e046a5136ca4028f4e128b947c2,,PyMySQL==0.7.6,,1,0
openstack%2Ftripleo-validations~master~I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196,openstack/tripleo-validations,master,I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196,Add new Upgrades validation groups.,MERGED,2020-07-01 14:29:34.000000000,2020-08-28 05:58:22.000000000,2020-08-25 14:07:46.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-01 14:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d5c5ce1ce16b4e747d95055ec2b56d2b9b9294b2', 'message': 'Add new FFU validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the FFU workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n'}, {'number': 2, 'created': '2020-07-10 15:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cdc09b360df2eb35af7cd6b9b190582f413ed2ed', 'message': 'Add new FFU validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the FFU workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n'}, {'number': 3, 'created': '2020-07-20 05:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/654128cde14589f514f5fb66cee5c8dfd05dfed1', 'message': 'Add new FFU validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the FFU workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n'}, {'number': 4, 'created': '2020-07-22 14:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4d4abe4510afabf9fe0ccfd37b09725c32930251', 'message': 'Add new FFU validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the FFU workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n'}, {'number': 5, 'created': '2020-07-23 15:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1927f269f5894b02b3e71c43337d5ba797baf049', 'message': 'Add new FFU validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the FFU workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n'}, {'number': 6, 'created': '2020-08-19 14:37:30.000000000', 'files': ['doc/source/index.rst', 'groups.yaml', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7c0481ce7b4ce10c0e5e5c759c56147c2371a3ac', 'message': 'Add new Upgrades validation groups.\n\nThis patch adds all the needed groups to cover the different\nstages for the Upgrades workflow.\n\nChange-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196\n'}]",5,738857,7c0481ce7b4ce10c0e5e5c759c56147c2371a3ac,44,8,6,26343,,,0,"Add new Upgrades validation groups.

This patch adds all the needed groups to cover the different
stages for the Upgrades workflow.

Change-Id: I08b15fe455b9b80c5d5ae1a5fb4d46adc2da2196
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/738857/3 && git format-patch -1 --stdout FETCH_HEAD,"['groups.yaml', 'role-addition.yml']",2,d5c5ce1ce16b4e747d95055ec2b56d2b9b9294b2,, - pre-system-upgrade - post-system-upgrade - pre-ffu-undercloud-upgrade - post-ffu-undercloud-upgrade - pre-ffu-overcloud-prepare - post-ffu-overcloud-prepare - pre-ffu-overcloud-upgrade - post-ffu-overcloud-upgrade - pre-ffu-overcloud-converge - post-ffu-overcloud-converge,,50,0
openstack%2Ftripleo-ansible~master~Ife2b1ebcd32b308fc8134e30cc2309866a8a1a99,openstack/tripleo-ansible,master,Ife2b1ebcd32b308fc8134e30cc2309866a8a1a99,Swap order in which we detect containers engine.,ABANDONED,2020-08-26 16:20:55.000000000,2020-08-28 05:49:01.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-26 16:20:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_stop/tasks/tripleo_container_stop.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64ed9f0c6b2e9bbffd65f9597923c9445d0090d4', 'message': ""Swap order in which we detect containers engine.\n\nIn some Queens/OSP13 environments which still run Docker\nbut contain the Podman alias which allows running\npodman CLI (executing docker underneath) we are seeing that\nthe containers have trouble to stop. This is because as both,\npodman and docker exist in the system and the\ntripleo-containers-stop role ends up executing podman kill\n<container-id> for a docker container.\n\nThis patch switches the order, giving precedence to docker if\nit exists in the system. This way, if the containers engine\nis docker (even though podman alias exists), the container\nwill be stopped with docker stop <container-id> and the next\nblock of code will get skipped as the container won't be\nrunning any more.\n\nChange-Id: Ife2b1ebcd32b308fc8134e30cc2309866a8a1a99\nCloses-Bug: 1893099\nRelated: rhbz#1872746\n""}]",2,748270,64ed9f0c6b2e9bbffd65f9597923c9445d0090d4,7,10,1,26343,,,0,"Swap order in which we detect containers engine.

In some Queens/OSP13 environments which still run Docker
but contain the Podman alias which allows running
podman CLI (executing docker underneath) we are seeing that
the containers have trouble to stop. This is because as both,
podman and docker exist in the system and the
tripleo-containers-stop role ends up executing podman kill
<container-id> for a docker container.

This patch switches the order, giving precedence to docker if
it exists in the system. This way, if the containers engine
is docker (even though podman alias exists), the container
will be stopped with docker stop <container-id> and the next
block of code will get skipped as the container won't be
running any more.

Change-Id: Ife2b1ebcd32b308fc8134e30cc2309866a8a1a99
Closes-Bug: 1893099
Related: rhbz#1872746
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/748270/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_stop/tasks/tripleo_container_stop.yaml'],1,64ed9f0c6b2e9bbffd65f9597923c9445d0090d4,, if type docker &> /dev/null && docker exec {{ container }} /bin/true; then docker stop {{ container }} fi, if type docker &> /dev/null && docker exec {{ container }} /bin/true; then docker stop {{ container }} fi,3,3
openstack%2Fpuppet-neutron~master~I8e7727e5449f503b84fadcfd86463802b427a9cb,openstack/puppet-neutron,master,I8e7727e5449f503b84fadcfd86463802b427a9cb,Test permissive selinux,ABANDONED,2020-08-27 14:20:29.000000000,2020-08-28 05:13:44.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 14:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0256e83447ca04ad140b572b7f1b682496aa7668', 'message': 'Test permissive selinux\n\nDepends-on: https://review.opendev.org/#/c/748334/\nChange-Id: I8e7727e5449f503b84fadcfd86463802b427a9cb\n'}, {'number': 2, 'created': '2020-08-27 14:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/eabf320dbfa1776349d2f2779284e93f3715491e', 'message': 'Test permissive selinux\n\nDepends-on: https://review.opendev.org/#/c/748334/\nChange-Id: I8e7727e5449f503b84fadcfd86463802b427a9cb\n'}, {'number': 3, 'created': '2020-08-27 15:03:31.000000000', 'files': ['spec/acceptance/basic_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cfada62561365ceb8496bbcdbcf8ba199833a38f', 'message': 'Test permissive selinux\n\nDepends-on: https://review.opendev.org/#/c/748334/\nChange-Id: I8e7727e5449f503b84fadcfd86463802b427a9cb\n'}]",0,748447,cfada62561365ceb8496bbcdbcf8ba199833a38f,8,2,3,9816,,,0,"Test permissive selinux

Depends-on: https://review.opendev.org/#/c/748334/
Change-Id: I8e7727e5449f503b84fadcfd86463802b427a9cb
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/47/748447/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,0256e83447ca04ad140b572b7f1b682496aa7668,selinux,,,0,0
openstack%2Fpuppet-manila~master~I13db651d94d113596f30789c565ce2e39946d0ac,openstack/puppet-manila,master,I13db651d94d113596f30789c565ce2e39946d0ac,WIP Net config groups,ABANDONED,2020-08-27 18:48:17.000000000,2020-08-28 04:54:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-27 18:48:17.000000000', 'files': ['spec/defines/manila_backend_dellemc_vnx_spec.rb', 'manifests/network/network_plugin.pp', 'manifests/backend/dellemc_vnx.pp', 'spec/classes/manila_share_netapp_spec.rb', 'spec/defines/manila_network_neutron_binding_profile_spec.rb', 'manifests/network/neutron_binding_profile.pp', 'spec/defines/manila_backend_netapp_spec.rb', 'manifests/backend/netapp.pp', 'manifests/backend/dellemc_unity.pp', 'spec/defines/manila_network_network_plugin_spec.rb', 'spec/defines/manila_backend_dellemc_unity_spec.rb', 'manifests/backend/dellemc_vmax.pp', 'spec/defines/manila_backend_dellemc_vmax_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/3ab498fb84d3fb8f7c3c1f416124db5a00c2a719', 'message': 'WIP Net config groups\n\nChange-Id: I13db651d94d113596f30789c565ce2e39946d0ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,748515,3ab498fb84d3fb8f7c3c1f416124db5a00c2a719,3,1,1,16643,,,0,"WIP Net config groups

Change-Id: I13db651d94d113596f30789c565ce2e39946d0ac
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/15/748515/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/manila_backend_dellemc_vnx_spec.rb', 'manifests/network/network_plugin.pp', 'manifests/backend/dellemc_vnx.pp', 'spec/classes/manila_share_netapp_spec.rb', 'spec/defines/manila_network_neutron_binding_profile_spec.rb', 'manifests/network/neutron_binding_profile.pp', 'spec/defines/manila_backend_netapp_spec.rb', 'manifests/backend/netapp.pp', 'manifests/backend/dellemc_unity.pp', 'spec/defines/manila_network_network_plugin_spec.rb', 'spec/defines/manila_backend_dellemc_unity_spec.rb', 'manifests/backend/dellemc_vmax.pp', 'spec/defines/manila_backend_dellemc_vmax_spec.rb']",13,3ab498fb84d3fb8f7c3c1f416124db5a00c2a719,wip," :network_config_group => 'dellemc_vmax_network', :admin_network_config_group => 'dellemc_vmax_admin_network',",,587,91
openstack%2Fpuppet-nova~master~I0f4e91ffe6f770372cfd03705534d96f1720b311,openstack/puppet-nova,master,I0f4e91ffe6f770372cfd03705534d96f1720b311,Use openstack_spec_helper from zuul checkout,MERGED,2020-07-13 15:24:06.000000000,2020-08-28 04:49:12.000000000,2020-08-28 04:49:12.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 15:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0e1cca95a66116e8025058ccb2e16a200c7520c1', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I0f4e91ffe6f770372cfd03705534d96f1720b311\n'}, {'number': 2, 'created': '2020-08-27 09:47:29.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4a5519278ad12ff072c17d8e628823acd6cd11a8', 'message': 'Use openstack_spec_helper from zuul checkout\n\nChange-Id: I0f4e91ffe6f770372cfd03705534d96f1720b311\n'}]",0,740713,4a5519278ad12ff072c17d8e628823acd6cd11a8,10,4,2,16137,,,0,"Use openstack_spec_helper from zuul checkout

Change-Id: I0f4e91ffe6f770372cfd03705534d96f1720b311
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/13/740713/2 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,0e1cca95a66116e8025058ccb2e16a200c7520c1,740603," spec_helper_dir = '/home/zuul/src/opendev.org/openstack/puppet-openstack_spec_helper' if File.directory?(spec_helper_dir) if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', else gem 'puppet-openstack_spec_helper', :path => spec_helper_dir, :require => 'false' end spec_helper_version = ENV['ZUUL_BRANCH'] || ""master"" :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => spec_helper_version, :require => 'false'"," if ENV['ZUUL_PROJECT'] == 'openstack/puppet-openstack_spec_helper' gem 'puppet-openstack_spec_helper', :path => '../..', :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :require => 'false'",14,5
openstack%2Ftripleo-common~stable%2Ftrain~I64f82c24e0b3e0479d0396a96d5f49706300e849,openstack/tripleo-common,stable/train,I64f82c24e0b3e0479d0396a96d5f49706300e849,[TRAIN-Only] Default centos8 namespace fix,MERGED,2020-08-27 19:56:52.000000000,2020-08-28 04:03:09.000000000,2020-08-28 04:01:42.000000000,"[{'_account_id': 3153}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-27 19:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cdd13828509203e695de5b851d55c2f6c4079b4a', 'message': '[TRAIN-Only] Default centos8 namespace fix\n\nWe updated some of the logic as part of\nhttps://review.opendev.org/#/c/745924 but we missed the default var that\nis actually used by tripleoclient and when no ContainerImagePrepare is\nprovided as part of the deployment. This fixes the default var loading\nlogic to update the namespace to include centos8 as necessary.\n\nChange-Id: I64f82c24e0b3e0479d0396a96d5f49706300e849\nRelated-Bug: #1887176\n'}, {'number': 2, 'created': '2020-08-27 19:57:50.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9fd82c33b06c8748ef8c304a3419db0aea77d4eb', 'message': '[TRAIN-Only] Default centos8 namespace fix\n\nWe updated some of the logic as part of\nhttps://review.opendev.org/#/c/745924 but we missed the default var that\nis actually used by tripleoclient and when no ContainerImagePrepare is\nprovided as part of the deployment. This fixes the default var loading\nlogic to update the namespace to include centos8 as necessary.\n\nChange-Id: I64f82c24e0b3e0479d0396a96d5f49706300e849\nRelated-Bug: #1887176\n'}]",0,748527,9fd82c33b06c8748ef8c304a3419db0aea77d4eb,10,4,2,14985,,,0,"[TRAIN-Only] Default centos8 namespace fix

We updated some of the logic as part of
https://review.opendev.org/#/c/745924 but we missed the default var that
is actually used by tripleoclient and when no ContainerImagePrepare is
provided as part of the deployment. This fixes the default var loading
logic to update the namespace to include centos8 as necessary.

Change-Id: I64f82c24e0b3e0479d0396a96d5f49706300e849
Related-Bug: #1887176
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/748527/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,cdd13828509203e695de5b851d55c2f6c4079b4a,bug/1887176,"import unittest original = kb.CONTAINER_IMAGES_DEFAULTS defs = copy.deepcopy(original) defs['namespace'] = 'docker.io/tripleotrain' kb.CONTAINER_IMAGES_DEFAULTS = defs kb.CONTAINER_IMAGES_DEFAULTS = original original = kb.CONTAINER_IMAGES_DEFAULTS defs = copy.deepcopy(original) defs['namespace'] = 'docker.io/tripleotrain' kb.CONTAINER_IMAGES_DEFAULTS = defs result = builder.container_images_template_inputs() kb.CONTAINER_IMAGES_DEFAULTS = original result original = kb.CONTAINER_IMAGES_DEFAULTS defs = copy.deepcopy(original) defs['namespace'] = 'docker.io/tripleotrain' kb.CONTAINER_IMAGES_DEFAULTS = defs kb.CONTAINER_IMAGES_DEFAULTS = original @unittest.skipIf(sys.version_info.major > 2, ""train defaults are py2"") @unittest.skipIf(sys.version_info.major > 2, ""train defaults are py2"") @unittest.skipIf(sys.version_info.major > 2, ""train defaults are py2"") @unittest.skipIf(sys.version_info.major > 2, ""train defaults are py2"")", builder.container_images_template_inputs(),29,1
openstack%2Fzun~master~I0dfe1c5311b16c63b9c766411acdb75126cd0561,openstack/zun,master,I0dfe1c5311b16c63b9c766411acdb75126cd0561,Remove mox3 from lower-constraints.txt,MERGED,2020-08-27 01:37:25.000000000,2020-08-28 03:57:41.000000000,2020-08-28 03:56:30.000000000,"[{'_account_id': 11536}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-27 01:37:25.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/40416bd23fced8f8a7ca17d52b2e5ddff5d8a63a', 'message': 'Remove mox3 from lower-constraints.txt\n\nThe mox3 repo is being retired.\n\nChange-Id: I0dfe1c5311b16c63b9c766411acdb75126cd0561\n'}]",0,748337,40416bd23fced8f8a7ca17d52b2e5ddff5d8a63a,15,4,1,30356,,,0,"Remove mox3 from lower-constraints.txt

The mox3 repo is being retired.

Change-Id: I0dfe1c5311b16c63b9c766411acdb75126cd0561
",git fetch https://review.opendev.org/openstack/zun refs/changes/37/748337/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,40416bd23fced8f8a7ca17d52b2e5ddff5d8a63a,,,mox3==0.25.0,0,1
openstack%2Frequirements~master~Id87c3dfa4b4e5990e1a48ca72d9a7309a2f881d9,openstack/requirements,master,Id87c3dfa4b4e5990e1a48ca72d9a7309a2f881d9,update constraint for octavia-lib to new release 2.2.0,MERGED,2020-08-27 08:48:18.000000000,2020-08-28 03:55:09.000000000,2020-08-28 03:53:33.000000000,"[{'_account_id': 6469}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 08:48:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7687323c09d0a1e4c53e4d39b3297e0504e7277e', 'message': 'update constraint for octavia-lib to new release 2.2.0\n\nChange-Id: Id87c3dfa4b4e5990e1a48ca72d9a7309a2f881d9\nmeta:version: 2.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Change-Id: If4040cfebc6670daa8f7b3955a9461d077b1a273\nmeta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,748376,7687323c09d0a1e4c53e4d39b3297e0504e7277e,9,4,1,11131,,,0,"update constraint for octavia-lib to new release 2.2.0

Change-Id: Id87c3dfa4b4e5990e1a48ca72d9a7309a2f881d9
meta:version: 2.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Michael Johnson <johnsomor@gmail.com>
meta:release:Commit: Michael Johnson <johnsomor@gmail.com>
meta:release:Change-Id: If4040cfebc6670daa8f7b3955a9461d077b1a273
meta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/748376/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7687323c09d0a1e4c53e4d39b3297e0504e7277e,new-release,octavia-lib===2.2.0,octavia-lib===2.1.1,1,1
openstack%2Fmonasca-statsd~master~I3a752f3bad21e594cb4b4503128973f25e0c3836,openstack/monasca-statsd,master,I3a752f3bad21e594cb4b4503128973f25e0c3836,change a better title in README.rst,MERGED,2020-06-16 09:27:30.000000000,2020-08-28 03:43:57.000000000,2020-08-28 03:43:57.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2020-06-16 09:27:30.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/3ecf4480035c3f671344d4272549e3a4a8306141', 'message': 'change a better title in README.rst\n\nChange-Id: I3a752f3bad21e594cb4b4503128973f25e0c3836\n'}]",0,735830,3ecf4480035c3f671344d4272549e3a4a8306141,12,3,1,30455,,,0,"change a better title in README.rst

Change-Id: I3a752f3bad21e594cb4b4503128973f25e0c3836
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/30/735830/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3ecf4480035c3f671344d4272549e3a4a8306141,,Openstack Monasca Statsd,Team and repository tags,1,1
openstack%2Fnova~stable%2Fussuri~Id39aaaac09585ca1a754b669351c86e234b89dd9,openstack/nova,stable/ussuri,Id39aaaac09585ca1a754b669351c86e234b89dd9,hardware: Reject requests for no hyperthreads on hosts with HT,MERGED,2020-08-26 14:54:30.000000000,2020-08-28 03:38:23.000000000,2020-08-28 03:35:03.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-26 14:54:30.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'releasenotes/notes/bug-1889633-37e524fb6c20fbdf.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ddab327675d36a4ba59d02d22d042d418236336', 'message': ""hardware: Reject requests for no hyperthreads on hosts with HT\n\nAttempting to boot an instance with 'hw:cpu_policy=dedicated' will\nresult in a request from nova-scheduler to placement for allocation\ncandidates with $flavor.vcpu 'PCPU' inventory. Similarly, booting an\ninstance with 'hw:cpu_thread_policy=isolate' will result in a request\nfor allocation candidates with 'HW_CPU_HYPERTHREADING=forbidden', i.e.\nhosts without hyperthreading. This has been the case since the\ncpu-resources feature was implemented in Train. However, as part of that\nwork and to enable upgrades from hosts that predated Train, we also make\na second request for candidates with $flavor.vcpu 'VCPU' inventory. The\nidea behind this is that old compute nodes would only report 'VCPU' and\nshould be useable, and any new compute nodes that got caught up in this\nsecond request could never actually be scheduled to since there wouldn't\nbe enough cores from 'ComputeNode.numa_topology.cells.[*].pcpuset'\navailable to schedule to, resulting in rejection by the\n'NUMATopologyFilter'. However, if a host was rejected in the first\nquery because it reported the 'HW_CPU_HYPERTHREADING' trait, it could\nget picked up by the second query and would happily be scheduled to,\nresulting in an instance consuming 'VCPU' inventory from a host that\nproperly supported 'PCPU' inventory.\n\nThe solution is simply, though also a huge hack. If we detect that the\nhost is using new style configuration and should be able to report\n'PCPU', check if the instance asked for no hyperthreading and whether\nthe host has it. If all are True, reject the request.\n\nChange-Id: Id39aaaac09585ca1a754b669351c86e234b89dd9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1889633\n(cherry picked from commit 9c270332041d6b98951c0b57d7b344fd551a413c)\n""}]",0,748252,7ddab327675d36a4ba59d02d22d042d418236336,11,6,1,15334,,,0,"hardware: Reject requests for no hyperthreads on hosts with HT

Attempting to boot an instance with 'hw:cpu_policy=dedicated' will
result in a request from nova-scheduler to placement for allocation
candidates with $flavor.vcpu 'PCPU' inventory. Similarly, booting an
instance with 'hw:cpu_thread_policy=isolate' will result in a request
for allocation candidates with 'HW_CPU_HYPERTHREADING=forbidden', i.e.
hosts without hyperthreading. This has been the case since the
cpu-resources feature was implemented in Train. However, as part of that
work and to enable upgrades from hosts that predated Train, we also make
a second request for candidates with $flavor.vcpu 'VCPU' inventory. The
idea behind this is that old compute nodes would only report 'VCPU' and
should be useable, and any new compute nodes that got caught up in this
second request could never actually be scheduled to since there wouldn't
be enough cores from 'ComputeNode.numa_topology.cells.[*].pcpuset'
available to schedule to, resulting in rejection by the
'NUMATopologyFilter'. However, if a host was rejected in the first
query because it reported the 'HW_CPU_HYPERTHREADING' trait, it could
get picked up by the second query and would happily be scheduled to,
resulting in an instance consuming 'VCPU' inventory from a host that
properly supported 'PCPU' inventory.

The solution is simply, though also a huge hack. If we detect that the
host is using new style configuration and should be able to report
'PCPU', check if the instance asked for no hyperthreading and whether
the host has it. If all are True, reject the request.

Change-Id: Id39aaaac09585ca1a754b669351c86e234b89dd9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1889633
(cherry picked from commit 9c270332041d6b98951c0b57d7b344fd551a413c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/748252/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'releasenotes/notes/bug-1889633-37e524fb6c20fbdf.yaml']",4,7ddab327675d36a4ba59d02d22d042d418236336,bug/1889633,--- fixes: - | An issue that could result in instances with the ``isolate`` thread policy (``hw:cpu_thread_policy=isolate``) being scheduled to hosts with SMT (HyperThreading) and consuming ``VCPU`` instead of ``PCPU`` has been resolved. See `bug #1889633`__ for more information. .. __: https://bugs.launchpad.net/nova/+bug/1889633 ,,99,16
openstack%2Fkeystone~master~I6e67363822480314b93608bb1eae3514f1480f6d,openstack/keystone,master,I6e67363822480314b93608bb1eae3514f1480f6d,Write a symptom for checking memcache connections,MERGED,2020-06-23 16:38:10.000000000,2020-08-28 03:38:15.000000000,2020-08-28 03:34:51.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-23 16:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e21eff881b720b5b19647f417bed2e25f35b8773', 'message': 'Write a symptom for checking memcache connections\n\nChange-Id: I6e67363822480314b93608bb1eae3514f1480f6d\n'}, {'number': 2, 'created': '2020-06-23 17:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2bcc40628c0a37958c2d49260220c95bbefee950', 'message': 'Write a symptom for checking memcache connections\n\nThis makes it easier for operators to troubleshoot connection issues to\nMemcached.\n\nRelated-Bug: 1332058\n\nChange-Id: I6e67363822480314b93608bb1eae3514f1480f6d\n'}, {'number': 3, 'created': '2020-07-06 19:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5146d9db108dd59a3ea84469f7001bc498cdd2d0', 'message': 'Write a symptom for checking memcache connections\n\nThis makes it easier for operators to troubleshoot connection issues to\nMemcached.\n\nRelated-Bug: 1332058\n\nChange-Id: I6e67363822480314b93608bb1eae3514f1480f6d\n'}, {'number': 4, 'created': '2020-08-26 15:28:57.000000000', 'files': ['keystone/cmd/doctor/caching.py', 'releasenotes/notes/bug-1332058-f25e2de40411b711.yaml', 'keystone/tests/unit/test_cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/bb0393623ca8687714342d2b0cc73cc6c126ecde', 'message': 'Write a symptom for checking memcache connections\n\nThis makes it easier for operators to troubleshoot connection issues to\nMemcached.\n\nRelated-Bug: 1332058\n\nChange-Id: I6e67363822480314b93608bb1eae3514f1480f6d\n'}]",5,737579,bb0393623ca8687714342d2b0cc73cc6c126ecde,43,8,4,5046,,,0,"Write a symptom for checking memcache connections

This makes it easier for operators to troubleshoot connection issues to
Memcached.

Related-Bug: 1332058

Change-Id: I6e67363822480314b93608bb1eae3514f1480f6d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/737579/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/cmd/doctor/caching.py'],1,e21eff881b720b5b19647f417bed2e25f35b8773,doctor-memcache-log,"from keystone.common import cache def symptom_connection_to_memcached(): """"""Memcached isn't reachable. Caching is enabled and the `keystone.conf [cache] backend` option is configured but one or more Memcached servers are not reachable or marked as dead. Please ensure `keystone.conf [cache] memcache_servers` is configured properly. """""" if CONF.cache.enabled and CONF.cache.backend == 'dogpile.cache.memcached': cache.configure_cache() cache_stats = cache.CACHE_REGION.actual_backend.client.get_stats() memcached_server_count = len(CONF.cache.memcache_servers) if len(cache_stats) != memcached_server_count: return True else: return False",,19,0
openstack%2Fnova~master~Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,openstack/nova,master,Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,Add generic reproducer for bug #1879878,MERGED,2020-08-24 14:55:42.000000000,2020-08-28 03:36:51.000000000,2020-08-28 03:34:44.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-24 14:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a15bb2cb0b49b10d6ffdb100abf7c5544e9b1d7', 'message': 'Add generic reproducer for bug #1879878\n\nNo need for the libvirt driver in all its complexity here.\n\nChange-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-08-25 15:08:25.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1879878.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e1adbced92453329f7285ec38c1dc7821ebb52c7', 'message': 'Add generic reproducer for bug #1879878\n\nNo need for the libvirt driver in all its complexity here.\n\nChange-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",13,747744,e1adbced92453329f7285ec38c1dc7821ebb52c7,32,14,2,15334,,,0,"Add generic reproducer for bug #1879878

No need for the libvirt driver in all its complexity here.

Change-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/747744/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1879878.py'],1,0a15bb2cb0b49b10d6ffdb100abf7c5544e9b1d7,bug/1879878,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt from nova.compute import resource_tracker as rt from nova import context as nova_context from nova import objects from nova.tests.functional import integrated_helpers from nova.virt import fake as fake_virt @ddt.ddt class TestColdMigrationUsage(integrated_helpers.ProviderUsageBaseTestCase): """"""Reproducer for bug #1879878. Demonstrate the possibility of races caused by running the resource tracker's periodic task between marking a migration as confirmed or reverted and dropping the claim for that migration on the source or destination host, respectively. """""" compute_driver = 'fake.MediumFakeDriver' def setUp(self): super().setUp() # Start two computes so we can migrate between them. self._start_compute('host1') self._start_compute('host2') self.ctxt = nova_context.get_admin_context() def _create_server(self): """"""Creates and return a server along with a source host and target host. """""" server = super()._create_server(networks='none') source_host = server['OS-EXT-SRV-ATTR:host'] target_host = 'host2' if source_host == 'host1' else 'host1' return server, source_host, target_host def assertUsage(self, hostname, usage): cn = objects.ComputeNode.get_by_nodename(self.ctxt, hostname) # we could test anything, but vcpu is easy to grok self.assertEqual(cn.vcpus_used, usage) @ddt.data(True, False) def test_migrate_confirm(self, drop_race): server, src_host, dst_host = self._create_server() # only one instance created, so usage on its host self.assertUsage(src_host, 1) self.assertUsage(dst_host, 0) orig_confirm = fake_virt.MediumFakeDriver.confirm_migration orig_drop_claim = rt.ResourceTracker.drop_move_claim def fake_confirm_migration(*args, **kwargs): # run periodics before finally running the confirm_resize routine, # simulating a race between the resource tracker and the virt # driver # check the usage, which should show usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) self._run_periodics() # after the periodics we should still have usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) return orig_confirm(*args, **kwargs) def fake_drop_move_claim(*args, **kwargs): # run periodics after marking the migration confirmed, simulating a # race between the doing this and actually dropping the claim # check the usage, which should show usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) if drop_race: self._run_periodics() # FIXME(stephenfin): This shouldn't have updated dropped usage # for the src yet self.assertUsage(src_host, 0) self.assertUsage(dst_host, 1) # and that's perfectly fine return orig_drop_claim(*args, **kwargs) self.stub_out( 'nova.virt.fake.MediumFakeDriver.confirm_migration', fake_confirm_migration, ) self.stub_out( 'nova.compute.resource_tracker.ResourceTracker.drop_move_claim', fake_drop_move_claim, ) # TODO(stephenfin): Use a helper self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_state_change(server, 'VERIFY_RESIZE') # migration isn't complete so we should have usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) self._confirm_resize(server) # migration is now confirmed so we should once again only have usage on # one host # FIXME(stephenfin): Our usage here should be 0 and 1 for source and # dest respectively when confirming, but that won't happen until we run # the periodic and rebuild our inventory from scratch self.assertUsage(src_host, -1 if drop_race else 0) self.assertUsage(dst_host, 1) # running periodics shouldn't change things self._run_periodics() self.assertUsage(src_host, 0) self.assertUsage(dst_host, 1) @ddt.data(True, False) def test_migrate_revert(self, drop_race): server, src_host, dst_host = self._create_server() # only one instance created, so usage on its host self.assertUsage(src_host, 1) self.assertUsage(dst_host, 0) orig_drop_claim = rt.ResourceTracker.drop_move_claim def fake_drop_move_claim(*args, **kwargs): # run periodics after marking the migration reverted, simulating a # race between the doing this and actually dropping the claim # check the usage, which should show usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) if drop_race: self._run_periodics() # FIXME(stephenfin): the periodic should not have dropped the # records for the src self.assertUsage(src_host, 0) self.assertUsage(dst_host, 1) # and that's perfectly fine return orig_drop_claim(*args, **kwargs) self.stub_out( 'nova.compute.resource_tracker.ResourceTracker.drop_move_claim', fake_drop_move_claim, ) # TODO(stephenfin): Use a helper self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_state_change(server, 'VERIFY_RESIZE') # migration isn't complete so we should have usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) self._revert_resize(server) # migration is now reverted so we should once again only have usage on # one host # FIXME(stephenfin): Our usage here should always be 1 and 0 for source # and dest respectively when reverting, but that won't happen until we # run the periodic and rebuild our inventory from scratch self.assertUsage(src_host, 0 if drop_race else 1) self.assertUsage(dst_host, 1 if drop_race else 0) # running periodics shouldn't change things self._run_periodics() self.assertUsage(src_host, 1) self.assertUsage(dst_host, 0) ",,191,0
openstack%2Fnova~stable%2Fussuri~I87cd4d14192b1a40cbdca6e3af0f818f2cab613e,openstack/nova,stable/ussuri,I87cd4d14192b1a40cbdca6e3af0f818f2cab613e,tests: Add reproducer for bug #1889633,MERGED,2020-08-26 14:54:30.000000000,2020-08-28 03:36:43.000000000,2020-08-28 03:34:54.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-26 14:54:30.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/49a793c8ee7a9be26e4e3d6ddd097a6ee6fea29d', 'message': 'tests: Add reproducer for bug #1889633\n\nWith the introduction of the cpu-resources work [1], (libvirt) hosts can\nnow report \'PCPU\' inventory separate from \'VCPU\' inventory, which is\nconsumed by instances with pinned CPUs (\'hw:cpu_policy=dedicated\'). As\npart of that effort, we had to drop support for the ability to boot\ninstances with \'hw:cpu_thread_policy=isolate\' (i.e. I don\'t want\nhyperthreads) on hosts with hyperthreading. This had been previously\nimplemented by marking thread siblings of the host cores used by such an\ninstance as reserved and unusable by other instances, but such a design\nwasn\'t possible in world where we had to track resource consumption in\nplacement before landing in the host. Instead, the \'isolate\' policy now\nsimply means ""give me a host without hyperthreads"". This is enforced by\nhosts with hyperthreads reporting the \'HW_CPU_HYPERTHREADING\' trait, and\ninstances with the \'isolate\' policy requesting\n\'HW_CPU_HYPERTHREADING=forbidden\'.\n\nOr at least, that\'s how it should work. We also have a fallback query\nfor placement to find hosts with \'VCPU\' inventory and that doesn\'t care\nabout the \'HW_CPU_HYPERTHREADING\' trait. This was envisioned to ensure\nhosts with old style configuration (\'[DEFAULT] vcpu_pin_set\') could\ncontinue to be scheduled to. We figured that this second fallback query\ncould accidentally pick up hosts with new-style configuration, but we\nare also tracking the available and used cores from those listed in the\n\'[compute] cpu_dedicated_set\' as part of the host \'NUMATopology\' objects\n(specifically, via the \'pcpuset\' and \'cpu_pinning\' fields of the\n\'NUMACell\' child objects). These are validated by both the\n\'NUMATopologyFilter\' and the virt driver itself, which means hosts with\nnew style configuration that got caught up in this second query would be\nrejected by this filter or by a late failure on the host. (Hint: there\'s\nmuch more detail on this in the spec).\n\nUnfortunately we didn\'t think about hyperthreading. If a host gets\npicked up in the second request, it might well have enough PCPU\ninventory but simply be rejected in the first query since it had\nhyperthreads. In this case, because it has enough free cores available\nfor pinning, neither the filter nor the virt driver will reject the\nrequest, resulting in a situation whereby the instance ends up falling\nback to the old code paths and consuming $flavor.vcpu host cores, plus\nthe thread siblings for each of these cores. Despite this, it will be\nmarked as consuming $flavor.vcpu VCPU (not PCPU) inventory in placement.\n\nThis patch proves this to be the case, allowing us to resolve the issue\nlater.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/cpu-resources.html\n\nChange-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1889633\n(cherry picked from commit 737e0c0111acd364d1481bdabd9d23bc8d5d6a2e)\n'}]",0,748251,49a793c8ee7a9be26e4e3d6ddd097a6ee6fea29d,9,4,1,15334,,,0,"tests: Add reproducer for bug #1889633

With the introduction of the cpu-resources work [1], (libvirt) hosts can
now report 'PCPU' inventory separate from 'VCPU' inventory, which is
consumed by instances with pinned CPUs ('hw:cpu_policy=dedicated'). As
part of that effort, we had to drop support for the ability to boot
instances with 'hw:cpu_thread_policy=isolate' (i.e. I don't want
hyperthreads) on hosts with hyperthreading. This had been previously
implemented by marking thread siblings of the host cores used by such an
instance as reserved and unusable by other instances, but such a design
wasn't possible in world where we had to track resource consumption in
placement before landing in the host. Instead, the 'isolate' policy now
simply means ""give me a host without hyperthreads"". This is enforced by
hosts with hyperthreads reporting the 'HW_CPU_HYPERTHREADING' trait, and
instances with the 'isolate' policy requesting
'HW_CPU_HYPERTHREADING=forbidden'.

Or at least, that's how it should work. We also have a fallback query
for placement to find hosts with 'VCPU' inventory and that doesn't care
about the 'HW_CPU_HYPERTHREADING' trait. This was envisioned to ensure
hosts with old style configuration ('[DEFAULT] vcpu_pin_set') could
continue to be scheduled to. We figured that this second fallback query
could accidentally pick up hosts with new-style configuration, but we
are also tracking the available and used cores from those listed in the
'[compute] cpu_dedicated_set' as part of the host 'NUMATopology' objects
(specifically, via the 'pcpuset' and 'cpu_pinning' fields of the
'NUMACell' child objects). These are validated by both the
'NUMATopologyFilter' and the virt driver itself, which means hosts with
new style configuration that got caught up in this second query would be
rejected by this filter or by a late failure on the host. (Hint: there's
much more detail on this in the spec).

Unfortunately we didn't think about hyperthreading. If a host gets
picked up in the second request, it might well have enough PCPU
inventory but simply be rejected in the first query since it had
hyperthreads. In this case, because it has enough free cores available
for pinning, neither the filter nor the virt driver will reject the
request, resulting in a situation whereby the instance ends up falling
back to the old code paths and consuming $flavor.vcpu host cores, plus
the thread siblings for each of these cores. Despite this, it will be
marked as consuming $flavor.vcpu VCPU (not PCPU) inventory in placement.

This patch proves this to be the case, allowing us to resolve the issue
later.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/cpu-resources.html

Change-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1889633
(cherry picked from commit 737e0c0111acd364d1481bdabd9d23bc8d5d6a2e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/748251/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,49a793c8ee7a9be26e4e3d6ddd097a6ee6fea29d,bug/1889633," def test_create_server_with_isolate_thread_policy_old_configuration(self): """"""Create a server with the legacy 'hw:cpu_thread_policy=isolate' extra spec and configuration. This should pass and result in an instance consuming $flavor.vcpu host cores plus the thread sibling(s) of each of these cores. We also be consuming VCPUs since we're on legacy configuration here, though that would in theory be fixed during a later reshape. """""" self.flags( cpu_dedicated_set=None, cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set='0-3') # host has hyperthreads, which means we're going to end up consuming # $flavor.vcpu hosts cores plus the thread sibling(s) for each core host_info = fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=(1024 * 1024 * 16), # GB ) fake_connection = self._get_connection(host_info=host_info) self.mock_conn.return_value = fake_connection extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'isolate', } flavor_id = self._create_flavor(vcpu=2, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'VCPU': 2} self._run_build_test(flavor_id, expected_usage=expected_usage) # verify that we have consumed two cores plus the thread sibling of # each core, totalling four cores since the HostInfo indicates each # core should have two threads ctxt = nova_context.get_admin_context() host_numa = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename(ctxt, 'compute1').numa_topology ) self.assertEqual({0, 1, 2, 3}, host_numa.cells[0].pinned_cpus) def test_create_server_with_isolate_thread_policy_fails(self): """"""Create a server with the legacy 'hw:cpu_thread_policy=isolate' extra spec. This should fail on a host with hyperthreading. """""" self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # host has hyperthreads, which means it should be rejected host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=(1024 * 1024 * 16), # GB ) fake_connection = self._get_connection(host_info=host_info) self.mock_conn.return_value = fake_connection extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'isolate', } flavor_id = self._create_flavor(vcpu=2, extra_spec=extra_spec) # FIXME(stephenfin): This should go to error status since there should # not be a host available expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 0, 'VCPU': 2, } self._run_build_test(flavor_id, expected_usage=expected_usage) ",,71,0
openstack%2Fkeystone~master~I86d10729cfc7c02f12df611b56f6e263969dfe4b,openstack/keystone,master,I86d10729cfc7c02f12df611b56f6e263969dfe4b,Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal),MERGED,2020-08-17 08:13:41.000000000,2020-08-28 03:36:40.000000000,2020-08-28 03:34:33.000000000,"[{'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-17 08:13:41.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b54839f382b046b7ec8b9633fbea763d31d9949c', 'message': 'Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal)\n\nIn Ubuntu Bionic (18.04) mysql 5.7 version used to create\nthe user implicitly when using using the GRANT.\n\nUbuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there\nis no implicit user creation with GRANT. We need to\ncreate the user first before using GRANT command.\n\nThis patch updates tools/test-setup.sh so that keystone supports\nubuntu focal.\n\nStory: #2007865\nTask: #40190\n\nChange-Id: I86d10729cfc7c02f12df611b56f6e263969dfe4b\nCloses-Bug: #1885825\n'}]",0,746451,b54839f382b046b7ec8b9633fbea763d31d9949c,14,4,1,27621,,,0,"Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal)

In Ubuntu Bionic (18.04) mysql 5.7 version used to create
the user implicitly when using using the GRANT.

Ubuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there
is no implicit user creation with GRANT. We need to
create the user first before using GRANT command.

This patch updates tools/test-setup.sh so that keystone supports
ubuntu focal.

Story: #2007865
Task: #40190

Change-Id: I86d10729cfc7c02f12df611b56f6e263969dfe4b
Closes-Bug: #1885825
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/746451/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,b54839f382b046b7ec8b9633fbea763d31d9949c,," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,2
openstack%2Fneutron~stable%2Fstein~I9062638366b45a7a930f31185cd6e23901a43957,openstack/neutron,stable/stein,I9062638366b45a7a930f31185cd6e23901a43957,Not remove the running router when MQ is unreachable,MERGED,2020-08-26 07:01:12.000000000,2020-08-28 03:36:37.000000000,2020-08-28 03:34:31.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-26 07:01:12.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/71f22834f2240834ca591e27a920f9444bac9689', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)\n'}]",0,748125,71f22834f2240834ca591e27a920f9444bac9689,14,4,1,9531,,,0,"Not remove the running router when MQ is unreachable

When the L3 agent get a router update notification, it will try to
retrieve the router info from neutron server. But at this time, if
the message queue is down/unreachable. It will get exceptions related
message queue. The resync actions will be run then. Sometimes, rabbitMQ
cluster is not so much easy to recover. Then Long time MQ recover time
will cause the router info sync RPC never get successful until it meets
the max retry time. Then the bad thing happens, L3 agent is trying to
remove the router now. It basically shutdown all the existing L3 traffic
of this router.

This patch directly removes the final router removal action, let the
router run as it is.

Closes-Bug: #1871850
Change-Id: I9062638366b45a7a930f31185cd6e23901a43957
(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/748125/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,71f22834f2240834ca591e27a920f9444bac9689,bug/1871850-stable/ussuri-stable/train-stable/stein," def test_process_routers_update_router_update(self): update.action = l3_agent.ADD_UPDATE_ROUTER agent._safe_router_removed = mock.Mock() agent.plugin_rpc = mock.MagicMock() agent.plugin_rpc.get_routers.side_effect = ( Exception(""Failed to get router info"")) # start test agent._process_router_update() router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._resync_router.called) self.assertFalse(agent._safe_router_removed.called) def _test_process_routers_update_router_deleted(self, error=False): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent._queue = mock.Mock() update = mock.Mock() update.resource = None update.action = l3_agent.DELETE_ROUTER router_info = mock.MagicMock() agent.router_info[update.id] = router_info router_processor = mock.Mock() agent._queue.each_update_to_next_resource.side_effect = [ [(router_processor, update)]] agent._resync_router = mock.Mock() agent._safe_router_removed = mock.Mock() if error: self.assertTrue(agent._safe_router_removed.called) else: router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._safe_router_removed.called)"," @mock.patch.object(pd, 'remove_router') def _test_process_routers_update_router_deleted(self, remove_router, error=False): update.action = 1 # ROUTER_DELETED if error: agent._safe_router_removed = mock.Mock() self.assertFalse(remove_router.called) else: router_info.delete.assert_called_once_with() self.assertFalse(agent.router_info) self.assertTrue(remove_router.called)",33,12
openstack%2Frequirements~master~I0eb277ab6bcb195b9be4e63b5eedc9866dc0100f,openstack/requirements,master,I0eb277ab6bcb195b9be4e63b5eedc9866dc0100f,update constraint for oslo.log to new release 4.4.0,MERGED,2020-08-26 20:27:48.000000000,2020-08-28 03:36:24.000000000,2020-08-28 03:34:48.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 20:27:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e109e2e28562927332c27960af3bb27bf21fabd1', 'message': 'update constraint for oslo.log to new release 4.4.0\n\nChange-Id: I0eb277ab6bcb195b9be4e63b5eedc9866dc0100f\nmeta:version: 4.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748301,e109e2e28562927332c27960af3bb27bf21fabd1,27,4,1,11131,,,0,"update constraint for oslo.log to new release 4.4.0

Change-Id: I0eb277ab6bcb195b9be4e63b5eedc9866dc0100f
meta:version: 4.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/748301/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e109e2e28562927332c27960af3bb27bf21fabd1,new-release,oslo.log===4.4.0,oslo.log===4.3.0,1,1
openstack%2Fglance~master~Ia78d101ae3702d9f761ca8f04b4b10af4a6d84fb,openstack/glance,master,Ia78d101ae3702d9f761ca8f04b4b10af4a6d84fb,Disable wait_for_fork() kill aggression if expect_exit=True,MERGED,2020-08-25 17:32:03.000000000,2020-08-28 03:36:24.000000000,2020-08-28 03:34:40.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 17:32:03.000000000', 'files': ['glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/76667323d7203a87447269e4f834f7d9339244fd', 'message': 'Disable wait_for_fork() kill aggression if expect_exit=True\n\nIn some cases, we spawn a process that we expect to run to completion\nand exit. In those cases, disable the force-kill logic in wait_for_fork()\nto avoid killing those processes too early.\n\nRelated-Bug: #1891190\nChange-Id: Ia78d101ae3702d9f761ca8f04b4b10af4a6d84fb\n'}]",0,747991,76667323d7203a87447269e4f834f7d9339244fd,9,4,1,4393,,,0,"Disable wait_for_fork() kill aggression if expect_exit=True

In some cases, we spawn a process that we expect to run to completion
and exit. In those cases, disable the force-kill logic in wait_for_fork()
to avoid killing those processes too early.

Related-Bug: #1891190
Change-Id: Ia78d101ae3702d9f761ca8f04b4b10af4a6d84fb
",git fetch https://review.opendev.org/openstack/glance refs/changes/91/747991/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/__init__.py'],1,76667323d7203a87447269e4f834f7d9339244fd,bug/1891190," expected_exitcode=expected_exitcode, force=False)", expected_exitcode=expected_exitcode),2,1
openstack%2Frequirements~stable%2Fstein~I71b790ca5e2fc2efce0b25a5bb91ed8cd2d3a847,openstack/requirements,stable/stein,I71b790ca5e2fc2efce0b25a5bb91ed8cd2d3a847,update constraint for neutron to new release 14.3.1,MERGED,2020-08-27 09:23:58.000000000,2020-08-28 03:34:39.000000000,2020-08-28 03:34:39.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 09:23:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ed18e26586d7deb57e43f020446f020e85203c4', 'message': 'update constraint for neutron to new release 14.3.1\n\nChange-Id: I71b790ca5e2fc2efce0b25a5bb91ed8cd2d3a847\nmeta:version: 14.3.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: Iffb08675b6911336acc5e2a7dee3665282976441\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,748387,9ed18e26586d7deb57e43f020446f020e85203c4,7,3,1,11131,,,0,"update constraint for neutron to new release 14.3.1

Change-Id: I71b790ca5e2fc2efce0b25a5bb91ed8cd2d3a847
meta:version: 14.3.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: Iffb08675b6911336acc5e2a7dee3665282976441
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/748387/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9ed18e26586d7deb57e43f020446f020e85203c4,new-release,neutron===14.3.1,neutron===14.3.0,1,1
openstack%2Fnova~stable%2Fussuri~If9acc054100a6733f3659a15dd9fc2d462e84d64,openstack/nova,stable/ussuri,If9acc054100a6733f3659a15dd9fc2d462e84d64,libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available,MERGED,2020-08-24 04:08:12.000000000,2020-08-28 03:12:20.000000000,2020-08-28 03:10:20.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-24 04:08:12.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1841363-fallback-to-threaded-io-when-native-io-is-not-supported-fe56014e9648a518.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0bd58921a1fcaffcc4fac25f63434c9cab93b061', 'message': ""libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available\n\nBecause of the libvirt issue[1], there is a bug[2] that if we set cache mode\nwhose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),\nthere will be a problem with the volume drivers\n(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,\nnova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate\nnative io explicitly.\n\nThat problem will generate a libvirt xml for the instance,\nwhose content contains\n\n```\n...\n<disk ... >\n  <driver ... cache='unsafe/writeback/writethrough' io='native' />\n</disk>\n...\n```\nIn turn, it will fail to start the instance or attach the disk.\n\n> When qemu is configured with a block device that has aio=native set, but\n> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any\n> unnamed mode with explicit cache.direct=on), then the raw-posix block driver\n> for local files and block devices will silently fall back to aio=threads.\n> The blockdev-add interface rejects such combinations, but qemu can't\n> change the existing legacy interfaces that libvirt uses today.\n\n[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92\n[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704\n\nCloses-Bug: #1841363\nChange-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64\n(cherry picked from commit af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6)\n""}]",0,747609,0bd58921a1fcaffcc4fac25f63434c9cab93b061,14,7,1,29071,,,0,"libvirt:driver:Disallow AIO=native when 'O_DIRECT' is not available

Because of the libvirt issue[1], there is a bug[2] that if we set cache mode
whose write semantic is not O_DIRECT (.i.e unsafe, writeback or writethrough),
there will be a problem with the volume drivers
(.i.e nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,
nova.virt.libvirt.volume.LibvirtNFSVolumeDriver and so on), which designate
native io explicitly.

That problem will generate a libvirt xml for the instance,
whose content contains

```
...
<disk ... >
  <driver ... cache='unsafe/writeback/writethrough' io='native' />
</disk>
...
```
In turn, it will fail to start the instance or attach the disk.

> When qemu is configured with a block device that has aio=native set, but
> the cache mode doesn't use O_DIRECT (i.e. isn't cache=none/directsync or any
> unnamed mode with explicit cache.direct=on), then the raw-posix block driver
> for local files and block devices will silently fall back to aio=threads.
> The blockdev-add interface rejects such combinations, but qemu can't
> change the existing legacy interfaces that libvirt uses today.

[1]: https://github.com/libvirt/libvirt/commit/058384003db776c580d0e5a3016a6384e8eb7b92
[2]: https://bugzilla.redhat.com/show_bug.cgi?id=1086704

Closes-Bug: #1841363
Change-Id: If9acc054100a6733f3659a15dd9fc2d462e84d64
(cherry picked from commit af2405e1181d70cdf60bcd0e40b3e80f2db2e3a6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/747609/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1841363-fallback-to-threaded-io-when-native-io-is-not-supported-fe56014e9648a518.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,0bd58921a1fcaffcc4fac25f63434c9cab93b061,bug/1841363," def _make_fake_conf(self, cache=None): if cache: self.flags(disk_cachemodes=['block=' + cache], group='libvirt') else: self.flags(group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) fake_conf = FakeConfigGuestDisk() fake_conf.source_type = 'block' fake_conf.driver_io = 'native' drvr._set_cache_mode(fake_conf) return fake_conf def test_set_cache_mode_driver_io_writeback(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is 'writeback', then conf.driver_io is forced to 'threads' """""" fake_conf = self._make_fake_conf('writeback') self.assertEqual('writeback', fake_conf.driver_cache) self.assertEqual('threads', fake_conf.driver_io) def test_set_cache_mode_driver_io_writethrough(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is 'writethrough', then conf.driver_io is forced to 'threads' """""" fake_conf = self._make_fake_conf('writethrough') self.assertEqual('writethrough', fake_conf.driver_cache) self.assertEqual('threads', fake_conf.driver_io) def test_set_cache_mode_driver_io_unsafe(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is 'unsafe', then conf.driver_io is forced to 'threads' """""" fake_conf = self._make_fake_conf('unsafe') self.assertEqual('unsafe', fake_conf.driver_cache) self.assertEqual('threads', fake_conf.driver_io) def test_without_set_cache_mode_driver_io(self): """"""Tests that when conf.driver_io is 'native' and driver_cache is not set(this is default settings), then conf.driver_io is kept as 'native' """""" fake_conf = self._make_fake_conf() self.assertIsNone(fake_conf.driver_cache) self.assertEqual('native', fake_conf.driver_io) ",,75,0
openstack%2Ftripleo-common~stable%2Ftrain~I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,openstack/tripleo-common,stable/train,I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,tcib: rename kolla_version to tcib_managed,MERGED,2020-08-19 21:10:45.000000000,2020-08-28 02:25:49.000000000,2020-08-28 02:24:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-19 21:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1680bcb23e095ffbd503a009e4aa581e1aad044', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)\n'}, {'number': 2, 'created': '2020-08-20 21:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/758493902d31fbce4f2206f36baf9e4f55282d0e', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)\n'}, {'number': 3, 'created': '2020-08-26 12:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/96e600898a451337294f39d17077d62c70142dd2', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)\n'}, {'number': 4, 'created': '2020-08-27 13:02:54.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/305661bc2b520f408da8433019d048baf22f29ff', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)\n'}]",0,747038,305661bc2b520f408da8433019d048baf22f29ff,28,4,4,3153,,,0,"tcib: rename kolla_version to tcib_managed

To avoid confusion, do not use kolla_version label and use tcib_managed.
This is useful to filter images that are built by TCIB or not.

Depends-On: https://review.opendev.org/#/c/740298/
Change-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74
(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/747038/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,c1680bcb23e095ffbd503a009e4aa581e1aad044,tcib/managed, tcib_managed: True,,1,0
openstack%2Fnova~stable%2Fussuri~I7f93cfd18f948134c9cb429dea55740d2cf97994,openstack/nova,stable/ussuri,I7f93cfd18f948134c9cb429dea55740d2cf97994,Add checks for volume status when rebuilding,MERGED,2020-08-20 08:25:07.000000000,2020-08-28 01:11:35.000000000,2020-08-28 01:10:01.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31960}]","[{'number': 1, 'created': '2020-08-20 08:25:07.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bcbeae2c605f4ab4ad805dddccac802928a180b6', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)\n""}]",0,747122,bcbeae2c605f4ab4ad805dddccac802928a180b6,18,8,1,31960,,,0,"Add checks for volume status when rebuilding

When rebuilding, we should only allow detaching
the volume with 'in-use' status, volume in status
such as 'retyping' should not allowed.

Change-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994
Closes-Bug: #1489304
(cherry picked from commit 10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/747122/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",4,bcbeae2c605f4ab4ad805dddccac802928a180b6,bug/1489304," exception.InvalidVolume,",,98,4
openstack%2Fopenstack-helm~master~Ida510ee22808b818e256f93b11d2e1ed36f63a19,openstack/openstack-helm,master,Ida510ee22808b818e256f93b11d2e1ed36f63a19,Add Apparmor for Missing containers for glance and neutron pods,MERGED,2020-08-27 15:29:05.000000000,2020-08-27 23:32:37.000000000,2020-08-27 23:30:29.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29298}]","[{'number': 1, 'created': '2020-08-27 15:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0126719f78389f79a4b7f79f150f6bed332197c3', 'message': 'Fix Apparmor for nginx container for glance\n\nChange-Id: Ida510ee22808b818e256f93b11d2e1ed36f63a19\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-08-27 16:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/57cb99711b665dfa29fd46bec22f02eb9840ccdc', 'message': 'Add Apparmor for Missing containers for glance and neutron pods\n\n1)Fixed nginx container in glance.\n2)Fixed rps server in neutron.\n\nChange-Id: Ida510ee22808b818e256f93b11d2e1ed36f63a19\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-08-27 21:27:41.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'glance/templates/deployment-registry.yaml', 'neutron/values_overrides/apparmor.yaml', 'glance/values_overrides/apparmor.yaml', 'glance/templates/deployment-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c39f2e3282ccc5dad0b7677bccf6cc79bcc5298', 'message': 'Add Apparmor for Missing containers for glance and neutron pods\n\n1)Fixed nginx container in glance.\n2)Fixed rpc server in neutron.\n3)Enabled Certificates for creating pods.\n\nChange-Id: Ida510ee22808b818e256f93b11d2e1ed36f63a19\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",1,748470,9c39f2e3282ccc5dad0b7677bccf6cc79bcc5298,19,7,3,29131,,,0,"Add Apparmor for Missing containers for glance and neutron pods

1)Fixed nginx container in glance.
2)Fixed rpc server in neutron.
3)Enabled Certificates for creating pods.

Change-Id: Ida510ee22808b818e256f93b11d2e1ed36f63a19
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/70/748470/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,0126719f78389f79a4b7f79f150f6bed332197c3,Apparmor,,,0,0
openstack%2Fglance~stable%2Fussuri~I992a14abb7cb41e2472741bf08b93976d4320ace,openstack/glance,stable/ussuri,I992a14abb7cb41e2472741bf08b93976d4320ace,Functional reproducer for bug 1891352,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 22:57:04.000000000,2020-08-27 22:54:01.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/931d39ec382a187ca52babe4c3d2d3516b079465', 'message': 'Functional reproducer for bug 1891352\n\nThis reproduces the behavior described in the referenced bug, showing\nthe behavior before the fix. This asserts the *broken* behavior and leaves\nexamples of what the asserts should be for the fix patch.\n\nPartial-Bug: #1891352\n\nChange-Id: I992a14abb7cb41e2472741bf08b93976d4320ace\n(cherry picked from commit ec372377b1e69eb143e4d08b0041b8199459ee15)\n'}]",0,748011,931d39ec382a187ca52babe4c3d2d3516b079465,18,4,1,4393,,,0,"Functional reproducer for bug 1891352

This reproduces the behavior described in the referenced bug, showing
the behavior before the fix. This asserts the *broken* behavior and leaves
examples of what the asserts should be for the fix patch.

Partial-Bug: #1891352

Change-Id: I992a14abb7cb41e2472741bf08b93976d4320ace
(cherry picked from commit ec372377b1e69eb143e4d08b0041b8199459ee15)
",git fetch https://review.opendev.org/openstack/glance refs/changes/11/748011/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,931d39ec382a187ca52babe4c3d2d3516b079465,bug/1884596," fail_key = 'os_glance_failed_import' pend_key = 'os_glance_importing_to_stores' # NOTE(danms): This is bug #1891352, where a failed import when # all_stores_must_succeed=True will leave the failed store in the # importing list forever and never put it into the failed list. # When the bug is fixed, this is what should happen: # self.assertEqual('file3', jsonutils.loads(response.text)[fail_key]) # self.assertEqual('', jsonutils.loads(response.text)[pend_key]) # but until it is fixed, this asserts the *broken* behavior: self.assertEqual('', jsonutils.loads(response.text)[fail_key]) self.assertEqual('file3', jsonutils.loads(response.text)[pend_key])",,11,0
openstack%2Fglance~stable%2Fussuri~I0b71a7df04cd330749f35b07f96a120b49b412c7,openstack/glance,stable/ussuri,I0b71a7df04cd330749f35b07f96a120b49b412c7,Add image_delete_property_atomic() helper,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 22:55:46.000000000,2020-08-27 22:53:54.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/proxy.py', 'glance/tests/functional/db/test_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/825a0ec754f0e5c94819c9e22482841bf3b7fd16', 'message': 'Add image_delete_property_atomic() helper\n\nThis adds a new DB API method to atomically delete a property on an image\nin a way that we can be sure that it is deleted one and only once, and\nwithout affecting the rest of the image. This can be used in conjunction\nwith image_set_property_atomic() to create and delete properties for locking\nwithout the risk of clobbering other image data in the process.\n\nChange-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7\n(cherry picked from commit b093ae3514dea32a8829239e0297e3e170efff58)\n'}]",0,748008,825a0ec754f0e5c94819c9e22482841bf3b7fd16,14,3,1,4393,,,0,"Add image_delete_property_atomic() helper

This adds a new DB API method to atomically delete a property on an image
in a way that we can be sure that it is deleted one and only once, and
without affecting the rest of the image. This can be used in conjunction
with image_set_property_atomic() to create and delete properties for locking
without the risk of clobbering other image data in the process.

Change-Id: I0b71a7df04cd330749f35b07f96a120b49b412c7
(cherry picked from commit b093ae3514dea32a8829239e0297e3e170efff58)
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/748008/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/proxy.py', 'glance/tests/functional/db/test_sqlalchemy.py']",7,825a0ec754f0e5c94819c9e22482841bf3b7fd16,bug/1884596,"class TestImageAtomicOps(base.TestDriver, base.FunctionalInitWrapper): super(TestImageAtomicOps, self).setUp() def test_delete(self): """"""Try to double-delete a property atomically. This should ensure that a second attempt fails. """""" self.db_api.image_delete_property_atomic(self.image['id'], 'speed', '88mph') self.assertRaises(exception.NotFound, self.db_api.image_delete_property_atomic, self.image['id'], 'speed', '88mph') def test_delete_create_delete(self): """"""Try to delete, re-create, and then re-delete property."""""" self.db_api.image_delete_property_atomic(self.image['id'], 'speed', '88mph') self.db_api.image_update(self.adm_context, self.image['id'], {'properties': {'speed': '89mph'}}, purge_props=True) # We should no longer be able to delete the property by the *old* # value self.assertRaises(exception.NotFound, self.db_api.image_delete_property_atomic, self.image['id'], 'speed', '88mph') # Only the new value should result in proper deletion self.db_api.image_delete_property_atomic(self.image['id'], 'speed', '89mph')","class TestImageAtomicUpdate(base.TestDriver, base.FunctionalInitWrapper): super(TestImageAtomicUpdate, self).setUp()",119,3
openstack%2Fglance~stable%2Fussuri~I8667c17813f6e701db98595b0b30df9e7b275294,openstack/glance,stable/ussuri,I8667c17813f6e701db98595b0b30df9e7b275294,Update task message during import,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 22:53:59.000000000,2020-08-27 22:53:58.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/common/exception.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3da696e0a4c45b35cd9241ddc7c80c490b290ef2', 'message': ""Update task message during import\n\nThis updates the task.message field with details about the copy,\nwhich will also update the updated_at field on the task. This will\nfacilitate some rudimentary liveness checking from outside the task\nthread. Note that it also checks the state of our task, and will\nabort if it has been pushed out of 'processing' state externally.\nThis will be used in the following patch to faciliate import lock\nbusting behavior.\n\nChange-Id: I8667c17813f6e701db98595b0b30df9e7b275294\n(cherry picked from commit 77d9cfa66e3c2e70a1cc515e7504fd5dd946549a)\n""}]",0,748010,3da696e0a4c45b35cd9241ddc7c80c490b290ef2,11,3,1,4393,,,0,"Update task message during import

This updates the task.message field with details about the copy,
which will also update the updated_at field on the task. This will
facilitate some rudimentary liveness checking from outside the task
thread. Note that it also checks the state of our task, and will
abort if it has been pushed out of 'processing' state externally.
This will be used in the following patch to faciliate import lock
busting behavior.

Change-Id: I8667c17813f6e701db98595b0b30df9e7b275294
(cherry picked from commit 77d9cfa66e3c2e70a1cc515e7504fd5dd946549a)
",git fetch https://review.opendev.org/openstack/glance refs/changes/10/748010/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/exception.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",3,3da696e0a4c45b35cd9241ddc7c80c490b290ef2,bug/1884596,"from oslo_utils import unitsfrom glance.common import exception task_repo = mock.MagicMock() task_repo, wrapper, task_repo = mock.MagicMock() task_repo, wrapper, task_repo = mock.MagicMock() task_repo, wrapper, task_repo = mock.MagicMock() task_repo, wrapper, task_repo = mock.MagicMock() task_repo.get.return_value.status = 'processing' task_repo, wrapper, task_repo = mock.MagicMock() task_repo, wrapper, ""http://url"", self.assertRaises(exception.ImportTaskError, image_import.execute) task_repo = mock.MagicMock() task_repo, wrapper, ""http://url"", task_repo = mock.MagicMock() task_repo, wrapper, ""http://url"", task_repo = mock.MagicMock() task_repo, wrapper, ""http://url"", @mock.patch('glance.common.scripts.utils.get_task') def test_status_callback_updates_task_message(self, mock_get): task_repo = mock.MagicMock() image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, task_repo, mock.MagicMock(), ""http://url"", ""store1"", False, True) task = mock.MagicMock() task.status = 'processing' mock_get.return_value = task action = mock.MagicMock() image_import._status_callback(action, 128, 256 * units.Mi) mock_get.assert_called_once_with(task_repo, TASK_ID1) task_repo.save.assert_called_once_with(task) self.assertEqual(_('Copied %i MiB' % 256), task.message) @mock.patch('glance.common.scripts.utils.get_task') def test_status_aborts_missing_task(self, mock_get): task_repo = mock.MagicMock() image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, task_repo, mock.MagicMock(), ""http://url"", ""store1"", False, True) mock_get.return_value = None action = mock.MagicMock() self.assertRaises(exception.TaskNotFound, image_import._status_callback, action, 128, 256 * units.Mi) mock_get.assert_called_once_with(task_repo, TASK_ID1) task_repo.save.assert_not_called() @mock.patch('glance.common.scripts.utils.get_task') def test_status_aborts_invalid_task_state(self, mock_get): task_repo = mock.MagicMock() image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, task_repo, mock.MagicMock(), ""http://url"", ""store1"", False, True) task = mock.MagicMock() task.status = 'failed' mock_get.return_value = task action = mock.MagicMock() self.assertRaises(exception.TaskAbortedError, image_import._status_callback, action, 128, 256 * units.Mi) mock_get.assert_called_once_with(task_repo, TASK_ID1) task_repo.save.assert_not_called() ","from glance.common.exception import ImportTaskError wrapper, wrapper, wrapper, wrapper, wrapper, wrapper, ""http://url"", self.assertRaises(ImportTaskError, image_import.execute) wrapper, ""http://url"", wrapper, ""http://url"", wrapper, ""http://url"",",98,12
openstack%2Fglance~stable%2Fussuri~I136ef792d601326a67266e9ea9fcadd79ddba69e,openstack/glance,stable/ussuri,I136ef792d601326a67266e9ea9fcadd79ddba69e,Heartbeat the actual work of the task,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 22:53:57.000000000,2020-08-27 22:53:56.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/common/scripts/utils.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py', 'glance/tests/unit/common/scripts/image_import/test_main.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/586ca78a230e98d286241080fb22d0b3ec2304b3', 'message': 'Heartbeat the actual work of the task\n\nThis introduces a CallbackIterator object that can sit in the data\npipeline when setting image data and provide periodic callbacks to\nallow recording status, checking for cancellation, etc. If the\ncallback raises an exception, that will bubble up to the read\noperation and cause an abort.\n\nThe heartbeat is timer-based, but cooperative, which means if the\ndata pipeline stalls, we will stop heartbeating. The goal is to\nprovide a callback about once per minute, although blocking on\nthe pipeline could make that less regular of course.\n\nChange-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e\n(cherry picked from commit e49f23c04d784b5312d7df4556e2e5064555a84f)\n'}]",0,748009,586ca78a230e98d286241080fb22d0b3ec2304b3,11,3,1,4393,,,0,"Heartbeat the actual work of the task

This introduces a CallbackIterator object that can sit in the data
pipeline when setting image data and provide periodic callbacks to
allow recording status, checking for cancellation, etc. If the
callback raises an exception, that will bubble up to the read
operation and cause an abort.

The heartbeat is timer-based, but cooperative, which means if the
data pipeline stalls, we will stop heartbeating. The goal is to
provide a callback about once per minute, although blocking on
the pipeline could make that less regular of course.

Change-Id: I136ef792d601326a67266e9ea9fcadd79ddba69e
(cherry picked from commit e49f23c04d784b5312d7df4556e2e5064555a84f)
",git fetch https://review.opendev.org/openstack/glance refs/changes/09/748009/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/scripts/utils.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/unit/common/scripts/image_import/test_main.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py']",6,586ca78a230e98d286241080fb22d0b3ec2304b3,bug/1884596," class TestCallbackIterator(test_utils.BaseTestCase): def test_iterator_iterates(self): # Include a zero-length generation to make sure we don't trigger # the callback when nothing new has happened. items = ['1', '2', '', '3'] callback = mock.MagicMock() cb_iter = script_utils.CallbackIterator(iter(items), callback) iter_items = list(cb_iter) callback.assert_has_calls([mock.call(1, 1), mock.call(1, 2), mock.call(1, 3)]) self.assertEqual(items, iter_items) # Make sure we don't call the callback on close if we # have processed all the data callback.reset_mock() cb_iter.close() callback.assert_not_called() @mock.patch('oslo_utils.timeutils.StopWatch') def test_iterator_iterates_granularly(self, mock_sw): items = ['1', '2', '3'] callback = mock.MagicMock() mock_sw.return_value.expired.side_effect = [False, True, False] cb_iter = script_utils.CallbackIterator(iter(items), callback, min_interval=30) iter_items = list(cb_iter) self.assertEqual(items, iter_items) # The timer only fired once, but we should still expect the final # chunk to be emitted. callback.assert_has_calls([mock.call(2, 2), mock.call(1, 3)]) mock_sw.assert_called_once_with(30) mock_sw.return_value.start.assert_called_once_with() mock_sw.return_value.restart.assert_called_once_with() # Make sure we don't call the callback on close if we # have processed all the data callback.reset_mock() cb_iter.close() callback.assert_not_called() def test_proxy_close(self): callback = mock.MagicMock() source = mock.MagicMock() del source.close # NOTE(danms): This will generate AttributeError if it # tries to call close after the del above. script_utils.CallbackIterator(source, callback).close() source = mock.MagicMock() source.close.return_value = 'foo' script_utils.CallbackIterator(source, callback).close() source.close.assert_called_once_with() # We didn't process any data, so no callback should be expected callback.assert_not_called() @mock.patch('oslo_utils.timeutils.StopWatch') def test_proxy_read(self, mock_sw): items = ['1', '2', '3'] source = mock.MagicMock() source.read.side_effect = items callback = mock.MagicMock() mock_sw.return_value.expired.side_effect = [False, True, False] cb_iter = script_utils.CallbackIterator(source, callback, min_interval=30) results = [cb_iter.read(1) for i in range(len(items))] self.assertEqual(items, results) # The timer only fired once while reading, so we only expect # one callback. callback.assert_has_calls([mock.call(2, 2)]) cb_iter.close() # If we close with residue since the last callback, we should # call the callback with that. callback.assert_has_calls([mock.call(2, 2), mock.call(1, 3)])",,317,8
openstack%2Fmetalsmith~master~I02407547154d8d6084fa30c5fe164c5b6a060043,openstack/metalsmith,master,I02407547154d8d6084fa30c5fe164c5b6a060043,Move metalsmith_instances from tripleo-ansible,MERGED,2020-06-24 23:13:54.000000000,2020-08-27 22:18:11.000000000,2020-08-25 11:38:50.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-24 23:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/d99aec47965c3710651e1753ed3d0694c52b3895', 'message': 'WIP Move metalsmith_instances from tripleo-ansible\n\nMarked as WIP because the reviews for the next change in this series\nmight result in changes to metalsmith_instances, and if the changes\nare large it might be better to do them in tripleo-ansible before\nmoving the module.\n\nChange-Id: I02407547154d8d6084fa30c5fe164c5b6a060043\n'}, {'number': 2, 'created': '2020-06-25 03:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b7e8e5054ce0ed814f7648b954415e521f3199ee', 'message': 'WIP Move metalsmith_instances from tripleo-ansible\n\nMarked as WIP because the reviews for the next change in this series\nmight result in changes to metalsmith_instances, and if the changes\nare large it might be better to do them in tripleo-ansible before\nmoving the module.\n\nChange-Id: I02407547154d8d6084fa30c5fe164c5b6a060043\n'}, {'number': 3, 'created': '2020-06-25 23:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f5bd0cd140763bf5bbd617b220600e96cac5a6c1', 'message': 'WIP Move metalsmith_instances from tripleo-ansible\n\nMarked as WIP because the reviews for the next change in this series\nmight result in changes to metalsmith_instances, and if the changes\nare large it might be better to do them in tripleo-ansible before\nmoving the module.\n\nChange-Id: I02407547154d8d6084fa30c5fe164c5b6a060043\n'}, {'number': 4, 'created': '2020-06-28 22:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/473c801532621a1fc69d9c845853e0d02dfecda8', 'message': 'Move metalsmith_instances from tripleo-ansible\n\nChange-Id: I02407547154d8d6084fa30c5fe164c5b6a060043\n'}, {'number': 5, 'created': '2020-07-01 01:38:40.000000000', 'files': ['test-requirements.txt', 'metalsmith/test/test_metalsmith_instances.py', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/62b8b1d8b9697248d4a3368e921b9ee67b73fd0c', 'message': 'Move metalsmith_instances from tripleo-ansible\n\nChange-Id: I02407547154d8d6084fa30c5fe164c5b6a060043\n'}]",18,737887,62b8b1d8b9697248d4a3368e921b9ee67b73fd0c,18,3,5,4571,,,0,"Move metalsmith_instances from tripleo-ansible

Change-Id: I02407547154d8d6084fa30c5fe164c5b6a060043
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/87/737887/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'metalsmith/test/test_metalsmith_instances.py', 'metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py', 'lower-constraints.txt', 'setup.cfg']",5,d99aec47965c3710651e1753ed3d0694c52b3895,metalsmith_instances, share/ansible/plugins/ = metalsmith_ansible/ansible_plugins/*,,623,0
openstack%2Fovn-octavia-provider~master~I82eb9d80cca5944b97b1791b65547a8fb2a98c99,openstack/ovn-octavia-provider,master,I82eb9d80cca5944b97b1791b65547a8fb2a98c99,WIP: Include functional tests in coverage results,ABANDONED,2020-03-19 22:00:38.000000000,2020-08-27 22:07:30.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 22:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/70615ac06f05f3bf6918181b73149249f26958a9', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 2, 'created': '2020-04-08 22:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f718aa85766c8b02d804cab274ff5e580d8396c4', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 3, 'created': '2020-04-20 13:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/92b74212a7f6c87c4e0d12fc68b61727ea1e2428', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 4, 'created': '2020-04-27 18:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6fc91411c01a9c07b626156804a4181e6a2ed726', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 5, 'created': '2020-04-28 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b958bdf6823106443c2c10b218c70df03bcced8b', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 6, 'created': '2020-05-04 21:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9f36ad370f547a92b77c45c7e5ee077a1fc738f1', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 7, 'created': '2020-05-05 19:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/44f19ccf4290d67abd50c5653d6a4c8a2de08dc4', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 8, 'created': '2020-05-05 19:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6f7eafd4903248815a709f04d06fcac024958291', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 9, 'created': '2020-05-08 19:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5e8aca38e517c3f3d186883b3230f6bc79e2bc20', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}, {'number': 10, 'created': '2020-05-08 21:16:05.000000000', 'files': ['ovn_octavia_provider/tests/functional/schemas/ovn-nb.ovsschema', 'requirements.txt', 'ovn_octavia_provider/tests/functional/schemas/ovn-sb.ovsschema', 'test-requirements.txt', 'ovn_octavia_provider/tests/functional/test_driver.py', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5a3827cc160fc083f1b1d0371425faf90ce03f06', 'message': 'WIP: Include functional tests in coverage results\n\nWithout functional tests, coverage numbers are artificially\nlow, this should increase them.\n\nChange-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99\n'}]",0,713996,5a3827cc160fc083f1b1d0371425faf90ce03f06,22,2,10,1131,,,0,"WIP: Include functional tests in coverage results

Without functional tests, coverage numbers are artificially
low, this should increase them.

Change-Id: I82eb9d80cca5944b97b1791b65547a8fb2a98c99
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/96/713996/10 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,70615ac06f05f3bf6918181b73149249f26958a9,cover-func, OS_TEST_PATH={toxinidir}/ovn_octavia_provider/tests/functional sh -c 'OS_TEST_PATH={toxinidir}/ovn_octavia_provider/tests/unit stestr run --no-subunit-trace {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/ovn_octavia_provider/tests/functional stestr run --no-subunit-trace {posargs}', OS_TEST_PATH=./ovn_octavia_provider/tests/functional stestr run --no-subunit-trace {posargs},6,6
openstack%2Fnova~master~Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c,openstack/nova,master,Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c,Add type hints to 'nova.compute.manager',MERGED,2020-07-24 11:52:54.000000000,2020-08-27 21:40:52.000000000,2020-08-26 19:22:14.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d487865bbee788a5063302b9ef9c68f8071e4b4', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d63fa1ee9fa9b687dfa7454f1a4bbee7f6de3f7', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33d7352510b92c849e26339750ec31403b105c2b', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66df7250782448d7d6db986ed9d5c3f94155c074', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4bddfda449ca04c9a5e0ea677e5fc06b49a9ef8', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-08-17 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccf617ccb5d2363f75893b1fc0218877872a8a73', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-08-24 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ac52a055117724cd68c3e54d3db02e38ef671cb', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-08-25 17:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dbd533409f1a8471bab900ca638f8369555dad2', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-08-26 08:46:11.000000000', 'files': ['mypy-files.txt', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/953b49ee1211d285c9b4cb0cc7827c740362f77f', 'message': ""Add type hints to 'nova.compute.manager'\n\nAs with previous changes, we're going to be doing some surgery to this\nfile shortly so enable type hints now. These are *super* incomplete but\nat least we have a starting point.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",21,742863,953b49ee1211d285c9b4cb0cc7827c740362f77f,107,15,9,15334,,,0,"Add type hints to 'nova.compute.manager'

As with previous changes, we're going to be doing some surgery to this
file shortly so enable type hints now. These are *super* incomplete but
at least we have a starting point.

Part of blueprint add-emulated-virtual-tpm

Change-Id: Iee44ea525deb0b43ae43df3ba08c95ea8a4e317c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/742863/8 && git format-patch -1 --stdout FETCH_HEAD,"['mypy-files.txt', 'nova/compute/manager.py']",2,4d487865bbee788a5063302b9ef9c68f8071e4b4,bp/add-emulated-virtual-tpm,"import typing as ty# Each collection of events is a dict of eventlet Events keyed by a tuple of # event name and associated tag _InstanceEvents = ty.Dict[ty.Tuple[str, str], eventlet.event.Event] self._events: ty.Optional[ty.Dict[str, _InstanceEvents]] = {} def _lock_name(instance) -> str: def prepare_for_instance_event( self, instance: 'objects.Instance', name: str, tag: str, ) -> eventlet.event.Event: if self._events is None: # NOTE(danms): We really should have a more specific error # here, but this is what we use for our default error case raise exception.NovaException( 'In shutdown, no new events can be scheduled') LOG.debug( 'No event matching %(event)s in %(events)s', { 'event': event.key, # mypy can't identify the none check in _pop_event 'events': self._events.get( # type: ignore instance.uuid, {}).keys(), }, instance=instance, ) early_events = set([]) self._last_bw_usage_poll = 0.0 ephemerals = [ x for x in block_devices if block_device.new_format_is_ephemeral(x) ] swap = [x for x in block_devices if block_device.new_format_is_swap(x)] block_device_mapping = [ x for x in block_devices if driver_block_device.is_block_device_mapping(x) ] except (exception.NovaException, eventlet.timeout.Timeout) as exc:"," self._events = {} def _lock_name(instance): def prepare_for_instance_event(self, instance, name, tag): if self._events is None: # NOTE(danms): We really should have a more specific error # here, but this is what we use for our default error case raise exception.NovaException('In shutdown, no new events ' 'can be scheduled') LOG.debug('No event matching %(event)s in %(events)s', {'event': event.key, 'events': self._events.get(instance.uuid, {}).keys()}, instance=instance) early_events = [] self._last_bw_usage_poll = 0 ephemerals = list(filter(block_device.new_format_is_ephemeral, block_devices)) swap = list(filter(block_device.new_format_is_swap, block_devices)) block_device_mapping = list(filter( driver_block_device.is_block_device_mapping, block_devices)) except (Exception, eventlet.timeout.Timeout) as exc:",42,22
openstack%2Fpbr~master~I3840d9fccb1f87be5c2c03470e156559c01b7cd6,openstack/pbr,master,I3840d9fccb1f87be5c2c03470e156559c01b7cd6,Remove bdist_wininst support,MERGED,2020-06-14 00:07:20.000000000,2020-08-27 21:27:40.000000000,2020-08-27 21:25:49.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-14 00:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/53c909c83f9d7f9f11ef6a4d296c220679d40fcc', 'message': ""Remove bdist_wininst support\n\nOdds are this was never used, but as of Python 3.8 and Setuptools\n47.2 it's deprecated in favor of just using wheels for Windows\nplatform packaging anyway.\n\nhttps://discuss.python.org/t/deprecate-bdist-wininst/\nhttps://discuss.python.org/t/remove-distutils-bdist-wininst-command/\n\nChange-Id: I3840d9fccb1f87be5c2c03470e156559c01b7cd6\n""}, {'number': 2, 'created': '2020-08-06 08:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/339132be779e4d9cd7551b0693ffdf4b5724c540', 'message': ""Remove bdist_wininst support\n\nOdds are this was never used, but as of Python 3.8 and Setuptools\n47.2 it's deprecated in favor of just using wheels for Windows\nplatform packaging anyway.\n\nhttps://discuss.python.org/t/deprecate-bdist-wininst/\nhttps://discuss.python.org/t/remove-distutils-bdist-wininst-command/\n\nChange-Id: I3840d9fccb1f87be5c2c03470e156559c01b7cd6\n""}, {'number': 3, 'created': '2020-08-06 15:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/63665efc8d1c7ab12feb50b287db8fd72773fba5', 'message': ""Remove bdist_wininst support\n\nOdds are this was never used, but as of Python 3.8 and Setuptools\n47.2 it's deprecated in favor of just using wheels for Windows\nplatform packaging anyway.\n\nhttps://discuss.python.org/t/deprecate-bdist-wininst/\nhttps://discuss.python.org/t/remove-distutils-bdist-wininst-command/\n\nChange-Id: I3840d9fccb1f87be5c2c03470e156559c01b7cd6\n""}, {'number': 4, 'created': '2020-08-27 17:02:13.000000000', 'files': ['pbr/packaging.py', 'releasenotes/notes/bdist_wininst-removal-4a1c7c3a9f08238d.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/e52e608e35938da27dd9ec7209e4fa858ed8adb6', 'message': ""Remove bdist_wininst support\n\nOdds are this was never used, but as of Python 3.8 and Setuptools\n47.2 it's deprecated in favor of just using wheels for Windows\nplatform packaging anyway.\n\nhttps://discuss.python.org/t/deprecate-bdist-wininst/\nhttps://discuss.python.org/t/remove-distutils-bdist-wininst-command/\n\nChange-Id: I3840d9fccb1f87be5c2c03470e156559c01b7cd6\n""}]",1,735443,e52e608e35938da27dd9ec7209e4fa858ed8adb6,22,5,4,5263,,,0,"Remove bdist_wininst support

Odds are this was never used, but as of Python 3.8 and Setuptools
47.2 it's deprecated in favor of just using wheels for Windows
platform packaging anyway.

https://discuss.python.org/t/deprecate-bdist-wininst/
https://discuss.python.org/t/remove-distutils-bdist-wininst-command/

Change-Id: I3840d9fccb1f87be5c2c03470e156559c01b7cd6
",git fetch https://review.opendev.org/openstack/pbr refs/changes/43/735443/2 && git format-patch -1 --stdout FETCH_HEAD,['pbr/packaging.py'],1,53c909c83f9d7f9f11ef6a4d296c220679d40fcc,bdist_wininst," dist, executable=os.path.normpath(sys.executable)): header = easy_install.get_script_header("""", executable) def _make_wsgi_scripts_only(self, dist, executable): header = easy_install.get_script_header("""", executable) self._make_wsgi_scripts_only(dist, executable) for args in get_script_args(dist, executable):"," dist, executable=os.path.normpath(sys.executable), is_wininst=False): header = easy_install.get_script_header("""", executable, is_wininst) def _make_wsgi_scripts_only(self, dist, executable, is_wininst): header = easy_install.get_script_header("""", executable, is_wininst) is_wininst = getattr( self.get_finalized_command(""bdist_wininst""), '_is_running', False ) self._make_wsgi_scripts_only(dist, executable, is_wininst) for args in get_script_args(dist, executable, is_wininst):",6,10
openstack%2Fcinder~master~Ida2b025eb34e6745dd5f37fbd20b74e1c96f3ca7,openstack/cinder,master,Ida2b025eb34e6745dd5f37fbd20b74e1c96f3ca7,Mark Active-Active mode as supported,MERGED,2020-07-16 09:37:18.000000000,2020-08-27 21:00:38.000000000,2020-08-26 15:27:35.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32029}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-16 09:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/501ce5a542cfabec1e52d80fd33ee86821756759', 'message': ""Mark Active-Active mode as supported\n\nSince we've got multinode job with Active/Active HA configured we can\nremove 'unsupported' message from the 'cluster' config option.\n\nChange-Id: Ida2b025eb34e6745dd5f37fbd20b74e1c96f3ca7\n""}, {'number': 2, 'created': '2020-07-22 07:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd82566f0fcda144c6c43c32d9e9d5498cd9cc3d', 'message': ""Mark Active-Active mode as supported\n\nSince we've got multinode job with Active/Active HA configured we can\nremove 'unsupported' message from the 'cluster' config option.\n\nChange-Id: Ida2b025eb34e6745dd5f37fbd20b74e1c96f3ca7\n""}, {'number': 3, 'created': '2020-08-26 07:59:45.000000000', 'files': ['cinder/cmd/volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbf1230db52731c1af10c5b418c61894e6874dda', 'message': ""Mark Active-Active mode as supported\n\nSince we've got multinode job with Active/Active HA configured we can\nremove 'unsupported' message from the 'cluster' config option.\n\nChange-Id: Ida2b025eb34e6745dd5f37fbd20b74e1c96f3ca7\n""}]",0,741412,fbf1230db52731c1af10c5b418c61894e6874dda,126,38,3,1736,,,0,"Mark Active-Active mode as supported

Since we've got multinode job with Active/Active HA configured we can
remove 'unsupported' message from the 'cluster' config option.

Change-Id: Ida2b025eb34e6745dd5f37fbd20b74e1c96f3ca7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/741412/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/volume.py'],1,501ce5a542cfabec1e52d80fd33ee86821756759,a-a-support, 'mode.'),# TODO(geguileo): Once we complete the work on A-A update the option's help. 'mode. Active-Active is not yet supported.'),1,2
openstack%2Fopenstack-helm-images~master~Ifcbb030e3f527bd740da9e2771838a69b5d7b26c,openstack/openstack-helm-images,master,Ifcbb030e3f527bd740da9e2771838a69b5d7b26c,Fix openstack-exporter not supporting TLS,MERGED,2020-08-27 19:22:06.000000000,2020-08-27 20:57:53.000000000,2020-08-27 20:55:27.000000000,"[{'_account_id': 8863}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-08-27 19:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0c620adf0729daf50fe77ad75d56237efb1504b1', 'message': 'Fix openstack-exporter not supporting TLS\n\nThis change adds in the arguements for having the\nprometheus-openstack-exporter support making request calls\nwith a given certificate.\n\nChange-Id: Ifcbb030e3f527bd740da9e2771838a69b5d7b26c\n'}, {'number': 2, 'created': '2020-08-27 19:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9d8d4d1c43884d3573de2dc2e59ed11ae471f3ad', 'message': 'Fix openstack-exporter not supporting TLS\n\nThis change adds in the arguements for having the\nprometheus-openstack-exporter support making request calls\nwith a given certificate.\n\nChange-Id: Ifcbb030e3f527bd740da9e2771838a69b5d7b26c\n'}, {'number': 3, 'created': '2020-08-27 19:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f396e004c89d5a2573ec5b9ba79d926a485a0ccf', 'message': 'Fix openstack-exporter not supporting TLS\n\nThis change adds in the arguements for having the\nprometheus-openstack-exporter support making request calls\nwith a given certificate.\n\nChange-Id: Ifcbb030e3f527bd740da9e2771838a69b5d7b26c\n'}, {'number': 4, 'created': '2020-08-27 19:53:29.000000000', 'files': ['prometheus-openstack-exporter/exporter/osclient.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7297019b648abbd4e95ea44e76c5318b86e4000d', 'message': 'Fix openstack-exporter not supporting TLS\n\nThis change adds in the arguements for having the\nprometheus-openstack-exporter support making request calls\nwith a given certificate.\n\nChange-Id: Ifcbb030e3f527bd740da9e2771838a69b5d7b26c\n'}]",0,748521,7297019b648abbd4e95ea44e76c5318b86e4000d,17,5,4,21420,,,0,"Fix openstack-exporter not supporting TLS

This change adds in the arguements for having the
prometheus-openstack-exporter support making request calls
with a given certificate.

Change-Id: Ifcbb030e3f527bd740da9e2771838a69b5d7b26c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/21/748521/4 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-openstack-exporter/exporter/osclient.py'],1,0c620adf0729daf50fe77ad75d56237efb1504b1,osexporter-tls, if self.verify: kwargs['verify'] = self.verify ,,2,0
openstack%2Fmetalsmith~master~I8694810554b2e09de31786f7e1dd1cbbfa0e8f60,openstack/metalsmith,master,I8694810554b2e09de31786f7e1dd1cbbfa0e8f60,Capture metalsmith python logging,MERGED,2020-08-25 21:18:04.000000000,2020-08-27 20:23:00.000000000,2020-08-27 20:21:40.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 21:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b841724dd964ff1481e6dec9b035dffc866961c3', 'message': ""Capture metalsmith python logging\n\nThe metalsmith_instances module calls into metalsmith and there is\ncurrently no logging mechanism to see what is happening. This change\nis an attempt to improve this by configuring logging and adding the\noutput to the result dict as 'logging'.\n\nThis change is identical to tripleo-ansible change\nhttps://review.opendev.org/#/c/740606/ so that there is no regression\nwhen tripleo-ansible deletes its copy.\n\nChange-Id: I8694810554b2e09de31786f7e1dd1cbbfa0e8f60\nRelated-Bug: #1879472\n""}, {'number': 2, 'created': '2020-08-25 21:40:13.000000000', 'files': ['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/f0888f7557ec4367a22132688e9374b6ca1afccf', 'message': ""Capture metalsmith python logging\n\nThe metalsmith_instances module calls into metalsmith and there is\ncurrently no logging mechanism to see what is happening. This change\nis an attempt to improve this by configuring logging and adding the\noutput to the result dict as 'logging'.\n\nThis change is identical to tripleo-ansible change\nhttps://review.opendev.org/#/c/740606/ so that there is no regression\nwhen tripleo-ansible deletes its copy.\n\nChange-Id: I8694810554b2e09de31786f7e1dd1cbbfa0e8f60\nRelated-Bug: #1879472\n""}]",0,748031,f0888f7557ec4367a22132688e9374b6ca1afccf,10,4,2,4571,,,0,"Capture metalsmith python logging

The metalsmith_instances module calls into metalsmith and there is
currently no logging mechanism to see what is happening. This change
is an attempt to improve this by configuring logging and adding the
output to the result dict as 'logging'.

This change is identical to tripleo-ansible change
https://review.opendev.org/#/c/740606/ so that there is no regression
when tripleo-ansible deletes its copy.

Change-Id: I8694810554b2e09de31786f7e1dd1cbbfa0e8f60
Related-Bug: #1879472
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/31/748031/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith_ansible/ansible_plugins/modules/metalsmith_instances.py'],1,b841724dd964ff1481e6dec9b035dffc866961c3,metalsmith_instances,"import io import logging log_level: description: - Set the logging level for the log which is available in the returned 'logging' result. default: info choices: - debug - info - warning - errorMETALSMITH_LOG_MAP = { 'debug': logging.DEBUG, 'info': logging.INFO, 'warning': logging.WARNING, 'error': logging.ERROR } BASE_LOG_MAP = { 'debug': logging.INFO, 'info': logging.WARNING, 'warning': logging.WARNING, 'error': logging.ERROR } def _configure_logging(log_level): log_fmt = ('%(asctime)s %(levelname)s %(name)s: %(message)s') urllib_level = logging.CRITICAL base_level = BASE_LOG_MAP[log_level] metalsmith_level = METALSMITH_LOG_MAP[log_level] logging.basicConfig(level=base_level, format=log_fmt) logging.getLogger('urllib3.connectionpool').setLevel(urllib_level) logger = logging.getLogger('metalsmith') logger.setLevel(metalsmith_level) log_stream = io.StringIO() logger.addHandler(logging.StreamHandler(log_stream)) return log_stream log_stream = _configure_logging(module.params['log_level']) try: sdk, cloud = openstack_cloud_from_module(module) provisioner = metalsmith.Provisioner(cloud_region=cloud.config) instances = module.params['instances'] state = module.params['state'] concurrency = module.params['concurrency'] timeout = module.params['timeout'] wait = module.params['wait'] clean_up = module.params['clean_up'] if state == 'present': changed, nodes = provision(provisioner, instances, timeout, concurrency, clean_up, wait) instances = [{ 'name': i.node.name or i.uuid, 'hostname': i.hostname, 'id': i.uuid, } for i in nodes] module.exit_json( changed=changed, msg=""{} instances provisioned"".format(len(nodes)), instances=instances, logging=log_stream.getvalue() ) if state == 'reserved': changed, nodes = reserve(provisioner, instances, clean_up) module.exit_json( changed=changed, msg=""{} instances reserved"".format(len(nodes)), ids=[node.id for node in nodes], instances=instances, logging=log_stream.getvalue() ) if state == 'absent': changed = unprovision(provisioner, instances) module.exit_json( changed=changed, msg=""{} nodes unprovisioned"".format(len(instances)), logging=log_stream.getvalue() ) except Exception as e: module.fail_json( msg=str(e), logging=log_stream.getvalue()"," sdk, cloud = openstack_cloud_from_module(module) provisioner = metalsmith.Provisioner(cloud_region=cloud.config) instances = module.params['instances'] state = module.params['state'] concurrency = module.params['concurrency'] timeout = module.params['timeout'] wait = module.params['wait'] clean_up = module.params['clean_up'] if state == 'present': changed, nodes = provision(provisioner, instances, timeout, concurrency, clean_up, wait) instances = [{ 'name': i.node.name or i.uuid, 'hostname': i.hostname, 'id': i.uuid, } for i in nodes] module.exit_json( changed=changed, msg=""{} instances provisioned"".format(len(nodes)), instances=instances, ) if state == 'reserved': changed, nodes = reserve(provisioner, instances, clean_up) module.exit_json( changed=changed, msg=""{} instances reserved"".format(len(nodes)), ids=[node.id for node in nodes], instances=instances ) if state == 'absent': changed = unprovision(provisioner, instances) module.exit_json( changed=changed, msg=""{} nodes unprovisioned"".format(len(instances))",89,35
openstack%2Fnova~master~I27baad7bb400cb2eaba8915fc8b49e97457682d7,openstack/nova,master,I27baad7bb400cb2eaba8915fc8b49e97457682d7,WIP Add option to sync instance power states during shutdown,ABANDONED,2020-07-29 21:37:18.000000000,2020-08-27 20:22:34.000000000,,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-29 21:37:18.000000000', 'files': ['nova/conf/compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cddda8725d4f96f01dbb24bebb594f15c807cb0', 'message': 'WIP Add option to sync instance power states during shutdown\n\nJust seeing if this would work at all.\n\nTODO: add tests if it works\n\nChange-Id: I27baad7bb400cb2eaba8915fc8b49e97457682d7\n'}]",4,743848,7cddda8725d4f96f01dbb24bebb594f15c807cb0,20,14,1,4690,,,0,"WIP Add option to sync instance power states during shutdown

Just seeing if this would work at all.

TODO: add tests if it works

Change-Id: I27baad7bb400cb2eaba8915fc8b49e97457682d7
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/743848/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/compute/manager.py']",2,7cddda8725d4f96f01dbb24bebb594f15c807cb0,sync-powerstates-on-shutdown," if CONF.compute.sync_power_state_during_shutdown: self._sync_power_states(nova.context.get_admin_context()) def _wait_for_syncs(): if not self._syncs_in_progress: raise loopingcall.LoopingCallDone() timer = loopingcall.FixedIntervalLoopingCall( _wait_for_syncs, timeout=CONF.sync_power_state_during_shutdown_timeout) try: timer.start(interval=0.5).wait() except loopingcall.LoopingCallTimeout: LOG.info('Syncing of instance power states failed to complete ' 'within %s seconds. Proceeding to shutdown.', CONF.sync_power_state_during_shutdown_timeout)",,73,1
openstack%2Foslo.policy~master~Icc245951b2992cc09a891516ffd14f3d4c009920,openstack/oslo.policy,master,Icc245951b2992cc09a891516ffd14f3d4c009920,Add oslopolicy-convert-json-to-yaml tool,MERGED,2020-08-26 00:40:52.000000000,2020-08-27 20:14:06.000000000,2020-08-27 20:11:42.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 00:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/8f570da7ffc379fc9bb1219b0451af24eb91c332', 'message': ""Add oslopolicy-convert-json-to-yaml tool\n\nAdd ``oslopolicy-convert-json-to-yaml`` tool which can be\nused to convert the json formatted policy file to yaml format.\nIt takes json formatted policy file as input and convert it to\na yaml formatted policy file similar to 'oslopolicy-sample-generator'\ntool except keeping the overridden rule as uncommented.\n\nThis tooloes the following:\n\n* Comment out any rules that match the default from policy-in-code.\n* Keep rules uncommented if rule is overridden.\n* Does not auto add the deprecated rules in the file unless it not already\n  present in the file.\n* Keep any extra rules or already exist deprecated rules uncommented\n  but at the end of the file with a warning text.\n\nThis commits add doc and reno also for this tool\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: Icc245951b2992cc09a891516ffd14f3d4c009920\n""}, {'number': 2, 'created': '2020-08-26 13:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/2f9ec7a6b9b46b2641170c29925c46fcc194c914', 'message': ""Add oslopolicy-convert-json-to-yaml tool\n\nAdd ``oslopolicy-convert-json-to-yaml`` tool which can be\nused to convert the json formatted policy file to yaml format.\nIt takes json formatted policy file as input and convert it to\na yaml formatted policy file similar to 'oslopolicy-sample-generator'\ntool except keeping the overridden rule as uncommented.\n\nThis tooloes the following:\n\n* Comment out any rules that match the default from policy-in-code.\n* Keep rules uncommented if rule is overridden.\n* Does not auto add the deprecated rules in the file unless it not already\n  present in the file.\n* Keep any extra rules or already exist deprecated rules uncommented\n  but at the end of the file with a warning text.\n\nThis commits add doc and reno also for this tool\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: Icc245951b2992cc09a891516ffd14f3d4c009920\n""}, {'number': 3, 'created': '2020-08-26 17:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/86f05627da821206fb0859dbd957b66dc9a43df1', 'message': ""Add oslopolicy-convert-json-to-yaml tool\n\nAdd ``oslopolicy-convert-json-to-yaml`` tool which can be\nused to convert the json formatted policy file to yaml format.\nIt takes json formatted policy file as input and convert it to\na yaml formatted policy file similar to 'oslopolicy-sample-generator'\ntool except keeping the overridden rule as uncommented.\n\nThis tool does the following:\n\n* Comment out any rules that match the default from policy-in-code.\n* Keep rules uncommented if rule is overridden.\n* Does not auto add the deprecated rules in the file unless it not already\n  present in the file.\n* Keep any extra rules or already exist deprecated rules uncommented\n  but at the end of the file with a warning text.\n\nI did not add the new functionality in existing 'oslopolicy-policy-upgrade'\ntool because the above listed features of new tool end up creating a\ncomplete different code path instead of reusing it from existing tool so it\nbetter to have separate tool which can be removed in future once all deployments\nare migrated to YAML formatted file.\n\nThis commits add doc and reno also for this tool\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: Icc245951b2992cc09a891516ffd14f3d4c009920\n""}, {'number': 4, 'created': '2020-08-27 16:33:32.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'releasenotes/notes/add-policy-convert-json-to-yaml-tool-3c93604aee79f58a.yaml', 'doc/source/cli/common/convert-opts.rst', 'oslo_policy/generator.py', 'doc/source/cli/index.rst', 'doc/source/cli/oslopolicy-convert-json-to-yaml.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/e40632bb4b1783599aecc01ddcba363930811790', 'message': ""Add oslopolicy-convert-json-to-yaml tool\n\nAdd ``oslopolicy-convert-json-to-yaml`` tool which can be\nused to convert the json formatted policy file to yaml format.\nIt takes json formatted policy file as input and convert it to\na yaml formatted policy file similar to 'oslopolicy-sample-generator'\ntool except keeping the overridden rule as uncommented.\n\nThis tool does the following:\n\n* Comment out any rules that match the default from policy-in-code.\n* Keep rules uncommented if rule is overridden.\n* Does not auto add the deprecated rules in the file unless it not already\n  present in the file.\n* Keep any extra rules or already exist deprecated rules uncommented\n  but at the end of the file with a warning text.\n\nI did not add the new functionality in existing 'oslopolicy-policy-upgrade'\ntool because the above listed features of new tool end up creating a\ncomplete different code path instead of reusing it from existing tool so it\nbetter to have separate tool which can be removed in future once all deployments\nare migrated to YAML formatted file.\n\nThis commits add doc and reno also for this tool\n\nPartial implement blueprint policy-json-to-yaml\n\nChange-Id: Icc245951b2992cc09a891516ffd14f3d4c009920\n""}]",30,748055,e40632bb4b1783599aecc01ddcba363930811790,22,4,4,8556,,,0,"Add oslopolicy-convert-json-to-yaml tool

Add ``oslopolicy-convert-json-to-yaml`` tool which can be
used to convert the json formatted policy file to yaml format.
It takes json formatted policy file as input and convert it to
a yaml formatted policy file similar to 'oslopolicy-sample-generator'
tool except keeping the overridden rule as uncommented.

This tool does the following:

* Comment out any rules that match the default from policy-in-code.
* Keep rules uncommented if rule is overridden.
* Does not auto add the deprecated rules in the file unless it not already
  present in the file.
* Keep any extra rules or already exist deprecated rules uncommented
  but at the end of the file with a warning text.

I did not add the new functionality in existing 'oslopolicy-policy-upgrade'
tool because the above listed features of new tool end up creating a
complete different code path instead of reusing it from existing tool so it
better to have separate tool which can be removed in future once all deployments
are migrated to YAML formatted file.

This commits add doc and reno also for this tool

Partial implement blueprint policy-json-to-yaml

Change-Id: Icc245951b2992cc09a891516ffd14f3d4c009920
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/55/748055/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/tests/test_generator.py', 'releasenotes/notes/add-policy-convert-json-to-yaml-tool-3c93604aee79f58a.yaml', 'doc/source/cli/common/convert-opts.rst', 'oslo_policy/generator.py', 'doc/source/cli/index.rst', 'doc/source/cli/oslopolicy-convert-json-to-yaml.rst', 'setup.cfg']",7,8f570da7ffc379fc9bb1219b0451af24eb91c332,bp/policy-json-to-yaml, oslopolicy-convert-json-to-yaml = oslo_policy.generator:convert_policy_json_to_yaml,,346,5
openstack%2Ftripleo-common~stable%2Ftrain~I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887,openstack/tripleo-common,stable/train,I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887,First pass at script cleanup,MERGED,2020-08-17 15:13:23.000000000,2020-08-27 19:59:54.000000000,2020-08-27 19:58:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 15:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04e41b91f9216ef381ea0375e9783d84bfa834a8', 'message': 'First pass at script cleanup\n\nThis change removes bits from our imported scripts that are irrelevant\nfor a TripleO environment. All of the sudoers implementations have been\nmoved into files which are copied into containers. This move will unify\nhow we deploy privledge escallations.\n\nThe kolla user will now be able to execute any kolla* command which\nshould allow us to generally simplify how we handle sudoers across\nour container base.\n\nStory: 2007780\nTask: 40014\nChange-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)\n'}, {'number': 2, 'created': '2020-08-18 12:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55b306cdad43c4cbc8c5b07e1c4a376841d59379', 'message': 'First pass at script cleanup\n\nThis change removes bits from our imported scripts that are irrelevant\nfor a TripleO environment. All of the sudoers implementations have been\nmoved into files which are copied into containers. This move will unify\nhow we deploy privledge escallations.\n\nThe kolla user will now be able to execute any kolla* command which\nshould allow us to generally simplify how we handle sudoers across\nour container base.\n\nStory: 2007780\nTask: 40014\nChange-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)\n'}, {'number': 3, 'created': '2020-08-19 21:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7b5b9f4a80782ac09a39832305350366a788191a', 'message': 'First pass at script cleanup\n\nThis change removes bits from our imported scripts that are irrelevant\nfor a TripleO environment. All of the sudoers implementations have been\nmoved into files which are copied into containers. This move will unify\nhow we deploy privledge escallations.\n\nThe kolla user will now be able to execute any kolla* command which\nshould allow us to generally simplify how we handle sudoers across\nour container base.\n\nStory: 2007780\nTask: 40014\nChange-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)\n'}, {'number': 4, 'created': '2020-08-20 21:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/796580121b0aa6aaab74a900a7b374e2d321e2d3', 'message': 'First pass at script cleanup\n\nThis change removes bits from our imported scripts that are irrelevant\nfor a TripleO environment. All of the sudoers implementations have been\nmoved into files which are copied into containers. This move will unify\nhow we deploy privledge escallations.\n\nThe kolla user will now be able to execute any kolla* command which\nshould allow us to generally simplify how we handle sudoers across\nour container base.\n\nStory: 2007780\nTask: 40014\nChange-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)\n'}, {'number': 5, 'created': '2020-08-25 15:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a555fbcd0c7c7840c140921614a441789bb7730', 'message': 'First pass at script cleanup\n\nThis change removes bits from our imported scripts that are irrelevant\nfor a TripleO environment. All of the sudoers implementations have been\nmoved into files which are copied into containers. This move will unify\nhow we deploy privledge escallations.\n\nThe kolla user will now be able to execute any kolla* command which\nshould allow us to generally simplify how we handle sudoers across\nour container base.\n\nStory: 2007780\nTask: 40014\nChange-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)\n'}, {'number': 6, 'created': '2020-08-27 13:00:59.000000000', 'files': ['container-images/kolla/base/httpd_setup.sh', 'container-images/kolla/horizon/extend_start.sh', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/kolla/barbican-base/sudoers', 'container-images/kolla/neutron-base/neutron_sudoers', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/kolla/base/sudoers'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/844f1d56c5b2fce55eca97c34c1c7d83825876e2', 'message': 'First pass at script cleanup\n\nThis change removes bits from our imported scripts that are irrelevant\nfor a TripleO environment. All of the sudoers implementations have been\nmoved into files which are copied into containers. This move will unify\nhow we deploy privledge escallations.\n\nThe kolla user will now be able to execute any kolla* command which\nshould allow us to generally simplify how we handle sudoers across\nour container base.\n\nStory: 2007780\nTask: 40014\nChange-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)\n'}]",0,746543,844f1d56c5b2fce55eca97c34c1c7d83825876e2,44,5,6,3153,,,0,"First pass at script cleanup

This change removes bits from our imported scripts that are irrelevant
for a TripleO environment. All of the sudoers implementations have been
moved into files which are copied into containers. This move will unify
how we deploy privledge escallations.

The kolla user will now be able to execute any kolla* command which
should allow us to generally simplify how we handle sudoers across
our container base.

Story: 2007780
Task: 40014
Change-Id: I2e0b98d9f60e3c862e9db3f7d87f09b5bd3a0887
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 9190a3d0001bed39a12f097750bef90d5015a42c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/746543/5 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/base/httpd_setup.sh', 'container-images/kolla/horizon/extend_start.sh', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/kolla/barbican-base/sudoers', 'container-images/kolla/neutron-base/neutron_sudoers', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/kolla/base/sudoers']",7,04e41b91f9216ef381ea0375e9783d84bfa834a8,cleanup,%kolla ALL=(root) NOPASSWD: /usr/local/bin/kolla*,%kolla ALL=(root) NOPASSWD: /usr/local/bin/kolla_set_configs,7,7
openstack%2Fglance_store~master~I4d2ad70c6c72e36fe3a7c359585235d7318e70fb,openstack/glance_store,master,I4d2ad70c6c72e36fe3a7c359585235d7318e70fb,Add find_backend_for_url(),NEW,2018-11-20 01:58:57.000000000,2020-08-27 19:51:22.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28595}]","[{'number': 1, 'created': '2018-11-20 01:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/142ed77b017337624ae319c30197d242490e1bd8', 'message': 'WIP: Add find_backend_for_url()\n\nAdds a find_backend_for_url() to multi_backend, which returns\nthe first enabled backend that claims to be capable of handing\na given location URL.\n\nWIP - for discussion, and need to add unit tests.\n\nChange-Id: I4d2ad70c6c72e36fe3a7c359585235d7318e70fb\nRelated-Bug: #1802587\n'}, {'number': 2, 'created': '2018-11-21 20:22:57.000000000', 'files': ['glance_store/multi_backend.py', 'glance_store/tests/unit/test_multistore.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bf54b0e42f68507e2bb8bbc9294859a657034015', 'message': 'Add find_backend_for_url()\n\nAdds a find_backend_for_url() to multi_backend, which returns\nthe first enabled backend that claims to be capable of handing\na given location URL.\n\nChange-Id: I4d2ad70c6c72e36fe3a7c359585235d7318e70fb\nRelated-Bug: #1802587\n'}]",3,618932,bf54b0e42f68507e2bb8bbc9294859a657034015,8,4,2,23561,,,0,"Add find_backend_for_url()

Adds a find_backend_for_url() to multi_backend, which returns
the first enabled backend that claims to be capable of handing
a given location URL.

Change-Id: I4d2ad70c6c72e36fe3a7c359585235d7318e70fb
Related-Bug: #1802587
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/32/618932/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/multi_backend.py'],1,142ed77b017337624ae319c30197d242490e1bd8,bug/1802587," def find_backend_for_url(url, context=None): """"""Find backend capable of handling a given URL Given an image location URL, find the first enabled backend that is capable of handling it. :param url: An image location URL. """""" backends = CONF.enabled_backends for backend in backends: try: if not url.startswith(backends[backend]): continue location.get_location_from_uri_and_backend(url, backend, conf=CONF) return backend except (exceptions.UnknownScheme): continue raise exceptions.UnknownScheme(_(""URL cannot be handled by any "" ""configured backend""))",,22,0
openstack%2Fglance_store~master~I5b6d29a3452d6054c4d83f4c912ec78fb00a49e5,openstack/glance_store,master,I5b6d29a3452d6054c4d83f4c912ec78fb00a49e5,Use unittest.mock instead of mock,ABANDONED,2020-06-08 22:10:47.000000000,2020-08-27 19:48:16.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 22:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3c529ed5850f250afc7d710e0107c0aba1fc46ad', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I5b6d29a3452d6054c4d83f4c912ec78fb00a49e5\n'}, {'number': 2, 'created': '2020-06-10 09:33:37.000000000', 'files': ['glance_store/tests/unit/common/test_fs_mount.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a78ca64b80e6598fd00749b5c3bfd3fe05988051', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I5b6d29a3452d6054c4d83f4c912ec78fb00a49e5\n'}]",1,734338,a78ca64b80e6598fd00749b5c3bfd3fe05988051,6,2,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I5b6d29a3452d6054c4d83f4c912ec78fb00a49e5
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/38/734338/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/common/test_fs_mount.py', 'lower-constraints.txt']",2,3c529ed5850f250afc7d710e0107c0aba1fc46ad,drop_mock,,mock==2.0.0,1,2
openstack%2Fneutron~stable%2Fussuri~Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,openstack/neutron,stable/ussuri,Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15,Fix get_ipv6_llas method in the interface driver,MERGED,2020-08-24 07:10:17.000000000,2020-08-27 19:41:48.000000000,2020-08-27 19:39:58.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-24 07:10:17.000000000', 'files': ['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/49ae201b3e11117eca81d3297c0fa2b4e99dbd65', 'message': 'Fix get_ipv6_llas method in the interface driver\n\nThis method is using ip_lib.get_devices_with_ip function to get\nIP addresses with scope ""link"".\nUnfortunatelly this method wasn\'t translating scope names to the pyrout2\nvalues and due to that wasn\'t returning correct IP addresses.\n\nNow this is fixed and correctl link local IPv6 addresses are returned.\n\nChange-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15\nCloses-Bug: #1892489\n(cherry picked from commit a4e04a7f8be95295324a59c34e6a79c7973af1ee)\n'}]",0,747626,49ae201b3e11117eca81d3297c0fa2b4e99dbd65,11,5,1,11975,,,0,"Fix get_ipv6_llas method in the interface driver

This method is using ip_lib.get_devices_with_ip function to get
IP addresses with scope ""link"".
Unfortunatelly this method wasn't translating scope names to the pyrout2
values and due to that wasn't returning correct IP addresses.

Now this is fixed and correctl link local IPv6 addresses are returned.

Change-Id: Ia41c1bc627ad2ce89d658ff1fdedee802f6dfa15
Closes-Bug: #1892489
(cherry picked from commit a4e04a7f8be95295324a59c34e6a79c7973af1ee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/747626/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_interface.py', 'neutron/agent/linux/ip_lib.py']",2,49ae201b3e11117eca81d3297c0fa2b4e99dbd65,bug/1892489-stable/ussuri," scope = kwargs.pop('scope', None) if scope: kwargs['scope'] = IP_ADDRESS_SCOPE_NAME[scope]",,19,0
openstack%2Fneutron~stable%2Frocky~I9062638366b45a7a930f31185cd6e23901a43957,openstack/neutron,stable/rocky,I9062638366b45a7a930f31185cd6e23901a43957,Not remove the running router when MQ is unreachable,MERGED,2020-08-26 07:01:25.000000000,2020-08-27 19:38:01.000000000,2020-08-27 19:38:00.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-26 07:01:25.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ee377952badd94d08425aab41853916092acd07', 'message': 'Not remove the running router when MQ is unreachable\n\nWhen the L3 agent get a router update notification, it will try to\nretrieve the router info from neutron server. But at this time, if\nthe message queue is down/unreachable. It will get exceptions related\nmessage queue. The resync actions will be run then. Sometimes, rabbitMQ\ncluster is not so much easy to recover. Then Long time MQ recover time\nwill cause the router info sync RPC never get successful until it meets\nthe max retry time. Then the bad thing happens, L3 agent is trying to\nremove the router now. It basically shutdown all the existing L3 traffic\nof this router.\n\nThis patch directly removes the final router removal action, let the\nrouter run as it is.\n\nCloses-Bug: #1871850\nChange-Id: I9062638366b45a7a930f31185cd6e23901a43957\n(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)\n'}]",0,748126,5ee377952badd94d08425aab41853916092acd07,8,4,1,9531,,,0,"Not remove the running router when MQ is unreachable

When the L3 agent get a router update notification, it will try to
retrieve the router info from neutron server. But at this time, if
the message queue is down/unreachable. It will get exceptions related
message queue. The resync actions will be run then. Sometimes, rabbitMQ
cluster is not so much easy to recover. Then Long time MQ recover time
will cause the router info sync RPC never get successful until it meets
the max retry time. Then the bad thing happens, L3 agent is trying to
remove the router now. It basically shutdown all the existing L3 traffic
of this router.

This patch directly removes the final router removal action, let the
router run as it is.

Closes-Bug: #1871850
Change-Id: I9062638366b45a7a930f31185cd6e23901a43957
(cherry picked from commit 12b9149e20665d80c11f1ef3d2283e1fa6f3b693)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/748126/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,5ee377952badd94d08425aab41853916092acd07,bug/1871850-stable/ussuri-stable/train-stable/stein-stable/rocky," def test_process_routers_update_router_update(self): update.action = l3_agent.ADD_UPDATE_ROUTER agent._safe_router_removed = mock.Mock() agent.plugin_rpc = mock.MagicMock() agent.plugin_rpc.get_routers.side_effect = ( Exception(""Failed to get router info"")) # start test agent._process_router_update() router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._resync_router.called) self.assertFalse(agent._safe_router_removed.called) def _test_process_routers_update_router_deleted(self, error=False): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) agent._queue = mock.Mock() update = mock.Mock() update.resource = None update.action = l3_agent.DELETE_ROUTER router_info = mock.MagicMock() agent.router_info[update.id] = router_info router_processor = mock.Mock() agent._queue.each_update_to_next_resource.side_effect = [ [(router_processor, update)]] agent._resync_router = mock.Mock() agent._safe_router_removed = mock.Mock() if error: self.assertTrue(agent._safe_router_removed.called) else: router_info.delete.assert_not_called() self.assertFalse(router_info.delete.called) self.assertTrue(agent.router_info) self.assertTrue(agent._safe_router_removed.called)"," @mock.patch.object(pd, 'remove_router') def _test_process_routers_update_router_deleted(self, remove_router, error=False): update.action = 1 # ROUTER_DELETED if error: agent._safe_router_removed = mock.Mock() self.assertFalse(remove_router.called) else: router_info.delete.assert_called_once_with() self.assertFalse(agent.router_info) self.assertTrue(remove_router.called)",33,12
openstack%2Fglance_store~master~I98503067e9dec782c73ea182c5d29d1e50073544,openstack/glance_store,master,I98503067e9dec782c73ea182c5d29d1e50073544,Clarify the filesystem_store_metadata_file config option,MERGED,2020-04-29 14:14:03.000000000,2020-08-27 19:19:58.000000000,2020-08-27 19:18:43.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 31209}]","[{'number': 1, 'created': '2020-04-29 14:14:03.000000000', 'files': ['glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/65ccf371c76fc0e2a7cb26c6bae479552a77caac', 'message': 'Clarify the filesystem_store_metadata_file config option\n\nThe filesystem_store_metadata_file config option only applies to the new\nimages created after this option is set, not existing images.\n\nRelated conversation:\nhttp://eavesdrop.openstack.org/irclogs/%23openstack-glance/%23openstack-glance.2018-06-01.log.html#t2018-06-01T20:26:28\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I98503067e9dec782c73ea182c5d29d1e50073544\nCloses-bug: #1775736\n'}]",0,724335,65ccf371c76fc0e2a7cb26c6bae479552a77caac,13,6,1,31209,,,0,"Clarify the filesystem_store_metadata_file config option

The filesystem_store_metadata_file config option only applies to the new
images created after this option is set, not existing images.

Related conversation:
http://eavesdrop.openstack.org/irclogs/%23openstack-glance/%23openstack-glance.2018-06-01.log.html#t2018-06-01T20:26:28

Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: I98503067e9dec782c73ea182c5d29d1e50073544
Closes-bug: #1775736
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/35/724335/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/filesystem.py'],1,65ccf371c76fc0e2a7cb26c6bae479552a77caac,bug/1775736,"The path to a file which contains the metadata to be returned with any location associated with the filesystem store. Once this option is set, it is used for new images created afterward only - previously existing images are not affected. The file must contain a valid JSON object. The object should contain the keys ``id`` and ``mountpoint``. The value for both keys should be a string.",The path to a file which contains the metadata to be returned with any location associated with the filesystem store. The file must contain a valid JSON object. The object should contain the keys ``id`` and ``mountpoint``. The value for both keys should be a string.,7,5
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia3fbad9606b18b863a1a81cfe23ff483411d4796,openstack/tripleo-heat-templates,stable/ussuri,Ia3fbad9606b18b863a1a81cfe23ff483411d4796,Use tripleo_network_config,MERGED,2020-08-24 12:45:49.000000000,2020-08-27 18:49:16.000000000,2020-08-27 18:49:16.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 12:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6dab0c5e4a48b18f0e4c442eeb98b4607fc0b99d', 'message': 'Use tripleo_network_config\n\nMove the NetworkConfig tasks to a role maanged in tripleo-ansible.\n\nChange-Id: Ia3fbad9606b18b863a1a81cfe23ff483411d4796\n(cherry picked from commit b3fd483c20294252f764b05a652a21f8a2a1f0c9)\n'}, {'number': 2, 'created': '2020-08-26 02:04:23.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e7c6b9a3644843869d89c0d9113f80cae3f0c39', 'message': 'Use tripleo_network_config\n\nMove the NetworkConfig tasks to a role maanged in tripleo-ansible.\n\nChange-Id: Ia3fbad9606b18b863a1a81cfe23ff483411d4796\n(cherry picked from commit b3fd483c20294252f764b05a652a21f8a2a1f0c9)\n'}]",0,747715,3e7c6b9a3644843869d89c0d9113f80cae3f0c39,19,4,2,3153,,,0,"Use tripleo_network_config

Move the NetworkConfig tasks to a role maanged in tripleo-ansible.

Change-Id: Ia3fbad9606b18b863a1a81cfe23ff483411d4796
(cherry picked from commit b3fd483c20294252f764b05a652a21f8a2a1f0c9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/747715/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,6dab0c5e4a48b18f0e4c442eeb98b4607fc0b99d,network-config-role-stable/ussuri," - name: Run Network Config import_role: name: tripleo_network_config vars: tripleo_network_config_script_path: ""{{ NetworkConfig_stat.stat.path }}"" tripleo_network_config_bridge_name: ""{{ neutron_physical_bridge_name }}"" tripleo_network_config_interface_name: ""{{ neutron_public_interface_name }}"" tripleo_network_config_action: ""{{ stack_action }}"" tripleo_network_config_network_deployment_actions: ""{{ network_deployment_actions }}"" tripleo_network_config_async_timeout: ""{{ async_timeout | default(300) }}"" tripleo_network_config_async_poll: ""{{ async_poll | default(3) }}"" when: - NetworkConfig_stat.stat.exists"," - name: Check for previous run of NetworkConfig stat: path: /var/lib/tripleo-config/os-net-config.returncode register: os_net_config_returncode_stat - name: Check result of previous run of NetworkConfig slurp: path: /var/lib/tripleo-config/os-net-config.returncode when: os_net_config_returncode_stat.stat.exists register: os_net_config_returncode_slurp - name: NetworkConfig become: true block: - name: Create /var/lib/tripleo-config/scripts directory file: path: /var/lib/tripleo-config/scripts state: directory setype: container_file_t selevel: s0 recurse: true - name: Render NetworkConfig script template: dest: /var/lib/tripleo-config/scripts/run_os_net_config.sh src: ""{{ NetworkConfig_stat.stat.path }}"" mode: 0755 - name: Run NetworkConfig script command: /var/lib/tripleo-config/scripts/run_os_net_config.sh async: ""{{ async_timeout | default(300) }}"" poll: ""{{ async_poll | default(3) }}"" environment: bridge_name: ""{{ neutron_physical_bridge_name }}"" interface_name: ""{{ neutron_public_interface_name }}"" register: NetworkConfig_result when: - not ansible_check_mode failed_when: NetworkConfig_result.rc is not defined - name: Write rc of NetworkConfig script copy: content: ""{{ NetworkConfig_result.rc }}"" dest: /var/lib/tripleo-config/os-net-config.returncode when: - NetworkConfig_result.rc is defined - name: NetworkConfig stdout debug: var: NetworkConfig_result.stderr_lines failed_when: NetworkConfig_result.rc != 0 when: - NetworkConfig_result.rc is defined # os-net-config currently relies on the legacy network # so we need to ensure it's enabled on boot. This should # be removed when we switch to NetworkManager or replaced # with something that ensures NetworkManager is enabled. - name: Ensure network service is enabled systemd: name: network enabled: yes state: started # The conditions here are when we want to apply the # NetworkConfig. They are: # - If the stack_action is CREATE # - Or UPDATE is in the network_deployment_actions # - Or the previous run of NetworkConfig failed. # - Or it has never run # This will match the prior behavior of when a Heat # SoftwareDeployment was used. # It also ensures the script does exist as a sine qua non # condition when: NetworkConfig_stat.stat.exists and ((stack_action == ""CREATE"") or (""UPDATE"" in network_deployment_actions) or (os_net_config_returncode_stat.stat.exists and ((os_net_config_returncode_slurp.content | b64decode) != 0)) or (not os_net_config_returncode_stat.stat.exists))",13,79
openstack%2Ftripleo-quickstart~master~I7faae0b7b323a227545991f8e1b507bc9b2b5f0b,openstack/tripleo-quickstart,master,I7faae0b7b323a227545991f8e1b507bc9b2b5f0b,Consume puppet-oslo from delorean current repo,MERGED,2020-08-27 05:51:29.000000000,2020-08-27 18:48:34.000000000,2020-08-27 18:46:39.000000000,"[{'_account_id': 8367}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-08-27 05:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fc2f3f8852eb3c42205da5bd159fd0eb38179cbe', 'message': 'Consume puppet-oslo from delorean current repo\n\nhttps://review.opendev.org/#/c/748067 added\nmysql_enable_ndb parameter, which is being added\nto almost all puppet modules [1]. Since puppet-oslo\nis not used from current repo, other puppet-modules\nusing this param fails to find it and fails.\n\nAdd puppet-oslo to be consumed from delorean current\nrepo until there is promotion of puppet-oslo change.\n\n[1] https://review.opendev.org/#/q/mysql_enable_ndb\n\nCloses-Bug: #1893173\nChange-Id: I7faae0b7b323a227545991f8e1b507bc9b2b5f0b\n'}, {'number': 2, 'created': '2020-08-27 06:04:27.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a24955cb7ee04cf0df2e04e06abdd330a38e87ab', 'message': 'Consume puppet-oslo from delorean current repo\n\nhttps://review.opendev.org/#/c/748067 added\nmysql_enable_ndb parameter, which is being added\nto almost all puppet modules [1]. Since puppet-oslo\nis not used from current repo, other puppet-modules\nusing this param fails to find it and fails.\n\nAdd puppet-oslo to be consumed from delorean current\nrepo until there is promotion of puppet-oslo change.\n\nAlso add to promotion-testing-hash-master.yml to keep\nthe list in sync.\n\n[1] https://review.opendev.org/#/q/mysql_enable_ndb\n\nCloses-Bug: #1893173\nChange-Id: I7faae0b7b323a227545991f8e1b507bc9b2b5f0b\n'}]",1,748360,a24955cb7ee04cf0df2e04e06abdd330a38e87ab,28,10,2,13861,,,0,"Consume puppet-oslo from delorean current repo

https://review.opendev.org/#/c/748067 added
mysql_enable_ndb parameter, which is being added
to almost all puppet modules [1]. Since puppet-oslo
is not used from current repo, other puppet-modules
using this param fails to find it and fails.

Add puppet-oslo to be consumed from delorean current
repo until there is promotion of puppet-oslo change.

Also add to promotion-testing-hash-master.yml to keep
the list in sync.

[1] https://review.opendev.org/#/q/mysql_enable_ndb

Closes-Bug: #1893173
Change-Id: I7faae0b7b323a227545991f8e1b507bc9b2b5f0b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/60/748360/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,fc2f3f8852eb3c42205da5bd159fd0eb38179cbe,bug/1893173, - puppet-oslo,,1,0
openstack%2Fcharm-neutron-api~stable%2F20.08~I59b9d5e0caab62b72380879bf16cb0fd8703bb32,openstack/charm-neutron-api,stable/20.08,I59b9d5e0caab62b72380879bf16cb0fd8703bb32,Fix db init notifications,MERGED,2020-08-26 09:47:19.000000000,2020-08-27 18:45:06.000000000,2020-08-27 18:45:06.000000000,"[{'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 09:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/50951780448b504fb88956c9eef147516621aa71', 'message': 'Fix db init notifications\n\nEnsures that leader does not respond to db init\nnotifications to avoid infitinite looping.\n\nAlso ensures that leader only restarts its neutron-server\nonce on db init.\n\nCloses-Bug: #1893008\n\nChange-Id: I59b9d5e0caab62b72380879bf16cb0fd8703bb32\n(cherry picked from commit e9bf4952b756461eaa75de16e8d3943c1b4050c6)\n'}, {'number': 2, 'created': '2020-08-26 12:52:13.000000000', 'files': ['hooks/neutron_api_utils.py', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/e7c233c846f54606181fdb60d37ab9038fb1c032', 'message': 'Fix db init notifications\n\nEnsures that leader does not respond to db init\nnotifications to avoid infitinite looping after\nleader switches to a different unit.\n\nAlso ensures that leader only restarts its neutron-server\nonce on db init.\n\nCloses-Bug: #1893008\n\nChange-Id: I59b9d5e0caab62b72380879bf16cb0fd8703bb32\n(cherry picked from commit 104626a19f7edbdee04725ec502f74c54bbfedd2)\n'}]",0,748146,e7c233c846f54606181fdb60d37ab9038fb1c032,17,4,2,6737,,,0,"Fix db init notifications

Ensures that leader does not respond to db init
notifications to avoid infitinite looping after
leader switches to a different unit.

Also ensures that leader only restarts its neutron-server
once on db init.

Closes-Bug: #1893008

Change-Id: I59b9d5e0caab62b72380879bf16cb0fd8703bb32
(cherry picked from commit 104626a19f7edbdee04725ec502f74c54bbfedd2)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/46/748146/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_utils.py', 'unit_tests/test_neutron_api_utils.py']",2,50951780448b504fb88956c9eef147516621aa71,bug/1893008," @patch.object(nutils, 'relation_ids') @patch.object(nutils, 'is_leader') @patch.object(nutils, 'is_db_initialised') def test_check_local_db_actions_complete_leader(self, mock_is_db_initialised, mock_is_leader, mock_relation_get, mock_relation_set, mock_relation_ids): mock_is_leader.return_value = True mock_relation_get.assert_not_called() mock_relation_set.assert_not_called() self.service_restart.assert_not_called() @patch.object(nutils, 'is_leader') def test_check_local_db_actions_complete_non_leader(self, mock_is_db_initialised, mock_is_leader, mock_relation_get, mock_relation_set, mock_relation_ids): mock_is_leader.return_value = False"," @patch.object(nutils, 'is_db_initialised', lambda: False) def test_check_local_db_actions_complete_by_self(self, mock_relation_get, mock_relation_set): mock_relation_get.return_value = {} self.assertFalse(mock_relation_set.called) mock_relation_get.return_value = {nutils.NEUTRON_DB_INIT_RKEY: 'unit/0-1234'} nutils.check_local_db_actions_complete() self.assertFalse(mock_relation_set.called) def test_check_local_db_actions_complete(self, mock_is_db_initialised, mock_relation_get, mock_relation_set, mock_relation_ids):",34,22
openstack%2Fpuppet-ceilometer~master~I539b290721da68e1b355528b074f52ebbb0d474e,openstack/puppet-ceilometer,master,I539b290721da68e1b355528b074f52ebbb0d474e,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:22.000000000,2020-08-27 18:38:28.000000000,2020-08-27 18:36:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/a02a90ecee83d486f38e2ed277bd2a283eb8971f', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I539b290721da68e1b355528b074f52ebbb0d474e\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:23.000000000', 'files': ['spec/classes/ceilometer_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-ba6e96cbf544cf8b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/448056ebba04262568b212999fbbed8276cb4b2c', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I539b290721da68e1b355528b074f52ebbb0d474e\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748095,448056ebba04262568b212999fbbed8276cb4b2c,14,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I539b290721da68e1b355528b074f52ebbb0d474e
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/95/748095/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceilometer_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-ba6e96cbf544cf8b.yaml']",3,a02a90ecee83d486f38e2ed277bd2a283eb8971f,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fceilometer~stable%2Fqueens~I5c3d22923c5107d31200b1fa5db790857f38fc73,openstack/ceilometer,stable/queens,I5c3d22923c5107d31200b1fa5db790857f38fc73,Add logic for event_update handling and set transfer event as event_update,ABANDONED,2020-08-27 15:21:54.000000000,2020-08-27 18:24:00.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 15:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a2c1880e9b05b2aabd9acd91499d9b770d6a5083', 'message': 'Add logic for event_update handling and set transfer event as event_update\n\nThis patch implements logic for updating resources in gnocchi when an\nevent_update happens. Additionally, it adds volume.transfer events to\nthe event_definitions.yaml and attributes for said event in\ngnocchi_resources.yaml\n\nChange-Id: I5c3d22923c5107d31200b1fa5db790857f38fc73\n'}, {'number': 2, 'created': '2020-08-27 15:24:12.000000000', 'files': ['ceilometer/publisher/data/gnocchi_resources.yaml', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/39abdae36025c52a8cda91cf67ffff89bc3f2959', 'message': 'Add logic for event_update handling and set transfer event as event_update\n\nThis patch implements logic for updating resources in gnocchi when an\nevent_update happens. Additionally, it adds volume.transfer events to\nthe event_definitions.yaml and attributes for said event in\ngnocchi_resources.yaml\n\nChange-Id: I5c3d22923c5107d31200b1fa5db790857f38fc73\n'}]",7,748465,39abdae36025c52a8cda91cf67ffff89bc3f2959,5,2,2,31510,,,0,"Add logic for event_update handling and set transfer event as event_update

This patch implements logic for updating resources in gnocchi when an
event_update happens. Additionally, it adds volume.transfer events to
the event_definitions.yaml and attributes for said event in
gnocchi_resources.yaml

Change-Id: I5c3d22923c5107d31200b1fa5db790857f38fc73
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/65/748465/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/publisher/data/gnocchi_resources.yaml', 'ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/publisher/gnocchi.py']",3,a2c1880e9b05b2aabd9acd91499d9b770d6a5083,update-event," LOG.debug(""Successfully matched event_update"") if operation == EVENT_UPDATE: self._update_event(rd, event) def _update_event(self, rd, event): resource = rd.event_attributes(event) associated_resources = rd.cfg.get('event_associated_resources', {}) resource_id = rd._event_attributes if associated_resources: to_update = itertools.chain([resource], *[ self._search_resource(resource_type, query % resource['id']) for resource_type, query in associated_resources.items() ]) else: to_update = [resource] for resource in to_update: self._set_update_attributes(resource) def _set_update_attributes(self, resource): LOG.debug(""Resource expansion: %s"", resource) try: resource_extra = {key:val for (key,val) in resource.items() if key != 'id' and key != 'type'} self._if_not_cached(""update"", resource[""type""], resource, self._update_resource, resource_extra) except gnocchi_exc.ResourceNotFound: LOG.debug(""Update event received on unexisting resource (%s), "" ""ignore it."", resource['id']) except Exception: LOG.error(""Fail to update the resource %s"", resource, exc_info=True) ",,37,1
openstack%2Fopenstack-zuul-jobs~master~I7f8e8ae861dcf9ddd2616839bc97f8a594705ea6,openstack/openstack-zuul-jobs,master,I7f8e8ae861dcf9ddd2616839bc97f8a594705ea6,"Remove legacy-tempest-dsvm-neutron-{ipv6only,serviceipv6}",MERGED,2020-08-26 16:42:31.000000000,2020-08-27 18:08:22.000000000,2020-08-27 18:04:56.000000000,"[{'_account_id': 6547}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 16:42:31.000000000', 'files': ['playbooks/legacy/tempest-dsvm-neutron-ipv6only/run.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-neutron-serviceipv6/run.yaml', 'playbooks/legacy/tempest-dsvm-neutron-ipv6only/post.yaml', 'playbooks/legacy/tempest-dsvm-neutron-serviceipv6/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2ca901b66fa3054b1899e16d61d22ee2ca249983', 'message': 'Remove legacy-tempest-dsvm-neutron-{ipv6only,serviceipv6}\n\nThey are not used anymore (one replaced, the other broken/requires\nmore work).\n\nDepends-On: https://review.opendev.org/748273\nChange-Id: I7f8e8ae861dcf9ddd2616839bc97f8a594705ea6\n'}]",0,748274,2ca901b66fa3054b1899e16d61d22ee2ca249983,10,3,1,10459,,,0,"Remove legacy-tempest-dsvm-neutron-{ipv6only,serviceipv6}

They are not used anymore (one replaced, the other broken/requires
more work).

Depends-On: https://review.opendev.org/748273
Change-Id: I7f8e8ae861dcf9ddd2616839bc97f8a594705ea6
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/74/748274/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-neutron-ipv6only/run.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-neutron-serviceipv6/run.yaml', 'playbooks/legacy/tempest-dsvm-neutron-ipv6only/post.yaml', 'playbooks/legacy/tempest-dsvm-neutron-serviceipv6/post.yaml']",5,2ca901b66fa3054b1899e16d61d22ee2ca249983,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,0,163
openstack%2Fkuryr-tempest-plugin~master~I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89,openstack/kuryr-tempest-plugin,master,I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89,Fail get_controller_pod_names when no pods found,MERGED,2020-08-12 09:31:01.000000000,2020-08-27 17:58:38.000000000,2020-08-27 17:55:33.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-08-12 09:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f667a881a49c49ef64ebab0abe4ce422c235cd46', 'message': 'Fail get_controller_pod_names when not pods found\n\nChange-Id: I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89\n'}, {'number': 2, 'created': '2020-08-12 09:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/223102481cce0ef4853c4a31c3baee04fb750412', 'message': 'Fail get_controller_pod_names when no pods found\n\nChange-Id: I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89\n'}, {'number': 3, 'created': '2020-08-13 09:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/87ff013596ae477ed8925639659030bceb61dbd6', 'message': 'Fail get_controller_pod_names when no pods found\n\nChange-Id: I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89\n'}, {'number': 4, 'created': '2020-08-18 07:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/27c060df26abd5ad3ef9d52666f967a0c0434954', 'message': 'Fail get_controller_pod_names when no pods found\n\nAlso skip test_unsupported_service_type for non containerized setups\n\nChange-Id: I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89\n'}, {'number': 5, 'created': '2020-08-18 08:07:04.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/bc8b21694356ed03c0e09b7457442a9e29f96b82', 'message': 'Fail get_controller_pod_names when no pods found\n\nAlso skip test_unsupported_service_type for non containerized setups\n\nChange-Id: I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89\n'}]",4,745816,bc8b21694356ed03c0e09b7457442a9e29f96b82,39,7,5,4727,,,0,"Fail get_controller_pod_names when no pods found

Also skip test_unsupported_service_type for non containerized setups

Change-Id: I4c33cf40ffb6efc43260b6d58d2d0c0c15dd8c89
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/16/745816/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,f667a881a49c49ef64ebab0abe4ce422c235cd46,controller," controller_label = CONF.kuryr_kubernetes.controller_label controller_pod_names = self.get_pod_name_list( self.assertNotEmpty(controller_pod_names, ""Can't find controller pods"" ""with label %s"" % controller_label) return controller_pod_names", return self.get_pod_name_list(,5,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I780d2d221f0209e914514398c61c7a45fa33ffcf,openstack/puppet-openstack-integration,stable/ussuri,I780d2d221f0209e914514398c61c7a45fa33ffcf,Install yum on CentOS8/Fedora,MERGED,2020-08-26 13:37:59.000000000,2020-08-27 17:48:15.000000000,2020-08-27 17:48:15.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae487912e0df462bc279a931d139e31e2a98437f', 'message': ""Install yum on CentOS8/Fedora\n\nCurrently beaker-puppet requires yum command while installing required\npackages, and it fails on CentOS8/Fedora which doesn't have yum by\ndefault.\nThis patch makes sure that yum is installed while preparing a test node\nso that we can avoid the error caused by missing yum.\n\nChange-Id: I780d2d221f0209e914514398c61c7a45fa33ffcf\n(cherry picked from commit 5ee64a6881c14e3443dcb5e4c218b9df9c9864eb)\n""}, {'number': 2, 'created': '2020-08-26 13:51:02.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e5f8591c1f3c773659717893aaaa6955522931e7', 'message': ""Install yum on CentOS8/Fedora\n\nCurrently beaker-puppet requires yum command while installing required\npackages, and it fails on CentOS8/Fedora which doesn't have yum by\ndefault.\nThis patch makes sure that yum is installed while preparing a test node\nso that we can avoid the error caused by missing yum.\n\nChange-Id: I780d2d221f0209e914514398c61c7a45fa33ffcf\n(cherry picked from commit 5ee64a6881c14e3443dcb5e4c218b9df9c9864eb)\n""}]",0,748235,e5f8591c1f3c773659717893aaaa6955522931e7,8,3,2,9816,,,0,"Install yum on CentOS8/Fedora

Currently beaker-puppet requires yum command while installing required
packages, and it fails on CentOS8/Fedora which doesn't have yum by
default.
This patch makes sure that yum is installed while preparing a test node
so that we can avoid the error caused by missing yum.

Change-Id: I780d2d221f0209e914514398c61c7a45fa33ffcf
(cherry picked from commit 5ee64a6881c14e3443dcb5e4c218b9df9c9864eb)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/748235/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-common.yaml'],1,ae487912e0df462bc279a931d139e31e2a98437f,centos8-beaker-stable/ussuri, - name: Install yum (Fedora or CentOS/RHEL>=8) dnf: name: yum become: true ,,5,0
openstack%2Fironic-python-agent-builder~master~Icc98ffe706615b72682b550ed05e9ab23870f09e,openstack/ironic-python-agent-builder,master,Icc98ffe706615b72682b550ed05e9ab23870f09e,Move zuul config in zuul.d,MERGED,2020-08-25 12:22:13.000000000,2020-08-27 17:32:13.000000000,2020-08-27 17:27:47.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 12:22:13.000000000', 'files': ['zuul.d/ironic-python-agent-builder-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/bf4d98afc974c5a7ef85fad42af132c86c464175', 'message': 'Move zuul config in zuul.d\n\nWe reached a point where the jobs list and their configuration\nneeds to be split and go into dedicated files.\n\nChange-Id: Icc98ffe706615b72682b550ed05e9ab23870f09e\n'}]",0,747914,bf4d98afc974c5a7ef85fad42af132c86c464175,8,3,1,23851,,,0,"Move zuul config in zuul.d

We reached a point where the jobs list and their configuration
needs to be split and go into dedicated files.

Change-Id: Icc98ffe706615b72682b550ed05e9ab23870f09e
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/14/747914/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-builder-jobs.yaml', 'zuul.d/project.yaml']",2,bf4d98afc974c5a7ef85fad42af132c86c464175,zuul-split,- project: templates: - publish-openstack-docs-pti - check-requirements - release-notes-jobs-python3 check: jobs: - openstack-tox-pep8 - ironic-standalone-ipa-src - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src - ironic-python-agent-check-image-tinyipa - ironic-python-agent-check-image-dib-centos8 - ironic-python-agent-check-image-dib-centos7 # Non-voting jobs - ironic-python-agent-check-image-dib-centos7-python3: voting: false - ironic-python-agent-check-image-dib-fedora: voting: false - ironic-python-agent-check-image-dib-debian: voting: false - ironic-python-agent-check-image-dib-ubuntu: voting: false - ipa-tempest-wholedisk-bios-ipmi-direct-dib-src: voting: false - ipa-tempest-bios-ipmi-iscsi-src: voting: false - ipa-tempest-ironic-inspector-src: voting: false - tripleo-buildimage-ironic-python-agent-centos-8: voting: false gate: jobs: - openstack-tox-pep8 - ironic-standalone-ipa-src - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src - ironic-python-agent-check-image-tinyipa - ironic-python-agent-check-image-dib-centos8 - ironic-python-agent-check-image-dib-centos7 post: jobs: - publish-openstack-python-branch-tarball - ironic-python-agent-build-image-tinyipa - ironic-python-agent-build-image-dib-centos8 ,,49,50
openstack%2Fpuppet-manila~master~Ie57de755a28b6d3a657fa8c07b763e02b5f6f656,openstack/puppet-manila,master,Ie57de755a28b6d3a657fa8c07b763e02b5f6f656,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-27 17:22:49.000000000,2020-08-27 17:21:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/376314b8cd5e96a8ae36dcaae00bc992bd2c4f8c', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ie57de755a28b6d3a657fa8c07b763e02b5f6f656\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:25.000000000', 'files': ['manifests/db.pp', 'spec/classes/manila_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b963ed39971e15fc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5cc37946550d789b8004f92cae6ee546e4dc8519', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ie57de755a28b6d3a657fa8c07b763e02b5f6f656\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748093,5cc37946550d789b8004f92cae6ee546e4dc8519,14,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Ie57de755a28b6d3a657fa8c07b763e02b5f6f656
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/93/748093/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/manila_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b963ed39971e15fc.yaml']",3,376314b8cd5e96a8ae36dcaae00bc992bd2c4f8c,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fglance_store~master~I04b4e2f220cf93275f0b14240cbbfff3da94e4d1,openstack/glance_store,master,I04b4e2f220cf93275f0b14240cbbfff3da94e4d1,Add a little more test coverage for rbd resize logic,MERGED,2020-08-20 15:45:58.000000000,2020-08-27 17:21:23.000000000,2020-08-27 17:17:20.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/c1414c6acc2d3c229c6487d84764faa431d5bb3a', 'message': 'Add a little more test coverage for rbd resize logic\n\nSince the resize decisions are packed tight into a helper, it\nis trivial to test the boundary conditions alone. This adds a test\nto do that, including the previously-uncovered condition of the\n8G resize ceiling.\n\nChange-Id: I04b4e2f220cf93275f0b14240cbbfff3da94e4d1\n'}, {'number': 2, 'created': '2020-08-26 14:39:13.000000000', 'files': ['glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a594f540c4db20cb38a97d459716d9a5bf11dd69', 'message': 'Add a little more test coverage for rbd resize logic\n\nSince the resize decisions are packed tight into a helper, it\nis trivial to test the boundary conditions alone. This adds a test\nto do that, including the previously-uncovered condition of the\n8G resize ceiling.\n\nChange-Id: I04b4e2f220cf93275f0b14240cbbfff3da94e4d1\n'}]",0,747226,a594f540c4db20cb38a97d459716d9a5bf11dd69,12,4,2,4393,,,0,"Add a little more test coverage for rbd resize logic

Since the resize decisions are packed tight into a helper, it
is trivial to test the boundary conditions alone. This adds a test
to do that, including the previously-uncovered condition of the
8G resize ceiling.

Change-Id: I04b4e2f220cf93275f0b14240cbbfff3da94e4d1
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/26/747226/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/tests/unit/test_rbd_store.py'],1,c1414c6acc2d3c229c6487d84764faa431d5bb3a,rbd_resize," def test_resize_on_write_ceiling(self): image = mock.MagicMock() # image, size, written, chunk # Non-zero image size means no resize ret = self.store._resize_on_write(image, 32, 16, 16) self.assertEqual(0, ret) image.resize.assert_not_called() # Current size is smaller than we need self.store.size = 8 ret = self.store._resize_on_write(image, 0, 16, 16) self.assertEqual(8 + self.store.WRITE_CHUNKSIZE, ret) self.assertEqual(self.store.WRITE_CHUNKSIZE * 2, self.store.resize_amount) image.resize.assert_called_once_with(ret) # More reads under the limit do not require a resize image.resize.reset_mock() self.store.size = ret ret = self.store._resize_on_write(image, 0, 64, 16) self.assertEqual(8 + self.store.WRITE_CHUNKSIZE, ret) image.resize.assert_not_called() # Read past the limit triggers another resize ret = self.store._resize_on_write(image, 0, ret + 1, 16) self.assertEqual(8 + self.store.WRITE_CHUNKSIZE * 3, ret) image.resize.assert_called_once_with(ret) self.assertEqual(self.store.WRITE_CHUNKSIZE * 4, self.store.resize_amount) # Check that we do not resize past the 8G ceiling. # Start with resize_amount at 4G, 1G read so far image.resize.reset_mock() self.store.resize_amount = 4 * units.Gi self.store.size = 1 * units.Gi # First resize happens and we get the 4G, # resize_amount goes to limit of 8G ret = self.store._resize_on_write(image, 0, 4097 * units.Mi, 16) self.assertEqual(5 * units.Gi, ret) self.assertEqual(8 * units.Gi, self.store.resize_amount) self.store.size = ret # Second resize happens and we get to 13G, # resize amount stays at limit of 8G ret = self.store._resize_on_write(image, 0, 6144 * units.Mi, 16) self.assertEqual((5 + 8) * units.Gi, ret) self.assertEqual(8 * units.Gi, self.store.resize_amount) self.store.size = ret # Third resize happens and we get to 21G, # resize amount stays at limit of 8G ret = self.store._resize_on_write(image, 0, 14336 * units.Mi, 16) self.assertEqual((5 + 8 + 8) * units.Gi, ret) self.assertEqual(8 * units.Gi, self.store.resize_amount) image.resize.assert_has_calls([ mock.call(5 * units.Gi), mock.call(13 * units.Gi), mock.call(21 * units.Gi)]) ",,64,0
openstack%2Fglance_store~master~I842578ca933294e4340ba080be488999e7910727,openstack/glance_store,master,I842578ca933294e4340ba080be488999e7910727,Bring FakeData utility over from glance,MERGED,2020-08-20 15:45:58.000000000,2020-08-27 17:19:55.000000000,2020-08-27 17:17:19.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f9fb12ecd8df2a15207f34653c778682fd6d4984', 'message': 'Bring FakeData utility over from glance\n\nThis brings over the small-footprint FakeData generator from glance and\nrefactors the rbd resize tests to use it instead of a static string.\n\nChange-Id: I842578ca933294e4340ba080be488999e7910727\n'}, {'number': 2, 'created': '2020-08-26 14:39:13.000000000', 'files': ['glance_store/tests/utils.py', 'glance_store/tests/unit/test_rbd_store.py', 'glance_store/tests/unit/test_test_utils.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4dc622dc91cf161ebbb1f3ab3a8ffa3bcc7e1a43', 'message': 'Bring FakeData utility over from glance\n\nThis brings over the small-footprint FakeData generator from glance and\nrefactors the rbd resize tests to use it instead of a static string.\n\nChange-Id: I842578ca933294e4340ba080be488999e7910727\n'}]",2,747225,4dc622dc91cf161ebbb1f3ab3a8ffa3bcc7e1a43,15,6,2,4393,,,0,"Bring FakeData utility over from glance

This brings over the small-footprint FakeData generator from glance and
refactors the rbd resize tests to use it instead of a static string.

Change-Id: I842578ca933294e4340ba080be488999e7910727
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/25/747225/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/utils.py', 'glance_store/tests/unit/test_rbd_store.py']",2,f9fb12ecd8df2a15207f34653c778682fd6d4984,rbd_resize,from glance_store.tests import utils as test_utils data_iter = test_utils.FakeData(data_len), # TODO(jokke): use the FakeData iterator once it exists. data_iter = six.BytesIO(b'*' * data_len),45,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Id9b9c413ee37dcda422e69ebef4aca81e4877156,openstack/tripleo-heat-templates,stable/ussuri,Id9b9c413ee37dcda422e69ebef4aca81e4877156,minor update: only migrate HA VIP away when needed,MERGED,2020-08-26 07:34:54.000000000,2020-08-27 17:09:03.000000000,2020-08-26 18:46:30.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 07:34:54.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc17467c5018d4f05b53af0a0046def5c5a8633e', 'message': ""minor update: only migrate HA VIP away when needed\n\nWhen update tasks runs in a HA controller node, pacemaker is\nstopped, along with all HA resources hosted on the node. If\nany VIP is hosted on that node, it is moved to another node\nprior to stopping pacemaker to limit service downtime.\n\nIf the HA controller node doesn't manage VIP (no HAProxy) or\nthe control plane only has 1 node, there is no need to try and\nmove VIP away before stopping pacemaker.\n\nTested on a 1-node HA control plane, and also on a control\nplane with external balancer (no HAproxy service, thus no VIP\nmanaged in pacemaker). The dedicated ansible task no longer\ntries to move VIP if it doesn't need to.\n\nCloses-Bug: #1892570\nChange-Id: Id9b9c413ee37dcda422e69ebef4aca81e4877156\n(cherry picked from commit 164fac75a0fbff2130f39a5f4d7c5931f5ea3b08)\n""}]",0,748130,cc17467c5018d4f05b53af0a0046def5c5a8633e,9,4,1,20778,,,0,"minor update: only migrate HA VIP away when needed

When update tasks runs in a HA controller node, pacemaker is
stopped, along with all HA resources hosted on the node. If
any VIP is hosted on that node, it is moved to another node
prior to stopping pacemaker to limit service downtime.

If the HA controller node doesn't manage VIP (no HAProxy) or
the control plane only has 1 node, there is no need to try and
move VIP away before stopping pacemaker.

Tested on a 1-node HA control plane, and also on a control
plane with external balancer (no HAproxy service, thus no VIP
managed in pacemaker). The dedicated ansible task no longer
tries to move VIP if it doesn't need to.

Closes-Bug: #1892570
Change-Id: Id9b9c413ee37dcda422e69ebef4aca81e4877156
(cherry picked from commit 164fac75a0fbff2130f39a5f4d7c5931f5ea3b08)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/748130/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,cc17467c5018d4f05b53af0a0046def5c5a8633e,ha-vip-move-stable/ussuri," when: - step|int == 1 - hostvars[inventory_hostname][""haproxy_node_names""]|default([])|length > 1", when: step|int == 1,3,1
openstack%2Fpbr~master~Icd1b4ae04de8034bc15db87be457751e70e26f6d,openstack/pbr,master,Icd1b4ae04de8034bc15db87be457751e70e26f6d,Add Release Notes to documentation,MERGED,2020-08-04 14:00:30.000000000,2020-08-27 16:59:41.000000000,2020-08-27 16:56:57.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-04 14:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/5038728c5b7bf377736ac069ca3633681d44929a', 'message': ""Add Release Notes to documentation\n\nWe're building the sdist to be able to add PBR's changelog in its\ndocs, so may as well publish the Release Notes document it builds\ntoo.\n\nChange-Id: Icd1b4ae04de8034bc15db87be457751e70e26f6d\n""}, {'number': 2, 'created': '2020-08-04 14:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/2f256ff014d852bddccf8024554b3c1793a7a49d', 'message': ""Add Release Notes to documentation\n\nWe're building the sdist to be able to add PBR's changelog in its\ndocs, so may as well publish the Release Notes document it builds\ntoo.\n\nChange-Id: Icd1b4ae04de8034bc15db87be457751e70e26f6d\n""}, {'number': 3, 'created': '2020-08-06 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/0e88290035e0b036ee37125c8c8561e989087f33', 'message': ""Add Release Notes to documentation\n\nWe're building the sdist to be able to add PBR's changelog in its\ndocs, so may as well publish the Release Notes document it builds\ntoo.\n\nChange-Id: Icd1b4ae04de8034bc15db87be457751e70e26f6d\n""}, {'number': 4, 'created': '2020-08-06 14:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b75d8fceac102c1298105af70ba7f63f73a2cf9b', 'message': ""Add Release Notes to documentation\n\nWe're building the sdist to be able to add PBR's changelog in its\ndocs, so may as well publish the Release Notes document it builds\ntoo.\n\nChange-Id: Icd1b4ae04de8034bc15db87be457751e70e26f6d\n""}, {'number': 5, 'created': '2020-08-11 21:20:26.000000000', 'files': ['.gitignore', 'doc/source/user/index.rst', 'README.rst', 'doc/source/user/releasenotes.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/175fad9af9fa95b1a49fe1d8759bd71e6a5e456e', 'message': ""Add Release Notes to documentation\n\nWe're building the sdist to be able to add PBR's changelog in its\ndocs, so may as well publish the Release Notes document it builds\ntoo.\n\nChange-Id: Icd1b4ae04de8034bc15db87be457751e70e26f6d\n""}]",4,744720,175fad9af9fa95b1a49fe1d8759bd71e6a5e456e,29,5,5,5263,,,0,"Add Release Notes to documentation

We're building the sdist to be able to add PBR's changelog in its
docs, so may as well publish the Release Notes document it builds
too.

Change-Id: Icd1b4ae04de8034bc15db87be457751e70e26f6d
",git fetch https://review.opendev.org/openstack/pbr refs/changes/20/744720/5 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'doc/source/user/index.rst', 'README.rst', 'doc/source/user/releasenotes.rst']",4,5038728c5b7bf377736ac069ca3633681d44929a,docs,=============== Release Notes =============== include:: ../../../RELEASENOTES.rst :start-line: 4 ,,10,0
openstack%2Fcinder~master~I19b2c88ff2ff96b3cc2776f866babf47b9b77af0,openstack/cinder,master,I19b2c88ff2ff96b3cc2776f866babf47b9b77af0,Include deleted volumes for online data migrations,ABANDONED,2020-08-26 16:56:45.000000000,2020-08-27 16:56:57.000000000,,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 15386}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-08-26 16:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a31cce9b5ca20076def008052566ac7c14ceed13', 'message': 'Include deleted volumes for online data migrations\n\nThe two online data migrations which moved volumes to the __DEFAULT__\nvolume type did not include deleted volumes, which meant that the follow\nup migration which makes it a nullable value does not work because the\ndeleted volumes will continue to have `null` as their volume_type_id.\n\nThis patches fixes that by including deleted volumes when running the\nonline database migration.\n\nChange-Id: I19b2c88ff2ff96b3cc2776f866babf47b9b77af0\nCloses-Bug: #1893107\n'}, {'number': 2, 'created': '2020-08-26 22:35:02.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22167f83a0c7e4c56b601fa57c4840277f292836', 'message': 'Include deleted volumes for online data migrations\n\nThe two online data migrations which moved volumes to the __DEFAULT__\nvolume type did not include deleted volumes, which meant that the follow\nup migration which makes it a nullable value does not work because the\ndeleted volumes will continue to have `null` as their volume_type_id.\n\nThis patches fixes that by including deleted volumes when running the\nonline database migration.\n\nChange-Id: I19b2c88ff2ff96b3cc2776f866babf47b9b77af0\nCloses-Bug: #1893107\n'}]",3,748276,22167f83a0c7e4c56b601fa57c4840277f292836,30,12,2,1004,,,0,"Include deleted volumes for online data migrations

The two online data migrations which moved volumes to the __DEFAULT__
volume type did not include deleted volumes, which meant that the follow
up migration which makes it a nullable value does not work because the
deleted volumes will continue to have `null` as their volume_type_id.

This patches fixes that by including deleted volumes when running the
online database migration.

Change-Id: I19b2c88ff2ff96b3cc2776f866babf47b9b77af0
Closes-Bug: #1893107
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/748276/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,a31cce9b5ca20076def008052566ac7c14ceed13,bug/1893107," models.Volume, read_deleted=""yes"", models.Snapshot, read_deleted=""yes"","," models.Volume, models.Snapshot,",2,2
openstack%2Fpuppet-manila~stable%2Fussuri~Id7a48e12f8b8e5a94476877e091e588718292a68,openstack/puppet-manila,stable/ussuri,Id7a48e12f8b8e5a94476877e091e588718292a68,Use common class to manage apache service in beaker job,MERGED,2020-08-27 15:04:44.000000000,2020-08-27 16:48:21.000000000,2020-08-27 16:48:21.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 15:04:44.000000000', 'files': ['spec/acceptance/basic_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/a307316a538aceba6c2f6db5cf2391933de8b412', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Id7a48e12f8b8e5a94476877e091e588718292a68\n(cherry picked from commit 96f0d2c3f89c6cb1fcb15f533afc0e979512aa64)\n'}]",0,748457,a307316a538aceba6c2f6db5cf2391933de8b412,6,2,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Id7a48e12f8b8e5a94476877e091e588718292a68
(cherry picked from commit 96f0d2c3f89c6cb1fcb15f533afc0e979512aa64)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/57/748457/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_manila_spec.rb'],1,a307316a538aceba6c2f6db5cf2391933de8b412,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-ec2api~stable%2Fussuri~Id1a8cb39478dcf297354e2c0ab5413b40ac278b7,openstack/puppet-ec2api,stable/ussuri,Id1a8cb39478dcf297354e2c0ab5413b40ac278b7,Use common class to manage apache service in beaker job,MERGED,2020-08-27 09:57:06.000000000,2020-08-27 16:48:14.000000000,2020-08-27 16:48:14.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/404da4729fb07d2d06f49017b4da6bd3f7c0f436', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Id1a8cb39478dcf297354e2c0ab5413b40ac278b7\n(cherry picked from commit f9d3b551385aca1f32a410ac6507c42aacd4d48c)\n'}, {'number': 2, 'created': '2020-08-27 10:08:38.000000000', 'files': ['spec/acceptance/basic_ec2api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/5279163d6fc444b7f42c8bf08a78b967fcb74bf1', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Id1a8cb39478dcf297354e2c0ab5413b40ac278b7\n(cherry picked from commit f9d3b551385aca1f32a410ac6507c42aacd4d48c)\n'}]",0,748394,5279163d6fc444b7f42c8bf08a78b967fcb74bf1,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Id1a8cb39478dcf297354e2c0ab5413b40ac278b7
(cherry picked from commit f9d3b551385aca1f32a410ac6507c42aacd4d48c)
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/94/748394/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_ec2api_spec.rb'],1,404da4729fb07d2d06f49017b4da6bd3f7c0f436,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-ceilometer~stable%2Fussuri~I378399a8bd0c9e9d5518e125cd435db403649e45,openstack/puppet-ceilometer,stable/ussuri,I378399a8bd0c9e9d5518e125cd435db403649e45,Use common class to manage apache service in beaker job,MERGED,2020-08-27 15:04:00.000000000,2020-08-27 16:47:44.000000000,2020-08-27 16:47:43.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 15:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/c1047f6d43a64c3ad32d5bf3e82276bd9b844f43', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I378399a8bd0c9e9d5518e125cd435db403649e45\n(cherry picked from commit b7551d7104ce23a9f998a17bf0e928d1c561dac4)\n'}, {'number': 2, 'created': '2020-08-27 15:04:31.000000000', 'files': ['spec/acceptance/ceilometer_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/002ec19e4ebc74f89107270115484257d6a3c575', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I378399a8bd0c9e9d5518e125cd435db403649e45\n(cherry picked from commit b7551d7104ce23a9f998a17bf0e928d1c561dac4)\n'}]",0,748455,002ec19e4ebc74f89107270115484257d6a3c575,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I378399a8bd0c9e9d5518e125cd435db403649e45
(cherry picked from commit b7551d7104ce23a9f998a17bf0e928d1c561dac4)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/55/748455/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ceilometer_wsgi_apache_spec.rb'],1,c1047f6d43a64c3ad32d5bf3e82276bd9b844f43,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-ironic~master~I533bc059470dbd64fa6f6c3b8bfc4bd8fa3a514c,openstack/puppet-ironic,master,I533bc059470dbd64fa6f6c3b8bfc4bd8fa3a514c,Test listen_address in ironic-inspector,ABANDONED,2020-08-27 14:19:43.000000000,2020-08-27 16:45:32.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 14:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/1dff472643b6d10a4c4f567ffcbf532ae24dfe24', 'message': 'Test permissive selinux\n\nDepends-on: https://review.opendev.org/#/c/748334/\nChange-Id: I533bc059470dbd64fa6f6c3b8bfc4bd8fa3a514c\n'}, {'number': 2, 'created': '2020-08-27 14:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/8ce9dd298176023d7a07dd93e433484ca2f5df51', 'message': 'Test permissive selinux\n\nDepends-on: https://review.opendev.org/#/c/748334/\nChange-Id: I533bc059470dbd64fa6f6c3b8bfc4bd8fa3a514c\n'}, {'number': 3, 'created': '2020-08-27 16:10:11.000000000', 'files': ['spec/acceptance/ironic_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/fad26e482e55b389d08c53764d22396dac77e6b8', 'message': 'Test listen_address in ironic-inspector\n\nDepends-on: https://review.opendev.org/#/c/748479/\nChange-Id: I533bc059470dbd64fa6f6c3b8bfc4bd8fa3a514c\n'}]",0,748446,fad26e482e55b389d08c53764d22396dac77e6b8,7,2,3,9816,,,0,"Test listen_address in ironic-inspector

Depends-on: https://review.opendev.org/#/c/748479/
Change-Id: I533bc059470dbd64fa6f6c3b8bfc4bd8fa3a514c
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/46/748446/3 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,1dff472643b6d10a4c4f567ffcbf532ae24dfe24,inspector,,,0,0
openstack%2Ftripleo-specs~master~Iee934ee474bd15e1cdde3b3d7bf76eb829cb032f,openstack/tripleo-specs,master,Iee934ee474bd15e1cdde3b3d7bf76eb829cb032f,"WIP, first pass at a policy for new git repos to TripleO",ABANDONED,2018-05-17 18:56:08.000000000,2020-08-27 16:39:08.000000000,,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-17 18:56:08.000000000', 'files': ['specs/policy/adding-git-repos.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/995ce5cbf618656d17f0a73298ab012d9f24e33c', 'message': 'WIP, first pass at a policy for new git repos to TripleO\n\nChange-Id: Iee934ee474bd15e1cdde3b3d7bf76eb829cb032f\n'}]",3,569224,995ce5cbf618656d17f0a73298ab012d9f24e33c,5,4,1,9592,,,0,"WIP, first pass at a policy for new git repos to TripleO

Change-Id: Iee934ee474bd15e1cdde3b3d7bf76eb829cb032f
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/24/569224/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/policy/adding-git-repos.rst'],1,995ce5cbf618656d17f0a73298ab012d9f24e33c,,"===================================== Adding New Git Repository to TripleO ===================================== New git repositories need to be added following a specific process in order to ensure they are incorporated into the tripleo ecosystem to not unnecessarily block patches and are properly checked and gated. Problem Description =================== We need to have a process for adding git repos to the TripleO project that conform to the procedures and processes used by more mature TripleO projects. The procedures are here to ensure an easy transition to the upstream TripleO project while maintaining quality. Policy ====== The following steps should be completed in the order listed when adding a new job: #. Create a blueprint in launchpad proposing and detailing the new git repository. * The blueprint should include the background with regards to why the new git repository is desired. * Who initially is a core owner and maintainer * A list of check jobs used to test gerrit changes * A list of gate jobs used to gate changes to the repository Have the blueprint reviewed and voted on by the TripleO team and it's core members. This can be done either at an OpenStack PTG or on the openstack-dev email list. #. Once the blueprint has been approved * Upload the first commits and any lint or unit test job definitions. * Ensure the lint and unit test jobs are passing. * Ensure that integration check jobs are defined and merged as non-voting. * The check jobs will need to exercise a significant set of content from the new repository. #. Once there is enough content merged into the repository for integration jobs. * Ensure the non-voting check jobs are moved from non-voting to voting * Ensure that gate jobs are defined and merged. Alternatives & History ====================== Historically, a number of git repositories have been added to the TripleO project with out any defined procedure. This has led to some content being untested or tested improperly for upstream use. Time, effort and wasted resources are the result of improperly adding new git repositories to TripleO. Implementation ============== Author(s) --------- Primary author: weshayutin Milestones ---------- This policy would go into effect immediately. Work Items ---------- This policy is mostly targeted at new git repositories. References ========== `OpenStack Infra Manual <https://docs.openstack.org/infra/manual/>`_ `Adding a New Job <https://docs.openstack.org/infra/manual/drivers.html#running-jobs-with-zuul>`_ Revision History ================ .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,98,0
openstack%2Fbifrost~master~I98f9f7c307d69bf6dc741508cd78a9fa94bc0c15,openstack/bifrost,master,I98f9f7c307d69bf6dc741508cd78a9fa94bc0c15,Allow custom elements by appending existing ELEMENTS_PATH var,MERGED,2020-08-26 13:34:05.000000000,2020-08-27 16:24:57.000000000,2020-08-27 16:23:22.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e210815c797bdd2e33852c78570942f49c5f1877', 'message': 'Allow custom elements by appending existing ELEMENTS_PATH var if exists\n\nChange-Id: I98f9f7c307d69bf6dc741508cd78a9fa94bc0c15\n'}, {'number': 2, 'created': '2020-08-26 13:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7c1d19ab4a0d2f9ada4ee6aff1038d4a6371df46', 'message': 'Allow custom elements by appending existing ELEMENTS_PATH var\n\nChange-Id: I98f9f7c307d69bf6dc741508cd78a9fa94bc0c15\nStory: 2008068\n'}, {'number': 3, 'created': '2020-08-26 14:09:09.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'releasenotes/notes/allow-custom-elements-05c9495c8fd840e8.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9a026a77b2730cc35bbde45bfb5b53e9d6cf7678', 'message': 'Allow custom elements by appending existing ELEMENTS_PATH var\n\nChange-Id: I98f9f7c307d69bf6dc741508cd78a9fa94bc0c15\nStory: 2008068\n'}]",1,748231,9a026a77b2730cc35bbde45bfb5b53e9d6cf7678,13,5,3,30438,,,0,"Allow custom elements by appending existing ELEMENTS_PATH var

Change-Id: I98f9f7c307d69bf6dc741508cd78a9fa94bc0c15
Story: 2008068
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/31/748231/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/tasks/main.yml'],1,e210815c797bdd2e33852c78570942f49c5f1877,custom-elements,"- name: ""Build ELEMENTS_PATH variable from IPA builder element folder"" set_fact: dib_elements_path: ""{{ [ ipa_builder_git_folder + '/dib' ] }}"" - name: ""Add existing ELEMENTS_PATH value if present"" set_fact: dib_elements_path: ""{{ dib_elements_path + [dib_env_vars_final['ELEMENTS_PATH']] }}"" when: ""'ELEMENTS_PATH' in dib_env_vars_final"" dib_env_vars_final: ""{{ dib_env_vars_final | combine({'ELEMENTS_PATH': dib_elements_path | join(':') }) }}"""," dib_env_vars_final: ""{{dib_env_vars_final | combine({'ELEMENTS_PATH': ipa_builder_git_folder + '/dib'}) }}""",8,1
openstack%2Fproject-config~master~Ia2e63af40edd26162d1be46e8ac09c132011f757,openstack/project-config,master,Ia2e63af40edd26162d1be46e8ac09c132011f757,"Remove legacy-tempest-dsvm-neutron-{ipv6only,serviceipv6}",MERGED,2020-08-26 16:35:40.000000000,2020-08-27 16:20:00.000000000,2020-08-27 16:20:00.000000000,"[{'_account_id': 1131}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 16:35:40.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3476a0d80d5b6b758a3253edc34a21472583144a', 'message': 'Remove legacy-tempest-dsvm-neutron-{ipv6only,serviceipv6}\n\nThose legacy jobs, only used by the master branch of neutron\nin the experimental queue, are not needed right now:\n\n- legacy-tempest-dsvm-neutron-serviceipv6 has been replaced by\n  the more ""mainstream"" tempest-ipv6-only job, which sets the same\n  configuration;\n- legacy-tempest-dsvm-neutron-ipv6only is not working right now,\n  it hasn\'t received much attention and it may need some missing\n  bits in devstack. If needed, it will be recreated as native job\n  in the neutron repository.\n\nChange-Id: Ia2e63af40edd26162d1be46e8ac09c132011f757\n'}]",0,748273,3476a0d80d5b6b758a3253edc34a21472583144a,8,5,1,10459,,,0,"Remove legacy-tempest-dsvm-neutron-{ipv6only,serviceipv6}

Those legacy jobs, only used by the master branch of neutron
in the experimental queue, are not needed right now:

- legacy-tempest-dsvm-neutron-serviceipv6 has been replaced by
  the more ""mainstream"" tempest-ipv6-only job, which sets the same
  configuration;
- legacy-tempest-dsvm-neutron-ipv6only is not working right now,
  it hasn't received much attention and it may need some missing
  bits in devstack. If needed, it will be recreated as native job
  in the neutron repository.

Change-Id: Ia2e63af40edd26162d1be46e8ac09c132011f757
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/748273/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,3476a0d80d5b6b758a3253edc34a21472583144a,native-zuulv3-migration,, experimental: jobs: - legacy-tempest-dsvm-neutron-ipv6only: branches: master irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - legacy-tempest-dsvm-neutron-serviceipv6: branches: master irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,0,26
openstack%2Freleases~master~I6ba030f678879d32f99680c68dcd4bff9cc00032,openstack/releases,master,I6ba030f678879d32f99680c68dcd4bff9cc00032,Proposed release schedule for Wallaby (26w),MERGED,2020-08-12 14:48:28.000000000,2020-08-27 16:19:16.000000000,2020-08-27 16:19:16.000000000,"[{'_account_id': 308}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 20635}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-12 14:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f4ac15563c7f1ebb33bb9367e2838de61167e4a5', 'message': ""Proposed release schedule for Wallaby (26w)\n\nThis is a 26 week schedule for the Wallaby release. Planned release date\nis May 5, 2021. We don't have a date set for a first half 2021 event,\nbut it is expected to be some time shortly after this date.\n\nChange-Id: I6ba030f678879d32f99680c68dcd4bff9cc00032\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-08-12 14:51:22.000000000', 'files': ['doc/source/wallaby/schedule.rst', 'doc/source/index.rst', 'doc/source/wallaby/index.rst', 'data/series_status.yaml', 'doc/source/wallaby/highlights.rst', 'doc/source/wallaby/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8060f963f6320e2fa524deb0fc189bb0e338271c', 'message': ""Proposed release schedule for Wallaby (26w)\n\nThis is a 26 week schedule for the Wallaby release. Planned release date\nis April 14, 2021. We don't have a date set for a first half 2021 event,\nbut it is expected to be some time shortly after this date.\n\nChange-Id: I6ba030f678879d32f99680c68dcd4bff9cc00032\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,745911,8060f963f6320e2fa524deb0fc189bb0e338271c,16,8,2,11904,,,0,"Proposed release schedule for Wallaby (26w)

This is a 26 week schedule for the Wallaby release. Planned release date
is April 14, 2021. We don't have a date set for a first half 2021 event,
but it is expected to be some time shortly after this date.

Change-Id: I6ba030f678879d32f99680c68dcd4bff9cc00032
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/745911/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/wallaby/schedule.rst', 'doc/source/index.rst', 'doc/source/wallaby/index.rst', 'data/series_status.yaml', 'doc/source/wallaby/highlights.rst', 'doc/source/wallaby/schedule.yaml']",6,f4ac15563c7f1ebb33bb9367e2838de61167e4a5,wallaby,--- start-week: 2020-10-19 release-week: 2021-05-03 cycle: - end: '2020-10-16' start: '2020-10-12' x-project: - v-final - w-goals-research - end: '2020-10-23' name: R-25 start: '2020-10-19' x-project: - v-summit - end: '2020-10-30' name: R-24 start: '2020-10-26' - end: '2020-11-06' name: R-23 start: '2020-11-02' - end: '2020-11-13' name: R-22 start: '2020-11-09' - end: '2020-11-20' name: R-21 start: '2020-11-16' - end: '2020-11-27' name: R-20 start: '2020-11-23' - end: '2020-12-04' name: R-19 start: '2020-11-30' x-project: - w-1 - end: '2020-12-11' name: R-18 start: '2020-12-07' - end: '2020-12-18' name: R-17 start: '2020-12-14' - end: '2020-12-25' name: R-16 start: '2020-12-21' - end: '2021-01-01' name: R-15 start: '2020-12-28' - end: '2021-01-08' name: R-14 start: '2021-01-04' - end: '2021-01-15' name: R-13 start: '2021-01-11' x-project: - w-cycle-trail - end: '2021-01-22' name: R-12 start: '2021-01-18' x-project: - w-2 - w-mf - end: '2021-01-29' name: R-11 start: '2021-01-25' - end: '2021-02-05' name: R-10 start: '2021-02-01' - end: '2021-02-12' name: R-9 start: '2021-02-08' - end: '2021-02-19' name: R-8 start: '2021-02-15' - end: '2021-02-26' name: R-7 start: '2021-02-22' - end: '2021-03-05' name: R-6 start: '2021-03-01' x-project: - w-final-lib - end: '2021-03-12' name: R-5 start: '2021-03-08' x-project: - w-3 - w-ff - w-final-clientlib - w-soft-sf - w-rf - w-goals-complete - end: '2021-03-19' name: R-4 start: '2021-03-15' - end: '2021-03-26' name: R-3 start: '2021-03-22' x-project: - w-rc1 - w-hard-sf - end: '2021-04-02' name: R-2 start: '2021-03-29' - end: '2021-04-09' name: R-1 start: '2021-04-05' x-project: - w-finalrc - end: '2021-04-16' name: R-0 start: '2021-04-12' x-project: - w-final ,,342,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263,openstack/tripleo-ansible,stable/train,Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263,Create a role for network config,MERGED,2020-08-17 20:37:36.000000000,2020-08-27 16:12:08.000000000,2020-08-27 16:06:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-17 20:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e4ae34afa39a55966ffd8ec51498ad3a60f83d1', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 2, 'created': '2020-08-18 12:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe31e6afbcedc80d5930b79d31be95d06079a8db', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 3, 'created': '2020-08-18 12:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e801bf291f1960c9ce9d3a4e8ef914c833b1703', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 4, 'created': '2020-08-18 13:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/03252e581a053abc96c63fc769ee7d617d41802c', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 5, 'created': '2020-08-18 15:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad3a7f4810e2fc7044bc618b98a2310f95dbb9da', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 6, 'created': '2020-08-19 21:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47700da3bb6a9896412fc78c8f940e965bd88fff', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 7, 'created': '2020-08-20 13:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab01131915a2df4f25d88b7a78fe964219d38766', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 8, 'created': '2020-08-21 14:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/809c97306c36fd260f553d1afbdd83c4b6e9e2f0', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 9, 'created': '2020-08-25 01:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f39157a69ac08aee5fa0086dce61e80a73b10649', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 10, 'created': '2020-08-26 13:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14d691823a9d39d670cb81ab54ead34e29585597', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 11, 'created': '2020-08-26 13:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d64937e8311b7633ba4bf17fc58ae511b808bd71', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 12, 'created': '2020-08-26 15:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3cf6f7beb46013c449dcdc5a8c2e239d45731415', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}, {'number': 13, 'created': '2020-08-26 16:03:51.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-network-config/meta/main.yml', 'tripleo_ansible/roles/tripleo-network-config/defaults/main.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-network-config/tasks/main.yml', 'doc/source/roles/role-tripleo-network-config.rst', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e6044835a8d20b11fb4517d94ac35e9f4e8afe4', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}]",5,746600,7e6044835a8d20b11fb4517d94ac35e9f4e8afe4,53,7,13,3153,,,0,"Create a role for network config

Port the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role
that we can molecule test and improve.

Change-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263
(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/746600/12 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-network-config/meta/main.yml', 'tripleo_ansible/roles/tripleo-network-config/defaults/main.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo-network-config.rst', 'tripleo_ansible/roles/tripleo-network-config/tasks/main.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/converge.yml']",9,0e4ae34afa39a55966ffd8ec51498ad3a60f83d1,train/networkconfig,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all tasks: - name: Success network script block: - name: Temp network script file set_fact: dummy_network_script: /var/tmp/dummy_network_script.sh - name: Write out empty dummy network script delegate_to: localhost copy: dest: ""{{ dummy_network_script }}"" content: | #/bin/bash echo ""stderr"" >&2 exit 0 mode: '0755' - import_role: name: ""tripleo_network_config"" vars: tripleo_network_config_script_path: ""{{ dummy_network_script }}"" # skip service management in a container tripleo_network_config_manage_service: false - name: Check returncode file slurp: path: /var/lib/tripleo-config/os-net-config.returncode register: rc_file - name: returncode file value is debug: msg: ""{{ rc_file.content | b64decode }}"" - assert: that: - rc_file.content | b64decode | int == 0 always: - name: Remove dummy script become: true file: path: ""{{ dummy_network_script }}"" state: absent ignore_errors: true ",,372,0
openstack%2Freleases~master~I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7,openstack/releases,master,I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7,Proposed release schedule for Wallaby,ABANDONED,2020-08-04 14:38:59.000000000,2020-08-27 16:08:07.000000000,,"[{'_account_id': 308}, {'_account_id': 5202}, {'_account_id': 7160}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 20635}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 14:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/116279d5e89eee4906c6f9bd54b1eb386ebf97e8', 'message': ""Propsoed release schedule for Wallaby\n\nThis is a 29 week schedule for the Wallaby release. Planned release date\nis May 5, 2021. We don't have a date set for a first half 2021 event,\nbut it is expected to be some time shortly after this date.\n\nChange-Id: I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-08-04 14:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/104fd555b7b85728686818ef0a94e172019e65f6', 'message': ""Proposed release schedule for Wallaby\n\nThis is a 29 week schedule for the Wallaby release. Planned release date\nis May 5, 2021. We don't have a date set for a first half 2021 event,\nbut it is expected to be some time shortly after this date.\n\nChange-Id: I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 3, 'created': '2020-08-07 19:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/27ccadfd13f2216f8ef489035a83c97adba8f281', 'message': ""Proposed release schedule for Wallaby\n\nThis is a 29 week schedule for the Wallaby release. Planned release date\nis May 5, 2021. We don't have a date set for a first half 2021 event,\nbut it is expected to be some time shortly after this date.\n\nChange-Id: I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 4, 'created': '2020-08-10 13:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/19499c0202ca87de5fef527f4292dfcd0dfe6b4a', 'message': ""Proposed release schedule for Wallaby\n\nThis is a 29 week schedule for the Wallaby release. Planned release date\nis May 5, 2021. We don't have a date set for a first half 2021 event,\nbut it is expected to be some time shortly after this date.\n\nChange-Id: I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 5, 'created': '2020-08-11 13:58:55.000000000', 'files': ['doc/source/wallaby/schedule.rst', 'doc/source/index.rst', 'doc/source/wallaby/index.rst', 'data/series_status.yaml', 'doc/source/wallaby/highlights.rst', 'doc/source/wallaby/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/09664042a99cdda8e227f6bfa6712eab9ee96cfc', 'message': ""Proposed release schedule for Wallaby\n\nThis is a 29 week schedule for the Wallaby release. Planned release date\nis May 5, 2021. We don't have a date set for a first half 2021 event,\nbut it is expected to be some time shortly after this date.\n\nChange-Id: I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",7,744729,09664042a99cdda8e227f6bfa6712eab9ee96cfc,25,9,5,11904,,,0,"Proposed release schedule for Wallaby

This is a 29 week schedule for the Wallaby release. Planned release date
is May 5, 2021. We don't have a date set for a first half 2021 event,
but it is expected to be some time shortly after this date.

Change-Id: I9c1ba4579a57ceb69c31fae385a6e7e9ea522fc7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/744729/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/wallaby/schedule.rst', 'doc/source/index.rst', 'doc/source/wallaby/index.rst', 'data/series_status.yaml', 'doc/source/wallaby/highlights.rst', 'doc/source/wallaby/schedule.yaml']",6,116279d5e89eee4906c6f9bd54b1eb386ebf97e8,wallaby,--- start-week: 2020-10-19 release-week: 2021-05-03 cycle: - end: '2020-10-16' start: '2020-10-12' x-project: - v-final - w-goals-research - end: '2020-10-23' name: R-28 start: '2020-10-19' x-project: - w-summit - end: '2020-10-30' name: R-27 start: '2020-10-26' - end: '2020-11-06' name: R-26 start: '2020-11-02' - end: '2020-11-13' name: R-25 start: '2020-11-09' - end: '2020-11-20' name: R-24 start: '2020-11-16' - end: '2020-11-27' name: R-23 start: '2020-11-23' - end: '2020-12-04' name: R-22 start: '2020-11-30' - end: '2020-12-11' name: R-21 start: '2020-12-07' x-project: - w-1 - end: '2020-12-18' name: R-20 start: '2020-12-14' - end: '2020-12-25' name: R-19 start: '2020-12-21' - end: '2021-01-01' name: R-18 start: '2020-12-28' - end: '2021-01-08' name: R-17 start: '2021-01-04' - end: '2021-01-15' name: R-16 start: '2021-01-11' x-project: - w-cycle-trail - end: '2021-01-22' name: R-15 start: '2021-01-18' - end: '2021-01-29' name: R-14 start: '2021-01-25' - end: '2021-02-05' name: R-13 start: '2021-02-01' x-project: - w-2 - w-mf - end: '2021-02-12' name: R-12 start: '2021-02-08' - end: '2021-02-19' name: R-11 start: '2021-02-15' - end: '2021-02-26' name: R-10 start: '2021-02-22' - end: '2021-03-05' name: R-9 start: '2021-03-01' - end: '2021-03-12' name: R-8 start: '2021-03-08' - end: '2021-03-19' name: R-7 start: '2021-03-15' - end: '2021-03-26' name: R-6 start: '2021-03-22' x-project: - w-final-lib - end: '2021-04-02' name: R-5 start: '2021-03-29' x-project: - w-3 - w-ff - w-final-clientlib - w-soft-sf - w-rf - w-goals-complete - end: '2021-04-09' name: R-4 start: '2021-04-05' - end: '2021-04-16' name: R-3 start: '2021-04-12' x-project: - w-rc1 - w-hard-sf - end: '2021-04-23' name: R-2 start: '2021-04-19' - end: '2021-04-30' name: R-1 start: '2021-04-26' x-project: - w-finalrc - end: '2021-05-07' name: R-0 start: '2021-05-03' x-project: - w-final ,,352,0
openstack%2Fopenstack-helm-infra~master~Ia368444b6216010cb43b4d4dd817123a02338641,openstack/openstack-helm-infra,master,Ia368444b6216010cb43b4d4dd817123a02338641,Remove race condition for monitoring job,MERGED,2020-08-27 13:17:48.000000000,2020-08-27 16:04:28.000000000,2020-08-27 15:56:18.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-27 13:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eff58235e08833aab88145a0f9b64ba0bf1a1120', 'message': 'Remove race condition between alerta and postgresql\n\nChange-Id: Ia368444b6216010cb43b4d4dd817123a02338641\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-27 13:22:07.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e993caf2b7fab18d2a230e903c55fbe953b31a9', 'message': 'Remove race condition for monitoring job\n\nAlerta depends on postgresql. Since no dependency is specified on chart\nlevel, move alerta to the next parallel script set.\n\nChange-Id: Ia368444b6216010cb43b4d4dd817123a02338641\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,748430,9e993caf2b7fab18d2a230e903c55fbe953b31a9,11,6,2,8863,,,0,"Remove race condition for monitoring job

Alerta depends on postgresql. Since no dependency is specified on chart
level, move alerta to the next parallel script set.

Change-Id: Ia368444b6216010cb43b4d4dd817123a02338641
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/748430/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,eff58235e08833aab88145a0f9b64ba0bf1a1120,, - - ./tools/deployment/osh-infra-monitoring/175-alerta.sh - ./tools/deployment/osh-infra-monitoring/600-grafana-selenium.sh || true, - ./tools/deployment/osh-infra-monitoring/175-alerta.sh - - ./tools/deployment/osh-infra-monitoring/600-grafana-selenium.sh || true,2,2
openstack%2Fopenstack-helm-infra~master~I609414330f0c8a65b6c0d3409bded09fcff0bbe0,openstack/openstack-helm-infra,master,I609414330f0c8a65b6c0d3409bded09fcff0bbe0,Allow the storage.tsdb.wal-compression flag to be available,MERGED,2020-08-26 15:43:40.000000000,2020-08-27 16:02:50.000000000,2020-08-27 15:56:17.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 27499}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-08-26 15:43:40.000000000', 'files': ['prometheus/templates/utils/_command_line_flags.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9027d1337fa569621df47405d641fbf0259878c4', 'message': 'Allow the storage.tsdb.wal-compression flag to be\navailable\n\nChange-Id: I609414330f0c8a65b6c0d3409bded09fcff0bbe0\n'}]",3,748261,9027d1337fa569621df47405d641fbf0259878c4,15,7,1,27499,,,0,"Allow the storage.tsdb.wal-compression flag to be
available

Change-Id: I609414330f0c8a65b6c0d3409bded09fcff0bbe0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/748261/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus/templates/utils/_command_line_flags.tpl'],1,9027d1337fa569621df47405d641fbf0259878c4,,"{{- if eq $flag ""web.enable-admin-api"" ""web.enable-lifecycle"" ""storage.tsdb.wal-compression"" -}}","{{- if eq $flag ""web.enable-admin-api"" ""web.enable-lifecycle"" -}}",1,1
openstack%2Ftripleo-quickstart~master~I0d9afef2d05309a24bdae784ce179a085e6fe5b4,openstack/tripleo-quickstart,master,I0d9afef2d05309a24bdae784ce179a085e6fe5b4,DNM - Add puppet-oslo to dlrn-current includepkgs,ABANDONED,2020-08-26 23:46:47.000000000,2020-08-27 15:48:13.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-08-26 23:46:47.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5b72a6e6d5d4a944f515fce716b36dab7bd601f3', 'message': 'DNM - Add puppet-oslo to dlrn-current includepkgs\n\npuppet-heat requires a newer version of puppet-oslo.\nPull puppet-oslo from dlrn-current.\n\nChange-Id: I0d9afef2d05309a24bdae784ce179a085e6fe5b4\n'}]",0,748327,5b72a6e6d5d4a944f515fce716b36dab7bd601f3,5,4,1,9976,,,0,"DNM - Add puppet-oslo to dlrn-current includepkgs

puppet-heat requires a newer version of puppet-oslo.
Pull puppet-oslo from dlrn-current.

Change-Id: I0d9afef2d05309a24bdae784ce179a085e6fe5b4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/27/748327/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,5b72a6e6d5d4a944f515fce716b36dab7bd601f3,puppet-oslo-dlrn-current, - puppet-oslo,,1,0
openstack%2Fnetworking-l2gw-tempest-plugin~master~I6a30b982702d82d99709c003ab6731c6f89fc99a,openstack/networking-l2gw-tempest-plugin,master,I6a30b982702d82d99709c003ab6731c6f89fc99a,Remove networking-l2gw-tempest-plugin python2 jobs,ABANDONED,2019-11-21 15:22:57.000000000,2020-08-27 15:38:26.000000000,,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 15:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/ed9e02c012e8ca3d491080f96000d34fc767df69', 'message': ""Remove networking-l2gw-tempest-plugin python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: I6a30b982702d82d99709c003ab6731c6f89fc99a\n""}, {'number': 2, 'created': '2020-01-06 13:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/13ac916767e11bf3452a12a094b3b3e636629be0', 'message': ""Remove networking-l2gw-tempest-plugin python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: I6a30b982702d82d99709c003ab6731c6f89fc99a\n""}, {'number': 3, 'created': '2020-01-06 14:03:44.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/0851f423a36e0937730d631c39a7b763dc21841d', 'message': ""Remove networking-l2gw-tempest-plugin python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: I6a30b982702d82d99709c003ab6731c6f89fc99a\n""}]",4,695456,0851f423a36e0937730d631c39a7b763dc21841d,11,5,3,8313,,,0,"Remove networking-l2gw-tempest-plugin python2 jobs

Python 2 will be EOL at the end of 2019. Ussuri will no longer support
Python 2 so it's safe to remove python2 jobs and save some CI resources.

Change-Id: I6a30b982702d82d99709c003ab6731c6f89fc99a
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/56/695456/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,ed9e02c012e8ca3d491080f96000d34fc767df69,drop_py27,"envlist = py36,py35,py34,pep8basepython = python3","envlist = py36,py35,py34,py27,pep8basepython = python3[testenv:py27] setenv = OS_FAIL_ON_MISSING_DEPS=1 basepython = python3basepython = python3basepython = python3basepython = python3",2,11
openstack%2Fnetworking-l2gw-tempest-plugin~master~Ic9cb511cd7f7cb2ebe492e7f6db2031cef7da7b0,openstack/networking-l2gw-tempest-plugin,master,Ic9cb511cd7f7cb2ebe492e7f6db2031cef7da7b0,Remove old dependencies towards neutron,ABANDONED,2019-11-15 08:13:06.000000000,2020-08-27 15:38:15.000000000,,"[{'_account_id': 5689}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 08:13:06.000000000', 'files': ['networking_l2gw_tempest_plugin/tests/scenario/test_l2gateways.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/c90352d526714d9ca77441398628d8a626e02edb', 'message': 'Remove old dependencies towards neutron\n\nThis patch aims to remove old and not suggested dependencies towards\nneutron and neutron-tempest-plugin from scenario test.\nNOTE: This is just a step towards making these tests running by zuul or\nany other CI.\n\nChange-Id: Ic9cb511cd7f7cb2ebe492e7f6db2031cef7da7b0\n'}]",0,694470,c90352d526714d9ca77441398628d8a626e02edb,3,3,1,8313,,,0,"Remove old dependencies towards neutron

This patch aims to remove old and not suggested dependencies towards
neutron and neutron-tempest-plugin from scenario test.
NOTE: This is just a step towards making these tests running by zuul or
any other CI.

Change-Id: Ic9cb511cd7f7cb2ebe492e7f6db2031cef7da7b0
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/70/694470/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_l2gw_tempest_plugin/tests/scenario/test_l2gateways.py'],1,c90352d526714d9ca77441398628d8a626e02edb,,from tempest.api.network import basefrom tempest import exceptionsfrom tempest import manager raise lib_exc.TimeoutException(message),from neutron.tests.api import base from neutron_tempest_plugin import exceptions from neutron_tempest_plugin import manager raise exceptions.TimeoutException(message),4,4
openstack%2Fnetworking-l2gw~stable%2Focata~I9d80b52121a3448b91f1838c3961cc233749b610,openstack/networking-l2gw,stable/ocata,I9d80b52121a3448b91f1838c3961cc233749b610,Fix sphinx-docs job for stable branch,ABANDONED,2019-03-28 19:07:38.000000000,2020-08-27 15:38:05.000000000,,"[{'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-28 19:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/32a9404fc1c25f12e073b2e227f93d225061280d', 'message': 'Fix sphinx-docs job for stable branch\n\nThis patch is a stable only, as tox_install.sh is only used up to\nversion Queens.\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to pip\nversion 10 introduced some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nChange-Id: I9d80b52121a3448b91f1838c3961cc233749b610\n(cherry picked from commit 087f45ff5d9d47397a66f57bff91ec878c4cdbed)\n(cherry picked from commit f49ef560512cc9f48c041a9ec5807d03ed1d934a)\n'}, {'number': 2, 'created': '2019-12-18 08:30:49.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/aa4012702c29b5166fe261d2a8c48ad712f033a7', 'message': 'Fix sphinx-docs job for stable branch\n\nThis patch is a stable only, as tox_install.sh is only used up to\nversion Queens.\n\nbuild-openstack-sphinx-docs jobs fail on stable branches due to pip\nversion 10 introduced some previously Warning as Error: in case of\ncalling ""pip install"" without any package name, the command fails.\ntox_install.sh is called during docs job without any package passed to\npip.\n\nChange-Id: I9d80b52121a3448b91f1838c3961cc233749b610\n(cherry picked from commit 087f45ff5d9d47397a66f57bff91ec878c4cdbed)\n(cherry picked from commit f49ef560512cc9f48c041a9ec5807d03ed1d934a)\n'}]",0,648507,aa4012702c29b5166fe261d2a8c48ad712f033a7,20,5,2,17685,,,0,"Fix sphinx-docs job for stable branch

This patch is a stable only, as tox_install.sh is only used up to
version Queens.

build-openstack-sphinx-docs jobs fail on stable branches due to pip
version 10 introduced some previously Warning as Error: in case of
calling ""pip install"" without any package name, the command fails.
tox_install.sh is called during docs job without any package passed to
pip.

Change-Id: I9d80b52121a3448b91f1838c3961cc233749b610
(cherry picked from commit 087f45ff5d9d47397a66f57bff91ec878c4cdbed)
(cherry picked from commit f49ef560512cc9f48c041a9ec5807d03ed1d934a)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/07/648507/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,32a9404fc1c25f12e073b2e227f93d225061280d,pip10-stable-fix,"if [ -z ""$*"" ]; then echo ""No packages to be installed."" exit 0 fi ",,5,0
openstack%2Fnetworking-l2gw~master~Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69,openstack/networking-l2gw,master,Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69,Switch to hacking 3.0.1,ABANDONED,2020-03-20 15:36:26.000000000,2020-08-27 15:37:37.000000000,,"[{'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27336}]","[{'number': 1, 'created': '2020-03-20 15:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/9b1f7a2c4ea282d954f2d84fef8f82dc15ee4d53', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\n* a lot of line break after binary operators\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 2, 'created': '2020-03-26 15:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/0345c19323ec9f5c8b004559e18d9fc241f8c81d', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\n* a lot of line break after binary operators\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 3, 'created': '2020-05-11 13:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c4b4d35b5fa64b98cb992e5618488a238cd68d49', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\n* a lot of line break after binary operators\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 4, 'created': '2020-05-12 07:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/2a49ed3743b9354ab84e012639c1230ab51cb9e3', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\n* a lot of line break after binary operators\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 5, 'created': '2020-05-12 10:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/421b4c510ffeb7923b8137ed60ede6e2c07dd73e', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\n* a lot of line break after binary operators\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 6, 'created': '2020-05-12 15:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/68d8cc833d5f2554b4f219ad08d03296069f53a0', 'message': 'Switch to hacking 3.0\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\n* a lot of line break after binary operators\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 7, 'created': '2020-05-13 13:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/4261d40d077bbd235fcfbf36a9659a2d06fef02a', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\n* a lot of line break after binary operators\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 8, 'created': '2020-05-20 12:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/475958b88d8f029b2e0cd7a07522e206a4fa2b3a', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 9, 'created': '2020-05-20 12:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/bba76b4422104a12669458afbad267a16d735b6c', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 10, 'created': '2020-05-21 09:40:27.000000000', 'files': ['networking_l2gw/cmd/eventlet/__init__.py', 'networking_l2gw/services/l2gateway/service_drivers/rpc_l2gw.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/base_connection.py', 'networking_l2gw/tests/unit/db/ovsdb/test_lib.py', 'test-requirements.txt', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_writer.py', 'lower-constraints.txt', 'networking_l2gw/tests/unit/l2gatewayclient/osc/test_osc_l2gw.py', 'networking_l2gw/db/l2gateway/l2gateway_db.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_monitor.py', 'networking_l2gw/db/l2gateway/ovsdb/lib.py', 'networking_l2gw/services/l2gateway/ovsdb/data.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_ovsdb_writer.py', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/_l2_gateway.py', 'tox.ini', 'networking_l2gw/l2gatewayclient/osc/l2gw.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/manager.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/0568a2148fba7f330269eeeedeb473c37d430875', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* mostly translations\n* some mutable default arguments\n* a few missing whitespace\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\n\nChange-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69\nDepends-On: https://review.opendev.org/#/c/708965/\n'}]",11,714149,0568a2148fba7f330269eeeedeb473c37d430875,31,6,10,8313,,,0,"Switch to hacking 3.0.1

Make the code compatible with hacking rules:
* mostly translations
* some mutable default arguments
* a few missing whitespace
I removed the rule N530 (Direct neutron imports not allowed), as that is
a longer story.

Change-Id: Ie29155b0cae7fe9fa53a61423bee3ced8efe9a69
Depends-On: https://review.opendev.org/#/c/708965/
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/49/714149/6 && git format-patch -1 --stdout FETCH_HEAD,"['networking_l2gw/services/l2gateway/service_drivers/rpc_l2gw.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/base_connection.py', 'networking_l2gw/tests/unit/db/ovsdb/test_lib.py', 'test-requirements.txt', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_writer.py', 'lower-constraints.txt', 'networking_l2gw/tests/unit/l2gatewayclient/osc/test_osc_l2gw.py', 'networking_l2gw/db/l2gateway/l2gateway_db.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_monitor.py', 'networking_l2gw/db/l2gateway/ovsdb/lib.py', 'networking_l2gw/services/l2gateway/ovsdb/data.py', 'networking_l2gw/tests/unit/l2gatewayclient/osc/fakes.py', 'networking_l2gw/tests/unit/services/l2gateway/agent/ovsdb/test_ovsdb_writer.py', 'networking_l2gw/l2gatewayclient/l2gw_client_ext/_l2_gateway.py', 'networking_l2gw/db/l2gateway/db_query.py', 'networking_l2gw/tests/unit/db/test_migrations.py', 'networking_l2gw/services/l2gateway/agent_scheduler.py', 'tox.ini', 'networking_l2gw/db/migration/alembic_migrations/env.py', 'networking_l2gw/l2gatewayclient/osc/l2gw.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/manager.py']",21,9b1f7a2c4ea282d954f2d84fef8f82dc15ee4d53,hacking3,"from networking_l2gw._i18n import _ if (self.conf.ovsdb.max_connection_retries >= self.conf.ovsdb.periodic_interval): raise SystemExit(_(""max_connection_retries should be "" ""less than periodic interval"")) ca_cert_file = (ca_cert_path + ""/"" + ovsdb_identifier + "".ca_cert"")"," if (self.conf.ovsdb.max_connection_retries >= self.conf.ovsdb.periodic_interval): raise SystemExit(""max_connection_retries should be "" ""less than periodic interval"") ca_cert_file = (ca_cert_path + ""/"" + ovsdb_identifier + "".ca_cert"")",229,208
openstack%2Fnetworking-l2gw~master~I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb,openstack/networking-l2gw,master,I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb,Lower-constraints cleanup,ABANDONED,2020-01-13 12:17:22.000000000,2020-08-27 15:37:27.000000000,,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-13 12:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c16cdd9d2500b7a9dbff86444b7256967cb901b7', 'message': 'Remove references for unittest2\n\nunittest2 was needed for python<=2.6, it is time to remove it from\nrequirements.\n\nChange-Id: I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb\n'}, {'number': 2, 'created': '2020-02-20 15:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/4e3453c9f73f3f3b869c4da6e0f14f0daf5e21cb', 'message': 'Lower-constraints cleanup\n\nRefresh lower-constraints contents, like remove unittest2 and change\nryu to os-ken\n\nChange-Id: I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb\n'}, {'number': 3, 'created': '2020-02-20 15:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/7841732fed16a4a910114fa3701d68343d9fbeaf', 'message': 'Lower-constraints cleanup\n\nRefresh lower-constraints contents, like remove unittest2 and change\nryu to os-ken\n\nChange-Id: I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb\n'}, {'number': 4, 'created': '2020-02-25 13:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/24ca477763304b930b9013fb0109459ada43a098', 'message': 'Lower-constraints cleanup\n\nRefresh lower-constraints contents, like remove unittest2 and change\nryu to os-ken\n\nChange-Id: I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb\n'}, {'number': 5, 'created': '2020-05-20 09:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/7f071d5a3850b62282392e08e206e992f8073654', 'message': 'Lower-constraints cleanup\n\nRefresh lower-constraints contents, like remove unittest2 and change\nryu to os-ken\n\nChange-Id: I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb\n'}, {'number': 6, 'created': '2020-05-21 09:36:13.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/57654a01b0f05ed19d7358cf4a346ec5e2bf5951', 'message': 'Lower-constraints cleanup\n\nRefresh lower-constraints contents, like remove unittest2 and change\nryu to os-ken\n\nChange-Id: I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb\n'}]",2,702206,57654a01b0f05ed19d7358cf4a346ec5e2bf5951,20,5,6,8313,,,0,"Lower-constraints cleanup

Refresh lower-constraints contents, like remove unittest2 and change
ryu to os-ken

Change-Id: I6a5806b1c0d400d5a198e5624eaeb0bb6e9c97cb
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/06/702206/6 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,c16cdd9d2500b7a9dbff86444b7256967cb901b7,unittest2,,unittest2==1.1.0,0,1
openstack%2Fnetworking-l2gw~master~I9acb3e044e6f56ec313fff94bc5d36344da14668,openstack/networking-l2gw,master,I9acb3e044e6f56ec313fff94bc5d36344da14668,Change the remaining non python3 compatible code,ABANDONED,2020-02-17 12:43:23.000000000,2020-08-27 15:37:11.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-17 12:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c85e7ad2cfa8a2b5a84e88fab11d62bc0d0c43dc', 'message': 'Change the remaining non python3 compatible code\n\nThe change is based on 2to3 -p networking_l2gw\n\nChange-Id: I9acb3e044e6f56ec313fff94bc5d36344da14668\n'}, {'number': 2, 'created': '2020-02-17 14:50:25.000000000', 'files': ['networking_l2gw/services/l2gateway/agent/ovsdb/impl_idl.py', 'doc/source/conf.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/9787cb1bbd80e7363cabbaf3e4d229d0c63738f2', 'message': 'Change the remaining non python3 compatible code\n\nThe change is based on 2to3 -p networking_l2gw\n\nChange-Id: I9acb3e044e6f56ec313fff94bc5d36344da14668\n'}]",0,708120,9787cb1bbd80e7363cabbaf3e4d229d0c63738f2,7,2,2,8313,,,0,"Change the remaining non python3 compatible code

The change is based on 2to3 -p networking_l2gw

Change-Id: I9acb3e044e6f56ec313fff94bc5d36344da14668
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/20/708120/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_l2gw/services/l2gateway/agent/ovsdb/impl_idl.py', 'networking_l2gw/services/l2gateway/agent/ovsdb/ovsdb_monitor.py']",2,c85e7ad2cfa8a2b5a84e88fab11d62bc0d0c43dc,drop_py27," Initial, Update = list(range(2))"," Initial, Update = range(2)",2,2
openstack%2Fpython-dracclient~master~Iee17de7b7eb746c30fbfaa8b13206b1f0e899a94,openstack/python-dracclient,master,Iee17de7b7eb746c30fbfaa8b13206b1f0e899a94,node last reboot time,ABANDONED,2020-08-27 15:24:08.000000000,2020-08-27 15:31:56.000000000,,[],"[{'number': 1, 'created': '2020-08-27 15:24:08.000000000', 'files': ['dracclient/resources/system.py', 'dracclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/125d8533ee71acd5a460d4a86f1b85f94ab0c2e4', 'message': 'node last reboot time\n\nReturns This property provides the last time System Inventory\ncollection On Reboot(CSIOR) was performed. The value is represented\nas yyyymmddHHMMSS\n\nChange-Id: Iee17de7b7eb746c30fbfaa8b13206b1f0e899a94\nstory:2008058\ntask:40739\n'}]",0,748467,125d8533ee71acd5a460d4a86f1b85f94ab0c2e4,2,0,1,32108,,,0,"node last reboot time

Returns This property provides the last time System Inventory
collection On Reboot(CSIOR) was performed. The value is represented
as yyyymmddHHMMSS

Change-Id: Iee17de7b7eb746c30fbfaa8b13206b1f0e899a94
story:2008058
task:40739
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/67/748467/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/resources/system.py', 'dracclient/client.py']",2,125d8533ee71acd5a460d4a86f1b85f94ab0c2e4,story/2008058,, ,2,2
openstack%2Fpython-dracclient~master~If8abd2a43066f2b29d27900418f2a5b7c31e2687,openstack/python-dracclient,master,If8abd2a43066f2b29d27900418f2a5b7c31e2687,Fixes bug 2008058 * from pyhondracclient getting last time SystemInventory Collection On Reboot,ABANDONED,2020-08-27 15:24:08.000000000,2020-08-27 15:30:49.000000000,,[],"[{'number': 1, 'created': '2020-08-27 15:24:08.000000000', 'files': ['dracclient/resources/system.py', 'dracclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/703547acc0213ecd6e5367716d8bfa5907b05e80', 'message': 'Fixes bug 2008058 * from pyhondracclient getting last time SystemInventory Collection On Reboot\n\nChange-Id: If8abd2a43066f2b29d27900418f2a5b7c31e2687\n'}]",0,748466,703547acc0213ecd6e5367716d8bfa5907b05e80,2,0,1,32108,,,0,"Fixes bug 2008058 * from pyhondracclient getting last time SystemInventory Collection On Reboot

Change-Id: If8abd2a43066f2b29d27900418f2a5b7c31e2687
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/66/748466/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/resources/system.py', 'dracclient/client.py']",2,703547acc0213ecd6e5367716d8bfa5907b05e80,story/2008058," def get_last_system_inventory_time(self): """"""Returns This property provides the last time System Inventory Collection On Reboot(CSIOR) was performed. The value is represented as yyyymmddHHMMSS. :returns: value is represented as yyyymmddHHMMSS :raises: WSManRequestFailure on request failures :raises: WSManInvalidResponse when receiving invalid response :raises: DRACOperationFailed on error reported back by the DRAC interface """""" return self._system_cfg.last_system_inventory_time() ",,31,1
openstack%2Fpuppet-oslo~master~I5016e565a149595e9904d49e8249e1bbc59c21e0,openstack/puppet-oslo,master,I5016e565a149595e9904d49e8249e1bbc59c21e0,Add tripleo standalone job,MERGED,2020-08-27 11:55:26.000000000,2020-08-27 15:22:55.000000000,2020-08-27 15:22:55.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 11:55:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/893205bd3c4be8344b7281e5a35dc0c587cce597', 'message': 'Add tripleo standalone job\n\nA recent change[1] in puppet-oslo breaks the tripleo\njobs.\n\nAdding tripleo-ci-centos-8-standalone job in\ncheck and gate against puppet-oslo project make sure it\ndoes not break the tripleo project.\n\n[1.] https://review.opendev.org/#/c/748067\n\nRelated-Bug: #1893173\n\nChange-Id: I5016e565a149595e9904d49e8249e1bbc59c21e0\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,748418,893205bd3c4be8344b7281e5a35dc0c587cce597,12,8,1,12393,,,0,"Add tripleo standalone job

A recent change[1] in puppet-oslo breaks the tripleo
jobs.

Adding tripleo-ci-centos-8-standalone job in
check and gate against puppet-oslo project make sure it
does not break the tripleo project.

[1.] https://review.opendev.org/#/c/748067

Related-Bug: #1893173

Change-Id: I5016e565a149595e9904d49e8249e1bbc59c21e0
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/18/748418/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,893205bd3c4be8344b7281e5a35dc0c587cce597,increase_coverage, check: jobs: - tripleo-ci-centos-8-standalone gate: jobs: - tripleo-ci-centos-8-standalone queue: tripleo,,7,0
openstack%2Fproject-config~master~If62b350829c450a84f3f2609dc3299de3bafc039,openstack/project-config,master,If62b350829c450a84f3f2609dc3299de3bafc039,Normalize projects.yaml,MERGED,2020-08-27 06:06:13.000000000,2020-08-27 15:16:48.000000000,2020-08-27 15:03:04.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 06:06:13.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9aba0fdd52c19574fcd542dc74614a92e30f8689', 'message': 'Normalize projects.yaml\n\nChange-Id: If62b350829c450a84f3f2609dc3299de3bafc039\n'}]",0,748361,9aba0fdd52c19574fcd542dc74614a92e30f8689,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: If62b350829c450a84f3f2609dc3299de3bafc039
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/748361/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,9aba0fdd52c19574fcd542dc74614a92e30f8689,project-yaml-normalization,, upstream: https://opendev.org/openstack/networking-l2gw.git upstream: https://opendev.org/openstack/networking-l2gw-tempest-plugin.git,0,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I733cec2b34ef0bd0780ba5b0520127b911505e1b,openstack/tripleo-heat-templates,stable/ussuri,I733cec2b34ef0bd0780ba5b0520127b911505e1b,Avoid failing on deleted file,MERGED,2020-08-26 20:40:03.000000000,2020-08-27 15:15:02.000000000,2020-08-27 15:15:02.000000000,"[{'_account_id': 3153}, {'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2020-08-26 20:40:03.000000000', 'files': ['container_config_scripts/tests/test_nova_statedir_ownership.py', 'container_config_scripts/nova_statedir_ownership.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eddbc4b2c4e9e2acf4a59028c9a2752bb8716915', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log the exception instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)\n'}]",0,748306,eddbc4b2c4e9e2acf4a59028c9a2752bb8716915,9,8,1,23811,,,0,"Avoid failing on deleted file

Avoid failing on deleted file as sometimes file might get
deleted while the script run.  Log the exception instead for
troubleshooting purposes.

Change-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b
(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/748306/1 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/tests/test_nova_statedir_ownership.py', 'container_config_scripts/nova_statedir_ownership.py']",2,eddbc4b2c4e9e2acf4a59028c9a2752bb8716915,," self.uid = None self.gid = None self.is_dir = None self.secontext = None try: statinfo = os.stat(self.path) self.is_dir = stat.S_ISDIR(statinfo.st_mode) self.uid = statinfo.st_uid self.gid = statinfo.st_gid self.secontext = selinux.lgetfilecon(self.path)[1] except Exception: LOG.exception('Could not update metadata for %s', self.path) raise raise LOG.exception('Could not set selinux context of %s to %s:', try: pathinfo = PathManager(pathname) LOG.info(""Checking %s"", pathinfo) if pathinfo.is_dir: # Always chown the directories pathinfo.chown(self.target_uid, self.target_gid) chcon_r = chcon if chcon: chcon_r = pathinfo.chcon(self.target_secontext) self._walk(pathname, chcon_r) elif self.id_change: # Only chown files if it's an upgrade and the file is owned by # the host nova uid/gid pathinfo.chown( self.target_uid if pathinfo.uid == self.previous_uid else pathinfo.uid, self.target_gid if pathinfo.gid == self.previous_gid else pathinfo.gid ) if chcon: pathinfo.chcon(self.target_secontext) except Exception: # Likely to have been caused by external systems # interacting with this directory tree, # especially on NFS e.g snapshot dirs. # Just ignore it and continue on to the next entry continue"," statinfo = os.stat(self.path) self.is_dir = stat.S_ISDIR(statinfo.st_mode) self.uid = statinfo.st_uid self.gid = statinfo.st_gid self.secontext = selinux.lgetfilecon(self.path)[1] LOG.error('Could not set selinux context of %s to %s:', pathinfo = PathManager(pathname) LOG.info(""Checking %s"", pathinfo) if pathinfo.is_dir: # Always chown the directories pathinfo.chown(self.target_uid, self.target_gid) chcon_r = chcon if chcon: chcon_r = pathinfo.chcon(self.target_secontext) self._walk(pathname, chcon_r) elif self.id_change: # Only chown files if it's an upgrade and the file is owned by # the host nova uid/gid pathinfo.chown( self.target_uid if pathinfo.uid == self.previous_uid else pathinfo.uid, self.target_gid if pathinfo.gid == self.previous_gid else pathinfo.gid ) if chcon: pathinfo.chcon(self.target_secontext)",120,33
openstack%2Fpuppet-swift~stable%2Fussuri~I88ac89d1d2da6b596ee9523b3f186c338cc15a7b,openstack/puppet-swift,stable/ussuri,I88ac89d1d2da6b596ee9523b3f186c338cc15a7b,Use common class to manage apache service in beaker job,MERGED,2020-08-27 09:58:13.000000000,2020-08-27 15:05:56.000000000,2020-08-27 15:05:56.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/655528c13b919b084b551bd50dd4345d5e357951', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I88ac89d1d2da6b596ee9523b3f186c338cc15a7b\n(cherry picked from commit 5c68fd9be983494661ac455ac4ce44b1ad50a251)\n'}, {'number': 2, 'created': '2020-08-27 10:10:28.000000000', 'files': ['spec/acceptance/basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f03caf518235e11cfb09f351544fd4276af58af2', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I88ac89d1d2da6b596ee9523b3f186c338cc15a7b\n(cherry picked from commit 5c68fd9be983494661ac455ac4ce44b1ad50a251)\n'}]",0,748401,f03caf518235e11cfb09f351544fd4276af58af2,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I88ac89d1d2da6b596ee9523b3f186c338cc15a7b
(cherry picked from commit 5c68fd9be983494661ac455ac4ce44b1ad50a251)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/01/748401/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_swift_spec.rb'],1,655528c13b919b084b551bd50dd4345d5e357951,centos8-beaker-stable/ussuri, include openstack_integration::apache include openstack_integration::apache,,2,0
openstack%2Fpuppet-manila~master~Id7a48e12f8b8e5a94476877e091e588718292a68,openstack/puppet-manila,master,Id7a48e12f8b8e5a94476877e091e588718292a68,Use common class to manage apache service in beaker job,MERGED,2020-08-27 10:32:17.000000000,2020-08-27 15:04:44.000000000,2020-08-27 14:53:27.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 10:32:17.000000000', 'files': ['spec/acceptance/basic_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/96f0d2c3f89c6cb1fcb15f533afc0e979512aa64', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Id7a48e12f8b8e5a94476877e091e588718292a68\n'}]",0,748406,96f0d2c3f89c6cb1fcb15f533afc0e979512aa64,8,3,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Id7a48e12f8b8e5a94476877e091e588718292a68
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/06/748406/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_manila_spec.rb'],1,96f0d2c3f89c6cb1fcb15f533afc0e979512aa64,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-ceilometer~master~I378399a8bd0c9e9d5518e125cd435db403649e45,openstack/puppet-ceilometer,master,I378399a8bd0c9e9d5518e125cd435db403649e45,Use common class to manage apache service in beaker job,MERGED,2020-08-27 10:30:06.000000000,2020-08-27 15:04:00.000000000,2020-08-27 14:51:06.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 10:30:06.000000000', 'files': ['spec/acceptance/ceilometer_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b7551d7104ce23a9f998a17bf0e928d1c561dac4', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I378399a8bd0c9e9d5518e125cd435db403649e45\n'}]",0,748404,b7551d7104ce23a9f998a17bf0e928d1c561dac4,8,3,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I378399a8bd0c9e9d5518e125cd435db403649e45
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/04/748404/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ceilometer_wsgi_apache_spec.rb'],1,b7551d7104ce23a9f998a17bf0e928d1c561dac4,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fopenstack-helm-infra~master~Ia32969d97b439119e8a2f2aca796f6585747e5fa,openstack/openstack-helm-infra,master,Ia32969d97b439119e8a2f2aca796f6585747e5fa,Overriding apparmor profile in values.yaml,MERGED,2020-08-25 17:31:14.000000000,2020-08-27 15:01:45.000000000,2020-08-27 14:59:31.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-25 17:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d85c6594a6eecb42183bbef440e0a445dc6ab335', 'message': 'Overriding apparmor profile  in values.yaml\n\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 2, 'created': '2020-08-25 17:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/27aeb06a25d222b4ba0b59dda9a9866110135a3d', 'message': 'Overriding apparmor profile  in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 3, 'created': '2020-08-25 18:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e59a44d4c11d91e18924b68e904dd7c51f8ac180', 'message': 'Overriding apparmor profile  in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 4, 'created': '2020-08-25 19:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7188176f336af3758b9618c0d2a0c6462f6369cc', 'message': 'Overriding apparmor profile  in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 5, 'created': '2020-08-25 20:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b3c11b89b2e2ba44c9ece090ba1ab4219cba759', 'message': 'Overriding apparmor profile  in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 6, 'created': '2020-08-26 03:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a5a3173d26782659001a462ca99998deec0a5cc', 'message': 'Overriding apparmor profile  in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 7, 'created': '2020-08-26 15:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6764d354a8479b5bbfa53ed1e079e97284004e1c', 'message': 'Overriding apparmor profile  in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 8, 'created': '2020-08-26 15:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afcbc7cd020d354559e6f69fb10f7c1b211a0f71', 'message': 'Overriding apparmor profile in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}, {'number': 9, 'created': '2020-08-26 15:54:59.000000000', 'files': ['prometheus-blackbox-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/421b73af3ac28713fb58604097bb22512dab2043', 'message': 'Overriding apparmor profile in values.yaml\n\nTemplate is already added here:\nhttps://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35\n\nChange-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa\n'}]",1,747990,421b73af3ac28713fb58604097bb22512dab2043,31,13,9,29144,,,0,"Overriding apparmor profile in values.yaml

Template is already added here:
https://github.com/openstack/openstack-helm-infra/blob/master/prometheus-blackbox-exporter/templates/deployment.yaml#L35

Change-Id: Ia32969d97b439119e8a2f2aca796f6585747e5fa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/747990/9 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-blackbox-exporter/values.yaml'],1,d85c6594a6eecb42183bbef440e0a445dc6ab335,, mandatory_access_control: type: apparmor prometheus_blackbox_exporter: blackbox_exporter: runtime/default,,4,0
openstack%2Fgrenade~master~I0a31ff3d22ce63af87610343316fcdcc46425a1c,openstack/grenade,master,I0a31ff3d22ce63af87610343316fcdcc46425a1c,Disable all import methods if glance is not standalone,ABANDONED,2020-07-17 16:41:28.000000000,2020-08-27 14:59:55.000000000,,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-17 16:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/223f381484dc77fdcc4d96c4a33eaf375f881f44', 'message': 'Disable all import methods if glance is not standalone\n\nWhen we upgrade from U->V, we need to disable all the import methods\nif Glance is not standalone for API correctness. This was introduced\nas a requirement in [1] and devstack now does this on new installs[2].\nDuring an upgrade, this needs to be done against the old config file\nin order to pass the strict check in Victoria Glance.\n\nWe want this to be very visible for operators, because right now\nGlance API is advertising features that are impossible to support\nin pure-WSGI mode.\n\n[1] https://review.opendev.org/#/c/741497/\n[2] https://review.opendev.org/#/c/741507/\n\nChange-Id: I0a31ff3d22ce63af87610343316fcdcc46425a1c\n'}, {'number': 2, 'created': '2020-07-20 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/5d97ddefb81a23a8d5bead36fcfbe85ef6569d1e', 'message': 'Disable all import methods if glance is not standalone\n\nWhen we upgrade from U->V, we need to disable all the import methods\nif Glance is not standalone for API correctness. This was introduced\nas a requirement in [1] and devstack now does this on new installs[2].\nDuring an upgrade, this needs to be done against the old config file\nin order to pass the strict check in Victoria Glance.\n\nWe want this to be very visible for operators, because right now\nGlance API is advertising features that are impossible to support\nin pure-WSGI mode.\n\n[1] https://review.opendev.org/#/c/741497/\n[2] https://review.opendev.org/#/c/741507/\n\nChange-Id: I0a31ff3d22ce63af87610343316fcdcc46425a1c\n'}, {'number': 3, 'created': '2020-07-20 15:21:11.000000000', 'files': ['projects/40_glance/from-ussuri/upgrade-glance'], 'web_link': 'https://opendev.org/openstack/grenade/commit/7a863223d5360482a8e25aaacd009589c74a77d1', 'message': 'Disable all import methods if glance is not standalone\n\nWhen we upgrade from U->V, we need to disable all the import methods\nif Glance is not standalone for API correctness. This was introduced\nas a requirement in [1] and devstack now does this on new installs[2].\nDuring an upgrade, this needs to be done against the old config file\nin order to pass the strict check in Victoria Glance.\n\nWe want this to be very visible for operators, because right now\nGlance API is advertising features that are impossible to support\nin pure-WSGI mode.\n\n[1] https://review.opendev.org/#/c/741497/\n[2] https://review.opendev.org/#/c/741507/\n\nChange-Id: I0a31ff3d22ce63af87610343316fcdcc46425a1c\n'}]",0,741675,7a863223d5360482a8e25aaacd009589c74a77d1,11,4,3,4393,,,0,"Disable all import methods if glance is not standalone

When we upgrade from U->V, we need to disable all the import methods
if Glance is not standalone for API correctness. This was introduced
as a requirement in [1] and devstack now does this on new installs[2].
During an upgrade, this needs to be done against the old config file
in order to pass the strict check in Victoria Glance.

We want this to be very visible for operators, because right now
Glance API is advertising features that are impossible to support
in pure-WSGI mode.

[1] https://review.opendev.org/#/c/741497/
[2] https://review.opendev.org/#/c/741507/

Change-Id: I0a31ff3d22ce63af87610343316fcdcc46425a1c
",git fetch https://review.opendev.org/openstack/grenade refs/changes/75/741675/1 && git format-patch -1 --stdout FETCH_HEAD,['projects/40_glance/from-ussuri/upgrade-glance'],1,223f381484dc77fdcc4d96c4a33eaf375f881f44,glance-victoria-wsgi,"#!/usr/bin/env bash source ${TARGET_DEVSTACK_DIR}/lib/glance source ${TARGET_DEVSTACK_DIR}/inc/ini-config function configure_glance_upgrade { if [[ ""$GLANCE_STANDALONE"" == ""False"" ]]; then # NOTE(danms): Do not advertise import methods if we are running in WSGI mode # This was a requirement added in Victoria, where even the <=Ussuri default # was incorrect for standalone mode. iniset $GLANCE_API_CONF enabled_import_methods [] } ",,11,0
openstack%2Fpuppet-octavia~stable%2Fussuri~I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43,openstack/puppet-octavia,stable/ussuri,I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43,Use common class to manage apache service in beaker job,MERGED,2020-08-27 09:58:05.000000000,2020-08-27 14:57:11.000000000,2020-08-27 14:57:11.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ad01b9ceb92fd8616f4da721eb2f589a319c9564', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43\n(cherry picked from commit 41c181975cba2ea963f9f213be4366b96d9a241f)\n'}, {'number': 2, 'created': '2020-08-27 10:10:13.000000000', 'files': ['spec/acceptance/octavia_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/75c557562ef46abc6eba808cf7903aa14ff06c26', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43\n(cherry picked from commit 41c181975cba2ea963f9f213be4366b96d9a241f)\n'}]",0,748400,75c557562ef46abc6eba808cf7903aa14ff06c26,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43
(cherry picked from commit 41c181975cba2ea963f9f213be4366b96d9a241f)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/00/748400/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/octavia_spec.rb'],1,ad01b9ceb92fd8616f4da721eb2f589a319c9564,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-designate~stable%2Fussuri~Ic6e773a53dc93f71d73285cd2812d8943dd7690a,openstack/puppet-designate,stable/ussuri,Ic6e773a53dc93f71d73285cd2812d8943dd7690a,Use common class to manage apache service in beaker job,MERGED,2020-08-27 09:57:55.000000000,2020-08-27 14:54:54.000000000,2020-08-27 14:54:54.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/86a8426c38cf74d81caa82ee38f5f3ace5b68d0c', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Ic6e773a53dc93f71d73285cd2812d8943dd7690a\n(cherry picked from commit 345059eba88228dd939e0fd79eb224385fb28e23)\n'}, {'number': 2, 'created': '2020-08-27 10:09:53.000000000', 'files': ['spec/acceptance/basic_designate_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/48e59e6e72daccf04354905af680ef7ce9df8213', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Ic6e773a53dc93f71d73285cd2812d8943dd7690a\n(cherry picked from commit 345059eba88228dd939e0fd79eb224385fb28e23)\n'}]",0,748399,48e59e6e72daccf04354905af680ef7ce9df8213,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Ic6e773a53dc93f71d73285cd2812d8943dd7690a
(cherry picked from commit 345059eba88228dd939e0fd79eb224385fb28e23)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/99/748399/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_designate_spec.rb'],1,86a8426c38cf74d81caa82ee38f5f3ace5b68d0c,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-magnum~stable%2Fussuri~I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e,openstack/puppet-magnum,stable/ussuri,I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e,Use common class to manage apache and magnum service in beaker job,MERGED,2020-08-27 09:57:28.000000000,2020-08-27 14:53:20.000000000,2020-08-27 14:53:20.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/addb86b356ee9c32e739971b40b3b02eef4f7e10', 'message': 'Use common class to manage apache and magnum service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e\n(cherry picked from commit 990078c687981dcf23595bf3ae7c07147db37fcd)\n'}, {'number': 2, 'created': '2020-08-27 10:09:14.000000000', 'files': ['spec/acceptance/basic_magnum_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/20ec1a8950fc2a442a27140d1b597fde0d6bdd4f', 'message': 'Use common class to manage apache and magnum service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e\n(cherry picked from commit 990078c687981dcf23595bf3ae7c07147db37fcd)\n'}]",0,748396,20ec1a8950fc2a442a27140d1b597fde0d6bdd4f,8,3,2,9816,,,0,"Use common class to manage apache and magnum service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e
(cherry picked from commit 990078c687981dcf23595bf3ae7c07147db37fcd)
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/96/748396/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_magnum_spec.rb'],1,addb86b356ee9c32e739971b40b3b02eef4f7e10,centos8-beaker-stable/ussuri, include openstack_integration::apache class { 'openstack_integration::magnum': it { is_expected.to be_listening }," rabbitmq_vhost { '/magnum': provider => 'rabbitmqctl', require => Class['rabbitmq'], } rabbitmq_user { 'magnum': admin => true, password => 'an_even_bigger_secret', provider => 'rabbitmqctl', require => Class['rabbitmq'], } rabbitmq_user_permissions { 'magnum@/': configure_permission => '.*', write_permission => '.*', read_permission => '.*', provider => 'rabbitmqctl', require => Class['rabbitmq'], } # Magnum resources class { 'magnum::keystone::auth': password => 'a_big_secret', public_url => 'http://127.0.0.1:9511/v1', internal_url => 'http://127.0.0.1:9511/v1', admin_url => 'http://127.0.0.1:9511/v1', } class { 'magnum::keystone::authtoken': password => 'a_big_secret', } class { 'magnum::db::mysql': password => 'magnum', } class { 'magnum::logging': debug => true, } class { 'magnum::db': database_connection => 'mysql://magnum:magnum@127.0.0.1/magnum', } class { 'magnum::keystone::domain': domain_password => 'oh_my_no_secret', } class { 'magnum': default_transport_url => 'rabbit://magnum:an_even_bigger_secret@127.0.0.1:5672/', rabbit_use_ssl => false, notification_driver => 'messagingv2', } class { 'magnum::api': service_name => 'httpd', } include apache include magnum::wsgi::apache class { 'magnum::conductor': } class { 'magnum::client': } class { 'magnum::certificates': class { 'magnum::clients': } it { is_expected.to be_listening.with('tcp6') }",3,64
openstack%2Fpuppet-cloudkitty~stable%2Fussuri~If81062b91bbb5b091a08e53e1bc50af39d67920d,openstack/puppet-cloudkitty,stable/ussuri,If81062b91bbb5b091a08e53e1bc50af39d67920d,Use common class to manage apache service in beaker job,MERGED,2020-08-27 09:57:45.000000000,2020-08-27 14:53:00.000000000,2020-08-27 14:53:00.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/6333bd753cc9786e18f289749b96d12d2736e581', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: If81062b91bbb5b091a08e53e1bc50af39d67920d\n(cherry picked from commit 52df4f098b960be0a9f4857d8b809bc732a920e3)\n'}, {'number': 2, 'created': '2020-08-27 10:09:40.000000000', 'files': ['spec/acceptance/cloudkitty_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/060580be0973a3b2862f3b7de02117cd916a9caa', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: If81062b91bbb5b091a08e53e1bc50af39d67920d\n(cherry picked from commit 52df4f098b960be0a9f4857d8b809bc732a920e3)\n'}]",0,748398,060580be0973a3b2862f3b7de02117cd916a9caa,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: If81062b91bbb5b091a08e53e1bc50af39d67920d
(cherry picked from commit 52df4f098b960be0a9f4857d8b809bc732a920e3)
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/98/748398/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/cloudkitty_wsgi_apache_spec.rb'],1,6333bd753cc9786e18f289749b96d12d2736e581,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fkolla-ansible~stable%2Fussuri~I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,openstack/kolla-ansible,stable/ussuri,I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5,Add cinder auth config to nova-cell nova.conf.j2,MERGED,2020-08-21 16:04:33.000000000,2020-08-27 14:49:46.000000000,2020-08-27 14:47:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-08-21 16:04:33.000000000', 'files': ['releasenotes/notes/fix-evacuate-cinder-encryption-489f8cf6a340e7be.yaml', 'ansible/roles/nova-cell/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/652d3eeb5fd2aad1a7951405df2b63847167140b', 'message': 'Add cinder auth config to nova-cell nova.conf.j2\n\nFixes an issue during deleting evacuated instances with encrypted block\ndevices.\n\nChange-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5\nCloses-Bug: 1891462\nRelated-Bug: 1850279\n(cherry picked from commit de16013bd630019c4febdb618a3e0c5bf93f7e6f)\n'}]",0,747438,652d3eeb5fd2aad1a7951405df2b63847167140b,13,5,1,30491,,,0,"Add cinder auth config to nova-cell nova.conf.j2

Fixes an issue during deleting evacuated instances with encrypted block
devices.

Change-Id: I9b9b689ef7e1e41b597e2c5f6b96f3ed011193c5
Closes-Bug: 1891462
Related-Bug: 1850279
(cherry picked from commit de16013bd630019c4febdb618a3e0c5bf93f7e6f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/747438/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-evacuate-cinder-encryption-489f8cf6a340e7be.yaml', 'ansible/roles/nova-cell/templates/nova.conf.j2']",2,652d3eeb5fd2aad1a7951405df2b63847167140b,bug/1891462-stable/ussuri,auth_url = {{ keystone_admin_url }} auth_type = password project_domain_name = {{ default_project_domain_name }} user_domain_id = {{ default_user_domain_id }} project_name = service username = {{ cinder_keystone_user }} password = {{ cinder_keystone_password }},,13,0
openstack%2Fmasakari~stable%2Fussuri~I01af664d53db20041ac7306d2bca63254ffc9ede,openstack/masakari,stable/ussuri,I01af664d53db20041ac7306d2bca63254ffc9ede,Fix exception notification with no trace,MERGED,2020-08-05 14:43:07.000000000,2020-08-27 14:48:43.000000000,2020-08-27 14:46:08.000000000,"[{'_account_id': 16532}, {'_account_id': 22348}, {'_account_id': 22437}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-08-05 14:43:07.000000000', 'files': ['masakari/notifications/objects/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/f0434014568bab29d5642dee4817267b6b2ff4e7', 'message': 'Fix exception notification with no trace\n\nThe Exception notification code calls inspect.trace(), which returns an\nempty list if called outside of an except clause. The returned list is\nthen indexed, causing an IndexError. In fact, every use of this\nexception in the engine is from outside of an except clause.\n\nThis can affect notification processing, causing notifications to get\nstuck in a running state, requiring manual DB deletion.\n\nThis change addresses the issue by checking whether the list returned by\ninspect.trace() is empty.\n\nA more complete solution would involve checking every call path to the\nexception notification, and ensuring that it is made from an except\nclause.\n\nChange-Id: I01af664d53db20041ac7306d2bca63254ffc9ede\nPartial-Bug: #1889765\n(cherry picked from commit 69a9a41802edf21c8e4784835654697e13db9ca2)\n'}]",0,744914,f0434014568bab29d5642dee4817267b6b2ff4e7,11,7,1,14826,,,0,"Fix exception notification with no trace

The Exception notification code calls inspect.trace(), which returns an
empty list if called outside of an except clause. The returned list is
then indexed, causing an IndexError. In fact, every use of this
exception in the engine is from outside of an except clause.

This can affect notification processing, causing notifications to get
stuck in a running state, requiring manual DB deletion.

This change addresses the issue by checking whether the list returned by
inspect.trace() is empty.

A more complete solution would involve checking every call path to the
exception notification, and ensuring that it is made from an except
clause.

Change-Id: I01af664d53db20041ac7306d2bca63254ffc9ede
Partial-Bug: #1889765
(cherry picked from commit 69a9a41802edf21c8e4784835654697e13db9ca2)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/14/744914/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/notifications/objects/exception.py'],1,f0434014568bab29d5642dee4817267b6b2ff4e7,bug/1889765-stable/ussuri," trace = inspect.trace() # FIXME(mgoddard): In some code paths we reach this point without being # inside an exception handler. This results in inspect.trace() # returning an empty list. Ideally we should only end up here from an # exception handler. if trace: trace = trace[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]) function_name = trace[3] else: module = None function_name = 'unknown' function_name=function_name,"," trace = inspect.trace()[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]) function_name=trace[3],",16,6
openstack%2Fmasakari~stable%2Ftrain~I01af664d53db20041ac7306d2bca63254ffc9ede,openstack/masakari,stable/train,I01af664d53db20041ac7306d2bca63254ffc9ede,Fix exception notification with no trace,MERGED,2020-08-05 14:43:18.000000000,2020-08-27 14:47:54.000000000,2020-08-27 14:46:07.000000000,"[{'_account_id': 16532}, {'_account_id': 22348}, {'_account_id': 22437}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 30491}, {'_account_id': 32304}, {'_account_id': 32343}]","[{'number': 1, 'created': '2020-08-05 14:43:18.000000000', 'files': ['masakari/notifications/objects/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/087f2658915fdbe46b5124d681ae18000fb90015', 'message': 'Fix exception notification with no trace\n\nThe Exception notification code calls inspect.trace(), which returns an\nempty list if called outside of an except clause. The returned list is\nthen indexed, causing an IndexError. In fact, every use of this\nexception in the engine is from outside of an except clause.\n\nThis can affect notification processing, causing notifications to get\nstuck in a running state, requiring manual DB deletion.\n\nThis change addresses the issue by checking whether the list returned by\ninspect.trace() is empty.\n\nA more complete solution would involve checking every call path to the\nexception notification, and ensuring that it is made from an except\nclause.\n\nChange-Id: I01af664d53db20041ac7306d2bca63254ffc9ede\nPartial-Bug: #1889765\n(cherry picked from commit 69a9a41802edf21c8e4784835654697e13db9ca2)\n'}]",0,744915,087f2658915fdbe46b5124d681ae18000fb90015,12,8,1,14826,,,0,"Fix exception notification with no trace

The Exception notification code calls inspect.trace(), which returns an
empty list if called outside of an except clause. The returned list is
then indexed, causing an IndexError. In fact, every use of this
exception in the engine is from outside of an except clause.

This can affect notification processing, causing notifications to get
stuck in a running state, requiring manual DB deletion.

This change addresses the issue by checking whether the list returned by
inspect.trace() is empty.

A more complete solution would involve checking every call path to the
exception notification, and ensuring that it is made from an except
clause.

Change-Id: I01af664d53db20041ac7306d2bca63254ffc9ede
Partial-Bug: #1889765
(cherry picked from commit 69a9a41802edf21c8e4784835654697e13db9ca2)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/15/744915/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/notifications/objects/exception.py'],1,087f2658915fdbe46b5124d681ae18000fb90015,bug/1889765-stable/train," trace = inspect.trace() # FIXME(mgoddard): In some code paths we reach this point without being # inside an exception handler. This results in inspect.trace() # returning an empty list. Ideally we should only end up here from an # exception handler. if trace: trace = trace[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]) function_name = trace[3] else: module = None function_name = 'unknown' function_name=function_name,"," trace = inspect.trace()[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]) function_name=trace[3],",16,6
openstack%2Fmasakari~stable%2Fstein~I01af664d53db20041ac7306d2bca63254ffc9ede,openstack/masakari,stable/stein,I01af664d53db20041ac7306d2bca63254ffc9ede,Fix exception notification with no trace,MERGED,2020-08-05 14:43:27.000000000,2020-08-27 14:44:33.000000000,2020-08-27 14:42:41.000000000,"[{'_account_id': 16532}, {'_account_id': 22348}, {'_account_id': 22437}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-08-05 14:43:27.000000000', 'files': ['masakari/notifications/objects/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/fc3cdd7520aea14d5d380a485d3fd72f283c13e7', 'message': 'Fix exception notification with no trace\n\nThe Exception notification code calls inspect.trace(), which returns an\nempty list if called outside of an except clause. The returned list is\nthen indexed, causing an IndexError. In fact, every use of this\nexception in the engine is from outside of an except clause.\n\nThis can affect notification processing, causing notifications to get\nstuck in a running state, requiring manual DB deletion.\n\nThis change addresses the issue by checking whether the list returned by\ninspect.trace() is empty.\n\nA more complete solution would involve checking every call path to the\nexception notification, and ensuring that it is made from an except\nclause.\n\nChange-Id: I01af664d53db20041ac7306d2bca63254ffc9ede\nPartial-Bug: #1889765\n(cherry picked from commit 69a9a41802edf21c8e4784835654697e13db9ca2)\n'}]",0,744916,fc3cdd7520aea14d5d380a485d3fd72f283c13e7,11,7,1,14826,,,0,"Fix exception notification with no trace

The Exception notification code calls inspect.trace(), which returns an
empty list if called outside of an except clause. The returned list is
then indexed, causing an IndexError. In fact, every use of this
exception in the engine is from outside of an except clause.

This can affect notification processing, causing notifications to get
stuck in a running state, requiring manual DB deletion.

This change addresses the issue by checking whether the list returned by
inspect.trace() is empty.

A more complete solution would involve checking every call path to the
exception notification, and ensuring that it is made from an except
clause.

Change-Id: I01af664d53db20041ac7306d2bca63254ffc9ede
Partial-Bug: #1889765
(cherry picked from commit 69a9a41802edf21c8e4784835654697e13db9ca2)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/16/744916/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/notifications/objects/exception.py'],1,fc3cdd7520aea14d5d380a485d3fd72f283c13e7,bug/1889765-stable/stein," trace = inspect.trace() # FIXME(mgoddard): In some code paths we reach this point without being # inside an exception handler. This results in inspect.trace() # returning an empty list. Ideally we should only end up here from an # exception handler. if trace: trace = trace[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]) function_name = trace[3] else: module = None function_name = 'unknown' function_name=function_name,"," trace = inspect.trace()[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]) function_name=trace[3],",16,6
openstack%2Fpuppet-trove~stable%2Fussuri~I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac,openstack/puppet-trove,stable/ussuri,I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac,Use common class to manage apache service in beaker job,MERGED,2020-08-27 09:57:36.000000000,2020-08-27 14:43:36.000000000,2020-08-27 14:43:36.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/f79b0a232d4409d30b5ee6045f1a285972862dde', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac\n(cherry picked from commit ecce3cb65a8de35813e01ba2290f37fa67ea1359)\n'}, {'number': 2, 'created': '2020-08-27 10:09:28.000000000', 'files': ['spec/acceptance/basic_trove_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/d6f2b865ef96e5697a7d07d9df9aac21cd586d12', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac\n(cherry picked from commit ecce3cb65a8de35813e01ba2290f37fa67ea1359)\n'}]",0,748397,d6f2b865ef96e5697a7d07d9df9aac21cd586d12,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac
(cherry picked from commit ecce3cb65a8de35813e01ba2290f37fa67ea1359)
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/97/748397/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_trove_spec.rb'],1,f79b0a232d4409d30b5ee6045f1a285972862dde,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-horizon~stable%2Fussuri~I190277da7b98d40bf0f772e37d016f34caa9e9a2,openstack/puppet-horizon,stable/ussuri,I190277da7b98d40bf0f772e37d016f34caa9e9a2,Use common class to manage apache service in beaker job,MERGED,2020-08-27 09:57:18.000000000,2020-08-27 14:40:53.000000000,2020-08-27 14:40:53.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 09:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3883c54e35dba6e16cc242d0a597e370b71976e1', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I190277da7b98d40bf0f772e37d016f34caa9e9a2\n(cherry picked from commit c0b61ceffaf815effea7938393d452c43466a901)\n'}, {'number': 2, 'created': '2020-08-27 10:09:01.000000000', 'files': ['spec/acceptance/horizon_with_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6eb4f5fc129402a0a0af7d708b33ddbe7a942a2b', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I190277da7b98d40bf0f772e37d016f34caa9e9a2\n(cherry picked from commit c0b61ceffaf815effea7938393d452c43466a901)\n'}]",0,748395,6eb4f5fc129402a0a0af7d708b33ddbe7a942a2b,8,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I190277da7b98d40bf0f772e37d016f34caa9e9a2
(cherry picked from commit c0b61ceffaf815effea7938393d452c43466a901)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/95/748395/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/horizon_with_apache_spec.rb'],1,3883c54e35dba6e16cc242d0a597e370b71976e1,centos8-beaker-stable/ussuri, include openstack_integration::apache include openstack_integration::apache,,2,0
openstack%2Fcharm-ceph-iscsi~master~I04016c152b02112afac47fe9364b0c494984ff5b,openstack/charm-ceph-iscsi,master,I04016c152b02112afac47fe9364b0c494984ff5b,Remove dummy manifest,MERGED,2020-08-27 09:53:04.000000000,2020-08-27 14:18:46.000000000,2020-08-27 14:18:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-27 09:53:04.000000000', 'files': ['.build.manifest'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/3d80e0cb9f4311c7b686cc78c3b712a4b14c295e', 'message': 'Remove dummy manifest\n\nChange-Id: I04016c152b02112afac47fe9364b0c494984ff5b\n'}]",0,748393,3d80e0cb9f4311c7b686cc78c3b712a4b14c295e,9,4,1,12549,,,0,"Remove dummy manifest

Change-Id: I04016c152b02112afac47fe9364b0c494984ff5b
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/93/748393/1 && git format-patch -1 --stdout FETCH_HEAD,['.build.manifest'],1,3d80e0cb9f4311c7b686cc78c3b712a4b14c295e,remove-dummy-manifest,,See venv directory ,0,1
openstack%2Fcharm-ceph-fs~master~Iee6ee64e7bd672f9932037bf91670d8f59083aa4,openstack/charm-ceph-fs,master,Iee6ee64e7bd672f9932037bf91670d8f59083aa4,Tidy configuration options,MERGED,2020-08-27 10:32:35.000000000,2020-08-27 14:15:38.000000000,2020-08-27 14:15:38.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 10:32:35.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/513da36a163be267295c18e701b716cffc5a0d38', 'message': 'Tidy configuration options\n\nUpdate descriptions and align metadata-pool configuration option\nwith codebase. Metadata pools are used by CephFS for both replicated\nand erasure-coded data pools.\n\nChange-Id: Iee6ee64e7bd672f9932037bf91670d8f59083aa4\n'}]",0,748407,513da36a163be267295c18e701b716cffc5a0d38,7,3,1,935,,,0,"Tidy configuration options

Update descriptions and align metadata-pool configuration option
with codebase. Metadata pools are used by CephFS for both replicated
and erasure-coded data pools.

Change-Id: Iee6ee64e7bd672f9932037bf91670d8f59083aa4
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/07/748407/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,513da36a163be267295c18e701b716cffc5a0d38,config-tidy," Name of the data pool to be created/used. If not defined a data pool name will be generated based on the name of the application. metadata-pool: type: string default: description: | Name of the metadata pool to be created/used. If not defined a metadata pool name will be generated based on the name of the application. The metadata pool is always replicated, not erasure coded."," Optionally specify an existing rbd pool that cinder should map to. ec-rbd-metadata-pool: type: string default: description: | Name of the metadata pool to be created (for RBD use-cases). If not defined a metadata pool name will be generated based on the name of the data pool used by the application. The metadata pool is always replicated, not erasure coded.",9,9
openstack%2Fnova~master~Iecfea312c27cdf8a2fa2fde30424bdfd160acaca,openstack/nova,master,Iecfea312c27cdf8a2fa2fde30424bdfd160acaca,DNM: add logging for device matching,ABANDONED,2020-08-05 15:57:53.000000000,2020-08-27 14:12:42.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-05 15:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a47aecc783881f8aa54aafcf5688b12bb102e3d', 'message': 'DNM: add logging for device matching\n\nChange-Id: Iecfea312c27cdf8a2fa2fde30424bdfd160acaca\n'}, {'number': 2, 'created': '2020-08-05 16:39:25.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b413aab34b3762aa7358f5cd9ad86cdae3b63f57', 'message': 'DNM: add logging for device matching\n\nChange-Id: Iecfea312c27cdf8a2fa2fde30424bdfd160acaca\n'}]",4,744936,b413aab34b3762aa7358f5cd9ad86cdae3b63f57,13,8,2,9708,,,0,"DNM: add logging for device matching

Change-Id: Iecfea312c27cdf8a2fa2fde30424bdfd160acaca
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/744936/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/virt/libvirt/guest.py']",2,5a47aecc783881f8aa54aafcf5688b12bb102e3d,bp/sriov-interface-attach-detach," LOG.error('!!! No libvirt device matched for nova generated device %s', vars(cfg)) ",,7,0
openstack%2Fpuppet-trove~master~I36c37be9c17cad076fb261457c5ee5ee3fb50cf7,openstack/puppet-trove,master,I36c37be9c17cad076fb261457c5ee5ee3fb50cf7,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-27 13:58:11.000000000,2020-08-27 13:55:47.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/1b0de05ad129dbdac25fedb16f03bd8fe8676d90', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I36c37be9c17cad076fb261457c5ee5ee3fb50cf7\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['manifests/db.pp', 'spec/classes/trove_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b5f429ce4141a4e4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/f6d7eb879450f642c1af9c3a86bb9c10bd9136b4', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I36c37be9c17cad076fb261457c5ee5ee3fb50cf7\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748084,f6d7eb879450f642c1af9c3a86bb9c10bd9136b4,14,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I36c37be9c17cad076fb261457c5ee5ee3fb50cf7
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/84/748084/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/trove_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b5f429ce4141a4e4.yaml']",3,1b0de05ad129dbdac25fedb16f03bd8fe8676d90,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fpuppet-ec2api~master~Ib0abe3b751e65df7f73e02fc9feb472c6fd15471,openstack/puppet-ec2api,master,Ib0abe3b751e65df7f73e02fc9feb472c6fd15471,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-27 13:46:29.000000000,2020-08-27 13:44:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/bf4f1c6e5cae1c93d6bb9d5008a4777a8237b9b5', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ib0abe3b751e65df7f73e02fc9feb472c6fd15471\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:23.000000000', 'files': ['spec/classes/ec2api_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-8dff7590e124387d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/fe9d2f513f961c0155fee47e27cf62571561f20c', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ib0abe3b751e65df7f73e02fc9feb472c6fd15471\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748087,fe9d2f513f961c0155fee47e27cf62571561f20c,14,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Ib0abe3b751e65df7f73e02fc9feb472c6fd15471
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/87/748087/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ec2api_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-8dff7590e124387d.yaml']",3,bf4f1c6e5cae1c93d6bb9d5008a4777a8237b9b5,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fkolla~master~Id99d275eca5970e9897bbf3e289c37351ba9bdb5,openstack/kolla,master,Id99d275eca5970e9897bbf3e289c37351ba9bdb5,bifrost: stop sourcing env-vars,MERGED,2020-08-27 08:59:21.000000000,2020-08-27 13:42:14.000000000,2020-08-27 13:39:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 08:59:21.000000000', 'files': ['docker/bifrost/bifrost-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/22f63ab54079550cfe0c0ea36eca9823ddf595ea', 'message': 'bifrost: stop sourcing env-vars\n\nThis file has been removed from bifrost, and is not necessary for building.\n\nChange-Id: Id99d275eca5970e9897bbf3e289c37351ba9bdb5\n'}]",0,748381,22f63ab54079550cfe0c0ea36eca9823ddf595ea,9,2,1,14826,,,0,"bifrost: stop sourcing env-vars

This file has been removed from bifrost, and is not necessary for building.

Change-Id: Id99d275eca5970e9897bbf3e289c37351ba9bdb5
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/748381/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/bifrost/bifrost-base/Dockerfile.j2'],1,22f63ab54079550cfe0c0ea36eca9823ddf595ea,, bash -c './scripts/env-setup.sh && \, bash -c './scripts/env-setup.sh && source ./env-vars && \,1,1
openstack%2Fcharm-neutron-gateway~master~I8b459135d131e16865de40ff3eae16ea3bc7195e,openstack/charm-neutron-gateway,master,I8b459135d131e16865de40ff3eae16ea3bc7195e,Mark OVS bridges and ports as managed by charm-neutron-gateway,MERGED,2020-04-02 16:19:22.000000000,2020-08-27 13:35:03.000000000,2020-08-27 13:35:03.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-04-02 16:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/02dee15915d6a9f3600bfab1d845feccd5dcee79', 'message': ""Mark OVS bridges and ports as managed by this charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/217\nPartial-Bug: #1809190\n""}, {'number': 2, 'created': '2020-04-02 16:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/e01b22e645b57bb792fca649fa1a0d15a241545e', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/217\nPartial-Bug: #1809190\n""}, {'number': 3, 'created': '2020-04-03 07:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/43cfe8bdf5b2ce602892ab05f02bb046ec714613', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/217\nPartial-Bug: #1809190\n""}, {'number': 4, 'created': '2020-04-06 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/f01c9dc95d4283124e53b92b989b39f5ee024cd6', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/217\nPartial-Bug: #1809190\n""}, {'number': 5, 'created': '2020-04-10 12:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/f34cf9b7e75465bc2f1c5ac12c853c43957b1378', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if, and only if, 'data-port' is set, then the 'ext-port' config\noption is ignored.  A message is logged and the status message is used\nto indicate a mis-configuration.  The README and config.yaml are updated\nto reflect this change.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/217\nPartial-Bug: #1809190\n""}, {'number': 6, 'created': '2020-05-04 19:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/fe5ef09725c235d78ea839eafbe21f176765e1c9', 'message': ""[WIP] Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 7, 'created': '2020-06-30 14:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/6b8d5b65a5870a016fc099bf01718744adf93a0b', 'message': ""[WIP] Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 8, 'created': '2020-07-03 07:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/0d0fdadefde944ccfe875809c8874a948a961c11', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 9, 'created': '2020-07-07 11:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/7842456f23e028d2d3b0ebf39b3edacd36db5ebe', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 10, 'created': '2020-07-17 14:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/f86effe6ace49fc4079d9fcaa5c482106156c2c2', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 11, 'created': '2020-07-22 15:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/76b7a0dd47b3443b5628291800c9e5b218a9d7ae', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 12, 'created': '2020-07-23 12:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/7bf6d295bd0b03d9bd56ef775037635e6b01db97', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nRelated documentation:\n* Deployment guide / Upgrades / Known issues: https://review.opendev.org/630290\n* Release notes: https://review.opendev.org/742660\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 13, 'created': '2020-08-26 11:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/1fb1c43c9d74b54537da2cc56544061cc832b705', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nRelated documentation:\n* Deployment guide / Upgrades / Known issues: https://review.opendev.org/630290\n* Release notes: https://review.opendev.org/742660\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/255\nPartial-Bug: #1809190\n""}, {'number': 14, 'created': '2020-08-27 10:00:47.000000000', 'files': ['tests/tests.yaml', 'unit_tests/test_neutron_utils.py', 'config.yaml', 'hooks/neutron_utils.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/bbc621edca348c2d0a9061bffb6d65f823b236c1', 'message': ""Mark OVS bridges and ports as managed by charm-neutron-gateway\n\nThis patchset updates the configure_ovs() function in\nhooks/neutron_utils.py such that ports and bridges in OVS are marked as\nbeing managed by this charm.  This will allow us to clean up obsolete\nmanaged bridges and ports in a later patchset.  (On configuration change\nnew ports and bridges might be created and former ones might become\nobsolete.)\n\nThis patchset also fully deprecates the 'ext-port' config option such\nthat if both 'data-port' and 'ext-port' config options are set, the unit\nis blocked.  The README and config.yaml are updated to reflect this\nchange.\n\nThis patchset also fixes and removes a few dead links.\n\nRelies on a charm-helpers version containing these patchsets:\nhttps://github.com/juju/charm-helpers/pull/443\nhttps://github.com/juju/charm-helpers/pull/447\nhttps://github.com/juju/charm-helpers/pull/449\n\nRelated documentation:\n* Deployment guide / Upgrades / Known issues: https://review.opendev.org/630290\n* Release notes: https://review.opendev.org/742660\n\nChange-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e\nPartial-Bug: #1809190\n""}]",14,717074,bbc621edca348c2d0a9061bffb6d65f823b236c1,106,7,14,31289,,,0,"Mark OVS bridges and ports as managed by charm-neutron-gateway

This patchset updates the configure_ovs() function in
hooks/neutron_utils.py such that ports and bridges in OVS are marked as
being managed by this charm.  This will allow us to clean up obsolete
managed bridges and ports in a later patchset.  (On configuration change
new ports and bridges might be created and former ones might become
obsolete.)

This patchset also fully deprecates the 'ext-port' config option such
that if both 'data-port' and 'ext-port' config options are set, the unit
is blocked.  The README and config.yaml are updated to reflect this
change.

This patchset also fixes and removes a few dead links.

Relies on a charm-helpers version containing these patchsets:
https://github.com/juju/charm-helpers/pull/443
https://github.com/juju/charm-helpers/pull/447
https://github.com/juju/charm-helpers/pull/449

Related documentation:
* Deployment guide / Upgrades / Known issues: https://review.opendev.org/630290
* Release notes: https://review.opendev.org/742660

Change-Id: I8b459135d131e16865de40ff3eae16ea3bc7195e
Partial-Bug: #1809190
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/74/717074/7 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'unit_tests/test_neutron_utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'config.yaml', 'hooks/charmhelpers/contrib/network/ovs/ovn.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/network/ovs/utils.py', 'hooks/neutron_utils.py', 'README.md']",11,02dee15915d6a9f3600bfab1d845feccd5dcee79,bug/1809190,"See the upstream [Neutron documentation](https://docs.openstack.org/neutron/latest/)Note: if the 'data-port' config item is set, then the 'ext-port' option is ignored. This is to prevent mis-configuration of the charm. A warning is logged and the status message is updated to indicate that the charm is misconfigured. ",See the upstream [Neutron documentation](http://docs.openstack.org/trunk/openstack-network/admin/content/use_cases_single_router.html)See upstream [Neutron multi extnet](http://docs.openstack.org/trunk/config-reference/content/adv_cfg_l3_agent_multi_extnet.html) OpenStack upstream documentation recommends a MTU value of 1400: [OpenStack documentation](http://docs.openstack.org/admin-guide-cloud/content/openvswitch_plugin.html) ,788,69
openstack%2Fpython-cloudkittyclient~master~I0d1e18d3315c30302cd4020a3ed627b789b5aafb,openstack/python-cloudkittyclient,master,I0d1e18d3315c30302cd4020a3ed627b789b5aafb,Remove translation sections from setup.cfg,ABANDONED,2020-08-27 00:33:09.000000000,2020-08-27 13:25:49.000000000,,"[{'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 00:33:09.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/d54e4090ecb295d5584cd845a7178319d4a14f26', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I0d1e18d3315c30302cd4020a3ed627b789b5aafb\n'}]",0,748330,d54e4090ecb295d5584cd845a7178319d4a14f26,6,3,1,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I0d1e18d3315c30302cd4020a3ed627b789b5aafb
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/30/748330/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,d54e4090ecb295d5584cd845a7178319d4a14f26,,, [compile_catalog] directory = cloudkittyclient/locale domain = python-cloudkittyclient [update_catalog] domain = python-cloudkittyclient output_dir = cloudkittyclient/locale input_file = cloudkittyclient/locale/python-cloudkittyclient.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = cloudkittyclient/locale/python-cloudkittyclient.pot,0,16
openstack%2Fpuppet-magnum~master~Ie52c40a91e4a83b6eb0efb2df59231df503dc02f,openstack/puppet-magnum,master,Ie52c40a91e4a83b6eb0efb2df59231df503dc02f,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-27 13:25:23.000000000,2020-08-27 13:23:38.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/6bef97da8092388857642e17b3d0da02ad539936', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ie52c40a91e4a83b6eb0efb2df59231df503dc02f\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:24.000000000', 'files': ['manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-b415eb0a24946f31.yaml', 'spec/classes/magnum_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/96c4b3c80eb4e922a269aca720836c2a50d75d48', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ie52c40a91e4a83b6eb0efb2df59231df503dc02f\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748089,96c4b3c80eb4e922a269aca720836c2a50d75d48,14,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Ie52c40a91e4a83b6eb0efb2df59231df503dc02f
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/89/748089/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-b415eb0a24946f31.yaml', 'spec/classes/magnum_db_spec.rb']",3,6bef97da8092388857642e17b3d0da02ad539936,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,14,0
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I0d12f2c4efafc7a8a998d846814c94eb39927c26,openstack/puppet-openstack-integration,stable/ussuri,I0d12f2c4efafc7a8a998d846814c94eb39927c26,r10k: Replace removed env parameters by options,MERGED,2020-08-26 13:37:59.000000000,2020-08-27 13:15:06.000000000,2020-08-27 13:15:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/338351f6540b6e81e7838024cefe43c231d82358', 'message': 'r10k: Replace removed env parameters by options\n\nThe environment parameters, PUPPETFILE_DIR and PUPPETFILE is no longer\nvalid in r10k command, so should be replaced by options, --moduledir\nand --puppetfile[1].\n\n[1] https://github.com/puppetlabs/r10k/commit/ea477d4729a7895e5f7d4ae4a41ac0f8f0eda1c9\n\nBackport note:\nThis backport includes the fix[1] for regression caused by original\npatch in master.\n[1] 88e0f5e99eaae337e8bbf80e8cdfc7a4ff0f8d81\n\nChange-Id: I0d12f2c4efafc7a8a998d846814c94eb39927c26\n(cherry picked from commit baecae04600329a79984bc3e1cd54bb893a9ca91)\n'}, {'number': 2, 'created': '2020-08-26 13:51:02.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e507e974081210f199c285bcdcd311c26e931ae9', 'message': 'r10k: Replace removed env parameters by options\n\nThe environment parameters, PUPPETFILE_DIR and PUPPETFILE is no longer\nvalid in r10k command, so should be replaced by options, --moduledir\nand --puppetfile[1].\n\n[1] https://github.com/puppetlabs/r10k/commit/ea477d4729a7895e5f7d4ae4a41ac0f8f0eda1c9\n\nBackport note:\nThis backport includes the fix[1] for regression caused by original\npatch in master.\n[1] 88e0f5e99eaae337e8bbf80e8cdfc7a4ff0f8d81\n\nChange-Id: I0d12f2c4efafc7a8a998d846814c94eb39927c26\n(cherry picked from commit baecae04600329a79984bc3e1cd54bb893a9ca91)\n'}]",0,748234,e507e974081210f199c285bcdcd311c26e931ae9,12,4,2,9816,,,0,"r10k: Replace removed env parameters by options

The environment parameters, PUPPETFILE_DIR and PUPPETFILE is no longer
valid in r10k command, so should be replaced by options, --moduledir
and --puppetfile[1].

[1] https://github.com/puppetlabs/r10k/commit/ea477d4729a7895e5f7d4ae4a41ac0f8f0eda1c9

Backport note:
This backport includes the fix[1] for regression caused by original
patch in master.
[1] 88e0f5e99eaae337e8bbf80e8cdfc7a4ff0f8d81

Change-Id: I0d12f2c4efafc7a8a998d846814c94eb39927c26
(cherry picked from commit baecae04600329a79984bc3e1cd54bb893a9ca91)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/748234/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,338351f6540b6e81e7838024cefe43c231d82358,centos8-beaker-stable/ussuri, r10k -v DEBUG puppetfile install \ --puppetfile ${SCRIPT_DIR}/Puppetfile1 \ --moduledir ${PUPPETFILE_DIR}# - ``PUPPETFILE_DIR`` must be set to Puppet modules directory r10k -v DEBUG puppetfile install \ --puppetfile ${SCRIPT_DIR}/Puppetfile \ --moduledir ${PUPPETFILE_DIR}, PUPPETFILE=${SCRIPT_DIR}/Puppetfile1 r10k -v DEBUG puppetfile install PUPPETFILE=${SCRIPT_DIR}/Puppetfile r10k -v DEBUG puppetfile install,7,2
openstack%2Ftripleo-ci~master~I73ef6c907ed33f2ca4e20c410b3313615179501b,openstack/tripleo-ci,master,I73ef6c907ed33f2ca4e20c410b3313615179501b,Switch to openstack-* container prefix,MERGED,2020-08-20 17:12:01.000000000,2020-08-27 13:06:17.000000000,2020-08-27 13:06:17.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-20 17:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c7bf4e8bb3639a70d654768b2f03eed4a9aedca2', 'message': ""Switch to openstack-* container prefix\n\nFor master and victoria onwards container prefix should be\n'openstack-*'. Stable branches will keep using 'centos-binary-*'\nnaming prefix.\n\nChange-Id: I73ef6c907ed33f2ca4e20c410b3313615179501b\n""}, {'number': 2, 'created': '2020-08-20 17:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7d999ef38c0184bada2a5674c0abac7ca7e20623', 'message': ""Switch to openstack-* container prefix\n\nFor master and victoria onwards container prefix should be\n'openstack-*'. Stable branches will keep using 'centos-binary-*'\nnaming prefix.\n\nChange-Id: I73ef6c907ed33f2ca4e20c410b3313615179501b\n""}, {'number': 3, 'created': '2020-08-21 12:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c71598b54ebd73d9fb25f532900880f45f68bc9', 'message': ""Switch to openstack-* container prefix\n\nFor master and victoria onwards container prefix should be\n'openstack-*'. Stable branches will keep using 'centos-binary-*'\nnaming prefix.\n\nChange-Id: I73ef6c907ed33f2ca4e20c410b3313615179501b\n""}, {'number': 4, 'created': '2020-08-21 13:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9423c292e565c85c706a83a2fd63a074daf60131', 'message': 'Switch to openstack-* container prefix\n\nFor downstream openstack container prefix is used and for\nupstream centos-binary is used. It makes it conditional\nbased on above statement.\n\nChange-Id: I73ef6c907ed33f2ca4e20c410b3313615179501b\n'}, {'number': 5, 'created': '2020-08-24 19:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ba9f790b216a35d15c1984922d2e50b5f67af49', 'message': 'Switch to openstack-* container prefix\n\nFor downstream openstack container prefix is used and for\nupstream centos-binary is used. It makes it conditional\nbased on above statement.\n\nChange-Id: I73ef6c907ed33f2ca4e20c410b3313615179501b\n'}, {'number': 6, 'created': '2020-08-24 19:39:40.000000000', 'files': ['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/efdb3b7a31eabc986bc49b63d339995548ac54ee', 'message': ""Switch to openstack-* container prefix\n\nFor master and victoria onwards container prefix should be\n'openstack-*'. Stable branches will keep using 'centos-binary-*'\nnaming prefix.\n\nChange-Id: I73ef6c907ed33f2ca4e20c410b3313615179501b\n""}]",7,747259,efdb3b7a31eabc986bc49b63d339995548ac54ee,29,8,6,8175,,,0,"Switch to openstack-* container prefix

For master and victoria onwards container prefix should be
'openstack-*'. Stable branches will keep using 'centos-binary-*'
naming prefix.

Change-Id: I73ef6c907ed33f2ca4e20c410b3313615179501b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/59/747259/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/defaults/main.yaml']",2,c7bf4e8bb3639a70d654768b2f03eed4a9aedca2,container-prefix,"container_name_prefix: >- {% if release in ['queens','rocky','stein','train','ussuri'] -%} centos-binary {%- else -%} openstack {%- endif -%}","container_name_prefix: ""{{ ansible_distribution|lower }}""",7,2
openstack%2Fpuppet-octavia~master~I209ce6353962f7af77f44125b14bf5436d790e57,openstack/puppet-octavia,master,I209ce6353962f7af77f44125b14bf5436d790e57,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-27 12:09:03.000000000,2020-08-27 12:07:04.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/398ac282b93f4efa0ac542be0cf97ea292c94783', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I209ce6353962f7af77f44125b14bf5436d790e57\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['manifests/db.pp', 'spec/classes/octavia_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-9f3a4bef514e040d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f1bf9208a656d645c5b03499e306e1ae5d2026d8', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I209ce6353962f7af77f44125b14bf5436d790e57\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748077,f1bf9208a656d645c5b03499e306e1ae5d2026d8,14,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I209ce6353962f7af77f44125b14bf5436d790e57
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/77/748077/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/octavia_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-9f3a4bef514e040d.yaml']",3,398ac282b93f4efa0ac542be0cf97ea292c94783,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Foctavia~stable%2Ftrain~I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,openstack/octavia,stable/train,I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,Fix accepting 'insert_headers' when unsupported,MERGED,2020-08-18 21:35:51.000000000,2020-08-27 12:06:43.000000000,2020-08-27 12:01:33.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 21:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d12f4d03e1fdf2be898891e27380eaa2c0be007c', 'message': ""Fix accepting 'insert_headers' when unsupported\n\nThis patch fixes the Octavia listener API from accepting the\n'insert_headers' parameter for protocols that do not support header\ninsertion.\n\nChange-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb\nStory: 2007967\nTask: 40464\n(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)\n""}, {'number': 2, 'created': '2020-08-25 21:05:23.000000000', 'files': ['octavia/common/constants.py', 'releasenotes/notes/fix-protocol-header-insertion-mismatch-e3aeb5f5fee0348b.yaml', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0117d21588db66d4751f95de6d21b8c52e474960', 'message': ""Fix accepting 'insert_headers' when unsupported\n\nThis patch fixes the Octavia listener API from accepting the\n'insert_headers' parameter for protocols that do not support header\ninsertion.\n\nChange-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb\nStory: 2007967\nTask: 40464\n(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)\n""}]",60,746804,0117d21588db66d4751f95de6d21b8c52e474960,16,4,2,11628,,,0,"Fix accepting 'insert_headers' when unsupported

This patch fixes the Octavia listener API from accepting the
'insert_headers' parameter for protocols that do not support header
insertion.

Change-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb
Story: 2007967
Task: 40464
(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/746804/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/tests/functional/api/v2/test_listener.py', 'releasenotes/notes/fix-protocol-header-insertion-mismatch-e3aeb5f5fee0348b.yaml', 'octavia/api/v2/controllers/listener.py']",4,d12f4d03e1fdf2be898891e27380eaa2c0be007c,," if (listener_protocol not in constants.LISTENER_PROTOCOLS_SUPPORTING_HEADER_INSERTION): raise exceptions.InvalidOption( value='insert-headers', option=('a %s protocol listener.' % listener_protocol)) raise exceptions.ValidationException( detail=_(""%s protocol listener does not "" ""support TLS."") % constants.PROTOCOL_UDP)"," raise exceptions.ValidationException(detail=_( ""%s protocol listener does not support TLS or header "" ""insertion."") % constants.PROTOCOL_UDP)",83,11
openstack%2Foctavia~stable%2Fussuri~I4c4f2b540dd6394208f0b60cb0b2aa0579b32ad7,openstack/octavia,stable/ussuri,I4c4f2b540dd6394208f0b60cb0b2aa0579b32ad7,Pin pylint for stable branches,MERGED,2020-08-21 23:14:03.000000000,2020-08-27 12:05:06.000000000,2020-08-27 12:01:31.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 23:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c50d3f16fb7d658a63cda909c56ac427c9b1c996', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I4c4f2b540dd6394208f0b60cb0b2aa0579b32ad7\n'}, {'number': 2, 'created': '2020-08-24 15:50:30.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e377fa8a73fa2d9c5b6fb83c585abebbaf2b18e', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I4c4f2b540dd6394208f0b60cb0b2aa0579b32ad7\n'}]",1,747497,5e377fa8a73fa2d9c5b6fb83c585abebbaf2b18e,11,3,2,11628,,,0,"Pin pylint for stable branches

This patch pins the pylint version used on the Octavia stable
release branches to 2.5.3.
As time passes, the lint tools add new rules, many related to new
python versions that the stable branches may not support.
This patch will pin pylint to 2.5.3.

Change-Id: I4c4f2b540dd6394208f0b60cb0b2aa0579b32ad7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/747497/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c50d3f16fb7d658a63cda909c56ac427c9b1c996,,pylint==2.5.3 # GPLv2,pylint>=2.2.0 # GPLv2,1,1
openstack%2Foctavia~stable%2Ftrain~I0cecb76bfe438659fc324b327a845323c93f015a,openstack/octavia,stable/train,I0cecb76bfe438659fc324b327a845323c93f015a,Pin pylint for stable branches,MERGED,2020-08-21 23:26:28.000000000,2020-08-27 12:04:55.000000000,2020-08-27 12:01:32.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 23:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3beb325b5888935635e6d1cbdfa5a56917a64f35', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I0cecb76bfe438659fc324b327a845323c93f015a\n'}, {'number': 2, 'created': '2020-08-21 23:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cb0e0bdbb1ac4913cf9fcd0b21115de65f130873', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I0cecb76bfe438659fc324b327a845323c93f015a\n'}, {'number': 3, 'created': '2020-08-21 23:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2aab5a27ab96538acc9091eb58f94f409410451e', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I0cecb76bfe438659fc324b327a845323c93f015a\n'}, {'number': 4, 'created': '2020-08-21 23:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9048e52a20dcf45b47f1daad990ee7ffede50ae', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I0cecb76bfe438659fc324b327a845323c93f015a\n'}, {'number': 5, 'created': '2020-08-22 00:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/74f42b7a906fe19a27de843e561e6434c1aad349', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I0cecb76bfe438659fc324b327a845323c93f015a\n'}, {'number': 6, 'created': '2020-08-24 15:49:30.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/60ddeb65c4ec9a2e0f0bddc42a95afba71a0ae62', 'message': 'Pin pylint for stable branches\n\nThis patch pins the pylint version used on the Octavia stable\nrelease branches to 2.5.3.\nAs time passes, the lint tools add new rules, many related to new\npython versions that the stable branches may not support.\nThis patch will pin pylint to 2.5.3.\n\nChange-Id: I0cecb76bfe438659fc324b327a845323c93f015a\n'}]",2,747498,60ddeb65c4ec9a2e0f0bddc42a95afba71a0ae62,16,4,6,11628,,,0,"Pin pylint for stable branches

This patch pins the pylint version used on the Octavia stable
release branches to 2.5.3.
As time passes, the lint tools add new rules, many related to new
python versions that the stable branches may not support.
This patch will pin pylint to 2.5.3.

Change-Id: I0cecb76bfe438659fc324b327a845323c93f015a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/747498/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3beb325b5888935635e6d1cbdfa5a56917a64f35,,pylint==2.5.3;python_version>='3.0' # GPLv2,pylint>=1.9.2;python_version>='3.0' # GPLv2,1,1
openstack%2Fneutron~stable%2Fstein~I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,openstack/neutron,stable/stein,I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,Fix deletion of subnet_id from pd_subnets,MERGED,2020-08-25 07:00:00.000000000,2020-08-27 12:04:45.000000000,2020-08-27 12:00:42.000000000,"[{'_account_id': 1131}, {'_account_id': 5792}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 07:00:00.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/907bd92595e6593f35c65b5faa2311300ace0c95', 'message': ""Fix deletion of subnet_id from pd_subnets\n\nIn the RouterInfo._process_internal_ports() method when it process\nold ports and port belongs to the subnet with CIDR assigned by\nPrefix Delegation it will try to remove subnet_id key from the\npd_subnets dict.\nHowever it seems that in some case it may happen that such subnet_id key\nis not added to the pd_subnets dict and processing of ports fails.\n\nWe shouldn't fail in such case, if there is no subnet_id key in this\ndict we should be good as we want to delete it simply. So this patch\nchanges that to not raise KeyError in such case.\n\nChange-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79\nCloses-Bug: #1892364\n(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)\n""}]",0,747846,907bd92595e6593f35c65b5faa2311300ace0c95,16,7,1,11975,,,0,"Fix deletion of subnet_id from pd_subnets

In the RouterInfo._process_internal_ports() method when it process
old ports and port belongs to the subnet with CIDR assigned by
Prefix Delegation it will try to remove subnet_id key from the
pd_subnets dict.
However it seems that in some case it may happen that such subnet_id key
is not added to the pd_subnets dict and processing of ports fails.

We shouldn't fail in such case, if there is no subnet_id key in this
dict we should be good as we want to delete it simply. So this patch
changes that to not raise KeyError in such case.

Change-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79
Closes-Bug: #1892364
(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/747846/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,907bd92595e6593f35c65b5faa2311300ace0c95,bug/1892364-stable/ussuri-stable/train-stable/stein," self.pd_subnets.pop(subnet['id'], None)", del self.pd_subnets[subnet['id']],1,1
openstack%2Fpuppet-cloudkitty~master~Ie2469b4d6bc63374e50226acfb96b03cad3ba9fd,openstack/puppet-cloudkitty,master,Ie2469b4d6bc63374e50226acfb96b03cad3ba9fd,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-27 11:48:08.000000000,2020-08-27 11:46:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/07607123577331dd523cf0550c5a217e16eb2bed', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ie2469b4d6bc63374e50226acfb96b03cad3ba9fd\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['releasenotes/notes/add_mysql_enable_ndb-option-aa792f2cf061d50a.yaml', 'manifests/db.pp', 'spec/classes/cloudkitty_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/92a7cd05faa841750dc7bb3d13982aca39f2c004', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Ie2469b4d6bc63374e50226acfb96b03cad3ba9fd\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748068,92a7cd05faa841750dc7bb3d13982aca39f2c004,14,5,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Ie2469b4d6bc63374e50226acfb96b03cad3ba9fd
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/68/748068/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_mysql_enable_ndb-option-aa792f2cf061d50a.yaml', 'manifests/db.pp', 'spec/classes/cloudkitty_db_spec.rb']",3,07607123577331dd523cf0550c5a217e16eb2bed,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,14,0
openstack%2Fpuppet-openstack-integration~master~I243b51b474b93c8a92f511825417e6423a184740,openstack/puppet-openstack-integration,master,I243b51b474b93c8a92f511825417e6423a184740,Make CentOS8 beaker job voting,MERGED,2020-07-29 11:59:59.000000000,2020-08-27 11:45:31.000000000,2020-08-26 09:43:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 11:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e05aff11763793f0a81a5e080fe79729eafcf694', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 2, 'created': '2020-07-29 12:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/217188a1ba4638f5011d9b721a0684a11360f6d0', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 3, 'created': '2020-07-29 12:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/77c2bbffe08ff16bdbcd688e9a6e47baff2e3573', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 4, 'created': '2020-07-29 12:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/08dfd53a990dd4da70008fb2b6da89ca9067b2b7', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 5, 'created': '2020-07-29 14:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fef3563cc5f0737152ad271aeef6e5e892ed145b', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 6, 'created': '2020-08-06 23:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2de8e9133613facc74dd4151d2b532fb23b2ad0e', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 7, 'created': '2020-08-07 00:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/717a0da81a7b5d3a3c3d92f70e49967a52dd9f5d', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 8, 'created': '2020-08-07 00:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/418fb9f1db3eec03158036e8df502eb70faabd0d', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 9, 'created': '2020-08-07 02:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e9a49c595c356ef34b9b74c1759c7a47f0982e91', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 10, 'created': '2020-08-07 04:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e3764a9e361733f03e505ea27bc9dd6fe0a09c7e', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 11, 'created': '2020-08-07 06:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/11ffd9a131c86a3d86ed8812c8db8133f1b18610', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}, {'number': 12, 'created': '2020-08-25 02:07:43.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ebb56bdac3719c573fedaeb01ac7598e1e1eef8', 'message': 'Make CentOS8 beaker job voting\n\nDepends-on: https://review.opendev.org/#/c/726498/\nChange-Id: I243b51b474b93c8a92f511825417e6423a184740\n'}]",0,743736,9ebb56bdac3719c573fedaeb01ac7598e1e1eef8,36,4,12,9816,,,0,"Make CentOS8 beaker job voting

Depends-on: https://review.opendev.org/#/c/726498/
Change-Id: I243b51b474b93c8a92f511825417e6423a184740
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/36/743736/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/beaker.yaml'],1,e05aff11763793f0a81a5e080fe79729eafcf694,centos8-beaker,, voting: false,0,1
openstack%2Fpbr~master~I2ba68a47dd3f309e356a6e88bf890ac2f80d99a0,openstack/pbr,master,I2ba68a47dd3f309e356a6e88bf890ac2f80d99a0,Use easy_install.ScriptWriter.get_header(),MERGED,2020-06-13 15:41:21.000000000,2020-08-27 11:32:20.000000000,2020-08-27 11:29:44.000000000,"[{'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-13 15:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/12e1d41184650c21fe8ffdc3f8fc449c2eef4f6a', 'message': ""Use easy_install.ScriptWriter.get_header()\n\nSetuptools 12.0 deprecated easy_install.get_script_header() when it\nwas released five years ago, and if called with PYTHONWARNINGS=error\nraises a deprecation exception. Switch to the preferred class\nmethod, but keep the original call as a fallback since it won't work\non older Setuptools versions (such as the 3.3 shipped with Ubuntu\nTrusty).\n\nChange-Id: I2ba68a47dd3f309e356a6e88bf890ac2f80d99a0\n""}, {'number': 2, 'created': '2020-08-06 08:32:13.000000000', 'files': ['pbr/packaging.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/9a219f9a4f47243123d50d30938506bcc792e55d', 'message': ""Use easy_install.ScriptWriter.get_header()\n\nSetuptools 12.0 deprecated easy_install.get_script_header() when it\nwas released five years ago, and if called with PYTHONWARNINGS=error\nraises a deprecation exception. Switch to the preferred class\nmethod, but keep the original call as a fallback since it won't work\non older Setuptools versions (such as the 3.3 shipped with Ubuntu\nTrusty).\n\nChange-Id: I2ba68a47dd3f309e356a6e88bf890ac2f80d99a0\n""}]",0,735433,9a219f9a4f47243123d50d30938506bcc792e55d,14,4,2,5263,,,0,"Use easy_install.ScriptWriter.get_header()

Setuptools 12.0 deprecated easy_install.get_script_header() when it
was released five years ago, and if called with PYTHONWARNINGS=error
raises a deprecation exception. Switch to the preferred class
method, but keep the original call as a fallback since it won't work
on older Setuptools versions (such as the 3.3 shipped with Ubuntu
Trusty).

Change-Id: I2ba68a47dd3f309e356a6e88bf890ac2f80d99a0
",git fetch https://review.opendev.org/openstack/pbr refs/changes/33/735433/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/packaging.py'],1,12e1d41184650c21fe8ffdc3f8fc449c2eef4f6a,get_header," # get_script_header() is deprecated since Setuptools 12.0 try: header = easy_install.ScriptWriter.get_header("""", executable) except AttributeError: header = easy_install.get_script_header("""", executable, is_wininst)"," header = easy_install.get_script_header("""", executable, is_wininst)",5,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I733cec2b34ef0bd0780ba5b0520127b911505e1b,openstack/tripleo-heat-templates,stable/queens,I733cec2b34ef0bd0780ba5b0520127b911505e1b,Avoid failing on deleted file,MERGED,2020-08-26 21:44:35.000000000,2020-08-27 11:28:03.000000000,2020-08-27 11:25:54.000000000,"[{'_account_id': 3153}, {'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28211}, {'_account_id': 30133}]","[{'number': 1, 'created': '2020-08-26 21:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b22f5e31a26a2a813138b6ad5ff2e59e0096404', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log the exception instead for\ntroubleshooting purposes.\n\nConflicts:\n  docker_config_scripts/nova_statedir_ownership.py\n  docker_config_scripts/tests/test_nova_statedir_ownership.py\n  Manual merge as Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 has not been\n  backported to stable/queens\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)\n(cherry picked from commit eddbc4b2c4e9e2acf4a59028c9a2752bb8716915)\n(cherry picked from commit a549491bd4ceb2e9c4cda21434ff1c27997ee968)\n'}, {'number': 2, 'created': '2020-08-26 22:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/034cedd621c0354192b60a918b729170c7cea231', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log the exception instead for\ntroubleshooting purposes.\n\nConflicts:\n  docker_config_scripts/nova_statedir_ownership.py\n  docker_config_scripts/tests/test_nova_statedir_ownership.py\n  Manual merge as Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 has not been\n  backported to stable/queens\n  Partial merge of Iaf0299983d3a3fe48e3beb8f47bd33c21deb4972 for flake8\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)\n(cherry picked from commit eddbc4b2c4e9e2acf4a59028c9a2752bb8716915)\n(cherry picked from commit a549491bd4ceb2e9c4cda21434ff1c27997ee968)\n'}, {'number': 3, 'created': '2020-08-26 23:02:23.000000000', 'files': ['docker_config_scripts/nova_statedir_ownership.py', 'docker_config_scripts/nova_wait_for_placement_service.py', 'docker_config_scripts/nova_wait_for_compute_service.py', 'tox.ini', 'docker_config_scripts/tests/test_nova_statedir_ownership.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f1640b352d1b19585888a32e76d3ca98b5f1e1f', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log the exception instead for\ntroubleshooting purposes.\n\nConflicts:\n  docker_config_scripts/nova_statedir_ownership.py\n  docker_config_scripts/tests/test_nova_statedir_ownership.py\n  Manual merge as Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 has not been\n  backported to stable/queens\n  Partial merge of Iaf0299983d3a3fe48e3beb8f47bd33c21deb4972 for flake8\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)\n(cherry picked from commit eddbc4b2c4e9e2acf4a59028c9a2752bb8716915)\n(cherry picked from commit a549491bd4ceb2e9c4cda21434ff1c27997ee968)\n'}]",1,748317,5f1640b352d1b19585888a32e76d3ca98b5f1e1f,11,9,3,23811,,,0,"Avoid failing on deleted file

Avoid failing on deleted file as sometimes file might get
deleted while the script run.  Log the exception instead for
troubleshooting purposes.

Conflicts:
  docker_config_scripts/nova_statedir_ownership.py
  docker_config_scripts/tests/test_nova_statedir_ownership.py
  Manual merge as Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 has not been
  backported to stable/queens
  Partial merge of Iaf0299983d3a3fe48e3beb8f47bd33c21deb4972 for flake8

Change-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b
(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)
(cherry picked from commit eddbc4b2c4e9e2acf4a59028c9a2752bb8716915)
(cherry picked from commit a549491bd4ceb2e9c4cda21434ff1c27997ee968)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/748317/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker_config_scripts/nova_statedir_ownership.py', 'docker_config_scripts/tests/test_nova_statedir_ownership.py']",2,4b22f5e31a26a2a813138b6ad5ff2e59e0096404,,"from os import stat as orig_stat NovaStatedirOwnershipManager # noqa: E402 from docker_config_scripts.nova_statedir_ownership import PathManager # noqa: E402 '/var/lib/nova': { 'stat': FakeStatInfo(st_mode=stat.S_IFDIR, }, '/var/lib/nova/instances': { 'stat': FakeStatInfo(st_mode=stat.S_IFDIR, }, '/var/lib/nova/instances/foo': { 'stat': FakeStatInfo(st_mode=stat.S_IFDIR, }, '/var/lib/nova/instances/removeddir': { 'stat': FakeStatInfo(st_mode=stat.S_IFDIR, st_uid=nova_uid, st_gid=nova_gid), 'removed_when': 'listdir' }, '/var/lib/nova/instances/removedfile3': { 'removed_when': 'stat' }, '/var/lib/nova/instances/foo': { 'stat': FakeStatInfo(st_mode=stat.S_IFDIR, st_uid=nova_uid, st_gid=nova_gid), }, '/var/lib/nova/instances/foo/bar': { 'stat': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=0, st_gid=0), }, '/var/lib/nova/instances/foo/baz': { 'stat': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=nova_uid, st_gid=nova_gid), }, '/var/lib/nova/instances/foo/removeddir': { 'stat': FakeStatInfo(st_mode=stat.S_IFDIR, st_uid=nova_uid, st_gid=nova_gid), 'removed_when': 'listdir' }, '/var/lib/nova/instances/foo/removeddir2': { 'stat': FakeStatInfo(st_mode=stat.S_IFDIR, st_uid=0, st_gid=nova_gid), 'removed_when': 'chown' }, '/var/lib/nova/instances/foo/abc': { 'stat': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=0, st_gid=nova_gid), }, '/var/lib/nova/instances/foo/def': { 'stat': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=nova_uid, st_gid=0), }, '/var/lib/nova/upgrade_marker': { 'stat': FakeStatInfo(st_mode=stat.S_IFREG, st_gid=marker_gid), }def check_removed(path, op, testtree): if op == testtree.get(path, {}).get('removed_when', ''): raise OSError(2, 'No such file or directory: ' + path) check_removed(path, 'stat', testtree) if path.startswith('/var'): return testtree.get(path, {}).get('stat') else: # Tracebacks need to use the real stat return orig_stat(path) check_removed(path, 'chown', testtree) if uid != -1: testtree[path]['stat'].st_uid = uid if gid != -1: testtree[path]['stat'].st_gid = gid check_removed(path, 'exists', testtree) check_removed(path, 'listdir', testtree) check_removed(path, 'unlink', testtree) statinfo = testtree[path]['stat'] ""{}: expected ownership {}:{} actual {}:{}"".format( fake_chown.assert_called_once_with('/var/lib/nova/instances/foo/removeddir2', 100, -1) fake_chown.assert_called_once_with('/var/lib/nova/instances/foo/removeddir2', 100, -1) if testtree[k].get('removed_when', False): # Ignore, deleted continue v = v['stat']"," NovaStatedirOwnershipManager from docker_config_scripts.nova_statedir_ownership import PathManager '/var/lib/nova': FakeStatInfo(st_mode=stat.S_IFDIR, '/var/lib/nova/instances': FakeStatInfo(st_mode=stat.S_IFDIR, '/var/lib/nova/instances/foo': FakeStatInfo(st_mode=stat.S_IFDIR, '/var/lib/nova/instances/foo/bar': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=0, st_gid=0), '/var/lib/nova/instances/foo/baz': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=nova_uid, st_gid=nova_gid), '/var/lib/nova/instances/foo/abc': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=0, st_gid=nova_gid), '/var/lib/nova/instances/foo/def': FakeStatInfo(st_mode=stat.S_IFREG, st_uid=nova_uid, st_gid=0), '/var/lib/nova/upgrade_marker': FakeStatInfo(st_mode=stat.S_IFREG, st_gid=marker_gid) return testtree.get(path) if uid != -1: testtree[path].st_uid = uid if gid != -1: testtree[path].st_gid = gid statinfo = testtree[path] ""{}: expected {}:{} actual {}:{}"".format( fake_chown.assert_not_called() fake_chown.assert_not_called()",121,53
openstack%2Ftripleo-common~stable%2Fussuri~I79a9bb831339567fad0eecf5aed4af74ceb07b57,openstack/tripleo-common,stable/ussuri,I79a9bb831339567fad0eecf5aed4af74ceb07b57,Switch to tripleo_containers.yaml,MERGED,2020-08-26 18:18:07.000000000,2020-08-27 11:27:58.000000000,2020-08-27 11:25:50.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 18:18:07.000000000', 'files': ['container-images/tripleo_containers.yaml.j2', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/utils/test_plan.py', 'releasenotes/notes/use-tripleo-containers-file-0590a59f56fb3907.yaml', 'tripleo_common/utils/plan.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50d235ba5fb05ebaf51c7239c7b1c8393b6573b0', 'message': ""Switch to tripleo_containers.yaml\n\nIn older versions we used the overcloud_containers.yaml.j2 to perform\nthe service mapping to container names. These containers have\nimage_source: kolla. Since we've implemented tcib, we have a new\nimage_source: tripleo which sould be used.\n\nChange-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57\n(cherry picked from commit 74799d9beb0747cac9c13a325dc5277f3a5d9e76)\n""}]",0,748283,50d235ba5fb05ebaf51c7239c7b1c8393b6573b0,9,4,1,14985,,,0,"Switch to tripleo_containers.yaml

In older versions we used the overcloud_containers.yaml.j2 to perform
the service mapping to container names. These containers have
image_source: kolla. Since we've implemented tcib, we have a new
image_source: tripleo which sould be used.

Change-Id: I79a9bb831339567fad0eecf5aed4af74ceb07b57
(cherry picked from commit 74799d9beb0747cac9c13a325dc5277f3a5d9e76)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/748283/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml.j2', 'tripleo_common/image/kolla_builder.py', 'releasenotes/notes/use-tripleo-containers-file-0590a59f56fb3907.yaml', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/plan.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml']",8,50d235ba5fb05ebaf51c7239c7b1c8393b6573b0,bug/1889122,- imagename: docker.io/tripleou/centos-binary-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-os:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-aodh-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-aodh-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-aodh-evaluator:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-aodh-listener:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-aodh-notifier:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-barbican-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-barbican-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-barbican-keystone-listener:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-barbican-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ceilometer-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ceilometer-central:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ceilometer-compute:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ceilometer-notification:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ceilometer-ipmi:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-cinder-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-cinder-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-cinder-backup:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-cinder-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-cinder-volume:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-collectd:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-cron:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-backend-bind9:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-central:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-mdns:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-producer:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-sink:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-designate-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-etcd:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-glance-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-gnocchi-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-gnocchi-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-gnocchi-metricd:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-gnocchi-statsd:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-haproxy:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-heat-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-heat-all:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-heat-api-cfn:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-heat-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-heat-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-horizon:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ironic-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ironic-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ironic-conductor:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ironic-inspector:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ironic-pxe:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ironic-neutron-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-iscsid:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-keepalived:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-keystone:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-manila-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-manila-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-manila-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-manila-share:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-mariadb:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-memcached:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-mistral-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-mistral-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-mistral-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-mistral-executor:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-mistral-event-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-multipathd:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-agent-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-dhcp-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-l3-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-metadata-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-openvswitch-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-sriov-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-mlnx-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-neutron-metadata-agent-ovn:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-compute-ironic:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-compute:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-conductor:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-libvirt:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-novncproxy:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-nova-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-novajoin-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-novajoin-notifier:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-novajoin-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-octavia-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-octavia-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-octavia-health-manager:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-octavia-housekeeping:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-octavia-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ovn-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ovn-controller:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ovn-nb-db-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ovn-northd:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-ovn-sb-db-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-placement-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-qdrouterd:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-rabbitmq:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-redis:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-sahara-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-sahara-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-swift-base:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-swift-account:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-swift-container:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-swift-object:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-swift-proxy-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-zaqar-wsgi:current-tripleo image_source: tripleo- imagename: docker.io/grafana/grafana:5.4.3- imagename: docker.io/tripleou/centos-binary-tempest:current-tripleo image_source: tripleo - imagename: docker.io/tripleou/centos-binary-rsyslog:current-tripleo image_source: tripleo,- image_source: tripleo imagename: docker.io/tripleou/openstack-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-os:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-aodh-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-aodh-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-aodh-evaluator:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-aodh-listener:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-aodh-notifier:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-barbican-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-barbican-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-barbican-keystone-listener:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-barbican-worker:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ceilometer-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ceilometer-ipmi:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ceilometer-central:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ceilometer-compute:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ceilometer-notification:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-cinder-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-cinder-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-cinder-backup:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-cinder-scheduler:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-cinder-volume:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-collectd:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-cron:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-backend-bind9:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-central:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-mdns:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-producer:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-sink:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-designate-worker:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-etcd:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-glance-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-gnocchi-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-gnocchi-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-gnocchi-metricd:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-gnocchi-statsd:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-haproxy:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-heat-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-heat-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-heat-api-cfn:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-heat-engine:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-heat-all:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-horizon:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ironic-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ironic-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ironic-conductor:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ironic-inspector:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ironic-neutron-agent:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ironic-pxe:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-iscsid:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-keepalived:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-keystone:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-manila-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-manila-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-manila-scheduler:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-manila-share:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-mariadb:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-memcached:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-mistral-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-mistral-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-mistral-engine:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-mistral-event-engine:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-mistral-executor:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-multipathd:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-agent-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-dhcp-agent:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-l3-agent:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-metadata-agent-ovn:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-metadata-agent:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-openvswitch-agent:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-server:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-server-ovn:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-neutron-sriov-agent:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-libvirt:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-compute:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-compute-ironic:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-conductor:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-novncproxy:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-nova-scheduler:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-novajoin-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-novajoin-notifier:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-novajoin-server:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-octavia-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-octavia-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-octavia-health-manager:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-octavia-housekeeping:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-octavia-worker:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ovn-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ovn-controller:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ovn-northd:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ovn-nb-db-server:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-ovn-sb-db-server:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-placement-api:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-qdrouterd:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-rabbitmq:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-redis:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-rsyslog:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-swift-base:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-swift-account:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-swift-container:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-swift-object:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-swift-proxy-server:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-tempest:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-tripleoclient:current-tripleo - image_source: tripleo imagename: docker.io/tripleou/openstack-zaqar-wsgi:current-tripleo- imagename: docker.io/grafana/grafana:5.2.4,1133,243
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I733cec2b34ef0bd0780ba5b0520127b911505e1b,openstack/tripleo-heat-templates,stable/train,I733cec2b34ef0bd0780ba5b0520127b911505e1b,Avoid failing on deleted file,MERGED,2020-08-26 20:41:15.000000000,2020-08-27 11:25:52.000000000,2020-08-27 11:25:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2020-08-26 20:41:15.000000000', 'files': ['container_config_scripts/tests/test_nova_statedir_ownership.py', 'container_config_scripts/nova_statedir_ownership.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a549491bd4ceb2e9c4cda21434ff1c27997ee968', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log the exception instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)\n(cherry picked from commit eddbc4b2c4e9e2acf4a59028c9a2752bb8716915)\n'}]",0,748307,a549491bd4ceb2e9c4cda21434ff1c27997ee968,7,7,1,23811,,,0,"Avoid failing on deleted file

Avoid failing on deleted file as sometimes file might get
deleted while the script run.  Log the exception instead for
troubleshooting purposes.

Change-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b
(cherry picked from commit 6c3c8b41def1f37847fe1277a14634ccd4beb4f9)
(cherry picked from commit eddbc4b2c4e9e2acf4a59028c9a2752bb8716915)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/748307/1 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/tests/test_nova_statedir_ownership.py', 'container_config_scripts/nova_statedir_ownership.py']",2,a549491bd4ceb2e9c4cda21434ff1c27997ee968,," self.uid = None self.gid = None self.is_dir = None self.secontext = None try: statinfo = os.stat(self.path) self.is_dir = stat.S_ISDIR(statinfo.st_mode) self.uid = statinfo.st_uid self.gid = statinfo.st_gid self.secontext = selinux.lgetfilecon(self.path)[1] except Exception: LOG.exception('Could not update metadata for %s', self.path) raise raise LOG.exception('Could not set selinux context of %s to %s:', try: pathinfo = PathManager(pathname) LOG.info(""Checking %s"", pathinfo) if pathinfo.is_dir: # Always chown the directories pathinfo.chown(self.target_uid, self.target_gid) chcon_r = chcon if chcon: chcon_r = pathinfo.chcon(self.target_secontext) self._walk(pathname, chcon_r) elif self.id_change: # Only chown files if it's an upgrade and the file is owned by # the host nova uid/gid pathinfo.chown( self.target_uid if pathinfo.uid == self.previous_uid else pathinfo.uid, self.target_gid if pathinfo.gid == self.previous_gid else pathinfo.gid ) if chcon: pathinfo.chcon(self.target_secontext) except Exception: # Likely to have been caused by external systems # interacting with this directory tree, # especially on NFS e.g snapshot dirs. # Just ignore it and continue on to the next entry continue"," statinfo = os.stat(self.path) self.is_dir = stat.S_ISDIR(statinfo.st_mode) self.uid = statinfo.st_uid self.gid = statinfo.st_gid self.secontext = selinux.lgetfilecon(self.path)[1] LOG.error('Could not set selinux context of %s to %s:', pathinfo = PathManager(pathname) LOG.info(""Checking %s"", pathinfo) if pathinfo.is_dir: # Always chown the directories pathinfo.chown(self.target_uid, self.target_gid) chcon_r = chcon if chcon: chcon_r = pathinfo.chcon(self.target_secontext) self._walk(pathname, chcon_r) elif self.id_change: # Only chown files if it's an upgrade and the file is owned by # the host nova uid/gid pathinfo.chown( self.target_uid if pathinfo.uid == self.previous_uid else pathinfo.uid, self.target_gid if pathinfo.gid == self.previous_gid else pathinfo.gid ) if chcon: pathinfo.chcon(self.target_secontext)",120,33
openstack%2Fnova~master~I9c68db32d29e5a3b3ec358a870f5f109a9757db5,openstack/nova,master,I9c68db32d29e5a3b3ec358a870f5f109a9757db5,DNM: Test the state of VMware NSX 3pp CI,ABANDONED,2020-06-08 15:00:59.000000000,2020-08-27 11:24:59.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 20322}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31706}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-08 15:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f558898a8afa022619a4742a7378b9c2cda8ea1', 'message': 'DNM: Test the state of VMware NSX 3pp CI\n\nChange-Id: I9c68db32d29e5a3b3ec358a870f5f109a9757db5\n'}, {'number': 2, 'created': '2020-06-22 08:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b7c30975ee9a7639fbcba0bb082298e672f461b', 'message': 'DNM: Test the state of VMware NSX 3pp CI\n\nChange-Id: I9c68db32d29e5a3b3ec358a870f5f109a9757db5\n'}, {'number': 3, 'created': '2020-06-29 14:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f16f4b8914777a8ad66ab67d06ced622438133c7', 'message': 'DNM: Test the state of VMware NSX 3pp CI\n\nChange-Id: I9c68db32d29e5a3b3ec358a870f5f109a9757db5\n'}, {'number': 4, 'created': '2020-07-06 12:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5589ac82c1fa93f379d43f7bee51c07ef623953e', 'message': 'DNM: Test the state of VMware NSX 3pp CI\n\nChange-Id: I9c68db32d29e5a3b3ec358a870f5f109a9757db5\n'}, {'number': 5, 'created': '2020-07-10 15:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bdb612fd2808dc387bf9e0767ac5ede782a8922', 'message': 'DNM: Test the state of VMware NSX 3pp CI\n\nChange-Id: I9c68db32d29e5a3b3ec358a870f5f109a9757db5\n'}, {'number': 6, 'created': '2020-07-21 15:08:44.000000000', 'files': ['nova/virt/vmwareapi/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c56cf78ae6d095be677a9f40e821f7ddba5cb47', 'message': 'DNM: Test the state of VMware NSX 3pp CI\n\nChange-Id: I9c68db32d29e5a3b3ec358a870f5f109a9757db5\n'}]",0,734114,7c56cf78ae6d095be677a9f40e821f7ddba5cb47,78,12,6,9708,,,0,"DNM: Test the state of VMware NSX 3pp CI

Change-Id: I9c68db32d29e5a3b3ec358a870f5f109a9757db5
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/734114/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/driver.py'],1,7f558898a8afa022619a4742a7378b9c2cda8ea1,deprecate-vmware, # !!!,,1,0
openstack%2Fmagnum~master~Icd923f9e020dfe27f4e9b14e40f0ad53da49e0ff,openstack/magnum,master,Icd923f9e020dfe27f4e9b14e40f0ad53da49e0ff,ci: Log in to DockerHub using docker_login,MERGED,2020-08-25 08:48:10.000000000,2020-08-27 11:22:44.000000000,2020-08-27 10:11:16.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-08-25 08:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/da2401cf7ae416ccbe54b6112e3eb4d18c1576b7', 'message': 'ci: Log in to DockerHub using docker_login\n\nChange-Id: Icd923f9e020dfe27f4e9b14e40f0ad53da49e0ff\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-08-26 15:05:41.000000000', 'files': ['playbooks/container-publish.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1f07c32002b02181d4fccb3bb4f7b68b8a84e841', 'message': 'ci: Log in to DockerHub using docker_login\n\nChange-Id: Icd923f9e020dfe27f4e9b14e40f0ad53da49e0ff\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",2,747867,1f07c32002b02181d4fccb3bb4f7b68b8a84e841,20,4,2,20498,,,0,"ci: Log in to DockerHub using docker_login

Change-Id: Icd923f9e020dfe27f4e9b14e40f0ad53da49e0ff
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/67/747867/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-publish.yaml'],1,da2401cf7ae416ccbe54b6112e3eb4d18c1576b7,fix-docker-password, - name: Log into DockerHub docker_login: username: {{ magnum_docker_login.user }} password: {{ magnum_docker_login.password }} , - command: docker login -u {{ magnum_docker_login.user }} -p '{{ magnum_docker_login.password }}' no_log: True retries: 5,5,3
openstack%2Fkeystone~master~If47ebc7c05eceaea3f38c36405ffdabcd655ef41,openstack/keystone,master,If47ebc7c05eceaea3f38c36405ffdabcd655ef41,add note for main method in status.py,NEW,2020-08-27 04:15:18.000000000,2020-08-27 11:20:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-27 04:15:18.000000000', 'files': ['keystone/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dda0613f45de7166c342283581fcf56be7dee281', 'message': 'add note for main method in status.py\n\nChange-Id: If47ebc7c05eceaea3f38c36405ffdabcd655ef41\n'}]",0,748355,dda0613f45de7166c342283581fcf56be7dee281,3,2,1,32211,,,0,"add note for main method in status.py

Change-Id: If47ebc7c05eceaea3f38c36405ffdabcd655ef41
",git fetch https://review.opendev.org/openstack/keystone refs/changes/55/748355/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/cmd/status.py'],1,dda0613f45de7166c342283581fcf56be7dee281,,# entry point.,,1,0
openstack%2Ftripleo-ansible~master~I0f4d12d74c49582763b502310ebff7595867f909,openstack/tripleo-ansible,master,I0f4d12d74c49582763b502310ebff7595867f909,WIP - tripleo_container_manage: switch to use podman_containers plugin,ABANDONED,2020-03-31 18:29:43.000000000,2020-08-27 11:19:55.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-31 18:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eaf88e71784b2778a6c9b19d63e3e5da5413867d', 'message': 'DNM test action podman_containers\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 2, 'created': '2020-04-04 18:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2ecb438ca08f6701e45d341cae2247d2e4321ae', 'message': 'DNM test action podman_containers\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 3, 'created': '2020-04-05 14:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6345f007ad763bc09080d6b23cb4be985bbc4964', 'message': 'DNM test action podman_containers\n\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 4, 'created': '2020-04-06 00:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0422b02d92ca89007699def7ead60bddcc65c5b', 'message': 'DNM test action podman_containers\n\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 5, 'created': '2020-04-06 11:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dced5f72824d6eab5e01a8db6c9f7ec9f48f6bb6', 'message': 'DNM test action podman_containers\n\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 6, 'created': '2020-04-24 22:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9648cbddc256a964d04e1e3c8c2601e38524592', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 7, 'created': '2020-07-28 22:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/835e380f8209df8c7d6704f122c2f2780fb0643a', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 8, 'created': '2020-07-29 08:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e806b0c2850c2afbaa3520782f8543eb230734cb', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 9, 'created': '2020-07-29 19:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/099dc66f982207ab2ff7238ccc385dd2336c7d71', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 10, 'created': '2020-07-29 19:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/350166537bd69af2a71b6a065e7e77ce69ddc854', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 11, 'created': '2020-07-29 19:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/04d7b6fe5aad1f8e7051becce2e421650bd93db3', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 12, 'created': '2020-07-29 21:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d4c9726d5a0578939449df7f00184845f0d3f2e', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 13, 'created': '2020-07-29 22:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/134fe5fcceafa451baa19d7a5688b5a6f44e805b', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 14, 'created': '2020-07-30 17:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77bb96e03adbd3150fd60a4fd36983037843d5bc', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 15, 'created': '2020-07-30 17:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bd35cfe0b8bb033cc75903bad23cc96d446a416', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 16, 'created': '2020-07-30 19:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38657a79d99e66422582de73101c472f9d0e0c5a', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 17, 'created': '2020-07-30 19:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffd8542e0f3650aad8f0eb7b92a2ae6e6d23a776', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 18, 'created': '2020-07-30 20:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53c01406999d5848466d66fbede3eec05be34476', 'message': 'DNM test action podman_containers\n\nDepends-On: https://review.opendev.org/717604\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 19, 'created': '2020-07-30 20:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/595ea37a79103f4d79904bd39308deaefee36ca4', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- convert the containers fact into a filter\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 20, 'created': '2020-07-30 20:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a7bf0acda5e04525717307b91a0a59d01df68da', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- convert the containers fact into a filter\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 21, 'created': '2020-07-31 14:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50f3648cf29eff27d858acad5fc13fef6bacc3c6', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- convert the containers fact into a filter\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 22, 'created': '2020-07-31 19:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/66f31e1a9909f5f61ea7f012b566a99f5c630a68', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 23, 'created': '2020-07-31 19:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f78f3ef9db3896589b5f1b99ed9d3858f6a3502e', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 24, 'created': '2020-07-31 19:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4058cab485307167faadee15e501f0d5bdadb32f', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 25, 'created': '2020-07-31 20:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65f72359fcbd3c51c033b81c1cb84d47e37be1b1', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 26, 'created': '2020-07-31 20:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f66921b527eb8a1124ed6d0d23cf3a6bf014c366', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 27, 'created': '2020-07-31 21:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ef8ebbf35d6618cee162d27be66de7ce4ee554a8', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 28, 'created': '2020-07-31 22:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5fc979217ceedd34695a2eabb0354c0d991a947', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 29, 'created': '2020-07-31 22:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/24772abe1372ce2522b42e36dc062e06951d0c6e', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 30, 'created': '2020-07-31 23:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b18cce3d1287941ca4d38669060490de9d0fa6c', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 31, 'created': '2020-08-20 17:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f79ba315019d63750626a60e7483a876e238587a', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 32, 'created': '2020-08-20 18:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6b7e3c9048793232262904bf446acb3d64a1be86', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 33, 'created': '2020-08-24 13:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8abcc62d5253c2489b9546663c6c5a430b3ecbdb', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 34, 'created': '2020-08-24 14:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50a2d6bf97e8133c1e664714f61d370ef694d7d0', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 35, 'created': '2020-08-24 14:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6d050a60c7e0a77f3fe23ce6be701160ecb23b0', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 36, 'created': '2020-08-25 02:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9426e53d95d90a19b9a8ab016e73c79930001fc2', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 37, 'created': '2020-08-25 03:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0b9d340bba9dc56c044f495e2112015d2579130', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers action plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new action plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 38, 'created': '2020-08-25 09:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4636bd05694049c4f8a67df502ac796d66b27e58', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 39, 'created': '2020-08-25 14:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f45efe14cb1d74d97ca51cd212d10a9f78f6915', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 40, 'created': '2020-08-25 18:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/afb38c09e237b36196c3bc207b05f1b967f70c4f', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 41, 'created': '2020-08-25 22:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c2bce4dac1b060e2afbcba95fdc9e59c89a1789', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 42, 'created': '2020-08-26 00:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/077f0262d412b1684f6ceb4e62d4dcc546907c68', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 43, 'created': '2020-08-26 00:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c1a71c7869cd31066e471a44be26c1d3908d474', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 44, 'created': '2020-08-26 14:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6aee6256c0710703656ee61fe81cb225c5667357', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}, {'number': 45, 'created': '2020-08-26 17:03:13.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_containers.py', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/028fe578982fe7e9f8ed320d10452f0737a412f8', 'message': 'WIP - tripleo_container_manage: switch to use podman_containers plugin\n\nTODO:\n- investigate whether we keep async or not\n\nSwitch the tripleo_container_manage to use the new plugin instead\nof calling podman_container directly.\n\nChange-Id: I0f4d12d74c49582763b502310ebff7595867f909\n'}]",20,716381,028fe578982fe7e9f8ed320d10452f0737a412f8,119,6,45,10969,,,0,"WIP - tripleo_container_manage: switch to use podman_containers plugin

TODO:
- investigate whether we keep async or not

Switch the tripleo_container_manage to use the new plugin instead
of calling podman_container directly.

Change-Id: I0f4d12d74c49582763b502310ebff7595867f909
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/716381/20 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,eaf88e71784b2778a6c9b19d63e3e5da5413867d,action_podman2," # loop: ""{{ batched_container_data | haskey(attribute='action', reverse=True) }}"" # loop_control: # loop_var: container_data podman_containers: containers: ""{{ batched_container_data }}"" # cap_add: ""{{ lookup('dict', container_data).value.cap_add | default(omit) }}"" # cap_drop: ""{{ lookup('dict', container_data).value.cap_drop | default(omit) }}"" # command: ""{{ lookup('dict', container_data).value.command | default(omit) }}"" # conmon_pidfile: ""/var/run/{{ lookup('dict', container_data).key }}.pid"" # cpu_shares: ""{{ lookup('dict', container_data).value.cpu_shares | default(omit) }}"" # debug: true # detach: ""{{ lookup('dict', container_data).value.detach | default(true) }}"" # entrypoint: ""{{ lookup('dict', container_data).value.entrypoint | default(omit) }}"" # env: ""{{ lookup('dict', container_data).value.environment | default(omit) }}"" # env_file: ""{{ lookup('dict', container_data).value.env_file | default(omit) }}"" # etc_hosts: ""{{ lookup('dict', container_data).value.extra_hosts | default({}) }}"" # group_add: ""{{ lookup('dict', container_data).value.group_add | default(omit) }}"" # hostname: ""{{ lookup('dict', container_data).value.hostname | default(omit) }}"" # image: ""{{ lookup('dict', container_data).value.image }}"" # interactive: ""{{ lookup('dict', container_data).value.interactive | default(false) }}"" # ipc: ""{{ lookup('dict', container_data).value.ipc | default(omit) }}"" # label: # config_id: ""{{ tripleo_container_manage_config_id }}"" # container_name: ""{{ lookup('dict', container_data).key }}"" # managed_by: tripleo_ansible # config_data: ""{{ lookup('dict', container_data).value }}"" # log_driver: 'k8s-file' # log_opt: ""path={{ tripleo_container_manage_log_path }}/{{ lookup('dict', container_data).key }}.log"" # memory: ""{{ lookup('dict', container_data).value.mem_limit | default(omit) }}"" # memory_swap: ""{{ lookup('dict', container_data).value.mem_swappiness | default(omit) }}"" # name: ""{{ lookup('dict', container_data).key }}"" # net: ""{{ lookup('dict', container_data).value.net | default('none') }}"" # pid: ""{{ lookup('dict', container_data).value.pid | default(omit) }}"" # privileged: ""{{ lookup('dict', container_data).value.privileged | default(false) }}"" # rm: ""{{ lookup('dict', container_data).value.remove | default(false) }}"" # security_opt: ""{{ lookup('dict', container_data).value.security_opt | default(omit) }}"" # state: present # stop_signal: ""{{ lookup('dict', container_data).value.stop_signal | default(omit) }}"" # stop_timeout: ""{{ lookup('dict', container_data).value.stop_grace_period | default(omit) | int }}"" # tty: ""{{ lookup('dict', container_data).value.tty | default(false) }}"" # ulimit: ""{{ lookup('dict', container_data).value.ulimit | default(omit) }}"" # user: ""{{ lookup('dict', container_data).value.user | default(omit) }}"" # uts: ""{{ lookup('dict', container_data).value.uts | default(omit) }}"" # volume: ""{{ lookup('dict', container_data).value.volumes | default(omit) }}"" # volumes_from: ""{{ lookup('dict', container_data).value.volumes_from | default([]) }}"""," loop: ""{{ batched_container_data | haskey(attribute='action', reverse=True) }}"" loop_control: loop_var: container_data podman_container: cap_add: ""{{ lookup('dict', container_data).value.cap_add | default(omit) }}"" cap_drop: ""{{ lookup('dict', container_data).value.cap_drop | default(omit) }}"" command: ""{{ lookup('dict', container_data).value.command | default(omit) }}"" conmon_pidfile: ""/var/run/{{ lookup('dict', container_data).key }}.pid"" cpu_shares: ""{{ lookup('dict', container_data).value.cpu_shares | default(omit) }}"" debug: true detach: ""{{ lookup('dict', container_data).value.detach | default(true) }}"" entrypoint: ""{{ lookup('dict', container_data).value.entrypoint | default(omit) }}"" env: ""{{ lookup('dict', container_data).value.environment | default(omit) }}"" env_file: ""{{ lookup('dict', container_data).value.env_file | default(omit) }}"" etc_hosts: ""{{ lookup('dict', container_data).value.extra_hosts | default({}) }}"" group_add: ""{{ lookup('dict', container_data).value.group_add | default(omit) }}"" hostname: ""{{ lookup('dict', container_data).value.hostname | default(omit) }}"" image: ""{{ lookup('dict', container_data).value.image }}"" interactive: ""{{ lookup('dict', container_data).value.interactive | default(false) }}"" ipc: ""{{ lookup('dict', container_data).value.ipc | default(omit) }}"" label: config_id: ""{{ tripleo_container_manage_config_id }}"" container_name: ""{{ lookup('dict', container_data).key }}"" managed_by: tripleo_ansible config_data: ""{{ lookup('dict', container_data).value }}"" log_driver: 'k8s-file' log_opt: ""path={{ tripleo_container_manage_log_path }}/{{ lookup('dict', container_data).key }}.log"" memory: ""{{ lookup('dict', container_data).value.mem_limit | default(omit) }}"" memory_swap: ""{{ lookup('dict', container_data).value.mem_swappiness | default(omit) }}"" name: ""{{ lookup('dict', container_data).key }}"" net: ""{{ lookup('dict', container_data).value.net | default('none') }}"" pid: ""{{ lookup('dict', container_data).value.pid | default(omit) }}"" privileged: ""{{ lookup('dict', container_data).value.privileged | default(false) }}"" rm: ""{{ lookup('dict', container_data).value.remove | default(false) }}"" security_opt: ""{{ lookup('dict', container_data).value.security_opt | default(omit) }}"" state: present stop_signal: ""{{ lookup('dict', container_data).value.stop_signal | default(omit) }}"" stop_timeout: ""{{ lookup('dict', container_data).value.stop_grace_period | default(omit) | int }}"" tty: ""{{ lookup('dict', container_data).value.tty | default(false) }}"" ulimit: ""{{ lookup('dict', container_data).value.ulimit | default(omit) }}"" user: ""{{ lookup('dict', container_data).value.user | default(omit) }}"" uts: ""{{ lookup('dict', container_data).value.uts | default(omit) }}"" volume: ""{{ lookup('dict', container_data).value.volumes | default(omit) }}"" volumes_from: ""{{ lookup('dict', container_data).value.volumes_from | default([]) }}""",45,44
openstack%2Foslo.log~stable%2Fussuri~I2f335358dd467f57a2178df66414bdc634eb6400,openstack/oslo.log,stable/ussuri,I2f335358dd467f57a2178df66414bdc634eb6400,zuul: port the legacy grenade job,MERGED,2020-08-06 16:19:19.000000000,2020-08-27 11:16:54.000000000,2020-08-27 11:12:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-06 16:19:19.000000000', 'files': ['playbooks/legacy/oslo.log-src-grenade-devstack/post.yaml', '.zuul.yaml', 'playbooks/legacy/oslo.log-src-grenade-devstack/run.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/a4609cccc5b6f681a38faf025fcd80db2d50a1a1', 'message': 'zuul: port the legacy grenade job\n\nMake it a native Zuul v3 job.\nIt is a simple variant of the base \'grenade\' job where oslo.log\nis installed from source instead of pip.\nAlso use a slightly more common name by dropping the ""-devstack""\nsuffix (all grenade jobs are also devstack jobs).\n\nChange-Id: I2f335358dd467f57a2178df66414bdc634eb6400\n(cherry picked from commit 63c1eca0094e0d1ce9b2a15db3a5c39c820b05f7)\n'}]",0,745179,a4609cccc5b6f681a38faf025fcd80db2d50a1a1,8,3,1,10459,,,0,"zuul: port the legacy grenade job

Make it a native Zuul v3 job.
It is a simple variant of the base 'grenade' job where oslo.log
is installed from source instead of pip.
Also use a slightly more common name by dropping the ""-devstack""
suffix (all grenade jobs are also devstack jobs).

Change-Id: I2f335358dd467f57a2178df66414bdc634eb6400
(cherry picked from commit 63c1eca0094e0d1ce9b2a15db3a5c39c820b05f7)
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/79/745179/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/oslo.log-src-grenade-devstack/post.yaml', '.zuul.yaml', 'playbooks/legacy/oslo.log-src-grenade-devstack/run.yaml']",3,a4609cccc5b6f681a38faf025fcd80db2d50a1a1,native-zuulv3-migration,,"- hosts: all name: Autoconverted job legacy-oslo.log-src-grenade-dsvm from old job gate-oslo.log-src-grenade-dsvm-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PROJECTS=""openstack/grenade $PROJECTS"" export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_GRENADE=pullup export DEVSTACK_GATE_USE_PYTHON3=True export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_PROJECT_FROM_GIT=$ZUUL_SHORT_PROJECT_NAME # Even if the branch is overridden, make sure we use # the correct branch using the OVERRIDE_*_PROJECT_BRANCH # variable. uc_project=`echo $DEVSTACK_PROJECT_FROM_GIT | tr [:lower:] [:upper:] | tr '-' '_' | sed 's/[^A-Z_]//'` export ""OVERRIDE_""$uc_project""_PROJECT_BRANCH""=$ZUUL_BRANCH cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",4,75
openstack%2Fopenstack-ansible-repo_server~stable%2Fussuri~Ia8c1fad5728bd6adec510f8bc1d7bb754393de93,openstack/openstack-ansible-repo_server,stable/ussuri,Ia8c1fad5728bd6adec510f8bc1d7bb754393de93,Add Centos-8 support,MERGED,2020-08-25 12:02:44.000000000,2020-08-27 10:56:32.000000000,2020-08-27 10:53:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-08-25 12:02:44.000000000', 'files': ['tasks/repo_install_lsyncd.yml', 'vars/redhat-8.yml', 'tasks/repo_sync_manager.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/af0a553c9fa32058904e52348bfe95eceb9959ca', 'message': ""Add Centos-8 support\n\nReverting patch https://review.opendev.org/#/c/709532/ which is installing lsyncd using source\nbut now el8 epel repo providing distro rpm for lsyncd so we don't need to install from source.\nalso changing lsyncd.conf.lua path to /etc/lsyncd/ for centos8 support.\n\nadding rsync-daemon rpm because centos8 islocated daemon and client in seperate package.\n\nChange-Id: Ia8c1fad5728bd6adec510f8bc1d7bb754393de93\n(cherry picked from commit 03b9cc39260f35d1b7b433673874be4a29d4440b)\n""}]",0,747911,af0a553c9fa32058904e52348bfe95eceb9959ca,14,4,1,25023,,,0,"Add Centos-8 support

Reverting patch https://review.opendev.org/#/c/709532/ which is installing lsyncd using source
but now el8 epel repo providing distro rpm for lsyncd so we don't need to install from source.
also changing lsyncd.conf.lua path to /etc/lsyncd/ for centos8 support.

adding rsync-daemon rpm because centos8 islocated daemon and client in seperate package.

Change-Id: Ia8c1fad5728bd6adec510f8bc1d7bb754393de93
(cherry picked from commit 03b9cc39260f35d1b7b433673874be4a29d4440b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/11/747911/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install_lsyncd.yml', 'vars/redhat-8.yml', 'tasks/repo_sync_manager.yml']",3,af0a553c9fa32058904e52348bfe95eceb9959ca,osa/el8-stable/ussuri,,"- name: Install lsyncd from source include_tasks: repo_install_lsyncd.yml when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('8', '=') - groups['repo_all'] | length > 1 tags: - build-lsyncd ",3,83
openstack%2Fneutron~stable%2Fussuri~I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,openstack/neutron,stable/ussuri,I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79,Fix deletion of subnet_id from pd_subnets,MERGED,2020-08-25 06:58:48.000000000,2020-08-27 10:56:02.000000000,2020-08-27 10:51:32.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-25 06:58:48.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/29b4f9561cdbf6eed3e11f1fdaffed88edd78317', 'message': ""Fix deletion of subnet_id from pd_subnets\n\nIn the RouterInfo._process_internal_ports() method when it process\nold ports and port belongs to the subnet with CIDR assigned by\nPrefix Delegation it will try to remove subnet_id key from the\npd_subnets dict.\nHowever it seems that in some case it may happen that such subnet_id key\nis not added to the pd_subnets dict and processing of ports fails.\n\nWe shouldn't fail in such case, if there is no subnet_id key in this\ndict we should be good as we want to delete it simply. So this patch\nchanges that to not raise KeyError in such case.\n\nChange-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79\nCloses-Bug: #1892364\n(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)\n""}]",0,747844,29b4f9561cdbf6eed3e11f1fdaffed88edd78317,13,7,1,11975,,,0,"Fix deletion of subnet_id from pd_subnets

In the RouterInfo._process_internal_ports() method when it process
old ports and port belongs to the subnet with CIDR assigned by
Prefix Delegation it will try to remove subnet_id key from the
pd_subnets dict.
However it seems that in some case it may happen that such subnet_id key
is not added to the pd_subnets dict and processing of ports fails.

We shouldn't fail in such case, if there is no subnet_id key in this
dict we should be good as we want to delete it simply. So this patch
changes that to not raise KeyError in such case.

Change-Id: I6e6d890c196716c0ef4bcc2922f1ec4c142a6e79
Closes-Bug: #1892364
(cherry picked from commit 13b894288e9354b9eb0833a635fe4a624bb068a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/747844/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,29b4f9561cdbf6eed3e11f1fdaffed88edd78317,bug/1892364-stable/ussuri," self.pd_subnets.pop(subnet['id'], None)", del self.pd_subnets[subnet['id']],1,1
openstack%2Foslo.cache~master~Ib84b3db83e8c50c7929874c63177c94f459a1a2c,openstack/oslo.cache,master,Ib84b3db83e8c50c7929874c63177c94f459a1a2c,Adding functional tests for memcache_pool backend,MERGED,2020-04-07 17:12:12.000000000,2020-08-27 10:51:07.000000000,2020-08-27 10:45:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-07 17:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/93c4ee0185a9a4b07eb89d02ae57f55fb57e3f80', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2020-04-07 18:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a95582282a1853f284f3bebc7ad70387e9fc3ba8', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2020-04-07 20:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/054cbf9d0cff9e570de2414227b1edbded5f63af', 'message': '[WIP] Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2020-04-07 20:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/257516dcf4152dcaa88092af15f0e67a6b099ec8', 'message': '[WIP] Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 5, 'created': '2020-04-08 07:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1926ddcf2d49b1640c087056ce9ce50b135d0d96', 'message': '[WIP] Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 6, 'created': '2020-04-08 10:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/7cbbcbe574985ae085223c0426d28869edec1663', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 7, 'created': '2020-04-24 14:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5c2a0b80c58f66a053c3da225898c86946788b96', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 8, 'created': '2020-04-24 17:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/19798e4a079d3c1f54ead8c8f6ada01c01b6030d', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 9, 'created': '2020-05-04 16:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/73fc2dd8580e74d3521253db3876a244dd280019', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 10, 'created': '2020-05-06 08:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2ce1ded6f390ab126718fec5a32d3a6ac67f77a0', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 11, 'created': '2020-05-06 12:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/34bca3464fce7c6ec9ab0f50ae63a92abfddbee3', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 12, 'created': '2020-05-13 08:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d2f6f7d4d393ef02521327c40c8613f0d6825080', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 13, 'created': '2020-05-13 08:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e0d02a9e159b31f70eee2f14c055c90b56c0bb72', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 14, 'created': '2020-05-14 12:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/54c88bac2464f2fe68040fa2d70db14bdbb6d1d5', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 15, 'created': '2020-08-20 08:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d0b71dabc697620ecea17d27c25eb45cd23af322', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 16, 'created': '2020-08-20 15:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/b8e009657482ac2eaf5808434c80a9604b3ada83', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 17, 'created': '2020-08-21 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fc5994c5e09758b22d2f64d88f266d809015109e', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 18, 'created': '2020-08-21 14:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3ce3f948edde673982685db54463690a9dd85700', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 19, 'created': '2020-08-21 15:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f5ce239f377cb9b0ed3fb99258e66c75028e6844', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 20, 'created': '2020-08-25 12:01:39.000000000', 'files': ['oslo_cache/tests/functional/memcache_pool/__init__.py', 'oslo_cache/tests/functional/memcache_pool/test_cache_backend.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/df075b2465195de53e42897e7d9be6c6c375ce5e', 'message': 'Adding functional tests for memcache_pool backend\n\nIntroducing the needed changes to functional tests to run\nthem against the memcache_pool backend.\n\nThese changes introduced a new zuul job related to memcache\nto isolate this part during CI and get clear outputs.\n\nChange-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",9,718176,df075b2465195de53e42897e7d9be6c6c375ce5e,65,5,20,28522,,,0,"Adding functional tests for memcache_pool backend

Introducing the needed changes to functional tests to run
them against the memcache_pool backend.

These changes introduced a new zuul job related to memcache
to isolate this part during CI and get clear outputs.

Change-Id: Ib84b3db83e8c50c7929874c63177c94f459a1a2c
Co-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/76/718176/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/tests/functional/test_cache_backend.py', 'bindep.txt', '.zuul.yaml']",3,93c4ee0185a9a4b07eb89d02ae57f55fb57e3f80,functional-memcached,- job: name: oslo.cache-functional-tox-py37-memcached parent: oslo.cache-functional-tox-py37 vars: tox_environment: OSLO_CACHE_BACKEND: memcached - oslo.cache-functional-tox-py37-memcached,,16,0
openstack%2Fcharm-ceph-fs~master~I803db4372da41c0f477510b4faa154ea0c3ff1b2,openstack/charm-ceph-fs,master,I803db4372da41c0f477510b4faa154ea0c3ff1b2,Rebuild charm for interface changes,ABANDONED,2020-08-27 07:50:44.000000000,2020-08-27 10:32:39.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 07:50:44.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/dd99bf5b79e98b6257eefd81cfea7c8f2ab576b9', 'message': 'Rebuild charm for interface changes\n\nRebuild charm to pickup changes to ceph-mds interface to\nensure that properties are correctly passed to templates\nvia adapters.\n\nChange-Id: I803db4372da41c0f477510b4faa154ea0c3ff1b2\n'}]",0,748368,dd99bf5b79e98b6257eefd81cfea7c8f2ab576b9,4,2,1,935,,,0,"Rebuild charm for interface changes

Rebuild charm to pickup changes to ceph-mds interface to
ensure that properties are correctly passed to templates
via adapters.

Change-Id: I803db4372da41c0f477510b4faa154ea0c3ff1b2
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/68/748368/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,dd99bf5b79e98b6257eefd81cfea7c8f2ab576b9,no-change-rebuild,a986e321-3807-4517-9465-911173e59a1d,,1,0
openstack%2Fcharm-nova-compute~master~I2e01bd104ee42d81209c79b1733003690735054e,openstack/charm-nova-compute,master,I2e01bd104ee42d81209c79b1733003690735054e,Add missing apparmor profile rules,MERGED,2020-08-24 12:48:07.000000000,2020-08-27 10:31:48.000000000,2020-08-27 10:31:48.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-08-24 12:48:07.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8ed9c2c01037c21c1fbdffadb2750ed6bd054304', 'message': 'Add missing apparmor profile rules\n\nChange-Id: I2e01bd104ee42d81209c79b1733003690735054e\nCloses-Bug: #1892721\n'}]",0,747717,8ed9c2c01037c21c1fbdffadb2750ed6bd054304,16,4,1,24824,,,0,"Add missing apparmor profile rules

Change-Id: I2e01bd104ee42d81209c79b1733003690735054e
Closes-Bug: #1892721
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/17/747717/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,8ed9c2c01037c21c1fbdffadb2750ed6bd054304,bug/1892721," /sbin/e2label rix, /sbin/tune2fs rix, /var/lib/nova/ r,",,3,0
openstack%2Fkeystone~master~I995bf6f16a6d96253e513dac047d23d6197187a4,openstack/keystone,master,I995bf6f16a6d96253e513dac047d23d6197187a4,NOT REVIEW: Test OVN devstack module,ABANDONED,2020-08-26 13:22:49.000000000,2020-08-27 10:26:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-26 13:22:49.000000000', 'files': ['keystone/common/manager.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3952c19f2afd148ac7e5632e1455342986a14c25', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I995bf6f16a6d96253e513dac047d23d6197187a4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,748228,3952c19f2afd148ac7e5632e1455342986a14c25,3,1,1,6773,,,0,"NOT REVIEW: Test OVN devstack module

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: I995bf6f16a6d96253e513dac047d23d6197187a4
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/28/748228/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/manager.py'],1,3952c19f2afd148ac7e5632e1455342986a14c25,ovn-devstack, Foobar. ,,2,0
openstack%2Fcharm-interface-ceph-client~master~Id9db6578e00fa412e4cf58e75bd89970b6e8e682,openstack/charm-interface-ceph-client,master,Id9db6578e00fa412e4cf58e75bd89970b6e8e682,Use properties correctly,MERGED,2020-08-27 08:28:29.000000000,2020-08-27 10:25:45.000000000,2020-08-27 10:25:45.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 08:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/75404d96e7ca24eeecf65a4e8d384541c7b01a19', 'message': 'Use properties correctly\n\nIts not possible to call a method which is annotated as a property\nso which to just using the property directly.\n\nChange-Id: Id9db6578e00fa412e4cf58e75bd89970b6e8e682\n'}, {'number': 2, 'created': '2020-08-27 09:04:58.000000000', 'files': ['src/ceph_mds/requires.py', 'src/ceph_client/requires.py', 'unit_tests/test_requires.py', 'src/lib/base_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/f86d2614b41028c4af647e9c9384dbe4c1e50831', 'message': 'Use properties correctly\n\nIts not possible to call a method which is annotated as a property\nso which to just using the property directly.\n\nIts also difficult to patch a property during unit testing so\nprovide private methods for unit testing to allow properties\nto be specified during testing.\n\nChange-Id: Id9db6578e00fa412e4cf58e75bd89970b6e8e682\n'}]",0,748371,f86d2614b41028c4af647e9c9384dbe4c1e50831,9,3,2,935,,,0,"Use properties correctly

Its not possible to call a method which is annotated as a property
so which to just using the property directly.

Its also difficult to patch a property during unit testing so
provide private methods for unit testing to allow properties
to be specified during testing.

Change-Id: Id9db6578e00fa412e4cf58e75bd89970b6e8e682
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/71/748371/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/ceph_mds/requires.py', 'src/ceph_client/requires.py']",2,75404d96e7ca24eeecf65a4e8d384541c7b01a19,complete-property-usage," 'key': self.key, 'auth': self.auth,"," 'key': self.key(), 'auth': self.auth(),",4,4
openstack%2Fcinder~master~I9ccded0f2be1c0769017443e39227e0c4d9e22ff,openstack/cinder,master,I9ccded0f2be1c0769017443e39227e0c4d9e22ff,Add cinder-plugin-ceph-tempest-mn-aa job,MERGED,2020-07-15 09:10:57.000000000,2020-08-27 10:24:02.000000000,2020-08-26 15:27:32.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-15 09:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3978a60146d7c837afb79f9b7d05c973529ffdc', 'message': 'DNR. Add cinder-plugin-ceph-tempest-mn-aa job\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}, {'number': 2, 'created': '2020-07-15 09:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8242697eab0d6d66c52f86fc804f0660c06f325c', 'message': 'DNR. Add cinder-plugin-ceph-tempest-mn-aa job\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}, {'number': 3, 'created': '2020-07-15 09:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58c24361414df32be4947b930a580ba1fd2e3bea', 'message': 'DNR. Add cinder-plugin-ceph-tempest-mn-aa job\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}, {'number': 4, 'created': '2020-07-15 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e40c93fe5b81deecac88653afd0a687b37d9d89', 'message': 'DNR. Add cinder-plugin-ceph-tempest-mn-aa job\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}, {'number': 5, 'created': '2020-07-16 09:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf552ef6ea725d91341e609c90a00955ea991cfe', 'message': 'DNR. Add cinder-plugin-ceph-tempest-mn-aa job\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}, {'number': 6, 'created': '2020-07-16 13:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/266b7c0bc4e9d00e7d2b4dee4dece9f8ed79a71d', 'message': 'DNR. Add cinder-plugin-ceph-tempest-mn-aa job\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}, {'number': 7, 'created': '2020-07-22 07:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10b125c1d2ef4dcf4de4867d59bdbabf00b8756e', 'message': 'Add cinder-plugin-ceph-tempest-mn-aa job\n\nA new job deploys Cinder+Ceph in Active/Active HA mode and runs tempest\ntests to verify it works.\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}, {'number': 8, 'created': '2020-08-26 07:59:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/88ced915bb33c6ab8223f0677108bfbb8fc9d7f3', 'message': 'Add cinder-plugin-ceph-tempest-mn-aa job\n\nA new job deploys Cinder+Ceph in Active/Active HA mode and runs tempest\ntests to verify it works.\n\nChange-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff\n'}]",1,741125,88ced915bb33c6ab8223f0677108bfbb8fc9d7f3,154,33,8,1736,,,0,"Add cinder-plugin-ceph-tempest-mn-aa job

A new job deploys Cinder+Ceph in Active/Active HA mode and runs tempest
tests to verify it works.

Change-Id: I9ccded0f2be1c0769017443e39227e0c4d9e22ff
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/741125/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d3978a60146d7c837afb79f9b7d05c973529ffdc,a-a-support,"# templates: # - openstack-lower-constraints-jobs # - openstack-python3-victoria-jobs # - publish-openstack-docs-pti # - periodic-stable-jobs # - check-requirements # - integrated-gate-storage # - release-notes-jobs-python3# - cinder-code-coverage: # voting: false # - cinder-tox-bandit-baseline: # voting: false # - openstack-tox-functional-py36: # irrelevant-files: &functional-irrelevant-files # - ^.*\.rst$ # - ^api-ref/.*$ # - ^cinder/locale/.*$ # - ^cinder/tests/hacking/.*$ # - ^cinder/tests/unit.*$ # - ^contrib/block-box.*$ # - ^doc/.*$ # - ^releasenotes/.*$ # - openstack-tox-functional-py38: # irrelevant-files: *functional-irrelevant-files # - cinder-rally-task: # voting: false # - openstack-tox-pylint: # voting: false # timeout: 5400 # irrelevant-files: *functional-irrelevant-files # - cinder-plugin-ceph-tempest: # irrelevant-files: &gate-irrelevant-files # - ^(test-|)requirements.txt$ # - ^lower-constraints.txt$ # - ^.*\.rst$ # - ^api-ref/.*$ # - ^cinder/cmd/status\.py$ # - ^cinder/locale/.*$ # - ^cinder/tests/functional.*$ # - ^cinder/tests/hacking/.*$ # - ^cinder/tests/unit.*$ # - ^contrib/block-box.*$ # - ^doc/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ - cinder-plugin-ceph-tempest-mn-aa:# - cinder-tempest-plugin-lvm-lio-barbican: # irrelevant-files: *functional-irrelevant-files # - cinder-grenade-mn-sub-volbak: # irrelevant-files: *gate-irrelevant-files # - cinder-tempest-lvm-multibackend: # voting: false # irrelevant-files: *gate-irrelevant-files # - devstack-plugin-nfs-tempest-full: # voting: false # irrelevant-files: *gate-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *gate-irrelevant-files # - tempest-integrated-storage: # irrelevant-files: *gate-irrelevant-files # - grenade: # irrelevant-files: *gate-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *gate-irrelevant-filesname: cinder-plugin-ceph-tempest-mn-aa nodeset: openstack-two-node parent: devstack-plugin-ceph-tempest-py3 roles: - zuul: opendev.org/openstack/cinderlib - zuul: opendev.org/openstack/cinder-tempest-plugin run: playbooks/tempest-and-cinderlib-run.yaml post-run: playbooks/post-cinderlib.yaml required-projects: - opendev.org/openstack/cinderlib vars: zuul_additional_subunit_dirs: - ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/cinderlib'].src_dir }}"" devstack_local_conf: post-config: $CINDER_CONF: DEFAULT: cluster: 'cinder-ha' test-config: $TEMPEST_CONFIG: volume-feature-enabled: volume_revert: True ", templates: - openstack-lower-constraints-jobs - openstack-python3-victoria-jobs - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - integrated-gate-storage - release-notes-jobs-python3 - cinder-code-coverage: - cinder-tox-bandit-baseline: voting: false - openstack-tox-functional-py36: irrelevant-files: &functional-irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/locale/.*$ - ^cinder/tests/hacking/.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py38: irrelevant-files: *functional-irrelevant-files - cinder-rally-task: voting: false - openstack-tox-pylint: voting: false timeout: 5400 irrelevant-files: *functional-irrelevant-files - cinder-plugin-ceph-tempest: irrelevant-files: &gate-irrelevant-files - ^(test-|)requirements.txt$ - ^lower-constraints.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/cmd/status\.py$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/hacking/.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - cinder-tempest-plugin-lvm-lio-barbican: irrelevant-files: *functional-irrelevant-files - cinder-grenade-mn-sub-volbak: irrelevant-files: *gate-irrelevant-files - cinder-tempest-lvm-multibackend: voting: false irrelevant-files: *gate-irrelevant-files - devstack-plugin-nfs-tempest-full: voting: false irrelevant-files: *gate-irrelevant-files - tempest-slow-py3: irrelevant-files: *gate-irrelevant-files - tempest-integrated-storage: irrelevant-files: *gate-irrelevant-files - grenade: irrelevant-files: *gate-irrelevant-files - tempest-ipv6-only: irrelevant-files: *gate-irrelevant-files,89,64
openstack%2Frequirements~master~Ie9e8423d29413e5ad39698cf16b8889eda715ef4,openstack/requirements,master,Ie9e8423d29413e5ad39698cf16b8889eda715ef4,Updated from generate-constraints,MERGED,2020-08-27 06:16:29.000000000,2020-08-27 10:16:31.000000000,2020-08-27 10:14:32.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 06:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/de13aa5146d7be55aea0dffa9ae294bd7e4ebf96', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9e8423d29413e5ad39698cf16b8889eda715ef4\n'}, {'number': 2, 'created': '2020-08-27 06:48:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1402e7c93c84800ea4c5196cd96e8ec8cea9bf5c', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9e8423d29413e5ad39698cf16b8889eda715ef4\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,748362,1402e7c93c84800ea4c5196cd96e8ec8cea9bf5c,12,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ie9e8423d29413e5ad39698cf16b8889eda715ef4
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/748362/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,de13aa5146d7be55aea0dffa9ae294bd7e4ebf96,openstack/requirements/constraints/noclob,zeroconf===0.28.2mock===4.0.2cryptography===3.1oslo.log===4.4.0docutils===0.16boto3===1.14.49sushy===3.3.1oslo.cache===2.6.0botocore===1.17.49pkg-resources===0.0.0,zeroconf===0.28.1mock===3.0.5cryptography===3.0oslo.log===4.3.0docutils===0.15.2boto3===1.14.48sushy===3.3.0oslo.cache===2.5.0botocore===1.17.48,10,9
openstack%2Fpuppet-swift~master~I88ac89d1d2da6b596ee9523b3f186c338cc15a7b,openstack/puppet-swift,master,I88ac89d1d2da6b596ee9523b3f186c338cc15a7b,Use common class to manage apache service in beaker job,MERGED,2020-08-27 03:07:26.000000000,2020-08-27 09:58:13.000000000,2020-08-27 08:46:52.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/75935fb8dfa7c2e7d1e3e60831670c042c43abc9', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I88ac89d1d2da6b596ee9523b3f186c338cc15a7b\n'}, {'number': 2, 'created': '2020-08-27 03:58:44.000000000', 'files': ['spec/acceptance/basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/5c68fd9be983494661ac455ac4ce44b1ad50a251', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I88ac89d1d2da6b596ee9523b3f186c338cc15a7b\n'}]",0,748351,5c68fd9be983494661ac455ac4ce44b1ad50a251,10,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I88ac89d1d2da6b596ee9523b3f186c338cc15a7b
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/51/748351/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_swift_spec.rb'],1,75935fb8dfa7c2e7d1e3e60831670c042c43abc9,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-octavia~master~I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43,openstack/puppet-octavia,master,I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43,Use common class to manage apache service in beaker job,MERGED,2020-08-27 03:05:59.000000000,2020-08-27 09:58:05.000000000,2020-08-27 08:42:07.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:05:59.000000000', 'files': ['spec/acceptance/octavia_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/41c181975cba2ea963f9f213be4366b96d9a241f', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43\n'}]",0,748350,41c181975cba2ea963f9f213be4366b96d9a241f,8,3,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I53fc5ee6bc18d19d9108f73c8af8974eaff0bd43
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/50/748350/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/octavia_spec.rb'],1,41c181975cba2ea963f9f213be4366b96d9a241f,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-designate~master~Ic6e773a53dc93f71d73285cd2812d8943dd7690a,openstack/puppet-designate,master,Ic6e773a53dc93f71d73285cd2812d8943dd7690a,Use common class to manage apache service in beaker job,MERGED,2020-08-27 03:00:29.000000000,2020-08-27 09:57:55.000000000,2020-08-27 08:41:18.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:00:29.000000000', 'files': ['spec/acceptance/basic_designate_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/345059eba88228dd939e0fd79eb224385fb28e23', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Ic6e773a53dc93f71d73285cd2812d8943dd7690a\n'}]",0,748346,345059eba88228dd939e0fd79eb224385fb28e23,9,3,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Ic6e773a53dc93f71d73285cd2812d8943dd7690a
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/46/748346/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_designate_spec.rb'],1,345059eba88228dd939e0fd79eb224385fb28e23,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-cloudkitty~master~If81062b91bbb5b091a08e53e1bc50af39d67920d,openstack/puppet-cloudkitty,master,If81062b91bbb5b091a08e53e1bc50af39d67920d,Use common class to manage apache service in beaker job,MERGED,2020-08-27 02:59:37.000000000,2020-08-27 09:57:45.000000000,2020-08-27 08:36:05.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 02:59:37.000000000', 'files': ['spec/acceptance/cloudkitty_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/52df4f098b960be0a9f4857d8b809bc732a920e3', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: If81062b91bbb5b091a08e53e1bc50af39d67920d\n'}]",0,748345,52df4f098b960be0a9f4857d8b809bc732a920e3,8,3,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: If81062b91bbb5b091a08e53e1bc50af39d67920d
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/45/748345/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/cloudkitty_wsgi_apache_spec.rb'],1,52df4f098b960be0a9f4857d8b809bc732a920e3,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-trove~master~I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac,openstack/puppet-trove,master,I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac,Use common class to manage apache service in beaker job,MERGED,2020-08-27 03:08:48.000000000,2020-08-27 09:57:36.000000000,2020-08-27 08:33:07.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:08:48.000000000', 'files': ['spec/acceptance/basic_trove_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/ecce3cb65a8de35813e01ba2290f37fa67ea1359', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac\n'}]",0,748353,ecce3cb65a8de35813e01ba2290f37fa67ea1359,8,3,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I7fccb5c4fc29a3c5a2d864d9ac7df3d2d181faac
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/53/748353/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_trove_spec.rb'],1,ecce3cb65a8de35813e01ba2290f37fa67ea1359,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-magnum~master~I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e,openstack/puppet-magnum,master,I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e,Use common class to manage apache and magnum service in beaker job,MERGED,2020-08-27 03:04:55.000000000,2020-08-27 09:57:28.000000000,2020-08-27 08:32:00.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/9bf685f59fcfa1d561dbc84a6cd60b1f52f6dbc6', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e\n'}, {'number': 2, 'created': '2020-08-27 04:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/676e0ee7a7268842fc6556a3941b9b82d679bac2', 'message': 'Use common class to manage apache and magnum service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e\n'}, {'number': 3, 'created': '2020-08-27 04:40:53.000000000', 'files': ['spec/acceptance/basic_magnum_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/990078c687981dcf23595bf3ae7c07147db37fcd', 'message': 'Use common class to manage apache and magnum service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e\n'}]",0,748349,990078c687981dcf23595bf3ae7c07147db37fcd,12,3,3,9816,,,0,"Use common class to manage apache and magnum service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I9126eaf62de7aa43fe3b2d6622dc484ec1ccc88e
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/49/748349/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_magnum_spec.rb'],1,9bf685f59fcfa1d561dbc84a6cd60b1f52f6dbc6,centos8-beaker, include openstack_integration::apache, include apache,1,1
openstack%2Fpuppet-horizon~master~I190277da7b98d40bf0f772e37d016f34caa9e9a2,openstack/puppet-horizon,master,I190277da7b98d40bf0f772e37d016f34caa9e9a2,Use common class to manage apache service in beaker job,MERGED,2020-08-27 03:03:02.000000000,2020-08-27 09:57:18.000000000,2020-08-27 08:28:27.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/407c8b08a0ee534b5709e44254eeafcc574d1609', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I190277da7b98d40bf0f772e37d016f34caa9e9a2\n'}, {'number': 2, 'created': '2020-08-27 03:47:18.000000000', 'files': ['spec/acceptance/horizon_with_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c0b61ceffaf815effea7938393d452c43466a901', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: I190277da7b98d40bf0f772e37d016f34caa9e9a2\n'}]",0,748348,c0b61ceffaf815effea7938393d452c43466a901,10,3,2,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: I190277da7b98d40bf0f772e37d016f34caa9e9a2
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/48/748348/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/horizon_with_apache_spec.rb'],1,407c8b08a0ee534b5709e44254eeafcc574d1609,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Fpuppet-ec2api~master~Id1a8cb39478dcf297354e2c0ab5413b40ac278b7,openstack/puppet-ec2api,master,Id1a8cb39478dcf297354e2c0ab5413b40ac278b7,Use common class to manage apache service in beaker job,MERGED,2020-08-27 03:01:13.000000000,2020-08-27 09:57:06.000000000,2020-08-27 08:27:53.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 03:01:13.000000000', 'files': ['spec/acceptance/basic_ec2api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/f9d3b551385aca1f32a410ac6507c42aacd4d48c', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/745246/\nChange-Id: Id1a8cb39478dcf297354e2c0ab5413b40ac278b7\n'}]",0,748347,f9d3b551385aca1f32a410ac6507c42aacd4d48c,8,3,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/745246/
Change-Id: Id1a8cb39478dcf297354e2c0ab5413b40ac278b7
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/47/748347/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_ec2api_spec.rb'],1,f9d3b551385aca1f32a410ac6507c42aacd4d48c,centos8-beaker, include openstack_integration::apache,,1,0
openstack%2Foslo-cookiecutter~master~If888ecb343805c0c7f25ad2adfa9ebe98117b6c1,openstack/oslo-cookiecutter,master,If888ecb343805c0c7f25ad2adfa9ebe98117b6c1,Update the tox minversion parameter.,MERGED,2020-07-30 13:41:55.000000000,2020-08-27 09:56:05.000000000,2020-08-27 09:56:05.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-07-30 13:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/87638d36fd1af5892c17e682b20ff458c725c4c6', 'message': ""Update the tox minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: If888ecb343805c0c7f25ad2adfa9ebe98117b6c1\n""}, {'number': 2, 'created': '2020-08-12 09:01:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/4552af7774ab30f6bfe1595b0b8aa6814ae35983', 'message': ""Update the tox minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: If888ecb343805c0c7f25ad2adfa9ebe98117b6c1\n""}]",0,743972,4552af7774ab30f6bfe1595b0b8aa6814ae35983,13,4,2,31245,,,0,"Update the tox minversion parameter.

Update the minversion parameter to use the python -m pip to install
python packages:

https://tox.readthedocs.io/en/latest/changelog.html#id185

It's recommend to use this.

Change-Id: If888ecb343805c0c7f25ad2adfa9ebe98117b6c1
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/72/743972/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,87638d36fd1af5892c17e682b20ff458c725c4c6,update_tox_min_version,minversion = 3.2.0,minversion = 3.1.1,1,1
openstack%2Fcharm-ceph-mon~master~Iab73f1127bfbdf11626727f3044366d2e5745439,openstack/charm-ceph-mon,master,Iab73f1127bfbdf11626727f3044366d2e5745439,"Unpin flake8, fix lint",MERGED,2020-08-03 10:38:29.000000000,2020-08-27 09:37:20.000000000,2020-08-27 09:37:20.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-03 10:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4186ec8eb77d02ae0927e4bdc9839db1ace10228', 'message': 'Unpin flake8, fix lint\n\nChange-Id: Iab73f1127bfbdf11626727f3044366d2e5745439\n'}, {'number': 2, 'created': '2020-08-03 10:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4caba6bfd953f00ce40cab4ba49d8ed3eeb4af87', 'message': 'Unpin flake8, fix lint\n\nChange-Id: Iab73f1127bfbdf11626727f3044366d2e5745439\n'}, {'number': 3, 'created': '2020-08-26 13:59:02.000000000', 'files': ['files/nagios/check_ceph_status.py', 'hooks/ceph_hooks.py', 'test-requirements.txt', 'actions/create_erasure_profile.py', 'unit_tests/test_ceph_ops.py', 'actions/security_checklist.py', 'tox.ini', 'actions/create_crush_rule.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c0113217bfd08f22d69d26e29c26b72032b5de56', 'message': 'Unpin flake8, fix lint\n\nChange-Id: Iab73f1127bfbdf11626727f3044366d2e5745439\n'}]",1,744446,c0113217bfd08f22d69d26e29c26b72032b5de56,15,4,3,13686,,,0,"Unpin flake8, fix lint

Change-Id: Iab73f1127bfbdf11626727f3044366d2e5745439
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/46/744446/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/nagios/check_ceph_status.py', 'hooks/ceph_hooks.py', 'test-requirements.txt', 'actions/create_erasure_profile.py', 'unit_tests/test_ceph_ops.py', 'actions/security_checklist.py', 'tox.ini', 'actions/create_crush_rule.py']",8,4186ec8eb77d02ae0927e4bdc9839db1ace10228,ceph-bluestore-compression,,,11,10
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I74e3b26dfbd5131eb219810a1418e085a7d41a81,openstack/puppet-openstack-integration,stable/ussuri,I74e3b26dfbd5131eb219810a1418e085a7d41a81,Refactor installation of puppet packages,MERGED,2020-08-26 13:37:59.000000000,2020-08-27 09:31:14.000000000,2020-08-27 09:31:14.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/62c3687f85e500727703537d77627c0d0aafc58b', 'message': 'Refactor installation of puppet packages\n\nConflicts:\n\tplaybooks/prepare-node-common.yaml\n\nChange-Id: I74e3b26dfbd5131eb219810a1418e085a7d41a81\n(cherry picked from commit 3a3aa790ef7c5aea5d4d661174dc1f2af20229fb)\n'}, {'number': 2, 'created': '2020-08-26 13:51:02.000000000', 'files': ['playbooks/prepare-node-common.yaml', 'copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f4a8ec0fde3e6da873258bbc0bc75b5aa6566b3f', 'message': 'Refactor installation of puppet packages\n\nConflicts:\n\tplaybooks/prepare-node-common.yaml\n\nResolved conflict caused by [1]\n\n[1] https://review.opendev.org/#/c/736069/\n\nChange-Id: I74e3b26dfbd5131eb219810a1418e085a7d41a81\n(cherry picked from commit 3a3aa790ef7c5aea5d4d661174dc1f2af20229fb)\n'}]",0,748233,f4a8ec0fde3e6da873258bbc0bc75b5aa6566b3f,8,3,2,9816,,,0,"Refactor installation of puppet packages

Conflicts:
	playbooks/prepare-node-common.yaml

Resolved conflict caused by [1]

[1] https://review.opendev.org/#/c/736069/

Change-Id: I74e3b26dfbd5131eb219810a1418e085a7d41a81
(cherry picked from commit 3a3aa790ef7c5aea5d4d661174dc1f2af20229fb)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/33/748233/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/prepare-node-common.yaml', 'copy_logs.sh']",2,62c3687f85e500727703537d77627c0d0aafc58b,centos8-beaker-stable/ussuri, sudo $YUM repolist -v > $LOG_DIR/repolist.txt, $YUM repolist -v > $LOG_DIR/repolist.txt,108,91
openstack%2Fkuryr-kubernetes~master~I10fc315b6ff456282d71d84e6cee4c226ac5cdba,openstack/kuryr-kubernetes,master,I10fc315b6ff456282d71d84e6cee4c226ac5cdba,Remove right finalizer on pod absence.,MERGED,2020-08-25 10:39:50.000000000,2020-08-27 09:29:16.000000000,2020-08-27 09:26:59.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-08-25 10:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0e9097d37d365a0f1fd7f7576b07d4b16f302b18', 'message': 'Remove right finalizer on pod absence.\n\nIn case of missing pod, KuryrPort should remove itself by removing its\nfinalizer, not non-existent pod finalizer.\n\nChange-Id: I10fc315b6ff456282d71d84e6cee4c226ac5cdba\n'}, {'number': 2, 'created': '2020-08-25 12:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9c96e64f0a7754d3e95c4f17f1b55839ae9ae2f8', 'message': 'Remove right finalizer on pod absence.\n\nIn case of missing pod, KuryrPort should remove itself by removing its\nfinalizer, not non-existent pod finalizer.\n\nCloses-Bug: 1892863\nChange-Id: I10fc315b6ff456282d71d84e6cee4c226ac5cdba\n'}, {'number': 3, 'created': '2020-08-26 08:11:00.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c7fd31951b6a3121b95c81078522ad57790ad8b5', 'message': 'Remove right finalizer on pod absence.\n\nIn case of missing pod, KuryrPort should remove itself by removing its\nfinalizer, not non-existent pod finalizer.\n\nCloses-Bug: 1892863\nChange-Id: I10fc315b6ff456282d71d84e6cee4c226ac5cdba\n'}]",4,747896,c7fd31951b6a3121b95c81078522ad57790ad8b5,28,6,3,13692,,,0,"Remove right finalizer on pod absence.

In case of missing pod, KuryrPort should remove itself by removing its
finalizer, not non-existent pod finalizer.

Closes-Bug: 1892863
Change-Id: I10fc315b6ff456282d71d84e6cee4c226ac5cdba
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/96/747896/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py']",2,0e9097d37d365a0f1fd7f7576b07d4b16f302b18,dead-pod-rm-finalizer," self.k8s.remove_finalizer(kuryrport_crd, constants.KURYRPORT_FINALIZER)"," self.k8s.remove_finalizer(kuryrport_crd, constants.POD_FINALIZER)",3,2
openstack%2Fnova~master~Ib93cbd7c5ba64e678393554ba77f568efdb2608a,openstack/nova,master,Ib93cbd7c5ba64e678393554ba77f568efdb2608a,docs: Resolve issue with deprecated extra specs,MERGED,2020-05-08 09:19:36.000000000,2020-08-27 09:21:57.000000000,2020-05-26 02:47:14.000000000,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27594}]","[{'number': 1, 'created': '2020-05-08 09:19:36.000000000', 'files': ['doc/ext/extra_specs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a2ed8a78ef71e36333d3a1ec4fa30a2c2d21651', 'message': ""docs: Resolve issue with deprecated extra specs\n\nThe warning directive should look like so:\n\n  .. warning::\n\n      Some text here.\n\nHowever, we weren't indenting the body correctly, meaning the directive\nappeared to have no content. Resolve this.\n\nChange-Id: Ib93cbd7c5ba64e678393554ba77f568efdb2608a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,726315,8a2ed8a78ef71e36333d3a1ec4fa30a2c2d21651,18,13,1,15334,,,0,"docs: Resolve issue with deprecated extra specs

The warning directive should look like so:

  .. warning::

      Some text here.

However, we weren't indenting the body correctly, meaning the directive
appeared to have no content. Resolve this.

Change-Id: Ib93cbd7c5ba64e678393554ba77f568efdb2608a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/726315/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/extra_specs.py'],1,8a2ed8a78ef71e36333d3a1ec4fa30a2c2d21651,bug/1841932,"def _indent(text, count=1): padding = ' ' * (4 * count) 'This extra spec has been deprecated and should not be used.', 2 yield ''",def _indent(text): padding = ' ' * 4 'This extra spec has been deprecated and should not be used.' yield '',4,5
openstack%2Fcharms.ceph~master~Ibec4e3221387199adbc1a920e130975d7b25343c,openstack/charms.ceph,master,Ibec4e3221387199adbc1a920e130975d7b25343c,Use common pool create/update handling code,MERGED,2020-07-31 10:49:26.000000000,2020-08-27 09:16:52.000000000,2020-08-27 09:16:52.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-31 10:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/cf5f4cc052c49318692c35ac934bfafb98f17c20', 'message': ""[WIP] Use common pool update handling code\n\nSome pool properties should be allowed adjusted after a pool is\ncreated.\n\nThe Pool quota property is already handled ad-hoc in the\n`charms.ceph` broker handling code, let's bring it over to the\npool objects along with the handling of the compression properties.\n\nMerge after https://github.com/juju/charm-helpers/pull/497\n\nChange-Id: Ibec4e3221387199adbc1a920e130975d7b25343c\n""}, {'number': 2, 'created': '2020-08-01 07:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/a7c51eacea72e4af5213dad83417d9691818de1c', 'message': ""[WIP] Use common pool create/update handling code\n\nUse the Pool classes ability to initialize themselves from op.\n\nSome pool properties should be allowed adjusted after a pool is\ncreated.\n\nThe Pool quota property is already handled ad-hoc in the\n`charms.ceph` broker handling code, let's bring it over to the\npool objects along with the handling of the compression properties.\n\nMerge after https://github.com/juju/charm-helpers/pull/497\n\nChange-Id: Ibec4e3221387199adbc1a920e130975d7b25343c\n""}, {'number': 3, 'created': '2020-08-01 07:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/127737347f408958bebd4ad4ad74043c39cbecd8', 'message': ""[WIP] Use common pool create/update handling code\n\nUse the Pool classes ability to initialize themselves from op.\n\nSome pool properties should be allowed adjusted after a pool is\ncreated.\n\nThe Pool quota property is already handled ad-hoc in the\n`charms.ceph` broker handling code, let's bring it over to the\npool objects along with the handling of the compression properties.\n\nMerge after https://github.com/juju/charm-helpers/pull/497\n\nChange-Id: Ibec4e3221387199adbc1a920e130975d7b25343c\n""}, {'number': 4, 'created': '2020-08-03 08:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/4c6f198cefbb8b824fe9bf8b155443fa0339032f', 'message': ""Use common pool create/update handling code\n\nUse the Pool classes ability to initialize themselves from op.\n\nSome pool properties should be allowed adjusted after a pool is\ncreated.\n\nThe Pool quota property is already handled ad-hoc in the\n`charms.ceph` broker handling code, let's bring it over to the\npool objects along with the handling of the compression properties.\n\nMerge after https://github.com/juju/charm-helpers/pull/497\n\nChange-Id: Ibec4e3221387199adbc1a920e130975d7b25343c\n""}, {'number': 5, 'created': '2020-08-03 10:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/34ca5d5fb467292872a8c44dc953ff7310d8770c', 'message': ""Use common pool create/update handling code\n\nUse the Pool classes ability to initialize themselves from op.\n\nSome pool properties should be allowed adjusted after a pool is\ncreated.\n\nThe Pool quota property is already handled ad-hoc in the\n`charms.ceph` broker handling code, let's bring it over to the\npool objects along with the handling of the compression properties.\n\nMove some missing unit tests here from ceph-mon charm.\n\nMerge after https://github.com/juju/charm-helpers/pull/497\n\nChange-Id: Ibec4e3221387199adbc1a920e130975d7b25343c\n""}, {'number': 6, 'created': '2020-08-26 13:58:52.000000000', 'files': ['charms_ceph/broker.py', 'test-requirements.txt', 'unit_tests/test_utils.py', 'unit_tests/__init__.py', 'unit_tests/test_osd_upgrade_roll.py', 'unit_tests/test_broker.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/af0eac506dadb4504f7f2428608860a00d29b987', 'message': ""Use common pool create/update handling code\n\nUse the Pool classes ability to initialize themselves from op.\n\nSome pool properties should be allowed adjusted after a pool is\ncreated.\n\nThe Pool quota property is already handled ad-hoc in the\n`charms.ceph` broker handling code, let's bring it over to the\npool objects along with the handling of the compression properties.\n\nMove some missing unit tests here from ceph-mon charm.\n\nMerge after https://github.com/juju/charm-helpers/pull/497\n\nChange-Id: Ibec4e3221387199adbc1a920e130975d7b25343c\n""}]",11,744122,af0eac506dadb4504f7f2428608860a00d29b987,20,3,6,13686,,,0,"Use common pool create/update handling code

Use the Pool classes ability to initialize themselves from op.

Some pool properties should be allowed adjusted after a pool is
created.

The Pool quota property is already handled ad-hoc in the
`charms.ceph` broker handling code, let's bring it over to the
pool objects along with the handling of the compression properties.

Move some missing unit tests here from ceph-mon charm.

Merge after https://github.com/juju/charm-helpers/pull/497

Change-Id: Ibec4e3221387199adbc1a920e130975d7b25343c
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/22/744122/4 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/broker.py'],1,cf5f4cc052c49318692c35ac934bfafb98f17c20,ceph-bluestore-compression,"from subprocess import check_call, check_output, CalledProcessError percent_data=weight, app_name=app_name, op=request) # Set/update properties that are allowed to change after pool creation. pool.update() name=pool_name, op=request, **kwargs) # Set/update properties that are allowed to change after pool creation. pool.update()","from subprocess import check_call, check_output, CalledProcessError max_bytes = request.get('max-bytes') max_objects = request.get('max-objects') percent_data=weight, app_name=app_name) # Set a quota if requested if max_bytes or max_objects: set_pool_quota(service=service, pool_name=pool_name, max_bytes=max_bytes, max_objects=max_objects) max_bytes = request.get('max-bytes') max_objects = request.get('max-objects') name=pool_name, **kwargs) # Set a quota if requested if max_bytes or max_objects: set_pool_quota(service=service, pool_name=pool_name, max_bytes=max_bytes, max_objects=max_objects)",8,15
openstack%2Freleases~master~Iffb08675b6911336acc5e2a7dee3665282976441,openstack/releases,master,Iffb08675b6911336acc5e2a7dee3665282976441,Release neutron 14.3.1 for stable/stein,MERGED,2020-08-25 09:12:03.000000000,2020-08-27 09:05:14.000000000,2020-08-27 09:05:13.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 09:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5716e733a504d56a262f0422387e8525fb1a76fa', 'message': 'Release neutron 14.3.1 for stable/stein\n\nChange-Id: Iffb08675b6911336acc5e2a7dee3665282976441\n'}, {'number': 2, 'created': '2020-08-26 08:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/24e6c9798fec82ade4095855bcbf32a5c1fe29b9', 'message': 'Release neutron 14.3.1 for stable/stein\n\nChange-Id: Iffb08675b6911336acc5e2a7dee3665282976441\n'}, {'number': 3, 'created': '2020-08-26 08:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/de04ce56b4b4f4517ba052cc4ff0efa7106ff5ce', 'message': 'Release neutron 14.4.0 for stable/stein\n\nChange-Id: Iffb08675b6911336acc5e2a7dee3665282976441\n'}, {'number': 4, 'created': '2020-08-27 08:13:37.000000000', 'files': ['deliverables/stein/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e713e85e040d3a9b7621ce0e9d226be71053da36', 'message': 'Release neutron 14.3.1 for stable/stein\n\nChange-Id: Iffb08675b6911336acc5e2a7dee3665282976441\n'}]",1,747873,e713e85e040d3a9b7621ce0e9d226be71053da36,25,6,4,11975,,,0,"Release neutron 14.3.1 for stable/stein

Change-Id: Iffb08675b6911336acc5e2a7dee3665282976441
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/747873/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/neutron.yaml'],1,5716e733a504d56a262f0422387e8525fb1a76fa,, - version: 14.3.1 projects: - repo: openstack/neutron hash: c65d1329e16ae3677c975f983e3920f50ed90a02,,4,0
openstack%2Fcyborg~master~If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2,openstack/cyborg,master,If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2,Optimize microversion support,MERGED,2020-08-14 07:24:08.000000000,2020-08-27 09:01:59.000000000,2020-08-27 08:59:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 30751}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-08-14 07:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4f5105ed48bb428b989bd3539dfbf6bb8865d1b4', 'message': 'Add microversion 2.1 for ofing project—ct_id for arq\n\nChange-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2\n'}, {'number': 2, 'created': '2020-08-14 09:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/09a5ada6aec8b0b133e3721aea103c6342c68fe9', 'message': 'Add microversion 2.1 of adding project_id for arq\n\nChange-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2\n'}, {'number': 3, 'created': '2020-08-15 03:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9fb5b411d795db4dfa457e4fbf9d8043c8b1200c', 'message': 'Add microversion 2.1 of adding project_id for arq\n\nSupport stuff project_id for arq patch with microversion control.\n\nAdd ralated uts for allow project_id with microversion 2.1 and\nnot allow project_id with default microversion 2.0.\n\nChange-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2\n'}, {'number': 4, 'created': '2020-08-17 08:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f1be5043ccc8cc732d286e2350ba62157892ea7a', 'message': 'Optimize microversion support\n\nChange-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2\n'}, {'number': 5, 'created': '2020-08-17 08:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/098d67e01d17808bf07a785805c1027b665ab88e', 'message': 'Optimize microversion support\n\nChange-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2\n'}, {'number': 6, 'created': '2020-08-17 08:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/15a2356647bb51c158816f2654837b8d77843624', 'message': 'Optimize microversion support\n\nChange-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2\n'}, {'number': 7, 'created': '2020-08-26 12:12:54.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_api.py', 'cyborg/api/controllers/v2/versions.py', 'cyborg/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9179ed3053862c1b636a80bf97269e6d90b8ae0f', 'message': 'Optimize microversion support\n\nThis changes is prepare to use microversion. This way is better to use\nversion number and record the microversion change history in this architecture.\nIf we want to add a microversion, we just need to add a constant parameter\nin [1](e.g. MINOR_1_PROJECT_ID=1) and update the MINOR_MAX_VERSION to\nMINOR_1_PROJECT_ID.\n\n[1] https://review.opendev.org/#/c/746282/6/cyborg/api/controllers/v2/versions.py@27\n\nChange-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2\n'}]",8,746282,9179ed3053862c1b636a80bf97269e6d90b8ae0f,24,8,7,31412,,,0,"Optimize microversion support

This changes is prepare to use microversion. This way is better to use
version number and record the microversion change history in this architecture.
If we want to add a microversion, we just need to add a constant parameter
in [1](e.g. MINOR_1_PROJECT_ID=1) and update the MINOR_MAX_VERSION to
MINOR_1_PROJECT_ID.

[1] https://review.opendev.org/#/c/746282/6/cyborg/api/controllers/v2/versions.py@27

Change-Id: If2a2bc8178a6ee073f9e7cc6ac65df51f3034fa2
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/82/746282/7 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/api/controllers/v2/arqs.py', 'cyborg/api/controllers/v2/versions.py', 'cyborg/api/controllers/v2/utils.py', 'cyborg/api/rest_api_version_history.rst', 'cyborg/common/exception.py']",5,4f5105ed48bb428b989bd3539dfbf6bb8865d1b4,arq-instance-project-id," class NotAcceptable(CyborgException): _msg_fmt = _(""Request not acceptable."") code = http_client.NOT_ACCEPTABLE",,55,2
openstack%2Fcharm-ceph-osd~master~I7f47c1dac0761101980ebba3f9aab8732cb0d1ce,openstack/charm-ceph-osd,master,I7f47c1dac0761101980ebba3f9aab8732cb0d1ce,"Unpin flake8, fix lint",MERGED,2020-08-26 14:22:55.000000000,2020-08-27 08:52:43.000000000,2020-08-27 08:52:43.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-26 14:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/331b3a0b72b97e62a9ce84cbe875d381bd9f3e6a', 'message': 'Unpin flake8, fix lint\n\nChange-Id: I7f47c1dac0761101980ebba3f9aab8732cb0d1ce\n'}, {'number': 2, 'created': '2020-08-26 14:32:31.000000000', 'files': ['hooks/utils.py', 'actions/zap_disk.py', 'files/nagios/check_ceph_status.py', 'files/nagios/collect_ceph_osd_services.py', 'test-requirements.txt', 'actions/security_checklist.py', 'actions/osd_in_out.py', 'files/nagios/check_ceph_osd_services.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0ca99c2fc36a52275fbc14455307007938d55865', 'message': 'Unpin flake8, fix lint\n\nChange-Id: I7f47c1dac0761101980ebba3f9aab8732cb0d1ce\n'}]",1,748244,0ca99c2fc36a52275fbc14455307007938d55865,12,4,2,13686,,,0,"Unpin flake8, fix lint

Change-Id: I7f47c1dac0761101980ebba3f9aab8732cb0d1ce
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/44/748244/2 && git format-patch -1 --stdout FETCH_HEAD,"['actions/zap_disk.py', 'hooks/utils.py', 'files/nagios/check_ceph_status.py', 'files/nagios/collect_ceph_osd_services.py', 'test-requirements.txt', 'actions/security_checklist.py', 'actions/osd_in_out.py', 'files/nagios/check_ceph_osd_services.py', 'tox.ini']",9,331b3a0b72b97e62a9ce84cbe875d381bd9f3e6a,ceph-bluestore-compression,"ignore = E402,E226,W504","ignore = E402,E226",15,12
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5,openstack/tripleo-heat-templates,stable/train,Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5,Run external_deploy_tasks per step for each role,MERGED,2020-08-12 20:54:13.000000000,2020-08-27 08:41:12.000000000,2020-08-27 08:41:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-12 20:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b9fd4c7754c57027982ee2573358e02c0fe977c', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 2, 'created': '2020-08-13 01:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/633fe3b822e9c4bdd49b848d3137f0bf0627f735', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 3, 'created': '2020-08-13 12:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25941fad95b6ae155a354c5e18b421bf96474957', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 4, 'created': '2020-08-14 01:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4dcc308f8179f491a6b2918b6b7487c4026f5a89', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 5, 'created': '2020-08-18 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43b70de786cac284c79ae54c87b4798750967dc1', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 6, 'created': '2020-08-20 11:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac81ded1e8c9094f873b99b6b2dfb8d3d7f1ea41', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 7, 'created': '2020-08-21 01:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c7dde501032d80655eb2d32aaed46427cf69d59', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 8, 'created': '2020-08-21 14:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d56c5169dc2649a13500f3a9b9380c2b8a5fb177', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 9, 'created': '2020-08-26 02:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32ad4943ab347d289011bde03647fb544d4c4747', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}, {'number': 10, 'created': '2020-08-26 13:19:27.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/322566b9413ffb9bbf9e2ac96296d884d2f78875', 'message': 'Run external_deploy_tasks per step for each role\n\nInstead of running a giant playbook of external_deploy_tasks, we have\nnow one playbook per step and per role; which will run individually to\navoid a lot of skipped tasks at each step, and save time during a\ndeployment or day 2 operation.\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5\n(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)\n'}]",0,745965,322566b9413ffb9bbf9e2ac96296d884d2f78875,59,6,10,3153,,,0,"Run external_deploy_tasks per step for each role

Instead of running a giant playbook of external_deploy_tasks, we have
now one playbook per step and per role; which will run individually to
avoid a lot of skipped tasks at each step, and save time during a
deployment or day 2 operation.

Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Change-Id: Iaecd22bc16d1180e2ab8aee5efb8c75ab15f42e5
(cherry picked from commit c4a270eec89a792a50496a438cf9070834935e25)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/745965/10 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,7b9fd4c7754c57027982ee2573358e02c0fe977c,train/external," - include_tasks: ""external_deploy_steps_tasks_step{{step}}.yaml"" when: - ""'external_deploy_steps_tasks_step{{step}}.yaml' is exists""", - import_tasks: external_deploy_steps_tasks.yaml,3,1
openstack%2Fbifrost~master~If89f1506ddd345df217739bf5dbb15d18b44c096,openstack/bifrost,master,If89f1506ddd345df217739bf5dbb15d18b44c096,Add correct SELinux context for /tftpboot and fix map-file ACL,MERGED,2020-08-26 15:31:02.000000000,2020-08-27 08:37:15.000000000,2020-08-27 08:28:51.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 15:31:02.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3aacfd32260d8b916e358e6aec298861d1b480b5', 'message': 'Add correct SELinux context for /tftpboot and fix map-file ACL\n\nChange-Id: If89f1506ddd345df217739bf5dbb15d18b44c096\n'}]",0,748258,3aacfd32260d8b916e358e6aec298861d1b480b5,12,4,1,10239,,,0,"Add correct SELinux context for /tftpboot and fix map-file ACL

Change-Id: If89f1506ddd345df217739bf5dbb15d18b44c096
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/58/748258/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'releasenotes/notes/tftp-context-6f918743ba9052b0.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",3,3aacfd32260d8b916e358e6aec298861d1b480b5,tftp-context, copy: src: tftpboot-map-file dest: /tftpboot/map-file owner: ironic group: ironic mode: 0644, copy: src=tftpboot-map-file dest=/tftpboot/map-file owner=ironic group=ironic,19,1
openstack%2Freleases~master~If4040cfebc6670daa8f7b3955a9461d077b1a273,openstack/releases,master,If4040cfebc6670daa8f7b3955a9461d077b1a273,Release octavia-lib 2.2.0 for Victoria,MERGED,2020-08-27 00:05:27.000000000,2020-08-27 08:30:20.000000000,2020-08-27 08:30:20.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-27 00:05:27.000000000', 'files': ['deliverables/victoria/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f93af4da7dc43af9b602ac2ff1271ab149f200f3', 'message': 'Release octavia-lib 2.2.0 for Victoria\n\nThis is expected to be the final octavia-lib release for Victoria.\n\nChange-Id: If4040cfebc6670daa8f7b3955a9461d077b1a273\n'}]",0,748328,f93af4da7dc43af9b602ac2ff1271ab149f200f3,9,4,1,11628,,,0,"Release octavia-lib 2.2.0 for Victoria

This is expected to be the final octavia-lib release for Victoria.

Change-Id: If4040cfebc6670daa8f7b3955a9461d077b1a273
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/748328/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/octavia-lib.yaml'],1,f93af4da7dc43af9b602ac2ff1271ab149f200f3,, - version: 2.2.0 projects: - repo: openstack/octavia-lib hash: fe022cdf14604206af783c8a0887c008c48fd053,,4,0
openstack%2Fhorizon~master~Idce7fc08e7fdf854d8a7bca55169d18403362c45,openstack/horizon,master,Idce7fc08e7fdf854d8a7bca55169d18403362c45,[ussuri] [goal] Project PTL and contributor docs,MERGED,2020-08-19 23:35:11.000000000,2020-08-27 08:28:00.000000000,2020-08-27 08:26:08.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-19 23:35:11.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/policies/core-reviewers.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e0afd0d21d22341c6958c18951af64f563471091', 'message': '[ussuri] [goal] Project PTL and contributor docs\n\nThis commit updates the horizon contributor docs to follow\nwhat the community goal [1] recommended.\n\n* Reorganize doc/source/contributor/contributing.rst to the format\n  suggested in the community goal template.\n* Cleanup obsolete information and topics covered by the general\n  OpenStack contributor guide.\n* Move contributing.rst to the top in TOC of the contributor guide\n  as it is considered as the entry point for new contributors.\n* Sync CONTRIBUTING.rst at the top level directory with the\n  community goal template.\n* Update the core reviewer expectation along with PTL expectation.\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38525\n\nChange-Id: Idce7fc08e7fdf854d8a7bca55169d18403362c45\n'}]",1,747060,e0afd0d21d22341c6958c18951af64f563471091,8,3,1,841,,,0,"[ussuri] [goal] Project PTL and contributor docs

This commit updates the horizon contributor docs to follow
what the community goal [1] recommended.

* Reorganize doc/source/contributor/contributing.rst to the format
  suggested in the community goal template.
* Cleanup obsolete information and topics covered by the general
  OpenStack contributor guide.
* Move contributing.rst to the top in TOC of the contributor guide
  as it is considered as the entry point for new contributors.
* Sync CONTRIBUTING.rst at the top level directory with the
  community goal template.
* Update the core reviewer expectation along with PTL expectation.

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38525

Change-Id: Idce7fc08e7fdf854d8a7bca55169d18403362c45
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/747060/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/policies/core-reviewers.rst']",4,e0afd0d21d22341c6958c18951af64f563471091,project-ptl-and-contrib-docs,"The horizon core reviewer team is responsible for many aspects of the horizon project. These include, but are not limited to: - fits use cases and vision of the project- Helping horizon plugin maintenances- They spend their time doing what needs to be done to ensure the project's success, not necessarily what is the most interesting or fun.- Monitor and participate in ``[horizon]`` discussions on the mailing list - Participate in related design sessions at Project Team Gatherings (PTGs)Please note in-person attendance at PTGs, mid-cycles, and other code sprints is not a requirement to be a core reviewer. Participation can also include contributing to the design documents discussed at the design sessions. Active and consistent review of review activity, bug triage and other activity will be performed periodically and fed back to the core reviewer team Horizon Plugin Maintenance -------------------------- GUI supports for most OpenStack projects are achieved via horizon plugins. The horizon core reviewer team has responsibility to help horizon plugin teams from the perspective of horizon related changes as the framework, for example, Django version bump, testing improvements, plugin interface changes in horizon and so on. A member of the team is expected to send and review patches related to such changes. Note that involvements in more works in horizon plugins are up to individuals but it would be nice to be involved if you have time :)","The Horizon Core Reviewer Team is responsible for many aspects of the Horizon project. These include, but are not limited to: - fits the use-cases and vision of the project- They spend their time doing what needs to be done to ensure the project's success, not necessarily what is the most interesting or fun.- Monitor and participate in [Horizon] discussions on the mailing list - Participate in related design summit sessions at the OpenStack Summits and Project Team GatheringsPlease note in-person attendance at design summits, mid-cycles, and other code sprints is not a requirement to be a core reviewer. Participation can also include contributing to the design documents discussed at the design sessions. Active and consistent review of review activity, bug triage and other activity will be performed monthly and fed back to the Core Reviewer Team",159,120
openstack%2Fhorizon~master~I8aa9a310a99e0eed5a93ed040a02a2829ee09bf7,openstack/horizon,master,I8aa9a310a99e0eed5a93ed040a02a2829ee09bf7,doc: Reorganize contributor doc,MERGED,2020-08-19 23:35:11.000000000,2020-08-27 08:26:53.000000000,2020-08-27 08:25:18.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-19 23:35:11.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/topics/profiling.rst', 'doc/source/contributor/policies/supported-software.rst', 'doc/source/contributor/topics/code-style.rst', 'doc/source/install/system-requirements.rst', 'doc/source/contributor/policies/index.rst', 'doc/source/contributor/topics/index.rst', 'doc/source/contributor/policies/core-reviewers.rst', 'doc/source/contributor/topics/release-notes.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c897a8e4440884558673bc4d6e724ee240fd98a0', 'message': 'doc: Reorganize contributor doc\n\nUssuri community goal ""Project specific contributor and PTL docs""\nwant us to use doc/source/contributor/contributing.rst as an entry\npoint, but the current contributor/contributing.rst in horizon\ncontains a lot of information.\n\nBefore updating the file to satisfy the community goal criteria,\nthis commit reorganize the contributor doc.\nIt splits the existing contents in contributing.rst into pieces.\n\nChange-Id: I8aa9a310a99e0eed5a93ed040a02a2829ee09bf7\n'}]",4,747059,c897a8e4440884558673bc4d6e724ee240fd98a0,9,4,1,841,,,0,"doc: Reorganize contributor doc

Ussuri community goal ""Project specific contributor and PTL docs""
want us to use doc/source/contributor/contributing.rst as an entry
point, but the current contributor/contributing.rst in horizon
contains a lot of information.

Before updating the file to satisfy the community goal criteria,
this commit reorganize the contributor doc.
It splits the existing contents in contributing.rst into pieces.

Change-Id: I8aa9a310a99e0eed5a93ed040a02a2829ee09bf7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/747059/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/policies/supported-software.rst', 'doc/source/contributor/topics/profiling.rst', 'doc/source/contributor/topics/code-style.rst', 'doc/source/install/system-requirements.rst', 'doc/source/contributor/policies/core-reviewers.rst', 'doc/source/contributor/policies/index.rst', 'doc/source/contributor/topics/index.rst', 'doc/source/contributor/topics/release-notes.rst']",10,c897a8e4440884558673bc4d6e724ee240fd98a0,project-ptl-and-contrib-docs,"============= Release Notes ============= Release notes for a patch should be included in the patch with the associated changes whenever possible. This allow for simpler tracking. It also enables a single cherry pick to be done if the change is backported to a previous release. In some cases, such as a feature that is provided via multiple patches, release notes can be done in a follow-on review. If the following applies to the patch, a release note is required: * The deployer needs to take an action when upgrading * A new feature is implemented * Function was removed (hopefully it was deprecated) * Current behavior is changed * A new config option is added that the deployer should consider changing from the default * A security bug is fixed .. note:: * A release note is suggested if a long-standing or important bug is fixed. Otherwise, a release note is not required. * It is not recommended that individual release notes use **prelude** section as it is for release highlights. .. warning:: Avoid modifying an existing release note file even though it is related to your change. If you modify a release note file of a past release, the whole content will be shown in a latest release. The only allowed case is to update a release note in a same release. If you need to update a release note of a past release, edit a corresponding release note file in a stable branch directly. Horizon uses `reno <https://docs.openstack.org/reno/latest/user/usage.html>`_ to generate release notes. Please read the docs for details. In summary, use .. code-block:: bash $ tox -e venv -- reno new <bug-,bp-,whatever> Then edit the sample file that was created and push it with your change. To see the results: .. code-block:: bash $ git commit # Commit the change because reno scans git log. $ tox -e releasenotes Then look at the generated release notes files in releasenotes/build/html in your favorite browser. ",,604,590
openstack%2Fpython-tripleoclient~stable%2Fussuri~I932482e097d62f46e02eb035435d2bc0d5548b2a,openstack/python-tripleoclient,stable/ussuri,I932482e097d62f46e02eb035435d2bc0d5548b2a,Allow usage of duplicated IPs for undercloud config,MERGED,2020-08-22 02:45:22.000000000,2020-08-27 08:26:14.000000000,2020-08-27 08:24:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 02:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb26a9b9fb9191d0649e1a446ac859d5848770c5', 'message': ""Allow usage of duplicated IPs for undercloud config\n\nChange 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation\nto avoid duplicated usage of undercloud IPs, but in fact we don't need\nto ensure complete unieqness of local_ip, undercloud_admin_host and\nundercloud_public_host, but it should be enough if local_ip and\nundercloud_admin_host are different, because public endpoints should\nlisten on different ports when ssl is enabled.\n\nThis patch eases the validation introduced by the previous patch, so\nthat we allow the deployment especially with the same ip used for\npublic_host and admin_host, which was allowed in old releases.\n\nDepends-On: https://review.opendev.org/746671\nChange-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a\nRelated-Bug: #1832168\nRelated: RHBZ#1868910\n(cherry picked from commit 5b246e4f1aa86f8fe2cadb5fccf087dafa36523e)\n""}, {'number': 2, 'created': '2020-08-24 15:20:49.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2a770648933e9ac1cef7eae33662aa2653ab5c4', 'message': ""Allow usage of duplicated IPs for undercloud config\n\nChange 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation\nto avoid duplicated usage of undercloud IPs, but in fact we don't need\nto ensure complete unieqness of local_ip, undercloud_admin_host and\nundercloud_public_host, but it should be enough if local_ip and\nundercloud_admin_host are different, because public endpoints should\nlisten on different ports when ssl is enabled.\n\nThis patch eases the validation introduced by the previous patch, so\nthat we allow the deployment especially with the same ip used for\npublic_host and admin_host, which was allowed in old releases.\n\nDepends-On: https://review.opendev.org/747479\nChange-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a\nRelated-Bug: #1832168\nRelated: RHBZ#1868910\n(cherry picked from commit 5b246e4f1aa86f8fe2cadb5fccf087dafa36523e)\n""}]",1,747508,c2a770648933e9ac1cef7eae33662aa2653ab5c4,21,5,2,3153,,,0,"Allow usage of duplicated IPs for undercloud config

Change 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation
to avoid duplicated usage of undercloud IPs, but in fact we don't need
to ensure complete unieqness of local_ip, undercloud_admin_host and
undercloud_public_host, but it should be enough if local_ip and
undercloud_admin_host are different, because public endpoints should
listen on different ports when ssl is enabled.

This patch eases the validation introduced by the previous patch, so
that we allow the deployment especially with the same ip used for
public_host and admin_host, which was allowed in old releases.

Depends-On: https://review.opendev.org/747479
Change-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a
Related-Bug: #1832168
Related: RHBZ#1868910
(cherry picked from commit 5b246e4f1aa86f8fe2cadb5fccf087dafa36523e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/747508/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,bb26a9b9fb9191d0649e1a446ac859d5848770c5,RHBZ#1868910-stable/ussuri, undercloud_config._process_network_args(env) undercloud_config._process_network_args(env)," self.assertRaises(exceptions.InvalidConfiguration, undercloud_config._process_network_args, env) self.assertRaises(exceptions.InvalidConfiguration, undercloud_config._process_network_args, env)",5,15
openstack%2Fkuryr-kubernetes~master~Ie7d4966473c83554786e79aea0d28a26de902a66,openstack/kuryr-kubernetes,master,Ie7d4966473c83554786e79aea0d28a26de902a66,Remove the pod interface even if VIF is gone,MERGED,2020-08-20 16:03:13.000000000,2020-08-27 08:23:17.000000000,2020-08-27 08:21:58.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-08-20 16:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2f0cdc40505f872a795b53698ec9a3dbd6d58b80', 'message': ""Remove the pod interface even if VIF is gone\n\nIt seems that latest crio versions moved removal of network namespace to\nlater in the container lifecycle. This means that sometimes the network\nnamespace of a container will hang after pod is already gone from the\nAPI and Kuryr assigned it's VIF to another pod. This might cause VLAN ID\nconflicts, but normally that's not an issue as kuryr-daemon is removing\ninterfaces from container namespace on CNI DEL.\n\nIt may however happen that if kuryr-daemon was down when CNI DEL\nhappened, the info about the VIF saved in KuryrPort will already be\ngone. In that case we simply returned success to the CNI without doing\nany unplugging. Now if the netns is not removed immediately after that\nwe might end up with VLAN ID conflicts.\n\nThis commit makes sure that even if VIF info is gone, kuryr-daemon will\nat least attempt to remove the container interface from the container\nnetns. This should limit the problem.\n\nChange-Id: Ie7d4966473c83554786e79aea0d28a26de902a66\nCloses-Bug: 1892388\n""}, {'number': 2, 'created': '2020-08-20 16:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4d623b2a3da5081d868d541ad80a785e5f4bc6e6', 'message': ""Remove the pod interface even if VIF is gone\n\nIt seems that latest crio versions moved removal of network namespace to\nlater in the container lifecycle. This means that sometimes the network\nnamespace of a container will hang after pod is already gone from the\nAPI and Kuryr assigned it's VIF to another pod. This might cause VLAN ID\nconflicts, but normally that's not an issue as kuryr-daemon is removing\ninterfaces from container namespace on CNI DEL.\n\nIt may however happen that if kuryr-daemon was down when CNI DEL\nhappened, the info about the VIF saved in KuryrPort will already be\ngone. In that case we simply returned success to the CNI without doing\nany unplugging. Now if the netns is not removed immediately after that\nwe might end up with VLAN ID conflicts.\n\nThis commit makes sure that even if VIF info is gone, kuryr-daemon will\nat least attempt to remove the container interface from the container\nnetns. This should limit the problem.\n\nChange-Id: Ie7d4966473c83554786e79aea0d28a26de902a66\nCloses-Bug: 1892388\n""}, {'number': 3, 'created': '2020-08-26 13:17:09.000000000', 'files': ['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/cni/binding/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/24c4b351ea003955ea756f9aa5fa53fe9c43c125', 'message': ""Remove the pod interface even if VIF is gone\n\nIt seems that latest crio versions moved removal of network namespace to\nlater in the container lifecycle. This means that sometimes the network\nnamespace of a container will hang after pod is already gone from the\nAPI and Kuryr assigned it's VIF to another pod. This might cause VLAN ID\nconflicts, but normally that's not an issue as kuryr-daemon is removing\ninterfaces from container namespace on CNI DEL.\n\nIt may however happen that if kuryr-daemon was down when CNI DEL\nhappened, the info about the VIF saved in KuryrPort will already be\ngone. In that case we simply returned success to the CNI without doing\nany unplugging. Now if the netns is not removed immediately after that\nwe might end up with VLAN ID conflicts.\n\nThis commit makes sure that even if VIF info is gone, kuryr-daemon will\nat least attempt to remove the container interface from the container\nnetns. This should limit the problem.\n\nChange-Id: Ie7d4966473c83554786e79aea0d28a26de902a66\nCloses-Bug: 1892388\n""}]",2,747233,24c4b351ea003955ea756f9aa5fa53fe9c43c125,17,6,3,11600,,,0,"Remove the pod interface even if VIF is gone

It seems that latest crio versions moved removal of network namespace to
later in the container lifecycle. This means that sometimes the network
namespace of a container will hang after pod is already gone from the
API and Kuryr assigned it's VIF to another pod. This might cause VLAN ID
conflicts, but normally that's not an issue as kuryr-daemon is removing
interfaces from container namespace on CNI DEL.

It may however happen that if kuryr-daemon was down when CNI DEL
happened, the info about the VIF saved in KuryrPort will already be
gone. In that case we simply returned success to the CNI without doing
any unplugging. Now if the netns is not removed immediately after that
we might end up with VLAN ID conflicts.

This commit makes sure that even if VIF info is gone, kuryr-daemon will
at least attempt to remove the container interface from the container
netns. This should limit the problem.

Change-Id: Ie7d4966473c83554786e79aea0d28a26de902a66
Closes-Bug: 1892388
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/33/747233/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/cni/binding/base.py']",2,2f0cdc40505f872a795b53698ec9a3dbd6d58b80,bug/1892388," def cleanup(ifname, netns, container_id): with get_ipdb(netns) as c_ipdb: if ifname in c_ipdb.interfaces: with c_ipdb.interfaces[ifname] as iface: iface.remove()",,16,1
openstack%2Ftripleo-common~stable%2Fqueens~I183731c81fe5ea40f32f82c48f7053eae6eaed1e,openstack/tripleo-common,stable/queens,I183731c81fe5ea40f32f82c48f7053eae6eaed1e,Make check_hieradata not fail on empty values of ceph::profile::params::osds,MERGED,2020-08-26 15:11:13.000000000,2020-08-27 08:17:28.000000000,2020-08-27 08:17:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-26 15:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/acb4bfd162ba42dfb5b7e1ab89b4bc195ecc49b3', 'message': 'Make check_hieradata fail on empty values of ceph::profile::params::osds\n\nPreviously the check would stop the deployment if the hieradata was set\neven if valued to empty hash or string. This patch changes the check\nso that it will pass if the hieradata is found but set to empty values.\n\nCloses-Bug: 1893066\nChange-Id: I183731c81fe5ea40f32f82c48f7053eae6eaed1e\n'}, {'number': 2, 'created': '2020-08-26 15:25:05.000000000', 'files': ['workbooks/ceph-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/84755aaba8449ec4c8d109219fc37907af82c062', 'message': 'Make check_hieradata not fail on empty values of ceph::profile::params::osds\n\nPreviously the check would stop the deployment if the hieradata was set\neven if valued to empty hash or string. This patch changes the check\nso that it will pass if the hieradata is found but set to empty values.\n\nCloses-Bug: 1893066\nChange-Id: I183731c81fe5ea40f32f82c48f7053eae6eaed1e\n'}]",4,748257,84755aaba8449ec4c8d109219fc37907af82c062,13,6,2,6796,,,0,"Make check_hieradata not fail on empty values of ceph::profile::params::osds

Previously the check would stop the deployment if the hieradata was set
even if valued to empty hash or string. This patch changes the check
so that it will pass if the hieradata is found but set to empty values.

Closes-Bug: 1893066
Change-Id: I183731c81fe5ea40f32f82c48f7053eae6eaed1e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/748257/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/ceph-ansible.yaml'],1,acb4bfd162ba42dfb5b7e1ab89b4bc195ecc49b3,," hieradata: <% env().get('role_merged_configs', {}).values().where($ != null).where($.get('ceph::profile::params::osds')).first({}).get('ceph::profile::params::osds', {}) %> - fail(msg=<% 'Ceph deployment stopped, puppet-ceph hieradata found for ceph::profile::params::osds. Convert it to ceph-ansible variables. {0}'.format($.hieradata) %>): <% bool($.hieradata) %>"," hieradata: <% env().get('role_merged_configs', {}).values().select($.keys()).flatten().select(regex('^ceph::profile::params::osds$').search($)).where($ != null).toSet() %> - fail(msg=<% 'Ceph deployment stopped, puppet-ceph hieradata found. Convert it into ceph-ansible variables. {0}'.format($.hieradata) %>): <% bool($.hieradata) %>",2,2
openstack%2Fglance~stable%2Fussuri~Ifdb711cb241ef13eccaa5ae29a234f2fe4a52eb8,openstack/glance,stable/ussuri,Ifdb711cb241ef13eccaa5ae29a234f2fe4a52eb8,Add image_set_property_atomic() helper,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 08:09:26.000000000,2020-08-27 08:07:42.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/proxy.py', 'glance/tests/functional/db/test_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/56d01f25442a77aadc168e9fa943a5cb809f4ceb', 'message': 'Add image_set_property_atomic() helper\n\nThis adds a new DB API method to atomically create a property on an image\nin a way that we can be sure it is created once and only once for the\npurposes of exclusion of multiple threads.\n\nChange-Id: Ifdb711cb241ef13eccaa5ae29a234f2fe4a52eb8\nRelated-Bug: #1884596\n(cherry picked from commit 2a51843138e27071bf84269f6b2a601b3ba9978f)\n'}]",0,748007,56d01f25442a77aadc168e9fa943a5cb809f4ceb,12,3,1,4393,,,0,"Add image_set_property_atomic() helper

This adds a new DB API method to atomically create a property on an image
in a way that we can be sure it is created once and only once for the
purposes of exclusion of multiple threads.

Change-Id: Ifdb711cb241ef13eccaa5ae29a234f2fe4a52eb8
Related-Bug: #1884596
(cherry picked from commit 2a51843138e27071bf84269f6b2a601b3ba9978f)
",git fetch https://review.opendev.org/openstack/glance refs/changes/07/748007/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/domain/proxy.py', 'glance/tests/functional/db/test_sqlalchemy.py']",7,56d01f25442a77aadc168e9fa943a5cb809f4ceb,bug/1884596," class TestImageAtomicUpdate(base.TestDriver, base.FunctionalInitWrapper): def setUp(self): db_tests.load(get_db, reset_db) super(TestImageAtomicUpdate, self).setUp() self.addCleanup(db_tests.reset) self.image = self.db_api.image_create( self.adm_context, {'status': 'active', 'owner': self.adm_context.owner, 'properties': {'speed': '88mph'}}) @staticmethod def _propdict(list_of_props): """""" Convert a list of ImageProperty objects to dict, ignoring deleted values. """""" return {x.name: x.value for x in list_of_props if x.deleted == 0} def assertOnlyImageHasProp(self, image_id, name, value): images_with_prop = self.db_api.image_get_all( self.adm_context, {'properties': {name: value}}) self.assertEqual(1, len(images_with_prop)) self.assertEqual(image_id, images_with_prop[0]['id']) def test_update(self): """"""Try to double-create a property atomically. This should ensure that a second attempt to create the property atomically fails with Duplicate. """""" # Atomically create the property self.db_api.image_set_property_atomic(self.image['id'], 'test_property', 'foo') # Make sure only the matched image got it self.assertOnlyImageHasProp(self.image['id'], 'test_property', 'foo') # Trying again should fail self.assertRaises(exception.Duplicate, self.db_api.image_set_property_atomic, self.image['id'], 'test_property', 'bar') # Ensure that only the first one stuck image = self.db_api.image_get(self.adm_context, self.image['id']) self.assertEqual({'speed': '88mph', 'test_property': 'foo'}, self._propdict(image['properties'])) self.assertOnlyImageHasProp(self.image['id'], 'test_property', 'foo') def test_update_drop_update(self): """"""Try to create, delete, re-create property atomically. If we fail to undelete and claim the property, this will fail as duplicate. """""" # Atomically create the property self.db_api.image_set_property_atomic(self.image['id'], 'test_property', 'foo') # Ensure that it stuck image = self.db_api.image_get(self.adm_context, self.image['id']) self.assertEqual({'speed': '88mph', 'test_property': 'foo'}, self._propdict(image['properties'])) self.assertOnlyImageHasProp(self.image['id'], 'test_property', 'foo') # Update the image with the property removed, like image_repo.save() new_props = self._propdict(image['properties']) del new_props['test_property'] self.db_api.image_update(self.adm_context, self.image['id'], values={'properties': new_props}, purge_props=True) # Make sure that a fetch shows the property deleted image = self.db_api.image_get(self.adm_context, self.image['id']) self.assertEqual({'speed': '88mph'}, self._propdict(image['properties'])) # Atomically update the property, which still exists, but is # deleted self.db_api.image_set_property_atomic(self.image['id'], 'test_property', 'bar') # Makes sure we updated the property and undeleted it image = self.db_api.image_get(self.adm_context, self.image['id']) self.assertEqual({'speed': '88mph', 'test_property': 'bar'}, self._propdict(image['properties'])) self.assertOnlyImageHasProp(self.image['id'], 'test_property', 'bar') def test_update_prop_multiple_images(self): """"""Create and delete properties on two images, then set on one. This tests that the resurrect-from-deleted mode of the method only matchs deleted properties from our image. """""" images = self.db_api.image_get_all(self.adm_context) image_id1 = images[0]['id'] image_id2 = images[-1]['id'] # Atomically create the property on each image self.db_api.image_set_property_atomic(image_id1, 'test_property', 'foo') self.db_api.image_set_property_atomic(image_id2, 'test_property', 'bar') # Make sure they got the right property value each self.assertOnlyImageHasProp(image_id1, 'test_property', 'foo') self.assertOnlyImageHasProp(image_id2, 'test_property', 'bar') # Delete the property on both images self.db_api.image_update(self.adm_context, image_id1, {'properties': {}}, purge_props=True) self.db_api.image_update(self.adm_context, image_id2, {'properties': {}}, purge_props=True) # Set the property value on one of the images. Both will have a # deleted previous value for the property, but only one should # be updated self.db_api.image_set_property_atomic(image_id2, 'test_property', 'baz') # Make sure the update affected only the intended image self.assertOnlyImageHasProp(image_id2, 'test_property', 'baz')",,246,0
openstack%2Freleases~master~I38938573f105895a33aaf0a8b78cc18480539f0c,openstack/releases,master,I38938573f105895a33aaf0a8b78cc18480539f0c,nova: Release Ussuri 21.1.0,MERGED,2020-08-26 10:33:39.000000000,2020-08-27 08:05:31.000000000,2020-08-27 08:05:31.000000000,"[{'_account_id': 308}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 10:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bb01ab559e7108acdb662c68c2f009443342e042', 'message': 'nova: Release Ussuri 21.1.0\n\nMinor version bump required with this release due to patch\n\'libvirt: Mark e1000e VIF as supported\'.\n\n$ git log --oneline --no-merges 21.0.0..HEAD\nbbf9d1de06 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n30ee639b62 [Trivial] Remove wrong format_message() conversion\n034b2fa8fe compute: Don\'t delete the original attachment during pre LM rollback\n6db72002a6 Add regression tests for bug #1889108\n6070c55793 func: Add live migration rollback volume attachment tests\n726ca4aec5 func: Add _live_migrate helper to InstanceHelperMixin\n9069b2802f tests: Define constants in \'_IntegratedTestBase\'\nac05bc3b38 Handle multiple \'vcpusched\' elements during live migrate\n42bfd50626 compute: Do not allow rescue attempts using volume snapshot images\naed86ee5d6 objects: Update keypairs when saving an instance\n93058ae1b8 libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\ncf399a363c zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\necd218b1a4 Correct reported system memory\n247e33af8f catch libvirt exception when nodedev not found.\n840de3b892 libvirt: Mark e1000e VIF as supported\n02f213b831 Fix cherry-pick check for merge patch\n9d3ebd58aa libvirt: Don\'t allow ""reserving"" file-backed memory\na6a48e876c Guard against missing image cache directory\needc0b5ff3 hardware: Raise useful error for invalid mempage size\n5cacfaab82 Check cherry-pick hashes in pep8 tox target\n8b48ca672d libvirt: Don\'t delete disks on shared storage during evacuate\n6ccd13f8ae Add functional test for bug 1550919\ned05246069 remove support of oslo.messaging 9.8.0 warning message\n57702ad484 Add admin doc information about image cache resource accounting\n968981b585 Reserve DISK_GB resource for the image cache\na270eeeb9b compute: Allow snapshots to be created from PAUSED volume backed instances\nfa2bfac862 Make quotas respect instance_list_per_project_cells\n1caddc4250 Silence amqp heartbeat warning\ne8b3927c92 Update scheduler instance info at confirm resize\n016eeec984 Reproduce bug 1869050\ne7ea1226b1 Bump hacking min version to 3.0.1\ne61d002530 Remove stale nested backport from InstancePCIRequests\n\nChange-Id: I38938573f105895a33aaf0a8b78cc18480539f0c\n'}, {'number': 2, 'created': '2020-08-26 12:27:12.000000000', 'files': ['deliverables/ussuri/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2461efaad7aa755acfaa7a726f4f543ffeb70b33', 'message': 'nova: Release Ussuri 21.1.0\n\nMinor version bump required with this release due to patch\n\'libvirt: Mark e1000e VIF as supported\'.\n\n$ git log --oneline --no-merges 21.0.0..HEAD\nbbf9d1de06 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n3f3b889f4e libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n30ee639b62 [Trivial] Remove wrong format_message() conversion\n034b2fa8fe compute: Don\'t delete the original attachment during pre LM rollback\n6db72002a6 Add regression tests for bug #1889108\n6070c55793 func: Add live migration rollback volume attachment tests\n726ca4aec5 func: Add _live_migrate helper to InstanceHelperMixin\n9069b2802f tests: Define constants in \'_IntegratedTestBase\'\nac05bc3b38 Handle multiple \'vcpusched\' elements during live migrate\n42bfd50626 compute: Do not allow rescue attempts using volume snapshot images\naed86ee5d6 objects: Update keypairs when saving an instance\n93058ae1b8 libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\ncf399a363c zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\necd218b1a4 Correct reported system memory\n247e33af8f catch libvirt exception when nodedev not found.\n840de3b892 libvirt: Mark e1000e VIF as supported\n02f213b831 Fix cherry-pick check for merge patch\n9d3ebd58aa libvirt: Don\'t allow ""reserving"" file-backed memory\na6a48e876c Guard against missing image cache directory\needc0b5ff3 hardware: Raise useful error for invalid mempage size\n5cacfaab82 Check cherry-pick hashes in pep8 tox target\n8b48ca672d libvirt: Don\'t delete disks on shared storage during evacuate\n6ccd13f8ae Add functional test for bug 1550919\ned05246069 remove support of oslo.messaging 9.8.0 warning message\n57702ad484 Add admin doc information about image cache resource accounting\n968981b585 Reserve DISK_GB resource for the image cache\na270eeeb9b compute: Allow snapshots to be created from PAUSED volume backed instances\nfa2bfac862 Make quotas respect instance_list_per_project_cells\n1caddc4250 Silence amqp heartbeat warning\ne8b3927c92 Update scheduler instance info at confirm resize\n016eeec984 Reproduce bug 1869050\ne7ea1226b1 Bump hacking min version to 3.0.1\ne61d002530 Remove stale nested backport from InstancePCIRequests\n\nChange-Id: I38938573f105895a33aaf0a8b78cc18480539f0c\n'}]",2,748156,2461efaad7aa755acfaa7a726f4f543ffeb70b33,21,7,2,17685,,,0,"nova: Release Ussuri 21.1.0

Minor version bump required with this release due to patch
'libvirt: Mark e1000e VIF as supported'.

$ git log --oneline --no-merges 21.0.0..HEAD
bbf9d1de06 libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration
3f3b889f4e libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0
30ee639b62 [Trivial] Remove wrong format_message() conversion
034b2fa8fe compute: Don't delete the original attachment during pre LM rollback
6db72002a6 Add regression tests for bug #1889108
6070c55793 func: Add live migration rollback volume attachment tests
726ca4aec5 func: Add _live_migrate helper to InstanceHelperMixin
9069b2802f tests: Define constants in '_IntegratedTestBase'
ac05bc3b38 Handle multiple 'vcpusched' elements during live migrate
42bfd50626 compute: Do not allow rescue attempts using volume snapshot images
aed86ee5d6 objects: Update keypairs when saving an instance
93058ae1b8 libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices
cf399a363c zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full
ecd218b1a4 Correct reported system memory
247e33af8f catch libvirt exception when nodedev not found.
840de3b892 libvirt: Mark e1000e VIF as supported
02f213b831 Fix cherry-pick check for merge patch
9d3ebd58aa libvirt: Don't allow ""reserving"" file-backed memory
a6a48e876c Guard against missing image cache directory
eedc0b5ff3 hardware: Raise useful error for invalid mempage size
5cacfaab82 Check cherry-pick hashes in pep8 tox target
8b48ca672d libvirt: Don't delete disks on shared storage during evacuate
6ccd13f8ae Add functional test for bug 1550919
ed05246069 remove support of oslo.messaging 9.8.0 warning message
57702ad484 Add admin doc information about image cache resource accounting
968981b585 Reserve DISK_GB resource for the image cache
a270eeeb9b compute: Allow snapshots to be created from PAUSED volume backed instances
fa2bfac862 Make quotas respect instance_list_per_project_cells
1caddc4250 Silence amqp heartbeat warning
e8b3927c92 Update scheduler instance info at confirm resize
016eeec984 Reproduce bug 1869050
e7ea1226b1 Bump hacking min version to 3.0.1
e61d002530 Remove stale nested backport from InstancePCIRequests

Change-Id: I38938573f105895a33aaf0a8b78cc18480539f0c
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/748156/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/nova.yaml'],1,bb01ab559e7108acdb662c68c2f009443342e042,, - version: 21.1.0 projects: - repo: openstack/nova hash: 7ed7eb74b052d675803d738b92f134154c624063,,4,0
openstack%2Fcharm-specs~master~I308d40d4ad5d6f8e907700e22471db334fa1845e,openstack/charm-specs,master,I308d40d4ad5d6f8e907700e22471db334fa1845e,Add specification for Ceph BlueStore Compression,MERGED,2020-07-28 11:15:54.000000000,2020-08-27 07:56:49.000000000,2020-08-27 07:55:09.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-28 11:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/9175162793e6b9c76bd693d50a2ff0481a75c749', 'message': 'Add specification for Ceph BlueStore Compression\n\nChange-Id: I308d40d4ad5d6f8e907700e22471db334fa1845e\n'}, {'number': 2, 'created': '2020-07-28 12:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/78ab9efecdcf7627f493a08fe03261bf44db1ee0', 'message': 'Add specification for Ceph BlueStore Compression\n\nChange-Id: I308d40d4ad5d6f8e907700e22471db334fa1845e\n'}, {'number': 3, 'created': '2020-07-28 12:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/26aecfc6284c81e0dc13733cc7b6bc5b0015f804', 'message': 'Add specification for Ceph BlueStore Compression\n\nChange-Id: I308d40d4ad5d6f8e907700e22471db334fa1845e\n'}, {'number': 4, 'created': '2020-07-28 12:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/751dd45c4328e058c6a638d07f0b99cf7b3fe0a3', 'message': 'Add specification for Ceph BlueStore Compression\n\nChange-Id: I308d40d4ad5d6f8e907700e22471db334fa1845e\n'}, {'number': 5, 'created': '2020-08-04 06:59:16.000000000', 'files': ['doc/source/specs/victoria/index.rst', 'specs/victoria/approved/ceph-bluestore-compression.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/ffae0585f84c19128fc370679ed19d38f759f2f6', 'message': 'Add specification for Ceph BlueStore Compression\n\nChange-Id: I308d40d4ad5d6f8e907700e22471db334fa1845e\n'}]",3,743509,ffae0585f84c19128fc370679ed19d38f759f2f6,18,3,5,13686,,,0,"Add specification for Ceph BlueStore Compression

Change-Id: I308d40d4ad5d6f8e907700e22471db334fa1845e
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/09/743509/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/ceph-bluestore-compression.rst'],1,9175162793e6b9c76bd693d50a2ff0481a75c749,ceph-bluestore-compression,".. Copyright 2020 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ========================== Ceph BlueStore Compression ========================== The Ceph BlueStore storage backend has support for inline compression. Problem Description =================== The Ceph charms currently do not provide documentation, validation or support for enabling BlueStore inline compression. Proposed Change =============== Ceph supports configuring compression through per-pool properties and global configuration options. What configuration to use depends on the type of data and the characteristics of the underlying storage devices in use. To accomodate this we should allow Ceph consuming charms to configure compression on a per-pool basis and have centrally managed defaults for any options not provided. Support will be provided for Ceph Mimic and onwards on Ubuntu 18.04 LTS and onwards. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: fnordahl Gerrit Topic ------------ Use Gerrit topic ""ceph-bluestore-compression"" for all patches related to this spec. .. code-block:: bash git-review -t ceph-bluestore-compression Work Items ---------- * Extend the Ceph broker API to support providing compression options on pool requests. * Extend the ``ceph-client`` and ``ceph-rbd-mirror`` reactive interfaces to support relaying compression options for pool creation. * Add charm configuration options to control compression defaults to the ceph-mon charm. * Add charm configuration options to control compression on pool creation to the following charms: * glance * cinder-ceph * nova-compute * gnocchi * ceph-iscsi * ceph-rbd-mirror * ceph-radosgw * Perform performance benchmarking in a hyper-converged deployment topology and document results and recommendations. Repositories ------------ No new repositories are required to implement this spec. Documentation ------------- The individual configuration options will get a description that explains basic usage. A new appendix or section should be added to the deployment-guide to document results of benchmark and recommendations for deployment of Ceph with BlueStore Compression. Security -------- Apart from enabling code paths in Ceph that was previously not exposed in the charms, there are no security specific considerations for this feature work. Testing ------- Existing charm gates should be extended to validate the operation of the new charm configuration options. No special hardware is required to validate the feature. Dependencies ============ None. ",,130,0
openstack%2Ftempest~master~I26528fcad4a456e8bedbd1754a8cde619a9510d5,openstack/tempest,master,I26528fcad4a456e8bedbd1754a8cde619a9510d5,Ensure that the minimum python versioini is python 3.5,ABANDONED,2020-08-24 11:31:51.000000000,2020-08-27 07:49:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-24 11:31:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a8f18b812045ed2187b7582dd28601f663e9b52', 'message': 'Ensure that the minimum python versioini is python 3.5\n\nUbuntu Xenial shipped with Python 3.5 so it would be good to still\nsupport that version.\n\nChange-Id: I26528fcad4a456e8bedbd1754a8cde619a9510d5\n'}]",0,747690,8a8f18b812045ed2187b7582dd28601f663e9b52,3,1,1,20634,,,0,"Ensure that the minimum python versioini is python 3.5

Ubuntu Xenial shipped with Python 3.5 so it would be good to still
support that version.

Change-Id: I26528fcad4a456e8bedbd1754a8cde619a9510d5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/747690/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8a8f18b812045ed2187b7582dd28601f663e9b52,feature/py35,python-requires = >=3.5 Programming Language :: Python :: 3.5,python-requires = >=3.6,2,1
openstack%2Fnova~master~I142a1f24ff2219cf308578f0236259d183785cff,openstack/nova,master,I142a1f24ff2219cf308578f0236259d183785cff,Provider Config File: Functions to merge provider configs to provider tree,MERGED,2019-08-14 21:56:18.000000000,2020-08-27 07:22:42.000000000,2020-08-26 11:16:28.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29334}, {'_account_id': 29745}, {'_account_id': 29963}, {'_account_id': 30192}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-08-14 21:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/500de70ef77c63b97892679f4a413b7954ae6761', 'message': 'WIP: Load the custom resource providers to resource tracker\n\nNothing to see here yet, please ignore.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 2, 'created': '2019-08-15 19:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc7021d69ac3abf8ffa729738590d1f6cd896b2', 'message': 'WIP: Load the custom resource providers to resource tracker\n\nNothing to see here yet, please ignore.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 3, 'created': '2019-08-16 00:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/def395931488ca38e9688e697ffb4bcdd9be1d0d', 'message': 'WIP: Load the custom resource providers to resource tracker\n\nNothing to see here yet, please ignore.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 4, 'created': '2019-08-20 23:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a1de9c7c83a7f43bfc70305a63c301791118e57', 'message': 'WIP: Load the custom resource providers to resource tracker\n\nLoads the provider.yaml custom resources to the resource tracker\nand merges them into the provider tree.\n\nThis is a very rough first pass with many TODOs and no tests, but\nfeedback is still appreciated.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 5, 'created': '2019-08-27 05:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4418eb4a6b0a2e9eb69b81d19c50b37a8cc392f3', 'message': 'WIP: Load the custom resource providers to resource tracker\n\nLoads the provider.yaml custom resources to the resource tracker\nand merges them into the provider tree.\n\nTODO: Tests!\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 6, 'created': '2019-08-28 05:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/205e15f7ecf804b8277b2dd45c260bb7a38bfaaa', 'message': 'Load the custom resource providers to resource tracker\n\nLoads the provider.yaml custom resources to the resource tracker\nand updates the provider tree.\n\nTODO: More tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 7, 'created': '2019-09-01 20:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8726b5700f38c1465ccb909d56502db0dd202204', 'message': 'Provider config file: Update provider tree with new custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis final commit consumes the new previously implemented function to\nload the new resources to the resource tracker, merges those resources\ninto the provider tree by way of a new private function, and also\nincludes the oslo config option required to enable the entire series.\n\nTODO: More tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 8, 'created': '2019-09-01 20:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b49d8f1bf2bfe05e405cb734143c2ac64163f997', 'message': 'Provider Config File: Update provider tree with new custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis final commit consumes the new previously implemented function to\nload the new resources to the resource tracker, merges those resources\ninto the provider tree by way of a new private function, and also\nincludes the oslo config option required to enable the entire series.\n\nTODO: More tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 9, 'created': '2019-09-01 20:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/034c767912949927d1f6032a0405c1bbc2eae8b5', 'message': 'Provider Config File: Update provider tree with new custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis final commit consumes the new previously implemented function to\nload the new resources to the resource tracker, merges those resources\ninto the provider tree by way of a new private function, and also\nincludes the oslo config option required to enable the entire series.\n\nTODO: More tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 10, 'created': '2019-09-02 17:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1478f02786fb0e22c5feb6baf4d20d905d294962', 'message': 'Provider Config File: Update provider tree with new custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis final commit consumes the new previously implemented function to\nload the new resources to the resource tracker, merges those resources\ninto the provider tree by way of a new private function, and also\nincludes the oslo config option required to enable the entire series.\n\nTODO: More tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 11, 'created': '2019-09-03 19:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad56b9f12f3e0b21e80b715da1d11a7d19d907b5', 'message': 'Provider Config File: Update provider tree with new custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis final commit consumes the new previously implemented function to\nload the new resources to the resource tracker, merges those resources\ninto the provider tree by way of a new private function, and also\nincludes the oslo config option required to enable the entire series.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 12, 'created': '2019-09-04 05:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e90171d33bb1193506a070bb25cafe6d55c41be0', 'message': 'WIP: Provider Config File: Update provider tree with new custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis final commit consumes the new previously implemented function to\nload the new resources to the resource tracker, merges those resources\ninto the provider tree by way of a new private function, and also\nincludes the oslo config option required to enable the entire series.\n\nTODO: Feedback and refactoring from previous series changes.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 13, 'created': '2019-09-04 18:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efdcc95b705824dba2fd17184922a72220a869eb', 'message': 'WIP: Provider Config File: Update provider tree with new custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis final commit consumes the new previously implemented function to\nload the new resources to the resource tracker, merges those resources\ninto the provider tree by way of a new private function, and also\nincludes the oslo config option required to enable the entire series.\n\nTODO: Feedback and refactoring from previous series changes.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 14, 'created': '2019-09-05 00:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0720c34701ccfc31cbaecb4243c30e016b856b0e', 'message': 'WIP: Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: More feedback changes, tests, refactor exceptions, documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 15, 'created': '2019-09-18 23:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bffe1aa56e2af7a2f5b5286b5bd742fa242a783', 'message': 'WIP: Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: More feedback changes, tests, documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 16, 'created': '2019-09-19 22:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e496a045f2faa58e27caca99991eaa13c7d2b41d', 'message': 'WIP: Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: More feedback changes, tests, documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 17, 'created': '2019-09-21 00:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98c959373c8880e0cd230cbe979cf2bb022b195e', 'message': 'WIP: Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: More feedback changes, tests, documentation, remove debug logging\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 18, 'created': '2019-09-24 23:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21fd0ba197db03eaa0b830e0380961e2bfa0e82f', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 19, 'created': '2019-10-14 22:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f670ce02d4bef1a3b4847991f329ffa4196e724', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 20, 'created': '2019-10-15 02:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f12122eed205c8d0b7e04ba5d0afc171992653f5', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 21, 'created': '2019-10-15 20:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54ee2f43551696c9fc4edcc613a1e6ba43082e68', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 22, 'created': '2019-10-19 01:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15e721fe65a6e9d700ed95d105300246bbffe814', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 23, 'created': '2019-10-23 04:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44e105ea071d1c11e8cbbabebdc3f98e5331dfac', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 24, 'created': '2019-10-23 18:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/957ea3b11ece48ebaa92f2609c2d83ce7a784749', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 25, 'created': '2019-10-23 22:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1f9e0458c467d9bfcb9e01c077d029d7c10bc1a', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 26, 'created': '2019-10-24 20:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bef0399b62dd53dc892bc150d47b7cf79ac542d4', 'message': 'Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: Documentation\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 27, 'created': '2019-11-05 19:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/065c641c98776c9dda6b590f65061a8448ff1032', 'message': 'WIP: Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: This needs to be split up, functional tests added, documentation\ncreated, and more.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 28, 'created': '2019-11-05 21:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e57d25af71173e7e7fe1a1d5fedc78516fab48b1', 'message': 'WIP: Provider Config File: Merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis final commit consumes the new previously implemented function to\nload the provider config data to the resource tracker, merges those configs\ninto the provider tree, and includes the oslo config option required\nto enable the entire series.\n\nTODO: This needs to be split up, functional tests added, documentation\ncreated, and more.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 29, 'created': '2019-11-08 00:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d050425f1cef31d59195285acc89a14e8c1972d', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nTODO: The unit test coverage needs to be reviewed\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 30, 'created': '2019-11-23 00:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a1d8f5cac391dc27f9f8357a3842db08155cd98', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nTODO: Minor improvements to unit tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 31, 'created': '2019-11-27 18:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d6e2a8db727681151fac8886b93e160982b876d', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nTODO: Minor improvements to unit tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 32, 'created': '2019-12-02 21:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc9921a93cac126c979d6a9d674cbb3824dd1288', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nTODO: Minor improvements to unit tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 33, 'created': '2019-12-20 21:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dfedba25320dab288f2aec5508f6342f6157e49', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nTODO: Minor improvements to unit tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 34, 'created': '2020-01-08 03:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0fe17b3104d016424c1667c49df53a73c8c3f42', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nTODO: Minor improvements to unit tests\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 35, 'created': '2020-01-14 02:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22a3bf49a70bca00ad5914c01608b39e65938b9f', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 36, 'created': '2020-01-14 02:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ced4d59616ad3bda05abf0e7ac5d40e4930fbb02', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 37, 'created': '2020-01-14 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76f4166c0873d92c575f81fb0e72f612dde650be', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 38, 'created': '2020-01-15 06:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc1eee5e6b3c3dbb613be1d1ba2f45af8488a842', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 39, 'created': '2020-01-15 21:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7121905d9cb55bde8d15e6a118f6fe0a35453284', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 40, 'created': '2020-01-16 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/837d024b1e9899c34a081287d94216ed6513eb29', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 41, 'created': '2020-01-17 03:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34318c6b8be57e62147915e67daacc8f848681cb', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 42, 'created': '2020-03-12 14:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23dce669af0fc6366347736cb37e5d6d33686af5', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 43, 'created': '2020-03-12 14:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/522ffd013e8089b2d24e2f3d5b9db630f1b4e3f2', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 44, 'created': '2020-03-12 18:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14689413276466df9dd9e7455e26e018f9c7c51d', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 45, 'created': '2020-05-13 11:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a30b010a38ee89023d9bd30ad33b4a9b9a37dce5', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\nBlueprint: provider-config-file\n'}, {'number': 46, 'created': '2020-05-19 06:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d07ffd28f62669f1109013d23ae70b87129ebbd', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 47, 'created': '2020-05-19 06:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1029b959edb2ba5281e5646de8111846432346a8', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 48, 'created': '2020-07-01 02:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e04c1db71d5309d09ef2d383f0865deb754529cc', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 49, 'created': '2020-07-07 06:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88a0fdafa4fa75a4c11187dc3975d71ce393ea24', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 50, 'created': '2020-07-09 02:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0fde59d9e207bfe70967f89eae210abaeee47ea', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 51, 'created': '2020-07-09 07:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/067a0ba708f366ff9447a1ea85b2bedd041507d7', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 52, 'created': '2020-07-20 03:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3198c1cd7de86aa62a10bc2ce80dcd1d199d291', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 53, 'created': '2020-08-03 01:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9136fd1d6844ce7fd27cb035148793ff60f98d04', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 54, 'created': '2020-08-03 07:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13fedf3ebba582c834fe9149e0d18b384846966a', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 55, 'created': '2020-08-04 00:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b486f28aee11205f24536b8930e9f599ea8ec51e', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 56, 'created': '2020-08-05 10:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d7d80d06179e5107c390daa3c81e8bf8e1756f3', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 57, 'created': '2020-08-07 04:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f112c712613de84d658743dfb16dbeec952dcae', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}, {'number': 58, 'created': '2020-08-26 04:51:03.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc8deb4f86bb11d8dc95b8fd0d85f7eb0b48b649', 'message': 'Provider Config File: Functions to merge provider configs to provider tree\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis third commit includes functions on the provider tree to merge\nadditional inventories and traits to resource providers and update\nthose providers on the provider tree. Those functions are not currently\nbeing called, but will be in a future commit.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I142a1f24ff2219cf308578f0236259d183785cff\n'}]",186,676522,fc8deb4f86bb11d8dc95b8fd0d85f7eb0b48b649,494,25,58,29745,,,0,"Provider Config File: Functions to merge provider configs to provider tree

This series implements the referenced blueprint to allow for specifying
custom resource provider traits and inventories via yaml config files.

This third commit includes functions on the provider tree to merge
additional inventories and traits to resource providers and update
those providers on the provider tree. Those functions are not currently
being called, but will be in a future commit.

Co-Author: Tony Su <tao.su@intel.com>
Author: Dustin Cowles <dustin.cowles@intel.com>
Blueprint: provider-config-file
Change-Id: I142a1f24ff2219cf308578f0236259d183785cff
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/676522/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,500de70ef77c63b97892679f4a413b7954ae6761,bp/provider-config-file,"from nova.compute import provider_config # TODO(dustinc): Load path from config and pass here and more tests. # Once the config option is in place, the try/except can be removed try: self.custom_resources = provider_config.get_custom_resources( CONF.compute.provider_config) except nova.conf.cfg.NoSuchOptError: self.custom_resources = None ",,9,0
openstack%2Ftripleo-common~stable%2Ftrain~Ic0bfdec756a23460f9257e78c508d167d21f0792,openstack/tripleo-common,stable/train,Ic0bfdec756a23460f9257e78c508d167d21f0792,container-images: add librados2 to gnocchi-base,MERGED,2020-07-29 12:18:50.000000000,2020-08-27 07:06:18.000000000,2020-08-27 07:03:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29775}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-29 12:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c8199240217c46e8cf58fc41c44924abb4bb8a40', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 2, 'created': '2020-07-31 13:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/916bea722cce89153bd9d9adafec79e13c1d06f8', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 3, 'created': '2020-08-10 13:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b04c268c55296fd613447980697eaa56653f0aad', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 4, 'created': '2020-08-10 20:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c7e57557551bebb87bb5781aa7b44e104683b41', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 5, 'created': '2020-08-11 12:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cebad4f959546bafe9846e4c5d0f1e8ba94f7ed7', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 6, 'created': '2020-08-13 01:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/79de88df364390b7eda854fe11c864330307ab5f', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 7, 'created': '2020-08-17 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d376c4bce4283d11fa26ed4f6b01f119da71f357', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 8, 'created': '2020-08-17 15:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3482c09c2007c622b825d19014d4e48929898c26', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 9, 'created': '2020-08-18 12:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f629df0f4e9fb826ec37637d4799aa77e310b74', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 10, 'created': '2020-08-19 21:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cdaca862e156958cd0e7e67103446b204e9efeed', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}, {'number': 11, 'created': '2020-08-20 21:01:16.000000000', 'files': ['container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4dac873004a8eecb20274cc078cffd1ff3cd4ade', 'message': 'container-images: add librados2 to gnocchi-base\n\nThis package is needed so the right dependencies are installed in the\ngnocchi base container images and db_sync can run fine when ceph is\nused as a backend.\n\nPartial-Bug: #1889192\nChange-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792\n(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)\n'}]",0,743741,4dac873004a8eecb20274cc078cffd1ff3cd4ade,84,13,11,7353,,,0,"container-images: add librados2 to gnocchi-base

This package is needed so the right dependencies are installed in the
gnocchi base container images and db_sync can run fine when ceph is
used as a backend.

Partial-Bug: #1889192
Change-Id: Ic0bfdec756a23460f9257e78c508d167d21f0792
(cherry picked from commit c6e680e180f457b8b9085d503ea8e8b6ccdad90d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/743741/10 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml'],1,c8199240217c46e8cf58fc41c44924abb4bb8a40,, - librados2,,1,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~Id40ac8c10fd0348ce4fd99ce319dab933312acfa,openstack/puppet-tripleo,stable/train,Id40ac8c10fd0348ce4fd99ce319dab933312acfa,HA: ensure scaling up galera does not cause promotion errors,MERGED,2020-08-25 07:36:50.000000000,2020-08-27 07:03:22.000000000,2020-08-27 07:03:22.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 07:36:50.000000000', 'files': ['lib/puppet/functions/pacemaker_bundle_replicas.rb', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/48f35b5274547e3844c62031b1ae68b2fbc75989', 'message': 'HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nCloses-Bug: #1892530\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n(cherry picked from commit 16a6ba465d420b23da77bab2f64286037d1ced37)\n'}]",0,747852,48f35b5274547e3844c62031b1ae68b2fbc75989,12,5,1,20172,,,0,"HA: ensure scaling up galera does not cause promotion errors

During scale up, two galera resources are being updated in the
pacemaker cluster. Force a specific ordering in puppet to make
sure the galera resource agent always picks up the up-to-date
config when it starts new replicas.

Closes-Bug: #1892530

Change-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa
(cherry picked from commit 16a6ba465d420b23da77bab2f64286037d1ced37)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/52/747852/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/functions/pacemaker_bundle_replicas.rb', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",2,48f35b5274547e3844c62031b1ae68b2fbc75989,galera-scale-up-stable/ussuri-stable/train," before => Exec['galera-ready'], require => [Class['::mysql::server']], # Resource relation: we normally want the bundle resource to # be run before the OCF one, as the latter depends on the former # at creation time. # However during scale up, both resources change, and the bundle # one shouldn't be updated prior to the OCF one, otherwise # pacemaker could spawn additional replicas before the necessary # info is updated in the OCF resource, which would confuse the # galera resource agent and cause spurious errors. $replicas=pacemaker_bundle_replicas('galera-bundle') if ($replicas > 0) and ($galera_nodes_count > $replicas) { Pacemaker::Resource::Ocf['galera'] -> Pacemaker::Resource::Bundle['galera-bundle'] } else { Pacemaker::Resource::Bundle['galera-bundle'] -> Pacemaker::Resource::Ocf['galera'] } "," require => [Class['::mysql::server'], Pacemaker::Resource::Bundle['galera-bundle']],",40,2
openstack%2Ftripleo-common~stable%2Ftrain~Ibd33a26feae03e4f0d46370346b7a950d1f6b02c,openstack/tripleo-common,stable/train,Ibd33a26feae03e4f0d46370346b7a950d1f6b02c,Fix config parser warning,MERGED,2020-08-24 12:40:04.000000000,2020-08-27 06:30:07.000000000,2020-08-27 06:27:48.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-24 12:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b00b65ea5d598fd74e53039ba60870639044c5ff', 'message': ""Fix config parser warning\n\n/usr/lib/python3.6/site-packages/tripleo_common/actions/ansible.py:154:\nDeprecationWarning: This method will be removed in future versions.  Use\n'parser.read_file()' instead.\n  config.readfp(sio_cfg)\n\nChange-Id: Ibd33a26feae03e4f0d46370346b7a950d1f6b02c\n(cherry picked from commit 781233af1a164b96d32f9eb987c4341f29f51ef2)\n""}, {'number': 2, 'created': '2020-08-26 12:46:13.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/74ab9401d2e9cf33b8e1f2d2205a3c19103daf1e', 'message': ""Fix config parser warning\n\n/usr/lib/python3.6/site-packages/tripleo_common/actions/ansible.py:154:\nDeprecationWarning: This method will be removed in future versions.  Use\n'parser.read_file()' instead.\n  config.readfp(sio_cfg)\n\nNote: this backport has been adjusted to work on python2 as well; which\nis still very well supported in stable/train.\n\nChange-Id: Ibd33a26feae03e4f0d46370346b7a950d1f6b02c\n(cherry picked from commit 781233af1a164b96d32f9eb987c4341f29f51ef2)\n""}]",0,747712,74ab9401d2e9cf33b8e1f2d2205a3c19103daf1e,16,5,2,3153,,,0,"Fix config parser warning

/usr/lib/python3.6/site-packages/tripleo_common/actions/ansible.py:154:
DeprecationWarning: This method will be removed in future versions.  Use
'parser.read_file()' instead.
  config.readfp(sio_cfg)

Note: this backport has been adjusted to work on python2 as well; which
is still very well supported in stable/train.

Change-Id: Ibd33a26feae03e4f0d46370346b7a950d1f6b02c
(cherry picked from commit 781233af1a164b96d32f9eb987c4341f29f51ef2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/747712/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,b00b65ea5d598fd74e53039ba60870639044c5ff,warnings-stable/train, config.read_file(sio_cfg), config.readfp(sio_cfg),1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic606e751cb046c34d33a94a2acd4313f4043441f,openstack/tripleo-heat-templates,stable/train,Ic606e751cb046c34d33a94a2acd4313f4043441f,Revamp how etcd's cert and key are handled in containers,MERGED,2020-08-07 00:16:06.000000000,2020-08-27 06:16:56.000000000,2020-08-27 06:16:56.000000000,"[{'_account_id': 3153}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 00:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f10a3f5f7cbe2b1a89348c82a91dd46f9d9c01c', 'message': ""Revamp how etcd's cert and key are handled in containers\n\nUse kolla_config to merge etcd's cert and key files into containers,\nand set the ownership so the corresponding service can read the files.\n\nPreviously, etcd's cert and key files were directly bind mounted\nin the etcd and cinder containers that need the files. An ACL was\nadded to ensure the corresponding services had read access to the\nfiles on the host, which are owned by root. The ACL was cumbersome,\nand required hardcoding the UID of each service.\n\nChange-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f\nDepends-On: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n(cherry picked from commit 7bcdd2448b2aafe99e17e3719cf224d1009099ec)\n(cherry picked from commit 978c4e05dec23c7957af7ece44d4d551ca6d50e5)\n""}, {'number': 2, 'created': '2020-08-17 19:05:56.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9e7a6fa9232936aebbe449e75ac616fa9de2291', 'message': ""Revamp how etcd's cert and key are handled in containers\n\nUse kolla_config to merge etcd's cert and key files into containers,\nand set the ownership so the corresponding service can read the files.\n\nPreviously, etcd's cert and key files were directly bind mounted\nin the etcd and cinder containers that need the files. An ACL was\nadded to ensure the corresponding services had read access to the\nfiles on the host, which are owned by root. The ACL was cumbersome,\nand required hardcoding the UID of each service.\n\nChange-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f\nDepends-On: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n(cherry picked from commit 7bcdd2448b2aafe99e17e3719cf224d1009099ec)\n(cherry picked from commit 978c4e05dec23c7957af7ece44d4d551ca6d50e5)\n""}]",0,745256,a9e7a6fa9232936aebbe449e75ac616fa9de2291,40,4,2,21129,,,0,"Revamp how etcd's cert and key are handled in containers

Use kolla_config to merge etcd's cert and key files into containers,
and set the ownership so the corresponding service can read the files.

Previously, etcd's cert and key files were directly bind mounted
in the etcd and cinder containers that need the files. An ACL was
added to ensure the corresponding services had read access to the
files on the host, which are owned by root. The ACL was cumbersome,
and required hardcoding the UID of each service.

Change-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f
Depends-On: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d
(cherry picked from commit 7bcdd2448b2aafe99e17e3719cf224d1009099ec)
(cherry picked from commit 978c4e05dec23c7957af7ece44d4d551ca6d50e5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/745256/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",8,1f10a3f5f7cbe2b1a89348c82a91dd46f9d9c01c,etcd-cert-revamp, - /etc/pki/tls/certs/etcd.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/etcd.crt:ro - /etc/pki/tls/private/etcd.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/etcd.key:ro, - /etc/pki/tls/certs/etcd.crt:/etc/pki/tls/certs/etcd.crt:ro - /etc/pki/tls/private/etcd.key:/etc/pki/tls/private/etcd.key:ro,63,38
openstack%2Fglance~stable%2Fussuri~I4b63706927b599eb343b614f0c396f699378e14b,openstack/glance,stable/ussuri,I4b63706927b599eb343b614f0c396f699378e14b,Flesh out FakeImage for extra_properties,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 05:59:13.000000000,2020-08-27 05:58:01.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/663e027e50533909833b7ef11d82b9bdcda86499', 'message': 'Flesh out FakeImage for extra_properties\n\nThe FakeImage in test_images_resource.py is missing a lot of standard\nproperties. That becomes a problem as soon as you add extra_properties,\nwhich gets delegated to for any missing property by ImageTarget. Thus,\nif that fixture has extra_properties defined on it, any other base\nproperty (i.e. checksum, size, etc) will be looked for inside that dict\nif it is not defined on the fixture itself.\n\nThus, this adds fake values for all those properties and adds\nextra_properties={} so that subsequent patches can put things into\nextra_properties without a bunch of work.\n\nChange-Id: I4b63706927b599eb343b614f0c396f699378e14b\n(cherry picked from commit 7c91a177edeb3782e99993d0568cddf31bff96a8)\n'}]",0,748006,663e027e50533909833b7ef11d82b9bdcda86499,12,3,1,4393,,,0,"Flesh out FakeImage for extra_properties

The FakeImage in test_images_resource.py is missing a lot of standard
properties. That becomes a problem as soon as you add extra_properties,
which gets delegated to for any missing property by ImageTarget. Thus,
if that fixture has extra_properties defined on it, any other base
property (i.e. checksum, size, etc) will be looked for inside that dict
if it is not defined on the fixture itself.

Thus, this adds fake values for all those properties and adds
extra_properties={} so that subsequent patches can put things into
extra_properties without a bunch of work.

Change-Id: I4b63706927b599eb343b614f0c396f699378e14b
(cherry picked from commit 7c91a177edeb3782e99993d0568cddf31bff96a8)
",git fetch https://review.opendev.org/openstack/glance refs/changes/06/748006/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/v2/test_images_resource.py'],1,663e027e50533909833b7ef11d82b9bdcda86499,bug/1884596, self.created_at = '' self.updated_at = '' self.min_disk = '' self.min_ram = '' self.protected = False self.checksum = '' self.os_hash_algo = '' self.os_hash_value = '' self.size = 0 self.virtual_size = 0 self.visibility = 'public' self.os_hidden = False self.name = 'foo' self.tags = [] self.extra_properties = {} # NOTE(danms): This fixture looks more like the db object than # the proxy model. This needs fixing all through the tests # below. self.image_id = self.id,,20,0
openstack%2Fglance~stable%2Fussuri~I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51,openstack/glance,stable/ussuri,I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51,Add tests for _ImportToStore.execute(),MERGED,2020-08-25 18:57:25.000000000,2020-08-27 05:55:06.000000000,2020-08-27 05:53:24.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ec46cbca97308de672b2e91b0ae19bbe5617ed44', 'message': 'Add tests for _ImportToStore.execute()\n\nThere are some existing tests for the body of this task, but none for the\nmeat of the task when things go right.\n\nChange-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51\n(cherry picked from commit 94a672c7cdade9411c8973d3bcc8c556273d680a)\n'}]",0,748005,ec46cbca97308de672b2e91b0ae19bbe5617ed44,12,3,1,4393,,,0,"Add tests for _ImportToStore.execute()

There are some existing tests for the body of this task, but none for the
meat of the task when things go right.

Change-Id: I6fd0505a265c8ffb03bf8c3c0f2d4a1176485b51
(cherry picked from commit 94a672c7cdade9411c8973d3bcc8c556273d680a)
",git fetch https://review.opendev.org/openstack/glance refs/changes/05/748005/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,ec46cbca97308de672b2e91b0ae19bbe5617ed44,bug/1884596," def test_execute(self): wrapper = mock.MagicMock() action = mock.MagicMock() wrapper.__enter__.return_value = action image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", ""store1"", False, True) # Assert file_path is honored with mock.patch.object(image_import, '_execute') as mock_execute: image_import.execute(mock.sentinel.path) mock_execute.assert_called_once_with(action, mock.sentinel.path) # Assert file_path is optional with mock.patch.object(image_import, '_execute') as mock_execute: image_import.execute() mock_execute.assert_called_once_with(action, None) def test_execute_body_with_store(self): image = mock.MagicMock() img_repo = mock.MagicMock() img_repo.get.return_value = image wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", ""store1"", False, True) action = mock.MagicMock() image_import._execute(action, mock.sentinel.path) action.set_image_data.assert_called_once_with( mock.sentinel.path, TASK_ID1, backend='store1', set_active=True) action.remove_importing_stores(['store1']) def test_execute_body_with_store_no_path(self): image = mock.MagicMock() img_repo = mock.MagicMock() img_repo.get.return_value = image wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", ""store1"", False, True) action = mock.MagicMock() image_import._execute(action, None) action.set_image_data.assert_called_once_with( 'http://url', TASK_ID1, backend='store1', set_active=True) action.remove_importing_stores(['store1']) def test_execute_body_without_store(self): image = mock.MagicMock() img_repo = mock.MagicMock() img_repo.get.return_value = image wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", None, False, True) action = mock.MagicMock() image_import._execute(action, mock.sentinel.path) action.set_image_data.assert_called_once_with( mock.sentinel.path, TASK_ID1, backend=None, set_active=True) action.remove_importing_stores.assert_not_called() ",,73,0
openstack%2Ftripleo-common~stable%2Ftrain~I782cbfd3c88b30c801961c6d8ba875d36f59bf42,openstack/tripleo-common,stable/train,I782cbfd3c88b30c801961c6d8ba875d36f59bf42,[squash] Backport RHEL modules into base image,MERGED,2020-08-21 13:38:25.000000000,2020-08-27 05:02:30.000000000,2020-08-27 05:01:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 13:38:25.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/38c00ad8c4f91d9aab9d87f52a6e30de4eaeee36', 'message': '[squash] Backport RHEL modules into base image\n\nThis is an unclean backport of RHEL modules into base images.\nWe include the revert of virt:8:3 change in the images and re-included\nit in the base image.\n\n1) Revert ""Switch to use virt:8.3 for non-kolla container builds""\n\nThis reverts commit 082d3bed48911cafcea56c020c01ba561bd913b4.\n\n2) TCIB: move RHEL modules into base image\n\nMoving the RHEL modules management into the base image will make it\nso we will have shared and consistent modules across all container\nimages; and also configurable from a central place, the base.yaml.\n\nAlso, allow to find the module versions from the\n{{ tcib_rhel_modules }} variable so later in tripleoclient we can\noverride the modules versions from the CLI with a new --rhel-modules\nargument (which will take comma separated list of modules and their\nversions).\n\nChange-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42\n(cherry picked from commit 640b76608d8194ccbecc77429bca711f37809400)\n'}]",0,747412,38c00ad8c4f91d9aab9d87f52a6e30de4eaeee36,23,5,1,3153,,,0,"[squash] Backport RHEL modules into base image

This is an unclean backport of RHEL modules into base images.
We include the revert of virt:8:3 change in the images and re-included
it in the base image.

1) Revert ""Switch to use virt:8.3 for non-kolla container builds""

This reverts commit 082d3bed48911cafcea56c020c01ba561bd913b4.

2) TCIB: move RHEL modules into base image

Moving the RHEL modules management into the base image will make it
so we will have shared and consistent modules across all container
images; and also configurable from a central place, the base.yaml.

Also, allow to find the module versions from the
{{ tcib_rhel_modules }} variable so later in tripleoclient we can
override the modules versions from the CLI with a new --rhel-modules
argument (which will take comma separated list of modules and their
versions).

Change-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42
(cherry picked from commit 640b76608d8194ccbecc77429bca711f37809400)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/747412/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml']",16,38c00ad8c4f91d9aab9d87f52a6e30de4eaeee36,modules,,"- run: if [ '{{ tcib_distro }}' == 'rhel' ]; then {% for item in tcib_packages.modules %}{% set key, value = (item.items() | list).0 %}dnf module -y {{ key }} {{ value }}; {% endfor %}fi modules: - disable: virt:rhel - enable: virt:8.3",8,65
openstack%2Fopenstack-helm~master~If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e,openstack/openstack-helm,master,If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e,Dynamically determine if ceph is enabled for compute kit,MERGED,2020-08-11 23:49:10.000000000,2020-08-27 04:27:28.000000000,2020-08-27 04:25:50.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-08-11 23:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ff9f9edf2bf7631e1e307efd7a78a1c989e2518', 'message': 'test volume mount\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-12 00:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/788c5da05be6e6d9da4c05b9df67b94cca2d5cdd', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nDeploy nova with ceph enabled if volume service is present since we\nour scripts support only ceph backend for cinder.\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-08-12 00:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8843802f8f223e8a15623207746c351e1eb20034', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nDeploy nova with ceph enabled if volume service is present since we\nour scripts support only ceph backend for cinder.\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-08-12 00:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2cd33a01a73315dd517e5ab396b92825f2a2592b', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-08-12 00:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a946aeebb138004d63f9e907bc9a8b4b14dac8ec', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-08-12 00:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0578d2afc36b1e686becdab9e11122df74e5e596', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-08-12 01:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6170ba0de749edb549e200f2000e0872e30eb02e', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-08-12 01:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1ad4de7f71bf2ee74eeafd4ad0a65c921428f19', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-08-12 02:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/74ff77a0b82d389a3647b749a64238c59ea81878', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-08-12 17:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5c25e772c3dd2da0f6d4b895e32570f83f4bad0', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-08-26 03:35:35.000000000', 'files': ['tools/deployment/component/compute-kit/compute-kit.sh', 'tools/deployment/component/compute-kit/libvirt.sh', 'tools/deployment/developer/ceph/160-compute-kit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71bc6d15c78a65183bac0e06e1eaec047cf07523', 'message': 'Dynamically determine if ceph is enabled for compute kit\n\nChange-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,745762,71bc6d15c78a65183bac0e06e1eaec047cf07523,39,7,11,8863,,,0,"Dynamically determine if ceph is enabled for compute kit

Change-Id: If9af66b0e5e1d6b5ba514c8e5e5f27383e74850e
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/745762/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/values.yaml'],1,6ff9f9edf2bf7631e1e307efd7a78a1c989e2518,fix-tls-job, nova_compute: andriiostapenko/nova:stein_bionic_iscsi, nova_compute: docker.io/openstackhelm/nova:stein-ubuntu_bionic,1,1
openstack%2Frequirements~stable%2Ftrain~I5641c0fcb4cd7aa95db6b7ba13060819b6c7c8f6,openstack/requirements,stable/train,I5641c0fcb4cd7aa95db6b7ba13060819b6c7c8f6,update constraint for ovsdbapp to new release 0.17.4,MERGED,2020-08-26 21:15:23.000000000,2020-08-27 04:21:38.000000000,2020-08-27 04:21:38.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 21:15:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/00e3f07611f30c6f366d9fb981a9833afab0c32b', 'message': 'update constraint for ovsdbapp to new release 0.17.4\n\nChange-Id: I5641c0fcb4cd7aa95db6b7ba13060819b6c7c8f6\nmeta:version: 0.17.4\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: I56c7fd7717c3bff4a81ccaadd418f0fbb47b7072\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748312,00e3f07611f30c6f366d9fb981a9833afab0c32b,9,3,1,11131,,,0,"update constraint for ovsdbapp to new release 0.17.4

Change-Id: I5641c0fcb4cd7aa95db6b7ba13060819b6c7c8f6
meta:version: 0.17.4
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: I56c7fd7717c3bff4a81ccaadd418f0fbb47b7072
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/748312/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,00e3f07611f30c6f366d9fb981a9833afab0c32b,new-release,ovsdbapp===0.17.4,ovsdbapp===0.17.3,1,1
openstack%2Fmistral-dashboard~master~Ib56b35b164057b821b5e9755202b87c9e1ea5572,openstack/mistral-dashboard,master,Ib56b35b164057b821b5e9755202b87c9e1ea5572,Cleanup for Refactor-error-messages,MERGED,2020-08-26 12:23:32.000000000,2020-08-27 04:08:44.000000000,2020-08-27 04:08:44.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:23:32.000000000', 'files': ['mistraldashboard/actions/views.py', 'mistraldashboard/executions/views.py', 'mistraldashboard/executions/tables.py', 'mistraldashboard/executions/forms.py', 'mistraldashboard/workflows/forms.py', 'mistraldashboard/workbooks/forms.py', 'mistraldashboard/actions/forms.py', 'mistraldashboard/tasks/tables.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/0af8c03fafc24284754e1486d17b37cdd5770def', 'message': 'Cleanup for Refactor-error-messages\n\nThis patch is a clean-up patch for refactor-error-messages bp\nwhich remove the exception message from base message otherwise\nthe same exception message display twice like\nthis https://ibb.co/XyFWMdz .\n\nChange-Id: Ib56b35b164057b821b5e9755202b87c9e1ea5572\n'}]",0,748200,0af8c03fafc24284754e1486d17b37cdd5770def,7,2,1,29313,,,0,"Cleanup for Refactor-error-messages

This patch is a clean-up patch for refactor-error-messages bp
which remove the exception message from base message otherwise
the same exception message display twice like
this https://ibb.co/XyFWMdz .

Change-Id: Ib56b35b164057b821b5e9755202b87c9e1ea5572
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/00/748200/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/actions/views.py', 'mistraldashboard/executions/views.py', 'mistraldashboard/executions/tables.py', 'mistraldashboard/executions/forms.py', 'mistraldashboard/workflows/forms.py', 'mistraldashboard/workbooks/forms.py', 'mistraldashboard/actions/forms.py', 'mistraldashboard/tasks/tables.py']",8,0af8c03fafc24284754e1486d17b37cdd5770def,bp/refactor-error-messages," except Exception: msg = _('Unable to get task by ID ""%s"".') % id"," except Exception as e: msg = _(""Unable to get task by ID %(id)s: %(e)s."") % { 'id': id, 'e': str(e) }",27,37
openstack%2Frequirements~master~I47ea09c719480da2b84de063ed840f6433d7e38e,openstack/requirements,master,I47ea09c719480da2b84de063ed840f6433d7e38e,update constraint for oslo.messaging to new release 12.3.0,MERGED,2020-08-26 20:36:31.000000000,2020-08-27 04:01:25.000000000,2020-08-27 04:00:21.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 20:36:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b79e28846ccddb5c4e9f5d006209e5dc9a5f8d33', 'message': 'update constraint for oslo.messaging to new release 12.3.0\n\nChange-Id: I47ea09c719480da2b84de063ed840f6433d7e38e\nmeta:version: 12.3.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748305,b79e28846ccddb5c4e9f5d006209e5dc9a5f8d33,12,3,1,11131,,,0,"update constraint for oslo.messaging to new release 12.3.0

Change-Id: I47ea09c719480da2b84de063ed840f6433d7e38e
meta:version: 12.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/748305/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b79e28846ccddb5c4e9f5d006209e5dc9a5f8d33,new-release,oslo.messaging===12.3.0,oslo.messaging===12.2.2,1,1
openstack%2Ftripleo-common~stable%2Ftrain~Iad38f5152ef824a90d3c9fde8be45594acbed44a,openstack/tripleo-common,stable/train,Iad38f5152ef824a90d3c9fde8be45594acbed44a,TCIB: add etcd user to the kolla group,MERGED,2020-07-15 22:09:19.000000000,2020-08-27 03:54:47.000000000,2020-08-27 03:53:29.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-15 22:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01ab5fede1e444f1e2c09b19f7b42758ed631d70', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 2, 'created': '2020-07-27 15:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/78c49af8acc3672da759ff380336e34b22ad7ccf', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 3, 'created': '2020-07-27 15:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2093301f58c2de1b2330bd04996cda1200bc8e5', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 4, 'created': '2020-07-29 02:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7376eef0b510b634ba089cf4f1120bad67e6dc8b', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 5, 'created': '2020-07-31 13:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7186708a00cdda26d0b94324376c9e96f4ce6dd9', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 6, 'created': '2020-08-10 13:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d84762779b645df725f9d419138b1bd6e327c4d', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 7, 'created': '2020-08-10 20:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c3c9857bc4356279082ad0b96e15d6aea704ab91', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 8, 'created': '2020-08-11 12:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/885a2d73a15831e5cc19547ddb82a18dc197c059', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 9, 'created': '2020-08-13 01:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc7ab788a995f6a0bb0d6aa170f4615d83b065da', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 10, 'created': '2020-08-17 13:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/75f2af0f84d7ebe4496490ff353cecb25e459dce', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 11, 'created': '2020-08-17 15:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d04a611aa29bc657986a7a83d02de3428766743a', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 12, 'created': '2020-08-18 12:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02531436d90613e854395f4032d4b6baf229ba4c', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 13, 'created': '2020-08-19 21:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5da68dd545ff047a2e7fbbe8ab45fad79e2f7615', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}, {'number': 14, 'created': '2020-08-20 21:01:35.000000000', 'files': ['container-images/tcib/base/etcd/etcd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f491e5f93129589207da9380c64f2137e7ec74a', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}]",0,741332,3f491e5f93129589207da9380c64f2137e7ec74a,82,8,14,3153,,,0,"TCIB: add etcd user to the kolla group

This is required or the kolla_set_configs will fail to run with
permission error.

Change-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a
(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/741332/10 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/etcd/etcd.yaml'],1,01ab5fede1e444f1e2c09b19f7b42758ed631d70,tcib/train,- run: usermod -a -G kolla etcd,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,openstack/tripleo-common,stable/train,I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,TCIB: add python3-pynacl to mariadb image,MERGED,2020-07-15 22:08:24.000000000,2020-08-27 03:48:43.000000000,2020-08-27 03:47:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-15 22:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7fc3a570f10ddaa497653a069a22caa374222cd4', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 2, 'created': '2020-07-27 15:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8964652af634c0d43a9230728853eff11e46894a', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 3, 'created': '2020-07-27 15:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4eaaab8f6dfc0cc1097d2bfb08ee7eef103fb0d9', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 4, 'created': '2020-07-29 02:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/decbb512f625df6be574c405b083030f89de932b', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 5, 'created': '2020-07-31 13:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b67594aafca396ae57db3e9eb1bd593908e37c99', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 6, 'created': '2020-08-10 13:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3dd5630f1b793feae681d5edc3324b1e9d64d57', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 7, 'created': '2020-08-10 20:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3ecad2056a26ebcecfd2384d62b4c6ac3be1d3c', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 8, 'created': '2020-08-11 12:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6eb08abb8767ba8294a26b7fda6e91334a287390', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 9, 'created': '2020-08-13 01:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4a0d1d5987526e45370c8603b650dda77d9d460', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 10, 'created': '2020-08-17 13:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/95d26854bd27477f910081469d70c88979264a83', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 11, 'created': '2020-08-17 15:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0218739cc6052ff58cf8e184659a17f961299261', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 12, 'created': '2020-08-18 12:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e7a6942ed5eb5461a28db3373e81feee60ba974c', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 13, 'created': '2020-08-19 21:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ef367a9a3f7efa11a5a58fc1200da4e90fe0106', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}, {'number': 14, 'created': '2020-08-20 21:01:26.000000000', 'files': ['container-images/tcib/base/mariadb/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/95c03f6501cc58393bab48b970fbfea8382ad063', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}]",0,741331,95c03f6501cc58393bab48b970fbfea8382ad063,94,9,14,3153,,,0,"TCIB: add python3-pynacl to mariadb image

Porting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.

Change-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d
Related-Bug: #1866093
(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/741331/14 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/mariadb/mariadb.yaml'],1,7fc3a570f10ddaa497653a069a22caa374222cd4,tcib/train, - python3-pynacl,,1,0
openstack%2Fnova~stable%2Ftrain~Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,openstack/nova,stable/train,Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration,MERGED,2020-08-25 15:04:22.000000000,2020-08-27 03:27:26.000000000,2020-08-26 17:02:58.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-25 15:04:22.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a07edb4b29d8bfb5c86ed14263f7cd7525958c1', 'message': 'libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n\nThe VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt\nv1.3.4 and is used to provide the new persistent configuration for the\ndestination during a live migration:\n\nhttps://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML\n\nWithout this parameter the persistent configuration on the destination\nwill be the same as the original persistent configuration on the source\nwhen the VIR_MIGRATE_PERSIST_DEST flag is provided.\n\nAs Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML\nparam but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that\na soft reboot by Nova of the instance after a live migration can revert\nthe domain back to the original persistent configuration from the\nsource.\n\nNote that this is only possible in Nova as a soft reboot actually\nresults in the virDomainShutdown and virDomainLaunch libvirt APIs being\ncalled that recreate the domain using the persistent configuration.\nvirDomainReboot does not result in this but is not called at this time.\n\nThe impact of this on the instance after the soft reboot is pretty\nsevere, host devices referenced in the original persistent configuration\non the source may not exist or could even be used by other users on the\ndestination. CPU and NUMA affinity could also differ drastically between\nthe two hosts resulting in the instance being unable to start etc.\n\nAs MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the\nVIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the\ndestination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.\n\nCo-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>\nCloses-Bug: #1890501\nChange-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98\n(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)\n(cherry picked from commit bbf9d1de06e9991acd968fceee899a8df3776d60)\n'}]",0,747973,6a07edb4b29d8bfb5c86ed14263f7cd7525958c1,18,7,1,10135,,,0,"libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration

The VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt
v1.3.4 and is used to provide the new persistent configuration for the
destination during a live migration:

https://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML

Without this parameter the persistent configuration on the destination
will be the same as the original persistent configuration on the source
when the VIR_MIGRATE_PERSIST_DEST flag is provided.

As Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML
param but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that
a soft reboot by Nova of the instance after a live migration can revert
the domain back to the original persistent configuration from the
source.

Note that this is only possible in Nova as a soft reboot actually
results in the virDomainShutdown and virDomainLaunch libvirt APIs being
called that recreate the domain using the persistent configuration.
virDomainReboot does not result in this but is not called at this time.

The impact of this on the instance after the soft reboot is pretty
severe, host devices referenced in the original persistent configuration
on the source may not exist or could even be used by other users on the
destination. CPU and NUMA affinity could also differ drastically between
the two hosts resulting in the instance being unable to start etc.

As MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the
VIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the
destination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.

Co-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>
Closes-Bug: #1890501
Change-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98
(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)
(cherry picked from commit bbf9d1de06e9991acd968fceee899a8df3776d60)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/747973/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,6a07edb4b29d8bfb5c86ed14263f7cd7525958c1,bug/1890501," 'persistent_xml': target_xml, 'destination_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': '<xml/>', 'persistent_xml': '<xml/>',", 'destination_xml': target_xml,10,1
openstack%2Fglance~stable%2Fussuri~I4af4202d6650b60aebbed813b7640cf018466e12,openstack/glance,stable/ussuri,I4af4202d6650b60aebbed813b7640cf018466e12,Add testing for _CompleteTask in api_image_import,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 02:19:37.000000000,2020-08-27 02:16:58.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ea34be42632b82b724adc9e6eee22d3367da6cae', 'message': 'Add testing for _CompleteTask in api_image_import\n\nThis critical task has no testing. Add some before we add more\nfunctionality to it.\n\nChange-Id: I4af4202d6650b60aebbed813b7640cf018466e12\n(cherry picked from commit 2e11ecb15e63bac7b2de353ed77abf6a363d4158)\n'}]",0,748004,ea34be42632b82b724adc9e6eee22d3367da6cae,12,4,1,4393,,,0,"Add testing for _CompleteTask in api_image_import

This critical task has no testing. Add some before we add more
functionality to it.

Change-Id: I4af4202d6650b60aebbed813b7640cf018466e12
(cherry picked from commit 2e11ecb15e63bac7b2de353ed77abf6a363d4158)
",git fetch https://review.opendev.org/openstack/glance refs/changes/04/748004/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,ea34be42632b82b724adc9e6eee22d3367da6cae,bug/1884596," @mock.patch('glance.common.scripts.utils.get_task') class TestCompleteTask(test_utils.BaseTestCase): def setUp(self): super(TestCompleteTask, self).setUp() self.task_repo = mock.MagicMock() self.task = mock.MagicMock() def test_execute(self, mock_get_task): complete = import_flow._CompleteTask(TASK_ID1, TASK_TYPE, self.task_repo, IMAGE_ID1) mock_get_task.return_value = self.task complete.execute() mock_get_task.assert_called_once_with(self.task_repo, TASK_ID1) self.task.succeed.assert_called_once_with({'image_id': IMAGE_ID1}) self.task_repo.save.assert_called_once_with(self.task) def test_execute_no_task(self, mock_get_task): mock_get_task.return_value = None complete = import_flow._CompleteTask(TASK_ID1, TASK_TYPE, self.task_repo, IMAGE_ID1) complete.execute() self.task_repo.save.assert_not_called() def test_execute_succeed_fails(self, mock_get_task): mock_get_task.return_value = self.task self.task.succeed.side_effect = Exception('testing') complete = import_flow._CompleteTask(TASK_ID1, TASK_TYPE, self.task_repo, IMAGE_ID1) complete.execute() self.task.fail.assert_called_once_with( _('Error: <class \'Exception\'>: testing')) self.task_repo.save.assert_called_once_with(self.task)",,35,0
openstack%2Fglance~stable%2Fussuri~Ic933f170d43b290fd819e8527ecb60be7f7f3f89,openstack/glance,stable/ussuri,Ic933f170d43b290fd819e8527ecb60be7f7f3f89,Make test_copy_image_revert_lifecycle handle 409 on import retry,MERGED,2020-08-25 18:57:25.000000000,2020-08-27 02:18:30.000000000,2020-08-27 02:16:43.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0895d19197ab6313ef80294fe33807a4a71a44ea', 'message': 'Make test_copy_image_revert_lifecycle handle 409 on import retry\n\nThis test is very racy in general, and specifically on the post-revert\nretry to do the import, it may start the next import before the previous\none has finished reverting. This patch makes it retry a few times with\ndelay if an HTTP 409 is received so it is tolerant of that situation once\nit becomes possible in the subsequent patch to add import locking.\n\nChange-Id: Ic933f170d43b290fd819e8527ecb60be7f7f3f89\n(cherry picked from commit 8c7342cbc15fdbcbafa1ead9aa183e45862cf177)\n'}]",0,748003,0895d19197ab6313ef80294fe33807a4a71a44ea,12,4,1,4393,,,0,"Make test_copy_image_revert_lifecycle handle 409 on import retry

This test is very racy in general, and specifically on the post-revert
retry to do the import, it may start the next import before the previous
one has finished reverting. This patch makes it retry a few times with
delay if an HTTP 409 is received so it is tolerant of that situation once
it becomes possible in the subsequent patch to add import locking.

Change-Id: Ic933f170d43b290fd819e8527ecb60be7f7f3f89
(cherry picked from commit 8c7342cbc15fdbcbafa1ead9aa183e45862cf177)
",git fetch https://review.opendev.org/openstack/glance refs/changes/03/748003/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,0895d19197ab6313ef80294fe33807a4a71a44ea,bug/1884596,"import time for i in range(0, 5): response = requests.post(path, headers=headers, data=data) if response.status_code != http.CONFLICT: break # We might race with the revert of the previous task and do not # really have a good way to make sure that it's done. In order # to make sure we tolerate the 409 possibility when import # locking is added, gracefully wait a few times before failing. time.sleep(1) "," response = requests.post(path, headers=headers, data=data)",12,1
openstack%2Frequirements~stable%2Fstein~I506374ee31492c7722923583a89b39e51208b548,openstack/requirements,stable/stein,I506374ee31492c7722923583a89b39e51208b548,update constraint for oslo.utils to new release 3.40.7,MERGED,2020-08-26 21:32:16.000000000,2020-08-27 02:00:55.000000000,2020-08-27 02:00:55.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 21:32:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3c643786dbaf9959962bb7e816a1ef148ef2b2b', 'message': 'update constraint for oslo.utils to new release 3.40.7\n\nChange-Id: I506374ee31492c7722923583a89b39e51208b548\nmeta:version: 3.40.7\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ib87e44f9d9926e708fd8f6559bd473544b70b13e\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748316,f3c643786dbaf9959962bb7e816a1ef148ef2b2b,7,3,1,11131,,,0,"update constraint for oslo.utils to new release 3.40.7

Change-Id: I506374ee31492c7722923583a89b39e51208b548
meta:version: 3.40.7
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ib87e44f9d9926e708fd8f6559bd473544b70b13e
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/748316/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f3c643786dbaf9959962bb7e816a1ef148ef2b2b,new-release,oslo.utils===3.40.7,oslo.utils===3.40.6,1,1
openstack%2Frequirements~stable%2Fussuri~Ib9e9012504b53e3550315cf5fb927213ff83b128,openstack/requirements,stable/ussuri,Ib9e9012504b53e3550315cf5fb927213ff83b128,update constraint for ovsdbapp to new release 1.2.1,MERGED,2020-08-26 21:27:48.000000000,2020-08-27 01:54:19.000000000,2020-08-27 01:54:19.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 21:27:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0fd61624a25f0f7f789d22bc5d8cce7bea003661', 'message': 'update constraint for ovsdbapp to new release 1.2.1\n\nChange-Id: Ib9e9012504b53e3550315cf5fb927213ff83b128\nmeta:version: 1.2.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: I1945f01b5e8f80164f3f90c8cd9cf3763ef484df\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748314,0fd61624a25f0f7f789d22bc5d8cce7bea003661,7,3,1,11131,,,0,"update constraint for ovsdbapp to new release 1.2.1

Change-Id: Ib9e9012504b53e3550315cf5fb927213ff83b128
meta:version: 1.2.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: I1945f01b5e8f80164f3f90c8cd9cf3763ef484df
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/748314/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0fd61624a25f0f7f789d22bc5d8cce7bea003661,new-release,ovsdbapp===1.2.1;python_version=='3.6' ovsdbapp===1.2.1;python_version=='3.7' ovsdbapp===1.2.1;python_version=='3.8',ovsdbapp===1.2.0;python_version=='3.6' ovsdbapp===1.2.0;python_version=='3.7' ovsdbapp===1.2.0;python_version=='3.8',3,3
openstack%2Frequirements~stable%2Ftrain~Id0a1d9c72cd80a8fc0a63f06afd440ef723bbd42,openstack/requirements,stable/train,Id0a1d9c72cd80a8fc0a63f06afd440ef723bbd42,update constraint for neutron to new release 15.2.0,MERGED,2020-08-26 21:20:30.000000000,2020-08-27 01:54:18.000000000,2020-08-27 01:54:18.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 21:20:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9549586369950d3bac50aa0b1b08988e26f5b21f', 'message': 'update constraint for neutron to new release 15.2.0\n\nChange-Id: Id0a1d9c72cd80a8fc0a63f06afd440ef723bbd42\nmeta:version: 15.2.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: If7cd1aee37a5aacfe7a87fc67ffa3c24496be99c\nmeta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748313,9549586369950d3bac50aa0b1b08988e26f5b21f,7,3,1,11131,,,0,"update constraint for neutron to new release 15.2.0

Change-Id: Id0a1d9c72cd80a8fc0a63f06afd440ef723bbd42
meta:version: 15.2.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: If7cd1aee37a5aacfe7a87fc67ffa3c24496be99c
meta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/748313/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9549586369950d3bac50aa0b1b08988e26f5b21f,new-release,neutron===15.2.0,neutron===15.1.0,1,1
openstack%2Fzaqar~master~Id7e0f5b9c2c54ec0d5f1f7b0cd8199bc60718971,openstack/zaqar,master,Id7e0f5b9c2c54ec0d5f1f7b0cd8199bc60718971,Cap jsonschema 3.2.0 as the minimal version,MERGED,2020-05-26 20:15:57.000000000,2020-08-27 01:50:01.000000000,2020-08-27 01:48:50.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-26 20:15:57.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/bf863c5e3a44c309e5a868d91b2e0b2234b6c877', 'message': ""Cap jsonschema 3.2.0 as the minimal version\n\nPrevious versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].\nPython 3.8 is part of the victoria supported runtimes [2] so we now force\nto use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure\nthat everything works with python 3 in general.\n\n[1] https://github.com/Julian/jsonschema/pull/627\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Id7e0f5b9c2c54ec0d5f1f7b0cd8199bc60718971\n""}]",0,730982,bf863c5e3a44c309e5a868d91b2e0b2234b6c877,15,4,1,28522,,,0,"Cap jsonschema 3.2.0 as the minimal version

Previous versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].
Python 3.8 is part of the victoria supported runtimes [2] so we now force
to use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure
that everything works with python 3 in general.

[1] https://github.com/Julian/jsonschema/pull/627
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Id7e0f5b9c2c54ec0d5f1f7b0cd8199bc60718971
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/82/730982/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,bf863c5e3a44c309e5a868d91b2e0b2234b6c877,cap_jsonschema,jsonschema==3.2.0,jsonschema==2.6.0,2,2
openstack%2Frequirements~stable%2Fussuri~I561d6928ebacfee228c7bf7544cf2405002b29d0,openstack/requirements,stable/ussuri,I561d6928ebacfee228c7bf7544cf2405002b29d0,update constraint for oslo.messaging to new release 12.1.3,MERGED,2020-08-26 21:08:46.000000000,2020-08-27 01:47:52.000000000,2020-08-27 01:47:51.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 21:08:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a0b0827bf937b5a8d3478296d9d96520583a5b10', 'message': 'update constraint for oslo.messaging to new release 12.1.3\n\nChange-Id: I561d6928ebacfee228c7bf7544cf2405002b29d0\nmeta:version: 12.1.3\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I5dcfa97d01604612affac4a7be0ef5970ed00b69\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,748311,a0b0827bf937b5a8d3478296d9d96520583a5b10,7,3,1,11131,,,0,"update constraint for oslo.messaging to new release 12.1.3

Change-Id: I561d6928ebacfee228c7bf7544cf2405002b29d0
meta:version: 12.1.3
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I5dcfa97d01604612affac4a7be0ef5970ed00b69
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/748311/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a0b0827bf937b5a8d3478296d9d96520583a5b10,new-release,oslo.messaging===12.1.3;python_version=='3.6' oslo.messaging===12.1.3;python_version=='3.7' oslo.messaging===12.1.3;python_version=='3.8',oslo.messaging===12.1.2;python_version=='3.6' oslo.messaging===12.1.2;python_version=='3.7' oslo.messaging===12.1.2;python_version=='3.8',3,3
openstack%2Frequirements~stable%2Ftrain~Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c,openstack/requirements,stable/train,Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c,Add validations-libs and validations-common to openstack_requirements,MERGED,2020-08-24 09:57:07.000000000,2020-08-27 01:37:56.000000000,2020-08-27 01:37:56.000000000,"[{'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-24 09:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/406fe49f764f1694b434b74ceb9705b617dd55a6', 'message': ""Add validations-libs and validations-common to openstack_requirements\n\nvalidations-libs and validations-common are needed to the\nopenstack_requirements\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nChange-Id: Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c\n(cherry picked from commit d14c326fbce9cec18990b25405490a24a0200c50)\n""}, {'number': 2, 'created': '2020-08-25 20:42:47.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/446451757005c65ce970c03fb73f6d3b80e1fc02', 'message': ""Add validations-libs and validations-common to openstack_requirements\n\nvalidations-libs and validations-common are needed to the\nopenstack_requirements\n\nAnswers to the basic requirements questions.\n\nIs the library actively maintained?\n\nYes, the libraries is actively maintained and mainly used by TripleO projects\n\nIs the library good code?\n\nYes the libraries is covered by CI and Unit tests\n\nIs the library python 3 compatible?\n\nYes\n\nIs the library license compatible?\n\nYes\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\n\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\n\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure\nsetup? (Answer to this should be Yes, of course) Which?\n\nYes, it's required for python-tripleoclient and TripleO projects\n\nIf the library release is managed by the Openstack release process does it use\nthe cycle-with-intermediary release type?\n\nYes\n\nDo I need to update anything else?\n\nNo.\n\nDepends-On: https://review.opendev.org/#/c/748023\nChange-Id: Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c\n(cherry picked from commit d14c326fbce9cec18990b25405490a24a0200c50)\n""}]",0,747671,446451757005c65ce970c03fb73f6d3b80e1fc02,11,4,2,16515,,,0,"Add validations-libs and validations-common to openstack_requirements

validations-libs and validations-common are needed to the
openstack_requirements

Answers to the basic requirements questions.

Is the library actively maintained?

Yes, the libraries is actively maintained and mainly used by TripleO projects

Is the library good code?

Yes the libraries is covered by CI and Unit tests

Is the library python 3 compatible?

Yes

Is the library license compatible?

Yes

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?

Yes

Is the function of this library already covered by other libraries in global-requirements.txt?

No

Is the library required for OpenStack project or related dev or infrastructure
setup? (Answer to this should be Yes, of course) Which?

Yes, it's required for python-tripleoclient and TripleO projects

If the library release is managed by the Openstack release process does it use
the cycle-with-intermediary release type?

Yes

Do I need to update anything else?

No.

Depends-On: https://review.opendev.org/#/c/748023
Change-Id: Idcf64b4c83f9004bb326f66c8c0da80bb8817a2c
(cherry picked from commit d14c326fbce9cec18990b25405490a24a0200c50)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/747671/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,406fe49f764f1694b434b74ceb9705b617dd55a6,validations/libs-stable/train,openstack/validations-common openstack/validations-libs,,2,0
openstack%2Fironic-python-agent~master~Ia9c49241d2a3bcde2c5e02d7713883668e2772a6,openstack/ironic-python-agent,master,Ia9c49241d2a3bcde2c5e02d7713883668e2772a6,Add fast-track CI job to IPA,NEW,2020-08-26 22:34:30.000000000,2020-08-27 00:30:44.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 22:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/42ede81fa73cb11bb8092d6d1b5c0776fa15863e', 'message': 'Add fast-track CI job to IPA\n\nChange-Id: Ia9c49241d2a3bcde2c5e02d7713883668e2772a6\n'}, {'number': 2, 'created': '2020-08-26 22:59:15.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/be7cefd066afe460f45b4b7f4bca70d6d18424f1', 'message': 'Add fast-track CI job to IPA\n\nChange-Id: Ia9c49241d2a3bcde2c5e02d7713883668e2772a6\n'}]",0,748321,be7cefd066afe460f45b4b7f4bca70d6d18424f1,4,3,2,11655,,,0,"Add fast-track CI job to IPA

Change-Id: Ia9c49241d2a3bcde2c5e02d7713883668e2772a6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/21/748321/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,42ede81fa73cb11bb8092d6d1b5c0776fa15863e,, - ironic-inspector-tempest-discovery-fast-track - ironic-inspector-tempest-discovery-fast-track,,2,0
openstack%2Foctavia-lib~master~Ic51131defb8d687185a7887b7ca578c4f1babaad,openstack/octavia-lib,master,Ic51131defb8d687185a7887b7ca578c4f1babaad,Add Proxy protocol version 2 support,MERGED,2020-08-20 21:39:34.000000000,2020-08-27 00:01:21.000000000,2020-08-26 23:58:57.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 21:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/bb3b8b82d4dd0fdb1a5da4146acbcc0bda88ad76', 'message': 'Add Proxy protocol version 2 support\n\nThis patch adds the required changes to support Proxy protocol\nversion 2.\n\nChange-Id: Ic51131defb8d687185a7887b7ca578c4f1babaad\nStory: 2005611\nTask: 30858\n'}, {'number': 2, 'created': '2020-08-26 18:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/257f0d5df788eeec7b88c208908fb1e991b3ae6f', 'message': 'Add Proxy protocol version 2 support\n\nThis patch adds the required changes to support Proxy protocol\nversion 2.\n\nChange-Id: Ic51131defb8d687185a7887b7ca578c4f1babaad\nStory: 2005611\nTask: 30858\n'}, {'number': 3, 'created': '2020-08-26 22:26:43.000000000', 'files': ['octavia_lib/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/fe022cdf14604206af783c8a0887c008c48fd053', 'message': 'Add Proxy protocol version 2 support\n\nThis patch adds the required changes to support Proxy protocol\nversion 2.\n\nChange-Id: Ic51131defb8d687185a7887b7ca578c4f1babaad\nStory: 2005611\nTask: 30858\n'}]",0,747296,fe022cdf14604206af783c8a0887c008c48fd053,18,3,3,11628,,,0,"Add Proxy protocol version 2 support

This patch adds the required changes to support Proxy protocol
version 2.

Change-Id: Ic51131defb8d687185a7887b7ca578c4f1babaad
Story: 2005611
Task: 30858
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/96/747296/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/common/constants.py'],1,bb3b8b82d4dd0fdb1a5da4146acbcc0bda88ad76,,"PROTOCOL_PROXYV2 = 'PROXYV2' PROTOCOL_TERMINATED_HTTPS, PROTOCOL_PROXY, PROTOCOL_PROXYV2, PROTOCOL_UDP, PROTOCOL_SCTP) PROTOCOL_PROXY, PROTOCOL_PROXYV2, PROTOCOL_UDP, PROTOCOL_SCTP)"," PROTOCOL_TERMINATED_HTTPS, PROTOCOL_PROXY, PROTOCOL_UDP, PROTOCOL_SCTP) PROTOCOL_PROXY, PROTOCOL_UDP, PROTOCOL_SCTP)",5,3
openstack%2Foctavia~master~I0154b83cb64952844a28895721694d3e2ff82be2,openstack/octavia,master,I0154b83cb64952844a28895721694d3e2ff82be2,Update devstack plugin,MERGED,2020-08-11 08:23:01.000000000,2020-08-27 00:00:40.000000000,2020-08-26 23:58:54.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 08:23:01.000000000', 'files': ['devstack/plugin.sh', 'devstack/README.md', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dac24cd7ec9d9d6d6a89a9ab3e099e93854807ff', 'message': 'Update devstack plugin\n\nThere is no reason to create internal and admin endpoints in DevStack,\nmost other services have stopped doing so a long time ago.\n\nAlso use the global SERVICE_PROTOCOL variable as default for\nOCTAVIA_PROTOCOL instead of ""http"", this will make us automatically\nuse the secure API access when the tls-proxy service is enabled.\n\nFix the instructions for using the devstack plugin, too.\n\nChange-Id: I0154b83cb64952844a28895721694d3e2ff82be2\n'}]",0,745637,dac24cd7ec9d9d6d6a89a9ab3e099e93854807ff,8,4,1,13252,,,0,"Update devstack plugin

There is no reason to create internal and admin endpoints in DevStack,
most other services have stopped doing so a long time ago.

Also use the global SERVICE_PROTOCOL variable as default for
OCTAVIA_PROTOCOL instead of ""http"", this will make us automatically
use the secure API access when the tls-proxy service is enabled.

Fix the instructions for using the devstack plugin, too.

Change-Id: I0154b83cb64952844a28895721694d3e2ff82be2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/745637/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/README.md', 'devstack/settings']",3,dac24cd7ec9d9d6d6a89a9ab3e099e93854807ff,devstack,OCTAVIA_PROTOCOL=${OCTAVIA_PROTOCOL:-$SERVICE_PROTOCOL},"OCTAVIA_PROTOCOL=${OCTAVIA_PROTOCOL:-""http""}",2,8
openstack%2Foctavia-lib~master~Iea9fdbfaee7c7965adcc65825fe6422f87b06de0,openstack/octavia-lib,master,Iea9fdbfaee7c7965adcc65825fe6422f87b06de0,Add alpn_protocols to the listener data model,MERGED,2020-08-03 16:12:40.000000000,2020-08-27 00:00:21.000000000,2020-08-26 23:58:56.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 16:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b942a1ed6a013d74a184fc03b8a9db23c1e3e283', 'message': 'Add alpn_protocols to the listener data model\n\nChange-Id: Iea9fdbfaee7c7965adcc65825fe6422f87b06de0\n'}, {'number': 2, 'created': '2020-08-04 11:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/afdc51242662ee8f2639bc5c6b196f4d331e7efa', 'message': 'Add alpn_protocols to the listener data model\n\nChange-Id: Iea9fdbfaee7c7965adcc65825fe6422f87b06de0\n'}, {'number': 3, 'created': '2020-08-26 18:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/31046d99995617b9554b5e38cf03f69713e5f0b3', 'message': 'Add alpn_protocols to the listener data model\n\nChange-Id: Iea9fdbfaee7c7965adcc65825fe6422f87b06de0\n'}, {'number': 4, 'created': '2020-08-26 22:24:11.000000000', 'files': ['releasenotes/notes/add-listener-alpn-protocols-ecb49db86b956c71.yaml', 'octavia_lib/common/constants.py', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b262fc9ad346aee6c1ac08bfd142451cd55571ea', 'message': 'Add alpn_protocols to the listener data model\n\nChange-Id: Iea9fdbfaee7c7965adcc65825fe6422f87b06de0\n'}]",2,744519,b262fc9ad346aee6c1ac08bfd142451cd55571ea,22,5,4,6469,,,0,"Add alpn_protocols to the listener data model

Change-Id: Iea9fdbfaee7c7965adcc65825fe6422f87b06de0
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/19/744519/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-listener-alpn-protocols-ecb49db86b956c71.yaml', 'octavia_lib/common/constants.py', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py']",4,b942a1ed6a013d74a184fc03b8a9db23c1e3e283,http2," allowed_cidrs=Unset, tls_versions=Unset, tls_ciphers=Unset, alpn_protocols=Unset): self.alpn_protocols = alpn_protocols"," allowed_cidrs=Unset, tls_versions=Unset, tls_ciphers=Unset):",25,3
openstack%2Fos-brick~master~I9cb2911cba9f8f3310d6132bb8f96b45bf5b0708,openstack/os-brick,master,I9cb2911cba9f8f3310d6132bb8f96b45bf5b0708,Remove the HGST connector,MERGED,2020-08-07 19:26:30.000000000,2020-08-26 23:32:53.000000000,2020-08-26 14:24:21.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-07 19:26:30.000000000', 'files': ['os_brick/initiator/__init__.py', 'releasenotes/notes/remove-hgst-daa7f07c307974d0.yaml', 'os_brick/initiator/connector.py', 'os_brick/initiator/connectors/hgst.py', 'os_brick/tests/initiator/connectors/test_hgst.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/54c8166eb4f9619487c54f151648cd4e9cd54d02', 'message': 'Remove the HGST connector\n\nThe HGST driver was removed from Cinder in the Stein release. This\ncleans up its connector code.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I9cb2911cba9f8f3310d6132bb8f96b45bf5b0708\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,745397,54c8166eb4f9619487c54f151648cd4e9cd54d02,56,18,1,11904,,,0,"Remove the HGST connector

The HGST driver was removed from Cinder in the Stein release. This
cleans up its connector code.

Depends-on: https://review.opendev.org/745393

Change-Id: I9cb2911cba9f8f3310d6132bb8f96b45bf5b0708
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/97/745397/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/__init__.py', 'releasenotes/notes/remove-hgst-daa7f07c307974d0.yaml', 'os_brick/initiator/connector.py', 'os_brick/initiator/connectors/hgst.py', 'os_brick/tests/initiator/connectors/test_hgst.py']",5,54c8166eb4f9619487c54f151648cd4e9cd54d02,major-bump,,"# (c) Copyright 2013 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from unittest import mock from oslo_concurrency import processutils as putils from os_brick import exception from os_brick.initiator import connector from os_brick.initiator.connectors import hgst from os_brick.tests.initiator import test_connector class HGSTConnectorTestCase(test_connector.ConnectorTestCase): """"""Test cases for HGST initiator class."""""" IP_OUTPUT = """""" 1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet 169.254.169.254/32 scope link lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: em1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq master link/ether 00:25:90:d9:18:08 brd ff:ff:ff:ff:ff:ff inet6 fe80::225:90ff:fed9:1808/64 scope link valid_lft forever preferred_lft forever 3: em2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state link/ether 00:25:90:d9:18:09 brd ff:ff:ff:ff:ff:ff inet 192.168.0.23/24 brd 192.168.0.255 scope global em2 valid_lft forever preferred_lft forever inet6 fe80::225:90ff:fed9:1809/64 scope link valid_lft forever preferred_lft forever """""" DOMAIN_OUTPUT = """"""localhost"""""" DOMAIN_FAILED = """"""this.better.not.resolve.to.a.name.or.else"""""" SET_APPHOST_OUTPUT = """""" VLVM_SET_APPHOSTS0000000395 Request Succeeded """""" def setUp(self): super(HGSTConnectorTestCase, self).setUp() self.connector = hgst.HGSTConnector( None, execute=self._fake_exec) self._fail_set_apphosts = False self._fail_ip = False self._fail_domain_list = False def _fake_exec_set_apphosts(self, *cmd): if self._fail_set_apphosts: raise putils.ProcessExecutionError(None, None, 1) else: return self.SET_APPHOST_OUTPUT, '' def _fake_exec_ip(self, *cmd): if self._fail_ip: # Remove localhost so there is no IP match return self.IP_OUTPUT.replace(""127.0.0.1"", ""x.x.x.x""), '' else: return self.IP_OUTPUT, '' def _fake_exec_domain_list(self, *cmd): if self._fail_domain_list: return self.DOMAIN_FAILED, '' else: return self.DOMAIN_OUTPUT, '' def _fake_exec(self, *cmd, **kwargs): self.cmdline = "" "".join(cmd) if cmd[0] == ""ip"": return self._fake_exec_ip(*cmd) elif cmd[0] == ""vgc-cluster"": if cmd[1] == ""domain-list"": return self._fake_exec_domain_list(*cmd) elif cmd[1] == ""space-set-apphosts"": return self._fake_exec_set_apphosts(*cmd) else: return '', '' def test_factory(self): """"""Can we instantiate a HGSTConnector of the right kind?"""""" obj = connector.InitiatorConnector.factory('HGST', None, arch='x86_64') self.assertEqual(""HGSTConnector"", obj.__class__.__name__) def test_get_search_path(self): expected = ""/dev"" actual = self.connector.get_search_path() self.assertEqual(expected, actual) @mock.patch.object(os.path, 'exists', return_value=True) def test_get_volume_paths(self, mock_exists): cprops = {'name': 'space', 'noremovehost': 'stor1'} path = ""/dev/%s"" % cprops['name'] expected = [path] actual = self.connector.get_volume_paths(cprops) self.assertEqual(expected, actual) def test_connect_volume(self): """"""Tests that a simple connection succeeds"""""" self._fail_set_apphosts = False self._fail_ip = False self._fail_domain_list = False cprops = {'name': 'space', 'noremovehost': 'stor1'} dev_info = self.connector.connect_volume(cprops) self.assertEqual('block', dev_info['type']) self.assertEqual('space', dev_info['device']) self.assertEqual('/dev/space', dev_info['path']) def test_get_connector_properties(self): props = hgst.HGSTConnector.get_connector_properties( 'sudo', multipath=True, enforce_multipath=True) expected_props = {} self.assertEqual(expected_props, props) def test_connect_volume_nohost_fail(self): """"""This host should not be found, connect should fail."""""" self._fail_set_apphosts = False self._fail_ip = True self._fail_domain_list = False cprops = {'name': 'space', 'noremovehost': 'stor1'} self.assertRaises(exception.BrickException, self.connector.connect_volume, cprops) def test_connect_volume_nospace_fail(self): """"""The space command will fail, exception to be thrown"""""" self._fail_set_apphosts = True self._fail_ip = False self._fail_domain_list = False cprops = {'name': 'space', 'noremovehost': 'stor1'} self.assertRaises(exception.BrickException, self.connector.connect_volume, cprops) def test_disconnect_volume(self): """"""Simple disconnection should pass and disconnect me"""""" self._fail_set_apphosts = False self._fail_ip = False self._fail_domain_list = False self._cmdline = """" cprops = {'name': 'space', 'noremovehost': 'stor1'} self.connector.disconnect_volume(cprops, None) exp_cli = (""vgc-cluster space-set-apphosts -n space "" ""-A localhost --action DELETE"") self.assertEqual(exp_cli, self.cmdline) def test_disconnect_volume_nohost(self): """"""Should not run a setapphosts because localhost will"""""" """"""be the noremotehost"""""" self._fail_set_apphosts = False self._fail_ip = False self._fail_domain_list = False self._cmdline = """" cprops = {'name': 'space', 'noremovehost': 'localhost'} self.connector.disconnect_volume(cprops, None) # The last command should be the IP listing, not set apphosts exp_cli = (""ip addr list"") self.assertEqual(exp_cli, self.cmdline) def test_disconnect_volume_fails(self): """"""The set-apphosts should fail, exception to be thrown"""""" self._fail_set_apphosts = True self._fail_ip = False self._fail_domain_list = False self._cmdline = """" cprops = {'name': 'space', 'noremovehost': 'stor1'} self.assertRaises(exception.BrickException, self.connector.disconnect_volume, cprops, None) def test_bad_connection_properties(self): """"""Send in connection_properties missing required fields"""""" # Invalid connection_properties self.assertRaises(exception.BrickException, self.connector.connect_volume, None) # Name required for connect_volume cprops = {'noremovehost': 'stor1'} self.assertRaises(exception.BrickException, self.connector.connect_volume, cprops) # Invalid connection_properties self.assertRaises(exception.BrickException, self.connector.disconnect_volume, None, None) # Name and noremovehost needed for disconnect_volume cprops = {'noremovehost': 'stor1'} self.assertRaises(exception.BrickException, self.connector.disconnect_volume, cprops, None) cprops = {'name': 'space'} self.assertRaises(exception.BrickException, self.connector.disconnect_volume, cprops, None) def test_extend_volume(self): cprops = {'name': 'space', 'noremovehost': 'stor1'} self.assertRaises(NotImplementedError, self.connector.extend_volume, cprops) ",6,406
openstack%2Fglance~stable%2Fussuri~Iac75956e314ec6f41db18430486bd8be9754e780,openstack/glance,stable/ussuri,Iac75956e314ec6f41db18430486bd8be9754e780,Make import task capable of running as admin on behalf of user,MERGED,2020-08-25 18:57:25.000000000,2020-08-26 23:13:15.000000000,2020-08-26 23:11:44.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/eb08fbae0f0883fd64babc1215aeb6ba46c0c15b', 'message': 'Make import task capable of running as admin on behalf of user\n\nThis makes the api_image_import task capable of running as an admin on\nbehalf of a user if so authorized by the API. It includes a new object\ncalled ImportActionWrapper which provides a bundle of utility methods\nwhich can be run either against the user-authorized or admin-authorized\nImageRepo passed in from the API. It encapsulates all the actions\nwe are able and willing to run as an admin for the user.\n\nThis is currently not drivable by the API because the policy check is\nstill statically defined as ""admin or owner"" but this change is\noffered without any needed modification to the functional tests to\nprove that it does not regress existing functionality. The following\npatch will introduce a more robust knob for allowing users to do this,\nand it brings the functional test changes with it.\n\nChanges:\n - Removed the change to the images API to pass in an admin repo\n - Reinstated the ImportActionWrapper usage that was removed from\n   backport commit 2b3ce07c32624f9987df87520c5ff8d538c8e5fd\n\nChange-Id: Iac75956e314ec6f41db18430486bd8be9754e780\n(cherry picked from commit 2fd0c2573311db6a50228ed22adf8bc2b5638cfe)\n'}]",0,748002,eb08fbae0f0883fd64babc1215aeb6ba46c0c15b,8,3,1,4393,,,0,"Make import task capable of running as admin on behalf of user

This makes the api_image_import task capable of running as an admin on
behalf of a user if so authorized by the API. It includes a new object
called ImportActionWrapper which provides a bundle of utility methods
which can be run either against the user-authorized or admin-authorized
ImageRepo passed in from the API. It encapsulates all the actions
we are able and willing to run as an admin for the user.

This is currently not drivable by the API because the policy check is
still statically defined as ""admin or owner"" but this change is
offered without any needed modification to the functional tests to
prove that it does not regress existing functionality. The following
patch will introduce a more robust knob for allowing users to do this,
and it brings the functional test changes with it.

Changes:
 - Removed the change to the images API to pass in an admin repo
 - Reinstated the ImportActionWrapper usage that was removed from
   backport commit 2b3ce07c32624f9987df87520c5ff8d538c8e5fd

Change-Id: Iac75956e314ec6f41db18430486bd8be9754e780
(cherry picked from commit 2fd0c2573311db6a50228ed22adf8bc2b5638cfe)
",git fetch https://review.opendev.org/openstack/glance refs/changes/02/748002/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",2,eb08fbae0f0883fd64babc1215aeb6ba46c0c15b,bug/1884596,"from glance.common.scripts.image_import import main as image_importfrom glance_store import exceptions as store_exceptions wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) wrapper, ""http://url"", ""store1"", False, wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) wrapper, ""http://url"", ""store1"", True, wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) wrapper, ""http://url"", ""store1"", True, wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) wrapper, ""http://url"", ""store1"", False, wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1) wrapper, 'anything!') wrapper = mock.MagicMock() wrapper, 'copy-image') wrapper.__enter__.return_value.set_image_status.assert_not_called() wrapper = mock.MagicMock() wrapper, 'glance-direct') action = wrapper.__enter__.return_value action.set_image_status.assert_called_once_with('queued') def test_init_copy_flow_as_non_owner(self, mock_import): img_repo = mock.MagicMock() admin_repo = mock.MagicMock() fake_img = mock.MagicMock() fake_img.id = IMAGE_ID1 fake_img.status = 'active' fake_img.extra_properties = {} admin_repo.get.return_value = fake_img import_flow.get_flow(task_id=TASK_ID1, task_type=TASK_TYPE, task_repo=mock.MagicMock(), image_repo=img_repo, admin_repo=admin_repo, image_id=IMAGE_ID1, import_req=fake_req, backend=['cheap']) # Assert that we saved the image with the admin repo instead of the # user-context one at the end of get_flow() when we initialize the # parameters. admin_repo.save.assert_called_once_with(fake_img, 'active') img_repo.save.assert_not_called() class TestImportActionWrapper(test_utils.BaseTestCase): def test_wrapper_success(self): mock_repo = mock.MagicMock() wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1) with wrapper as action: self.assertIsInstance(action, import_flow._ImportActions) mock_repo.get.assert_called_once_with(IMAGE_ID1) mock_repo.save.assert_called_once_with( mock_repo.get.return_value, mock_repo.get.return_value.status) def test_wrapper_failure(self): mock_repo = mock.MagicMock() wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1) class SpecificError(Exception): pass try: with wrapper: raise SpecificError('some failure') except SpecificError: # NOTE(danms): Make sure we only caught the test exception # and aren't hiding anything else pass mock_repo.get.assert_called_once_with(IMAGE_ID1) mock_repo.save.assert_not_called() @mock.patch.object(import_flow, 'LOG') def test_wrapper_logs_status(self, mock_log): mock_repo = mock.MagicMock() mock_image = mock_repo.get.return_value wrapper = import_flow.ImportActionWrapper(mock_repo, IMAGE_ID1) mock_image.status = 'foo' with wrapper as action: action.set_image_status('bar') mock_log.debug.assert_called_once_with( 'Image %(image_id)s status changing from ' '%(old_status)s to %(new_status)s', {'image_id': IMAGE_ID1, 'old_status': 'foo', 'new_status': 'bar'}) self.assertEqual('bar', mock_image.status) class TestImportActions(test_utils.BaseTestCase): def setUp(self): super(TestImportActions, self).setUp() self.image = mock.MagicMock() self.image.image_id = IMAGE_ID1 self.image.status = 'active' self.image.extra_properties = {'speed': '88mph'} self.image.checksum = mock.sentinel.checksum self.image.os_hash_algo = mock.sentinel.hash_algo self.image.os_hash_value = mock.sentinel.hash_value self.image.size = mock.sentinel.size self.actions = import_flow._ImportActions(self.image) def test_image_property_proxies(self): self.assertEqual(IMAGE_ID1, self.actions.image_id) self.assertEqual('active', self.actions.image_status) def test_merge_store_list(self): # Addition with no existing property works self.actions.merge_store_list('stores', ['foo', 'bar']) self.assertEqual({'speed': '88mph', 'stores': 'bar,foo'}, self.image.extra_properties) # Addition adds to the list self.actions.merge_store_list('stores', ['baz']) self.assertEqual('bar,baz,foo', self.image.extra_properties['stores']) # Removal preserves the rest self.actions.merge_store_list('stores', ['foo'], subtract=True) self.assertEqual('bar,baz', self.image.extra_properties['stores']) # Duplicates aren't duplicated self.actions.merge_store_list('stores', ['bar']) self.assertEqual('bar,baz', self.image.extra_properties['stores']) # Removing the last store leaves the key empty but present self.actions.merge_store_list('stores', ['baz', 'bar'], subtract=True) self.assertEqual('', self.image.extra_properties['stores']) # Make sure we ignore falsey stores self.actions.merge_store_list('stores', ['', None]) self.assertEqual('', self.image.extra_properties['stores']) @mock.patch.object(import_flow, 'LOG') def test_merge_store_logs_info(self, mock_log): # Removal from non-present key logs debug, but does not fail self.actions.merge_store_list('stores', ['foo,bar'], subtract=True) mock_log.debug.assert_has_calls([ mock.call( 'Stores %(stores)s not in %(key)s for image %(image_id)s', {'image_id': IMAGE_ID1, 'key': 'stores', 'stores': 'foo,bar'}), mock.call( 'Image %(image_id)s %(key)s=%(stores)s', {'image_id': IMAGE_ID1, 'key': 'stores', 'stores': ''}), ]) mock_log.debug.reset_mock() self.actions.merge_store_list('stores', ['foo']) self.assertEqual('foo', self.image.extra_properties['stores']) mock_log.debug.reset_mock() # Removal from a list where store is not present logs debug, # but does not fail self.actions.merge_store_list('stores', ['bar'], subtract=True) self.assertEqual('foo', self.image.extra_properties['stores']) mock_log.debug.assert_has_calls([ mock.call( 'Stores %(stores)s not in %(key)s for image %(image_id)s', {'image_id': IMAGE_ID1, 'key': 'stores', 'stores': 'bar'}), mock.call( 'Image %(image_id)s %(key)s=%(stores)s', {'image_id': IMAGE_ID1, 'key': 'stores', 'stores': 'foo'}), ]) def test_store_list_helpers(self): self.actions.add_importing_stores(['foo', 'bar', 'baz']) self.actions.remove_importing_stores(['bar']) self.actions.add_failed_stores(['foo', 'bar']) self.actions.remove_failed_stores(['foo']) self.assertEqual({'speed': '88mph', 'os_glance_importing_to_stores': 'baz,foo', 'os_glance_failed_import': 'bar'}, self.image.extra_properties) @mock.patch.object(image_import, 'set_image_data') def test_set_image_data(self, mock_sid): self.assertEqual(mock_sid.return_value, self.actions.set_image_data( mock.sentinel.uri, mock.sentinel.task_id, mock.sentinel.backend, mock.sentinel.set_active)) mock_sid.assert_called_once_with( self.image, mock.sentinel.uri, mock.sentinel.task_id, backend=mock.sentinel.backend, set_active=mock.sentinel.set_active) def test_remove_location_for_store(self): self.image.locations = [ {}, {'metadata': {}}, {'metadata': {'store': 'foo'}}, {'metadata': {'store': 'bar'}}, ] self.actions.remove_location_for_store('foo') self.assertEqual([{}, {'metadata': {}}, {'metadata': {'store': 'bar'}}], self.image.locations) # Add a second definition for bar and make sure only one is removed self.image.locations.append({'metadata': {'store': 'bar'}}) self.actions.remove_location_for_store('bar') self.assertEqual([{}, {'metadata': {}}, {'metadata': {'store': 'bar'}}], self.image.locations) def test_remove_location_for_store_last_location(self): self.image.locations = [{'metadata': {'store': 'foo'}}] self.actions.remove_location_for_store('foo') self.assertEqual([], self.image.locations) self.assertIsNone(self.image.checksum) self.assertIsNone(self.image.os_hash_algo) self.assertIsNone(self.image.os_hash_value) self.assertIsNone(self.image.size) @mock.patch.object(import_flow, 'LOG') def test_remove_location_for_store_pop_failures(self, mock_log): class TestList(list): def pop(self): pass self.image.locations = TestList([{'metadata': {'store': 'foo'}}]) with mock.patch.object(self.image.locations, 'pop', new_callable=mock.PropertyMock) as mock_pop: mock_pop.side_effect = store_exceptions.NotFound(image='image') self.actions.remove_location_for_store('foo') mock_log.warning.assert_called_once_with( _('Error deleting from store foo when reverting.')) mock_log.warning.reset_mock() mock_pop.side_effect = store_exceptions.Forbidden() self.actions.remove_location_for_store('foo') mock_log.warning.assert_called_once_with( _('Error deleting from store foo when reverting.')) mock_log.warning.reset_mock() mock_pop.side_effect = Exception self.actions.remove_location_for_store('foo') mock_log.warning.assert_called_once_with( _('Unexpected exception when deleting from store foo.')) mock_log.warning.reset_mock()","from glance_store import exceptions as store_exceptionsfrom glance.api import authorizationfrom glance.common import exception img_repo, ""http://url"", IMAGE_ID1, ""store1"", False, img_repo, ""http://url"", IMAGE_ID1, ""store1"", True, img_repo, ""http://url"", IMAGE_ID1, ""store1"", True, img_repo, ""http://url"", IMAGE_ID1, ""store1"", False, mock_repo, IMAGE_ID1, 'anything!') fake_img = mock.MagicMock(status='active') mock_repo = mock.MagicMock() mock_repo.get.return_value = fake_img mock_repo, IMAGE_ID1, 'copy-image') mock_repo.save_image.assert_not_called() fake_img = mock.MagicMock(status='importing') mock_repo = mock.MagicMock() mock_repo.get.return_value = fake_img mock_repo, IMAGE_ID1, 'glance-direct') mock_repo.save_image.assert_called_once() def test_copy_as_non_owner(self, mock_import): img_repo_db = mock.MagicMock() img_repo = authorization.ImageRepoProxy(img_repo_db, self.context) # FIXME(danms): Right now, this fails with Forbidden because we # don't own the image self.assertRaises(exception.Forbidden, import_flow.get_flow, task_id=TASK_ID1, task_type=TASK_TYPE, task_repo=mock.MagicMock(), image_repo=img_repo, image_id=IMAGE_ID1, import_req=fake_req, backend=['cheap'])",477,117
openstack%2Ftripleo-common~stable%2Ftrain~Id13028ab911ba91d67787ca8247effc02017fcbc,openstack/tripleo-common,stable/train,Id13028ab911ba91d67787ca8247effc02017fcbc,tcib: move cradox to gnocchi-base & enable ci on scenario001,MERGED,2020-07-15 14:42:33.000000000,2020-08-26 23:05:47.000000000,2020-08-26 23:01:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-15 14:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f8b025a9616a3abfff90924bbdf205e1526900c', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 2, 'created': '2020-07-15 22:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/babc6ccab990f4cdba63176ddba7ad0cc94bd958', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 3, 'created': '2020-07-24 01:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/af7c8236b1da3f78730f5e3e9dce10ad9b190aaf', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 4, 'created': '2020-07-27 15:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ba653345a553c935cd5bae16671be45433465d1', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 5, 'created': '2020-07-27 15:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1035d25b60996f415ffc0378dbc3b8cc12947d25', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 6, 'created': '2020-07-29 02:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2992b70e6c4f8f92dbc7b13bc21c3479a1b40d7a', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 7, 'created': '2020-07-31 13:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/981373244db19a1e434d7b2fb6b84c5362bf22df', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 8, 'created': '2020-07-31 13:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4d3e3b8a0f0e426f381afe499b663fb4487f65b6', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 9, 'created': '2020-08-10 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3fa8a199900921f0875624a77f9c4e784d33bf24', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 10, 'created': '2020-08-10 20:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9c32855ba5213558348c1f1e17a9c36ce4cc7d70', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 11, 'created': '2020-08-11 12:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f290607d3e8d338e26cddf19dcdf384b6fdc22ea', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 12, 'created': '2020-08-13 01:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/07445de41bf22782d61121b37c5c015ee463350b', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 13, 'created': '2020-08-17 13:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eec6684d9218ee0099901cfe7bfd5c8e3a067ee9', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 14, 'created': '2020-08-17 15:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb746e39ebdd979c1b34b122ecf70d8cece703ae', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 15, 'created': '2020-08-18 12:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c2a0736f26895f73772910e11934af69587fab0', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 16, 'created': '2020-08-19 21:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f8afb7338986d756b56bb6a9d5f83b1bdb5626e8', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}, {'number': 17, 'created': '2020-08-20 21:01:03.000000000', 'files': ['container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/panko-api/panko-api.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'zuul.d/layout.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/365bfd518f7c8b9d06b88f3751adf857a4a8edd9', 'message': ""tcib: move cradox to gnocchi-base & enable ci on scenario001\n\ngnocchi-db-sync requires cradox to be installed if RBD backend is used.\nUntil we fix it properly in the distgit, let's make sure cradox is in\nthe base image for gnocchi. It also requires httpd and deps for the\ndv_sync to operate when Ceph is installed.\n\nWith that patch, we can now test container builds on scenario001.\n\nNote: adding panko-api container image, required in Train.\n\nChange-Id: Id13028ab911ba91d67787ca8247effc02017fcbc\n(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)\n(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)\n""}]",0,741228,365bfd518f7c8b9d06b88f3751adf857a4a8edd9,147,11,17,3153,,,0,"tcib: move cradox to gnocchi-base & enable ci on scenario001

gnocchi-db-sync requires cradox to be installed if RBD backend is used.
Until we fix it properly in the distgit, let's make sure cradox is in
the base image for gnocchi. It also requires httpd and deps for the
dv_sync to operate when Ceph is installed.

With that patch, we can now test container builds on scenario001.

Note: adding panko-api container image, required in Train.

Change-Id: Id13028ab911ba91d67787ca8247effc02017fcbc
(cherry picked from commit 7ecc263401018ec657e3423edcd9974bd8a2754f)
(cherry picked from commit 55573ec43fdc9ffddbbf9928ab4b16df8edc56c3)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/741228/7 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'zuul.d/layout.yaml']",3,8f8b025a9616a3abfff90924bbdf205e1526900c,tcib/train, vars: build_container_images: true files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$,,19,6
openstack%2Foctavia~master~I82d877a41d7339891a388e26d149fd65cb61c727,openstack/octavia,master,I82d877a41d7339891a388e26d149fd65cb61c727,Set Grub timeout to 0 for fast boot times,MERGED,2020-08-12 11:03:28.000000000,2020-08-26 22:56:20.000000000,2020-08-26 22:53:42.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-12 11:03:28.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/611af6008a3b76c0e1686758442b0afd5c56a6f4', 'message': 'Set Grub timeout to 0 for fast boot times\n\nThe default Grub timeout is 5 set by the bootloader element. Setting\ntimeout to zero helps reduce boot times.\n\nChange-Id: I82d877a41d7339891a388e26d149fd65cb61c727\n'}]",0,745831,611af6008a3b76c0e1686758442b0afd5c56a6f4,10,5,1,6469,,,0,"Set Grub timeout to 0 for fast boot times

The default Grub timeout is 5 set by the bootloader element. Setting
timeout to zero helps reduce boot times.

Change-Id: I82d877a41d7339891a388e26d149fd65cb61c727
",git fetch https://review.opendev.org/openstack/octavia refs/changes/31/745831/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,611af6008a3b76c0e1686758442b0afd5c56a6f4,,# Set Grub timeout to 0 (no timeout) for fast boot times export DIB_GRUB_TIMEOUT=${DIB_GRUB_TIMEOUT:-0} ,,3,0
openstack%2Foctavia~master~If9aacfd3ccc7910d2324ea9ff11336236fab2929,openstack/octavia,master,If9aacfd3ccc7910d2324ea9ff11336236fab2929,Add octavia-amphora-image-build-live jobs,MERGED,2020-08-12 10:09:17.000000000,2020-08-26 22:46:47.000000000,2020-08-26 22:41:59.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 10:09:17.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b3580d9c2544d52007cdffd6beebb7234c9e64e', 'message': 'Add octavia-amphora-image-build-live jobs\n\nThese two new jobs are primarily meant to be included in\ndiskimage-builder check queue to help flag regressions impacting our\nUbuntu and CentOS amphora images.\n\nChange-Id: If9aacfd3ccc7910d2324ea9ff11336236fab2929\n'}]",0,745820,6b3580d9c2544d52007cdffd6beebb7234c9e64e,15,5,1,6469,,,0,"Add octavia-amphora-image-build-live jobs

These two new jobs are primarily meant to be included in
diskimage-builder check queue to help flag regressions impacting our
Ubuntu and CentOS amphora images.

Change-Id: If9aacfd3ccc7910d2324ea9ff11336236fab2929
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/745820/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,6b3580d9c2544d52007cdffd6beebb7234c9e64e,, - job: name: octavia-amphora-image-build-live-bionic parent: octavia-amphora-image-build description: | Builds an Ubuntu Bionic amphora image using diskimage-builder from Git master. This job does not publish the image. required-projects: - openstack/diskimage-builder - job: name: octavia-amphora-image-build-live-centos8 parent: octavia-amphora-image-build description: | Builds a CentOS 8 amphora image using diskimage-builder from Git master. This job does not publish the image. required-projects: - openstack/diskimage-builder vars: amphora_os: centos amphora_os_release: 8,,21,0
openstack%2Foctavia~master~Icd3ff0162def1820940d49e36308fc976bfde364,openstack/octavia,master,Icd3ff0162def1820940d49e36308fc976bfde364,Set CentOS amphora image size back to default value,MERGED,2020-08-21 07:54:57.000000000,2020-08-26 22:44:18.000000000,2020-08-26 22:39:12.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-21 07:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/02ca6fce42b519530e5c43aa640453be8254168f', 'message': 'Set CentOS amphora image size back to default value\n\nDIB reduced the size of CentOS minimal images to the point CentOS-based\namphora images fit back in the default 2 GB disk.\n\nChange-Id: Icd3ff0162def1820940d49e36308fc976bfde364\n'}, {'number': 2, 'created': '2020-08-21 15:48:46.000000000', 'files': ['diskimage-create/diskimage-create.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/17c856dbcbbdbbc39a1bc6d3adec52140033d9b1', 'message': 'Set CentOS amphora image size back to default value\n\nDIB reduced the size of CentOS minimal images to the point CentOS-based\namphora images fit back in the default 2 GB disk.\n\nChange-Id: Icd3ff0162def1820940d49e36308fc976bfde364\n'}]",0,747353,17c856dbcbbdbbc39a1bc6d3adec52140033d9b1,15,5,2,6469,,,0,"Set CentOS amphora image size back to default value

DIB reduced the size of CentOS minimal images to the point CentOS-based
amphora images fit back in the default 2 GB disk.

Change-Id: Icd3ff0162def1820940d49e36308fc976bfde364
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/747353/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/diskimage-create.sh', 'zuul.d/jobs.yaml']",2,02ca6fce42b519530e5c43aa640453be8254168f,,, amphora_image_size: 3,2,3
openstack%2Fpython-tripleoclient~stable%2Ftrain~I932482e097d62f46e02eb035435d2bc0d5548b2a,openstack/python-tripleoclient,stable/train,I932482e097d62f46e02eb035435d2bc0d5548b2a,Allow usage of duplicated IPs for undercloud config,MERGED,2020-08-22 02:45:48.000000000,2020-08-26 22:41:21.000000000,2020-08-26 22:37:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-22 02:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/08d0b777c17c09f36fcf2b03822190c68843fcd7', 'message': ""Allow usage of duplicated IPs for undercloud config\n\nChange 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation\nto avoid duplicated usage of undercloud IPs, but in fact we don't need\nto ensure complete unieqness of local_ip, undercloud_admin_host and\nundercloud_public_host, but it should be enough if local_ip and\nundercloud_admin_host are different, because public endpoints should\nlisten on different ports when ssl is enabled.\n\nThis patch eases the validation introduced by the previous patch, so\nthat we allow the deployment especially with the same ip used for\npublic_host and admin_host, which was allowed in old releases.\n\nDepends-On: https://review.opendev.org/746671\nChange-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a\nRelated-Bug: #1832168\nRelated: RHBZ#1868910\n(cherry picked from commit 5b246e4f1aa86f8fe2cadb5fccf087dafa36523e)\n""}, {'number': 2, 'created': '2020-08-24 15:20:23.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e7a8e76b1db36e1e0c9bebfdceb0d73d72f459d', 'message': ""Allow usage of duplicated IPs for undercloud config\n\nChange 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation\nto avoid duplicated usage of undercloud IPs, but in fact we don't need\nto ensure complete unieqness of local_ip, undercloud_admin_host and\nundercloud_public_host, but it should be enough if local_ip and\nundercloud_admin_host are different, because public endpoints should\nlisten on different ports when ssl is enabled.\n\nThis patch eases the validation introduced by the previous patch, so\nthat we allow the deployment especially with the same ip used for\npublic_host and admin_host, which was allowed in old releases.\n\nDepends-On: https://review.opendev.org/747480\nChange-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a\nRelated-Bug: #1832168\nRelated: RHBZ#1868910\n(cherry picked from commit 5b246e4f1aa86f8fe2cadb5fccf087dafa36523e)\n""}]",0,747509,8e7a8e76b1db36e1e0c9bebfdceb0d73d72f459d,10,3,2,3153,,,0,"Allow usage of duplicated IPs for undercloud config

Change 2600260be5ad99da36775e470758591d8fcd2ca9 introduced validation
to avoid duplicated usage of undercloud IPs, but in fact we don't need
to ensure complete unieqness of local_ip, undercloud_admin_host and
undercloud_public_host, but it should be enough if local_ip and
undercloud_admin_host are different, because public endpoints should
listen on different ports when ssl is enabled.

This patch eases the validation introduced by the previous patch, so
that we allow the deployment especially with the same ip used for
public_host and admin_host, which was allowed in old releases.

Depends-On: https://review.opendev.org/747480
Change-Id: I932482e097d62f46e02eb035435d2bc0d5548b2a
Related-Bug: #1832168
Related: RHBZ#1868910
(cherry picked from commit 5b246e4f1aa86f8fe2cadb5fccf087dafa36523e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/747509/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,08d0b777c17c09f36fcf2b03822190c68843fcd7,RHBZ#1868910-stable/train, undercloud_config._process_network_args(env) undercloud_config._process_network_args(env)," self.assertRaises(exceptions.InvalidConfiguration, undercloud_config._process_network_args, env) self.assertRaises(exceptions.InvalidConfiguration, undercloud_config._process_network_args, env)",5,15
openstack%2Foctavia~master~I9cbf9c4cdf8d8b8bf8d896b2d59d45d0ee1d4fc5,openstack/octavia,master,I9cbf9c4cdf8d8b8bf8d896b2d59d45d0ee1d4fc5,Correct a typo in the document,MERGED,2020-08-20 07:36:16.000000000,2020-08-26 22:39:14.000000000,2020-08-26 22:39:14.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 07:36:16.000000000', 'files': ['api-ref/source/v2/general.inc'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d1da0c1cd7d07fdf3f58ead4b812956dc28abf7d', 'message': 'Correct a typo in the document\n\nChange-Id: I9cbf9c4cdf8d8b8bf8d896b2d59d45d0ee1d4fc5\n'}]",0,747116,d1da0c1cd7d07fdf3f58ead4b812956dc28abf7d,7,3,1,32163,,,0,"Correct a typo in the document

Change-Id: I9cbf9c4cdf8d8b8bf8d896b2d59d45d0ee1d4fc5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/747116/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/general.inc'],1,d1da0c1cd7d07fdf3f58ead4b812956dc28abf7d,,"When supplying a list of tags, the tags should be provided in a comma separated","When supplying a list of tags, the tags should be provided in a comma seperated",1,1
openstack%2Fproject-config~master~I9809fdf1745ac8573502023c63f0f20e98862af1,openstack/project-config,master,I9809fdf1745ac8573502023c63f0f20e98862af1,Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/,MERGED,2020-07-31 09:53:23.000000000,2020-08-26 22:30:51.000000000,2020-08-26 22:05:23.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-31 09:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/edc2cf6312ff976ee4a41370bfd204742bfd0400', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}, {'number': 2, 'created': '2020-07-31 11:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8dbf82c98d6b2eba7d89b6b14433fafcfa048a24', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}, {'number': 3, 'created': '2020-08-06 06:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a420306552c79162afb7b7d50b6cb011104aed20', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}, {'number': 4, 'created': '2020-08-25 16:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0d113532838e501fb28de8f0179c9266d174001f', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}, {'number': 5, 'created': '2020-08-26 07:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e801533ebac5afd7f4eb3fb1367e43b1cb934205', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}, {'number': 6, 'created': '2020-08-26 08:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1504d36edab0de5565e962007c40ef08b71bc21a', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}, {'number': 7, 'created': '2020-08-26 08:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ebbdde458f395f58a6d66e78b0d6fd6057d43710', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}, {'number': 8, 'created': '2020-08-26 09:35:20.000000000', 'files': ['gerrit/acls/x/networking-l2gw.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6f6e4da925d3fb856865ffde93db4611aef212e6', 'message': 'Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace.\n\nChange-Id: I9809fdf1745ac8573502023c63f0f20e98862af1\n'}]",19,744110,6f6e4da925d3fb856865ffde93db4611aef212e6,42,7,8,8313,,,0,"Import netowrking-l2gw & networking-l2gw-tempest-plugin to x/

networking-l2gw is not a neutron stadium project, and not governed by
openstack, so it is time to move it to x/ namespace.

Change-Id: I9809fdf1745ac8573502023c63f0f20e98862af1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/744110/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,edc2cf6312ff976ee4a41370bfd204742bfd0400,complete-retirement-networking-l2gw,- project: x/networking-l2gw description: API's and implementations to support L2 Gateways in Neutron. upstream: https://opendev.org/openstack/networking-l2gw.git - project: x/networking-l2gw-tempest-plugin description: Tempest plugin for the Neutron L2GW. upstream: https://opendev.org/openstack/networking-l2gw-tempest-plugin.git,,6,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id20af84c086b8a927f42fd2031cc310fb19bf357,openstack/tripleo-heat-templates,stable/train,Id20af84c086b8a927f42fd2031cc310fb19bf357,[Train-only] Move config-data context switching to Upgrade,MERGED,2020-07-16 12:52:08.000000000,2020-08-26 22:26:04.000000000,2020-08-26 22:24:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-16 12:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7473d3e72aaaa67731d40a94dfc257827015547', 'message': '[Train-only] Move config-data context switching to FFU\n\nThis task is time-consuming and shouldn\'t kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nAlso takes the opportunity to make it a bit more error-proof.\nNote that openstack-selinux sets an ""fcontext"" for the affected\nlocation. ""fcontext"" doesn\'t affect existing files.\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n'}, {'number': 2, 'created': '2020-07-21 07:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e95208de61c72c30436825102779b9bcce3986e', 'message': '[Train-only] Move config-data context switching to FFU\n\nThis task is time-consuming and shouldn\'t kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nAlso takes the opportunity to make it a bit more error-proof.\nNote that openstack-selinux sets an ""fcontext"" for the affected\nlocation. ""fcontext"" doesn\'t affect existing files.\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n'}, {'number': 3, 'created': '2020-07-29 10:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6aacd61f13bd5a495d642a24c6bc0db5e4ecafb', 'message': ""[Train-only] Move config-data context switching to FFU\n\nThis task is time-consuming and shouldn't kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nThis patch takes precedence on\nI973a49aec1a263e2a1ec3e5199803c86d6f77b35, making its backport useless.\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n""}, {'number': 4, 'created': '2020-07-29 10:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47fe8ccb62a834a6cfdd7a421e16050f74b4416b', 'message': ""[Train-only] Move config-data context switching to Upgrade\n\nThis task is time-consuming and shouldn't kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nThis patch takes precedence on\nI973a49aec1a263e2a1ec3e5199803c86d6f77b35, making its backport useless.\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n""}, {'number': 5, 'created': '2020-07-29 11:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5943ead11165a4f678fd0bb72e33d165236299a2', 'message': ""[Train-only] Move config-data context switching to Upgrade\n\nThis task is time-consuming and shouldn't kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nThis patch takes precedence on\nI973a49aec1a263e2a1ec3e5199803c86d6f77b35, making its backport useless.\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n""}, {'number': 6, 'created': '2020-07-30 06:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04f0e58a27afdad05a1d7f635dc665fcb659b84a', 'message': ""[Train-only] Move config-data context switching to Upgrade\n\nThis task is time-consuming and shouldn't kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nThis patch takes precedence on\nI973a49aec1a263e2a1ec3e5199803c86d6f77b35, making its backport useless.\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n""}, {'number': 7, 'created': '2020-08-06 11:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca52ee95fb40d6159e80a0eda8a7e2f3027fd245', 'message': ""[Train-only] Move config-data context switching to Upgrade\n\nThis task is time-consuming and shouldn't kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nThis patch takes precedence on\nI973a49aec1a263e2a1ec3e5199803c86d6f77b35, making its backport useless.\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n""}, {'number': 8, 'created': '2020-08-13 08:26:47.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'releasenotes/notes/chcon-only-podman-upgrade-a2356adf59cde74b.yaml', 'deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/906256a1b387e710bdd7739fa848064a4dff5415', 'message': ""[Train-only] Move config-data context switching to Upgrade\n\nThis task is time-consuming and shouldn't kick in for every action. This\ncontext change is needed when we move from docker (pre-train) to podman\n(train and later) only.\n\nThis patch takes precedence on\nI973a49aec1a263e2a1ec3e5199803c86d6f77b35, making its backport useless.\n\nCo-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nChange-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357\nRelated-Bug: #1887721\n""}]",4,741443,906256a1b387e710bdd7739fa848064a4dff5415,90,12,8,28223,,,0,"[Train-only] Move config-data context switching to Upgrade

This task is time-consuming and shouldn't kick in for every action. This
context change is needed when we move from docker (pre-train) to podman
(train and later) only.

This patch takes precedence on
I973a49aec1a263e2a1ec3e5199803c86d6f77b35, making its backport useless.

Co-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>

Change-Id: Id20af84c086b8a927f42fd2031cc310fb19bf357
Related-Bug: #1887721
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/741443/8 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,c7473d3e72aaaa67731d40a94dfc257827015547,chcon-ffu," - name: ensure we get the right selinux context shell: | if [[ -e /var/lib/config-data ]]; then chcon -R -t container_file_t /var/lib/config-data exit 2 fi args: executable: /bin/bash warn: no register: _selinux_config_data changed_when: _selinux_config_data.rc == 2 failed_when: _selinux_config_data.rc not in [0,2]",,12,0
openstack%2Fsushy~stable%2Ftrain~I5b69c3f732476a9c25db6d09b47ca42ecce06114,openstack/sushy,stable/train,I5b69c3f732476a9c25db6d09b47ca42ecce06114,Less scary warning when GET /redfish/v1/SessionService fails,MERGED,2020-08-26 16:04:03.000000000,2020-08-26 22:22:57.000000000,2020-08-26 22:20:29.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 16:04:03.000000000', 'files': ['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/resources/sessionservice/sessionservice.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/226f932b5bb360585b7c7764f537d1a302a3216a', 'message': 'Less scary warning when GET /redfish/v1/SessionService fails\n\nIt seems normal (at least de facto) to have this endpoint authenticated.\nAvoid confusing operators by a warning, explain the situation better\ninstead.\n\nChange-Id: I5b69c3f732476a9c25db6d09b47ca42ecce06114\n(cherry picked from commit 03f5818ee2e5e5e2e74ab0dc7f7c5d50e13cfbe2)\n'}]",0,748267,226f932b5bb360585b7c7764f537d1a302a3216a,8,3,1,10239,,,0,"Less scary warning when GET /redfish/v1/SessionService fails

It seems normal (at least de facto) to have this endpoint authenticated.
Avoid confusing operators by a warning, explain the situation better
instead.

Change-Id: I5b69c3f732476a9c25db6d09b47ca42ecce06114
(cherry picked from commit 03f5818ee2e5e5e2e74ab0dc7f7c5d50e13cfbe2)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/67/748267/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/resources/sessionservice/sessionservice.py']",2,226f932b5bb360585b7c7764f537d1a302a3216a,session-log-stable/train," LOG.debug('Received access error ""%s"" when trying to refresh the ' 'SessionService. If this happens before ' 'authentication, we\'ll have to guess the Sessions URL.', ae)"," LOG.warning('Received access error ""%(ae)s"". ' 'Unable to refresh SessionService.', {'ae': ae})",5,4
openstack%2Fsushy~stable%2Fussuri~I5b69c3f732476a9c25db6d09b47ca42ecce06114,openstack/sushy,stable/ussuri,I5b69c3f732476a9c25db6d09b47ca42ecce06114,Less scary warning when GET /redfish/v1/SessionService fails,MERGED,2020-08-26 16:03:55.000000000,2020-08-26 22:16:04.000000000,2020-08-26 22:13:22.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 16:03:55.000000000', 'files': ['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/resources/sessionservice/sessionservice.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/dc1b6132362edd7a06913e296f4e1922dde43192', 'message': 'Less scary warning when GET /redfish/v1/SessionService fails\n\nIt seems normal (at least de facto) to have this endpoint authenticated.\nAvoid confusing operators by a warning, explain the situation better\ninstead.\n\nChange-Id: I5b69c3f732476a9c25db6d09b47ca42ecce06114\n(cherry picked from commit 03f5818ee2e5e5e2e74ab0dc7f7c5d50e13cfbe2)\n'}]",0,748266,dc1b6132362edd7a06913e296f4e1922dde43192,8,3,1,10239,,,0,"Less scary warning when GET /redfish/v1/SessionService fails

It seems normal (at least de facto) to have this endpoint authenticated.
Avoid confusing operators by a warning, explain the situation better
instead.

Change-Id: I5b69c3f732476a9c25db6d09b47ca42ecce06114
(cherry picked from commit 03f5818ee2e5e5e2e74ab0dc7f7c5d50e13cfbe2)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/66/748266/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/resources/sessionservice/sessionservice.py']",2,dc1b6132362edd7a06913e296f4e1922dde43192,session-log-stable/ussuri," LOG.debug('Received access error ""%s"" when trying to refresh the ' 'SessionService. If this happens before ' 'authentication, we\'ll have to guess the Sessions URL.', ae)"," LOG.warning('Received access error ""%(ae)s"". ' 'Unable to refresh SessionService.', {'ae': ae})",5,4
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194,openstack/tripleo-ansible,stable/train,Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194,Enable pids_limit support,MERGED,2020-08-26 12:56:28.000000000,2020-08-26 22:13:20.000000000,2020-08-26 22:13:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-26 12:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbb9c2795b29d9a4d8a369d3a5d3b5e8b4ce3e99', 'message': 'Enable pids_limit support\n\nThe default PID limit in a container is set to 4096. This limit might be\nreached in a nova_libvirt container, after launching about 150 VMs.\n\nChange-Id: Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\n(cherry picked from commit f602e84c0f03e4c151f25b12e131af95c7daf305)\n'}, {'number': 2, 'created': '2020-08-26 15:48:22.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/094deaf056aa24ec038f62211fe52f93c71a95ed', 'message': 'Enable pids_limit support\n\nThe default PID limit in a container is set to 4096. This limit might be\nreached in a nova_libvirt container, after launching about 150 VMs.\n\nChange-Id: Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\n(cherry picked from commit f602e84c0f03e4c151f25b12e131af95c7daf305)\n'}]",0,748220,094deaf056aa24ec038f62211fe52f93c71a95ed,10,4,2,3153,,,0,"Enable pids_limit support

The default PID limit in a container is set to 4096. This limit might be
reached in a nova_libvirt container, after launching about 150 VMs.

Change-Id: Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
(cherry picked from commit f602e84c0f03e4c151f25b12e131af95c7daf305)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/748220/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'],1,fbb9c2795b29d9a4d8a369d3a5d3b5e8b4ce3e99,pid," pids_limit: ""{{ lookup('dict', container_data).value.pids_limit | default(omit) }}""",,1,0
openstack%2Fglance~stable%2Fussuri~Id49f83a63e59c262ea20062c6f3aed50c56adb74,openstack/glance,stable/ussuri,Id49f83a63e59c262ea20062c6f3aed50c56adb74,Add a functional test for non-owned image copying,MERGED,2020-08-25 18:57:25.000000000,2020-08-26 22:09:30.000000000,2020-08-26 22:05:54.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/168fdb7f304bf16ce0170f517442504617a29fc6', 'message': ""Add a functional test for non-owned image copying\n\nThis adds a functional test that confirms the current expected\nbehavior of what happens when a user attempts to copy an image\nthat they don't own (i.e. they get a 401).\n\nChange-Id: Id49f83a63e59c262ea20062c6f3aed50c56adb74\n(cherry picked from commit 019afb789408bb0e179c849a72fd37a63202e2d1)\n""}]",0,748001,168fdb7f304bf16ce0170f517442504617a29fc6,8,3,1,4393,,,0,"Add a functional test for non-owned image copying

This adds a functional test that confirms the current expected
behavior of what happens when a user attempts to copy an image
that they don't own (i.e. they get a 401).

Change-Id: Id49f83a63e59c262ea20062c6f3aed50c56adb74
(cherry picked from commit 019afb789408bb0e179c849a72fd37a63202e2d1)
",git fetch https://review.opendev.org/openstack/glance refs/changes/01/748001/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,168fdb7f304bf16ce0170f517442504617a29fc6,bug/1884596," class TestCopyImagePermissions(functional.MultipleBackendFunctionalTest): def setUp(self): super(TestCopyImagePermissions, self).setUp() self.cleanup() self.include_scrubber = False self.api_server_multiple_backend.deployment_flavor = 'noauth' def _url(self, path): return 'http://127.0.0.1:%d%s' % (self.api_port, path) def _headers(self, custom_headers=None): base_headers = { 'X-Identity-Status': 'Confirmed', 'X-Auth-Token': '932c5c84-02ac-4fe5-a9ba-620af0e2bb96', 'X-User-Id': 'f9a41d13-0c13-47e9-bee2-ce4e8bfe958e', 'X-Tenant-Id': TENANT1, 'X-Roles': 'member', } base_headers.update(custom_headers or {}) return base_headers def _create_and_import_image_data(self): # Create a public image path = self._url('/v2/images') headers = self._headers({'content-type': 'application/json'}) data = jsonutils.dumps({'name': 'image-1', 'type': 'kernel', 'visibility': 'public', 'disk_format': 'aki', 'container_format': 'aki'}) response = requests.post(path, headers=headers, data=data) self.assertEqual(http.CREATED, response.status_code) image = jsonutils.loads(response.text) image_id = image['id'] path = self._url('/v2/images/%s/import' % image_id) headers = self._headers({ 'content-type': 'application/json', 'X-Roles': 'admin' }) # Start http server locally thread, httpd, port = test_utils.start_standalone_http_server() image_data_uri = 'http://localhost:%s/' % port data = jsonutils.dumps( {'method': {'name': 'web-download', 'uri': image_data_uri}, 'stores': ['file1']}) response = requests.post(path, headers=headers, data=data) self.assertEqual(http.ACCEPTED, response.status_code) # Verify image is in active state and checksum is set # NOTE(abhishekk): As import is a async call we need to provide # some timelap to complete the call. path = self._url('/v2/images/%s' % image_id) func_utils.wait_for_status(request_path=path, request_headers=self._headers(), status='active', max_sec=40, delay_sec=0.2, start_delay_sec=1) with requests.get(image_data_uri) as r: expect_c = six.text_type(hashlib.md5(r.content).hexdigest()) expect_h = six.text_type(hashlib.sha512(r.content).hexdigest()) func_utils.verify_image_hashes_and_status(self, image_id, checksum=expect_c, os_hash_value=expect_h, status='active') # kill the local http server httpd.shutdown() httpd.server_close() return image_id def test_copy_public_image_as_non_admin(self): self.start_servers(**self.__dict__.copy()) # Create a publicly-visible image as TENANT1 image_id = self._create_and_import_image_data() # Ensure image is created in the one store path = self._url('/v2/images/%s' % image_id) response = requests.get(path, headers=self._headers()) self.assertEqual(http.OK, response.status_code) self.assertEqual('file1', jsonutils.loads(response.text)['stores']) # Copy newly created image to file2 store as TENANT2 path = self._url('/v2/images/%s/import' % image_id) headers = self._headers({ 'content-type': 'application/json', }) headers = get_auth_header(TENANT2, TENANT2, role='member', headers=headers) data = jsonutils.dumps( {'method': {'name': 'copy-image'}, 'stores': ['file2']}) response = requests.post(path, headers=headers, data=data) # Expect failure to copy another user's image self.assertEqual(http.FORBIDDEN, response.status_code)",,105,0
openstack%2Fglance~stable%2Fussuri~I80cf190f122ce61a47340181e1ad02ee24b5cb2d,openstack/glance,stable/ussuri,I80cf190f122ce61a47340181e1ad02ee24b5cb2d,Refactor common auth token code in images test,MERGED,2020-08-25 18:57:25.000000000,2020-08-26 22:07:57.000000000,2020-08-26 22:05:52.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3bf1af9b7dcb3c30cf9764643ae5d629c8e2280d', 'message': 'Refactor common auth token code in images test\n\nThis pulls out the authentication token manipulation used by some of the\nimages functional tests, which is replicated in several places into a\nsingle helper. This will also be used by a subsequent functional test for\ncross-owner copy-image support.\n\nChange-Id: I80cf190f122ce61a47340181e1ad02ee24b5cb2d\n(cherry picked from commit 1b172798cd8346b8500e5faf5ae39d63c297c5b7)\n'}]",0,748000,3bf1af9b7dcb3c30cf9764643ae5d629c8e2280d,8,3,1,4393,,,0,"Refactor common auth token code in images test

This pulls out the authentication token manipulation used by some of the
images functional tests, which is replicated in several places into a
single helper. This will also be used by a subsequent functional test for
cross-owner copy-image support.

Change-Id: I80cf190f122ce61a47340181e1ad02ee24b5cb2d
(cherry picked from commit 1b172798cd8346b8500e5faf5ae39d63c297c5b7)
",git fetch https://review.opendev.org/openstack/glance refs/changes/00/748000/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,3bf1af9b7dcb3c30cf9764643ae5d629c8e2280d,bug/1884596,"def get_auth_header(tenant, tenant_id=None, role='', headers=None): """"""Return headers to authenticate as a specific tenant. :param tenant: Tenant for the auth token :param tenant_id: Optional tenant ID for the X-Tenant-Id header :param role: Optional user role :param headers: Optional list of headers to add to """""" if not headers: headers = {} auth_token = 'user:%s:%s' % (tenant, role) headers.update({'X-Auth-Token': auth_token}) if tenant_id: headers.update({'X-Tenant-Id': tenant_id}) return headers response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.post(path, headers=get_auth_header('tenant1'), response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header('tenant2')) response = requests.put(path, headers=get_auth_header('tenant1'), data=body) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.get(path, headers=get_auth_header('tenant2')) response = requests.put(path, headers=get_auth_header(TENANT3), data=body) response = requests.get(path, headers=get_auth_header(TENANT3)) response = requests.put(path, headers=get_auth_header(TENANT3), data=body) response = requests.put(path, headers=get_auth_header('tenant1'), data=body) response = requests.post(path, headers=get_auth_header('tenant2'), response = requests.post(path, headers=get_auth_header('tenant1'), response = requests.post(path, headers=get_auth_header('tenant1'), response = requests.post(path, headers=get_auth_header('tenant1'), response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1', role='admin')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.delete(path, headers=get_auth_header(TENANT3)) response = requests.delete(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.post(path, headers=get_auth_header('tenant1'), response = requests.post(path, headers=get_auth_header('tenant1'), response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.get(path, headers=get_auth_header('tenant1')) response = requests.delete(path, headers=get_auth_header('tenant1')) response = requests.delete(path, headers=get_auth_header('tenant1')) response = requests.delete(path, headers=get_auth_header('tenant1')) return self._headers(custom_headers=get_auth_header( tenant, tenant_id, role))"," def get_header(tenant, role=''): auth_token = 'user:%s:%s' % (tenant, role) headers = {'X-Auth-Token': auth_token} return headers response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header(TENANT3)) response = requests.post(path, headers=get_header('tenant1'), response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header('tenant2')) response = requests.put(path, headers=get_header('tenant1'), data=body) response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header(TENANT3)) response = requests.get(path, headers=get_header('tenant2')) response = requests.put(path, headers=get_header(TENANT3), data=body) response = requests.get(path, headers=get_header(TENANT3)) response = requests.put(path, headers=get_header(TENANT3), data=body) response = requests.put(path, headers=get_header('tenant1'), data=body) response = requests.post(path, headers=get_header('tenant2'), response = requests.post(path, headers=get_header('tenant1'), response = requests.post(path, headers=get_header('tenant1'), response = requests.post(path, headers=get_header('tenant1'), response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1', 'admin')) response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1')) response = requests.delete(path, headers=get_header(TENANT3)) response = requests.delete(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1')) response = requests.post(path, headers=get_header('tenant1'), response = requests.post(path, headers=get_header('tenant1'), response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1')) response = requests.get(path, headers=get_header('tenant1')) response = requests.delete(path, headers=get_header('tenant1')) response = requests.delete(path, headers=get_header('tenant1')) response = requests.delete(path, headers=get_header('tenant1')) auth_token = 'user:%s:%s' % (tenant, role) headers = {'X-Auth-Token': auth_token} if tenant_id: headers.update({'X-Tenant-Id': tenant_id}) return self._headers(custom_headers=headers)",66,52
openstack%2Fopenstack-ansible~stable%2Fussuri~I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe,openstack/openstack-ansible,stable/ussuri,I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe,Adjust docs for Ussuri,MERGED,2020-08-26 16:08:40.000000000,2020-08-26 22:05:57.000000000,2020-08-26 22:03:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-26 16:08:40.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'deploy-guide/source/deploymenthost.rst', 'doc/source/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/584d0ab062ceb9c2c5c4fcb2447b4ef80991d98d', 'message': 'Adjust docs for Ussuri\n\nWe have some extra OS supported, and we have\nUssuri release date which needs to be reflected in docs.\n\nChange-Id: I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe\n(cherry picked from commit b7ce47c5f8b6a2f573750e132311c319d03693e9)\n'}]",0,748268,584d0ab062ceb9c2c5c4fcb2447b4ef80991d98d,8,3,1,28619,,,0,"Adjust docs for Ussuri

We have some extra OS supported, and we have
Ussuri release date which needs to be reflected in docs.

Change-Id: I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe
(cherry picked from commit b7ce47c5f8b6a2f573750e132311c319d03693e9)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/748268/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/user/aio/quickstart.rst', 'doc/source/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst']",6,584d0ab062ceb9c2c5c4fcb2447b4ef80991d98d,,* Ubuntu server 20.04 (Focal Fossa) LTS 64-bit* Centos 8 64-bit,,25,9
openstack%2Fironic-python-agent~master~I54d363aa22278f1354d6d5ed300e8655e8938413,openstack/ironic-python-agent,master,I54d363aa22278f1354d6d5ed300e8655e8938413,Minor exception fix related to read timeout patch,ABANDONED,2020-07-20 18:45:11.000000000,2020-08-26 21:59:01.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-20 18:45:11.000000000', 'files': ['ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4f9abb75196025a4448b35e2e9d0f161ca2fe04f', 'message': 'Minor exception fix related to read timeout patch\n\nThe orignal patch was not passing an ""image_id"" so logging\nwould not have been correct, even though the exception would have\nbeen caught and the retry logic operates as expected.\n\nThis loads the extracted image_info[\'id\'] field and returns\nit for this purpose.\n\nChange-Id: I54d363aa22278f1354d6d5ed300e8655e8938413\n'}]",2,742006,4f9abb75196025a4448b35e2e9d0f161ca2fe04f,5,3,1,11655,,,0,"Minor exception fix related to read timeout patch

The orignal patch was not passing an ""image_id"" so logging
would not have been correct, even though the exception would have
been caught and the retry logic operates as expected.

This loads the extracted image_info['id'] field and returns
it for this purpose.

Change-Id: I54d363aa22278f1354d6d5ed300e8655e8938413
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/06/742006/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/standby.py'],1,4f9abb75196025a4448b35e2e9d0f161ca2fe04f,minor_fix," self._image_info.get('id'),"," self._image_info['id'],",1,1
openstack%2Fbifrost~stable%2Ftrain~I8ac09e69149d7855cc754e15bd379170f822ee01,openstack/bifrost,stable/train,I8ac09e69149d7855cc754e15bd379170f822ee01,Make the iPXE and PXE boot files world-readable,ABANDONED,2020-08-21 17:17:53.000000000,2020-08-26 21:56:46.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 17:17:53.000000000', 'files': ['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6311f576b38ca4136fbc709b455093f1768b20b5', 'message': 'Make the iPXE and PXE boot files world-readable\n\nChange-Id: I8ac09e69149d7855cc754e15bd379170f822ee01\n'}]",0,747449,6311f576b38ca4136fbc709b455093f1768b20b5,3,2,1,11655,,,0,"Make the iPXE and PXE boot files world-readable

Change-Id: I8ac09e69149d7855cc754e15bd379170f822ee01
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/49/747449/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pxe-acl-26f3be809caa0c88.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",2,6311f576b38ca4136fbc709b455093f1768b20b5,pxe-acl-bugfix/8.3-bugfix/8.2-stable/ussuri-stable/train,"- name: Make boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - /tftpboot/undionly.kpxe - ""/tftpboot/{{ ipxe_full_binary }}"" - name: Make UEFI boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 owner: ironic group: ironic loop: - ""/tftpboot/{{ ipxe_efi_binary }}"" - ""{{ http_boot_folder }}/{{ ipxe_efi_binary }}""",,24,0
openstack%2Fdesignate~master~I7a90303997c56672329edc5081c7f65df0c410f7,openstack/designate,master,I7a90303997c56672329edc5081c7f65df0c410f7,WIP Adding the split view feature to designate,ABANDONED,2019-11-08 19:39:49.000000000,2020-08-26 21:53:58.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 19:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0725e352f961c04345c9ce37a385719c9162ebc9', 'message': 'WIP Adding the split view feature to designate, which allow for sending AXFR based on EXTERNAL/INTERNAL views using defined tsigkey\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 2, 'created': '2019-11-08 19:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f3ca071c28676cee15a9a17dfade4a08862c36e6', 'message': 'WIP Adding the split view feature to designate, which allow for sending AXFR based on EXTERNAL/INTERNAL views using defined tsigkey\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 3, 'created': '2019-11-08 19:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0a8e663bf453821b515cc763fe2e168e8962f327', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL views using defined tsigkey\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 4, 'created': '2019-11-08 19:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a6bda0c377700f2989aac14c2d6ef9295d5fba5a', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 5, 'created': '2019-11-08 23:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/214ce8c138ac1346b11aa2d34e53a4510d75ff91', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 6, 'created': '2019-11-08 23:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2f5620ba62aaa683d8ae2465f574e0d6e17b0313', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 7, 'created': '2019-11-08 23:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/40e71abc07ea28e2df1d0f73da4064334ad477bf', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 8, 'created': '2019-11-09 00:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fa38a52d429837cf078654f2bdde168c780343a5', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 9, 'created': '2019-11-09 00:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/78d34e4fdf310379b9f68a59ba01882a72f58eb7', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 10, 'created': '2019-11-09 00:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e8eff289a64213e7ed344bf2888bbd9e5d127686', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 11, 'created': '2019-11-09 00:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e3ea308c9ed868e392317fe5f9af9a942d63e6fc', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}, {'number': 12, 'created': '2019-11-11 17:09:59.000000000', 'files': ['designate/objects/tsigkey.py', 'designate/storage/impl_sqlalchemy/tables.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/103_add_split_view.py', 'designate/conf/mdns.py', 'designate/mdns/handler.py', 'designate/central/service.py', 'designate/objects/record.py', 'designate/sqlalchemy/base.py', 'designate/conf/central.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d79f3906dc138fd274c135f80381a5d8c1be6995', 'message': 'WIP Adding the split view feature to designate\n\nwhich allow for sending AXFR based on EXTERNAL/INTERNAL\nviews using defined tsigkey\n\nThis still WIP\n\nChange-Id: I7a90303997c56672329edc5081c7f65df0c410f7\n'}]",0,693583,d79f3906dc138fd274c135f80381a5d8c1be6995,17,2,12,31039,,,0,"WIP Adding the split view feature to designate

which allow for sending AXFR based on EXTERNAL/INTERNAL
views using defined tsigkey

This still WIP

Change-Id: I7a90303997c56672329edc5081c7f65df0c410f7
",git fetch https://review.opendev.org/openstack/designate refs/changes/83/693583/9 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/tsigkey.py', 'designate/storage/impl_sqlalchemy/tables.py', 'designate/conf/mdns.py', 'designate/mdns/handler.py', 'designate/central/service.py', 'designate/objects/record.py', 'designate/storage/impl_sqlalchemy/__init__.py', 'designate/conf/central.py']",8,0725e352f961c04345c9ce37a385719c9162ebc9,adding_split_view," cfg.StrOpt('external-view-regex', default=None, help='The regex for IPs that should be in external view, ' 'Any IP that dont match this will be in internal view'),",,73,3
openstack%2Freleases~master~Iaa750a8c1387433eefe114ced545ef24cb6c25f6,openstack/releases,master,Iaa750a8c1387433eefe114ced545ef24cb6c25f6,Release neutron 16.1.0,MERGED,2020-08-24 16:10:36.000000000,2020-08-26 21:19:06.000000000,2020-08-26 21:19:06.000000000,"[{'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-24 16:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4e1efe0fe2494da5b9f26d2650cb4f271b18f0df', 'message': 'Release neutron 16.1.0\n\nThis release picks up several new bug fixes and a few backported\nfeatures. This is the first stable/ussuri release since 16.0.0.\n\nChange-Id: Iaa750a8c1387433eefe114ced545ef24cb6c25f6\n'}, {'number': 2, 'created': '2020-08-24 17:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0e4572f4351b57cd43b8390c126a7bf7733b8dc0', 'message': 'Release neutron 16.1.0\n\nThis release picks up several new bug fixes and a few backported\nfeatures. This is the first stable/ussuri release since 16.0.0.\n\nChange-Id: Iaa750a8c1387433eefe114ced545ef24cb6c25f6\n'}, {'number': 3, 'created': '2020-08-26 20:50:51.000000000', 'files': ['deliverables/ussuri/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/69cea5617365d4b78ba27fec47afc417888a77fc', 'message': 'Release neutron 16.1.0\n\nThis release picks up several new bug fixes and a few backported\nfeatures. This is the first stable/ussuri release since 16.0.0.\n\nChange-Id: Iaa750a8c1387433eefe114ced545ef24cb6c25f6\n'}]",4,747763,69cea5617365d4b78ba27fec47afc417888a77fc,18,6,3,11805,,,0,"Release neutron 16.1.0

This release picks up several new bug fixes and a few backported
features. This is the first stable/ussuri release since 16.0.0.

Change-Id: Iaa750a8c1387433eefe114ced545ef24cb6c25f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/747763/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/neutron.yaml'],1,4e1efe0fe2494da5b9f26d2650cb4f271b18f0df,, - version: 16.1.0 projects: - repo: openstack/neutron hash: c06cb95b6f46574e74244fd738873290fd1773cb diff-start: 16.0.0,,5,0
openstack%2Freleases~master~Ib87e44f9d9926e708fd8f6559bd473544b70b13e,openstack/releases,master,Ib87e44f9d9926e708fd8f6559bd473544b70b13e,release oslo.utils 3.40.7,MERGED,2020-08-20 16:27:11.000000000,2020-08-26 21:10:42.000000000,2020-08-26 21:10:42.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 16:27:11.000000000', 'files': ['deliverables/stein/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/098ed848ddee5309905a479955c35a4272afdad0', 'message': 'release oslo.utils 3.40.7\n\nChange-Id: Ib87e44f9d9926e708fd8f6559bd473544b70b13e\n'}]",0,747242,098ed848ddee5309905a479955c35a4272afdad0,8,3,1,28522,,,0,"release oslo.utils 3.40.7

Change-Id: Ib87e44f9d9926e708fd8f6559bd473544b70b13e
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/747242/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/oslo.utils.yaml'],1,098ed848ddee5309905a479955c35a4272afdad0,oslo-stein-2020-08-20, - version: 3.40.7 projects: - repo: openstack/oslo.utils hash: 4cf03f0016693d066bdd6855bcfe234347f00426,,4,0
openstack%2Fpuppet-rally~master~Icb359deceaadbb01a35f05e8fba2c8a1fd265019,openstack/puppet-rally,master,Icb359deceaadbb01a35f05e8fba2c8a1fd265019,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 21:07:38.000000000,2020-08-26 21:05:00.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/663e45bb641e8c5b44cc74f6bfa0bce3f196f822', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Icb359deceaadbb01a35f05e8fba2c8a1fd265019\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-a78f7657f80416dd.yaml', 'spec/classes/rally_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/5b796c0f67b5159dc9e473fd60abedcc7292aa31', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Icb359deceaadbb01a35f05e8fba2c8a1fd265019\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748080,5b796c0f67b5159dc9e473fd60abedcc7292aa31,9,3,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Icb359deceaadbb01a35f05e8fba2c8a1fd265019
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/80/748080/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-a78f7657f80416dd.yaml', 'spec/classes/rally_db_spec.rb']",3,663e45bb641e8c5b44cc74f6bfa0bce3f196f822,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,14,0
openstack%2Freleases~master~Id5072607c514b7997516e353f4d41a7cc28d43ea,openstack/releases,master,Id5072607c514b7997516e353f4d41a7cc28d43ea,Release OpenStack-Ansible Stein,MERGED,2020-08-25 10:17:21.000000000,2020-08-26 21:07:29.000000000,2020-08-26 21:07:29.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 10:17:21.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8246897bee4ef31b63e792395317ff23b5698d95', 'message': 'Release OpenStack-Ansible Stein\n\nChange-Id: Id5072607c514b7997516e353f4d41a7cc28d43ea\n'}]",0,747890,8246897bee4ef31b63e792395317ff23b5698d95,8,3,1,28619,,,0,"Release OpenStack-Ansible Stein

Change-Id: Id5072607c514b7997516e353f4d41a7cc28d43ea
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/747890/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,8246897bee4ef31b63e792395317ff23b5698d95,release_osa, - version: 19.1.4 projects: - repo: openstack/openstack-ansible hash: f12b74128f86e8c77015f113e6b477a6f4279880,,4,0
openstack%2Fglance~stable%2Fussuri~I284271a458117b753a88b847598ca10ce4fb94fa,openstack/glance,stable/ussuri,I284271a458117b753a88b847598ca10ce4fb94fa,Add a test to replicate the owner-required behavior of copy-image,MERGED,2020-08-25 18:57:25.000000000,2020-08-26 21:06:08.000000000,2020-08-26 21:03:48.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:57:25.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/bc8269472574fd27ad2be5f1d3c1888dc5440c4b', 'message': ""Add a test to replicate the owner-required behavior of copy-image\n\nRight now, image_import(method='copy-image') requires you to be the owner\nof the image. This adds a test that validates that behavior so we can measure\nthe difference of the next set of changes to modify that.\n\nChange-Id: I284271a458117b753a88b847598ca10ce4fb94fa\n(cherry picked from commit f450b9cf0314afeb9aa64ed687218b92b6a49321)\n""}]",0,747999,bc8269472574fd27ad2be5f1d3c1888dc5440c4b,8,4,1,4393,,,0,"Add a test to replicate the owner-required behavior of copy-image

Right now, image_import(method='copy-image') requires you to be the owner
of the image. This adds a test that validates that behavior so we can measure
the difference of the next set of changes to modify that.

Change-Id: I284271a458117b753a88b847598ca10ce4fb94fa
(cherry picked from commit f450b9cf0314afeb9aa64ed687218b92b6a49321)
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/747999/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,bc8269472574fd27ad2be5f1d3c1888dc5440c4b,bug/1884596,"from glance.api import authorizationfrom glance.common import exception class TestImportCopyImageTask(test_utils.BaseTestCase): def setUp(self): super(TestImportCopyImageTask, self).setUp() self.context = context.RequestContext(user_id=TENANT1, project_id=TENANT1, overwrite=False) @mock.patch(""glance.async_.flows.api_image_import.image_import"") def test_copy_as_non_owner(self, mock_import): img_repo_db = mock.MagicMock() img_repo = authorization.ImageRepoProxy(img_repo_db, self.context) fake_req = {""method"": {""name"": ""copy-image""}, ""backend"": ['cheap']} # FIXME(danms): Right now, this fails with Forbidden because we # don't own the image self.assertRaises(exception.Forbidden, import_flow.get_flow, task_id=TASK_ID1, task_type=TASK_TYPE, task_repo=mock.MagicMock(), image_repo=img_repo, image_id=IMAGE_ID1, import_req=fake_req, backend=['cheap'])",,32,0
openstack%2Freleases~master~I1945f01b5e8f80164f3f90c8cd9cf3763ef484df,openstack/releases,master,I1945f01b5e8f80164f3f90c8cd9cf3763ef484df,New releases of neutron stadium projects for stable/ussuri,MERGED,2020-08-25 09:23:33.000000000,2020-08-26 21:03:51.000000000,2020-08-26 21:03:51.000000000,"[{'_account_id': 11904}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 09:23:33.000000000', 'files': ['deliverables/ussuri/ovn-octavia-provider.yaml', 'deliverables/ussuri/ovsdbapp.yaml', 'deliverables/ussuri/networking-bagpipe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aeedfb21826e584f88251a0153d5670f6c9cf03a', 'message': 'New releases of neutron stadium projects for stable/ussuri\n\nChange-Id: I1945f01b5e8f80164f3f90c8cd9cf3763ef484df\n'}]",0,747877,aeedfb21826e584f88251a0153d5670f6c9cf03a,9,4,1,11975,,,0,"New releases of neutron stadium projects for stable/ussuri

Change-Id: I1945f01b5e8f80164f3f90c8cd9cf3763ef484df
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/747877/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/ovn-octavia-provider.yaml', 'deliverables/ussuri/ovsdbapp.yaml', 'deliverables/ussuri/networking-bagpipe.yaml']",3,aeedfb21826e584f88251a0153d5670f6c9cf03a,, - version: 12.0.1 projects: - repo: openstack/networking-bagpipe hash: 0e866eed9f6c3e545a2fd6c0b680a718996661a5,,12,0
openstack%2Freleases~master~If7cd1aee37a5aacfe7a87fc67ffa3c24496be99c,openstack/releases,master,If7cd1aee37a5aacfe7a87fc67ffa3c24496be99c,Release neutron 15.2.0 for stable/train,MERGED,2020-08-25 09:04:28.000000000,2020-08-26 21:00:40.000000000,2020-08-26 21:00:40.000000000,"[{'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 09:04:28.000000000', 'files': ['deliverables/train/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b3dbe5f19866c9d8241ce7a25e338a1fd2b28f3', 'message': 'Release neutron 15.2.0 for stable/train\n\nChange-Id: If7cd1aee37a5aacfe7a87fc67ffa3c24496be99c\n'}]",0,747869,0b3dbe5f19866c9d8241ce7a25e338a1fd2b28f3,10,5,1,11975,,,0,"Release neutron 15.2.0 for stable/train

Change-Id: If7cd1aee37a5aacfe7a87fc67ffa3c24496be99c
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/747869/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron.yaml'],1,0b3dbe5f19866c9d8241ce7a25e338a1fd2b28f3,, - version: 15.2.0 projects: - repo: openstack/neutron hash: 8ff90c2bd44c8796246a7a7c473b880e75ea5da7,,4,0
openstack%2Freleases~master~Id3dea3db5c65c44f637d1c0e28f6058011bd779a,openstack/releases,master,Id3dea3db5c65c44f637d1c0e28f6058011bd779a,Release OpenStack-Ansible Train,MERGED,2020-08-25 10:14:48.000000000,2020-08-26 20:57:50.000000000,2020-08-26 20:57:50.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 10:14:48.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8ec8804e4471fdb3bfce69701e418de54444e9ad', 'message': 'Release OpenStack-Ansible Train\n\nChange-Id: Id3dea3db5c65c44f637d1c0e28f6058011bd779a\n'}]",0,747889,8ec8804e4471fdb3bfce69701e418de54444e9ad,8,3,1,28619,,,0,"Release OpenStack-Ansible Train

Change-Id: Id3dea3db5c65c44f637d1c0e28f6058011bd779a
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/747889/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible.yaml'],1,8ec8804e4471fdb3bfce69701e418de54444e9ad,release_osa, - projects: - hash: 23b0ec49da1736bdae0c6f6e35847b0c0ebd5122 repo: openstack/openstack-ansible version: 20.1.5,,4,0
openstack%2Freleases~master~I56c7fd7717c3bff4a81ccaadd418f0fbb47b7072,openstack/releases,master,I56c7fd7717c3bff4a81ccaadd418f0fbb47b7072,New release of neutron stadium projects for stable/train,MERGED,2020-08-25 09:39:17.000000000,2020-08-26 20:55:02.000000000,2020-08-26 20:55:02.000000000,"[{'_account_id': 11904}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-25 09:39:17.000000000', 'files': ['deliverables/train/networking-ovn.yaml', 'deliverables/train/neutron-dynamic-routing.yaml', 'deliverables/train/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/455f171eba4681f4b9269414c5adbd6022b4bd34', 'message': 'New release of neutron stadium projects for stable/train\n\nChange-Id: I56c7fd7717c3bff4a81ccaadd418f0fbb47b7072\n'}]",0,747879,455f171eba4681f4b9269414c5adbd6022b4bd34,9,4,1,11975,,,0,"New release of neutron stadium projects for stable/train

Change-Id: I56c7fd7717c3bff4a81ccaadd418f0fbb47b7072
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/747879/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/networking-ovn.yaml', 'deliverables/train/neutron-dynamic-routing.yaml', 'deliverables/train/ovsdbapp.yaml']",3,455f171eba4681f4b9269414c5adbd6022b4bd34,, - version: 0.17.4 projects: - repo: openstack/ovsdbapp hash: c5b598dd8d4415b014750384325589cb3fe3541c,,12,0
openstack%2Freleases~master~I5dcfa97d01604612affac4a7be0ef5970ed00b69,openstack/releases,master,I5dcfa97d01604612affac4a7be0ef5970ed00b69,release oslo.messaging 12.1.3,MERGED,2020-08-20 16:28:22.000000000,2020-08-26 20:44:53.000000000,2020-08-26 20:44:53.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 16:28:22.000000000', 'files': ['deliverables/ussuri/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7489c2bddde2b2526d8624e15dd1590c92680e90', 'message': 'release oslo.messaging 12.1.3\n\nThis will release useful fixes\n\nChange-Id: I5dcfa97d01604612affac4a7be0ef5970ed00b69\n'}]",0,747246,7489c2bddde2b2526d8624e15dd1590c92680e90,8,3,1,28522,,,0,"release oslo.messaging 12.1.3

This will release useful fixes

Change-Id: I5dcfa97d01604612affac4a7be0ef5970ed00b69
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/747246/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/oslo.messaging.yaml'],1,7489c2bddde2b2526d8624e15dd1590c92680e90,oslo-ussuri-2020-08-20, - version: 12.1.3 projects: - repo: openstack/oslo.messaging hash: 360deb89a7e95d332267564b486219e389a793f7,,4,0
openstack%2Foctavia~master~Id9e19375ebca6a720e6a85006f5e8948d3aed760,openstack/octavia,master,Id9e19375ebca6a720e6a85006f5e8948d3aed760,Fix invalid DOWN status when updating a UDP pool,MERGED,2020-06-18 19:45:50.000000000,2020-08-26 20:16:23.000000000,2020-08-26 20:14:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-18 19:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b1be37e58210da5d71384304e224c20af0ecac3d', 'message': ""WIP Fix invalid DOWN status when updating a UDP pool\n\nWhen adding a new UDP member or a UDP-CONNECT health-monitor to a UDP\npool, there can  be a race condition in the first heartbeat message\nsent to the health-manager service.\nThis message might contain a DOWN status for a working member that\nhasn't been checked yet.\n\nThis commit introduces a new member status between the amphora-agent and\nthe health-manager: it indicates that the UDP pool has been updated and\nthat the status of a member is a transitional state, preventing an\nincorrect ERROR status.\n\nStory: 2007792\nTask: 40042\n\nChange-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760\n""}, {'number': 2, 'created': '2020-06-19 07:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/149ab69359ed6d9c4310a329aa8f99e1c280b121', 'message': ""WIP Fix invalid DOWN status when updating a UDP pool\n\nWhen adding a new UDP member or a UDP-CONNECT health-monitor to a UDP\npool, there can  be a race condition in the first heartbeat message\nsent to the health-manager service.\nThis message might contain a DOWN status for a working member that\nhasn't been checked yet.\n\nThis commit introduces a new member status between the amphora-agent and\nthe health-manager: it indicates that the UDP pool has been updated and\nthat the status of a member is a transitional state, preventing an\nincorrect ERROR status.\n\nStory: 2007792\nTask: 40042\n\nChange-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760\n""}, {'number': 3, 'created': '2020-06-19 11:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c07e8e771ec0d3ed1fa8f9b303772c6e92c7832', 'message': ""WIP Fix invalid DOWN status when updating a UDP pool\n\nWhen adding a new UDP member or a UDP-CONNECT health-monitor to a UDP\npool, there can  be a race condition in the first heartbeat message\nsent to the health-manager service.\nThis message might contain a DOWN status for a working member that\nhasn't been checked yet.\n\nThis commit introduces a new member status between the amphora-agent and\nthe health-manager: it indicates that the UDP pool has been updated and\nthat the status of a member is a transitional state, preventing an\nincorrect ERROR status.\n\nStory: 2007792\nTask: 40042\n\nChange-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760\n""}, {'number': 4, 'created': '2020-06-24 06:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/da9eeabdad7b8e22dd3cea3d3398eaa3f8278930', 'message': ""WIP Fix invalid DOWN status when updating a UDP pool\n\nWhen adding a new UDP member or a UDP-CONNECT health-monitor to a UDP\npool, there can  be a race condition in the first heartbeat message\nsent to the health-manager service.\nThis message might contain a DOWN status for a working member that\nhasn't been checked yet.\n\nThis commit introduces a new member status between the amphora-agent and\nthe health-manager: it indicates that the UDP pool has been updated and\nthat the status of a member is a transitional state, preventing an\nincorrect ERROR status.\n\nStory: 2007792\nTask: 40042\n\nChange-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760\n""}, {'number': 5, 'created': '2020-06-25 12:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d1298db411a0da4beca3b39082c78680fa53e2ae', 'message': ""Fix invalid DOWN status when updating a UDP pool\n\nWhen adding a new UDP member or a UDP-CONNECT health-monitor to a UDP\npool, there can be a race condition in the first heartbeat message\nsent to the health-manager service.\nThis message might contain a DOWN status for a working member that\nhasn't been checked yet.\n\nThis commit introduces a new member status between the amphora-agent and\nthe health-manager: it indicates that the UDP pool has been updated and\nthat the status of a member is a transitional state, preventing an\nincorrect ERROR status.\n\nStory: 2007792\nTask: 40042\n\nChange-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760\n""}, {'number': 6, 'created': '2020-07-24 14:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/22f71613805b580ad07eef0653de0e419fc93a5a', 'message': ""Fix invalid DOWN status when updating a UDP pool\n\nWhen adding a new UDP member or a UDP-CONNECT health-monitor to a UDP\npool, there can be a race condition in the first heartbeat message\nsent to the health-manager service.\nThis message might contain a DOWN status for a working member that\nhasn't been checked yet.\n\nThis commit introduces a new member status between the amphora-agent and\nthe health-manager: it indicates that the UDP pool has been updated and\nthat the status of a member is a transitional state, preventing an\nincorrect ERROR status.\n\nStory: 2007792\nTask: 40042\n\nChange-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760\n""}, {'number': 7, 'created': '2020-08-26 08:02:18.000000000', 'files': ['releasenotes/notes/fixed-unstable-UDP-health-status-ba32690b83a9641b.yaml', 'octavia/common/constants.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/controller/healthmanager/health_drivers/update_db.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9fb58eb9f4d2574106a48e3cd3c439d5345517f9', 'message': ""Fix invalid DOWN status when updating a UDP pool\n\nWhen adding a new UDP member or a UDP-CONNECT health-monitor to a UDP\npool, there can be a race condition in the first heartbeat message\nsent to the health-manager service.\nThis message might contain a DOWN status for a working member that\nhasn't been checked yet.\n\nThis commit introduces a new member status between the amphora-agent and\nthe health-manager: it indicates that the UDP pool has been updated and\nthat the status of a member is a transitional state, preventing an\nincorrect ERROR status.\n\nStory: 2007792\nTask: 40042\n\nChange-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760\n""}]",21,736818,9fb58eb9f4d2574106a48e3cd3c439d5345517f9,44,6,7,29244,,,0,"Fix invalid DOWN status when updating a UDP pool

When adding a new UDP member or a UDP-CONNECT health-monitor to a UDP
pool, there can be a race condition in the first heartbeat message
sent to the health-manager service.
This message might contain a DOWN status for a working member that
hasn't been checked yet.

This commit introduces a new member status between the amphora-agent and
the health-manager: it indicates that the UDP pool has been updated and
that the status of a member is a transitional state, preventing an
incorrect ERROR status.

Story: 2007792
Task: 40042

Change-Id: Id9e19375ebca6a720e6a85006f5e8948d3aed760
",git fetch https://review.opendev.org/openstack/octavia refs/changes/18/736818/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/controller/healthmanager/health_drivers/update_db.py']",3,b1be37e58210da5d71384304e224c20af0ecac3d,," elif status == constants.RESTARTING: # RESTARTING means that keepalived is restarting and a down # member has been detected, the real status of the member # is not clear, it might mean that the checker hasn't run # yet. # In this case, keep previous member_status, and wait for a # non-transitional status. pass",,35,2
openstack%2Foctavia-lib~master~I50e798178a546132fba608ec4350d19a24986326,openstack/octavia-lib,master,I50e798178a546132fba608ec4350d19a24986326,Fix new pylint errors,MERGED,2020-08-26 18:49:01.000000000,2020-08-26 20:15:55.000000000,2020-08-26 20:14:15.000000000,"[{'_account_id': 1131}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 18:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/89024085faf7da838735991c5df100f1941d34cf', 'message': 'Fix new pylint errors\n\nPylint 2.6.0 added two new checkers [1] that make pep8 validation to\nfail:\n\n- raise-missing-from (W0707)\n- super-with-arguments (R1725)\n\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: I50e798178a546132fba608ec4350d19a24986326\n'}, {'number': 2, 'created': '2020-08-26 19:08:17.000000000', 'files': ['octavia_lib/api/drivers/driver_lib.py', 'octavia_lib/tests/unit/api/drivers/test_driver_lib.py', 'octavia_lib/tests/unit/api/drivers/test_provider_base.py', 'octavia_lib/tests/unit/api/drivers/test_exceptions.py', 'octavia_lib/tests/unit/base.py', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b38f83120ced4e2a73c83fb7d650177aca45d541', 'message': 'Fix new pylint errors\n\nPylint 2.6.0 added two new checkers [1] that make pep8 validation to\nfail:\n\n- raise-missing-from (W0707)\n- super-with-arguments (R1725)\n\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: I50e798178a546132fba608ec4350d19a24986326\n'}]",0,748284,b38f83120ced4e2a73c83fb7d650177aca45d541,12,4,2,6469,,,0,"Fix new pylint errors

Pylint 2.6.0 added two new checkers [1] that make pep8 validation to
fail:

- raise-missing-from (W0707)
- super-with-arguments (R1725)

[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html

Change-Id: I50e798178a546132fba608ec4350d19a24986326
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/84/748284/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/api/drivers/driver_lib.py', 'octavia_lib/api/drivers/exceptions.py']",2,89024085faf7da838735991c5df100f1941d34cf,," super().__init__(self.user_fault_string, *args, **kwargs) super().__init__(self.user_fault_string, *args, **kwargs) super().__init__(self.user_fault_string, *args, **kwargs) super().__init__(self.fault_string, *args, **kwargs) super().__init__(self.fault_string, *args, **kwargs) super().__init__(self.fault_string, *args, **kwargs) super().__init__(self.fault_string, *args, **kwargs) super().__init__(self.user_fault_string, *args, **kwargs)"," super(DriverError, self).__init__(self.user_fault_string, *args, **kwargs) super(NotImplementedError, self).__init__(self.user_fault_string, *args, **kwargs) super(UnsupportedOptionError, self).__init__(self.user_fault_string, *args, **kwargs) super(UpdateStatusError, self).__init__(self.fault_string, *args, **kwargs) super(UpdateStatisticsError, self).__init__(self.fault_string, *args, **kwargs) super(DriverAgentNotFound, self).__init__(self.fault_string, *args, **kwargs) super(DriverAgentTimeout, self).__init__(self.fault_string, *args, **kwargs) super(NotFound, self).__init__(self.user_fault_string, *args, **kwargs)",11,19
openstack%2Freleases~master~I4fcc6287e503e7a267ba88fd3413b927e6e19b0d,openstack/releases,master,I4fcc6287e503e7a267ba88fd3413b927e6e19b0d,Release Sushy 3.3.1 for victoria,MERGED,2020-08-26 12:39:46.000000000,2020-08-26 20:11:31.000000000,2020-08-26 20:11:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 12:39:46.000000000', 'files': ['deliverables/victoria/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/06602cabbd71b57837bec30594dbb102bd21afda', 'message': 'Release Sushy 3.3.1 for victoria\n\nChange-Id: I4fcc6287e503e7a267ba88fd3413b927e6e19b0d\n'}]",0,748214,06602cabbd71b57837bec30594dbb102bd21afda,9,4,1,23851,,,0,"Release Sushy 3.3.1 for victoria

Change-Id: I4fcc6287e503e7a267ba88fd3413b927e6e19b0d
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/748214/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/sushy.yaml'],1,06602cabbd71b57837bec30594dbb102bd21afda,sushy-331, - version: 3.3.1 projects: - repo: openstack/sushy hash: fc5b22a568b7ceb6bef91e56fe171b77088a5112,,4,0
openstack%2Freleases~master~I14c55344c6cd1865643a346b19f9bca3a3e5d0f5,openstack/releases,master,I14c55344c6cd1865643a346b19f9bca3a3e5d0f5,Switch monasca-ui to cycle-with-rc,MERGED,2020-08-13 16:33:52.000000000,2020-08-26 20:03:20.000000000,2020-08-26 20:03:20.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-13 16:33:52.000000000', 'files': ['deliverables/victoria/monasca-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9f4c754b2f495c8eddb7053dd7de8f3be0c21702', 'message': 'Switch monasca-ui to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\nmonasca-ui only released once last cycle, and has not done a\nrelease yet this cycle, this proposes changing the release model to\ncycle-with-rc so the expectation is only that it will release an RC by\nthe end of the cycle prior to doing the final release.\n\nThis is just a suggestion for the team to consider. The important point\nis past the milestone-2 point, downstream planning starts happening\nfor what will be included in the release. We just want to try to avoid\nthe situation where downstream expects something to be included, but we\nneed to unexpectedly drop it from the coordinated release late in the\ncycle.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: I14c55344c6cd1865643a346b19f9bca3a3e5d0f5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,746194,9f4c754b2f495c8eddb7053dd7de8f3be0c21702,13,4,1,11904,,,0,"Switch monasca-ui to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
monasca-ui only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I14c55344c6cd1865643a346b19f9bca3a3e5d0f5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/746194/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/monasca-ui.yaml'],1,9f4c754b2f495c8eddb7053dd7de8f3be0c21702,victoria-cwi,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Freleases~master~I795b118e090953d51fe9865b67499d3ca21eb9ff,openstack/releases,master,I795b118e090953d51fe9865b67499d3ca21eb9ff,Switch monasca-thresh to cycle-with-rc,MERGED,2020-08-13 16:33:50.000000000,2020-08-26 20:03:18.000000000,2020-08-26 20:03:18.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-13 16:33:50.000000000', 'files': ['deliverables/victoria/monasca-thresh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bf482e7724f0d465f36919f95bac9bf39f2e8055', 'message': 'Switch monasca-thresh to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\nmonasca-thresh only released once last cycle, and has not done a\nrelease yet this cycle, this proposes changing the release model to\ncycle-with-rc so the expectation is only that it will release an RC by\nthe end of the cycle prior to doing the final release.\n\nThis is just a suggestion for the team to consider. The important point\nis past the milestone-2 point, downstream planning starts happening\nfor what will be included in the release. We just want to try to avoid\nthe situation where downstream expects something to be included, but we\nneed to unexpectedly drop it from the coordinated release late in the\ncycle.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: I795b118e090953d51fe9865b67499d3ca21eb9ff\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,746193,bf482e7724f0d465f36919f95bac9bf39f2e8055,13,4,1,11904,,,0,"Switch monasca-thresh to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
monasca-thresh only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I795b118e090953d51fe9865b67499d3ca21eb9ff
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/746193/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/monasca-thresh.yaml'],1,bf482e7724f0d465f36919f95bac9bf39f2e8055,victoria-cwi,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Freleases~master~I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54,openstack/releases,master,I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54,Release oslo for victoria - 2020-08-20,MERGED,2020-08-20 16:27:54.000000000,2020-08-26 19:58:13.000000000,2020-08-26 19:58:13.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 16:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4e38353cf25570ef664a9bafa447ee2630b4c8a5', 'message': 'release oslo for victoria - 2020-08-20\n\nChange-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54\n'}, {'number': 2, 'created': '2020-08-20 18:48:43.000000000', 'files': ['deliverables/victoria/oslo.log.yaml', 'deliverables/victoria/oslo.cache.yaml', 'deliverables/victoria/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6bbc1e03778609718b1876dbb4b47bc58abb704b', 'message': 'Release oslo for victoria - 2020-08-20\n\nrequirements have been bumped on oslo.log and oslo.messaging so I\nproposed a minor release.\n\nChange-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54\n'}]",0,747245,6bbc1e03778609718b1876dbb4b47bc58abb704b,11,3,2,28522,,,0,"Release oslo for victoria - 2020-08-20

requirements have been bumped on oslo.log and oslo.messaging so I
proposed a minor release.

Change-Id: I5bdf4fd03d944c1ba63d1c54d39ca3ec30d04b54
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/747245/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/oslo.log.yaml', 'deliverables/victoria/oslo.cache.yaml', 'deliverables/victoria/oslo.messaging.yaml']",3,4e38353cf25570ef664a9bafa447ee2630b4c8a5,oslo-master-2020-08-20, - version: 12.2.3 projects: - repo: openstack/oslo.messaging hash: 8d78ab2339d5798c7d8f5c49eaf6d2ef18859a07,,12,0
openstack%2Fnova~stable%2Fussuri~I77b28b9cc8f99b159f628f4655d85ff305a71db8,openstack/nova,stable/ussuri,I77b28b9cc8f99b159f628f4655d85ff305a71db8,compute: Validate a BDMs disk_bus when provided,MERGED,2020-08-03 20:31:36.000000000,2020-08-26 19:46:22.000000000,2020-08-26 18:02:55.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-03 20:31:36.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/objects/fields.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb31ae430a2e4f8869e77e31ea0d6a9478f6aa61', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n(cherry picked from commit 5913bd889f9d3dfc8d154415e666c821054c229d)\n""}]",0,744550,fb31ae430a2e4f8869e77e31ea0d6a9478f6aa61,34,9,1,10135,,,0,"compute: Validate a BDMs disk_bus when provided

Previously disk_bus values were never validated and could easily end up
being ignored by the underlying virt driver and hypervisor.

For example, a common mistake made by users is to request a virtio-scsi
disk_bus when using the libvirt virt driver. This however isn't a valid
bus and is ignored, defaulting back to the virtio (virtio-blk) bus.

This change adds a simple validation in the compute API using the
potential disk_bus values provided by the DiskBus field class as used
when validating the hw_*_bus image properties.

Closes-Bug: #1876301
Change-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8
(cherry picked from commit 5913bd889f9d3dfc8d154415e666c821054c229d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/744550/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/objects/fields.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",7,fb31ae430a2e4f8869e77e31ea0d6a9478f6aa61,bug/1876301," exception.InvalidBDMDiskBus,",,38,4
openstack%2Fvalidations-libs~master~Ibda46fbb42f77a3a55243539721557a4e95f93ff,openstack/validations-libs,master,Ibda46fbb42f77a3a55243539721557a4e95f93ff,Add lower ansible-runner version as requirements for train,MERGED,2020-08-25 20:11:39.000000000,2020-08-26 19:42:02.000000000,2020-08-26 19:42:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-25 20:11:39.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fd1bdba4585ff230362214eb47091b5f96c09291', 'message': 'Add lower ansible-runner version as requirements for train\n\nIn order to be supported by train, we need to have a lower\nversion of ansible runner\n\nChange-Id: Ibda46fbb42f77a3a55243539721557a4e95f93ff\n'}]",0,748023,fd1bdba4585ff230362214eb47091b5f96c09291,9,5,1,16515,,,0,"Add lower ansible-runner version as requirements for train

In order to be supported by train, we need to have a lower
version of ansible runner

Change-Id: Ibda46fbb42f77a3a55243539721557a4e95f93ff
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/23/748023/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,fd1bdba4585ff230362214eb47091b5f96c09291,ansible/runner,ansible-runner==1.3.4,ansible-runner==1.4.4,2,2
openstack%2Ftripleo-ci~master~I15c798571b7b7f29de835cfbda9d9fcadfbd74a0,openstack/tripleo-ci,master,I15c798571b7b7f29de835cfbda9d9fcadfbd74a0,Increase timeout for build images job,MERGED,2020-08-25 09:46:46.000000000,2020-08-26 19:42:01.000000000,2020-08-26 19:42:01.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-25 09:46:46.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/14f6c4bfa16aea13991d92a53f459bcd2cb8aa79', 'message': 'Increase timeout for build images job\n\nChange-Id: I15c798571b7b7f29de835cfbda9d9fcadfbd74a0\n'}]",0,747882,14f6c4bfa16aea13991d92a53f459bcd2cb8aa79,21,7,1,10969,,,0,"Increase timeout for build images job

Change-Id: I15c798571b7b7f29de835cfbda9d9fcadfbd74a0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/747882/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,14f6c4bfa16aea13991d92a53f459bcd2cb8aa79,, timeout: 5400 timeout: 5400, timeout: 4200 timeout: 4200,2,2
openstack%2Fpuppet-tripleo~stable%2Fussuri~Id40ac8c10fd0348ce4fd99ce319dab933312acfa,openstack/puppet-tripleo,stable/ussuri,Id40ac8c10fd0348ce4fd99ce319dab933312acfa,HA: ensure scaling up galera does not cause promotion errors,MERGED,2020-08-25 07:36:34.000000000,2020-08-26 19:42:00.000000000,2020-08-26 19:42:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-25 07:36:34.000000000', 'files': ['lib/puppet/functions/pacemaker_bundle_replicas.rb', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e75842e53eb4563734b55055384018b77d22072d', 'message': 'HA: ensure scaling up galera does not cause promotion errors\n\nDuring scale up, two galera resources are being updated in the\npacemaker cluster. Force a specific ordering in puppet to make\nsure the galera resource agent always picks up the up-to-date\nconfig when it starts new replicas.\n\nCloses-Bug: #1892530\n\nChange-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa\n(cherry picked from commit 16a6ba465d420b23da77bab2f64286037d1ced37)\n'}]",0,747851,e75842e53eb4563734b55055384018b77d22072d,12,6,1,20172,,,0,"HA: ensure scaling up galera does not cause promotion errors

During scale up, two galera resources are being updated in the
pacemaker cluster. Force a specific ordering in puppet to make
sure the galera resource agent always picks up the up-to-date
config when it starts new replicas.

Closes-Bug: #1892530

Change-Id: Id40ac8c10fd0348ce4fd99ce319dab933312acfa
(cherry picked from commit 16a6ba465d420b23da77bab2f64286037d1ced37)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/51/747851/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/functions/pacemaker_bundle_replicas.rb', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",2,e75842e53eb4563734b55055384018b77d22072d,galera-scale-up-stable/ussuri," before => Exec['galera-ready'], require => [Class['::mysql::server']], # Resource relation: we normally want the bundle resource to # be run before the OCF one, as the latter depends on the former # at creation time. # However during scale up, both resources change, and the bundle # one shouldn't be updated prior to the OCF one, otherwise # pacemaker could spawn additional replicas before the necessary # info is updated in the OCF resource, which would confuse the # galera resource agent and cause spurious errors. $replicas=pacemaker_bundle_replicas('galera-bundle') if ($replicas > 0) and ($galera_nodes_count > $replicas) { Pacemaker::Resource::Ocf['galera'] -> Pacemaker::Resource::Bundle['galera-bundle'] } else { Pacemaker::Resource::Bundle['galera-bundle'] -> Pacemaker::Resource::Ocf['galera'] } "," require => [Class['::mysql::server'], Pacemaker::Resource::Bundle['galera-bundle']],",40,2
openstack%2Fglance~master~Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c,openstack/glance,master,Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c,Add functional test for task status updating,MERGED,2020-08-07 18:58:20.000000000,2020-08-26 19:28:28.000000000,2020-08-26 19:22:20.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 18:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/63982a10e96271f42680d4e80f2b7b323ff9abb3', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 2, 'created': '2020-08-07 19:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/83d3517c6792fca94e1eef65d3677555c458b3ff', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 3, 'created': '2020-08-10 13:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3f819cb456e1de4f047284a5774e6b09d12abb3e', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 4, 'created': '2020-08-12 17:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/43ae46e141cd6ecf05761aa9914e6682d096169d', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 5, 'created': '2020-08-18 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f78b669f8d625aac2c2ec8c1f16e58581e5ad311', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 6, 'created': '2020-08-18 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3ed8fd47eba10d35066b1501e27ba03374843233', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 7, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/25cb2a8a28dae26ff7a3617f5bf2d21da16d09c7', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 8, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/364bc8a16fe2e1749f0380080a71d79970c26c4d', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 9, 'created': '2020-08-21 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d76a550765d1d2a22088c6c22e13bd35676710c5', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 10, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c6bcd4380afa4ece66cf15cab29bd09de9f4371', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}, {'number': 11, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/tests/functional/v2/test_images_import_locking.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/1b006c4f44e56d08d5ca1fb9090dc83990395d87', 'message': 'Add functional test for task status updating\n\nThis was really hard to test before the introduction of the\nSynchronousAPIBase test class, so this is added after that patch for\nconvenience.\n\nThis tests uses two mocks, but it\'s otherwise quite ""functional"" in its\nrealness. It mocks out the timer so it always fires, and it mocks out\nthe effective call to glance_store and uses that as a hook to grab the\ntask state in lockstep (and avoid making another copy of the fake data\non disk, since we need to generate a couple MiB of data to test this).\n\nChange-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c\n'}]",1,745392,1b006c4f44e56d08d5ca1fb9090dc83990395d87,47,5,11,4393,,,0,"Add functional test for task status updating

This was really hard to test before the introduction of the
SynchronousAPIBase test class, so this is added after that patch for
convenience.

This tests uses two mocks, but it's otherwise quite ""functional"" in its
realness. It mocks out the timer so it always fires, and it mocks out
the effective call to glance_store and uses that as a hook to grab the
task state in lockstep (and avoid making another copy of the fake data
on disk, since we need to generate a couple MiB of data to test this).

Change-Id: Ibd0c802efa2723e11ece1097c9bf1ad68b1a820c
",git fetch https://review.opendev.org/openstack/glance refs/changes/92/745392/5 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images_import_locking.py'],1,63982a10e96271f42680d4e80f2b7b323ff9abb3,task-heartbeat,"from oslo_utils import units def api_put(self, url, data=None, json=None, headers=None, body_file=None): if data and not body_file: elif body_file: req.body_file = body_file def _import_direct(self, image_id, stores): """"""Do an import of image_id to the given stores."""""" body = {'method': {'name': 'glance-direct'}, 'stores': stores, 'all_stores': False} return self.api_post( '/v2/images/%s/import' % image_id, json=body) def _create_and_stage(self, data_iter=None): if data_iter: resp = self.api_put( '/v2/images/%s/stage' % image['id'], headers={'Content-Type': 'application/octet-stream'}, body_file=data_iter) else: resp = self.api_put( '/v2/images/%s/stage' % image['id'], headers={'Content-Type': 'application/octet-stream'}, data=b'IMAGEDATA') return image['id'] def _create_and_import(self, stores=[], data_iter=None): """"""Create an image, stage data, and import into the given stores. :returns: image_id """""" image_id = self._create_and_stage(data_iter=data_iter) resp = self._import_direct(image_id, stores) image = self.api_get('/v2/images/%s' % image_id).json return image_id @mock.patch('oslo_utils.timeutils.StopWatch.expired', new=lambda x: True) def test_import_task_status(self): self.start_server() # Generate 3 MiB of data for the image, enough to get a few # status messages limit = 3 * units.Mi class FakeData(object): """"""Generate a bunch of data without storing it in memory."""""" def __init__(self, *a, **k): self._len = 0 def read(myself, length=None): if length is None: length = 65536 myself._len += length if myself._len >= limit: return b'' else: return b'0' * length image_id = self._create_and_stage(data_iter=FakeData()) # This utility function will grab the current task status at # any time and stash it into a list of statuses if it finds a # new one statuses = [] def grab_task_status(): image = self.api_get('/v2/images/%s' % image_id).json task_id = image['os_glance_import_task'] task = self.api_get('/v2/tasks/%s' % task_id).json msg = task['message'] if msg not in statuses: statuses.append(msg) # This is the only real thing we have mocked out, which is the # ""upload this to glance_store"" part, which we override so we # can control the block size and check our task status # synchronously and not depend on timers. It just reads the # source data in 64KiB chunks and throws it away. def fake_upload(data, *a, **k): while True: grab_task_status() if not data.read(65536): break time.sleep(0.1) with mock.patch('glance.location.ImageProxy._upload_to_store') as mu: mu.side_effect = fake_upload # Start the import... resp = self._import_direct(image_id, ['store2']) self.assertEqual(202, resp.status_code) # ...and wait until it finishes for i in range(0, 100): image = self.api_get('/v2/images/%s' % image_id).json if not image.get('os_glance_import_task'): break time.sleep(0.1) # Image should be in active state and we should have gotten a # new message every 1MiB in the process. We mocked StopWatch # to always be expired so that we fire the callback every # time. self.assertEqual('active', image['status']) self.assertEqual(['', 'Copied 0 MiB', 'Copied 1 MiB', 'Copied 2 MiB'], statuses)"," def api_put(self, url, data=None, json=None, headers=None): if data: def _create_and_import(self, stores=[]): """"""Create an image, stage data, and import into the given stores. :returns: image_id """""" resp = self.api_put( '/v2/images/%s/stage' % image['id'], headers={'Content-Type': 'application/octet-stream'}, data=b'IMAGEDATA') body = {'method': {'name': 'glance-direct'}} if stores: body['stores'] = stores resp = self.api_post( '/v2/images/%s/import' % image['id'], json=body) image = self.api_get('/v2/images/%s' % image['id']).json return image['id']",107,18
openstack%2Fopenstack-helm-infra~master~I68684f3e7619a5b27f90a0b953aa534de46a6b94,openstack/openstack-helm-infra,master,I68684f3e7619a5b27f90a0b953aa534de46a6b94,Add job for ovs-dpdk,ABANDONED,2019-06-10 08:06:10.000000000,2020-08-26 19:28:19.000000000,,"[{'_account_id': 12281}, {'_account_id': 16353}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29668}, {'_account_id': 30220}, {'_account_id': 30371}]","[{'number': 1, 'created': '2019-06-10 08:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4b336170a6b87c787675f686b3ba91ae74d2fdf3', 'message': 'Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 2, 'created': '2019-06-10 08:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d335bd9f210d1e9d3879d2501c506ac6714b2fa', 'message': 'Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 3, 'created': '2019-06-10 10:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6775ff3900bea6137dec979df5096cd64928df5', 'message': 'Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 4, 'created': '2019-06-10 10:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ff8001ac7211fbbf0eb3a3261d4669ee578e046', 'message': 'Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 5, 'created': '2019-06-11 08:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d136b01c281e88ec7f40900a9453a5dc709f7a96', 'message': '[WIP] Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 6, 'created': '2019-06-11 10:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/884b31213dec71cd1ec68e2787bddd44eeeab9cd', 'message': '[WIP] Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 7, 'created': '2019-06-12 02:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a05fea7ebabe5e2d5cc4dae499f4525f0fd8bda1', 'message': '[WIP] Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 8, 'created': '2019-07-02 02:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d965d889f8295166920b6315640940aa19d584d4', 'message': '[WIP] Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 9, 'created': '2019-07-12 15:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0e18b9a2361a7dc808ceb36eb7d6eee54c1e0de', 'message': 'Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 10, 'created': '2019-07-19 01:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eae89f032457b33440ae221ad9e500bb004e7eb0', 'message': 'Add nv job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a nv job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 11, 'created': '2019-07-22 12:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d5233a026f70dfcde0664c18e1e4b26df47f36f', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 12, 'created': '2019-08-20 09:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/673daa5d99c1a6fc687350ae91995ee33f161203', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 13, 'created': '2019-08-21 05:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0845a2cf39def451da2e27160fbed4926b0ac9b', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 14, 'created': '2019-08-21 06:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9b4da11aaac547483cbc0b490c1045d72ca2ab5f', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 15, 'created': '2019-08-23 05:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2710002c5ad5f7a16bbff42d9a180d95846161a', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 16, 'created': '2019-08-28 01:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e12d9298c884d8b42c12da30fc1fe760473e5e4e', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 17, 'created': '2019-08-28 05:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ffa2086cfac74879722319b14952294f660487f', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 18, 'created': '2019-08-28 05:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7ed32f570f6b333aecd8270b71da0b5b5c3e704', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 19, 'created': '2019-08-28 06:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d205845766bc0713738cc6e1874b1a9bfccf863', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 20, 'created': '2019-10-15 01:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5526fbc9d2e1f3ebf2bed5c5250866f507799cd8', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 21, 'created': '2019-10-15 01:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2691b436939072f64a79c86e5d4f46d1340e634c', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 22, 'created': '2019-10-15 03:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3236825e67c803ddc5f467602d4fdad0c7ad4327', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 23, 'created': '2019-10-15 06:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76d024ea20ed13b8a99fa29ba6fd55a689be26a3', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 24, 'created': '2019-10-15 06:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a614a3fa454d3f19d6fd064332a860973f047c2c', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 25, 'created': '2019-11-26 08:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6ba41f38752b9adaec927cdb389c010900d5f7f', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}, {'number': 26, 'created': '2019-11-26 09:23:15.000000000', 'files': ['tools/deployment/common/get-values-overrides.sh', 'tools/deployment/openstack-support/060-openvswitch-dpdk.sh', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/openstack-support/004-allocate-hugepages.sh', 'openvswitch/values_overrides/dpdk-ubuntu_bionic.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7203e20d515e40b8f8fe2a3834b49809accefe3', 'message': 'Add job for ovs-dpdk\n\nGeorg has created a patch[1] to extend ovs chart with dpdk support. So I\ncreate this patch to add a job for dpdk feature.\n\n060-openvswitch-dpdk.sh script will be executed in the job. Within the\nscript, we allocate 2M size hugepages and enable dpdk feature.\n\n[1] https://review.opendev.org/#/c/626894/\n\nChange-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94\n'}]",20,664220,d7203e20d515e40b8f8fe2a3834b49809accefe3,78,11,26,29668,,,0,"Add job for ovs-dpdk

Georg has created a patch[1] to extend ovs chart with dpdk support. So I
create this patch to add a job for dpdk feature.

060-openvswitch-dpdk.sh script will be executed in the job. Within the
script, we allocate 2M size hugepages and enable dpdk feature.

[1] https://review.opendev.org/#/c/626894/

Change-Id: I68684f3e7619a5b27f90a0b953aa534de46a6b94
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/664220/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/openstack-support/060-openvswitch-dpdk.sh', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,4b336170a6b87c787675f686b3ba91ae74d2fdf3,resolv_confilict-patch24, name: openstack-helm-infra-openstack-support-dpdk parent: openstack-helm-infra-functional timeout: 7200 pre-run: playbooks/osh-infra-upgrade-host.yaml run: playbooks/osh-infra-gate-runner.yaml required-projects: - openstack/openstack-helm post-run: playbooks/osh-infra-collect-logs.yaml nodeset: openstack-helm-single-node vars: gate_scripts: - ./tools/deployment/openstack-support/000-install-packages.sh - ./tools/deployment/openstack-support/005-deploy-k8s.sh - ./tools/deployment/openstack-support/010-ingress.sh - ./tools/deployment/openstack-support/020-ceph.sh - ./tools/deployment/openstack-support/025-ceph-ns-activate.sh - ./tools/deployment/openstack-support/030-rabbitmq.sh - ./tools/deployment/openstack-support/040-memcached.sh - ./tools/deployment/openstack-support/050-libvirt.sh - ./tools/deployment/openstack-support/060-openvswitch-dpdk.sh - ./tools/deployment/openstack-support/070-mariadb.sh - ./tools/deployment/openstack-support/080-setup-client.sh - ./tools/deployment/openstack-support/090-keystone.sh - ./tools/deployment/openstack-support/100-ceph-radosgateway.sh - job:,,91,1
openstack%2Fopenstack-helm~master~I5b2005d64f4a33d00cd1e34fb0b6fcd526660764,openstack/openstack-helm,master,I5b2005d64f4a33d00cd1e34fb0b6fcd526660764,[nova] Mend ssh settings for cold migration,ABANDONED,2019-11-06 11:23:53.000000000,2020-08-26 19:28:15.000000000,,"[{'_account_id': 8898}, {'_account_id': 14525}, {'_account_id': 16771}, {'_account_id': 17130}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-11-06 11:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad1b88e0d70d9ded700b948d441527a89a17a6db', 'message': '[nova] Mend ssh settings for cold migration\n\n* fix container security context\n* remove overlapping sections\n\nChange-Id: I5b2005d64f4a33d00cd1e34fb0b6fcd526660764\n'}, {'number': 2, 'created': '2019-11-07 14:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/05cd02c8823a08c7878eeacd691c53c02cf56dfd', 'message': '[nova] Mend ssh settings for cold migration\n\n* fix container security context\n* remove overlapping sections\n* install private key from init container\n\nChange-Id: I5b2005d64f4a33d00cd1e34fb0b6fcd526660764\n'}, {'number': 3, 'created': '2019-11-08 11:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/adbb37e10cdecaefd87cf1a83e9aec972a80eb2d', 'message': '[nova] Mend ssh settings for cold migration\n\n* fix container security context\n* remove overlapping sections\n* install private key from init container\n* install authorized keys and set shell for nova user\n\nChange-Id: I5b2005d64f4a33d00cd1e34fb0b6fcd526660764\n'}, {'number': 4, 'created': '2019-11-11 14:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b87a9ab4bbe33731eee350865bfc0f57789e79a', 'message': '[nova] Mend ssh settings for cold migration\n\n* fix container security context\n* remove overlapping sections\n* install private key from init container\n* install authorized keys and set shell for nova user\n\nChange-Id: I5b2005d64f4a33d00cd1e34fb0b6fcd526660764\n'}, {'number': 5, 'created': '2019-11-12 12:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/974bf21ca417edb9aa93f209e590420f6129538f', 'message': '[nova] Mend ssh settings for cold migration\n\n* fix container security context\n* remove overlapping sections\n* install private key from init container\n* install authorized keys and set shell for nova user\n\nChange-Id: I5b2005d64f4a33d00cd1e34fb0b6fcd526660764\n'}, {'number': 6, 'created': '2019-11-14 08:45:52.000000000', 'files': ['nova/templates/bin/_ssh-start.sh.tpl', 'nova/templates/bin/_nova-compute-init.sh.tpl', 'nova/values.yaml', 'nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38536db4782903bac2611568efd3a071b2187323', 'message': '[nova] Mend ssh settings for cold migration\n\n* fix container security context\n* remove overlapping sections\n* install private key from init container\n* install authorized keys and set shell for nova user\n\nChange-Id: I5b2005d64f4a33d00cd1e34fb0b6fcd526660764\n'}]",8,693157,38536db4782903bac2611568efd3a071b2187323,32,9,6,16771,,,0,"[nova] Mend ssh settings for cold migration

* fix container security context
* remove overlapping sections
* install private key from init container
* install authorized keys and set shell for nova user

Change-Id: I5b2005d64f4a33d00cd1e34fb0b6fcd526660764
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/57/693157/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/daemonset-compute.yaml']",2,ad1b88e0d70d9ded700b948d441527a89a17a6db,nova_ssh, - name: run mountPath: /run, securityContext: privileged: true securityContext: privileged: true - name: varliblibvirt mountPath: /var/lib/libvirt,3,7
openstack%2Fopenstack-helm~master~I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b,openstack/openstack-helm,master,I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b,Support bond port with auto_bridge_add,ABANDONED,2019-08-01 07:49:35.000000000,2020-08-26 19:28:10.000000000,,"[{'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27589}, {'_account_id': 28743}, {'_account_id': 28935}, {'_account_id': 29668}, {'_account_id': 30356}, {'_account_id': 30752}]","[{'number': 1, 'created': '2019-08-01 07:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/600c91129d5428391e1480097e9fb4232fa29204', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. bond port is useful for network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 2, 'created': '2019-08-01 09:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/56d837e609beed7b630d95d5cab1bee3c92e099b', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 3, 'created': '2019-08-01 09:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/24b006c83953bb6c01483fa21747c016cf5ccf81', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 4, 'created': '2019-08-02 01:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ebb7f56879d54d883f1b9875539fdd81aad83712', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 5, 'created': '2019-08-04 14:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/023df2e7c026eb64f73ac26a48abf8f7bc4d6ab9', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 6, 'created': '2019-08-05 01:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/955b4173c4ee89b1b17478e812654f96376665db', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 7, 'created': '2019-08-05 09:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3a3bcefebcc192356e8f4af8cb1209b55ef0348', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 8, 'created': '2019-08-06 04:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95adeaaf63b33cc87d1a6aa35ecb404e1d6fa184', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 9, 'created': '2019-08-06 05:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/697e720f6ee672314eb88017adac3603cf880aeb', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 10, 'created': '2019-08-06 08:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48cf0719fb2647449fab514774f4d513104fca42', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 11, 'created': '2019-09-11 03:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15f4d315f37a1db7f501efea70c3bbf17c40869e', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 12, 'created': '2019-09-11 04:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/34fede53d4ed5a598679d65e147b6d0e01691eb8', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 13, 'created': '2019-09-17 05:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01c498da2e9a695333dbadf9c3b13940800442eb', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 14, 'created': '2019-09-17 07:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/340ebc9eab62c4b9133cea0e3f508b5944222715', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 15, 'created': '2019-09-17 08:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/882874b515f1cdc52cdde86fc48e9553bef2d718', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 16, 'created': '2019-09-17 12:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10a8f80bcb5eab2f6d45f8e151aea8ea26877b77', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 17, 'created': '2019-09-17 12:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/864f15d1e7d77fed4769187b99223f9f88d47f2a', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 18, 'created': '2019-10-14 15:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0044981639171afa5fc5592adca1133b78702390', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nStory: 2005946\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 19, 'created': '2019-10-14 15:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8ba91dfcfa24b63558d0a1e94f7de21e1259935', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nStory: 2005946\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}, {'number': 20, 'created': '2019-10-21 04:19:23.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2743f487f76a0d9c4549c780cf3d14100a714d7b', 'message': 'Support bond port with auto_bridge_add\n\nIn neutron chart, ovs bridges are created and ports are added to some\nof the ovs bridges according to auto_bridge_add.\nFor now, we only support the ethernet port. This commition is to\nproposal bond port support. which is helpful to network HA.\nFor bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl\nadd-port\n\nStory: 2005946\n\nChange-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b\n'}]",26,673950,2743f487f76a0d9c4549c780cf3d14100a714d7b,57,11,20,30752,,,0,"Support bond port with auto_bridge_add

In neutron chart, ovs bridges are created and ports are added to some
of the ovs bridges according to auto_bridge_add.
For now, we only support the ethernet port. This commition is to
proposal bond port support. which is helpful to network HA.
For bond port, we should use ovs-vsctl add-bond instead of ovs-vsctl
add-port

Story: 2005946

Change-Id: I2aa4a0ce90b3d0e6ed40a9e014fc07182ca0274b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/673950/17 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml']",2,600c91129d5428391e1480097e9fb4232fa29204,ovs-bond, pattern: '^(?!amq\.).*' # br-ex: # br_name: br-ex # type: bond/ethernet # port_name: (be different to bridge name) # bond_mode: (active-backup/balance-slb/balance-tcp) # slaves: # - eth1 # - eth2 # br-ex1: null (or the interference to be bind to the bridge), pattern: '^(?!(amq\.|reply_)).*' # br-physnet1: eth3 # br0: if0 # br1: iface_two,45,12
openstack%2Fopenstack-helm-infra~master~Ib70c93142a5a3764e3e0023a6121dfbea39ea002,openstack/openstack-helm-infra,master,Ib70c93142a5a3764e3e0023a6121dfbea39ea002,WIP: Set ctl socket ownership,ABANDONED,2019-11-13 23:59:23.000000000,2020-08-26 19:28:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-13 23:59:23.000000000', 'files': ['openvswitch/templates/bin/_openvswitch-vswitchd.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18e02e4dd0965a0a01ba953ad2ba4b7ad773eae6', 'message': 'WIP: Set ctl socket ownership\n\nChange-Id: Ib70c93142a5a3764e3e0023a6121dfbea39ea002\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,694180,18e02e4dd0965a0a01ba953ad2ba4b7ad773eae6,3,1,1,23928,,,0,"WIP: Set ctl socket ownership

Change-Id: Ib70c93142a5a3764e3e0023a6121dfbea39ea002
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/694180/1 && git format-patch -1 --stdout FETCH_HEAD,['openvswitch/templates/bin/_openvswitch-vswitchd.sh.tpl'],1,18e02e4dd0965a0a01ba953ad2ba4b7ad773eae6,,OVS_PID_FILE=/run/openvswitch/ovs-vswitchd.pid ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-hugepage-dir={{ .Values.conf.ovs_dpdk.hugepages_mountpath | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-socket-mem={{ .Values.conf.ovs_dpdk.socket_memory | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-mem-channels={{ .Values.conf.ovs_dpdk.mem_channels | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:pmd-cpu-mask={{ .Values.conf.ovs_dpdk.pmd_cpu_mask | quote }} PMD_CPU_MASK={{ .Values.conf.ovs_dpdk.pmd_cpu_mask | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-lcore-mask={{ .Values.conf.ovs_dpdk.lcore_mask | quote }} LCORE_MASK={{ .Values.conf.ovs_dpdk.lcore_mask | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:vhost-sock-dir={{ .Values.conf.ovs_dpdk.vhostuser_socket_dir | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-init=true /usr/sbin/ovs-vswitchd unix:${OVS_SOCKET} \ -vconsole:emer \ -vconsole:err \ -vconsole:info \ --pidfile=${OVS_PID_FILE} \ --mlockall & OVS_PID=$(cat ${OVS_PID_FILE}) OVS_CTL=/run/openvswitch/ovs-vswitchd.${OVS_PID}.ctl chown {{ .Values.pod.user.nova.uid }}.{{ .Values.pod.user.nova.uid }} ${OVS_CTL} wait PID=$(cat $OVS_PID_FILE),OVS_PID=/run/openvswitch/ovs-vswitchd.pid ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-hugepage-dir={{ .Values.conf.ovs_dpdk.hugepages_mountpath | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-socket-mem={{ .Values.conf.ovs_dpdk.socket_memory | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-mem-channels={{ .Values.conf.ovs_dpdk.mem_channels | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:pmd-cpu-mask={{ .Values.conf.ovs_dpdk.pmd_cpu_mask | quote }} PMD_CPU_MASK={{ .Values.conf.ovs_dpdk.pmd_cpu_mask | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-lcore-mask={{ .Values.conf.ovs_dpdk.lcore_mask | quote }} LCORE_MASK={{ .Values.conf.ovs_dpdk.lcore_mask | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:vhost-sock-dir={{ .Values.conf.ovs_dpdk.vhostuser_socket_dir | quote }} ovs-vsctl --db=unix:${OVS_SOCKET} --no-wait set Open_vSwitch . other_config:dpdk-init=true exec /usr/sbin/ovs-vswitchd unix:${OVS_SOCKET} \ -vconsole:emer \ -vconsole:err \ -vconsole:info \ --pidfile=${OVS_PID} \ --mlockall PID=$(cat $OVS_PID),23,17
openstack%2Floci~master~I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3,openstack/loci,master,I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3,Install uwsgi-plugin-python3 on bionic images,ABANDONED,2019-09-24 12:38:42.000000000,2020-08-26 19:28:00.000000000,,"[{'_account_id': 2243}, {'_account_id': 8863}, {'_account_id': 14119}, {'_account_id': 14525}, {'_account_id': 17068}, {'_account_id': 18795}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29013}, {'_account_id': 29071}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-09-24 12:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/695c9e1a3baa96b3425255af15bebb812fc1dce5', 'message': 'Install python3-dev for barbican images\n\nChange-Id: I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3\n'}, {'number': 2, 'created': '2019-09-24 13:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d261127263b17f21019836582de828237646e26f', 'message': 'Install python3-dev for barbican images\n\nIt was found that when starting uwsgi on stein\nimage (which is used in barbican start script)\nthe ""libpython3.6m.so.1.0"" shared library is not\nfound since python3-dev is not installed by\ndependencies.\n\nChange-Id: I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3\n'}, {'number': 3, 'created': '2019-09-24 16:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/fc9f419d051a54a2eb921142a3c86ab2d64b4b18', 'message': 'Install uwsgi-plugin-python3 on bionic images\n\nIt was found that when starting uwsgi on stein\nimage (which is used in barbican start script for instance)\nthe ""libpython3.6m.so.1.0"" shared library is not\nfound since python3-dev or libpython3.6 is not\ninstalled by dependency.\n\nChange-Id: I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3\n'}, {'number': 4, 'created': '2019-09-25 07:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/95d04267c9a09c8dcc2fa5c7feeea6349df86787', 'message': 'Install uwsgi-plugin-python3 on bionic images\n\nIt was found that when starting uwsgi on stein\nimage (which is used in barbican start script for instance)\nthe ""libpython3.6m.so.1.0"" shared library is not\nfound since python3-dev or libpython3.6 is not\ninstalled by dependency.\n\nChange-Id: I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3\n'}, {'number': 5, 'created': '2019-11-13 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e36253848f3ceb7f1aef14b411da3dfc2aa9efd5', 'message': 'Install uwsgi-plugin-python3 on bionic images\n\nIt was found that when starting uwsgi on stein\nimage (which is used in barbican start script for instance)\nthe ""libpython3.6m.so.1.0"" shared library is not\nfound since python3-dev or libpython3.6 is not\ninstalled by dependency.\n\nChange-Id: I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3\n'}, {'number': 6, 'created': '2019-11-13 15:02:08.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/933a95cbe37569c7d97a711d11ea8ede88b15f74', 'message': 'Install uwsgi-plugin-python3 on bionic images\n\nIt was found that when starting uwsgi on stein\nimage (which is used in barbican start script for instance)\nthe ""libpython3.6m.so.1.0"" shared library is not\nfound since python3-dev or libpython3.6 is not\ninstalled by dependency.\n\nChange-Id: I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3\n'}]",4,684298,933a95cbe37569c7d97a711d11ea8ede88b15f74,31,11,6,29013,,,0,"Install uwsgi-plugin-python3 on bionic images

It was found that when starting uwsgi on stein
image (which is used in barbican start script for instance)
the ""libpython3.6m.so.1.0"" shared library is not
found since python3-dev or libpython3.6 is not
installed by dependency.

Change-Id: I1597c3f4673b75f5ed1a60828cf9cfb2f8221db3
",git fetch https://review.opendev.org/openstack/loci refs/changes/98/684298/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,695c9e1a3baa96b3425255af15bebb812fc1dce5,python3-dev_barbican,python3-dev [platform:dpkg (requirements python3) (barbican python3)] python3-devel [platform:rpm (requirements python3) (barbican python3)],python3-dev [platform:dpkg (requirements python3)] python3-devel [platform:rpm (requirements python3)],2,2
openstack%2Fopenstack-helm-infra~master~Iea35d587fd68b1c34b7b90f9fdff89081cc97d90,openstack/openstack-helm-infra,master,Iea35d587fd68b1c34b7b90f9fdff89081cc97d90,[Rabbitmq] Resolve rabbitmq pods when they not ready,ABANDONED,2019-11-11 10:42:08.000000000,2020-08-26 19:27:45.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-11-11 10:42:08.000000000', 'files': ['rabbitmq/templates/service.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5067680dd072f0c187565a024dc8837fac175746', 'message': '[Rabbitmq] Resolve rabbitmq pods when they not ready\n\nRabbitmq requires working DNS on start, while k8s will not resolve\npods that are not ready by default.\n\nThe patch allows to resolve rabbitmq service always.\nhttps://github.com/kubernetes-sigs/external-dns/issues/878\n\nChange-Id: Iea35d587fd68b1c34b7b90f9fdff89081cc97d90\n'}]",0,693677,5067680dd072f0c187565a024dc8837fac175746,3,8,1,14525,,,0,"[Rabbitmq] Resolve rabbitmq pods when they not ready

Rabbitmq requires working DNS on start, while k8s will not resolve
pods that are not ready by default.

The patch allows to resolve rabbitmq service always.
https://github.com/kubernetes-sigs/external-dns/issues/878

Change-Id: Iea35d587fd68b1c34b7b90f9fdff89081cc97d90
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/77/693677/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/service.yaml'],1,5067680dd072f0c187565a024dc8837fac175746,frs,"{{/* Rabbitmq during start will require working DNS for its pod, however k8s by default resolves only running and ready pods. https://github.com/kubernetes-sigs/external-dns/issues/878 */}} publishNotReadyAddresses: true",,4,0
openstack%2Fopenstack-helm-images~master~Ib1fe2aead98e5e74da6e117976cfc4a8ca49288d,openstack/openstack-helm-images,master,Ib1fe2aead98e5e74da6e117976cfc4a8ca49288d,Add Manila openstack image,ABANDONED,2019-11-12 09:18:13.000000000,2020-08-26 19:27:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-12 09:18:13.000000000', 'files': ['tempest/Dockerfile.opensuse_15', 'openstack/loci/build-rocky.sh', 'openstack/loci/build-stein.sh', 'tempest/Dockerfile.ubuntu_xenial', 'openstack/loci/build-newton.sh', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4abb9b5de018524c798cc5695684475fe66a07b5', 'message': 'Add Manila openstack image\n\nThis adds the Manila OpenStack image built for openstack-helm to\nopenstack-helm-images\n\nChange-Id: Ib1fe2aead98e5e74da6e117976cfc4a8ca49288d\nTask: 37402\nStory: 2006829\nSigned-off-by: Jugwan Eom <zugwan@gmail.com>\n'}]",0,693791,4abb9b5de018524c798cc5695684475fe66a07b5,3,1,1,30038,,,0,"Add Manila openstack image

This adds the Manila OpenStack image built for openstack-helm to
openstack-helm-images

Change-Id: Ib1fe2aead98e5e74da6e117976cfc4a8ca49288d
Task: 37402
Story: 2006829
Signed-off-by: Jugwan Eom <zugwan@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/91/693791/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/Dockerfile.opensuse_15', 'openstack/loci/build-rocky.sh', 'openstack/loci/build-stein.sh', 'tempest/Dockerfile.ubuntu_xenial', 'openstack/loci/build-newton.sh', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",7,4abb9b5de018524c798cc5695684475fe66a07b5,add_manila_image,"manila_profiles=${manila_profiles:-""'fluent lvm ceph'""} manila_pip_packages=${manila_pip_packages:-""'pycrypto'""}BUILD_PROJECTS=${BUILD_PROJECTS:-'requirements keystone heat barbican glance cinder neutron neutron_sriov nova horizon senlin congress magnum ironic manila'}",BUILD_PROJECTS=${BUILD_PROJECTS:-'requirements keystone heat barbican glance cinder neutron neutron_sriov nova horizon senlin congress magnum ironic'},41,4
openstack%2Fopenstack-helm-infra~master~I2104aef8f75b55031fa1aa6ac2552fbb4f019453,openstack/openstack-helm-infra,master,I2104aef8f75b55031fa1aa6ac2552fbb4f019453,Add upgrade mariadb functionality,ABANDONED,2019-11-07 14:35:18.000000000,2020-08-26 19:27:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-07 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/056c59c4c6e994a6c28db3878b51840f8fa615a8', 'message': 'Add upgrade mariadb functionality\n\nThis change allows to perform mariadb upgrade in run_mysqld method in\ncase mysql system tables are already present is in data directory.\nIf mysql is already upgraded no attempts to run upgrade will be preformed.\nTogether with statefulset rolling upgrade strategy, this allows\nto perform rolling upgrade of mysql according to [1]\n\nThe workflow of upgrade:\n- launch mysqld with wsrep disable\n- wait till it is up\n- perform mysql_upgrade command\n- shutdown mysqld\n- launch mysqld with wsrep enabled\n\n[1] https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103-with-galera-cluster/\n\nalso script is switched to subprocess32 because of subprocess.popen hanging during mysql status check.\n\nChange-Id: I2104aef8f75b55031fa1aa6ac2552fbb4f019453\n'}, {'number': 2, 'created': '2019-11-11 07:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6005054a97343edf2da4bd96b1050ed240a80db2', 'message': 'Add upgrade mariadb functionality\n\nThis change allows to perform mariadb upgrade in run_mysqld method in\ncase mysql system tables are already present is in data directory.\nIf mysql is already upgraded no attempts to run upgrade will be preformed.\nTogether with statefulset rolling upgrade strategy, this allows\nto perform rolling upgrade of mysql according to [1]\n\nThe workflow of upgrade:\n- launch mysqld with wsrep disable\n- wait till it is up\n- perform mysql_upgrade command\n- shutdown mysqld\n- launch mysqld with wsrep enabled\n\n[1] https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103-with-galera-cluster/\n\nalso script is switched to subprocess32 because of subprocess.popen hanging during mysql status check.\n\nChange-Id: I2104aef8f75b55031fa1aa6ac2552fbb4f019453\n'}, {'number': 3, 'created': '2019-11-11 07:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb14df861a07fe43f350492de47da4b5d9b7b142', 'message': 'Add upgrade mariadb functionality\n\nThis change allows to perform mariadb upgrade in run_mysqld method in\ncase mysql system tables are already present is in data directory.\nIf mysql is already upgraded no attempts to run upgrade will be preformed.\nTogether with statefulset rolling upgrade strategy, this allows\nto perform rolling upgrade of mysql according to [1]\n\nThe workflow of upgrade:\n- launch mysqld with wsrep disable\n- wait till it is up\n- perform mysql_upgrade command\n- shutdown mysqld\n- launch mysqld with wsrep enabled\n\n[1] https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103-with-galera-cluster/\n\nalso script is switched to subprocess32 because of subprocess.popen hanging during mysql status check.\n\nChange-Id: I2104aef8f75b55031fa1aa6ac2552fbb4f019453\n'}, {'number': 4, 'created': '2019-11-11 08:10:50.000000000', 'files': ['mariadb/values.yaml', 'mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ef2b2ca200c640823ae49d26db70836cec5feb5', 'message': 'Add upgrade mariadb functionality\n\nThis change allows to perform mariadb upgrade in run_mysqld method in\ncase mysql system tables are already present is in data directory.\nIf mysql is already upgraded no attempts to run upgrade will be preformed.\nTogether with statefulset rolling upgrade strategy, this allows\nto perform rolling upgrade of mysql according to [1]\n\nThe workflow of upgrade:\n- launch mysqld with wsrep disable\n- wait till it is up\n- perform mysql_upgrade command\n- shutdown mysqld\n- launch mysqld with wsrep enabled\n\n[1] https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103-with-galera-cluster/\n\nalso script is switched to subprocess32 because of subprocess.popen hanging during mysql status check.\n\nChange-Id: I2104aef8f75b55031fa1aa6ac2552fbb4f019453\n'}]",0,693362,5ef2b2ca200c640823ae49d26db70836cec5feb5,7,1,4,18795,,,0,"Add upgrade mariadb functionality

This change allows to perform mariadb upgrade in run_mysqld method in
case mysql system tables are already present is in data directory.
If mysql is already upgraded no attempts to run upgrade will be preformed.
Together with statefulset rolling upgrade strategy, this allows
to perform rolling upgrade of mysql according to [1]

The workflow of upgrade:
- launch mysqld with wsrep disable
- wait till it is up
- perform mysql_upgrade command
- shutdown mysqld
- launch mysqld with wsrep enabled

[1] https://mariadb.com/kb/en/library/upgrading-from-mariadb-102-to-mariadb-103-with-galera-cluster/

also script is switched to subprocess32 because of subprocess.popen hanging during mysql status check.

Change-Id: I2104aef8f75b55031fa1aa6ac2552fbb4f019453
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/693362/4 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,056c59c4c6e994a6c28db3878b51840f8fa615a8,mariadb_upgrade_up,"# use subprocess32 in python2 environments because of issues like https://bugs.python.org/issue1336 if os.name == 'posix' and sys.version_info[0] < 3: import subprocess32 as subprocess else: import subprocess def check_mysql_status(delay, retries): logger.info(""Start checking mariadb status"") i = 0 res = 1 while i < retries: res = run_cmd_with_logging(['mysqladmin', 'status', ""-u{0}"".format(mysql_dbadmin_username), ""-p{0}"".format(mysql_dbadmin_password)], logger) if res == 0: logger.info(""mariadb status check passed"") break else: logger.info(""mariadb status check failed"") i += 1 time.sleep(delay) if res != 0: raise Exception(""Unable to connect to database after {0} retries"".format(retries)) logger.info(""Setting the admin passwords to the current value and upgrade mysql if needed"") ""FLUSH PRIVILEGES ;"".format(mysql_dbadmin_username, mysql_dbadmin_password, # run mysqld as thread and check it's status in order to upgrade it run_cmd_with_logging_thread = threading.Thread(target=run_cmd_with_logging, args=([ ], logger)) run_cmd_with_logging_thread.start() check_mysql_status(5,6) logger.info(""Upgrading local mysql instance"") upgrade_res = run_cmd_with_logging(['mysql_upgrade', ""-u{0}"".format(mysql_dbadmin_username), ""-p{0}"".format(mysql_dbadmin_password)], logger) if upgrade_res != 0: raise Exception('Mysql upgrade failed, cannot proceed') stop_mysqld() ""This is a fresh node joining the cluster for the 1st time, not attempting to set admin passwords or upgrading""","import subprocess logger.info(""Setting the admin passwords to the current value"") ""FLUSH PRIVILEGES ;\n"" ""SHUTDOWN ;"".format(mysql_dbadmin_username, mysql_dbadmin_password, run_cmd_with_logging([ ], logger) ""This is a fresh node joining the cluster for the 1st time, not attempting to set admin passwords""",37,7
openstack%2Fopenstack-helm-infra~master~I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469,openstack/openstack-helm-infra,master,I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469,Rename keys for scripted_test values for Mariadb and Rabbitmq,ABANDONED,2019-08-19 10:40:11.000000000,2020-08-26 19:27:00.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17591}, {'_account_id': 18795}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-08-19 10:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e70d2042ed6e5b700869ffb2a7d2d61d5946404', 'message': 'Rename keys for scripted_test values for Mariadb and Rabbitmq\n\nDifferent names for mariadb and rabbitmq scripted_test image\nmake it simpler and more straightforward to override them.\n\nChange-Id: I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469\n'}, {'number': 2, 'created': '2019-08-20 07:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0fa3853f2ef0a625eae9c6fa2f7344f74508cf1d', 'message': 'Rename keys for scripted_test values for Mariadb and Rabbitmq\n\nDifferent names for mariadb and rabbitmq scripted_test image\nmake it simpler and more straightforward to override them.\n\nChange-Id: I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469\n'}, {'number': 3, 'created': '2019-08-20 07:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c57cd9136cf042c8600852aae53f3ef4f3010b75', 'message': 'Rename keys for scripted_test values for Mariadb and Rabbitmq\n\nDifferent names for mariadb and rabbitmq scripted_test image\nmake it simpler and more straightforward to override them.\n\nChange-Id: I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469\n'}, {'number': 4, 'created': '2019-10-21 14:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8511a5128cfd123eb0b8edf9d3af26ac12b3516', 'message': 'Rename keys for scripted_test values for Mariadb and Rabbitmq\n\nDifferent names for mariadb and rabbitmq scripted_test image\nmake it simpler and more straightforward to override them.\n\nChange-Id: I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469\n'}, {'number': 5, 'created': '2019-10-21 14:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4da5279525c89c324a9295456a808a10cb93a129', 'message': 'Rename keys for scripted_test values for Mariadb and Rabbitmq\n\nDifferent names for mariadb and rabbitmq scripted_test image\nmake it simpler and more straightforward to override them.\n\nChange-Id: I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469\n'}, {'number': 6, 'created': '2019-11-11 07:34:24.000000000', 'files': ['mariadb/templates/pod-test.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'mariadb/values.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/pod-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e81348689016ce39c873bdceb6a222dde478d3c', 'message': 'Rename keys for scripted_test values for Mariadb and Rabbitmq\n\nDifferent names for mariadb and rabbitmq scripted_test image\nmake it simpler and more straightforward to override them.\n\nChange-Id: I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469\n'}]",0,677175,0e81348689016ce39c873bdceb6a222dde478d3c,16,10,6,18795,,,0,"Rename keys for scripted_test values for Mariadb and Rabbitmq

Different names for mariadb and rabbitmq scripted_test image
make it simpler and more straightforward to override them.

Change-Id: I7dfbbc7d8f5e5dabbd564dbb848bd8ff2eca6469
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/677175/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/pod-test.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'mariadb/values.yaml', 'rabbitmq/values.yaml']",4,6e70d2042ed6e5b700869ffb2a7d2d61d5946404,upstream_scripted, rabbitmq_scripted_test: docker.io/rabbitmq:3.7.13-management, scripted_test: docker.io/rabbitmq:3.7.13-management,5,5
openstack%2Fopenstack-helm~master~I2504186e692fef0e5ecf77af2978d26795d28079,openstack/openstack-helm,master,I2504186e692fef0e5ecf77af2978d26795d28079,Updating Network Policy for Glance,ABANDONED,2019-11-05 15:15:16.000000000,2020-08-26 19:26:55.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28875}]","[{'number': 1, 'created': '2019-11-05 15:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c77a3dab0d7dba3dde7ac39c9027ef8c98a2469', 'message': 'Updating Network Policy for Glance\n\n  * update the tcp ports\n  * update the test negative and positive test cases\n\nChange-Id: I2504186e692fef0e5ecf77af2978d26795d28079\n'}, {'number': 2, 'created': '2019-11-07 15:43:35.000000000', 'files': ['tools/deployment/common/test-networkpolicy.sh', 'glance/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bdaa8b6c25a7f0e84bec73386c858ff17bfd84f3', 'message': 'Updating Network Policy for Glance\n\n  * update the tcp ports\n  * update the test negative and positive test cases\n\nChange-Id: I2504186e692fef0e5ecf77af2978d26795d28079\n'}]",4,693027,bdaa8b6c25a7f0e84bec73386c858ff17bfd84f3,15,3,2,28875,,,0,"Updating Network Policy for Glance

  * update the tcp ports
  * update the test negative and positive test cases

Change-Id: I2504186e692fef0e5ecf77af2978d26795d28079
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/693027/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/test-networkpolicy.sh', 'glance/values_overrides/netpol.yaml']",2,4c77a3dab0d7dba3dde7ac39c9027ef8c98a2469,,network_policy: glance: ingress: - from: - podSelector: matchLabels: application: glance - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: ironic - podSelector: matchLabels: application: cinder ports: - protocol: TCP port: 9191 - protocol: TCP port: 9292 egress: - {} ,#network_policy: # glance: # ingress: # - from: # - podSelector: # matchLabels: # application: glance # - podSelector: # matchLabels: # application: nova # - podSelector: # matchLabels: # application: horizon # - podSelector: # matchLabels: # application: ingress # - podSelector: # matchLabels: # application: heat # - podSelector: # matchLabels: # application: ironic # - podSelector: # matchLabels: # application: cinder # ports: # - protocol: TCP # port: 80 # - protocol: TCP # port: 9191 # - protocol: TCP # port: 9292,39,32
openstack%2Floci~master~I3fddc18bd3773e5cf83d55b9494304c9940f274b,openstack/loci,master,I3fddc18bd3773e5cf83d55b9494304c9940f274b,Add Octavia stable/queens branch image to Loci,ABANDONED,2018-07-20 08:38:02.000000000,2020-08-26 19:26:46.000000000,,"[{'_account_id': 1390}, {'_account_id': 9995}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27743}]","[{'number': 1, 'created': '2018-07-20 08:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/0192095e8ca1670b2d40f592f01172b451221ae3', 'message': 'Add stable/queens branch image to Loci\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 2, 'created': '2018-07-20 08:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/26ca7289333f96694ee9a3a19a2113f9b0ae3c06', 'message': 'Add stable/queens branch image to Loci\n\nIntegrate stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 3, 'created': '2018-07-20 10:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/eace852251de1da34bf5bf45a2d0f2720e0acc2a', 'message': 'Add stable/queens branch image to Loci\n\nIntegrate stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 4, 'created': '2018-07-20 13:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/29f55bd2c93196acf121d26da6737435baf583b2', 'message': 'Add stable/queens branch image to Loci\n\nIntegrate stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 5, 'created': '2018-07-20 14:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e52c5334055ada3d25c7fef50bc8a31ac74d21c0', 'message': 'Add stable/queens branch image to Loci\n\nIntegrate stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 6, 'created': '2018-07-25 08:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f068a3ab885e33286421a4bca11421adf05d8a1b', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 7, 'created': '2018-07-25 11:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/07114f1a900603239bc7e674775f4d74d3240c00', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 8, 'created': '2018-07-25 11:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/cd36a49a8aeff9cd2096734af31c14a028ae832c', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 9, 'created': '2018-07-25 13:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/09ec4bd0cab17f7fe60a15633c0f35fc43f2512e', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 10, 'created': '2018-07-26 13:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/65d3cc32685633e79ed16b83b54fcd2d306e1e80', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 11, 'created': '2018-08-01 15:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/3e29ca1717443c79bd08a125bc1f4aa504b663c8', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 12, 'created': '2018-08-03 09:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b9c00c6f22fee0e49af5bc3c7c68af21677f6554', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 13, 'created': '2018-08-03 09:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/731be0a456e579384e29311563ddb46e0b4bc9ca', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 14, 'created': '2018-08-03 13:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2fc5f9f0290be8ff9b984fac1f6f0d1e2a24f0ec', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 15, 'created': '2018-08-14 14:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/5f7613d5daaa9d8f1e6bc37b88bb7ca9d3709b8f', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}, {'number': 16, 'created': '2018-12-12 16:07:26.000000000', 'files': ['.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/0f4564ae00a0ec0eee9eea411dea65d0963b47bc', 'message': 'Add Octavia stable/queens branch image to Loci\n\nIntegrate Octavia stable/queens branch as part of the jobs to\ncreate the images and not rely only in master branches\n\nChange-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b\nTask: 23088\nStory: 2003051\n'}]",17,584279,0f4564ae00a0ec0eee9eea411dea65d0963b47bc,55,6,16,27743,,,0,"Add Octavia stable/queens branch image to Loci

Integrate Octavia stable/queens branch as part of the jobs to
create the images and not rely only in master branches

Change-Id: I3fddc18bd3773e5cf83d55b9494304c9940f274b
Task: 23088
Story: 2003051
",git fetch https://review.opendev.org/openstack/loci refs/changes/79/584279/16 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/vars.yaml'],1,0192095e8ca1670b2d40f592f01172b451221ae3,loci-branched-images," - name: centos-stable-queens image: centos:7 buildargs: base: PACKAGE_MIRROR: ""{{ zuul_site_mirror_fqdn }}"" PIP_INDEX_URL: http://{{ zuul_site_mirror_fqdn }}/pypi/simple PIP_TRUSTED_HOST: ""{{ zuul_site_mirror_fqdn }}"" project: PROJECT: ""{{ project }}"" PROJECT_REPO: http://172.17.0.1/git/openstack/{{ project }} PROJECT_REF: stable/queens WHEELS: 172.17.0.1:5000/loci/requirements:{{ branch }}-centos FROM: base:centos - name: ubuntu-stable-queens image: ubuntu:xenial buildargs: base: UBUNTU_URL: http://{{ zuul_site_mirror_fqdn }}/ubuntu/ CLOUD_ARCHIVE_URL: http://{{ zuul_site_mirror_fqdn }}/ubuntu-cloud-archive/ CEPH_URL: http://{{ zuul_site_mirror_fqdn }}/ceph-deb-luminous/ ALLOW_UNAUTHENTICATED: ""true"" PIP_INDEX_URL: http://{{ zuul_site_mirror_fqdn }}/pypi/simple PIP_TRUSTED_HOST: ""{{ zuul_site_mirror_fqdn }}"" project: PROJECT: ""{{ project }}"" PROJECT_REPO: http://172.17.0.1/git/openstack/{{ project }} PROJECT_REF: stable/queens WHEELS: 172.17.0.1:5000/loci/requirements:{{ branch }}-ubuntu FROM: base:ubuntu",,29,0
openstack%2Floci~master~I8f2f4ec66ca9cf4c16640f28ed7b549467a10bfb,openstack/loci,master,I8f2f4ec66ca9cf4c16640f28ed7b549467a10bfb,Add Neutron stable/rocky branch image to Loci,ABANDONED,2018-09-11 13:01:46.000000000,2020-08-26 19:26:36.000000000,,"[{'_account_id': 1390}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27743}]","[{'number': 1, 'created': '2018-09-11 13:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8bdb2ac189c602ec756fbda1fc0196e129fac1e4', 'message': 'Add Neutron stable/rocky branch image to Loci\n\nBy default Loci only creates images from master making the service\nbeing use the most of the time for testing environments.\nThis patch tries to generate the stable/rocky branch for neutron.\n\nChange-Id: I8f2f4ec66ca9cf4c16640f28ed7b549467a10bfb\nTask: 26381\nStory: 2003718\n'}, {'number': 2, 'created': '2018-12-12 16:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9c705408d2fa57ab48323ee1cec256c4087d920c', 'message': 'Add Neutron stable/rocky branch image to Loci\n\nBy default Loci only creates images from master making the service\nbeing use the most of the time for testing environments.\nThis patch tries to generate the stable/rocky branch for neutron.\n\nChange-Id: I8f2f4ec66ca9cf4c16640f28ed7b549467a10bfb\nTask: 26381\nStory: 2003718\n'}, {'number': 3, 'created': '2018-12-12 16:06:39.000000000', 'files': ['.zuul.d/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/21fa42a4782fab2490b458b8158f76ef593c440d', 'message': 'Add Neutron stable/rocky branch image to Loci\n\nBy default Loci only creates images from master making the service\nbeing use the most of the time for testing environments.\nThis patch tries to generate the stable/rocky branch for neutron.\n\nChange-Id: I8f2f4ec66ca9cf4c16640f28ed7b549467a10bfb\nTask: 26381\nStory: 2003718\n'}]",0,601594,21fa42a4782fab2490b458b8158f76ef593c440d,13,4,3,27743,,,0,"Add Neutron stable/rocky branch image to Loci

By default Loci only creates images from master making the service
being use the most of the time for testing environments.
This patch tries to generate the stable/rocky branch for neutron.

Change-Id: I8f2f4ec66ca9cf4c16640f28ed7b549467a10bfb
Task: 26381
Story: 2003718
",git fetch https://review.opendev.org/openstack/loci refs/changes/94/601594/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/vars.yaml', '.zuul.d/neutron.yaml']",2,8bdb2ac189c602ec756fbda1fc0196e129fac1e4,loci-branched-images, - loci-neutron-rocky: voting: false name: loci-neutron-rocky parent: loci-neutron vars: target_branch: rocky project_ref: stable/rocky - job:,,13,1
openstack%2Floci~master~Ic8cc0653ce9604ba5a4e3ab28d927b8192fa4f2b,openstack/loci,master,Ic8cc0653ce9604ba5a4e3ab28d927b8192fa4f2b,Added openssh client to install script,ABANDONED,2019-03-14 11:14:54.000000000,2020-08-26 19:26:26.000000000,,"[{'_account_id': 1390}, {'_account_id': 2243}, {'_account_id': 9373}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-14 11:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ea91ccdb75954558019eb4edc36f90dac67a028b', 'message': ""Added openssh client to install script\n\nCurrently loci doesn't support clone using ssh protocol, so\nuser is not able to set own repository for PROFILES build-arg.\n\nChange-Id: Ic8cc0653ce9604ba5a4e3ab28d927b8192fa4f2b\n""}, {'number': 2, 'created': '2019-03-15 11:24:03.000000000', 'files': ['scripts/install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/aa7ef0405dbd4323f63c33089950dd0010732271', 'message': ""Added openssh client to install script\n\nCurrently loci doesn't support clone using ssh protocol, so\nuser is not able to set own repository for PROFILES build-arg.\n\nChange-Id: Ic8cc0653ce9604ba5a4e3ab28d927b8192fa4f2b\n""}]",2,643296,aa7ef0405dbd4323f63c33089950dd0010732271,14,8,2,20676,,,0,"Added openssh client to install script

Currently loci doesn't support clone using ssh protocol, so
user is not able to set own repository for PROFILES build-arg.

Change-Id: Ic8cc0653ce9604ba5a4e3ab28d927b8192fa4f2b
",git fetch https://review.opendev.org/openstack/loci refs/changes/96/643296/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install.sh'],1,ea91ccdb75954558019eb4edc36f90dac67a028b,Ic8cc0653ce9604ba5a4e3ab28d927b8192fa4f2b, openssh-client \ openssh-clients \,,2,0
openstack%2Floci~master~Id001370dc77a4fda50e6a8f724a2d18632f10d17,openstack/loci,master,Id001370dc77a4fda50e6a8f724a2d18632f10d17,Add basic auth support for wheels registry,ABANDONED,2019-05-24 09:07:51.000000000,2020-08-26 19:26:20.000000000,,"[{'_account_id': 1390}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 9373}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30385}]","[{'number': 1, 'created': '2019-05-24 09:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4e23e0150295ad1899e3a5b91d8a9e40c2c2de1a', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\n'}, {'number': 2, 'created': '2019-05-24 09:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4aec8c90d8e5efbe6423bc4c35c70a6453bf0573', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\nSigned-off-by: ydegat <yann@2kmail.net>\n'}, {'number': 3, 'created': '2019-05-24 09:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b29fb8e56c35e16a94977411b502d25869e4b1b4', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\nSigned-off-by: ydegat <yann@2kmail.net>\n'}, {'number': 4, 'created': '2019-05-28 07:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/5f2caed666cd9c08f0aee855f8dff3dfe21c2f59', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\nSigned-off-by: ydegat <yann@2kmail.net>\n'}, {'number': 5, 'created': '2019-05-29 08:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e5e81c23a3cc57a006f2cac8f1033a93a67aa312', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\nSigned-off-by: ydegat <yann@2kmail.net>\n'}, {'number': 6, 'created': '2019-06-01 01:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2ed8f04a94af40e25b250b3ad9db496da17410cf', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\nSigned-off-by: ydegat <yann@2kmail.net>\n'}, {'number': 7, 'created': '2019-06-14 14:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6cc62089b3efbc2d2174c57ae9a2add68b241b15', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\nSigned-off-by: ydegat <yann@2kmail.net>\n'}, {'number': 8, 'created': '2019-07-01 13:50:52.000000000', 'files': ['Dockerfile', 'scripts/fetch_wheels.py', 'scripts/install.sh', 'README.md', 'Dockerfile.experimental'], 'web_link': 'https://opendev.org/openstack/loci/commit/063f243a6700a87023615389f402b852e726ad36', 'message': 'Add basic auth support for wheels registry\n\nChange-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17\nImplements: blueprint wheels-private-reg-auth-support\nSigned-off-by: ydegat <yann@2kmail.net>\n'}]",4,661242,063f243a6700a87023615389f402b852e726ad36,29,10,8,30385,,,0,"Add basic auth support for wheels registry

Change-Id: Id001370dc77a4fda50e6a8f724a2d18632f10d17
Implements: blueprint wheels-private-reg-auth-support
Signed-off-by: ydegat <yann@2kmail.net>
",git fetch https://review.opendev.org/openstack/loci refs/changes/42/661242/8 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'scripts/fetch_wheels.py']",2,4e23e0150295ad1899e3a5b91d8a9e40c2c2de1a,bp/wheels-private-reg-auth-support,"import base64def make_request(url, token=None): req = urllib2.Request(url=url) if token: r.add_header('Authorization', 'Bearer {}'.format(token)) elif 'REGISTRY_USER' in os.environ and 'REGISTRY_PASSWORD' in os.environ : user = os.environ.get('REGISTRY_USER') password = os.environ.get('REGISTRY_PASSWORD') b64auth = base64.standard_b64encode(""%s:%s"" % (user, password)) request.add_header(""Authorization"", ""Basic %s"" % b64auth) return req r = make_request(url) r = make_requets(url, token=token) r = make_request(url, token=token) r = make_request(url) r = make_requets(url)"," r = urllib2.Request(url=url) r = urllib2.Request(url=url) if token: r.add_header('Authorization', 'Bearer {}'.format(token)) r = urllib2.Request(url=url) if token: r.add_header('Authorization', 'Bearer {}'.format(token)) r = urllib2.Request(url) r = urllib2.Request(url=url)",23,9
openstack%2Floci~master~Ic12ec771ff95767d27ef527c3228360397cef021,openstack/loci,master,Ic12ec771ff95767d27ef527c3228360397cef021,Adding python3-rbd dependency for nova,ABANDONED,2019-09-20 10:43:19.000000000,2020-08-26 19:26:15.000000000,,"[{'_account_id': 2243}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-09-20 10:43:19.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/7472440cbd098bdf718c955984c890b110ea6451', 'message': 'Adding python3-rbd dependency for nova\n\nThe patch adds python3-rbd and python3-rados libraries inside\ncontainers in case python3 profile is enabled.\n\nChange-Id: Ic12ec771ff95767d27ef527c3228360397cef021\n'}]",0,683358,7472440cbd098bdf718c955984c890b110ea6451,4,5,1,29954,,,0,"Adding python3-rbd dependency for nova

The patch adds python3-rbd and python3-rados libraries inside
containers in case python3 profile is enabled.

Change-Id: Ic12ec771ff95767d27ef527c3228360397cef021
",git fetch https://review.opendev.org/openstack/loci refs/changes/58/683358/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,7472440cbd098bdf718c955984c890b110ea6451,,python-rbd [!platform:suse (glance ceph !python3) (cinder ceph !python3) (manila ceph !python3) (nova ceph !python3)]python3-rados [platform:dpkg (glance ceph python3) (cinder ceph python3) (manila ceph python3) (nova ceph python3)] python3-rados [platform:suse (glance ceph python3) (cinder ceph python3) (manila ceph python3) (nova ceph python3)] python3-rbd [!platform:suse (glance ceph python3) (cinder ceph python3) (manila ceph python3) (nova ceph python3)],python-rbd [!platform:suse (glance ceph !python3) (cinder ceph !python3) (manila ceph !python3)]python3-rados [platform:dpkg (glance ceph python3) (cinder ceph python3) (manila ceph python3)] python3-rados [platform:suse (glance ceph python3) (cinder ceph python3) (manila ceph python3)] python3-rbd [!platform:suse (glance ceph python3) (cinder ceph python3) (manila ceph python3)],4,4
openstack%2Fopenstack-helm-infra~master~I14794d02876cf75f756c4904863ccbfffe197f34,openstack/openstack-helm-infra,master,I14794d02876cf75f756c4904863ccbfffe197f34,Switch mariadb to python3,ABANDONED,2019-11-07 11:38:15.000000000,2020-08-26 19:26:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-07 11:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/128be1f0e1a632a9483d9396bce3f2f5a170615b', 'message': 'Switch mariadb to python3\n\nChange-Id: I14794d02876cf75f756c4904863ccbfffe197f34\n'}, {'number': 2, 'created': '2019-11-07 11:39:14.000000000', 'files': ['mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d33f29273d6018066f18e2c67ff195c3ca87920', 'message': 'Switch mariadb to python3\n\nChange-Id: I14794d02876cf75f756c4904863ccbfffe197f34\n'}]",0,693344,7d33f29273d6018066f18e2c67ff195c3ca87920,4,1,2,18795,,,0,"Switch mariadb to python3

Change-Id: I14794d02876cf75f756c4904863ccbfffe197f34
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/693344/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,128be1f0e1a632a9483d9396bce3f2f5a170615b,python3_mariadb,,,0,0
openstack%2Fopenstack-helm~master~Idf7f31f25bb9f9f0ea892065f13075f232b129b1,openstack/openstack-helm,master,Idf7f31f25bb9f9f0ea892065f13075f232b129b1,Add libvirt ingress network policy testing,ABANDONED,2019-10-31 16:46:07.000000000,2020-08-26 19:26:03.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 16:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a210a002baefceba8706d4584f9f362d6caf4496', 'message': 'Add libvirt ingress network policy testing\n\nThis patch set introduces the testing logic for the libvirt\ningress network policy.\n\nPlease note: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when the pod uses host-network.\n\nDepends-On: https://review.opendev.org/#/c/692391/\nChange-Id: Idf7f31f25bb9f9f0ea892065f13075f232b129b1\n'}, {'number': 2, 'created': '2019-10-31 21:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2764e58b9c07315ca68848e2cdefe95266775916', 'message': 'Add libvirt ingress network policy testing\n\nThis patch set introduces the testing logic for the libvirt\ningress network policy.\n\nPlease note: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when the pod uses host-network.\n\nDepends-On: https://review.opendev.org/#/c/692391/\nChange-Id: Idf7f31f25bb9f9f0ea892065f13075f232b129b1\n'}, {'number': 3, 'created': '2019-11-05 00:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/764b649ab18c1e0deb61416804528e443dd26817', 'message': 'Add libvirt ingress network policy testing\n\nThis patch set introduces the testing logic for the libvirt\ningress network policy.\n\nIt also updates the test_netpol function to make it suitable\nfor the testing of applications that do not use http protocol.\n\nPlease note: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when the pod uses host-network.\n\nDepends-On: https://review.opendev.org/#/c/692391/\nChange-Id: Idf7f31f25bb9f9f0ea892065f13075f232b129b1\n'}, {'number': 4, 'created': '2019-11-05 16:47:54.000000000', 'files': ['tools/deployment/common/test-networkpolicy.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96ee0cfa32dacf71820f3a97e512491048f7288c', 'message': 'Add libvirt ingress network policy testing\n\nThis patch set introduces the testing logic for the libvirt\ningress network policy.\n\nIt also updates the test_netpol function to make it suitable\nfor the testing of applications that do not use http protocol.\n\nPlease note: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when the pod uses host-network.\n\nDepends-On: https://review.opendev.org/#/c/692391/\nChange-Id: Idf7f31f25bb9f9f0ea892065f13075f232b129b1\n'}]",0,692409,96ee0cfa32dacf71820f3a97e512491048f7288c,13,2,4,18236,,,0,"Add libvirt ingress network policy testing

This patch set introduces the testing logic for the libvirt
ingress network policy.

It also updates the test_netpol function to make it suitable
for the testing of applications that do not use http protocol.

Please note: there is currently a deficiency in K8s network policy in
that it does not always work properly when the pod uses host-network.

Depends-On: https://review.opendev.org/#/c/692391/
Change-Id: Idf7f31f25bb9f9f0ea892065f13075f232b129b1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/09/692409/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/test-networkpolicy.sh'],1,a210a002baefceba8706d4584f9f362d6caf4496,netpol," # Positive Libvirt tests test_netpol openstack nova compute libvirt.openstack.svc.cluster.local:16509 success test_netpol openstack libvirt libvirt libvirt.openstack.svc.cluster.local:49152 success # Note: Negative Libvirt tests were not performed because those ports # are served by host-networked pods, which currently cannot be reliably protected by # K8s network policy alone - solution for that is being worked. ",,9,0
openstack%2Fopenstack-helm~master~I54752046856fe9d918ae82df8e3999a2cbb4fbd4,openstack/openstack-helm,master,I54752046856fe9d918ae82df8e3999a2cbb4fbd4,Update the constraints url,ABANDONED,2019-09-24 08:00:17.000000000,2020-08-26 19:25:51.000000000,,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-09-24 08:00:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c1a9e88abdf7a512ff4cedfd8fcb107c353ec00c', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I54752046856fe9d918ae82df8e3999a2cbb4fbd4\n'}]",0,684225,c1a9e88abdf7a512ff4cedfd8fcb107c353ec00c,4,9,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I54752046856fe9d918ae82df8e3999a2cbb4fbd4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/684225/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c1a9e88abdf7a512ff4cedfd8fcb107c353ec00c,constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fopenstack-helm~master~I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10,openstack/openstack-helm,master,I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10,WIP: Add CI for OVS-DPDK feature,ABANDONED,2019-07-21 06:46:36.000000000,2020-08-26 19:25:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 29668}, {'_account_id': 30857}]","[{'number': 1, 'created': '2019-07-21 06:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01ed8dafbddfd5e50c76ac0e7e43f65674872e0e', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 2, 'created': '2019-07-21 07:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec4f571fc5b9438acdfd59a6488b5df2ceb86bff', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 3, 'created': '2019-07-21 12:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6b330354cff690b9ccdfa506d00f6bc4468d0a5', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 4, 'created': '2019-07-22 01:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f75ece7518d086816a3325e57a052e6211dcdb90', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 5, 'created': '2019-07-22 10:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95ca13c2998ed810b5baec1affce83c3c93af1da', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 6, 'created': '2019-10-17 06:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8f2e1d1914babe9fbae5db5f44bff344b6edb57', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 7, 'created': '2019-10-18 02:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15ee3e687aaf5baaae7efa8db0504ab6d49f605c', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 8, 'created': '2019-10-18 02:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86767bc0e2c960cbe53b22ca916a3a66986ce42f', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 9, 'created': '2019-10-18 02:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a2b8b7c0b47a9bf574a8a0870ae8f27eb516b5e', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 10, 'created': '2019-10-18 10:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/13b4dbcfb35062f0592cc6baddc183d7bec9f313', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 11, 'created': '2019-10-18 13:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88723b01f61cc2495a8a347584b3b8cbb5674244', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 12, 'created': '2019-10-18 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f73c98b4feaff012a424efb2b9cd104b7f817b80', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}, {'number': 13, 'created': '2019-11-01 09:01:53.000000000', 'files': ['tools/deployment/component/compute-kit/compute-kit.sh', 'tools/gate/files/heat-basic-hugepage-vm-deployment.yaml', 'tools/deployment/common/install-packages.sh', 'tools/deployment/developer/dpdk/005-allocate-hugepages.sh', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/developer/dpdk/160-compute-kit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/238b024286188c9c73016be5c5bfd466637f078f', 'message': 'WIP: Add CI for OVS-DPDK feature\n\nThe DPDk feature is in development, this patch is to add CI job for the\nDPDK feature.\nhttps://review.opendev.org/#/c/643284\n\nChange-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10\n'}]",0,671917,238b024286188c9c73016be5c5bfd466637f078f,30,3,13,29668,,,0,"WIP: Add CI for OVS-DPDK feature

The DPDk feature is in development, this patch is to add CI job for the
DPDK feature.
https://review.opendev.org/#/c/643284

Change-Id: I94860b6b2f9956dbe7bf4a7f18fcc1bf19ec1e10
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/17/671917/9 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/install-packages.sh', 'tools/deployment/developer/dpdk/005-allocate-hugepages.sh', 'zuul.d/project.yaml', 'tools/deployment/developer/dpdk/160-compute-kit.sh', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/developer/dpdk/140-openvswitch.sh']",6,01ed8dafbddfd5e50c76ac0e7e43f65674872e0e,dev,"images: tags: openvswitch_db_server: docker.io/openstackhelm/openvswitch:latest-ubuntu_bionic-dpdk openvswitch_vswitchd: docker.io/openstackhelm/openvswitch:latest-ubuntu_bionic-dpdk memory: ""100Mi"" cpu: ""200m"" hugepages-2Mi: ""1Gi"" limits: memory: ""500Mi"" cpu: ""1200m"" hugepages-2Mi: ""1Gi"""," memory: ""2Gi"" cpu: ""2"" limits: memory: ""2Gi"" cpu: ""2"" hugepages-1Gi: ""1Gi""",73,10
openstack%2Fglance~master~Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53,openstack/glance,master,Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53,Add FakeData generator test utility,MERGED,2020-08-18 15:04:45.000000000,2020-08-26 19:25:28.000000000,2020-08-26 19:22:19.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 15:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/15ed9eb9a5fba0bc73f83a4db916534d5777ef9b', 'message': 'Add FakeData generator test utility\n\nThis adds a FakeData file-like generator that is able to generate\narbitrary amounts of data when we need to simulate reading from a\nfile or request pipeline, without having to store all of that in\nmemory.\n\nChange-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53\n'}, {'number': 2, 'created': '2020-08-18 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c4ded9f657453870dc9e392dbe175d4ab7a0c71a', 'message': 'Add FakeData generator test utility\n\nThis adds a FakeData file-like generator that is able to generate\narbitrary amounts of data when we need to simulate reading from a\nfile or request pipeline, without having to store all of that in\nmemory.\n\nChange-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53\n'}, {'number': 3, 'created': '2020-08-20 22:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5658a1e3859201d3c3735b1ab39f077806f3329d', 'message': 'Add FakeData generator test utility\n\nThis adds a FakeData file-like generator that is able to generate\narbitrary amounts of data when we need to simulate reading from a\nfile or request pipeline, without having to store all of that in\nmemory.\n\nChange-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53\n'}, {'number': 4, 'created': '2020-08-21 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e8df230a5ea8970c73b390d93824d504cbb788c', 'message': 'Add FakeData generator test utility\n\nThis adds a FakeData file-like generator that is able to generate\narbitrary amounts of data when we need to simulate reading from a\nfile or request pipeline, without having to store all of that in\nmemory.\n\nChange-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53\n'}, {'number': 5, 'created': '2020-08-21 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0593907da56ff36fca00feffce7579fc2f786fa3', 'message': 'Add FakeData generator test utility\n\nThis adds a FakeData file-like generator that is able to generate\narbitrary amounts of data when we need to simulate reading from a\nfile or request pipeline, without having to store all of that in\nmemory.\n\nChange-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53\n'}, {'number': 6, 'created': '2020-08-21 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d6fe925a767de904cf975e0ff5bdf25a65aa2d4', 'message': 'Add FakeData generator test utility\n\nThis adds a FakeData file-like generator that is able to generate\narbitrary amounts of data when we need to simulate reading from a\nfile or request pipeline, without having to store all of that in\nmemory.\n\nChange-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53\n'}, {'number': 7, 'created': '2020-08-24 13:41:26.000000000', 'files': ['glance/tests/unit/test_test_utils.py', 'glance/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/dc08127f059a227928400bf2b629ef503dbf28e7', 'message': 'Add FakeData generator test utility\n\nThis adds a FakeData file-like generator that is able to generate\narbitrary amounts of data when we need to simulate reading from a\nfile or request pipeline, without having to store all of that in\nmemory.\n\nChange-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53\n'}]",6,746746,dc08127f059a227928400bf2b629ef503dbf28e7,39,6,7,4393,,,0,"Add FakeData generator test utility

This adds a FakeData file-like generator that is able to generate
arbitrary amounts of data when we need to simulate reading from a
file or request pipeline, without having to store all of that in
memory.

Change-Id: Iff1fbe2b55f4be12e69c9fd3dec7e3b3e2593e53
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/746746/7 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/utils.py'],1,15ed9eb9a5fba0bc73f83a4db916534d5777ef9b,task-heartbeat,"from oslo_utils import units class FakeData(object): """"""Generate a bunch of data without storing it in memory. This acts like a read-only file object which generates fake data in chunks when read() is called or it is used as a generator. It can generate an arbitrary amount of data without storing it in memory. :param length: The number of bytes to generate :param chunk_size: The chunk size to return in iteration mode, or when read() is called unbounded """""" def __init__(self, length, chunk_size=64*units.Ki): self._max = length self._chunk_size = chunk_size self._len = 0 def read(self, length=None): if length is None: length = self._chunk_size if self._len + length > self._max: length = self._max - self._len self._len += length if length == 0: return b'' else: return b'0' * length def __iter__(self): return self def __next__(self): r = self.read() if r == 0: raise StopIteration() else: return r",,43,0
openstack%2Fopenstack-helm-infra~master~Icadd4e09e556305f4c73973c89313a2df4802662,openstack/openstack-helm-infra,master,Icadd4e09e556305f4c73973c89313a2df4802662,Libvirt daemon should listen on 0.0.0.0,ABANDONED,2019-10-02 12:55:46.000000000,2020-08-26 19:25:18.000000000,,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 30748}]","[{'number': 1, 'created': '2019-10-02 12:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84c9eae922d3883e59e4082cd2a92ded06be8f6c', 'message': 'Libvirt daemon should listen on 0.0.0.0\n\nCurrently live migration is not possible between two hosts,\nbecause libvirt daemon is listening just on localhost, so\nsecond hosts receive: connection refused.\n\nChange-Id: Icadd4e09e556305f4c73973c89313a2df4802662\n'}, {'number': 2, 'created': '2019-10-30 07:22:11.000000000', 'files': ['libvirt/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed9325fc9cf1498a9fabf2c580d3dc5dbcac8f8c', 'message': 'Libvirt daemon should listen on 0.0.0.0\n\nCurrently live migration is not possible between two hosts,\nbecause libvirt daemon is listening just on localhost, so\nsecond hosts receive: connection refused.\n\nChange-Id: Icadd4e09e556305f4c73973c89313a2df4802662\n'}]",0,686146,ed9325fc9cf1498a9fabf2c580d3dc5dbcac8f8c,10,11,2,20676,,,0,"Libvirt daemon should listen on 0.0.0.0

Currently live migration is not possible between two hosts,
because libvirt daemon is listening just on localhost, so
second hosts receive: connection refused.

Change-Id: Icadd4e09e556305f4c73973c89313a2df4802662
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/46/686146/2 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/values.yaml'],1,84c9eae922d3883e59e4082cd2a92ded06be8f6c,, listen_addr: 0.0.0.0, listen_addr: 127.0.0.1,1,1
openstack%2Fopenstack-helm~master~Ibd600699a331d5c292561d5519521ad7a39b5646,openstack/openstack-helm,master,Ibd600699a331d5c292561d5519521ad7a39b5646,Add Cinder ingress network policy overrides,ABANDONED,2019-09-30 16:02:34.000000000,2020-08-26 19:25:08.000000000,,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28614}, {'_account_id': 28875}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-30 16:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb1705226fd11e8e2febf2cfbd29d4f796b20d9c', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}, {'number': 2, 'created': '2019-09-30 22:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94dd2110e13d032121a58cfad05afa8c8b76ba0c', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}, {'number': 3, 'created': '2019-10-01 14:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10017c8902e2d7586c0963cc07015e60408f10af', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}, {'number': 4, 'created': '2019-10-01 14:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88e27a7b960629492d14f1d2ddf842d1d7274d95', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}, {'number': 5, 'created': '2019-10-16 03:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b452494a794bda0a3d96a837002f316865a06ce6', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}, {'number': 6, 'created': '2019-10-16 03:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e40eb940fd1552771a916a7d8408f27d1c96bdc7', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}, {'number': 7, 'created': '2019-10-24 14:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9dcd2bccfa9cc57e43b291f26b532a231719c6bd', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}, {'number': 8, 'created': '2019-10-29 20:47:54.000000000', 'files': ['tools/deployment/common/test-networkpolicy.sh', 'cinder/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40eb53952f25ea7ff0f417f6565420e770a7ba6b', 'message': 'Add Cinder ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Cinder.\n\nChange-Id: Ibd600699a331d5c292561d5519521ad7a39b5646\n'}]",6,685751,40eb53952f25ea7ff0f417f6565420e770a7ba6b,30,12,8,22636,,,0,"Add Cinder ingress network policy overrides

This patch set introduces the ingress network policy overrides
for Cinder.

Change-Id: Ibd600699a331d5c292561d5519521ad7a39b5646
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/51/685751/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/test-networkpolicy.sh', 'zuul.d/jobs-openstack-helm.yaml', 'cinder/values_overrides/netpol.yaml']",3,eb1705226fd11e8e2febf2cfbd29d4f796b20d9c,netpol,network_policy: cinder: ingress: - from: - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: ironic - podSelector: matchLabels: application: cinder ports: - protocol: TCP port: 8776 egress: - {},,42,3
openstack%2Fopenstack-helm~master~I0e2ecea978ff345a0bff76d9500a06a79b3d2a74,openstack/openstack-helm,master,I0e2ecea978ff345a0bff76d9500a06a79b3d2a74,Pass custom CA bundle to pods,ABANDONED,2019-08-30 09:37:30.000000000,2020-08-26 19:25:03.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17591}, {'_account_id': 18795}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29013}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-08-30 09:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5a3c4cef097141be7e693fce8587f06e1bb135b', 'message': 'Pass custom CA bundle to pods\n\nThis patch adds possibility to pass custom CA\nbundle inside pods. This is done by creating secret\nwith custom CA certs, mounting it to pod and appending\nto python certifi CA store. After that ""REQUESTS_CA_BUNDLE""\nvarible is set in pod start script.\n\nChange-Id: I0e2ecea978ff345a0bff76d9500a06a79b3d2a74\n'}, {'number': 2, 'created': '2019-08-30 09:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4704fc0e68dc211040f1cef9a08f73af09a3d671', 'message': 'Pass custom CA bundle to pods\n\nThis patch adds possibility to pass custom CA\nbundle inside pods. This is done by creating secret\nwith custom CA certs, mounting it to pod and appending\nto python certifi CA store. After that ""REQUESTS_CA_BUNDLE""\nvarible is set in pod start script.\n\nChange-Id: I0e2ecea978ff345a0bff76d9500a06a79b3d2a74\n'}, {'number': 3, 'created': '2019-08-30 10:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/27d2e081530d46a5e239746a16c24a0d2a7abc33', 'message': 'Pass custom CA bundle to pods\n\nThis patch adds possibility to pass custom CA\nbundle inside pods. This is done by creating secret\nwith custom CA certs, mounting it to pod and appending\nto python certifi CA store. After that ""REQUESTS_CA_BUNDLE""\nvarible is set in pod start script.\n\nDepends-on: https://review.opendev.org/#/c/679387/\n\nChange-Id: I0e2ecea978ff345a0bff76d9500a06a79b3d2a74\n'}, {'number': 4, 'created': '2019-09-25 10:02:16.000000000', 'files': ['neutron/templates/bin/_neutron-metadata-agent.sh.tpl', 'glance/templates/deployment-registry.yaml', 'ironic/templates/bin/_ironic-conductor-pxe.sh.tpl', 'senlin/templates/deployment-engine.yaml', 'senlin/templates/deployment-api.yaml', 'heat/templates/bin/_heat-cloudwatch.sh.tpl', 'cinder/templates/deployment-api.yaml', 'horizon/values.yaml', 'panko/templates/bin/_panko-api.sh.tpl', 'aodh/templates/secret-ca-bundle.yaml', 'magnum/templates/statefulset-conductor.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'nova/templates/bin/_nova-compute.sh.tpl', 'neutron/templates/bin/_neutron-openvswitch-agent.sh.tpl', 'senlin/values.yaml', 'mistral/values.yaml', 'congress/templates/bin/_congress-policy-engine.sh.tpl', 'congress/values.yaml', 'mistral/templates/bin/_mistral-event-engine.sh.tpl', 'neutron/templates/bin/_neutron-dhcp-agent.sh.tpl', 'nova/templates/deployment-conductor.yaml', 'magnum/values.yaml', 'heat/templates/bin/_heat-cfn.sh.tpl', 'mistral/templates/bin/_mistral-engine.sh.tpl', 'heat/templates/bin/_heat-engine.sh.tpl', 'aodh/values.yaml', 'panko/templates/secret-ca-bundle.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'ceilometer/templates/bin/_ceilometer-compute.sh.tpl', 'nova/templates/deployment-spiceproxy.yaml', 'keystone/templates/deployment-api.yaml', 'senlin/templates/bin/_senlin-api.sh.tpl', 'aodh/templates/deployment-listener.yaml', 'ceilometer/templates/deployment-central.yaml', 'neutron/templates/bin/_neutron-l2gw-agent.sh.tpl', 'cinder/templates/secret-ca-bundle.yaml', 'nova/templates/deployment-api-metadata.yaml', 'glance/templates/bin/_glance-registry.sh.tpl', 'ironic/templates/secret-ca-bundle.yaml', 'aodh/templates/bin/_aodh-listener.sh.tpl', 'ceilometer/templates/deployment-notification.yaml', 'mistral/templates/statefulset-event-engine.yaml', 'neutron/templates/deployment-server.yaml', 'neutron/templates/bin/_neutron-sriov-agent.sh.tpl', 'ceilometer/templates/bin/_ceilometer-notification.sh.tpl', 'barbican/templates/bin/_barbican.sh.tpl', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'cinder/templates/bin/_cinder-api.sh.tpl', 'nova/templates/bin/_nova-scheduler.sh.tpl', 'nova/templates/deployment-novncproxy.yaml', 'cinder/templates/bin/_cinder-volume.sh.tpl', 'congress/templates/deployment-datasource.yaml', 'ironic/templates/bin/_ironic-api.sh.tpl', 'ceilometer/templates/bin/_ceilometer-central.sh.tpl', 'ironic/templates/bin/_ironic-conductor-http.sh.tpl', 'senlin/templates/secret-ca-bundle.yaml', 'ironic/values.yaml', 'nova/templates/bin/_nova-compute-ironic.sh.tpl', 'senlin/templates/bin/_senlin-engine.sh.tpl', 'congress/templates/deployment-api.yaml', 'ceilometer/templates/deployment-collector.yaml', 'heat/templates/deployment-engine.yaml', 'neutron/templates/bin/_neutron-l3-agent.sh.tpl', 'congress/templates/bin/_congress-datasource.sh.tpl', 'barbican/templates/secret-ca-bundle.yaml', 'glance/templates/bin/_glance-api.sh.tpl', 'neutron/templates/bin/_neutron-linuxbridge-agent.sh.tpl', 'congress/templates/secret-ca-bundle.yaml', 'ironic/templates/deployment-api.yaml', 'horizon/templates/secret-ca-bundle.yaml', 'aodh/templates/bin/_aodh-notifier.sh.tpl', 'heat/templates/bin/_heat-api.sh.tpl', 'glance/templates/secret-ca-bundle.yaml', 'tempest/values.yaml', 'ironic/templates/bin/_ironic-conductor.sh.tpl', 'nova/templates/deployment-consoleauth.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'ceilometer/templates/daemonset-compute.yaml', 'panko/values.yaml', 'nova/templates/statefulset-compute-ironic.yaml', 'mistral/templates/bin/_mistral-api.sh.tpl', 'neutron/templates/daemonset-bagpipe-bgp.yaml', 'mistral/templates/deployment-executor.yaml', 'cinder/templates/bin/_cinder-scheduler.sh.tpl', 'ceilometer/templates/daemonset-ipmi.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl', 'tempest/templates/job-run-tests.yaml', 'cinder/templates/bin/_cinder-backup.sh.tpl', 'nova/templates/bin/_ssh-start.sh.tpl', 'ceilometer/values.yaml', 'magnum/templates/bin/_magnum-api.sh.tpl', 'ironic/templates/statefulset-conductor.yaml', 'keystone/templates/secret-ca-bundle.yaml', 'ceilometer/templates/deployment-api.yaml', 'heat/templates/deployment-cfn.yaml', 'aodh/templates/deployment-notifier.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'barbican/values.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'cinder/templates/deployment-scheduler.yaml', 'congress/templates/bin/_congress-api.sh.tpl', 'nova/templates/bin/_nova-api.sh.tpl', 'mistral/templates/bin/_mistral-executor.sh.tpl', 'magnum/templates/secret-ca-bundle.yaml', 'nova/values.yaml', 'tempest/templates/bin/_run-tests.sh.tpl', 'horizon/templates/bin/_horizon.sh.tpl', 'aodh/templates/bin/_aodh-evaluator.sh.tpl', 'ceilometer/templates/bin/_ceilometer-api.sh.tpl', 'cinder/templates/deployment-volume.yaml', 'panko/templates/deployment-api.yaml', 'neutron/templates/bin/_neutron-bagpipe-bgp.sh.tpl', 'nova/templates/bin/_nova-console-proxy.sh.tpl', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'glance/values.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'heat/templates/secret-ca-bundle.yaml', 'mistral/templates/secret-ca-bundle.yaml', 'magnum/templates/deployment-api.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'barbican/templates/deployment-api.yaml', 'mistral/templates/statefulset-engine.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'magnum/templates/bin/_magnum-conductor.sh.tpl', 'tempest/templates/secret-ca-bundle.yaml', 'aodh/templates/deployment-api.yaml', 'nova/templates/secret-ca-bundle.yaml', 'aodh/templates/bin/_aodh-api.sh.tpl', 'heat/values.yaml', 'cinder/values.yaml', 'neutron/templates/secret-ca-bundle.yaml', 'nova/templates/deployment-placement.yaml', 'nova/templates/bin/_nova-conductor.sh.tpl', 'ceilometer/templates/bin/_ceilometer-ipmi.sh.tpl', 'ceilometer/templates/secret-ca-bundle.yaml', 'heat/templates/deployment-api.yaml', 'ceilometer/templates/bin/_ceilometer-collector.sh.tpl', 'mistral/templates/deployment-api.yaml', 'nova/templates/bin/_nova-consoleauth.sh.tpl', 'aodh/templates/deployment-evaluator.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c514b42e6617705a71cfd6c602a684d9500976cb', 'message': 'Pass custom CA bundle to pods\n\nThis patch adds possibility to pass custom CA\nbundle inside pods. This is done by creating secret\nwith custom CA certs, mounting it to pod and appending\nto python certifi CA store. After that ""REQUESTS_CA_BUNDLE""\nvarible is set in pod start script.\n\nDepends-on: https://review.opendev.org/#/c/679387/\n\nChange-Id: I0e2ecea978ff345a0bff76d9500a06a79b3d2a74\n'}]",0,679408,c514b42e6617705a71cfd6c602a684d9500976cb,12,12,4,29013,,,0,"Pass custom CA bundle to pods

This patch adds possibility to pass custom CA
bundle inside pods. This is done by creating secret
with custom CA certs, mounting it to pod and appending
to python certifi CA store. After that ""REQUESTS_CA_BUNDLE""
varible is set in pod start script.

Depends-on: https://review.opendev.org/#/c/679387/

Change-Id: I0e2ecea978ff345a0bff76d9500a06a79b3d2a74
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/08/679408/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-metadata-agent.sh.tpl', 'glance/templates/deployment-registry.yaml', 'ironic/templates/bin/_ironic-conductor-pxe.sh.tpl', 'senlin/templates/deployment-engine.yaml', 'senlin/templates/deployment-api.yaml', 'heat/templates/bin/_heat-cloudwatch.sh.tpl', 'cinder/templates/deployment-api.yaml', 'horizon/values.yaml', 'panko/templates/bin/_panko-api.sh.tpl', 'aodh/templates/secret-ca-bundle.yaml', 'magnum/templates/statefulset-conductor.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'nova/templates/bin/_nova-compute.sh.tpl', 'neutron/templates/bin/_neutron-openvswitch-agent.sh.tpl', 'senlin/values.yaml', 'mistral/values.yaml', 'congress/templates/bin/_congress-policy-engine.sh.tpl', 'congress/values.yaml', 'mistral/templates/bin/_mistral-event-engine.sh.tpl', 'neutron/templates/bin/_neutron-dhcp-agent.sh.tpl', 'nova/templates/deployment-conductor.yaml', 'magnum/values.yaml', 'heat/templates/bin/_heat-cfn.sh.tpl', 'mistral/templates/bin/_mistral-engine.sh.tpl', 'heat/templates/bin/_heat-engine.sh.tpl', 'aodh/values.yaml', 'panko/templates/secret-ca-bundle.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'ceilometer/templates/bin/_ceilometer-compute.sh.tpl', 'nova/templates/deployment-spiceproxy.yaml', 'keystone/templates/deployment-api.yaml', 'senlin/templates/bin/_senlin-api.sh.tpl', 'aodh/templates/deployment-listener.yaml', 'ceilometer/templates/deployment-central.yaml', 'neutron/templates/bin/_neutron-l2gw-agent.sh.tpl', 'cinder/templates/secret-ca-bundle.yaml', 'nova/templates/deployment-api-metadata.yaml', 'glance/templates/bin/_glance-registry.sh.tpl', 'ironic/templates/secret-ca-bundle.yaml', 'aodh/templates/bin/_aodh-listener.sh.tpl', 'ceilometer/templates/deployment-notification.yaml', 'mistral/templates/statefulset-event-engine.yaml', 'neutron/templates/deployment-server.yaml', 'neutron/templates/bin/_neutron-sriov-agent.sh.tpl', 'ceilometer/templates/bin/_ceilometer-notification.sh.tpl', 'barbican/templates/bin/_barbican.sh.tpl', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'cinder/templates/bin/_cinder-api.sh.tpl', 'nova/templates/bin/_nova-scheduler.sh.tpl', 'nova/templates/deployment-novncproxy.yaml', 'cinder/templates/bin/_cinder-volume.sh.tpl', 'congress/templates/deployment-datasource.yaml', 'ironic/templates/bin/_ironic-api.sh.tpl', 'ceilometer/templates/bin/_ceilometer-central.sh.tpl', 'ironic/templates/bin/_ironic-conductor-http.sh.tpl', 'senlin/templates/secret-ca-bundle.yaml', 'ironic/values.yaml', 'nova/templates/bin/_nova-compute-ironic.sh.tpl', 'senlin/templates/bin/_senlin-engine.sh.tpl', 'congress/templates/deployment-api.yaml', 'ceilometer/templates/deployment-collector.yaml', 'heat/templates/deployment-engine.yaml', 'neutron/templates/bin/_neutron-l3-agent.sh.tpl', 'congress/templates/bin/_congress-datasource.sh.tpl', 'barbican/templates/secret-ca-bundle.yaml', 'glance/templates/bin/_glance-api.sh.tpl', 'neutron/templates/bin/_neutron-linuxbridge-agent.sh.tpl', 'congress/templates/secret-ca-bundle.yaml', 'ironic/templates/deployment-api.yaml', 'horizon/templates/secret-ca-bundle.yaml', 'aodh/templates/bin/_aodh-notifier.sh.tpl', 'heat/templates/bin/_heat-api.sh.tpl', 'glance/templates/secret-ca-bundle.yaml', 'tempest/values.yaml', 'ironic/templates/bin/_ironic-conductor.sh.tpl', 'nova/templates/deployment-consoleauth.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'ceilometer/templates/daemonset-compute.yaml', 'panko/values.yaml', 'nova/templates/statefulset-compute-ironic.yaml', 'mistral/templates/bin/_mistral-api.sh.tpl', 'neutron/templates/daemonset-bagpipe-bgp.yaml', 'mistral/templates/deployment-executor.yaml', 'cinder/templates/bin/_cinder-scheduler.sh.tpl', 'ceilometer/templates/daemonset-ipmi.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl', 'tempest/templates/job-run-tests.yaml', 'cinder/templates/bin/_cinder-backup.sh.tpl', 'nova/templates/bin/_ssh-start.sh.tpl', 'ceilometer/values.yaml', 'magnum/templates/bin/_magnum-api.sh.tpl', 'ironic/templates/statefulset-conductor.yaml', 'keystone/templates/secret-ca-bundle.yaml', 'ceilometer/templates/deployment-api.yaml', 'heat/templates/deployment-cfn.yaml', 'aodh/templates/deployment-notifier.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'barbican/values.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'cinder/templates/deployment-scheduler.yaml', 'congress/templates/bin/_congress-api.sh.tpl', 'nova/templates/bin/_nova-api.sh.tpl', 'mistral/templates/bin/_mistral-executor.sh.tpl', 'magnum/templates/secret-ca-bundle.yaml', 'nova/values.yaml', 'tempest/templates/bin/_run-tests.sh.tpl', 'horizon/templates/bin/_horizon.sh.tpl', 'aodh/templates/bin/_aodh-evaluator.sh.tpl', 'ceilometer/templates/bin/_ceilometer-api.sh.tpl', 'cinder/templates/deployment-volume.yaml', 'panko/templates/deployment-api.yaml', 'neutron/templates/bin/_neutron-bagpipe-bgp.sh.tpl', 'nova/templates/bin/_nova-console-proxy.sh.tpl', 'cinder/templates/deployment-backup.yaml', 'congress/templates/deployment-policy-engine.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'glance/values.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'heat/templates/secret-ca-bundle.yaml', 'mistral/templates/secret-ca-bundle.yaml', 'magnum/templates/deployment-api.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'barbican/templates/deployment-api.yaml', 'mistral/templates/statefulset-engine.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'magnum/templates/bin/_magnum-conductor.sh.tpl', 'tempest/templates/secret-ca-bundle.yaml', 'aodh/templates/deployment-api.yaml', 'nova/templates/secret-ca-bundle.yaml', 'aodh/templates/bin/_aodh-api.sh.tpl', 'heat/values.yaml', 'cinder/values.yaml', 'neutron/templates/secret-ca-bundle.yaml', 'nova/templates/deployment-placement.yaml', 'nova/templates/bin/_nova-conductor.sh.tpl', 'ceilometer/templates/bin/_ceilometer-ipmi.sh.tpl', 'ceilometer/templates/secret-ca-bundle.yaml', 'heat/templates/deployment-api.yaml', 'ceilometer/templates/bin/_ceilometer-collector.sh.tpl', 'mistral/templates/deployment-api.yaml', 'nova/templates/bin/_nova-consoleauth.sh.tpl', 'aodh/templates/deployment-evaluator.yaml']",150,c5a3c4cef097141be7e693fce8587f06e1bb135b,pass_ca_bundle_to_pods,"{{ dict ""envAll"" $envAll ""objectType"" ""mountpoint"" ""secretPrefix"" ""aodh"" | include ""helm-toolkit.snippets.kubernetes_ssl_objects"" | indent 12 }}{{ dict ""envAll"" $envAll ""objectType"" ""volume"" ""secretPrefix"" ""aodh"" | include ""helm-toolkit.snippets.kubernetes_ssl_objects"" | indent 8 }}",,520,2
openstack%2Fopenstack-helm~master~I8ae2f4f4ba71e24e0d40432e444021f5809675d9,openstack/openstack-helm,master,I8ae2f4f4ba71e24e0d40432e444021f5809675d9,Add Nova ingress network policy overrides,ABANDONED,2019-09-30 17:05:07.000000000,2020-08-26 19:24:52.000000000,,"[{'_account_id': 17499}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-30 17:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/935b1fa92780b60f7cba75a751c1c985e4aeaa90', 'message': '[WIP] Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\n'}, {'number': 2, 'created': '2019-10-01 15:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01510f2fe195581304fc0ca000c31ae0c2d5d2da', 'message': '[WIP] Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\n'}, {'number': 3, 'created': '2019-10-01 15:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b20f55c5f328f8961c3f5efdea1d7568ecb46b3', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\n'}, {'number': 4, 'created': '2019-10-01 15:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0e79215df170069e6dc12909541b3531fabd711', 'message': '[WIP] Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\n will be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\n'}, {'number': 5, 'created': '2019-10-01 15:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df87b05765977ff5136490cc41126f9bb49a448d', 'message': '[WIP] Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\n'}, {'number': 6, 'created': '2019-10-01 15:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af483ec2148e84330869a36d543b8714f3e16467', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\n'}, {'number': 7, 'created': '2019-10-01 19:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bcba8ccb5d7b680c7f25fd08e6c9e45ff7140f38', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\n'}, {'number': 8, 'created': '2019-10-10 16:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50f706a8e8247a3701c7bb0dbdd898ec8b1bf521', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}, {'number': 9, 'created': '2019-10-10 18:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58d4c7486b6a4ffd811e297370378e7481d5f514', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}, {'number': 10, 'created': '2019-10-10 20:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/25f63ee6c76a7df0d28fe8ccacb66e627343526b', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}, {'number': 11, 'created': '2019-10-14 15:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fbf553f16f9ed88d9c6d4437159bce4dad6c569', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}, {'number': 12, 'created': '2019-10-14 16:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd23507b3d07c0a95545e0c258c2acb9ae1b81f4', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}, {'number': 13, 'created': '2019-10-15 18:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/36effee31fad46b65baf78f194ba6bc33b62f539', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}, {'number': 14, 'created': '2019-10-15 22:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/17fec015709bb3ceae30ab8143f2e8de5a061ef0', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}, {'number': 15, 'created': '2019-10-18 19:39:28.000000000', 'files': ['nova/values_overrides/netpol.yaml', 'nova/values.yaml', 'tools/deployment/common/test-networkpolicy.sh', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/98b2cc54c74bb1cc78097448da2c6baed2b5c286', 'message': 'Add Nova ingress network policy overrides\n\nThis patch set introduces the ingress network policy overrides\nfor Nova.\n\nNote: there is currently a deficiency in K8s network policy in\nthat it does not always work properly when either the ingress\nor egress application pod is a host-networked pod. This deficiency\nwill be addressed in a later patch.\n\nChange-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9\nDepends-On: https://review.opendev.org/#/c/686223/\n'}]",6,685762,98b2cc54c74bb1cc78097448da2c6baed2b5c286,41,6,15,22636,,,0,"Add Nova ingress network policy overrides

This patch set introduces the ingress network policy overrides
for Nova.

Note: there is currently a deficiency in K8s network policy in
that it does not always work properly when either the ingress
or egress application pod is a host-networked pod. This deficiency
will be addressed in a later patch.

Change-Id: I8ae2f4f4ba71e24e0d40432e444021f5809675d9
Depends-On: https://review.opendev.org/#/c/686223/
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/685762/15 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/netpol.yaml', 'nova/values.yaml']",2,935b1fa92780b60f7cba75a751c1c985e4aeaa90,netpol,, # TODO(lamt): Need to tighten this ingress for security.,30,1
openstack%2Fopenstack-helm-infra~master~I0be293e7cfb19dfa8f2a91a8aed29d9ab9ba32d9,openstack/openstack-helm-infra,master,I0be293e7cfb19dfa8f2a91a8aed29d9ab9ba32d9,[WIP] Fix mariadb readyness check in failure scenario,ABANDONED,2019-10-08 05:49:56.000000000,2020-08-26 19:24:45.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26686}]","[{'number': 1, 'created': '2019-10-08 05:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acea033f67c92f27a4b2e65c1b0e0ca7aadb3bf7', 'message': '[WIP] Fix mariadb readyness check in failure scenario\n\nMariaDB is unable to recover in failure scenarios where the cluster\nmember which is safe_to_bootstrap is not the first member of the\nstateful set, because:\n\n1. Stateful set will not move onto the next pod until the previous pod\n   is in Ready state, i.e. always starting with pod-0, and moreover:\n2. As defined, the readyness probe does not allow a positive readyness\n   check in this scenario that would allow stateful set to spin up any\n   subsequent pod which has the most recent sql state.\n\nThis changeset adds an exception case to the readyness check to allow\nfor this failure scenario.\n\nChange-Id: I0be293e7cfb19dfa8f2a91a8aed29d9ab9ba32d9\n'}, {'number': 2, 'created': '2019-10-08 17:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/80eb15546a500b0f2baf3bcc2cc741aef7c19458', 'message': '[WIP] Fix mariadb readyness check in failure scenario\n\nMariaDB is unable to recover in failure scenarios where the cluster\nmember which is safe_to_bootstrap is not the first member of the\nstateful set, because:\n\n1. Stateful set will not move onto the next pod until the previous pod\n   is in Ready state, i.e. always starting with pod-0, and moreover:\n2. As defined, the readyness probe does not allow a positive readyness\n   check in this scenario that would allow stateful set to spin up any\n   subsequent pod which has the most recent sql state.\n\nThis changeset adds an exception case to the readyness check to allow\nfor this failure scenario.\n\nChange-Id: I0be293e7cfb19dfa8f2a91a8aed29d9ab9ba32d9\n'}, {'number': 3, 'created': '2019-10-22 19:42:24.000000000', 'files': ['mariadb/templates/bin/_readiness.sh.tpl', 'mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36966cad33fbd5d32265032136ec2c89cba59700', 'message': '[WIP] Fix mariadb readyness check in failure scenario\n\nMariaDB is unable to recover in failure scenarios where the cluster\nmember which is safe_to_bootstrap is not the first member of the\nstateful set, because:\n\n1. Stateful set will not move onto the next pod until the previous pod\n   is in Ready state, i.e. always starting with pod-0, and moreover:\n2. As defined, the readyness probe does not allow a positive readyness\n   check in this scenario that would allow stateful set to spin up any\n   subsequent pod which has the most recent sql state.\n\nThis changeset adds an exception case to the readyness check to allow\nfor this failure scenario.\n\nAdded error handling for case where wsrep recover does not output any\nsequence number. Also added TODO for implementing a timeout for the\nwsrep-recover operation.\n\nChange-Id: I0be293e7cfb19dfa8f2a91a8aed29d9ab9ba32d9\n'}]",1,687211,36966cad33fbd5d32265032136ec2c89cba59700,10,6,3,26686,,,0,"[WIP] Fix mariadb readyness check in failure scenario

MariaDB is unable to recover in failure scenarios where the cluster
member which is safe_to_bootstrap is not the first member of the
stateful set, because:

1. Stateful set will not move onto the next pod until the previous pod
   is in Ready state, i.e. always starting with pod-0, and moreover:
2. As defined, the readyness probe does not allow a positive readyness
   check in this scenario that would allow stateful set to spin up any
   subsequent pod which has the most recent sql state.

This changeset adds an exception case to the readyness check to allow
for this failure scenario.

Added error handling for case where wsrep recover does not output any
sequence number. Also added TODO for implementing a timeout for the
wsrep-recover operation.

Change-Id: I0be293e7cfb19dfa8f2a91a8aed29d9ab9ba32d9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/687211/2 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_readiness.sh.tpl'],1,acea033f67c92f27a4b2e65c1b0e0ca7aadb3bf7,,"# Bypass the ready check if this node is not safe to bootstrap, so that # this will not block the stateful set from proceeding to launch mysql # on the node which does have safe_to_bootstrap=1 safe_to_bootstrap=""$(grep safe_to_bootstrap: /var/lib/mysql/grastate.dat 2> /dev/null || true)"" if [ ""$(echo $safe_to_bootstrap | awk '{print $2}')"" = '0' ]; then echo ""Node is not safe to bootstrap. Passing ready check so that the stateful-"" ehco ""set can attempt startup on another node which is safe to bootstrap."" exit 0 fi # WSREP says the node can't receive queries # WSREP not connected", # WSREP says the node can receive queries # WSREP connected,12,2
openstack%2Fopenstack-helm-infra~master~Iab6ca0e21f8153c227948cd6092a7e240b8374fc,openstack/openstack-helm-infra,master,Iab6ca0e21f8153c227948cd6092a7e240b8374fc,[Powerdns] Rename db_sync image,ABANDONED,2019-10-07 14:44:20.000000000,2020-08-26 19:24:30.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28849}, {'_account_id': 29013}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-10-07 14:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b21bc31435d9cf6f28ff60178d7355cca9f92924', 'message': '[Powerdns] Rename db_sync image\n\nThe db sync image is unique per chart, the patch renames\ndb_sync to powerdns_db_sync to be consistent with openstack\nservices.\n\nChange-Id: Iab6ca0e21f8153c227948cd6092a7e240b8374fc\n'}, {'number': 2, 'created': '2019-10-16 07:28:38.000000000', 'files': ['powerdns/values.yaml', 'powerdns/templates/job-db-sync.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37f95d0233cc6df6d56fed966c325cd7e16b040c', 'message': '[Powerdns] Rename db_sync image\n\nThe db sync image is unique per chart, the patch renames\ndb_sync to powerdns_db_sync to be consistent with openstack\nservices.\n\nChange-Id: Iab6ca0e21f8153c227948cd6092a7e240b8374fc\n'}]",0,687067,37f95d0233cc6df6d56fed966c325cd7e16b040c,17,15,2,14525,,,0,"[Powerdns] Rename db_sync image

The db sync image is unique per chart, the patch renames
db_sync to powerdns_db_sync to be consistent with openstack
services.

Change-Id: Iab6ca0e21f8153c227948cd6092a7e240b8374fc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/687067/1 && git format-patch -1 --stdout FETCH_HEAD,"['powerdns/values.yaml', 'powerdns/templates/job-db-sync.yaml']",2,b21bc31435d9cf6f28ff60178d7355cca9f92924,(HEAD,"{{ tuple $envAll ""powerdns_db_sync"" | include ""helm-toolkit.snippets.image"" | indent 10 }}","{{ tuple $envAll ""db_sync"" | include ""helm-toolkit.snippets.image"" | indent 10 }}",2,2
openstack%2Fopenstack-helm-addons~master~I1a2b4173e24a843f3670572484418de6e5afbc25,openstack/openstack-helm-addons,master,I1a2b4173e24a843f3670572484418de6e5afbc25,Enhancements to shaker charts,ABANDONED,2019-03-06 21:55:54.000000000,2020-08-26 19:23:24.000000000,,"[{'_account_id': 8898}, {'_account_id': 13511}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 27589}, {'_account_id': 28701}]","[{'number': 1, 'created': '2019-03-06 21:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/101822a5dd251ffa8fc5b64200a4d2d2d4441290', 'message': 'Enhancements to shaker sharts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 2, 'created': '2019-03-06 22:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b7ee134f52e01f3cac9961e786ce3009b5a64ed1', 'message': 'Enhancements to shaker sharts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 3, 'created': '2019-03-06 22:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4720b004bfc8140c21c1827299aab77974cc6755', 'message': 'Enhancements to shaker sharts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 4, 'created': '2019-03-07 01:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/151d62abf1db66bbf3ff27c2eb3b3c0f4c8a3faa', 'message': 'Enhancements to shaker sharts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 5, 'created': '2019-03-07 02:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3a3f2115a50e98cecce6fa1568756e19b6b59648', 'message': 'Enhancements to shaker sharts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 6, 'created': '2019-03-07 15:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/f9429e2e4de33f6266d5e8c2bc64330808eb1fa2', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 7, 'created': '2019-03-07 16:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7454e14dadd66e984367b6ea1a803e7fc58cefbc', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 8, 'created': '2019-03-07 19:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/69084cc0266c50ab8e58a0473971b74fc24cb9b4', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 9, 'created': '2019-03-07 20:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/49c1b05210a1e2289afaf2ef6364b68d5f0be08a', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 10, 'created': '2019-03-08 13:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0f5adefc72561d1586b601de1775b3b4e433a555', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 11, 'created': '2019-03-08 19:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e79a6d1b65025915028be0c9342194c475f3ab86', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 12, 'created': '2019-03-15 06:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/16ff957e15dd8891a0f04ad4651cef8a19c5dea3', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 13, 'created': '2019-03-25 01:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3776359db59932e3c5035b8f9c9794c8dcb116e1', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 14, 'created': '2019-04-10 15:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d814f3a6730a4a7590b82355b599c9e06dfffef1', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}, {'number': 15, 'created': '2019-10-16 15:30:52.000000000', 'files': ['tools/gate/playbooks/osh-addons-shaker.yaml', 'shaker/values.yaml', 'tools/gate/scripts/deploy-shaker.sh', '.zuul.yaml', 'tools/gate/scripts/090-deploy-shaker.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6681dac714569d5760f692d5fcc648df79e3f2a8', 'message': 'Enhancements to shaker charts\n\n1. Streamline shaker deployment script.\n2. Add a non-voting gate job for shaker charts.\n3. Disable PVC by default. This does away need to\n   setup CEPH.\n\nChange-Id: I1a2b4173e24a843f3670572484418de6e5afbc25\n'}]",0,641493,6681dac714569d5760f692d5fcc648df79e3f2a8,36,6,15,27589,,,0,"Enhancements to shaker charts

1. Streamline shaker deployment script.
2. Add a non-voting gate job for shaker charts.
3. Disable PVC by default. This does away need to
   setup CEPH.

Change-Id: I1a2b4173e24a843f3670572484418de6e5afbc25
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/93/641493/12 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/osh-addons-shaker.yaml', 'shaker/values.yaml', 'tools/gate/scripts/deploy-shaker.sh', '.zuul.yaml', 'tools/gate/scripts/090-deploy-shaker.sh']",5,101822a5dd251ffa8fc5b64200a4d2d2d4441290,update-shaker-charts,,"#!/bin/bash # Copyright 2018 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. #----------------------------------------------------------------------- # Two ways to invoke this script #----------------------------------------------------------------------- # 1. Provide a shaker.conf file listing the shaker configuration params # which should go as input to shaker # 2. Provide the parameters explicitly #---------------------------------------------------------------------- # (1): # sudo -H -E su -c 'export SHAKER_CONF_HOST=""/tmp/shaker.conf""; \ # export CLONE_SHAKER_SCENARIOS=""false""; \ # export SHAKER_SCENARIOS_REPO=""https://git.openstack.org/openstack/shaker""; \ # export COPY_SHAKER_REPORTS_ON_HOST=""false""; \ # cd $CURR_WORK/openstack-helm-addons; ./tools/gate/scripts/090-shaker.sh ${OSH_EXTRA_HELM_ARGS}' ${username} # (2): # sudo -H -E su -c 'export OSH_EXT_NET_NAME=""public""; \ # export OSH_EXT_SUBNET_NAME=""public-subnet""; \ # export OS_USERNAME=""admin""; \ # export OS_PASSWORD=""password""; \ # export OS_AUTH_URL=""http://keystone.openstack.svc.cluster.local/v3""; \ # export OS_PROJECT_NAME=""admin""; \ # export OS_REGION_NAME=""RegionOne""; \ # export OS_PROJECT_ID=""""; \ # export OS_PROJECT_DOMAIN_NAME=""Default""; \ # export OS_USER_DOMAIN_NAME=""Default""; \ # export OS_IDENTITY_API_VERSION=3; \ # export EXTERNAL_NETWORK_NAME=""public""; \ # export SCENARIO=""/opt/shaker/shaker/scenarios/openstack/full_l2.yaml""; \ # export AVAILABILITY_ZONE=""nova""; \ # export FLAVOR_ID=""shaker-flavor""; \ # export IMAGE_NAME=""shaker-image""; \ # export SERVER_ENDPOINT_IP=""""; \ # export CLONE_SHAKER_SCENARIOS=""false""; \ # export SHAKER_SCENARIOS_REPO=""https://git.openstack.org/openstack/shaker""; \ # export COPY_SHAKER_REPORTS_ON_HOST=""false""; \ # cd $CURR_WORK/openstack-helm-addons; ./tools/gate/scripts/090-shaker.sh ${OSH_EXTRA_HELM_ARGS}' ${username} set -xe : ${OSH_EXT_NET_NAME:=""public""} : ${OSH_EXT_SUBNET_NAME:=""public-subnet""} : ${OSH_EXT_SUBNET:=""172.24.4.0/24""} : ${OSH_BR_EX_ADDR:=""172.24.4.1/24""} : ${OSH_PRIVATE_SUBNET_POOL:=""11.0.0.0/8""} : ${OSH_PRIVATE_SUBNET_POOL_NAME:=""shared-default-subnetpool""} : ${OSH_PRIVATE_SUBNET_POOL_DEF_PREFIX:=""24""} : ${OSH_VM_KEY_STACK:=""heat-vm-key""} : ${OSH_PRIVATE_SUBNET:=""11.0.0.0/24""} # Shaker conf params : ${OS_USERNAME:=""admin""} : ${OS_PASSWORD:=""password""} : ${OS_AUTH_URL:=""http://keystone.openstack.svc.cluster.local/v3""} : ${OS_PROJECT_NAME:=""admin""} : ${OS_REGION_NAME:=""RegionOne""} : ${OS_USER_DOMAIN_NAME:=""Default""} : ${OS_PROJECT_DOMAIN_NAME:=""Default""} : ${OS_PROJECT_ID:=""""} : ${EXTERNAL_NETWORK_NAME:=$OSH_EXT_NET_NAME} : ${SCENARIO:=""shaker/shaker/scenarios/openstack/full_l2.yaml""} : ${AVAILABILITY_ZONE:=""nova""} : ${OS_IDENTITY_API_VERSION:=""3""} : ${OS_INTERFACE:=""public""} : ${REPORT_FILE:=""shaker-result.html""} : ${OUTPUT_FILE:=""shaker-result.json""} : ${FLAVOR_ID:=""shaker-flavor""} : ${IMAGE_NAME:=""shaker-image""} : ${SERVER_ENDPOINT_IP:=""""} : ${SERVER_ENDPOINT_INTF:=""eth0""} : ${SHAKER_PORT:=31999} : ${COMPUTE_NODES:=1} : ${EXECUTE_TEST:=""true""} : ${DEBUG:=""true""} : ${CLEANUP_ON_ERROR:=""true""} : ${CLONE_SHAKER_SCENARIOS:=""false""} : ${SHAKER_SCENARIOS_REPO:=""https://git.openstack.org/openstack/shaker""} : ${COPY_SHAKER_REPORTS_ON_HOST:=""false""} : ${SHAKER_CONF_HOST:=""""} # DO NOT CHANGE: Change requires update in shaker charts : ${SHAKER_CONF:=""/opt/shaker/shaker.conf""} : ${SHAKER_DATA:=""/opt/shaker/data""} : ${SHAKER_DATA_HOSTPATH_MOUNT:=""/opt/shaker-data""} : ${SHAKER_DATA_HOSTPATH:=""/tmp/shaker-data""} #NOTE: Pull images and lint chart : ${OSH_PATH:=""../openstack-helm""} make -C ${OSH_PATH} pull-images shaker #NOTE: Deploy command if [ ! -z ${SHAKER_CONF_HOST} ] && [ -f ${SHAKER_CONF_HOST} ]; then SERVER_ENDPOINT_IP=`cat ${SHAKER_CONF_HOST} | awk '/server_endpoint/ {print $2}' | cut -f1 -d':'` SHAKER_PORT=`cat ${SHAKER_CONF_HOST} | awk '/server_endpoint/ {print $2}' | cut -f2 -d':'` else # Export AUTH variables required by shaker-image-builder utility export OS_USERNAME=${OS_USERNAME} export OS_PASSWORD=${OS_PASSWORD} export OS_AUTH_URL=${OS_AUTH_URL} export OS_PROJECT_NAME=${OS_PROJECT_NAME} export OS_REGION_NAME=${OS_REGION_NAME} export EXTERNAL_NETWORK_NAME=${EXTERNAL_NETWORK_NAME} export OS_PROJECT_ID=${OS_PROJECT_ID} if [ $OS_IDENTITY_API_VERSION = ""3"" ]; then export OS_PROJECT_DOMAIN_NAME=${OS_PROJECT_DOMAIN_NAME} export OS_USER_DOMAIN_NAME=${OS_USER_DOMAIN_NAME} else export OS_PROJECT_DOMAIN_NAME= export OS_USER_DOMAIN_NAME= fi export stack_exists=`openstack network list | grep ${OSH_EXT_NET_NAME} | awk '{print $4}'` if [ -z $stack_exists ]; then openstack stack create --wait \ --parameter network_name=${OSH_EXT_NET_NAME} \ --parameter physical_network_name=${OSH_EXT_NET_NAME} \ --parameter subnet_name=${OSH_EXT_SUBNET_NAME} \ --parameter subnet_cidr=${OSH_EXT_SUBNET} \ --parameter subnet_gateway=${OSH_BR_EX_ADDR%/*} \ -t ${OSH_PATH}/tools/gate/files/heat-public-net-deployment.yaml \ heat-public-net-deployment fi default_sec_grp_id=`openstack security group list --project ${OS_PROJECT_NAME} | grep default | awk '{split(\$0,a,""|""); print a[2]}'` for sg in $default_sec_grp_id do icmp=`openstack security group rule list $sg | grep icmp | awk '{split(\$0,a,""|""); print a[2]}'` if [ ""${icmp}"" = """" ]; then openstack security group rule create --proto icmp $sg; fi shaker=`openstack security group rule list $sg | grep tcp | grep ${SHAKER_PORT} | awk '{split(\$0,a,""|""); print a[2]}'` if [ ""${shaker}"" = """" ]; then openstack security group rule create --proto tcp --dst-port ${SHAKER_PORT} $sg; fi done IMAGE_NAME=$(openstack image show -f value -c name \ $(openstack image list -f csv | awk -F ',' '{ print $2 "","" $1 }' | \ grep ""${IMAGE_NAME}"" | head -1 | awk -F ',' '{ print $2 }' | tr -d '""')) if [ -z $IMAGE_NAME ]; then # Install shaker to use shaker-image-builder utility sudo apt-add-repository ""deb http://nova.clouds.archive.ubuntu.com/ubuntu/ trusty multiverse"" sudo apt-get update sudo apt-get -y install python-dev libzmq-dev sudo pip install pbr pyshaker # Run shaker-image-builder utility to build shaker image # For debug mode # shaker-image-builder --nocleanup-on-error --debug # For debug mode - with disk-image-builder mode # shaker-image-builder --nocleanup-on-error --debug --image-builder-mode dib shaker-image-builder IMAGE_NAME=$(openstack image show -f value -c name \ $(openstack image list -f csv | awk -F ',' '{ print $2 "","" $1 }' | \ grep ""^\""shaker"" | head -1 | awk -F ',' '{ print $2 }' | tr -d '""')) fi if [ $CLONE_SHAKER_SCENARIOS = ""true"" ]; then SHAKER_SCENARIO=""${SHAKER_DATA}/${SCENARIO}"" else SHAKER_SCENARIO=""/opt/${SCENARIO}"" fi fi #NOTE: Deploy shaker pods tee /tmp/shaker.yaml << EOF shaker: controller: external_ip: ${SERVER_ENDPOINT_IP} conf: script: | #!/bin/bash set -xe # Clone the shaker test-cases if [ ${CLONE_SHAKER_SCENARIOS} = ""true"" ]; then cd ${SHAKER_DATA}; git clone $SHAKER_SCENARIOS_REPO; cd -; fi if [ -z ${SERVER_ENDPOINT_IP} ]; then export server_endpoint=\`ip a | grep ""global ${SERVER_ENDPOINT_INTF}"" | cut -f6 -d' ' | cut -f1 -d'/'\` else export server_endpoint=${SERVER_ENDPOINT_IP} fi echo =========================== printenv | grep -i os_ echo ========== SHAKER CONF PARAMETERS ================= cat ${SHAKER_CONF} echo ===================================================== env -i HOME=""$HOME"" bash -l -c ""printenv; shaker --server-endpoint \$server_endpoint:${SHAKER_PORT} --config-file ${SHAKER_CONF}"" if [ $COPY_SHAKER_REPORTS_ON_HOST = ""true"" ]; then export DATA_FOLDER_NAME=`date +%Y%m%d_%H%M%S` mkdir ${SHAKER_DATA_HOSTPATH_MOUNT}/\$DATA_FOLDER_NAME echo \$DATA_FOLDER_NAME > ${SHAKER_DATA_HOSTPATH_MOUNT}/latest-shaker-data-name.txt declare -a file_extns_arr_to_copy=(html json subunit conf yaml stream) for i in ""\${file_extns_arr_to_copy[@]}"" do if [ -e ${SHAKER_DATA}/*.\$i ]; then cp -avb ${SHAKER_DATA}/*.\$i ${SHAKER_DATA_HOSTPATH_MOUNT}/\$DATA_FOLDER_NAME/; fi done cp -avb ${SHAKER_CONF} ${SHAKER_DATA_HOSTPATH_MOUNT}/\$DATA_FOLDER_NAME/ fi EOF if [ -z ${SHAKER_CONF_HOST} ] || [ ! -f ${SHAKER_CONF_HOST} ]; then tee -a /tmp/shaker.yaml << EOF shaker: shaker: DEFAULT: debug: ${DEBUG} cleanup_on_error: ${CLEANUP_ON_ERROR} scenario_compute_nodes: ${COMPUTE_NODES} report: ${SHAKER_DATA}/${REPORT_FILE} output: ${SHAKER_DATA}/${OUTPUT_FILE} scenario: ${SHAKER_SCENARIO} flavor_name: ${FLAVOR_ID} external_net: ${EXTERNAL_NETWORK_NAME} image_name: ${IMAGE_NAME} scenario_availability_zone: ${AVAILABILITY_ZONE} os_username: ${OS_USERNAME} os_password: ${OS_PASSWORD} os_auth_url: ${OS_AUTH_URL} os_project_name: ${OS_PROJECT_NAME} os_region_name: ${OS_REGION_NAME} os_identity_api_version: ${OS_IDENTITY_API_VERSION} os_interface: ${OS_INTERFACE} EOF if [ $OS_IDENTITY_API_VERSION = ""3"" ]; then tee -a /tmp/shaker.yaml << EOF os_project_domain_name: ${OS_PROJECT_DOMAIN_NAME} os_user_domain_name: ${OS_USER_DOMAIN_NAME} EOF fi else echo "" shaker:"" >> /tmp/shaker.yaml echo "" shaker:"" >> /tmp/shaker.yaml cp ${SHAKER_CONF_HOST} ${SHAKER_CONF_HOST}.tmp sed -i -e 's/^/ /' ${SHAKER_CONF_HOST}.tmp cat ${SHAKER_CONF_HOST}.tmp >> /tmp/shaker.yaml rm -rf ${SHAKER_CONF_HOST}.tmp fi helm upgrade --install shaker ./shaker \ --namespace=openstack \ --values=/tmp/shaker.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_SHAKER} #NOTE: Wait for deploy ./tools/gate/scripts/wait-for-pods.sh openstack 2400 #NOTE: Validate Deployment info kubectl get -n openstack jobs --show-all if [ -n $EXECUTE_TEST ]; then helm test shaker --timeout 2700 if [ $COPY_SHAKER_REPORTS_ON_HOST = ""true"" ]; then shaker_pod_name=`kubectl -n openstack get pods | grep shaker-run-tests | cut -f1 -d' '` latest_data_folder=`cat ${SHAKER_DATA_HOSTPATH}/latest-shaker-data-name.txt` kubectl -n openstack logs ${shaker_pod_name} > ${SHAKER_DATA_HOSTPATH}/${latest_data_folder}/${shaker_pod_name}.logs fi fi ",335,289
openstack%2Fopenstack-helm~master~Idf490f8b19dcd1e71a9b5fa8934461f1198a8af8,openstack/openstack-helm,master,Idf490f8b19dcd1e71a9b5fa8934461f1198a8af8,Nova console/ip address search optionality,ABANDONED,2019-03-28 03:39:05.000000000,2020-08-26 19:23:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 28570}]","[{'number': 1, 'created': '2019-03-28 03:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5e8ad20e35b770e5967f75f6f93f0a4dc6e3b41', 'message': 'Nova console/ip address search optionality\n\nAdd options to nova to enable/disable the use of:\n1. the vnc or spice server proxyclient address found by the console\n   compute init container\n2. my_ip hypervisor address found by compute init container\n\nThese options can be used to prevent cases where the found addresses\noverwrite what has already been defined in nova.conf by per host nova\ncompute daemonset overrides.\n\nStory: 2005259\nTask: 30066\nChange-Id: Idf490f8b19dcd1e71a9b5fa8934461f1198a8af8\nSigned-off-by: Gerry Kopec <Gerry.Kopec@windriver.com>\n'}, {'number': 2, 'created': '2019-04-16 11:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/45ede087765f4cc2df2aff2c64e7cdbbc05d5d56', 'message': 'Nova console/ip address search optionality\n\nAdd options to nova to enable/disable the use of:\n1. the vnc or spice server proxyclient address found by the console\n   compute init container\n2. my_ip hypervisor address found by compute init container\n\nThese options can be used to prevent cases where the found addresses\noverwrite what has already been defined in nova.conf by per host nova\ncompute daemonset overrides.\n\nStory: 2005259\nTask: 30066\nChange-Id: Idf490f8b19dcd1e71a9b5fa8934461f1198a8af8\nSigned-off-by: Gerry Kopec <Gerry.Kopec@windriver.com>\n'}, {'number': 3, 'created': '2019-10-15 07:04:48.000000000', 'files': ['nova/values.yaml', 'nova/templates/bin/_nova-compute.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c4f767e8719bb7ca84fc5df5f2589938b4fa187', 'message': 'Nova console/ip address search optionality\n\nAdd options to nova to enable/disable the use of:\n1. the vnc or spice server proxyclient address found by the console\n   compute init container\n2. my_ip hypervisor address found by compute init container\n\nThese options can be used to prevent cases where the found addresses\noverwrite what has already been defined in nova.conf by per host nova\ncompute daemonset overrides.\n\nStory: 2005259\nTask: 30066\nChange-Id: Idf490f8b19dcd1e71a9b5fa8934461f1198a8af8\nSigned-off-by: Gerry Kopec <Gerry.Kopec@windriver.com>\n'}]",0,648307,9c4f767e8719bb7ca84fc5df5f2589938b4fa187,8,2,3,19124,,,0,"Nova console/ip address search optionality

Add options to nova to enable/disable the use of:
1. the vnc or spice server proxyclient address found by the console
   compute init container
2. my_ip hypervisor address found by compute init container

These options can be used to prevent cases where the found addresses
overwrite what has already been defined in nova.conf by per host nova
compute daemonset overrides.

Story: 2005259
Task: 30066
Change-Id: Idf490f8b19dcd1e71a9b5fa8934461f1198a8af8
Signed-off-by: Gerry Kopec <Gerry.Kopec@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/648307/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/bin/_nova-compute.sh.tpl']",2,f5e8ad20e35b770e5967f75f6f93f0a4dc6e3b41,nova_address_optionality,{{- if .Values.console.address_search_enabled }}{{- end }}{{- if .Values.conf.hypervisor.address_search_enabled }} --config-file /tmp/pod-shared/nova-hypervisor.conf {{- end }} , --config-file /tmp/pod-shared/nova-hypervisor.conf,7,1
openstack%2Fopenstack-helm~master~Iee307cb54384d1c4583d00a8d28f7b1a0676d7d8,openstack/openstack-helm,master,Iee307cb54384d1c4583d00a8d28f7b1a0676d7d8,Nova chart: Support ephemeral pool creation,ABANDONED,2019-02-26 17:56:04.000000000,2020-08-26 19:23:06.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28570}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-02-26 17:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6eb1dc92aef8cec87013d2a2c6db84c1898dc85e', 'message': 'Nova chart: Support ephemeral pool creation\n\nIf libvirt images_type is rbd, then we need to have the\nimages_rbd_pool present. These changes add a new job\nto make sure this pool exists.\n\nChange-Id: Iee307cb54384d1c4583d00a8d28f7b1a0676d7d8\nStory: 2004922\nTask: 29285\nSigned-off-by: Irina Mihai <irina.mihai@windriver.com>\n'}, {'number': 2, 'created': '2019-02-27 20:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d9b7ceb460861420a7ad371aa6994845d21bc988', 'message': 'Nova chart: Support ephemeral pool creation\n\nIf libvirt images_type is rbd, then we need to have the\nimages_rbd_pool present. These changes add a new job\nto make sure this pool exists.\n\nChange-Id: Iee307cb54384d1c4583d00a8d28f7b1a0676d7d8\nStory: 2004922\nTask: 29285\nSigned-off-by: Irina Mihai <irina.mihai@windriver.com>\n'}, {'number': 3, 'created': '2019-03-06 06:59:40.000000000', 'files': ['nova/templates/job-storage-init.yaml', 'nova/values.yaml', 'nova/templates/bin/_nova-storage-init.sh.tpl', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0afcb0b37cdcf57436e44867bac9242d8684ce81', 'message': 'Nova chart: Support ephemeral pool creation\n\nIf libvirt images_type is rbd, then we need to have the\nimages_rbd_pool present. These changes add a new job\nto make sure this pool exists.\n\nChange-Id: Iee307cb54384d1c4583d00a8d28f7b1a0676d7d8\nStory: 2004922\nTask: 29285\nSigned-off-by: Irina Mihai <irina.mihai@windriver.com>\n'}]",0,639403,0afcb0b37cdcf57436e44867bac9242d8684ce81,10,6,3,28883,,,0,"Nova chart: Support ephemeral pool creation

If libvirt images_type is rbd, then we need to have the
images_rbd_pool present. These changes add a new job
to make sure this pool exists.

Change-Id: Iee307cb54384d1c4583d00a8d28f7b1a0676d7d8
Story: 2004922
Task: 29285
Signed-off-by: Irina Mihai <irina.mihai@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/03/639403/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-storage-init.yaml', 'nova/values.yaml', 'nova/templates/bin/_nova-storage-init.sh.tpl', 'nova/templates/configmap-bin.yaml']",4,6eb1dc92aef8cec87013d2a2c6db84c1898dc85e,,"Copyright 2017-2019 The Openstack-Helm Authors. nova-storage-init.sh: | {{ tuple ""bin/_nova-storage-init.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",Copyright 2017 The Openstack-Helm Authors.,250,1
openstack%2Fopenstack-helm-infra~master~I05f6f08fd57e2a258aef9d787ef84cc9980f2b54,openstack/openstack-helm-infra,master,I05f6f08fd57e2a258aef9d787ef84cc9980f2b54,Add deny-all capability to network policy HTK func,ABANDONED,2019-10-02 17:08:02.000000000,2020-08-26 19:23:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 22636}]","[{'number': 1, 'created': '2019-10-02 17:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81154efb8b574d08d169ff4bdc7257991bb4f209', 'message': 'Add deny-all capability to network policy HTK func\n\nAdding the capability to render a deny-all ingress or egress\nnetwork policy if desired, by specifying ""deny"" on either the\negress or ingress line. Example included in the HTK function\ndocumentation.\n\nChange-Id: I05f6f08fd57e2a258aef9d787ef84cc9980f2b54\n'}, {'number': 2, 'created': '2019-10-10 16:10:05.000000000', 'files': ['helm-toolkit/templates/manifests/_network_policy.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/905e5dc34ae3acbdd148ba19099a4c6352dd3c2a', 'message': 'Add deny-all capability to network policy HTK func\n\nAdding the capability to render a deny-all ingress or egress\nnetwork policy if desired, by specifying ""deny"" on either the\negress or ingress line. Example included in the HTK function\ndocumentation.\n\nChange-Id: I05f6f08fd57e2a258aef9d787ef84cc9980f2b54\n'}]",0,686223,905e5dc34ae3acbdd148ba19099a4c6352dd3c2a,12,2,2,22636,,,0,"Add deny-all capability to network policy HTK func

Adding the capability to render a deny-all ingress or egress
network policy if desired, by specifying ""deny"" on either the
egress or ingress line. Example included in the HTK function
documentation.

Change-Id: I05f6f08fd57e2a258aef9d787ef84cc9980f2b54
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/686223/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_network_policy.tpl'],1,81154efb8b574d08d169ff4bdc7257991bb4f209,netpol," myLabel1: myLabel2: podSelector: matchLabels: component: engine ingress: deny egress: - {} {{ dict ""envAll"" . ""name"" ""application"" ""label"" ""myLabel1"" | include ""helm-toolkit.manifests.kubernetes_network_policy"" }} {{ dict ""envAll"" . ""name"" ""application"" ""label"" ""myLabel2"" | include ""helm-toolkit.manifests.kubernetes_network_policy"" }} application: myLabel1 --- apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: RELEASE-NAME namespace: NAMESPACE spec: policyTypes: - Ingress - Egress podSelector: matchLabels: application: myLabel2 component: engine # Ingress - Deny all egress: - {}{{- if kindIs ""slice"" (index $envAll.Values.network_policy $label ""egress"") }}{{- else if eq (index $envAll.Values.network_policy $label ""egress"") ""deny"" }} # Egress - Deny all {{- end }}{{- if kindIs ""slice"" (index $envAll.Values.network_policy $label ""ingress"") }}{{- else if eq (index $envAll.Values.network_policy $label ""ingress"") ""deny"" }} # Ingress - Deny all {{- end }}"," myLabel: {{ dict ""envAll"" . ""name"" ""application"" ""label"" ""myLabel"" | include ""helm-toolkit.manifests.kubernetes_network_policy"" }} application: myLabel",37,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I05f31885ade46d47ff5d384dabbd5561f4df9278,openstack/tripleo-heat-templates,stable/train,I05f31885ade46d47ff5d384dabbd5561f4df9278,Fix endpoint map tls - zaqar wss port,MERGED,2020-08-21 21:28:00.000000000,2020-08-26 19:16:21.000000000,2020-08-26 19:16:21.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-21 21:28:00.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1848fa025e2b405c4d04a428b9668e70eda4dbbf', 'message': ""Fix endpoint map tls - zaqar wss port\n\nWe open port: `` 3000 #SSL for websocket`` in the\nzaqar service defenition:\n  deployment/zaqar/zaqar-container-puppet.yaml:L130\n\nBut SSL environment files use port 9000 for the public\nendpoint.\n\nUsing 9000 also for SSL can cause issues in haproxy.\nWe may want to revert or relax the check in\nhttps://review.opendev.org/664224 as duplicate IP's\nis'nt the actual problem.\n\nRelated-Bug: #1832168\nRelated-RHBZ: #1868910\nChange-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278\n(cherry picked from commit 94997223b6173be29fb621d827f8a7ecfa4b6bfa)\n""}]",0,747480,1848fa025e2b405c4d04a428b9668e70eda4dbbf,21,4,1,24245,,,0,"Fix endpoint map tls - zaqar wss port

We open port: `` 3000 #SSL for websocket`` in the
zaqar service defenition:
  deployment/zaqar/zaqar-container-puppet.yaml:L130

But SSL environment files use port 9000 for the public
endpoint.

Using 9000 also for SSL can cause issues in haproxy.
We may want to revert or relax the check in
https://review.opendev.org/664224 as duplicate IP's
is'nt the actual problem.

Related-Bug: #1832168
Related-RHBZ: #1868910
Change-Id: I05f31885ade46d47ff5d384dabbd5561f4df9278
(cherry picked from commit 94997223b6173be29fb621d827f8a7ecfa4b6bfa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/747480/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml']",5,1848fa025e2b405c4d04a428b9668e70eda4dbbf,RHBZ#1868910-stable/train," ZaqarWebSocketPublic: {protocol: 'wss', port: '3000', host: 'CLOUDNAME'}"," ZaqarWebSocketPublic: {protocol: 'wss', port: '9000', host: 'CLOUDNAME'}",10,6
openstack%2Fpython-octaviaclient~master~Iab8b8339cf096ee1f5c56a828629f0ebf94484a9,openstack/python-octaviaclient,master,Iab8b8339cf096ee1f5c56a828629f0ebf94484a9,Add TLS versions and ciphers unsets,MERGED,2020-08-06 11:34:04.000000000,2020-08-26 19:15:33.000000000,2020-08-26 19:12:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-06 11:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/605bf7fe85bbd8f940ad6bde76ba88a44f1e9877', 'message': 'Add TLS versions and ciphers unsets\n\nTask: 40617\nTask: 40618\nStory: 2006627\n\nTask: 40615\nTask: 40616\nStory: 2006733\n\nChange-Id: Iab8b8339cf096ee1f5c56a828629f0ebf94484a9\n'}, {'number': 2, 'created': '2020-08-25 19:45:52.000000000', 'files': ['releasenotes/notes/add-tls-versions-ciphers-unsets-8d06a502c8ad38ff.yaml', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/c58880e4484a036cb03bc59a3acd7effa1468694', 'message': 'Add TLS versions and ciphers unsets\n\nTask: 40617\nTask: 40618\nStory: 2006627\n\nTask: 40615\nTask: 40616\nStory: 2006733\n\nChange-Id: Iab8b8339cf096ee1f5c56a828629f0ebf94484a9\n'}]",14,745118,c58880e4484a036cb03bc59a3acd7effa1468694,16,6,2,6469,,,0,"Add TLS versions and ciphers unsets

Task: 40617
Task: 40618
Story: 2006627

Task: 40615
Task: 40616
Story: 2006733

Change-Id: Iab8b8339cf096ee1f5c56a828629f0ebf94484a9
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/18/745118/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-tls-versions-ciphers-unsets-8d06a502c8ad38ff.yaml', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py']",5,605bf7fe85bbd8f940ad6bde76ba88a44f1e9877,," '--tls-versions', action='store_true', help='Clear all TLS versions from the pool.', ) parser.add_argument( '--tls-ciphers', action='store_true', help='Clear all TLS ciphers from the pool.', ) parser.add_argument(",,39,3
openstack%2Fpaunch~stable%2Ftrain~Iebad9919caf805715da9268f9ee8a40b4392642a,openstack/paunch,stable/train,Iebad9919caf805715da9268f9ee8a40b4392642a,[USSURI-ONLY] Add new parameter: pids_limit,MERGED,2020-08-26 06:00:47.000000000,2020-08-26 19:15:13.000000000,2020-08-26 19:13:04.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 06:00:47.000000000', 'files': ['paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/ed2c015ab31bdf007a1aff5f70368f661c5f8275', 'message': '[USSURI-ONLY] Add new parameter: pids_limit\n\nThe default PID limit in a container is set to 4096. This limit might be\nreached in a nova_libvirt container, after launching about 150 VMs.\n\nChange-Id: Iebad9919caf805715da9268f9ee8a40b4392642a\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\n(cherry picked from commit 368827e9078e29a3a1b07f07718411f35d3767d6)\n'}]",0,748106,ed2c015ab31bdf007a1aff5f70368f661c5f8275,8,3,1,28223,,,0,"[USSURI-ONLY] Add new parameter: pids_limit

The default PID limit in a container is set to 4096. This limit might be
reached in a nova_libvirt container, after launching about 150 VMs.

Change-Id: Iebad9919caf805715da9268f9ee8a40b4392642a
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
(cherry picked from commit 368827e9078e29a3a1b07f07718411f35d3767d6)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/06/748106/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/tests/test_builder_podman.py']",2,ed2c015ab31bdf007a1aff5f70368f661c5f8275,pids_limit-stable/train," 'pids_limit': '1024', '--uts=host', '--pids-limit=1024', '--privileged=true', '--user=bar',"," '--uts=host', '--privileged=true', '--user=bar',",4,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d,openstack/tripleo-ansible,stable/train,I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d,Add OpenFlow10 to protocols for backwards compatability,MERGED,2020-08-25 00:20:17.000000000,2020-08-26 19:10:11.000000000,2020-08-26 19:10:11.000000000,"[{'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-25 00:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f57dab76c163b08f5f12fb4d4565ae7197ef10a', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nCloses-Bug: #1892491\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n(cherry picked from commit 3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b)\n""}, {'number': 2, 'created': '2020-08-26 10:48:13.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/acfad8257e9efc0f3c3f074cd9fd7fdd60d604b8', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nCloses-Bug: #1892491\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n(cherry picked from commit 3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b)\n""}]",0,747808,acfad8257e9efc0f3c3f074cd9fd7fdd60d604b8,16,6,2,6681,,,0,"Add OpenFlow10 to protocols for backwards compatability

We need to add OpenFlow10 to the required protocols to support
backwards compatibility with neutron's destroy_patch_ports.

Closes-Bug: #1892491
Change-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d
(cherry picked from commit 3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/747808/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,1f57dab76c163b08f5f12fb4d4565ae7197ef10a,train," 'protocols=OpenFlow10,OpenFlow13,OpenFlow15'] module.warn('Cannot set new OpenFlow protocols on a bridge: ' '%s: %s.' %"," 'protocols=OpenFlow13,OpenFlow15'] module.warn('Cannot set OpenFlow13 and OpenFlow15 ' 'protocol on a bridge: %s: %s.' %",3,3
openstack%2Ftripleo-ansible~stable%2Fussuri~I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d,openstack/tripleo-ansible,stable/ussuri,I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d,Add OpenFlow10 to protocols for backwards compatability,MERGED,2020-08-25 00:19:57.000000000,2020-08-26 18:48:45.000000000,2020-08-26 18:48:45.000000000,"[{'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-25 00:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/641a7e9498b1b971ced3b7518c4e01e0d2c8e89e', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nCloses-Bug: #1892491\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n(cherry picked from commit 3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b)\n""}, {'number': 2, 'created': '2020-08-25 08:02:39.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b400816905f897f65d41b44cd8041cf11e96e818', 'message': ""Add OpenFlow10 to protocols for backwards compatability\n\nWe need to add OpenFlow10 to the required protocols to support\nbackwards compatibility with neutron's destroy_patch_ports.\n\nCloses-Bug: #1892491\nChange-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d\n(cherry picked from commit 3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b)\n""}]",0,747807,b400816905f897f65d41b44cd8041cf11e96e818,15,6,2,6681,,,0,"Add OpenFlow10 to protocols for backwards compatability

We need to add OpenFlow10 to the required protocols to support
backwards compatibility with neutron's destroy_patch_ports.

Closes-Bug: #1892491
Change-Id: I6865787f4d0b0459ac2eb91c0f1da9c08b36dd8d
(cherry picked from commit 3220e4e5e3491d5a59a03a4f8a9adc2b3b326b9b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/747807/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,641a7e9498b1b971ced3b7518c4e01e0d2c8e89e,ussuri," 'protocols=OpenFlow10,OpenFlow13,OpenFlow15'] module.warn('Cannot set new OpenFlow protocols on a bridge: ' '%s: %s.' %"," 'protocols=OpenFlow13,OpenFlow15'] module.warn('Cannot set OpenFlow13 and OpenFlow15 ' 'protocol on a bridge: %s: %s.' %",3,3
openstack%2Ftripleo-ansible~stable%2Fussuri~Ica40c727d864f941cde7104f3259edf8bb05f081,openstack/tripleo-ansible,stable/ussuri,Ica40c727d864f941cde7104f3259edf8bb05f081,Show the proper value (0) to set unlimited pids,MERGED,2020-08-26 06:01:07.000000000,2020-08-26 18:48:44.000000000,2020-08-26 18:48:44.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 06:01:07.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02261b259d24376b0f2d6a30635962c1bcd8a4d7', 'message': 'Show the proper value (0) to set unlimited pids\n\nAccording to podman documentation[1], 0 should be set to --pids-limit,\ninstead of -1, to allow unlimited pids.\n\n[1] http://docs.podman.io/en/latest/markdown/podman-create.1.html\n\nChange-Id: Ica40c727d864f941cde7104f3259edf8bb05f081\n(cherry picked from commit 42f32b21e3957c4447d1ea4381b547f7e0f4b8c4)\n'}]",0,748107,02261b259d24376b0f2d6a30635962c1bcd8a4d7,8,4,1,28223,,,0,"Show the proper value (0) to set unlimited pids

According to podman documentation[1], 0 should be set to --pids-limit,
instead of -1, to allow unlimited pids.

[1] http://docs.podman.io/en/latest/markdown/podman-create.1.html

Change-Id: Ica40c727d864f941cde7104f3259edf8bb05f081
(cherry picked from commit 42f32b21e3957c4447d1ea4381b547f7e0f4b8c4)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/748107/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,02261b259d24376b0f2d6a30635962c1bcd8a4d7,podman-pids-unilimited-stable/ussuri, - Tune the container's PIDs limit. Set 0 to have unlimited PIDs for the, - Tune the container's PIDs limit. Set -1 to have unlimited PIDs for the,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,openstack/tripleo-heat-templates,stable/ussuri,I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options,MERGED,2020-08-24 07:46:12.000000000,2020-08-26 18:46:28.000000000,2020-08-26 18:46:28.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-24 07:46:12.000000000', 'files': ['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc8e2f9b96d128bd22b4c7574d52aea0b9738acf', 'message': '[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options\n\nAdd missing post_upgrade_tasks shared from the ceph-base.\nMove post_upgrade_tasks that set noout options of ceph to only\nthe ceph osd service as they are targeted for this service.\nMove the set nooout options out of system_upgrade tags so they\nrun only after full upgrade run with deployment so the podman\nis already present on the nodes.\n\nResolves: rhbz#1870617\n\nChange-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a\n(cherry picked from commit a9be4c6a38e297bb9bd35b5ca868cfed6cd0b666)\n'}]",0,747635,bc8e2f9b96d128bd22b4c7574d52aea0b9738acf,19,7,1,25402,,,0,"[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options

Add missing post_upgrade_tasks shared from the ceph-base.
Move post_upgrade_tasks that set noout options of ceph to only
the ceph osd service as they are targeted for this service.
Move the set nooout options out of system_upgrade tags so they
run only after full upgrade run with deployment so the podman
is already present on the nodes.

Resolves: rhbz#1870617

Change-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a
(cherry picked from commit a9be4c6a38e297bb9bd35b5ca868cfed6cd0b666)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/747635/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml']",5,bc8e2f9b96d128bd22b4c7574d52aea0b9738acf,ffwd-upgrade2-stable/ussuri," upgrade_tasks: {get_attr: [CephBase, role_data, upgrade_tasks]} post_upgrade_tasks: {get_attr: [CephBase, role_data, post_upgrade_tasks]}", upgrade_tasks: [],54,8
openstack%2Fpython-octaviaclient~master~Iaddbf2b55b3ec29fc8f12a226a97f691143165ad,openstack/python-octaviaclient,master,Iaddbf2b55b3ec29fc8f12a226a97f691143165ad,Fix hacking min version to 3.0.1,MERGED,2020-05-13 01:03:14.000000000,2020-08-26 18:42:09.000000000,2020-08-26 18:36:15.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-13 01:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/13a8e11f1eee073cefe72c33db267bb758d4d743', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad\n'}, {'number': 2, 'created': '2020-05-15 15:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/46d9fa645eb8777fa2715b0df80590c845dc8da2', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad\n'}, {'number': 3, 'created': '2020-08-25 17:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/32489074deb5ef0881b99f7f397ad127fb7f4da4', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad\n'}, {'number': 4, 'created': '2020-08-25 19:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/f746062d1041ea196dca757585fd441f5920d430', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere [0].\n\nAlso fixed new pylint errors as pylint 2.6.0 added two new checkers [1]\nthat make pep8 fail:\n\n  - raise-missing-from (W0707)\n  - super-with-arguments (R1725)\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad\n'}, {'number': 5, 'created': '2020-08-25 19:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/481f6650363607514efa224d71538525e55e1db5', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nDepends-on: https://review.opendev.org/#/c/748018/\n\nChange-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad\n'}, {'number': 6, 'created': '2020-08-25 20:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1c980ca94785a9ecd7183b5a85480c6cc1477674', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad\n'}, {'number': 7, 'created': '2020-08-25 20:03:31.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/f525c3912e4c9471ada9f0e20bbc708b525ec86a', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad\n'}]",0,727554,f525c3912e4c9471ada9f0e20bbc708b525ec86a,23,4,7,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

Also removing the hacking and other related dep from lower-constraints file
as theose are blacklisted requirements and does not need to be present
there.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Iaddbf2b55b3ec29fc8f12a226a97f691143165ad
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/54/727554/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,13a8e11f1eee073cefe72c33db267bb758d4d743,727554-patch3,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1,openstack/python-tripleoclient,stable/ussuri,I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1,(UX) Improve logging if the ephemeral heat stack wasn't created,MERGED,2020-08-24 12:40:16.000000000,2020-08-26 18:38:16.000000000,2020-08-26 18:36:12.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 12:40:16.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d154d50c82055fd840d8c12d5edc794ceb0ae884', 'message': ""(UX) Improve logging if the ephemeral heat stack wasn't created\n\nIf the ephemeral heat stack wasn't created, raise a proper error message\nexplaining what happens and how to proceed instead of a python stack\ntrace.\n\nChange-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1\nCloses-Bug: #1892248\n(cherry picked from commit 686ac839b4d43c202de7342531a20162a6c1b20c)\n""}]",0,747713,d154d50c82055fd840d8c12d5edc794ceb0ae884,11,4,1,3153,,,0,"(UX) Improve logging if the ephemeral heat stack wasn't created

If the ephemeral heat stack wasn't created, raise a proper error message
explaining what happens and how to proceed instead of a python stack
trace.

Change-Id: I4c2e19e290751ea56f1b45aaebc56ea9a5d2c6d1
Closes-Bug: #1892248
(cherry picked from commit 686ac839b4d43c202de7342531a20162a6c1b20c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/747713/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,d154d50c82055fd840d8c12d5edc794ceb0ae884,bug/1892248-stable/ussuri," if not stack: msg = _('The ephemeral Heat stack could not be created, please ' 'check logs in /var/log/heat-launcher and/or any ' 'possible misconfiguration.') raise exceptions.DeploymentError(msg) stack_id = stack['stack']['id']", stack_id = stack['stack']['id'] ,6,1
openstack%2Fpython-octaviaclient~master~I861115d01315c7c3d8c235efd20ccde04bddea46,openstack/python-octaviaclient,master,I861115d01315c7c3d8c235efd20ccde04bddea46,Fix new pylint errors,MERGED,2020-08-25 19:31:38.000000000,2020-08-26 18:37:50.000000000,2020-08-26 18:36:14.000000000,"[{'_account_id': 1131}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 19:31:38.000000000', 'files': ['octaviaclient/osc/v2/flavor.py', 'octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/tests/unit/osc/v2/test_validations.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/osc/v2/flavorprofile.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/api/test_octavia.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/osc/v2/test_amphora.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/osc/v2/availabilityzoneprofile.py', 'octaviaclient/api/exceptions.py', 'octaviaclient/osc/v2/l7policy.py', 'octaviaclient/tests/unit/osc/v2/fakes.py', 'octaviaclient/tests/unit/osc/v2/test_provider.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/fakes.py', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py', 'octaviaclient/osc/v2/availabilityzone.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/osc/v2/provider.py', 'octaviaclient/osc/v2/quota.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/09f8acc306dab14f1abef69fc0d30cdc7db9b4c1', 'message': 'Fix new pylint errors\n\nPylint 2.6.0 added two new checkers [1] that make pep8 validation to\nfail:\n\n- raise-missing-from (W0707)\n- super-with-arguments (R1725)\n\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: I861115d01315c7c3d8c235efd20ccde04bddea46\n'}]",0,748018,09f8acc306dab14f1abef69fc0d30cdc7db9b4c1,9,4,1,6469,,,0,"Fix new pylint errors

Pylint 2.6.0 added two new checkers [1] that make pep8 validation to
fail:

- raise-missing-from (W0707)
- super-with-arguments (R1725)

[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html

Change-Id: I861115d01315c7c3d8c235efd20ccde04bddea46
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/18/748018/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/flavor.py', 'octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'octaviaclient/tests/unit/osc/v2/test_quota.py', 'octaviaclient/tests/unit/osc/v2/test_validations.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/osc/v2/flavorprofile.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/api/test_octavia.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/api/v2/octavia.py', 'octaviaclient/tests/unit/osc/v2/test_amphora.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/osc/v2/availabilityzoneprofile.py', 'octaviaclient/api/exceptions.py', 'octaviaclient/osc/v2/l7policy.py', 'octaviaclient/tests/unit/osc/v2/fakes.py', 'octaviaclient/tests/unit/osc/v2/test_provider.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/fakes.py', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py', 'octaviaclient/osc/v2/availabilityzone.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/osc/v2/provider.py', 'octaviaclient/osc/v2/quota.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py']",35,09f8acc306dab14f1abef69fc0d30cdc7db9b4c1,, parser = super().get_parser(prog_name) parser = super().get_parser(prog_name) parser = super().get_parser(prog_name) parser = super().get_parser(prog_name) parser = super().get_parser(prog_name) parser = super().get_parser(prog_name)," parser = super(CreatePool, self).get_parser(prog_name) parser = super(DeletePool, self).get_parser(prog_name) parser = super(ListPool, self).get_parser(prog_name) parser = super(ShowPool, self).get_parser(prog_name) parser = super(SetPool, self).get_parser(prog_name) parser = super(UnsetPool, self).get_parser(prog_name)",185,186
openstack%2Fnova~master~Ic90a500ccc099cbc040743ee444b17ca7f1b9cb5,openstack/nova,master,Ic90a500ccc099cbc040743ee444b17ca7f1b9cb5,Add debug log when creating a vif,NEW,2019-04-30 20:59:01.000000000,2020-08-26 18:32:36.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-30 20:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40b8a517361cb914476e8840c2a26952360374d1', 'message': 'Add debug log when creating a vif\n\nIn order to assist debugging vif plug events flowing between nova and\nneutron, log the creation of a nova vif.\n\nChange-Id: Ic90a500ccc099cbc040743ee444b17ca7f1b9cb5\n'}, {'number': 2, 'created': '2019-04-30 21:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b49b131f263e3232791cf6e3047ffdc2a9cd4f79', 'message': 'Add debug log when creating a vif\n\nIn order to assist debugging vif plug events flowing between nova and\nneutron, log the creation of a nova vif.\n\nChange-Id: Ic90a500ccc099cbc040743ee444b17ca7f1b9cb5\n'}, {'number': 3, 'created': '2019-05-01 13:18:05.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9d15b9a814b1faf73597ec9f4cb92375b31a70f', 'message': 'Add debug log when creating a vif\n\nIn order to assist debugging vif plug events flowing between nova and\nneutron, log the creation of a nova vif.\n\nChange-Id: Ic90a500ccc099cbc040743ee444b17ca7f1b9cb5\n'}]",11,656587,b9d15b9a814b1faf73597ec9f4cb92375b31a70f,26,14,3,13995,,,0,"Add debug log when creating a vif

In order to assist debugging vif plug events flowing between nova and
neutron, log the creation of a nova vif.

Change-Id: Ic90a500ccc099cbc040743ee444b17ca7f1b9cb5
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/656587/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,40b8a517361cb914476e8840c2a26952360374d1,log_vif_plug_events," LOG.debug('Initiating plug of VIF %(vif_info)', {'vif_info': network_info}, instance=instance) LOG.debug('Attempting plug of VIF %(vif_info), attempt %(count)', {'vif_info': network_info, 'count': cnt}, instance=instance)",,7,0
openstack%2Fopenstack-ansible-os_magnum~master~Ia60bdb33889a3d0c2e080dab9badbdd777fcdbeb,openstack/openstack-ansible-os_magnum,master,Ia60bdb33889a3d0c2e080dab9badbdd777fcdbeb,Use the utility host for db setup tasks,MERGED,2020-08-20 15:29:47.000000000,2020-08-26 18:10:07.000000000,2020-08-26 18:08:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 15:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a3061f20dccdb75f0b171775cca5e428481a100f', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ia60bdb33889a3d0c2e080dab9badbdd777fcdbeb\n'}, {'number': 2, 'created': '2020-08-21 14:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/7275ff477d58cbb002aa3d7feb24ab8685ad4699', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ia60bdb33889a3d0c2e080dab9badbdd777fcdbeb\n'}, {'number': 3, 'created': '2020-08-25 15:35:39.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/7b66dea55a0a67c3c74a1286beccacbe719958c4', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nDepends-On: https://review.opendev.org/747981\nChange-Id: Ia60bdb33889a3d0c2e080dab9badbdd777fcdbeb\n'}]",1,747211,7b66dea55a0a67c3c74a1286beccacbe719958c4,23,6,3,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Depends-On: https://review.opendev.org/747981
Change-Id: Ia60bdb33889a3d0c2e080dab9badbdd777fcdbeb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/11/747211/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,a3061f20dccdb75f0b171775cca5e428481a100f,bind-to-mgmt,"magnum_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" magnum_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((magnum_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""","magnum_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",11,1
openstack%2Fmasakari-monitors~master~Icac10015698378a1901c664f37f11b4529bf03e1,openstack/masakari-monitors,master,Icac10015698378a1901c664f37f11b4529bf03e1,repeated parsing,MERGED,2020-06-04 03:27:11.000000000,2020-08-26 18:04:24.000000000,2020-08-26 18:02:58.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 26458}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-04 03:27:11.000000000', 'files': ['masakarimonitors/hostmonitor/host_handler/handle_host.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/425bb1d66320f1d624ac38d613e293fa25475693', 'message': ""repeated parsing\n\nIt repeatedly uses 'node_state_tag.get('uname')' to parse the hostname.\nBut the hostname doesn't change in the loop.\n\nChange-Id: Icac10015698378a1901c664f37f11b4529bf03e1\n""}]",0,733428,425bb1d66320f1d624ac38d613e293fa25475693,9,6,1,24501,,,0,"repeated parsing

It repeatedly uses 'node_state_tag.get('uname')' to parse the hostname.
But the hostname doesn't change in the loop.

Change-Id: Icac10015698378a1901c664f37f11b4529bf03e1
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/28/733428/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/hostmonitor/host_handler/handle_host.py'],1,425bb1d66320f1d624ac38d613e293fa25475693,," hostname = node_state_tag.get('uname') if hostname == self.my_hostname: old_status = self.status_holder.get_host_status(hostname) % (hostname, current_status) msg = (""'%s' is '%s'."") % (hostname, current_status) event = self._make_event(hostname, current_status)"," if node_state_tag.get('uname') == self.my_hostname: old_status = self.status_holder.get_host_status( node_state_tag.get('uname')) % (node_state_tag.get('uname'), current_status) msg = (""'%s' is '%s'."") % (node_state_tag.get('uname'), current_status) event = self._make_event(node_state_tag.get('uname'), current_status)",6,9
openstack%2Fheat-dashboard~master~I770d413500f339865aee106b68a2fa438b3b0130,openstack/heat-dashboard,master,I770d413500f339865aee106b68a2fa438b3b0130,[DNM] Test heat-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 13:53:20.000000000,2020-08-26 18:02:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-20 13:53:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/7decee8c523e170c059e8e0199ff7eee4abd858d', 'message': '[DNM] Test heat-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I770d413500f339865aee106b68a2fa438b3b0130\n'}]",0,747166,7decee8c523e170c059e8e0199ff7eee4abd858d,7,2,1,29313,,,0,"[DNM] Test heat-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I770d413500f339865aee106b68a2fa438b3b0130
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/66/747166/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7decee8c523e170c059e8e0199ff7eee4abd858d,migrate-to-focal,#test-heat-dashboard-with-focal,,1,0
openstack%2Fmasakari-monitors~master~Ib34b57e2a660b09bde7c158b4aa7d68e39e5cf36,openstack/masakari-monitors,master,Ib34b57e2a660b09bde7c158b4aa7d68e39e5cf36,Remove elementtree deprecated methods,MERGED,2020-06-23 09:35:07.000000000,2020-08-26 17:56:42.000000000,2020-08-26 17:49:03.000000000,"[{'_account_id': 1011}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-23 09:35:07.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/parse_cib_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/8c27817b50678016161084b4fc7dbb1d1a6cf0be', 'message': 'Remove elementtree deprecated methods\n\nAll our supported runtimes [1] are compatible with the recommended\nalternatives.\n\n`Element.getchildren` [2] is deprecated since python 3.2 and will be removed\nin python 3.9, these changes switch usages to `list(elem)`.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-train\n[2] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.getchildren\n\nChange-Id: Ib34b57e2a660b09bde7c158b4aa7d68e39e5cf36\n'}]",0,737474,8c27817b50678016161084b4fc7dbb1d1a6cf0be,11,5,1,28522,,,0,"Remove elementtree deprecated methods

All our supported runtimes [1] are compatible with the recommended
alternatives.

`Element.getchildren` [2] is deprecated since python 3.2 and will be removed
in python 3.9, these changes switch usages to `list(elem)`.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-train
[2] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.getchildren

Change-Id: Ib34b57e2a660b09bde7c158b4aa7d68e39e5cf36
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/74/737474/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/parse_cib_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py']",3,8c27817b50678016161084b4fc7dbb1d1a6cf0be,deprecated_elementtree, child_list = list(self.crmmon_tag) child_list = list(nodes_tag), child_list = self.crmmon_tag.getchildren() child_list = nodes_tag.getchildren(),14,14
openstack%2Fmasakari-monitors~master~I44a291ecc66588ac5b61b18d4197ec708cd5d69f,openstack/masakari-monitors,master,I44a291ecc66588ac5b61b18d4197ec708cd5d69f,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:28:45.000000000,2020-08-26 17:53:01.000000000,2020-08-26 17:49:02.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-13 00:28:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/ce1efa1f2b64bffe04385d76f49e1eb6af1f3490', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I44a291ecc66588ac5b61b18d4197ec708cd5d69f\n'}]",0,727513,ce1efa1f2b64bffe04385d76f49e1eb6af1f3490,10,6,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I44a291ecc66588ac5b61b18d4197ec708cd5d69f
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/13/727513/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ce1efa1f2b64bffe04385d76f49e1eb6af1f3490,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fpuppet-mistral~master~Idda2456fdb99c93a73ef4e9c64c33691d3880bdc,openstack/puppet-mistral,master,Idda2456fdb99c93a73ef4e9c64c33691d3880bdc,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 17:50:12.000000000,2020-08-26 17:47:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/7b4643abe97c6dcceb303f8117758f343bf5e9ad', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Idda2456fdb99c93a73ef4e9c64c33691d3880bdc\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['spec/classes/mistral_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-9a9788aa8e48c2bb.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/b3d6cd7609c4f7626fc0ce0048ddd95238ea52e3', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: Idda2456fdb99c93a73ef4e9c64c33691d3880bdc\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748074,b3d6cd7609c4f7626fc0ce0048ddd95238ea52e3,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: Idda2456fdb99c93a73ef4e9c64c33691d3880bdc
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/74/748074/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/mistral_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-9a9788aa8e48c2bb.yaml', 'manifests/db.pp']",3,7b4643abe97c6dcceb303f8117758f343bf5e9ad,bug/1892952,"# [*mysql_enable_ndb*] # (Optional) If True, transparently enables support for handling MySQL # Cluster (NDB). # Defaults to $::os_service_default # $mysql_enable_ndb = $::os_service_default, mysql_enable_ndb => $mysql_enable_ndb,",,14,0
openstack%2Fpuppet-sahara~master~I5b06e6db8a5d6805ee76b57b007a577df1832cfd,openstack/puppet-sahara,master,I5b06e6db8a5d6805ee76b57b007a577df1832cfd,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 17:39:32.000000000,2020-08-26 17:38:00.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/48d0ce5a4fc3e08d3c1968f107f9ffefa0856bcc', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I5b06e6db8a5d6805ee76b57b007a577df1832cfd\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['releasenotes/notes/add_mysql_enable_ndb-option-91663a4be11b4b89.yaml', 'manifests/db.pp', 'spec/classes/sahara_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/bd0ded35fa55349dd35f08722ed598b535e8ca36', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I5b06e6db8a5d6805ee76b57b007a577df1832cfd\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748082,bd0ded35fa55349dd35f08722ed598b535e8ca36,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I5b06e6db8a5d6805ee76b57b007a577df1832cfd
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/82/748082/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_mysql_enable_ndb-option-91663a4be11b4b89.yaml', 'manifests/db.pp', 'spec/classes/sahara_db_spec.rb']",3,48d0ce5a4fc3e08d3c1968f107f9ffefa0856bcc,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,14,0
openstack%2Fpuppet-panko~master~I7ab19567f135de8370ee604c5a72edd150cb84d2,openstack/puppet-panko,master,I7ab19567f135de8370ee604c5a72edd150cb84d2,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 17:37:57.000000000,2020-08-26 17:36:12.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/b0d73ea4444dd588110bcd2ead6b11e7dbb7e488', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I7ab19567f135de8370ee604c5a72edd150cb84d2\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:24.000000000', 'files': ['spec/classes/panko_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-a5c6dd40f7b4b9eb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/a39b2938abcf09d44490fa4803af1375e1332751', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I7ab19567f135de8370ee604c5a72edd150cb84d2\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748081,a39b2938abcf09d44490fa4803af1375e1332751,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I7ab19567f135de8370ee604c5a72edd150cb84d2
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/81/748081/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/panko_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-a5c6dd40f7b4b9eb.yaml']",3,b0d73ea4444dd588110bcd2ead6b11e7dbb7e488,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fmasakari-dashboard~master~I4b9364f88c537f25a1ef4557e464035fb37913c3,openstack/masakari-dashboard,master,I4b9364f88c537f25a1ef4557e464035fb37913c3,Stop to use the __future__ module.,MERGED,2020-06-02 18:23:20.000000000,2020-08-26 17:36:13.000000000,2020-08-26 17:36:13.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29313}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-02 18:23:20.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/9f036363f46aa35f5c9f3199b3f5e400e34aa6c7', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I4b9364f88c537f25a1ef4557e464035fb37913c3\n""}]",0,732859,9f036363f46aa35f5c9f3199b3f5e400e34aa6c7,9,6,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I4b9364f88c537f25a1ef4557e464035fb37913c3
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/59/732859/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,9f036363f46aa35f5c9f3199b3f5e400e34aa6c7,drop_future_imports,,from __future__ import print_function ,0,2
openstack%2Fpuppet-heat~master~I6392637052f305f6c0b9381923d8e9a69774a51a,openstack/puppet-heat,master,I6392637052f305f6c0b9381923d8e9a69774a51a,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-26 17:28:55.000000000,2020-08-26 17:27:19.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/e12d78fb9b4872152c11a10138069f0861f088e5', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I6392637052f305f6c0b9381923d8e9a69774a51a\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['spec/classes/heat_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-929a734e4095538e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/9fd21cf7cf21f08d982b3987336765a33f240779', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I6392637052f305f6c0b9381923d8e9a69774a51a\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748086,9fd21cf7cf21f08d982b3987336765a33f240779,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I6392637052f305f6c0b9381923d8e9a69774a51a
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/86/748086/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/heat_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-929a734e4095538e.yaml']",3,e12d78fb9b4872152c11a10138069f0861f088e5,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fpuppet-barbican~master~I28bc5b80058521c6918592fc7fa61f9cfdd4781c,openstack/puppet-barbican,master,I28bc5b80058521c6918592fc7fa61f9cfdd4781c,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-26 17:25:40.000000000,2020-08-26 17:21:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/f14d7909d2e45d6842b6211f20e65429ce8e120f', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I28bc5b80058521c6918592fc7fa61f9cfdd4781c\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:24.000000000', 'files': ['spec/classes/barbican_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-a5d5e1bd1f274337.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/3bca80b56906cf6b13e5b8269d6b7ac263042d0f', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I28bc5b80058521c6918592fc7fa61f9cfdd4781c\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748088,3bca80b56906cf6b13e5b8269d6b7ac263042d0f,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I28bc5b80058521c6918592fc7fa61f9cfdd4781c
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/88/748088/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-a5d5e1bd1f274337.yaml', 'manifests/db.pp']",3,f14d7909d2e45d6842b6211f20e65429ce8e120f,bug/1892952,"# [*mysql_enable_ndb*] # (Optional) If True, transparently enables support for handling MySQL # Cluster (NDB). # Defaults to $::os_service_default # $mysql_enable_ndb = $::os_service_default, mysql_enable_ndb => $mysql_enable_ndb,",,14,0
openstack%2Fpuppet-aodh~master~I12340a02740bc70256953aaf043b567138e89899,openstack/puppet-aodh,master,I12340a02740bc70256953aaf043b567138e89899,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-26 17:16:40.000000000,2020-08-26 17:14:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/62603b4f78d381ba7859652ac3b55ea8e4930e2c', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I12340a02740bc70256953aaf043b567138e89899\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['spec/classes/aodh_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-8738cb368caaf7cd.yaml', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/61df5de0b8796b6f622bbf20eab631834f095bdf', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I12340a02740bc70256953aaf043b567138e89899\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748090,61df5de0b8796b6f622bbf20eab631834f095bdf,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I12340a02740bc70256953aaf043b567138e89899
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/90/748090/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-8738cb368caaf7cd.yaml', 'manifests/db.pp']",3,62603b4f78d381ba7859652ac3b55ea8e4930e2c,bug/1892952,"# [*mysql_enable_ndb*] # (Optional) If True, transparently enables support for handling MySQL # Cluster (NDB). # Defaults to $::os_service_default # $mysql_enable_ndb = $::os_service_default, mysql_enable_ndb => $mysql_enable_ndb,",,14,0
openstack%2Fmasakari~master~I3055d2d32d67541772c894c05577da2d93d2301f,openstack/masakari,master,I3055d2d32d67541772c894c05577da2d93d2301f,Remove translation sections from setup.cfg,MERGED,2020-05-14 11:21:54.000000000,2020-08-26 17:13:18.000000000,2020-08-26 17:10:08.000000000,"[{'_account_id': 1011}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-14 11:21:54.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari/commit/fce4d80b195f8d5a5c6ce987ba8b6d281cee9f36', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I3055d2d32d67541772c894c05577da2d93d2301f\n'}]",0,728034,fce4d80b195f8d5a5c6ce987ba8b6d281cee9f36,17,6,1,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I3055d2d32d67541772c894c05577da2d93d2301f
",git fetch https://review.opendev.org/openstack/masakari refs/changes/34/728034/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,fce4d80b195f8d5a5c6ce987ba8b6d281cee9f36,,, [compile_catalog] directory = masakari/locale domain = masakari [update_catalog] domain = masakari output_dir = masakari/locale input_file = masakari/locale/masakari.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = masakari/locale/masakari.pot,0,16
openstack%2Fmasakari~master~I59d94b256bfa7b121d5710ce083839c3b2541a00,openstack/masakari,master,I59d94b256bfa7b121d5710ce083839c3b2541a00,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-07 02:51:20.000000000,2020-08-26 17:11:46.000000000,2020-08-26 17:10:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 02:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/60ef9a26ad405561fd2aa5e57125e36512654d9a', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I59d94b256bfa7b121d5710ce083839c3b2541a00\n'}, {'number': 2, 'created': '2020-07-13 09:54:17.000000000', 'files': ['masakari/tests/unit/api/openstack/ha/test_notifications.py', 'masakari/tests/functional/test_hosts.py', 'masakari/tests/functional/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/7ccbfb53a7c9b6924c6ee913909d9e9f0cb5ec97', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I59d94b256bfa7b121d5710ce083839c3b2541a00\n'}]",0,739640,7ccbfb53a7c9b6924c6ee913909d9e9f0cb5ec97,13,3,2,17130,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I59d94b256bfa7b121d5710ce083839c3b2541a00
",git fetch https://review.opendev.org/openstack/masakari refs/changes/40/739640/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/api/openstack/ha/test_notifications.py', 'masakari/tests/functional/test_hosts.py', 'masakari/tests/functional/test_segments.py']",3,60ef9a26ad405561fd2aa5e57125e36512654d9a,unittest2," self.assertCountEqual([segment_1, segment_2], segments)"," self.assertItemsEqual([segment_1, segment_2], segments)",3,3
openstack%2Fpuppet-watcher~master~If5d812cde298d85bcac4b7bfb879bc975658f0c6,openstack/puppet-watcher,master,If5d812cde298d85bcac4b7bfb879bc975658f0c6,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 17:10:16.000000000,2020-08-26 17:08:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/cb92e92f822f1b8dede1caee64a8ebc1a680f118', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: If5d812cde298d85bcac4b7bfb879bc975658f0c6\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['releasenotes/notes/add_mysql_enable_ndb-option-827bb4c2f9aae8fa.yaml', 'manifests/db.pp', 'spec/classes/watcher_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/96af8508e407f84081e13e70fbe930389c0a0849', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: If5d812cde298d85bcac4b7bfb879bc975658f0c6\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748078,96af8508e407f84081e13e70fbe930389c0a0849,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: If5d812cde298d85bcac4b7bfb879bc975658f0c6
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/78/748078/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_mysql_enable_ndb-option-827bb4c2f9aae8fa.yaml', 'manifests/db.pp', 'spec/classes/watcher_db_spec.rb']",3,cb92e92f822f1b8dede1caee64a8ebc1a680f118,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,14,0
openstack%2Fcinder~master~Icd85968398d94eaeee35d539250d5562f787a271,openstack/cinder,master,Icd85968398d94eaeee35d539250d5562f787a271,Add generated doc output path to doc8 ignore list,MERGED,2020-06-17 14:23:43.000000000,2020-08-26 17:06:03.000000000,2020-08-26 17:03:06.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-06-17 14:23:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/607f04421463e9e0dd64414daacfb943d635dbf2', 'message': 'Add generated doc output path to doc8 ignore list\n\nThe contributor/api docs are generated when building the docs. Since\nthese are generated docs from the code, we should not include this path\nwhen running doc8 checks.\n\nChange-Id: Icd85968398d94eaeee35d539250d5562f787a271\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,736237,607f04421463e9e0dd64414daacfb943d635dbf2,28,19,1,11904,,,0,"Add generated doc output path to doc8 ignore list

The contributor/api docs are generated when building the docs. Since
these are generated docs from the code, we should not include this path
when running doc8 checks.

Change-Id: Icd85968398d94eaeee35d539250d5562f787a271
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/736237/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,607f04421463e9e0dd64414daacfb943d635dbf2,doc8,"ignore-path=.tox,*.egg-info,doc/src/api,doc/source/drivers.rst,doc/build,.eggs/*/EGG-INFO/*.txt,doc/source/configuration/tables,./*.txt,releasenotes,doc/source/contributor/api","ignore-path=.tox,*.egg-info,doc/src/api,doc/source/drivers.rst,doc/build,.eggs/*/EGG-INFO/*.txt,doc/source/configuration/tables,./*.txt,releasenotes",1,1
openstack%2Fswift~master~Ic07b0bdd5f1c90e7e25991def58c587680d7bfab,openstack/swift,master,Ic07b0bdd5f1c90e7e25991def58c587680d7bfab,docs: Clean up some formatting around using servers_per_port,MERGED,2020-08-25 22:33:41.000000000,2020-08-26 17:05:36.000000000,2020-08-26 17:03:03.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 22:33:41.000000000', 'files': ['doc/source/deployment_guide.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/eefe35755c8b9f53ed9f018cac9886879b68b0b6', 'message': 'docs: Clean up some formatting around using servers_per_port\n\nChange-Id: Ic07b0bdd5f1c90e7e25991def58c587680d7bfab\n'}]",0,748043,eefe35755c8b9f53ed9f018cac9886879b68b0b6,7,2,1,15343,,,0,"docs: Clean up some formatting around using servers_per_port

Change-Id: Ic07b0bdd5f1c90e7e25991def58c587680d7bfab
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/748043/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployment_guide.rst'],1,eefe35755c8b9f53ed9f018cac9886879b68b0b6,,"And here's the same ring set up for ``servers_per_port``::When migrating from normal to ``servers_per_port``, perform these steps in order: #. Upgrade Swift code to a version capable of doing ``servers_per_port``. #. Enable ``servers_per_port`` with a value greater than zero. #. Restart ``swift-object-server`` processes with a SIGHUP. At this point, you will have the ``servers_per_port`` number of ``swift-object-server`` processes serving all requests for all disks on each node. This preserves availability, but you should perform the next step as quickly as possible. #. Push out new rings that actually have different ports per disk on each server. One of the ports in the new ring should be the same as the port used in the old ring (""6200"" in the example above). This will cover existing proxy-server processes who haven't loaded the new ring yet. They can still talk to any storage node regardless of whether or not that storage node has loaded the ring and started object-server processes on the new ports.Default configuration options are set in the ``[DEFAULT]`` section, and anySo, ``name1`` got the global value which is fine since it's only in the ``DEFAULT````name2`` got the global value from ``DEFAULT`` even though it appears to be overridden in the ``app:myapp`` subsection. This is just the unfortunate way``name3`` got the local value from the ``app:myapp`` subsection because it is using``name4`` got the global value from ``DEFAULT`` since it's only in that section anyway. But, since we used the ``set`` syntax in the ``DEFAULT`` section even``name5`` got the local value from the ``app:myapp`` subsection since it's only``name6`` got the local value from ``app:myapp`` subsection since it's only there, ``egg:swift#object``. ``dequeue_from_legacy``. ``dequeue_from_legacy``. should be ``egg:swift#container``. ``egg:swift#account``. ``egg:swift#proxy``.Memcached on the proxy servers. The ``memcache_servers`` config option in the ``proxy-server.conf`` should contain all memcached servers.Most services support either a ``workers`` or ``concurrency`` value in theThe ``max_clients`` parameter can be used to adjust the number of clientThe ``nice_priority`` parameter can be used to set program scheduling priority. The ``ionice_class`` and ``ionice_priority`` parameters can be used to set I/O schedulingbe sure to set the ``devices`` config option in all of the server configs tothe system. If your filesystem does not support ``fallocate()`` or ``posix_fallocate()``, be sure to set the ``disable_fallocate = true`` configwhere Swift stores its data to the setting PRUNEPATHS in ``/etc/updatedb.conf``::The following settings should be in ``/etc/sysctl.conf``::with the ``log_facility`` option to set the syslog log facility destination.","And here's the same ring set up for `servers_per_port`::When migrating from normal to `servers_per_port`, perform these steps in order: #. Upgrade Swift code to a version capable of doing `servers_per_port`. #. Enable `servers_per_port` with a > 0 value #. Restart `swift-object-server` processes with a SIGHUP. At this point, you will have the `servers_per_port` number of `swift-object-server` processes serving all requests for all disks on each node. This preserves availability, but you should perform the next step as quickly as possible. #. Push out new rings that actually have different ports per disk on each server. One of the ports in the new ring should be the same as the port used in the old ring (""6200"" in the example above). This will cover existing proxy-server processes who haven't loaded the new ring yet. They can still talk to any storage node regardless of whether or not that storage node has loaded the ring and started object-server processes on the new ports.Default configuration options are set in the `[DEFAULT]` section, and anySo, `name1` got the global value which is fine since it's only in the `DEFAULT``name2` got the global value from `DEFAULT` even though it appears to be overridden in the `app:myapp` subsection. This is just the unfortunate way`name3` got the local value from the `app:myapp` subsection because it is using`name4` got the global value from `DEFAULT` since it's only in that section anyway. But, since we used the ``set`` syntax in the `DEFAULT` section even`name5` got the local value from the `app:myapp` subsection since it's only`name6` got the local value from `app:myapp` subsection since it's only there, `egg:swift#object`. `dequeue_from_legacy`. `dequeue_from_legacy`. should be `egg:swift#container`. `egg:swift#account`. `egg:swift#proxy`.Memcached on the proxy servers. The `memcache_servers` config option in the `proxy-server.conf` should contain all memcached servers.Most services support either a `worker` or `concurrency` value in theThe `max_clients` parameter can be used to adjust the number of clientThe `nice_priority` parameter can be used to set program scheduling priority. The `ionice_class` and `ionice_priority` parameters can be used to set I/O schedulingbe sure to set the `devices` config option in all of the server configs tothe system. If your filesystem does not support `fallocate()` or `posix_fallocate()`, be sure to set the `disable_fallocate = true` configwhere Swift stores its data to the setting PRUNEPATHS in `/etc/updatedb.conf`::The following settings should be in `/etc/sysctl.conf`::with the `log_facility` option to set the syslog log facility destination.",42,42
openstack%2Fpuppet-placement~master~I24ce322aa209985ff9cf591dca9572521b71fb78,openstack/puppet-placement,master,I24ce322aa209985ff9cf591dca9572521b71fb78,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 17:04:35.000000000,2020-08-26 17:01:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/d5b7ee05711e410077fd159c1b6206d95bf67a90', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I24ce322aa209985ff9cf591dca9572521b71fb78\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['manifests/db.pp', 'spec/classes/placement_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b87ddc254a53561a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/34cb28a6f8f5ee41e091003d314ebf281b228b53', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I24ce322aa209985ff9cf591dca9572521b71fb78\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748069,34cb28a6f8f5ee41e091003d314ebf281b228b53,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I24ce322aa209985ff9cf591dca9572521b71fb78
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/69/748069/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'spec/classes/placement_db_spec.rb', 'releasenotes/notes/add_mysql_enable_ndb-option-b87ddc254a53561a.yaml']",3,d5b7ee05711e410077fd159c1b6206d95bf67a90,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fmasakari~master~I5e5e446c51195f3a53604dcdc43fd8e8881b24d5,openstack/masakari,master,I5e5e446c51195f3a53604dcdc43fd8e8881b24d5,Remove monotonic usage,MERGED,2020-05-04 22:23:22.000000000,2020-08-26 17:01:57.000000000,2020-08-26 16:59:15.000000000,"[{'_account_id': 1011}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-04 22:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/dc16a59b089211c3622134b24f0f282bd9474cf7', 'message': 'Remove monotonic usage\n\nThe monotonic package was needed for monotonic time operations when\nrunning under Python runtimes older than 3.3. Since we now only support\nversions higher than this, this third party package requirement can now\nbe removed.\n\nChange-Id: I5e5e446c51195f3a53604dcdc43fd8e8881b24d5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-13 19:44:37.000000000', 'files': ['lower-constraints.txt', 'masakari/service.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c401beb37069b3ebfbcefe91c27a40a76866054a', 'message': 'Remove monotonic usage\n\nThe monotonic package was needed for monotonic time operations when\nrunning under Python runtimes older than 3.3. Since we now only support\nversions higher than this, this third party package requirement can now\nbe removed.\n\nChange-Id: I5e5e446c51195f3a53604dcdc43fd8e8881b24d5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",4,725420,c401beb37069b3ebfbcefe91c27a40a76866054a,19,7,2,11904,,,0,"Remove monotonic usage

The monotonic package was needed for monotonic time operations when
running under Python runtimes older than 3.3. Since we now only support
versions higher than this, this third party package requirement can now
be removed.

Change-Id: I5e5e446c51195f3a53604dcdc43fd8e8881b24d5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari refs/changes/20/725420/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'masakari/service.py']",2,dc16a59b089211c3622134b24f0f282bd9474cf7,monotonic,,def assert_eventlet_uses_monotonic_clock(): import eventlet.hubs as hubs import monotonic hub = hubs.get_hub() if hub.clock is not monotonic.monotonic: raise RuntimeError( 'eventlet hub is not using a monotonic clock - ' 'periodic tasks will be affected by drifts of system time.') assert_eventlet_uses_monotonic_clock(),0,13
openstack%2Fmasakari~master~I11be4f0da3cb843b7b62bcd65f6ec7ad6eb994d9,openstack/masakari,master,I11be4f0da3cb843b7b62bcd65f6ec7ad6eb994d9,Remove the unused coding style modules,MERGED,2020-08-23 15:00:46.000000000,2020-08-26 17:00:46.000000000,2020-08-26 16:58:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-23 15:00:46.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/masakari/commit/1a4d6b5ae745d33991b2ac890c3d621a14a6b7c5', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: I11be4f0da3cb843b7b62bcd65f6ec7ad6eb994d9\n'}]",0,747580,1a4d6b5ae745d33991b2ac890c3d621a14a6b7c5,9,3,1,26285,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
they are not needed during installation.

Change-Id: I11be4f0da3cb843b7b62bcd65f6ec7ad6eb994d9
",git fetch https://review.opendev.org/openstack/masakari refs/changes/80/747580/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,1a4d6b5ae745d33991b2ac890c3d621a14a6b7c5,,,mccabe==0.2.1,0,1
openstack%2Fneutron-lib~master~I330dbf622b8f1baf22005d5c46e2971658b5e7b0,openstack/neutron-lib,master,I330dbf622b8f1baf22005d5c46e2971658b5e7b0,Add neutron-tempest-plugin-api job to be gating in neutron-lib,MERGED,2020-08-12 10:50:46.000000000,2020-08-26 16:57:31.000000000,2020-08-26 16:48:20.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 10:50:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/596b84fe7607adf7673f5286efe00771611e2b0a', 'message': ""Add neutron-tempest-plugin-api job to be gating in neutron-lib\n\nNeutron's API definition is hosted in the neutron-lib repository so we\nshould run neutron-tempest-plugin API tests to ensure we are not going\nto break anything by changing something here, like e.g. we did in\nrelated bug.\n\nChange-Id: I330dbf622b8f1baf22005d5c46e2971658b5e7b0\nRelated-Bug: #1890842\n""}]",0,745830,596b84fe7607adf7673f5286efe00771611e2b0a,13,8,1,11975,,,0,"Add neutron-tempest-plugin-api job to be gating in neutron-lib

Neutron's API definition is hosted in the neutron-lib repository so we
should run neutron-tempest-plugin API tests to ensure we are not going
to break anything by changing something here, like e.g. we did in
related bug.

Change-Id: I330dbf622b8f1baf22005d5c46e2971658b5e7b0
Related-Bug: #1890842
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/30/745830/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,596b84fe7607adf7673f5286efe00771611e2b0a,bug/1890842, - neutron-tempest-plugin-api - neutron-tempest-plugin-api,,2,0
openstack%2Fmasakari~master~I976724f65f889486fbe3fa6af90f2cf8ddcad387,openstack/masakari,master,I976724f65f889486fbe3fa6af90f2cf8ddcad387,Replace assertItemsEqual with assertCountEqual,ABANDONED,2020-07-12 03:25:57.000000000,2020-08-26 16:50:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-12 03:25:57.000000000', 'files': ['masakari/tests/unit/api/openstack/ha/test_notifications.py', 'masakari/tests/functional/test_hosts.py', 'masakari/tests/functional/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/a3ce2a500452507b154cc4e425d5a04378969060', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I976724f65f889486fbe3fa6af90f2cf8ddcad387\n""}]",0,740573,a3ce2a500452507b154cc4e425d5a04378969060,5,3,1,30356,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I976724f65f889486fbe3fa6af90f2cf8ddcad387
",git fetch https://review.opendev.org/openstack/masakari refs/changes/73/740573/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/api/openstack/ha/test_notifications.py', 'masakari/tests/functional/test_hosts.py', 'masakari/tests/functional/test_segments.py']",3,a3ce2a500452507b154cc4e425d5a04378969060,," self.assertCountEqual([segment_1, segment_2], segments)"," self.assertItemsEqual([segment_1, segment_2], segments)",3,3
openstack%2Fkuryr-kubernetes~master~I1e42578841effeb3778e8d729c181b89b84f62b7,openstack/kuryr-kubernetes,master,I1e42578841effeb3778e8d729c181b89b84f62b7,Convert KuryrLoadBalancer subsets CRD to EndpointSlice,MERGED,2020-08-07 14:44:28.000000000,2020-08-26 16:47:37.000000000,2020-08-26 16:42:16.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-08-07 14:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/094dac31b2fe9bc1e35af25f22f5ad5a86b62021', 'message': 'Wip: Add support for EndpointSlice\n\nThis commit moves the usage of endpoints to endpointslice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 2, 'created': '2020-08-13 14:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ee68c8fbd3bd2a923fe6b019be2e066fea35272d', 'message': 'Wip: Add support for EndpointSlice\n\nThis commit moves the usage of endpoints to endpointslice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 3, 'created': '2020-08-14 19:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/49744200052a920207ea1fa361616545f8ba0bfd', 'message': 'Wip: Add support for EndpointSlice\n\nThis commit moves the usage of endpoints to endpointslice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 4, 'created': '2020-08-14 19:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/03d73833928002cdd09edb8f59a0016d3e099314', 'message': 'Wip: Add support for EndpointSlice\n\nThis commit moves the usage of endpoints to endpointslice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 5, 'created': '2020-08-17 16:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f3595b11378e4f605ac030dde100caca566d7819', 'message': 'Wip: Add support for EndpointSlice\n\nThis commit moves the usage of endpoints to endpointslice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 6, 'created': '2020-08-18 10:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/17a5ec65e90ca2f3d8d463b6240fe3b06e4b65fa', 'message': 'Convert KuryrLoadBalancer CRD to EndpointSlice\n\nThis commit formats the KuryrLoadBalancer CRD to include\nthe structure of EndpointSlice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 7, 'created': '2020-08-18 13:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ebf99ca52793f7f0cd82f732bf30bc2eebb34066', 'message': 'Convert KuryrLoadBalancer subsets CRD to EndpointSlice\n\nThis commit formats the KuryrLoadBalancer CRD to include\nthe structure of EndpointSlice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 8, 'created': '2020-08-20 12:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fa6161109ca01eb2ac1d1b87e86d1258a42284eb', 'message': 'Convert KuryrLoadBalancer subsets CRD to EndpointSlice\n\nThis commit formats the KuryrLoadBalancer CRD to include\nthe structure of EndpointSlice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 9, 'created': '2020-08-24 11:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c6c4f76453ee602fca9bf9d03333d5b75c0d64e5', 'message': 'Convert KuryrLoadBalancer subsets CRD to EndpointSlice\n\nThis commit formats the KuryrLoadBalancer CRD to include\nthe structure of EndpointSlice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}, {'number': 10, 'created': '2020-08-24 20:07:13.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_loadbalancer.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'kubernetes_crds/kuryr_crds/kuryrloadbalancer.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/437a147ca6c6789d75a7b8f2fa65abe44f1726d1', 'message': 'Convert KuryrLoadBalancer subsets CRD to EndpointSlice\n\nThis commit formats the KuryrLoadBalancer CRD to include\nthe structure of EndpointSlice.\n\nChange-Id: I1e42578841effeb3778e8d729c181b89b84f62b7\n'}]",18,745350,437a147ca6c6789d75a7b8f2fa65abe44f1726d1,38,6,10,27032,,,0,"Convert KuryrLoadBalancer subsets CRD to EndpointSlice

This commit formats the KuryrLoadBalancer CRD to include
the structure of EndpointSlice.

Change-Id: I1e42578841effeb3778e8d729c181b89b84f62b7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/50/745350/6 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kubernetes_crds/kuryr_crds/kuryrloadbalancer.yaml', 'devstack/lib/kuryr_kubernetes', 'kuryr_kubernetes/constants.py']",4,094dac31b2fe9bc1e35af25f22f5ad5a86b62021,support-endpointslice,K8S_OBJ_ENDPOINT_SLICE = 'EndpointSlice',,89,91
openstack%2Fkuryr-kubernetes~master~Ib84ed289c9aaf3ae27af1c7ffa8aab2f8ba48671,openstack/kuryr-kubernetes,master,Ib84ed289c9aaf3ae27af1c7ffa8aab2f8ba48671,DevStack: Disable leader election for K8s services,MERGED,2020-08-26 10:21:24.000000000,2020-08-26 16:44:37.000000000,2020-08-26 16:42:15.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-08-26 10:21:24.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/acfe74957442eabcb2922493ade37c5eadf98cf7', 'message': ""DevStack: Disable leader election for K8s services\n\nThe DevStack plugin is really designed just for gate testing and\ndeveloper usage. In both use cases normally we won't run K8s services on\nmultiple nodes. Because of that this commit disables leader election for\nkube-scheduler and kube-controller-manager. The motivation behind this\nis that on the OpenInfra gate VMs we often see degraded storage\nperformance that affects etcd. If that happens during leader-election of\na service, it'll crash, leaving us with broken and unrecoverable K8s.\nThis should eliminate the issue.\n\nChange-Id: Ib84ed289c9aaf3ae27af1c7ffa8aab2f8ba48671\n""}]",0,748155,acfe74957442eabcb2922493ade37c5eadf98cf7,14,5,1,11600,,,0,"DevStack: Disable leader election for K8s services

The DevStack plugin is really designed just for gate testing and
developer usage. In both use cases normally we won't run K8s services on
multiple nodes. Because of that this commit disables leader election for
kube-scheduler and kube-controller-manager. The motivation behind this
is that on the OpenInfra gate VMs we often see degraded storage
performance that affects etcd. If that happens during leader-election of
a service, it'll crash, leaving us with broken and unrecoverable K8s.
This should eliminate the issue.

Change-Id: Ib84ed289c9aaf3ae27af1c7ffa8aab2f8ba48671
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/748155/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,acfe74957442eabcb2922493ade37c5eadf98cf7,disable-leader-elect," --logtostderr=true \ --leader-elect=false"" --logtostderr=true \ --leader-elect=false"""," --logtostderr=true"" --logtostderr=true""",4,2
openstack%2Fpython-brick-cinderclient-ext~master~I77bf9e042edfe002a35757c38b9a4f729818d57a,openstack/python-brick-cinderclient-ext,master,I77bf9e042edfe002a35757c38b9a4f729818d57a,Update lower-constraints versions,MERGED,2020-06-09 18:49:53.000000000,2020-08-26 16:33:27.000000000,2020-08-26 16:31:20.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-06-09 18:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/bd9041f7aeb1f455ca7158114103db749f431241', 'message': 'Update lower-constraints versions\n\nThis updates lower constraints to versions that will work with py38 so\nthat when we move to running on focal nodes, which has py38 as its\ndefault py3 runtime, the lower-constraints job will continue to pass.\n\nIt also cleans out some secondary requirements that are no longer needed\ndue to our direct dependencies being updated.\n\nLinters are removed that are kept in the global requirements blacklist\nas those are not version tracked and are not relevant for our\nlower-constraints unit test runs.\n\nChange-Id: I77bf9e042edfe002a35757c38b9a4f729818d57a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-22 14:47:57.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/6aa47dfa7b1f637318d9dc2480631400fd74d4c5', 'message': 'Update lower-constraints versions\n\nThis updates lower constraints to versions that will work with py38 so\nthat when we move to running on focal nodes, which has py38 as its\ndefault py3 runtime, the lower-constraints job will continue to pass.\n\nIt also cleans out some secondary requirements that are no longer needed\ndue to our direct dependencies being updated.\n\nLinters are removed that are kept in the global requirements blacklist\nas those are not version tracked and are not relevant for our\nlower-constraints unit test runs.\n\nChange-Id: I77bf9e042edfe002a35757c38b9a4f729818d57a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734671,6aa47dfa7b1f637318d9dc2480631400fd74d4c5,13,4,2,11904,,,0,"Update lower-constraints versions

This updates lower constraints to versions that will work with py38 so
that when we move to running on focal nodes, which has py38 as its
default py3 runtime, the lower-constraints job will continue to pass.

It also cleans out some secondary requirements that are no longer needed
due to our direct dependencies being updated.

Linters are removed that are kept in the global requirements blacklist
as those are not version tracked and are not relevant for our
lower-constraints unit test runs.

Change-Id: I77bf9e042edfe002a35757c38b9a4f729818d57a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/71/734671/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,bd9041f7aeb1f455ca7158114103db749f431241,lower-constraints,cffi==1.13.2dnspython==1.16.0 eventlet==0.25.1testrepository==0.0.20,alabaster==0.7.10cffi==1.11.5cliff==2.11.0 cmd2==0.8.1docutils==0.14 dulwich==0.19.0 enum-compat==0.0.2 eventlet==0.20.0flake8==2.2.4hacking==2.0.0imagesize==1.0.0Jinja2==2.10MarkupSafe==1.0 mccabe==0.2.1os-testr==1.0.0pep8==1.5.7pyflakes==0.8.1 Pygments==2.2.0pyperclip==1.6.0snowballstemmer==1.2.1voluptuous==0.11.1,4,21
openstack%2Fpuppet-senlin~master~I6e18fae18467d579ed7b28d527f83cac118b5d20,openstack/puppet-senlin,master,I6e18fae18467d579ed7b28d527f83cac118b5d20,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 16:24:35.000000000,2020-08-26 16:22:41.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/f5b95b6ee38ec83036efee7e2577ba011b383921', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I6e18fae18467d579ed7b28d527f83cac118b5d20\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['releasenotes/notes/add_mysql_enable_ndb-option-b750388b7f014f3d.yaml', 'manifests/db.pp', 'spec/classes/senlin_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/f7f46bdb08d4fd3f3950e837d2fafe52a5e62189', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I6e18fae18467d579ed7b28d527f83cac118b5d20\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748072,f7f46bdb08d4fd3f3950e837d2fafe52a5e62189,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I6e18fae18467d579ed7b28d527f83cac118b5d20
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/72/748072/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_mysql_enable_ndb-option-b750388b7f014f3d.yaml', 'manifests/db.pp', 'spec/classes/senlin_db_spec.rb']",3,f5b95b6ee38ec83036efee7e2577ba011b383921,bug/1892952," :mysql_enable_ndb => '<SERVICE DEFAULT>', :mysql_enable_ndb => true, :mysql_enable_ndb => true,",,14,0
openstack%2Fpuppet-ovn~stable%2Fussuri~I749e23cfba5f5c32ec98022ac7e37e29e435b527,openstack/puppet-ovn,stable/ussuri,I749e23cfba5f5c32ec98022ac7e37e29e435b527,Add CentOS8 to nodesets,MERGED,2020-08-26 12:24:40.000000000,2020-08-26 16:24:02.000000000,2020-08-26 16:24:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:24:40.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/13469e12625d0f263116b82cff133b58844e056e', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I749e23cfba5f5c32ec98022ac7e37e29e435b527\n(cherry picked from commit ea303dee5c384dae392d80ecdd7137be1b661102)\n'}]",0,748209,13469e12625d0f263116b82cff133b58844e056e,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I749e23cfba5f5c32ec98022ac7e37e29e435b527
(cherry picked from commit ea303dee5c384dae392d80ecdd7137be1b661102)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/09/748209/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,13469e12625d0f263116b82cff133b58844e056e,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fcharm-neutron-api~master~I59b9d5e0caab62b72380879bf16cb0fd8703bb32,openstack/charm-neutron-api,master,I59b9d5e0caab62b72380879bf16cb0fd8703bb32,Fix db init notifications,MERGED,2020-08-26 09:45:09.000000000,2020-08-26 16:23:59.000000000,2020-08-26 16:23:59.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-26 09:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/e9bf4952b756461eaa75de16e8d3943c1b4050c6', 'message': 'Fix db init notifications\n\nEnsures that leader does not respond to db init\nnotifications to avoid infitinite looping.\n\nAlso ensures that leader only restarts its neutron-server\nonce on db init.\n\nCloses-Bug: #1893008\n\nChange-Id: I59b9d5e0caab62b72380879bf16cb0fd8703bb32\n'}, {'number': 2, 'created': '2020-08-26 12:50:32.000000000', 'files': ['hooks/neutron_api_utils.py', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/104626a19f7edbdee04725ec502f74c54bbfedd2', 'message': 'Fix db init notifications\n\nEnsures that leader does not respond to db init\nnotifications to avoid infitinite looping after\nleader switches to a different unit.\n\nAlso ensures that leader only restarts its neutron-server\nonce on db init.\n\nCloses-Bug: #1893008\n\nChange-Id: I59b9d5e0caab62b72380879bf16cb0fd8703bb32\n'}]",0,748143,104626a19f7edbdee04725ec502f74c54bbfedd2,17,6,2,6737,,,0,"Fix db init notifications

Ensures that leader does not respond to db init
notifications to avoid infitinite looping after
leader switches to a different unit.

Also ensures that leader only restarts its neutron-server
once on db init.

Closes-Bug: #1893008

Change-Id: I59b9d5e0caab62b72380879bf16cb0fd8703bb32
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/43/748143/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_utils.py', 'unit_tests/test_neutron_api_utils.py']",2,e9bf4952b756461eaa75de16e8d3943c1b4050c6,bug/1893008," @patch.object(nutils, 'relation_ids') @patch.object(nutils, 'is_leader') @patch.object(nutils, 'is_db_initialised') def test_check_local_db_actions_complete_leader(self, mock_is_db_initialised, mock_is_leader, mock_relation_get, mock_relation_set, mock_relation_ids): mock_is_leader.return_value = True mock_relation_get.assert_not_called() mock_relation_set.assert_not_called() self.service_restart.assert_not_called() @patch.object(nutils, 'is_leader') def test_check_local_db_actions_complete_non_leader(self, mock_is_db_initialised, mock_is_leader, mock_relation_get, mock_relation_set, mock_relation_ids): mock_is_leader.return_value = False"," @patch.object(nutils, 'is_db_initialised', lambda: False) def test_check_local_db_actions_complete_by_self(self, mock_relation_get, mock_relation_set): mock_relation_get.return_value = {} self.assertFalse(mock_relation_set.called) mock_relation_get.return_value = {nutils.NEUTRON_DB_INIT_RKEY: 'unit/0-1234'} nutils.check_local_db_actions_complete() self.assertFalse(mock_relation_set.called) def test_check_local_db_actions_complete(self, mock_is_db_initialised, mock_relation_get, mock_relation_set, mock_relation_ids):",34,22
openstack%2Fpuppet-freezer~master~I5ba8a602e500d948d7d758bfd6a2d8594dd3be09,openstack/puppet-freezer,master,I5ba8a602e500d948d7d758bfd6a2d8594dd3be09,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:21.000000000,2020-08-26 16:23:18.000000000,2020-08-26 16:21:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/21966e450ed6695bc0a12a1a822b9bdf749d27d7', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I5ba8a602e500d948d7d758bfd6a2d8594dd3be09\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:23.000000000', 'files': ['releasenotes/notes/add_mysql_enable_ndb-option-bc5acdbdcf6c31b8.yaml', 'spec/classes/freezer_db_spec.rb', 'manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/cfc9a27371483ae93d4f34b133514e6797f99a4a', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I5ba8a602e500d948d7d758bfd6a2d8594dd3be09\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748092,cfc9a27371483ae93d4f34b133514e6797f99a4a,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I5ba8a602e500d948d7d758bfd6a2d8594dd3be09
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/92/748092/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_mysql_enable_ndb-option-bc5acdbdcf6c31b8.yaml', 'spec/classes/freezer_db_spec.rb', 'manifests/db.pp']",3,21966e450ed6695bc0a12a1a822b9bdf749d27d7,bug/1892952,"# [*mysql_enable_ndb*] # (Optional) If True, transparently enables support for handling MySQL # Cluster (NDB). # Defaults to $::os_service_default # $mysql_enable_ndb = $::os_service_default, mysql_enable_ndb => $mysql_enable_ndb,",,14,0
openstack%2Fcinder~master~Ie67d919f8f59572268f1f07946fb2d2f14a851f1,openstack/cinder,master,Ie67d919f8f59572268f1f07946fb2d2f14a851f1,Remove exception.Error class,MERGED,2020-07-21 15:24:37.000000000,2020-08-26 16:20:22.000000000,2020-08-26 16:14:15.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-07-21 15:24:37.000000000', 'files': ['cinder/api/extensions.py', 'cinder/volume/throttling.py', 'cinder/exception.py', 'cinder/tests/unit/test_utils.py', 'cinder/backup/drivers/tsm.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac2f6391e20a78c9fda4ef7503117b58ff50ef3d', 'message': ""Remove exception.Error class\n\nCinderException can be used as a low-level exception so we don't need to\nintroduce one more wrapper for Exception.\n\nTSM backup driver modified without testing. Removed code was broken\nbecause it tried to use not existing Exception class attributes.\n\nChange-Id: Ie67d919f8f59572268f1f07946fb2d2f14a851f1\n""}]",0,742224,ac2f6391e20a78c9fda4ef7503117b58ff50ef3d,58,29,1,1736,,,0,"Remove exception.Error class

CinderException can be used as a low-level exception so we don't need to
introduce one more wrapper for Exception.

TSM backup driver modified without testing. Removed code was broken
because it tried to use not existing Exception class attributes.

Change-Id: Ie67d919f8f59572268f1f07946fb2d2f14a851f1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/742224/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/extensions.py', 'cinder/exception.py', 'cinder/volume/throttling.py', 'cinder/tests/unit/test_utils.py', 'cinder/backup/drivers/tsm.py', 'cinder/utils.py']",6,ac2f6391e20a78c9fda4ef7503117b58ff50ef3d,, raise exception.CinderException(msg), raise exception.Error(msg),5,42
openstack%2Fpuppet-murano~master~I4783acd3b0ec057d6fe58aff021505818417510b,openstack/puppet-murano,master,I4783acd3b0ec057d6fe58aff021505818417510b,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 16:20:07.000000000,2020-08-26 16:17:24.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/f89bb01ac2b0a10673dffc677a96e934ca989c10', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I4783acd3b0ec057d6fe58aff021505818417510b\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['spec/classes/murano_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-818092dba23c54bf.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/115e75b20db5fac71da3b09ce76a060e0046ee15', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I4783acd3b0ec057d6fe58aff021505818417510b\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748079,115e75b20db5fac71da3b09ce76a060e0046ee15,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I4783acd3b0ec057d6fe58aff021505818417510b
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/79/748079/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/murano_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-818092dba23c54bf.yaml']",3,f89bb01ac2b0a10673dffc677a96e934ca989c10,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fpuppet-rally~stable%2Fussuri~I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c,openstack/puppet-rally,stable/ussuri,I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c,Add CentOS8 to nodesets,MERGED,2020-08-26 12:24:32.000000000,2020-08-26 16:18:31.000000000,2020-08-26 16:18:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:24:32.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/1db11a8b7bb6794d596f5173ee16d99ebc21dde0', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c\n(cherry picked from commit 42638739163e158cf51011ec53c1b0aedb02d63d)\n'}]",0,748208,1db11a8b7bb6794d596f5173ee16d99ebc21dde0,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c
(cherry picked from commit 42638739163e158cf51011ec53c1b0aedb02d63d)
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/08/748208/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,1db11a8b7bb6794d596f5173ee16d99ebc21dde0,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-glare~master~I5c5103626e1b5e5b77bb0e07fb81bb69418ea950,openstack/puppet-glare,master,I5c5103626e1b5e5b77bb0e07fb81bb69418ea950,Add mysql_enable_ndb option,MERGED,2020-08-26 03:54:20.000000000,2020-08-26 16:12:20.000000000,2020-08-26 16:09:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 03:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/f39aea50b0ee21a1e2f5ce599914ecfca0dc6e91', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I5c5103626e1b5e5b77bb0e07fb81bb69418ea950\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 03:57:22.000000000', 'files': ['spec/classes/glare_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-8be4d4f61d03b448.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/6dfb89f4cef59c4b1a390bcd789f351affc9a692', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I5c5103626e1b5e5b77bb0e07fb81bb69418ea950\nDepends-On: https://review.opendev.org/#/c/748067\nCloses-Bug: #1892952\n'}]",0,748071,6dfb89f4cef59c4b1a390bcd789f351affc9a692,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I5c5103626e1b5e5b77bb0e07fb81bb69418ea950
Depends-On: https://review.opendev.org/#/c/748067
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/71/748071/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glare_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-8be4d4f61d03b448.yaml']",3,f39aea50b0ee21a1e2f5ce599914ecfca0dc6e91,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,14,0
openstack%2Fos-brick~master~If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c,openstack/os-brick,master,If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c,Add doc linting to pep8 target,MERGED,2020-05-14 20:46:22.000000000,2020-08-26 16:11:52.000000000,2020-08-26 16:09:38.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-05-14 20:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0f8ba29f68e97539b5a6064167b43339485f3914', 'message': 'Add doc linting to pep8 target\n\nThis adds a doc8 check to our pep8 job so both code and docs are lint\nchecked. This matches what is done in the cinder repo.\n\nChange-Id: If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-17 16:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/939614f6dbe43409cc156603027170631ccf1300', 'message': 'Add doc linting to pep8 target\n\nThis adds a doc8 check to our pep8 job so both code and docs are lint\nchecked. This matches what is done in the cinder repo.\n\nChange-Id: If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-06-17 21:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c9b6f88a835391d27bae9cc0a809a2b79d107087', 'message': 'Add doc linting to pep8 target\n\nThis adds a doc8 check to our pep8 job so both code and docs are lint\nchecked. This matches what is done in the cinder repo.\n\nChange-Id: If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-06-17 21:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/465faeeaa7b1b0388808db873457006a2047acb2', 'message': 'Add doc linting to pep8 target\n\nThis adds a doc8 check to our pep8 job so both code and docs are lint\nchecked. This matches what is done in the cinder repo.\n\nDepends-on: https://review.opendev.org/736382\n\nChange-Id: If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2020-06-22 14:43:26.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/eecfe7294a5853fb4ebc42620c8de13a77eb7100', 'message': 'Add doc linting to pep8 target\n\nThis adds a doc8 check to our pep8 job so both code and docs are lint\nchecked. This matches what is done in the cinder repo.\n\nDepends-on: https://review.opendev.org/736382\n\nChange-Id: If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",5,728290,eecfe7294a5853fb4ebc42620c8de13a77eb7100,55,20,5,11904,,,0,"Add doc linting to pep8 target

This adds a doc8 check to our pep8 job so both code and docs are lint
checked. This matches what is done in the cinder repo.

Depends-on: https://review.opendev.org/736382

Change-Id: If7b9414b8bbf4a41c0744460f16ff80a1a9cd94c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/90/728290/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,0f8ba29f68e97539b5a6064167b43339485f3914,doc8,"commands = flake8 {posargs} . doc8[doc8] ignore-path=.tox,*.egg-info,doc/src/api,doc/source/drivers.rst,doc/build,.eggs/*/EGG-INFO/*.txt,doc/so urce/configuration/tables,./*.txt,releasenotes/build extension=.txt,.rst,.inc ",commands = flake8 {posargs},9,1
openstack%2Fopenstack-ansible~master~I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe,openstack/openstack-ansible,master,I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe,Adjust docs for Ussuri,MERGED,2020-08-18 14:06:55.000000000,2020-08-26 16:08:40.000000000,2020-08-26 16:02:56.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-18 14:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/250c071ef3218997881631916e7310a6ca02c151', 'message': 'Adjust docs for Ussuri\n\nWSe have some extra OS supported, and we have\nUssuri release date which needs to be reflected in docs.\n\nChange-Id: I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe\n'}, {'number': 2, 'created': '2020-08-18 14:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a4adc412d80ed48d718c62a53363942fe4e87fa1', 'message': 'Adjust docs for Ussuri\n\nWSe have some extra OS supported, and we have\nUssuri release date which needs to be reflected in docs.\n\nChange-Id: I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe\n'}, {'number': 3, 'created': '2020-08-21 07:50:43.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'deploy-guide/source/deploymenthost.rst', 'doc/source/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7ce47c5f8b6a2f573750e132311c319d03693e9', 'message': 'Adjust docs for Ussuri\n\nWe have some extra OS supported, and we have\nUssuri release date which needs to be reflected in docs.\n\nChange-Id: I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe\n'}]",1,746729,b7ce47c5f8b6a2f573750e132311c319d03693e9,14,4,3,28619,,,0,"Adjust docs for Ussuri

We have some extra OS supported, and we have
Ussuri release date which needs to be reflected in docs.

Change-Id: I9e77fbda5e6c0a5c58dc1ecb37359b9fef691ffe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/746729/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/user/aio/quickstart.rst', 'doc/source/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst']",6,250c071ef3218997881631916e7310a6ca02c151,,* Ubuntu server 20.04 (Focal Fossa) LTS 64-bit* Centos 8 64-bit,,24,9
openstack%2Fopenstack-ansible~master~I5de435a4f79ae204b3bb5699499e7491b75c6bc1,openstack/openstack-ansible,master,I5de435a4f79ae204b3bb5699499e7491b75c6bc1,[doc] Adjustments for Victoria release cycle,MERGED,2020-08-18 14:42:46.000000000,2020-08-26 16:08:32.000000000,2020-08-26 16:04:21.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-18 14:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ae1ef6a656dd9bbdfbb813fb0b91f158704e6d51', 'message': '[doc] Adjustmtnts for Victoria release cycle\n\nChange-Id: I5de435a4f79ae204b3bb5699499e7491b75c6bc1\n'}, {'number': 2, 'created': '2020-08-21 07:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6fc20ec27639d2fc53158bbb359032a65d320245', 'message': '[doc] Adjustments for Victoria release cycle\n\nChange-Id: I5de435a4f79ae204b3bb5699499e7491b75c6bc1\n'}, {'number': 3, 'created': '2020-08-21 08:01:10.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'deploy-guide/source/deploymenthost.rst', 'doc/source/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'doc/source/contributor/periodic-work.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab4097f26c362220c69b80bcc4a24c42678a8f99', 'message': '[doc] Adjustments for Victoria release cycle\n\nChange-Id: I5de435a4f79ae204b3bb5699499e7491b75c6bc1\n'}]",1,746741,ab4097f26c362220c69b80bcc4a24c42678a8f99,13,5,3,28619,,,0,"[doc] Adjustments for Victoria release cycle

Change-Id: I5de435a4f79ae204b3bb5699499e7491b75c6bc1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/746741/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/user/aio/quickstart.rst', 'doc/source/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'doc/source/contributor/periodic-work.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst']",7,ae1ef6a656dd9bbdfbb813fb0b91f158704e6d51,,,* openSUSE 15.X 64-bitConfigure openSUSE ~~~~~~~~~~~~~~~~~~ #. Upgrade the system packages and kernel: .. code-block:: shell-session # zypper up #. Reboot the host. #. Ensure that the kernel version is ``4.4`` or later: .. code-block:: shell-session # uname -r #. Install additional software packages: .. code-block:: shell-session # zypper install bridge-utils iputils lsof lvm2 \ chrony opensshr sudo tcpdump python3 #. Add the appropriate kernel modules to the ``/etc/modules-load.d`` file to enable VLAN and bond interfaces: .. code-block:: shell-session # echo 'bonding' >> /etc/modules-load.d/openstack-ansible.conf # echo '8021q' >> /etc/modules-load.d/openstack-ansible.conf #. Configure Network Time Protocol (NTP) in ``/etc/chrony.conf`` to synchronize with a suitable time source and start the service: .. code-block:: shell-session # systemctl enable chronyd.service # systemctl start chronyd.service #. Reboot the host to activate the changes and use the new kernel.,26,103
openstack%2Fironic~master~Ia07c3c237d9f5ec84642d376d48912a159b78dc7,openstack/ironic,master,Ia07c3c237d9f5ec84642d376d48912a159b78dc7,Remove the unused coding style modules,MERGED,2020-08-23 14:21:33.000000000,2020-08-26 16:05:19.000000000,2020-08-26 16:02:42.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-23 14:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1d97182b948401965e69e720bd127e1cf7577301', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\nalso remove six and babel\n\nChange-Id: Ia07c3c237d9f5ec84642d376d48912a159b78dc7\n'}, {'number': 2, 'created': '2020-08-26 04:56:50.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e91f7b2b265a2849f44aa5de6be88def1b8f29c', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: Ia07c3c237d9f5ec84642d376d48912a159b78dc7\n'}]",0,747578,2e91f7b2b265a2849f44aa5de6be88def1b8f29c,16,5,2,26285,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
they are not needed during installation.

Change-Id: Ia07c3c237d9f5ec84642d376d48912a159b78dc7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/747578/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,1d97182b948401965e69e720bd127e1cf7577301,,,Babel==2.3.4flake8==3.7.0 flake8-import-order==0.17.1hacking==3.0.1mccabe==0.6.1pyflakes==2.1.1six==1.14.0,0,7
openstack%2Fcinder~stable%2Fussuri~I4d28d8ed2375f68eed511de5c25898362eac1def,openstack/cinder,stable/ussuri,I4d28d8ed2375f68eed511de5c25898362eac1def,PowerMax Driver - Legacy volumes fail to live migrate,MERGED,2020-08-20 10:11:12.000000000,2020-08-26 16:05:07.000000000,2020-08-26 16:00:51.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-20 10:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f7da42be58ce8dfd1c97d193267096a13724c64', 'message': 'PowerMax Driver - Legacy volumes fail to live migrate\n\nThe fix moves the legacy shared volume from the masking view\nstructure in Ocata and sooner (when SMI-S was supported) to staging\nmasking view(s) in Pike and later releases (U4P REST).\nIn Ocata, the live migration process shared the storage group,\ncontaining the volume, among the different compute Nodes. In PIke,\nwe changed the masking view structure to facilitate a cleaner live\nmigration process where only the volume is migrated and not all the\nother volumes in the storage group. The staging storage group and\nmasking views facilitate a seamless live migration operation in\nupgraded releases.\n\nChange-Id: I4d28d8ed2375f68eed511de5c25898362eac1def\nCloses-Bug: #1867163\n(cherry picked from commit 197e024747ca04daeb35a9eaa9f1350089211ea3)\n'}, {'number': 2, 'created': '2020-08-20 11:16:42.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_migrate.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/migrate.py', 'releasenotes/notes/powermax-auto-migration-5cc57773c23fef02.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/07991b7e8f4f3a46ec76cd10ac41e502b03560a8', 'message': 'PowerMax Driver - Legacy volumes fail to live migrate\n\nThe fix moves the legacy shared volume from the masking view\nstructure in Ocata and sooner (when SMI-S was supported) to staging\nmasking view(s) in Pike and later releases (U4P REST).\nIn Ocata, the live migration process shared the storage group,\ncontaining the volume, among the different compute Nodes. In PIke,\nwe changed the masking view structure to facilitate a cleaner live\nmigration process where only the volume is migrated and not all the\nother volumes in the storage group. The staging storage group and\nmasking views facilitate a seamless live migration operation in\nupgraded releases.\n\nChange-Id: I4d28d8ed2375f68eed511de5c25898362eac1def\nCloses-Bug: #1867163\n(cherry picked from commit 197e024747ca04daeb35a9eaa9f1350089211ea3)\n'}]",0,747133,07991b7e8f4f3a46ec76cd10ac41e502b03560a8,28,16,2,12670,,,0,"PowerMax Driver - Legacy volumes fail to live migrate

The fix moves the legacy shared volume from the masking view
structure in Ocata and sooner (when SMI-S was supported) to staging
masking view(s) in Pike and later releases (U4P REST).
In Ocata, the live migration process shared the storage group,
containing the volume, among the different compute Nodes. In PIke,
we changed the masking view structure to facilitate a cleaner live
migration process where only the volume is migrated and not all the
other volumes in the storage group. The staging storage group and
masking views facilitate a seamless live migration operation in
upgraded releases.

Change-Id: I4d28d8ed2375f68eed511de5c25898362eac1def
Closes-Bug: #1867163
(cherry picked from commit 197e024747ca04daeb35a9eaa9f1350089211ea3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/747133/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_migrate.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/migrate.py', 'releasenotes/notes/powermax-auto-migration-5cc57773c23fef02.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",8,4f7da42be58ce8dfd1c97d193267096a13724c64,," staging_sg = 'STG-myhostB-4732de9b-98a4-4b6d-ae4b-3cafb3d34220-SG' staging_mv1 = 'STG-myhostA-4732de9b-98a4-4b6d-ae4b-3cafb3d34220-MV' staging_mv2 = 'STG-myhostB-4732de9b-98a4-4b6d-ae4b-3cafb3d34220-MV' staging_mvs = [staging_mv1, staging_mv2] legacy_mv1 = 'OS-myhostA-No_SLO-e14f48b8-MV' legacy_mv2 = 'OS-myhostB-No_SLO-e14f48b8-MV' legacy_shared_sg = 'OS-myhostA-No_SLO-SG' legacy_mvs = [legacy_mv1, legacy_mv2] legacy_not_shared_mv = 'OS-myhostA-SRP_1-Diamond-NONE-MV' legacy_not_shared_sg = 'OS-myhostA-SRP_1-Diamond-NONE-SG'",,989,3
openstack%2Fopenstack-tempest-skiplist~master~I7fff4895f61f24a1ee1d0361fa42081a73caf8c5,openstack/openstack-tempest-skiplist,master,I7fff4895f61f24a1ee1d0361fa42081a73caf8c5,Add tempest.api.compute.servers.test_servers_negative to skiplist,MERGED,2020-08-25 08:50:06.000000000,2020-08-26 16:04:55.000000000,2020-08-26 16:01:08.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-25 08:50:06.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/9e7919d8026dd35885453a2ecbd77c0e9e71d4a1', 'message': 'Add tempest.api.compute.servers.test_servers_negative to skiplist\n\nTest is failing in master\n\nChange-Id: I7fff4895f61f24a1ee1d0361fa42081a73caf8c5\nRelated-Bug: #1892837\n'}]",3,747868,9e7919d8026dd35885453a2ecbd77c0e9e71d4a1,11,6,1,8367,,,0,"Add tempest.api.compute.servers.test_servers_negative to skiplist

Test is failing in master

Change-Id: I7fff4895f61f24a1ee1d0361fa42081a73caf8c5
Related-Bug: #1892837
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/68/747868/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,9e7919d8026dd35885453a2ecbd77c0e9e71d4a1,bug/1892837, - test: 'tempest.api.compute.servers.test_servers_negative.ServersNegativeTestJSON' deployment: 'overcloud' releases: - name: 'master' reason: 'Nova Bug' lp: 'https://bugs.launchpad.net/tripleo/+bug/1892837' jobs: [] jobs: [] , jobs: [],8,1
openstack%2Fsushy~master~I5b69c3f732476a9c25db6d09b47ca42ecce06114,openstack/sushy,master,I5b69c3f732476a9c25db6d09b47ca42ecce06114,Less scary warning when GET /redfish/v1/SessionService fails,MERGED,2020-08-25 14:11:56.000000000,2020-08-26 16:04:03.000000000,2020-08-26 12:36:50.000000000,"[{'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 14:11:56.000000000', 'files': ['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/resources/sessionservice/sessionservice.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/03f5818ee2e5e5e2e74ab0dc7f7c5d50e13cfbe2', 'message': 'Less scary warning when GET /redfish/v1/SessionService fails\n\nIt seems normal (at least de facto) to have this endpoint authenticated.\nAvoid confusing operators by a warning, explain the situation better\ninstead.\n\nChange-Id: I5b69c3f732476a9c25db6d09b47ca42ecce06114\n'}]",0,747960,03f5818ee2e5e5e2e74ab0dc7f7c5d50e13cfbe2,11,4,1,10239,,,0,"Less scary warning when GET /redfish/v1/SessionService fails

It seems normal (at least de facto) to have this endpoint authenticated.
Avoid confusing operators by a warning, explain the situation better
instead.

Change-Id: I5b69c3f732476a9c25db6d09b47ca42ecce06114
",git fetch https://review.opendev.org/openstack/sushy refs/changes/60/747960/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/resources/sessionservice/sessionservice.py']",2,03f5818ee2e5e5e2e74ab0dc7f7c5d50e13cfbe2,session-log," LOG.debug('Received access error ""%s"" when trying to refresh the ' 'SessionService. If this happens before ' 'authentication, we\'ll have to guess the Sessions URL.', ae)"," LOG.warning('Received access error ""%(ae)s"". ' 'Unable to refresh SessionService.', {'ae': ae})",5,4
openstack%2Fdevstack~master~Iafb9e45520798b2a612192cfc6cca28501465862,openstack/devstack,master,Iafb9e45520798b2a612192cfc6cca28501465862,[OVN] Follow up of OVN module migration to DevStack,MERGED,2020-08-26 08:52:09.000000000,2020-08-26 16:01:15.000000000,2020-08-26 15:47:36.000000000,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 08:52:09.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e7625fc72cbbbfaf37a6682166bc2180d4e50855', 'message': '[OVN] Follow up of OVN module migration to DevStack\n\nThis patch is a follow-up of Ib4194329474e8d68a90886d2a04f027eecd741df.\n\nThis patch removes the configure_port_forwarding call from the\nneutron-legacy module because port forwarding (just like other\nextensions such as DNS, QOS, etc...) are already enabled in the\nplugin.sh file in the neutron repository [0]. The\nconfigure_port_forwarding method itself is also defined in the neutron\nrepository so calling it here may result in a failure in case the plugin\nis not enabled.\n\nWe are also removing the ""dns"" extensions from the default\nQ_ML2_PLUGIN_EXT_DRIVERS variable because this extension conflicts with\nthe default DNS extensions that is enabled by Neutron when\nq-dns/neutron-dns service is enabled (also in [0]). The LP for this\nconflict problem is: https://bugs.launchpad.net/neutron/+bug/1887163.\n\n[0]\nhttps://github.com/openstack/neutron/blob/945a244588b81064e4301b6f055a3c90f472bd7e/devstack/plugin.sh#L101-L103\n\nChange-Id: Iafb9e45520798b2a612192cfc6cca28501465862\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,748140,e7625fc72cbbbfaf37a6682166bc2180d4e50855,9,4,1,6773,,,0,"[OVN] Follow up of OVN module migration to DevStack

This patch is a follow-up of Ib4194329474e8d68a90886d2a04f027eecd741df.

This patch removes the configure_port_forwarding call from the
neutron-legacy module because port forwarding (just like other
extensions such as DNS, QOS, etc...) are already enabled in the
plugin.sh file in the neutron repository [0]. The
configure_port_forwarding method itself is also defined in the neutron
repository so calling it here may result in a failure in case the plugin
is not enabled.

We are also removing the ""dns"" extensions from the default
Q_ML2_PLUGIN_EXT_DRIVERS variable because this extension conflicts with
the default DNS extensions that is enabled by Neutron when
q-dns/neutron-dns service is enabled (also in [0]). The LP for this
conflict problem is: https://bugs.launchpad.net/neutron/+bug/1887163.

[0]
https://github.com/openstack/neutron/blob/945a244588b81064e4301b6f055a3c90f472bd7e/devstack/plugin.sh#L101-L103

Change-Id: Iafb9e45520798b2a612192cfc6cca28501465862
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/748140/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn_agent', 'lib/neutron-legacy']",2,e7625fc72cbbbfaf37a6682166bc2180d4e50855,ovn-devstack,, if is_service_enabled q-port-forwarding neutron-port-forwarding; then configure_port_forwarding fi,1,4
openstack%2Fopenstack-zuul-jobs~master~I4ac936a9cfbd4e0f5fbf896a99eb69cfc6524267,openstack/openstack-zuul-jobs,master,I4ac936a9cfbd4e0f5fbf896a99eb69cfc6524267,Add Python3 project templates for Wallaby release,MERGED,2020-08-12 15:09:17.000000000,2020-08-26 16:01:10.000000000,2020-08-26 15:33:09.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-12 15:09:17.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/baeb0d19b9cd910634b1fa4aac2db386d10a36cd', 'message': 'Add Python3 project templates for Wallaby release\n\nFollowing the process set down in the TC resolution on updating Python\nversions:\n\nhttps://governance.openstack.org/tc/resolutions/20181024-python-update-process.html\n\nthis change adds the Zuul template for Python 3 unit test jobs in the\nWallaby release. The selected python versions are defined in:\n\nhttps://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I4ac936a9cfbd4e0f5fbf896a99eb69cfc6524267\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,745916,baeb0d19b9cd910634b1fa4aac2db386d10a36cd,11,5,1,11904,,,0,"Add Python3 project templates for Wallaby release

Following the process set down in the TC resolution on updating Python
versions:

https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html

this change adds the Zuul template for Python 3 unit test jobs in the
Wallaby release. The selected python versions are defined in:

https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I4ac936a9cfbd4e0f5fbf896a99eb69cfc6524267
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/16/745916/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,baeb0d19b9cd910634b1fa4aac2db386d10a36cd,wallaby, name: openstack-python3-wallaby-jobs description: | Runs unit tests for an OpenStack Python project under the CPython version 3 releases designated for testing in the Wallaby release. check: jobs: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 gate: jobs: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py38 post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-wallaby-jobs-horizon description: | The standard :zuul:project_template:`openstack-python3-wallaby-jobs` but with horizon added as a required-projects. This checks out the project code and allows tox_install_siblings to use horizon when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py38: required-projects: - openstack/horizon gate: jobs: - openstack-tox-pep8: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py38: required-projects: - openstack/horizon post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-wallaby-jobs-neutron description: | The standard :zuul:project_template:`openstack-python3-wallaby-jobs` but with neutron added as a required-projects. This checks out the project code and allows tox_install_siblings to use neutron when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py38: required-projects: - openstack/neutron gate: jobs: - openstack-tox-pep8: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py38: required-projects: - openstack/neutron post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python3-wallaby-jobs-ceilometer description: | The standard :zuul:project_template:`openstack-python3-wallaby-jobs` but with ceilometer added as a required-projects. This checks out the project code and allows tox_install_siblings to use ceilometer when building the venv. check: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py38: required-projects: - openstack/ceilometer gate: jobs: - openstack-tox-pep8: required-projects: - openstack/ceilometer - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py38: required-projects: - openstack/ceilometer post: jobs: - publish-openstack-python-branch-tarball - project-template:,,118,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I87ad037463eca1df41cc18aaccfb59ae2bf694f8,openstack/tripleo-ansible,stable/train,I87ad037463eca1df41cc18aaccfb59ae2bf694f8,Move first set of working mol jobs to CentOS-8,MERGED,2020-08-24 13:20:11.000000000,2020-08-26 15:55:48.000000000,2020-08-26 15:55:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-08-24 13:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/450336d6fc01b739b83e0b6ec6939afc809ea7cf', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-24 14:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcf3e703fca9c44a6dbdbcb8b3063205a87e4c62', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-25 05:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d093180213096eef4b08d55da0e7486af1ebf132', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-08-25 05:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b719c405113866531d0c68ad80d49a2f849b69a', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-08-25 05:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e111ac271cd085217e14a52cb46b17cfaebd2a2', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-08-25 08:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e9866f0fb8d3d8970d762ae685be01c66055a99', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-08-25 11:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53a2d90ff8f6dcbaecc59bcbff389660239bd739', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-08-25 15:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/998228e85540245dfb34f15a791edfdb13197e9a', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-08-26 05:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7db0e21951d8e3134d382ac19c008bf9ec24ecca', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-08-26 09:46:02.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f8b462193d97d260295741a939d84afe3583115e', 'message': 'Move first set of working mol jobs to CentOS-8\n\nIn order to port the molecule jobs from CentOS-7 to CentOS-8,\nnot all the jobs are working on CentOS-8 gathered via\nhttps://review.opendev.org/#/c/747348/.\nIn order to make it easier, we have created a c8 based base job\nand moved working jobs to c8.\n\nRest of the c7 based molecule jobs will be moved in a seperate\nreview.\n\nChange-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,747724,f8b462193d97d260295741a939d84afe3583115e,28,7,10,12393,,,0,"Move first set of working mol jobs to CentOS-8

In order to port the molecule jobs from CentOS-7 to CentOS-8,
not all the jobs are working on CentOS-8 gathered via
https://review.opendev.org/#/c/747348/.
In order to make it easier, we have created a c8 based base job
and moved working jobs to c8.

Rest of the c7 based molecule jobs will be moved in a seperate
review.

Change-Id: I87ad037463eca1df41cc18aaccfb59ae2bf694f8
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/747724/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/base.yaml']",2,450336d6fc01b739b83e0b6ec6939afc809ea7cf,tripleo_ansible_centos8_mol, parent: tripleo-ansible-centos-8-base - job: description: Base tripleo-ansible job on CentOS 8 name: tripleo-ansible-centos-8-base nodeset: centos-8,,126,120
openstack%2Ftripleo-ansible~stable%2Ftrain~I751452d4f60ceedd099f76e8127694a96a0b9549,openstack/tripleo-ansible,stable/train,I751452d4f60ceedd099f76e8127694a96a0b9549,[tripleo-podman] Install specific version of buildah,MERGED,2020-08-21 13:41:41.000000000,2020-08-26 15:55:47.000000000,2020-08-26 15:55:47.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 13:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2454dabe432f8dbe364c367388636f8adecc1fe', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)\n'}, {'number': 2, 'created': '2020-08-24 05:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30f0e66f8aaefdffe40cbf53eb2f96c04303da93', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)\n'}, {'number': 3, 'created': '2020-08-24 07:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/934e730eb1a63412963ab243e3a2fb8cf57b94ac', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)\n'}, {'number': 4, 'created': '2020-08-25 08:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d04dde09c7b335a2b3ec9d9e85629ef507c84415', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)\n'}, {'number': 5, 'created': '2020-08-26 09:46:36.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_buildah_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/559b4493ed2eac6bd3fb4b84824ad36334e46c22', 'message': '[tripleo-podman] Install specific version of buildah\n\ntripleo_podman_buildah_login.yml playbook from tripleo_podman\nrole is used in periodic jobs in upstream & downstream to push\ncontainers.\n\nIn CentOS/RHEL, buildah comes from multiple repos, sometimes\nuntested package from diffferent repo get installed causing\nissues. Making it parameterized will help to install specific\nversion of buildah and avoid breakage.\n\nChange-Id: I751452d4f60ceedd099f76e8127694a96a0b9549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)\n'}]",1,747415,559b4493ed2eac6bd3fb4b84824ad36334e46c22,23,5,5,12393,,,0,"[tripleo-podman] Install specific version of buildah

tripleo_podman_buildah_login.yml playbook from tripleo_podman
role is used in periodic jobs in upstream & downstream to push
containers.

In CentOS/RHEL, buildah comes from multiple repos, sometimes
untested package from diffferent repo get installed causing
issues. Making it parameterized will help to install specific
version of buildah and avoid breakage.

Change-Id: I751452d4f60ceedd099f76e8127694a96a0b9549
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit bc80c2aa89bde4965d51980a5969cd92779f6337)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/747415/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_buildah_login.yml']",3,d2454dabe432f8dbe364c367388636f8adecc1fe,,"- name: Gather variables for each operating system for installing buildah include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" name: ""{{ tripleo_buildah_packages }}"" state: present"," name: ""buildah"" state: latest",17,2
openstack%2Fos-brick~master~I4a8793753c2504f8e594f92ae7069994c2d000ad,openstack/os-brick,master,I4a8793753c2504f8e594f92ae7069994c2d000ad,Add note about removed cinder feature,MERGED,2020-08-21 22:40:52.000000000,2020-08-26 15:55:45.000000000,2020-08-26 15:46:52.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-08-21 22:40:52.000000000', 'files': ['os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0649a7fbaf5ce57296c89e455c82cf5ba1816c00', 'message': 'Add note about removed cinder feature\n\nPrior to victoria, cinder had an option to pass the content of the\nkeyring file as a connection property, thereby causing the situation\ndocumented in OSSN-0085.  Add a comment in the code indicating that\nthis field is not passed by cinder from the victoria release onwards.\n\nPartially-implements: bp rbd-remove-option-causing-ossn-0085\nChange-Id: I4a8793753c2504f8e594f92ae7069994c2d000ad\n'}]",0,747495,0649a7fbaf5ce57296c89e455c82cf5ba1816c00,25,17,1,5314,,,0,"Add note about removed cinder feature

Prior to victoria, cinder had an option to pass the content of the
keyring file as a connection property, thereby causing the situation
documented in OSSN-0085.  Add a comment in the code indicating that
this field is not passed by cinder from the victoria release onwards.

Partially-implements: bp rbd-remove-option-causing-ossn-0085
Change-Id: I4a8793753c2504f8e594f92ae7069994c2d000ad
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/95/747495/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/rbd.py'],1,0649a7fbaf5ce57296c89e455c82cf5ba1816c00,remove-opt-causing-ossn-0085, # NOTE: cinder no longer passes keyring data in the connection # properties as of the victoria release. See OSSN-0085.,,2,0
openstack%2Ftripleo-ansible~stable%2Ftrain~If90f8d98e1fdd2011bb6f43530a23f07b6a248ff,openstack/tripleo-ansible,stable/train,If90f8d98e1fdd2011bb6f43530a23f07b6a248ff,Add c8 multinode container job to check & gate,MERGED,2020-08-24 07:06:09.000000000,2020-08-26 15:55:43.000000000,2020-08-26 15:55:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-24 07:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f8ed442f902484eff58250dfb122559eb1953e4', 'message': 'Add c8 multinode container job to check & gate\n\nIn order to have coverage on both c7 and c8, c7 multinode job\nwas there but c8 multinode job got missed from this review\nhttps://review.opendev.org/#/c/742636/.\n\nAdding c8 based multinode job restores the coverage.\n\nChange-Id: If90f8d98e1fdd2011bb6f43530a23f07b6a248ff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-25 08:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e59c67ff310e67a6036745476b2a3449fc5a0a0', 'message': 'Add c8 multinode container job to check & gate\n\nIn order to have coverage on both c7 and c8, c7 multinode job\nwas there but c8 multinode job got missed from this review\nhttps://review.opendev.org/#/c/742636/.\n\nAdding c8 based multinode job restores the coverage.\n\nChange-Id: If90f8d98e1fdd2011bb6f43530a23f07b6a248ff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-26 06:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4197c19355146b340e7d7c67e50ac6cba99962ea', 'message': 'Add c8 multinode container job to check & gate\n\nIn order to have coverage on both c7 and c8, c7 multinode job\nwas there but c8 multinode job got missed from this review\nhttps://review.opendev.org/#/c/742636/.\n\nAdding c8 based multinode job restores the coverage.\n\nChange-Id: If90f8d98e1fdd2011bb6f43530a23f07b6a248ff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-08-26 07:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/48560fc94ac9e5aabaa3a0eec20c84f5d68cbb27', 'message': 'Add c8 multinode container job to check & gate\n\nIn order to have coverage on both c7 and c8, c7 multinode job\nwas there but c8 multinode job got missed from this review\nhttps://review.opendev.org/#/c/742636/.\n\nAdding c8 based multinode job restores the coverage.\n\nChange-Id: If90f8d98e1fdd2011bb6f43530a23f07b6a248ff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-08-26 09:46:22.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc7fdb0ed23bca975881117548b23abd79a89276', 'message': 'Add c8 multinode container job to check & gate\n\nIn order to have coverage on both c7 and c8, c7 multinode job\nwas there but c8 multinode job got missed from this review\nhttps://review.opendev.org/#/c/742636/.\n\nAdding c8 based multinode job restores the coverage.\n\nChange-Id: If90f8d98e1fdd2011bb6f43530a23f07b6a248ff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,747625,dc7fdb0ed23bca975881117548b23abd79a89276,14,7,5,12393,,,0,"Add c8 multinode container job to check & gate

In order to have coverage on both c7 and c8, c7 multinode job
was there but c8 multinode job got missed from this review
https://review.opendev.org/#/c/742636/.

Adding c8 based multinode job restores the coverage.

Change-Id: If90f8d98e1fdd2011bb6f43530a23f07b6a248ff
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/747625/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,8f8ed442f902484eff58250dfb122559eb1953e4,c8job, - tripleo-ci-centos-8-containers-multinode: *containers_multinode - tripleo-ci-centos-8-containers-multinode: *containers_multinode,,2,0
openstack%2Fpython-cinderclient~master~If58a6088f92c4be5edd53f0f5cd9a093d4cbc5f1,openstack/python-cinderclient,master,If58a6088f92c4be5edd53f0f5cd9a093d4cbc5f1,zuul functional job: drop the custom playbooks,MERGED,2020-08-13 22:45:36.000000000,2020-08-26 15:55:25.000000000,2020-08-26 15:47:05.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 22:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ede3e0b7ef9f5d36f587b469145d560dcf695fb6', 'message': 'zuul functional job: drop the custom playbooks\n\nThe base devstack-tox-functional* jobs now set the required\nenvironment (OS_* vars set by devstack) before calling tox.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: If58a6088f92c4be5edd53f0f5cd9a093d4cbc5f1\n'}, {'number': 2, 'created': '2020-08-18 07:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/a72539f5e1d01822eed08faac556db7b3bcd4abb', 'message': 'zuul functional job: drop the custom playbooks\n\nThe base devstack-tox-functional* jobs now set the required\nenvironment (OS_* vars set by devstack) before calling tox.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: If58a6088f92c4be5edd53f0f5cd9a093d4cbc5f1\n'}, {'number': 3, 'created': '2020-08-18 15:04:06.000000000', 'files': ['playbooks/post.yaml', '.zuul.yaml', 'playbooks/python-cinderclient-functional.yaml', 'roles/get-os-environment/tasks/main.yaml', 'roles/get-os-environment/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/3228111af3e21561b578688ab406a0c1effaf397', 'message': 'zuul functional job: drop the custom playbooks\n\nThe base devstack-tox-functional* jobs now set the required\nenvironment (OS_* vars set by devstack) before calling tox.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: If58a6088f92c4be5edd53f0f5cd9a093d4cbc5f1\n'}]",0,746237,3228111af3e21561b578688ab406a0c1effaf397,19,5,3,10459,,,0,"zuul functional job: drop the custom playbooks

The base devstack-tox-functional* jobs now set the required
environment (OS_* vars set by devstack) before calling tox.

Depends-On: https://review.opendev.org/746235
Change-Id: If58a6088f92c4be5edd53f0f5cd9a093d4cbc5f1
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/37/746237/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/post.yaml', '.zuul.yaml', 'playbooks/python-cinderclient-functional.yaml']",3,ede3e0b7ef9f5d36f587b469145d560dcf695fb6,get-devstack-os-environment-role,,"- hosts: all roles: - ensure-python - run-devstack # Run bindep and test-setup after devstack so that they won't interfere - role: bindep bindep_profile: test bindep_dir: ""{{ zuul_work_dir }}"" - test-setup - get-os-environment - ensure-tox - role: tox tox_install_siblings: false environment: ""{{ os_env_vars }}"" ",1,24
openstack%2Fopenstack-zuul-jobs~master~If2259fdad175456432a46b9d859ddbd484d81f18,openstack/openstack-zuul-jobs,master,If2259fdad175456432a46b9d859ddbd484d81f18,Add job for openstack-python3-victoria-jobs-arm64,MERGED,2020-07-21 08:11:58.000000000,2020-08-26 15:53:14.000000000,2020-08-26 15:33:04.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 08:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b767dc5b93084e6646f469e88189adbe63b31266', 'message': 'Add job for openstack-python3-victoria-jobs-arm64\n\nThis run openstack-python3-victoria-jobs with arm64\nnodeset.\n\nChange-Id: If2259fdad175456432a46b9d859ddbd484d81f18\nTask: #40398\n'}, {'number': 2, 'created': '2020-07-22 10:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2a0e0f5ece4567eaa934999f85371eb7f6687fad', 'message': 'Add job for openstack-python3-victoria-jobs-arm64\n\nThis run openstack-python3-victoria-jobs with arm64\nnodeset.\n\nChange-Id: If2259fdad175456432a46b9d859ddbd484d81f18\nTask: #40398\n'}, {'number': 3, 'created': '2020-07-23 02:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/fbf3723380634b6c0e2cc33d7d2c080f570caa6a', 'message': 'Add job for openstack-python3-victoria-jobs-arm64\n\nThis run openstack-python3-victoria-jobs template with arm64\nnodeset.\n\nThis template currently runs only a non-voting job\n`openstack-tox-py38-arm64`.\n\nChange-Id: If2259fdad175456432a46b9d859ddbd484d81f18\nTask: #40398\n'}, {'number': 4, 'created': '2020-07-23 06:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/69dd7ad145fc0a38a1b3af39acb3b7cc98679139', 'message': 'Add job for openstack-python3-victoria-jobs-arm64\n\nThis run openstack-python3-victoria-jobs template with arm64\nnodeset.\n\nThis template currently runs only a non-voting job\n`openstack-tox-py38-arm64`.\n\nChange-Id: If2259fdad175456432a46b9d859ddbd484d81f18\nTask: #40398\n'}, {'number': 5, 'created': '2020-08-04 11:53:25.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a2b01699a1eda5647e1e5f1f318f4293a6c534b4', 'message': 'Add job for openstack-python3-victoria-jobs-arm64\n\nThis run openstack-python3-victoria-jobs template with arm64\nnodeset.\n\nThis template currently runs only a non-voting job\n`openstack-tox-py38-arm64`.\n\nChange-Id: If2259fdad175456432a46b9d859ddbd484d81f18\nTask: #40398\n'}]",5,742090,a2b01699a1eda5647e1e5f1f318f4293a6c534b4,29,6,5,12404,,,0,"Add job for openstack-python3-victoria-jobs-arm64

This run openstack-python3-victoria-jobs template with arm64
nodeset.

This template currently runs only a non-voting job
`openstack-tox-py38-arm64`.

Change-Id: If2259fdad175456432a46b9d859ddbd484d81f18
Task: #40398
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/90/742090/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,b767dc5b93084e6646f469e88189adbe63b31266,multi-arch-arm64-unittests, name: openstack-tox-py36-arm64 parent: openstack-tox-py36 nodeset: ubuntu-bionic-arm64 - job: name: openstack-tox-py38-arm64 parent: openstack-tox-py38 nodeset: ubuntu-bionic-arm64 - job:,,28,0
openstack%2Fpuppet-keystone~stable%2Fussuri~Ib4d7291149f14e703ed1d382f8924f1c0669cba1,openstack/puppet-keystone,stable/ussuri,Ib4d7291149f14e703ed1d382f8924f1c0669cba1,Add CentOS8 to nodesets,MERGED,2020-08-26 12:24:24.000000000,2020-08-26 15:44:30.000000000,2020-08-26 15:44:30.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:24:24.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/af7e03b7fc8bf2259f6f49588847b4750d229dda', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib4d7291149f14e703ed1d382f8924f1c0669cba1\n(cherry picked from commit e6edf42957734f829d0f68e69555cbed793ed578)\n'}]",0,748207,af7e03b7fc8bf2259f6f49588847b4750d229dda,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib4d7291149f14e703ed1d382f8924f1c0669cba1
(cherry picked from commit e6edf42957734f829d0f68e69555cbed793ed578)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/07/748207/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,af7e03b7fc8bf2259f6f49588847b4750d229dda,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fnetworking-odl~master~Ia579f5f0cfe77e271340e42cd01299a979c8ef27,openstack/networking-odl,master,Ia579f5f0cfe77e271340e42cd01299a979c8ef27,Workaround mock._is_started,MERGED,2020-07-09 14:43:20.000000000,2020-08-26 15:23:35.000000000,2020-08-26 15:21:22.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2690ddcf3e67d9de3efc71860c96d85af33d3f47', 'message': 'Workaround mock._is_started\n\nIt seems that on groovy (python 3.8.3) mock._is_started is not working,\nthe easiest fix seems to be to workaround that with try / except block.\n\nChange-Id: Ia579f5f0cfe77e271340e42cd01299a979c8ef27\nCloses-Bug: #1886589\n'}, {'number': 2, 'created': '2020-07-10 11:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1bdaef51bd849ab25af6bfb782e699974b3eee88', 'message': 'Workaround mock._is_started\n\nIt seems that on groovy (python 3.8.3) mock._is_started is not working,\nthe easiest fix seems to be to workaround that with try / except block.\n\nChange-Id: Ia579f5f0cfe77e271340e42cd01299a979c8ef27\nCloses-Bug: #1886589\n'}, {'number': 3, 'created': '2020-08-25 09:28:11.000000000', 'files': ['networking_odl/tests/base.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0cc249bae09b721a7fa5a50a86069cd307cdcd01', 'message': 'Workaround mock._is_started\n\nIt seems that on groovy (python 3.8.3) mock._is_started is not working,\nthe easiest fix seems to be to workaround that with try / except block.\n\nChange-Id: Ia579f5f0cfe77e271340e42cd01299a979c8ef27\nCloses-Bug: #1886589\n'}]",0,740315,0cc249bae09b721a7fa5a50a86069cd307cdcd01,23,4,3,8313,,,0,"Workaround mock._is_started

It seems that on groovy (python 3.8.3) mock._is_started is not working,
the easiest fix seems to be to workaround that with try / except block.

Change-Id: Ia579f5f0cfe77e271340e42cd01299a979c8ef27
Closes-Bug: #1886589
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/15/740315/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/base.py'],1,2690ddcf3e67d9de3efc71860c96d85af33d3f47,bug/1886589, # this may cause RuntimeError('stop called on unstarted patcher') # due to stop_all called by base test cases try: except RuntimeError: pass, if mock._is_started(self.patcher): # this may cause RuntimeError('stop called on unstarted patcher') # due to stop_all called by base test cases,5,3
openstack%2Ftripleo-common~stable%2Ftrain~Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c,openstack/tripleo-common,stable/train,Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c,Relax filter_images_with_labels() and re-add kolla_version,MERGED,2020-07-27 15:34:44.000000000,2020-08-26 15:19:34.000000000,2020-08-26 15:17:15.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-27 15:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/88fe3fa8f8ce4c6285676dd21d170382393f19b3', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 2, 'created': '2020-07-29 02:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/654ce5e15c1b8abb5446535fe39d4cb7bbd1f2f6', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 3, 'created': '2020-07-31 12:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d970ca3aa65833da513e9b48ff8094f308e464ef', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 4, 'created': '2020-08-10 13:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b58c7dfd38a4dcc4cd8a5f7dfb06351d8ad944bb', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 5, 'created': '2020-08-11 12:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d010d8fe46121f1bfc09b231ae6d9d0629f53443', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 6, 'created': '2020-08-13 01:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/775a18e0e5298b8944595ac39d77667652302726', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 7, 'created': '2020-08-18 12:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d63b93e381bc6bad1870286738671dd280c4b5a0', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 8, 'created': '2020-08-21 14:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9037748f883bd226f5c821de9f9ad4258995f7f5', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}, {'number': 9, 'created': '2020-08-26 02:11:14.000000000', 'files': ['container-images/tcib/base/base.yaml', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3ccf6fb01993a2061fb5be0b188eb58c83ce83f', 'message': 'Relax filter_images_with_labels() and re-add kolla_version\n\nThis patch does 2 things (on purpose for easier backport without CI\nfailures):\n\n1) TCIB: add ""kolla_version"" for backward compatibility\n\nIn TripleO CI, we run container updates using tripleo-modify-image role\nbut only for the images with ""kolla_version"" label.\n\nhttps://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13\n\nIn the future, we\'ll rename this LABEL to be more TCIB specific and\nremove ""kolla"" from it, but for now let\'s have it for backward\ncompatibility.\n\n2) image_uploader: relax logic for filter_images_with_labels()\n\nmodify_only_with_labels is a list of labels that can be set to find out\nwhat images we want to modify with the tripleo-modify-image role.\n\nBefore, all the items in the list must be present in the image Labels;\nwhich is too strict (e.g. kolla_version label used by quickstart doesn\'t\nexist in the new images with TCIB).\n\nLet\'s relax it so we will modify the image if at least one label is\npresent in there.\n\nRelated-Bug: #1886914\nChange-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c\n(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)\n'}]",0,743260,a3ccf6fb01993a2061fb5be0b188eb58c83ce83f,67,6,9,3153,,,0,"Relax filter_images_with_labels() and re-add kolla_version

This patch does 2 things (on purpose for easier backport without CI
failures):

1) TCIB: add ""kolla_version"" for backward compatibility

In TripleO CI, we run container updates using tripleo-modify-image role
but only for the images with ""kolla_version"" label.

https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2#L13

In the future, we'll rename this LABEL to be more TCIB specific and
remove ""kolla"" from it, but for now let's have it for backward
compatibility.

2) image_uploader: relax logic for filter_images_with_labels()

modify_only_with_labels is a list of labels that can be set to find out
what images we want to modify with the tripleo-modify-image role.

Before, all the items in the list must be present in the image Labels;
which is too strict (e.g. kolla_version label used by quickstart doesn't
exist in the new images with TCIB).

Let's relax it so we will modify the image if at least one label is
present in there.

Related-Bug: #1886914
Change-Id: Ia9b75f8a50c83fc38d7a4f6d5e6a9726d82fbd8c
(cherry picked from commit af74c389e4d73041c2a052e633f8e3f7efaa550d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/743260/5 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/base.yaml', 'tripleo_common/image/image_uploader.py']",2,88fe3fa8f8ce4c6285676dd21d170382393f19b3,relax," # The logic is the following: if one of the labels in # modify_only_with_labels parameter is present in the image, it # will match and add the images that need to be modified. for label in labels: if label in image_labels: # we found a matching label, adding the image # and leave the loop. images_with_labels.append(image) break", if set(labels).issubset(set(image_labels)): images_with_labels.append(image),10,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194,openstack/tripleo-ansible,stable/ussuri,Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194,Enable pids_limit support,MERGED,2020-08-26 06:01:19.000000000,2020-08-26 15:13:35.000000000,2020-08-26 15:13:35.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 06:01:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5455472df5f63ec6f59b947e3cdc1eeb97f0d362', 'message': 'Enable pids_limit support\n\nThe default PID limit in a container is set to 4096. This limit might be\nreached in a nova_libvirt container, after launching about 150 VMs.\n\nChange-Id: Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1871885\nCloses-Bug: #1892817\n(cherry picked from commit f602e84c0f03e4c151f25b12e131af95c7daf305)\n'}]",0,748108,5455472df5f63ec6f59b947e3cdc1eeb97f0d362,7,3,1,28223,,,0,"Enable pids_limit support

The default PID limit in a container is set to 4096. This limit might be
reached in a nova_libvirt container, after launching about 150 VMs.

Change-Id: Ibfbe63cbd9e2a219f10ebc407596aeefe4a5b194
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1871885
Closes-Bug: #1892817
(cherry picked from commit f602e84c0f03e4c151f25b12e131af95c7daf305)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/748108/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,5455472df5f63ec6f59b947e3cdc1eeb97f0d362,pids_limit-stable/ussuri," pids_limit: ""{{ lookup('dict', container_data).value.pids_limit | default(omit) }}""",,1,0
openstack%2Fpython-cinderclient~master~Id0f4b9bee1f6a0103ec581b20037a9b74201aaca,openstack/python-cinderclient,master,Id0f4b9bee1f6a0103ec581b20037a9b74201aaca,Add doc linting to pep8 target,MERGED,2020-05-14 21:15:53.000000000,2020-08-26 15:05:18.000000000,2020-08-26 15:02:50.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-05-14 21:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fd09ac9f9c7926675a1d203720a5688c4bee592e', 'message': 'Add doc linting to pep8 target\n\nThis adds doc8 to the pep8 job to lint the docs. Also fixes a few issues\nit highlighted.\n\nChange-Id: Id0f4b9bee1f6a0103ec581b20037a9b74201aaca\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-02 22:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/dc2df2472f7a2980a742772977f42c55e967cce2', 'message': 'Add doc linting to pep8 target\n\nThis adds doc8 to the pep8 job to lint the docs. Also fixes a few issues\nit highlighted.\n\nChange-Id: Id0f4b9bee1f6a0103ec581b20037a9b74201aaca\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-06-05 14:53:12.000000000', 'files': ['doc/source/contributor/functional_tests.rst', 'doc/source/index.rst', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d6530c48d9c860aeb604c4efddb3ddc58cc24c2c', 'message': 'Add doc linting to pep8 target\n\nThis adds doc8 to the pep8 job to lint the docs. Also fixes a few issues\nit highlighted.\n\nChange-Id: Id0f4b9bee1f6a0103ec581b20037a9b74201aaca\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,728297,d6530c48d9c860aeb604c4efddb3ddc58cc24c2c,19,6,3,11904,,,0,"Add doc linting to pep8 target

This adds doc8 to the pep8 job to lint the docs. Also fixes a few issues
it highlighted.

Change-Id: Id0f4b9bee1f6a0103ec581b20037a9b74201aaca
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/97/728297/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/functional_tests.rst', 'doc/source/index.rst', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini', 'HACKING.rst']",6,fd09ac9f9c7926675a1d203720a5688c4bee592e,,"- Use 'raise' instead of 'raise e' to preserve original traceback or exception being reraised::- Any patch that makes a change significant to the end consumer or deployer of an OpenStack environment should include a release note (new features, upgrade impacts, deprecated functionality, significant bug fixes, etc.) - Cinder Client uses Reno for release notes management. See the `Reno Documentation`_ for more details on its usage.- As a quick example, when adding a new shell command for Awesome Storage Feature, one could perform the following steps to include a release note for the new feature:: Remove the extra template text from the release note and update the details so it looks something like::- Include the generated release notes file when submitting your patch for review.","- Use 'raise' instead of 'raise e' to preserve original traceback or exception being reraised::- Any patch that makes a change significant to the end consumer or deployer of an OpenStack environment should include a release note (new features, upgrade impacts, deprecated functionality, significant bug fixes, etc.) - Cinder Client uses Reno for release notes management. See the `Reno Documentation`_ for more details on its usage.- As a quick example, when adding a new shell command for Awesome Storage Feature, one could perform the following steps to include a release note for the new feature: Remove the extra template text from the release note and update the details so it looks something like:- Include the generated release notes file when submitting your patch for review.",34,19
openstack%2Fcharm-ceph-osd~master~Iffef8787165dfbda35df0ad047f59e4a38288a39,openstack/charm-ceph-osd,master,Iffef8787165dfbda35df0ad047f59e4a38288a39,Fix ordered list,MERGED,2020-08-26 13:17:49.000000000,2020-08-26 14:44:46.000000000,2020-08-26 14:44:45.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 13:17:49.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/05c9f0c70c098175a0aa144ff5c8fafd60a70749', 'message': 'Fix ordered list\n\nChange-Id: Iffef8787165dfbda35df0ad047f59e4a38288a39\n'}]",0,748225,05c9f0c70c098175a0aa144ff5c8fafd60a70749,8,3,1,30561,,,0,"Fix ordered list

Change-Id: Iffef8787165dfbda35df0ad047f59e4a38288a39
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/25/748225/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,05c9f0c70c098175a0aa144ff5c8fafd60a70749,fix-ordered-list-readme,"`osd-devices` option (default value is '/dev/vdb'). The below examples can be used in the `ceph-osd.yaml` configuration file. Block devices (regular), ceph-osd: options: osd-devices: /dev/vdb /dev/vdc /dev/vddBlock devices (Juju storage), ceph-osd: storage: osd-devices: cinder,20GDirectory-backed OSDs, ceph-osd: storage: osd-devices: /var/tmp/osd-1","`osd-devices` option (default value is '/dev/vdb'). The following examples can be used in the `ceph-osd.yaml` configuration file: 1. Block devices (regular) ceph-osd: options: osd-devices: /dev/vdb /dev/vdc /dev/vdd2. Block devices (Juju storage) ceph-osd: storage: osd-devices: cinder,20G3. Directory-backed OSDs ceph-osd: storage: osd-devices: /var/tmp/osd-1",14,14
openstack%2Ftripleo-ansible~stable%2Ftrain~Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd,openstack/tripleo-ansible,stable/train,Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd,Fixed linting,MERGED,2020-08-25 06:05:16.000000000,2020-08-26 14:31:45.000000000,2020-08-26 14:29:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-25 06:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/21d2a59d4c658ecadcc7b542ca8043c44ed7448b', 'message': 'Install latest version of pre-commit and virtualenv\n\nCurrently the pep8 and linters jobs are hitting with following\nerror.\nAn unexpected error has occurred: AssertionError: BUG: expected\nenvironment for python to be healthy() immediately after install,\nplease open an issue describing your environment\n\nInstalling latest version of pre-commit and virtualenv fixes the\nissue.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-25 08:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41b08f8c79361d313f2d979db96f1873f8e5ea92', 'message': 'Install latest version of virtualenv\n\nCurrently the pep8 and linters jobs are hitting with following\nerror.\nAn unexpected error has occurred: AssertionError: BUG: expected\nenvironment for python to be healthy() immediately after install,\nplease open an issue describing your environment\n\nInstalling latest version of virtualenv as a part of pep8 tox env\nfixes the issue.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-25 11:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c6a268fffd7967af63d3c0caf88837171a48d8d', 'message': 'Install latest version of virtualenv and pre-commit\n\nCurrently the pep8 and linters jobs are hitting with following\nerror.\nAn unexpected error has occurred: AssertionError: BUG: expected\nenvironment for python to be healthy() immediately after install,\nplease open an issue describing your environment\n\nInstalling latest version of virtualenv and pre-commit as deps\nas a part of pep8 tox env fixes the issue.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-08-25 11:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a6710d7a18ecdcba436fd11041a21c13b684062', 'message': 'Install latest version of virtualenv and pre-commit\n\nCurrently the pep8 and linters jobs are hitting with following\nerror.\nAn unexpected error has occurred: AssertionError: BUG: expected\nenvironment for python to be healthy() immediately after install,\nplease open an issue describing your environment\n\nInstalling latest version of virtualenv and pre-commit as deps\nas a part of pep8 tox env fixes the issue.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-08-25 12:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/853de464476ab41b68ad81a09eefba528019cd73', 'message': 'Install latest version of virtualenv and pre-commit\n\nCurrently the pep8 and linters jobs are hitting with following\nerror.\nAn unexpected error has occurred: AssertionError: BUG: expected\nenvironment for python to be healthy() immediately after install,\nplease open an issue describing your environment\n\nInstalling latest version of virtualenv and pre-commit as deps\nas a part of pep8 tox env fixes the issue.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-08-25 12:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/87cd79d4c00c1d234fefcc55a5fde7e815d61451', 'message': 'Install latest version of virtualenv and pre-commit\n\nCurrently the pep8 and linters jobs are hitting with following\nerror.\nAn unexpected error has occurred: AssertionError: BUG: expected\nenvironment for python to be healthy() immediately after install,\nplease open an issue describing your environment\n\nInstalling latest version of virtualenv and pre-commit as deps\nas a part of pep8 tox env fixes the issue.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-08-25 12:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/688db39018508db9d263ea15c905e57e146d2245', 'message': 'Install pre-commit < 2.7.0\n\nCurrently the pep8 and linters jobs are hitting with following\nerror.\nAn unexpected error has occurred: AssertionError: BUG: expected\nenvironment for python to be healthy() immediately after install,\nplease open an issue describing your environment\n\nAs latest version of pre-commit requires latest version of\nvirtualenv which is not getting installed due to upper\nconstraints. So pining the pre-commit.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-08-25 12:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5561366254272d8f92ed9c294804a3999a714e3d', 'message': 'Fixed linting\n\nBasically backporting a series of changes from main.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-08-26 05:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/304e6527ba9b3da4a84016de5db3f7ce21b239d9', 'message': 'Fixed linting\n\nBasically backporting a series of changes from main.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-08-26 06:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32d51dc9eb109e228c2da4c26028310c76067363', 'message': 'Fixed linting\n\nBasically backporting a series of changes from main.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2020-08-26 06:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35fb4b71388f4e2bf0b5b87e750729be3ef8c956', 'message': 'Fixed linting\n\nBasically backporting a series of changes from main.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2020-08-26 06:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da87f66fb320b5be533e8c1d0e33f35d7345658a', 'message': 'Fixed linting\n\nBasically backporting a series of changes from main.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 13, 'created': '2020-08-26 09:29:16.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2', 'test-requirements.txt', '_skeleton_role_/molecule/default/Dockerfile.j2', '_skeleton_role_/meta/main.yml.j2', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg.j2', 'doc/source/roles/role-backup-and-restore.rst', '.pre-commit-config.yaml', 'tripleo_ansible/roles/tuned/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-nova-image-cache/molecule/default/Dockerfile', 'LICENSE', 'tripleo_ansible/roles/tripleo-image-serve/molecule/legacy_vars/Dockerfile', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', 'tripleo_ansible/roles/tuned/molecule/isolated/Dockerfile', '.ansible-lint', 'tripleo_ansible/roles/tripleo-keystone-resources/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/playbook.yml.j2', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/tripleo-systemd-wrapper/templates/service_sync.j2', 'setup.cfg', 'tox.ini', 'tripleo_ansible/roles/tripleo-nova-image-cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd6fb6d1664bb8e1475089391a0ed85563fbe6cd', 'message': 'Fixed linting\n\nBasically backporting a series of changes from main.\n\nChange-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}]",2,747832,bd6fb6d1664bb8e1475089391a0ed85563fbe6cd,35,14,13,12393,,,0,"Fixed linting

Basically backporting a series of changes from main.

Change-Id: Ia23170115f57f70a8ee5c1a3b34686fb53aa47dd
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-authored-by: Sorin Sbarnea <ssbarnea@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/747832/12 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,21d2a59d4c658ecadcc7b542ca8043c44ed7448b,fix_linters, pre-commit>=2.7.1 virtualenv>=20.0.31,,2,0
openstack%2Fpuppet-oslo~master~I4af38e4aa5f9a95e4b8d2542a3e4dff7d0aa21fa,openstack/puppet-oslo,master,I4af38e4aa5f9a95e4b8d2542a3e4dff7d0aa21fa,Add mysql_enable_ndb option,MERGED,2020-08-26 02:46:35.000000000,2020-08-26 14:30:16.000000000,2020-08-26 14:27:18.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 02:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/0af74ffbf4787c117ef9714eacf4b8f35572dc4a', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I4af38e4aa5f9a95e4b8d2542a3e4dff7d0aa21fa\nCloses-Bug: #1892952\n'}, {'number': 2, 'created': '2020-08-26 02:56:19.000000000', 'files': ['spec/defines/oslo_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-8b82c371ad16245a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/5f1e4811109e44a19503327a63ad0bce7fa0cbec', 'message': 'Add mysql_enable_ndb option\n\nAdd mysql_enable_ndb parameter to select mysql storage engine.\n\nChange-Id: I4af38e4aa5f9a95e4b8d2542a3e4dff7d0aa21fa\nCloses-Bug: #1892952\n'}]",0,748067,5f1e4811109e44a19503327a63ad0bce7fa0cbec,10,4,2,9414,,,0,"Add mysql_enable_ndb option

Add mysql_enable_ndb parameter to select mysql storage engine.

Change-Id: I4af38e4aa5f9a95e4b8d2542a3e4dff7d0aa21fa
Closes-Bug: #1892952
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/67/748067/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_db_spec.rb', 'manifests/db.pp', 'releasenotes/notes/add_mysql_enable_ndb-option-8b82c371ad16245a.yaml']",3,0af74ffbf4787c117ef9714eacf4b8f35572dc4a,bug/1892952,--- features: - | Add mysql_enable_ndb parameter to select mysql storage engine. ,,13,0
openstack%2Fpuppet-oslo~stable%2Fussuri~I1bb01ac84ca8d1a858d980a43414c71b6298ebaa,openstack/puppet-oslo,stable/ussuri,I1bb01ac84ca8d1a858d980a43414c71b6298ebaa,Add CentOS8 to nodesets,MERGED,2020-08-26 12:19:37.000000000,2020-08-26 14:27:19.000000000,2020-08-26 14:27:19.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:19:37.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/47619650007178603d0eedba4dc00cc917e2c3f5', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I1bb01ac84ca8d1a858d980a43414c71b6298ebaa\n(cherry picked from commit 480bb6a805602dcda48e139460590d578a48d32d)\n'}]",0,748173,47619650007178603d0eedba4dc00cc917e2c3f5,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I1bb01ac84ca8d1a858d980a43414c71b6298ebaa
(cherry picked from commit 480bb6a805602dcda48e139460590d578a48d32d)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/73/748173/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,47619650007178603d0eedba4dc00cc917e2c3f5,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-nova~stable%2Fussuri~Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac,openstack/puppet-nova,stable/ussuri,Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:45.000000000,2020-08-26 14:16:55.000000000,2020-08-26 14:16:55.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:45.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1980184749b4e3f1cdc58e81c69f6037f73fb7ab', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac\n(cherry picked from commit 2979bdbeb42808b894e64ace19f3a93308dcf763)\n'}]",0,748195,1980184749b4e3f1cdc58e81c69f6037f73fb7ab,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac
(cherry picked from commit 2979bdbeb42808b894e64ace19f3a93308dcf763)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/95/748195/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,1980184749b4e3f1cdc58e81c69f6037f73fb7ab,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fnova~master~Id39aaaac09585ca1a754b669351c86e234b89dd9,openstack/nova,master,Id39aaaac09585ca1a754b669351c86e234b89dd9,hardware: Reject requests for no hyperthreads on hosts with HT,MERGED,2020-07-30 17:14:35.000000000,2020-08-26 14:16:19.000000000,2020-08-26 14:11:04.000000000,"[{'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23950}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-30 17:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f298ef80f58bf6e3444a147c03a3e83308ce12a3', 'message': ""hardware: Reject requests for no hyperthreads on hosts with HT\n\nAttempting to boot an instance with 'hw:cpu_policy=dedicated' will\nresult in a request from nova-scheduler to placement for allocation\ncandidates with $flavor.vcpu 'PCPU' inventory. Similarly, booting an\ninstance with 'hw:cpu_thread_policy=isolate' will result in a request\nfor allocation candidates with 'HW_CPU_HYPERTHREADING=forbidden', i.e.\nhosts without hyperthreading. This has been the case since the\ncpu-resources feature was implemented in Train. However, as part of that\nwork and to enable upgrades from hosts that predated Train, we also make\na second request for candidates with $flavor.vcpu 'VCPU' inventory. The\nidea behind this is that old compute nodes would only report 'VCPU' and\nshould be useable, and any new compute nodes that got caught up in this\nsecond request could never actually be scheduled to since there wouldn't\nbe enough cores from 'ComputeNode.numa_topology.cells.[*].pcpuset'\navailable to schedule to, resulting in rejection by the\n'NUMATopologyFilter'. However, if a host was rejected in the first\nquery because it reported the 'HW_CPU_HYPERTHREADING' trait, it could\nget picked up by the second query and would happily be scheduled to,\nresulting in an instance consuming 'VCPU' inventory from a host that\nproperly supported 'PCPU' inventory.\n\nThe solution is simply, though also a huge hack. If we detect that the\nhost is using new style configuration and should be able to report\n'PCPU', check if the instance asked for no hyperthreading and whether\nthe host has it. If all are True, reject the request.\n\nChange-Id: Id39aaaac09585ca1a754b669351c86e234b89dd9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1889633\n""}, {'number': 2, 'created': '2020-07-31 12:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bf0922f95111503fa2c1deeb93a920528efcc5d', 'message': ""hardware: Reject requests for no hyperthreads on hosts with HT\n\nAttempting to boot an instance with 'hw:cpu_policy=dedicated' will\nresult in a request from nova-scheduler to placement for allocation\ncandidates with $flavor.vcpu 'PCPU' inventory. Similarly, booting an\ninstance with 'hw:cpu_thread_policy=isolate' will result in a request\nfor allocation candidates with 'HW_CPU_HYPERTHREADING=forbidden', i.e.\nhosts without hyperthreading. This has been the case since the\ncpu-resources feature was implemented in Train. However, as part of that\nwork and to enable upgrades from hosts that predated Train, we also make\na second request for candidates with $flavor.vcpu 'VCPU' inventory. The\nidea behind this is that old compute nodes would only report 'VCPU' and\nshould be useable, and any new compute nodes that got caught up in this\nsecond request could never actually be scheduled to since there wouldn't\nbe enough cores from 'ComputeNode.numa_topology.cells.[*].pcpuset'\navailable to schedule to, resulting in rejection by the\n'NUMATopologyFilter'. However, if a host was rejected in the first\nquery because it reported the 'HW_CPU_HYPERTHREADING' trait, it could\nget picked up by the second query and would happily be scheduled to,\nresulting in an instance consuming 'VCPU' inventory from a host that\nproperly supported 'PCPU' inventory.\n\nThe solution is simply, though also a huge hack. If we detect that the\nhost is using new style configuration and should be able to report\n'PCPU', check if the instance asked for no hyperthreading and whether\nthe host has it. If all are True, reject the request.\n\nChange-Id: Id39aaaac09585ca1a754b669351c86e234b89dd9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1889633\n""}, {'number': 3, 'created': '2020-07-31 12:31:28.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'releasenotes/notes/bug-1889633-37e524fb6c20fbdf.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c270332041d6b98951c0b57d7b344fd551a413c', 'message': ""hardware: Reject requests for no hyperthreads on hosts with HT\n\nAttempting to boot an instance with 'hw:cpu_policy=dedicated' will\nresult in a request from nova-scheduler to placement for allocation\ncandidates with $flavor.vcpu 'PCPU' inventory. Similarly, booting an\ninstance with 'hw:cpu_thread_policy=isolate' will result in a request\nfor allocation candidates with 'HW_CPU_HYPERTHREADING=forbidden', i.e.\nhosts without hyperthreading. This has been the case since the\ncpu-resources feature was implemented in Train. However, as part of that\nwork and to enable upgrades from hosts that predated Train, we also make\na second request for candidates with $flavor.vcpu 'VCPU' inventory. The\nidea behind this is that old compute nodes would only report 'VCPU' and\nshould be useable, and any new compute nodes that got caught up in this\nsecond request could never actually be scheduled to since there wouldn't\nbe enough cores from 'ComputeNode.numa_topology.cells.[*].pcpuset'\navailable to schedule to, resulting in rejection by the\n'NUMATopologyFilter'. However, if a host was rejected in the first\nquery because it reported the 'HW_CPU_HYPERTHREADING' trait, it could\nget picked up by the second query and would happily be scheduled to,\nresulting in an instance consuming 'VCPU' inventory from a host that\nproperly supported 'PCPU' inventory.\n\nThe solution is simply, though also a huge hack. If we detect that the\nhost is using new style configuration and should be able to report\n'PCPU', check if the instance asked for no hyperthreading and whether\nthe host has it. If all are True, reject the request.\n\nChange-Id: Id39aaaac09585ca1a754b669351c86e234b89dd9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1889633\n""}]",11,744021,9c270332041d6b98951c0b57d7b344fd551a413c,39,17,3,15334,,,0,"hardware: Reject requests for no hyperthreads on hosts with HT

Attempting to boot an instance with 'hw:cpu_policy=dedicated' will
result in a request from nova-scheduler to placement for allocation
candidates with $flavor.vcpu 'PCPU' inventory. Similarly, booting an
instance with 'hw:cpu_thread_policy=isolate' will result in a request
for allocation candidates with 'HW_CPU_HYPERTHREADING=forbidden', i.e.
hosts without hyperthreading. This has been the case since the
cpu-resources feature was implemented in Train. However, as part of that
work and to enable upgrades from hosts that predated Train, we also make
a second request for candidates with $flavor.vcpu 'VCPU' inventory. The
idea behind this is that old compute nodes would only report 'VCPU' and
should be useable, and any new compute nodes that got caught up in this
second request could never actually be scheduled to since there wouldn't
be enough cores from 'ComputeNode.numa_topology.cells.[*].pcpuset'
available to schedule to, resulting in rejection by the
'NUMATopologyFilter'. However, if a host was rejected in the first
query because it reported the 'HW_CPU_HYPERTHREADING' trait, it could
get picked up by the second query and would happily be scheduled to,
resulting in an instance consuming 'VCPU' inventory from a host that
properly supported 'PCPU' inventory.

The solution is simply, though also a huge hack. If we detect that the
host is using new style configuration and should be able to report
'PCPU', check if the instance asked for no hyperthreading and whether
the host has it. If all are True, reject the request.

Change-Id: Id39aaaac09585ca1a754b669351c86e234b89dd9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1889633
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/744021/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,f298ef80f58bf6e3444a147c03a3e83308ce12a3,bug/1889633," self._run_build_test(flavor_id, end_status='ERROR')"," # FIXME(stephenfin): This should go to error status since there should # be a host available expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 0, 'VCPU': 2} self._run_build_test(flavor_id, expected_usage=expected_usage)",23,5
openstack%2Fpuppet-swift~stable%2Fussuri~Ifeb96cf759613e52e92c88e52c235442dcf2907a,openstack/puppet-swift,stable/ussuri,Ifeb96cf759613e52e92c88e52c235442dcf2907a,Add CentOS8 to nodesets,MERGED,2020-08-26 12:24:10.000000000,2020-08-26 14:15:00.000000000,2020-08-26 14:15:00.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:24:10.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b2f6a1426869d91724ae29a7a46e562438a38543', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ifeb96cf759613e52e92c88e52c235442dcf2907a\n(cherry picked from commit 7f5b8f42201f2631a945bfd10860239ae98f46bf)\n'}]",0,748205,b2f6a1426869d91724ae29a7a46e562438a38543,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ifeb96cf759613e52e92c88e52c235442dcf2907a
(cherry picked from commit 7f5b8f42201f2631a945bfd10860239ae98f46bf)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/05/748205/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,b2f6a1426869d91724ae29a7a46e562438a38543,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fnova~master~I1ff51f608b85dbb621814e70079ecfdd3d1a1d22,openstack/nova,master,I1ff51f608b85dbb621814e70079ecfdd3d1a1d22,libvirt: Add emulated TPM support to Nova,MERGED,2019-01-17 01:30:48.000000000,2020-08-26 14:13:39.000000000,2020-08-26 14:10:33.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10343}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26477}, {'_account_id': 26515}, {'_account_id': 28931}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-01-17 01:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e3a53110ed8020eadb40bda77e6f00c3b4d16b1', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThe approved specification can be found at:\nhttps://specs.openstack.org/openstack/nova-specs/specs/stein/approved/add-emulated-virtual-tpm.html\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nThis code requires qemu 2.11 and libvirt 4.5.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntraits:COMPUTE_SECURITY_TPM_2_0 = required will enable vTPM 2.0 support\ntraits:COMPUTE_SECURITY_TPM_1_2 = required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB.\nThe model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS\nhw:tpm_model=CRB\nthe system will default to TIS.\n\nSupport for selecting those options using image properties has not\nbeen implemented yet, and will also be added when a stable platform\nis available.\n\nThis code will not change the behavior of the system when not\nenabled.\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\n'}, {'number': 2, 'created': '2019-01-18 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/810d3f5144c7c9d1bab394d446270109865609c8', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThe approved specification can be found at:\nhttps://specs.openstack.org/openstack/nova-specs/specs/stein/approved/add-emulated-virtual-tpm.html\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nThis code requires qemu 2.11 and libvirt 4.5.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntraits:COMPUTE_SECURITY_TPM_2_0 = required will enable vTPM 2.0 support\ntraits:COMPUTE_SECURITY_TPM_1_2 = required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB.\nThe model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS\nhw:tpm_model=CRB\nthe system will default to TIS.\n\nSupport for selecting those options using image properties has not\nbeen implemented yet, and will also be added when a stable platform\nis available.\n\nThis code will not change the behavior of the system when not\nenabled.\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\n'}, {'number': 3, 'created': '2019-01-18 21:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/beffbd18c530b190aabbe3130405b578c8286616', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nThis code requires qemu 2.11 and libvirt 4.5.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntraits:COMPUTE_SECURITY_TPM_2_0 = required will enable vTPM 2.0 support\ntraits:COMPUTE_SECURITY_TPM_1_2 = required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB. The model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS or hw:tpm_model=CRB. The system will default to TIS.\n\nSupport for selecting those options using image properties has not\nbeen implemented yet, and will also be added when a stable platform\nis available.\n\nThis code will not change the behavior of the system when not\nenabled.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\n'}, {'number': 4, 'created': '2019-01-22 21:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e6dd470ddd1057eb85f4f9dc7c93a856500620e', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nThis code requires qemu 2.11 and libvirt 4.5.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntraits:COMPUTE_SECURITY_TPM_2_0 = required will enable vTPM 2.0 support\ntraits:COMPUTE_SECURITY_TPM_1_2 = required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB. The model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS or hw:tpm_model=CRB. The system will default to TIS.\n\nSupport for selecting those options using image properties has not\nbeen implemented yet, and will also be added when a stable platform\nis available.\n\nThis code will not change the behavior of the system when not\nenabled.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\n'}, {'number': 5, 'created': '2019-01-24 15:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6483b65d9070f074227323eb6d5950008f279c4c', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nThis code requires qemu 2.11 and libvirt 4.5.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntraits:COMPUTE_SECURITY_TPM_2_0 = required will enable vTPM 2.0 support\ntraits:COMPUTE_SECURITY_TPM_1_2 = required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB. The model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS or hw:tpm_model=CRB. The system will default to TIS.\n\nSupport for selecting those options using image properties has not\nbeen implemented yet, and will also be added when a stable platform\nis available.\n\nThis code will not change the behavior of the system when not\nenabled.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\n'}, {'number': 6, 'created': '2019-02-12 18:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cc535e2cb3268fdd0cb434c685f93d0353ec214', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nThis code requires qemu 2.11 and libvirt 4.5.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntraits:COMPUTE_SECURITY_TPM_2_0 = required will enable vTPM 2.0 support\ntraits:COMPUTE_SECURITY_TPM_1_2 = required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB. The model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS or hw:tpm_model=CRB. The system will default to TIS.\n\nSupport for selecting those options using image properties has not\nbeen implemented yet, and will also be added when a stable platform\nis available.\n\nThis code will not change the behavior of the system when not\nenabled.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\n'}, {'number': 7, 'created': '2019-02-26 15:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec2a7feeed760463612aa96d6e35d8be8b05214d', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntraits:COMPUTE_SECURITY_TPM_2_0 = required will enable vTPM 2.0 support\ntraits:COMPUTE_SECURITY_TPM_1_2 = required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB. The model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS or hw:tpm_model=CRB. The system will default to TIS.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 8, 'created': '2019-02-26 18:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4734753758842cc8aa3847b1f3f2c8cda5da69f4', 'message': 'Add emulated TPM support to Nova\n\nThis commit adds support for emulated virtual TPM.\n\nThis version is curently for code review only.\nThe code is only partially tested because we do not yet\nhave a stable platform that meets the requirements.\nPartial testing done using devstack on Fedora29.\n\nThe code is also currently missing support for migration,\nfor the same reason. This will be implemented and added to\nthis review as soon as a usable platform is available.\n\nThis code allows to add virtual tpm support to a guest instance\nas described in the specs\nThe feature can be enabled by adding flavor extra-specs:\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available for the TPM device,\nTIS and CRB. The model can also be selected using flavor extra-specs:\nhw:tpm_model=TIS or hw:tpm_model=CRB. The system will default to TIS.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 9, 'created': '2019-02-26 21:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cd2861f457eba20c16adb7167add8eccf2ca105', 'message': 'Add emulated TPM support to Nova\n\nThe code is also currently missing support for migration.\nThis will be implemented and added to this review as soon as a\nusable platform is available.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nFor vTPM 2.0, there are two device models available, TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 10, 'created': '2019-02-28 07:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e37500a29f2b080e734f18d2900deed02b8e65e7', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 11, 'created': '2019-02-28 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c60d08063018641a4b9b9a081b9ea96f54b7892a', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 12, 'created': '2019-02-28 17:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/170d52a77694f4f92f1624f52326659a6ff19a70', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 13, 'created': '2019-02-28 19:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/495f051366eb6636280e393e8c5622fa107cd4e1', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 14, 'created': '2019-03-01 07:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a63cd29c2d3f39202a6a58081cc606a3b05b97e', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 15, 'created': '2019-03-01 16:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c30ddf1a56d2f322f67a1744386be9bf723f6058', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 16, 'created': '2019-03-01 23:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caf144dd656a1814993c1032cf9d102daef2380d', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 17, 'created': '2019-03-06 19:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23d7414626980dc1ad6bf92367d9ce2a5cdcac9c', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 18, 'created': '2019-03-08 06:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04c26a7f5850dc7592360d88e50c6a5f0b756797', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 19, 'created': '2019-03-08 06:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40efb765b1ed3e1e4b9268a841b05377bb3741bf', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 20, 'created': '2019-03-08 06:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8031d329f11320246412ff7bec1da26e1d88a71c', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 21, 'created': '2019-03-08 17:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cfde66b5e18c4d33f1f815367c3698629a369d6', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 22, 'created': '2019-03-11 06:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b790cb2a29a394dd81e481c2ddcf8e64f6117905', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 23, 'created': '2019-05-02 06:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58a208a99b7039e4abc91071867119b14937faf3', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 24, 'created': '2019-08-20 16:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed6dce38418003a0b8232541bf7fbe7b0f02b18e', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 25, 'created': '2019-08-23 15:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e572f8fc0ca1f5a114070438deeca5621e9cb557', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 26, 'created': '2019-08-24 01:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a923ad37eeeb5699fe8332e36670fcd3cc57de69', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 27, 'created': '2019-08-24 01:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8865ae835a25cb861ac755bf7f32da12cef3bc96', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 28, 'created': '2019-11-07 17:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1d86318dadfde24b3a883db1fff58349ba7636e', 'message': 'Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 29, 'created': '2019-11-13 00:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0712d5deae4e9bb36fa63abc96a2db4e28a96d44', 'message': 'WIP: Add emulated TPM support to Nova\n\nWIP: Right in the middle of stuff. Just saving my place.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 30, 'created': '2019-11-13 23:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/476062aad29e9e6acc7e6e95962ca60a24045f20', 'message': 'WIP: Add emulated TPM support to Nova\n\nWIP: Allllllmost done with the impl/docs. Tests pending. Saving my\nplace.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the specs.  Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nas a trait in either the flavor extra-specs or the image properties.\n\ntrait:COMPUTE_SECURITY_TPM_2_0=required will enable vTPM 2.0 support\ntrait:COMPUTE_SECURITY_TPM_1_2=required will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs by specifying hw:tpm_model=TIS or hw:tpm_model=CRB. The\nmodel can also be selected by specifying ""hw_tpm_model"" in the image\nproperties.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-compute.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nSigned-off-by: Paul-Emile Element <Paul-Emile.Element@windriver.com>\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n'}, {'number': 31, 'created': '2019-11-14 18:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21b9734c2c0e55a78b7f8f7632cb782592d5fd02', 'message': ""WIP: Add emulated TPM support to Nova\n\nWIP: Tests.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\nhw:tpm_version='2.0' will enable vTPM 2.0 support\nhw:tpm_version='1.2' will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs or image properties by specifying hw:tpm_model='tpm-tis' or\nhw:tpm_model='tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\n""}, {'number': 32, 'created': '2019-11-14 21:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/130ffa3f8f76a5f184fe5b12385f4332d5dd84eb', 'message': ""WIP: Add emulated TPM support to Nova\n\nWIP: Tests.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\nhw:tpm_version='2.0' will enable vTPM 2.0 support\nhw:tpm_version='1.2' will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs or image properties by specifying hw:tpm_model='tpm-tis' or\nhw:tpm_model='tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to\ncreate/retrieve a passphrase used to encrypt the virtual device data at\nrest.\n\n[1] https://review.opendev.org/686804\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\n""}, {'number': 33, 'created': '2020-01-22 18:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/428ec57fc3e4451f1a27cc5c466c4721081927ad', 'message': ""WIP: Add emulated TPM support to Nova\n\nWIP: Tests.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\nhw:tpm_version='2.0' will enable vTPM 2.0 support\nhw:tpm_version='1.2' will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs or image properties by specifying hw:tpm_model='tpm-tis' or\nhw:tpm_model='tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to\ncreate/retrieve a passphrase used to encrypt the virtual device data at\nrest.\n\n[1] https://review.opendev.org/686804\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nblueprint: add-emulated-virtual-tpm\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\n""}, {'number': 34, 'created': '2020-05-14 15:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e94df57f731ca4639484c0dafbbdb259567eb308', 'message': ""WIP: Add emulated TPM support to Nova\n\nWIP: Tests.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\nhw:tpm_version='2.0' will enable vTPM 2.0 support\nhw:tpm_version='1.2' will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available; TIS and CRB with\nTIS being the default. The model can be selected in the flavor\nextra-specs or image properties by specifying hw:tpm_model='tpm-tis' or\nhw:tpm_model='tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to\ncreate/retrieve a passphrase used to encrypt the virtual device data at\nrest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 35, 'created': '2020-05-15 16:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec8e66d43511ff6c4988491d99b2c3e059a71fec', 'message': ""WIP: Add emulated TPM support to Nova\n\nWIP: Tests.\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n  hw:tpm_version='2.0' will enable vTPM 2.0 support\n  hw:tpm_version='1.2' will enable vTPM 1.2 support\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 36, 'created': '2020-05-22 17:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25782abf4143d65d6e3e5d9f23a1c64f63c61d02', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 37, 'created': '2020-05-25 13:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ef99389320821b13c45c0aefc636cbc1fb93f3c', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 38, 'created': '2020-05-25 16:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7f2fbb9c2c94c0cc7ea289321f332d12852a64a', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 39, 'created': '2020-05-26 16:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbc55b89dbb7dc72829bf954dd2c7a06a4f7c5f5', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 40, 'created': '2020-05-27 12:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe4114a130c04b4034e66d0e67988eb2f4eb6568', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 41, 'created': '2020-05-28 15:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3c4741f2663afad80263532af57985d92b86526', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 42, 'created': '2020-05-28 17:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce2803ed68e50161efe10001b75a550ca25509aa', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 43, 'created': '2020-06-25 14:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a16297782cd7a44313e9cd8d0fade5431a2a218', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 44, 'created': '2020-07-02 12:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b77845b7c7505ac2c30bab3af76f35325189ba9', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 45, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c082ec8e16f08343380307800f96ae719d9a43c9', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 46, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4b97fcb0ec6bd6dda00ddbc304b3354f04a5f83', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 47, 'created': '2020-07-08 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa181cb8d5ff8df918cbc9e1cc369dd79a546079', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 48, 'created': '2020-07-09 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fcf31b4fcee7bfb68b180b808d6444f0911cec4', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 49, 'created': '2020-07-10 13:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a4d37be888f522125d09c40d2ce329c0a193946', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 50, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e9a41570937d316386ccf15264bbcd9df489c72', 'message': ""Add emulated TPM support to Nova\n\nThis code enables adding emulated TPM support to a guest instance\nas described in the spec [1]. Support for cold migration and resize is\nadded in a follow-on patch.\n\nThe feature can be requested by specifying the desired TPM version\nin either the flavor extra-specs or the image properties (keys for the\nlatter are the same but s/:/_/).\n\n- hw:tpm_version='2.0' (will enable vTPM 2.0 support)\n- hw:tpm_version='1.2' (will enable vTPM 1.2 support)\n\nIf the host supports new enough versions of libvirt and qemu and has\nthe necessary binaries installed it will advertise the above traits.\n\nFor vTPM 2.0, there are two device models available: TIS and CRB with\nTIS being the default. The model can be selected in the flavor extra\nspecs or image properties by specifying 'hw:tpm_model=tpm-tis' or\n'hw:tpm_model=tpm-crb'.\n\nIf the image properties and flavor extra-specs specify mutually-\nincompatible settings, an exception will be raised in nova-api.\n\nCreation of a guest with a vTPM requires access to a key manager\nfollowing the castellan API spec. The key manager is used to create and\nretrieve a passphrase used to encrypt the virtual device data at rest.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 51, 'created': '2020-07-16 17:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f84a114cb76476b553b025036798587e20a4136f', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 52, 'created': '2020-07-16 21:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd1a96a85360cd3fdea5c18182d23cb573137889', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 53, 'created': '2020-07-17 18:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcc4767a550d102221bb0cdf0b9013495aa4374d', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 54, 'created': '2020-07-24 11:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39e7af130d1cace55058b1be33931b803300e76b', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 55, 'created': '2020-07-31 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10c7f35f139eb8d24e3b95d516be968423e7b1d2', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 56, 'created': '2020-08-05 09:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afe97c133d3cb221171995c3ad6bc67fc893d61e', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 57, 'created': '2020-08-07 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3945c3068aea6bfe81c088b9a70020a2a0f7fae8', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 58, 'created': '2020-08-10 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b61a8494ed35782ca8d935feb7cb1e8871f20c17', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 59, 'created': '2020-08-17 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d66ec411f436e1836a8e29cfd56cb9f37bc8f7c', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 60, 'created': '2020-08-24 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/544bbc33819facc353e76d749f236e9262573eeb', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 61, 'created': '2020-08-25 17:00:58.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'releasenotes/notes/emulated-tpm-cb277659fc2f9660.yaml', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/libvirt/test_vtpm.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0ca2652eda52d26c8665e93e24d119901ae0fa4', 'message': 'libvirt: Add emulated TPM support to Nova\n\nPrevious patches added support for parsing the vTPM-related flavor extra\nspecs and image metadata properties, the necessary integrations with the\nCastellan key manager API etc. This change adds the ability to enable\nsupport in the libvirt driver and create guests with vTPM functionality\nenabled. Cold migration and resize are not yet supported. These will be\naddressed in follow-on changes.\n\nFunctional tests are included. These require expansion of the\nfakelibvirt stubs to implement basic secret management\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://review.opendev.org/686804\n\nChange-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\n'}]",142,631363,e0ca2652eda52d26c8665e93e24d119901ae0fa4,534,27,61,28931,,,0,"libvirt: Add emulated TPM support to Nova

Previous patches added support for parsing the vTPM-related flavor extra
specs and image metadata properties, the necessary integrations with the
Castellan key manager API etc. This change adds the ability to enable
support in the libvirt driver and create guests with vTPM functionality
enabled. Cold migration and resize are not yet supported. These will be
addressed in follow-on changes.

Functional tests are included. These require expansion of the
fakelibvirt stubs to implement basic secret management

Part of blueprint add-emulated-virtual-tpm

[1] https://review.opendev.org/686804

Change-Id: I1ff51f608b85dbb621814e70079ecfdd3d1a1d22
Co-Authored-By: Eric Fried <openstack@fried.cc>
Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/631363/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py']",2,0e3a53110ed8020eadb40bda77e6f00c3b4d16b1,bp/add-emulated-virtual-tpm,"class LibvirtConfigGuestVTPM(LibvirtConfigGuestDevice): def __init__(self, model=None, **kwargs): super(LibvirtConfigGuestVTPM, self).__init__(root_name=""tpm"", **kwargs) if model is not None and model not in ("""", ""TIS"", ""CRB""): msg = (_(""Invalid model definition %s for TPM."") % model) raise exception.InvalidInput(msg) if model == ""CRB"": self.model = ""tpm-crb"" else: self.model = ""tpm-tis"" def format_dom(self): dev = super(LibvirtConfigGuestVTPM, self).format_dom() dev.set(""model"", self.model) back = etree.Element(""backend"") back.set(""type"", ""emulator"") back.set(""version"", ""2.0"") dev.append(back) return dev class LibvirtConfigGuestVTPM_1_2(LibvirtConfigGuestDevice): def __init__(self, model=None, **kwargs): super(LibvirtConfigGuestVTPM_1_2, self).__init__(root_name=""tpm12"", **kwargs) if model is not None and model != ""TIS"": msg = (_(""Invalid model definition %s for TPM."") % model) raise exception.InvalidInput(msg) def format_dom(self): dev = super(LibvirtConfigGuestVTPM, self).format_dom() back = etree.Element(""backend"") back.set(""type"", ""emulator"") back.set(""version"", ""1.2"") dev.append(back) return dev ",,85,1
openstack%2Fnova~master~I87cd4d14192b1a40cbdca6e3af0f818f2cab613e,openstack/nova,master,I87cd4d14192b1a40cbdca6e3af0f818f2cab613e,tests: Add reproducer for bug #1889633,MERGED,2020-07-30 17:14:35.000000000,2020-08-26 14:10:54.000000000,2020-08-26 14:10:54.000000000,"[{'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-30 17:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a8134923bea9a580fb7cc20c5e31bfa2cf6bab8', 'message': ""tests: Add reproducer for bug #1889633\n\nDue to bug #1889633, we're currently able to end up on a host that has\nhyperthreads even though we requested hosts with hyperthreads using the\n'hw:cpu_thread_policy=isolate' extra spec.\n\nChange-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1889633\n""}, {'number': 2, 'created': '2020-07-31 12:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12b57bb679efe77d877a7e13d78ccb67628cefa8', 'message': 'tests: Add reproducer for bug #1889633\n\nWith the introduction of the cpu-resources work [1], (libvirt) hosts can\nnow report \'PCPU\' inventory separate from \'VCPU\' inventory, which is\nconsumed by instances with pinned CPUs (\'hw:cpu_policy=dedicated\'). As\npart of that effort, we had to drop support for the ability to boot\ninstances with \'hw:cpu_thread_policy=isolate\' (i.e. I don\'t want\nhyperthreads) on hosts with hyperthreading. This had been previously\nimplemented by marking thread siblings of the host cores used by such an\ninstance as reserved and unusable by other instances, but such a design\nwasn\'t possible in world where we had to track resource consumption in\nplacement before landing in the host. Instead, the \'isolate\' policy now\nsimply means ""give me a host without hyperthreads"". This is enforced by\nhosts with hyperthreads reporting the \'HW_CPU_HYPERTHREADING\' trait, and\ninstances with the \'isolate\' policy requesting\n\'HW_CPU_HYPERTHREADING=forbidden\'.\n\nOr at least, that\'s how it should work. We also have a fallback query\nfor placement to find hosts with \'VCPU\' inventory and that doesn\'t care\nabout the \'HW_CPU_HYPERTHREADING\' trait. This was envisioned to ensure\nhosts with old style configuration (\'[DEFAULT] vcpu_pin_set\') could\ncontinue to be scheduled to. We figured that this second fallback query\ncould accidentally pick up hosts with new-style configuration, but we\nare also tracking the available and used cores from those listed in the\n\'[compute] cpu_dedicated_set\' as part of the host \'NUMATopology\' objects\n(specifically, via the \'pcpuset\' and \'cpu_pinning\' fields of the\n\'NUMACell\' child objects). These are validated by both the\n\'NUMATopologyFilter\' and the virt driver itself, which means hosts with\nnew style configuration that got caught up in this second query would be\nrejected by this filter or by a late failure on the host. (Hint: there\'s\nmuch more detail on this in the spec).\n\nUnfortunately we didn\'t think about hyperthreading. If a host gets\npicked up in the second request, it might well have enough PCPU\ninventory but simply be rejected in the first query since it had\nhyperthreads. In this case, because it has enough free cores available\nfor pinning, neither the filter nor the virt driver will reject the\nrequest, resulting in a situation whereby the instance ends up falling\nback to the old code paths and consuming $flavor.vcpu host cores, plus\nthe thread siblings for each of these cores. Despite this, it will be\nmarked as consuming $flavor.vcpu VCPU (not PCPU) inventory in placement.\n\nThis patch proves this to be the case, allowing us to resolve the issue\nlater.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/cpu-resources.html\n\nChange-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1889633\n'}, {'number': 3, 'created': '2020-07-31 12:31:28.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/737e0c0111acd364d1481bdabd9d23bc8d5d6a2e', 'message': 'tests: Add reproducer for bug #1889633\n\nWith the introduction of the cpu-resources work [1], (libvirt) hosts can\nnow report \'PCPU\' inventory separate from \'VCPU\' inventory, which is\nconsumed by instances with pinned CPUs (\'hw:cpu_policy=dedicated\'). As\npart of that effort, we had to drop support for the ability to boot\ninstances with \'hw:cpu_thread_policy=isolate\' (i.e. I don\'t want\nhyperthreads) on hosts with hyperthreading. This had been previously\nimplemented by marking thread siblings of the host cores used by such an\ninstance as reserved and unusable by other instances, but such a design\nwasn\'t possible in world where we had to track resource consumption in\nplacement before landing in the host. Instead, the \'isolate\' policy now\nsimply means ""give me a host without hyperthreads"". This is enforced by\nhosts with hyperthreads reporting the \'HW_CPU_HYPERTHREADING\' trait, and\ninstances with the \'isolate\' policy requesting\n\'HW_CPU_HYPERTHREADING=forbidden\'.\n\nOr at least, that\'s how it should work. We also have a fallback query\nfor placement to find hosts with \'VCPU\' inventory and that doesn\'t care\nabout the \'HW_CPU_HYPERTHREADING\' trait. This was envisioned to ensure\nhosts with old style configuration (\'[DEFAULT] vcpu_pin_set\') could\ncontinue to be scheduled to. We figured that this second fallback query\ncould accidentally pick up hosts with new-style configuration, but we\nare also tracking the available and used cores from those listed in the\n\'[compute] cpu_dedicated_set\' as part of the host \'NUMATopology\' objects\n(specifically, via the \'pcpuset\' and \'cpu_pinning\' fields of the\n\'NUMACell\' child objects). These are validated by both the\n\'NUMATopologyFilter\' and the virt driver itself, which means hosts with\nnew style configuration that got caught up in this second query would be\nrejected by this filter or by a late failure on the host. (Hint: there\'s\nmuch more detail on this in the spec).\n\nUnfortunately we didn\'t think about hyperthreading. If a host gets\npicked up in the second request, it might well have enough PCPU\ninventory but simply be rejected in the first query since it had\nhyperthreads. In this case, because it has enough free cores available\nfor pinning, neither the filter nor the virt driver will reject the\nrequest, resulting in a situation whereby the instance ends up falling\nback to the old code paths and consuming $flavor.vcpu host cores, plus\nthe thread siblings for each of these cores. Despite this, it will be\nmarked as consuming $flavor.vcpu VCPU (not PCPU) inventory in placement.\n\nThis patch proves this to be the case, allowing us to resolve the issue\nlater.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/cpu-resources.html\n\nChange-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1889633\n'}]",20,744020,737e0c0111acd364d1481bdabd9d23bc8d5d6a2e,42,15,3,15334,,,0,"tests: Add reproducer for bug #1889633

With the introduction of the cpu-resources work [1], (libvirt) hosts can
now report 'PCPU' inventory separate from 'VCPU' inventory, which is
consumed by instances with pinned CPUs ('hw:cpu_policy=dedicated'). As
part of that effort, we had to drop support for the ability to boot
instances with 'hw:cpu_thread_policy=isolate' (i.e. I don't want
hyperthreads) on hosts with hyperthreading. This had been previously
implemented by marking thread siblings of the host cores used by such an
instance as reserved and unusable by other instances, but such a design
wasn't possible in world where we had to track resource consumption in
placement before landing in the host. Instead, the 'isolate' policy now
simply means ""give me a host without hyperthreads"". This is enforced by
hosts with hyperthreads reporting the 'HW_CPU_HYPERTHREADING' trait, and
instances with the 'isolate' policy requesting
'HW_CPU_HYPERTHREADING=forbidden'.

Or at least, that's how it should work. We also have a fallback query
for placement to find hosts with 'VCPU' inventory and that doesn't care
about the 'HW_CPU_HYPERTHREADING' trait. This was envisioned to ensure
hosts with old style configuration ('[DEFAULT] vcpu_pin_set') could
continue to be scheduled to. We figured that this second fallback query
could accidentally pick up hosts with new-style configuration, but we
are also tracking the available and used cores from those listed in the
'[compute] cpu_dedicated_set' as part of the host 'NUMATopology' objects
(specifically, via the 'pcpuset' and 'cpu_pinning' fields of the
'NUMACell' child objects). These are validated by both the
'NUMATopologyFilter' and the virt driver itself, which means hosts with
new style configuration that got caught up in this second query would be
rejected by this filter or by a late failure on the host. (Hint: there's
much more detail on this in the spec).

Unfortunately we didn't think about hyperthreading. If a host gets
picked up in the second request, it might well have enough PCPU
inventory but simply be rejected in the first query since it had
hyperthreads. In this case, because it has enough free cores available
for pinning, neither the filter nor the virt driver will reject the
request, resulting in a situation whereby the instance ends up falling
back to the old code paths and consuming $flavor.vcpu host cores, plus
the thread siblings for each of these cores. Despite this, it will be
marked as consuming $flavor.vcpu VCPU (not PCPU) inventory in placement.

This patch proves this to be the case, allowing us to resolve the issue
later.

[1] https://specs.openstack.org/openstack/nova-specs/specs/train/approved/cpu-resources.html

Change-Id: I87cd4d14192b1a40cbdca6e3af0f818f2cab613e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1889633
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/744020/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,4a8134923bea9a580fb7cc20c5e31bfa2cf6bab8,bug/1889633," def test_create_server_with_isolate_thread_policy_old_configuration(self): """"""Create a server with the legacy 'hw:cpu_thread_policy=isolate' extra spec and configuration. This should pass and result in an instance consuming $flavor.vcpu host cores plus the thread sibling(s) of each of these cores. We also be consuming VCPUs since we're on legacy configuration here, though that would in theory be fixed during a later reshape. """""" self.flags( cpu_dedicated_set=None, cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set='0-7') # host has hyperthreads, which means it should be rejected host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=(1024 * 1024 * 16), # GB ) fake_connection = self._get_connection(host_info=host_info) self.mock_conn.return_value = fake_connection extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'isolate', } flavor_id = self._create_flavor(vcpu=2, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'VCPU': 2} self._run_build_test(flavor_id, expected_usage=expected_usage) def test_create_server_with_isolate_thread_policy_fails(self): """"""Create a server with the legacy 'hw:cpu_thread_policy=isolate' extra spec. This should fail on a host with hyperthreading. """""" self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # host has hyperthreads, which means it should be rejected host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=(1024 * 1024 * 16), # GB ) fake_connection = self._get_connection(host_info=host_info) self.mock_conn.return_value = fake_connection extra_spec = { 'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'isolate', } flavor_id = self._create_flavor(vcpu=2, extra_spec=extra_spec) # FIXME(stephenfin): This should go to error status since there should # be a host available expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 0, 'VCPU': 2} self._run_build_test(flavor_id, expected_usage=expected_usage) ",,60,0
openstack%2Fpuppet-octavia~stable%2Fussuri~Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f,openstack/puppet-octavia,stable/ussuri,Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:59.000000000,2020-08-26 14:08:47.000000000,2020-08-26 14:08:47.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:59.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/cfd750c5528f3ad19c580ba1f36fb7db8221c5d9', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f\n(cherry picked from commit fd58b7e93752bbd8ec71790ae27dbfa456612e40)\n'}]",0,748197,cfd750c5528f3ad19c580ba1f36fb7db8221c5d9,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f
(cherry picked from commit fd58b7e93752bbd8ec71790ae27dbfa456612e40)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/97/748197/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,cfd750c5528f3ad19c580ba1f36fb7db8221c5d9,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-zaqar~stable%2Fussuri~Ib4b3793725af804cbc51d647efd510f8c718dc9f,openstack/puppet-zaqar,stable/ussuri,Ib4b3793725af804cbc51d647efd510f8c718dc9f,Add CentOS8 to nodesets,MERGED,2020-08-26 12:24:17.000000000,2020-08-26 14:04:49.000000000,2020-08-26 14:04:49.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:24:17.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/f73e61a63d9100585c199ee7bfb2d8ce626696c2', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib4b3793725af804cbc51d647efd510f8c718dc9f\n(cherry picked from commit 053157467c478a11c8108765643871e7ce4386f4)\n'}]",0,748206,f73e61a63d9100585c199ee7bfb2d8ce626696c2,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib4b3793725af804cbc51d647efd510f8c718dc9f
(cherry picked from commit 053157467c478a11c8108765643871e7ce4386f4)
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/06/748206/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,f73e61a63d9100585c199ee7bfb2d8ce626696c2,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-vitrage~stable%2Fussuri~I618cf784febb98cbc66e853f7df2b4ac23db91b6,openstack/puppet-vitrage,stable/ussuri,I618cf784febb98cbc66e853f7df2b4ac23db91b6,Add CentOS8 to nodesets,MERGED,2020-08-26 12:23:54.000000000,2020-08-26 14:04:21.000000000,2020-08-26 14:04:21.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:23:54.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/d990be268bf2d46b8179ce4c0d822948407b434d', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I618cf784febb98cbc66e853f7df2b4ac23db91b6\n(cherry picked from commit 470d6331057aa9a4da1d61c267e5fd26ba3f8f39)\n'}]",0,748203,d990be268bf2d46b8179ce4c0d822948407b434d,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I618cf784febb98cbc66e853f7df2b4ac23db91b6
(cherry picked from commit 470d6331057aa9a4da1d61c267e5fd26ba3f8f39)
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/03/748203/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,d990be268bf2d46b8179ce4c0d822948407b434d,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fos-brick~master~I45ac41509f8fec9eb8f57aa03bcfb439a361b561,openstack/os-brick,master,I45ac41509f8fec9eb8f57aa03bcfb439a361b561,Remove CORAID AOE connector,MERGED,2020-08-07 19:04:35.000000000,2020-08-26 14:02:55.000000000,2020-08-26 13:57:58.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 28522}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-07 19:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5cb31eccfc49b0b9c231fa566fd2fd5d4d7d601f', 'message': 'Remove CORAID AOE connector\n\nThe CORAID driver was removed many cycles ago. This cleans up os-brick\nand removes the unused connector.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I45ac41509f8fec9eb8f57aa03bcfb439a361b561\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-07 19:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2063c4748482c6b5097ad2c555d3048409c08802', 'message': 'Remove CORAID AOE connector\n\nThe CORAID driver was removed many cycles ago. This cleans up os-brick\nand removes the unused connector.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I45ac41509f8fec9eb8f57aa03bcfb439a361b561\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-08-07 20:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/49b27d6051c160608afdb736439942659ef52a71', 'message': 'Remove CORAID AOE connector\n\nThe CORAID driver was removed many cycles ago. This cleans up os-brick\nand removes the unused connector.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I45ac41509f8fec9eb8f57aa03bcfb439a361b561\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-08-25 20:44:28.000000000', 'files': ['os_brick/initiator/__init__.py', 'os_brick/tests/initiator/test_connector.py', 'doc/source/reference/os_brick/initiator/connector.rst', 'os_brick/initiator/connector.py', 'os_brick/tests/initiator/connectors/test_aoe.py', 'releasenotes/notes/remove-aoe-7a97315a73c7b24f.yaml', 'os_brick/initiator/connectors/aoe.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/360154bbf9f04030a56eec9c0705a73715c8d9f7', 'message': 'Remove CORAID AOE connector\n\nThe CORAID driver was removed many cycles ago. This cleans up os-brick\nand removes the unused connector.\n\nDepends-on: https://review.opendev.org/745393\n\nChange-Id: I45ac41509f8fec9eb8f57aa03bcfb439a361b561\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,745395,360154bbf9f04030a56eec9c0705a73715c8d9f7,43,18,4,11904,,,0,"Remove CORAID AOE connector

The CORAID driver was removed many cycles ago. This cleans up os-brick
and removes the unused connector.

Depends-on: https://review.opendev.org/745393

Change-Id: I45ac41509f8fec9eb8f57aa03bcfb439a361b561
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/95/745395/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/__init__.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connector.py', 'os_brick/tests/initiator/connectors/test_aoe.py', 'os_brick/initiator/connectors/aoe.py']",5,5cb31eccfc49b0b9c231fa566fd2fd5d4d7d601f,major-bump,,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from oslo_concurrency import lockutils from oslo_log import log as logging from oslo_service import loopingcall from os_brick import exception from os_brick import initiator from os_brick.initiator.connectors import base from os_brick import utils DEVICE_SCAN_ATTEMPTS_DEFAULT = 3 LOG = logging.getLogger(__name__) class AoEConnector(base.BaseLinuxConnector): """"""Connector class to attach/detach AoE volumes."""""" def __init__(self, root_helper, driver=None, device_scan_attempts=initiator.DEVICE_SCAN_ATTEMPTS_DEFAULT, *args, **kwargs): super(AoEConnector, self).__init__( root_helper, driver=driver, device_scan_attempts=device_scan_attempts, *args, **kwargs) @staticmethod def get_connector_properties(root_helper, *args, **kwargs): """"""The AoE connector properties."""""" return {} def get_search_path(self): return '/dev/etherd' def get_volume_paths(self, connection_properties): aoe_device, aoe_path = self._get_aoe_info(connection_properties) volume_paths = [] if os.path.exists(aoe_path): volume_paths.append(aoe_path) return volume_paths def _get_aoe_info(self, connection_properties): shelf = connection_properties['target_shelf'] lun = connection_properties['target_lun'] aoe_device = 'e%(shelf)s.%(lun)s' % {'shelf': shelf, 'lun': lun} path = self.get_search_path() aoe_path = '%(path)s/%(device)s' % {'path': path, 'device': aoe_device} return aoe_device, aoe_path @utils.trace @lockutils.synchronized('aoe_control', 'aoe-') def connect_volume(self, connection_properties): """"""Discover and attach the volume. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :returns: dict connection_properties for AoE must include: target_shelf - shelf id of volume target_lun - lun id of volume """""" aoe_device, aoe_path = self._get_aoe_info(connection_properties) device_info = { 'type': 'block', 'device': aoe_device, 'path': aoe_path, } if os.path.exists(aoe_path): self._aoe_revalidate(aoe_device) else: self._aoe_discover() waiting_status = {'tries': 0} # NOTE(jbr_): Device path is not always present immediately def _wait_for_discovery(aoe_path): if os.path.exists(aoe_path): raise loopingcall.LoopingCallDone if waiting_status['tries'] >= self.device_scan_attempts: raise exception.VolumeDeviceNotFound(device=aoe_path) LOG.info(""AoE volume not yet found at: %(path)s. "" ""Try number: %(tries)s"", {'path': aoe_device, 'tries': waiting_status['tries']}) self._aoe_discover() waiting_status['tries'] += 1 timer = loopingcall.FixedIntervalLoopingCall(_wait_for_discovery, aoe_path) timer.start(interval=2).wait() if waiting_status['tries']: LOG.debug(""Found AoE device %(path)s "" ""(after %(tries)s rediscover)"", {'path': aoe_path, 'tries': waiting_status['tries']}) return device_info @utils.trace @lockutils.synchronized('aoe_control', 'aoe-') def disconnect_volume(self, connection_properties, device_info, force=False, ignore_errors=False): """"""Detach and flush the volume. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :param device_info: historical difference, but same as connection_props :type device_info: dict connection_properties for AoE must include: target_shelf - shelf id of volume target_lun - lun id of volume """""" aoe_device, aoe_path = self._get_aoe_info(connection_properties) if os.path.exists(aoe_path): self._aoe_flush(aoe_device) def _aoe_discover(self): (out, err) = self._execute('aoe-discover', run_as_root=True, root_helper=self._root_helper, check_exit_code=0) LOG.debug('aoe-discover: stdout=%(out)s stderr%(err)s', {'out': out, 'err': err}) def _aoe_revalidate(self, aoe_device): (out, err) = self._execute('aoe-revalidate', aoe_device, run_as_root=True, root_helper=self._root_helper, check_exit_code=0) LOG.debug('aoe-revalidate %(dev)s: stdout=%(out)s stderr%(err)s', {'dev': aoe_device, 'out': out, 'err': err}) def _aoe_flush(self, aoe_device): (out, err) = self._execute('aoe-flush', aoe_device, run_as_root=True, root_helper=self._root_helper, check_exit_code=0) LOG.debug('aoe-flush %(dev)s: stdout=%(out)s stderr%(err)s', {'dev': aoe_device, 'out': out, 'err': err}) def extend_volume(self, connection_properties): # TODO(walter-boring): is this possible? raise NotImplementedError ",0,284
openstack%2Fkolla-ansible~master~I54629656803c4989f7673e8c69d2a820609b5960,openstack/kolla-ansible,master,I54629656803c4989f7673e8c69d2a820609b5960,Use iSCSI multipath for libvirt,MERGED,2020-01-02 16:12:49.000000000,2020-08-26 14:00:10.000000000,2020-08-26 13:57:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-01-02 16:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47a3a1443f0ddd52a44a429611b26e592feabadc', 'message': 'Enable libvirt multipath ISCSI in nova multipathd is enabled\n\n* Add a condition when enable_multipathd is set to ""yes"" to set iscsi_use_multipath = True in [libvirt] section\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: nova-libvirt-multipath-iscsi\n'}, {'number': 2, 'created': '2020-01-02 16:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/619cf640f2ded7630374f768d09185b35bf3fc2c', 'message': 'Enable libvirt multipath ISCSI in nova multipathd is enabled\n\n* Add a condition when enable_multipathd is set to ""yes""\nto insert ""iscsi_use_multipath = True"" in [libvirt] section.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: nova-libvirt-multipath-iscsi\n'}, {'number': 3, 'created': '2020-01-09 15:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/413e78a3b596527569dd6b821550345c1fdd87b4', 'message': 'Use ISCSI multipaths for libvirt\n\n* Multipathd daemon allows to reach block devices\nvia multiple paths for better resiliency and performance.\nMultipathd periodically checks the failed iscsi paths\nand maintains a list of valid paths. Libvirt can use more\nthan one iscsi path when option iscsi_use_multipath\nis enabled.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: nova-libvirt-multipath-iscsi\n'}, {'number': 4, 'created': '2020-01-10 13:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52372f32d45dd582c5bad836c8f1b8ffd71a3cf9', 'message': 'Use ISCSI multipaths for libvirt\n\n* Multipathd daemon allows to reach block devices\nvia multiple paths for better resiliency and performance.\nMultipathd periodically checks the failed iscsi paths\nand maintains a list of valid paths. Libvirt can use more\nthan one iscsi path when option iscsi_use_multipath\nwhen enabled.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: nova-libvirt-multipath-iscsi\n'}, {'number': 5, 'created': '2020-01-16 09:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c42f2c826d5524387816a02d9a11754b25527522', 'message': 'Use ISCSI multipaths for libvirt\n\n* Multipathd daemon allows to reach block devices\nvia multiple paths for better resiliency and performance.\nMultipathd periodically checks the failed iscsi paths\nand maintains a list of valid paths. Libvirt can use more\nthan one iscsi path when option volume_use_multipath\nwhen multipathd enabled.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: nova-libvirt-multipath-iscsi\n'}, {'number': 6, 'created': '2020-01-16 09:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ff4fbd550ef113aa8f5deff07c14f7f2d89d327', 'message': 'Use ISCSI multipaths for libvirt\n\n* Multipathd daemon allows to reach block devices\nvia multiple paths for better resiliency and performance.\nMultipathd periodically checks the failed iscsi paths\nand maintains a list of valid paths. Libvirt can use more\nthan one iscsi path when option volume_use_multipath is set\nand when multipathd enabled.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: nova-libvirt-multipath-iscsi\n'}, {'number': 7, 'created': '2020-01-22 15:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5431197b68b6014a2d090329cc35d4939d847090', 'message': 'Use iSCSI multipath for libvirt\n\n* Multipath daemon allows to reach block devices\nvia multiple paths for better resiliency and performance.\nMultipathd periodically checks the failed iscsi paths\nand maintains a list of valid paths. Libvirt can use more\nthan one iSCSI path when option volume_use_multipath is set\nand when multipathd enabled.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: blueprint nova-libvirt-multipath-iscsi\n'}, {'number': 8, 'created': '2020-08-18 18:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e19044875971f7dfc0b7d139e9be4c262c77494', 'message': 'Use iSCSI multipath for libvirt\n\n* Multipath daemon allows to reach block devices\nvia multiple paths for better resiliency and performance.\nMultipathd periodically checks the failed iscsi paths\nand maintains a list of valid paths. Libvirt can use more\nthan one iSCSI path when option volume_use_multipath is set\nand when multipathd enabled.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: blueprint nova-libvirt-multipath-iscsi\n'}, {'number': 9, 'created': '2020-08-19 07:24:51.000000000', 'files': ['releasenotes/notes/nova-libvirt-multipath-iscsi-eb961e44e6fec9ff.yaml', 'ansible/roles/nova-cell/templates/nova.conf.d/libvirt.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56710de59d50402c7e84365116b7f16f8a12e388', 'message': 'Use iSCSI multipath for libvirt\n\n* Multipath daemon allows to reach block devices\nvia multiple paths for better resiliency and performance.\nMultipathd periodically checks the failed iscsi paths\nand maintains a list of valid paths. Libvirt can use more\nthan one iSCSI path when option volume_use_multipath is set\nand when multipathd enabled.\n\nChange-Id: I54629656803c4989f7673e8c69d2a820609b5960\nImplements: blueprint nova-libvirt-multipath-iscsi\n'}]",12,700910,56710de59d50402c7e84365116b7f16f8a12e388,36,7,9,31357,,,0,"Use iSCSI multipath for libvirt

* Multipath daemon allows to reach block devices
via multiple paths for better resiliency and performance.
Multipathd periodically checks the failed iscsi paths
and maintains a list of valid paths. Libvirt can use more
than one iSCSI path when option volume_use_multipath is set
and when multipathd enabled.

Change-Id: I54629656803c4989f7673e8c69d2a820609b5960
Implements: blueprint nova-libvirt-multipath-iscsi
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/700910/7 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-cell/templates/nova.conf.d/libvirt.conf.j2'],1,47a3a1443f0ddd52a44a429611b26e592feabadc,bp/nova-libvirt-multipath-iscsi,{% if enable_multipathd | bool %} iscsi_use_multipath = True {% endif %},,3,0
openstack%2Fpuppet-sahara~stable%2Fussuri~I6c765321f45229823f0f06ae0ed0901bb34de62d,openstack/puppet-sahara,stable/ussuri,I6c765321f45229823f0f06ae0ed0901bb34de62d,Add CentOS8 to nodesets,MERGED,2020-08-26 12:24:03.000000000,2020-08-26 13:51:39.000000000,2020-08-26 13:51:39.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:24:03.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/dc0e9a1bbd40570a66c1f1f593eb1bcc14d701d3', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I6c765321f45229823f0f06ae0ed0901bb34de62d\n(cherry picked from commit 0aa5061076253c806cd5e1f8a8b8bb2864cdd1ba)\n'}]",0,748204,dc0e9a1bbd40570a66c1f1f593eb1bcc14d701d3,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I6c765321f45229823f0f06ae0ed0901bb34de62d
(cherry picked from commit 0aa5061076253c806cd5e1f8a8b8bb2864cdd1ba)
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/04/748204/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,dc0e9a1bbd40570a66c1f1f593eb1bcc14d701d3,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-cloudkitty~stable%2Fussuri~Id94dac48982f41ff452897ec08320e90785898dd,openstack/puppet-cloudkitty,stable/ussuri,Id94dac48982f41ff452897ec08320e90785898dd,Add CentOS8 to nodesets,MERGED,2020-08-26 12:21:37.000000000,2020-08-26 13:51:14.000000000,2020-08-26 13:51:14.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:21:37.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/7a58b88f491e8e963eec57c7d9951bc11b9c003b', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Id94dac48982f41ff452897ec08320e90785898dd\n(cherry picked from commit 4ec71eb62260f319419ed09058d774b638a5cffc)\n'}]",0,748186,7a58b88f491e8e963eec57c7d9951bc11b9c003b,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Id94dac48982f41ff452897ec08320e90785898dd
(cherry picked from commit 4ec71eb62260f319419ed09058d774b638a5cffc)
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/86/748186/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,7a58b88f491e8e963eec57c7d9951bc11b9c003b,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-manila~stable%2Fussuri~I0862109f259a40afeff9943f5283a6bbe81b7c2d,openstack/puppet-manila,stable/ussuri,I0862109f259a40afeff9943f5283a6bbe81b7c2d,Add CentOS8 to nodesets,MERGED,2020-08-26 12:21:45.000000000,2020-08-26 13:48:51.000000000,2020-08-26 13:48:51.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:21:45.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/d305361064514c9d2d3a6bddd4ee0c4e5bed397c', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I0862109f259a40afeff9943f5283a6bbe81b7c2d\n(cherry picked from commit f0d5df1c411e645569eca65a19bbad497cc38d67)\n'}]",0,748187,d305361064514c9d2d3a6bddd4ee0c4e5bed397c,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I0862109f259a40afeff9943f5283a6bbe81b7c2d
(cherry picked from commit f0d5df1c411e645569eca65a19bbad497cc38d67)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/87/748187/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,d305361064514c9d2d3a6bddd4ee0c4e5bed397c,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-heat~stable%2Fussuri~Icaba85b9bc063c10ff27bf5330f75f9f430c3847,openstack/puppet-heat,stable/ussuri,Icaba85b9bc063c10ff27bf5330f75f9f430c3847,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:36.000000000,2020-08-26 13:48:46.000000000,2020-08-26 13:48:46.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:36.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/eb0ad88a4bbc130b3b8412916aa2d9cd6c19ec71', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Icaba85b9bc063c10ff27bf5330f75f9f430c3847\n(cherry picked from commit cb148c24b67da49002181be353a899d121129ace)\n'}]",0,748194,eb0ad88a4bbc130b3b8412916aa2d9cd6c19ec71,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Icaba85b9bc063c10ff27bf5330f75f9f430c3847
(cherry picked from commit cb148c24b67da49002181be353a899d121129ace)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/94/748194/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,eb0ad88a4bbc130b3b8412916aa2d9cd6c19ec71,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-tacker~stable%2Fussuri~If703010127e73d426790721b3717f2a53a1bec24,openstack/puppet-tacker,stable/ussuri,If703010127e73d426790721b3717f2a53a1bec24,Add CentOS8 to nodesets,MERGED,2020-08-26 12:23:39.000000000,2020-08-26 13:48:34.000000000,2020-08-26 13:48:34.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:23:39.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/2031fdf2af7052e35bfbaf9e1dfa3bccfbbbf795', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: If703010127e73d426790721b3717f2a53a1bec24\n(cherry picked from commit 6647b90a62b11c5848ecadeb85dc958e05f37365)\n'}]",0,748201,2031fdf2af7052e35bfbaf9e1dfa3bccfbbbf795,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: If703010127e73d426790721b3717f2a53a1bec24
(cherry picked from commit 6647b90a62b11c5848ecadeb85dc958e05f37365)
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/01/748201/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,2031fdf2af7052e35bfbaf9e1dfa3bccfbbbf795,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~Ieaf2caa8500427cfdcf5fcef26c385399797566b,openstack/puppet-openstack_extras,stable/ussuri,Ieaf2caa8500427cfdcf5fcef26c385399797566b,Add CentOS8 to nodesets,MERGED,2020-08-26 12:20:13.000000000,2020-08-26 13:48:12.000000000,2020-08-26 13:48:12.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:20:13.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ddb987d93c42dce9c12a7156897f5d6e1c228da1', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ieaf2caa8500427cfdcf5fcef26c385399797566b\n(cherry picked from commit 479dcf984875b8ada2088fbe1e8f42feb350d190)\n'}]",0,748178,ddb987d93c42dce9c12a7156897f5d6e1c228da1,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ieaf2caa8500427cfdcf5fcef26c385399797566b
(cherry picked from commit 479dcf984875b8ada2088fbe1e8f42feb350d190)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/78/748178/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,ddb987d93c42dce9c12a7156897f5d6e1c228da1,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f,openstack/puppet-openstack_extras,stable/ussuri,Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f,Fix missing notification to trigger yum update,MERGED,2020-08-25 13:50:49.000000000,2020-08-26 13:48:12.000000000,2020-08-26 13:48:12.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:50:49.000000000', 'files': ['manifests/repo/redhat/redhat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/39d8bd4849c294029773c861e252b63922b806c1', 'message': 'Fix missing notification to trigger yum update\n\nChange-Id: Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f\n(cherry picked from commit 83eb9d7a861aab25b58f1724f4fe26d2af2c9506)\n'}]",0,747955,39d8bd4849c294029773c861e252b63922b806c1,9,4,1,9816,,,0,"Fix missing notification to trigger yum update

Change-Id: Id5dc186f88b0cf78607ac7e66d1d32e8534cd34f
(cherry picked from commit 83eb9d7a861aab25b58f1724f4fe26d2af2c9506)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/55/747955/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/redhat.pp'],1,39d8bd4849c294029773c861e252b63922b806c1,centos8-beaker-stable/ussuri, Exec['yum_refresh'] ~> Exec['yum_update'] -> Package <||>, Exec['yum_refresh'] -> Exec['yum_update'] -> Package <||>,1,1
openstack%2Fpuppet-ec2api~stable%2Fussuri~Ie3e3351058271288c726c046e4c8d912996169ea,openstack/puppet-ec2api,stable/ussuri,Ie3e3351058271288c726c046e4c8d912996169ea,Add CentOS8 to nodesets,MERGED,2020-08-26 12:20:50.000000000,2020-08-26 13:45:56.000000000,2020-08-26 13:45:56.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:20:50.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/f59df6cef32561c5f47e9e64a4c0dd9f3cf97307', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ie3e3351058271288c726c046e4c8d912996169ea\n(cherry picked from commit 6aaadbe70e292f627018309b4c416136f9658572)\n'}]",0,748183,f59df6cef32561c5f47e9e64a4c0dd9f3cf97307,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ie3e3351058271288c726c046e4c8d912996169ea
(cherry picked from commit 6aaadbe70e292f627018309b4c416136f9658572)
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/83/748183/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,f59df6cef32561c5f47e9e64a4c0dd9f3cf97307,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-glance~stable%2Fussuri~I84e9c5ec9cc2495c8c60d1dd95837c636c708e16,openstack/puppet-glance,stable/ussuri,I84e9c5ec9cc2495c8c60d1dd95837c636c708e16,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:06.000000000,2020-08-26 13:45:35.000000000,2020-08-26 13:45:35.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:06.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/6d91c6f253d613a16eaa5e540416b3094a83fadc', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I84e9c5ec9cc2495c8c60d1dd95837c636c708e16\n(cherry picked from commit 8c845636dbcd5ae531b30feac1cd8f560adb9b71)\n'}]",0,748190,6d91c6f253d613a16eaa5e540416b3094a83fadc,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I84e9c5ec9cc2495c8c60d1dd95837c636c708e16
(cherry picked from commit 8c845636dbcd5ae531b30feac1cd8f560adb9b71)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/90/748190/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,6d91c6f253d613a16eaa5e540416b3094a83fadc,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-watcher~stable%2Fussuri~I80e42e6dabb0727cd12240e46911784e52ccf9cc,openstack/puppet-watcher,stable/ussuri,I80e42e6dabb0727cd12240e46911784e52ccf9cc,Add CentOS8 to nodesets,MERGED,2020-08-26 12:23:47.000000000,2020-08-26 13:43:26.000000000,2020-08-26 13:43:26.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:23:47.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/f26ae0ff54ecbc86bb17f681f48cb681e6fd9199', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I80e42e6dabb0727cd12240e46911784e52ccf9cc\n(cherry picked from commit ab01a4a94daaa0b8375bb07c8f79048fc446931b)\n'}]",0,748202,f26ae0ff54ecbc86bb17f681f48cb681e6fd9199,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I80e42e6dabb0727cd12240e46911784e52ccf9cc
(cherry picked from commit ab01a4a94daaa0b8375bb07c8f79048fc446931b)
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/02/748202/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,f26ae0ff54ecbc86bb17f681f48cb681e6fd9199,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-trove~stable%2Fussuri~Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9,openstack/puppet-trove,stable/ussuri,Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9,Add CentOS8 to nodesets,MERGED,2020-08-26 12:23:31.000000000,2020-08-26 13:43:26.000000000,2020-08-26 13:43:26.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:23:31.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/9b97837fca6ae12d282b19f8a4306314408505c8', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9\n(cherry picked from commit b1fa577e77c5cc01dc5d7a0e69d87cbf533c5197)\n'}]",0,748199,9b97837fca6ae12d282b19f8a4306314408505c8,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9
(cherry picked from commit b1fa577e77c5cc01dc5d7a0e69d87cbf533c5197)
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/99/748199/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,9b97837fca6ae12d282b19f8a4306314408505c8,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-neutron~stable%2Fussuri~I2d99977e814f669db59f4b5185f54b05cd723488,openstack/puppet-neutron,stable/ussuri,I2d99977e814f669db59f4b5185f54b05cd723488,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:20.000000000,2020-08-26 13:43:25.000000000,2020-08-26 13:43:25.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:20.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/78ba0eeb3f43c8bf17537eb9a185f7afd7eb8c4f', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I2d99977e814f669db59f4b5185f54b05cd723488\n(cherry picked from commit d16a33c82b682ae1f6a15d50c511f0991a0c2907)\n'}]",0,748192,78ba0eeb3f43c8bf17537eb9a185f7afd7eb8c4f,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I2d99977e814f669db59f4b5185f54b05cd723488
(cherry picked from commit d16a33c82b682ae1f6a15d50c511f0991a0c2907)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/92/748192/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,78ba0eeb3f43c8bf17537eb9a185f7afd7eb8c4f,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-mistral~stable%2Fussuri~I5a00c7877c1c951cc13d9691c62376598cb95605,openstack/puppet-mistral,stable/ussuri,I5a00c7877c1c951cc13d9691c62376598cb95605,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:13.000000000,2020-08-26 13:43:24.000000000,2020-08-26 13:43:24.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:13.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/7f53aa1e64849003f7bfb9c6b9d826141785f0b1', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I5a00c7877c1c951cc13d9691c62376598cb95605\n(cherry picked from commit 287b696a57d8afd93b75c7e0db7d88d37d830106)\n'}]",0,748191,7f53aa1e64849003f7bfb9c6b9d826141785f0b1,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I5a00c7877c1c951cc13d9691c62376598cb95605
(cherry picked from commit 287b696a57d8afd93b75c7e0db7d88d37d830106)
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/91/748191/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,7f53aa1e64849003f7bfb9c6b9d826141785f0b1,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-magnum~stable%2Fussuri~Iae6bc407588ea025a52b1a4e42c43deecce29cc9,openstack/puppet-magnum,stable/ussuri,Iae6bc407588ea025a52b1a4e42c43deecce29cc9,Add CentOS8 to nodesets,MERGED,2020-08-26 12:21:52.000000000,2020-08-26 13:43:24.000000000,2020-08-26 13:43:24.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:21:52.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/f2eea31735bc5e570f8fdbc99c0d8fce069474e4', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Iae6bc407588ea025a52b1a4e42c43deecce29cc9\n(cherry picked from commit a8cdfc42663e450589d9ca47d6f6ddc59bd2e87c)\n'}]",0,748188,f2eea31735bc5e570f8fdbc99c0d8fce069474e4,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Iae6bc407588ea025a52b1a4e42c43deecce29cc9
(cherry picked from commit a8cdfc42663e450589d9ca47d6f6ddc59bd2e87c)
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/88/748188/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,f2eea31735bc5e570f8fdbc99c0d8fce069474e4,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-horizon~stable%2Fussuri~Ica172c756425a6bd971f08d2eb2ed73b02fe325d,openstack/puppet-horizon,stable/ussuri,Ica172c756425a6bd971f08d2eb2ed73b02fe325d,Add CentOS8 to nodesets,MERGED,2020-08-26 12:21:25.000000000,2020-08-26 13:42:12.000000000,2020-08-26 13:42:12.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:21:25.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/2a9c8eaa04a43ed3e231069a1b5a22f1f3568bbc', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ica172c756425a6bd971f08d2eb2ed73b02fe325d\n(cherry picked from commit ce43c2c06f1388e914c2109e859dd531929249cb)\n'}]",0,748184,2a9c8eaa04a43ed3e231069a1b5a22f1f3568bbc,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ica172c756425a6bd971f08d2eb2ed73b02fe325d
(cherry picked from commit ce43c2c06f1388e914c2109e859dd531929249cb)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/84/748184/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,2a9c8eaa04a43ed3e231069a1b5a22f1f3568bbc,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-ironic~stable%2Fussuri~I283a1e3766764391a551df348ad3d95087568640,openstack/puppet-ironic,stable/ussuri,I283a1e3766764391a551df348ad3d95087568640,Add CentOS8 to nodesets,MERGED,2020-08-26 12:21:57.000000000,2020-08-26 13:41:31.000000000,2020-08-26 13:41:31.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:21:57.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/08dfb000d8bba49e4b6bce04b8ff13a9b5c89101', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I283a1e3766764391a551df348ad3d95087568640\n(cherry picked from commit ede867e007a958114fcd1524a4680245e6a3edbb)\n'}]",0,748189,08dfb000d8bba49e4b6bce04b8ff13a9b5c89101,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I283a1e3766764391a551df348ad3d95087568640
(cherry picked from commit ede867e007a958114fcd1524a4680245e6a3edbb)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/89/748189/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,08dfb000d8bba49e4b6bce04b8ff13a9b5c89101,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-panko~stable%2Fussuri~I21c6872a7132f899790f28cacfbfdce804075faf,openstack/puppet-panko,stable/ussuri,I21c6872a7132f899790f28cacfbfdce804075faf,Add CentOS8 to nodesets,MERGED,2020-08-26 12:23:06.000000000,2020-08-26 13:40:14.000000000,2020-08-26 13:40:14.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:23:06.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/4712c01716f9e39eb38ca51082480c7bb1699625', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I21c6872a7132f899790f28cacfbfdce804075faf\n(cherry picked from commit 59f6f79f9c118fac7a9ebd9a3d7a4962cb8c31a4)\n'}]",0,748198,4712c01716f9e39eb38ca51082480c7bb1699625,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I21c6872a7132f899790f28cacfbfdce804075faf
(cherry picked from commit 59f6f79f9c118fac7a9ebd9a3d7a4962cb8c31a4)
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/98/748198/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,4712c01716f9e39eb38ca51082480c7bb1699625,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-gnocchi~stable%2Fussuri~Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b,openstack/puppet-gnocchi,stable/ussuri,Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b,Add CentOS8 to nodesets,MERGED,2020-08-26 12:21:31.000000000,2020-08-26 13:40:00.000000000,2020-08-26 13:40:00.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:21:31.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/d03df64c4ead37404b5c43bf6a331edf8503cc3b', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b\n(cherry picked from commit 80baf67da71946770e806f0ed664e20526dd39f1)\n'}]",0,748185,d03df64c4ead37404b5c43bf6a331edf8503cc3b,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b
(cherry picked from commit 80baf67da71946770e806f0ed664e20526dd39f1)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/85/748185/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,d03df64c4ead37404b5c43bf6a331edf8503cc3b,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fkolla-ansible~master~Ia372b1b73afc0bea6a68dcd156cf963c01e3f3ab,openstack/kolla-ansible,master,Ia372b1b73afc0bea6a68dcd156cf963c01e3f3ab,Update conf for magnum,MERGED,2020-08-03 02:39:46.000000000,2020-08-26 13:39:09.000000000,2020-08-26 13:37:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-03 02:39:46.000000000', 'files': ['ansible/roles/magnum/templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/908845d32ec4869fe132fc70a5062407dae20c6b', 'message': 'Update conf for magnum\n\nDeprecated: Option ""cafile"" from group ""keystone_authtoken"" is deprecated.\nUse option ""cafile"" from group ""keystone_auth"".\n\nChange-Id: Ia372b1b73afc0bea6a68dcd156cf963c01e3f3ab\n'}]",0,744387,908845d32ec4869fe132fc70a5062407dae20c6b,11,5,1,32029,,,0,"Update conf for magnum

Deprecated: Option ""cafile"" from group ""keystone_authtoken"" is deprecated.
Use option ""cafile"" from group ""keystone_auth"".

Change-Id: Ia372b1b73afc0bea6a68dcd156cf963c01e3f3ab
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/744387/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/magnum/templates/magnum.conf.j2'],1,908845d32ec4869fe132fc70a5062407dae20c6b,magnum_conf_update,cafile = {{ openstack_cacert }},cafile = {{ openstack_cacert }},1,1
openstack%2Fpuppet-tempest~stable%2Fussuri~I49eaffa8e915208d2c97185b1c326f41a8df468c,openstack/puppet-tempest,stable/ussuri,I49eaffa8e915208d2c97185b1c326f41a8df468c,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:52.000000000,2020-08-26 13:39:08.000000000,2020-08-26 13:39:08.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:52.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/ea0179de1fe2c4126842b2cf8b2c390ddae9129b', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I49eaffa8e915208d2c97185b1c326f41a8df468c\n(cherry picked from commit 660af14ec99742013b23c06a36c9d5f00b14279d)\n'}]",0,748196,ea0179de1fe2c4126842b2cf8b2c390ddae9129b,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I49eaffa8e915208d2c97185b1c326f41a8df468c
(cherry picked from commit 660af14ec99742013b23c06a36c9d5f00b14279d)
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/96/748196/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,ea0179de1fe2c4126842b2cf8b2c390ddae9129b,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fkolla-ansible~master~I838e526b930d5276d3ce24f5188262af7eb33280,openstack/kolla-ansible,master,I838e526b930d5276d3ce24f5188262af7eb33280,Fix tz handling for newly introduced services,MERGED,2020-08-18 19:29:30.000000000,2020-08-26 13:37:25.000000000,2020-08-26 13:35:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-18 19:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79082bb3b4439cb20bb619bd6b8355fb8f42404f', 'message': 'Fix tz handling for newly introduced services\n\nWe missed to ensure new neutron switch use the new condition for\ntimezone file mounting.\n\nChange-Id: I838e526b930d5276d3ce24f5188262af7eb33280\nCloses-Bug: #1882553\n'}, {'number': 2, 'created': '2020-08-19 07:21:05.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/479fb85d0d90eda15ed7b8770f756373ffc3d0bc', 'message': 'Fix tz handling for newly introduced services\n\nWe missed to ensure new neutron switch use the new condition for\ntimezone file mounting.\n\nChange-Id: I838e526b930d5276d3ce24f5188262af7eb33280\nCloses-Bug: #1882553\n'}]",0,746791,479fb85d0d90eda15ed7b8770f756373ffc3d0bc,15,6,2,30491,,,0,"Fix tz handling for newly introduced services

We missed to ensure new neutron switch use the new condition for
timezone file mounting.

Change-Id: I838e526b930d5276d3ce24f5188262af7eb33280
Closes-Bug: #1882553
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/746791/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/defaults/main.yml'],1,79082bb3b4439cb20bb619bd6b8355fb8f42404f,bug/1882553," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}"" - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}"""," - ""{{ '/etc/timezone:/etc/timezone:ro' if kolla_base_distro in ['debian', 'ubuntu'] else '' }}"" - ""{{ '/etc/timezone:/etc/timezone:ro' if kolla_base_distro in ['debian', 'ubuntu'] else '' }}""",2,2
openstack%2Fpuppet-vswitch~stable%2Fussuri~Ia482693536994c0607861ff190aa5d16508473ad,openstack/puppet-vswitch,stable/ussuri,Ia482693536994c0607861ff190aa5d16508473ad,Add CentOS8 to nodesets,MERGED,2020-08-26 12:22:30.000000000,2020-08-26 13:37:01.000000000,2020-08-26 13:37:01.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:22:30.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5ea77aeb50fa3d0c080f25602120431de9c7cbf9', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ia482693536994c0607861ff190aa5d16508473ad\n(cherry picked from commit f7c13e404a825c2f96b19295505a551c28d62430)\n'}]",0,748193,5ea77aeb50fa3d0c080f25602120431de9c7cbf9,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ia482693536994c0607861ff190aa5d16508473ad
(cherry picked from commit f7c13e404a825c2f96b19295505a551c28d62430)
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/93/748193/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,5ea77aeb50fa3d0c080f25602120431de9c7cbf9,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-barbican~stable%2Fussuri~I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7,openstack/puppet-barbican,stable/ussuri,I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7,Add CentOS8 to nodesets,MERGED,2020-08-26 12:20:27.000000000,2020-08-26 13:29:11.000000000,2020-08-26 13:29:11.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:20:27.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/cf9d586fdb4695d2019059b1fe67d18b49765549', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7\n(cherry picked from commit c17a18ee9210841f4e29feff805757f55ac2a35f)\n'}]",0,748180,cf9d586fdb4695d2019059b1fe67d18b49765549,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7
(cherry picked from commit c17a18ee9210841f4e29feff805757f55ac2a35f)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/80/748180/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,cf9d586fdb4695d2019059b1fe67d18b49765549,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fcharm-manila-generic~master~Idb1069d8b0d449820bbaafc23b3555c6187aa74a,openstack/charm-manila-generic,master,Idb1069d8b0d449820bbaafc23b3555c6187aa74a,Add Victoria test bundles,MERGED,2020-08-26 12:02:57.000000000,2020-08-26 13:26:58.000000000,2020-08-26 13:26:58.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:02:57.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/0e48e62cc770284a7d308bbb6c5fb6e3a212bca7', 'message': 'Add Victoria test bundles\n\nChange-Id: Idb1069d8b0d449820bbaafc23b3555c6187aa74a\n'}]",0,748167,0e48e62cc770284a7d308bbb6c5fb6e3a212bca7,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Idb1069d8b0d449820bbaafc23b3555c6187aa74a
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/67/748167/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,0e48e62cc770284a7d308bbb6c5fb6e3a212bca7,victoria-charm-tests,dev_bundles: - focal-victoria - groovy-victoriatests_options: force_deploy: - groovy-victoria,,176,0
openstack%2Fkolla-ansible~master~I6910bcdb122e42337d7938405f792fa0fe32e49b,openstack/kolla-ansible,master,I6910bcdb122e42337d7938405f792fa0fe32e49b,Drop option http-tunnel for neutron-server,MERGED,2020-08-24 08:02:20.000000000,2020-08-26 13:24:06.000000000,2020-08-26 13:22:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-24 08:02:20.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/bug-1892686-409fef7c100ab67f.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c42204a659c2d7fc6b9f62a9fe1ceed9f177a43', 'message': 'Drop option http-tunnel for neutron-server\n\nChange-Id: I6910bcdb122e42337d7938405f792fa0fe32e49b\nCloses-Bug: #1892686\n'}]",0,747637,7c42204a659c2d7fc6b9f62a9fe1ceed9f177a43,23,4,1,30491,,,0,"Drop option http-tunnel for neutron-server

Change-Id: I6910bcdb122e42337d7938405f792fa0fe32e49b
Closes-Bug: #1892686
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/747637/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/defaults/main.yml', 'releasenotes/notes/bug-1892686-409fef7c100ab67f.yaml']",2,7c42204a659c2d7fc6b9f62a9fe1ceed9f177a43,bug/1892686,--- upgrade: - | No longer uses ``option http-tunnel`` for Neutron Server in HAProxy. Please amend manually if you relied on the quirky behaviour. `LP#1892686 <https://launchpad.net/bugs/1892686>`__ fixes: - | No longer uses ``option http-tunnel`` for Neutron Server in HAProxy. This mode was long not recommended and recently deprecated entirely. `LP#1892686 <https://launchpad.net/bugs/1892686>`__ ,,11,2
openstack%2Fpuppet-cinder~stable%2Fussuri~I05463435f821e867a490df53fb795cccb528e78a,openstack/puppet-cinder,stable/ussuri,I05463435f821e867a490df53fb795cccb528e78a,Add CentOS8 to nodesets,MERGED,2020-08-26 12:20:05.000000000,2020-08-26 13:23:13.000000000,2020-08-26 13:23:13.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:20:05.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/53cbd1166eaffd199b4dbe47ed1ab89550a49eaf', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I05463435f821e867a490df53fb795cccb528e78a\n(cherry picked from commit 9aff5e674f90f693dade7440b29406c4658413c4)\n'}]",0,748177,53cbd1166eaffd199b4dbe47ed1ab89550a49eaf,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I05463435f821e867a490df53fb795cccb528e78a
(cherry picked from commit 9aff5e674f90f693dade7440b29406c4658413c4)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/77/748177/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,53cbd1166eaffd199b4dbe47ed1ab89550a49eaf,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-murano~stable%2Fussuri~I2f819ae0fa189896ac0f234ff7d36581db326093,openstack/puppet-murano,stable/ussuri,I2f819ae0fa189896ac0f234ff7d36581db326093,Add CentOS8 to nodesets,MERGED,2020-08-26 12:20:42.000000000,2020-08-26 13:22:51.000000000,2020-08-26 13:22:51.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:20:42.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/fb9d5b29eadd719d98daaeea90cec95ebc1c2c89', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I2f819ae0fa189896ac0f234ff7d36581db326093\n(cherry picked from commit 8f1c3266c06bb955d7c147ccfbf31ad1fd4ad461)\n'}]",0,748182,fb9d5b29eadd719d98daaeea90cec95ebc1c2c89,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I2f819ae0fa189896ac0f234ff7d36581db326093
(cherry picked from commit 8f1c3266c06bb955d7c147ccfbf31ad1fd4ad461)
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/82/748182/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,fb9d5b29eadd719d98daaeea90cec95ebc1c2c89,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-designate~stable%2Fussuri~I42aca6939adb87830b7e1462a20fc1106bcb0110,openstack/puppet-designate,stable/ussuri,I42aca6939adb87830b7e1462a20fc1106bcb0110,Add CentOS8 to nodesets,MERGED,2020-08-26 12:20:21.000000000,2020-08-26 13:19:54.000000000,2020-08-26 13:19:54.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:20:21.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/fa370b7208e7388e26f6d409d1ab08dcdf59830b', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I42aca6939adb87830b7e1462a20fc1106bcb0110\n(cherry picked from commit d28dcf505f97c959ff8c9b8061c7d3366c2b5cfe)\n'}]",0,748179,fa370b7208e7388e26f6d409d1ab08dcdf59830b,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I42aca6939adb87830b7e1462a20fc1106bcb0110
(cherry picked from commit d28dcf505f97c959ff8c9b8061c7d3366c2b5cfe)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/79/748179/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,fa370b7208e7388e26f6d409d1ab08dcdf59830b,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-ceilometer~stable%2Fussuri~Ic1114c89d903c2144b0cf30040de02af241ccf01,openstack/puppet-ceilometer,stable/ussuri,Ic1114c89d903c2144b0cf30040de02af241ccf01,Add CentOS8 to nodesets,MERGED,2020-08-26 12:19:29.000000000,2020-08-26 13:18:17.000000000,2020-08-26 13:18:17.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:19:29.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/3dc422c2605d0a5a7fecb13929f37eeeab31fae9', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ic1114c89d903c2144b0cf30040de02af241ccf01\n(cherry picked from commit eb9780b281c1c2c38f6e8a2385a26de6ac26878d)\n'}]",0,748172,3dc422c2605d0a5a7fecb13929f37eeeab31fae9,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ic1114c89d903c2144b0cf30040de02af241ccf01
(cherry picked from commit eb9780b281c1c2c38f6e8a2385a26de6ac26878d)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/72/748172/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,3dc422c2605d0a5a7fecb13929f37eeeab31fae9,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-aodh~stable%2Fussuri~I272df431b8e71a004761e6a61b3fec9a915b4560,openstack/puppet-aodh,stable/ussuri,I272df431b8e71a004761e6a61b3fec9a915b4560,Add CentOS8 to nodesets,MERGED,2020-08-26 12:19:22.000000000,2020-08-26 13:16:50.000000000,2020-08-26 13:16:50.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:19:22.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/8c835f3f26e5b46aa20ca14bdc3de4c5c2b60902', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I272df431b8e71a004761e6a61b3fec9a915b4560\n(cherry picked from commit 7e5603773e7bb113d44dd0ddd9ad75c71fc1404a)\n'}]",0,748171,8c835f3f26e5b46aa20ca14bdc3de4c5c2b60902,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I272df431b8e71a004761e6a61b3fec9a915b4560
(cherry picked from commit 7e5603773e7bb113d44dd0ddd9ad75c71fc1404a)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/71/748171/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,8c835f3f26e5b46aa20ca14bdc3de4c5c2b60902,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-openstacklib~stable%2Fussuri~I60bc3b7c77de81f28e08de05636ffff2633ba878,openstack/puppet-openstacklib,stable/ussuri,I60bc3b7c77de81f28e08de05636ffff2633ba878,Add CentOS8 to nodesets,MERGED,2020-08-26 12:20:35.000000000,2020-08-26 13:15:50.000000000,2020-08-26 13:15:50.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:20:35.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/2d3e534e359dad21d695cd6b546bd1c7891385e5', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I60bc3b7c77de81f28e08de05636ffff2633ba878\n(cherry picked from commit 9d08100f29e05f6ea9c549e7bc578230ce88c623)\n'}]",0,748181,2d3e534e359dad21d695cd6b546bd1c7891385e5,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I60bc3b7c77de81f28e08de05636ffff2633ba878
(cherry picked from commit 9d08100f29e05f6ea9c549e7bc578230ce88c623)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/81/748181/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,2d3e534e359dad21d695cd6b546bd1c7891385e5,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-glare~stable%2Fussuri~Ib80418c17151f06b7bf90171965163c736ba5dbc,openstack/puppet-glare,stable/ussuri,Ib80418c17151f06b7bf90171965163c736ba5dbc,Add CentOS8 to nodesets,MERGED,2020-08-26 12:18:51.000000000,2020-08-26 13:13:45.000000000,2020-08-26 13:13:44.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:18:51.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/298dc99b5656f45ac5bfb36cdc6467e8318796bc', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib80418c17151f06b7bf90171965163c736ba5dbc\n(cherry picked from commit a2b9cdb704788476c6d692fba3d813b90afed162)\n'}]",0,748169,298dc99b5656f45ac5bfb36cdc6467e8318796bc,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib80418c17151f06b7bf90171965163c736ba5dbc
(cherry picked from commit a2b9cdb704788476c6d692fba3d813b90afed162)
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/69/748169/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,298dc99b5656f45ac5bfb36cdc6467e8318796bc,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-qdr~stable%2Fussuri~I79268b5a560f3b75d1c18b0eff26034e715fbf3f,openstack/puppet-qdr,stable/ussuri,I79268b5a560f3b75d1c18b0eff26034e715fbf3f,Add CentOS8 to nodesets,MERGED,2020-08-26 12:19:44.000000000,2020-08-26 13:12:53.000000000,2020-08-26 13:12:53.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:19:44.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/0f234875f82ea45aaca6c405629ca80aba427a92', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I79268b5a560f3b75d1c18b0eff26034e715fbf3f\n(cherry picked from commit c399a1a698927affc5916e1e5418feb6af28044b)\n'}]",0,748174,0f234875f82ea45aaca6c405629ca80aba427a92,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I79268b5a560f3b75d1c18b0eff26034e715fbf3f
(cherry picked from commit c399a1a698927affc5916e1e5418feb6af28044b)
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/74/748174/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,0f234875f82ea45aaca6c405629ca80aba427a92,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-senlin~stable%2Fussuri~I970c959dc2a8e9e06861f40a8029eadd7a8dda83,openstack/puppet-senlin,stable/ussuri,I970c959dc2a8e9e06861f40a8029eadd7a8dda83,Add CentOS8 to nodesets,MERGED,2020-08-26 12:19:58.000000000,2020-08-26 13:10:25.000000000,2020-08-26 13:10:25.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:19:58.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/4f5761c8c7cbcc714d8b5a4821ff887ca543aaed', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I970c959dc2a8e9e06861f40a8029eadd7a8dda83\n(cherry picked from commit 44bffc959abdfa0db53257b3e3ebe775ee2b3638)\n'}]",0,748176,4f5761c8c7cbcc714d8b5a4821ff887ca543aaed,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I970c959dc2a8e9e06861f40a8029eadd7a8dda83
(cherry picked from commit 44bffc959abdfa0db53257b3e3ebe775ee2b3638)
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/76/748176/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,4f5761c8c7cbcc714d8b5a4821ff887ca543aaed,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-freezer~stable%2Fussuri~Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03,openstack/puppet-freezer,stable/ussuri,Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03,Add CentOS8 to nodesets,MERGED,2020-08-26 12:19:15.000000000,2020-08-26 13:08:48.000000000,2020-08-26 13:08:48.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:19:15.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/176a79c3e29283cbbad1ae01789ca095a5f005e3', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03\n(cherry picked from commit 49eec3db7bfa7610bf0e214386bd20b3ea0e3f6c)\n'}]",0,748170,176a79c3e29283cbbad1ae01789ca095a5f005e3,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03
(cherry picked from commit 49eec3db7bfa7610bf0e214386bd20b3ea0e3f6c)
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/70/748170/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,176a79c3e29283cbbad1ae01789ca095a5f005e3,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-placement~stable%2Fussuri~Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8,openstack/puppet-placement,stable/ussuri,Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8,Add CentOS8 to nodesets,MERGED,2020-08-26 12:19:51.000000000,2020-08-26 13:07:27.000000000,2020-08-26 13:07:27.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 12:19:51.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/13885edd7fd00fdd9a60530494d6079e27901dac', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8\n(cherry picked from commit 4ce86f4a325bbe223aef75118e1a83295c5eab13)\n'}]",0,748175,13885edd7fd00fdd9a60530494d6079e27901dac,7,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8
(cherry picked from commit 4ce86f4a325bbe223aef75118e1a83295c5eab13)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/75/748175/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,13885edd7fd00fdd9a60530494d6079e27901dac,nodepool-centos8-stable/ussuri,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpython-tripleoclient~master~I89aebb0ae9734b0371bd3fdbd34643babfcca8f3,openstack/python-tripleoclient,master,I89aebb0ae9734b0371bd3fdbd34643babfcca8f3,Allow the container build tools to run config-less,MERGED,2020-08-20 22:08:40.000000000,2020-08-26 12:51:39.000000000,2020-08-26 07:09:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-20 22:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d112f77cc6e12471eef371bff18e51fc643b841', 'message': 'Allow the container build tools to run config-less\n\nThis change allows the container build tools to run without a\nprovided configuration file. The container configuration file\nstill in service was derived from our old kolla implementation\nwhich no longer needs to exist. The build process will now\nsimply walk the build path and build all containers found when\na configuration file is not defined or present. Logging has\nbeen added to inform the user of the tools discoveries which\nshould provide a nice user experience when running container\nbuilds.\n\nTests have been updated to ensure that the client is operational\nin both a config and config-less situation.\n\nChange-Id: I89aebb0ae9734b0371bd3fdbd34643babfcca8f3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-08-20 22:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28a549a1c81d159a455f5263e579c22bdae85f72', 'message': 'Allow the container build tools to run config-less\n\nThis change allows the container build tools to run without a\nprovided configuration file. The container configuration file\nstill in service was derived from our old kolla implementation\nwhich no longer needs to exist. The build process will now\nsimply walk the build path and build all containers found when\na configuration file is not defined or present. Logging has\nbeen added to inform the user of the tools discoveries which\nshould provide a nice user experience when running container\nbuilds.\n\nTests have been updated to ensure that the client is operational\nin both a config and config-less situation.\n\nChange-Id: I89aebb0ae9734b0371bd3fdbd34643babfcca8f3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-08-21 13:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/357da32a66005f55a5061eecec15998054c68db5', 'message': 'Allow the container build tools to run config-less\n\nThis change allows the container build tools to run without a\nprovided configuration file. The container configuration file\nstill in service was derived from our old kolla implementation\nwhich no longer needs to exist. The build process will now\nsimply walk the build path and build all containers found when\na configuration file is not defined or present. Logging has\nbeen added to inform the user of the tools discoveries which\nshould provide a nice user experience when running container\nbuilds.\n\nIn the event a container configuration file is used, the tools\nwill now ensure all dependent images are inherently part of the\nbuild preparation.\n\nTests have been updated to ensure that the client is operational\nin both a config and config-less situation.\n\nChange-Id: I89aebb0ae9734b0371bd3fdbd34643babfcca8f3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-08-21 15:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3b60165995ef79b81bb351ef6e9ff4fe4ca7b4c4', 'message': 'Allow the container build tools to run config-less\n\nThis change allows the container build tools to run without a\nprovided configuration file. The container configuration file\nstill in service was derived from our old kolla implementation\nwhich no longer needs to exist. The build process will now\nsimply walk the build path and build all containers found when\na configuration file is not defined or present. Logging has\nbeen added to inform the user of the tools discoveries which\nshould provide a nice user experience when running container\nbuilds.\n\nIn the event a container configuration file is used, the tools\nwill now ensure all dependent images are inherently part of the\nbuild preparation.\n\nTests have been updated to ensure that the client is operational\nin both a config and config-less situation.\n\nChange-Id: I89aebb0ae9734b0371bd3fdbd34643babfcca8f3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-08-24 12:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bbe47339e4fc2edc5ae25b166dc72e0b776c1d17', 'message': 'Allow the container build tools to run config-less\n\nThis change allows the container build tools to run without a\nprovided configuration file. The container configuration file\nstill in service was derived from our old kolla implementation\nwhich no longer needs to exist. The build process will now\nsimply walk the build path and build all containers found when\na configuration file is not defined or present. Logging has\nbeen added to inform the user of the tools discoveries which\nshould provide a nice user experience when running container\nbuilds.\n\nIn the event a container configuration file is used, the tools\nwill now ensure all dependent images are inherently part of the\nbuild preparation.\n\nTests have been updated to ensure that the client is operational\nin both a config and config-less situation.\n\nChange-Id: I89aebb0ae9734b0371bd3fdbd34643babfcca8f3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-08-24 12:44:21.000000000', 'files': ['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d23eee41e86cd52c3d6c62e86e10daec582213e', 'message': 'Allow the container build tools to run config-less\n\nThis change allows the container build tools to run without a\nprovided configuration file. The container configuration file\nstill in service was derived from our old kolla implementation\nwhich no longer needs to exist. The build process will now\nsimply walk the build path and build all containers found when\na configuration file is not defined or present. Logging has\nbeen added to inform the user of the tools discoveries which\nshould provide a nice user experience when running container\nbuilds.\n\nIn the event a container configuration file is used, the tools\nwill now ensure all dependent images are inherently part of the\nbuild preparation.\n\nTests have been updated to ensure that the client is operational\nin both a config and config-less situation.\n\nChange-Id: I89aebb0ae9734b0371bd3fdbd34643babfcca8f3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",6,747302,4d23eee41e86cd52c3d6c62e86e10daec582213e,27,5,6,7353,,,0,"Allow the container build tools to run config-less

This change allows the container build tools to run without a
provided configuration file. The container configuration file
still in service was derived from our old kolla implementation
which no longer needs to exist. The build process will now
simply walk the build path and build all containers found when
a configuration file is not defined or present. Logging has
been added to inform the user of the tools discoveries which
should provide a nice user experience when running container
builds.

In the event a container configuration file is used, the tools
will now ensure all dependent images are inherently part of the
build preparation.

Tests have been updated to ensure that the client is operational
in both a config and config-less situation.

Change-Id: I89aebb0ae9734b0371bd3fdbd34643babfcca8f3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/747302/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/v2/tripleo_container_image.py']",2,4d112f77cc6e12471eef371bff18e51fc643b841,tcib,"import copy if os.path.isfile(self.config_file): self.log.info( ""Configuration file found: {}"".format(self.config_file) ) with open(self.config_file, ""r"") as f: containers_yaml = yaml.safe_load(f) for c in containers_yaml[""container_images""]: entry = dict(c) if not entry.get(""image_source"", """") == ""tripleo"": continue image = self.imagename_to_regex(entry.get(""imagename"")) if image and image not in excludes: images_to_prepare.append(image) else: self.log.warning( ""Configuration file not found: {}"".format(self.config_file) ) self.log.warning( ""All identified images will be prepared: {}"".format(self.config_file) ) images_to_prepare.extend(self.identified_images)"," if not os.path.isfile(self.config_file): raise IOError( ""Configuration file {} was not found."".format( self.config_file ) ) with open(self.config_file, ""r"") as f: containers_yaml = yaml.safe_load(f) for c in containers_yaml[""container_images""]: entry = dict(c) if not entry.get(""image_source"", """") == ""tripleo"": continue image = self.imagename_to_regex(entry.get(""imagename"")) if image and image not in excludes: images_to_prepare.append(image)",22,17
openstack%2Fcharm-ceph-osd~master~Ibd8ea8919e80bf332b6f2509739b5e6055e081dc,openstack/charm-ceph-osd,master,Ibd8ea8919e80bf332b6f2509739b5e6055e081dc,Improve zap-disk action section,MERGED,2020-08-25 20:28:13.000000000,2020-08-26 12:50:46.000000000,2020-08-26 12:50:46.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 20:28:13.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/cabeb9b784370727f972532c6c023c517fc6bef5', 'message': 'Improve zap-disk action section\n\nAlso fix an ordered list that was not rendering\nproperly in the Charm Store.\n\nChange-Id: Ibd8ea8919e80bf332b6f2509739b5e6055e081dc\n'}]",1,748025,cabeb9b784370727f972532c6c023c517fc6bef5,8,3,1,30561,,,0,"Improve zap-disk action section

Also fix an ordered list that was not rendering
properly in the Charm Store.

Change-Id: Ibd8ea8919e80bf332b6f2509739b5e6055e081dc
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/25/748025/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,cabeb9b784370727f972532c6c023c517fc6bef5,improve-zap-disk-action-description," ceph-osd: options: osd-devices: /dev/vdb /dev/vdc /dev/vdd ceph-osd: storage: osd-devices: cinder,20G ceph-osd: storage: osd-devices: /var/tmp/osd-1 juju run-action --wait ceph-osd/3 zap-disk i-really-mean-it=true devices=/dev/vdc > **Note**: The `zap-disk` action cannot be run on a mounted device, an active Bluestore device, or an encrypted device.","```yaml ceph-osd: options: osd-devices: /dev/vdb /dev/vdc /dev/vdd ``````yaml ceph-osd: storage: osd-devices: cinder,20G ``````yaml ceph-osd: storage: osd-devices: /var/tmp/osd-1 ``` juju run-action --wait ceph-osd/3 zap-disk i-really-mean-it devices=/dev/vdc",13,16
openstack%2Fkayobe~master~I3de408d384141eee1a088d222dca7d583251a298,openstack/kayobe,master,I3de408d384141eee1a088d222dca7d583251a298,Remove XenAPI integration,MERGED,2020-08-19 16:00:31.000000000,2020-08-26 12:46:54.000000000,2020-08-26 12:44:59.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 20451}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-19 16:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b1c262d883ba41fcdf6e7b3595e6d289d566153', 'message': 'Remove XenAPI integration\n\nthe XenAPI is removed from kolla-ansible[1], this PS to remove it from kayobe\n\n[1]: https://github.com/openstack/kolla-ansible/commit/60e03d7bf30f536812fb3f61fb5f1a1db53851f8\n\nChange-Id: I3de408d384141eee1a088d222dca7d583251a298\n'}, {'number': 2, 'created': '2020-08-20 14:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4df8f06c343a6b222739ce53f3706b2d4ecda3a4', 'message': 'Remove XenAPI integration\n\nthe XenAPI is removed from kolla-ansible[1], this PS to remove it from kayobe\n\n[1]: https://github.com/openstack/kolla-ansible/commit/60e03d7bf30f536812fb3f61fb5f1a1db53851f8\n\nChange-Id: I3de408d384141eee1a088d222dca7d583251a298\n'}, {'number': 3, 'created': '2020-08-22 05:29:06.000000000', 'files': ['ansible/roles/kolla-ansible/templates/globals.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/597263e8046ac105a86f52314bbb9024b97050c3', 'message': 'Remove XenAPI integration\n\nthe XenAPI is removed from kolla-ansible[1], this PS to remove it from kayobe\n\n[1]: https://github.com/openstack/kolla-ansible/commit/60e03d7bf30f536812fb3f61fb5f1a1db53851f8\n\nChange-Id: I3de408d384141eee1a088d222dca7d583251a298\n'}]",0,746971,597263e8046ac105a86f52314bbb9024b97050c3,20,7,3,32067,,,0,"Remove XenAPI integration

the XenAPI is removed from kolla-ansible[1], this PS to remove it from kayobe

[1]: https://github.com/openstack/kolla-ansible/commit/60e03d7bf30f536812fb3f61fb5f1a1db53851f8

Change-Id: I3de408d384141eee1a088d222dca7d583251a298
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/746971/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-ansible/templates/globals.yml.j2'],1,4b1c262d883ba41fcdf6e7b3595e6d289d566153,,"# Valid options are [ qemu, kvm, vmware ]","# Valid options are [ qemu, kvm, vmware, xenapi ]####################################### # XenAPI - Support XenAPI for XenServer ####################################### # XenAPI driver use HIMN(Host Internal Management Network) # to communicate with XenServer host. #xenserver_himn_ip: #xenserver_username: #xenserver_connect_protocol: ",1,10
openstack%2Fsahara-dashboard~master~If68e8dcb2295267195acc4918abe5167e863a7f2,openstack/sahara-dashboard,master,If68e8dcb2295267195acc4918abe5167e863a7f2,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 14:08:43.000000000,2020-08-26 12:34:00.000000000,2020-08-26 12:31:56.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 14:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/55b313bb687ffc93034fa37828528d9a3f6c698a', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40216\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: If68e8dcb2295267195acc4918abe5167e863a7f2\n'}, {'number': 2, 'created': '2020-08-05 17:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/8ad390c732e3b1e72d703f82fde9063da699b1ed', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40216\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: If68e8dcb2295267195acc4918abe5167e863a7f2\n'}, {'number': 3, 'created': '2020-08-05 17:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/f37805b9626212f592c2c076f0cc96fcfb5dcabe', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40216\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: If68e8dcb2295267195acc4918abe5167e863a7f2\n'}, {'number': 4, 'created': '2020-08-12 11:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/1f9596a3e25c8dfb969952236e6d564807b0fd13', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40216\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: If68e8dcb2295267195acc4918abe5167e863a7f2\n'}, {'number': 5, 'created': '2020-08-12 12:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/6fba5dd0195f76ceb33b1f8b84bd32ff4d910237', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40216\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: If68e8dcb2295267195acc4918abe5167e863a7f2\n'}, {'number': 6, 'created': '2020-08-12 13:10:49.000000000', 'files': ['bindep.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/3fc494d1730b90a3e49855c2498958c92a2c1ee5', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nremoving the python-zmq from bindep as that is py2 things and not\navailable/needed for Focal/Victoria testing.\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\nStory: #2007865\nTask: #40216\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: If68e8dcb2295267195acc4918abe5167e863a7f2\n'}]",0,744723,3fc494d1730b90a3e49855c2498958c92a2c1ee5,25,5,6,29313,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

removing the python-zmq from bindep as that is py2 things and not
available/needed for Focal/Victoria testing.

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.
Story: #2007865
Task: #40216

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: If68e8dcb2295267195acc4918abe5167e863a7f2
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/23/744723/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,55b313bb687ffc93034fa37828528d9a3f6c698a,migrate-to-focal,#test-focal,,1,0
openstack%2Fopenstack-ansible~master~I2dba276ebf9ea453026960b9a16f04f1dca51aea,openstack/openstack-ansible,master,I2dba276ebf9ea453026960b9a16f04f1dca51aea,Update docs for Ussuri release,ABANDONED,2020-08-26 00:06:51.000000000,2020-08-26 12:27:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-26 00:06:51.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/baafc476a58139d6668f0ad28dcecc2daeaf21d4', 'message': 'Update docs for Ussuri release\n\nUpdated the docs to show Ussuri is released and Victoria in\ndevelopment\n\nChange-Id: I2dba276ebf9ea453026960b9a16f04f1dca51aea\n'}]",0,748053,baafc476a58139d6668f0ad28dcecc2daeaf21d4,4,2,1,15993,,,0,"Update docs for Ussuri release

Updated the docs to show Ussuri is released and Victoria in
development

Change-Id: I2dba276ebf9ea453026960b9a16f04f1dca51aea
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/748053/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,baafc476a58139d6668f0ad28dcecc2daeaf21d4,update,Victoria: Under development ~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Victoria is currently in development.Ussuri: Maintained ~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Ussuri series was first released with the 21.0.0 tag on 19 May 2020. .. toctree:: :maxdepth: 1 _OpenStack-Ansible Ussuri Documentation: <https://docs.openstack.org/project-deploy-guide/openstack-ansible/ussuri/> _OpenStack-Ansible Ussuri series release notes: <https://docs.openstack.org/releasenotes/openstack-ansible/ussuri.html> admin/index user/index contributor/contributing contributor/index reference/index ,Ussuri: Under development ~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Ussuri is currently in development.,20,3
openstack%2Fcharm-interface-ceph-client~master~I240552158475635d6996c622bf17eb6dd73b5d81,openstack/charm-interface-ceph-client,master,I240552158475635d6996c622bf17eb6dd73b5d81,Markup properties,MERGED,2020-08-26 11:07:31.000000000,2020-08-26 12:25:15.000000000,2020-08-26 12:25:15.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-26 11:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/77a70e8282ba23ab271fc4b314baad57a54a102c', 'message': 'Markup properties\n\nEnsure that various data items are avaliable via the relation\nadapters in charms.openstack by marking functions as properties.\n\nThis equates to the auto_accessors lists in the ceph-client and\nceph-mds RelationBase endpoint implementations.\n\nChange-Id: I240552158475635d6996c622bf17eb6dd73b5d81\n'}, {'number': 2, 'created': '2020-08-26 12:13:30.000000000', 'files': ['src/ceph_mds/requires.py', 'src/lib/base_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/22600e77f1811aa8d001c5136e1d957ca582a941', 'message': 'Markup properties\n\nEnsure that various data items are available via the relation\nadapters in charms.openstack by marking functions as properties.\n\nThis equates to the auto_accessors lists in the ceph-client and\nceph-mds RelationBase endpoint implementations.\n\nChange-Id: I240552158475635d6996c622bf17eb6dd73b5d81\n'}]",1,748162,22600e77f1811aa8d001c5136e1d957ca582a941,9,2,2,935,,,0,"Markup properties

Ensure that various data items are available via the relation
adapters in charms.openstack by marking functions as properties.

This equates to the auto_accessors lists in the ceph-client and
ceph-mds RelationBase endpoint implementations.

Change-Id: I240552158475635d6996c622bf17eb6dd73b5d81
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/62/748162/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/ceph_mds/requires.py', 'src/lib/base_requires.py']",2,77a70e8282ba23ab271fc4b314baad57a54a102c,mark-properties, @property @property,,3,0
openstack%2Ftripleo-quickstart~master~If4a9ef9c1836ed3dc1bafc3fe7a7b7a550885e80,openstack/tripleo-quickstart,master,If4a9ef9c1836ed3dc1bafc3fe7a7b7a550885e80,New CI job: support docker registry from another job,MERGED,2020-08-19 16:05:20.000000000,2020-08-26 12:24:43.000000000,2020-08-26 12:22:29.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-08-19 16:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/055770c0610aed719aad56da2c8e719a555b8f36', 'message': 'WIP new ci job - registry\n\nChange-Id: If4a9ef9c1836ed3dc1bafc3fe7a7b7a550885e80\n'}, {'number': 2, 'created': '2020-08-20 00:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e50d53ccb190f1c8ac9d7663c4929d7be80a52d3', 'message': 'WIP new ci job - registry\n\nChange-Id: If4a9ef9c1836ed3dc1bafc3fe7a7b7a550885e80\n'}, {'number': 3, 'created': '2020-08-21 11:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/423e663643361e94816631c2c893374728ade0f6', 'message': 'WIP new ci job - registry\n\nChange-Id: If4a9ef9c1836ed3dc1bafc3fe7a7b7a550885e80\n'}, {'number': 4, 'created': '2020-08-23 17:29:19.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/16743f4a5351430ac3ff32b316aba34bf92842ec', 'message': ""New CI job: support docker registry from another job\n\nSet docker registry to registry_ip_address if it is received from\nZuul. It means there is job that built containers.\nFor now support only master.\nAlso enable gating repo if it's set from Zuul.\nChange-Id: If4a9ef9c1836ed3dc1bafc3fe7a7b7a550885e80\n""}]",1,746973,16743f4a5351430ac3ff32b316aba34bf92842ec,26,9,4,10969,,,0,"New CI job: support docker registry from another job

Set docker registry to registry_ip_address if it is received from
Zuul. It means there is job that built containers.
For now support only master.
Also enable gating repo if it's set from Zuul.
Change-Id: If4a9ef9c1836ed3dc1bafc3fe7a7b7a550885e80
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/73/746973/4 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,055770c0610aed719aad56da2c8e719a555b8f36,new-ci-job, {% elif job.registry_ip_address is defined %} {{ job.registry_ip_address }}:5001,,2,0
openstack%2Fpuppet-ovn~master~I749e23cfba5f5c32ec98022ac7e37e29e435b527,openstack/puppet-ovn,master,I749e23cfba5f5c32ec98022ac7e37e29e435b527,Add CentOS8 to nodesets,MERGED,2020-05-10 12:49:44.000000000,2020-08-26 12:24:40.000000000,2020-05-13 14:30:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:49:44.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/ea303dee5c384dae392d80ecdd7137be1b661102', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I749e23cfba5f5c32ec98022ac7e37e29e435b527\n'}]",0,726609,ea303dee5c384dae392d80ecdd7137be1b661102,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I749e23cfba5f5c32ec98022ac7e37e29e435b527
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/09/726609/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,ea303dee5c384dae392d80ecdd7137be1b661102,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-rally~master~I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c,openstack/puppet-rally,master,I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c,Add CentOS8 to nodesets,MERGED,2020-05-10 12:50:30.000000000,2020-08-26 12:24:32.000000000,2020-05-13 14:25:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:50:30.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/42638739163e158cf51011ec53c1b0aedb02d63d', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c\n'}]",0,726613,42638739163e158cf51011ec53c1b0aedb02d63d,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I347c36ef20c0b78be3373f25a4ce7cd92dd9cd1c
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/13/726613/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,42638739163e158cf51011ec53c1b0aedb02d63d,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-keystone~master~Ib4d7291149f14e703ed1d382f8924f1c0669cba1,openstack/puppet-keystone,master,Ib4d7291149f14e703ed1d382f8924f1c0669cba1,Add CentOS8 to nodesets,MERGED,2020-05-10 12:46:28.000000000,2020-08-26 12:24:24.000000000,2020-05-11 23:06:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:46:28.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e6edf42957734f829d0f68e69555cbed793ed578', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib4d7291149f14e703ed1d382f8924f1c0669cba1\n'}]",0,726599,e6edf42957734f829d0f68e69555cbed793ed578,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib4d7291149f14e703ed1d382f8924f1c0669cba1
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/99/726599/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,e6edf42957734f829d0f68e69555cbed793ed578,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-zaqar~master~Ib4b3793725af804cbc51d647efd510f8c718dc9f,openstack/puppet-zaqar,master,Ib4b3793725af804cbc51d647efd510f8c718dc9f,Add CentOS8 to nodesets,MERGED,2020-05-10 12:52:17.000000000,2020-08-26 12:24:17.000000000,2020-05-11 22:55:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:52:17.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/053157467c478a11c8108765643871e7ce4386f4', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib4b3793725af804cbc51d647efd510f8c718dc9f\n'}]",0,726624,053157467c478a11c8108765643871e7ce4386f4,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib4b3793725af804cbc51d647efd510f8c718dc9f
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/24/726624/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,053157467c478a11c8108765643871e7ce4386f4,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-swift~master~Ifeb96cf759613e52e92c88e52c235442dcf2907a,openstack/puppet-swift,master,Ifeb96cf759613e52e92c88e52c235442dcf2907a,Add CentOS8 to nodesets,MERGED,2020-05-10 12:51:01.000000000,2020-08-26 12:24:10.000000000,2020-05-11 22:55:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:51:01.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7f5b8f42201f2631a945bfd10860239ae98f46bf', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ifeb96cf759613e52e92c88e52c235442dcf2907a\n'}]",0,726616,7f5b8f42201f2631a945bfd10860239ae98f46bf,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ifeb96cf759613e52e92c88e52c235442dcf2907a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/16/726616/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,7f5b8f42201f2631a945bfd10860239ae98f46bf,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-sahara~master~I6c765321f45229823f0f06ae0ed0901bb34de62d,openstack/puppet-sahara,master,I6c765321f45229823f0f06ae0ed0901bb34de62d,Add CentOS8 to nodesets,MERGED,2020-05-10 12:50:40.000000000,2020-08-26 12:24:03.000000000,2020-05-11 22:51:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:50:40.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/0aa5061076253c806cd5e1f8a8b8bb2864cdd1ba', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I6c765321f45229823f0f06ae0ed0901bb34de62d\n'}]",0,726614,0aa5061076253c806cd5e1f8a8b8bb2864cdd1ba,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I6c765321f45229823f0f06ae0ed0901bb34de62d
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/14/726614/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,0aa5061076253c806cd5e1f8a8b8bb2864cdd1ba,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-vitrage~master~I618cf784febb98cbc66e853f7df2b4ac23db91b6,openstack/puppet-vitrage,master,I618cf784febb98cbc66e853f7df2b4ac23db91b6,Add CentOS8 to nodesets,MERGED,2020-05-10 12:51:46.000000000,2020-08-26 12:23:54.000000000,2020-05-11 22:50:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:51:46.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/470d6331057aa9a4da1d61c267e5fd26ba3f8f39', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I618cf784febb98cbc66e853f7df2b4ac23db91b6\n'}]",0,726620,470d6331057aa9a4da1d61c267e5fd26ba3f8f39,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I618cf784febb98cbc66e853f7df2b4ac23db91b6
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/20/726620/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,470d6331057aa9a4da1d61c267e5fd26ba3f8f39,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-watcher~master~I80e42e6dabb0727cd12240e46911784e52ccf9cc,openstack/puppet-watcher,master,I80e42e6dabb0727cd12240e46911784e52ccf9cc,Add CentOS8 to nodesets,MERGED,2020-05-10 12:52:06.000000000,2020-08-26 12:23:47.000000000,2020-05-11 22:50:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:52:06.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/ab01a4a94daaa0b8375bb07c8f79048fc446931b', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I80e42e6dabb0727cd12240e46911784e52ccf9cc\n'}]",0,726623,ab01a4a94daaa0b8375bb07c8f79048fc446931b,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I80e42e6dabb0727cd12240e46911784e52ccf9cc
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/23/726623/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,ab01a4a94daaa0b8375bb07c8f79048fc446931b,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-tacker~master~If703010127e73d426790721b3717f2a53a1bec24,openstack/puppet-tacker,master,If703010127e73d426790721b3717f2a53a1bec24,Add CentOS8 to nodesets,MERGED,2020-05-10 12:51:12.000000000,2020-08-26 12:23:39.000000000,2020-05-11 22:46:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:51:12.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/6647b90a62b11c5848ecadeb85dc958e05f37365', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: If703010127e73d426790721b3717f2a53a1bec24\n'}]",0,726617,6647b90a62b11c5848ecadeb85dc958e05f37365,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: If703010127e73d426790721b3717f2a53a1bec24
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/17/726617/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,6647b90a62b11c5848ecadeb85dc958e05f37365,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-trove~master~Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9,openstack/puppet-trove,master,Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9,Add CentOS8 to nodesets,MERGED,2020-05-10 12:51:36.000000000,2020-08-26 12:23:31.000000000,2020-05-11 22:46:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:51:36.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/b1fa577e77c5cc01dc5d7a0e69d87cbf533c5197', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9\n'}]",0,726619,b1fa577e77c5cc01dc5d7a0e69d87cbf533c5197,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ifc142c0176bb0220e3fbc4f0de7ec8bdff5ab2a9
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/19/726619/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,b1fa577e77c5cc01dc5d7a0e69d87cbf533c5197,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-panko~master~I21c6872a7132f899790f28cacfbfdce804075faf,openstack/puppet-panko,master,I21c6872a7132f899790f28cacfbfdce804075faf,Add CentOS8 to nodesets,MERGED,2020-05-10 12:49:56.000000000,2020-08-26 12:23:06.000000000,2020-05-11 22:46:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:49:56.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/59f6f79f9c118fac7a9ebd9a3d7a4962cb8c31a4', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I21c6872a7132f899790f28cacfbfdce804075faf\n'}]",0,726610,59f6f79f9c118fac7a9ebd9a3d7a4962cb8c31a4,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I21c6872a7132f899790f28cacfbfdce804075faf
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/10/726610/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,59f6f79f9c118fac7a9ebd9a3d7a4962cb8c31a4,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-octavia~master~Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f,openstack/puppet-octavia,master,Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f,Add CentOS8 to nodesets,MERGED,2020-05-10 12:48:31.000000000,2020-08-26 12:22:59.000000000,2020-05-11 22:44:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:48:31.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/fd58b7e93752bbd8ec71790ae27dbfa456612e40', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f\n'}]",0,726605,fd58b7e93752bbd8ec71790ae27dbfa456612e40,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib0810342aa0673d04d4d8f4ed7c31b39ef02f55f
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/05/726605/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,fd58b7e93752bbd8ec71790ae27dbfa456612e40,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-tempest~master~I49eaffa8e915208d2c97185b1c326f41a8df468c,openstack/puppet-tempest,master,I49eaffa8e915208d2c97185b1c326f41a8df468c,Add CentOS8 to nodesets,MERGED,2020-05-10 12:51:26.000000000,2020-08-26 12:22:52.000000000,2020-05-11 22:44:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:51:26.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/660af14ec99742013b23c06a36c9d5f00b14279d', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I49eaffa8e915208d2c97185b1c326f41a8df468c\n'}]",0,726618,660af14ec99742013b23c06a36c9d5f00b14279d,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I49eaffa8e915208d2c97185b1c326f41a8df468c
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/18/726618/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,660af14ec99742013b23c06a36c9d5f00b14279d,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-nova~master~Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac,openstack/puppet-nova,master,Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac,Add CentOS8 to nodesets,MERGED,2020-05-09 16:12:37.000000000,2020-08-26 12:22:45.000000000,2020-05-11 22:42:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-09 16:12:37.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2979bdbeb42808b894e64ace19f3a93308dcf763', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac\n'}]",0,726544,2979bdbeb42808b894e64ace19f3a93308dcf763,9,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ifa9ba4c768f0e655ad260a5dd952fcf7eb1e36ac
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/44/726544/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,2979bdbeb42808b894e64ace19f3a93308dcf763,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-heat~master~Icaba85b9bc063c10ff27bf5330f75f9f430c3847,openstack/puppet-heat,master,Icaba85b9bc063c10ff27bf5330f75f9f430c3847,Add CentOS8 to nodesets,MERGED,2020-05-10 12:45:45.000000000,2020-08-26 12:22:36.000000000,2020-05-11 22:42:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:45:45.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/cb148c24b67da49002181be353a899d121129ace', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Icaba85b9bc063c10ff27bf5330f75f9f430c3847\n'}]",0,726596,cb148c24b67da49002181be353a899d121129ace,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Icaba85b9bc063c10ff27bf5330f75f9f430c3847
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/96/726596/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,cb148c24b67da49002181be353a899d121129ace,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,openstack/tripleo-heat-templates,stable/train,I738d5c8cdd57b02589c147f5891cf8cb0e395d3a,[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options,MERGED,2020-08-20 11:00:42.000000000,2020-08-26 12:22:33.000000000,2020-08-26 12:22:33.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-20 11:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/648aa21303bda4a15cc61008fe7dff6d0c7fa756', 'message': 'WIP: [FFWD Ceph] Magic about ceph\nAdd missing post_ceph_upgrade tasks\n\nChange-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a\n'}, {'number': 2, 'created': '2020-08-20 11:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b726db9b421392f81ef45c9ca556f04d2155dbe4', 'message': 'WIP: [FFWD Ceph] Magic about ceph\n\nAdd missing post_upgrade_tasks shared from the ceph-base.\nMove post_upgrade_tasks that set noout options of ceph to only\nthe ceph osd service as they are targeted for this service.\nMove the set nooout options out of system_upgrade tags so they\nrun only after full upgrade run with deployment so the podman\nis already present on the nodes.\n\nChange-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a\n'}, {'number': 3, 'created': '2020-08-21 11:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1833a3350d8568cecb7a58d1216cd76dc2d62f0c', 'message': '[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options\n\nAdd missing post_upgrade_tasks shared from the ceph-base.\nMove post_upgrade_tasks that set noout options of ceph to only\nthe ceph osd service as they are targeted for this service.\nMove the set nooout options out of system_upgrade tags so they\nrun only after full upgrade run with deployment so the podman\nis already present on the nodes.\n\nResolves: rhbz#1870617\n\nChange-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a\n'}, {'number': 4, 'created': '2020-08-24 07:53:41.000000000', 'files': ['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d224d4150a4d65aff76e9503d1d1830c98b47b50', 'message': '[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options\n\nAdd missing post_upgrade_tasks shared from the ceph-base.\nMove post_upgrade_tasks that set noout options of ceph to only\nthe ceph osd service as they are targeted for this service.\nMove the set nooout options out of system_upgrade tags so they\nrun only after full upgrade run with deployment so the podman\nis already present on the nodes.\n\nResolves: rhbz#1870617\n\nChange-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a\n(cherry picked from commit a9be4c6a38e297bb9bd35b5ca868cfed6cd0b666)\n'}]",4,747141,d224d4150a4d65aff76e9503d1d1830c98b47b50,26,7,4,11166,,,0,"[FFWD Ceph] Fix ceph post_upgrade_tasks for osd options

Add missing post_upgrade_tasks shared from the ceph-base.
Move post_upgrade_tasks that set noout options of ceph to only
the ceph osd service as they are targeted for this service.
Move the set nooout options out of system_upgrade tags so they
run only after full upgrade run with deployment so the podman
is already present on the nodes.

Resolves: rhbz#1870617

Change-Id: I738d5c8cdd57b02589c147f5891cf8cb0e395d3a
(cherry picked from commit a9be4c6a38e297bb9bd35b5ca868cfed6cd0b666)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/747141/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml']",5,648aa21303bda4a15cc61008fe7dff6d0c7fa756,ffwd-upgrade2," post_upgrade_tasks: {get_attr: [CephBase, role_data, post_upgrade_tasks]}",,50,46
openstack%2Ftripleo-upgrade~stable%2Frocky~I01c971b8e289e324439edfac8819ed5b3264b9ac,openstack/tripleo-upgrade,stable/rocky,I01c971b8e289e324439edfac8819ed5b3264b9ac,Fix conditional for python3-tripleoclient in undercloud pre-reqs,MERGED,2020-08-25 14:13:44.000000000,2020-08-26 12:22:31.000000000,2020-08-26 12:22:30.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 14:13:44.000000000', 'files': ['tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a86c9a28155413e98031e372c9b8b56de6be7136', 'message': ""Fix conditional for python3-tripleoclient in undercloud pre-reqs\n\nThe current conditional is failing causing the bug below, let's\ninstead rely on the ansible_python version. Seen as part of the\nwork at [1]\n\nRelated-Bug: 1886681\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I01c971b8e289e324439edfac8819ed5b3264b9ac\n(cherry picked from commit 4c178922b2e91e20d5af47dabdb3bb51936e5249)\n(cherry picked from commit c27075d244a648a5860133a9ef4db76688c3cd99)\n(cherry picked from commit 44d481df34d73a00d979b3166795083c545faf4c)\n""}]",0,747961,a86c9a28155413e98031e372c9b8b56de6be7136,7,6,1,26343,,,0,"Fix conditional for python3-tripleoclient in undercloud pre-reqs

The current conditional is failing causing the bug below, let's
instead rely on the ansible_python version. Seen as part of the
work at [1]

Related-Bug: 1886681
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: I01c971b8e289e324439edfac8819ed5b3264b9ac
(cherry picked from commit 4c178922b2e91e20d5af47dabdb3bb51936e5249)
(cherry picked from commit c27075d244a648a5860133a9ef4db76688c3cd99)
(cherry picked from commit 44d481df34d73a00d979b3166795083c545faf4c)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/61/747961/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_prerequisites.yaml'],1,a86c9a28155413e98031e372c9b8b56de6be7136,," - ""{{ (ansible_python.version.major is version('3', '>=')) | ternary('python3-tripleoclient', 'python-tripleoclient') }}"""," - ""{{ 'python-tripleoclient' if use_oooq|bool else 'python3-tripleoclient' }}""",1,1
openstack%2Fpuppet-vswitch~master~Ia482693536994c0607861ff190aa5d16508473ad,openstack/puppet-vswitch,master,Ia482693536994c0607861ff190aa5d16508473ad,Add CentOS8 to nodesets,MERGED,2020-05-10 12:51:56.000000000,2020-08-26 12:22:30.000000000,2020-05-11 22:41:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:51:56.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f7c13e404a825c2f96b19295505a551c28d62430', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ia482693536994c0607861ff190aa5d16508473ad\n'}]",0,726622,f7c13e404a825c2f96b19295505a551c28d62430,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ia482693536994c0607861ff190aa5d16508473ad
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/22/726622/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,f7c13e404a825c2f96b19295505a551c28d62430,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3ba96d6e4a0217d32c086f99a27e3e85db21c082,openstack/tripleo-heat-templates,stable/train,I3ba96d6e4a0217d32c086f99a27e3e85db21c082,Create Container configs with a new module,MERGED,2020-08-24 12:38:09.000000000,2020-08-26 12:22:27.000000000,2020-08-26 12:22:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 12:38:09.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49b4b2c9ec0380a9cbce074d19359e1bf0752795', 'message': 'Create Container configs with a new module\n\nTo avoid the repetition of the copy module in a loop for each config,\nwhich increases deployment time at scale, replace it via a module that\nwill run faster to create the json files.\n\nChange-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082\n(cherry picked from commit a266382244576d8f9758316993ce9ac23ee9fe9b)\n'}]",0,747708,49b4b2c9ec0380a9cbce074d19359e1bf0752795,12,4,1,3153,,,0,"Create Container configs with a new module

To avoid the repetition of the copy module in a loop for each config,
which increases deployment time at scale, replace it via a module that
will run faster to create the json files.

Change-Id: I3ba96d6e4a0217d32c086f99a27e3e85db21c082
(cherry picked from commit a266382244576d8f9758316993ce9ac23ee9fe9b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/747708/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,49b4b2c9ec0380a9cbce074d19359e1bf0752795,cconfigs/train," - name: Write container config json files tripleo_container_configs: config_data: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default({}, True) | from_yaml }}"""," - name: Write kolla config json files no_log: True copy: content: ""{{ item[1] | to_nice_json }}"" dest: ""{{ item[0] }}"" force: yes mode: '0600' setype: svirt_sandbox_file_t loop: ""{{ lookup('file', tripleo_role_name + '/kolla_config.yaml', errors='ignore') | default([], True) | from_yaml | dictsort }}"" loop_control: label: ""{{ item[0] }}""",3,11
openstack%2Fpuppet-neutron~master~I2d99977e814f669db59f4b5185f54b05cd723488,openstack/puppet-neutron,master,I2d99977e814f669db59f4b5185f54b05cd723488,Add CentOS8 to nodesets,MERGED,2020-05-10 12:48:21.000000000,2020-08-26 12:22:20.000000000,2020-05-11 22:41:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:48:21.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d16a33c82b682ae1f6a15d50c511f0991a0c2907', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I2d99977e814f669db59f4b5185f54b05cd723488\n'}]",0,726604,d16a33c82b682ae1f6a15d50c511f0991a0c2907,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I2d99977e814f669db59f4b5185f54b05cd723488
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/04/726604/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,d16a33c82b682ae1f6a15d50c511f0991a0c2907,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-mistral~master~I5a00c7877c1c951cc13d9691c62376598cb95605,openstack/puppet-mistral,master,I5a00c7877c1c951cc13d9691c62376598cb95605,Add CentOS8 to nodesets,MERGED,2020-05-10 12:47:52.000000000,2020-08-26 12:22:13.000000000,2020-05-11 22:41:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:47:52.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/287b696a57d8afd93b75c7e0db7d88d37d830106', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I5a00c7877c1c951cc13d9691c62376598cb95605\n'}]",0,726602,287b696a57d8afd93b75c7e0db7d88d37d830106,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I5a00c7877c1c951cc13d9691c62376598cb95605
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/02/726602/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,287b696a57d8afd93b75c7e0db7d88d37d830106,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-glance~master~I84e9c5ec9cc2495c8c60d1dd95837c636c708e16,openstack/puppet-glance,master,I84e9c5ec9cc2495c8c60d1dd95837c636c708e16,Add CentOS8 to nodesets,MERGED,2020-05-10 12:44:55.000000000,2020-08-26 12:22:06.000000000,2020-05-11 22:41:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:44:55.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8c845636dbcd5ae531b30feac1cd8f560adb9b71', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I84e9c5ec9cc2495c8c60d1dd95837c636c708e16\n'}]",0,726593,8c845636dbcd5ae531b30feac1cd8f560adb9b71,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I84e9c5ec9cc2495c8c60d1dd95837c636c708e16
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/93/726593/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,8c845636dbcd5ae531b30feac1cd8f560adb9b71,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-ironic~master~I283a1e3766764391a551df348ad3d95087568640,openstack/puppet-ironic,master,I283a1e3766764391a551df348ad3d95087568640,Add CentOS8 to nodesets,MERGED,2020-05-10 12:46:12.000000000,2020-08-26 12:21:57.000000000,2020-05-11 22:41:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:46:12.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ede867e007a958114fcd1524a4680245e6a3edbb', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I283a1e3766764391a551df348ad3d95087568640\n'}]",0,726598,ede867e007a958114fcd1524a4680245e6a3edbb,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I283a1e3766764391a551df348ad3d95087568640
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/98/726598/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,ede867e007a958114fcd1524a4680245e6a3edbb,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-magnum~master~Iae6bc407588ea025a52b1a4e42c43deecce29cc9,openstack/puppet-magnum,master,Iae6bc407588ea025a52b1a4e42c43deecce29cc9,Add CentOS8 to nodesets,MERGED,2020-05-10 12:46:42.000000000,2020-08-26 12:21:52.000000000,2020-05-11 22:40:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:46:42.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/a8cdfc42663e450589d9ca47d6f6ddc59bd2e87c', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Iae6bc407588ea025a52b1a4e42c43deecce29cc9\n'}]",0,726600,a8cdfc42663e450589d9ca47d6f6ddc59bd2e87c,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Iae6bc407588ea025a52b1a4e42c43deecce29cc9
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/00/726600/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,a8cdfc42663e450589d9ca47d6f6ddc59bd2e87c,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-manila~master~I0862109f259a40afeff9943f5283a6bbe81b7c2d,openstack/puppet-manila,master,I0862109f259a40afeff9943f5283a6bbe81b7c2d,Add CentOS8 to nodesets,MERGED,2020-05-10 12:47:41.000000000,2020-08-26 12:21:45.000000000,2020-05-11 22:40:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:47:41.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f0d5df1c411e645569eca65a19bbad497cc38d67', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I0862109f259a40afeff9943f5283a6bbe81b7c2d\n'}]",0,726601,f0d5df1c411e645569eca65a19bbad497cc38d67,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I0862109f259a40afeff9943f5283a6bbe81b7c2d
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/01/726601/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,f0d5df1c411e645569eca65a19bbad497cc38d67,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-cloudkitty~master~Id94dac48982f41ff452897ec08320e90785898dd,openstack/puppet-cloudkitty,master,Id94dac48982f41ff452897ec08320e90785898dd,Add CentOS8 to nodesets,MERGED,2020-05-10 12:43:26.000000000,2020-08-26 12:21:37.000000000,2020-05-11 22:39:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:43:26.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/4ec71eb62260f319419ed09058d774b638a5cffc', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Id94dac48982f41ff452897ec08320e90785898dd\n'}]",0,726588,4ec71eb62260f319419ed09058d774b638a5cffc,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Id94dac48982f41ff452897ec08320e90785898dd
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/88/726588/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,4ec71eb62260f319419ed09058d774b638a5cffc,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-gnocchi~master~Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b,openstack/puppet-gnocchi,master,Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b,Add CentOS8 to nodesets,MERGED,2020-05-10 12:45:20.000000000,2020-08-26 12:21:31.000000000,2020-05-11 22:39:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:45:20.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/80baf67da71946770e806f0ed664e20526dd39f1', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b\n'}]",0,726595,80baf67da71946770e806f0ed664e20526dd39f1,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ia214a4128f3b260f6e58cb0c4bf9d9dfe3acfc3b
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/95/726595/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,80baf67da71946770e806f0ed664e20526dd39f1,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-horizon~master~Ica172c756425a6bd971f08d2eb2ed73b02fe325d,openstack/puppet-horizon,master,Ica172c756425a6bd971f08d2eb2ed73b02fe325d,Add CentOS8 to nodesets,MERGED,2020-05-10 12:45:56.000000000,2020-08-26 12:21:25.000000000,2020-05-11 22:39:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:45:56.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ce43c2c06f1388e914c2109e859dd531929249cb', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ica172c756425a6bd971f08d2eb2ed73b02fe325d\n'}]",0,726597,ce43c2c06f1388e914c2109e859dd531929249cb,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ica172c756425a6bd971f08d2eb2ed73b02fe325d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/97/726597/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,ce43c2c06f1388e914c2109e859dd531929249cb,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-ec2api~master~Ie3e3351058271288c726c046e4c8d912996169ea,openstack/puppet-ec2api,master,Ie3e3351058271288c726c046e4c8d912996169ea,Add CentOS8 to nodesets,MERGED,2020-05-10 12:44:32.000000000,2020-08-26 12:20:50.000000000,2020-05-11 22:38:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:44:32.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/6aaadbe70e292f627018309b4c416136f9658572', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ie3e3351058271288c726c046e4c8d912996169ea\n'}]",0,726591,6aaadbe70e292f627018309b4c416136f9658572,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ie3e3351058271288c726c046e4c8d912996169ea
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/91/726591/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,6aaadbe70e292f627018309b4c416136f9658572,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-murano~master~I2f819ae0fa189896ac0f234ff7d36581db326093,openstack/puppet-murano,master,I2f819ae0fa189896ac0f234ff7d36581db326093,Add CentOS8 to nodesets,MERGED,2020-05-10 12:48:02.000000000,2020-08-26 12:20:42.000000000,2020-05-11 22:38:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:48:02.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/8f1c3266c06bb955d7c147ccfbf31ad1fd4ad461', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I2f819ae0fa189896ac0f234ff7d36581db326093\n'}]",0,726603,8f1c3266c06bb955d7c147ccfbf31ad1fd4ad461,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I2f819ae0fa189896ac0f234ff7d36581db326093
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/03/726603/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,8f1c3266c06bb955d7c147ccfbf31ad1fd4ad461,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-openstacklib~master~I60bc3b7c77de81f28e08de05636ffff2633ba878,openstack/puppet-openstacklib,master,I60bc3b7c77de81f28e08de05636ffff2633ba878,Add CentOS8 to nodesets,MERGED,2020-05-10 12:49:10.000000000,2020-08-26 12:20:35.000000000,2020-05-11 22:37:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:49:10.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/9d08100f29e05f6ea9c549e7bc578230ce88c623', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I60bc3b7c77de81f28e08de05636ffff2633ba878\n'}]",0,726607,9d08100f29e05f6ea9c549e7bc578230ce88c623,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I60bc3b7c77de81f28e08de05636ffff2633ba878
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/07/726607/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,9d08100f29e05f6ea9c549e7bc578230ce88c623,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-barbican~master~I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7,openstack/puppet-barbican,master,I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7,Add CentOS8 to nodesets,MERGED,2020-05-10 12:41:03.000000000,2020-08-26 12:20:27.000000000,2020-05-11 22:36:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:41:03.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/c17a18ee9210841f4e29feff805757f55ac2a35f', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7\n'}]",0,726585,c17a18ee9210841f4e29feff805757f55ac2a35f,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I02eb2fa800fc8af204eeb6e0826fdd737ab7deb7
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/85/726585/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,c17a18ee9210841f4e29feff805757f55ac2a35f,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-designate~master~I42aca6939adb87830b7e1462a20fc1106bcb0110,openstack/puppet-designate,master,I42aca6939adb87830b7e1462a20fc1106bcb0110,Add CentOS8 to nodesets,MERGED,2020-05-10 12:44:18.000000000,2020-08-26 12:20:21.000000000,2020-05-11 22:36:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:44:18.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d28dcf505f97c959ff8c9b8061c7d3366c2b5cfe', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I42aca6939adb87830b7e1462a20fc1106bcb0110\n'}]",0,726590,d28dcf505f97c959ff8c9b8061c7d3366c2b5cfe,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I42aca6939adb87830b7e1462a20fc1106bcb0110
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/90/726590/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,d28dcf505f97c959ff8c9b8061c7d3366c2b5cfe,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-openstack_extras~master~Ieaf2caa8500427cfdcf5fcef26c385399797566b,openstack/puppet-openstack_extras,master,Ieaf2caa8500427cfdcf5fcef26c385399797566b,Add CentOS8 to nodesets,MERGED,2020-05-10 12:48:51.000000000,2020-08-26 12:20:13.000000000,2020-05-11 22:36:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:48:51.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/479dcf984875b8ada2088fbe1e8f42feb350d190', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ieaf2caa8500427cfdcf5fcef26c385399797566b\n'}]",0,726606,479dcf984875b8ada2088fbe1e8f42feb350d190,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ieaf2caa8500427cfdcf5fcef26c385399797566b
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/06/726606/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,479dcf984875b8ada2088fbe1e8f42feb350d190,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-cinder~master~I05463435f821e867a490df53fb795cccb528e78a,openstack/puppet-cinder,master,I05463435f821e867a490df53fb795cccb528e78a,Add CentOS8 to nodesets,MERGED,2020-05-10 12:42:48.000000000,2020-08-26 12:20:05.000000000,2020-05-11 22:35:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:42:48.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9aff5e674f90f693dade7440b29406c4658413c4', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I05463435f821e867a490df53fb795cccb528e78a\n'}]",0,726587,9aff5e674f90f693dade7440b29406c4658413c4,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I05463435f821e867a490df53fb795cccb528e78a
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/87/726587/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,9aff5e674f90f693dade7440b29406c4658413c4,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-senlin~master~I970c959dc2a8e9e06861f40a8029eadd7a8dda83,openstack/puppet-senlin,master,I970c959dc2a8e9e06861f40a8029eadd7a8dda83,Add CentOS8 to nodesets,MERGED,2020-05-10 12:50:51.000000000,2020-08-26 12:19:58.000000000,2020-05-11 22:35:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:50:51.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/44bffc959abdfa0db53257b3e3ebe775ee2b3638', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I970c959dc2a8e9e06861f40a8029eadd7a8dda83\n'}]",0,726615,44bffc959abdfa0db53257b3e3ebe775ee2b3638,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I970c959dc2a8e9e06861f40a8029eadd7a8dda83
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/15/726615/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,44bffc959abdfa0db53257b3e3ebe775ee2b3638,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-placement~master~Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8,openstack/puppet-placement,master,Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8,Add CentOS8 to nodesets,MERGED,2020-05-10 12:50:07.000000000,2020-08-26 12:19:51.000000000,2020-05-11 22:34:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:50:07.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/4ce86f4a325bbe223aef75118e1a83295c5eab13', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8\n'}]",0,726611,4ce86f4a325bbe223aef75118e1a83295c5eab13,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ief5da68cd9aad4ff965ec44d8f94128e86a4dae8
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/11/726611/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,4ce86f4a325bbe223aef75118e1a83295c5eab13,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-qdr~master~I79268b5a560f3b75d1c18b0eff26034e715fbf3f,openstack/puppet-qdr,master,I79268b5a560f3b75d1c18b0eff26034e715fbf3f,Add CentOS8 to nodesets,MERGED,2020-05-10 12:50:20.000000000,2020-08-26 12:19:44.000000000,2020-05-11 22:34:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:50:20.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/c399a1a698927affc5916e1e5418feb6af28044b', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I79268b5a560f3b75d1c18b0eff26034e715fbf3f\n'}]",0,726612,c399a1a698927affc5916e1e5418feb6af28044b,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I79268b5a560f3b75d1c18b0eff26034e715fbf3f
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/12/726612/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,c399a1a698927affc5916e1e5418feb6af28044b,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-oslo~master~I1bb01ac84ca8d1a858d980a43414c71b6298ebaa,openstack/puppet-oslo,master,I1bb01ac84ca8d1a858d980a43414c71b6298ebaa,Add CentOS8 to nodesets,MERGED,2020-05-10 12:49:26.000000000,2020-08-26 12:19:37.000000000,2020-05-11 22:33:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:49:26.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/480bb6a805602dcda48e139460590d578a48d32d', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I1bb01ac84ca8d1a858d980a43414c71b6298ebaa\n'}]",0,726608,480bb6a805602dcda48e139460590d578a48d32d,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I1bb01ac84ca8d1a858d980a43414c71b6298ebaa
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/08/726608/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,480bb6a805602dcda48e139460590d578a48d32d,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-ceilometer~master~Ic1114c89d903c2144b0cf30040de02af241ccf01,openstack/puppet-ceilometer,master,Ic1114c89d903c2144b0cf30040de02af241ccf01,Add CentOS8 to nodesets,MERGED,2020-05-10 12:42:23.000000000,2020-08-26 12:19:29.000000000,2020-05-11 22:33:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:42:23.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/eb9780b281c1c2c38f6e8a2385a26de6ac26878d', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ic1114c89d903c2144b0cf30040de02af241ccf01\n'}]",0,726586,eb9780b281c1c2c38f6e8a2385a26de6ac26878d,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ic1114c89d903c2144b0cf30040de02af241ccf01
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/86/726586/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,eb9780b281c1c2c38f6e8a2385a26de6ac26878d,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-aodh~master~I272df431b8e71a004761e6a61b3fec9a915b4560,openstack/puppet-aodh,master,I272df431b8e71a004761e6a61b3fec9a915b4560,Add CentOS8 to nodesets,MERGED,2020-05-10 12:40:31.000000000,2020-08-26 12:19:22.000000000,2020-05-11 22:30:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:40:31.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/7e5603773e7bb113d44dd0ddd9ad75c71fc1404a', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: I272df431b8e71a004761e6a61b3fec9a915b4560\n'}]",0,726584,7e5603773e7bb113d44dd0ddd9ad75c71fc1404a,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: I272df431b8e71a004761e6a61b3fec9a915b4560
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/84/726584/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,7e5603773e7bb113d44dd0ddd9ad75c71fc1404a,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fpuppet-freezer~master~Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03,openstack/puppet-freezer,master,Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03,Add CentOS8 to nodesets,MERGED,2020-05-10 12:44:42.000000000,2020-08-26 12:19:15.000000000,2020-05-11 22:29:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:44:42.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/49eec3db7bfa7610bf0e214386bd20b3ea0e3f6c', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03\n'}]",0,726592,49eec3db7bfa7610bf0e214386bd20b3ea0e3f6c,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ic1dce4d6bf6e846003a30278243c0dea1cfa3e03
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/92/726592/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,49eec3db7bfa7610bf0e214386bd20b3ea0e3f6c,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fnova~master~I2617e011619f8a28d2c6faac124f6a9fb40d0c99,openstack/nova,master,I2617e011619f8a28d2c6faac124f6a9fb40d0c99,Fix indentation nits,MERGED,2020-08-18 16:44:29.000000000,2020-08-26 12:19:12.000000000,2020-08-26 12:14:49.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-18 16:44:29.000000000', 'files': ['nova/conf/console.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/982ee741fbd2b023c8151d38194055af07c3a1b7', 'message': 'Fix indentation nits\n\nThis patch fixes a couple of indentation issues that were\ncalled out on a previous review [0]\n\n[0] https://review.opendev.org/#/c/679502\n\nChange-Id: I2617e011619f8a28d2c6faac124f6a9fb40d0c99\n'}]",1,746765,982ee741fbd2b023c8151d38194055af07c3a1b7,17,11,1,7973,,,0,"Fix indentation nits

This patch fixes a couple of indentation issues that were
called out on a previous review [0]

[0] https://review.opendev.org/#/c/679502

Change-Id: I2617e011619f8a28d2c6faac124f6a9fb40d0c99
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/746765/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/console.py'],1,982ee741fbd2b023c8151d38194055af07c3a1b7,fix-nits," help="""""" default='default', choices=[ # These values must align with SSL_OPTIONS in # websockify/websocketproxy.py ('default', 'Use the underlying system OpenSSL defaults'), ('tlsv1_1', 'Require TLS v1.1 or greater for TLS connections'), ('tlsv1_2', 'Require TLS v1.2 or greater for TLS connections'), ('tlsv1_3', 'Require TLS v1.3 or greater for TLS connections'), ], help="""""""," help="""""" default='default', choices=[ # These values must align with SSL_OPTIONS in # websockify/websocketproxy.py ('default', 'Use the underlying system OpenSSL defaults'), ('tlsv1_1', 'Require TLS v1.1 or greater for TLS connections'), ('tlsv1_2', 'Require TLS v1.2 or greater for TLS connections'), ('tlsv1_3', 'Require TLS v1.3 or greater for TLS connections'), ], help=""""""",14,14
openstack%2Fpuppet-glare~master~Ib80418c17151f06b7bf90171965163c736ba5dbc,openstack/puppet-glare,master,Ib80418c17151f06b7bf90171965163c736ba5dbc,Add CentOS8 to nodesets,MERGED,2020-05-10 12:45:07.000000000,2020-08-26 12:18:51.000000000,2020-05-11 22:27:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-10 12:45:07.000000000', 'files': ['spec/acceptance/nodesets/nodepool-centos8.yml'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/a2b9cdb704788476c6d692fba3d813b90afed162', 'message': 'Add CentOS8 to nodesets\n\nChange-Id: Ib80418c17151f06b7bf90171965163c736ba5dbc\n'}]",0,726594,a2b9cdb704788476c6d692fba3d813b90afed162,8,3,1,9816,,,0,"Add CentOS8 to nodesets

Change-Id: Ib80418c17151f06b7bf90171965163c736ba5dbc
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/94/726594/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nodesets/nodepool-centos8.yml'],1,a2b9cdb704788476c6d692fba3d813b90afed162,nodepool-centos8,HOSTS: centos-80-x64: roles: - master platform: el-8-x86_64 hypervisor: none ip: 127.0.0.1 CONFIG: type: foss set_env: false ,,10,0
openstack%2Fnova~master~Idc29c759632850d3d767a261c9f385af71348f65,openstack/nova,master,Idc29c759632850d3d767a261c9f385af71348f65,Remove deprecated scheduler filters,MERGED,2020-08-04 23:11:13.000000000,2020-08-26 12:14:55.000000000,2020-08-26 12:14:55.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-04 23:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d09ac617a3ee27990c0321ddb9bb0f09848e4b90', 'message': 'remove deprecated schduler filters\n\nThe retry filter was deprecated in train.\nThe Aggregate[core|ram|disk] filters were also deprecated in train.\nThis change removes all four deprecated filters and there docs.\n\nChange-Id: Idc29c759632850d3d767a261c9f385af71348f65\n'}, {'number': 2, 'created': '2020-08-06 12:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ae48e910381247ea03a0daa7518e1e4e4cfab02', 'message': 'remove deprecated schduler filters\n\nThe retry filter was deprecated in train.\nThe Aggregate[core|ram|disk] filters were also deprecated in train.\nThis change removes all four deprecated filters and there docs.\n\nChange-Id: Idc29c759632850d3d767a261c9f385af71348f65\n'}, {'number': 3, 'created': '2020-08-11 13:26:14.000000000', 'files': ['nova/scheduler/filters/disk_filter.py', 'nova/scheduler/filters/retry_filter.py', 'nova/scheduler/filters/ram_filter.py', 'nova/tests/unit/scheduler/filters/test_disk_filters.py', 'releasenotes/notes/remove-retry-and-aggregate[core|ram|disk]-filters-f872a85d0b815982.yaml', 'doc/source/admin/aggregates.rst', 'nova/tests/unit/scheduler/filters/test_ram_filters.py', 'doc/source/user/filter-scheduler.rst', 'nova/scheduler/filters/core_filter.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/tests/unit/scheduler/filters/test_retry_filters.py', 'nova/tests/unit/scheduler/filters/test_core_filters.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4939d0d1e27f8acf76985c978919da0fd5ad0a0f', 'message': 'Remove deprecated scheduler filters\n\nThe RetryFilter was deprecated in Train.\nThe Aggregate[core|ram|disk] filters were also deprecated in train.\nThis change removes all four deprecated filters and their docs.\n\nChange-Id: Idc29c759632850d3d767a261c9f385af71348f65\n'}]",14,744800,4939d0d1e27f8acf76985c978919da0fd5ad0a0f,53,14,3,11604,,,0,"Remove deprecated scheduler filters

The RetryFilter was deprecated in Train.
The Aggregate[core|ram|disk] filters were also deprecated in train.
This change removes all four deprecated filters and their docs.

Change-Id: Idc29c759632850d3d767a261c9f385af71348f65
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/744800/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/filters/test_disk_filters.py', 'releasenotes/notes/remove-retry-and-aggregate[core|ram|disk]-filters-f872a85d0b815982.yaml', 'nova/scheduler/filters/disk_filter.py', 'nova/scheduler/filters/retry_filter.py', 'nova/tests/unit/scheduler/filters/test_ram_filters.py', 'doc/source/user/filter-scheduler.rst', 'nova/scheduler/filters/core_filter.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/scheduler/filters/ram_filter.py', 'nova/tests/unit/scheduler/filters/test_retry_filters.py', 'nova/tests/unit/scheduler/filters/test_core_filters.py']",11,d09ac617a3ee27990c0321ddb9bb0f09848e4b90,remove-deprecated-filters,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import objects from nova.scheduler.filters import core_filter from nova import test from nova.tests.unit.scheduler import fakes class TestAggregateCoreFilter(test.NoDBTestCase): @mock.patch('nova.scheduler.filters.utils.aggregate_values_from_key') def test_aggregate_core_filter_value_error(self, agg_mock): self.filt_cls = core_filter.AggregateCoreFilter() spec_obj = objects.RequestSpec( context=mock.sentinel.ctx, flavor=objects.Flavor(vcpus=1)) host = fakes.FakeHostState('host1', 'node1', {'vcpus_total': 4, 'vcpus_used': 7, 'cpu_allocation_ratio': 2}) agg_mock.return_value = set(['XXX']) self.assertTrue(self.filt_cls.host_passes(host, spec_obj)) agg_mock.assert_called_once_with(host, 'cpu_allocation_ratio') self.assertEqual(4 * 2, host.limits['vcpu']) @mock.patch('nova.scheduler.filters.utils.aggregate_values_from_key') def test_aggregate_core_filter_default_value(self, agg_mock): self.filt_cls = core_filter.AggregateCoreFilter() spec_obj = objects.RequestSpec( context=mock.sentinel.ctx, flavor=objects.Flavor(vcpus=1)) host = fakes.FakeHostState('host1', 'node1', {'vcpus_total': 4, 'vcpus_used': 8, 'cpu_allocation_ratio': 2}) agg_mock.return_value = set([]) # False: fallback to default flag w/o aggregates self.assertFalse(self.filt_cls.host_passes(host, spec_obj)) agg_mock.assert_called_once_with(host, 'cpu_allocation_ratio') # True: use ratio from aggregates agg_mock.return_value = set(['3']) self.assertTrue(self.filt_cls.host_passes(host, spec_obj)) self.assertEqual(4 * 3, host.limits['vcpu']) @mock.patch('nova.scheduler.filters.utils.aggregate_values_from_key') def test_aggregate_core_filter_conflict_values(self, agg_mock): self.filt_cls = core_filter.AggregateCoreFilter() spec_obj = objects.RequestSpec( context=mock.sentinel.ctx, flavor=objects.Flavor(vcpus=1)) host = fakes.FakeHostState('host1', 'node1', {'vcpus_total': 4, 'vcpus_used': 8, 'cpu_allocation_ratio': 1}) agg_mock.return_value = set(['2', '3']) # use the minimum ratio from aggregates self.assertFalse(self.filt_cls.host_passes(host, spec_obj)) self.assertEqual(4 * 2, host.limits['vcpu']) ",14,738
openstack%2Fsushy~stable%2Ftrain~Id8c5533d884eaf23b802122f7550791c5012d830,openstack/sushy,stable/train,Id8c5533d884eaf23b802122f7550791c5012d830,Do not log passwords and auth tokens when using SessionService,MERGED,2020-08-26 09:46:59.000000000,2020-08-26 12:00:57.000000000,2020-08-26 11:59:03.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 09:46:59.000000000', 'files': ['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/2c5f96a79a062c8b04cd9dab9ac9fbd5df8b1531', 'message': 'Do not log passwords and auth tokens when using SessionService\n\nConflicts:\n\tsushy/connector.py\n\nChange-Id: Id8c5533d884eaf23b802122f7550791c5012d830\n(cherry picked from commit 5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e)\n'}]",0,748145,2c5f96a79a062c8b04cd9dab9ac9fbd5df8b1531,8,3,1,10239,,,0,"Do not log passwords and auth tokens when using SessionService

Conflicts:
	sushy/connector.py

Change-Id: Id8c5533d884eaf23b802122f7550791c5012d830
(cherry picked from commit 5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/45/748145/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py']",4,2c5f96a79a062c8b04cd9dab9ac9fbd5df8b1531,,"from sushy import utils {'method': method, 'url': url, 'headers': utils.sanitize(headers), 'data': utils.sanitize(data), 'session': extra_session_req_kwargs})"," {'method': method, 'url': url, 'headers': headers, 'data': data, 'session': extra_session_req_kwargs})",29,2
openstack%2Fcharm-glance~stable%2F20.08~Id2504b40e09220c6cb6bb878727ffa181263e3f1,openstack/charm-glance,stable/20.08,Id2504b40e09220c6cb6bb878727ffa181263e3f1,Use register_configs() in openstack-upgrade action,MERGED,2020-08-26 06:30:06.000000000,2020-08-26 11:57:14.000000000,2020-08-26 11:57:14.000000000,"[{'_account_id': 2424}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-26 06:30:06.000000000', 'files': ['actions/openstack_upgrade.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/5c5487ecc0737a91353d2d3e42472ed02240a58b', 'message': 'Use register_configs() in openstack-upgrade action\n\nCONFIGS global variable is no longer populated at load time instead is\nexpected to use register_configs() function as pause/resume actions do.\n\nChange-Id: Id2504b40e09220c6cb6bb878727ffa181263e3f1\nCloses-Bug: #1887483\nRelated-Bug: #1879537\n'}]",0,748118,5c5487ecc0737a91353d2d3e42472ed02240a58b,11,6,1,20870,,,0,"Use register_configs() in openstack-upgrade action

CONFIGS global variable is no longer populated at load time instead is
expected to use register_configs() function as pause/resume actions do.

Change-Id: Id2504b40e09220c6cb6bb878727ffa181263e3f1
Closes-Bug: #1887483
Related-Bug: #1879537
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/18/748118/1 && git format-patch -1 --stdout FETCH_HEAD,['actions/openstack_upgrade.py'],1,5c5487ecc0737a91353d2d3e42472ed02240a58b,bug/1887483-stable/20.08,"from glance_utils import ( do_openstack_upgrade, register_configs, ) register_configs())):", CONFIGSfrom glance_utils import do_openstack_upgrade CONFIGS)):,5,3
openstack%2Fnova~stable%2Fussuri~I32908b77c18f8ec08211dd67be49bbf903611c34,openstack/nova,stable/ussuri,I32908b77c18f8ec08211dd67be49bbf903611c34,libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0,MERGED,2020-08-21 08:23:50.000000000,2020-08-26 11:52:17.000000000,2020-08-26 11:49:58.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-21 08:23:50.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f3b889f4e7e204a140d32d71201c4f23dd54c24', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n'}]",0,747357,3f3b889f4e7e204a140d32d71201c4f23dd54c24,35,8,1,10135,,,0,"libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0

I7eb86edc130d186a66c04b229d46347ec5c0b625 introduced
VIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list
within detach_device_with_retry. While the change correctly referenced
that the error code was introduced in v4.1.0 it made no attempt to
handle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned
to v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the
non-existent error code within the libvirt module.

Closes-Bug: #1891547
Change-Id: I32908b77c18f8ec08211dd67be49bbf903611c34
(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/747357/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,3f3b889f4e7e204a140d32d71201c4f23dd54c24,bug/1887946," @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') @mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume', new=mock.Mock()) def test_detach_volume_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 mountpoint = ""/dev/foo"" expected_disk_dev = ""foo"" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') def test_detach_interface_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr, 'vif_driver') as mock_vif_driver: mock_vif_driver.get_config.return_value = mock.sentinel.cfg mock_vif_driver.get_vif_devname.return_value = mock.sentinel.dev drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=True) ",,141,21
openstack%2Fsushy~stable%2Fstein~Id8c5533d884eaf23b802122f7550791c5012d830,openstack/sushy,stable/stein,Id8c5533d884eaf23b802122f7550791c5012d830,Do not log passwords and auth tokens when using SessionService,MERGED,2020-08-26 09:47:19.000000000,2020-08-26 11:34:09.000000000,2020-08-26 11:21:17.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-26 09:47:19.000000000', 'files': ['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ee5458bbe3df6b7a12d2e7b35cadb8b7bc5a9cff', 'message': 'Do not log passwords and auth tokens when using SessionService\n\nConflicts:\n\tsushy/connector.py\n\nChange-Id: Id8c5533d884eaf23b802122f7550791c5012d830\n(cherry picked from commit 5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e)\n'}]",0,748147,ee5458bbe3df6b7a12d2e7b35cadb8b7bc5a9cff,8,3,1,10239,,,0,"Do not log passwords and auth tokens when using SessionService

Conflicts:
	sushy/connector.py

Change-Id: Id8c5533d884eaf23b802122f7550791c5012d830
(cherry picked from commit 5ffe8ee3b5ae569e5a2241cac5f25fae1bddad3e)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/47/748147/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_utils.py', 'sushy/utils.py', 'releasenotes/notes/no-passwords-295207ac891d27ab.yaml', 'sushy/connector.py']",4,ee5458bbe3df6b7a12d2e7b35cadb8b7bc5a9cff,,"from sushy import utils {'method': method, 'url': url, 'headers': utils.sanitize(headers), 'data': utils.sanitize(data), 'session': extra_session_req_kwargs})"," {'method': method, 'url': url, 'headers': headers, 'data': data, 'session': extra_session_req_kwargs})",29,2
openstack%2Foslo.cache~master~Ieca5e59e36879ce1e0277ee17a1fbe40c7316958,openstack/oslo.cache,master,Ieca5e59e36879ce1e0277ee17a1fbe40c7316958,Add Memcached functional tests to gate,MERGED,2020-08-13 10:24:53.000000000,2020-08-26 11:08:57.000000000,2020-08-26 11:03:48.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-13 10:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f96f61a5f4997ed996365bb2e528635cfd2f11d1', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 2, 'created': '2020-08-13 10:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d70d12263fe86380f87a5e4350ab0622e7ca2b58', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 3, 'created': '2020-08-13 12:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/58d7bd56e06be623a9f73626ff868596da83bd15', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 4, 'created': '2020-08-13 12:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/594b532cd80a220471589a9fa734f0791f66d177', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 5, 'created': '2020-08-13 13:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/27aa4aed935e25917887644ef926246f25ba14d0', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 6, 'created': '2020-08-13 13:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/7241c3524b15931419a674180dbcce58ce081064', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 7, 'created': '2020-08-13 13:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fcef1d3a41e75bdf9f4bf0f4767ce5a9880eb7b9', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 8, 'created': '2020-08-19 13:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d8cc45611593bc95697be4b7d81badcf18738596', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 9, 'created': '2020-08-20 11:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/7ac40bf418324260977073e0ae657243f8febca2', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 10, 'created': '2020-08-20 11:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ce7378705833bbb64a94f02b49d605e4c43722a8', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 11, 'created': '2020-08-20 11:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/4cbc22effab69a04e47ad418363d77224347882c', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 12, 'created': '2020-08-20 12:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2daeb65b9fddd159a8ccb3177b0a35fc73694a68', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}, {'number': 13, 'created': '2020-08-20 12:41:58.000000000', 'files': ['oslo_cache/tests/functional/dogpile_cache_bmemcached/test_cache_backend.py', 'oslo_cache/tests/functional/dogpile_cache_bmemcached/__init__.py', 'bindep.txt', '.zuul.yaml', 'oslo_cache/tests/functional/etcd3gw/test_cache_backend.py', 'oslo_cache/tests/functional/test_base.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a11cde4cc323e14c28c884684417bc5cfc2e9549', 'message': 'Add Memcached functional tests to gate\n\nChange-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958\n'}]",7,746045,a11cde4cc323e14c28c884684417bc5cfc2e9549,43,7,13,27954,,,0,"Add Memcached functional tests to gate

Change-Id: Ieca5e59e36879ce1e0277ee17a1fbe40c7316958
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/45/746045/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f96f61a5f4997ed996365bb2e528635cfd2f11d1,bp/enable-sasl-protocol, name: oslo.cache-functional-tox-py38-etcd3gw parent: oslo.cache-functional-tox-py38 vars: tox_environment: PIFPAF_DAEMON: etcd # The next env var correspond to the functional test # directory to pass to STESTR_TEST_PATH OSLO_BACKEND: etcd3gw - job: name: oslo.cache-functional-tox-py38-memcached parent: oslo.cache-functional-tox-py38 vars: tox_environment: PIFPAF_DAEMON: memcached # The next env var correspond to the functional test # directory to pass to STESTR_TEST_PATH OSLO_BACKEND: memcached - oslo.cache-functional-tox-py38-memcached, name: oslo.cache-functional-tox-py38-etcd3gw parent: oslo.cache-functional-tox-py38 vars: tox_environment: PIFPAF_DAEMON: etcd # The next env var correspond to the functional test # directory to pass to STESTR_TEST_PATH OSLO_BACKEND: etcd3gw,19,8
openstack%2Frequirements~master~Ida27612b3a544a9acf2d7c041aefce2fc3033d8d,openstack/requirements,master,Ida27612b3a544a9acf2d7c041aefce2fc3033d8d,Updated from generate-constraints,MERGED,2020-08-26 06:15:03.000000000,2020-08-26 10:46:01.000000000,2020-08-26 10:44:27.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-26 06:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0d416b89e3072814063b0b50dae5a036bea47323', 'message': 'Updated from generate-constraints\n\nChange-Id: Ida27612b3a544a9acf2d7c041aefce2fc3033d8d\n'}, {'number': 2, 'created': '2020-08-26 06:43:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cc8489e1eb0f87de5fb17648a5802489d56e8aee', 'message': 'Updated from generate-constraints\n\nChange-Id: Ida27612b3a544a9acf2d7c041aefce2fc3033d8d\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,748113,cc8489e1eb0f87de5fb17648a5802489d56e8aee,15,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ida27612b3a544a9acf2d7c041aefce2fc3033d8d
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/748113/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0d416b89e3072814063b0b50dae5a036bea47323,openstack/requirements/constraints/noclob,mock===4.0.2google-api-python-client===1.10.1gabbi===2.0.4pytest-xdist===2.1.0docutils===0.16cmd2===1.3.5pkg-resources===0.0.0,mock===3.0.5google-api-python-client===1.10.0gabbi===2.0.3pytest-xdist===2.0.0docutils===0.15.2cmd2===1.3.4,7,6
openstack%2Fbifrost~bugfix%2F8.3~If617a305d4efc09335f675f1ec68e07cf81970c6,openstack/bifrost,bugfix/8.3,If617a305d4efc09335f675f1ec68e07cf81970c6,Explicitly set permissions on /httpboot contents,MERGED,2020-08-26 00:50:45.000000000,2020-08-26 10:43:12.000000000,2020-08-26 10:40:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 00:50:45.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'releasenotes/notes/releasenote-341a5eebe6168aea.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c64b3a54979194785107e6a75f19e5551573c5ff', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n(cherry picked from commit 1f37c414130d58e64ba6d9d2fc9cc9f7e690453f)\n'}]",0,748058,c64b3a54979194785107e6a75f19e5551573c5ff,8,3,1,32177,,,0,"Explicitly set permissions on /httpboot contents

Ansible versions 2.9.12 and 2.8.14 change default behavior
in regards to applying umask to ansible-created files. Due to
this, newly created files may have overly restrictive permissions,
causing issues in use cases where files need to be world-readable
such as contents of /httpboot folder in Ironic. This patch adds
explicit setting of permissions to ensure Ironic network boot
continues to work correctly.

Change-Id: If617a305d4efc09335f675f1ec68e07cf81970c6
(cherry picked from commit 1f37c414130d58e64ba6d9d2fc9cc9f7e690453f)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/58/748058/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'releasenotes/notes/releasenote-341a5eebe6168aea.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",5,c64b3a54979194785107e6a75f19e5551573c5ff,chmod-fix," copy: src: ""{{ ipxe_dir }}/undionly.kpxe"" dest: /tftpboot/ owner: ironic group: ironic mode: 0644 remote_src: true copy: src: ""{{ ipxe_dir }}/{{ ipxe_full_binary }}"" dest: ""{{ http_boot_folder }}/"" mode: 0644 remote_src: true - name: ""Copy full iPXE image into /tftpboot"" copy: src: ""{{ ipxe_dir }}/{{ ipxe_full_binary }}"" dest: /tftpboot/ owner: ironic group: ironic mode: 0644 remote_src: true copy: src: ""{{ ipxe_dir }}/{{ ipxe_efi_binary }}"" dest: ""{{ http_boot_folder }}/"" mode: 0644 remote_src: true - name: ""Copy iPXE EFI image into /tftpboot"" copy: src: ""{{ ipxe_dir }}/{{ ipxe_efi_binary }}"" dest: /tftpboot/ owner: ironic group: ironic mode: 0644 remote_src: true src: inspector-default-boot-ipxe.j2 dest: ""{{ http_boot_folder }}/pxelinux.cfg/default"" owner: ironic group: ironic mode: 0644"," copy: src={{ ipxe_dir }}/undionly.kpxe dest=/tftpboot/ remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest={{ http_boot_folder }}/ remote_src=true - name: ""Copy full iPXE image into /tftpboot"" copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest=/tftpboot/ remote_src=true - name: Make boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 loop: - /tftpboot/undionly.kpxe - ""/tftpboot/{{ ipxe_full_binary }}"" copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest={{ http_boot_folder }}/ remote_src=true - name: ""Copy iPXE EFI image into /tftpboot"" copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest=/tftpboot/ remote_src=true - name: Make UEFI boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 loop: - ""/tftpboot/{{ ipxe_efi_binary }}"" - ""{{ http_boot_folder }}/{{ ipxe_efi_binary }}"" src=inspector-default-boot-ipxe.j2 dest=""{{ http_boot_folder }}/pxelinux.cfg/default"" owner=ironic group=ironic",83,31
openstack%2Fbifrost~stable%2Fussuri~If617a305d4efc09335f675f1ec68e07cf81970c6,openstack/bifrost,stable/ussuri,If617a305d4efc09335f675f1ec68e07cf81970c6,Explicitly set permissions on /httpboot contents,MERGED,2020-08-26 00:18:33.000000000,2020-08-26 10:37:35.000000000,2020-08-26 10:34:21.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 00:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/290d9ba0922ef4e32ebfe540dcede5bad0324f0f', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n(cherry picked from commit 1f37c41413)\n'}, {'number': 2, 'created': '2020-08-26 00:27:17.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'releasenotes/notes/releasenote-341a5eebe6168aea.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5db92e3d705305648721e7470b09722c5f5d691f', 'message': 'Explicitly set permissions on /httpboot contents\n\nAnsible versions 2.9.12 and 2.8.14 change default behavior\nin regards to applying umask to ansible-created files. Due to\nthis, newly created files may have overly restrictive permissions,\ncausing issues in use cases where files need to be world-readable\nsuch as contents of /httpboot folder in Ironic. This patch adds\nexplicit setting of permissions to ensure Ironic network boot\ncontinues to work correctly.\n\nChange-Id: If617a305d4efc09335f675f1ec68e07cf81970c6\n(cherry picked from commit 1f37c414130d58e64ba6d9d2fc9cc9f7e690453f)\n'}]",0,748054,5db92e3d705305648721e7470b09722c5f5d691f,10,3,2,32177,,,0,"Explicitly set permissions on /httpboot contents

Ansible versions 2.9.12 and 2.8.14 change default behavior
in regards to applying umask to ansible-created files. Due to
this, newly created files may have overly restrictive permissions,
causing issues in use cases where files need to be world-readable
such as contents of /httpboot folder in Ironic. This patch adds
explicit setting of permissions to ensure Ironic network boot
continues to work correctly.

Change-Id: If617a305d4efc09335f675f1ec68e07cf81970c6
(cherry picked from commit 1f37c414130d58e64ba6d9d2fc9cc9f7e690453f)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/54/748054/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'releasenotes/notes/releasenote-341a5eebe6168aea.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",5,290d9ba0922ef4e32ebfe540dcede5bad0324f0f,chmod-fix," copy: src: ""{{ ipxe_dir }}/undionly.kpxe"" dest: /tftpboot/ owner: ironic group: ironic mode: 0644 remote_src: true copy: src: ""{{ ipxe_dir }}/{{ ipxe_full_binary }}"" dest: ""{{ http_boot_folder }}/"" mode: 0644 remote_src: true - name: ""Copy full iPXE image into /tftpboot"" copy: src: ""{{ ipxe_dir }}/{{ ipxe_full_binary }}"" dest: /tftpboot/ owner: ironic group: ironic mode: 0644 remote_src: true copy: src: ""{{ ipxe_dir }}/{{ ipxe_efi_binary }}"" dest: ""{{ http_boot_folder }}/"" mode: 0644 remote_src: true - name: ""Copy iPXE EFI image into /tftpboot"" copy: src: ""{{ ipxe_dir }}/{{ ipxe_efi_binary }}"" dest: /tftpboot/ owner: ironic group: ironic mode: 0644 remote_src: true src: inspector-default-boot-ipxe.j2 dest: ""{{ http_boot_folder }}/pxelinux.cfg/default"" owner: ironic group: ironic mode: 0644"," copy: src={{ ipxe_dir }}/undionly.kpxe dest=/tftpboot/ remote_src=true copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest={{ http_boot_folder }}/ remote_src=true - name: ""Copy full iPXE image into /tftpboot"" copy: src={{ ipxe_dir }}/{{ ipxe_full_binary }} dest=/tftpboot/ remote_src=true - name: Make boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 loop: - /tftpboot/undionly.kpxe - ""/tftpboot/{{ ipxe_full_binary }}"" copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest={{ http_boot_folder }}/ remote_src=true - name: ""Copy iPXE EFI image into /tftpboot"" copy: src={{ ipxe_dir }}/{{ ipxe_efi_binary }} dest=/tftpboot/ remote_src=true - name: Make UEFI boot files owned by ironic and world-readable file: path: ""{{ item }}"" mode: 0644 loop: - ""/tftpboot/{{ ipxe_efi_binary }}"" - ""{{ http_boot_folder }}/{{ ipxe_efi_binary }}"" src=inspector-default-boot-ipxe.j2 dest=""{{ http_boot_folder }}/pxelinux.cfg/default"" owner=ironic group=ironic",83,31
openstack%2Fopenstack-ansible~master~Iecb6cb9474ba02c04768f2d81f4673abe177d760,openstack/openstack-ansible,master,Iecb6cb9474ba02c04768f2d81f4673abe177d760,Remove tempest_test_distro_blacklist,MERGED,2020-08-25 15:33:41.000000000,2020-08-26 10:34:41.000000000,2020-08-26 10:33:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-25 15:33:41.000000000', 'files': ['tests/roles/bootstrap-host/vars/debian.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3522e34d8a85e72b193dd85e71c1e95ea96250f8', 'message': 'Remove tempest_test_distro_blacklist\n\nWe already should have fixed packages, so no need in carrying that.\n\nAlso setting tempest_test_blacklist here causes ignorance in case blacklist\nis specified in user_variables_{{ service }}.yml\n\nChange-Id: Iecb6cb9474ba02c04768f2d81f4673abe177d760\n'}]",0,747981,3522e34d8a85e72b193dd85e71c1e95ea96250f8,8,3,1,28619,,,0,"Remove tempest_test_distro_blacklist

We already should have fixed packages, so no need in carrying that.

Also setting tempest_test_blacklist here causes ignorance in case blacklist
is specified in user_variables_{{ service }}.yml

Change-Id: Iecb6cb9474ba02c04768f2d81f4673abe177d760
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/81/747981/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/vars/debian.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,3522e34d8a85e72b193dd85e71c1e95ea96250f8,,,{% if bootstrap_host_install_method == 'distro' %} tempest_test_blacklist: {{ _tempest_test_distro_blacklist | default([]) }} {% endif %},0,10
openstack%2Fneutron~stable%2Fstein~I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,openstack/neutron,stable/stein,I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,[OVS][FW] Remote SG IDs left behind when a SG is removed,MERGED,2020-08-21 09:55:56.000000000,2020-08-26 10:33:38.000000000,2020-08-26 10:31:20.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-21 09:55:56.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aaf87aeb55949a32412ffdc46089e67c1ca24d54', 'message': '[OVS][FW] Remote SG IDs left behind when a SG is removed\n\nWhen any port in the OVS agent is using a security groups (SG) and\nthis SG is removed, is marked to be deleted. This deletion process\nis done in [1].\n\nThe SG deletion process consists on removing any reference of this SG\nfrom the firewall and the SG port map. The firewall removes this SG in\n[2].\n\nThe information of a SG is stored in:\n* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the\n  conjunction IDS (conj_ids) in a dictionary using the following keys:\n\n    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,\n      conj_ids)] = conj_id_XXX\n\n* ConjIPFlowManager.conj_ids is a nested dictionary, built in the\n  following way:\n\n    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \\\n      set([conj_id_1, conj_id_2, ...])\n\nThis patch stores all conjuntion IDs generated and assigned to the\ntuple (sg_id, remote_sg_id, direction, ethertype). When a SG is\nremoved, the deletion method will look for this SG in the new storage\nvariable created, ConjIdMap.id_map_group, and will mark all the\nconjuntion IDs related to be removed. That will cleanup those rules\nleft in the OVS matching:\n  action=conjunction(conj_id, 1/2)\n\n[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731\n[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399\n\nConflicts:\n      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nChange-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe\nRelated-Bug: #1881157\n(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)\n(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)\n(cherry picked from commit 6615f248e25a361d988db1795a3486a58f4768cb)\n'}]",0,747378,aaf87aeb55949a32412ffdc46089e67c1ca24d54,11,6,1,11975,,,0,"[OVS][FW] Remote SG IDs left behind when a SG is removed

When any port in the OVS agent is using a security groups (SG) and
this SG is removed, is marked to be deleted. This deletion process
is done in [1].

The SG deletion process consists on removing any reference of this SG
from the firewall and the SG port map. The firewall removes this SG in
[2].

The information of a SG is stored in:
* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the
  conjunction IDS (conj_ids) in a dictionary using the following keys:

    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,
      conj_ids)] = conj_id_XXX

* ConjIPFlowManager.conj_ids is a nested dictionary, built in the
  following way:

    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \
      set([conj_id_1, conj_id_2, ...])

This patch stores all conjuntion IDs generated and assigned to the
tuple (sg_id, remote_sg_id, direction, ethertype). When a SG is
removed, the deletion method will look for this SG in the new storage
variable created, ConjIdMap.id_map_group, and will mark all the
conjuntion IDs related to be removed. That will cleanup those rules
left in the OVS matching:
  action=conjunction(conj_id, 1/2)

[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731
[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399

Conflicts:
      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Change-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe
Related-Bug: #1881157
(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)
(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)
(cherry picked from commit 6615f248e25a361d988db1795a3486a58f4768cb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/747378/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,aaf87aeb55949a32412ffdc46089e67c1ca24d54,bug/1881157-stable/stein," test_data = [ # conj_id: 8 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 10 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 1), # conj_id: 12 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 2), # conj_id: 16 ('sg2', 'sg1', constants.EGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 24 ('sg1', 'sg3', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 36 (and 32 without priority offset, stored in id_map) ('sg3', 'sg4', constants.INGRESS_DIRECTION, constants.IPv4, 2), # conj_id: 40 ('sg5', 'sg4', constants.EGRESS_DIRECTION, constants.IPv4, 0), ] conj_id_segment = set([]) # see ConjIPFlowManager.get_conj_id # This is similar to ConjIPFlowManager.add method for sg_id, rsg_id, direction, ip_version, prio_offset in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) conj_id = self.conj_id_map.get_conj_id(*conj_id_tuple) conj_id_segment.add(conj_id) conj_id_plus_prio = conj_id + prio_offset * 2 self.conj_id_map.id_map_group[conj_id_tuple].add(conj_id_plus_prio) ids.append(conj_id_plus_prio) self.assertEqual( {('sg3', 24), ('sg1', 12), ('sg1', 16), ('sg1', 8), ('sg1', 10)}, result) result = self.conj_id_map.delete_sg('sg3') self.assertEqual({('sg4', 32), ('sg4', 36)}, result) result = self.conj_id_map.delete_sg('sg4') self.assertEqual({('sg4', 40)}, result) self.assertEqual({}, self.conj_id_map.id_map) self.assertEqual({}, self.conj_id_map.id_map_group) reallocated = set([]) for sg_id, rsg_id, direction, ip_version, _ in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) reallocated.add(self.conj_id_map.get_conj_id(*conj_id_tuple)) self.assertEqual(reallocated, conj_id_segment) def _sg_removed(self, sg_name): self.manager.sg_removed(sg_name) def test_sg_removed(self): self._sg_removed('sg') self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) self.driver.delete_flow_for_ip.assert_not_called() def test_remote_sg_removed(self): self._sg_removed('remote_id') self.driver._add_flow.assert_not_called() self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) # ""conj_id_to_remove"" is populated with the remote_sg conj_id assigned, # ""_update_flows_for_vlan_subr"" will call ""delete_flow_for_ip"". self.driver.delete_flow_for_ip.assert_called_once_with( '10.22.3.4', 'ingress', 'IPv4', 100, {self.conj_id}) def _test_delete_flows_for_flow_state(self, addr_to_conj, explicitly_egress_direct=True): direction = 'one_direction' ethertype = 'ethertype' vlan_tag = 'taaag' with mock.patch.object(self.firewall, 'delete_flow_for_ip') as \ mock_delete_flow_for_ip: flow_state = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} cfg.CONF.set_override('explicitly_egress_direct', explicitly_egress_direct, 'AGENT') self.firewall.delete_flows_for_flow_state( flow_state, addr_to_conj, direction, ethertype, vlan_tag) calls = [] for removed_ip in set(flow_state.keys()) - set(addr_to_conj.keys()): calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, flow_state[removed_ip])) if explicitly_egress_direct: calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, [0])) mock_delete_flow_for_ip.assert_has_calls(calls) def test_delete_flows_for_flow_state_no_removed_ips_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_no_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj, False) def test_delete_flows_for_flow_state_removed_ips_exp_egress(self): addr_to_conj = {'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}} self._test_delete_flows_for_flow_state(addr_to_conj, False) "," test_data = [('sg1', 'sg1'), ('sg1', 'sg2')] for sg_id, remote_sg_id in test_data: ids.append(self.conj_id_map.get_conj_id( sg_id, remote_sg_id, constants.INGRESS_DIRECTION, constants.IPv6)) self.assertIn(('sg1', ids[0]), result) self.assertIn(('sg2', ids[1]), result) self.assertFalse(self.conj_id_map.id_map) reallocated = self.conj_id_map.get_conj_id( 'sg-foo', 'sg-foo', constants.INGRESS_DIRECTION, constants.IPv6) self.assertIn(reallocated, ids) def test_sg_removed(self): self.manager.sg_removed('sg') self.driver.delete_flows_for_ip_addresses.assert_called_once_with( {'10.22.3.4'}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) cfg.CONF.set_override('explicitly_egress_direct', True, 'AGENT')",169,45
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Ftrain~I56e873114cf85b29233d50a866ee925615dba70b,openstack/openstack-ansible-os_gnocchi,stable/train,I56e873114cf85b29233d50a866ee925615dba70b,Fix run task conditionals,MERGED,2020-08-25 09:54:23.000000000,2020-08-26 10:32:43.000000000,2020-08-26 10:30:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-25 09:54:23.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/6fca7782578fa79bfddeeb6ea6c3e1478cd06c77', 'message': ""Fix run task conditionals\n\nCurrent conditionals didn't work correctly with running tasks with --limit\n\nWe should intersect with ansible_play_hosts to get tasks run for specific\nhost only (ie running with --limit)\n\nChange-Id: I56e873114cf85b29233d50a866ee925615dba70b\n(cherry picked from commit 4fb7413e5717904cc1fe6db678c6a852b2842bde)\n""}]",0,747885,6fca7782578fa79bfddeeb6ea6c3e1478cd06c77,8,3,1,28619,,,0,"Fix run task conditionals

Current conditionals didn't work correctly with running tasks with --limit

We should intersect with ansible_play_hosts to get tasks run for specific
host only (ie running with --limit)

Change-Id: I56e873114cf85b29233d50a866ee925615dba70b
(cherry picked from commit 4fb7413e5717904cc1fe6db678c6a852b2842bde)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/85/747885/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,6fca7782578fa79bfddeeb6ea6c3e1478cd06c77,, - inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] - inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] when: inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] - not gnocchi_identity_only | bool - inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0], - inventory_hostname == groups['gnocchi_all'][0] - inventory_hostname == groups['gnocchi_all'][0] when: inventory_hostname == groups['gnocchi_all'][0] - inventory_hostname == groups['gnocchi_all'][0],5,4
openstack%2Fneutron~stable%2Fqueens~I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,openstack/neutron,stable/queens,I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,[OVS][FW] Remote SG IDs left behind when a SG is removed,MERGED,2020-08-21 10:00:01.000000000,2020-08-26 10:31:26.000000000,2020-08-26 10:31:26.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-21 10:00:01.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0b696f076a94830b040ffcb2dec28e2eabe2e04', 'message': '[OVS][FW] Remote SG IDs left behind when a SG is removed\n\nWhen any port in the OVS agent is using a security groups (SG) and\nthis SG is removed, is marked to be deleted. This deletion process\nis done in [1].\n\nThe SG deletion process consists on removing any reference of this SG\nfrom the firewall and the SG port map. The firewall removes this SG in\n[2].\n\nThe information of a SG is stored in:\n* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the\n  conjunction IDS (conj_ids) in a dictionary using the following keys:\n\n    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,\n      conj_ids)] = conj_id_XXX\n\n* ConjIPFlowManager.conj_ids is a nested dictionary, built in the\n  following way:\n\n    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \\\n      set([conj_id_1, conj_id_2, ...])\n\nThis patch stores all conjuntion IDs generated and assigned to the\ntuple (sg_id, remote_sg_id, direction, ethertype). When a SG is\nremoved, the deletion method will look for this SG in the new storage\nvariable created, ConjIdMap.id_map_group, and will mark all the\nconjuntion IDs related to be removed. That will cleanup those rules\nleft in the OVS matching:\n  action=conjunction(conj_id, 1/2)\n\n[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731\n[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nChange-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe\nRelated-Bug: #1881157\n(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)\n(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)\n(cherry picked from commit 6615f248e25a361d988db1795a3486a58f4768cb)\n'}]",0,747381,d0b696f076a94830b040ffcb2dec28e2eabe2e04,8,5,1,11975,,,0,"[OVS][FW] Remote SG IDs left behind when a SG is removed

When any port in the OVS agent is using a security groups (SG) and
this SG is removed, is marked to be deleted. This deletion process
is done in [1].

The SG deletion process consists on removing any reference of this SG
from the firewall and the SG port map. The firewall removes this SG in
[2].

The information of a SG is stored in:
* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the
  conjunction IDS (conj_ids) in a dictionary using the following keys:

    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,
      conj_ids)] = conj_id_XXX

* ConjIPFlowManager.conj_ids is a nested dictionary, built in the
  following way:

    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \
      set([conj_id_1, conj_id_2, ...])

This patch stores all conjuntion IDs generated and assigned to the
tuple (sg_id, remote_sg_id, direction, ethertype). When a SG is
removed, the deletion method will look for this SG in the new storage
variable created, ConjIdMap.id_map_group, and will mark all the
conjuntion IDs related to be removed. That will cleanup those rules
left in the OVS matching:
  action=conjunction(conj_id, 1/2)

[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731
[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py
    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Change-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe
Related-Bug: #1881157
(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)
(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)
(cherry picked from commit 6615f248e25a361d988db1795a3486a58f4768cb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/747381/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,d0b696f076a94830b040ffcb2dec28e2eabe2e04,bug/1881157," test_data = [ # conj_id: 8 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 10 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 1), # conj_id: 12 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 2), # conj_id: 16 ('sg2', 'sg1', constants.EGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 24 ('sg1', 'sg3', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 36 (and 32 without priority offset, stored in id_map) ('sg3', 'sg4', constants.INGRESS_DIRECTION, constants.IPv4, 2), # conj_id: 40 ('sg5', 'sg4', constants.EGRESS_DIRECTION, constants.IPv4, 0), ] conj_id_segment = set([]) # see ConjIPFlowManager.get_conj_id # This is similar to ConjIPFlowManager.add method for sg_id, rsg_id, direction, ip_version, prio_offset in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) conj_id = self.conj_id_map.get_conj_id(*conj_id_tuple) conj_id_segment.add(conj_id) conj_id_plus_prio = conj_id + prio_offset * 2 self.conj_id_map.id_map_group[conj_id_tuple].add(conj_id_plus_prio) ids.append(conj_id_plus_prio) self.assertEqual( {('sg3', 24), ('sg1', 12), ('sg1', 16), ('sg1', 8), ('sg1', 10)}, result) result = self.conj_id_map.delete_sg('sg3') self.assertEqual({('sg4', 32), ('sg4', 36)}, result) result = self.conj_id_map.delete_sg('sg4') self.assertEqual({('sg4', 40)}, result) self.assertEqual({}, self.conj_id_map.id_map) self.assertEqual({}, self.conj_id_map.id_map_group) reallocated = set([]) for sg_id, rsg_id, direction, ip_version, _ in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) reallocated.add(self.conj_id_map.get_conj_id(*conj_id_tuple)) self.assertEqual(reallocated, conj_id_segment) def _sg_removed(self, sg_name): self.manager.sg_removed(sg_name) def test_sg_removed(self): self._sg_removed('sg') self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) self.driver.delete_flow_for_ip.assert_not_called() def test_remote_sg_removed(self): self._sg_removed('remote_id') self.driver._add_flow.assert_not_called() self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) # ""conj_id_to_remove"" is populated with the remote_sg conj_id assigned, # ""_update_flows_for_vlan_subr"" will call ""delete_flow_for_ip"". self.driver.delete_flow_for_ip.assert_called_once_with( '10.22.3.4', 'ingress', 'IPv4', 100, {self.conj_id}) def _test_delete_flows_for_flow_state(self, addr_to_conj, explicitly_egress_direct=True): direction = 'one_direction' ethertype = 'ethertype' vlan_tag = 'taaag' with mock.patch.object(self.firewall, 'delete_flow_for_ip') as \ mock_delete_flow_for_ip: flow_state = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} cfg.CONF.set_override('explicitly_egress_direct', explicitly_egress_direct, 'AGENT') self.firewall.delete_flows_for_flow_state( flow_state, addr_to_conj, direction, ethertype, vlan_tag) calls = [] for removed_ip in set(flow_state.keys()) - set(addr_to_conj.keys()): calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, flow_state[removed_ip])) if explicitly_egress_direct: calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, [0])) mock_delete_flow_for_ip.assert_has_calls(calls) def test_delete_flows_for_flow_state_no_removed_ips_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_no_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj, False) def test_delete_flows_for_flow_state_removed_ips_exp_egress(self): addr_to_conj = {'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}} self._test_delete_flows_for_flow_state(addr_to_conj, False) "," test_data = [('sg1', 'sg1'), ('sg1', 'sg2')] for sg_id, remote_sg_id in test_data: ids.append(self.conj_id_map.get_conj_id( sg_id, remote_sg_id, firewall.INGRESS_DIRECTION, constants.IPv6)) self.assertIn(('sg1', ids[0]), result) self.assertIn(('sg2', ids[1]), result) self.assertFalse(self.conj_id_map.id_map) reallocated = self.conj_id_map.get_conj_id( 'sg-foo', 'sg-foo', firewall.INGRESS_DIRECTION, constants.IPv6) self.assertIn(reallocated, ids) def test_sg_removed(self): self.manager.sg_removed('sg') self.driver.delete_flows_for_ip_addresses.assert_called_once_with( {'10.22.3.4'}, firewall.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) cfg.CONF.set_override('explicitly_egress_direct', True, 'AGENT')",169,45
openstack%2Fneutron~stable%2Frocky~I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,openstack/neutron,stable/rocky,I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,[OVS][FW] Remote SG IDs left behind when a SG is removed,MERGED,2020-08-21 09:56:18.000000000,2020-08-26 10:31:23.000000000,2020-08-26 10:31:23.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-21 09:56:18.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/abeda5aecef31dfc190e97c770c3a3c8aa40a168', 'message': '[OVS][FW] Remote SG IDs left behind when a SG is removed\n\nWhen any port in the OVS agent is using a security groups (SG) and\nthis SG is removed, is marked to be deleted. This deletion process\nis done in [1].\n\nThe SG deletion process consists on removing any reference of this SG\nfrom the firewall and the SG port map. The firewall removes this SG in\n[2].\n\nThe information of a SG is stored in:\n* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the\n  conjunction IDS (conj_ids) in a dictionary using the following keys:\n\n    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,\n      conj_ids)] = conj_id_XXX\n\n* ConjIPFlowManager.conj_ids is a nested dictionary, built in the\n  following way:\n\n    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \\\n      set([conj_id_1, conj_id_2, ...])\n\nThis patch stores all conjuntion IDs generated and assigned to the\ntuple (sg_id, remote_sg_id, direction, ethertype). When a SG is\nremoved, the deletion method will look for this SG in the new storage\nvariable created, ConjIdMap.id_map_group, and will mark all the\nconjuntion IDs related to be removed. That will cleanup those rules\nleft in the OVS matching:\n  action=conjunction(conj_id, 1/2)\n\n[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731\n[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399\n\nConflicts:\n      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nChange-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe\nRelated-Bug: #1881157\n(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)\n(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)\n(cherry picked from commit 6615f248e25a361d988db1795a3486a58f4768cb)\n'}]",0,747379,abeda5aecef31dfc190e97c770c3a3c8aa40a168,8,5,1,11975,,,0,"[OVS][FW] Remote SG IDs left behind when a SG is removed

When any port in the OVS agent is using a security groups (SG) and
this SG is removed, is marked to be deleted. This deletion process
is done in [1].

The SG deletion process consists on removing any reference of this SG
from the firewall and the SG port map. The firewall removes this SG in
[2].

The information of a SG is stored in:
* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the
  conjunction IDS (conj_ids) in a dictionary using the following keys:

    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,
      conj_ids)] = conj_id_XXX

* ConjIPFlowManager.conj_ids is a nested dictionary, built in the
  following way:

    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \
      set([conj_id_1, conj_id_2, ...])

This patch stores all conjuntion IDs generated and assigned to the
tuple (sg_id, remote_sg_id, direction, ethertype). When a SG is
removed, the deletion method will look for this SG in the new storage
variable created, ConjIdMap.id_map_group, and will mark all the
conjuntion IDs related to be removed. That will cleanup those rules
left in the OVS matching:
  action=conjunction(conj_id, 1/2)

[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731
[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399

Conflicts:
      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Change-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe
Related-Bug: #1881157
(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)
(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)
(cherry picked from commit 6615f248e25a361d988db1795a3486a58f4768cb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/747379/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,abeda5aecef31dfc190e97c770c3a3c8aa40a168,bug/1881157-stable/stein-stable/rocky," test_data = [ # conj_id: 8 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 10 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 1), # conj_id: 12 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 2), # conj_id: 16 ('sg2', 'sg1', constants.EGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 24 ('sg1', 'sg3', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 36 (and 32 without priority offset, stored in id_map) ('sg3', 'sg4', constants.INGRESS_DIRECTION, constants.IPv4, 2), # conj_id: 40 ('sg5', 'sg4', constants.EGRESS_DIRECTION, constants.IPv4, 0), ] conj_id_segment = set([]) # see ConjIPFlowManager.get_conj_id # This is similar to ConjIPFlowManager.add method for sg_id, rsg_id, direction, ip_version, prio_offset in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) conj_id = self.conj_id_map.get_conj_id(*conj_id_tuple) conj_id_segment.add(conj_id) conj_id_plus_prio = conj_id + prio_offset * 2 self.conj_id_map.id_map_group[conj_id_tuple].add(conj_id_plus_prio) ids.append(conj_id_plus_prio) self.assertEqual( {('sg3', 24), ('sg1', 12), ('sg1', 16), ('sg1', 8), ('sg1', 10)}, result) result = self.conj_id_map.delete_sg('sg3') self.assertEqual({('sg4', 32), ('sg4', 36)}, result) result = self.conj_id_map.delete_sg('sg4') self.assertEqual({('sg4', 40)}, result) self.assertEqual({}, self.conj_id_map.id_map) self.assertEqual({}, self.conj_id_map.id_map_group) reallocated = set([]) for sg_id, rsg_id, direction, ip_version, _ in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) reallocated.add(self.conj_id_map.get_conj_id(*conj_id_tuple)) self.assertEqual(reallocated, conj_id_segment) def _sg_removed(self, sg_name): self.manager.sg_removed(sg_name) def test_sg_removed(self): self._sg_removed('sg') self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) self.driver.delete_flow_for_ip.assert_not_called() def test_remote_sg_removed(self): self._sg_removed('remote_id') self.driver._add_flow.assert_not_called() self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) # ""conj_id_to_remove"" is populated with the remote_sg conj_id assigned, # ""_update_flows_for_vlan_subr"" will call ""delete_flow_for_ip"". self.driver.delete_flow_for_ip.assert_called_once_with( '10.22.3.4', 'ingress', 'IPv4', 100, {self.conj_id}) def _test_delete_flows_for_flow_state(self, addr_to_conj, explicitly_egress_direct=True): direction = 'one_direction' ethertype = 'ethertype' vlan_tag = 'taaag' with mock.patch.object(self.firewall, 'delete_flow_for_ip') as \ mock_delete_flow_for_ip: flow_state = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} cfg.CONF.set_override('explicitly_egress_direct', explicitly_egress_direct, 'AGENT') self.firewall.delete_flows_for_flow_state( flow_state, addr_to_conj, direction, ethertype, vlan_tag) calls = [] for removed_ip in set(flow_state.keys()) - set(addr_to_conj.keys()): calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, flow_state[removed_ip])) if explicitly_egress_direct: calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, [0])) mock_delete_flow_for_ip.assert_has_calls(calls) def test_delete_flows_for_flow_state_no_removed_ips_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_no_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj, False) def test_delete_flows_for_flow_state_removed_ips_exp_egress(self): addr_to_conj = {'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}} self._test_delete_flows_for_flow_state(addr_to_conj, False) "," test_data = [('sg1', 'sg1'), ('sg1', 'sg2')] for sg_id, remote_sg_id in test_data: ids.append(self.conj_id_map.get_conj_id( sg_id, remote_sg_id, constants.INGRESS_DIRECTION, constants.IPv6)) self.assertIn(('sg1', ids[0]), result) self.assertIn(('sg2', ids[1]), result) self.assertFalse(self.conj_id_map.id_map) reallocated = self.conj_id_map.get_conj_id( 'sg-foo', 'sg-foo', constants.INGRESS_DIRECTION, constants.IPv6) self.assertIn(reallocated, ids) def test_sg_removed(self): self.manager.sg_removed('sg') self.driver.delete_flows_for_ip_addresses.assert_called_once_with( {'10.22.3.4'}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) cfg.CONF.set_override('explicitly_egress_direct', True, 'AGENT')",169,45
openstack%2Fironic~master~Ib47a5894d7b05346726c5b8ae8668dc8512cc322,openstack/ironic,master,Ib47a5894d7b05346726c5b8ae8668dc8512cc322,Enforce autospec in ilo tests,MERGED,2020-08-25 15:53:25.000000000,2020-08-26 10:30:16.000000000,2020-08-26 10:24:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-25 15:53:25.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'ironic/tests/unit/drivers/modules/ilo/test_power.py', 'ironic/tests/unit/drivers/modules/ilo/test_firmware_processor.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8fff98a6f95ce4bd14e562ec69951680b8a12ac3', 'message': 'Enforce autospec in ilo tests\n\nAnd remove corresponding filter in tox.ini\n\nChange-Id: Ib47a5894d7b05346726c5b8ae8668dc8512cc322\n'}]",3,747983,8fff98a6f95ce4bd14e562ec69951680b8a12ac3,12,5,1,11076,,,0,"Enforce autospec in ilo tests

And remove corresponding filter in tox.ini

Change-Id: Ib47a5894d7b05346726c5b8ae8668dc8512cc322
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/747983/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'ironic/tests/unit/drivers/modules/ilo/test_power.py', 'ironic/tests/unit/drivers/modules/ilo/test_firmware_processor.py', 'tox.ini']",6,8fff98a6f95ce4bd14e562ec69951680b8a12ac3,enforce-autospec,, ironic/tests/unit/drivers/modules/ilo/*:H210,56,44
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fussuri~I56e873114cf85b29233d50a866ee925615dba70b,openstack/openstack-ansible-os_gnocchi,stable/ussuri,I56e873114cf85b29233d50a866ee925615dba70b,Fix run task conditionals,MERGED,2020-08-25 09:54:08.000000000,2020-08-26 10:13:44.000000000,2020-08-26 10:12:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-25 09:54:08.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/278b3d36f3487401ef5067b99571fa12f40a8b55', 'message': ""Fix run task conditionals\n\nCurrent conditionals didn't work correctly with running tasks with --limit\n\nWe should intersect with ansible_play_hosts to get tasks run for specific\nhost only (ie running with --limit)\n\nChange-Id: I56e873114cf85b29233d50a866ee925615dba70b\n(cherry picked from commit 4fb7413e5717904cc1fe6db678c6a852b2842bde)\n""}]",0,747884,278b3d36f3487401ef5067b99571fa12f40a8b55,11,3,1,28619,,,0,"Fix run task conditionals

Current conditionals didn't work correctly with running tasks with --limit

We should intersect with ansible_play_hosts to get tasks run for specific
host only (ie running with --limit)

Change-Id: I56e873114cf85b29233d50a866ee925615dba70b
(cherry picked from commit 4fb7413e5717904cc1fe6db678c6a852b2842bde)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/84/747884/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,278b3d36f3487401ef5067b99571fa12f40a8b55,, - inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] - inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] when: inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0] - not gnocchi_identity_only | bool - inventory_hostname == (groups['gnocchi_all'] | intersect(ansible_play_hosts))[0], - inventory_hostname == groups['gnocchi_all'][0] - inventory_hostname == groups['gnocchi_all'][0] when: inventory_hostname == groups['gnocchi_all'][0] - inventory_hostname == groups['gnocchi_all'][0],5,4
openstack%2Fopenstack-ansible-os_masakari~stable%2Fussuri~I06f8580cbcf7a2633077bb8429c90474837644f0,openstack/openstack-ansible-os_masakari,stable/ussuri,I06f8580cbcf7a2633077bb8429c90474837644f0,Add masakari-monitors to constraints,MERGED,2020-08-25 09:55:38.000000000,2020-08-26 10:02:50.000000000,2020-08-26 10:00:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-25 09:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/57fed0123beb615f0da616ba62b4cc65b7707a1d', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nDepends-On: https://review.opendev.org/745572\nDepends-On: https://review.opendev.org/739146\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n(cherry picked from commit 5935901b8ef01c8f5b93bcbab5dc47ecb3ebe8ab)\n'}, {'number': 2, 'created': '2020-08-25 09:56:13.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/033a02415063fba36434c8e0efd1bb9931ca60ed', 'message': 'Add masakari-monitors to constraints\n\nmasakari-monitors egg was missing from contraints, which resulted in\nfailures while installing it dependencies for py2 on stable branches\n\nChange-Id: I06f8580cbcf7a2633077bb8429c90474837644f0\n(cherry picked from commit 5935901b8ef01c8f5b93bcbab5dc47ecb3ebe8ab)\n'}]",0,747886,033a02415063fba36434c8e0efd1bb9931ca60ed,9,3,2,28619,,,0,"Add masakari-monitors to constraints

masakari-monitors egg was missing from contraints, which resulted in
failures while installing it dependencies for py2 on stable branches

Change-Id: I06f8580cbcf7a2633077bb8429c90474837644f0
(cherry picked from commit 5935901b8ef01c8f5b93bcbab5dc47ecb3ebe8ab)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/86/747886/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,57fed0123beb615f0da616ba62b4cc65b7707a1d,,"masakari_monitors_git_repo: https://opendev.org/openstack/masakari-monitorsmasakari_monitors_git_install_branch: master - ""git+{{ masakari_monitors_git_repo }}@{{ masakari_monitors_git_install_branch }}#egg=masakari-monitors""",,3,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ibcde24ced64da56c693d587b4cba0ca205405a27,openstack/tripleo-upgrade,stable/train,Ibcde24ced64da56c693d587b4cba0ca205405a27,Comment out also the wrapped l3 check for Ceph,MERGED,2020-08-21 09:34:31.000000000,2020-08-26 09:58:27.000000000,2020-08-26 09:58:27.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-21 09:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e8f9cb1cf4da6a8301ab6dab60ae749556a35c81', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n(cherry picked from commit 81917a2a7b4dd8edeebfbc4a7ed174def3b394a8)\n'}, {'number': 2, 'created': '2020-08-21 11:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/de6fa976392396108b7be8d4f97d512b18f8aafd', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n(cherry picked from commit eef0d2114dd2188d0dfdd4d76c1472a133acf262)\n'}, {'number': 3, 'created': '2020-08-21 15:41:40.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/24508d842d12810923ec7ff55411f192f86c1e24', 'message': 'Comment out also the wrapped l3 check for Ceph\n\nDue to need to refactor the whole workload and l3 check code we\nfor now disable the wrapped ones as we are still running another\nl3 check in the upgrade scripts them self.\n\nChange-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27\n(cherry picked from commit 0f712ad1d553fb4a4a85175c51ccde9786a3a048)\n'}]",1,747376,24508d842d12810923ec7ff55411f192f86c1e24,17,4,3,6816,,,0,"Comment out also the wrapped l3 check for Ceph

Due to need to refactor the whole workload and l3 check code we
for now disable the wrapped ones as we are still running another
l3 check in the upgrade scripts them self.

Change-Id: Ibcde24ced64da56c693d587b4cba0ca205405a27
(cherry picked from commit 0f712ad1d553fb4a4a85175c51ccde9786a3a048)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/76/747376/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,e8f9cb1cf4da6a8301ab6dab60ae749556a35c81,ffwd-upgrade2," # This l3 check code is for now commented out for two reasons: # 1) There is separate ping test in overcloud upgrade run which # will be running at the same time, but the cleanup script runs # kill -s INT $(pidof ping) which will kill them both and than # we will fail on the final cleanup. # 2) The workload creation and cleanup scripts work in simillar # way. The workload cleanup does not check which workload we # are cleaning specifically but it just removes first one on # the list which in our case will be the host we are pinging # here. # - name: start L3 verification scripts # include_tasks: ""{{ item }}"" # args: # apply: # tags: ffu_overcloud_ceph # loop: # - '../common/l3_agent_connectivity_check_start_script.yml' # - '../common/l3_agent_failover_check_pre_script.yml' # tags: ffu_overcloud_ceph # - name: stop L3 verification scripts # include_tasks: ""{{ item }}"" # args: # apply: # tags: ffu_overcloud_ceph # loop: # - '../common/l3_agent_connectivity_check_stop_script.yml' # - '../common/l3_agent_failover_check_post_script.yml' # tags: ffu_overcloud_ceph"," - name: start L3 verification scripts include_tasks: ""{{ item }}"" args: apply: tags: ffu_overcloud_ceph loop: - '../common/l3_agent_connectivity_check_start_script.yml' - '../common/l3_agent_failover_check_pre_script.yml' tags: ffu_overcloud_ceph - name: stop L3 verification scripts include_tasks: ""{{ item }}"" args: apply: tags: ffu_overcloud_ceph loop: - '../common/l3_agent_connectivity_check_stop_script.yml' - '../common/l3_agent_failover_check_post_script.yml' tags: ffu_overcloud_ceph",28,18
openstack%2Fnova~stable%2Fussuri~Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,openstack/nova,stable/ussuri,Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98,libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration,MERGED,2020-08-25 15:03:28.000000000,2020-08-26 09:55:37.000000000,2020-08-26 09:45:41.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-25 15:03:28.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bbf9d1de06e9991acd968fceee899a8df3776d60', 'message': 'libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration\n\nThe VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt\nv1.3.4 and is used to provide the new persistent configuration for the\ndestination during a live migration:\n\nhttps://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML\n\nWithout this parameter the persistent configuration on the destination\nwill be the same as the original persistent configuration on the source\nwhen the VIR_MIGRATE_PERSIST_DEST flag is provided.\n\nAs Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML\nparam but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that\na soft reboot by Nova of the instance after a live migration can revert\nthe domain back to the original persistent configuration from the\nsource.\n\nNote that this is only possible in Nova as a soft reboot actually\nresults in the virDomainShutdown and virDomainLaunch libvirt APIs being\ncalled that recreate the domain using the persistent configuration.\nvirDomainReboot does not result in this but is not called at this time.\n\nThe impact of this on the instance after the soft reboot is pretty\nsevere, host devices referenced in the original persistent configuration\non the source may not exist or could even be used by other users on the\ndestination. CPU and NUMA affinity could also differ drastically between\nthe two hosts resulting in the instance being unable to start etc.\n\nAs MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the\nVIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the\ndestination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.\n\nNOTE(lyarwood): A simple change to test_migrate_v3_unicode is included\nas Iccce0ab50eee515e533ab36c8e7adc10cb3f7019 had removed this from\nmaster.\n\nCo-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>\nCloses-Bug: #1890501\nChange-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98\n(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)\n'}]",1,747972,bbf9d1de06e9991acd968fceee899a8df3776d60,21,9,1,10135,,,0,"libvirt: Provide VIR_MIGRATE_PARAM_PERSIST_XML during live migration

The VIR_MIGRATE_PARAM_PERSIST_XML parameter was introduced in libvirt
v1.3.4 and is used to provide the new persistent configuration for the
destination during a live migration:

https://libvirt.org/html/libvirt-libvirt-domain.html#VIR_MIGRATE_PARAM_PERSIST_XML

Without this parameter the persistent configuration on the destination
will be the same as the original persistent configuration on the source
when the VIR_MIGRATE_PERSIST_DEST flag is provided.

As Nova does not currently provide the VIR_MIGRATE_PARAM_PERSIST_XML
param but does provide the VIR_MIGRATE_PERSIST_DEST flag this means that
a soft reboot by Nova of the instance after a live migration can revert
the domain back to the original persistent configuration from the
source.

Note that this is only possible in Nova as a soft reboot actually
results in the virDomainShutdown and virDomainLaunch libvirt APIs being
called that recreate the domain using the persistent configuration.
virDomainReboot does not result in this but is not called at this time.

The impact of this on the instance after the soft reboot is pretty
severe, host devices referenced in the original persistent configuration
on the source may not exist or could even be used by other users on the
destination. CPU and NUMA affinity could also differ drastically between
the two hosts resulting in the instance being unable to start etc.

As MIN_LIBVIRT_VERSION is now > v1.3.4 this change simply includes the
VIR_MIGRATE_PARAM_PERSIST_XML param using the same updated XML for the
destination as is already provided to VIR_MIGRATE_PARAM_DEST_XML.

NOTE(lyarwood): A simple change to test_migrate_v3_unicode is included
as Iccce0ab50eee515e533ab36c8e7adc10cb3f7019 had removed this from
master.

Co-authored-by: Tadayoshi Hosoya <tad-hosoya@wr.jp.nec.com>
Closes-Bug: #1890501
Change-Id: Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98
(cherry picked from commit 1bb8ee95d4c3ddc3f607ac57526b75af1b7fbcff)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/747972/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,bbf9d1de06e9991acd968fceee899a8df3776d60,bug/1890501," 'persistent_xml': target_xml, 'destination_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': target_xml, 'persistent_xml': '<xml/>', 'persistent_xml': '<xml/>',", 'destination_xml': target_xml,10,1
openstack%2Fglance_store~master~I106c408a394ce8018c11560a60fe1a160b898ec3,openstack/glance_store,master,I106c408a394ce8018c11560a60fe1a160b898ec3,Remove translation sections from setup.cfg,MERGED,2020-07-03 14:10:27.000000000,2020-08-26 09:40:44.000000000,2020-08-26 09:38:57.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 14:10:27.000000000', 'files': ['babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3e9ecdeead716b06b669517d1c1ba70d73fd1fd9', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nRemove babel.cfg as well, this is the default role and not needed\nanymore.\n\nalso remove Babel from requirements[1]\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I106c408a394ce8018c11560a60fe1a160b898ec3\n'}]",0,739243,3e9ecdeead716b06b669517d1c1ba70d73fd1fd9,8,3,1,26285,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Remove babel.cfg as well, this is the default role and not needed
anymore.

also remove Babel from requirements[1]
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I106c408a394ce8018c11560a60fe1a160b898ec3
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/43/739243/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'lower-constraints.txt', 'setup.cfg']",3,3e9ecdeead716b06b669517d1c1ba70d73fd1fd9,,, [compile_catalog] directory = glance_store/locale domain = glance_store [update_catalog] domain = glance_store output_dir = glance_store/locale input_file = glance_store/locale/glance_store.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = glance_store/locale/glance_store.pot,0,16
openstack%2Fnova~master~I2d15af56fece3c5bba7583d51578b57f76a5fb70,openstack/nova,master,I2d15af56fece3c5bba7583d51578b57f76a5fb70,Provider Config File: Function to further validate and retrieve configs,MERGED,2019-08-13 00:00:13.000000000,2020-08-26 09:14:44.000000000,2020-08-25 15:39:03.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29334}, {'_account_id': 29745}, {'_account_id': 29963}, {'_account_id': 30192}, {'_account_id': 31940}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-08-13 00:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04b4bc1e31a8c5bd94f69bba4825231bb182f609', 'message': 'WIP: Load custom providers to Resource Tracker\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is consumed by\nthe resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 2, 'created': '2019-08-13 00:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9c0894023c44c9c5f8c17f529c2959140584c23', 'message': 'WIP: Load custom providers to Resource Tracker\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is consumed by\nthe resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 3, 'created': '2019-08-13 21:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f330ea5b17f15e12ce67de308e95da8cf45c8cd5', 'message': 'WIP: Load custom providers to Resource Tracker\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is consumed by\nthe resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 4, 'created': '2019-08-13 23:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c81523d1b1629d86062100f3c09d8455a04864fe', 'message': 'WIP: Load custom providers to Resource Tracker\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is consumed by\nthe resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 5, 'created': '2019-08-14 21:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b700580bad30d29284518501424e156608dd2f8a', 'message': 'WIP: Public method to retrieve custom resource providers\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is intended to be\nconsumed by the resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 6, 'created': '2019-08-15 19:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6b6e45983a2e3169d0df223c00581bd891a3ecc', 'message': 'WIP: Public method to retrieve custom resource providers\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is intended to be\nconsumed by the resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 7, 'created': '2019-08-16 00:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d860490c740b52e7290bc763b1b1f73b6fe3ea58', 'message': 'WIP: Public method to retrieve custom resource providers\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is intended to be\nconsumed by the resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 8, 'created': '2019-08-20 23:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/258ff085915f8f8e5e5301818327dde85ab29c40', 'message': 'Public method to retrieve custom resource providers\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is intended to be\nconsumed by the resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 9, 'created': '2019-08-28 05:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db7bab1162b0e03bc447c7e8041e489d68440baf', 'message': 'Public method to retrieve custom resource providers\n\nThe previous commit provides private methods to read, parse, and schema\nvalidate provider.yaml files. This commit includes deeper validation of\nthe resource providers as well as a public method to load, parse,\nvalidate, and return all custom resource providers from a directory\ncontaining provider.yaml files. This new public method is intended to be\nconsumed by the resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 10, 'created': '2019-09-01 20:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04436cb38c91e2f393973ae2d7f1f38ac91fa628', 'message': 'Provider Config File: Public method to retrieve custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis second commit includes deeper validation of the custom resources,\nas well as a public method to load, parse, validate, and return all\ncustom resources from a directory containing provider.yaml files. This\nnew public method is intended to be consumed by the resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 11, 'created': '2019-09-02 17:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a67f2076b71d1a23d82c7e346e46aa8b2e00eff', 'message': 'Provider Config File: Public method to retrieve custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis second commit includes deeper validation of the custom resources,\nas well as a public method to load, parse, validate, and return all\ncustom resources from a directory containing provider.yaml files. This\nnew public method is intended to be consumed by the resource tracker.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 12, 'created': '2019-09-04 05:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86016ce38feab928cd5c15e5ee5957b2cc6e3441', 'message': 'WIP: Provider Config File: Public method to retrieve custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis second commit includes deeper validation of the custom resources,\nas well as a public method to load, parse, validate, and return all\ncustom resources from a directory containing provider.yaml files. This\nnew public method is intended to be consumed by the resource tracker.\n\nTODO: Determine how to handle conflicting traits, rework raised\nexceptions, additional tests, and check for identification conflicts\nwhen using differing identification methods.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 13, 'created': '2019-09-04 18:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ea38bb91b5263888cb78ab3a0b51559590971ff', 'message': 'WIP: Provider Config File: Public method to retrieve custom resources\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis second commit includes deeper validation of the custom resources,\nas well as a public method to load, parse, validate, and return all\ncustom resources from a directory containing provider.yaml files. This\nnew public method is intended to be consumed by the resource tracker.\n\nTODO: Determine how to handle conflicting traits, rework raised\nexceptions, additional tests, and check for identification conflicts\nwhen using differing identification methods.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\n'}, {'number': 14, 'created': '2019-09-05 00:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d7e25a0bc0a693862470f8eb8e0f02eb5f8212f', 'message': 'WIP: Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker.\n\nTODO: Determine how to handle conflicting traits, rework raised\nexceptions, additional tests, and check for identification conflicts\nwhen using differing identification methods.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 15, 'created': '2019-09-18 23:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b02bd11774d5d43a53fae4d1cfb03c9965e6589d', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 16, 'created': '2019-09-19 22:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1cf58013c8e9ffe9438a64f57bb08f0ed17b4f8', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 17, 'created': '2019-10-14 22:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c26d483b3ecb0bc0ffcd98cfcc4a71bbfd0c35a1', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 18, 'created': '2019-10-15 02:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f625628b6043416828048b8f15aea8a128d0d1a7', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 19, 'created': '2019-10-15 20:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/056ec515f6ff8d91d9340b9dbb19bf926541bc5b', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 20, 'created': '2019-10-19 01:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a23d619b86750aa2c56e057f4d4569b4cef1d58', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 21, 'created': '2019-10-23 04:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5abd79619a4aed86df2a2e4af9d33361a529fcf', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 22, 'created': '2019-10-23 18:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7437bd98f9bbdfb0e2cb05fca3a9456aa27dace', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 23, 'created': '2019-10-23 22:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0552b5d0ee4d130fc85d10145a374cdf676cf9bf', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 24, 'created': '2019-10-24 20:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/450a850ef6f41f04fc3dfbf8889feeae6f79b27c', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nTODO: More tests.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 25, 'created': '2019-11-05 19:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ae60e8293a5d9f22759cdcd8dd55b50b85bc3e4', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 26, 'created': '2019-11-05 21:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/368ae6f5ea024bb737172ad6bbec8e81c4164c60', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 27, 'created': '2019-11-23 00:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/811cf64f2a6febb85277403a2e73cd54b21c2007', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 28, 'created': '2019-11-27 18:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b25383a090c5e9cb21fcf8a8bd0e5d4979c99a71', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 29, 'created': '2019-12-02 21:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1948cacd8c14f8404d64bb223f6d1bfbee7e795f', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 30, 'created': '2019-12-20 21:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d55de813a5a749cdc08a75fa685c9f9165d4ed94', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 31, 'created': '2020-01-08 03:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd73b4c3aaa1a49f34e551b783540f7962f95d91', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 32, 'created': '2020-01-14 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad50c8f8ffddb5450443af0164762202bd679116', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 33, 'created': '2020-01-15 06:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1d16c6c2e97ea2857b3868603dec62c1ab3bd5c', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 34, 'created': '2020-01-16 21:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ce0af574c71d205652f22932542aa176c40f38c', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 35, 'created': '2020-02-28 20:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/994ec5b2ac1dd9d2c0c3bcaa34a8e6dd2ce59538', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 36, 'created': '2020-03-12 12:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/166e33526ff3eff74c1e9ec26facc460d1ee6eb7', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 37, 'created': '2020-03-12 12:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5313171669fedeb35f5ae7742f2b6201ffd888b8', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 38, 'created': '2020-03-12 14:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80986fb9a902289532778e9377c28a9acff1940e', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 39, 'created': '2020-03-12 18:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/171910be3342e36e49134fa258b550728c7912b5', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 40, 'created': '2020-05-13 11:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50bb6c93fb29017d6232c0044aa37d3c1525a850', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 41, 'created': '2020-05-19 06:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85c1fb6ee530f8c1823684a4b8cbe37721f445d8', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 42, 'created': '2020-05-19 06:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd101188d37da42831317fe663fb08b1a61a285b', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 43, 'created': '2020-07-01 02:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0377c79095901ed740e37d130d700c5a3d20e71f', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 44, 'created': '2020-07-07 06:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8324c22c49246aeb606406a6ec6f0f911c66f31', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 45, 'created': '2020-07-09 02:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/426bd35e0c2c8fb4bba6e49178e6c269fd4dcef6', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 46, 'created': '2020-07-09 04:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08c025494eb3effb7fa531ea2ae3a5f2fbc5bed6', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 47, 'created': '2020-07-20 03:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf5fdce723cc191461ccdfd85f432ca0c746370', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 48, 'created': '2020-07-30 03:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/401685278873622c1d2b5d66a15a4cc21e2b2fa1', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 49, 'created': '2020-07-30 07:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b297b73a67f2a496eb042b0edeb4a1cd97dc1402', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 50, 'created': '2020-08-03 01:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c597379a2a103877a4b29e5aea574243fcc1b57', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}, {'number': 51, 'created': '2020-08-07 04:07:01.000000000', 'files': ['nova/tests/unit/compute/test_provider_config.py', 'nova/tests/unit/compute/provider_config_data/validate_provider_test_data.yaml', 'nova/tests/unit/compute/provider_config_data/v1/example_provider.yaml', 'nova/compute/provider_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c69c86f18a390f12e941ea04c5cfa0dc6c92039', 'message': 'Provider Config File: Function to further validate and retrieve configs\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis second commit includes deeper validation of the custom resources,\nas well as a function to load, parse, validate, and return all provider\nconfigs from a directory containing provider.yaml files. This new\nfunction is intended to be consumed by the resource tracker in a later\npatch.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nChange-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70\nBlueprint: provider-config-file\n'}]",207,676029,8c69c86f18a390f12e941ea04c5cfa0dc6c92039,487,25,51,29745,,,0,"Provider Config File: Function to further validate and retrieve configs

This series implements the referenced blueprint to allow for specifying
custom resource provider traits and inventories via yaml config files.

This second commit includes deeper validation of the custom resources,
as well as a function to load, parse, validate, and return all provider
configs from a directory containing provider.yaml files. This new
function is intended to be consumed by the resource tracker in a later
patch.

Co-Author: Tony Su <tao.su@intel.com>
Author: Dustin Cowles <dustin.cowles@intel.com>
Change-Id: I2d15af56fece3c5bba7583d51578b57f76a5fb70
Blueprint: provider-config-file
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/676029/33 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_provider_config.py', 'nova/compute/provider_config.py', 'nova/compute/resource_tracker.py']",3,04b4bc1e31a8c5bd94f69bba4825231bb182f609,bp/provider-config-file,"from nova.compute import provider_config # TODO(dustinc): Load path from config and pass here and more tests. # Once the config option is in place, the try/except can be removed try: self.custom_resourves = provider_config.get_custom_resources( CONF.compute.provider_config) except nova.conf.cfg.NoSuchOptError: self.custom_resourves = None ",,158,0
openstack%2Fpuppet-keystone~stable%2Fussuri~I5fc2b81f8a48e51a60daea311530645ce05f5fc5,openstack/puppet-keystone,stable/ussuri,I5fc2b81f8a48e51a60daea311530645ce05f5fc5,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:33:18.000000000,2020-08-26 09:13:09.000000000,2020-08-26 09:13:09.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:33:18.000000000', 'files': ['spec/acceptance/keystone_federation_identity_provider_spec.rb', 'spec/acceptance/keystone_federation_shibboleth_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb', 'spec/acceptance/default_domain_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/13fcea14caa8faf73f8fecefb2823e93b83d6b58', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I5fc2b81f8a48e51a60daea311530645ce05f5fc5\n(cherry picked from commit 093e6f16fa04565be05c56570ffbf3e4dad22f71)\n'}]",0,747947,13fcea14caa8faf73f8fecefb2823e93b83d6b58,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I5fc2b81f8a48e51a60daea311530645ce05f5fc5
(cherry picked from commit 093e6f16fa04565be05c56570ffbf3e4dad22f71)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/47/747947/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/keystone_federation_identity_provider_spec.rb', 'spec/acceptance/default_domain_spec.rb', 'spec/acceptance/keystone_federation_shibboleth_spec.rb', 'spec/acceptance/keystone_wsgi_apache_spec.rb']",4,13fcea14caa8faf73f8fecefb2823e93b83d6b58,centos8-beaker-stable/ussuri, include openstack_integration::apache,,4,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,openstack/python-tripleoclient,stable/train,Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,TCIB: add --rhel-modules argument,MERGED,2020-08-21 13:40:51.000000000,2020-08-26 09:08:06.000000000,2020-08-26 09:06:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 13:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8cb30be2e60ad6d247dd318096da596538449315', 'message': ""TCIB: add --rhel-modules argument\n\n--rhel-modules is a new argument that will let us override the hardcoded\nRHEL module versions that are provided in the base image.\n\nFor example, if we want to build the images against a specific module\nversion, we'll now be able to do the following:\n\n  $ openstack tripleo container image build --rhel-modules \\\n        redis:5,virt:8.3\n\nNote: for now we're opinionated about the RHEL modules that we support\nand the --rhel-modules won't allow to install any modules, but only the\nones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].\nThe reason is that in theory all necessary modules should be provided in\nthe base image layout in tripleo-common, and the use case here is being\nable to change their version from the CLI, specially for our release\nchallenges with future OSP zstreams.\n\nDepends-On: https://review.opendev.org/747007\nChange-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3\n(cherry picked from commit a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb)\n""}, {'number': 2, 'created': '2020-08-25 01:19:17.000000000', 'files': ['tripleoclient/v1/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b02ed76dcc5caf2da528cbabca09f2eb4898c6eb', 'message': ""TCIB: add --rhel-modules argument\n\n--rhel-modules is a new argument that will let us override the hardcoded\nRHEL module versions that are provided in the base image.\n\nFor example, if we want to build the images against a specific module\nversion, we'll now be able to do the following:\n\n  $ openstack tripleo container image build --rhel-modules \\\n        redis:5,virt:8.3\n\nNote: for now we're opinionated about the RHEL modules that we support\nand the --rhel-modules won't allow to install any modules, but only the\nones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].\nThe reason is that in theory all necessary modules should be provided in\nthe base image layout in tripleo-common, and the use case here is being\nable to change their version from the CLI, specially for our release\nchallenges with future OSP zstreams.\n\nDepends-On: https://review.opendev.org/747007\nChange-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3\n(cherry picked from commit a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb)\n""}]",0,747414,b02ed76dcc5caf2da528cbabca09f2eb4898c6eb,21,4,2,3153,,,0,"TCIB: add --rhel-modules argument

--rhel-modules is a new argument that will let us override the hardcoded
RHEL module versions that are provided in the base image.

For example, if we want to build the images against a specific module
version, we'll now be able to do the following:

  $ openstack tripleo container image build --rhel-modules \
        redis:5,virt:8.3

Note: for now we're opinionated about the RHEL modules that we support
and the --rhel-modules won't allow to install any modules, but only the
ones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].
The reason is that in theory all necessary modules should be provided in
the base image layout in tripleo-common, and the use case here is being
able to change their version from the CLI, specially for our release
challenges with future OSP zstreams.

Depends-On: https://review.opendev.org/747007
Change-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3
(cherry picked from commit a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/747414/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_container_image.py'],1,8cb30be2e60ad6d247dd318096da596538449315,modules/train,"SUPPORTED_RHEL_MODULES = ['container-tools', 'mariadb', 'redis', 'virt'] parser.add_argument( ""--rhel-modules"", dest=""rhel_modules"", metavar=""<rhel-modules>"", default=None, help=_(""A comma separated list of RHEL modules to enable with "" ""their version. Example: 'mariadb:10.3,virt:8.3'.""), ) if parsed_args.rhel_modules: rhel_modules = {} for module in parsed_args.rhel_modules.split(','): try: name, version = module.split(':', 1) except Exception: raise ValueError('Wrong format for --rhel-modules, ' 'must be a comma separated list of ' '<module>:<version>') if name not in SUPPORTED_RHEL_MODULES: raise ValueError('{} is not part of supported modules' ' {}'.format(name, SUPPORTED_RHEL_MODULES)) rhel_modules.update({name: version}) image_config['tcib_rhel_modules'] = rhel_modules ",,25,0
openstack%2Fmonasca-common~master~I998dc4700db1826643b97e7e4a456c9bfcfe64fa,openstack/monasca-common,master,I998dc4700db1826643b97e7e4a456c9bfcfe64fa,Validate metric timestamp format,NEW,2019-02-15 14:04:53.000000000,2020-08-26 09:07:02.000000000,,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 29909}]","[{'number': 1, 'created': '2019-02-15 14:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/ab4e9681deabddcef37c79090890af30ef850f3f', 'message': 'Validate metric timestamp format\n\nMonasca should validate timestamp format. Metrics send via Monasca Agent\nare properly formatted but It is possible to send metrics to API with\ntimestamp formatted to seconds, not milliseconds.\n\nChange-Id: I998dc4700db1826643b97e7e4a456c9bfcfe64fa\nStory: 2004998\nTask: 29470\n'}, {'number': 2, 'created': '2019-02-15 15:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/12ccd9f9474a750a941330b17d914359077c2df5', 'message': '[WiP] Validate metric timestamp format\n\nMonasca should validate timestamp format. Metrics send via Monasca Agent\nare properly formatted but It is possible to send metrics to API with\ntimestamp formatted to seconds, not milliseconds.\n\nChange-Id: I998dc4700db1826643b97e7e4a456c9bfcfe64fa\nStory: 2004998\nTask: 29470\n'}, {'number': 3, 'created': '2019-02-18 08:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/db237bbff837e486bda3585d56eb3bbdf9ff05e3', 'message': 'Validate metric timestamp format\n\nMonasca should validate timestamp format. Metrics send via Monasca Agent\nare properly formatted but It is possible to send metrics to API with\ntimestamp formatted to seconds, not milliseconds.\n\nChange-Id: I998dc4700db1826643b97e7e4a456c9bfcfe64fa\nStory: 2004998\nTask: 29470\n'}, {'number': 4, 'created': '2019-02-18 10:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/7f8638ac9dcd9f5477ff63c0568e15e7992223d9', 'message': 'Validate metric timestamp format\n\nMonasca should validate timestamp format. Metrics send via Monasca Agent\nare properly formatted but It is possible to send metrics to API with\ntimestamp formatted to seconds, not milliseconds.\n\nChange-Id: I998dc4700db1826643b97e7e4a456c9bfcfe64fa\nStory: 2004998\nTask: 29470\n'}, {'number': 5, 'created': '2019-02-18 10:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/1468e8e21bc8102b57df3cb61efbf4527f75e33d', 'message': 'Validate metric timestamp format\n\nMonasca should validate timestamp format. Metrics send via Monasca Agent\nare properly formatted but It is possible to send metrics to API with\ntimestamp formatted to seconds, not milliseconds.\n\nChange-Id: I998dc4700db1826643b97e7e4a456c9bfcfe64fa\nStory: 2004998\nTask: 29470\n'}, {'number': 6, 'created': '2020-08-26 07:46:36.000000000', 'files': ['monasca_common/validation/metrics.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/701dfc4f6c394d5206859ab2240597a08e0cc956', 'message': 'Validate metric timestamp format\n\nMonasca should validate timestamp format. Metrics send via Monasca Agent\nare properly formatted but It is possible to send metrics to API with\ntimestamp formatted to seconds, not milliseconds.\n\nChange-Id: I998dc4700db1826643b97e7e4a456c9bfcfe64fa\nStory: 2004998\nTask: 29470\n'}]",1,637190,701dfc4f6c394d5206859ab2240597a08e0cc956,18,5,6,29909,,,0,"Validate metric timestamp format

Monasca should validate timestamp format. Metrics send via Monasca Agent
are properly formatted but It is possible to send metrics to API with
timestamp formatted to seconds, not milliseconds.

Change-Id: I998dc4700db1826643b97e7e4a456c9bfcfe64fa
Story: 2004998
Task: 29470
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/90/637190/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_common/validation/metrics.py'],1,ab4e9681deabddcef37c79090890af30ef850f3f,metrics,"MIN_MILLISECONDS_NO = 1000000000 if 'dimensions' in metric: if 'value_meta' in metric: msg = 'Too many valueMeta entries {0}, limit is {1}: valueMeta {2}'.\ raise InvalidValueMeta('valueMeta name cannot be empty: key={}, ' 'value={}'.format(key, value)) if len(key) > VALUE_META_NAME_MAX_LENGTH: msg = 'valueMeta name too long: {0} must be {1} characters or ' \ 'less'.format(key, VALUE_META_NAME_MAX_LENGTH) msg = 'valueMeta name value combinations must be {0} characters ' \ 'or less: valueMeta {1}'.format(VALUE_META_VALUE_MAX_LENGTH, raise InvalidValueMeta('Unable to serialize valueMeta into JSON') msg = 'invalid dimension key type: ' \ '{0} is not a string type'.format(k) msg = 'invalid length ({0}) for dimension key {1}'. \ msg = 'invalid characters in dimension key {0}'. \ msg = 'invalid dimension value type: {0} must be a ' \ 'string (from key {1})'.format(v, k) msg = 'invalid length ({0}) for dimension value {1} from key {2}'. \ msg = 'invalid characters in dimension value {0} from key {1}'.format(v, k) msg = 'invalid metric name type: {0} is not a string type '.format( msg = 'invalid length for metric name: {0}'.format(name) msg = 'invalid characters in metric name: {0}'.format(name) msg = 'invalid value type: {0} is not a number type for metric'.\ msg = 'invalid value: {0} is not a valid value for metric'.format(value) msg = 'invalid timestamp type: {0} is not a number type for ' \ 'metric'.format(timestamp) raise InvalidTimeStamp(msg) if not timestamp > MIN_MILLISECONDS_NO: msg = 'invalid timestamp format: {0} is not time formatted ' \ 'in milliseconds'.format(timestamp)"," if ""dimensions"" in metric: if ""value_meta"" in metric: msg = ""Too many valueMeta entries {0}, limit is {1}: valueMeta {2}"".\ raise InvalidValueMeta(""valueMeta name cannot be empty: key={}, "" ""value={}"".format(key, value)) if len(key) > VALUE_META_NAME_MAX_LENGTH: msg = ""valueMeta name too long: {0} must be {1} characters or "" \ ""less"".format(key, VALUE_META_NAME_MAX_LENGTH) msg = ""valueMeta name value combinations must be {0} characters "" \ ""or less: valueMeta {1}"".format(VALUE_META_VALUE_MAX_LENGTH, raise InvalidValueMeta(""Unable to serialize valueMeta into JSON"") msg = ""invalid dimension key type: "" \ ""{0} is not a string type"".format(k) msg = ""invalid length ({0}) for dimension key {1}"". \ msg = ""invalid characters in dimension key {0}"". \ msg = ""invalid dimension value type: {0} must be a "" \ ""string (from key {1})"".format(v, k) msg = ""invalid length ({0}) for dimension value {1} from key {2}"". \ msg = ""invalid characters in dimension value {0} from key {1}"".format(v, k) msg = ""invalid metric name type: {0} is not a string type "".format( msg = ""invalid length for metric name: {0}"".format(name) msg = ""invalid characters in metric name: {0}"".format(name) msg = ""invalid value type: {0} is not a number type for metric"".\ msg = ""invalid value: {0} is not a valid value for metric"".format(value) msg = ""invalid timestamp type: {0} is not a number type for "" \ ""metric"".format(timestamp)",30,25
openstack%2Fpython-cyborgclient~master~I6afa3ec4c3cc0d14d0632ff821fdf200c736da0e,openstack/python-cyborgclient,master,I6afa3ec4c3cc0d14d0632ff821fdf200c736da0e,Add e.g. for groups when create device profile,MERGED,2020-08-25 05:55:41.000000000,2020-08-26 09:04:22.000000000,2020-08-26 09:03:05.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 30759}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-08-25 05:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/0f9671f28858e6e3b9fe33de8744f6e52bb9f5d9', 'message': 'Add e.g. for groups when create device profile\n\nIt is difficult to create device profile with command beacause of\nthe groups parameter is hard to pass, so add e.g. for the parameter.\n\nChange-Id: I6afa3ec4c3cc0d14d0632ff821fdf200c736da0e\n'}, {'number': 2, 'created': '2020-08-26 08:09:50.000000000', 'files': ['cyborgclient/osc/v2/device_profile.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/257e8200fbaee55deac910040fca1071db7b85ae', 'message': 'Add e.g. for groups when create device profile\n\nIt is difficult to create device profile with command because of\nthe groups parameter is hard to pass, so add e.g. for the command\n``openstack help accelerator device profile create``, that we\ncan get the example for the `group` parameter.\n\nChange-Id: I6afa3ec4c3cc0d14d0632ff821fdf200c736da0e\n'}]",4,747829,257e8200fbaee55deac910040fca1071db7b85ae,13,6,2,31412,,,0,"Add e.g. for groups when create device profile

It is difficult to create device profile with command because of
the groups parameter is hard to pass, so add e.g. for the command
``openstack help accelerator device profile create``, that we
can get the example for the `group` parameter.

Change-Id: I6afa3ec4c3cc0d14d0632ff821fdf200c736da0e
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/29/747829/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/osc/v2/device_profile.py'],1,0f9671f28858e6e3b9fe33de8744f6e52bb9f5d9,," help=_(""""""groups for the device_profile. e.g. '[{""resources:<type>"":1, ""trait:CUSTOM_<type>_<product_id>"": ""required"", ""trait:CUSTOM_<type>_<vendor>"": ""required""}]'""""""))"," help=_(""groups for the device_profile.""))",4,1
openstack%2Foctavia-tempest-plugin~master~I9d5e9fce5d387c655c0bfc1bdcb699a1aa0f56a1,openstack/octavia-tempest-plugin,master,I9d5e9fce5d387c655c0bfc1bdcb699a1aa0f56a1,Remove all usage of six library,MERGED,2020-05-06 05:21:35.000000000,2020-08-26 08:50:51.000000000,2020-08-26 08:46:05.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-05-06 05:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/64ec4a837056d6ed12cd566e7955e6426ff54679', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I9d5e9fce5d387c655c0bfc1bdcb699a1aa0f56a1\n'}, {'number': 2, 'created': '2020-05-19 19:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/eeea45b7e92ca5ac77891fed863733d817016bc4', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I9d5e9fce5d387c655c0bfc1bdcb699a1aa0f56a1\n'}, {'number': 3, 'created': '2020-07-09 21:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f6e3c549c371ea112e292a8873ebdf7b9fe3d654', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I9d5e9fce5d387c655c0bfc1bdcb699a1aa0f56a1\n'}, {'number': 4, 'created': '2020-07-13 18:18:38.000000000', 'files': ['requirements.txt', 'octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bd587263755716f3de4987ae177e97fc28e957c0', 'message': 'Remove all usage of six library\n\nConvert all code to not require six library and instead\nuse python 3.x logic.\n\nChange-Id: I9d5e9fce5d387c655c0bfc1bdcb699a1aa0f56a1\n'}]",1,725758,bd587263755716f3de4987ae177e97fc28e957c0,20,6,4,28614,,,0,"Remove all usage of six library

Convert all code to not require six library and instead
use python 3.x logic.

Change-Id: I9d5e9fce5d387c655c0bfc1bdcb699a1aa0f56a1
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/58/725758/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'octavia_tempest_plugin/tests/test_base.py']",2,64ec4a837056d6ed12cd566e7955e6426ff54679,," self.assertEqual(response_content, req.text)","import six self.assertEqual(six.text_type(response_content), req.text)",1,3
openstack%2Ftripleo-common~stable%2Fussuri~I782cbfd3c88b30c801961c6d8ba875d36f59bf42,openstack/tripleo-common,stable/ussuri,I782cbfd3c88b30c801961c6d8ba875d36f59bf42,TCIB: move RHEL modules into base image,MERGED,2020-08-21 13:06:07.000000000,2020-08-26 08:49:12.000000000,2020-08-26 08:42:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 13:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/86f7b50f7fe7ab93a6c4a0d5975d3c5171599f87', 'message': 'TCIB: move RHEL modules into base image\n\nMoving the RHEL modules management into the base image will make it\nso we will have shared and consistent modules across all container\nimages; and also configurable from a central place, the base.yaml.\n\nAlso, allow to find the module versions from the\n{{ tcib_rhel_modules }} variable so later in tripleoclient we can\noverride the modules versions from the CLI with a new --rhel-modules\nargument (which will take comma separated list of modules and their\nversions).\n\nChange-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42\n(cherry picked from commit 640b76608d8194ccbecc77429bca711f37809400)\n'}, {'number': 2, 'created': '2020-08-24 12:34:11.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b1f0229e55b957222ab0592e18a361c3a0ceddb', 'message': 'TCIB: move RHEL modules into base image\n\nMoving the RHEL modules management into the base image will make it\nso we will have shared and consistent modules across all container\nimages; and also configurable from a central place, the base.yaml.\n\nAlso, allow to find the module versions from the\n{{ tcib_rhel_modules }} variable so later in tripleoclient we can\noverride the modules versions from the CLI with a new --rhel-modules\nargument (which will take comma separated list of modules and their\nversions).\n\nChange-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42\n(cherry picked from commit 640b76608d8194ccbecc77429bca711f37809400)\n'}]",0,747403,1b1f0229e55b957222ab0592e18a361c3a0ceddb,24,4,2,3153,,,0,"TCIB: move RHEL modules into base image

Moving the RHEL modules management into the base image will make it
so we will have shared and consistent modules across all container
images; and also configurable from a central place, the base.yaml.

Also, allow to find the module versions from the
{{ tcib_rhel_modules }} variable so later in tripleoclient we can
override the modules versions from the CLI with a new --rhel-modules
argument (which will take comma separated list of modules and their
versions).

Change-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42
(cherry picked from commit 640b76608d8194ccbecc77429bca711f37809400)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/747403/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml']",16,86f7b50f7fe7ab93a6c4a0d5975d3c5171599f87,modules-stable/ussuri,,"- run: if [ '{{ tcib_distro }}' == 'rhel' ]; then {% for item in tcib_packages.modules %}{% set key, value = (item.items() | list).0 %}dnf module -y {{ key }} {{ value }}; {% endfor %}fi modules: - disable: virt:rhel - enable: virt:8.2",8,65
openstack%2Foctavia-tempest-plugin~master~Iba286366a8d6ce75b3a73756c5bdc70c77723232,openstack/octavia-tempest-plugin,master,Iba286366a8d6ce75b3a73756c5bdc70c77723232,Drop python 2.7 support and testing,MERGED,2020-05-19 19:59:31.000000000,2020-08-26 08:49:01.000000000,2020-08-26 08:46:04.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 19:59:31.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/47e4589d453ad69d94b004a1e335032481300b85', 'message': ""Drop python 2.7 support and testing\n\nOpenStack dropped py2.7 support in Ussuri cycle.\n\noctavia-tempest-plugin is ready with python 3 so it's ok to drop\npython 2.7 support.\n\nAlso added requirements test support to tox.ini\n\nModeled on similar neutron-tempest-plugin change.\n\nChange-Id: Iba286366a8d6ce75b3a73756c5bdc70c77723232\n""}]",0,729377,47e4589d453ad69d94b004a1e335032481300b85,12,4,1,1131,,,0,"Drop python 2.7 support and testing

OpenStack dropped py2.7 support in Ussuri cycle.

octavia-tempest-plugin is ready with python 3 so it's ok to drop
python 2.7 support.

Also added requirements test support to tox.ini

Modeled on similar neutron-tempest-plugin change.

Change-Id: Iba286366a8d6ce75b3a73756c5bdc70c77723232
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/77/729377/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,47e4589d453ad69d94b004a1e335032481300b85,,minversion = 3.1ignore_basepython_conflict = Truebasepython = python3 [testenv:requirements] deps = -egit+https://opendev.org/openstack/requirements#egg=openstack-requirements whitelist_externals = sh commands = sh -c '{envdir}/src/openstack-requirements/playbooks/files/project-requirements-change.py --req {envdir}/src/openstack-requirements --local {toxinidir} master',minversion = 2.0basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,10,10
openstack%2Freleases~master~Ia8ad4e6851d2831a86fd681a31ed5b4131aad26f,openstack/releases,master,Ia8ad4e6851d2831a86fd681a31ed5b4131aad26f,Release Neutron 15.1.1 for Train,ABANDONED,2020-08-20 15:38:22.000000000,2020-08-26 08:48:12.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 15:38:22.000000000', 'files': ['deliverables/train/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/65b6a68651f46a48e3398a8e10980edb9f6e26c3', 'message': 'Release Neutron 15.1.1 for Train\n\nThere is a new patch merged [1] in Neutron that is required by\nnetworking-ovn unittests to pass. The reason patch in networking-ovn was\nmerged was because of Depend-On reference, thus the ovn patch had what\nit needs but now it installs Neutron 15.1.0 that does not contain [1].\n\n[1] https://opendev.org/openstack/neutron/commit/8f1912a1d195dc69eed9d9aa8ff8c4ef12448b75\n\nChange-Id: Ia8ad4e6851d2831a86fd681a31ed5b4131aad26f\n'}]",2,747219,65b6a68651f46a48e3398a8e10980edb9f6e26c3,6,3,1,8655,,,0,"Release Neutron 15.1.1 for Train

There is a new patch merged [1] in Neutron that is required by
networking-ovn unittests to pass. The reason patch in networking-ovn was
merged was because of Depend-On reference, thus the ovn patch had what
it needs but now it installs Neutron 15.1.0 that does not contain [1].

[1] https://opendev.org/openstack/neutron/commit/8f1912a1d195dc69eed9d9aa8ff8c4ef12448b75

Change-Id: Ia8ad4e6851d2831a86fd681a31ed5b4131aad26f
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/747219/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron.yaml'],1,65b6a68651f46a48e3398a8e10980edb9f6e26c3,neutron-15.1.1, - version: 15.1.1 projects: - repo: openstack/neutron hash: 8ff90c2bd44c8796246a7a7c473b880e75ea5da7,,4,0
openstack%2Fnetworking-sfc~master~I9eb5fb14c67171c8ba1fa1ea12d3154d6ea19aa7,openstack/networking-sfc,master,I9eb5fb14c67171c8ba1fa1ea12d3154d6ea19aa7,Fix pep8 job,MERGED,2020-08-20 07:55:19.000000000,2020-08-26 08:45:14.000000000,2020-08-25 13:30:12.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 07:55:19.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/79f95d9c3c6ab4feb9eccc739f58cb5ff2621fe2', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. So force version 4.3.21, similarly\nto other Neutron projects fixes\n\nChange-Id: I9eb5fb14c67171c8ba1fa1ea12d3154d6ea19aa7\n'}]",0,747118,79f95d9c3c6ab4feb9eccc739f58cb5ff2621fe2,10,3,1,21798,,,0,"Fix pep8 job

New versions of isort broke pylint. So force version 4.3.21, similarly
to other Neutron projects fixes

Change-Id: I9eb5fb14c67171c8ba1fa1ea12d3154d6ea19aa7
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/18/747118/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,79f95d9c3c6ab4feb9eccc739f58cb5ff2621fe2,,isort==4.3.21,,2,0
openstack%2Fdevstack~master~Ib4194329474e8d68a90886d2a04f027eecd741df,openstack/devstack,master,Ib4194329474e8d68a90886d2a04f027eecd741df,[OVN] Move OVN module from Neutron to DevStack,MERGED,2020-06-09 14:45:45.000000000,2020-08-26 08:43:47.000000000,2020-08-25 15:51:48.000000000,"[{'_account_id': 6773}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 14:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/385a4079ac5095095c7744dd61c5b2e698d62388', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-06-10 08:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fd617c462f0e36d435cdbae3a3f85ff7efc6f8ef', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-06-10 12:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a94a22ff6f492ac1efdce2138b4c11c3ffc4f2e2', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-06-17 13:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c001862dde2def3fcc60ee55b8c2a5242f9c662e', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-07-01 09:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9e385a53449375042e68ac6e535d53019fc57b7d', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-07-09 08:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/40fe6f126529c62e3b11b0e91592d2f241919f4b', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-07-13 08:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3dcc9312508935ec06dced99883865d40845c57e', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-07-13 10:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/df3afcea16866152f9f428f09ea759342d07c22b', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2020-07-14 08:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ba3bdf99f55f14a7ba8df26bc9f0dc18927688f0', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2020-07-17 09:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/62c001aac5832ba48e1841bcd2b2e1e4c12c51b5', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2020-08-05 12:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ce557194ced2612f407ddb329730374666dd5f39', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2020-08-06 09:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1bb81c0c2ef182ec203f6676166817b601aa2bac', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 13, 'created': '2020-08-06 10:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/190414e6abb243eda2be3163fb48df2bba3516bc', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 14, 'created': '2020-08-07 08:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5489a31570431b15288e0cf5cc78a34869095d9a', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 15, 'created': '2020-08-07 09:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f4cc11ed19a72caeb42e3f032ac32f1f1615de26', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 16, 'created': '2020-08-10 09:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1602f6eac57dc97c20d88fa6e977ab59d841236c', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 17, 'created': '2020-08-11 09:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/216f51e1cfe89de1730b9d4851815549b560c4db', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 18, 'created': '2020-08-11 09:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2b6ec3235fb4128ceb30a7067668ea7426a6f8c7', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 19, 'created': '2020-08-11 14:47:44.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'tests/test_libs_from_pypi.sh', 'lib/neutron_plugins/ml2', 'stackrc', 'lib/neutron-legacy', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1d468d45dbb330c31c28e54d9c9abe5f8ec394ba', 'message': '[OVN] Move OVN module from Neutron to DevStack\n\nAs part of the Victoria PTG the Neutron team entertained the idea of\nhaving the OVN driver as the default backend in DevStack (this hasn\'t\nyet being decided by the community, this will be discussed within this\ncycle).\n\nFor this to happen, we also would need to move the module that configures\nOVN to the DevStack repository. This is what this patch is doing.\n\nNote that we are updating the lib/neutron-legacy module instead of\nlib/neutron in this patch, this is because as part of the PTG the\nNeutron team has decided to un-deprecate the neutron-legacy module since\nthe ""new"" lib/neutron module is broken and nobody is current working on\nit (also all services uses neutron-legacy).\n\nAlso, the ovsdbapp has been added to the ALL_LIBS list because a gate\njob in the ovsdbapp project repository relies on installing the library\nfrom source instead of pip to run.\n\nDepends-On: https://review.opendev.org/#/c/740663/\nChange-Id: Ib4194329474e8d68a90886d2a04f027eecd741df\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",76,734621,1d468d45dbb330c31c28e54d9c9abe5f8ec394ba,104,10,19,6773,,,0,"[OVN] Move OVN module from Neutron to DevStack

As part of the Victoria PTG the Neutron team entertained the idea of
having the OVN driver as the default backend in DevStack (this hasn't
yet being decided by the community, this will be discussed within this
cycle).

For this to happen, we also would need to move the module that configures
OVN to the DevStack repository. This is what this patch is doing.

Note that we are updating the lib/neutron-legacy module instead of
lib/neutron in this patch, this is because as part of the PTG the
Neutron team has decided to un-deprecate the neutron-legacy module since
the ""new"" lib/neutron module is broken and nobody is current working on
it (also all services uses neutron-legacy).

Also, the ovsdbapp has been added to the ALL_LIBS list because a gate
job in the ovsdbapp project repository relies on installing the library
from source instead of pip to run.

Depends-On: https://review.opendev.org/#/c/740663/
Change-Id: Ib4194329474e8d68a90886d2a04f027eecd741df
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/734621/3 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn', 'tests/test_libs_from_pypi.sh', 'stackrc', 'lib/neutron-legacy']",4,385a4079ac5095095c7744dd61c5b2e698d62388,ovn-devstack,"# Source OVN driver functions if enabled IS_OVN_ENABLED=false if [[ $Q_AGENT == ""ovn"" ]]; then IS_OVN_ENABLED=true source $TOP_DIR/lib/neutron_plugins/ovn fi if $IS_OVN_ENABLED; then configure_ovn fi if $IS_OVN_ENABLED; then init_ovn fi if $IS_OVN_ENABLED; then install_ovn fi if $IS_OVN_ENABLED; then start_ovn if [[ ""$OVN_L3_CREATE_PUBLIC_NETWORK"" == ""True"" ]]; then if [[ ""$NEUTRON_CREATE_INITIAL_NETWORKS"" != ""True"" ]]; then echo ""OVN_L3_CREATE_PUBLIC_NETWORK=True is being ignored "" echo ""because NEUTRON_CREATE_INITIAL_NETWORKS is set to False"" else create_public_bridge fi fi fi if $IS_OVN_ENABLED; then stop_ovn fi if $IS_OVN_ENABLED; then cleanup_ovn fi",,899,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I1bf00dee7bebe3bd7b2b13bc0b8b2396c1e242c2,openstack/tripleo-heat-templates,stable/stein,I1bf00dee7bebe3bd7b2b13bc0b8b2396c1e242c2,Removed tripleo-ci-centos-7-scenario009-multinode-oooq-container,MERGED,2020-08-24 17:30:29.000000000,2020-08-26 08:42:40.000000000,2020-08-26 08:42:39.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 17:30:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be7134a9e2923330ae8fb01e0988bc622ecdd023', 'message': 'Removed tripleo-ci-centos-7-scenario009-multinode-oooq-container\n\nJob tripleo-ci-centos-7-scenario009-multinode-oooq-container\nis no longer valid. It is already moved to deprecated\njobs in master. Removing this job from stable/stein.\n\nChange-Id: I1bf00dee7bebe3bd7b2b13bc0b8b2396c1e242c2\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",0,747780,be7134a9e2923330ae8fb01e0988bc622ecdd023,15,7,1,30750,,,0,"Removed tripleo-ci-centos-7-scenario009-multinode-oooq-container

Job tripleo-ci-centos-7-scenario009-multinode-oooq-container
is no longer valid. It is already moved to deprecated
jobs in master. Removing this job from stable/stein.

Change-Id: I1bf00dee7bebe3bd7b2b13bc0b8b2396c1e242c2
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/747780/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,be7134a9e2923330ae8fb01e0988bc622ecdd023,remove_c7_009,, - tripleo-ci-centos-7-scenario009-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^coe/openshift.*$ - ^environments/openshift.*$ - ^extraconfig/services/openshift.*$ - ^(deployment|docker|puppet)/.*haproxy.*$ - ^(deployment|docker|puppet)/.*keepalived.*$ - ^(deployment|docker|puppet)/.*mistral.*$ - ci/environments/scenario009-multinode.yaml - ^ci/common/.*$ - ci/pingtests/scenario009-multinode.yaml - ^network/endpoints/.*$ - ^deployed-server/.*$ - ^common/.*$ - zuul.d/*,0,16
openstack%2Fironic~master~I98784f72e6f93cbc602753ef2da0dbef5ad2c9cf,openstack/ironic,master,I98784f72e6f93cbc602753ef2da0dbef5ad2c9cf,driver_internal_info in provision notifications,MERGED,2020-08-25 18:22:55.000000000,2020-08-26 08:42:24.000000000,2020-08-26 08:39:30.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 18:22:55.000000000', 'files': ['ironic/objects/node.py', 'ironic/objects/notification.py', 'ironic/tests/unit/objects/test_notification.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/tests/unit/objects/test_node.py', 'releasenotes/notes/notifications_driver_internal_info-3012f9834b6ade6b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3945fa4c2bda59ceac7c08a1228c09970f4685eb', 'message': ""driver_internal_info in provision notifications\n\nAdds the node's driver_internal_info to the\nbaremetal.node.provision_set.* notifications. The\ndriver_internal_info includes useful information\nsuch as deploy and clean steps.\n\nChange-Id: I98784f72e6f93cbc602753ef2da0dbef5ad2c9cf\nStory: #2008054\n""}]",0,747996,3945fa4c2bda59ceac7c08a1228c09970f4685eb,9,4,1,6618,,,0,"driver_internal_info in provision notifications

Adds the node's driver_internal_info to the
baremetal.node.provision_set.* notifications. The
driver_internal_info includes useful information
such as deploy and clean steps.

Change-Id: I98784f72e6f93cbc602753ef2da0dbef5ad2c9cf
Story: #2008054
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/747996/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/objects/notification.py', 'ironic/tests/unit/objects/test_notification.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/tests/unit/objects/test_node.py', 'releasenotes/notes/notifications_driver_internal_info-3012f9834b6ade6b.yaml']",6,3945fa4c2bda59ceac7c08a1228c09970f4685eb,story/2008054,"--- features: - | Adds ``driver_internal_info`` field to the node-related notification ``baremetal.node.provision_set.*``, new payload version 1.16. ",,103,8
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~I1fa990bab5801a6e6fde7176b2011ab1977b30ae,openstack/openstack-ansible-haproxy_server,stable/ussuri,I1fa990bab5801a6e6fde7176b2011ab1977b30ae,Add haproxy_ssl_all_vips variable,MERGED,2020-08-25 10:18:32.000000000,2020-08-26 08:41:33.000000000,2020-08-26 08:38:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-25 10:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/9a9185bfcd4a12c4a9a0da43d24ab0b05bc5fbe5', 'message': 'Add haproxy_ssl_all_vips variable\n\nThis variable will allow to globally control if SSL should be also used\nfor internal/admin endpoints, or for public only\n\nNeeded-By: https://review.opendev.org/747138\nChange-Id: I1fa990bab5801a6e6fde7176b2011ab1977b30ae\n(cherry picked from commit 6bd42911f7b52a4ab8861dc4dc432fdd1f6a9a3b)\n'}, {'number': 2, 'created': '2020-08-25 10:19:36.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/c504c7aa6fc65125372b14a5116400bc97bf27ad', 'message': 'Add haproxy_ssl_all_vips variable\n\nThis variable will allow to globally control if SSL should be also used\nfor internal/admin endpoints, or for public only\n\nNeeded-By: https://review.opendev.org/747872\nChange-Id: I1fa990bab5801a6e6fde7176b2011ab1977b30ae\n(cherry picked from commit 6bd42911f7b52a4ab8861dc4dc432fdd1f6a9a3b)\n'}]",0,747891,c504c7aa6fc65125372b14a5116400bc97bf27ad,9,3,2,28619,,,0,"Add haproxy_ssl_all_vips variable

This variable will allow to globally control if SSL should be also used
for internal/admin endpoints, or for public only

Needed-By: https://review.opendev.org/747872
Change-Id: I1fa990bab5801a6e6fde7176b2011ab1977b30ae
(cherry picked from commit 6bd42911f7b52a4ab8861dc4dc432fdd1f6a9a3b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/91/747891/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9a9185bfcd4a12c4a9a0da43d24ab0b05bc5fbe5,,haproxy_ssl_all_vips: false,,1,0
openstack%2Fkolla-ansible~stable%2Fstein~Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,openstack/kolla-ansible,stable/stein,Ie164687b2ffd80cedf8a00e7f705b73fccd416e2,add region name for tasks,MERGED,2020-08-25 12:34:23.000000000,2020-08-26 08:41:02.000000000,2020-08-26 08:38:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-08-25 12:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f7c11358be81398df6e0fb8abb2846d4b765675', 'message': 'add region name for tasks\n\nwhen use multiple regions, those tasks always get a wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n(cherry picked from commit 60dc0128170f66743db7acbfdd1215065fa0c83a)\n'}, {'number': 2, 'created': '2020-08-25 19:28:46.000000000', 'files': ['ansible/roles/magnum/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/vitrage/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/185ba1c039b3b602b99c27a7546e2bb023bd4269', 'message': 'add region name for tasks\n\nwhen use multiple regions, those tasks always get a wrong endpoint.\n\nChange-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2\n(cherry picked from commit 60dc0128170f66743db7acbfdd1215065fa0c83a)\n'}]",1,747918,185ba1c039b3b602b99c27a7546e2bb023bd4269,12,5,2,14826,,,0,"add region name for tasks

when use multiple regions, those tasks always get a wrong endpoint.

Change-Id: Ie164687b2ffd80cedf8a00e7f705b73fccd416e2
(cherry picked from commit 60dc0128170f66743db7acbfdd1215065fa0c83a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/747918/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/magnum/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/vitrage/tasks/register.yml']",4,1f7c11358be81398df6e0fb8abb2846d4b765675,," region_name: ""{{ openstack_region_name }}""",,8,0
openstack%2Fpuppet-zaqar~stable%2Fussuri~I5e7d439059f515adfb678e5786d2f078356ffb6f,openstack/puppet-zaqar,stable/ussuri,I5e7d439059f515adfb678e5786d2f078356ffb6f,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:33:30.000000000,2020-08-26 08:39:34.000000000,2020-08-26 08:39:33.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:33:30.000000000', 'files': ['spec/acceptance/zaqar_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/28bc14c48f58d30c5f355593206d84851124a6e9', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I5e7d439059f515adfb678e5786d2f078356ffb6f\n(cherry picked from commit be98a1755e92a0e20212d307a0e694a73c80eceb)\n'}]",0,747948,28bc14c48f58d30c5f355593206d84851124a6e9,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I5e7d439059f515adfb678e5786d2f078356ffb6f
(cherry picked from commit be98a1755e92a0e20212d307a0e694a73c80eceb)
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/48/747948/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/zaqar_swift_spec.rb'],1,28bc14c48f58d30c5f355593206d84851124a6e9,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-nova~stable%2Fussuri~I29b7569f3e0217cbcd24171e001f1409d6ae8aef,openstack/puppet-nova,stable/ussuri,I29b7569f3e0217cbcd24171e001f1409d6ae8aef,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:33:40.000000000,2020-08-26 08:39:32.000000000,2020-08-26 08:39:32.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:33:40.000000000', 'files': ['spec/acceptance/nova_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f0381ea5b5ee0a3636f855a10be8e99522679d9b', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I29b7569f3e0217cbcd24171e001f1409d6ae8aef\n(cherry picked from commit 1f6051db9bc46649be12cc5d82b96985257d59cc)\n'}]",0,747949,f0381ea5b5ee0a3636f855a10be8e99522679d9b,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I29b7569f3e0217cbcd24171e001f1409d6ae8aef
(cherry picked from commit 1f6051db9bc46649be12cc5d82b96985257d59cc)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/49/747949/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/nova_wsgi_apache_spec.rb'],1,f0381ea5b5ee0a3636f855a10be8e99522679d9b,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-sahara~stable%2Fussuri~Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973,openstack/puppet-sahara,stable/ussuri,Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:33:52.000000000,2020-08-26 08:33:18.000000000,2020-08-26 08:33:18.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:33:52.000000000', 'files': ['spec/acceptance/basic_sahara_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/34528ad978074678fd2a4c0f7c7292c36d112cf8', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973\n(cherry picked from commit a662292f8d3532148ae710721e1699c491247541)\n'}]",0,747950,34528ad978074678fd2a4c0f7c7292c36d112cf8,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Iaab8d61d5210e99dcecbb5b69b26474f3ec5b973
(cherry picked from commit a662292f8d3532148ae710721e1699c491247541)
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/50/747950/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_sahara_spec.rb'],1,34528ad978074678fd2a4c0f7c7292c36d112cf8,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-vitrage~stable%2Fussuri~Ic70b23f3e526914c53542ccb5c9336bb133fb0f7,openstack/puppet-vitrage,stable/ussuri,Ic70b23f3e526914c53542ccb5c9336bb133fb0f7,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:33:07.000000000,2020-08-26 08:32:11.000000000,2020-08-26 08:32:10.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:33:07.000000000', 'files': ['spec/acceptance/vitrage_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/ea309b76a6f01ea5ebb22d62f13b4b599b6ed732', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Ic70b23f3e526914c53542ccb5c9336bb133fb0f7\n(cherry picked from commit 49786bd1d69dc053a517edf9a6af712a375666e6)\n'}]",0,747946,ea309b76a6f01ea5ebb22d62f13b4b599b6ed732,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Ic70b23f3e526914c53542ccb5c9336bb133fb0f7
(cherry picked from commit 49786bd1d69dc053a517edf9a6af712a375666e6)
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/46/747946/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/vitrage_wsgi_apache_spec.rb'],1,ea309b76a6f01ea5ebb22d62f13b4b599b6ed732,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fos-brick~master~Iedf1d4678eeef438ac4f03a61f5f91f3a225c3fd,openstack/os-brick,master,Iedf1d4678eeef438ac4f03a61f5f91f3a225c3fd,RBD: Fix check_valid_device,MERGED,2020-06-22 16:19:19.000000000,2020-08-26 08:30:58.000000000,2020-08-25 23:28:15.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 30615}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-06-22 16:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ff43baff6e1f0d0d2fbf722273ea6613e31083b2', 'message': ""RBD: Fix check_valid_device\n\nThe check_valid_device method of the RBD connector doesn't work for\nlocally attached volumes (using krbd) because it only has code for\nhandles.\n\nThis patch adds code to handle the check of locally attached RBD volumes\nrunning the code as root and as the current user.\n\nIn order to preserve current behavior we don't change the code for\nchecking valid handles, which means we are ignoring the run_as_root\nparameter.\n\nCloses-Bug: #1884552\nRelated-Bug: #1883720\nChange-Id: Iedf1d4678eeef438ac4f03a61f5f91f3a225c3fd\n""}, {'number': 2, 'created': '2020-06-23 14:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8687c5c7ca63880e5cdc689145ab44f5c430651e', 'message': ""RBD: Fix check_valid_device\n\nThe check_valid_device method of the RBD connector doesn't work for\nlocally attached volumes (using krbd) because it only has code for\nhandles.\n\nThis patch adds code to handle the check of locally attached RBD volumes\nrunning the code as root and as the current user.\n\nIn order to preserve current behavior we don't change the code for\nchecking valid handles, which means we are ignoring the run_as_root\nparameter.\n\nCloses-Bug: #1884552\nRelated-Bug: #1883720\nChange-Id: Iedf1d4678eeef438ac4f03a61f5f91f3a225c3fd\n""}, {'number': 3, 'created': '2020-06-29 11:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5bb9b8aa8d8f1f507dae14adfc6d6ef816531381', 'message': ""RBD: Fix check_valid_device\n\nThe check_valid_device method of the RBD connector doesn't work for\nlocally attached volumes (using krbd) because it only has code for\nhandles.\n\nThis patch adds code to handle the check of locally attached RBD volumes\nrunning the code as root and as the current user.\n\nIn order to preserve current behavior we don't change the code for\nchecking valid handles, which means we are ignoring the run_as_root\nparameter.\n\nCloses-Bug: #1884552\nRelated-Bug: #1883720\nChange-Id: Iedf1d4678eeef438ac4f03a61f5f91f3a225c3fd\n""}, {'number': 4, 'created': '2020-07-30 12:08:48.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'releasenotes/notes/rbd_check_valid_device-2f50c0639adb8e7c.yaml', 'os_brick/initiator/connectors/rbd.py', 'os_brick/tests/privileged/test_rbd.py', 'os_brick/privileged/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7d995b6cf6552c1119dcde9f7cdf2c5a05b3b92b', 'message': ""RBD: Fix check_valid_device\n\nThe check_valid_device method of the RBD connector doesn't work for\nlocally attached volumes (using krbd) because it only has code for\nhandles.\n\nThis patch adds code to handle the check of locally attached RBD volumes\nrunning the code as root and as the current user.\n\nIn order to preserve current behavior we don't change the code for\nchecking valid handles, which means we are ignoring the run_as_root\nparameter.\n\nCloses-Bug: #1884552\nRelated-Bug: #1883720\nChange-Id: Iedf1d4678eeef438ac4f03a61f5f91f3a225c3fd\n""}]",1,737311,7d995b6cf6552c1119dcde9f7cdf2c5a05b3b92b,65,18,4,9535,,,0,"RBD: Fix check_valid_device

The check_valid_device method of the RBD connector doesn't work for
locally attached volumes (using krbd) because it only has code for
handles.

This patch adds code to handle the check of locally attached RBD volumes
running the code as root and as the current user.

In order to preserve current behavior we don't change the code for
checking valid handles, which means we are ignoring the run_as_root
parameter.

Closes-Bug: #1884552
Related-Bug: #1883720
Change-Id: Iedf1d4678eeef438ac4f03a61f5f91f3a225c3fd
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/11/737311/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'releasenotes/notes/rbd_check_valid_device-2f50c0639adb8e7c.yaml', 'os_brick/initiator/connectors/rbd.py', 'os_brick/tests/privileged/test_rbd.py', 'os_brick/privileged/rbd.py']",5,ff43baff6e1f0d0d2fbf722273ea6613e31083b2,cinderlib-changes," @os_brick.privileged.default.entrypoint def check_valid_path(path): get_rbd_class() with open(path, 'rb') as rbd_handle: return RBDConnector._check_valid_device(rbd_handle)",,97,7
openstack%2Fpuppet-cinder~stable%2Fussuri~Id20a025d6cea1fd11a36340d067e1ddf8f860831,openstack/puppet-cinder,stable/ussuri,Id20a025d6cea1fd11a36340d067e1ddf8f860831,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:32:17.000000000,2020-08-26 08:30:51.000000000,2020-08-26 08:30:51.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:32:17.000000000', 'files': ['spec/acceptance/basic_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/da8b5e9f5d1830172d8929593f5f1e563a8fbb49', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Id20a025d6cea1fd11a36340d067e1ddf8f860831\n(cherry picked from commit 0b5c3f118048a72c50e0ba0e84063db3d21c44f3)\n'}]",0,747943,da8b5e9f5d1830172d8929593f5f1e563a8fbb49,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Id20a025d6cea1fd11a36340d067e1ddf8f860831
(cherry picked from commit 0b5c3f118048a72c50e0ba0e84063db3d21c44f3)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/43/747943/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_cinder_spec.rb'],1,da8b5e9f5d1830172d8929593f5f1e563a8fbb49,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fhorizon~master~I1eae4be4464f55a29d169403a70c958c3b8a308b,openstack/horizon,master,I1eae4be4464f55a29d169403a70c958c3b8a308b,"Add miss comma of ""REST_API_REQUIRED_SETTINGS"" list",MERGED,2020-08-14 03:49:48.000000000,2020-08-26 08:29:56.000000000,2020-08-18 14:14:59.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-14 03:49:48.000000000', 'files': ['openstack_dashboard/defaults.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/df5bf93138d9890b5bebbc835d174ef6ae610f24', 'message': 'Add miss comma of ""REST_API_REQUIRED_SETTINGS"" list\n\nChange-Id: I1eae4be4464f55a29d169403a70c958c3b8a308b\n'}]",0,746265,df5bf93138d9890b5bebbc835d174ef6ae610f24,9,3,1,19779,,,0,"Add miss comma of ""REST_API_REQUIRED_SETTINGS"" list

Change-Id: I1eae4be4464f55a29d169403a70c958c3b8a308b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/65/746265/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/defaults.py'],1,df5bf93138d9890b5bebbc835d174ef6ae610f24,fix_list," 'DEFAULT_BOOT_SOURCE', 'ENFORCE_PASSWORD_CHECK',", 'DEFAULT_BOOT_SOURCE' 'ENFORCE_PASSWORD_CHECK',2,2
openstack%2Fpuppet-aodh~stable%2Fussuri~I0e2097f3e5cd90ac9ae88b001ea91f275fed833b,openstack/puppet-aodh,stable/ussuri,I0e2097f3e5cd90ac9ae88b001ea91f275fed833b,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:32:03.000000000,2020-08-26 08:28:56.000000000,2020-08-26 08:28:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:32:03.000000000', 'files': ['spec/acceptance/aodh_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2d840a5c9e5e67543fedb4437b142c41e7e3d5ff', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I0e2097f3e5cd90ac9ae88b001ea91f275fed833b\n(cherry picked from commit 631b4f4d4f3e12698c5a4e1ff5a3f1ec186b5b2a)\n'}]",0,747942,2d840a5c9e5e67543fedb4437b142c41e7e3d5ff,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I0e2097f3e5cd90ac9ae88b001ea91f275fed833b
(cherry picked from commit 631b4f4d4f3e12698c5a4e1ff5a3f1ec186b5b2a)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/42/747942/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/aodh_wsgi_apache_spec.rb'],1,2d840a5c9e5e67543fedb4437b142c41e7e3d5ff,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-watcher~stable%2Fussuri~I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6,openstack/puppet-watcher,stable/ussuri,I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:32:55.000000000,2020-08-26 08:28:48.000000000,2020-08-26 08:28:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:32:55.000000000', 'files': ['spec/acceptance/watcher_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/9b8db08c931b75c1fcba2d5be49ee42137b1b2ca', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6\n(cherry picked from commit da39b582cc33439c5de4f198f1e19b33e73263c6)\n'}]",0,747945,9b8db08c931b75c1fcba2d5be49ee42137b1b2ca,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I1e3179c56085537eb4488d0c1b0c9ef1b3685ff6
(cherry picked from commit da39b582cc33439c5de4f198f1e19b33e73263c6)
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/45/747945/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/watcher_wsgi_apache_spec.rb'],1,9b8db08c931b75c1fcba2d5be49ee42137b1b2ca,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fopenstack-ansible-os_congress~stable%2Fussuri~I0d3c17e5942dacf940eea4dd1621b179cf11fae6,openstack/openstack-ansible-os_congress,stable/ussuri,I0d3c17e5942dacf940eea4dd1621b179cf11fae6,Updated from OpenStack Ansible Tests,MERGED,2020-06-17 19:57:28.000000000,2020-08-26 08:26:20.000000000,2020-08-26 08:24:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-06-17 19:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/41f75e2c4949502bff3e3145756ad0fa7eac6fe2', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0d3c17e5942dacf940eea4dd1621b179cf11fae6\n'}, {'number': 2, 'created': '2020-08-14 07:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/0540ffd4ea02bda3ddb45e8db0f36471ad722236', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0d3c17e5942dacf940eea4dd1621b179cf11fae6\n'}, {'number': 3, 'created': '2020-08-21 09:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/3ef40aa4e33498ffe0201247ec98f3e9326112d5', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/736346\nChange-Id: I0d3c17e5942dacf940eea4dd1621b179cf11fae6\n'}, {'number': 4, 'created': '2020-08-21 09:28:41.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/c89082bfa3e5f577c93ece53cc0dd82d0ba2b476', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746659\nChange-Id: I0d3c17e5942dacf940eea4dd1621b179cf11fae6\n'}]",0,736346,c89082bfa3e5f577c93ece53cc0dd82d0ba2b476,20,3,4,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/746659
Change-Id: I0d3c17e5942dacf940eea4dd1621b179cf11fae6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/46/736346/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,41f75e2c4949502bff3e3145756ad0fa7eac6fe2,openstack/openstack-ansible-tests/sync-tests, openstack.cloud.os_keystone_domain: openstack.cloud.os_project: openstack.cloud.os_keystone_service: openstack.cloud.os_keystone_role: openstack.cloud.os_user: openstack.cloud.os_user_role: openstack.cloud.os_keystone_endpoint:, os_keystone_domain: os_project: os_keystone_service: os_keystone_role: os_user: os_user_role: os_keystone_endpoint:,7,7
openstack%2Fpuppet-panko~stable%2Fussuri~I5226895f14934b1fe11d832f37e3ae8a1084dbc8,openstack/puppet-panko,stable/ussuri,I5226895f14934b1fe11d832f37e3ae8a1084dbc8,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:31:41.000000000,2020-08-26 08:25:48.000000000,2020-08-26 08:25:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:31:41.000000000', 'files': ['spec/acceptance/basic_panko_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/e218d479a931517cd913138163676781bd3f9385', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I5226895f14934b1fe11d832f37e3ae8a1084dbc8\n(cherry picked from commit 9f18873519fe1afe35afe244d295aa8429b999dc)\n'}]",0,747940,e218d479a931517cd913138163676781bd3f9385,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I5226895f14934b1fe11d832f37e3ae8a1084dbc8
(cherry picked from commit 9f18873519fe1afe35afe244d295aa8429b999dc)
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/40/747940/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_panko_spec.rb'],1,e218d479a931517cd913138163676781bd3f9385,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-heat~stable%2Fussuri~I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19,openstack/puppet-heat,stable/ussuri,I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:32:46.000000000,2020-08-26 08:25:28.000000000,2020-08-26 08:25:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:32:46.000000000', 'files': ['spec/acceptance/basic_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/9314ef2c8f805ae233943a1886f04d5de5f67f8b', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19\n(cherry picked from commit 312998a6e12c415cc0ba791765a3200a258552be)\n'}]",0,747944,9314ef2c8f805ae233943a1886f04d5de5f67f8b,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I5d82fb7cd41d2fec0c31107ac9b2f1a89c98fe19
(cherry picked from commit 312998a6e12c415cc0ba791765a3200a258552be)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/44/747944/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_heat_spec.rb'],1,9314ef2c8f805ae233943a1886f04d5de5f67f8b,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-ironic~stable%2Fussuri~Ifae5666938cb38ea2698787f5c01f5b55a704448,openstack/puppet-ironic,stable/ussuri,Ifae5666938cb38ea2698787f5c01f5b55a704448,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:31:29.000000000,2020-08-26 08:24:21.000000000,2020-08-26 08:24:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:31:29.000000000', 'files': ['spec/acceptance/ironic_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6a4716ddaf5707969f494db54507d7389b55a662', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Ifae5666938cb38ea2698787f5c01f5b55a704448\n(cherry picked from commit 68e5e3d70ba8103ec546eacea7b3b15b6621983a)\n'}]",0,747939,6a4716ddaf5707969f494db54507d7389b55a662,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Ifae5666938cb38ea2698787f5c01f5b55a704448
(cherry picked from commit 68e5e3d70ba8103ec546eacea7b3b15b6621983a)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/39/747939/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ironic_wsgi_apache_spec.rb'],1,6a4716ddaf5707969f494db54507d7389b55a662,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-mistral~stable%2Fussuri~I489171e8aec70725cf2193e6436b2f54a0fe90dc,openstack/puppet-mistral,stable/ussuri,I489171e8aec70725cf2193e6436b2f54a0fe90dc,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:31:01.000000000,2020-08-26 08:22:46.000000000,2020-08-26 08:22:46.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:31:01.000000000', 'files': ['spec/acceptance/basic_mistral_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/efe5722b9fdbf0e775dd9984ee5c0c35a4043d3d', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I489171e8aec70725cf2193e6436b2f54a0fe90dc\n(cherry picked from commit 10f341af44e56f6dad87174da19746ca5bbccd9f)\n'}]",0,747937,efe5722b9fdbf0e775dd9984ee5c0c35a4043d3d,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I489171e8aec70725cf2193e6436b2f54a0fe90dc
(cherry picked from commit 10f341af44e56f6dad87174da19746ca5bbccd9f)
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/37/747937/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_mistral_spec.rb'],1,efe5722b9fdbf0e775dd9984ee5c0c35a4043d3d,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-barbican~stable%2Fussuri~Ib9ebfda7a8a74d109a89a6cd044cb133d9263020,openstack/puppet-barbican,stable/ussuri,Ib9ebfda7a8a74d109a89a6cd044cb133d9263020,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:31:52.000000000,2020-08-26 08:20:06.000000000,2020-08-26 08:20:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:31:52.000000000', 'files': ['spec/acceptance/basic_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/f658e17ac58e2cc4bc37d8e50ff518df5f522bfb', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: Ib9ebfda7a8a74d109a89a6cd044cb133d9263020\n(cherry picked from commit 7c934e82cc4a4cda040e2fb0f1ed0973b4f6d589)\n'}]",0,747941,f658e17ac58e2cc4bc37d8e50ff518df5f522bfb,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: Ib9ebfda7a8a74d109a89a6cd044cb133d9263020
(cherry picked from commit 7c934e82cc4a4cda040e2fb0f1ed0973b4f6d589)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/41/747941/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_barbican_spec.rb'],1,f658e17ac58e2cc4bc37d8e50ff518df5f522bfb,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fopenstack-ansible-os_congress~stable%2Fussuri~Iad99dcd406ec0da2842b4300e2a4e5163e270bc9,openstack/openstack-ansible-os_congress,stable/ussuri,Iad99dcd406ec0da2842b4300e2a4e5163e270bc9,Replace py2 packages with py3,MERGED,2020-08-18 08:28:25.000000000,2020-08-26 08:14:05.000000000,2020-08-26 08:11:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28182}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-18 08:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/6b288fc0889697e189912124818bd98029c676bc', 'message': 'Replace py2 packages with py3\n\nPy2 packages are not available on Ubuntu Focal, so this replaces\nthem with py3 equivalents\n\nChange-Id: Iad99dcd406ec0da2842b4300e2a4e5163e270bc9\n'}, {'number': 2, 'created': '2020-08-18 12:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/44922656ff0c9e48d0608c700e166d7869d3b3b8', 'message': 'Replace py2 packages with py3\n\nPy2 packages are not available on Ubuntu Focal, so this replaces\nthem with py3 equivalents\n\nDepends-On: https://review.opendev.org/746693\nChange-Id: Iad99dcd406ec0da2842b4300e2a4e5163e270bc9\n'}, {'number': 3, 'created': '2020-08-19 07:07:00.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/2a02a2a401543a8e6826b5559d10f947b718e363', 'message': 'Replace py2 packages with py3\n\nPy2 packages are not available on Ubuntu Focal, so this replaces\nthem with py3 equivalents\n\nThis also adds CentOS 8 support\n\nDepends-On: https://review.opendev.org/746693\nChange-Id: Iad99dcd406ec0da2842b4300e2a4e5163e270bc9\n'}]",0,746659,2a02a2a401543a8e6826b5559d10f947b718e363,16,4,3,31542,,,0,"Replace py2 packages with py3

Py2 packages are not available on Ubuntu Focal, so this replaces
them with py3 equivalents

This also adds CentOS 8 support

Depends-On: https://review.opendev.org/746693
Change-Id: Iad99dcd406ec0da2842b4300e2a4e5163e270bc9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/59/746659/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,6b288fc0889697e189912124818bd98029c676bc,py2-packages, - python3-antlr3 - python3-dev - python3-setuptools - python3-mysqldb, - python-antlr3 - python-dev - python-setuptools - python-mysqldb - python-systemd,4,5
openstack%2Fpuppet-gnocchi~stable%2Fussuri~I299640aed47071381efb4dfb95f77245223b7dce,openstack/puppet-gnocchi,stable/ussuri,I299640aed47071381efb4dfb95f77245223b7dce,Use common class to manage apache service in beaker job,MERGED,2020-08-25 13:31:18.000000000,2020-08-26 08:12:57.000000000,2020-08-26 08:12:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 13:31:18.000000000', 'files': ['spec/acceptance/basic_gnocchi_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/2036a5f6e543b26eb8b037f63c38a9fd110a2a8a', 'message': 'Use common class to manage apache service in beaker job\n\nDepends-on: https://review.opendev.org/#/c/747935/\nChange-Id: I299640aed47071381efb4dfb95f77245223b7dce\n(cherry picked from commit f7e39c0adf05737c9084a650efb636f87ded8116)\n'}]",0,747938,2036a5f6e543b26eb8b037f63c38a9fd110a2a8a,9,4,1,9816,,,0,"Use common class to manage apache service in beaker job

Depends-on: https://review.opendev.org/#/c/747935/
Change-Id: I299640aed47071381efb4dfb95f77245223b7dce
(cherry picked from commit f7e39c0adf05737c9084a650efb636f87ded8116)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/38/747938/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_gnocchi_spec.rb'],1,2036a5f6e543b26eb8b037f63c38a9fd110a2a8a,centos8-beaker-stable/ussuri, include openstack_integration::apache,,1,0
openstack%2Fpuppet-openstack_spec_helper~master~I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8,openstack/puppet-openstack_spec_helper,master,I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8,Cleanup pins for old ruby on CentOS7,MERGED,2020-05-09 02:44:51.000000000,2020-08-26 07:37:58.000000000,2020-08-26 07:37:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-09 02:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d309d22bc75633e3709214876132e266738fcefd', 'message': 'Cleanup pins for old ruby on CentOS7\n\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 2, 'created': '2020-05-09 02:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f1b7c19bbaeccfa159bc888707f5f6e685926340', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 3, 'created': '2020-05-09 16:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/424d03c271d885f020ba696ba3e51d24d6e84089', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 4, 'created': '2020-05-09 16:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/5e713f36e748c693daacda3b42aecee37009f6d1', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 5, 'created': '2020-05-09 17:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/731eecd677291b8aaeb14381ef217e3afa0d672c', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726548/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 6, 'created': '2020-05-10 05:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/7b70edac6b04fd09098ad69b7feb6dd4065121d0', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726568/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 7, 'created': '2020-05-10 14:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/5adf6e82a434af12db5a284cd87e64211434fa33', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726568/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 8, 'created': '2020-05-10 15:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/4f928f0c27c589e6494bdbb128735f1197bf0b2b', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726568/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 9, 'created': '2020-05-10 15:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/3dc90ebeabc60d193fe88b309845843ec5625af8', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726639/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 10, 'created': '2020-05-11 00:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/fec917419ceedeeb175dee12282dfe4c8c6ff947', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726639/\nDepends-on: https://review.opendev.org/#/c/726703/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 11, 'created': '2020-05-11 05:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/616b33af03ad70982cef5a2acce475376a656e95', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726725/\nDepends-on: https://review.opendev.org/#/c/726703/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 12, 'created': '2020-07-21 01:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/4e3e0088cd01812ac9daa2a5a8e62af819520fb5', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726725/\nDepends-on: https://review.opendev.org/#/c/726703/\nDepends-on: https://review.opendev.org/#/c/742044/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 13, 'created': '2020-07-21 02:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/0e28f126914c7609a09b2a95acc08169ce6cf7f8', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/726544/\nDepends-on: https://review.opendev.org/#/c/726725/\nDepends-on: https://review.opendev.org/#/c/726703/\nDepends-on: https://review.opendev.org/#/c/742044/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 14, 'created': '2020-07-27 02:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/1c8a75e75d444c80b68391d30c26bd7422795257', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/741867/\nDepends-on: https://review.opendev.org/#/c/742325/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 15, 'created': '2020-07-29 12:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/15ee0d374fdc9ceeba82c92a7eac0a01d9c1b8ee', 'message': 'Cleanup pins for old ruby on CentOS7\n\n... because CentOS7 is no longer supported, the pins required for its\nold ruby version can be cleaned up.\nNote this patch is also required so that we can swich to CentOS8 in\nbeaker job.\n\nDepends-on: https://review.opendev.org/#/c/741867/\nDepends-on: https://review.opendev.org/#/c/743735/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 16, 'created': '2020-07-29 12:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/24712b93f3dbfb1b67bc00d043dfa5fdc7fe1ec4', 'message': 'Cleanup pins for old ruby on CentOS7\n\nBecause CentOS7 is no longer supported, the pins required for its old\nruby version can be cleaned up.\nNote this patch is also required so that we can run beaker job on\nCentOS8 instead of CentOS7.\n\nDepends-on: https://review.opendev.org/#/c/741867/\nDepends-on: https://review.opendev.org/#/c/743735/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 17, 'created': '2020-08-07 00:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/0281fcb87a8975b967df41c04cecc845a7c31b61', 'message': 'Cleanup pins for old ruby on CentOS7\n\nBecause CentOS7 is no longer supported, the pins required for its old\nruby version can be cleaned up.\nNote this patch is also required so that we can run beaker job on\nCentOS8 instead of CentOS7.\n\nDepends-on: https://review.opendev.org/#/c/741867/\nDepends-on: https://review.opendev.org/#/c/743735/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 18, 'created': '2020-08-24 14:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b1b217ec31b1a3290ada2e4f18252fed34f9bd35', 'message': 'Cleanup pins for old ruby on CentOS7\n\nBecause CentOS7 is no longer supported, the pins required for its old\nruby version can be cleaned up.\nNote this patch is also required so that we can run beaker job on\nCentOS8 instead of CentOS7.\n\nDepends-on: https://review.opendev.org/#/c/746924/\nDepends-on: https://review.opendev.org/#/c/747733/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}, {'number': 19, 'created': '2020-08-24 15:10:15.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/0b2639c19f16bf89c01f8349414a6545675fc288', 'message': 'Cleanup pins for old ruby on CentOS7\n\nBecause CentOS7 is no longer supported, the pins required for its old\nruby version can be cleaned up.\nNote this patch is also required so that we can run beaker job on\nCentOS8 instead of CentOS7.\n\nDepends-on: https://review.opendev.org/#/c/743735/\nDepends-on: https://review.opendev.org/#/c/747733/\nDepends-on: https://review.opendev.org/#/c/745253/\nChange-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8\n'}]",2,726498,0b2639c19f16bf89c01f8349414a6545675fc288,75,5,19,9816,,,0,"Cleanup pins for old ruby on CentOS7

Because CentOS7 is no longer supported, the pins required for its old
ruby version can be cleaned up.
Note this patch is also required so that we can run beaker job on
CentOS8 instead of CentOS7.

Depends-on: https://review.opendev.org/#/c/743735/
Depends-on: https://review.opendev.org/#/c/747733/
Depends-on: https://review.opendev.org/#/c/745253/
Change-Id: I8a239e9a59d944eabd08e7c29f2c1a72fa48c6a8
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/98/726498/14 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,d309d22bc75633e3709214876132e266738fcefd,centos8-beaker, spec.add_dependency 'rake' spec.add_dependency 'minitest' spec.add_dependency 'rspec-puppet-facts' spec.add_dependency 'puppet-lint-absolute_classname-check' spec.add_dependency 'puppet-lint-unquoted_string-check' spec.add_dependency 'beaker-rspec' spec.add_dependency 'beaker-puppet'," # NOTE(mwhahaha): rake 13.0.0 requires ruby > 2.1.0 rake_version = RUBY_VERSION < '2.1.0' ? ['< 13.0.0'] : ['>= 13.0.0'] spec.add_dependency 'rake', rake_version # NOTE(tkajinam): minitest 5.12.1 requires ruby > 2.3 minitest_version = RUBY_VERSION < '2.3.0' ? ['< 5.12.1'] : ['>= 5.12.1'] spec.add_dependency 'minitest', minitest_version # TODO(aschultz): 1.9.5 requires ruby >= 2.1.0 which breaks on centos7 rspec_puppet_facts_version = RUBY_VERSION < '2.1.0' ? ['>= 1.7.0', '< 1.9.5'] : ['>= 1.7.0'] spec.add_dependency 'rspec-puppet-facts', rspec_puppet_facts_version # NOTE(tobias-urdin): Use puppet-lint-absolute_classname-check >= 2.0.0 for Ruby version >= 2.1.0 puppet_lint_absolute_classname_version = RUBY_VERSION < '2.1.0' ? ['~> 1.0.0'] : ['>= 2.0.0'] spec.add_dependency 'puppet-lint-absolute_classname-check', puppet_lint_absolute_classname_version # NOTE(tkajinam): puppet-lint-unquoted_string-check >= 2.0.0 requires ruby >= 2.4 puppet_lint_unquoted_string_check_version = RUBY_VERSION < '2.4.0' ? ['~> 1.0.0'] : ['>= 2.0.0'] spec.add_dependency 'puppet-lint-unquoted_string-check', puppet_lint_unquoted_string_check_version # grpc 1.18 requires ruby >= 2.2 grpc_rspec_version = RUBY_VERSION < '2.3.0' ? '~> 0.9': '~> 1.0' spec.add_dependency 'grpc', grpc_rspec_version # Force net-telnet 0.1.1 as 0.2.0 requires ruby >= 2.3.0 which # CentOS does not provide. spec.add_dependency 'net-telnet', ['= 0.1.1'] # Things that get pinned because we can't have nice things (new ruby > 2.0) spec.add_dependency 'fast_gettext', ['< 1.2.0'] spec.add_dependency 'gettext', ['< 3.3.0'] spec.add_dependency 'jwt', ['= 1.5.6'] spec.add_dependency 'nokogiri', ['< 1.7.0'] # fog-core 1.44.0 requires xmlrpc 0.3.0 which requires ruby 2.3.0 which is not available on centos7 spec.add_dependency 'fog-core', ['!= 1.44.0'] # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11.0' : '>= 0.11.0' spec.add_dependency 'signet', signet_version # NOTE(zhongshengping): Pin dry-inflector to 0.1.2 as 0.2.0 requires ruby >= 2.4.0 dry_inflector_version = RUBY_VERSION < '2.4.0' ? '~> 0.1.2' : '>= 0.1.2' spec.add_dependency 'dry-inflector', dry_inflector_version # NOTE(zhongshengping): Pin oga to 2.15 as 3.0 requires ruby >= 2.4.0 oga_version = RUBY_VERSION < '2.4.0' ? '~> 2.15' : '>= 2.15' spec.add_dependency 'oga', oga_version # dependencies that are needed to run beaker-rspec beaker_rspec_version = RUBY_VERSION < '2.1.8' ? '= 5.6.0' : '= 6.2.3' spec.add_dependency 'beaker-rspec', beaker_rspec_version # NOTE(tobias-urdin): When beaker_rspec_version is = 6.2.3 it depends on # beaker ~> 3.0 which resolves to 3.37.0 which depends on pry-byebug ~> 3.4.2 # resolving to 3.4.3 that depends on pry ~> 0.13.0 which it doesn't support # so we should cap pry to 0.12.2 otherwise if beaker-rspec is 5.6.0 we # pin to 0.10.4 # TODO(tobias-urdin): Evaulate/remove when we unpin beaker-rspec or beaker. pry_version = beaker_rspec_version == '= 6.2.3' ? '= 0.12.2' : '= 0.10.4' spec.add_dependency 'pry', pry_version # Pin beaker-puppet to 0.17.1 because 1.0.0 does not work with our older # beaker and beaker-puppet requirements. spec.add_dependency 'beaker-puppet', ['= 0.17.1'] # NOTE(tobias-urdin): Pin r10k and cri gems since r10k 3.0.0 # requires a cri version that must have ruby >= 2.3.0 spec.add_dependency 'r10k', ['~> 2.6'] spec.add_dependency 'cri', ['~> 2.6']",7,67
openstack%2Ftripleo-heat-templates~master~Id9b9c413ee37dcda422e69ebef4aca81e4877156,openstack/tripleo-heat-templates,master,Id9b9c413ee37dcda422e69ebef4aca81e4877156,minor update: only migrate HA VIP away when needed,MERGED,2020-08-19 13:49:37.000000000,2020-08-26 07:34:54.000000000,2020-08-26 07:09:54.000000000,"[{'_account_id': 9816}, {'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 13:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82b0edd55676fe5b3558de269727bb81540c8253', 'message': ""WIP minor update: only migrate HA VIP away when needed\n\nWhen update tasks runs in a HA controller node, pacemaker is\nstopped, along with all HA resources hosted on the node. If\nany VIP is hosted on that node, it is moved to another node\nprior to stopping pacemaker to limit service downtime.\n\nIf the HA controller node doesn't manage VIP (no HAProxy) or\nthe control plane only has 1 node, there is no need to try and\nmove VIP away before stopping pacemaker.\n\nChange-Id: Id9b9c413ee37dcda422e69ebef4aca81e4877156\n""}, {'number': 2, 'created': '2020-08-22 09:15:21.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/164fac75a0fbff2130f39a5f4d7c5931f5ea3b08', 'message': ""minor update: only migrate HA VIP away when needed\n\nWhen update tasks runs in a HA controller node, pacemaker is\nstopped, along with all HA resources hosted on the node. If\nany VIP is hosted on that node, it is moved to another node\nprior to stopping pacemaker to limit service downtime.\n\nIf the HA controller node doesn't manage VIP (no HAProxy) or\nthe control plane only has 1 node, there is no need to try and\nmove VIP away before stopping pacemaker.\n\nTested on a 1-node HA control plane, and also on a control\nplane with external balancer (no HAproxy service, thus no VIP\nmanaged in pacemaker). The dedicated ansible task no longer\ntries to move VIP if it doesn't need to.\n\nCloses-Bug: #1892570\nChange-Id: Id9b9c413ee37dcda422e69ebef4aca81e4877156\n""}]",0,746927,164fac75a0fbff2130f39a5f4d7c5931f5ea3b08,21,6,2,20778,,,0,"minor update: only migrate HA VIP away when needed

When update tasks runs in a HA controller node, pacemaker is
stopped, along with all HA resources hosted on the node. If
any VIP is hosted on that node, it is moved to another node
prior to stopping pacemaker to limit service downtime.

If the HA controller node doesn't manage VIP (no HAProxy) or
the control plane only has 1 node, there is no need to try and
move VIP away before stopping pacemaker.

Tested on a 1-node HA control plane, and also on a control
plane with external balancer (no HAproxy service, thus no VIP
managed in pacemaker). The dedicated ansible task no longer
tries to move VIP if it doesn't need to.

Closes-Bug: #1892570
Change-Id: Id9b9c413ee37dcda422e69ebef4aca81e4877156
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/746927/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,82b0edd55676fe5b3558de269727bb81540c8253,ha-vip-move," when: - step|int == 1 - hostvars[inventory_hostname][""haproxy_node_names""]|default([])|length > 1", when: step|int == 1,3,1
openstack%2Fglance_store~master~Iaf7f1174f80624a0e1f47bea3c0c0b36d2345557,openstack/glance_store,master,Iaf7f1174f80624a0e1f47bea3c0c0b36d2345557,Correct default type name reference,MERGED,2020-08-25 16:33:36.000000000,2020-08-26 07:26:21.000000000,2020-08-26 07:24:02.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-08-25 16:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9d0384a245fad03396f29f3cd971a6ffccbf3e83', 'message': ""Correct default type name reference\n\nInside cinder, default types are returned as dictionary but the\nAPI call return it as a object.\nCorrecting name reference for the same from dictionary (['name'])\nto object (.name)\n\nChange-Id: Iaf7f1174f80624a0e1f47bea3c0c0b36d2345557\n""}, {'number': 2, 'created': '2020-08-25 16:50:43.000000000', 'files': ['glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3c44d6851dafebbce38b58bf71696a431660b725', 'message': ""Correct default type name reference\n\nInside cinder, default types are returned as dictionary but the\nAPI call return it as a object.\nCorrecting name reference for the same from dictionary (['name'])\nto object (.name)\n\nChange-Id: Iaf7f1174f80624a0e1f47bea3c0c0b36d2345557\n""}]",0,747984,3c44d6851dafebbce38b58bf71696a431660b725,10,3,2,27615,,,0,"Correct default type name reference

Inside cinder, default types are returned as dictionary but the
API call return it as a object.
Correcting name reference for the same from dictionary (['name'])
to object (.name)

Change-Id: Iaf7f1174f80624a0e1f47bea3c0c0b36d2345557
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/84/747984/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/cinder.py'],1,9d0384a245fad03396f29f3cd971a6ffccbf3e83,, default_type = cinder_client.volume_types.default() if volume.volume_type == default_type.name:, default_type = cinder_client.volume_types.default()['name'] if volume.volume_type == default_type:,2,2
openstack%2Fmistral~master~I9cd58684714066e229d6774148119aea03d22efb,openstack/mistral,master,I9cd58684714066e229d6774148119aea03d22efb,Remove TripleO gate job,MERGED,2020-03-03 05:10:15.000000000,2020-08-26 07:20:38.000000000,2020-08-26 07:15:09.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 05:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/580548d208d4aab57c9b2e14c7b876c3d58578da', 'message': 'Remove TripleO gate job\n\n* TripleO is dropping Mistral now and its jobs keep failing too\n  often because of various internal activities like moving from\n  Py2 to Py3. This patch needs to be merged once we are confident\n  that it will be safe.\n\nChange-Id: I9cd58684714066e229d6774148119aea03d22efb\n'}, {'number': 2, 'created': '2020-08-26 04:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/566b563abe28aa511cc6f17a5de15ca5ded2ed3d', 'message': 'Remove TripleO gate job\n\n* TripleO is dropping Mistral now and its jobs keep failing too\n  often because of various internal activities like moving from\n  Py2 to Py3. This patch needs to be merged once we are confident\n  that it will be safe.\n\nChange-Id: I9cd58684714066e229d6774148119aea03d22efb\n'}, {'number': 3, 'created': '2020-08-26 04:30:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/63225d41e41dbedc341f2ef0724901f62dcd5d8b', 'message': 'Remove TripleO gate job\n\n* TripleO is dropping Mistral now and its jobs keep failing too\n  often because of various internal activities like moving from\n  Py2 to Py3. This patch needs to be merged once we are confident\n  that it will be safe.\n\nChange-Id: I9cd58684714066e229d6774148119aea03d22efb\n'}]",0,710903,63225d41e41dbedc341f2ef0724901f62dcd5d8b,18,5,3,8731,,,0,"Remove TripleO gate job

* TripleO is dropping Mistral now and its jobs keep failing too
  often because of various internal activities like moving from
  Py2 to Py3. This patch needs to be merged once we are confident
  that it will be safe.

Change-Id: I9cd58684714066e229d6774148119aea03d22efb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/03/710903/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,580548d208d4aab57c9b2e14c7b876c3d58578da,(HEAD,, - tripleo-ci-centos-7-undercloud-containers,0,1
openstack%2Ftripleo-common~stable%2Fussuri~I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7,openstack/tripleo-common,stable/ussuri,I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7,Restore default log path for image prepare,MERGED,2020-08-24 05:06:45.000000000,2020-08-26 07:18:04.000000000,2020-08-26 07:12:46.000000000,"[{'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-24 05:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e793af1ea8bfa1f24433383a9d79e0812ddfb3a4', 'message': ""Restore default log path for image prepare\n\nIf logging paths weren't configured in handlers, use default /var/log\nfor tripleo-container-image-prepare.log along with its *ansible\ncounterpart used for logging the container image prepare bits.\n\nCloses-Bug: #1866676\nChange-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit b5668d01d5f55f16c3e560c5be8f1e1057e809c2)\n""}, {'number': 2, 'created': '2020-08-24 13:16:12.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/968dd03487f4e75a6df8761d6443a9e0ff03867f', 'message': ""Restore default log path for image prepare\n\nIf logging paths weren't configured in handlers, use default /var/log\nfor tripleo-container-image-prepare.log along with its *ansible\ncounterpart used for logging the container image prepare bits.\n\nCloses-Bug: #1866676\nChange-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit b5668d01d5f55f16c3e560c5be8f1e1057e809c2)\n""}]",0,747618,968dd03487f4e75a6df8761d6443a9e0ff03867f,23,4,2,13861,,,0,"Restore default log path for image prepare

If logging paths weren't configured in handlers, use default /var/log
for tripleo-container-image-prepare.log along with its *ansible
counterpart used for logging the container image prepare bits.

Closes-Bug: #1866676
Change-Id: I3edbb1b81d5b75519d2bb46f7af04dc833fce9b7
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit b5668d01d5f55f16c3e560c5be8f1e1057e809c2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/747618/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,e793af1ea8bfa1f24433383a9d79e0812ddfb3a4,bug/1866676-stable/ussuri," log_f = os.path.join('/var/log', log_name)"," tmp_dir = tempfile.gettempdir() log_f = os.path.join(tmp_dir, log_name)",3,4
openstack%2Fpython-tripleoclient~stable%2Fussuri~Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,openstack/python-tripleoclient,stable/ussuri,Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,TCIB: add --rhel-modules argument,MERGED,2020-08-21 13:06:28.000000000,2020-08-26 07:18:03.000000000,2020-08-26 07:12:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 13:06:28.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e2e5fd96b66e5ae4ae5589a5b18be55eaed0c6bb', 'message': ""TCIB: add --rhel-modules argument\n\n--rhel-modules is a new argument that will let us override the hardcoded\nRHEL module versions that are provided in the base image.\n\nFor example, if we want to build the images against a specific module\nversion, we'll now be able to do the following:\n\n  $ openstack tripleo container image build --rhel-modules \\\n        redis:5,virt:8.3\n\nNote: for now we're opinionated about the RHEL modules that we support\nand the --rhel-modules won't allow to install any modules, but only the\nones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].\nThe reason is that in theory all necessary modules should be provided in\nthe base image layout in tripleo-common, and the use case here is being\nable to change their version from the CLI, specially for our release\nchallenges with future OSP zstreams.\n\n\nChange-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3\n(cherry picked from commit a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb)\n""}]",0,747404,e2e5fd96b66e5ae4ae5589a5b18be55eaed0c6bb,18,3,1,3153,,,0,"TCIB: add --rhel-modules argument

--rhel-modules is a new argument that will let us override the hardcoded
RHEL module versions that are provided in the base image.

For example, if we want to build the images against a specific module
version, we'll now be able to do the following:

  $ openstack tripleo container image build --rhel-modules \
        redis:5,virt:8.3

Note: for now we're opinionated about the RHEL modules that we support
and the --rhel-modules won't allow to install any modules, but only the
ones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].
The reason is that in theory all necessary modules should be provided in
the base image layout in tripleo-common, and the use case here is being
able to change their version from the CLI, specially for our release
challenges with future OSP zstreams.


Change-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3
(cherry picked from commit a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/747404/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/tripleo_container_image.py'],1,e2e5fd96b66e5ae4ae5589a5b18be55eaed0c6bb,modules-stable/ussuri,"SUPPORTED_RHEL_MODULES = ['container-tools', 'mariadb', 'redis', 'virt'] parser.add_argument( ""--rhel-modules"", dest=""rhel_modules"", metavar=""<rhel-modules>"", default=None, help=_(""A comma separated list of RHEL modules to enable with "" ""their version. Example: 'mariadb:10.3,virt:8.3'.""), ) if parsed_args.rhel_modules: rhel_modules = {} for module in parsed_args.rhel_modules.split(','): try: name, version = module.split(':', 1) except Exception: raise ValueError('Wrong format for --rhel-modules, ' 'must be a comma separated list of ' '<module>:<version>') if name not in SUPPORTED_RHEL_MODULES: raise ValueError('{} is not part of supported modules' ' {}'.format(name, SUPPORTED_RHEL_MODULES)) rhel_modules.update({name: version}) image_config['tcib_rhel_modules'] = rhel_modules ",,25,0
openstack%2Ftripleo-validations~master~I021a7ad03902ca506885769c1cadc4a449bebbfb,openstack/tripleo-validations,master,I021a7ad03902ca506885769c1cadc4a449bebbfb,New validation: ensure we have access to the right package version,MERGED,2020-08-04 12:07:24.000000000,2020-08-26 07:18:02.000000000,2020-08-26 07:09:46.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-04 12:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/77c0e35e4c1c4019f1f88464f6873916a11ddca0', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 2, 'created': '2020-08-04 12:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3c0f2506916dfacf7fb5093a4bf1948172d74fee', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 3, 'created': '2020-08-04 12:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ea04ae9eb22eb867f75797bbb1b997c2c91743ad', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 4, 'created': '2020-08-04 13:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1c9036bcebcc8ab9527cc50deb15bb549fac82e1', 'message': ""New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nWith the current default, we ensure we get podman 1.6.4 on every nodes\n(overcloud and undercloud).\nThis can be used during an upgrade in order to ensure we're not using\nthe wrong podman version - either as an inflight validation, or as a\nmanual step.\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n""}, {'number': 5, 'created': '2020-08-04 13:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4bd2133737c416ceedec212ec3ad50616a79c4a9', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nWe can\'t use the ""package_facts"" ansible module, since we\'re allowing to\ncheck available packages - i.e. versions that aren\'t installed on the\nsystem.\n\nWith the current default, we ensure we get podman 1.6.4 on every nodes\n(overcloud and undercloud).\nThis can be used during an upgrade in order to ensure we\'re not using\nthe wrong podman version - either as an inflight validation, or as a\nmanual step.\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 6, 'created': '2020-08-06 07:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/89cac1170d919cc334aedeab8c83b7640d01a0d0', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nWe can\'t use the ""package_facts"" ansible module, since we\'re allowing to\ncheck available packages - i.e. versions that aren\'t installed on the\nsystem.\n\nWith the current default, we ensure we get podman 1.6.4 on every nodes\n(overcloud and undercloud).\nThis can be used during an upgrade in order to ensure we\'re not using\nthe wrong podman version - either as an inflight validation, or as a\nmanual step.\n\nAlso, it supports the full version number, with the release itself.\n\nThis means you can pass ""1.6.4-15"" for podman, in order to ensure you\nget the precise version you want.\n\nPlease check the molecule tests in order to see how this validation can\nbe used.\n\nPlease note, the ""yum list"" part is slow since it will check on the\nremote repositories for the available versions!\n\nLast note, we\'re using ""yum"" here since the validation might be needed\non pre-dnf releases (namely, centos-7 or rhel-7).\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 7, 'created': '2020-08-06 14:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/229e3d07cec2dcb70ee33f5f7ef8e06f0d9c384a', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nWe can\'t use the ""package_facts"" ansible module, since we\'re allowing to\ncheck available packages - i.e. versions that aren\'t installed on the\nsystem.\n\nWith the current default, we ensure we get podman 1.6.4 on every nodes\n(overcloud and undercloud).\nThis can be used during an upgrade in order to ensure we\'re not using\nthe wrong podman version - either as an inflight validation, or as a\nmanual step.\n\nAlso, it supports the full version number, with the release itself.\n\nThis means you can pass ""1.6.4-15"" for podman, in order to ensure you\nget the precise version you want.\n\nPlease check the molecule tests in order to see how this validation can\nbe used.\n\nPlease note, the ""yum list"" part is slow since it will check on the\nremote repositories for the available versions!\n\nLast note, we\'re using ""yum"" here since the validation might be needed\non pre-dnf releases (namely, centos-7 or rhel-7).\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 8, 'created': '2020-08-21 06:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f7576316d6d2c9ddaeee7452a7862ef67f32ae58', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nWe can\'t use the ""package_facts"" ansible module, since we\'re allowing to\ncheck available packages - i.e. versions that aren\'t installed on the\nsystem.\n\nWith the current default, we ensure we get podman 1.6.4 on every nodes\n(overcloud and undercloud).\nThis can be used during an upgrade in order to ensure we\'re not using\nthe wrong podman version - either as an inflight validation, or as a\nmanual step.\n\nAlso, it supports the full version number, with the release itself.\n\nThis means you can pass ""1.6.4-15"" for podman, in order to ensure you\nget the precise version you want.\n\nPlease check the molecule tests in order to see how this validation can\nbe used.\n\nPlease note, the ""yum list"" part is slow since it will check on the\nremote repositories for the available versions!\n\nLast note, we\'re using ""yum"" here since the validation might be needed\non pre-dnf releases (namely, centos-7 or rhel-7).\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 9, 'created': '2020-08-21 11:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3c8b9c09889a6d137aae19119f4886c5c1b0180f', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nWe can\'t use the ""package_facts"" ansible module, since we\'re allowing to\ncheck available packages - i.e. versions that aren\'t installed on the\nsystem.\n\nWith the current default, we ensure we get podman 1.6.4 on every nodes\n(overcloud and undercloud).\nThis can be used during an upgrade in order to ensure we\'re not using\nthe wrong podman version - either as an inflight validation, or as a\nmanual step.\n\nAlso, it supports the full version number, with the release itself.\n\nThis means you can pass ""1.6.4-15"" for podman, in order to ensure you\nget the precise version you want.\n\nPlease check the molecule tests in order to see how this validation can\nbe used.\n\nPlease note, the ""yum list"" part is slow since it will check on the\nremote repositories for the available versions!\n\nLast note, we\'re using ""yum"" here since the validation might be needed\non pre-dnf releases (namely, centos-7 or rhel-7).\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}, {'number': 10, 'created': '2020-08-24 05:44:59.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/package_version/defaults/main.yaml', 'roles/package_version/molecule/default/Dockerfile.j2', 'roles/package_version/vars/redhat-8.yml', 'roles/package_version/molecule/default/converge.yml', 'roles/package_version/molecule/default/molecule.yml', 'roles/package_version/tasks/compare.yaml', 'roles/package_version/tasks/main.yaml', 'playbooks/package-version.yaml', 'roles/package_version/vars/centos.yml', 'doc/source/roles/role-package_version.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1c03c9fc56e6861cce3aafbc545abd90cd2dc765', 'message': 'New validation: ensure we have access to the right package version\n\nThis validation takes a list of dict describing the packages we want to\nverify.\nThe main goal is to ensure we are avoiding issues at some point with\nparticularly sensitive packages, such as podman.\n\nWe can\'t use the ""package_facts"" ansible module, since we\'re allowing to\ncheck available packages - i.e. versions that aren\'t installed on the\nsystem.\n\nWith the current default, we ensure we get podman 1.6.4 on every nodes\n(overcloud and undercloud).\nThis can be used during an upgrade in order to ensure we\'re not using\nthe wrong podman version - either as an inflight validation, or as a\nmanual step.\n\nAlso, it supports the full version number, with the release itself.\n\nThis means you can pass ""1.6.4-15"" for podman, in order to ensure you\nget the precise version you want.\n\nPlease check the molecule tests in order to see how this validation can\nbe used.\n\nPlease note, the ""yum list"" part is slow since it will check on the\nremote repositories for the available versions!\n\nLast note, we\'re using ""yum"" here since the validation might be needed\non pre-dnf releases (namely, centos-7 or rhel-7).\n\nChange-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb\n'}]",4,744689,1c03c9fc56e6861cce3aafbc545abd90cd2dc765,31,7,10,28223,,,0,"New validation: ensure we have access to the right package version

This validation takes a list of dict describing the packages we want to
verify.
The main goal is to ensure we are avoiding issues at some point with
particularly sensitive packages, such as podman.

We can't use the ""package_facts"" ansible module, since we're allowing to
check available packages - i.e. versions that aren't installed on the
system.

With the current default, we ensure we get podman 1.6.4 on every nodes
(overcloud and undercloud).
This can be used during an upgrade in order to ensure we're not using
the wrong podman version - either as an inflight validation, or as a
manual step.

Also, it supports the full version number, with the release itself.

This means you can pass ""1.6.4-15"" for podman, in order to ensure you
get the precise version you want.

Please check the molecule tests in order to see how this validation can
be used.

Please note, the ""yum list"" part is slow since it will check on the
remote repositories for the available versions!

Last note, we're using ""yum"" here since the validation might be needed
on pre-dnf releases (namely, centos-7 or rhel-7).

Change-Id: I021a7ad03902ca506885769c1cadc4a449bebbfb
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/89/744689/9 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/package_version.yaml', 'zuul.d/molecule.yaml', 'roles/package_version/defaults/main.yaml', 'roles/package_version/molecule/default/Dockerfile.j2', 'roles/package_version/molecule/default/converge.yml', 'roles/package_version/molecule/default/molecule.yml', 'roles/package_version/tasks/compare.yaml', 'roles/package_version/tasks/main.yaml', 'doc/source/roles/role-package_version.rst']",9,77c0e35e4c1c4019f1f88464f6873916a11ddca0,package_version,====================== Role - package_version ====================== .. ansibleautoplugin:: :role: roles/package_version ,,228,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie7bf09ff0818bd39ebd36930dfeb321c9eb1279a,openstack/tripleo-heat-templates,stable/train,Ie7bf09ff0818bd39ebd36930dfeb321c9eb1279a,[ffwd] Don't remove package python2-chardet,MERGED,2020-08-21 11:03:44.000000000,2020-08-26 07:12:50.000000000,2020-08-26 07:12:50.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-21 11:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52d09257ec620cfc1dbbfbfac3f815cb0b1a0e90', 'message': ""[ffwd] Don't remove package python2-chardet\n\nIn some cases python2-chardet is installed and becomes dependency\nof python-requests which is dependency of leapp. This results in\nremoval of leapp package.\n\nChange-Id: Ie7bf09ff0818bd39ebd36930dfeb321c9eb1279a\n""}, {'number': 2, 'created': '2020-08-21 11:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0b98a103409efacf1714f6131bb8ee9ac34d5ac', 'message': ""[train-only][ffwd] Don't remove package python2-chardet\n\nIn some cases python2-chardet is installed and becomes dependency\nof python-requests which is dependency of leapp. This results in\nremoval of leapp package. This is issue only of stable/train.\n\nChange-Id: Ie7bf09ff0818bd39ebd36930dfeb321c9eb1279a\n""}, {'number': 3, 'created': '2020-08-24 16:34:40.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a600db083b4d3b3d85a7c4ba07e2ae142d80223', 'message': ""[ffwd] Don't remove package python2-chardet\n\nIn some cases python2-chardet is installed and becomes dependency\nof python-requests which is dependency of leapp. This results in\nremoval of leapp package.\n\nChange-Id: Ie7bf09ff0818bd39ebd36930dfeb321c9eb1279a\n""}]",1,747390,5a600db083b4d3b3d85a7c4ba07e2ae142d80223,20,5,3,11166,,,0,"[ffwd] Don't remove package python2-chardet

In some cases python2-chardet is installed and becomes dependency
of python-requests which is dependency of leapp. This results in
removal of leapp package.

Change-Id: Ie7bf09ff0818bd39ebd36930dfeb321c9eb1279a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/747390/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,52d09257ec620cfc1dbbfbfac3f815cb0b1a0e90,ffwd-upgrade2-stable/train, -python2-chardet,,1,0
openstack%2Ftripleo-validations~master~I654df90091e12b9b85ad704312e4ae6c2740ad70,openstack/tripleo-validations,master,I654df90091e12b9b85ad704312e4ae6c2740ad70,Clarify error message for Nova notification settings,MERGED,2020-08-21 18:44:00.000000000,2020-08-26 07:12:49.000000000,2020-08-26 07:12:48.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-21 18:44:00.000000000', 'files': ['roles/nova_event_callback/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b47e1ad2f4156fac4f78bd09ebe09f474726ad0f', 'message': 'Clarify error message for Nova notification settings\n\nPreviously, the error messages provided no information as to what the\nsettings should be, they just reported the current value with no\nindication of any change that needed to be made. This patch makes them\nclearer.\n\nChange-Id: I654df90091e12b9b85ad704312e4ae6c2740ad70\n'}]",0,747464,b47e1ad2f4156fac4f78bd09ebe09f474726ad0f,11,3,1,8864,,,0,"Clarify error message for Nova notification settings

Previously, the error messages provided no information as to what the
settings should be, they just reported the current value with no
indication of any change that needed to be made. This patch makes them
clearer.

Change-Id: I654df90091e12b9b85ad704312e4ae6c2740ad70
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/64/747464/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/nova_event_callback/tasks/main.yml'],1,b47e1ad2f4156fac4f78bd09ebe09f474726ad0f,," msg: ""{{ item.item }} should be set ro True. Current value: {{ item.value }}."""," msg: ""Value of {{ item.item }} is set to {{ item.value|bool }}.""",1,1
openstack%2Ftripleo-validations~master~I654df90091e12b9b85ad704312e4ae6c2740ad70,openstack/tripleo-validations,master,I654df90091e12b9b85ad704312e4ae6c2740ad70,Clarify error message for Nova notification settings,MERGED,2020-08-21 18:44:00.000000000,2020-08-26 07:12:49.000000000,2020-08-26 07:12:48.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-21 18:44:00.000000000', 'files': ['roles/nova_event_callback/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b47e1ad2f4156fac4f78bd09ebe09f474726ad0f', 'message': 'Clarify error message for Nova notification settings\n\nPreviously, the error messages provided no information as to what the\nsettings should be, they just reported the current value with no\nindication of any change that needed to be made. This patch makes them\nclearer.\n\nChange-Id: I654df90091e12b9b85ad704312e4ae6c2740ad70\n'}]",0,747464,b47e1ad2f4156fac4f78bd09ebe09f474726ad0f,11,3,1,8864,,,0,"Clarify error message for Nova notification settings

Previously, the error messages provided no information as to what the
settings should be, they just reported the current value with no
indication of any change that needed to be made. This patch makes them
clearer.

Change-Id: I654df90091e12b9b85ad704312e4ae6c2740ad70
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/64/747464/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/nova_event_callback/tasks/main.yml'],1,b47e1ad2f4156fac4f78bd09ebe09f474726ad0f,," msg: ""{{ item.item }} should be set ro True. Current value: {{ item.value }}."""," msg: ""Value of {{ item.item }} is set to {{ item.value|bool }}.""",1,1
openstack%2Ftripleo-heat-templates~master~I74f5ede7bff9064889a4b7aaa978127ab456d88f,openstack/tripleo-heat-templates,master,I74f5ede7bff9064889a4b7aaa978127ab456d88f,Remove all UIConfig endpoints,MERGED,2020-08-21 15:16:50.000000000,2020-08-26 07:09:48.000000000,2020-08-26 07:09:48.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-21 15:16:50.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'network/endpoints/build_endpoint_map.py', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d5ecfcdfaa4d5fe976b79b5f3cb461a7dd49d0b', 'message': 'Remove all UIConfig endpoints\n\nUIConfig endpoints were introduced for TripleO UI[1], but TripleO UI\nhas been removed thus these endpoints are no longer used.\n\n[1] https://review.opendev.org/#/c/528679/\n\nChange-Id: I74f5ede7bff9064889a4b7aaa978127ab456d88f\n'}]",0,747432,6d5ecfcdfaa4d5fe976b79b5f3cb461a7dd49d0b,21,5,1,9816,,,0,"Remove all UIConfig endpoints

UIConfig endpoints were introduced for TripleO UI[1], but TripleO UI
has been removed thus these endpoints are no longer used.

[1] https://review.opendev.org/#/c/528679/

Change-Id: I74f5ede7bff9064889a4b7aaa978127ab456d88f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/747432/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'network/endpoints/build_endpoint_map.py', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml']",8,6d5ecfcdfaa4d5fe976b79b5f3cb461a7dd49d0b,RHBZ#1868910,, UIConfig: net_param: Public uri_suffixes: '': /heat/v1/%(project_id)s port: 3000 UIConfig: net_param: Public uri_suffixes: '': /keystone/v3 port: 3000 UIConfig: net_param: Public uri_suffixes: '': /mistral/v2 port: 3000 UIConfig: net_param: Public uri_suffixes: '': /nova/v2.1 port: 3000 UIConfig: net_param: Public uri_suffixes: '': /swift/v1/AUTH_%(project_id)s port: 3000 UIConfig: net_param: Public uri_suffixes: '': /ironic port: 3000 UIConfig: net_param: Public uri_suffixes: '': /ironic-inspector port: 3000 UIConfig: net_param: Public uri_suffixes: '': /zaqar port: 3000,1,1167
openstack%2Ftripleo-validations~stable%2Fussuri~I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf,openstack/tripleo-validations,stable/ussuri,I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf,Add os-cloud support for tripleo-ansible-inventory script,MERGED,2020-08-25 09:39:25.000000000,2020-08-26 07:09:45.000000000,2020-08-26 07:09:44.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-25 09:39:25.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6a59a142e2849a227304f2e6aedc293e1faf611', 'message': 'Add os-cloud support for tripleo-ansible-inventory script\n\nImplement the --os-cloud authentication\n\nChange-Id: I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf\n(cherry picked from commit e83ae7967757088feef4e0e8554f74edecf0b551)\n'}]",0,747880,c6a59a142e2849a227304f2e6aedc293e1faf611,10,2,1,28223,,,0,"Add os-cloud support for tripleo-ansible-inventory script

Implement the --os-cloud authentication

Change-Id: I0f1a15b36d48d6f771b85f6c9b0adad3017f4bdf
(cherry picked from commit e83ae7967757088feef4e0e8554f74edecf0b551)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/80/747880/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,c6a59a142e2849a227304f2e6aedc293e1faf611,os-cloud/config-stable/ussuri,"import os_client_config cfg.StrOpt('os-cloud', default=None, help=('Provide authentication ' 'with clouds.yaml file.')), if configs.auth_url is None and configs.os_cloud is None: 'variable missing or --os-cloud option is not set, ' 'unable to proceed.', file=sys.stderr) if configs.auth_url: if '/v2.0' in configs.auth_url: configs.auth_url = configs.auth_url.replace('/v2.0', '/v3') if configs.auth_url: auth_variables = { 'auth_url': configs.auth_url, 'username': configs.username, 'project_name': configs.project_name, 'os_auth_token': configs.auth_token, 'password': configs.password, 'cacert': configs.cacert, 'timeout': 30 } elif configs.os_cloud: config = os_client_config.OpenStackConfig() for cloud in config.get_all_clouds(): if cloud.name == configs.os_cloud: try: auth_variables = { 'auth_url': cloud.config['auth'].get('auth_url'), 'username': cloud.config['auth'].get('username'), 'project_name': cloud.config['auth'].get('project_name'), 'os_auth_token': cloud.config['auth'].get('auth_token'), 'password': cloud.config['auth'].get('password'), 'cacert': cloud.config.get('cacert'), 'timeout': cloud.config.get('api_timeout') } except KeyError: raise KeyError(""Missing values in clouds.yaml format"") else: raise RuntimeError(""No auth provided."") auth_url=auth_variables.get('auth_url'), cacert=auth_variables.get('cacert'), project_name=auth_variables.get('project_name'), username=auth_variables.get('username'),"," if configs.auth_url is None: 'variable missing, unable to proceed.', file=sys.stderr) if '/v2.0' in configs.auth_url: configs.auth_url = configs.auth_url.replace('/v2.0', '/v3') auth_variables = { 'auth_url': configs.auth_url, 'username': configs.username, 'project_name': configs.project_name, 'os_auth_token': configs.auth_token, 'password': configs.password, 'cacert': configs.cacert, 'timeout': 30 } auth_url=configs.auth_url, cacert=configs.cacert, project_name=configs.project_name, username=configs.username,",43,17
