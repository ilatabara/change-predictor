id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fsolum-dashboard~799413,openstack/solum-dashboard,stable/victoria,Ic879e6843aa5ac5794ad560e1ec0ddbe42df4974,Imported Translations from Zanata,ABANDONED,2021-07-04 08:35:20.000000000,2024-04-11 17:34:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-04 08:35:20.000000000', 'files': ['solumdashboard/locale/ru/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/35a4bdcd6b72677e114baead2b9c72eaf99a1800', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic879e6843aa5ac5794ad560e1ec0ddbe42df4974\n'}]",0,799413,35a4bdcd6b72677e114baead2b9c72eaf99a1800,3,1,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic879e6843aa5ac5794ad560e1ec0ddbe42df4974
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/13/799413/1 && git format-patch -1 --stdout FETCH_HEAD,['solumdashboard/locale/ru/LC_MESSAGES/django.po'],1,35a4bdcd6b72677e114baead2b9c72eaf99a1800,zanata/translations,"# Roman Gorshunov <roman.gorshunov@att.com>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: solum-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2020-11-05 06:22+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-07-03 03:12+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n"" ""Language-Team: Russian\n"" ""Language: ru\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n"" ""%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2)\n"" msgid ""A yaml file containing custom parameters"" msgstr ""YAML файл с локализованными параметрами"" msgid ""App File"" msgstr ""Файл приложения"" msgid ""App URL"" msgstr ""URL приложения"" msgid ""App updated"" msgstr ""Приложение обновлено"" msgid ""Application"" msgstr ""Приложение"" msgid ""Application Details"" msgstr ""Детали приложения"" msgid ""Application Name"" msgstr ""Название приложения"" msgid ""Application entry point"" msgstr ""Точка входа приложения"" msgid ""Application was successfully created."" msgstr ""Приложение успешно создано."" msgid ""Applications"" msgstr ""Приложения"" msgid ""Assemblies"" msgstr ""Ансамбли"" msgid ""Assembly Details"" msgstr ""Детали ансамбля"" msgid ""Build and Deploy Application"" msgstr ""Собрать и развернуть приложение"" msgid ""Command to execute unit tests"" msgstr ""Команда для запуска модульных тестов"" msgid ""Could not update app"" msgstr ""Не удалось обновить приложение"" msgid ""Create Application"" msgstr ""Создать приложение"" msgid ""Create Languagepack"" msgstr ""Создать пакет языка"" msgid ""Created at"" msgstr ""Создано"" msgid ""Delete Application"" msgid_plural ""Delete Applications"" msgstr[0] ""Удалить приложение"" msgstr[1] ""Удалить приложения"" msgstr[2] ""Удалить приложения"" msgid ""Delete Assembly"" msgid_plural ""Delete Assemblies"" msgstr[0] ""Удалить ансамбль"" msgstr[1] ""Удалить ансамбли"" msgstr[2] ""Удалить ансамбли"" msgid ""Delete Languagepack"" msgid_plural ""Delete Languagepacks"" msgstr[0] ""Удалить пакет языка"" msgstr[1] ""Удалить пакеты языка"" msgstr[2] ""Удалить пакеты языка"" msgid ""Deleted Application"" msgid_plural ""Deleted Applications"" msgstr[0] ""Удалённое приложение"" msgstr[1] ""Удалённые приложения"" msgstr[2] ""Удалённые приложения"" msgid ""Deleted Languagepack"" msgid_plural ""Deleted Languagepacks"" msgstr[0] ""Удален пакет языка"" msgstr[1] ""Удалены пакеты языка"" msgstr[2] ""Удалены пакеты языка"" msgid ""Deploy Application"" msgstr ""Развернуть приложение"" msgid ""Description"" msgstr ""Описание"" msgid ""Description:"" msgstr ""Описание:"" msgid ""Enter the details for the application."" msgstr ""Введите детали приложения."" msgid ""Enter the details for the languagepack."" msgstr ""Введите детали для пакета языка."" msgid ""Entry points"" msgstr ""Точки входа"" msgid ""General Info"" msgstr ""Основная информация"" msgid ""ID"" msgstr ""ID"" msgid ""ID of the DU image"" msgstr ""ID образа DU"" msgid ""Input"" msgstr ""Ввод"" msgid ""Languagepack"" msgstr ""Пакет языка"" #, python-format msgid ""Languagepack %s was successfully created."" msgstr ""Пакет языка %s был успешно создан."" msgid ""Languagepack Details"" msgstr ""Детали пакета языка"" msgid ""Languagepack Metadata File"" msgstr ""Файл метаданных пакета языка"" msgid ""Languagepack Name"" msgstr ""Имя пакета языка"" msgid ""Languagepacks"" msgstr ""Пакеты языка"" msgid ""Launch Application"" msgstr ""Запустить приложение"" msgid ""Local Storage"" msgstr ""Локальное хранилище"" msgid ""Local app file location"" msgstr ""Расположение файла приложения"" msgid ""Location"" msgstr ""Расположение"" msgid ""Log details"" msgstr ""Детали журнала"" msgid ""Log details for "" msgstr ""Детальный журнал для"" msgid ""Logs"" msgstr ""Журналы"" msgid ""Name"" msgstr ""Имя"" msgid ""New Application"" msgstr ""Новое приложение"" msgid ""New Assembly"" msgstr ""Новый ансамбль"" msgid ""New Languagepack"" msgstr ""Новый пакет языка"" msgid ""No Log details."" msgstr ""Нет деталей журнала."" msgid ""No Workflow details."" msgstr ""Нет деталей последовательности операций."" msgid ""Parameter File"" msgstr ""Файл параметров"" msgid ""Please supply a github url"" msgstr ""Пожалуйста укажите GitHub URL"" msgid ""Please supply a languagepack"" msgstr ""Пожалуйста укажите пакет языка"" msgid ""Please supply a name"" msgstr ""Пожалуйста укажите имя"" msgid ""Please supply a run command"" msgstr ""Пожалуйста укажите команду запуска"" msgid ""Please supply an app file"" msgstr ""Пожалуйста укажите файл приложения"" msgid ""Ports"" msgstr ""Порты"" msgid ""Resource UUID"" msgstr ""UUID ресурса"" msgid ""Scale Application"" msgstr ""Масштабировать приложение"" msgid ""Scale target must be greater than zero"" msgstr ""Целевое количество должно быть больше нуля"" msgid ""Scheduled deletion of Assembly"" msgid_plural ""Scheduled deletion of Assemblies"" msgstr[0] ""Запланировано удаление ансамбля"" msgstr[1] ""Запланировано удаление ансамблей"" msgstr[2] ""Запланировано удаление ансамблей"" msgid ""Solum"" msgstr ""Solum"" msgid ""Solum - Applications"" msgstr ""Solum - Приложение"" msgid ""Solum - Assemblies"" msgstr ""Solum - Ансамбли"" msgid ""Solum - Languagepacks"" msgstr ""Solum - Пакеты языков"" msgid ""Source"" msgstr ""Источник"" msgid ""Source Repository"" msgstr ""Репозиторий исходных кодов"" msgid ""Source Revision"" msgstr ""Ревизия исходных кодов"" msgid ""Source URI"" msgstr ""URI исходного кода"" msgid ""Source Uri"" msgstr ""URI источника"" msgid ""Source repository"" msgstr ""Исходный репозиторий"" msgid ""Status"" msgstr ""Статус"" msgid ""Swift Container"" msgstr ""Swift контейнер"" msgid ""Swift Path"" msgstr ""Путь Swift"" msgid ""Target"" msgstr ""Цель"" msgid ""Target Instances"" msgstr ""Целевые инстансы"" msgid """" ""The ID of the DU image is optional, You can deploy the applications without "" ""this."" msgstr """" ""Параметр ID образа DU не обязателен. Вы можете разворачивать приложение без "" ""его указания."" msgid ""The port your application listens on"" msgstr ""Порт, который слушает приложение"" msgid ""Trigger"" msgstr ""Триггер"" msgid ""Trigger URI"" msgstr ""URI триггера"" msgid ""Trigger UUID"" msgstr ""UUID триггера"" msgid ""URI"" msgstr ""URI"" msgid ""UUID"" msgstr ""UUID"" msgid ""Unable to create application."" msgstr ""Не удалось создать приложение."" msgid ""Unable to create languagepack."" msgstr ""Не удалось создать пакет языка."" msgid ""Unable to retrieve application details."" msgstr ""Не удалось получить детали приложения."" msgid ""Unable to retrieve apps."" msgstr ""Не удалось получить список приложений."" msgid ""Unable to retrieve assemblies."" msgstr ""Не удалось получить список ансамблей"" msgid ""Unable to retrieve languagepack details."" msgstr ""Не удалось получить детали пакета языка."" msgid ""Unable to retrieve languagepacks."" msgstr ""Не удалось получить пакеты языков."" msgid ""Update"" msgstr ""Обновить"" msgid ""Update App"" msgstr ""Обновить приложение"" msgid ""Update Application"" msgstr ""Обновить приложение"" msgid ""Updated at"" msgstr ""Обновлено"" msgid ""View"" msgstr ""Вид"" msgid ""View Application Logs"" msgstr ""Просмотреть журнал приложения"" msgid ""Workflow ID"" msgstr ""ID последовательности операций"" msgid ""Workflow Run Command"" msgstr ""Команда запуска последовательности операций"" msgid ""Workflow Test Command"" msgstr ""Команда тестирования последовательности операций"" msgid ""Workflow details for"" msgstr ""Последовательность операций для"" ",,345,0
openstack%2Fpython-freezerclient~751797,openstack/python-freezerclient,stable/victoria,I7da2f6d8eca678a97f233d31404a06fae899319e,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-09-14 13:48:40.000000000,2024-04-11 17:34:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-14 13:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/d0308e9b1c24f8d79bac243892bea5f48cbf7745', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7da2f6d8eca678a97f233d31404a06fae899319e\n'}, {'number': 2, 'created': '2020-09-16 21:19:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/b176561a7c14299af2c77e5fb1434704e10dc98d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7da2f6d8eca678a97f233d31404a06fae899319e\n'}]",0,751797,b176561a7c14299af2c77e5fb1434704e10dc98d,5,1,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7da2f6d8eca678a97f233d31404a06fae899319e
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/97/751797/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d0308e9b1c24f8d79bac243892bea5f48cbf7745,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fpython-freezerclient~751796,openstack/python-freezerclient,stable/victoria,I457f0010157149e6b6b3008fce00b15b0ab9ddcb,Update .gitreview for stable/victoria,ABANDONED,2020-09-14 13:48:38.000000000,2024-04-11 17:34:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-14 13:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/53f9aef8052c7d723151b2fcb553a14ca14cfb0a', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I457f0010157149e6b6b3008fce00b15b0ab9ddcb\n'}, {'number': 2, 'created': '2020-09-16 21:19:30.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/e7f48a4b68acc52c7c9eea5f407388faeeb977a5', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I457f0010157149e6b6b3008fce00b15b0ab9ddcb\n'}]",0,751796,e7f48a4b68acc52c7c9eea5f407388faeeb977a5,5,1,2,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I457f0010157149e6b6b3008fce00b15b0ab9ddcb
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/96/751796/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,53f9aef8052c7d723151b2fcb553a14ca14cfb0a,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fpython-freezerclient~752317,openstack/python-freezerclient,stable/victoria,I32a4a3055595eeafb330c14959e55db9ee82cfa9,Update testing to Ubuntu Focal,ABANDONED,2020-09-16 21:18:56.000000000,2024-04-11 17:33:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 32389}]","[{'number': 1, 'created': '2020-09-16 21:18:56.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/1a717003cc811f08f8c04de6042a248571d17d9e', 'message': 'Update testing to Ubuntu Focal\n\nAs per victoria cycle testing runtime and community goal,\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nBump lower constraints to make testing work for Focal.\n\n\nChange-Id: I32a4a3055595eeafb330c14959e55db9ee82cfa9\nStory: #2007865\nTask: #402184\n'}]",0,752317,1a717003cc811f08f8c04de6042a248571d17d9e,5,2,1,8556,,,0,"Update testing to Ubuntu Focal

As per victoria cycle testing runtime and community goal,
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Bump lower constraints to make testing work for Focal.


Change-Id: I32a4a3055595eeafb330c14959e55db9ee82cfa9
Story: #2007865
Task: #402184
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/17/752317/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,1a717003cc811f08f8c04de6042a248571d17d9e,migrate-to-focal-stable/victoria,coverage==4.5.1MarkupSafe==1.1.1PyYAML==3.13,coverage==4.0MarkupSafe==1.0PyYAML==3.12,4,4
openstack%2Fmurano~794808,openstack/murano,stable/victoria,Ia57b4ce4aa996e61346eae0f4b6a6599f8555652,Add missing font for PDF doc generation and fix lower constraints,ABANDONED,2021-06-04 13:18:10.000000000,2024-04-11 17:32:29.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 13:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/8ba61f7a5d3baf6ffa693128fcd6b6ffd164d39e', 'message': ""Add missing font for PDF doc generation\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nChange-Id: Ia57b4ce4aa996e61346eae0f4b6a6599f8555652\n(cherry picked from commit d36954704d1e327686596024aeb4c21a370b4d45)\n(cherry picked from commit 0720482ce56da5233c6a429b38dd49c88dc09537)\n""}, {'number': 2, 'created': '2021-06-04 19:07:16.000000000', 'files': ['requirements.txt', 'bindep.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/7a09bb038c0dbb4935b88c1cc9b30ea5cfd5d2d3', 'message': ""Add missing font for PDF doc generation and fix lower constraints\n\nopenstack-tox-docs job started to fail with the following error:\n\n! LaTeX Error: File `tgtermes.sty' not found.\n\nThis patch adds the required font package to bindep doc profile.\n\nWith the new pip resolver (introduced in pip 20.3) the constraints\nchecking is now working better, thus reveals multiple constrain\nconflicts. This patch also fixes those problems.\n\nChange-Id: Ia57b4ce4aa996e61346eae0f4b6a6599f8555652\n(cherry picked from commit d36954704d1e327686596024aeb4c21a370b4d45)\n(cherry picked from commit 0720482ce56da5233c6a429b38dd49c88dc09537)\n""}]",0,794808,7a09bb038c0dbb4935b88c1cc9b30ea5cfd5d2d3,8,2,2,17685,,,0,"Add missing font for PDF doc generation and fix lower constraints

openstack-tox-docs job started to fail with the following error:

! LaTeX Error: File `tgtermes.sty' not found.

This patch adds the required font package to bindep doc profile.

With the new pip resolver (introduced in pip 20.3) the constraints
checking is now working better, thus reveals multiple constrain
conflicts. This patch also fixes those problems.

Change-Id: Ia57b4ce4aa996e61346eae0f4b6a6599f8555652
(cherry picked from commit d36954704d1e327686596024aeb4c21a370b4d45)
(cherry picked from commit 0720482ce56da5233c6a429b38dd49c88dc09537)
",git fetch https://review.opendev.org/openstack/murano refs/changes/08/794808/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8ba61f7a5d3baf6ffa693128fcd6b6ffd164d39e,missing-tgtermes.sty,# PDF Docs package dependencies tex-gyre [platform:dpkg doc],,2,0
openstack%2Fmurano~839893,openstack/murano,stable/victoria,I1d80bfc5f9c3fecc8551ffc8592e39f76b671485,[CI] Install dependencies for docs target,ABANDONED,2022-04-29 10:02:13.000000000,2024-04-11 17:32:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 10:02:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano/commit/f9b46aae5de3863789e50b1f7c74e3834c857ca3', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs murano\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChanges:\n  tox.ini\n\nNOTE(elod.illes): branch specific upper constraints file link updated.\n\nChange-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485\n(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)\n(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)\n(cherry picked from commit 433ca35839dd6db7eeffa158bec4cf69ec48f415)\n(cherry picked from commit 0510f022958e232ae857f256861c506af38c1e41)\n""}]",0,839893,f9b46aae5de3863789e50b1f7c74e3834c857ca3,3,1,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs murano
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Changes:
  tox.ini

NOTE(elod.illes): branch specific upper constraints file link updated.

Change-Id: I1d80bfc5f9c3fecc8551ffc8592e39f76b671485
(cherry picked from commit 1f211823aa8766075d80694c1c3eb6f8c4a3dedf)
(cherry picked from commit 3d447b05e0ccf538bb646d8a3e8b523f1d1f70d2)
(cherry picked from commit 433ca35839dd6db7eeffa158bec4cf69ec48f415)
(cherry picked from commit 0510f022958e232ae857f256861c506af38c1e41)
",git fetch https://review.opendev.org/openstack/murano refs/changes/93/839893/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f9b46aae5de3863789e50b1f7c74e3834c857ca3,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. deps = -c{env:TOX_CONSTRAINTS_FILTOX_CONSTRAINTS_FILEE:https://releases.openstack.org/constraints/upper/victoria} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,7,1
openstack%2Fkarbor-dashboard~756345,openstack/karbor-dashboard,stable/victoria,Id6cdb928415c3474897f0b8e637fd59484d4b14f,Update .gitreview for stable/victoria,ABANDONED,2020-10-06 15:35:29.000000000,2024-04-11 17:32:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-10-06 15:35:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/28614764a58d92681a8dd72c7dc263fa3eb12bc4', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: Id6cdb928415c3474897f0b8e637fd59484d4b14f\n'}]",0,756345,28614764a58d92681a8dd72c7dc263fa3eb12bc4,4,2,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: Id6cdb928415c3474897f0b8e637fd59484d4b14f
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/45/756345/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,28614764a58d92681a8dd72c7dc263fa3eb12bc4,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fkarbor-dashboard~756346,openstack/karbor-dashboard,stable/victoria,I92377e9e6cca8a113b60744505fc7378f457e841,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-10-06 15:35:31.000000000,2024-04-11 17:31:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-10-06 15:35:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/4497d6cf434af0940fe96dbb0a33c2f07d92524c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I92377e9e6cca8a113b60744505fc7378f457e841\n'}]",0,756346,4497d6cf434af0940fe96dbb0a33c2f07d92524c,4,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I92377e9e6cca8a113b60744505fc7378f457e841
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/46/756346/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4497d6cf434af0940fe96dbb0a33c2f07d92524c,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ffreezer~754798,openstack/freezer,stable/victoria,Ied2ddf1545291fbb7612a27ed87add6c073e899a,Update .gitreview for stable/victoria,ABANDONED,2020-09-28 16:25:01.000000000,2024-04-11 17:31:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-28 16:25:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer/commit/be461b581923f99278948a618b80fcdc8cce0023', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: Ied2ddf1545291fbb7612a27ed87add6c073e899a\n'}]",0,754798,be461b581923f99278948a618b80fcdc8cce0023,3,1,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: Ied2ddf1545291fbb7612a27ed87add6c073e899a
",git fetch https://review.opendev.org/openstack/freezer refs/changes/98/754798/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,be461b581923f99278948a618b80fcdc8cce0023,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Ffreezer~754800,openstack/freezer,stable/victoria,Iac5bb4aed556e4242529818fa22578bc1327459c,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-09-28 16:25:02.000000000,2024-04-11 17:31:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-28 16:25:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer/commit/0bffd35d11dbde47485840d264d00a1273c97753', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iac5bb4aed556e4242529818fa22578bc1327459c\n'}]",0,754800,0bffd35d11dbde47485840d264d00a1273c97753,3,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iac5bb4aed556e4242529818fa22578bc1327459c
",git fetch https://review.opendev.org/openstack/freezer refs/changes/00/754800/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0bffd35d11dbde47485840d264d00a1273c97753,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ffreezer~756937,openstack/freezer,stable/victoria,I3aa134d73837a6564e759980f3f24a91d08808ea,Update .gitreview for stable/victoria,ABANDONED,2020-10-09 00:27:23.000000000,2024-04-11 17:31:28.000000000,,"[{'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-10-09 00:27:23.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer/commit/3de8bed5e824dc6a445692059536b3e1af35b6ec', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I3aa134d73837a6564e759980f3f24a91d08808ea\n'}]",0,756937,3de8bed5e824dc6a445692059536b3e1af35b6ec,5,3,1,32211,,,0,"Update .gitreview for stable/victoria

Change-Id: I3aa134d73837a6564e759980f3f24a91d08808ea
",git fetch https://review.opendev.org/openstack/freezer refs/changes/37/756937/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3de8bed5e824dc6a445692059536b3e1af35b6ec,tox,defaultbranch=stable/victoria,,1,0
openstack%2Ffreezer~762310,openstack/freezer,stable/victoria,I66bc36bcf0bc7b1f01d93cdc548819c7baec6260,Update .gitreview for stable/victoria,ABANDONED,2020-11-11 08:00:29.000000000,2024-04-11 17:31:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-11 08:00:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer/commit/21b39fc4c796084d6bd64c1e4fc2a933bde32c59', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I66bc36bcf0bc7b1f01d93cdc548819c7baec6260\n'}]",0,762310,21b39fc4c796084d6bd64c1e4fc2a933bde32c59,5,1,1,32211,,,0,"Update .gitreview for stable/victoria

Change-Id: I66bc36bcf0bc7b1f01d93cdc548819c7baec6260
",git fetch https://review.opendev.org/openstack/freezer refs/changes/10/762310/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,21b39fc4c796084d6bd64c1e4fc2a933bde32c59,master,defaultbranch=stable/victoria,,1,0
openstack%2Fpuppet-keystone~913241,openstack/puppet-keystone,master,I5f3482397883e00d447eb08bed4c57821041826c,Deprecate support for [DEFAULT] catalog_template_file,MERGED,2024-03-14 16:49:18.000000000,2024-04-11 17:21:48.000000000,2024-04-11 17:20:54.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 16:49:18.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/deprecate-catalog_template_file-5f8202e78af74aa3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/29a32c74a62dcc3ae5b050538bfe97f056231d8a', 'message': 'Deprecate support for [DEFAULT] catalog_template_file\n\nThe templated catalog driver has been deprecated in keystone, so we\nshould deprecate support for the driver options.\n\nChange-Id: I5f3482397883e00d447eb08bed4c57821041826c\n'}]",3,913241,29a32c74a62dcc3ae5b050538bfe97f056231d8a,12,3,1,9816,,,0,"Deprecate support for [DEFAULT] catalog_template_file

The templated catalog driver has been deprecated in keystone, so we
should deprecate support for the driver options.

Change-Id: I5f3482397883e00d447eb08bed4c57821041826c
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/41/913241/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/deprecate-catalog_template_file-5f8202e78af74aa3.yaml']",2,29a32c74a62dcc3ae5b050538bfe97f056231d8a,,--- deprecations: - | The ``keystone::catalog_template_file`` parameter has been deprecated and will be removed in a futrue release. ,,18,6
openstack%2Fkeystonemiddleware~848295,openstack/keystonemiddleware,master,I06685e01361a6c0825b707a147f0320a25e51ff0,Configure audit message publisher,NEW,2022-06-30 13:23:55.000000000,2024-04-11 17:21:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-30 13:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1ecfdf648c839822e725837d29a190b271ce5c15', 'message': ""Configure audit message publisher\n\ncurrently the publisher is taken as a current process name, but when API\nservices are all running under WSGI the publisher will be the same for\nall of them (like 'mod_wsgi'), which makes it harder to distinguish\nseveral services.\n\nThis patch adds a new config option 'publisher' to allow explicitly set\nthe message publisher, falling back to process name if not set for\nbackward compatibility.\n\nChange-Id: I06685e01361a6c0825b707a147f0320a25e51ff0\n""}, {'number': 2, 'created': '2022-07-12 20:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/65201b15ff2a3741918c53576658c98679246080', 'message': ""Configure audit message publisher\n\ncurrently the publisher is taken as a current process name, but when API\nservices are all running under WSGI the publisher will be the same for\nall of them (like 'mod_wsgi'), which makes it harder to distinguish\nseveral services.\n\nThis patch adds a new config option 'publisher' to allow explicitly set\nthe message publisher, falling back to process name if not set for\nbackward compatibility.\n\nChange-Id: I06685e01361a6c0825b707a147f0320a25e51ff0\n""}, {'number': 3, 'created': '2022-07-14 10:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f7119efdedf5978803d9ee93ca21c25b007b7578', 'message': ""Configure audit message publisher\n\ncurrently the publisher is taken as a current process name, but when API\nservices are all running under WSGI the publisher will be the same for\nall of them (like 'mod_wsgi'), which makes it harder to distinguish\nseveral services.\n\nThis patch adds a new config option 'publisher' to allow explicitly set\nthe message publisher, falling back to process name if not set for\nbackward compatibility.\n\nChange-Id: I06685e01361a6c0825b707a147f0320a25e51ff0\n""}, {'number': 4, 'created': '2022-12-20 10:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/af3d185ce3aa102083bb510adc9a4fd959200352', 'message': ""Configure audit message publisher\n\ncurrently the publisher is taken as a current process name, but when API\nservices are all running under WSGI the publisher will be the same for\nall of them (like 'mod_wsgi'), which makes it harder to distinguish\nseveral services.\n\nThis patch adds a new config option 'publisher' to allow explicitly set\nthe message publisher, falling back to process name if not set for\nbackward compatibility.\n\nChange-Id: I06685e01361a6c0825b707a147f0320a25e51ff0\n""}, {'number': 5, 'created': '2023-08-31 08:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/2338e31dc9e784f57ba5cc84dc047d63eaa498b1', 'message': ""Configure audit message publisher\n\ncurrently the publisher is taken as a current process name, but when API\nservices are all running under WSGI the publisher will be the same for\nall of them (like 'mod_wsgi'), which makes it harder to distinguish\nseveral services.\n\nThis patch adds a new config option 'publisher' to allow explicitly set\nthe message publisher, falling back to process name if not set for\nbackward compatibility.\n\nChange-Id: I06685e01361a6c0825b707a147f0320a25e51ff0\n""}, {'number': 6, 'created': '2024-04-11 15:01:54.000000000', 'files': ['releasenotes/notes/audit-publisher-opt-1a6d61634f3f6145.yaml', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/audit/_notifier.py', 'keystonemiddleware/audit/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/992eee01f779c0e08621bda0f76a86c858761e2d', 'message': ""Configure audit message publisher\n\ncurrently the publisher is taken as a current process name, but when API\nservices are all running under WSGI the publisher will be the same for\nall of them (like 'mod_wsgi'), which makes it harder to distinguish\nseveral services.\n\nThis patch adds a new config option 'publisher' to allow explicitly set\nthe message publisher, falling back to process name if not set for\nbackward compatibility.\n\nChange-Id: I06685e01361a6c0825b707a147f0320a25e51ff0\n""}]",0,848295,992eee01f779c0e08621bda0f76a86c858761e2d,12,1,6,9542,,,0,"Configure audit message publisher

currently the publisher is taken as a current process name, but when API
services are all running under WSGI the publisher will be the same for
all of them (like 'mod_wsgi'), which makes it harder to distinguish
several services.

This patch adds a new config option 'publisher' to allow explicitly set
the message publisher, falling back to process name if not set for
backward compatibility.

Change-Id: I06685e01361a6c0825b707a147f0320a25e51ff0
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/95/848295/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/audit/_notifier.py', 'keystonemiddleware/audit/__init__.py']",2,1ecfdf648c839822e725837d29a190b271ce5c15,publisher-opt," cfg.StrOpt('publisher', help='How to identity what is publushing the messages. ' 'If not specified, current process name will be used.'),",,4,1
openstack%2Fpuppet-keystone~914045,openstack/puppet-keystone,master,I797fc8101837fe344c056a032ba98e5fbc8a2bec,Set show_diff to false when configuring Federation,MERGED,2024-03-24 19:23:06.000000000,2024-04-11 17:02:00.000000000,2024-04-11 17:02:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-24 19:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/480a06510089203c95d2e3fa9fb1f40887af9583', 'message': 'Set show_diff to false when configuring Federation\n\nWhen we configure federation changes in configuration\nfiles that contain sensitive informatio ncan be leaked\ninto the output.\n\nChange-Id: I797fc8101837fe344c056a032ba98e5fbc8a2bec\n'}, {'number': 2, 'created': '2024-03-24 19:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/99612668b2ed99f1de16468eae466f89b098b75e', 'message': 'Set show_diff to false when configuring Federation\n\nWhen we configure federation changes in configuration\nfiles that contain sensitive informatio ncan be leaked\ninto the output.\n\nChange-Id: I797fc8101837fe344c056a032ba98e5fbc8a2bec\n'}, {'number': 3, 'created': '2024-04-09 14:37:27.000000000', 'files': ['manifests/federation/openidc.pp', 'manifests/federation/shibboleth.pp', 'spec/classes/keystone_federation_mellon_spec.rb', 'manifests/federation/mellon.pp', 'spec/classes/keystone_federation_openidc_spec.rb', 'spec/classes/keystone_federation_shibboleth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/de567154f60c36f8c6e336a7345e027faaad9d7b', 'message': 'Set show_diff to false when configuring Federation\n\nWhen we configure federation changes in configuration\nfiles that contain sensitive informatio ncan be leaked\ninto the output.\n\nChange-Id: I797fc8101837fe344c056a032ba98e5fbc8a2bec\n'}]",5,914045,de567154f60c36f8c6e336a7345e027faaad9d7b,16,3,3,16137,,,0,"Set show_diff to false when configuring Federation

When we configure federation changes in configuration
files that contain sensitive informatio ncan be leaked
into the output.

Change-Id: I797fc8101837fe344c056a032ba98e5fbc8a2bec
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/45/914045/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/federation/openidc.pp', 'manifests/federation/shibboleth.pp', 'spec/classes/keystone_federation_mellon_spec.rb', 'manifests/federation/mellon.pp', 'spec/classes/keystone_federation_openidc_spec.rb', 'spec/classes/keystone_federation_shibboleth_spec.rb']",6,480a06510089203c95d2e3fa9fb1f40887af9583,, it { is_expected.to contain_concat__file('10-keystone_wsgi.conf').with_show_diff(false) } it { is_expected.to contain_concat__file('10-keystone_wsgi.conf').with_show_diff(false) } it { is_expected.to contain_concat__file('10-keystone_wsgi.conf').with_show_diff(false) },,24,1
openstack%2Fkeystonemiddleware~850669,openstack/keystonemiddleware,master,I3d6934c2dceadd476d335efaacda935625c792e5,Add ignore_path_list option,NEW,2022-07-21 15:22:17.000000000,2024-04-11 16:33:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-21 15:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/65ee83a35e74add5d61f548075318782d17ac505', 'message': ""Add ignore_path_list option\n\nsome API frameworks and how they are used in OpenStack projects\n(e.g. Pecan in Octavia or Ironic) do not allow for enabling audit middleware\nonly on specific paths, plus they have intentional API parts that do not use\nKeystone authentication by design (for communications with agents\nrunning inside instances).\nAs a result, audit middleware is triggered on API paths that have not\nwent thru authtoken middleware, producing not-so valid CADF messages,\nand for some paths (like root '/' or '/healthcheck') to much of such\nmessages too (triggered by monitoring).\n\nThis patch adds an additonal recognised configuration parameter for\naudit middleware - ignore_path_list. This is a coma-separated list of\napi paths that will be excempted from triggering audit notifications.\n\nChange-Id: I3d6934c2dceadd476d335efaacda935625c792e5\n""}, {'number': 2, 'created': '2022-07-21 15:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b89ffa56e379b837aef3e78d164621179500a5f2', 'message': ""Add ignore_path_list option\n\nsome API frameworks and how they are used in OpenStack projects\n(e.g. Pecan in Octavia or Ironic) do not allow for enabling audit middleware\nonly on specific paths, plus they have intentional API parts that do not use\nKeystone authentication by design (for communications with agents\nrunning inside instances).\nAs a result, audit middleware is triggered on API paths that have not\nwent thru authtoken middleware, producing not-so valid CADF messages,\nand for some paths (like root '/' or '/healthcheck') to much of such\nmessages too (triggered by monitoring).\n\nThis patch adds an additonal recognised configuration parameter for\naudit middleware - ignore_path_list. This is a coma-separated list of\napi paths that will be excempted from triggering audit notifications.\n\nChange-Id: I3d6934c2dceadd476d335efaacda935625c792e5\n""}, {'number': 3, 'created': '2022-12-20 10:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cbe87cee121d936ae7dc735254d7b227e57b5c5c', 'message': ""Add ignore_path_list option\n\nsome API frameworks and how they are used in OpenStack projects\n(e.g. Pecan in Octavia or Ironic) do not allow for enabling audit middleware\nonly on specific paths, plus they have intentional API parts that do not use\nKeystone authentication by design (for communications with agents\nrunning inside instances).\nAs a result, audit middleware is triggered on API paths that have not\nwent thru authtoken middleware, producing not-so valid CADF messages,\nand for some paths (like root '/' or '/healthcheck') to much of such\nmessages too (triggered by monitoring).\n\nThis patch adds an additonal recognised configuration parameter for\naudit middleware - ignore_path_list. This is a coma-separated list of\napi paths that will be excempted from triggering audit notifications.\n\nChange-Id: I3d6934c2dceadd476d335efaacda935625c792e5\n""}, {'number': 4, 'created': '2024-04-11 15:02:46.000000000', 'files': ['keystonemiddleware/audit/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/945f5dab0d1c1deae8fcec6300b107d7a6f59e84', 'message': ""Add ignore_path_list option\n\nsome API frameworks and how they are used in OpenStack projects\n(e.g. Pecan in Octavia or Ironic) do not allow for enabling audit middleware\nonly on specific paths, plus they have intentional API parts that do not use\nKeystone authentication by design (for communications with agents\nrunning inside instances).\nAs a result, audit middleware is triggered on API paths that have not\nwent thru authtoken middleware, producing not-so valid CADF messages,\nand for some paths (like root '/' or '/healthcheck') to much of such\nmessages too (triggered by monitoring).\n\nThis patch adds an additonal recognised configuration parameter for\naudit middleware - ignore_path_list. This is a coma-separated list of\napi paths that will be excempted from triggering audit notifications.\n\nChange-Id: I3d6934c2dceadd476d335efaacda935625c792e5\n""}]",0,850669,945f5dab0d1c1deae8fcec6300b107d7a6f59e84,7,1,4,9542,,,0,"Add ignore_path_list option

some API frameworks and how they are used in OpenStack projects
(e.g. Pecan in Octavia or Ironic) do not allow for enabling audit middleware
only on specific paths, plus they have intentional API parts that do not use
Keystone authentication by design (for communications with agents
running inside instances).
As a result, audit middleware is triggered on API paths that have not
went thru authtoken middleware, producing not-so valid CADF messages,
and for some paths (like root '/' or '/healthcheck') to much of such
messages too (triggered by monitoring).

This patch adds an additonal recognised configuration parameter for
audit middleware - ignore_path_list. This is a coma-separated list of
api paths that will be excempted from triggering audit notifications.

Change-Id: I3d6934c2dceadd476d335efaacda935625c792e5
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/69/850669/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/audit/__init__.py'],1,65ee83a35e74add5d61f548075318782d17ac505,audit-ignore-path," self._ignore_path_list = [x for x in conf.get('ignore_path_list', '').split(',') if x] if ( req.method in self._ignore_req_list or req.path_info in self._ignore_path_list ):", if req.method in self._ignore_req_list:,7,1
openstack%2Fkeystonemiddleware~879503,openstack/keystonemiddleware,master,I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f,Set id for services in catalog,NEW,2023-04-04 18:28:58.000000000,2024-04-11 16:23:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-04 18:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/92436540228d52d58507e7a5b9f12637e0b33a8b', 'message': ""Set id for services in catalog\n\ncurrently enabling audit middleware results in every request producing\nwarning in the log 'Invalid uuid: ' from pycadf,\ndue to audit middleware not being able find a uuid to set as a\nservice/target id because auth_token middleware no longer passes ids\nof the endpoints to the catalog it sets on request.\n\nThis patch adds service id to the catalog being set by auth_token,\nand uses it in audit middleware too. This will hopefully not\ndramatically increase the size of the catalog.\n\nChange-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f\n""}, {'number': 2, 'created': '2023-04-05 10:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7c6714f186fb6f7859963ed6c046218430dedb70', 'message': ""Set id for services in catalog\n\ncurrently enabling audit middleware results in every request producing\nwarning in the log 'Invalid uuid: ' from pycadf,\ndue to audit middleware not being able find a uuid to set as a\nservice/target id because auth_token middleware no longer does not pass ids of the endpoints to the catalog it sets on request.\n\nThis patch adds service id to the catalog being set by auth_token,\nand uses it in audit middleware too. This will hopefully not\ndramatically increase the size of the catalog.\n\nChange-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f\nCloses-Bug: #2015334\n""}, {'number': 3, 'created': '2023-04-05 10:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cfc38003551250c771b2fdea224b1908e82e6ebf', 'message': ""Set id for services in catalog\n\ncurrently enabling audit middleware results in every request producing\nwarning in the log 'Invalid uuid: ' from pycadf,\ndue to audit middleware not being able find a uuid to set as a\nservice/target id because auth_token middleware no longer does not pass ids of the endpoints to the catalog it sets on request.\n\nThis patch adds service id to the catalog being set by auth_token,\nand uses it in audit middleware too. This will hopefully not\ndramatically increase the size of the catalog.\n\nChange-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f\nCloses-Bug: #2015334\n""}, {'number': 4, 'created': '2023-04-05 10:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3344025118ce3f78f7baf317dacf40eed4a49b9c', 'message': ""Set id for services in catalog\n\ncurrently enabling audit middleware results in every request producing\nwarning in the log 'Invalid uuid: ' from pycadf,\ndue to audit middleware not being able find a uuid to set as a\nservice/target id because auth_token middleware no longer does not pass ids\nof the endpoints to the catalog it sets on request.\n\nThis patch adds service id to the catalog being set by auth_token,\nand uses it in audit middleware too. This will hopefully not\ndramatically increase the size of the catalog.\n\nChange-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f\nCloses-Bug: #2015334\n""}, {'number': 5, 'created': '2023-04-05 10:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b527ead8de3501dc0b2e8e3620b29ed0d1fa8f8d', 'message': ""Set id for services in catalog\n\ncurrently enabling audit middleware results in every request producing\nwarning in the log 'Invalid uuid: ' from pycadf,\ndue to audit middleware not being able find a uuid to set as a\nservice/target id because auth_token middleware no longer does not pass\nids of the endpoints to the catalog it sets on request.\n\nThis patch adds service id to the catalog being set by auth_token,\nand uses it in audit middleware too. This will hopefully not\ndramatically increase the size of the catalog.\n\nChange-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f\nCloses-Bug: #2015334\n""}, {'number': 6, 'created': '2023-04-06 12:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/db045ab698522e20fff0c2ce1e8506a41d8604f7', 'message': ""Set id for services in catalog\n\ncurrently enabling audit middleware results in every request producing\nwarning in the log 'Invalid uuid: ' from pycadf,\ndue to audit middleware not being able find a uuid to set as a\nservice/target id because (since v3?) auth_token middleware\ndoes not pass ids of the endpoints to the catalog it sets on request.\n\nThis patch adds service id to the catalog being set by auth_token,\nand uses it in audit middleware too. This will hopefully not\ndramatically increase the size of the catalog.\n\nChange-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f\nCloses-Bug: #2015334\n""}, {'number': 7, 'created': '2024-04-11 15:02:02.000000000', 'files': ['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/tests/unit/audit/base.py', 'keystonemiddleware/audit/_api.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/27e143f5e4c5b752f55c9c93bc4fcbb204cfdda8', 'message': ""Set id for services in catalog\n\ncurrently enabling audit middleware results in every request producing\nwarning in the log 'Invalid uuid: ' from pycadf,\ndue to audit middleware not being able find a uuid to set as a\nservice/target id because (since v3?) auth_token middleware\ndoes not pass ids of the endpoints to the catalog it sets on request.\n\nThis patch adds service id to the catalog being set by auth_token,\nand uses it in audit middleware too. This will hopefully not\ndramatically increase the size of the catalog.\n\nChange-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f\nCloses-Bug: #2015334\n""}]",1,879503,27e143f5e4c5b752f55c9c93bc4fcbb204cfdda8,14,1,7,9542,,,0,"Set id for services in catalog

currently enabling audit middleware results in every request producing
warning in the log 'Invalid uuid: ' from pycadf,
due to audit middleware not being able find a uuid to set as a
service/target id because (since v3?) auth_token middleware
does not pass ids of the endpoints to the catalog it sets on request.

This patch adds service id to the catalog being set by auth_token,
and uses it in audit middleware too. This will hopefully not
dramatically increase the size of the catalog.

Change-Id: I8417bd29b129f4afdd8b43e4f74ea126ee8fae4f
Closes-Bug: #2015334
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/03/879503/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_request.py', 'keystonemiddleware/tests/unit/audit/base.py', 'keystonemiddleware/audit/_api.py']",3,92436540228d52d58507e7a5b9f12637e0b33a8b,bug/2015334," id=endp.get('id', endp['name']),"," id=endp['endpoints'][0].get('id', endp['name']),",3,1
openstack%2Fnova~915481,openstack/nova,master,Ifcbc8fe4286985b44346b9b77218e0cbfc58c1ae,Undeprecated [libvirt] live_migration_uri,NEW,2024-04-11 13:45:27.000000000,2024-04-11 15:57:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-11 13:45:27.000000000', 'files': ['releasenotes/notes/undeprecate-live_migration_uri-12a466707590bf2c.yaml', 'nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a2b5226ad39731bba52ae5988b350013be68c3ff', 'message': 'Undeprecated [libvirt] live_migration_uri\n\nThe [libvirt] live_migration_uri option was deprecated in favor of\nthe new live migration option, but the new options do not support\nsome of the customizations required for ssh transport and many\ndeployment tools kept using the deprecated uri option for 7+ years\nafter it was deprecated.\n\nThis undeprecate the _uri option, and ddeprecate the _scheme option\ninstead because the deprecated option is still used and has been\npreferred in real use cases.\n\nCloses-Bug: #1843883\nCloses-Bug: #1671288\nChange-Id: Ifcbc8fe4286985b44346b9b77218e0cbfc58c1ae\n'}]",1,915481,a2b5226ad39731bba52ae5988b350013be68c3ff,4,1,1,9816,,,0,"Undeprecated [libvirt] live_migration_uri

The [libvirt] live_migration_uri option was deprecated in favor of
the new live migration option, but the new options do not support
some of the customizations required for ssh transport and many
deployment tools kept using the deprecated uri option for 7+ years
after it was deprecated.

This undeprecate the _uri option, and ddeprecate the _scheme option
instead because the deprecated option is still used and has been
preferred in real use cases.

Closes-Bug: #1843883
Closes-Bug: #1671288
Change-Id: Ifcbc8fe4286985b44346b9b77218e0cbfc58c1ae
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/915481/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/undeprecate-live_migration_uri-12a466707590bf2c.yaml', 'nova/conf/libvirt.py']",2,a2b5226ad39731bba52ae5988b350013be68c3ff,," deprecated_for_removal=True, deprecated_since=""30.0.0"", deprecated_reason="""""" Now the live_migration_uri option is now more recommended because it allows customizing more elements like query parameters which is required by ssh transport. """""","," deprecated_for_removal=True, deprecated_since=""15.0.0"", deprecated_reason="""""" live_migration_uri is deprecated for removal in favor of two other options that allow to change live migration scheme and target URI: ``live_migration_scheme`` and ``live_migration_inbound_addr`` respectively. """""",",18,7
openstack%2Fkeystone~915401,openstack/keystone,master,I8544f1ac45177b31482ad209f931c189eb5efeeb,Fix federation mapping jsonschema,NEW,2024-04-10 09:30:30.000000000,2024-04-11 15:44:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2024-04-10 09:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/32ef5075035ed2db2c96a469ab49a900c77a0ee7', 'message': 'Fix federation mapping jsonschema\n\nChange-Id: I8544f1ac45177b31482ad209f931c189eb5efeeb\n'}, {'number': 2, 'created': '2024-04-10 12:25:18.000000000', 'files': ['keystone/federation/utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/71a2c248bcf05be688f240576d4673725a73ce19', 'message': 'Fix federation mapping jsonschema\n\nThe `schema_version` schema element jsonschema specification is invalid \n(https://json-schema.org/understanding-json-schema/reference/object).\nEach element of the object properties must specify element data type.\n`""name"": {""type"": ""string""}` is not a valid data type, while \n`{""type"": ""string""}` is (and the code treats `schema_version` as a string).\nSince there is nearly no jsonschema validation across the keystone code \nthere is no violations, but once schemas are used in a wider scope (i.e.\nto construct an OpenAPI spec) this becomes clearly a failure\n\nChange-Id: I8544f1ac45177b31482ad209f931c189eb5efeeb\n'}]",8,915401,71a2c248bcf05be688f240576d4673725a73ce19,15,3,2,27900,,,0,"Fix federation mapping jsonschema

The `schema_version` schema element jsonschema specification is invalid 
(https://json-schema.org/understanding-json-schema/reference/object).
Each element of the object properties must specify element data type.
`""name"": {""type"": ""string""}` is not a valid data type, while 
`{""type"": ""string""}` is (and the code treats `schema_version` as a string).
Since there is nearly no jsonschema validation across the keystone code 
there is no violations, but once schemas are used in a wider scope (i.e.
to construct an OpenAPI spec) this becomes clearly a failure

Change-Id: I8544f1ac45177b31482ad209f931c189eb5efeeb
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/915401/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/utils.py'],1,32ef5075035ed2db2c96a469ab49a900c77a0ee7,," ""schema_version"": {""type"": ""string""},"," ""schema_version"": { ""name"": {""type"": ""string""} }",1,3
openstack%2Fpuppet-nova~915205,openstack/puppet-nova,master,I7fbceb00422c2bd6ae7d594321fe09789fe0a3f3,ironic: Support options to distribute baremetal management,MERGED,2024-04-08 01:46:49.000000000,2024-04-11 15:34:59.000000000,2024-04-11 15:33:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 01:46:49.000000000', 'files': ['manifests/ironic/common.pp', 'releasenotes/notes/ironic-distribution-b36df55db3d952e5.yaml', 'spec/classes/nova_ironic_common_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d452e60c7cbdcb6266aa0b0e391013386a0e23b7', 'message': 'ironic: Support options to distribute baremetal management\n\nThe ironic driver now provides a few options to distribute baremetal\nnode management among multilple nova-compute.\n\nChange-Id: I7fbceb00422c2bd6ae7d594321fe09789fe0a3f3\n'}]",0,915205,d452e60c7cbdcb6266aa0b0e391013386a0e23b7,8,3,1,9816,,,0,"ironic: Support options to distribute baremetal management

The ironic driver now provides a few options to distribute baremetal
node management among multilple nova-compute.

Change-Id: I7fbceb00422c2bd6ae7d594321fe09789fe0a3f3
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/05/915205/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ironic/common.pp', 'releasenotes/notes/ironic-distribution-b36df55db3d952e5.yaml', 'spec/classes/nova_ironic_common_spec.rb']",3,d452e60c7cbdcb6266aa0b0e391013386a0e23b7,," is_expected.to contain_nova_config('ironic/timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('ironic/conductor_group').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('ironic/shard').with_value('<SERVICE DEFAULT>') :conductor_group => 'mygroup', :shard => 'myshard' is_expected.to contain_nova_config('ironic/timeout').with_value(30) is_expected.to contain_nova_config('ironic/conductor_group').with_value('mygroup') is_expected.to contain_nova_config('ironic/shard').with_value('myshard')", is_expected.to contain_nova_config('ironic/timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('ironic/timeout').with_value(30),27,2
openstack%2Fpuppet-nova~915257,openstack/puppet-nova,master,I94170f76257c77d1eabeeb3d373c05c50413c53d,Set show_diff to false for Nova SSH private key,MERGED,2024-04-08 09:43:22.000000000,2024-04-11 15:33:55.000000000,2024-04-11 15:33:55.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 09:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0d8c94aa4c1664c9d66ec526035db8a698604ad2', 'message': 'Set show_diff to false for Nova SSH private key\n\nThe private key is currently being leaked into\nthe diff output.\n\nChange-Id: I94170f76257c77d1eabeeb3d373c05c50413c53d\n'}, {'number': 2, 'created': '2024-04-08 20:11:51.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/75fbe61987e4e36b12aa97c18d9f99062739a677', 'message': 'Set show_diff to false for Nova SSH private key\n\nThe private key is currently being leaked into\nthe diff output.\n\nChange-Id: I94170f76257c77d1eabeeb3d373c05c50413c53d\n'}]",0,915257,75fbe61987e4e36b12aa97c18d9f99062739a677,9,3,2,16137,,,0,"Set show_diff to false for Nova SSH private key

The private key is currently being leaked into
the diff output.

Change-Id: I94170f76257c77d1eabeeb3d373c05c50413c53d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/57/915257/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,0d8c94aa4c1664c9d66ec526035db8a698604ad2,," :content => 'keydata', :mode => '0600', :owner => 'nova', :group => 'nova', :show_diff => false, :content => 'keydata',"," :content => 'keydata', :mode => '0600', :owner => 'nova', :group => 'nova', :content => 'keydata'",11,9
openstack%2Fpuppet-zaqar~915219,openstack/puppet-zaqar,master,I5c768a4ed60909f2e764ed6a39c372814b50c58b,Ensure python-redis is install,MERGED,2024-04-08 06:54:45.000000000,2024-04-11 15:31:22.000000000,2024-04-11 15:30:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 06:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/452a756868d907e24487e40747b4abeff33b9d26', 'message': 'Ensure python-redis is install\n\nThe python-redis package is an optional dependency and needs to be\ninstalled explicitly in Ubuntu or Debian. (The zaqar package in RDO\nhas additonal dependency to require python-redis now).\n\nChange-Id: I5c768a4ed60909f2e764ed6a39c372814b50c58b\n'}, {'number': 2, 'created': '2024-04-08 07:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/05d60ec2c71e83e76381e91db8a59dbab1f9e443', 'message': 'Ensure python-redis is install\n\nThe python-redis package is an optional dependency and needs to be\ninstalled explicitly in Ubuntu or Debian. (The zaqar package in RDO\nhas additonal dependency to require python-redis now).\n\nChange-Id: I5c768a4ed60909f2e764ed6a39c372814b50c58b\n'}, {'number': 3, 'created': '2024-04-08 07:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/6b1e4148ff715eae5ba8e821adf81d5858c6e7d0', 'message': 'Ensure python-redis is install\n\nThe python-redis package is an optional dependency and needs to be\ninstalled explicitly in Ubuntu or Debian. (The zaqar package in RDO\nhas additonal dependency to require python-redis now).\n\nChange-Id: I5c768a4ed60909f2e764ed6a39c372814b50c58b\n'}, {'number': 4, 'created': '2024-04-08 09:35:15.000000000', 'files': ['spec/classes/zaqar_management_redis_spec.rb', 'manifests/messaging/redis.pp', 'spec/classes/zaqar_messaging_redis_spec.rb', 'releasenotes/notes/redis-package-4b3062bc2a6253ee.yaml', 'manifests/params.pp', 'manifests/management/redis.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/0cc6468f2be5b24cee5c8e08416a9070ac608154', 'message': 'Ensure python-redis is install\n\nThe python-redis package is an optional dependency and needs to be\ninstalled explicitly in Ubuntu or Debian. (The zaqar package in RDO\nhas additonal dependency to require python-redis now).\n\nChange-Id: I5c768a4ed60909f2e764ed6a39c372814b50c58b\n'}]",1,915219,0cc6468f2be5b24cee5c8e08416a9070ac608154,12,3,4,9816,,,0,"Ensure python-redis is install

The python-redis package is an optional dependency and needs to be
installed explicitly in Ubuntu or Debian. (The zaqar package in RDO
has additonal dependency to require python-redis now).

Change-Id: I5c768a4ed60909f2e764ed6a39c372814b50c58b
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/19/915219/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/zaqar_management_redis_spec.rb', 'manifests/messaging/redis.pp', 'spec/classes/zaqar_messaging_redis_spec.rb', 'releasenotes/notes/redis-package-4b3062bc2a6253ee.yaml', 'manifests/params.pp', 'manifests/management/redis.pp']",6,452a756868d907e24487e40747b4abeff33b9d26,,"# (Required) Redis Connection URI.# (Optional) Maximum number of times to retry an operation that failed due to # a primary node failover. # Defaults to $facts['os_service_default'].# (Optional) Base sleep interval between attempts to reconnect after # a primary node failover. # Defaults to $facts['os_service_default']. # # [*package_ensure*] # (Optional) Ensure state for package. # Defaults to 'present' # # [*manage_package*] # (Optional) Manage pyhton-redis package. # Defaults to true $package_ensure = 'present', Boolean $manage_package = true, if $manage_package { ensure_packages('python-redis', { name => $::zaqar::params::python_redis_package_name, ensure => $package_ensure, tag => ['openstack'], }) Anchor['zaqar::install:begin'] -> Package<| name == $::oslo::params::python_redis_package_name |> -> Anchor['zaqar::install:end'] }",# Redis connection URI. Required.# Maximum number of times to retry an operation that failed due to a redis # node failover. # Defaults to $facts['os_service_default']# Base sleep interval between attempts to reconnect after a redis node # failover. # Defaults to $facts['os_service_default'],110,26
openstack%2Fpuppet-nova~915135,openstack/puppet-nova,master,I88c9777999cb091b8570c642e75b0332fb103294,Avoid deprecated live_migration_uri if possible,MERGED,2024-04-05 14:28:44.000000000,2024-04-11 15:30:43.000000000,2024-04-11 15:30:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 14:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1525d2ad64f13b4c1c3ddbeef2df30c6cd106617', 'message': 'Avoid deprecated live_migration_uri if possible\n\nThe live_migration_uri option was deprecated in favor of the new\nlive_migration_(scheme|inbound_addr) options.\n\nNote that the new options does not allow customizing some parameters\nfor ssh, which were possible by the deprecated _uri option, so\nthe legacy option is still used if a user requests any of the options\ncurrently not configurable by the new options.\n\nRelated-Bug: #1680729\nChange-Id: I88c9777999cb091b8570c642e75b0332fb103294\n'}, {'number': 2, 'created': '2024-04-05 14:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7d227e91d541e50c8efda5a101aca1532a20772e', 'message': 'Avoid deprecated live_migration_uri if possible\n\nThe live_migration_uri option was deprecated in favor of the new\nlive_migration_(scheme|inbound_addr) options.\n\nNote that the new options does not allow customizing some parameters\nfor ssh, which were possible by the deprecated _uri option, so\nthe legacy option is still used if a user requests any of the options\ncurrently not configurable by the new options.\n\nRelated-Bug: #1680729\nChange-Id: I88c9777999cb091b8570c642e75b0332fb103294\n'}, {'number': 3, 'created': '2024-04-05 22:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/07e2c097ae89255d90bf9c8552621380ae070679', 'message': 'Avoid deprecated live_migration_uri if possible\n\nThe live_migration_uri option was deprecated in favor of the new\nlive_migration_(scheme|inbound_addr) options.\n\nNote that the new options does not allow customizing some parameters\nfor ssh, which were possible by the deprecated _uri option, so\nthe legacy option is still used if a user requests any of the options\ncurrently not configurable by the new options.\n\nRelated-Bug: #1680729\nChange-Id: I88c9777999cb091b8570c642e75b0332fb103294\n'}, {'number': 4, 'created': '2024-04-06 03:13:36.000000000', 'files': ['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/34f0c8c7223695a0ee80e183b6387702b375390a', 'message': 'Avoid deprecated live_migration_uri if possible\n\nThe live_migration_uri option was deprecated in favor of the new\nlive_migration_(scheme|inbound_addr) options.\n\nNote that the new options does not allow customizing some parameters\nfor ssh, which were possible by the deprecated _uri option, so\nthe legacy option is still used if a user requests any of the options\ncurrently not configurable by the new options.\n\nRelated-Bug: #1680729\nChange-Id: I88c9777999cb091b8570c642e75b0332fb103294\n'}]",0,915135,34f0c8c7223695a0ee80e183b6387702b375390a,12,3,4,9816,,,0,"Avoid deprecated live_migration_uri if possible

The live_migration_uri option was deprecated in favor of the new
live_migration_(scheme|inbound_addr) options.

Note that the new options does not allow customizing some parameters
for ssh, which were possible by the deprecated _uri option, so
the legacy option is still used if a user requests any of the options
currently not configurable by the new options.

Related-Bug: #1680729
Change-Id: I88c9777999cb091b8570c642e75b0332fb103294
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/35/915135/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",2,1525d2ad64f13b4c1c3ddbeef2df30c6cd106617,," it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tcp') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls') } it { is_expected.not_to contain_nova_config('libvirt/live_migration_uri') } it { is_expected.not_to contain_nova_config('libvirt/live_migration_inbound_addr') } it { is_expected.not_to contain_nova_config('libvirt/live_migration_scheme') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('ssh') } :transport => 'ssh', it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('<SERVICE DEFAULT>') } :transport => 'ssh', it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('<SERVICE DEFAULT>') } :transport => 'ssh', it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tcp') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('ssh') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('<SERVICE DEFAULT>') }"," it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tcp://%s/system') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system')} it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system')} it { is_expected.not_to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s/system')} :transport => 'ssh', :transport => 'ssh', :transport => 'ssh', it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tcp://%s/system') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system')} it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s/system')}",41,26
openstack%2Fopenstacksdk~909109,openstack/openstacksdk,master,I160d95eebfe4de5bbea77820e40632f2a1dfd67a,Fix typo,MERGED,2024-02-15 12:18:14.000000000,2024-04-11 15:28:51.000000000,2024-04-11 15:27:42.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-02-15 12:18:14.000000000', 'files': ['openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d1ff60d125fad059ffd8b45fea70b76e61f72acc', 'message': 'Fix typo\n\nChange-Id: I160d95eebfe4de5bbea77820e40632f2a1dfd67a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,909109,d1ff60d125fad059ffd8b45fea70b76e61f72acc,12,2,1,15334,,,0,"Fix typo

Change-Id: I160d95eebfe4de5bbea77820e40632f2a1dfd67a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/09/909109/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/_proxy.py'],1,d1ff60d125fad059ffd8b45fea70b76e61f72acc,trivial, :param aggregate: The value can be the ID of an aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance., :param image: The value can be the ID of an aggregate or a :class:`~openstack.compute.v2.aggregate.Aggregate` instance.,2,3
openstack%2Fpuppet-ironic~915210,openstack/puppet-ironic,master,I498a6905916efce3d88c1df7e65f38135ae035bf,Support *_firmware_interface(s) options,MERGED,2024-04-08 04:22:59.000000000,2024-04-11 15:28:35.000000000,2024-04-11 15:26:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 04:22:59.000000000', 'files': ['manifests/drivers/interfaces.pp', 'releasenotes/notes/firmware-interface-77e42d03f54291b9.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6009c807f6af8980c4a136199f5cab6bcab9438f', 'message': 'Support *_firmware_interface(s) options\n\nChange-Id: I498a6905916efce3d88c1df7e65f38135ae035bf\n'}]",0,915210,6009c807f6af8980c4a136199f5cab6bcab9438f,8,3,1,9816,,,0,"Support *_firmware_interface(s) options

Change-Id: I498a6905916efce3d88c1df7e65f38135ae035bf
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/10/915210/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/interfaces.pp', 'releasenotes/notes/firmware-interface-77e42d03f54291b9.yaml']",2,6009c807f6af8980c4a136199f5cab6bcab9438f,,--- features: - | The ``ironic::drivers::interfaces`` class now supports the following new parameters. - ``enabled_firmware_interfaces`` - ``default_firmware_interface`` ,,22,0
openstack%2Fpuppet-ironic~915301,openstack/puppet-ironic,stable/2023.2,I759c856d9f19c970390a10ca3b19ba0458190203,inspector: Support oslo.messaging options,MERGED,2024-04-09 00:12:45.000000000,2024-04-11 15:28:07.000000000,2024-04-11 15:26:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-09 00:12:45.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/inspector-oslo-messaging-e28a4a67d814c90a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f1bb4a59bd9d6e585d264bd9c79e7e2f7c3d6c3e', 'message': 'inspector: Support oslo.messaging options\n\nThe ironic-inspector service has api workers and rpc workers and these\ncommunicate over rabbitmq.\n\nConflicts:\n\tmanifests/inspector.pp\n\tspec/classes/ironic_inspector_spec.rb\n\nCloses-Bug: #2043931\nChange-Id: I759c856d9f19c970390a10ca3b19ba0458190203\n(cherry picked from commit 6dd89d34a5b47e60b3dbde32bfadddbcc8443f69)\n'}]",0,915301,f1bb4a59bd9d6e585d264bd9c79e7e2f7c3d6c3e,8,3,1,9816,,,0,"inspector: Support oslo.messaging options

The ironic-inspector service has api workers and rpc workers and these
communicate over rabbitmq.

Conflicts:
	manifests/inspector.pp
	spec/classes/ironic_inspector_spec.rb

Closes-Bug: #2043931
Change-Id: I759c856d9f19c970390a10ca3b19ba0458190203
(cherry picked from commit 6dd89d34a5b47e60b3dbde32bfadddbcc8443f69)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/01/915301/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'manifests/inspector.pp', 'releasenotes/notes/inspector-oslo-messaging-e28a4a67d814c90a.yaml']",3,f1bb4a59bd9d6e585d264bd9c79e7e2f7c3d6c3e,,--- features: - | The ``ironic::inspector`` class now supports configuring the oslo.messaging library options. ,,259,29
openstack%2Fpuppet-ironic~915204,openstack/puppet-ironic,master,I58ee4c149261e5074ec90256e369943dee0796e5,conductor: Support (kernel|ramdisk)_by_arch options,MERGED,2024-04-08 01:45:15.000000000,2024-04-11 15:27:46.000000000,2024-04-11 15:26:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 01:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/bf5cf80a104037973e88af940d31e13a47e1e8b9', 'message': 'conductor: Support (kernel|ramdisk)_by_arch options\n\nChange-Id: I58ee4c149261e5074ec90256e369943dee0796e5\n'}, {'number': 2, 'created': '2024-04-08 02:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/34593a6dabb4a9fb01f80cc1f8ed4a87c9ad5aea', 'message': 'conductor: Support (kernel|ramdisk)_by_arch options\n\nChange-Id: I58ee4c149261e5074ec90256e369943dee0796e5\n'}, {'number': 3, 'created': '2024-04-08 04:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4cd7249a423e64d6aed55b9dfce9bdbb16aac967', 'message': 'conductor: Support (kernel|ramdisk)_by_arch options\n\nChange-Id: I58ee4c149261e5074ec90256e369943dee0796e5\n'}, {'number': 4, 'created': '2024-04-08 05:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/1aed21cee36b4f1663cefc05c9f4a2864855963f', 'message': 'conductor: Support (kernel|ramdisk)_by_arch options\n\nChange-Id: I58ee4c149261e5074ec90256e369943dee0796e5\n'}, {'number': 5, 'created': '2024-04-08 07:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/463046215aa93d305d61cbe1b38b1d33c39aa9be', 'message': 'conductor: Support (kernel|ramdisk)_by_arch options\n\nChange-Id: I58ee4c149261e5074ec90256e369943dee0796e5\n'}, {'number': 6, 'created': '2024-04-08 09:28:30.000000000', 'files': ['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/kernel-ramdisk-by-arch-18d8203cd7d47e38.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3896fc5a201ac915c9e4a4ebb86f719e7c8e25f2', 'message': 'conductor: Support (kernel|ramdisk)_by_arch options\n\nChange-Id: I58ee4c149261e5074ec90256e369943dee0796e5\n'}]",0,915204,3896fc5a201ac915c9e4a4ebb86f719e7c8e25f2,18,3,6,9816,,,0,"conductor: Support (kernel|ramdisk)_by_arch options

Change-Id: I58ee4c149261e5074ec90256e369943dee0796e5
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/04/915204/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb', 'releasenotes/notes/kernel-ramdisk-by-arch-18d8203cd7d47e38.yaml']",3,bf5cf80a104037973e88af940d31e13a47e1e8b9,,--- features: - | The following parameters have been added to the ``ironic::conductor`` class. - ``deploy_kernel_by_arch`` - ``deploy_ramdisk_by_arch`` - ``ramdisk_kernel_by_arch`` - ``ramdisk_ramdisk_by_arch`` ,,47,0
openstack%2Fpuppet-ironic~915208,openstack/puppet-ironic,master,I789537557b60d9a408cec9fde65ac9ddc1cb743b,Refactor resource dependencies,MERGED,2024-04-08 02:25:53.000000000,2024-04-11 15:26:50.000000000,2024-04-11 15:26:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 02:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7e30fcc4bd53b8d114dda1fd4749297e837b6584', 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to improve the following points.\n\n - Avoid unnecessary dependencies across services. For example aodh\n   service does not require cinder db.\n\n - Restart only api service when config files like paste.ini, which\n   are used only be api service is changed.\n\nChange-Id: I789537557b60d9a408cec9fde65ac9ddc1cb743b\n'}, {'number': 2, 'created': '2024-04-08 04:07:27.000000000', 'files': ['manifests/api.pp', 'manifests/inspector/authtoken.pp', 'manifests/db.pp', 'manifests/inspector/db.pp', 'manifests/api/authtoken.pp', 'manifests/deps.pp', 'manifests/inspector/policy.pp', 'manifests/inspector/coordination.pp', 'manifests/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb', 'spec/classes/ironic_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7df48f20535442bf3878549624feccb2fb69c19a', 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to improve the following points.\n\n - Avoid unnecessary dependencies across services. For example aodh\n   service does not require cinder db.\n\n - Restart only api service when config files like paste.ini, which\n   are used only be api service is changed.\n\nChange-Id: I789537557b60d9a408cec9fde65ac9ddc1cb743b\n'}]",0,915208,7df48f20535442bf3878549624feccb2fb69c19a,9,3,2,9816,,,0,"Refactor resource dependencies

This refactors resource dependencies to improve the following points.

 - Avoid unnecessary dependencies across services. For example aodh
   service does not require cinder db.

 - Restart only api service when config files like paste.ini, which
   are used only be api service is changed.

Change-Id: I789537557b60d9a408cec9fde65ac9ddc1cb743b
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/08/915208/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/inspector/authtoken.pp', 'manifests/db.pp', 'manifests/inspector/db.pp', 'manifests/api/authtoken.pp', 'manifests/deps.pp', 'manifests/inspector/policy.pp', 'manifests/inspector/coordination.pp', 'manifests/policy.pp', 'spec/classes/ironic_inspector_policy_spec.rb', 'spec/classes/ironic_policy_spec.rb']",11,7e30fcc4bd53b8d114dda1fd4749297e837b6584,deps-refactor,," :tag => 'ironic', :tag => 'ironic',",26,26
openstack%2Fkolla-ansible~899615,openstack/kolla-ansible,master,I207ca56362de00d8ec578333eab9e1a72e7bcd19,prometheus: Support overriding address of scrape targets,NEW,2023-10-30 16:44:35.000000000,2024-04-11 15:25:02.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-10-30 16:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b909fa3fed7de3a803808ddfb48480e1cd7b4d0', 'message': ""prometheus: Use api_interface_address for scrape targets\n\nIn many cases we use the kolla_address filter to look up the IP address\nof the current host or another host on a particular network interface.\nThis filter uses the host's facts to determine the IP, meaning that we\nmust have gathered facts for the host, even if it is outside of a\nrequested --limit. This is a limitation, since it requires that all\nhosts must be reachable, even if we are not directly configuring them.\n\nMost instances of this cross-host fact referencing involve a controller,\nsince they host clustered services. The only instance found to affect\ncompute nodes is in the prometheus role, where Prometheus server needs\nto know the IP address of all targets in its scrape configs.\n\nIf we are able to specify the address of the scrape targets as a static\nvariable such as a host variable, then facts would not be required for\ncompute nodes outside of the --limit.\n\nThis change switches Prometheus scrape targets from the kolla_address\nfilter to the api_interface_address variable that has the same default\nvalue. This would make it possible to statically override\napi_interface_address and avoid the cross-host fact reference.\n\nThis is not a complete solution because it is not yet possible to skip\nthe cross-host fact gathering step.\n\nPartial-Bug: #2041860\nChange-Id: I207ca56362de00d8ec578333eab9e1a72e7bcd19\n""}, {'number': 2, 'created': '2024-02-28 12:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d7a9cd2ebf5f1fa819958eb94388e81859c9d18', 'message': ""prometheus: Use api_interface_address for scrape targets\n\nIn many cases we use the kolla_address filter to look up the IP address\nof the current host or another host on a particular network interface.\nThis filter uses the host's facts to determine the IP, meaning that we\nmust have gathered facts for the host, even if it is outside of a\nrequested --limit. This is a limitation, since it requires that all\nhosts must be reachable, even if we are not directly configuring them.\n\nMost instances of this cross-host fact referencing involve a controller,\nsince they host clustered services. The only instance found to affect\ncompute nodes is in the prometheus role, where Prometheus server needs\nto know the IP address of all targets in its scrape configs.\n\nIf we are able to specify the address of the scrape targets as a static\nvariable such as a host variable, then facts would not be required for\ncompute nodes outside of the --limit.\n\nThis change switches Prometheus scrape targets from the kolla_address\nfilter to the api_interface_address variable that has the same default\nvalue. This would make it possible to statically override\napi_interface_address and avoid the cross-host fact reference.\n\nThis is not a complete solution because it is not yet possible to skip\nthe cross-host fact gathering step.\n\nPartial-Bug: #2041860\nChange-Id: I207ca56362de00d8ec578333eab9e1a72e7bcd19\n""}, {'number': 3, 'created': '2024-03-06 16:51:47.000000000', 'files': ['kolla_ansible/kolla_address.py', 'releasenotes/notes/prometheus-target-address-4d2d5624ee6ae5a0.yaml', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'kolla_ansible/tests/unit/test_address_filters.py', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e868e0a588edbe0443b81690cf9a2e05fcf52c5', 'message': ""prometheus: Support overriding address of scrape targets\n\nIn many cases we use the kolla_address filter to look up the IP address\nof the current host or another host on a particular network interface.\nThis filter uses the host's facts to determine the IP, meaning that we\nmust have gathered facts for the host, even if it is outside of a\nrequested --limit. This is a limitation, since it requires that all\nhosts must be reachable, even if we are not directly configuring them.\n\nMost instances of this cross-host fact referencing involve a controller,\nsince they host clustered services. The only instance found to affect\ncompute nodes is in the prometheus role, where Prometheus server needs\nto know the IP address of all targets in its scrape configs.\n\nIf we are able to specify the address of the scrape targets as a static\nvariable such as a host variable, then facts would not be required for\ncompute nodes outside of the --limit.\n\nRemoving the requirement to have facts for all compute nodes has\nbenefits for performance (gathering facts for all hosts can take a long\ntime) and fault tolerance (we can operate when some compute hosts are\nunreachable).\n\nThis change modifies the kolla_address filter to accept an optional\noverride_var argument which can be used to specify the name of a host\nvariable that may override the returned IP address. This is used in the\nPrometheus server configuration to allow specifying the IP address used\nby Prometheus server when collecting metrics from exporter using\na 'prometheus_target_address' host variable. If specified, this takes\nprecedence over the API interface address currently used. This makes it\npossible to statically override prometheus_target_address and avoid the\ncross-host fact reference.\n\nThis is not a complete solution because it is not yet possible to skip\nthe cross-host fact gathering step.\n\nPartial-Bug: #2041860\nChange-Id: I207ca56362de00d8ec578333eab9e1a72e7bcd19\n""}]",8,899615,2e868e0a588edbe0443b81690cf9a2e05fcf52c5,22,4,3,14826,,,0,"prometheus: Support overriding address of scrape targets

In many cases we use the kolla_address filter to look up the IP address
of the current host or another host on a particular network interface.
This filter uses the host's facts to determine the IP, meaning that we
must have gathered facts for the host, even if it is outside of a
requested --limit. This is a limitation, since it requires that all
hosts must be reachable, even if we are not directly configuring them.

Most instances of this cross-host fact referencing involve a controller,
since they host clustered services. The only instance found to affect
compute nodes is in the prometheus role, where Prometheus server needs
to know the IP address of all targets in its scrape configs.

If we are able to specify the address of the scrape targets as a static
variable such as a host variable, then facts would not be required for
compute nodes outside of the --limit.

Removing the requirement to have facts for all compute nodes has
benefits for performance (gathering facts for all hosts can take a long
time) and fault tolerance (we can operate when some compute hosts are
unreachable).

This change modifies the kolla_address filter to accept an optional
override_var argument which can be used to specify the name of a host
variable that may override the returned IP address. This is used in the
Prometheus server configuration to allow specifying the IP address used
by Prometheus server when collecting metrics from exporter using
a 'prometheus_target_address' host variable. If specified, this takes
precedence over the API interface address currently used. This makes it
possible to statically override prometheus_target_address and avoid the
cross-host fact reference.

This is not a complete solution because it is not yet possible to skip
the cross-host fact gathering step.

Partial-Bug: #2041860
Change-Id: I207ca56362de00d8ec578333eab9e1a72e7bcd19
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/899615/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/templates/prometheus.yml.j2'],1,8b909fa3fed7de3a803808ddfb48480e1cd7b4d0,prom-target-address, - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ prometheus_port }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_node_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_mysqld_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_haproxy_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_rabbitmq_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_memcached_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_cadvisor_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_fluentd_integration_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_elasticsearch_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_libvirt_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_etcd_integration_port'] }}' - targets: - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['ironic_prometheus_exporter_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_port'] }}' - '{{ hostvars[host].api_interface_address | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_port'] }}'," - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ prometheus_port }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_node_exporter_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_mysqld_exporter_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_haproxy_exporter_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_rabbitmq_exporter_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_memcached_exporter_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_cadvisor_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_fluentd_integration_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_elasticsearch_exporter_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_libvirt_exporter_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_etcd_integration_port'] }}' - targets: [""{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['ironic_prometheus_exporter_port'] }}""] - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_port'] }}' - '{{ 'api' | kolla_address(host) | put_address_in_context('url') }}:{{ hostvars[host]['prometheus_alertmanager_port'] }}'",15,14
openstack%2Fcinder-tempest-plugin~915478,openstack/cinder-tempest-plugin,master,Ie32bd7b03ddb94a4b33661205e31954ac5fe145a,Replace use of deprecated devstack option,NEW,2024-04-11 12:32:27.000000000,2024-04-11 15:20:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-11 12:32:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1c6b23dee838bd7597bd87b58a8f3c270f62eb16', 'message': 'Replace use of deprecated devstack option\n\nThe CINDER_ISCSI_HELPER devstack configuration option was deprecated\nand replaced with CINDER_TARGET_HELPER during the Antelope cycle by\nchange I6578cdc27489b34916cdeb72ba3fdf06ea9d4ad8, so use the\npreferred option name here.\n\nChange-Id: Ie32bd7b03ddb94a4b33661205e31954ac5fe145a\n'}]",0,915478,1c6b23dee838bd7597bd87b58a8f3c270f62eb16,3,1,1,5314,,,0,"Replace use of deprecated devstack option

The CINDER_ISCSI_HELPER devstack configuration option was deprecated
and replaced with CINDER_TARGET_HELPER during the Antelope cycle by
change I6578cdc27489b34916cdeb72ba3fdf06ea9d4ad8, so use the
preferred option name here.

Change-Id: Ie32bd7b03ddb94a4b33661205e31954ac5fe145a
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/78/915478/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1c6b23dee838bd7597bd87b58a8f3c270f62eb16,cinder-target-helper, CINDER_TARGET_HELPER: lioadm CINDER_TARGET_HELPER: tgtadm, CINDER_ISCSI_HELPER: lioadm CINDER_ISCSI_HELPER: tgtadm,2,2
openstack%2Fopenstack-manuals~914882,openstack/openstack-manuals,master,I71bd5be9c27341aad0e2a9e32723b408390d1f09,[www] Switch link for 2024.2 release notes,ABANDONED,2024-04-02 12:32:25.000000000,2024-04-11 14:41:42.000000000,,"[{'_account_id': 13252}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 12:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/965fd858148cefa305daddf134ef96bb70cc3a9f', 'message': '[www] Setup 2024.2 Dalmatian\n\nThis change adds default pages for next release, 2024.2 Dalmatian.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/914619\nChange-Id: I71bd5be9c27341aad0e2a9e32723b408390d1f09\n'}, {'number': 2, 'created': '2024-04-04 13:59:40.000000000', 'files': ['www/2024.2/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2d082f3d3eb1ebf92754c06cbe32bcc78acfca05', 'message': '[www] Switch link for 2024.2 release notes\n\nThe dependency changes the location for 2024.2 release notes pages,\namend the link to it accordingly.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/914619\nChange-Id: I71bd5be9c27341aad0e2a9e32723b408390d1f09\n'}]",2,914882,2d082f3d3eb1ebf92754c06cbe32bcc78acfca05,7,3,2,13252,,,0,"[www] Switch link for 2024.2 release notes

The dependency changes the location for 2024.2 release notes pages,
amend the link to it accordingly.

Depends-On: https://review.opendev.org/c/openstack/releases/+/914619
Change-Id: I71bd5be9c27341aad0e2a9e32723b408390d1f09
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/82/914882/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/2024.2/index.html', 'www/2024.2/admin/index.html', 'www/2024.2/api/index.html', 'www/2024.2/configuration/index.html', 'www/2024.2/install/index.html', 'www/2024.2/badge.html', 'www/2024.2/language-bindings.html', 'www/2024.2/projects.html', 'www/2024.2/user/index.html', 'tools/www-generator.py', 'www/2024.2/deploy/index.html']",11,965fd858148cefa305daddf134ef96bb70cc3a9f,www-2024.1-final,"{% set projects = PROJECT_DATA[SERIES] %} {% extends ""templates/base.tmpl"" %} {% block pagetitle %}{{SERIES_TITLE}} Deployment Guides{% endblock %} {% block title %} <a href=""https://docs.openstack.org"">Documentation</a> &gt; {{SERIES_TITLE}} Deployment Guides {% endblock %} {% block content %} <!-- Begin Page Content --> <div class=""top-docs-wrapper""> <div class=""container""> <div class=""row""> <div class=""col-lg-8 col-md-8 col-sm-8""> <h1>OpenStack {{SERIES_TITLE}} Deployment Guides</h1> <p>The following deployment guides support different installation methods for core and optional OpenStack services.</p> <p>This is documentation in progress for the next release.</p> </div> </div> </div> <div class=""mid-docs-wrapper"" id=""docs-main-body""> <div class=""container""> <div class=""row docs-toc""> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections""> <h3><i class=""fa fa-cogs""></i>By deployment method</h3> {% for project in projects|sort(attribute='name') -%} {% if project.type == 'deployment' and project.has_deployment_guide %} <p><a href=""/project-deploy-guide/{{project.name}}/{{SERIES}}/""> {{project.service}} Guide </a></p> {% endif %} {%- endfor %} </div> </div> </div> <div class=""row docs-contribute-wrapper""> <div class=""col-lg-12""> <p>Documentation treated like code, powered by the community - interested?</p> <a href=""/doc-contrib-guide/"" class=""overview-btn contribute-btn"">How To Contribute <i class=""fa fa-chevron-right""></i></a> </div> </div> </div> </div> {% endblock content %} ",,568,0
openstack%2Fnova~905134,openstack/nova,master,I00b126635612ace51b5e3138afcb064f001f1901,Refactor vf profile for PCI device,MERGED,2024-01-09 17:00:35.000000000,2024-04-11 14:39:34.000000000,2024-04-11 14:38:11.000000000,"[{'_account_id': 7166}, {'_account_id': 9542}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14525}, {'_account_id': 15334}, {'_account_id': 17503}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2024-01-09 17:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a978e2d9f81dfd9f6bdb26c0853cfecf2aafaa88', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\n\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}, {'number': 2, 'created': '2024-01-09 17:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa51b50d0fd0ea59bbe541858e8bfb6c66e0ea41', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\nAlso, all 3 need not to be always required for vf_profile.\n\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}, {'number': 3, 'created': '2024-01-09 17:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/541f953e8c684ced4f34d8fc99a7d1aebf672864', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\nAlso, all 3 need not to be always required for vf_profile.\n\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}, {'number': 4, 'created': '2024-01-10 16:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3faeffeaad038fb4bcc9aab7587df7ff6d6e346', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\nAlso, all 3 need not to be always required for vf_profile.\n\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}, {'number': 5, 'created': '2024-01-12 04:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60cabf51f3f7592894850aa227fcbe3b1ca4997c', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\nAlso, all 3 need not to be always required for vf_profile.\n\nRelated-Bug: #2008238\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}, {'number': 6, 'created': '2024-03-01 11:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/914c3f9e1fc00ad3daad1bd2ed622c803c2d7b12', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\nAlso, all 3 need not to be always required for vf_profile.\n\nRelated-Bug: #2008238\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}, {'number': 7, 'created': '2024-03-01 14:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2d0c41cd6b3e910a75ca642a48faf91e1c730ca', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\nAlso, all 3 need not to be always required for vf_profile.\n\nRelated-Bug: #2008238\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}, {'number': 8, 'created': '2024-03-01 15:28:56.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1a07e0d2d01e95b7d3c8db62d149a4278617c93', 'message': 'Refactor vf profile for PCI device\n\nIn general the card_serial_number will not be present on sriov\nVFs/PFs, it is only supported on very new cards.\nAlso, all 3 need not to be always required for vf_profile.\n\nRelated-Bug: #2008238\nChange-Id: I00b126635612ace51b5e3138afcb064f001f1901\n'}]",31,905134,a1a07e0d2d01e95b7d3c8db62d149a4278617c93,66,11,8,34860,,,0,"Refactor vf profile for PCI device

In general the card_serial_number will not be present on sriov
VFs/PFs, it is only supported on very new cards.
Also, all 3 need not to be always required for vf_profile.

Related-Bug: #2008238
Change-Id: I00b126635612ace51b5e3138afcb064f001f1901
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/905134/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py']",2,a978e2d9f81dfd9f6bdb26c0853cfecf2aafaa88,refactor-vf-profile-update," if card_serial_number: vf_profile.update({ 'card_serial_number': card_serial_number vf_profile.update({ 'pf_mac_address': pf_mac, 'vf_num': vf_num, })"," if all((pf_mac, vf_num, card_serial_number)): vf_profile.update({ 'card_serial_number': card_serial_number, 'pf_mac_address': pf_mac, 'vf_num': vf_num,",12,4
openstack%2Freleases~914619,openstack/releases,master,I0c829d26e699d4aac70c7b390148b8d3e7059112,Switch from Dalmatian to 2024.2 in URLs,ABANDONED,2024-03-28 10:01:00.000000000,2024-04-11 14:38:38.000000000,,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-28 10:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/85e14ec6370edddacb0bdba1390af6f23f75cc7b', 'message': ""Switch from Dalmatian to 2024.2 in URLs\n\nAll projects are using links for the release notes that are named\n``.../2024.2.html``, so let's use the same in our index page to reduce\nconfusion.\n\nChange-Id: I0c829d26e699d4aac70c7b390148b8d3e7059112\n""}, {'number': 2, 'created': '2024-03-28 11:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/842b5f43894be3548b83c858d0faebcc2df2c5fd', 'message': ""Switch from Dalmatian to 2024.2 in URLs\n\nAll projects are using links for the release notes that are named\n``.../2024.2.html``, so let's use the same in our index page to reduce\nconfusion.\n\nChange-Id: I0c829d26e699d4aac70c7b390148b8d3e7059112\n""}, {'number': 3, 'created': '2024-03-28 13:59:02.000000000', 'files': ['doc/source/2024.2/index.rst', 'doc/source/index.rst', 'doc/source/2024.2/highlights.rst', 'doc/source/2024.2/schedule.yaml', 'doc/source/2024.2/schedule.rst', 'data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f4a92598afa45ad72259fa99adcc0c3f9b51b3d8', 'message': ""Switch from Dalmatian to 2024.2 in URLs\n\nAll projects are using links for the release notes that are named\n``.../2024.2.html``, so let's use the same in our index page to reduce\nconfusion.\n\nChange-Id: I0c829d26e699d4aac70c7b390148b8d3e7059112\n""}]",9,914619,f4a92598afa45ad72259fa99adcc0c3f9b51b3d8,14,4,3,13252,,,0,"Switch from Dalmatian to 2024.2 in URLs

All projects are using links for the release notes that are named
``.../2024.2.html``, so let's use the same in our index page to reduce
confusion.

Change-Id: I0c829d26e699d4aac70c7b390148b8d3e7059112
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/914619/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/2024.2/index.rst', 'doc/source/index.rst', 'doc/source/2024.2/highlights.rst', 'doc/source/2024.2/schedule.yaml', 'doc/source/2024.2/schedule.rst']",5,85e14ec6370edddacb0bdba1390af6f23f75cc7b,rename-dalmatian,,,1,1
openstack%2Fdevstack-plugin-ceph~915477,openstack/devstack-plugin-ceph,master,I42f07bca9f1ee1f1f71b198592ecd30a83e40365,Replace use of deprecated devstack option,NEW,2024-04-11 12:27:04.000000000,2024-04-11 14:35:31.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-11 12:27:04.000000000', 'files': ['devstack/override-defaults'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/67fa3b56f7c9c215ec6aa48c3212991443a7749f', 'message': 'Replace use of deprecated devstack option\n\nThe CINDER_ISCSI_HELPER devstack configuration option was deprecated\nand replaced with CINDER_TARGET_HELPER by change\nI6578cdc27489b34916cdeb72ba3fdf06ea9d4ad8, so use the preferred option\nname here.\n\nChange-Id: I42f07bca9f1ee1f1f71b198592ecd30a83e40365\n'}]",0,915477,67fa3b56f7c9c215ec6aa48c3212991443a7749f,3,2,1,5314,,,0,"Replace use of deprecated devstack option

The CINDER_ISCSI_HELPER devstack configuration option was deprecated
and replaced with CINDER_TARGET_HELPER by change
I6578cdc27489b34916cdeb72ba3fdf06ea9d4ad8, so use the preferred option
name here.

Change-Id: I42f07bca9f1ee1f1f71b198592ecd30a83e40365
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/77/915477/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/override-defaults'],1,67fa3b56f7c9c215ec6aa48c3212991443a7749f,cinder-target-helper, CINDER_TARGET_HELPER=${CINDER_TARGET_HELPER:-lioadm}, CINDER_ISCSI_HELPER=${CINDER_ISCSI_HELPER:-lioadm},1,1
openstack%2Fpuppet-aodh~915220,openstack/puppet-aodh,master,Ie597039d18b1e9f08fd27919324fbbf106a3425e,Assert aodh-expirer cron job,MERGED,2024-04-08 07:36:27.000000000,2024-04-11 14:30:49.000000000,2024-04-11 14:30:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:36:27.000000000', 'files': ['spec/acceptance/10_basic_aodh_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/38de717b72677dd8e2789feda280a752e36b3ef0', 'message': 'Assert aodh-expirer cron job\n\nChange-Id: Ie597039d18b1e9f08fd27919324fbbf106a3425e\n'}]",0,915220,38de717b72677dd8e2789feda280a752e36b3ef0,7,3,1,9816,,,0,"Assert aodh-expirer cron job

Change-Id: Ie597039d18b1e9f08fd27919324fbbf106a3425e
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/20/915220/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_aodh_spec.rb'],1,38de717b72677dd8e2789feda280a752e36b3ef0,, describe cron do it { is_expected.to have_entry('1 0 * * * aodh-expirer').with_user('aodh') } end,,4,0
openstack%2Fpuppet-openstack-cookiecutter~915207,openstack/puppet-openstack-cookiecutter,master,I0f0c12f77eb39cb1d1c68fe2b02050ada257aabb,Refactor resource dependencies,MERGED,2024-04-08 02:18:18.000000000,2024-04-11 14:30:42.000000000,2024-04-11 14:30:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 02:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/007042af82ad39505b7e1bf8d54ba550a6657180', 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to avoid unnecessary dependencies\nacross services.\n\nChange-Id: I0f0c12f77eb39cb1d1c68fe2b02050ada257aabb\n'}, {'number': 2, 'created': '2024-04-08 02:18:48.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/deps.pp', 'puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_policy_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp', 'puppet-{{cookiecutter.project_name}}/manifests/db.pp', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/8fe204a3f099232431be81cf27f537279e7d04f8', 'message': 'Refactor resource dependencies\n\nThis refactors resource dependencies to avoid unnecessary dependencies\nacross services.\n\nChange-Id: I0f0c12f77eb39cb1d1c68fe2b02050ada257aabb\n'}]",0,915207,8fe204a3f099232431be81cf27f537279e7d04f8,8,3,2,9816,,,0,"Refactor resource dependencies

This refactors resource dependencies to avoid unnecessary dependencies
across services.

Change-Id: I0f0c12f77eb39cb1d1c68fe2b02050ada257aabb
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/07/915207/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/manifests/deps.pp', 'puppet-{{cookiecutter.project_name}}/manifests/keystone/authtoken.pp', 'puppet-{{cookiecutter.project_name}}/manifests/db.pp', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp']",4,007042af82ad39505b7e1bf8d54ba550a6657180,, # policy config should occur in the config block also. Anchor['{{cookiecutter.project_name}}::config::begin'] -> Openstacklib::Policy[$policy_path] -> Anchor['{{cookiecutter.project_name}}::config::end'] ,,11,9
openstack%2Felection~910488,openstack/election,master,I0d32d93461a77a1de4ff765d9b580d078e0f9473,Adding chunyang wu candidacy for Trove,ABANDONED,2024-02-29 01:25:55.000000000,2024-04-11 14:23:27.000000000,,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-29 01:25:55.000000000', 'files': ['candidates/2024.2/Trove/wchy1001@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/4862def8344f1ce543fbce92a47d298b65695529', 'message': 'Adding chunyang wu candidacy for Trove\n\nChange-Id: I0d32d93461a77a1de4ff765d9b580d078e0f9473\n'}]",3,910488,4862def8344f1ce543fbce92a47d298b65695529,6,2,1,26285,,,0,"Adding chunyang wu candidacy for Trove

Change-Id: I0d32d93461a77a1de4ff765d9b580d078e0f9473
",git fetch https://review.opendev.org/openstack/election refs/changes/88/910488/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/2024.2/Trove/wchy1001@gmail.com'],1,4862def8344f1ce543fbce92a47d298b65695529,,"I would like to announce my candidacy for PTL of the Trove project for the 2024.2 cycle. For the Dalmatian cycle, i'd like to focus on the following: * review the coming patches * Add more tempest tests * Add CI tests for the latest datastore(mysql, mariadb, postgresql) version * improve docs thanks ",,10,0
openstack%2Fkeystone-specs~915482,openstack/keystone-specs,master,Icd58fa1f4927269fc1ebeb79de2f1e6a9ba40b27,Include password hash in failed authentication events,NEW,2024-04-11 13:50:50.000000000,2024-04-11 13:59:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-11 13:50:50.000000000', 'files': ['specs/keystone/backlog/pci-dss-bad-password-reporting.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8aec04ab25cbce4dd8130feecaf30af03ff1b8b0', 'message': 'Include password hash in failed authentication events\n\nChange-Id: Icd58fa1f4927269fc1ebeb79de2f1e6a9ba40b27\n'}]",0,915482,8aec04ab25cbce4dd8130feecaf30af03ff1b8b0,2,1,1,13478,,,0,"Include password hash in failed authentication events

Change-Id: Icd58fa1f4927269fc1ebeb79de2f1e6a9ba40b27
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/82/915482/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/backlog/pci-dss-bad-password-reporting.rst'],1,8aec04ab25cbce4dd8130feecaf30af03ff1b8b0,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Include bad password details in audit messages ============================================== `bug #2060972 <https://bugs.launchpad.net/keystone/+bug/2060972>`_ PCI DSS requires operators to analyze failed login attemps, for example, to catch bruteforce or password stuffing attacks. To achieve that, allow keystone to report details about the bad credentials used in the failed authentication attempts. Problem Description =================== PCI DSS requires operators to analyze failed login attemps, for example, to catch bruteforce or password stuffing attacks. Keystone can report about failed authentication attempts, for example, via identity.authenticate messages with outcome ""failure"". But experience shows, that most repeated failed authentication attempts happen not because there is a bad actor, but because user's automation misbehaves: * They updated their password and have a script running with the old password * Their automation has a bug that truncated a password * They ran a loop in a bash script and mistyped their password in the OS_PASSWORD variable for the openstack cli. All these events lead to false positives, requiring operators to investigate, and since this happens often, the events are checked less thoroughly, decreasing the effect from the monitoring. Proposed Change =============== Allow operators to include N symbols of the password hash as payload in authenticate.failure messages. This will allow to set up monitoring software to group the events based on user and password hash, and set up limits for alerting. The inclusion is optional, disabled by default. When enabled, key ""details"" is present in the audit message, with key ""password_hash_symbols"", containing N first symbols of the hash of the password. A configuration option is available to configure N. By default N=1, so only 1 symbol from the hash is sent. A configuration option is available to configure the hash function used. By default, the function will be the same function used to hash the password for storing it in the database. Alternatives ------------ 1. Additional logging. An option was considered to add additional log messages with details about authentication failures. Checking application logs is an accepted way in PCI DSS anomaly detection. However, keystone does not offer log stability and there are no libraries for proper log parsing. Audit messages are already a great way to log authentication failures, they already include some details about why authentication failed, and extending them seems to be a natural choice. 2. A custom backend for password authentication. One could create a custom password authentication backend. The backend would inherit from the vanilla keystone backend, catch authentication failures and log a message, emit a notification, or perform an action specific to the operator's needs. However, this will break other existing custom authentication plugins. It is also beneficial to have the details together with already emitted notifications, because there is already a way to process them. Security Impact --------------- If an operator does not enable the feature in the config, there is no security impact. If the feature is enabled, it will expose N (N=1 by default) symbols of the password hash. These symbols will not be communicated with the response, but will be sent via messages. Note: having only messages with the same first password hash symbols does not mean that there is no attack. It could mean that an attacker, using rainbow tables, tries only passwords with hashes starting with these first symbols. Operators must make their own choice how to interpret these messages, and select the number of the symbols according to their needs and tooling. Notifications Impact -------------------- A new field is added to the notifications with event_type ""identity.authenticate"" and outcome ""failure"". The field is in the payload, name is ""details"", with object as a value. The object has a field ""password_hash_symbols"", with string as a value. The string is 1 or more ascii characters. For example:: { ""event_type"": ""identity.authenticate"", ""message_id"": ""1371a590-d5fd-448f-b3bb-a14dead6f4cb"", ""payload"": { ... ""details"": { ""password_hash_symbols"": ""A"" } ... } } Other End User Impact --------------------- None Performance Impact ------------------ Depending on the hashing algorith used, hashing of the password might take some computing. Other Deployer Impact --------------------- If the feature is not wanted by an operator, there is no impact. If the feature is wanted, the following options are available in the ``security_compliance`` section: * ``enable_bad_password_hash_messages`` - to activate the feature * ``bad_password_first_hash_symbols`` - integer, number of symbols to include * ``bad_password_hashing_algorithm`` * ``bad_password_hashing_rounds`` Developer Impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: bbobrov Other contributors: None Work Items ---------- TODO Dependencies ============ None Documentation Impact ==================== The options and the security impact need to be documented. References ========== None ",,186,0
openstack%2Fopenstack-ansible~913418,openstack/openstack-ansible,stable/victoria,I91b8cf26d568d8b20d927e4723232de735407f21,Switch SHAs to EOM,MERGED,2024-03-15 15:36:35.000000000,2024-04-11 13:42:13.000000000,2024-04-11 13:40:27.000000000,"[{'_account_id': 28619}, {'_account_id': 32622}]","[{'number': 1, 'created': '2024-03-15 15:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8fee94f8175a89481103f6b147032ff2c4a8ff3b', 'message': 'Switch SHAs to EOM\n\nChange-Id: I91b8cf26d568d8b20d927e4723232de735407f21\n'}, {'number': 2, 'created': '2024-03-22 10:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/521c97bbb7ebe6894a88d0aab0f006ee58559dd0', 'message': 'Switch SHAs to EOM\n\nChange-Id: I91b8cf26d568d8b20d927e4723232de735407f21\n'}, {'number': 3, 'created': '2024-03-28 17:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9d49257191c60ad1a3aed6c9a147504117ea3a4', 'message': 'Switch SHAs to EOM\n\nThis also removes undefined jobs as well as leaving bare\nminimal coverage to ensure patch is mergable.\n\nChange-Id: I91b8cf26d568d8b20d927e4723232de735407f21\n'}, {'number': 4, 'created': '2024-03-28 17:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ecb59586d91af244e8ba0cfb5aea533ec7e848f', 'message': 'Switch SHAs to EOM\n\nThis also removes undefined jobs as well as leaving bare\nminimal coverage to ensure patch is mergable.\n\nChange-Id: I91b8cf26d568d8b20d927e4723232de735407f21\n'}, {'number': 5, 'created': '2024-04-11 12:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63489cca1893c52ef26eddf68d18f8ce656b01fa', 'message': 'Switch SHAs to EOM\n\nThis also removes undefined jobs as well as leaving bare\nminimal coverage to ensure patch is mergable.\n\nIn addition drop jobs referencing debian-buster as that release is no\nlonger available in opendev CI.\n\nChange-Id: I91b8cf26d568d8b20d927e4723232de735407f21\n'}, {'number': 6, 'created': '2024-04-11 12:37:51.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'zuul.d/project-templates.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dc728b77a888a61deb61bcb28d5a68fdd0163011', 'message': 'Switch SHAs to EOM\n\nThis also removes undefined jobs as well as leaving bare\nminimal coverage to ensure patch is mergable.\n\nIn addition drop jobs referencing debian-buster as that release is no\nlonger available in opendev CI.\n\nChange-Id: I91b8cf26d568d8b20d927e4723232de735407f21\n'}]",0,913418,dc728b77a888a61deb61bcb28d5a68fdd0163011,11,2,6,28619,,,0,"Switch SHAs to EOM

This also removes undefined jobs as well as leaving bare
minimal coverage to ensure patch is mergable.

In addition drop jobs referencing debian-buster as that release is no
longer available in opendev CI.

Change-Id: I91b8cf26d568d8b20d927e4723232de735407f21
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/913418/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml']",2,8fee94f8175a89481103f6b147032ff2c4a8ff3b,osa-eom, version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom version: victoria-eom, version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria,108,108
openstack%2Freleases~872653,openstack/releases,master,I3b8d5ad069035c0503b4c851660015533e83ac5b,update the cycle highlight date into the mail template,MERGED,2023-02-03 14:22:35.000000000,2024-04-11 12:53:47.000000000,2024-04-11 12:53:47.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-03 14:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/921501ea0f1f1feafc62298d4d7c94fa75a88ca9', 'message': 'update the cycle highlight date into the mail template\n\nChange-Id: I3b8d5ad069035c0503b4c851660015533e83ac5b\n'}, {'number': 2, 'created': '2024-04-05 14:28:13.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/68fb1e2e14038431dc42505a4c28d0edf7170172', 'message': 'update the cycle highlight date into the mail template\n\nChange-Id: I3b8d5ad069035c0503b4c851660015533e83ac5b\n'}]",3,872653,68fb1e2e14038431dc42505a4c28d0edf7170172,11,3,2,28522,,,0,"update the cycle highlight date into the mail template

Change-Id: I3b8d5ad069035c0503b4c851660015533e83ac5b
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/872653/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,921501ea0f1f1feafc62298d4d7c94fa75a88ca9,update-cycle-highlight, Cycle Highlights Due: $milestone3 (R-4 week), Cycle Highlights Due: $milestone3 (R-5 week),1,1
openstack%2Freleases~910407,openstack/releases,master,I5780c583359eb437eade123075e0dcd05c014b21,[freezer] Transition EM branches to EOL,MERGED,2024-02-27 18:56:19.000000000,2024-04-11 12:53:44.000000000,2024-04-11 12:53:44.000000000,"[{'_account_id': 13252}, {'_account_id': 13940}, {'_account_id': 17685}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-27 18:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7079222dc2826ddd881706f8a72c2bc7bde5ba1b', 'message': '[freezer] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I5780c583359eb437eade123075e0dcd05c014b21\n'}, {'number': 2, 'created': '2024-04-05 15:56:15.000000000', 'files': ['deliverables/xena/python-freezerclient.yaml', 'deliverables/wallaby/python-freezerclient.yaml', 'deliverables/xena/freezer-web-ui.yaml', 'deliverables/xena/freezer.yaml', 'deliverables/wallaby/freezer-web-ui.yaml', 'deliverables/victoria/python-freezerclient.yaml', 'deliverables/wallaby/freezer.yaml', 'deliverables/victoria/freezer-web-ui.yaml', 'deliverables/victoria/freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3e087b4f74d042781a765076597b16ec37b63425', 'message': '[freezer] Transition EM branches to EOL\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Freezer project is marked as inactive as there were hardly any\nmaintenance, we move its old xena, wallaby and victoria branches to EOL\ninstead of moving them to Unmaintained. If anyone wants to resurrect\nthe project then the work should be started at the master branch\ninstead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I5780c583359eb437eade123075e0dcd05c014b21\n'}]",3,910407,3e087b4f74d042781a765076597b16ec37b63425,11,5,2,17685,,,0,"[freezer] Transition EM branches to EOL

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

Since Freezer project is marked as inactive as there were hardly any
maintenance, we move its old xena, wallaby and victoria branches to EOL
instead of moving them to Unmaintained. If anyone wants to resurrect
the project then the work should be started at the master branch
instead.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I5780c583359eb437eade123075e0dcd05c014b21
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/910407/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/python-freezerclient.yaml', 'deliverables/wallaby/python-freezerclient.yaml', 'deliverables/xena/freezer-web-ui.yaml', 'deliverables/xena/freezer.yaml', 'deliverables/wallaby/freezer-web-ui.yaml', 'deliverables/victoria/python-freezerclient.yaml', 'deliverables/wallaby/freezer.yaml', 'deliverables/victoria/freezer-web-ui.yaml', 'deliverables/victoria/freezer.yaml']",9,7079222dc2826ddd881706f8a72c2bc7bde5ba1b,vwx-unmaintained, - version: victoria-eom projects: - repo: openstack/freezer hash: 9e0e12ba36fcd8fc05d996855f38f6083b33b1f7 - repo: openstack/freezer-api hash: db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4 - repo: openstack/freezer-dr hash: 7d4c5ad01c780ea9874575464bae4f33877ebc23 - name: unmaintained/victoria location: victoria-eom,,66,0
openstack%2Freleases~910426,openstack/releases,master,I92499f8e1a577535266a23b21262a30bcb6f97dd,[qinling] Transition EM branches to EOL,MERGED,2024-02-27 18:59:13.000000000,2024-04-11 12:53:42.000000000,2024-04-11 12:53:42.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-27 18:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/73483e13e5469d41f4e3230b0398e8c8ec0a7dee', 'message': '[qinling] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I92499f8e1a577535266a23b21262a30bcb6f97dd\n'}, {'number': 2, 'created': '2024-04-05 16:54:49.000000000', 'files': ['deliverables/victoria/python-qinlingclient.yaml', 'deliverables/victoria/qinling.yaml', 'deliverables/victoria/qinling-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/07bb4e3a9b1c27ca31a0d48180bfdcfb62b1fb03', 'message': '[qinling] Transition EM branches to EOL\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Qinling project is retired after victoria, it makes sense to move\nits victoria branches to EOL instead of moving it to Unmaintained.\nIf anyone wants to resurrect the project then the work should be\nstarted at the master branch instead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I92499f8e1a577535266a23b21262a30bcb6f97dd\n'}]",3,910426,07bb4e3a9b1c27ca31a0d48180bfdcfb62b1fb03,11,3,2,17685,,,0,"[qinling] Transition EM branches to EOL

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

Since Qinling project is retired after victoria, it makes sense to move
its victoria branches to EOL instead of moving it to Unmaintained.
If anyone wants to resurrect the project then the work should be
started at the master branch instead.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I92499f8e1a577535266a23b21262a30bcb6f97dd
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/910426/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-qinlingclient.yaml', 'deliverables/victoria/qinling.yaml', 'deliverables/victoria/qinling-dashboard.yaml']",3,73483e13e5469d41f4e3230b0398e8c8ec0a7dee,vwx-unmaintained, - version: victoria-eom projects: - repo: openstack/qinling-dashboard hash: 6df246288f6d4fb6d198d053861613e77c15bf9d - name: unmaintained/victoria location: victoria-eom release-notes: https://docs.openstack.org/releasenotes/qinling-dashboard/victoria.html,release-notes: https://docs.openstack.org/releasenotes/qinling-dashboard/victoria.html,22,2
openstack%2Freleases~910422,openstack/releases,master,I56f00a8b89c6c48620d0f61dc491038d3c10af60,[murano] Transition EM branches to EOL,MERGED,2024-02-27 18:58:03.000000000,2024-04-11 12:53:40.000000000,2024-04-11 12:53:40.000000000,"[{'_account_id': 13252}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 35988}]","[{'number': 1, 'created': '2024-02-27 18:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e4ee216fe3d46db9937f681d40efb7f8f59f61fb', 'message': '[murano] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I56f00a8b89c6c48620d0f61dc491038d3c10af60\n'}, {'number': 2, 'created': '2024-04-05 15:59:41.000000000', 'files': ['deliverables/wallaby/murano-agent.yaml', 'deliverables/xena/murano-dashboard.yaml', 'deliverables/wallaby/murano.yaml', 'deliverables/wallaby/murano-dashboard.yaml', 'deliverables/victoria/murano-agent.yaml', 'deliverables/xena/murano.yaml', 'deliverables/victoria/murano-dashboard.yaml', 'deliverables/victoria/python-muranoclient.yaml', 'deliverables/xena/murano-agent.yaml', 'deliverables/xena/python-muranoclient.yaml', 'deliverables/victoria/murano.yaml', 'deliverables/wallaby/python-muranoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb916a58d8fecc1a049ad113325e428eccadd311', 'message': '[murano] Transition EM branches to EOL\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Murano project is marked as inactive as there were hardly any\nmaintenance, we move its old xena, wallaby and victoria branches to EOL\ninstead of moving them to Unmaintained. If anyone wants to resurrect\nthe project then the work should be started at the master branch\ninstead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I56f00a8b89c6c48620d0f61dc491038d3c10af60\n'}]",3,910422,cb916a58d8fecc1a049ad113325e428eccadd311,11,5,2,17685,,,0,"[murano] Transition EM branches to EOL

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

Since Murano project is marked as inactive as there were hardly any
maintenance, we move its old xena, wallaby and victoria branches to EOL
instead of moving them to Unmaintained. If anyone wants to resurrect
the project then the work should be started at the master branch
instead.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I56f00a8b89c6c48620d0f61dc491038d3c10af60
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/910422/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/murano-agent.yaml', 'deliverables/xena/murano-dashboard.yaml', 'deliverables/wallaby/murano.yaml', 'deliverables/wallaby/murano-dashboard.yaml', 'deliverables/victoria/murano-agent.yaml', 'deliverables/xena/murano.yaml', 'deliverables/victoria/murano-dashboard.yaml', 'deliverables/victoria/python-muranoclient.yaml', 'deliverables/xena/murano-agent.yaml', 'deliverables/xena/python-muranoclient.yaml', 'deliverables/victoria/murano.yaml', 'deliverables/wallaby/python-muranoclient.yaml']",12,e4ee216fe3d46db9937f681d40efb7f8f59f61fb,vwx-unmaintained, - version: wallaby-eom projects: - repo: openstack/python-muranoclient hash: 0ff5dce8f45e7710c232166ff0ebcf610be982b2 - name: unmaintained/wallaby location: wallaby-eom release-notes: https://docs.openstack.org/releasenotes/python-muranoclient/wallaby.html,release-notes: https://docs.openstack.org/releasenotes/python-muranoclient/wallaby.html,82,5
openstack%2Freleases~910427,openstack/releases,master,I4fee731a235546e36628a084cd5a3d0782752cfc,[karbor] Transition EM branches to EOL,MERGED,2024-02-27 18:59:20.000000000,2024-04-11 12:53:38.000000000,2024-04-11 12:53:38.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-27 18:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8e0da69059ee9bac61d49f6b0b681f6fc2167f5d', 'message': '[karbor] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I4fee731a235546e36628a084cd5a3d0782752cfc\n'}, {'number': 2, 'created': '2024-04-05 16:52:24.000000000', 'files': ['deliverables/victoria/karbor.yaml', 'deliverables/victoria/python-karborclient.yaml', 'deliverables/victoria/karbor-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/159d2e2dd1276a03e4639e92137bb29cd6d7fbfb', 'message': '[karbor] Transition EM branches to EOL\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Karbor project is retired after victoria, it makes sense to move\nits victoria branches to EOL instead of moving it to Unmaintained.\nIf anyone wants to resurrect the project then the work should be\nstarted at the master branch instead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I4fee731a235546e36628a084cd5a3d0782752cfc\n'}]",3,910427,159d2e2dd1276a03e4639e92137bb29cd6d7fbfb,11,3,2,17685,,,0,"[karbor] Transition EM branches to EOL

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

Since Karbor project is retired after victoria, it makes sense to move
its victoria branches to EOL instead of moving it to Unmaintained.
If anyone wants to resurrect the project then the work should be
started at the master branch instead.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I4fee731a235546e36628a084cd5a3d0782752cfc
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/910427/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/karbor.yaml', 'deliverables/victoria/python-karborclient.yaml', 'deliverables/victoria/karbor-dashboard.yaml']",3,8e0da69059ee9bac61d49f6b0b681f6fc2167f5d,vwx-unmaintained, - version: victoria-eom projects: - repo: openstack/karbor-dashboard hash: 06e52e51262b0c329b74c6c1d599a2464c2f9a2d - name: unmaintained/victoria location: victoria-eom,,18,0
openstack%2Freleases~910415,openstack/releases,master,Idb6c39902653f8d96ea853402eea82db4b7abafd,[sahara] Transition EM branches to EOL,MERGED,2024-02-27 18:57:13.000000000,2024-04-11 12:53:36.000000000,2024-04-11 12:53:36.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2024-02-27 18:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bc6a49a9d84b1a1c9fda612c6e8ac2df3e2f16d6', 'message': '[sahara] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Idb6c39902653f8d96ea853402eea82db4b7abafd\n'}, {'number': 2, 'created': '2024-04-05 15:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/acfbb0abf34117d98255f149d672d19ebc813cd8', 'message': '[sahara] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Sahara project is marked as inactive as there were hardly any\nmaintenance, we move its old xena, wallaby and victoria branches to EOL\ninstead of moving them to Unmaintained. If anyone wants to resurrect\nthe project then the work should be started at the master branch\ninstead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Idb6c39902653f8d96ea853402eea82db4b7abafd\n'}, {'number': 3, 'created': '2024-04-05 15:31:49.000000000', 'files': ['deliverables/wallaby/python-saharaclient.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/xena/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-dashboard.yaml', 'deliverables/victoria/python-saharaclient.yaml', 'deliverables/victoria/sahara-extra.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/xena/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-plugin-vanilla.yaml', 'deliverables/xena/python-saharaclient.yaml', 'deliverables/xena/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-extra.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/victoria/sahara-plugin-storm.yaml', 'deliverables/victoria/sahara-plugin-ambari.yaml', 'deliverables/victoria/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-image-elements.yaml', 'deliverables/xena/sahara-plugin-mapr.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-extra.yaml', 'deliverables/victoria/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-image-elements.yaml', 'deliverables/xena/sahara-dashboard.yaml', 'deliverables/xena/sahara.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/victoria/sahara-plugin-mapr.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/victoria/sahara.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/xena/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-plugin-storm.yaml', 'deliverables/wallaby/sahara-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9d930db11d0f44f69a125f2957490481e46f9afb', 'message': '[sahara] Transition EM branches to EOL\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Sahara project is marked as inactive as there were hardly any\nmaintenance, we move its old xena, wallaby and victoria branches to EOL\ninstead of moving them to Unmaintained. If anyone wants to resurrect\nthe project then the work should be started at the master branch\ninstead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: Idb6c39902653f8d96ea853402eea82db4b7abafd\n'}]",3,910415,9d930db11d0f44f69a125f2957490481e46f9afb,12,4,3,17685,,,0,"[sahara] Transition EM branches to EOL

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

Since Sahara project is marked as inactive as there were hardly any
maintenance, we move its old xena, wallaby and victoria branches to EOL
instead of moving them to Unmaintained. If anyone wants to resurrect
the project then the work should be started at the master branch
instead.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: Idb6c39902653f8d96ea853402eea82db4b7abafd
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/910415/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/python-saharaclient.yaml', 'deliverables/wallaby/sahara-plugin-mapr.yaml', 'deliverables/xena/sahara-plugin-vanilla.yaml', 'deliverables/wallaby/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-dashboard.yaml', 'deliverables/victoria/python-saharaclient.yaml', 'deliverables/victoria/sahara-extra.yaml', 'deliverables/victoria/sahara-tests.yaml', 'deliverables/wallaby/sahara-plugin-ambari.yaml', 'deliverables/xena/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-plugin-vanilla.yaml', 'deliverables/xena/python-saharaclient.yaml', 'deliverables/xena/sahara-plugin-ambari.yaml', 'deliverables/wallaby/sahara-extra.yaml', 'deliverables/wallaby/sahara-plugin-storm.yaml', 'deliverables/victoria/sahara-plugin-storm.yaml', 'deliverables/victoria/sahara-plugin-ambari.yaml', 'deliverables/victoria/sahara-plugin-cdh.yaml', 'deliverables/victoria/sahara-image-elements.yaml', 'deliverables/xena/sahara-plugin-mapr.yaml', 'deliverables/wallaby/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-extra.yaml', 'deliverables/victoria/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-image-elements.yaml', 'deliverables/xena/sahara-dashboard.yaml', 'deliverables/wallaby/sahara-tests.yaml', 'deliverables/xena/sahara.yaml', 'deliverables/wallaby/sahara.yaml', 'deliverables/victoria/sahara-plugin-mapr.yaml', 'deliverables/wallaby/sahara-dashboard.yaml', 'deliverables/victoria/sahara.yaml', 'deliverables/wallaby/sahara-plugin-vanilla.yaml', 'deliverables/xena/sahara-tests.yaml', 'deliverables/xena/sahara-plugin-spark.yaml', 'deliverables/xena/sahara-plugin-storm.yaml', 'deliverables/wallaby/sahara-image-elements.yaml']",36,bc6a49a9d84b1a1c9fda612c6e8ac2df3e2f16d6,vwx-unmaintained, - version: wallaby-eom projects: - repo: openstack/sahara-image-elements hash: ded80db2667438313bab6d448d19ef2305f2e527 - name: unmaintained/wallaby location: wallaby-eom,,265,23
openstack%2Freleases~915428,openstack/releases,master,I480a60f7d8aac077095eb107e25a5c1583e0e06e,Add Manila specific deadlines to the schedule,MERGED,2024-04-10 13:54:41.000000000,2024-04-11 12:53:33.000000000,2024-04-11 12:53:33.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-10 13:54:41.000000000', 'files': ['doc/source/dalmatian/schedule.rst', 'doc/source/dalmatian/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4005c0224ab718aa99669ebc18f266eed679904c', 'message': 'Add Manila specific deadlines to the schedule\n\nChange-Id: I480a60f7d8aac077095eb107e25a5c1583e0e06e\n'}]",2,915428,4005c0224ab718aa99669ebc18f266eed679904c,9,3,1,29632,,,0,"Add Manila specific deadlines to the schedule

Change-Id: I480a60f7d8aac077095eb107e25a5c1583e0e06e
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/915428/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/dalmatian/schedule.rst', 'doc/source/dalmatian/schedule.yaml']",2,4005c0224ab718aa99669ebc18f266eed679904c,, project-specific: - d-manila-spec-freeze project-specific: - d-manila-bugsquash project-specific: - d-manila-fpfreeze - d-manila-new-driver-deadline,,43,0
openstack%2Freleases~915261,openstack/releases,master,Ie0e08cf521a8b56fcf2563e8ea9d44abbd6a4c71,Release OpenStack-Ansible Zed,MERGED,2024-04-08 10:19:01.000000000,2024-04-11 12:53:31.000000000,2024-04-11 12:53:31.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 10:19:01.000000000', 'files': ['deliverables/zed/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dfe28249c09f764022c335efd1eec91f175b513d', 'message': 'Release OpenStack-Ansible Zed\n\nChange-Id: Ie0e08cf521a8b56fcf2563e8ea9d44abbd6a4c71\n'}]",1,915261,dfe28249c09f764022c335efd1eec91f175b513d,8,3,1,28619,,,0,"Release OpenStack-Ansible Zed

Change-Id: Ie0e08cf521a8b56fcf2563e8ea9d44abbd6a4c71
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/915261/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/openstack-ansible.yaml'],1,dfe28249c09f764022c335efd1eec91f175b513d,release_osa, - projects: - hash: dfc5a989b79f91b5503746a922857a462811e192 repo: openstack/openstack-ansible version: 26.5.2,,4,0
openstack%2Freleases~915260,openstack/releases,master,I2e1dac32203c5c8e9d592cf3fd838a14e08038a6,Release OpenStack-Ansible 2023.1,MERGED,2024-04-08 10:15:20.000000000,2024-04-11 12:53:29.000000000,2024-04-11 12:53:29.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 10:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2d279372cc8e71bf4b1d09340d26b5e4bf7eee13', 'message': 'Bump SHA for OpenStack-Ansible 2023.1\n\nChange-Id: I2e1dac32203c5c8e9d592cf3fd838a14e08038a6\n'}, {'number': 2, 'created': '2024-04-08 10:19:44.000000000', 'files': ['deliverables/antelope/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fbf894c4aac5a8dd51e909671a89d84ea979c5ae', 'message': 'Release OpenStack-Ansible 2023.1\n\nChange-Id: I2e1dac32203c5c8e9d592cf3fd838a14e08038a6\n'}]",1,915260,fbf894c4aac5a8dd51e909671a89d84ea979c5ae,10,3,2,28619,,,0,"Release OpenStack-Ansible 2023.1

Change-Id: I2e1dac32203c5c8e9d592cf3fd838a14e08038a6
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/915260/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstack-ansible.yaml'],1,2d279372cc8e71bf4b1d09340d26b5e4bf7eee13,release_osa, - projects: - hash: bedb000344318ebffb1b450386eb8eecd8483c8c repo: openstack/openstack-ansible version: 27.4.2,,4,0
openstack%2Foctavia-lib~915282,openstack/octavia-lib,master,I7cb902ee892573ffa622f27a36bb341d3dee6a40,"Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.",NEW,2024-04-08 15:12:46.000000000,2024-04-11 12:49:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-08 15:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/0291b7e67246562713cfaa895c15349e87de5f17', 'message': ""Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.\n\nThis patch introduces three new HTTP headers to facilitate the transfer of IP addresses in legacy infrastructure.\n\nImplements: extend-x-headers-capability\nChange-Id: I7cb902ee892573ffa622f27a36bb341d3dee6a40\n""}, {'number': 2, 'created': '2024-04-08 15:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/99b8f2bdc310a35eb65e33ecb78df4485a74dc2a', 'message': ""Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.\n\nThis patch introduces three new HTTP headers to facilitate the transfer of IP addresses in legacy infrastructure.\n\nImplements: blueprint extend-x-headers-capability\nChange-Id: I7cb902ee892573ffa622f27a36bb341d3dee6a40\n""}, {'number': 3, 'created': '2024-04-11 12:33:10.000000000', 'files': ['octavia_lib/common/constants.py', 'releasenotes/notes/add-support-for-xip-headers-33efe64184c1f435.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/d583f8b1e6caed5cda75a676af279ed74aa8091e', 'message': ""Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.\n\nThis patch introduces three new HTTP headers to facilitate the transfer of IP addresses in legacy infrastructure.\n\nImplements: extend-x-headers-capability\nChange-Id: I7cb902ee892573ffa622f27a36bb341d3dee6a40\n""}]",2,915282,d583f8b1e6caed5cda75a676af279ed74aa8091e,7,1,3,36083,,,0,"Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.

This patch introduces three new HTTP headers to facilitate the transfer of IP addresses in legacy infrastructure.

Implements: extend-x-headers-capability
Change-Id: I7cb902ee892573ffa622f27a36bb341d3dee6a40
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/82/915282/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/common/constants.py'],1,0291b7e67246562713cfaa895c15349e87de5f17,bp/extend-x-headers-capability," 'X-Forwarded-Proto', 'X-Forwarded-IP', 'X-Client-IP', 'X-Real-IP']", 'X-Forwarded-Proto'],4,1
openstack%2Fironic~915415,openstack/ironic,master,I82aefc03a5c062b67e0f457612fe568399226dc8,Stop assuming service steps have priorities,MERGED,2024-04-10 11:59:28.000000000,2024-04-11 12:39:17.000000000,2024-04-11 12:37:42.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-04-10 11:59:28.000000000', 'files': ['ironic/tests/unit/conductor/test_steps.py', 'ironic/conductor/steps.py', 'releasenotes/notes/service-priority-7482622471102c6b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/22aa29b864eecd00bfb7c67cc2075030da1eb1d0', 'message': ""Stop assuming service steps have priorities\n\nUnlike clean, deploy and verify steps, service steps cannot run\nautomatically and thus do not have a usable notion of priority. It's not\npossible to provide a priority through the API but our validation code\nstill requires it. This change gets rid of most priority handling for\nservice steps, leaving only some foundation for future enhancements.\n\nChange-Id: I82aefc03a5c062b67e0f457612fe568399226dc8\n""}]",0,915415,22aa29b864eecd00bfb7c67cc2075030da1eb1d0,10,3,1,10239,,,0,"Stop assuming service steps have priorities

Unlike clean, deploy and verify steps, service steps cannot run
automatically and thus do not have a usable notion of priority. It's not
possible to provide a priority through the API but our validation code
still requires it. This change gets rid of most priority handling for
service steps, leaving only some foundation for future enhancements.

Change-Id: I82aefc03a5c062b67e0f457612fe568399226dc8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/915415/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_steps.py', 'ironic/conductor/steps.py', 'releasenotes/notes/service-priority-7482622471102c6b.yaml']",3,22aa29b864eecd00bfb7c67cc2075030da1eb1d0,service-priority,"--- fixes: - | Service step validation no longer requires a priority field, which is not supported for servicing. ",,19,23
openstack%2Freleases~915259,openstack/releases,master,I16f59c38f71f3ffb186c27063cb09ac60328b442,Release OpenStack-Ansible 2023.2,MERGED,2024-04-08 10:13:40.000000000,2024-04-11 12:32:16.000000000,2024-04-11 12:32:16.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 10:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9e4974a3490cd164f2a76a00a7c1cd223ac8ca5c', 'message': 'Release OpenStack-Ansible 2023.2\n\nChange-Id: I16f59c38f71f3ffb186c27063cb09ac60328b442\n'}, {'number': 2, 'created': '2024-04-10 12:23:52.000000000', 'files': ['deliverables/bobcat/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/60f94fc7cc6c32a86c586efcb2e353f023c607cf', 'message': 'Release OpenStack-Ansible 2023.2\n\nChange-Id: I16f59c38f71f3ffb186c27063cb09ac60328b442\n'}]",1,915259,60f94fc7cc6c32a86c586efcb2e353f023c607cf,13,3,2,28619,,,0,"Release OpenStack-Ansible 2023.2

Change-Id: I16f59c38f71f3ffb186c27063cb09ac60328b442
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/915259/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/openstack-ansible.yaml'],1,9e4974a3490cd164f2a76a00a7c1cd223ac8ca5c,release_osa, - version: 28.1.1 projects: - repo: openstack/openstack-ansible hash: 087d3f8141b540bbcef8705841bbeb7918d7bb67,,4,0
openstack%2Freleases~913305,openstack/releases,master,I7a3ab5ca4494f7a6f4cdc67b2815560601dabf87,Retire puppet-murano: Mark the deliverables as retired,MERGED,2024-03-15 09:50:58.000000000,2024-04-11 12:23:48.000000000,2024-04-11 12:23:48.000000000,"[{'_account_id': 308}, {'_account_id': 6476}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-15 09:50:58.000000000', 'files': ['deliverables/antelope/puppet-murano.yaml', 'deliverables/yoga/puppet-murano.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/zed/puppet-murano.yaml', 'deliverables/bobcat/puppet-murano.yaml', 'deliverables/caracal/puppet-murano.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5cccb2bf0bada8915ab0ca6a0b7bdd0a8346ead8', 'message': ""Retire puppet-murano: Mark the deliverables as retired\n\nMurano was marked inactive during this cycle and has been excluded from\n2024.1 release. Because Puppet OpenStack modules are tightly coupled\nwith OpenStack's release cycle, we retire this module now and won't\ncreate a 2024.1 release[1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/VHE6WWZKOTTKBLUVMABAAQKBN2QSEED4/\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/913294\nChange-Id: I7a3ab5ca4494f7a6f4cdc67b2815560601dabf87\n""}]",4,913305,5cccb2bf0bada8915ab0ca6a0b7bdd0a8346ead8,10,5,1,9816,,,0,"Retire puppet-murano: Mark the deliverables as retired

Murano was marked inactive during this cycle and has been excluded from
2024.1 release. Because Puppet OpenStack modules are tightly coupled
with OpenStack's release cycle, we retire this module now and won't
create a 2024.1 release[1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/VHE6WWZKOTTKBLUVMABAAQKBN2QSEED4/

Depends-on: https://review.opendev.org/c/openstack/governance/+/913294
Change-Id: I7a3ab5ca4494f7a6f4cdc67b2815560601dabf87
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/913305/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/puppet-murano.yaml', 'deliverables/yoga/puppet-murano.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/zed/puppet-murano.yaml', 'deliverables/bobcat/puppet-murano.yaml', 'deliverables/caracal/puppet-murano.yaml']",7,5cccb2bf0bada8915ab0ca6a0b7bdd0a8346ead8,retire-puppet-murano,,--- launchpad: puppet-murano release-model: cycle-with-intermediary team: Puppet OpenStack type: trailing repository-settings: openstack/puppet-murano: {} ,18,13
openstack%2Foctavia~909824,openstack/octavia,stable/2023.1,Ie4763e97b1414e9871f222c20efd0f532b3dfc9f,Fix the issue of losing nf_conntrace* values after a reboot.,MERGED,2024-02-22 10:03:43.000000000,2024-04-11 12:14:35.000000000,2024-04-11 12:13:20.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-02-22 10:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/583c966b6005ca5a9c58f4adb2014e82f6a41a2f', 'message': 'Fix the issue of losing nf_conntrace* values after a reboot.\n\nLoading ip_vs module before setting nf_conntrace_* opts.\n\nStory: 2010795\nTask: 48247\nChange-Id: Ie4763e97b1414e9871f222c20efd0f532b3dfc9f\n(cherry picked from commit 2643a76602581d7d8a701ea8d51873e6bc73e4be)\n'}, {'number': 2, 'created': '2024-04-11 04:10:29.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'releasenotes/notes/load-ipvs-before-setting-opts-c5b2f0871bc38c27.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6246cecdb712d969bbea44af2ca95da7353e8643', 'message': 'Fix the issue of losing nf_conntrace* values after a reboot.\n\nLoading ip_vs module before setting nf_conntrace_* opts.\n\nStory: 2010795\nTask: 48247\nChange-Id: Ie4763e97b1414e9871f222c20efd0f532b3dfc9f\n(cherry picked from commit 2643a76602581d7d8a701ea8d51873e6bc73e4be)\n'}]",0,909824,6246cecdb712d969bbea44af2ca95da7353e8643,13,4,2,6577,,,0,"Fix the issue of losing nf_conntrace* values after a reboot.

Loading ip_vs module before setting nf_conntrace_* opts.

Story: 2010795
Task: 48247
Change-Id: Ie4763e97b1414e9871f222c20efd0f532b3dfc9f
(cherry picked from commit 2643a76602581d7d8a701ea8d51873e6bc73e4be)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/909824/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'releasenotes/notes/load-ipvs-before-setting-opts-c5b2f0871bc38c27.yaml']",2,583c966b6005ca5a9c58f4adb2014e82f6a41a2f,,--- fixes: - | Fix the issue where nf_conntrack* opts values are lost after rebooting the Amphora VM. more details `Story 2010795 <https://storyboard.openstack.org/#!/story/2010795>`__ ,,7,2
openstack%2Frelease-test~915285,openstack/release-test,master,Ia946cc12da0ca52af9c56b83685922f67a345e64,Update bindep for python3,MERGED,2024-04-08 15:49:39.000000000,2024-04-11 12:14:16.000000000,2024-04-11 12:14:16.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 15:49:39.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/release-test/commit/2871df0a8ae716f2db0230f0d7d2fc77af188bd7', 'message': ""Update bindep for python3\n\npython-launchpadlib and python-libvirt are renamed to\npython3-launchpadlib and python3-libvirt, respectively, in recent\ndistros. Let's use them otherwise zuul jobs can break when installing\nbindeps.\n\nChange-Id: Ia946cc12da0ca52af9c56b83685922f67a345e64\n""}]",0,915285,2871df0a8ae716f2db0230f0d7d2fc77af188bd7,7,3,1,17685,,,0,"Update bindep for python3

python-launchpadlib and python-libvirt are renamed to
python3-launchpadlib and python3-libvirt, respectively, in recent
distros. Let's use them otherwise zuul jobs can break when installing
bindeps.

Change-Id: Ia946cc12da0ca52af9c56b83685922f67a345e64
",git fetch https://review.opendev.org/openstack/release-test refs/changes/85/915285/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,2871df0a8ae716f2db0230f0d7d2fc77af188bd7,,python3-libvirt [platform:dpkg]python3-launchpadlib [platform:ubuntu],python-libvirt [platform:dpkg]python-launchpadlib [platform:ubuntu],2,2
openstack%2Freleases~915417,openstack/releases,master,I5715a8bd67a048b8621901912cd6b451bfe13697,New feature release of mistral-lib in dalmatian,NEW,2024-04-10 12:38:29.000000000,2024-04-11 12:11:44.000000000,,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 35600}]","[{'number': 1, 'created': '2024-04-10 12:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8d13ffc65f1bea0bb6cc195a0c67d318f091fcdf', 'message': 'New feature release of mistral-lib in dalmatian\n\nChange-Id: I5715a8bd67a048b8621901912cd6b451bfe13697\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 2, 'created': '2024-04-10 13:04:03.000000000', 'files': ['deliverables/dalmatian/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4f9739ed5df45f7b4a149c0879562b48880269ca', 'message': 'New feature release of mistral-lib in dalmatian\n\nChange-Id: I5715a8bd67a048b8621901912cd6b451bfe13697\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",5,915417,4f9739ed5df45f7b4a149c0879562b48880269ca,10,5,2,29124,,,0,"New feature release of mistral-lib in dalmatian

Change-Id: I5715a8bd67a048b8621901912cd6b451bfe13697
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/915417/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/dalmatian/mistral-lib.yaml'],1,8d13ffc65f1bea0bb6cc195a0c67d318f091fcdf,,releases: - version: 2.11.0 projects: - repo: openstack/mistral-lib hash: 1a002b875f9bfb608d8b3df3df05039b44871fde,,5,0
openstack%2Fnova~913227,openstack/nova,stable/2023.1,I787bd7807950370cd865f29b95989d489d4826d0,pwr mgmt: handle live migrations correctly,MERGED,2024-03-14 15:08:10.000000000,2024-04-11 11:47:16.000000000,2024-04-11 11:46:13.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 15:08:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/cpu/test_api.py', 'nova/tests/functional/libvirt/test_power_manage.py', 'nova/compute/manager.py', 'nova/virt/libvirt/cpu/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c6e1b44134d4c82c81b34e90cdb68644c7485f08', 'message': 'pwr mgmt: handle live migrations correctly\n\nPreviously, live migrations completely ignored CPU power management.\nThis patch makes sure that we correctly:\n\n* Power up the cores on the destination during pre_live_migration, as\n  we need them powered up before the instance starts on the\n  destination.\n* If the live migration is successful, power down the vacated cores on\n  the source.\n* In case of a rollback, power down the cores previously powered up on\n  pre_live_migration.\n\nCloses-bug: 2056613\nChange-Id: I787bd7807950370cd865f29b95989d489d4826d0\n(cherry picked from commit c1ccc1a3165ec1556c605b3b036274e992b0a09d)\n(cherry picked from commit c5a73e6c7227f199bfa0b66c6ef0c2730d70c3b2)\n'}]",4,913227,c6e1b44134d4c82c81b34e90cdb68644c7485f08,21,3,1,8864,,,0,"pwr mgmt: handle live migrations correctly

Previously, live migrations completely ignored CPU power management.
This patch makes sure that we correctly:

* Power up the cores on the destination during pre_live_migration, as
  we need them powered up before the instance starts on the
  destination.
* If the live migration is successful, power down the vacated cores on
  the source.
* In case of a rollback, power down the cores previously powered up on
  pre_live_migration.

Closes-bug: 2056613
Change-Id: I787bd7807950370cd865f29b95989d489d4826d0
(cherry picked from commit c1ccc1a3165ec1556c605b3b036274e992b0a09d)
(cherry picked from commit c5a73e6c7227f199bfa0b66c6ef0c2730d70c3b2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/913227/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/cpu/test_api.py', 'nova/tests/functional/libvirt/test_power_manage.py', 'nova/compute/manager.py', 'nova/virt/libvirt/cpu/api.py']",5,c6e1b44134d4c82c81b34e90cdb68644c7485f08,bug/2056613," def _power_up(self, cpus: ty.Set[int]) -> None: for cpu in cpus: if cpu in cpu_dedicated_set: pcpu = self.core(cpu) def power_up_for_instance(self, instance: objects.Instance) -> None: self._power_up(pcpus) def power_up_for_migration( self, dst_numa_info: objects.LibvirtLiveMigrateNUMAInfo ) -> None: pcpus = set() if 'emulator_pins' in dst_numa_info and dst_numa_info.emulator_pins: pcpus = dst_numa_info.emulator_pins for pins in dst_numa_info.cpu_pins.values(): pcpus = pcpus.union(pins) self._power_up(pcpus) def _power_down(self, cpus: ty.Set[int]) -> None: if not CONF.libvirt.cpu_power_management: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() for cpu in cpus: if cpu in cpu_dedicated_set: pcpu = self.core(cpu) def power_down_for_migration( self, dst_numa_info: objects.LibvirtLiveMigrateNUMAInfo ) -> None: pcpus = set() if 'emulator_pins' in dst_numa_info and dst_numa_info.emulator_pins: pcpus = dst_numa_info.emulator_pins for pins in dst_numa_info.cpu_pins.values(): pcpus = pcpus.union(pins) self._power_down(pcpus) def power_down_for_instance(self, instance: objects.Instance) -> None: if instance.numa_topology is None: return pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved) self._power_down(pcpus) "," def power_up(self, instance: objects.Instance) -> None: if instance.numa_topology is None: return pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved) for pcpu in pcpus: if pcpu in cpu_dedicated_set: pcpu = self.core(pcpu) def power_down(self, instance: objects.Instance) -> None: if not CONF.libvirt.cpu_power_management: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() for pcpu in pcpus: if pcpu in cpu_dedicated_set: pcpu = self.core(pcpu)",137,39
openstack%2Fglance-specs~915475,openstack/glance-specs,master,I0c018a3bc3862a8f733df187a325eb4db900670d,WIP: shelved instance image protection,NEW,2024-04-11 11:24:24.000000000,2024-04-11 11:27:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-11 11:24:24.000000000', 'files': ['specs/2024.2/approved/glance/shelved-instance-image-protection.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/83b4727a011836fb85291fa0464e3b1d3f1ea15b', 'message': 'WIP: shelved instance image protection\n\nDraft spec for\nhttps://blueprints.launchpad.net/glance/+spec/shelved-instance-image-protection\n\nChange-Id: I0c018a3bc3862a8f733df187a325eb4db900670d\n'}]",0,915475,83b4727a011836fb85291fa0464e3b1d3f1ea15b,2,1,1,36805,,,0,"WIP: shelved instance image protection

Draft spec for
https://blueprints.launchpad.net/glance/+spec/shelved-instance-image-protection

Change-Id: I0c018a3bc3862a8f733df187a325eb4db900670d
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/75/915475/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2024.2/approved/glance/shelved-instance-image-protection.rst'],1,83b4727a011836fb85291fa0464e3b1d3f1ea15b,bp/s,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Shelved Instance Image Protection ========================================== https://blueprints.launchpad.net/glance/+spec/shelved-instance-image-protection Problem description =================== Optional feature to prevent deletion of shelved instance image. Currently when instance is shelved its image can be removed and afterwards an instance cannot be booted again. This may lead to potential User data loss. Proposed change =============== Proposition is to provide Deployers with optional feature to prevent deletion of shelved instance image. On image delete attempt, glance will check if the feature is enabled. If so, it will validate if calling user is an admin. As admin should be able to perform any necessary operations - it will allow deletion. If the user is not admin, instance status will be validated via call to nova using novaclient, with user token and permissions. As Openstack may have many regions, this information is accessible in glance api configuration, under keystone_authtoken section. Novaclient will be spawned accordingly - with region name provided or not. In case instance is not found image deletion will proceed, as Users cannot see DELETED instances. In case nova api is down, glance should return 424 Failed Dependency, stating that nova api is not available. SHELVED and SHELVED_OFFLOADED statuses should result in explicit error for the User, stating that image cannot be deleted as shelved instance exists. While shelving the image, nova will need to provide explicit information that the image created is an image of shelved instance. Following convention already present in nova: ""'is_shelved':True"" is a good choice. This will be done as a meta property to avoid data model and image create method impact. User in this scenario is able to change the property, they are warned about the context on deletion attempt. Changes to operation order in nova will also be required, as with its current implementation instance is still in SHELVED or SHELVED_OFFLOADED state when removing the image while deleting or unshelving the instance. Image removal should be done as last operation, as at that point instance will already be ACTIVE or DELETED. Alternatives ------------ We could mark image as shelved via meta property and also as protected, and mark unprotected only nova-side, when instance is put back to ACTIVE or to DELETED state. This decision affects implementaion in nova harder than operation order change, and configuration option would need to be added in both nova and glance to keep current behaviour. Changing configuration in two projects for single, small, feature to work properly is not desirable. Data model impact ----------------- No impact, we are using meta properties to store information that image was created as a part of shelving process. REST API impact --------------- * Delete image DELETE /v2/images/{image_id} - Error 424 (Failed Dependency, in case nova is not available and image was created in process of instance shelving) Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Delete will be slightly slower on images that were created during shelving, as a call to nova is required. Other deployer impact --------------------- None Developer impact ---------------- New possible error code on DELETE, needs to be documented and possibly handled in glanceclient. Implementation ============== Assignee(s) ----------- Primary assignee: mklejn Work Items ---------- * Modify operation order when unshelving/deleting instance in nova, such that image deletion is done when instance is in state deleted/active [1] * Add code handling shelved instance image protection in glance [2] * Add documentation about the feature * Modify API reference to reflect new possible http error * Tempest tests Dependencies ============ * Patch to nova is required for operation order change [1] Testing ======= * UT * Tempest tests Documentation Impact ==================== It should be documented for deployers how to enable this feature, as well as what it does exactly and what is reasoning behind it. Developers should be aware that with this feature turned on API can return Failed Dependency error code. References ========== [1] https://review.opendev.org/c/openstack/nova/+/909465 [2] https://review.opendev.org/c/openstack/glance/+/909463 ",,173,0
openstack%2Fnova~915474,openstack/nova,master,I5d30bfc8d9f9a6be5b18b054b0d723985f010502,Followup to I2ed738f87fed952f60849cc22bde7291ec52d286,ABANDONED,2024-04-11 11:18:22.000000000,2024-04-11 11:22:15.000000000,,[],"[{'number': 1, 'created': '2024-04-11 11:18:22.000000000', 'files': ['nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d63b4c784c2cc62a1fb4e45a26ca3ee22ac18270', 'message': 'Followup to I2ed738f87fed952f60849cc22bde7291ec52d286\n\nthat patch has effectively tied up presence of pf_mac and vf_num\nin the vf_profile to the presense of card_serial_number in the\nVPD capability.\nAs a result, cards that do not have VPD capability\n(e.g. Intel 82599ES) became unusable for SR-IOV with Nova\nsince Zed release (though were working fine in Yoga and before).\n\nTreat each of pf_mac, vf_num and card_serial_number separately,\nadding them to the vf_profile only if they are set.\n\nChange-Id: I5d30bfc8d9f9a6be5b18b054b0d723985f010502\n'}]",0,915474,d63b4c784c2cc62a1fb4e45a26ca3ee22ac18270,2,0,1,9542,,,0,"Followup to I2ed738f87fed952f60849cc22bde7291ec52d286

that patch has effectively tied up presence of pf_mac and vf_num
in the vf_profile to the presense of card_serial_number in the
VPD capability.
As a result, cards that do not have VPD capability
(e.g. Intel 82599ES) became unusable for SR-IOV with Nova
since Zed release (though were working fine in Yoga and before).

Treat each of pf_mac, vf_num and card_serial_number separately,
adding them to the vf_profile only if they are set.

Change-Id: I5d30bfc8d9f9a6be5b18b054b0d723985f010502
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/915474/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,d63b4c784c2cc62a1fb4e45a26ca3ee22ac18270,sr-iov-serial," if pf_mac := pci_dev.sriov_cap.get('pf_mac_address'): vf_profile[""pf_mac_address""] = pf_mac if vf_num := pci_dev.sriov_cap.get('vf_num'): vf_profile[""vf_num""] = vf_num if card_serial_number := pci_dev.card_serial_number: vf_profile[""card_serial_number""] = card_serial_number"," pf_mac = pci_dev.sriov_cap.get('pf_mac_address') vf_num = pci_dev.sriov_cap.get('vf_num') card_serial_number = pci_dev.card_serial_number if all((pf_mac, vf_num, card_serial_number)): vf_profile.update({ 'card_serial_number': card_serial_number, 'pf_mac_address': pf_mac, 'vf_num': vf_num, })",6,9
openstack%2Fkayobe~915465,openstack/kayobe,master,I75fae789aee0824d3d6e0157999301a38ff76c53,"Revert ""Mark kayobe-tox-ansible job as non-voting""",MERGED,2024-04-11 08:21:20.000000000,2024-04-11 11:14:47.000000000,2024-04-11 11:12:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-11 08:21:20.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ede6bf46240ed2e8a05cf8e5d55f6f4a09d9d334', 'message': 'Revert ""Mark kayobe-tox-ansible job as non-voting""\n\nThe kernel bug causing kayobe-tox-ansible to fail was fixed in\n5.15.0-102.112 [1]. This job can be made voting again.\n\n[1] https://bugs.launchpad.net/ubuntu/+source/linux/+bug/2056143\n\nChange-Id: I75fae789aee0824d3d6e0157999301a38ff76c53\n'}]",0,915465,ede6bf46240ed2e8a05cf8e5d55f6f4a09d9d334,7,2,1,15197,,,0,"Revert ""Mark kayobe-tox-ansible job as non-voting""

The kernel bug causing kayobe-tox-ansible to fail was fixed in
5.15.0-102.112 [1]. This job can be made voting again.

[1] https://bugs.launchpad.net/ubuntu/+source/linux/+bug/2056143

Change-Id: I75fae789aee0824d3d6e0157999301a38ff76c53
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/915465/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ede6bf46240ed2e8a05cf8e5d55f6f4a09d9d334,kayobe-tox-ansible, - kayobe-tox-ansible - kayobe-tox-ansible, - kayobe-tox-ansible: voting: false,2,2
openstack%2Fneutron~909194,openstack/neutron,master,I33555fc8a8441149b683ae68f1f10548ffb662a6,"[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler",MERGED,2024-02-16 10:02:07.000000000,2024-04-11 11:02:54.000000000,2024-04-11 11:01:38.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-16 10:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/387663a20c5cb8b873138f4d73d9c1840837bc40', 'message': 'WIP === [OVN] Logical Router pinned chassis scheduler\n\nTODO: testing\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 2, 'created': '2024-02-16 15:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5f4e8381a0072d970fd2f92bf6ea112214e2c02', 'message': 'WIP === [OVN] Logical Router pinned chassis scheduler\n\nTODO: testing\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 3, 'created': '2024-02-18 16:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b381249bb76ee16b712ddd4eb1405d66a9697729', 'message': 'WIP === [OVN] Logical Router pinned chassis scheduler\n\nTODO: testing\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 4, 'created': '2024-02-18 20:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d4e1d491985ec27ec428efd1f492f971259f7ae', 'message': 'WIP === [OVN] Logical Router pinned chassis scheduler\n\nTODO: testing\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 5, 'created': '2024-02-19 11:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5357365ca38e2e510b3fa7e51d8601d6853ab13e', 'message': 'WIP === [OVN] Logical Router pinned chassis scheduler\n\nTODO: testing\n      comment the use of ""HA_Chassis_Group"" artifact\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 6, 'created': '2024-02-19 11:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7309bb8c140d62e1ed4c11bad4cdf003531de20', 'message': 'WIP === [OVN] Logical Router pinned chassis scheduler\n\nTODO: testing\n      comment the use of ""HA_Chassis_Group"" artifact\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 7, 'created': '2024-02-19 15:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07c85c9595a210bfa3eb1ab6c8af159d1a5666cf', 'message': 'WIP === [OVN] Logical Router pinned chassis scheduler\n\nTODO: testing\n      comment the use of ""HA_Chassis_Group"" artifact\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 8, 'created': '2024-02-20 07:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34258642c2a9525b0d0eaf046efc56df0156c933', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 9, 'created': '2024-02-20 07:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89748c2288ee892dea8b2dba0f78a2b512eaf334', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 10, 'created': '2024-02-20 12:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a18bac520affbdae84dfb80c73a5050ccbd447d4', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nCloses-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 11, 'created': '2024-02-21 11:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2919746b12d1e23c74d9655cb3579327d96fc4ad', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 12, 'created': '2024-02-22 07:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52bddf79ad21e9462a188f2e11a65d5f4a4c6869', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 13, 'created': '2024-02-22 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13ce54a06f77b0bb816a3942611d5587c55a761e', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 14, 'created': '2024-02-26 16:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72f2c1516a25bfff0d39e26a6a40a4dcf982606f', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 15, 'created': '2024-02-27 11:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb8a38bbd98f9398ca1b246aeea138f2044a7fd4', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 16, 'created': '2024-02-27 12:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e5f81c2762b21b2f98147f01f058ce0a947b33e', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 17, 'created': '2024-02-27 14:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e16e17a11cc67769dc5dbe5b05c03556757f1b6', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 18, 'created': '2024-02-29 09:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01367a1f3de83213f412913733240c47e1799413', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 19, 'created': '2024-03-01 08:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51e52154e4b52cfde1473b651db5b9c6bc787f82', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 20, 'created': '2024-03-04 08:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c38828c4f5e921e5700a8e0577416aa120e25828', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 21, 'created': '2024-03-04 08:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/025febe1f1d0bb4bdd9fa0a8fa434c38e4f6cab0', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 22, 'created': '2024-03-04 16:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/244c8c3708e58f301acc388380a87d4c01c2f6f9', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 23, 'created': '2024-03-05 08:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20f1d427c10f382c726c42b87f8300c0f74e4151', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 24, 'created': '2024-03-08 16:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b40897e1ff5d65bf665dbceb2aa55380e216b130', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 25, 'created': '2024-03-18 08:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39ac03f13c8c3c5a511a368b4a26bbea99e6d871', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 26, 'created': '2024-03-19 10:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33cf52b475d333c5e3e369b60e0d4c300b028d7b', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 27, 'created': '2024-03-26 14:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ae3579c7f91344abc9339c3c7724a9fbc8f3b8d', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 28, 'created': '2024-03-27 07:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/984dbfb44e609810d1a6bae0bddce4b4f28241e2', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 29, 'created': '2024-03-28 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d99104d6b31f4c87cdb0642b780fda97bc5dff4b', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 30, 'created': '2024-03-28 11:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f975f527a1cde02e13f68c32d3d4a0805478bad0', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 31, 'created': '2024-03-29 09:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/409ae902c62460af36b8d18b98662e09dbf5c4fb', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 32, 'created': '2024-04-01 22:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/012e70e5b1aecbc530e009a0c5ca7cde17d0a141', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 33, 'created': '2024-04-02 08:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b9c9cd9441564a725bb2268692bc9f57884b8be', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 34, 'created': '2024-04-04 18:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9480f4638f8e0c6219900c2ba914051b86e4f004', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 35, 'created': '2024-04-08 16:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e18ee45f9da30e0639a3af12bc6542b7215b6d2a', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}, {'number': 36, 'created': '2024-04-08 16:39:10.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25a1809964f4845d98d9b3d05148b764a65c9458', 'message': '[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler\n\nPin a ""Logical_Router"" to a chassis when the gateway network (external\nnetwork) is tunnelled. When the external network is tunnelled, the\n""Logical_Router_Port"" acting as gateway port is not bound to any\nchassis (the network has no physical provider network defined).\n\nIn that case, the router is pinned to a chassis instead. A\n""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of\nthis group is assigned to the router. If the gateway port is deleted,\nthe pinned chassis is removed from the ""options"" field. If the\nrouter is deleted, the ""HA_Chassis_Group"" is deleted too.\n\nNOTE: in the a chassis belonging to the router ""HA_Chassis_Group""\nchanges, the list of ""HA_Chassis"" will be updated in\n``ChassisEvent.handle_ha_chassis_group_changes``. However, a\n""HA_Chassis_Group"" change is handled by OVN, when assiged.\n\nBut in this case we are using this artifact, as commented before,\nto ""manually assign"" (from core OVN point of view) the highest\npriority ""HA_Chassis"" to the router (this upcoming funcionality\nwill be implemented in core OVN). A new follow-up patch will be\npushed to provide HA functionality and update the ""HA_Chassis""\nassigned to the ""Logical_Router"" when the chassis list changes.\n\nPartial-Bug: #2052821\nChange-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6\n'}]",48,909194,25a1809964f4845d98d9b3d05148b764a65c9458,156,9,36,16688,,,0,"[OVN] ""Logical_Router"" pinned to chassis, OVN L3 scheduler

Pin a ""Logical_Router"" to a chassis when the gateway network (external
network) is tunnelled. When the external network is tunnelled, the
""Logical_Router_Port"" acting as gateway port is not bound to any
chassis (the network has no physical provider network defined).

In that case, the router is pinned to a chassis instead. A
""HA_Chassis_Group"" is created per router. The highest ""HA_Chassis"" of
this group is assigned to the router. If the gateway port is deleted,
the pinned chassis is removed from the ""options"" field. If the
router is deleted, the ""HA_Chassis_Group"" is deleted too.

NOTE: in the a chassis belonging to the router ""HA_Chassis_Group""
changes, the list of ""HA_Chassis"" will be updated in
``ChassisEvent.handle_ha_chassis_group_changes``. However, a
""HA_Chassis_Group"" change is handled by OVN, when assiged.

But in this case we are using this artifact, as commented before,
to ""manually assign"" (from core OVN point of view) the highest
priority ""HA_Chassis"" to the router (this upcoming funcionality
will be implemented in core OVN). A new follow-up patch will be
pushed to provide HA functionality and update the ""HA_Chassis""
assigned to the ""Logical_Router"" when the chassis list changes.

Partial-Bug: #2052821
Change-Id: I33555fc8a8441149b683ae68f1f10548ffb662a6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/909194/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",10,387663a20c5cb8b873138f4d73d9c1840837bc40,bug/2052821," ha_ch_grp, _ = utils.sync_ha_chassis_group( context, self._nb_idl, self._sb_idl, txn, port_id=port.name, network_id=network_id)"," ha_ch_grp = utils.sync_ha_chassis_group( context, port.name, network_id, self._nb_idl, self._sb_idl, txn)",216,109
openstack%2Fcodegenerator~915138,openstack/codegenerator,master,I4ecbecb17ce5bfdd0c655644a8b8349060f7c79d,Integrate octavia,MERGED,2024-04-05 14:48:56.000000000,2024-04-11 09:55:37.000000000,2024-04-11 09:53:46.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-04-05 14:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/09ba2d4fc831a393d293ef69a39669f4a61fe6d1', 'message': 'Integrate octavia\n\nWe had octavia spec already, but once code generation been attempted on\nit series of issues were identified (mostly coming from deeper nesting\nand weird path naming).\n\nChange-Id: I4ecbecb17ce5bfdd0c655644a8b8349060f7c79d\n'}, {'number': 2, 'created': '2024-04-10 18:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/7c6d313a80ea127f5192813b8855c245df17608c', 'message': 'Integrate octavia\n\nWe had octavia spec already, but once code generation been attempted on\nit series of issues were identified (mostly coming from deeper nesting\nand weird path naming).\n\nChange-Id: I4ecbecb17ce5bfdd0c655644a8b8349060f7c79d\n'}, {'number': 3, 'created': '2024-04-11 09:17:21.000000000', 'files': ['codegenerator/openapi_spec.py', 'codegenerator/metadata.py', 'codegenerator/common/__init__.py', 'codegenerator/openapi/octavia.py', 'zuul.d/openapi.yaml', 'tools/generate_rust_load_balancer.sh', 'tools/generate_openapi_specs.sh', 'tools/generate_rust.sh', 'codegenerator/openapi/base.py'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/ae8b5fa50f1f08460dff12f259f766e37b96fe06', 'message': 'Integrate octavia\n\nWe had octavia spec already, but once code generation been attempted on\nit series of issues were identified (mostly coming from deeper nesting\nand weird path naming).\n\nChange-Id: I4ecbecb17ce5bfdd0c655644a8b8349060f7c79d\n'}]",0,915138,ae8b5fa50f1f08460dff12f259f766e37b96fe06,11,2,3,27900,,,0,"Integrate octavia

We had octavia spec already, but once code generation been attempted on
it series of issues were identified (mostly coming from deeper nesting
and weird path naming).

Change-Id: I4ecbecb17ce5bfdd0c655644a8b8349060f7c79d
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/38/915138/1 && git format-patch -1 --stdout FETCH_HEAD,"['codegenerator/metadata.py', 'codegenerator/openapi_spec.py', 'codegenerator/common/__init__.py', 'codegenerator/openapi/octavia.py', 'tools/generate_openapi_specs.sh', 'tools/generate_rust_load_balancer.sh', 'tools/generate_rust.sh', 'codegenerator/openapi/base.py']",8,09ba2d4fc831a393d293ef69a39669f4a61fe6d1,," ""additionalProperties"": _convert_wsme_to_jsonschema( body_spec.value_type ),"," ""additionalProperties"": { ""type"": _convert_wsme_to_jsonschema(body_spec.value_type) },",77,24
openstack%2Fkolla~915466,openstack/kolla,master,Ibf7847e8c3bd532f20cca0aaadb26cc00f813535,[DNM] Add apt-cache policy to identify problems with install package,ABANDONED,2024-04-11 08:38:31.000000000,2024-04-11 09:07:13.000000000,,[],"[{'number': 1, 'created': '2024-04-11 08:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bd7e6d3b02b2835e771b5119e89addcf174cf2cb', 'message': '[DNM] Add apt-cache policy to identify problems with install package\n\nThis is mainly because of weird grafana install error\nas grafana build works locally.\n\nChange-Id: Ibf7847e8c3bd532f20cca0aaadb26cc00f813535\n'}, {'number': 2, 'created': '2024-04-11 09:06:51.000000000', 'files': ['kolla/template/methods.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c06c1177052a57679d7890622135564c8b8b4c78', 'message': '[DNM] Add apt-cache policy to identify problems with install package\n\nThis is mainly because of weird grafana install error\nas grafana build works locally.\n\nChange-Id: Ibf7847e8c3bd532f20cca0aaadb26cc00f813535\n'}]",1,915466,c06c1177052a57679d7890622135564c8b8b4c78,4,0,2,27339,,,0,"[DNM] Add apt-cache policy to identify problems with install package

This is mainly because of weird grafana install error
as grafana build works locally.

Change-Id: Ibf7847e8c3bd532f20cca0aaadb26cc00f813535
",git fetch https://review.opendev.org/openstack/kolla refs/changes/66/915466/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/methods.py'],1,bd7e6d3b02b2835e771b5119e89addcf174cf2cb,fix-config-json-handling, for p in reg_packages: cmds.append('apt-cache policy {}'.format(p)),,2,0
openstack%2Fkayobe~915330,openstack/kayobe,master,I32886c0bbbbb659405fdf35af0a49f0d005ac152,CI: Run kayobe-tox-ansible using Ubuntu Focal,ABANDONED,2024-04-09 13:38:59.000000000,2024-04-11 08:13:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-09 13:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c63253033a87721b0d069225d3cb4839d88b6c07', 'message': 'CI: Run kayobe-tox-ansible using Rocky Linux 9\n\nThis is an attempt to work around the partitioning failure bug in\nUbuntu Jammy.\n\nChange-Id: I32886c0bbbbb659405fdf35af0a49f0d005ac152\n'}, {'number': 2, 'created': '2024-04-11 07:23:34.000000000', 'files': ['zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/875d9f0c7a5d6e8649591adced99313dd1aa63b6', 'message': 'CI: Run kayobe-tox-ansible using Ubuntu Focal\n\nThis is an attempt to work around the partitioning failure bug in\nUbuntu Jammy until it is fixed upstream.\n\nChange-Id: I32886c0bbbbb659405fdf35af0a49f0d005ac152\n'}]",0,915330,875d9f0c7a5d6e8649591adced99313dd1aa63b6,6,1,2,15197,,,0,"CI: Run kayobe-tox-ansible using Ubuntu Focal

This is an attempt to work around the partitioning failure bug in
Ubuntu Jammy until it is fixed upstream.

Change-Id: I32886c0bbbbb659405fdf35af0a49f0d005ac152
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/30/915330/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c63253033a87721b0d069225d3cb4839d88b6c07,, nodeset: kayobe-rocky9,,1,0
openstack%2Fdevstack~910473,openstack/devstack,master,I0045539f1e31a6d26c4f31935c5ddfaaa7607a48,Configure cinder service token,NEW,2024-02-28 07:40:51.000000000,2024-04-11 08:10:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-28 07:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9223b69d89551692ab5a581426175bf648731192', 'message': 'Add cinder service token config\n\nGlance is implementing new location APIs, for which, cinder needs\nto pass service token to register a location in glance.\nThis is required in the case when glance is using cinder as a backend\nand cinder tries to upload a volume in the optimized path.\n\nWe are adding a new option, ``CINDER_USE_SERVICE_TOKEN`` that will\nconfigure the service user section in cinder.conf. By default, it\nis set to False.\n\nChange-Id: I0045539f1e31a6d26c4f31935c5ddfaaa7607a48\n'}, {'number': 2, 'created': '2024-02-28 07:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26f664cef2c1a41b5c1d69eddd3cb0b76325b134', 'message': 'Configure cinder service token\n\nGlance is implementing new location APIs, for which, cinder needs\nto pass service token to register a location in glance.\nThis is required in the case when glance is using cinder as a backend\nand cinder tries to upload a volume in the optimized path.\n\nWe are adding a new option, ``CINDER_USE_SERVICE_TOKEN`` that will\nconfigure the service user section in cinder.conf. By default, it\nis set to False.\n\nChange-Id: I0045539f1e31a6d26c4f31935c5ddfaaa7607a48\n'}, {'number': 3, 'created': '2024-02-28 09:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b3a157264daba8842969ee67dc11a56aef34d5f', 'message': 'Configure cinder service token\n\nGlance is implementing new location APIs, for which, cinder needs\nto pass service token to register a location in glance.\nThis is required in the case when glance is using cinder as a backend\nand cinder tries to upload a volume in the optimized path.\n\nWe are adding a new option, ``CINDER_USE_SERVICE_TOKEN`` that will\nconfigure the service user section in cinder.conf. By default, it\nis set to False.\n\nChange-Id: I0045539f1e31a6d26c4f31935c5ddfaaa7607a48\n'}, {'number': 4, 'created': '2024-02-28 15:09:57.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f123aec65ee6f02138b2d4b70ad5704481e8718c', 'message': 'Configure cinder service token\n\nGlance is implementing new location APIs, for which, cinder needs\nto pass service token to register a location in glance.\nThis is required in the case when glance is using cinder as a backend\nand cinder tries to upload a volume in the optimized path.\n\nWe are adding a new option, ``CINDER_USE_SERVICE_TOKEN`` that will\nconfigure the service user section in cinder.conf. By default, it\nis set to False.\n\nChange-Id: I0045539f1e31a6d26c4f31935c5ddfaaa7607a48\n'}]",2,910473,f123aec65ee6f02138b2d4b70ad5704481e8718c,10,1,4,27615,,,0,"Configure cinder service token

Glance is implementing new location APIs, for which, cinder needs
to pass service token to register a location in glance.
This is required in the case when glance is using cinder as a backend
and cinder tries to upload a volume in the optimized path.

We are adding a new option, ``CINDER_USE_SERVICE_TOKEN`` that will
configure the service user section in cinder.conf. By default, it
is set to False.

Change-Id: I0045539f1e31a6d26c4f31935c5ddfaaa7607a48
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/910473/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,9223b69d89551692ab5a581426175bf648731192,new-location-api-support,"# ``CINDER_USE_SERVICE_TOKEN`` is a mode where service token is passed along with # user token while communicating to external RESP API's like Glance. CINDER_USE_SERVICE_TOKEN=$(trueorfalse False CINDER_USE_SERVICE_TOKEN) if [ ""$CINDER_USE_SERVICE_TOKEN"" == ""True"" ]; then init_cinder_service_user_conf fifunction init_cinder_service_user_conf { iniset $CINDER_CONF service_user send_service_user_token True iniset $CINDER_CONF service_user auth_type password iniset $CINDER_CONF service_user auth_url ""$KEYSTONE_SERVICE_PROTOCOL://$KEYSTONE_SERVICE_HOST:$KEYSTONE_AUTH_PORT"" iniset $CINDER_CONF service_user username cinder iniset $CINDER_CONF service_user password ""$SERVICE_PASSWORD"" iniset $CINDER_CONF service_user user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $CINDER_CONF service_user project_name ""$SERVICE_PROJECT_NAME"" iniset $CINDER_CONF service_user project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $CINDER_CONF service_user auth_strategy keystone }",,19,0
openstack%2Fproject-config~910455,openstack/project-config,master,I1f91c94c676bb4ccd7ce23b50eba815548ee6af1,Retire puppet-sahara: Remove Project from Infrastructure System,MERGED,2024-02-28 02:01:23.000000000,2024-04-11 07:55:36.000000000,2024-04-11 07:42:16.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-28 02:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ed67e95e2fb76586d5c21fde5fc115563f607d2a', 'message': 'Retire puppet-sahara: Remove Project from Infrastructure System\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/910454\nChange-Id: I1f91c94c676bb4ccd7ce23b50eba815548ee6af1\n'}, {'number': 2, 'created': '2024-03-08 14:54:34.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ba46239e9449bf51f819297664961ada478130ed', 'message': 'Retire puppet-sahara: Remove Project from Infrastructure System\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/910454\nChange-Id: I1f91c94c676bb4ccd7ce23b50eba815548ee6af1\n'}]",3,910455,ba46239e9449bf51f819297664961ada478130ed,15,4,2,9816,,,0,"Retire puppet-sahara: Remove Project from Infrastructure System

Depends-on: https://review.opendev.org/c/openstack/governance/+/910454
Change-Id: I1f91c94c676bb4ccd7ce23b50eba815548ee6af1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/910455/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,ed67e95e2fb76586d5c21fde5fc115563f607d2a,retire-puppet-sahara,, - openstack/puppet-sahara,2,10
openstack%2Fovn-octavia-provider~907581,openstack/ovn-octavia-provider,master,I2f82337223a936a3ed89f43e249a06e86d0f141b,tox: Drop envdir,MERGED,2024-02-02 14:29:36.000000000,2024-04-11 07:49:30.000000000,2024-04-11 07:48:33.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2024-02-02 14:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fc52ff7c8d53d1227fb820d4f5251004a81ff806', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nChange-Id: I2f82337223a936a3ed89f43e249a06e86d0f141b\n""}, {'number': 2, 'created': '2024-02-28 09:11:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/46cb8f3775bb40857d63a1821f165b8ef45c34ec', 'message': ""tox: Drop envdir\n\ntox now always recreates an env although the env is shared using envdir\noptions.\n~~~\n$ tox -e genpolicy\ngenpolicy: recreate env because env type changed from\n{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to\n{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}\n~~~\n\nAccording to the maintainer of tox, this functionality is not intended\nto be supported.\nhttps://github.com/tox-dev/tox/issues/425#issuecomment-1011944293\n\nChange-Id: I2f82337223a936a3ed89f43e249a06e86d0f141b\n""}]",5,907581,46cb8f3775bb40857d63a1821f165b8ef45c34ec,20,3,2,9816,,,0,"tox: Drop envdir

tox now always recreates an env although the env is shared using envdir
options.
~~~
$ tox -e genpolicy
genpolicy: recreate env because env type changed from
{'name': 'genconfig', 'type': 'VirtualEnvRunner'} to
{'name': 'genpolicy', 'type': 'VirtualEnvRunner'}
~~~

According to the maintainer of tox, this functionality is not intended
to be supported.
https://github.com/tox-dev/tox/issues/425#issuecomment-1011944293

Change-Id: I2f82337223a936a3ed89f43e249a06e86d0f141b
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/81/907581/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fc52ff7c8d53d1227fb820d4f5251004a81ff806,tox-envdir,,envdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/docsenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/shared,0,8
openstack%2Fproject-config~913296,openstack/project-config,master,Ie3d4c05d20e5620b52b0cc2e0ddaf1ddcf1497ef,Retire puppet-murano: Remove Project from Infrastructure System,MERGED,2024-03-15 09:18:18.000000000,2024-04-11 07:42:16.000000000,2024-04-11 07:16:29.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-15 09:18:18.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/53d7919b761df79cacbc9a0d8af5fd628b61f0c1', 'message': 'Retire puppet-murano: Remove Project from Infrastructure System\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/913294\nChange-Id: Ie3d4c05d20e5620b52b0cc2e0ddaf1ddcf1497ef\n'}]",2,913296,53d7919b761df79cacbc9a0d8af5fd628b61f0c1,9,3,1,9816,,,0,"Retire puppet-murano: Remove Project from Infrastructure System

Depends-on: https://review.opendev.org/c/openstack/governance/+/913294
Change-Id: Ie3d4c05d20e5620b52b0cc2e0ddaf1ddcf1497ef
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/913296/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,53d7919b761df79cacbc9a0d8af5fd628b61f0c1,retire-puppet-murano,, - openstack/puppet-murano,2,10
openstack%2Fproject-config~912713,openstack/project-config,master,Iadc8c4c192d512d793cf2195885cbc631beac8d2,Retire puppet-ec2api: Remove Project from Infrastructure System,MERGED,2024-03-13 07:45:41.000000000,2024-04-11 07:30:12.000000000,2024-04-11 07:01:51.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-13 07:45:41.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/23ddcfa28103eaa714893a3ab8024cf5079826c6', 'message': 'Retire puppet-ec2api: Remove Project from Infrastructure System\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/912712\nChange-Id: Iadc8c4c192d512d793cf2195885cbc631beac8d2\n'}]",1,912713,23ddcfa28103eaa714893a3ab8024cf5079826c6,9,3,1,9816,,,0,"Retire puppet-ec2api: Remove Project from Infrastructure System

Depends-on: https://review.opendev.org/c/openstack/governance/+/912712
Change-Id: Iadc8c4c192d512d793cf2195885cbc631beac8d2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/912713/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,23ddcfa28103eaa714893a3ab8024cf5079826c6,retire-puppet-ec2api,, - openstack/puppet-ec2api,2,10
openstack%2Fcharm-ceph-radosgw~915433,openstack/charm-ceph-radosgw,master,Ibda77efad5383c73f3b2cbfc90232ffff6cbc4a5,Test fix: exercise fix for test race,ABANDONED,2024-04-10 15:29:10.000000000,2024-04-11 07:28:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-10 15:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/5ee4e140f3752ea0899947c62f3c063a5a4f7439', 'message': 'Test fix: exercise fix for test race\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1197\nChange-Id: Ibda77efad5383c73f3b2cbfc90232ffff6cbc4a5\n'}]",0,915433,5ee4e140f3752ea0899947c62f3c063a5a4f7439,4,2,1,15382,,,0,"Test fix: exercise fix for test race

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1197
Change-Id: Ibda77efad5383c73f3b2cbfc90232ffff6cbc4a5
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/33/915433/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5ee4e140f3752ea0899947c62f3c063a5a4f7439,functest-fix,,,0,0
openstack%2Freleases~910456,openstack/releases,master,Ie84f1ea3a099d20643f2c3544fcfce54c70bd21b,Retire puppet-sahara: Mark the deliverables as retired,MERGED,2024-02-28 02:04:08.000000000,2024-04-11 07:23:58.000000000,2024-04-11 07:23:58.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-28 02:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/126328b0ed7df4f1ec31800df417c47674d7c877', 'message': ""Retire puppet-sahara: Mark the deliverables as retired\n\nSahara was marked inactive during this cycle and has been excluded from\n2024.1 release. Because Puppet OpenStack modules are tightly coupled\nwith OpenStack's release cycle, we agreed to retire this module and\nnot to create a 2024.1 release.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BYGTRBDBLZ5XFYQDWOJHDZ3FVYDPQ3LW/\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/910454\nChange-Id: Ie84f1ea3a099d20643f2c3544fcfce54c70bd21b\n""}, {'number': 2, 'created': '2024-02-28 04:30:26.000000000', 'files': ['deliverables/wallaby/puppet-sahara.yaml', 'deliverables/zed/puppet-sahara.yaml', 'deliverables/xena/puppet-sahara.yaml', 'deliverables/caracal/puppet-sahara.yaml', 'deliverables/bobcat/puppet-sahara.yaml', 'deliverables/antelope/puppet-sahara.yaml', 'deliverables/yoga/puppet-sahara.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ae0dd8253f1c405d9abe3a6d250ee9b7fa9b126b', 'message': ""Retire puppet-sahara: Mark the deliverables as retired\n\nSahara was marked inactive during this cycle and has been excluded from\n2024.1 release. Because Puppet OpenStack modules are tightly coupled\nwith OpenStack's release cycle, we agreed to retire this module and\nnot to create a 2024.1 release.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BYGTRBDBLZ5XFYQDWOJHDZ3FVYDPQ3LW/\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/910454\nChange-Id: Ie84f1ea3a099d20643f2c3544fcfce54c70bd21b\n""}]",4,910456,ae0dd8253f1c405d9abe3a6d250ee9b7fa9b126b,12,5,2,9816,,,0,"Retire puppet-sahara: Mark the deliverables as retired

Sahara was marked inactive during this cycle and has been excluded from
2024.1 release. Because Puppet OpenStack modules are tightly coupled
with OpenStack's release cycle, we agreed to retire this module and
not to create a 2024.1 release.

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BYGTRBDBLZ5XFYQDWOJHDZ3FVYDPQ3LW/

Depends-on: https://review.opendev.org/c/openstack/governance/+/910454
Change-Id: Ie84f1ea3a099d20643f2c3544fcfce54c70bd21b
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/910456/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/puppet-qdr.yaml', 'deliverables/xena/puppet-qdr.yaml', 'deliverables/bobcat/puppet-qdr.yaml', 'deliverables/caracal/puppet-sahara.yaml', 'deliverables/wallaby/puppet-qdr.yaml', 'deliverables/zed/puppet-qdr.yaml', 'deliverables/yoga/puppet-qdr.yaml']",7,126328b0ed7df4f1ec31800df417c47674d7c877,retire-puppet-sahara, openstack/puppet-qdr: flags: - retired, openstack/puppet-qdr: {},18,13
openstack%2Freleases~912714,openstack/releases,master,Ie89bf9211261fb9a880b34d62c48af2fd7401554,Retire puppet-ec2api: Mark the deliverables as retired,MERGED,2024-03-13 07:49:09.000000000,2024-04-11 07:23:02.000000000,2024-04-11 07:23:02.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-13 07:49:09.000000000', 'files': ['deliverables/antelope/puppet-ec2api.yaml', 'deliverables/zed/puppet-ec2api.yaml', 'deliverables/bobcat/puppet-ec2api.yaml', 'deliverables/caracal/puppet-ec2api.yaml', 'deliverables/yoga/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/xena/puppet-ec2api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/68b3d839fa2e4c45e6620cce85adb1d032a802bf', 'message': ""Retire puppet-ec2api: Mark the deliverables as retired\n\nEC2 API was marked inactive during this cycle and has been excluded\nfrom 2024.1 release. Because Puppet OpenStack modules are tightly\ncoupled with OpenStack's release cycle, we agreed to retire this module\nand not to create a 2024.1 release[1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BVF4I2METEA7HQB3KRF63JTBR4C6ZYEJ/\n\nDepends-on: https://review.opendev.org/c/openstack/governance/+/912712\nChange-Id: Ie89bf9211261fb9a880b34d62c48af2fd7401554\n""}]",4,912714,68b3d839fa2e4c45e6620cce85adb1d032a802bf,10,4,1,9816,,,0,"Retire puppet-ec2api: Mark the deliverables as retired

EC2 API was marked inactive during this cycle and has been excluded
from 2024.1 release. Because Puppet OpenStack modules are tightly
coupled with OpenStack's release cycle, we agreed to retire this module
and not to create a 2024.1 release[1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BVF4I2METEA7HQB3KRF63JTBR4C6ZYEJ/

Depends-on: https://review.opendev.org/c/openstack/governance/+/912712
Change-Id: Ie89bf9211261fb9a880b34d62c48af2fd7401554
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/912714/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/puppet-ec2api.yaml', 'deliverables/zed/puppet-ec2api.yaml', 'deliverables/bobcat/puppet-ec2api.yaml', 'deliverables/caracal/puppet-ec2api.yaml', 'deliverables/yoga/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/xena/puppet-ec2api.yaml']",7,68b3d839fa2e4c45e6620cce85adb1d032a802bf,retire-puppet-ec2api, openstack/puppet-ec2api: flags: - retired, openstack/puppet-ec2api: {},18,13
openstack%2Fswift~913949,openstack/swift,master,Idcbde59edaf98ae1fe6bb63467dfc7dcb3cffb19,auto-shard: Add optional post scan leader confirmation,NEW,2024-03-22 06:37:38.000000000,2024-04-11 07:21:32.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-22 06:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/083ed79d4be0727044431f0e47e67fb41e58b30e', 'message': 'auto-shard: Add optional post scan leader confirmation\n\nChange-Id: Idcbde59edaf98ae1fe6bb63467dfc7dcb3cffb19\n'}, {'number': 2, 'created': '2024-03-25 04:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f269dfe0e2a07077707244b4911eed217acbdeda', 'message': 'auto-shard: Add optional post scan leader confirmation\n\nChange-Id: Idcbde59edaf98ae1fe6bb63467dfc7dcb3cffb19\n'}, {'number': 3, 'created': '2024-04-08 04:59:33.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1d7ed28e8e26894ae58246572b2d5fa2a4996948', 'message': 'auto-shard: Add optional post scan leader confirmation\n\nChange-Id: Idcbde59edaf98ae1fe6bb63467dfc7dcb3cffb19\n'}]",1,913949,1d7ed28e8e26894ae58246572b2d5fa2a4996948,10,2,3,7233,,,0,"auto-shard: Add optional post scan leader confirmation

Change-Id: Idcbde59edaf98ae1fe6bb63467dfc7dcb3cffb19
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/913949/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,083ed79d4be0727044431f0e47e67fb41e58b30e,auto_sharding," self.auto_shard_second_confirmation = config_true_value( conf.get('auto_shard_second_confirmation', ""yes"")) def _find_shard_ranges(self, broker, node): :param node: The current node. This is used for a second leader election confirmation if self.auto_shard_second_confirmation and \ not self._elect_leader(broker, node): self.info( broker, ""Failed leader election confirmation shard ranges not merged."") self._update_stat('scanned', 'aborted', step=num_found) return 0 broker.merge_shard_ranges(shard_ranges) self._min_stat('scanned', 'min_time', round(elapsed / num_found, 3)) self._max_stat('scanned', 'max_time', round(elapsed / num_found, 3)) def _elect_leader(self, broker, node): part, nodes = self.ring.get_nodes(broker.account, broker.container) is_leader = self._elect_leader(broker, node) num_found = self._find_shard_ranges(broker, node)"," def _find_shard_ranges(self, broker): broker.merge_shard_ranges(shard_ranges) self._min_stat('scanned', 'min_time', round(elapsed / num_found, 3)) self._max_stat('scanned', 'max_time', round(elapsed / num_found, 3)) def _elect_leader(self, broker, node, part): nodes = self.ring.get_part_nodes(int(part)) is_leader = self._elect_leader(broker, node, part) num_found = self._find_shard_ranges(broker)",46,22
openstack%2Fpuppet-ec2api~909707,openstack/puppet-ec2api,unmaintained/yoga,Ic020236566a9c23caa5fcc03fe981506773c4cfe,Update .gitreview for unmaintained/yoga,ABANDONED,2024-02-21 16:44:32.000000000,2024-04-11 07:06:48.000000000,,[],"[{'number': 1, 'created': '2024-02-21 16:44:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/6880e019e95b4aa03ca7e479be93ecf0f9b63619', 'message': 'Update .gitreview for unmaintained/yoga\n\nChange-Id: Ic020236566a9c23caa5fcc03fe981506773c4cfe\n'}]",0,909707,6880e019e95b4aa03ca7e479be93ecf0f9b63619,2,0,1,22816,,,0,"Update .gitreview for unmaintained/yoga

Change-Id: Ic020236566a9c23caa5fcc03fe981506773c4cfe
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/07/909707/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6880e019e95b4aa03ca7e479be93ecf0f9b63619,create-yoga,defaultbranch=unmaintained/yoga,defaultbranch=stable/yoga,1,1
openstack%2Fdevstack~797247,openstack/devstack,master,Ic4bee65572aca4332fc820c0008da095ee27ae41,Cinder: Use new [internal_tenant] parameters,NEW,2021-06-21 09:06:01.000000000,2024-04-11 06:56:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-21 09:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/03f88a6d833c76462c5cce192c8bb8bcb5da12c5', 'message': 'Cinder: Use new [internal_tenant] parameters\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/797245\nChange-Id: Ic4bee65572aca4332fc820c0008da095ee27ae41\n'}, {'number': 2, 'created': '2021-06-21 09:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d7398c72ca20177307d040bc141ef7de980fa37e', 'message': 'Cinder: Use new [internal_tenant] parameters\n\nDepends-on: https://review.opendev.org/797245\nChange-Id: Ic4bee65572aca4332fc820c0008da095ee27ae41\n'}, {'number': 3, 'created': '2021-06-28 14:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/df74d4253aa3a1b3e11b55df02a13baf84b68145', 'message': 'Cinder: Use new [internal_tenant] parameters\n\nDepends-on: https://review.opendev.org/797245\nChange-Id: Ic4bee65572aca4332fc820c0008da095ee27ae41\n'}, {'number': 4, 'created': '2024-03-25 05:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b9e375b4bd8a4862be603a2ce35006ab726cbc6', 'message': 'Cinder: Use new [internal_tenant] parameters\n\nDepends-on: https://review.opendev.org/797245\nChange-Id: Ic4bee65572aca4332fc820c0008da095ee27ae41\n'}, {'number': 5, 'created': '2024-04-11 06:18:03.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b9f09be005424b00681241298f07b79262fd220f', 'message': 'Cinder: Use new [internal_tenant] parameters\n\nDepends-on: https://review.opendev.org/797245\nChange-Id: Ic4bee65572aca4332fc820c0008da095ee27ae41\n'}]",0,797247,b9f09be005424b00681241298f07b79262fd220f,15,1,5,9816,,,0,"Cinder: Use new [internal_tenant] parameters

Depends-on: https://review.opendev.org/797245
Change-Id: Ic4bee65572aca4332fc820c0008da095ee27ae41
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/797247/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,03f88a6d833c76462c5cce192c8bb8bcb5da12c5,bug/1933052, configure_keystone_authtoken_middleware $CINDER_CONF cinder internal_tenant," iniset $CINDER_CONF DEFAULT cinder_internal_tenant_project_id $(get_or_create_project $SERVICE_PROJECT_NAME) iniset $CINDER_CONF DEFAULT cinder_internal_tenant_user_id $(get_or_create_user ""cinder"")",1,2
openstack%2Fhorizon~915464,openstack/horizon,master,Ia39d3653995e2597fb9426e77ce0653784da5980,Switch old integration tests on gate with new tests,ABANDONED,2024-04-11 06:29:57.000000000,2024-04-11 06:33:28.000000000,,[],"[{'number': 1, 'created': '2024-04-11 06:29:57.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e40a069cd4ca2ec0bfa99da7be2f2b6153edad53', 'message': 'Switch old integration tests on gate with new tests\n\nChange-Id: Ia39d3653995e2597fb9426e77ce0653784da5980\n'}]",1,915464,e40a069cd4ca2ec0bfa99da7be2f2b6153edad53,3,0,1,35153,,,0,"Switch old integration tests on gate with new tests

Change-Id: Ia39d3653995e2597fb9426e77ce0653784da5980
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/915464/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,e40a069cd4ca2ec0bfa99da7be2f2b6153edad53,, - horizon-integration-tests: - horizon-integration-pytest, - horizon-integration-tests - horizon-integration-pytest:,2,2
openstack%2Fgovernance~912712,openstack/governance,master,I67215fa21d934a9e4af3f882ec40053242d63627,Retire puppet-ec2api: Retire Repository from the Governance Repository,MERGED,2024-03-13 07:44:16.000000000,2024-04-11 04:48:47.000000000,2024-04-11 04:47:49.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-13 07:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/06c9f0b037093d8d68d0c516bbcf7d0a27a64654', 'message': ""Retire puppet-ec2api: Retire Repository from the Governance Repository\n\nEC2 API was marked inactive during this cycle and has been excluded\nfrom 2024.1 release. Because Puppet OpenStack modules are tightly\ncoupled with OpenStack's release cycle, we agreed to retire this module\nand not to create a 2024.1 release[1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BVF4I2METEA7HQB3KRF63JTBR4C6ZYEJ/\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-ec2api/+/912711\nChange-Id: I67215fa21d934a9e4af3f882ec40053242d63627\n""}, {'number': 2, 'created': '2024-04-10 21:02:13.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/0e2471d283c93b27160a0d7b6e1c62f30d9b6876', 'message': ""Retire puppet-ec2api: Retire Repository from the Governance Repository\n\nEC2 API was marked inactive during this cycle and has been excluded\nfrom 2024.1 release. Because Puppet OpenStack modules are tightly\ncoupled with OpenStack's release cycle, we agreed to retire this module\nand not to create a 2024.1 release[1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BVF4I2METEA7HQB3KRF63JTBR4C6ZYEJ/\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-ec2api/+/912711\nChange-Id: I67215fa21d934a9e4af3f882ec40053242d63627\n""}]",4,912712,0e2471d283c93b27160a0d7b6e1c62f30d9b6876,20,6,2,9816,,,0,"Retire puppet-ec2api: Retire Repository from the Governance Repository

EC2 API was marked inactive during this cycle and has been excluded
from 2024.1 release. Because Puppet OpenStack modules are tightly
coupled with OpenStack's release cycle, we agreed to retire this module
and not to create a 2024.1 release[1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BVF4I2METEA7HQB3KRF63JTBR4C6ZYEJ/

Depends-on: https://review.opendev.org/c/openstack/puppet-ec2api/+/912711
Change-Id: I67215fa21d934a9e4af3f882ec40053242d63627
",git fetch https://review.opendev.org/openstack/governance refs/changes/12/912712/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,06c9f0b037093d8d68d0c516bbcf7d0a27a64654,project-update,, puppet-ec2api: repos: - openstack/puppet-ec2api,4,3
openstack%2Fgovernance~910454,openstack/governance,master,I266d395e73a117f309fe85d98abd1721fef712a3,Retire puppet-sahara: Retire Repository from the Governance Repository,MERGED,2024-02-28 01:58:49.000000000,2024-04-11 04:45:20.000000000,2024-04-11 04:44:21.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15993}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-28 01:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/249e36b2d4b1cca20bf0e97e4c914722766f563d', 'message': ""Retire puppet-sahara: Retire Repository from the Governance Repository\n\nSahara was marked inactive during this cycle and has been excluded from\n2024.1 release. Because Puppet OpenStack modules are tightly coupled\nwith OpenStack's release cycle, we agreed to retire this module and\nnot to create a 2024.1 release.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BYGTRBDBLZ5XFYQDWOJHDZ3FVYDPQ3LW/\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-sahara/+/910453\nChange-Id: I266d395e73a117f309fe85d98abd1721fef712a3\n""}, {'number': 2, 'created': '2024-04-10 21:01:37.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/bb7913e67bed8bd4917a9cffec2f11b9eb289c33', 'message': ""Retire puppet-sahara: Retire Repository from the Governance Repository\n\nSahara was marked inactive during this cycle and has been excluded from\n2024.1 release. Because Puppet OpenStack modules are tightly coupled\nwith OpenStack's release cycle, we agreed to retire this module and\nnot to create a 2024.1 release.\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BYGTRBDBLZ5XFYQDWOJHDZ3FVYDPQ3LW/\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-sahara/+/910453\nChange-Id: I266d395e73a117f309fe85d98abd1721fef712a3\n""}]",4,910454,bb7913e67bed8bd4917a9cffec2f11b9eb289c33,23,8,2,9816,,,0,"Retire puppet-sahara: Retire Repository from the Governance Repository

Sahara was marked inactive during this cycle and has been excluded from
2024.1 release. Because Puppet OpenStack modules are tightly coupled
with OpenStack's release cycle, we agreed to retire this module and
not to create a 2024.1 release.

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/BYGTRBDBLZ5XFYQDWOJHDZ3FVYDPQ3LW/

Depends-on: https://review.opendev.org/c/openstack/puppet-sahara/+/910453
Change-Id: I266d395e73a117f309fe85d98abd1721fef712a3
",git fetch https://review.opendev.org/openstack/governance refs/changes/54/910454/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,249e36b2d4b1cca20bf0e97e4c914722766f563d,project-update,, puppet-sahara: repos: - openstack/puppet-sahara,4,3
openstack%2Fcharm-vault~888937,openstack/charm-vault,stable/1.5,I240ebb4bd14932a6bf95f41da3f2cd7776742266,Improve snap channel refresh mechanism,MERGED,2023-07-19 15:59:36.000000000,2024-04-11 02:32:55.000000000,2024-04-11 02:32:55.000000000,"[{'_account_id': 1131}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 27944}]","[{'number': 1, 'created': '2023-07-19 15:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/a802da25654bfc12d503f59b2dee7a69695057ee', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before rephrasing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n'}, {'number': 2, 'created': '2023-07-19 16:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/dfa1641ad4cc4c3ed16b6f640851e0e7973b50ac', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before rephrasing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}, {'number': 3, 'created': '2023-07-19 16:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ff35f2d06f233fb3debb323a49532d9eaad9df2f', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before refreshing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}, {'number': 4, 'created': '2023-07-19 16:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e134378b84e6d969ce8d52fb830a4fed2ee9c0f9', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before refreshing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}, {'number': 5, 'created': '2023-08-08 16:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/bbee0be88baaaa7403a0b948aa34e5ba4860c25a', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before refreshing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}, {'number': 6, 'created': '2023-08-08 16:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/08b469c2f5aa3b387248bf78dc8a7444b50fe4f5', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before refreshing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}, {'number': 7, 'created': '2023-08-15 11:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1a6443443df5524882484672baa7cbffa65d77d0', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before refreshing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}, {'number': 8, 'created': '2023-08-31 10:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/49989a4b53910c011232a4c3da0b8bde177980c1', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before refreshing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}, {'number': 9, 'created': '2023-10-17 18:36:59.000000000', 'files': ['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/31e51bb3f6ee60a5b10c10a87e8768c7cc298b78', 'message': 'Improve snap channel refresh mechanism\n\n- stop vault.service before refreshing it\n- added a warning note that changing the channel config option will\n  cause the vault to be sealed\n\nRelated-Bug: 2007587\nChange-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266\n(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)\n'}]",11,888937,31e51bb3f6ee60a5b10c10a87e8768c7cc298b78,52,5,9,32363,,,0,"Improve snap channel refresh mechanism

- stop vault.service before refreshing it
- added a warning note that changing the channel config option will
  cause the vault to be sealed

Related-Bug: 2007587
Change-Id: I240ebb4bd14932a6bf95f41da3f2cd7776742266
(cherry picked from commit 9e927889d0e29de919816c315b2c6f5643f53049)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/37/888937/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/reactive/vault_handlers.py']",3,a802da25654bfc12d503f59b2dee7a69695057ee,lp2007587-stable/1.5," service_stop, if snap.get_installed_channel(""vault"") != channel: log(""Stopping the vault.service to perform a snap refresh"") service_stop(""vault"") snap.refresh(""vault"", channel=channel) log(""Vault was refreshed to {}"".format(channel)) start_vault() log(""The vault.service has been started"")"," service_restart, snap.refresh('vault', channel=channel) if vault.can_restart(): log(""Restarting vault"", level=DEBUG) service_restart('vault') if config('totally-unsecure-auto-unlock'): vault.prepare_vault()",30,29
openstack%2Frequirements~915165,openstack/requirements,master,Ibe5030daa895b4d7cfabeed4a9800a99b6a930f9,Remove Cinder volume-driver specific libraries,NEW,2024-04-05 16:10:31.000000000,2024-04-11 02:28:56.000000000,,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-04-05 16:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d7212e13aa564d8302c8aaba9ec8904a8cfd2056', 'message': ""Remove Cinder volume-driver specific libraries\n\nThese are no longer installed globally and shouldn't be handled by\nglobal-requirements. Remove them.\n\nChange-Id: Ibe5030daa895b4d7cfabeed4a9800a99b6a930f9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2024-04-06 09:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/15c40d03b2178bf1db5cccb069cf608724998ac6', 'message': ""Remove Cinder volume-driver specific libraries\n\nThese are no longer installed globally and shouldn't be handled by\nglobal-requirements. Remove them.\n\nChange-Id: Ibe5030daa895b4d7cfabeed4a9800a99b6a930f9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2024-04-08 12:58:47.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c041106f8594211eec0c11201a3222dcdb95bdf', 'message': ""Remove Cinder volume-driver specific libraries\n\nThese are no longer installed globally and shouldn't be handled by\nglobal-requirements. Remove them.\n\nChange-Id: Ibe5030daa895b4d7cfabeed4a9800a99b6a930f9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",13,915165,5c041106f8594211eec0c11201a3222dcdb95bdf,19,6,3,15334,,,0,"Remove Cinder volume-driver specific libraries

These are no longer installed globally and shouldn't be handled by
global-requirements. Remove them.

Change-Id: Ibe5030daa895b4d7cfabeed4a9800a99b6a930f9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/915165/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d7212e13aa564d8302c8aaba9ec8904a8cfd2056,cleanup,,"distro # Apache-2.0krest # Apache-2.0pywbem # LGPLv2.1+storpool!=5.2.0,!=5.3.0 # Apache-2.0 storpool.spopenstack # Apache-2.0python-linstor # LGPLv3 rsd-lib # Apache-2.0storops # Apache-2.0purestorage # BSDpython-3parclient # Apache-2.0",0,11
openstack%2Fneutron~900212,openstack/neutron,master,Icf1fff28bb560c506392f16c579de6d92cd56c23,Change exception messages to error log messages for DNS integration.,MERGED,2023-11-06 16:33:47.000000000,2024-04-10 23:54:08.000000000,2024-04-10 23:53:01.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9816}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-06 16:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6406c1565cd97099a11e84430fb08c958c356ce', 'message': 'Change exception messages to warning log entries for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to warning log entries\ninstead of exception entries. This prevents the logs from\nfilling with stack traces where a warning would have been\nsufficient enough.\n\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 2, 'created': '2023-11-06 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07af2b7a4e3f7363dda2a8363d6c29b88604a2d0', 'message': 'Change exception messages to warning log entries for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to warning log entries\ninstead of exception entries. This prevents the logs from\nfilling with stack traces where a warning would have been\nsufficient enough. Also removed catching the dns_exc.DuplicateRecordSet exception from _remove_data_from_external_dns_service since a duplicated recordset should not exist in the first place.\n\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 3, 'created': '2023-11-07 10:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c37d2ae11eb5d21f789c1a1feece190472ff4700', 'message': 'Change exception messages to warning log entries for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to warning log entries\ninstead of exception entries. This prevents the logs from\nfilling with stack traces where a warning would have been\nsufficient enough. Also removed catching the dns_exc.DuplicateRecordSet exception from _remove_data_from_external_dns_service since a duplicated recordset should not exist in the first place.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 4, 'created': '2023-11-07 16:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e49d0d3622974ee494fb4c6d1cca8e0b1cf14c7d', 'message': 'Change exception messages to warning log entries for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to warning log entries\ninstead of exception entries. This prevents the logs from\nfilling with stack traces where a warning would have been\nsufficient enough. Also removed catching the\ndns_exc.DuplicateRecordSet exception from\n_remove_data_from_external_dns_service since a duplicate\nrecordset should not exist in the first place.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 5, 'created': '2023-11-08 14:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/354a2f9dcd32924424e283f7f5ee87491b1d397e', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to error log messages\nwith a new more generic error message, instead of the exception\nmessages. This prevents the logs from filling with stack\ntraces where a error messages would have been sufficient\nenough. Also removed catching the\ndns_exc.DuplicateRecordSet exception from\n_remove_data_from_external_dns_service since a duplicate\nrecordset should not exist in the first place.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 6, 'created': '2023-11-08 14:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f03b8fd09f77cc40921eba66c6ed14594ba2316', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to error log messages\nwith a new more generic error message, instead of the exception\nmessages. This prevents the logs from filling with stack\ntraces where a error messages would have been sufficient\nenough. Also removed catching the\ndns_exc.DuplicateRecordSet exception from\n_remove_data_from_external_dns_service since a duplicate\nrecordset should not exist in the first place.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 7, 'created': '2023-11-10 13:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41d9af729847d150ac7a75df03827c5f93c69fad', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to error log messages\nwith a new more generic error message, instead of the exception\nmessages. This prevents the logs from filling with stack\ntraces where a error messages would have been sufficient\nenough. Also removed catching the\ndns_exc.DuplicateRecordSet exception from\n_remove_data_from_external_dns_service since a duplicate\nrecordset should not exist in the first place.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 8, 'created': '2023-11-13 13:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84691bb0a501df7b376faec1335119e830afb696', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to error log messages\nwith a new more generic error message, instead of the exception\nmessages. This prevents the logs from filling with stack\ntraces where a error messages would have been sufficient\nenough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 9, 'created': '2023-11-14 11:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ead56ef2ab8bbae48c03bbaaa5a02a06e2c119cc', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to error log, for deletions\nchange the dns_exc.DNSDomainNotFound to warning messages. For both\ntype of messaged changed to message with a new more generic message,\ninstead of the exception messages. This prevents the logs from\nfilling with stack traces where a error messages would have been\nsufficient enough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 10, 'created': '2023-11-15 10:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02c5ce5e1d38d59b243b1b19fd8575767fb7a45f', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to error log, for deletions\nchange the dns_exc.DNSDomainNotFound to warning messages. For both\ntype of messaged changed to message with a new more generic message,\ninstead of the exception messages. This prevents the logs from\nfilling with stack traces where a error messages would have been\nsufficient enough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 11, 'created': '2024-02-20 16:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fb57c50a9b825cab6c2df03239d370999ea9b81', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange the dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet exceptions to error log, for deletions\nchange the dns_exc.DNSDomainNotFound to warning messages. For both\ntype of messaged changed to message with a new more generic message,\ninstead of the exception messages. This prevents the logs from\nfilling with stack traces where a error messages would have been\nsufficient enough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 12, 'created': '2024-03-07 10:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dc0e3d78954bfe36df1db527adf7a8628b9402d', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange non-harmful stack trace errors for dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSe to error log messages. This prevents the logs\nfrom filling with stack traces where a error messages would have been\nsufficient enough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 13, 'created': '2024-03-07 11:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ece434984dc179986c448a0097154057abd9a483', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange non-harmful stack trace errors for dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSe to error log messages. This prevents the logs\nfrom filling with stack traces where error messages would have been\nsufficient enough.\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 14, 'created': '2024-03-07 11:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfd0c1ab671cc6f6bcd65a533457370eba95c722', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange non-harmful stack trace errors for dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSe to error log messages. This prevents the logs\nfrom filling with stack traces where error messages would have been\nsufficient enough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 15, 'created': '2024-03-26 11:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c8ff5e6970ec797bc46498c75c7240bf1a212ce', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange non-harmful stack trace errors for dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet to error log messages. This prevents the logs\nfrom filling with stack traces where error messages would have been\nsufficient enough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}, {'number': 16, 'created': '2024-04-10 15:05:44.000000000', 'files': ['releasenotes/notes/change-dns-integration-logging-from-exception-to-error-7927d91f915046c3.yaml', 'neutron/db/dns_db.py', 'neutron/plugins/ml2/extensions/dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fe5188ce513c928b45cbc890bed80d8d5a2106b', 'message': 'Change exception messages to error log messages for DNS integration.\n\nChange non-harmful stack trace errors for dns_exc.DNSDomainNotFound and\ndns_exc.DuplicateRecordSet to error log messages. This prevents the logs\nfrom filling with stack traces where error messages would have been\nsufficient enough.\n\nCloses-Bug: #2042925\nChange-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23\n'}]",86,900212,5fe5188ce513c928b45cbc890bed80d8d5a2106b,110,8,16,34401,,,0,"Change exception messages to error log messages for DNS integration.

Change non-harmful stack trace errors for dns_exc.DNSDomainNotFound and
dns_exc.DuplicateRecordSet to error log messages. This prevents the logs
from filling with stack traces where error messages would have been
sufficient enough.

Closes-Bug: #2042925
Change-Id: Icf1fff28bb560c506392f16c579de6d92cd56c23
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/900212/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/extensions/dns_integration.py'],1,d6406c1565cd97099a11e84430fb08c958c356ce,change-dns-exception-to-warning," LOG.warning(""Error publishing port data in external DNS "" except dns_exc.DNSDomainNotFound as e: LOG.warning(""Error deleting port data from external DNS """," LOG.exception(""Error publishing port data in external DNS "" except (dns_exc.DNSDomainNotFound, dns_exc.DuplicateRecordSet) as e: LOG.exception(""Error deleting port data from external DNS """,3,3
openstack%2Fkolla-ansible~915439,openstack/kolla-ansible,master,I8e7ed01707ef6956ca6fff4c2f4ca0cd68ee252b,CI: Mark OpenSearch as non voting,MERGED,2024-04-10 18:19:26.000000000,2024-04-10 22:19:41.000000000,2024-04-10 22:17:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}]","[{'number': 1, 'created': '2024-04-10 18:19:26.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01e3fac180019b5a55f4718b977d176f8ae3e0f6', 'message': ""CI: Mark OpenSearch as non voting\n\nIt's been failing since 2.13\n\nChange-Id: I8e7ed01707ef6956ca6fff4c2f4ca0cd68ee252b\n""}]",0,915439,01e3fac180019b5a55f4718b977d176f8ae3e0f6,9,3,1,22629,,,0,"CI: Mark OpenSearch as non voting

It's been failing since 2.13

Change-Id: I8e7ed01707ef6956ca6fff4c2f4ca0cd68ee252b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/915439/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,01e3fac180019b5a55f4718b977d176f8ae3e0f6,, voting: false,,1,0
openstack%2Foctavia~915423,openstack/octavia,stable/2023.1,Ic330e5e57d674e8c50fb56ef04d670f11632e546,Pin pylint (<=3.0.4),MERGED,2024-04-10 13:24:10.000000000,2024-04-10 21:08:51.000000000,2024-04-10 21:07:44.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-04-10 13:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/de400267fa71167cd0d4ec9992911778f4a3cfaf', 'message': 'Pin pylint (<=3.0.4)\n\nnew pylint release 3.1.0 adds new checkers and fails on stable branches,\npin pylint.\n\nChange-Id: Ic330e5e57d674e8c50fb56ef04d670f11632e546\n'}, {'number': 2, 'created': '2024-04-10 16:30:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6f32b19fb56493f5a3b68b4b6f27e376b4d3979', 'message': ""Pin pylint (<=3.0.4)\n\nnew pylint release 3.1.0 adds new checkers and fails on stable branches,\npin pylint.\n\nR1737 - Use 'yield from' directly instead of yielding each element one by one (use-yield-from)\n\nChange-Id: Ic330e5e57d674e8c50fb56ef04d670f11632e546\n""}]",2,915423,d6f32b19fb56493f5a3b68b4b6f27e376b4d3979,12,3,2,29244,,,0,"Pin pylint (<=3.0.4)

new pylint release 3.1.0 adds new checkers and fails on stable branches,
pin pylint.

R1737 - Use 'yield from' directly instead of yielding each element one by one (use-yield-from)

Change-Id: Ic330e5e57d674e8c50fb56ef04d670f11632e546
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/915423/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,de400267fa71167cd0d4ec9992911778f4a3cfaf,,"pylint>=2.5.3,<=3.0.4 # GPLv2",pylint>=2.5.3 # GPLv2,1,1
openstack%2Fgovernance~913294,openstack/governance,master,If6f672291b02ef14f7cfdd727aaa0902194d333d,Retire puppet-murano: Retire Repository from the Governance Repository,MERGED,2024-03-15 09:15:09.000000000,2024-04-10 20:32:58.000000000,2024-04-10 20:31:38.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-15 09:15:09.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/ceb043a4a55e3797605ceab2ba0b5ec021120a71', 'message': ""Retire puppet-murano: Retire Repository from the Governance Repository\n\nMurano was marked inactive during this cycle and has been excluded from\n2024.1 release. Because Puppet OpenStack modules are tightly coupled\nwith OpenStack's release cycle, we retire this module now and won't\ncreate a 2024.1 release[1].\n\n[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/VHE6WWZKOTTKBLUVMABAAQKBN2QSEED4/\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-murano/+/913293\nChange-Id: If6f672291b02ef14f7cfdd727aaa0902194d333d\n""}]",3,913294,ceb043a4a55e3797605ceab2ba0b5ec021120a71,15,5,1,9816,,,0,"Retire puppet-murano: Retire Repository from the Governance Repository

Murano was marked inactive during this cycle and has been excluded from
2024.1 release. Because Puppet OpenStack modules are tightly coupled
with OpenStack's release cycle, we retire this module now and won't
create a 2024.1 release[1].

[1] https://lists.openstack.org/archives/list/openstack-discuss@lists.openstack.org/message/VHE6WWZKOTTKBLUVMABAAQKBN2QSEED4/

Depends-on: https://review.opendev.org/c/openstack/puppet-murano/+/913293
Change-Id: If6f672291b02ef14f7cfdd727aaa0902194d333d
",git fetch https://review.opendev.org/openstack/governance refs/changes/94/913294/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,ceb043a4a55e3797605ceab2ba0b5ec021120a71,project-update,, puppet-murano: repos: - openstack/puppet-murano,4,3
openstack%2Fmanila-tempest-plugin~914823,openstack/manila-tempest-plugin,master,I34266790f86162dc04bd055c6156bf47b577a7e6,Change nodeset for cephfs-nfs job,ABANDONED,2024-04-01 17:58:04.000000000,2024-04-10 20:26:44.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-01 17:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/86d32208bc1c92b57a44ba93be9c1bc36c608129', 'message': 'Change nodeset for cephfs-nfs job\n\nChange from centos9 to ubuntu focal\n\nChange-Id: I34266790f86162dc04bd055c6156bf47b577a7e6\n'}, {'number': 2, 'created': '2024-04-01 20:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/687f7ab5cb3d3c578819dd2afba3a4e8751244aa', 'message': 'Change nodeset for cephfs-nfs job\n\nChange from centos9 to ubuntu focal\n\nChange-Id: I34266790f86162dc04bd055c6156bf47b577a7e6\n'}, {'number': 3, 'created': '2024-04-03 16:04:32.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/281a042f7e5e8c6362c398a82fc5d0fba803086d', 'message': 'Change nodeset for cephfs-nfs job\n\nChange from centos9 to ubuntu focal\n\nChange-Id: I34266790f86162dc04bd055c6156bf47b577a7e6\n'}]",6,914823,281a042f7e5e8c6362c398a82fc5d0fba803086d,22,2,3,32594,,,0,"Change nodeset for cephfs-nfs job

Change from centos9 to ubuntu focal

Change-Id: I34266790f86162dc04bd055c6156bf47b577a7e6
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/23/914823/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,86d32208bc1c92b57a44ba93be9c1bc36c608129,ceph-nfs, nodeset: ubuntu-focal, nodeset: devstack-single-node-centos-9-stream,1,1
openstack%2Fcharm-manila-ganesha~915426,openstack/charm-manila-ganesha,master,Id745140a316120e56948f3770f2b2473d1134255,Fix application version on manila-ganesha charm,MERGED,2024-04-10 13:39:55.000000000,2024-04-10 20:17:26.000000000,2024-04-10 20:17:26.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 27944}]","[{'number': 1, 'created': '2024-04-10 13:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/5c4124a5395706958158baec4708fcecd97956df', 'message': 'Fix application version on manila-ganesha charm\n\nCloses-bug: #2060751\nChange-Id: Id745140a316120e56948f3770f2b2473d1134255\n'}, {'number': 2, 'created': '2024-04-10 17:43:43.000000000', 'files': ['src/lib/charm/openstack/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/66f641392c69516553db2ec78e95de47a0cb10db', 'message': ""Fix application version on manila-ganesha charm\n\nThe charm is not using `version_package` in the class and it's\nusing the default to the first in packages which is Ceph.\n\nCloses-bug: #2060751\nChange-Id: Id745140a316120e56948f3770f2b2473d1134255\n""}]",2,915426,66f641392c69516553db2ec78e95de47a0cb10db,11,4,2,33536,,,0,"Fix application version on manila-ganesha charm

The charm is not using `version_package` in the class and it's
using the default to the first in packages which is Ceph.

Closes-bug: #2060751
Change-Id: Id745140a316120e56948f3770f2b2473d1134255
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/26/915426/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila_ganesha.py'],1,5c4124a5395706958158baec4708fcecd97956df,bug/2031438, version_package = release_pkg = 'manila-common', release_pkg = 'manila-common',1,1
openstack%2Fsunbeam-charms~914933,openstack/sunbeam-charms,main,Ieca6358f13d7025392508d433c5556e10dbfd06a,Port dashboards from charm-prometheus-openstack-exporter,MERGED,2024-04-03 01:32:01.000000000,2024-04-10 17:46:23.000000000,2024-04-10 17:42:44.000000000,"[{'_account_id': 22348}, {'_account_id': 34720}, {'_account_id': 35007}, {'_account_id': 35761}]","[{'number': 1, 'created': '2024-04-03 01:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/b8581340630aac78f496cb38a8dd2e5db588658d', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\n- fix dashboard format:\n\nremove the outdated/invalid json wrapper around the dashboard json:\n  {  ""dashboard"": <actual dashboard>, ""overwrite"": true }\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n'}, {'number': 2, 'created': '2024-04-03 04:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/8f2ffed060c73b0146056c0bb0c40ba0436e8aa0', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\n- fix dashboard format:\n\nremove the outdated/invalid json wrapper around the dashboard json:\n  {  ""dashboard"": <actual dashboard>, ""overwrite"": true }\n\n- port N° of projects panel (using a hacky method of counting the projects seen in one of the nova limits metrics)\n\n- port the ""Instances by state"" panel\n\n- remove the ""cloud"" variable - this isn\'t used in openstack-exporter,\nand I think we can use `juju_model` to achieve the same filtering.\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n'}, {'number': 3, 'created': '2024-04-03 05:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/2f74854f6e2cccba9918736859bbe74cea51b042', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\n- fix dashboard format:\n\nremove the outdated/invalid json wrapper around the dashboard json:\n  {  ""dashboard"": <actual dashboard>, ""overwrite"": true }\n\n- port N° of projects panel (using a hacky method of counting the projects seen in one of the nova limits metrics)\n\n- port the ""Instances by state"" panel\n\n- remove the ""cloud"" variable - this isn\'t used in openstack-exporter,\nand I think we can use `juju_model` to achieve the same filtering.\n\n- port the project stats for number of instances per project (wip)\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n'}, {'number': 4, 'created': '2024-04-04 00:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/c0c309f8d06b7f8e712b46451f28a86d3be72336', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\n- fix dashboard format:\n\nremove the outdated/invalid json wrapper around the dashboard json:\n  {  ""dashboard"": <actual dashboard>, ""overwrite"": true }\n\n- port N° of projects panel (using a hacky method of counting the projects seen in one of the nova limits metrics)\n\n- port the ""Instances by state"" panel\n\n- remove the ""cloud"" variable - this isn\'t used in openstack-exporter,\nand I think we can use `juju_model` to achieve the same filtering.\n\n- port the project stats for number of instances per project (wip)\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n'}, {'number': 5, 'created': '2024-04-04 02:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/c625f93adc7f4f1a36b34a7808b6389f3e46617f', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\n- fix dashboard format:\n\nremove the outdated/invalid json wrapper around the dashboard json:\n  {  ""dashboard"": <actual dashboard>, ""overwrite"": true }\n\n- port N° of projects panel (using a hacky method of counting the projects seen in one of the nova limits metrics)\n\n- port the ""Instances by state"" panel\n\n- remove the ""cloud"" variable - this isn\'t used in openstack-exporter,\nand I think we can use `juju_model` to achieve the same filtering.\n\n- port the project stats for number of instances per project (wip)\n\n- port hypervisor_* metrics in hypervisor dashboard\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n'}, {'number': 6, 'created': '2024-04-04 05:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/7f26c8fd818940ffb97fd051f2dad520a337e337', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n'}, {'number': 7, 'created': '2024-04-04 05:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/8a71c6dac28c334d0d136f84b3cd58e1633ce221', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n'}, {'number': 8, 'created': '2024-04-05 05:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/5fd098ac7f3d30098187be7199805f53d5f9198d', 'message': ""port dashboards from charm-prometheus-openstack-exporter\n\nSome panels couldn't be ported easily, so this is a best effort\nfor the first iteration.\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n""}, {'number': 9, 'created': '2024-04-08 07:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/b227e4eacc0fc9af95471d0e19dd316288ca0489', 'message': ""port dashboards from charm-prometheus-openstack-exporter\n\nSome panels couldn't be ported easily, so this is a best effort\nfor the first iteration.\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n""}, {'number': 10, 'created': '2024-04-09 07:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/0479d99741bb9aacf29381a6f38e39d08fcd5e55', 'message': ""Port dashboards from charm-prometheus-openstack-exporter\n\nSome panels couldn't be ported easily, so this is a best effort\nfor the first iteration.\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n""}, {'number': 11, 'created': '2024-04-09 07:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/f8e39eb5c93ae46064471579cc6a29fb81703ff5', 'message': ""Port dashboards from charm-prometheus-openstack-exporter\n\nSome panels couldn't be ported easily, so this is a best effort\nfor the first iteration.\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n""}, {'number': 12, 'created': '2024-04-10 06:04:19.000000000', 'files': ['charms/openstack-exporter-k8s/src/grafana_dashboards/overview-openstack-exporter-dashboard.json', 'charms/openstack-exporter-k8s/src/grafana_dashboards/hypervisor-openstack-exporter-dashboard.json'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/c9ca0d2882f0eb14797f8592a3af68a3d3e67c12', 'message': ""Port dashboards from charm-prometheus-openstack-exporter\n\nSome panels couldn't be ported easily, so this is a best effort\nfor the first iteration.\n\nChange-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a\n""}]",3,914933,c9ca0d2882f0eb14797f8592a3af68a3d3e67c12,31,4,12,34352,,,0,"Port dashboards from charm-prometheus-openstack-exporter

Some panels couldn't be ported easily, so this is a best effort
for the first iteration.

Change-Id: Ieca6358f13d7025392508d433c5556e10dbfd06a
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/33/914933/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms/openstack-exporter-k8s/src/grafana_dashboards/overview-openstack-exporter-dashboard.json', 'charms/openstack-exporter-k8s/src/grafana_dashboards/hypervisor-openstack-exporter-dashboard.json']",2,b8581340630aac78f496cb38a8dd2e5db588658d,dashboards,"{ ""annotations"": { ""list"": [ { ""builtIn"": 1, ""datasource"": ""-- Grafana --"", ""enable"": true, ""hide"": true, ""iconColor"": ""rgba(0, 211, 255, 1)"", ""name"": ""Annotations & Alerts"", ""target"": { ""limit"": 100, ""matchAny"": false, ""tags"": [], ""type"": ""dashboard"" }, ""type"": ""dashboard"" } ] }, ""editable"": true, ""gnetId"": null, ""graphTooltip"": 0, ""id"": null, ""iteration"": 1633078228458, ""links"": [], ""panels"": [ { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 0 }, ""id"": 158, ""panels"": [], ""title"": ""General information"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""fixedColor"": ""#ffffff"", ""mode"": ""fixed"" }, ""custom"": { ""align"": ""auto"", ""displayMode"": ""color-text"", ""filterable"": true, ""inspect"": false, ""minWidth"": 50 }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""string"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""nova_service_status"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Status"" }, { ""id"": ""mappings"", ""value"": [ { ""options"": { ""disabled"": { ""color"": ""red"", ""index"": 1 }, ""enabled"": { ""color"": ""green"", ""index"": 0 } }, ""type"": ""value"" } ] }, { ""id"": ""custom.displayMode"", ""value"": ""color-background-solid"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""hypervisor_hostname"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Hypervisor"" } ] } ] }, ""gridPos"": { ""h"": 8, ""w"": 8, ""x"": 0, ""y"": 1 }, ""id"": 160, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": """", ""reducer"": [ ""sum"" ], ""show"": false }, ""showHeader"": true, ""sortBy"": [] }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""hypervisor_schedulable_instances_capacity{cloud=~\""$cloud\"", hypervisor_hostname=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" } ], ""title"": ""Nova Service status"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""hypervisor_hostname"", ""nova_service_status"" ] } } } ], ""type"": ""table"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] } }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 4, ""x"": 8, ""y"": 1 }, ""id"": 182, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""sum"" ], ""fields"": ""/^Value$/"", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, project_name) (libvirt_domain_info_meta{dns_name=~\""$hypervisor.*\"",project_name=~\""$project\""})"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" } ], ""title"": ""Scheduled VMs"", ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""max"": 100, ""min"": 0, ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""#EAB839"", ""value"": 80 }, { ""color"": ""red"", ""value"": 90 } ] }, ""unit"": ""percent"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 5, ""w"": 4, ""x"": 12, ""y"": 1 }, ""id"": 165, ""options"": { ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""showThresholdLabels"": false, ""showThresholdMarkers"": true, ""text"": {} }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_vcpus_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) / sum(hypervisor_vcpus_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) * 100"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Hypervisor CPU Subscription"", ""transformations"": [], ""type"": ""gauge"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""max"": 100, ""min"": 0, ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""#EAB839"", ""value"": 80 }, { ""color"": ""red"", ""value"": 90 } ] }, ""unit"": ""percent"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 5, ""w"": 4, ""x"": 16, ""y"": 1 }, ""id"": 168, ""options"": { ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""showThresholdLabels"": false, ""showThresholdMarkers"": true, ""text"": {} }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_memory_mbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) / sum(hypervisor_memory_mbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) * 100"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Hypervisor Mem Subscription"", ""transformations"": [], ""type"": ""gauge"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""max"": 100, ""min"": 0, ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""#EAB839"", ""value"": 80 }, { ""color"": ""red"", ""value"": 90 } ] }, ""unit"": ""percent"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 5, ""w"": 4, ""x"": 20, ""y"": 1 }, ""id"": 179, ""options"": { ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""showThresholdLabels"": false, ""showThresholdMarkers"": true, ""text"": {} }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_disk_gbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) / sum(hypervisor_disk_gbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) * 100"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Hypervisor Disk Subscription"", ""transformations"": [], ""type"": ""gauge"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(229, 231, 235)"", ""value"": null } ] }, ""unit"": ""none"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 12, ""y"": 6 }, ""id"": 166, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_vcpus_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Allocated"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(251, 252, 250)"", ""value"": null } ] }, ""unit"": ""none"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 14, ""y"": 6 }, ""id"": 167, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_vcpus_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Total"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(229, 231, 235)"", ""value"": null } ] }, ""unit"": ""mbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 16, ""y"": 6 }, ""id"": 169, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_memory_mbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Allocated"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(251, 252, 250)"", ""value"": null } ] }, ""unit"": ""mbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 18, ""y"": 6 }, ""id"": 170, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_memory_mbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Total"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(229, 231, 235)"", ""value"": null } ] }, ""unit"": ""decgbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 20, ""y"": 6 }, ""id"": 180, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_disk_gbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Allocated"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(251, 252, 250)"", ""value"": null } ] }, ""unit"": ""decgbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 22, ""y"": 6 }, ""id"": 181, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_disk_gbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Total"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""custom"": { ""align"": ""auto"", ""displayMode"": ""auto"", ""inspect"": false }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""string"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #A"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Load5/ncpu"" }, { ""id"": ""thresholds"", ""value"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""orange"", ""value"": 1 } ] } }, { ""id"": ""color"" }, { ""id"": ""custom.displayMode"", ""value"": ""color-background-solid"" }, { ""id"": ""unit"", ""value"": ""none"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #B"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Load15/ncpu"" }, { ""id"": ""thresholds"", ""value"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 1 } ] } }, { ""id"": ""color"", ""value"": { ""mode"": ""thresholds"" } }, { ""id"": ""custom.displayMode"", ""value"": ""color-background-solid"" }, { ""id"": ""unit"", ""value"": ""none"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""dns_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Hypervisor"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #C"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Uptime"" }, { ""id"": ""unit"", ""value"": ""s"" } ] } ] }, ""gridPos"": { ""h"": 10, ""w"": 24, ""x"": 0, ""y"": 9 }, ""id"": 184, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": """", ""reducer"": [ ""sum"" ], ""show"": false }, ""showHeader"": true }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""exemplar"": false, ""expr"": ""system_load5{dns_name=~\""$hypervisor.*\""} / system_n_cpus{dns_name=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""system_load15{dns_name=~\""$hypervisor.*\""} / system_n_cpus{dns_name=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""B"" }, { ""exemplar"": false, ""expr"": ""system_uptime{dns_name=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""legendFormat"": ""__auto"", ""range"": false, ""refId"": ""C"" } ], ""title"": ""Hypervisor Stats"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""dns_name"", ""Value #A"", ""Value #B"", ""Value #C"" ] } } }, { ""id"": ""merge"", ""options"": {} }, { ""id"": ""organize"", ""options"": { ""excludeByName"": {}, ""indexByName"": { ""Value #A"": 2, ""Value #B"": 3, ""Value #C"": 1, ""dns_name"": 0 }, ""renameByName"": {} } } ], ""type"": ""table"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""custom"": { ""displayMode"": ""auto"", ""filterable"": true, ""inspect"": false }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [] } }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #cpu_time"" }, ""properties"": [ { ""id"": ""unit"", ""value"": ""s"" }, { ""id"": ""displayName"", ""value"": ""CPU time"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #mem_usage"" }, ""properties"": [ { ""id"": ""unit"", ""value"": ""decbytes"" }, { ""id"": ""displayName"", ""value"": ""Mem Usage"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #net_throughput"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": "" Net Throughput"" }, { ""id"": ""unit"", ""value"": ""Bps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #packets_rate"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Packets Rate"" }, { ""id"": ""unit"", ""value"": ""pps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #net_errors"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Net Errors"" }, { ""id"": ""unit"", ""value"": ""cps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #packets_drops"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Packets Drops"" }, { ""id"": ""unit"", ""value"": ""pps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #disks_iops"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Disks IOPS"" }, { ""id"": ""unit"", ""value"": ""iops"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #disks_throughput"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Disks Throughput"" }, { ""id"": ""unit"", ""value"": ""Bps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""instance_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Instance"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""project_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Project"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""uuid"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""UUID"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""dns_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Hypervisor"" } ] } ] }, ""gridPos"": { ""h"": 10, ""w"": 24, ""x"": 0, ""y"": 19 }, ""id"": 177, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": """", ""reducer"": [ ""sum"" ], ""show"": false }, ""frameIndex"": 0, ""showHeader"": true, ""sortBy"": [] }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""rate(libvirt_domain_info_cpu_time_seconds_total{dns_name=~\""$hypervisor.*\""}[2m]) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""cpu_time"" }, { ""expr"": ""libvirt_domain_info_memory_usage_bytes{dns_name=~\""$hypervisor.*\""} * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""mem_usage"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""net_throughput"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_packets_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_packets_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""packets_rate"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_errors_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_errors_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""net_errors"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_drops_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_drops_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""packets_drops"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_block_stats_read_requests_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_block_stats_write_requests_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""disks_iops"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_block_stats_read_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_block_stats_write_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""disks_throughput"" } ], ""title"": ""Instances stats"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""instance_name"", ""project_name"", ""uuid"", ""dns_name"", ""Value #cpu_time"", ""Value #mem_usage"", ""Value #net_throughput"", ""Value #packets_rate"", ""Value #net_errors"", ""Value #disks_iops"", ""Value #disks_throughput"", ""Value #packets_drops"" ] } } }, { ""id"": ""merge"", ""options"": {} }, { ""id"": ""organize"", ""options"": { ""excludeByName"": {}, ""indexByName"": { ""Value #cpu_time"": 2, ""Value #disks_iops"": 8, ""Value #disks_throughput"": 9, ""Value #mem_usage"": 3, ""Value #net_errors"": 6, ""Value #net_throughput"": 4, ""Value #packets_drops"": 7, ""Value #packets_rate"": 5, ""dns_name"": 11, ""instance_name"": 0, ""project_name"": 1, ""uuid"": 10 }, ""renameByName"": {} } } ], ""type"": ""table"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""CPU time used by the domain, in seconds - rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""s"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 9, ""w"": 24, ""x"": 0, ""y"": 29 }, ""id"": 8, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""rate(libvirt_domain_info_cpu_time_seconds_total{dns_name=~\""$hypervisor.*\""}[2m]) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" } ], ""title"": ""CPU Time"", ""type"": ""timeseries"" }, { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 38 }, ""id"": 10, ""panels"": [], ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""title"": ""Memory"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Total memory used per hypervisor"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""decbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 9, ""x"": 0, ""y"": 39 }, ""id"": 16, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name) (libvirt_domain_info_memory_usage_bytes{dns_name=~\""$hypervisor.*\""})"", ""interval"": """", ""legendFormat"": ""{{dns_name}}"", ""refId"": ""A"" } ], ""title"": ""Cumulative Memory Usage"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance memory usage, stacked"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 10, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineStyle"": { ""fill"": ""solid"" }, ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""normal"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""decbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 8, ""x"": 9, ""y"": 39 }, ""id"": 12, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""libvirt_domain_info_memory_usage_bytes{dns_name=~\""$hypervisor.*\""} * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" } ], ""title"": ""Instance Memory Usage"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Maximum allowed memory per instance"", ""fieldConfig"": { ""defaults"": { ""color"": { ""fixedColor"": ""#ffffff"", ""mode"": ""fixed"" }, ""custom"": { ""align"": ""auto"", ""displayMode"": ""auto"", ""filterable"": false, ""inspect"": false, ""minWidth"": 50 }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""decbytes"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""instance_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Instance"" }, { ""id"": ""custom.filterable"", ""value"": true } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""project_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Project"" }, { ""id"": ""custom.filterable"", ""value"": true } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""uuid"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""UUID"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Memory"" } ] } ] }, ""gridPos"": { ""h"": 8, ""w"": 7, ""x"": 17, ""y"": 39 }, ""id"": 14, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": [ ""Value"" ], ""reducer"": [ ""sum"" ], ""show"": true }, ""showHeader"": true, ""sortBy"": [ { ""desc"": false, ""displayName"": ""Memory"" } ] }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""libvirt_domain_info_maximum_memory_bytes{dns_name=~\""$hypervisor.*\""} * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" } ], ""title"": ""Max Instance Memory"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""instance_name"", ""project_name"", ""uuid"", ""Value"" ] } } } ], ""type"": ""table"" }, { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 47 }, ""id"": 20, ""panels"": [], ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""title"": ""Network"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Network traffic in bytes, rate over 1min, receive/transmit per instance, cumulative over all interfaces"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""Bps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 9, ""w"": 12, ""x"": 0, ""y"": 48 }, ""id"": 18, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""B"" } ], ""title"": ""Instance Network Throughput"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Network traffic in packets, rate over 1min, receive/transmit per instance, cumulative over all interfaces"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""pps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 9, ""w"": 12, ""x"": 12, ""y"": 48 }, ""id"": 22, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_packets_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_packets_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""B"" } ], ""title"": ""Instance Packet Rate"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Total network throughput rates per hypervisor, rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""Bps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 0, ""y"": 57 }, ""id"": 24, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_receive_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""rx: {{dns_name}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_transmit_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""tx: {{dns_name}}"", ""refId"": ""B"" } ], ""title"": ""Cumulative Network Throughput"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Total network throughput rates per hypervisor, rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""pps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 12, ""y"": 57 }, ""id"": 25, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_receive_packets_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""rx: {{dns_name}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_transmit_packets_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""tx: {{dns_name}}"", ""refId"": ""B"" } ], ""title"": ""Cumulative Packet Rate"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance errors and drops, transmit and receive. Rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 11, ""w"": 24, ""x"": 0, ""y"": 65 }, ""id"": 33, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_errors_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx err: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_errors_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx err: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""B"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_drops_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx drop: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""C"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_drops_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx drop: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""D"" } ], ""title"": ""Instance Errors and Drops"", ""type"": ""timeseries"" }, { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 76 }, ""id"": 35, ""panels"": [], ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""title"": ""Disk"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block dev read request rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 0, ""y"": 77 }, ""id"": 37, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_read_requests_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""IOPS Read"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block dev write request rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 12, ""y"": 77 }, ""id"": 39, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_write_requests_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""IOPS Write"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block device read bytes rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 0, ""y"": 85 }, ""id"": 40, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_read_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""Throughput Read"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block device write bytes rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 12, ""y"": 85 }, ""id"": 38, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_write_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""Throughput Write"", ""type"": ""timeseries"" } ], ""refresh"": """", ""schemaVersion"": 27, ""style"": ""dark"", ""tags"": [], ""templating"": { ""list"": [ { ""allValue"": null, ""current"": { ""selected"": false, ""text"": """", ""value"": """" }, ""datasource"": ""${prometheusds}"", ""definition"": """", ""description"": null, ""error"": null, ""hide"": 0, ""includeAll"": false, ""label"": null, ""multi"": false, ""name"": ""cloud"", ""options"": [], ""query"": { ""query"": ""openstack_exporter_cache_age_seconds"", ""refId"": ""${prometheusds}-cloud-Variable-Query"" }, ""refresh"": 1, ""regex"": "".*cloud=\""([^\""]+).*"", ""skipUrlSync"": false, ""sort"": 0, ""tagValuesQuery"": null, ""tags"": [], ""tagsQuery"": null, ""type"": ""query"", ""useTags"": false }, { ""allValue"": null, ""current"": { ""selected"": true, ""text"": [ ""All"" ], ""value"": [ ""$__all"" ] }, ""datasource"": ""${prometheusds}"", ""definition"": """", ""description"": null, ""error"": null, ""hide"": 0, ""includeAll"": true, ""label"": null, ""multi"": true, ""name"": ""hypervisor"", ""options"": [], ""query"": { ""query"": ""hypervisor_vcpus_total{cloud=\""$cloud\""}"", ""refId"": ""${prometheusds}-hypervisor-Variable-Query"" }, ""refresh"": 1, ""regex"": "".*hypervisor_hostname=\""([^\""]+).*"", ""skipUrlSync"": false, ""sort"": 0, ""tagValuesQuery"": null, ""tags"": [], ""tagsQuery"": null, ""type"": ""query"", ""useTags"": false }, { ""current"": { ""selected"": true, ""text"": [ ""All"" ], ""value"": [ ""$__all"" ] }, ""datasource"": ""${prometheusds}"", ""definition"": """", ""hide"": 0, ""includeAll"": true, ""multi"": true, ""name"": ""project"", ""options"": [], ""query"": { ""query"": ""libvirt_domain_info_meta{dns_name=~\""$hypervisor\""}"", ""refId"": ""StandardVariableQuery"" }, ""refresh"": 1, ""regex"": "".*project_name=\""([^\""]+).*"", ""skipUrlSync"": false, ""sort"": 0, ""type"": ""query"" } ] }, ""time"": { ""from"": ""now-24h"", ""to"": ""now"" }, ""timepicker"": { ""refresh_intervals"": [ ""5m"", ""15m"", ""30m"", ""1h"", ""2h"", ""1d"" ], ""time_options"": [ ""5m"", ""15m"", ""1h"", ""6h"", ""12h"", ""24h"", ""2d"", ""7d"", ""30d"" ] }, ""timezone"": ""utc"", ""title"": ""[juju] OpenStack Hypervisor Overview"", ""uid"": ""718cac2e-f0b4-11ee-b1c6-6b7e6a75e66d"", ""version"": 1 } ",,6869,0
openstack%2Foctavia~909825,openstack/octavia,stable/zed,Ie4763e97b1414e9871f222c20efd0f532b3dfc9f,Fix the issue of losing nf_conntrace* values after a reboot.,MERGED,2024-02-22 10:04:06.000000000,2024-04-10 17:35:12.000000000,2024-04-10 17:34:04.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2024-02-22 10:04:06.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'releasenotes/notes/load-ipvs-before-setting-opts-c5b2f0871bc38c27.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dda3e4a1a764164919c634bcca523f9de69d385b', 'message': 'Fix the issue of losing nf_conntrace* values after a reboot.\n\nLoading ip_vs module before setting nf_conntrace_* opts.\n\nStory: 2010795\nTask: 48247\nChange-Id: Ie4763e97b1414e9871f222c20efd0f532b3dfc9f\n(cherry picked from commit 2643a76602581d7d8a701ea8d51873e6bc73e4be)\n'}]",2,909825,dda3e4a1a764164919c634bcca523f9de69d385b,12,3,1,6577,,,0,"Fix the issue of losing nf_conntrace* values after a reboot.

Loading ip_vs module before setting nf_conntrace_* opts.

Story: 2010795
Task: 48247
Change-Id: Ie4763e97b1414e9871f222c20efd0f532b3dfc9f
(cherry picked from commit 2643a76602581d7d8a701ea8d51873e6bc73e4be)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/909825/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'releasenotes/notes/load-ipvs-before-setting-opts-c5b2f0871bc38c27.yaml']",2,dda3e4a1a764164919c634bcca523f9de69d385b,,--- fixes: - | Fix the issue where nf_conntrack* opts values are lost after rebooting the Amphora VM. more details `Story 2010795 <https://storyboard.openstack.org/#!/story/2010795>`__ ,,7,2
openstack%2Fcodegenerator~915137,openstack/codegenerator,master,I4a53a68777aceb1dfb6d2d4fc8ac9f0d536ec5e9,Improve model name conflict resolution,MERGED,2024-04-05 14:48:56.000000000,2024-04-10 17:24:36.000000000,2024-04-10 17:23:40.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-04-05 14:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/5bb0347a82974f68da4d42bd3c462cf1369573a4', 'message': 'Improve model name conflict resolution\n\nOctavia models uncover issues in the way of handling model name\nconflicts. There is very deep nesting with same model schemas. Instead\nof adding model type name try to add parent name as prefix.\n\nChange-Id: I4a53a68777aceb1dfb6d2d4fc8ac9f0d536ec5e9\n'}, {'number': 2, 'created': '2024-04-10 16:33:45.000000000', 'files': ['codegenerator/templates/rust_macros.j2', 'codegenerator/templates/rust_cli/set_body_parameters.j2', 'codegenerator/rust_cli.py', 'codegenerator/rust_sdk.py', 'codegenerator/model.py', 'codegenerator/templates/rust_cli/set_query_parameters.j2', 'codegenerator/common/rust.py'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/63cfb708b27821ce90e2f4c5c92e86127da06b79', 'message': 'Improve model name conflict resolution\n\nOctavia models uncover issues in the way of handling model name\nconflicts. There is very deep nesting with same model schemas. Instead\nof adding model type name try to add parent name as prefix.\n\nChange-Id: I4a53a68777aceb1dfb6d2d4fc8ac9f0d536ec5e9\n'}]",3,915137,63cfb708b27821ce90e2f4c5c92e86127da06b79,9,2,2,27900,,,0,"Improve model name conflict resolution

Octavia models uncover issues in the way of handling model name
conflicts. There is very deep nesting with same model schemas. Instead
of adding model type name try to add parent name as prefix.

Change-Id: I4a53a68777aceb1dfb6d2d4fc8ac9f0d536ec5e9
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/37/915137/1 && git format-patch -1 --stdout FETCH_HEAD,"['codegenerator/templates/rust_macros.j2', 'codegenerator/templates/rust_cli/set_body_parameters.j2', 'codegenerator/rust_cli.py', 'codegenerator/rust_sdk.py', 'codegenerator/model.py', 'codegenerator/templates/rust_cli/set_query_parameters.j2', 'codegenerator/common/rust.py']",7,5bb0347a82974f68da4d42bd3c462cf1369573a4,," elif base_type is model.ConstraintNumber: typ = self.primitive_type_mapping[model.ConstraintNumber]() """"""Process (translate) ADT models into Rust models"""""" # iterate over all incoming models for model_ in models: # convert ADT based model into rust saving the result under self.refs # post process conversion results and unique_models[name].hash_ != model_.reference.hash_ ): # There is already a model with this name. if model_.reference and model_.reference.parent: # Try adding parent_name as prefix new_name = ( """".join( x.title() for x in model_.reference.parent.name.split(""_"") ) + name ) else: # Try adding suffix from datatype name new_name = name + model_data_type.__class__.__name__ logging.debug(f""rename {name} to {new_name}"") # rename original model to the same naming scheme other_model = unique_models.get(name) if other_model and other_model.parent: # Try adding parent_name as prefix new_other_name = ( """".join( x.title() for x in other_model.parent.name.split(""_"") ) + name ) other_model.name = new_other_name unique_models[new_other_name] = other_model elif ( name and name in unique_models and unique_models[name].hash_ == model_.reference.hash_ ): # Ignore duplicated (or more precisely same) model self.ignored_models.append(model_.reference)"," """"""Process (translate) ADT models into Rust SDK style"""""" for model_ in models: and unique_models[name] != model_.reference ): # There is already a model with this name. Try adding suffix from datatype name new_name = name + model_data_type.__class__.__name__",136,54
openstack%2Fopenstack-ansible~914873,openstack/openstack-ansible,stable/2023.2,Ie43e339df50adbe8240ffe43159c28f132e50000,Define haproxy fact gathering vars at group rather than task level,MERGED,2024-04-03 09:39:02.000000000,2024-04-10 17:10:51.000000000,2024-04-10 17:09:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-04-03 09:39:02.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml', 'playbooks/haproxy-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3c90081ef3766eb7076ede138adb78f85b09bdbc', 'message': 'Define haproxy fact gathering vars at group rather than task level\n\nTask vars are higher precedence than inventory group vars so\ncannot be overidden except in user_variables (ansible extra vars)\nwhich then become a global setting, which is almost certainly\nincorrect for this case.\n\nChange-Id: Ie43e339df50adbe8240ffe43159c28f132e50000\n(cherry picked from commit dc58e54edf0cb932e3a49f3ed29095ac05b98c9c)\n'}]",4,914873,3c90081ef3766eb7076ede138adb78f85b09bdbc,22,3,1,31542,,,0,"Define haproxy fact gathering vars at group rather than task level

Task vars are higher precedence than inventory group vars so
cannot be overidden except in user_variables (ansible extra vars)
which then become a global setting, which is almost certainly
incorrect for this case.

Change-Id: Ie43e339df50adbe8240ffe43159c28f132e50000
(cherry picked from commit dc58e54edf0cb932e3a49f3ed29095ac05b98c9c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/914873/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/haproxy/haproxy.yml', 'playbooks/haproxy-install.yml']",2,3c90081ef3766eb7076ede138adb78f85b09bdbc,,," vars: deployment_extra_facts_filter: - ""ansible_processor_*"" - ansible_default_ipv4 deployment_extra_facts_subset: - '!all' - hardware - network",10,8
openstack%2Fpython-observabilityclient~905237,openstack/python-observabilityclient,master,I7677b16373226469ae0013965da04e6ebc3829b6,Remove AUTHORS file,MERGED,2024-01-10 15:06:01.000000000,2024-04-10 16:42:11.000000000,2024-04-10 16:42:11.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 22348}, {'_account_id': 31068}, {'_account_id': 32240}, {'_account_id': 34975}]","[{'number': 1, 'created': '2024-01-10 15:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-observabilityclient/commit/42ba285ce44035fb0b33354c299dc3a7de3d53b2', 'message': 'Remove AUTHORS file\n\nThis file is generated automatically by pbr and is not needed to be\nmaintained as an actual file.\n\nChange-Id: I7677b16373226469ae0013965da04e6ebc3829b6\n'}, {'number': 2, 'created': '2024-03-12 13:08:21.000000000', 'files': ['AUTHORS'], 'web_link': 'https://opendev.org/openstack/python-observabilityclient/commit/637de9424c95ef4b8154092e9cc3c16fbbe0c804', 'message': 'Remove AUTHORS file\n\nThis file is generated automatically by pbr and is not needed to be\nmaintained as an actual file.\n\nChange-Id: I7677b16373226469ae0013965da04e6ebc3829b6\n'}]",4,905237,637de9424c95ef4b8154092e9cc3c16fbbe0c804,24,6,2,9816,,,0,"Remove AUTHORS file

This file is generated automatically by pbr and is not needed to be
maintained as an actual file.

Change-Id: I7677b16373226469ae0013965da04e6ebc3829b6
",git fetch https://review.opendev.org/openstack/python-observabilityclient refs/changes/37/905237/1 && git format-patch -1 --stdout FETCH_HEAD,['AUTHORS'],1,42ba285ce44035fb0b33354c299dc3a7de3d53b2,,,Chris Sibbitt <csibbitt@redhat.com> Erno Kuvaja <jokke@usr.fi> Jaromir Wysoglad <jwysogla@redhat.com> Jaromír Wysoglad <jwysogla@redhat.com> Leif Madsen <leif@leifmadsen.com> Leif Madsen <lmadsen@redhat.com> Marihan Girgis mgirgisf@redhat.com Martin Magr <mmagr@redhat.com> Martin Mágr <mmagr@redhat.com> ,0,9
openstack%2Fopenstacksdk~915097,openstack/openstacksdk,master,Ie42794da4e6ad88a2496ddd9186352359dfaa35c,Identity: Use allow_unknown_params value in Resource.list(),ABANDONED,2024-04-04 23:17:28.000000000,2024-04-10 16:31:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 36482}]","[{'number': 1, 'created': '2024-04-04 23:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4276c4e4d3cbfc498b91f413d0e792ac868a0f93', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 2, 'created': '2024-04-05 21:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6b9f57f36b0eba9f927ae9e089e29a34fb2acebf', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 3, 'created': '2024-04-05 21:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7a787c9ee8d143a729a1bbcb90506d858caa2d94', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 4, 'created': '2024-04-05 23:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a77c361fcf71ba4d6e78fc3608b1d838719d00b7', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 5, 'created': '2024-04-05 23:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2d5249ca5cc979e389acf1fc696251aec60753ae', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 6, 'created': '2024-04-09 19:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ed49ba1a0a45347c2f231408d2118d2648d6f6a9', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/915374\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 7, 'created': '2024-04-09 23:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d64df954d5f1cbce83b369d40b73e7fb06b1d093', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/915374\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 8, 'created': '2024-04-09 23:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0882d01019124495fffc3bf5f5af27f5b2c4c292', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/915374\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 9, 'created': '2024-04-09 23:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/692dec40d1905616adb5f6cac0cb48eb4ed20983', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/915374\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 10, 'created': '2024-04-10 00:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f040cdf37bbc0fa15da8ce181de768eda991871', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/915374\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}, {'number': 11, 'created': '2024-04-10 00:45:32.000000000', 'files': ['openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/resource.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/functional/shared_file_system/test_share_access_rule.py', 'openstack/tests/unit/cloud/test_keypair.py', 'openstack/cloud/_compute.py', 'openstack/cloud/_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f2c98262d9b4a38b359f9adbc43716b2e26121f', 'message': 'Identity: Use allow_unknown_params value in Resource.list()\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/915374\nChange-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c\n'}]",5,915097,5f2c98262d9b4a38b359f9adbc43716b2e26121f,28,2,11,36482,,,0,"Identity: Use allow_unknown_params value in Resource.list()

Depends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/915374
Change-Id: Ie42794da4e6ad88a2496ddd9186352359dfaa35c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/915097/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/resource.py'],1,4276c4e4d3cbfc498b91f413d0e792ac868a0f93,identity-gaps/allow_unknown_params," allow_unknown_params=allow_unknown_params,"," allow_unknown_params=True,",1,1
openstack%2Fmagnum-capi-helm~914269,openstack/magnum-capi-helm,master,I76db3b20e29ce2f445e871ee4e8083855c85fa37,Fix typo in upper constraints,MERGED,2024-03-26 15:47:38.000000000,2024-04-10 16:19:37.000000000,2024-04-10 16:19:37.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-03-26 15:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/4875763320cb09706e1f054604d4d62064e2c0b5', 'message': 'Fix running tox unit tests locally\n\nThis is probably wrong, but to make tox pass locally,\nusing the latest magnum tag release, we need to use\nthe older upper constraints file that matches.\n\nIdeally we would also being running against the same thing\nin both places, but that is a bit tricky.\n\nChange-Id: I76db3b20e29ce2f445e871ee4e8083855c85fa37\n'}, {'number': 2, 'created': '2024-04-08 14:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/42c7b0d37c4d9c3d4bf1b172219589ec759cfbb1', 'message': 'Fix typo in upper constraits\n\nThis fixes running tox tests locally.\n\nNote, by default this still uses the most recent magnum tag\nwhich is not the same as what happens in the gate right now.\nThere might be future issues here as upper constraints\nchanges in ways that require fixes in the core of Magnum.\n\nChange-Id: I76db3b20e29ce2f445e871ee4e8083855c85fa37\n'}, {'number': 3, 'created': '2024-04-08 14:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/82e82008b04ab61f36a6ae5a28206609a8168c40', 'message': 'Fix typo in upper constraits\n\nThis fixes running tox tests locally.\n\nNote, by default this still uses the most recent magnum tag\nwhich is not the same as what happens in the gate right now.\nThere might be future issues here as upper constraints\nchanges in ways that require fixes in the core of Magnum.\n\nChange-Id: I76db3b20e29ce2f445e871ee4e8083855c85fa37\n'}, {'number': 4, 'created': '2024-04-10 15:56:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/d63a4a034d6c2fb5f6ed417962d9ca2b0bae0b5f', 'message': 'Fix typo in upper constraints\n\nThis fixes running tox tests locally.\n\nNote, by default this still uses the most recent magnum tag\nwhich is not the same as what happens in the gate right now.\nThere might be future issues here as upper constraints\nchanges in ways that require fixes in the core of Magnum.\n\nChange-Id: I76db3b20e29ce2f445e871ee4e8083855c85fa37\n'}]",9,914269,d63a4a034d6c2fb5f6ed417962d9ca2b0bae0b5f,15,3,4,782,,,0,"Fix typo in upper constraints

This fixes running tox tests locally.

Note, by default this still uses the most recent magnum tag
which is not the same as what happens in the gate right now.
There might be future issues here as upper constraints
changes in ways that require fixes in the core of Magnum.

Change-Id: I76db3b20e29ce2f445e871ee4e8083855c85fa37
",git fetch https://review.opendev.org/openstack/magnum-capi-helm refs/changes/69/914269/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4875763320cb09706e1f054604d4d62064e2c0b5,fix-tox-locally,"# in the gate we run against master branch and # master upper conststraints, but by default locally # we are running against the last released magnum tag # which currently needs this upper constraits deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.2}",deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/master},5,1
openstack%2Fmagnum-capi-helm~914110,openstack/magnum-capi-helm,master,Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691,Use availability zone instead of Region for storage classes,MERGED,2024-03-25 15:55:06.000000000,2024-04-10 15:54:50.000000000,2024-04-10 15:54:50.000000000,"[{'_account_id': 782}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 33467}, {'_account_id': 35921}, {'_account_id': 36412}]","[{'number': 1, 'created': '2024-03-25 15:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/bf1ad5369c3ea6545a339994d8040553c16aaa6e', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 2, 'created': '2024-03-26 12:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/e859737cb707ec27442d4c2ce9c0ddba878b7b13', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 3, 'created': '2024-03-26 13:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/bce477ce4c7a9457b657769299360ff883591e0e', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments)\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 4, 'created': '2024-03-27 13:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/d9accedbd0f44ff1dcce3d65d7c27484d79e94db', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 5, 'created': '2024-03-27 18:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/da8164dd5cef34c62776cdee7729fc19054dc078', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 6, 'created': '2024-03-28 12:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/be3ad8267a564e9538f9a1452ea7acf0a5974cf2', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 7, 'created': '2024-03-28 13:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/9aac0c42b467f43ea6db78779d488b9203e3f6c9', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 8, 'created': '2024-04-02 15:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/ff5a84f5745662a3a1a48e65270c97531bbeee27', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 9, 'created': '2024-04-02 15:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/dafb8a584bcf316357434fc8e3982aa318b16007', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 10, 'created': '2024-04-02 15:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/ccf1ac88ab9d7011aac1ab36a9d39788e0187b8b', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 11, 'created': '2024-04-02 15:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/82d47682fea656338ad401d276afc94fde3f5d54', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nAdditionally, we change user label filtering to allow for underscores in cluster labels.\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 12, 'created': '2024-04-04 12:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/5a6759b6a09520b6797111db4956e880daa99a37', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 13, 'created': '2024-04-05 10:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/3a9580a0159559a168a544c15d39eeb4d77a5fbc', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 14, 'created': '2024-04-09 10:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/5b269d6bbbc24dbd68d5128a63f02a80a06f88ab', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 15, 'created': '2024-04-09 10:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/e66a91149d2331825f8815c35430b191ead690e6', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 16, 'created': '2024-04-09 16:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/63b9c928852c9429bf0195bb50ba8bc6a4c756b7', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}, {'number': 17, 'created': '2024-04-09 16:21:48.000000000', 'files': ['README.rst', 'magnum_capi_helm/conf.py', 'magnum_capi_helm/tests/test_driver.py', 'magnum_capi_helm/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/cc89e48141b599880a3eae899bf2e31c4710723c', 'message': ""Use availability zone instead of Region for storage classes\n\nUsing the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments\n\nChange-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691\n""}]",24,914110,cc89e48141b599880a3eae899bf2e31c4710723c,54,6,17,35260,,,0,"Use availability zone instead of Region for storage classes

Using the RegionName instead of the availability zone to configure cinder storage classes causes errors. We provide a configurable availability zone option and a default of 'nova' (which should be on most standard deployments

Change-Id: Ie4a6c26d42a85dae5cd95a1f0f220971e21ac691
",git fetch https://review.opendev.org/openstack/magnum-capi-helm refs/changes/10/914110/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_capi_helm/conf.py', 'magnum_capi_helm/driver.py']",2,bf1ad5369c3ea6545a339994d8040553c16aaa6e,," availability_zone = CONF.capi_helm.csi_cinder_availability_zone ""availabilityZone"": availability_zone,"," region_name = client.cinder_region_name() ""availabilityZone"": region_name,",7,2
openstack%2Fopenstack-helm-infra~915223,openstack/openstack-helm-infra,master,If6635557d4b0f65188da0d7450ad37630b811996,Add conf file for MongoDB,MERGED,2024-04-09 06:17:42.000000000,2024-04-10 15:42:13.000000000,2024-04-10 15:41:10.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-09 06:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d28052bc716ae044d8e9d44e77ceae21d8ea5036', 'message': 'Add conf file for MongoDb\n\nChange-Id: If6635557d4b0f65188da0d7450ad37630b811996\n'}, {'number': 2, 'created': '2024-04-09 06:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0d3f7e781e4bf0194523e0747c63b3bb060f979', 'message': 'Add conf file for MongoDb\n\nChange-Id: If6635557d4b0f65188da0d7450ad37630b811996\n'}, {'number': 3, 'created': '2024-04-09 08:45:20.000000000', 'files': ['mongodb/templates/secrets/_mongodb.cnf.tpl', 'releasenotes/notes/mongodb.yaml', 'mongodb/Chart.yaml', 'mongodb/values.yaml', 'mongodb/templates/configmap-etc.yaml', 'mongodb/templates/statefulset.yaml', 'mongodb/templates/bin/_start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f74107cde2b4e1cf2ea0df9796a270c1b10b544', 'message': 'Add conf file for MongoDB\n\nChange-Id: If6635557d4b0f65188da0d7450ad37630b811996\n'}]",0,915223,5f74107cde2b4e1cf2ea0df9796a270c1b10b544,12,3,3,31827,,,0,"Add conf file for MongoDB

Change-Id: If6635557d4b0f65188da0d7450ad37630b811996
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/915223/1 && git format-patch -1 --stdout FETCH_HEAD,"['mongodb/templates/secrets/_mongodb.cnf.tpl', 'mongodb/values.yaml', 'mongodb/templates/configmap-etc.yaml', 'mongodb/templates/statefulset.yaml', 'mongodb/templates/bin/_start.sh.tpl']",5,d28052bc716ae044d8e9d44e77ceae21d8ea5036,,mongod --config /etc/mongodb.conf --auth &,mongod --auth &,57,1
openstack%2Fproject-config~909445,openstack/project-config,master,Ic89b9b1f51934f6a05d11616b7adba86684edcf2,Add ovn charms to charms-stable-maint purview,MERGED,2024-02-19 12:30:13.000000000,2024-04-10 15:33:14.000000000,2024-04-10 15:29:10.000000000,"[{'_account_id': 2424}, {'_account_id': 5263}, {'_account_id': 13686}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-19 12:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ff898bb87880d8e8bb925cb7aeff6b136858a63a', 'message': 'Add ovn charms to charms-stable-maint purview\n\nThe charms-stable-maint group has maintenance rights\nof the Openstack charms stable branches. This patch\nwidens this set of charms to include the OVN charms\nstable branches.\n\nChange-Id: Ic89b9b1f51934f6a05d11616b7adba86684edcf2\n'}, {'number': 2, 'created': '2024-02-26 16:48:37.000000000', 'files': ['gerrit/acls/x/charm.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ab04717eadf2984c3739162961c78a96123090ae', 'message': 'Add ovn charms to charms-stable-maint purview\n\nThe charms-stable-maint group has maintenance rights\nof the Openstack charms stable branches. This patch\nwidens this set of charms to include the OVN charms\nstable branches.\n\nChange-Id: Ic89b9b1f51934f6a05d11616b7adba86684edcf2\n'}]",5,909445,ab04717eadf2984c3739162961c78a96123090ae,18,5,2,6737,,,0,"Add ovn charms to charms-stable-maint purview

The charms-stable-maint group has maintenance rights
of the Openstack charms stable branches. This patch
widens this set of charms to include the OVN charms
stable branches.

Change-Id: Ic89b9b1f51934f6a05d11616b7adba86684edcf2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/45/909445/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/x/charm.config'],1,ff898bb87880d8e8bb925cb7aeff6b136858a63a,charm-stable-maint-ovn,"[access ""refs/heads/stable/*""] abandon = group charms-stable-maint label-Code-Review = -2..+2 group charms-stable-maint label-Code-Review = -1..+1 group Registered Users label-Workflow = -1..+1 group charms-stable-maint ",,6,0
openstack%2Fnova~653506,openstack/nova,master,I11de92b2375e5475b34e613f12a66162ddc7e001,Handle inactive port binding in _update_port_binding_for_instance,NEW,2019-04-17 18:06:42.000000000,2024-04-10 15:26:40.000000000,,"[{'_account_id': 841}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 30283}]","[{'number': 1, 'created': '2019-04-17 18:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bcdae3802af1a43d3197cd62307a0d858397cce', 'message': '[WIP] only update port binding if there is not an inactive binding\n\nin rare? cases when we call migrate_instance_finish in post live\nmigrate on the destination host we can have started the migration\nwith the new workflow but have not activated the port binding.\n\nmigrate_instance_finish calls _update_port_binding_for_instance\nwhich updated the old port binding to point to the new host\ninstead of activating the inactive binding. This results in\na violation of the unique constratin on the neutron port bindings\ndb table as it would create both an active and inactive port binding\nfor a singel port on the same host.\n\nThis change checks to see if a port has an inactive port binding\nwhen looping over the ports in _update_port_binding_for_instance\nand call activate_port_binding if there is one and skips adding\nit to the list of port that need to be updated.\n\nThis show prevent the db conflict and correctly activate the inactive\nport binding.\n\nChange-Id: I11de92b2375e5475b34e613f12a66162ddc7e001\nCloses-Bug: #1822884\n'}, {'number': 2, 'created': '2019-04-17 20:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/819bb0f8989a26c916881ad9e515696dc296fb25', 'message': '[WIP] only update port binding if there is not an inactive binding\n\nin rare? cases when we call migrate_instance_finish in post live\nmigrate on the destination host we can have started the migration\nwith the new workflow but have not activated the port binding.\n\nmigrate_instance_finish calls _update_port_binding_for_instance\nwhich updated the old port binding to point to the new host\ninstead of activating the inactive binding. This results in\na violation of the unique constratin on the neutron port bindings\ndb table as it would create both an active and inactive port binding\nfor a singel port on the same host.\n\nThis change checks to see if a port has an inactive port binding\nwhen looping over the ports in _update_port_binding_for_instance\nand call activate_port_binding if there is one and skips adding\nit to the list of port that need to be updated.\n\nThis show prevent the db conflict and correctly activate the inactive\nport binding.\n\nChange-Id: I11de92b2375e5475b34e613f12a66162ddc7e001\nCloses-Bug: #1822884\n'}, {'number': 3, 'created': '2019-05-09 23:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51a4982fe194cd64ed1d0ef340ab09dd2c8ff9f6', 'message': ""Handle inactive port binding in _update_port_binding_for_instance\n\nIn rare(?) cases when we call migrate_instance_finish in\npost_live_migration_at_destination we can have started the migration\nwith the new multi-port binding workflow (since Rocky) but have not\nactivated the dest host port binding. migrate_instance_start should\nactivate the dest host port binding from _post_live_migration on the\nsource host but maybe that fails for whatever reason.\n\nmigrate_instance_finish calls _update_port_binding_for_instance\nwhich updates the old port binding to point to the new host\ninstead of activating the inactive binding. This results in\na violation of the unique constraint on the neutron ml2_port_bindings\ntable as it would create both an active and inactive port binding\nfor a single port on the same host.\n\nIt's important to note that activating the inactive dest host port\nbinding with automatically update the port's binding:host_id value\nto the dest host (from the port binding resource), but the opposite\nis not true: updating the port's binding:host_id to point at the\ndest host binding does not automatically activate the inactive\ndest host port binding (and results in the unique constraint failure).\nIn other words, the port's binding:host_id just reflects the current\nactive binding which is the source host until we activate the dest\nhost binding in post live migration. This subtlety went unnoticed\nwhen developing blueprint neutron-new-port-binding-api.\n\nThis change checks to see if a port has an inactive port binding\nwhen looping over the ports in _update_port_binding_for_instance\nand calls activate_port_binding if there is one and skips adding\nit to the list of port that need to be updated.\n\nOne final note, because _update_port_binding_for_instance was getting\npretty big the port binding host logic was refactored out into a\nseparate _get_binding_host_updates_for_port method for easier testing.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I11de92b2375e5475b34e613f12a66162ddc7e001\nCloses-Bug: #1822884\n""}, {'number': 4, 'created': '2019-05-09 23:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/847da27c0e7d0ebc5da59837ac96930fc88b534f', 'message': ""Handle inactive port binding in _update_port_binding_for_instance\n\nIn rare(?) cases when we call migrate_instance_finish in\npost_live_migration_at_destination we can have started the migration\nwith the new multi-port binding workflow (since Rocky) but have not\nactivated the dest host port binding. migrate_instance_start should\nactivate the dest host port binding from _post_live_migration on the\nsource host but maybe that fails for whatever reason.\n\nmigrate_instance_finish calls _update_port_binding_for_instance\nwhich updates the old port binding to point to the new host\ninstead of activating the inactive binding. This results in\na violation of the unique constraint on the neutron ml2_port_bindings\ntable as it would create both an active and inactive port binding\nfor a single port on the same host.\n\nIt's important to note that activating the inactive dest host port\nbinding with automatically update the port's binding:host_id value\nto the dest host (from the port binding resource), but the opposite\nis not true: updating the port's binding:host_id to point at the\ndest host binding does not automatically activate the inactive\ndest host port binding (and results in the unique constraint failure).\nIn other words, the port's binding:host_id just reflects the current\nactive binding which is the source host until we activate the dest\nhost binding in post live migration. This subtlety went unnoticed\nwhen developing blueprint neutron-new-port-binding-api.\n\nThis change checks to see if a port has an inactive port binding\nwhen looping over the ports in _update_port_binding_for_instance\nand calls activate_port_binding if there is one and skips adding\nit to the list of port that need to be updated.\n\nOne final note, because _update_port_binding_for_instance was getting\npretty big the port binding host logic was refactored out into a\nseparate _get_binding_host_updates_for_port method for easier testing.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I11de92b2375e5475b34e613f12a66162ddc7e001\nCloses-Bug: #1822884\n""}, {'number': 5, 'created': '2019-05-13 21:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a193f2c15f1f1c523011970f7b8a0655340bba00', 'message': ""Handle inactive port binding in _update_port_binding_for_instance\n\nIn rare(?) cases when we call migrate_instance_finish in\npost_live_migration_at_destination we can have started the migration\nwith the new multi-port binding workflow (since Rocky) but have not\nactivated the dest host port binding. migrate_instance_start should\nactivate the dest host port binding from _post_live_migration on the\nsource host but maybe that fails for whatever reason.\n\nmigrate_instance_finish calls _update_port_binding_for_instance\nwhich updates the old port binding to point to the new host\ninstead of activating the inactive binding. This results in\na violation of the unique constraint on the neutron ml2_port_bindings\ntable as it would create both an active and inactive port binding\nfor a single port on the same host.\n\nIt's important to note that activating the inactive dest host port\nbinding with automatically update the port's binding:host_id value\nto the dest host (from the port binding resource), but the opposite\nis not true: updating the port's binding:host_id to point at the\ndest host binding does not automatically activate the inactive\ndest host port binding (and results in the unique constraint failure).\nIn other words, the port's binding:host_id just reflects the current\nactive binding which is the source host until we activate the dest\nhost binding in post live migration. This subtlety went unnoticed\nwhen developing blueprint neutron-new-port-binding-api.\n\nThis change checks to see if a port has an inactive port binding\nwhen looping over the ports in _update_port_binding_for_instance\nand calls activate_port_binding if there is one and skips adding\nit to the list of port that need to be updated.\n\nOne final note, because _update_port_binding_for_instance was getting\npretty big the port binding host logic was refactored out into a\nseparate _get_binding_host_updates_for_port method for easier testing.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I11de92b2375e5475b34e613f12a66162ddc7e001\nCloses-Bug: #1822884\n""}, {'number': 6, 'created': '2023-08-26 01:54:17.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/fixtures/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56694ce3cc8c4e2406deeaaf8b7ff557332945f8', 'message': ""Handle inactive port binding in _update_port_binding_for_instance\n\nIn rare(?) cases when we call migrate_instance_finish in\npost_live_migration_at_destination we can have started the migration\nwith the new multi-port binding workflow (since Rocky) but have not\nactivated the dest host port binding. migrate_instance_start should\nactivate the dest host port binding from _post_live_migration on the\nsource host but maybe that fails for whatever reason.\n\nmigrate_instance_finish calls _update_port_binding_for_instance\nwhich updates the old port binding to point to the new host\ninstead of activating the inactive binding. This results in\na violation of the unique constraint on the neutron ml2_port_bindings\ntable as it would create both an active and inactive port binding\nfor a single port on the same host.\n\nIt's important to note that activating the inactive dest host port\nbinding with automatically update the port's binding:host_id value\nto the dest host (from the port binding resource), but the opposite\nis not true: updating the port's binding:host_id to point at the\ndest host binding does not automatically activate the inactive\ndest host port binding (and results in the unique constraint failure).\nIn other words, the port's binding:host_id just reflects the current\nactive binding which is the source host until we activate the dest\nhost binding in post live migration. This subtlety went unnoticed\nwhen developing blueprint neutron-new-port-binding-api.\n\nThis change checks to see if a port has an inactive port binding\nwhen looping over the ports in _update_port_binding_for_instance\nand calls activate_port_binding if there is one and skips adding\nit to the list of port that need to be updated.\n\nOne final note, because _update_port_binding_for_instance was getting\npretty big the port binding host logic was refactored out into a\nseparate _get_binding_host_updates_for_port method for easier testing.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I11de92b2375e5475b34e613f12a66162ddc7e001\nCloses-Bug: #1822884\n""}]",35,653506,56694ce3cc8c4e2406deeaaf8b7ff557332945f8,73,20,6,11604,,,0,"Handle inactive port binding in _update_port_binding_for_instance

In rare(?) cases when we call migrate_instance_finish in
post_live_migration_at_destination we can have started the migration
with the new multi-port binding workflow (since Rocky) but have not
activated the dest host port binding. migrate_instance_start should
activate the dest host port binding from _post_live_migration on the
source host but maybe that fails for whatever reason.

migrate_instance_finish calls _update_port_binding_for_instance
which updates the old port binding to point to the new host
instead of activating the inactive binding. This results in
a violation of the unique constraint on the neutron ml2_port_bindings
table as it would create both an active and inactive port binding
for a single port on the same host.

It's important to note that activating the inactive dest host port
binding with automatically update the port's binding:host_id value
to the dest host (from the port binding resource), but the opposite
is not true: updating the port's binding:host_id to point at the
dest host binding does not automatically activate the inactive
dest host port binding (and results in the unique constraint failure).
In other words, the port's binding:host_id just reflects the current
active binding which is the source host until we activate the dest
host binding in post live migration. This subtlety went unnoticed
when developing blueprint neutron-new-port-binding-api.

This change checks to see if a port has an inactive port binding
when looping over the ports in _update_port_binding_for_instance
and calls activate_port_binding if there is one and skips adding
it to the list of port that need to be updated.

One final note, because _update_port_binding_for_instance was getting
pretty big the port binding host logic was refactored out into a
separate _get_binding_host_updates_for_port method for easier testing.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I11de92b2375e5475b34e613f12a66162ddc7e001
Closes-Bug: #1822884
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/653506/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,7bcdae3802af1a43d3197cd62307a0d858397cce,bug/1822884," @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) self, get_client_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) self, get_client_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) def test_update_port_bindings_for_instance_same_host( self, get_client_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) def test_update_port_bindings_for_instance_with_pci( self, get_client_mock, get_pci_device_devspec_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) get_client_mock, get_pci_device_devspec_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) def test_update_port_bindings_for_instance_with_pci_no_migration( self, get_client_mock, get_pci_device_devspec_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) self, get_client_mock, mock_has_binding): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) self, get_client_mock, has_binding_mock): activate.assert_called_once_with(mock.ANY, uuids.port_id, 'dest') def _test_update_port_binding_true(self, expected_bind_host, func_name, *args): def _test_update_port_true_exception(self,expected_bind_host, self.assertRaises(NEUTRON_CLIENT_EXCEPTION, func, *args) @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(), None)) def test_migrate_instance_finish_binding_true(self, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(), None)) def test_setup_instance_network_on_host_true(self, has_binding_mock): def test_activate_port_binding(self): mock_client = mock.MagicMock() mock_client.put.return_value = resp self.api.activate_port_binding(mock_client, uuids.port_id, mock_client.put.assert_called_once_with( self, mock_log_warning): mock_client = mock.Mock() mock_client.put.return_value = fake_req.FakeResponse(409) self.api.activate_port_binding(mock_client, uuids.port_id, mock_client.put.assert_called_once_with( def test_activate_port_binding_fails(self): mock_client = mock.MagicMock() mock_client.put.return_value = fake_req.FakeResponse(500) mock_client, uuids.port_id, 'fake-host') mock_client.put.assert_called_once_with("," self, get_client_mock): self, get_client_mock): def test_update_port_bindings_for_instance_same_host(self, get_client_mock): def test_update_port_bindings_for_instance_with_pci(self, get_client_mock, get_pci_device_devspec_mock): get_client_mock, get_pci_device_devspec_mock): def test_update_port_bindings_for_instance_with_pci_no_migration(self, get_client_mock, get_pci_device_devspec_mock): self, get_client_mock): self, get_client_mock): activate.assert_called_once_with(self.context, uuids.port_id, 'dest') def _test_update_port_binding_true(self, expected_bind_host, func_name, *args): def _test_update_port_true_exception(self, expected_bind_host, self.assertRaises(NEUTRON_CLIENT_EXCEPTION, func, *args) def test_migrate_instance_finish_binding_true(self): def test_setup_instance_network_on_host_true(self): @mock.patch('nova.network.neutronv2.api._get_ksa_client') def test_activate_port_binding(self, mock_client): mock_client.return_value.put.return_value = resp self.api.activate_port_binding(self.context, uuids.port_id, mock_client.return_value.put.assert_called_once_with( @mock.patch('nova.network.neutronv2.api._get_ksa_client') self, mock_log_warning, mock_client): mock_client.return_value.put.return_value = fake_req.FakeResponse(409) self.api.activate_port_binding(self.context, uuids.port_id, mock_client.return_value.put.assert_called_once_with( @mock.patch('nova.network.neutronv2.api._get_ksa_client') def test_activate_port_binding_fails(self, mock_client): mock_client.return_value.put.return_value = fake_req.FakeResponse(500) self.context, uuids.port_id, 'fake-host') mock_client.return_value.put.assert_called_once_with(",90,45
openstack%2Fdesignate-tempest-plugin~915069,openstack/designate-tempest-plugin,master,I8004d84709836e9bf00bcbb8a1c0c034ae2badf6,Add zone serial tests.,NEW,2024-04-04 14:19:35.000000000,2024-04-10 15:26:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-04 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/067cc3a6e5aa5389d1bc58bb8e5a0b9f89870d0f', 'message': ""Add zone serial tests.\n\nRegarding to #914749 need to check that it's possible to create zones\nwith serial in a different formats including unix timestamp and integer\nformats and update zone with a serial in different formats.\n\nCloses-bug: #2053022\n\nChange-Id: I8004d84709836e9bf00bcbb8a1c0c034ae2badf6\nSigned-off-by: Mikhail Samoylov <mikhailsamoiloff@gmail.com>\n""}, {'number': 2, 'created': '2024-04-05 01:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e1a6bf0986d08c75f54df90cf2035d70f92e4ce0', 'message': ""Add zone serial tests.\n\nRegarding to #914749 need to check that it's possible to create zones\nwith serial in a different formats including unix timestamp and integer\nformats and update zone with a serial in different formats.\n\nCloses-bug: #2053022\n\nChange-Id: I8004d84709836e9bf00bcbb8a1c0c034ae2badf6\nSigned-off-by: Mikhail Samoylov <mikhailsamoiloff@gmail.com>\n""}, {'number': 3, 'created': '2024-04-09 05:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9c1d0383487d6dcbb0a3d39a74f77eca636b66de', 'message': ""Add zone serial tests.\n\nRegarding to #914749 need to check that it's possible to create zones\nwith serial in a different formats including unix timestamp and integer\nformats and update zone with a serial in different formats.\n\nCloses-bug: #2053022\n\nChange-Id: I8004d84709836e9bf00bcbb8a1c0c034ae2badf6\nSigned-off-by: Mikhail Samoylov <mikhailsamoiloff@gmail.com>\n""}, {'number': 4, 'created': '2024-04-09 08:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4626c46cd99a07d2f7ae32417d61ba017d23a372', 'message': ""Add zone serial tests.\n\nRegarding to #914749 need to check that it's possible to create zones\nwith serial in a different formats including unix timestamp and integer\nformats and update zone with a serial in different formats.\n\nCloses-bug: #2053022\n\nChange-Id: I8004d84709836e9bf00bcbb8a1c0c034ae2badf6\nSigned-off-by: Mikhail Samoylov <mikhailsamoiloff@gmail.com>\n""}, {'number': 5, 'created': '2024-04-09 10:20:12.000000000', 'files': ['designate_tempest_plugin/services/dns/v2/json/zones_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/939bff8e30b203c0dc7a02e0f78aa15c51130dff', 'message': ""Add zone serial tests.\n\nRegarding to #914749 need to check that it's possible to create zones\nwith serial in a different formats including unix timestamp and integer\nformats and update zone with a serial in different formats.\n\nCloses-bug: #2053022\n\nChange-Id: I8004d84709836e9bf00bcbb8a1c0c034ae2badf6\nSigned-off-by: Mikhail Samoylov <mikhailsamoiloff@gmail.com>\n""}]",0,915069,939bff8e30b203c0dc7a02e0f78aa15c51130dff,9,1,5,33685,,,0,"Add zone serial tests.

Regarding to #914749 need to check that it's possible to create zones
with serial in a different formats including unix timestamp and integer
formats and update zone with a serial in different formats.

Closes-bug: #2053022

Change-Id: I8004d84709836e9bf00bcbb8a1c0c034ae2badf6
Signed-off-by: Mikhail Samoylov <mikhailsamoiloff@gmail.com>
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/69/915069/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/services/dns/v2/json/zones_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py']",2,067cc3a6e5aa5389d1bc58bb8e5a0b9f89870d0f,fix_lp_2053022," @decorators.idempotent_id('b58b3086-a575-49d9-9379-92de88097742') def test_create_zone_serial_yyyymmddss(self): serial = 2024080201 LOG.info('Create a zone') _, zone = self.client.create_zone(serial=serial) self.addCleanup(self.wait_zone_delete, self.client, zone['id']) LOG.info('Ensure we respond with a right serial') self.assertEqual(serial - 1, zone['serial']) LOG.info('Fetch the zone') _, body = self.client.show_zone(zone['id']) LOG.info('Ensure we respond with updated serial') self.assertEqual(serial - 1, body['serial']) @decorators.idempotent_id('5b288927-42b3-4c2d-b0b5-29a8092eaa01') def test_create_zone_serial_unixtime(self): serial = 1369550494 _, zone = self.client.create_zone(serial=serial) self.addCleanup(self.wait_zone_delete, self.client, zone['id']) LOG.info('Ensure we respond with a right serial') self.assertEqual(serial - 1, zone['serial']) LOG.info('Fetch the zone') _, body = self.client.show_zone(zone['id']) LOG.info('Ensure we respond with updated serial') self.assertEqual(serial - 1, body['serial']) @decorators.idempotent_id('4779dea3-0591-4219-a1d8-6581f907ecb1') def test_create_zone_serial_number(self): serial = 1234567 _, zone = self.client.create_zone(serial=serial) self.addCleanup(self.wait_zone_delete, self.client, zone['id']) LOG.info('Ensure we respond with a right serial') self.assertEqual(serial - 1, zone['serial']) LOG.info('Fetch the zone') _, body = self.client.show_zone(zone['id']) LOG.info('Ensure we respond with updated serial') self.assertEqual(serial - 1, body['serial']) @decorators.idempotent_id('4283f440-990e-4097-9a92-7f8aa1638630') def test_update_zone_serial_to_unixtime(self): serial = 12345 LOG.info('Create a zone') _, zone = self.client.create_zone(serial=serial) self.addCleanup(self.wait_zone_delete, self.client, zone['id']) LOG.info('Update the zone') _, zone = self.client.update_zone(zone['id'], description=""New description"") LOG.info('Ensure we respond with UPDATE+PENDING') self.assertEqual('UPDATE', zone['action']) self.assertEqual('PENDING', zone['status']) LOG.info('Ensure we respond with updated values') self.assertNotEqual(serial, zone['serial']) LOG.info('Fetch the zone') _, body = self.client.show_zone(zone['id']) LOG.info('Ensure we respond with updated serial') self.assertNotEqual(serial, body['serial']) @decorators.idempotent_id('b4ef30c2-823f-47ca-9ef2-84348a77818c') def test_update_zone_serial_to_number(self): serial = 2147483646 LOG.info('Create a zone') _, zone = self.client.create_zone(serial=serial) self.addCleanup(self.wait_zone_delete, self.client, zone['id']) LOG.info('Update the zone') _, zone = self.client.update_zone( zone['id'], serial=serial) LOG.info('Ensure we respond with UPDATE+PENDING') self.assertEqual('UPDATE', zone['action']) self.assertEqual('PENDING', zone['status']) LOG.info('Ensure we respond with updated values') self.assertEqual(serial - 1, zone['serial']) LOG.info('Fetch the zone') _, body = self.client.show_zone(zone['id']) LOG.info('Ensure we respond with updated serial') self.assertEqual(serial - 1, body['serial']) ",,99,2
openstack%2Fkolla-ansible~915169,openstack/kolla-ansible,master,I0037b294fa88f129aaa98da426989a8151e6f9ea,Change the default ceph_nova_user in globals,MERGED,2024-04-05 16:51:38.000000000,2024-04-10 15:21:48.000000000,2024-04-10 15:20:45.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-04-05 16:51:38.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21c05dcf101105b62f1b81620305438ae3d3d8b8', 'message': 'Change the default ceph_nova_user in globals\n\nThe documentation[1] says that ceph_nova_user is the same as ceph_cinder_user,\nbut this it not true. In globals, the variable which refer to nova user on\nceph its setted as just ""nova"", instead of {{ ceph_cinder_user }}\n\n[1] https://docs.openstack.org/kolla-ansible/latest/reference/storage/external-ceph-guide.html\n\nCloses-Bug: #1954910\nChange-Id: I0037b294fa88f129aaa98da426989a8151e6f9ea\n'}]",1,915169,21c05dcf101105b62f1b81620305438ae3d3d8b8,9,4,1,36630,,,0,"Change the default ceph_nova_user in globals

The documentation[1] says that ceph_nova_user is the same as ceph_cinder_user,
but this it not true. In globals, the variable which refer to nova user on
ceph its setted as just ""nova"", instead of {{ ceph_cinder_user }}

[1] https://docs.openstack.org/kolla-ansible/latest/reference/storage/external-ceph-guide.html

Closes-Bug: #1954910
Change-Id: I0037b294fa88f129aaa98da426989a8151e6f9ea
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/915169/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,21c05dcf101105b62f1b81620305438ae3d3d8b8,bug/1954910,"#ceph_nova_user: ""{{ ceph_cinder_user }}""","#ceph_nova_user: ""nova""",1,1
openstack%2Fnova~913226,openstack/nova,stable/2023.1,Ib4de77d68ceeffbc751bca3567ada72228b750af,Reproducer test for live migration with power management,MERGED,2024-03-14 15:08:10.000000000,2024-04-10 15:04:26.000000000,2024-04-10 15:03:11.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 15:08:10.000000000', 'files': ['nova/tests/functional/libvirt/test_power_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6d48c129ca06f269620e64d7950662b396b740b1', 'message': ""Reproducer test for live migration with power management\n\nBuilding on the previous patch's refactor, we can now do functional\ntesting of live migration with CPU power management. We quickly notice\nthat it's mostly broken, leaving the CPUs powered up on the source,\nand not powering them up on the dest.\n\nRelated-bug: 2056613\nChange-Id: Ib4de77d68ceeffbc751bca3567ada72228b750af\n(cherry picked from commit 1f5e3421ec1e15a58b9d9bdb9fc4312373ec4408)\n(cherry picked from commit 95bbb0432ae6507b417aa3a16d8df56aa71f004e)\n""}]",3,913226,6d48c129ca06f269620e64d7950662b396b740b1,16,3,1,8864,,,0,"Reproducer test for live migration with power management

Building on the previous patch's refactor, we can now do functional
testing of live migration with CPU power management. We quickly notice
that it's mostly broken, leaving the CPUs powered up on the source,
and not powering them up on the dest.

Related-bug: 2056613
Change-Id: Ib4de77d68ceeffbc751bca3567ada72228b750af
(cherry picked from commit 1f5e3421ec1e15a58b9d9bdb9fc4312373ec4408)
(cherry picked from commit 95bbb0432ae6507b417aa3a16d8df56aa71f004e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/913226/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_power_manage.py'],1,6d48c129ca06f269620e64d7950662b396b740b1,bug/2056613,"class FakeCore(object): def __init__(self, i): self.ident = i self.power_state = 'online' @property def online(self): return self.power_state == 'online' @online.setter def online(self, state): if state: self.power_state = 'online' else: self.power_state = 'offline' class CoresStub(object): def __init__(self): self.cores = {} def __call__(self, i): if i not in self.cores: self.cores[i] = FakeCore(i) return self.cores[i] class PowerManagementLiveMigrationTests(base.LibvirtMigrationMixin, PowerManagementTestsBase): def setUp(self): super().setUp() self.useFixture(nova_fixtures.SysFileSystemFixture()) self.flags(cpu_dedicated_set='1-9', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) self.flags(cpu_power_management=True, group='libvirt') # NOTE(artom) Fill up all dedicated CPUs. This makes the assertions # further down easier. self.pcpu_flavor_id = self._create_flavor( vcpu=9, extra_spec=self.extra_spec) self.start_compute( host_info=fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=5, cpu_threads=2), hostname='src') self.src = self.computes['src'] self.src.driver.cpu_api.core = CoresStub() # NOTE(artom) In init_host() the libvirt driver calls # power_down_all_dedicated_cpus(). Call it again now after swapping to # our stub to fake reality. self.src.driver.cpu_api.power_down_all_dedicated_cpus() self.start_compute( host_info=fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=5, cpu_threads=2), hostname='dest') self.dest = self.computes['dest'] self.dest.driver.cpu_api.power_down_all_dedicated_cpus() def assert_cores(self, host, cores, online=True): for i in cores: self.assertEqual(online, host.driver.cpu_api.core(i).online) def test_live_migrate_server(self): self.server = self._create_server( flavor_id=self.pcpu_flavor_id, expected_state='ACTIVE', host='src') server = self._live_migrate(self.server) self.assertEqual('dest', server['OS-EXT-SRV-ATTR:host']) # FIXME(artom) We've not powered up the dest cores, and left the src # cores powered on. self.assert_cores(self.src, range(1, 10), online=True) self.assert_cores(self.dest, range(1, 10), online=False) ",,80,0
openstack%2Fswift~893861,openstack/swift,master,If6c2e767737f52e262fd2dc56fb0a0d34826f6cb,swift-expired-status: tool to inspect the expiry queue,NEW,2023-09-06 10:54:16.000000000,2024-04-10 14:53:40.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-09-06 10:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/321d2631e57f6019ed6dbd4dac98b0624321bac0', 'message': 'swift-expired-status CLI tool to inspect the expiry queue\n\nThis is a tool for inspecting the state of the expiry queue. It\noutputs the total number of entries in the queue, as well as the\nnumber of pending and stale entries.\n\nBased on a gist by Clay Gerrard:\nhttps://gist.github.com/clayg/7f66eab2a61c77869e1e84ac4ed6f1df\n\nSubsequently tidied up, modernised, and a logic error fixed by Matthew\nVernon; we think this is a useful enough tool for Swift administrators\nto make it more widely available.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: If6c2e767737f52e262fd2dc56fb0a0d34826f6cb\n'}, {'number': 2, 'created': '2023-09-06 10:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5a0cf11cf51c4e69307243db42b7708a51440c8e', 'message': 'swift-expired-status: tool to inspect the expiry queue\n\nThis is a tool for inspecting the state of the expiry queue. It\noutputs the total number of entries in the queue, as well as the\nnumber of pending and stale entries.\n\nBased on a gist by Clay Gerrard:\nhttps://gist.github.com/clayg/7f66eab2a61c77869e1e84ac4ed6f1df\n\nSubsequently tidied up, modernised, and a logic error fixed by Matthew\nVernon; we think this is a useful enough tool for Swift administrators\nto make it more widely available.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: If6c2e767737f52e262fd2dc56fb0a0d34826f6cb\n'}, {'number': 3, 'created': '2023-09-08 13:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a2fd891b8cc2a8ab00dfc0e7237a3247f841274d', 'message': 'swift-expired-status: tool to inspect the expiry queue\n\nThis is a tool for inspecting the state of the expiry queue. It\noutputs the total number of entries in the queue, as well as the\nnumber of pending and stale entries.\n\nBased on a gist by Clay Gerrard:\nhttps://gist.github.com/clayg/7f66eab2a61c77869e1e84ac4ed6f1df\n\nSubsequently tidied up, modernised, and a logic error fixed by Matthew\nVernon; we think this is a useful enough tool for Swift administrators\nto make it more widely available.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: If6c2e767737f52e262fd2dc56fb0a0d34826f6cb\n'}, {'number': 4, 'created': '2023-09-08 14:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c88992460a846bc1c100f38652468b301889514d', 'message': 'swift-expired-status: tool to inspect the expiry queue\n\nThis is a tool for inspecting the state of the expiry queue. It\noutputs the total number of entries in the queue, as well as the\nnumber of pending and stale entries.\n\nBased on a gist by Clay Gerrard:\nhttps://gist.github.com/clayg/7f66eab2a61c77869e1e84ac4ed6f1df\n\nSubsequently tidied up, modernised, and a logic error fixed by Matthew\nVernon; we think this is a useful enough tool for Swift administrators\nto make it more widely available.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: If6c2e767737f52e262fd2dc56fb0a0d34826f6cb\n'}, {'number': 5, 'created': '2024-04-10 13:43:46.000000000', 'files': ['swift/cli/expired_status.py', 'bin/swift-expired-status', 'doc/manpages/swift-expired-status.1'], 'web_link': 'https://opendev.org/openstack/swift/commit/ba9b462dd10295026bbdf4df6f81d156d196b482', 'message': 'swift-expired-status: tool to inspect the expiry queue\n\nThis is a tool for inspecting the state of the expiry queue. It\noutputs the total number of entries in the queue, as well as the\nnumber of pending and stale entries.\n\nBased on a gist by Clay Gerrard:\nhttps://gist.github.com/clayg/7f66eab2a61c77869e1e84ac4ed6f1df\n\nSubsequently tidied up, modernised, and a logic error fixed by Matthew\nVernon; we think this is a useful enough tool for Swift administrators\nto make it more widely available.\n\nCo-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>\nSigned-off-by: Matthew Vernon <mvernon@wikimedia.org>\nChange-Id: If6c2e767737f52e262fd2dc56fb0a0d34826f6cb\n'}]",19,893861,ba9b462dd10295026bbdf4df6f81d156d196b482,21,2,5,34175,,,0,"swift-expired-status: tool to inspect the expiry queue

This is a tool for inspecting the state of the expiry queue. It
outputs the total number of entries in the queue, as well as the
number of pending and stale entries.

Based on a gist by Clay Gerrard:
https://gist.github.com/clayg/7f66eab2a61c77869e1e84ac4ed6f1df

Subsequently tidied up, modernised, and a logic error fixed by Matthew
Vernon; we think this is a useful enough tool for Swift administrators
to make it more widely available.

Co-Authored-By: Clay Gerrard <clay.gerrard@gmail.com>
Signed-off-by: Matthew Vernon <mvernon@wikimedia.org>
Change-Id: If6c2e767737f52e262fd2dc56fb0a0d34826f6cb
",git fetch https://review.opendev.org/openstack/swift refs/changes/61/893861/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/expired_status.py', 'bin/swift-expired-status', 'doc/manpages/swift-expired-status.1']",3,321d2631e57f6019ed6dbd4dac98b0624321bac0,swift_expired_stats,".TH SWIFT-EXPIRED-STATUS ""1"" ""September 2023"" ""Linux"" ""OpenStack Swift"" .SH NAME swift-expired-status \- inspect the state of the swift expiry queue .SH SYNOPSIS usage: swift\-expired\-status [\-h] [\-d] [\-v] .IP [\-\-container\-divisor CONTAINER_DIVISOR] .SH DESCRIPTION This is a tool for inspecting the state of the expiry queue. It outputs the total number of entries in the queue, as well as the number of pending (i.e. due to be deleted soon) and stale (beyond their expiry date) entries. .SS ""optional arguments:"" .TP \fB\-h\fR, \fB\-\-help\fR show this help message and exit .TP \fB\-d\fR, \fB\-\-details\fR perform counts by object not just by container .TP \fB\-v\fR, \fB\-\-verbose\fR output names and counts not just totals .TP \fB\-\-container\-divisor\fR CONTAINER_DIVISOR The window size for pending expirations .SH DOCUMENTATION .LP More in depth documentation about the swift ring and also OpenStack Swift as a whole can be found at .BI https://swift.openstack.org ",,165,0
openstack%2Fswift~907523,openstack/swift,master,Ic81548638ccd99049abc9dbe88f01f28280d6513,drive-full-checker,NEW,2024-02-02 10:08:16.000000000,2024-04-10 14:42:06.000000000,,"[{'_account_id': 1179}, {'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 36116}]","[{'number': 1, 'created': '2024-02-02 10:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4ea31c1c5dc45f7c9147001a38b6b60749dda5bd', 'message': 'WIP (do-not-merge): disk-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 2, 'created': '2024-02-02 10:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ffe80c91bfa2df8f0650d26d25bb04afae956ae', 'message': 'WIP (do-not-merge): disk-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 3, 'created': '2024-02-02 10:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03c95e266f7d80938d04800e9525047b63bcccc6', 'message': 'WIP (do-not-merge): disk-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 4, 'created': '2024-02-06 07:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/17ddf7f39eb27217440723f2a2c1cf5d80d1492d', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 5, 'created': '2024-02-06 07:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4c8e6f6396b05c1a5d8b55180c5f4881b90b8cef', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 6, 'created': '2024-02-08 11:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3113d99220fd422bba0a78698fb9950d259b2922', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 7, 'created': '2024-02-08 15:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/57aaf2d2646fef8e0bda1b274729830b482e4865', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 8, 'created': '2024-02-08 15:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/845c6bdaf3026ec4abe59a33ff2eeb3d6f3a8d7d', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 9, 'created': '2024-02-08 15:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b8ccbead9ab63280f7d358e119137e2a6eefd16', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 10, 'created': '2024-02-09 07:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d6afdfe68358e6fee7aa45f7b540cf93346e2eb', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 11, 'created': '2024-02-09 09:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c80089a1a583cd62b82a5fef9cc18f1b0ecf13e4', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 12, 'created': '2024-02-09 09:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/59dd3603c8a8e736ab4d670762f07f5607a73358', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 13, 'created': '2024-02-10 11:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1cf5b49dc53e30c76b70f22fd0b4745c95e1489c', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 14, 'created': '2024-02-10 15:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7a86d369423e0e0588cb6fa2a65486239a3f0119', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 15, 'created': '2024-02-10 18:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b8ef5a8d95323c97e2ff4ef7035a5c76f710a690', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 16, 'created': '2024-02-10 19:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ade72857cc374909c0d3e1852320630e6120475e', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 17, 'created': '2024-02-10 19:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9bc913cf8faf92e20463e64f5c1526155eb298e4', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 18, 'created': '2024-02-10 22:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ef96983827e8af8b8da187e774637623dc930540', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 19, 'created': '2024-02-10 22:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/57624ad62f1529135880bf774de85a47960a9620', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 20, 'created': '2024-02-12 10:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/291b406ed100ce9e0f2c5e4c08ac3fea41dce92c', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 21, 'created': '2024-02-12 10:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37820e2a2b21484316a1258d7f0eb44396e9c5ab', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 22, 'created': '2024-02-12 12:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d56b35fb62d9e5ad9da5f0eba8fa19b659ee7074', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 23, 'created': '2024-02-12 13:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6143f5e7c4a8c83339f2e46839eb2776a8009d44', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 24, 'created': '2024-02-12 23:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f80dde64da93dbb6454e173837477a2110081cdd', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 25, 'created': '2024-02-15 09:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/27bb92182519c479acbae48e42447fdf7dda0609', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 26, 'created': '2024-02-15 10:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9461e9e02ab62bc2fff8e293f2420b220cd13ad', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 27, 'created': '2024-02-15 14:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f642d12d477500f1636b684aebfc7cfb08345507', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 28, 'created': '2024-02-15 20:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aca2044f07aabf6703eba4ae3c4c311ecb9db4aa', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 29, 'created': '2024-02-21 10:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a3cf4983de288cde7febc1dbd392c56a8982b160', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 30, 'created': '2024-02-21 11:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/75d1d6d5f017e096558198aaa7aa2c1f3c3ed1e2', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 31, 'created': '2024-02-21 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2987d0e46b090340ed7db75e209698508f6155e9', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 32, 'created': '2024-03-06 08:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5592dad99536408fe2e27133dbfa1aab793bc4f6', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 33, 'created': '2024-03-06 22:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd2613d05ec453cb407d4050e9c1e7ab5aa1ce0f', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}, {'number': 34, 'created': '2024-03-06 23:01:56.000000000', 'files': ['releasenotes/notes/disk-full-checker-d4850f2fb479bb36.yaml', 'swift/cli/drive_full_checker.py', 'etc/drive-full-checker.conf-sample', 'test/unit/cli/test_drive_full_checker.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/e51fa1b57e48a1645ac2c213fa71374691d385db', 'message': 'drive-full-checker\n\nThe admin documentation provides a documentation on how to ""prevent[ing]\ndisk full scenarios"" over here:\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nEven if the doc provides an actual example, this example is written in\nPython 2, and its implementation is incomplete.\n\nThis patch intend to fill the gap, and allow administrator to use an\nofficial implementation of a new ""swift-drive-full-checker"" tool from\n/usr/bin directly. Once done, we intend to also patch puppet-swift to\nuse this new tool.\n\nChange-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513\n'}]",112,907523,e51fa1b57e48a1645ac2c213fa71374691d385db,102,8,34,6476,,,0,"drive-full-checker

The admin documentation provides a documentation on how to ""prevent[ing]
disk full scenarios"" over here:
https://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios

Even if the doc provides an actual example, this example is written in
Python 2, and its implementation is incomplete.

This patch intend to fill the gap, and allow administrator to use an
official implementation of a new ""swift-drive-full-checker"" tool from
/usr/bin directly. Once done, we intend to also patch puppet-swift to
use this new tool.

Change-Id: Ic81548638ccd99049abc9dbe88f01f28280d6513
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/907523/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/drive-full-checker.conf', 'swift/cli/device_full.py', 'setup.cfg']",3,4ea31c1c5dc45f7c9147001a38b6b60749dda5bd,disk-full-checker, swift-drive-full-checker = swift.cli.device_full:main,,145,0
openstack%2Fnova~914765,openstack/nova,stable/2023.2,I1349b880934ad9f44a943cf7de324d7338619d2e,Fix nova-manage image_property show unexpected keyword,MERGED,2024-03-29 18:57:24.000000000,2024-04-10 14:12:09.000000000,2024-04-10 14:11:01.000000000,"[{'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-29 18:57:24.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1bbd44e16e51660eb4fea9d3c970a5aee99225a5', 'message': 'Fix nova-manage image_property show unexpected keyword\n\nReproduction steps:\n1. Execute: nova-manage image_property show <vm_uuid> \\\n                            hw_vif_multiqueue_enabled\n2. Observe:\n  An error has occurred:\n  Traceback (most recent call last):\n    File ""/var/lib/kolla/venv/lib/python3.9/\n          site-packages/nova/cmd/manage.py"", line 3394, in main\n      ret = fn(*fn_args, **fn_kwargs)\n  TypeError: show() got an unexpected keyword argument \'property\'\n\nChange-Id: I1349b880934ad9f44a943cf7de324d7338619d2e\nCloses-Bug: #2016346\n(cherry picked from commit 1c02c0da1702ab1f58e930782a8866ed683c3c7d)\n(cherry picked from commit fc4b592d557cc92b7887ddb18fe2eb7588263e90)\n'}]",3,914765,1bbd44e16e51660eb4fea9d3c970a5aee99225a5,12,3,1,4690,,,0,"Fix nova-manage image_property show unexpected keyword

Reproduction steps:
1. Execute: nova-manage image_property show <vm_uuid> \
                            hw_vif_multiqueue_enabled
2. Observe:
  An error has occurred:
  Traceback (most recent call last):
    File ""/var/lib/kolla/venv/lib/python3.9/
          site-packages/nova/cmd/manage.py"", line 3394, in main
      ret = fn(*fn_args, **fn_kwargs)
  TypeError: show() got an unexpected keyword argument 'property'

Change-Id: I1349b880934ad9f44a943cf7de324d7338619d2e
Closes-Bug: #2016346
(cherry picked from commit 1c02c0da1702ab1f58e930782a8866ed683c3c7d)
(cherry picked from commit fc4b592d557cc92b7887ddb18fe2eb7588263e90)
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/914765/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,1bbd44e16e51660eb4fea9d3c970a5aee99225a5,bug/2016346," 'image_property', metavar='<image_property>', property_value = instance.system_metadata.get( if property_value: print(property_value)"," 'property', metavar='<image_property>', image_property = instance.system_metadata.get( if image_property: print(image_property)",4,4
openstack%2Fmistral~898813,openstack/mistral,master,Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a,Heartbeats for async actions added,NEW,2023-10-19 11:55:12.000000000,2024-04-10 14:05:46.000000000,,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-10-19 11:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/231a39e7c674330cdf2a231c9e8379bd4c5d28cb', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\n'}, {'number': 2, 'created': '2023-10-19 12:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5a0c9469089087ad3d2b1d4c17e1c8f3381aeee6', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 3, 'created': '2023-10-19 13:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8acb85b33b58602621d4c32ba3475d293137dcd4', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 4, 'created': '2023-10-19 15:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/28049cfe332500b76db1edcdf17001ac7eced91f', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 5, 'created': '2023-10-23 13:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/05581e4ed08a2f07f061381393560689b410093d', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 6, 'created': '2023-10-23 15:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2ee9715a742a234998919290c5ec71d1681d9a24', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 7, 'created': '2023-11-28 18:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6c1e75b8ece9e6757be5582b908a7123c203738c', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 8, 'created': '2024-04-10 10:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5a63fc859f7ac2265e5a8376f7d8ef940ec4d87d', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 9, 'created': '2024-04-10 10:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8b23eedd5886a6cd303e8f0b711de8e90e4fdf73', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 10, 'created': '2024-04-10 11:24:30.000000000', 'files': ['mistral/executors/base.py', 'mistral/services/action_heartbeat_checker.py', 'mistral/tests/unit/engine/test_environment.py', 'mistral/api/controllers/root.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/045_async_heatbeats_flag_for_action_executions.py', 'mistral/rpc/clients.py', 'mistral/tests/unit/engine/test_safe_rerun.py', 'mistral/db/v2/sqlalchemy/models.py', 'doc/source/user/main_features.rst', 'mistral/engine/tasks.py', 'mistral/lang/v2/tasks.py', 'mistral/db/v2/api.py', 'mistral/engine/actions.py', 'mistral/executors/default_executor.py', 'mistral/tests/unit/api/v2/test_async_actions_heartbeats.py', 'mistral/executors/executor_server.py', 'mistral/lang/v2/task_defaults.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/api/controllers/async_actions_heartbeats.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/1d8bbc3af812c012a2fa0c05b6fb4a5b3aa71b07', 'message': 'Heartbeats for async actions added\n\nAction heartbeats is a must-have mechanism to ensure\nno mistral entity will be in RUNNING state forever.\nSync actions already have this feature, but async not.\nAsync actions completion is performed by external services,\nso async action heartbeats should be sent by them as well.\n\nChange-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",22,898813,1d8bbc3af812c012a2fa0c05b6fb4a5b3aa71b07,23,7,10,29124,,,0,"Heartbeats for async actions added

Action heartbeats is a must-have mechanism to ensure
no mistral entity will be in RUNNING state forever.
Sync actions already have this feature, but async not.
Async actions completion is performed by external services,
so async action heartbeats should be sent by them as well.

Change-Id: Idd8b4070cbad0fc5aa9fc567b1d6903d107a736a
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/13/898813/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/executors/base.py', 'mistral/services/action_heartbeat_checker.py', 'mistral/api/controllers/root.py', 'mistral/rpc/clients.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/engine/tasks.py', 'mistral/lang/v2/tasks.py', 'mistral/db/v2/api.py', 'mistral/engine/actions.py', 'mistral/executors/default_executor.py', 'mistral/executors/executor_server.py', 'mistral/lang/v2/task_defaults.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/api/controllers/async_actions_heartbeats.py']",14,231a39e7c674330cdf2a231c9e8379bd4c5d28cb,async_heartbeats,"import wsmeext.pecan as wsme_pecan from pecan import rest from mistral.api.controllers.v2 import types from mistral.api.controllers import resource from mistral.rpc import clients as rpc from mistral.utils import rest_utils class AsyncActionsHeartbeats(resource.Resource): """"""AsyncActionsHeartbeats resource."""""" action_ex_ids = [types.uuid] @classmethod def sample(cls): return cls( action_ex_ids=[ ""0a68ce2a-e229-40a7-ab8b-256b212fe34d"", ""0a68ce2a-e229-40a7-ab8b-256b212fe342"" ] ) class AsyncActionsHeartbeatsController(rest.RestController): @rest_utils.wrap_wsme_controller_exception @wsme_pecan.wsexpose( AsyncActionsHeartbeats, body=AsyncActionsHeartbeats, status_code=200 ) def put(self, async_actions_heartbeats): engine = rpc.get_engine_client() engine.process_action_heartbeats( async_actions_heartbeats.action_ex_ids ) return async_actions_heartbeats ",,166,23
openstack%2Fnova~913225,openstack/nova,stable/2023.1,I052535249b9a3e144bb68b8c588b5995eb345b97,pwr mgmt: make API into a per-driver object,MERGED,2024-03-14 15:08:10.000000000,2024-04-10 13:51:58.000000000,2024-04-10 13:50:45.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 15:08:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/cpu/test_api.py', 'nova/virt/libvirt/cpu/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/874acc1ed16d3125db16add1e03dea65d8c542ca', 'message': 'pwr mgmt: make API into a per-driver object\n\nWe want to test power management in our functional tests in multinode\nscenarios (ex: live migration).\n\nThis was previously impossible because all the methods in\nnova.virt.libvirt.cpu.api and were at the module level, meaning both\nsource and destination libvirt drivers would call the same method to\nonline and offline cores. This made it impossible to maintain distinct\ncore power state between source and destination.\n\nThis patch inserts a nova.virt.libvirt.cpu.api.API class, and gives\nthe libvirt driver a cpu_api attribute with an instance of that\nclass. Along with the tiny API.core() helper, this allows new\nfunctional tests in the subsequent patches to stub out the core\n""model"" code with distinct objects on the source and destination\nlibvirt drivers, and enables a whole bunch of testing (and fixes!)\naround live migration.\n\nRelated-bug: 2056613\nChange-Id: I052535249b9a3e144bb68b8c588b5995eb345b97\n(cherry picked from commit 29dc044a7aa1b1dd35ea4695c055feb5136ba1e5)\n(cherry picked from commit 2a0e63828b6fefc1e83349f0bdac7f9eb8ea6678)\n'}]",5,913225,874acc1ed16d3125db16add1e03dea65d8c542ca,23,3,1,8864,,,0,"pwr mgmt: make API into a per-driver object

We want to test power management in our functional tests in multinode
scenarios (ex: live migration).

This was previously impossible because all the methods in
nova.virt.libvirt.cpu.api and were at the module level, meaning both
source and destination libvirt drivers would call the same method to
online and offline cores. This made it impossible to maintain distinct
core power state between source and destination.

This patch inserts a nova.virt.libvirt.cpu.api.API class, and gives
the libvirt driver a cpu_api attribute with an instance of that
class. Along with the tiny API.core() helper, this allows new
functional tests in the subsequent patches to stub out the core
""model"" code with distinct objects on the source and destination
libvirt drivers, and enables a whole bunch of testing (and fixes!)
around live migration.

Related-bug: 2056613
Change-Id: I052535249b9a3e144bb68b8c588b5995eb345b97
(cherry picked from commit 29dc044a7aa1b1dd35ea4695c055feb5136ba1e5)
(cherry picked from commit 2a0e63828b6fefc1e83349f0bdac7f9eb8ea6678)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/913225/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/cpu/test_api.py', 'nova/virt/libvirt/cpu/api.py']",3,874acc1ed16d3125db16add1e03dea65d8c542ca,bug/2056613,"class API(object): def core(self, i): """"""From a purely functional point of view, there is no need for this method. However, we want to test power management in multinode scenarios (ex: live migration) in our functional tests. If we instantiated the Core class directly in the methods below, the functional tests would not be able to distinguish between cores on the source and destination hosts. In functional tests we can replace this helper method by a stub that returns a fixture, allowing us to maintain distinct core power state for each host. See also nova.virt.libvirt.driver.LibvirtDriver.cpu_api. """""" return Core(i) def power_up(self, instance: objects.Instance) -> None: if not CONF.libvirt.cpu_power_management: return if instance.numa_topology is None: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved) powered_up = set() for pcpu in pcpus: if pcpu in cpu_dedicated_set: pcpu = self.core(pcpu) if CONF.libvirt.cpu_power_management_strategy == 'cpu_state': pcpu.online = True else: pcpu.set_high_governor() powered_up.add(str(pcpu)) LOG.debug(""Cores powered up : %s"", powered_up) def power_down(self, instance: objects.Instance) -> None: if not CONF.libvirt.cpu_power_management: return if instance.numa_topology is None: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved) powered_down = set() for pcpu in pcpus: if pcpu in cpu_dedicated_set: pcpu = self.core(pcpu) if CONF.libvirt.cpu_power_management_strategy == 'cpu_state': pcpu.online = False else: pcpu.set_low_governor() powered_down.add(str(pcpu)) LOG.debug(""Cores powered down : %s"", powered_down) def power_down_all_dedicated_cpus(self) -> None: if not CONF.libvirt.cpu_power_management: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() for pcpu in cpu_dedicated_set: pcpu = self.core(pcpu) LOG.debug(""Cores powered down : %s"", cpu_dedicated_set) def validate_all_dedicated_cpus(self) -> None: if not CONF.libvirt.cpu_power_management: return cpu_dedicated_set = hardware.get_cpu_dedicated_set() or set() governors = set() cpu_states = set() for pcpu in cpu_dedicated_set: if (pcpu == 0 and CONF.libvirt.cpu_power_management_strategy == 'cpu_state'): LOG.warning('CPU0 is in cpu_dedicated_set, ' 'but it is not eligible for state management ' 'and will be ignored') continue pcpu = self.core(pcpu) # we need to collect the governors strategy and the CPU states governors.add(pcpu.governor) cpu_states.add(pcpu.online) if CONF.libvirt.cpu_power_management_strategy == 'cpu_state': # all the cores need to have the same governor strategy if len(governors) > 1: msg = _(""All the cores need to have the same governor strategy"" ""before modifying the CPU states. You can reboot the "" ""compute node if you prefer."") raise exception.InvalidConfiguration(msg) elif CONF.libvirt.cpu_power_management_strategy == 'governor': # all the cores need to be online if False in cpu_states: msg = _(""All the cores need to be online before modifying the "" ""governor strategy."") raise exception.InvalidConfiguration(msg)","def power_up(instance: objects.Instance) -> None: if not CONF.libvirt.cpu_power_management: return if instance.numa_topology is None: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved) powered_up = set() for pcpu in pcpus: if pcpu in cpu_dedicated_set: pcpu = Core(pcpu) if CONF.libvirt.cpu_power_management_strategy == 'cpu_state': pcpu.online = True else: pcpu.set_high_governor() powered_up.add(str(pcpu)) LOG.debug(""Cores powered up : %s"", powered_up) def power_down(instance: objects.Instance) -> None: if not CONF.libvirt.cpu_power_management: return if instance.numa_topology is None: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved) powered_down = set() for pcpu in pcpus: if pcpu in cpu_dedicated_set: pcpu = Core(pcpu) powered_down.add(str(pcpu)) LOG.debug(""Cores powered down : %s"", powered_down) def power_down_all_dedicated_cpus() -> None: if not CONF.libvirt.cpu_power_management: return cpu_dedicated_set = hardware.get_cpu_dedicated_set_nozero() or set() for pcpu in cpu_dedicated_set: pcpu = Core(pcpu) if CONF.libvirt.cpu_power_management_strategy == 'cpu_state': pcpu.online = False else: pcpu.set_low_governor() LOG.debug(""Cores powered down : %s"", cpu_dedicated_set) def validate_all_dedicated_cpus() -> None: if not CONF.libvirt.cpu_power_management: return cpu_dedicated_set = hardware.get_cpu_dedicated_set() or set() governors = set() cpu_states = set() for pcpu in cpu_dedicated_set: if (pcpu == 0 and CONF.libvirt.cpu_power_management_strategy == 'cpu_state'): LOG.warning('CPU0 is in cpu_dedicated_set, but it is not eligible ' 'for state management and will be ignored') continue pcpu = Core(pcpu) # we need to collect the governors strategy and the CPU states governors.add(pcpu.governor) cpu_states.add(pcpu.online) if CONF.libvirt.cpu_power_management_strategy == 'cpu_state': # all the cores need to have the same governor strategy if len(governors) > 1: msg = _(""All the cores need to have the same governor strategy"" ""before modifying the CPU states. You can reboot the "" ""compute node if you prefer."") raise exception.InvalidConfiguration(msg) elif CONF.libvirt.cpu_power_management_strategy == 'governor': # all the cores need to be online if False in cpu_states: msg = _(""All the cores need to be online before modifying the "" ""governor strategy."") raise exception.InvalidConfiguration(msg)",121,97
openstack%2Fmasakari-monitors~911191,openstack/masakari-monitors,master,Iea49138b8fa5a05cd1c0f98d47448da3397db763,reno: Update master for unmaintained/wallaby,MERGED,2024-03-05 18:24:40.000000000,2024-04-10 13:18:35.000000000,2024-04-10 13:16:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2024-03-05 18:24:40.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5617fd6556f1e86344bbee703797a7399841e22f', 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: Iea49138b8fa5a05cd1c0f98d47448da3397db763\n'}]",0,911191,5617fd6556f1e86344bbee703797a7399841e22f,7,2,1,22816,,,0,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: Iea49138b8fa5a05cd1c0f98d47448da3397db763
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/91/911191/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,5617fd6556f1e86344bbee703797a7399841e22f,reno-eom-wallaby, :branch: unmaintained/wallaby, :branch: stable/wallaby,1,1
openstack%2Fmasakari-monitors~911174,openstack/masakari-monitors,master,I945543061c49a6624f5e4b119d45040b821ffc27,reno: Update master for unmaintained/victoria,MERGED,2024-03-05 18:23:55.000000000,2024-04-10 13:17:45.000000000,2024-04-10 13:16:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2024-03-05 18:23:55.000000000', 'files': ['releasenotes/source/victoria.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2a519fa5c787d6d3dcb6a82018277e65db80edd6', 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I945543061c49a6624f5e4b119d45040b821ffc27\n'}]",0,911174,2a519fa5c787d6d3dcb6a82018277e65db80edd6,7,2,1,22816,,,0,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I945543061c49a6624f5e4b119d45040b821ffc27
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/74/911174/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/victoria.rst'],1,2a519fa5c787d6d3dcb6a82018277e65db80edd6,reno-eom-victoria, :branch: unmaintained/victoria, :branch: stable/victoria,1,1
openstack%2Fmasakari-monitors~911203,openstack/masakari-monitors,master,Ifb5aaaa7c133cdcd1fed6d1906f0f96d92431bd1,reno: Update master for unmaintained/xena,MERGED,2024-03-05 18:25:21.000000000,2024-04-10 13:16:45.000000000,2024-04-10 13:16:45.000000000,"[{'_account_id': 22348}, {'_account_id': 30623}]","[{'number': 1, 'created': '2024-03-05 18:25:21.000000000', 'files': ['releasenotes/source/xena.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/ce603444bb5f4cd1da17e7079766c8b2b3bad0a7', 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: Ifb5aaaa7c133cdcd1fed6d1906f0f96d92431bd1\n'}]",0,911203,ce603444bb5f4cd1da17e7079766c8b2b3bad0a7,6,2,1,22816,,,0,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: Ifb5aaaa7c133cdcd1fed6d1906f0f96d92431bd1
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/03/911203/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/xena.rst'],1,ce603444bb5f4cd1da17e7079766c8b2b3bad0a7,reno-eom-xena, :branch: unmaintained/xena, :branch: stable/xena,1,1
openstack%2Fpython-observabilityclient~915395,openstack/python-observabilityclient,master,Ie2db01d02483cf6767d5d54159ebf203e20dd2c5,Sort column order in cli output,MERGED,2024-04-10 06:15:28.000000000,2024-04-10 13:12:56.000000000,2024-04-10 13:12:56.000000000,"[{'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 22348}, {'_account_id': 32240}]","[{'number': 1, 'created': '2024-04-10 06:15:28.000000000', 'files': ['observabilityclient/tests/unit/test_utils.py', 'observabilityclient/utils/metric_utils.py'], 'web_link': 'https://opendev.org/openstack/python-observabilityclient/commit/3dcd00ad334b51a10a36df080cb2b1cf59d63ce3', 'message': 'Sort column order in cli output\n\nChange-Id: Ie2db01d02483cf6767d5d54159ebf203e20dd2c5\n'}]",1,915395,3dcd00ad334b51a10a36df080cb2b1cf59d63ce3,9,4,1,34975,,,0,"Sort column order in cli output

Change-Id: Ie2db01d02483cf6767d5d54159ebf203e20dd2c5
",git fetch https://review.opendev.org/openstack/python-observabilityclient refs/changes/95/915395/1 && git format-patch -1 --stdout FETCH_HEAD,"['observabilityclient/tests/unit/test_utils.py', 'observabilityclient/utils/metric_utils.py']",2,3dcd00ad334b51a10a36df080cb2b1cf59d63ce3,, cols.sort(),,68,0
openstack%2Fovn-octavia-provider~907582,openstack/ovn-octavia-provider,master,I8a4c0781ecba4c7b2686213623bb312c523b41ac,Fix pattern to exclude generated config file,MERGED,2024-02-02 14:31:50.000000000,2024-04-10 12:57:17.000000000,2024-04-10 12:55:43.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2024-02-02 14:31:50.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/eee4da72349069dcb6404c448dd2bff74bbcc66e', 'message': 'Fix pattern to exclude generated config file\n\nThe current pattern does not match the target path so git still picks\nup the file as a change which can be included.\n\nChange-Id: I8a4c0781ecba4c7b2686213623bb312c523b41ac\n'}]",15,907582,eee4da72349069dcb6404c448dd2bff74bbcc66e,50,3,1,9816,,,0,"Fix pattern to exclude generated config file

The current pattern does not match the target path so git still picks
up the file as a change which can be included.

Change-Id: I8a4c0781ecba4c7b2686213623bb312c523b41ac
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/82/907582/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,eee4da72349069dcb6404c448dd2bff74bbcc66e,,etc/octavia/conf.d/ovn.conf.sample,etc/*.sample,1,1
openstack%2Fovn-octavia-provider~907996,openstack/ovn-octavia-provider,master,Ia57ff2374ba9ecdede28f4651c3caa638db0da46,tests: call correct assert_* methods,MERGED,2024-02-06 12:12:27.000000000,2024-04-10 12:56:35.000000000,2024-04-10 12:55:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2024-02-06 12:12:27.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/41e7c431a310b4d7bce4f057a543143eb37f143c', 'message': 'tests: call correct assert_* methods\n\nFix a few incorrectly called assertions:\n\n  not_called -> assert_not_called\n  has_calls -> assert_has_calls\n\nFix a failing test as a result of the assertion actually being made.\n\nChange-Id: Ia57ff2374ba9ecdede28f4651c3caa638db0da46\n'}]",3,907996,41e7c431a310b4d7bce4f057a543143eb37f143c,13,3,1,935,,,0,"tests: call correct assert_* methods

Fix a few incorrectly called assertions:

  not_called -> assert_not_called
  has_calls -> assert_has_calls

Fix a failing test as a result of the assertion actually being made.

Change-Id: Ia57ff2374ba9ecdede28f4651c3caa638db0da46
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/96/907996/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/tests/unit/test_helper.py'],1,41e7c431a310b4d7bce4f057a543143eb37f143c,bug/assert-calls," net_cli.get_subnet.assert_not_called() net_cli.get_port.assert_not_called() net_cli.get_subnet.assert_not_called() 'success_count': '3', 'failure_count': '5'} external_ids_vip = { external_ids_fip = { ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id, ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id, ovn_const.LB_EXT_IDS_HM_VIP: self.ovn_hm_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_FIP_KEY)} kwargs_first = {'vip': vip, 'options': options, 'external_ids': external_ids_vip} kwargs_second = {'vip': vip, 'options': options, 'external_ids': external_ids_fip} mock.call('Load_Balancer_Health_Check', **kwargs_first), mock.call('Load_Balancer_Health_Check', **kwargs_second)] self.helper.ovn_nbdb_api.db_create.assert_has_calls( expected_lbhc_calls)"," net_cli.get_subnet.not_called() net_cli.get_port.not_called() net_cli.get_subnet.not_called() 'failure_count': '5', 'success_count': '3'} external_ids = { kwargs = {'vip': vip, 'options': options, 'external_ids': external_ids} mock.call('Load_Balancer_Health_Check', **kwargs), mock.call('Load_Balancer_Health_Check', **kwargs)] self.helper.ovn_nbdb_api.db_create.has_calls(expected_lbhc_calls)",21,12
openstack%2Fovn-octavia-provider~911413,openstack/ovn-octavia-provider,master,I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568,FIX OVN LB Health Monitor checks for IPv6 members,MERGED,2024-03-06 09:10:51.000000000,2024-04-10 12:43:36.000000000,2024-04-10 12:42:39.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-03-06 09:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3f5dbe26f2bac2e0edd63fa59d6226f1ec44b3f2', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 2, 'created': '2024-03-06 10:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a6f6ed52a0981d129d153dbde20e5b67477f14e9', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 3, 'created': '2024-03-06 11:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/50e1238aae25e00914e0d4254e9740df3f769d23', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 4, 'created': '2024-03-11 20:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/394edb7b29ea5a41c1e5c0e783e6c2d5aa30cfa8', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 5, 'created': '2024-03-11 20:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5a2d0fdb1edaeaef99438a1dd9c9e54d995519fa', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 6, 'created': '2024-03-12 08:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1fdd0f3064da1b2fb84f8ba89bd37d5fa78b94a2', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 7, 'created': '2024-03-12 08:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/582ab17987a24bbcfbb50b7d8656c1f93b6af157', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 8, 'created': '2024-03-12 20:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/be30024ed9c7a8369a608775d7e7167dcf107c19', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 9, 'created': '2024-03-12 20:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/41d1a9a4471b66fdeb343383bc9779e1529cafea', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 10, 'created': '2024-03-12 21:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/db93fa7adf7c799bb63a571b45b9a7f523bff8e7', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 11, 'created': '2024-03-13 09:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/a867cd6cc23e381c46d5f48d2927d81a0dd01d75', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}, {'number': 12, 'created': '2024-04-09 12:44:01.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_maintenance.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/maintenance.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/bd1137ad57b6e336800d701d6d52733abf968aa5', 'message': 'FIX OVN LB Health Monitor checks for IPv6 members\n\nAfter [1] the IPv6 backend members health checks are supported,\nthey are mapping into field ip_port_mappings of the OVN LB entity\nand translated to OVN SB DB Service_Monitor entries, same way\nfor IPv4 ones.\n\nHowever, IPv6 backend members require being enclosed in [ ], and\nthis was not occurring, causing it not to translate into entries\nin the Service_Monitor table. This patch fixes this issue.\n\nFurthermore, a one-time maintenance task has been developed to fix\nthose existing IPv6 Health Monitors directly upon the startup of\nthe ovn-octavia-provider component without requiring any action\nby the administrator/user.\n\n[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060\n\nCloses-Bug: #2055876\nChange-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568\n'}]",44,911413,bd1137ad57b6e336800d701d6d52733abf968aa5,87,6,12,34451,,,0,"FIX OVN LB Health Monitor checks for IPv6 members

After [1] the IPv6 backend members health checks are supported,
they are mapping into field ip_port_mappings of the OVN LB entity
and translated to OVN SB DB Service_Monitor entries, same way
for IPv4 ones.

However, IPv6 backend members require being enclosed in [ ], and
this was not occurring, causing it not to translate into entries
in the Service_Monitor table. This patch fixes this issue.

Furthermore, a one-time maintenance task has been developed to fix
those existing IPv6 Health Monitors directly upon the startup of
the ovn-octavia-provider component without requiring any action
by the administrator/user.

[1] https://github.com/ovn-org/ovn/commit/40a686e8e70f4141464f7fe2c949ea5b9bf29060

Closes-Bug: #2055876
Change-Id: I9b97aa9e6c8d601bc9e465e6aa8895dcc2666568
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/13/911413/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_maintenance.py', 'ovn_octavia_provider/maintenance.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",5,3f5dbe26f2bac2e0edd63fa59d6226f1ec44b3f2,IPv61," @mock.patch.object(ovn_helper.OvnProviderHelper, '_lb_del_ip_port_mapping') def test__clean_ip_port_mappings_two_hm_pools_sharing_members( self, del_ip_port_map): del_ip_port_map.assert_called_once_with( self.ovn_hm_lb, 'address2') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lb_del_ip_port_mapping') def test__clean_ip_port_mappings_one_hm_pools_sharing_members( self, del_ip_port_map): del_ip_port_map.assert_has_calls( [mock.call(self.ovn_hm_lb, 'address1'), mock.call(self.ovn_hm_lb, 'address2')]) @mock.patch.object(ovn_helper.OvnProviderHelper, '_lb_del_ip_port_mapping') def test__clean_ip_port_mappings_two_hm_pools_not_sharing_members( self, del_ip_port_map): del_ip_port_map.assert_has_calls( [mock.call(self.ovn_hm_lb, 'address1'), mock.call(self.ovn_hm_lb, 'address2')]) def test__update_ip_port_mappings_del_backend_member(self): mappings = {} mappings[self.member_address] = f'a-logical-port:{src_ip}' self.ovn_lb.ip_port_mappings = mappings self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings'))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings', {})) def test__update_ip_port_mappings_add_backend_member(self): src_ip = '10.22.33.4' self.ovn_lb.ip_port_mappings = {} mappings = {} mappings[self.member_address] = f'a-logical-port:{src_ip}' self.helper._update_ip_port_mappings( self.ovn_lb, self.member_address, 'a-logical-port', src_ip) self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings'))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings', mappings)) def test__update_ip_port_mappings_del_backend_member_ipv6(self): member_address = 'fda2:918e:5869:0:f816:3eff:feab:cdef' src_ip = 'fda2:918e:5869:0:f816:3eff:fecd:398a' mappings = {} mappings[f'[{member_address}]'] = f'a-logical-port:[{src_ip}]' self.ovn_lb.ip_port_mappings = mappings self.helper._update_ip_port_mappings( self.ovn_lb, member_address, 'a-logical-port', src_ip, delete=True) self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings'))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings', {})) def test__update_ip_port_mappings_add_backend_member_ipv6(self): member_address = 'fda2:918e:5869:0:f816:3eff:feab:cdef' src_ip = 'fda2:918e:5869:0:f816:3eff:fecd:398a' self.ovn_lb.ip_port_mappings = {} mappings = {} mappings[f'[{member_address}]'] = f'a-logical-port:[{src_ip}]' self.helper._update_ip_port_mappings( self.ovn_lb, member_address, 'a-logical-port', src_ip) self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings'))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('ip_port_mappings', mappings))"," def test__clean_ip_port_mappings_two_hm_pools_sharing_members(self): self.helper.ovn_nbdb_api.lb_del_ip_port_mapping.\ assert_called_once_with(self.ovn_hm_lb.uuid, 'address2') def test__clean_ip_port_mappings_one_hm_pools_sharing_members(self): self.helper.ovn_nbdb_api.lb_del_ip_port_mapping.\ assert_has_calls([mock.call(self.ovn_hm_lb.uuid, 'address1'), mock.ANY, mock.call(self.ovn_hm_lb.uuid, 'address2'), mock.ANY]) def test__clean_ip_port_mappings_two_hm_pools_not_sharing_members(self): self.helper.ovn_nbdb_api.lb_del_ip_port_mapping.\ assert_has_calls([mock.call(self.ovn_hm_lb.uuid, 'address1'), mock.ANY, mock.call(self.ovn_hm_lb.uuid, 'address2'), mock.ANY]) def test__update_ip_port_mappings(self): fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': src_ip, 'port': self.member_port, 'protocol': self.ovn_hm_lb.protocol, 'status': ovn_const.HM_EVENT_MEMBER_PORT_ONLINE}) self.helper._update_ip_port_mappings( self.ovn_lb, self.member_address, 'a-logical-port', src_ip) self.helper.ovn_nbdb_api.lb_add_ip_port_mapping.\ assert_called_once_with(self.ovn_lb.uuid, self.member_address, 'a-logical-port', src_ip) self.helper.ovn_nbdb_api.lb_del_ip_port_mapping.\ assert_called_once_with(self.ovn_lb.uuid, self.member_address)",235,38
openstack%2Fopenstacksdk~904490,openstack/openstacksdk,master,Iafedc1b7eba682dedaf0bcb0a5af79e85501679a,Add support for showing requested az in output,MERGED,2024-01-02 12:57:16.000000000,2024-04-10 12:40:15.000000000,2024-04-10 12:38:15.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 10239}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-01-02 12:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ef0658c75f4210284c49e302c02ce27311ff0790', 'message': 'Add support for showing requested az in output\n\nThis change adds support for showing the availability\nzone requested during instance create server show and\nserver list --long output.\n\nChange-Id: Iafedc1b7eba682dedaf0bcb0a5af79e85501679a\n'}, {'number': 2, 'created': '2024-01-03 13:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c469bffefa0703af5eb09dac3d36b3dd92109c34', 'message': 'Add support for showing requested az in output\n\nThis change adds support for showing the availability\nzone requested during instance create server show and\nserver list --long output.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/904568\nChange-Id: Iafedc1b7eba682dedaf0bcb0a5af79e85501679a\n'}, {'number': 3, 'created': '2024-01-10 12:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/331ee9d46504007beb3fb2e99f87fc84b06651d8', 'message': 'Add support for showing requested az in output\n\nThis change adds support for showing the availability\nzone requested during instance create server show and\nserver list --long output.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/904568\nChange-Id: Iafedc1b7eba682dedaf0bcb0a5af79e85501679a\n'}, {'number': 4, 'created': '2024-01-24 13:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/06ef1fa4bd530fc6563c80f5a90c658d16eeffee', 'message': 'Add support for showing requested az in output\n\nThis change adds support for showing the availability\nzone requested during instance create server show and\nserver list --long output.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/904568\nChange-Id: Iafedc1b7eba682dedaf0bcb0a5af79e85501679a\n'}, {'number': 5, 'created': '2024-02-27 12:16:24.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f46ab3f8bf200b227065ea80f34fb2736e3ba18', 'message': 'Add support for showing requested az in output\n\nThis change adds support for showing the availability\nzone requested during instance create server show and\nserver list --long output.\n\nAlso bump the _max_microversion to 2.96 to use the newly\nadded microversion.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/904568\nChange-Id: Iafedc1b7eba682dedaf0bcb0a5af79e85501679a\n'}]",13,904490,4f46ab3f8bf200b227065ea80f34fb2736e3ba18,29,8,5,20733,,,0,"Add support for showing requested az in output

This change adds support for showing the availability
zone requested during instance create server show and
server list --long output.

Also bump the _max_microversion to 2.96 to use the newly
added microversion.

Depends-On: https://review.opendev.org/c/openstack/nova/+/904568
Change-Id: Iafedc1b7eba682dedaf0bcb0a5af79e85501679a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/90/904490/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py']",2,ef0658c75f4210284c49e302c02ce27311ff0790,list-requested-az," ""requested_availability_zone"": ""requested_availability_zone"",",,3,0
openstack%2Fnova~908692,openstack/nova,stable/zed,Ia1a14a56739ec4c3f6930f1947a7423fd447fe34,Remove outdated comment about allocation ratios,MERGED,2024-02-12 10:59:18.000000000,2024-04-10 12:39:41.000000000,2024-04-10 12:38:11.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-12 10:59:18.000000000', 'files': ['doc/source/admin/scheduling.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2350c179f9db133f9d7c0b2c12e495195ff1b32a', 'message': 'Remove outdated comment about allocation ratios\n\nSetting allocation ratios via host aggregate metadata has not been\npossible since Ocata.\n\nChange-Id: Ia1a14a56739ec4c3f6930f1947a7423fd447fe34\n(cherry picked from commit 88068781d494b263a875b44bcbb6dcd5a98671f3)\n(cherry picked from commit b81439e2a2e9d965c3447ebd243043afb6c031a3)\n(cherry picked from commit 698421064b4604087634f8ea219795dad0b4928c)\n'}]",1,908692,2350c179f9db133f9d7c0b2c12e495195ff1b32a,7,2,1,9373,,,0,"Remove outdated comment about allocation ratios

Setting allocation ratios via host aggregate metadata has not been
possible since Ocata.

Change-Id: Ia1a14a56739ec4c3f6930f1947a7423fd447fe34
(cherry picked from commit 88068781d494b263a875b44bcbb6dcd5a98671f3)
(cherry picked from commit b81439e2a2e9d965c3447ebd243043afb6c031a3)
(cherry picked from commit 698421064b4604087634f8ea219795dad0b4928c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/908692/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/scheduling.rst'],1,2350c179f9db133f9d7c0b2c12e495195ff1b32a,,"Since allocation ratios can be set via nova configuration and the placement API, it can be confusing to know which should be used. This really depends on your scenario. A few common scenarios are detailed here.","Since allocation ratios can be set via nova configuration, host aggregate metadata and the placement API, it can be confusing to know which should be used. This really depends on your scenario. A few common scenarios are detailed here.",3,4
openstack%2Fopenstacksdk~734549,openstack/openstacksdk,master,I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2,identity: Add access rule CRUD support,MERGED,2020-06-09 10:11:39.000000000,2024-04-10 12:39:12.000000000,2024-04-10 12:38:07.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 8482}, {'_account_id': 15025}, {'_account_id': 15334}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 10:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/429a44419ae0a0f201d802037446b633ee956cdb', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 2, 'created': '2020-06-09 10:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4386b9db29acee6f50a64c871cf32a9c30da93aa', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 3, 'created': '2020-06-09 10:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/83bf75312656406f33f92f0c42d649a2b5fc5b3a', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 4, 'created': '2020-06-10 06:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/61b945560ea8e83028122c34d4e2dd5c21736993', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 5, 'created': '2020-06-10 07:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cc6b3a9c51d2eac0067f8101528886d9e32a2637', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 6, 'created': '2020-06-25 08:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7d65a2aa301af3626b7b252b0058bc1f3b79c0f3', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 7, 'created': '2020-06-26 12:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6765dcc70ee1c2319b0401529bd18344ceba3ec7', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 8, 'created': '2020-06-26 12:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/117e11d7d882d01ab602da44268ea29458690ed9', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 9, 'created': '2020-06-30 11:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b951876769f1ea7cb14fd4912212c6d006b6b3a6', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 10, 'created': '2020-07-02 15:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dec5c1e26f77e0ee21702d554f745fb9d5516d6b', 'message': 'Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1]https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}, {'number': 11, 'created': '2023-05-16 10:16:50.000000000', 'files': ['openstack/tests/functional/identity/v3/test_access_rule.py', 'openstack/identity/v3/_proxy.py', 'openstack/identity/v3/access_rule.py', 'openstack/identity/v3/application_credential.py', 'openstack/tests/unit/identity/v3/test_access_rule.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'releasenotes/notes/add_access_rules-06eb8a1f9fcd9367.yaml', 'openstack/tests/unit/identity/v3/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4faf511f4ffb2222cde2d011d8f0a4d6e8407c6d', 'message': 'identity: Add access rule CRUD support\n\nThis patch adds the client support of access rule in\napplication credentials [1].\n\n[1] https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules\n\nChange-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2\n'}]",23,734549,4faf511f4ffb2222cde2d011d8f0a4d6e8407c6d,49,10,11,27621,,,0,"identity: Add access rule CRUD support

This patch adds the client support of access rule in
application credentials [1].

[1] https://docs.openstack.org/api-ref/identity/v3/index.html#list-access-rules

Change-Id: I9e1eab6eb3ff6e152b408af2fe6ddc57c8c168b2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/734549/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/identity/v3/test_access_rule.py', 'openstack/identity/v3/_proxy.py', 'openstack/identity/v3/access_rule.py', 'openstack/identity/v3/application_credential.py', 'openstack/tests/unit/identity/v3/test_access_rule.py', 'openstack/tests/unit/identity/v3/test_application_credential.py', 'releasenotes/notes/add_access_rules-06eb8a1f9fcd9367.yaml']",7,429a44419ae0a0f201d802037446b633ee956cdb,734549,--- features: - | Added CRUD support for `access_rules <https://docs.openstack.org/keystone/latest/user/application_credentials.html#access-rules>`_. ,,327,105
openstack%2Foctavia-tempest-plugin~837878,openstack/octavia-tempest-plugin,master,I37a50dd5cad83deeefb064f3186badb82a137ad7,Add scenario tests for failover circuit breaker,NEW,2022-04-14 13:58:51.000000000,2024-04-10 12:22:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-14 13:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ee19402d4e58cf7884840b8c0fa48c04ccc5c702', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 2, 'created': '2022-04-14 14:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9de810119d635acb8c557100a9c25bf18691712b', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 3, 'created': '2022-04-14 14:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2bfd6d14fe7bd4c4cb104c21b360f802cb678265', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 4, 'created': '2022-04-19 11:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/654c21f397ef9e418486de9c1267b4edb34fb81c', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 5, 'created': '2022-04-20 09:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/526ce6ac102d91dad515907bc3ae40aee2ed6e71', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 6, 'created': '2022-04-26 13:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/18fda347d3fa3d66a4748565ee59856fac8a2cea', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 7, 'created': '2022-04-26 14:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/543810929812549a12718cf071bf97618856fe63', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 8, 'created': '2022-04-26 15:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7ae079526d5b6b49ef721e48a23ca4511db90014', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 9, 'created': '2022-04-26 16:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/09451957554056373e14fb93492fe12d094e8e1c', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 10, 'created': '2022-04-26 16:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8f962290a983a0e0f25918000d2c10ed60d71df4', 'message': 'Add scenario tests for failover circuit breaker\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 11, 'created': '2022-04-26 17:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a9818f857989ffdee96ff41e90b40b095ffbb10a', 'message': 'Add scenario tests for failover circuit breaker\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 12, 'created': '2022-04-26 20:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d643c31ae11b8905eac0719c6ad5e311e30712b2', 'message': 'Add scenario tests for failover circuit breaker\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 13, 'created': '2022-04-27 08:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8fa5383430bdfa9dc306a334b7af5b126241f592', 'message': 'Add scenario tests for failover circuit breaker\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 14, 'created': '2022-04-27 12:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0dc4cde5861082a8fa8d03d23d1ae22d8b3f4a14', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 15, 'created': '2022-04-27 12:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0db86895280265c00448b5503f16e310264ea7cc', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 16, 'created': '2022-04-27 13:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/81d602dae702da2c1e0922a85ac530461b84d98d', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 17, 'created': '2022-04-28 08:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/95ed5093ec133ef7fa72c715bf4721dadbfe9b53', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 18, 'created': '2022-08-11 10:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/effcc1940fd4f838da673331f15629c2e4818a1d', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 19, 'created': '2022-09-02 12:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ea37aecc56c1c3a3e6c3b093debe69a7ec612857', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 20, 'created': '2022-09-02 15:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1156b2e9ee4f3938c958fc2ef60f1191b75f69c6', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 21, 'created': '2022-10-20 15:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/236786912ef3dda7fe23acdc7c8c6f172fc190e9', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 22, 'created': '2022-10-21 22:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/32111b603977e1a45b77fe4b82e45d1525232fd6', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 23, 'created': '2022-10-24 11:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f1061588ad83eaa4f565cff27ef8fb9d07d40a70', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 24, 'created': '2022-10-25 08:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/87463cb1780524f9b474d5f7b9cafa1ef2c06adc', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/656811\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}, {'number': 25, 'created': '2023-10-30 11:31:29.000000000', 'files': ['octavia_tempest_plugin/tests/failover_circuit_breaker/v2/__init__.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/failover_circuit_breaker/__init__.py', 'octavia_tempest_plugin/tests/failover_circuit_breaker/v2/test_failover_cb.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e8f916914b81366deaa70a89b3dc81021033c77d', 'message': 'Add scenario tests for failover circuit breaker\n\n* Checks whether stale amphorae get set to FAILOVER_STOPPED\n* Assumes failover_threshold set to 2\n* Tests both recovery of stale amps and manual failover of\n  amphorae in FAILOVER_STOPPED\n* Once the number of stale amphorae gets below the threshold\n  automatic failover should resume\n\nStory: 2005604\nTask: 30837\nChange-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7\n'}]",35,837878,e8f916914b81366deaa70a89b3dc81021033c77d,81,3,25,34429,,,0,"Add scenario tests for failover circuit breaker

* Checks whether stale amphorae get set to FAILOVER_STOPPED
* Assumes failover_threshold set to 2
* Tests both recovery of stale amps and manual failover of
  amphorae in FAILOVER_STOPPED
* Once the number of stale amphorae gets below the threshold
  automatic failover should resume

Story: 2005604
Task: 30837
Change-Id: I37a50dd5cad83deeefb064f3186badb82a137ad7
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/78/837878/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/failover_circuit_breaker/v2/__init__.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/failover_circuit_breaker/__init__.py', 'octavia_tempest_plugin/tests/failover_circuit_breaker/v2/test_failover_cb.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",6,ee19402d4e58cf7884840b8c0fa48c04ccc5c702,task/30837,- job: name: octavia-v2-failover-cb-dsvm-scenario parent: octavia-dsvm-live-base vars: devstack_local_conf: post-config: $OCTAVIA_CONF: api_settings: api_v1_enabled: False controller_worker: loadbalancer_topology: ACTIVE_STANDBY health_manager: health_check_interval: 20 failover_threshold: 2 task_flow: engine: parallel tempest_concurrency: 2 tempest_test_regex: ^octavia_tempest_plugin.tests.failover_circuit_breaker.v2.test_failover_cb\. tox_envlist: all ,,359,52
openstack%2Fopenstacksdk~910250,openstack/openstacksdk,master,Ifee33c8e5757b231d6cc6c3341d7d23072fce94d,Fix the mailing list domain in documentation link,MERGED,2024-02-26 17:19:15.000000000,2024-04-10 11:16:27.000000000,2024-04-10 11:15:15.000000000,"[{'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-02-26 17:19:15.000000000', 'files': ['doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/31fe67b835a9ebf2f9b90e47f274033139808782', 'message': 'Fix the mailing list domain in documentation link\n\nThe docs had the openstack-discuss mailing list living at the\n@openstack.org domain. In reality this list lives at the\n@lists.openstack.org domain. Correct this.\n\nChange-Id: Ifee33c8e5757b231d6cc6c3341d7d23072fce94d\n'}]",0,910250,31fe67b835a9ebf2f9b90e47f274033139808782,9,3,1,4146,,,0,"Fix the mailing list domain in documentation link

The docs had the openstack-discuss mailing list living at the
@openstack.org domain. In reality this list lives at the
@lists.openstack.org domain. Correct this.

Change-Id: Ifee33c8e5757b231d6cc6c3341d7d23072fce94d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/50/910250/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,31fe67b835a9ebf2f9b90e47f274033139808782,fix-mailing-list-url,.. __: mailto:openstack-discuss@lists.openstack.org?subject=[sdk]%20Question%20about%20openstacksdk,.. __: mailto:openstack-discuss@openstack.org?subject=[sdk]%20Question%20about%20openstacksdk,1,1
openstack%2Fheat~915399,openstack/heat,stable/2024.1,I09fa73464369b212c0bb9ea48d4e36cf404f9ac6,Remove SQLAlchemy 2.0 job,NEW,2024-04-10 09:16:57.000000000,2024-04-10 11:11:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-10 09:16:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/2b4cb21a99f9c233945c0368e913e840219a47ee', 'message': 'Remove SQLAlchemy 2.0 job\n\nThe job runs only in master. Although the definition in stable branches\nhas no effect, removing the unused definition allows us to reduce\neffort needed to maintain job definitions in stable branches after zuul\nupdate/upgrade.\n\nChange-Id: I09fa73464369b212c0bb9ea48d4e36cf404f9ac6\n'}]",0,915399,2b4cb21a99f9c233945c0368e913e840219a47ee,3,1,1,9816,,,0,"Remove SQLAlchemy 2.0 job

The job runs only in master. Although the definition in stable branches
has no effect, removing the unused definition allows us to reduce
effort needed to maintain job definitions in stable branches after zuul
update/upgrade.

Change-Id: I09fa73464369b212c0bb9ea48d4e36cf404f9ac6
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/915399/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2b4cb21a99f9c233945c0368e913e840219a47ee,,,"- job: name: heat-tox-py310-with-sqlalchemy-2x parent: openstack-tox-py310 description: | Run unit tests with main branch of SQLAlchemy, alembic and oslo.db. Takes advantage of the base tox job's install-siblings feature. # The job only tests the latest and shouldn't be run on the stable branches branches: ^master$ required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - name: openstack/oslo.db - heat-tox-py310-with-sqlalchemy-2x",0,16
openstack%2Fopenstacksdk~902612,openstack/openstacksdk,master,I6ec24881a09a96ac7c99f169835ce8b57d0f692a,Adding SDK support for ``glance md-namespace-properties-delete``,MERGED,2023-12-05 07:59:53.000000000,2024-04-10 11:05:02.000000000,2024-04-10 11:03:48.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-12-05 07:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/aee470daa289661afcbb6611ad27d598c0490afe', 'message': 'Adding SDK support for ``glance md-namespace-properties-delete``\n\nIn this patch, we have added support for deleting all properties\nfrom the namespace.\n\nChange-Id: I6ec24881a09a96ac7c99f169835ce8b57d0f692a\n'}, {'number': 2, 'created': '2024-02-10 18:50:08.000000000', 'files': ['openstack/image/v2/metadef_namespace.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/image/v2/test_metadef_namespace.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/434adf775c9c2a62876b5bd1d33b9a36164b4f17', 'message': 'Adding SDK support for ``glance md-namespace-properties-delete``\n\nIn this patch, we have added support for deleting all properties\nfrom the namespace.\n\nChange-Id: I6ec24881a09a96ac7c99f169835ce8b57d0f692a\n'}]",13,902612,434adf775c9c2a62876b5bd1d33b9a36164b4f17,20,5,2,33765,,,0,"Adding SDK support for ``glance md-namespace-properties-delete``

In this patch, we have added support for deleting all properties
from the namespace.

Change-Id: I6ec24881a09a96ac7c99f169835ce8b57d0f692a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/12/902612/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/metadef_property.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/image/v2/test_metadef_property.py']",3,aee470daa289661afcbb6611ad27d598c0490afe,glance-gaps,"from unittest import mock from keystoneauth1 import adapter from openstack import exceptions @mock.patch.object(exceptions, 'raise_from_response', mock.Mock()) def test_delete_all(self): sot = metadef_property.MetadefProperty(**EXAMPLE) session = mock.Mock(spec=adapter.Adapter) session.delete = mock.Mock() sot.delete_all(session, 'test_namespace') session.delete.assert_called_with( '/metadefs/namespaces/CIM::StorageAllocationSettingData/properties' )",,51,0
openstack%2Fnova~914671,openstack/nova,stable/2024.1,I1349b880934ad9f44a943cf7de324d7338619d2e,Fix nova-manage image_property show unexpected keyword,MERGED,2024-03-29 18:55:02.000000000,2024-04-10 11:04:59.000000000,2024-04-10 11:03:44.000000000,"[{'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-29 18:55:02.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc4b592d557cc92b7887ddb18fe2eb7588263e90', 'message': 'Fix nova-manage image_property show unexpected keyword\n\nReproduction steps:\n1. Execute: nova-manage image_property show <vm_uuid> \\\n                            hw_vif_multiqueue_enabled\n2. Observe:\n  An error has occurred:\n  Traceback (most recent call last):\n    File ""/var/lib/kolla/venv/lib/python3.9/\n          site-packages/nova/cmd/manage.py"", line 3394, in main\n      ret = fn(*fn_args, **fn_kwargs)\n  TypeError: show() got an unexpected keyword argument \'property\'\n\nChange-Id: I1349b880934ad9f44a943cf7de324d7338619d2e\nCloses-Bug: #2016346\n(cherry picked from commit 1c02c0da1702ab1f58e930782a8866ed683c3c7d)\n'}]",2,914671,fc4b592d557cc92b7887ddb18fe2eb7588263e90,13,3,1,4690,,,0,"Fix nova-manage image_property show unexpected keyword

Reproduction steps:
1. Execute: nova-manage image_property show <vm_uuid> \
                            hw_vif_multiqueue_enabled
2. Observe:
  An error has occurred:
  Traceback (most recent call last):
    File ""/var/lib/kolla/venv/lib/python3.9/
          site-packages/nova/cmd/manage.py"", line 3394, in main
      ret = fn(*fn_args, **fn_kwargs)
  TypeError: show() got an unexpected keyword argument 'property'

Change-Id: I1349b880934ad9f44a943cf7de324d7338619d2e
Closes-Bug: #2016346
(cherry picked from commit 1c02c0da1702ab1f58e930782a8866ed683c3c7d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/914671/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,fc4b592d557cc92b7887ddb18fe2eb7588263e90,bug/2016346," 'image_property', metavar='<image_property>', property_value = instance.system_metadata.get( if property_value: print(property_value)"," 'property', metavar='<image_property>', image_property = instance.system_metadata.get( if image_property: print(image_property)",4,4
openstack%2Foslo.limit~899415,openstack/oslo.limit,master,Ic77fb8044bf2e54d4de87e0c02d90955849ea714,WIP: Add option for strict limit list,NEW,2023-10-26 16:26:26.000000000,2024-04-10 10:52:56.000000000,,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-10-26 16:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/82cd212f98582191e973dd34286a937444e90905', 'message': 'Default to limit -1 when at least one limit registered\n\nChange-Id: Ic77fb8044bf2e54d4de87e0c02d90955849ea714\n'}, {'number': 2, 'created': '2023-10-26 16:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/dee335b113698cc1c9f746c3d04edebe11d4b2e8', 'message': 'Default to limit -1 when at least one limit registered\n\nChange-Id: Ic77fb8044bf2e54d4de87e0c02d90955849ea714\n'}, {'number': 3, 'created': '2024-04-10 09:39:37.000000000', 'files': ['oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/7193a52d55b3034a3f6981f1866d218479d082b8', 'message': ""WIP: Add option for strict limit list\n\nBy default keep the same enforce behaviour as before,\nif a limit isn't registered we block all resource usage.\n\nFor Nova, it could have a config that says only\nresource:RAM is required, for example, and all other\nresources would be treat as unlimited.\n\nOne change here is that get_registered_limits can\nnow return -1 for some limits, should a list of\nstrict resources be specified.\n\nRemoving a resource from the strict list is an\nalternative way to make that resource unlimited\nfor all projects.\n\nChange-Id: Ic77fb8044bf2e54d4de87e0c02d90955849ea714\n""}]",5,899415,7193a52d55b3034a3f6981f1866d218479d082b8,9,3,3,782,,,0,"WIP: Add option for strict limit list

By default keep the same enforce behaviour as before,
if a limit isn't registered we block all resource usage.

For Nova, it could have a config that says only
resource:RAM is required, for example, and all other
resources would be treat as unlimited.

One change here is that get_registered_limits can
now return -1 for some limits, should a list of
strict resources be specified.

Removing a resource from the strict list is an
alternative way to make that resource unlimited
for all projects.

Change-Id: Ic77fb8044bf2e54d4de87e0c02d90955849ea714
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/15/899415/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_limit/limit.py'],1,82cd212f98582191e973dd34286a937444e90905,," found_a_limit = False found_a_limit = True # default to unlimited limit = -1 # Protect against users not setting any registered limits, # we need at least one resource registered per request if not found_a_limit: return [(resource_name, 0) for resource_name in resource_names] # default to unlimited limit = -1", limit = 0 limit = 0,10,2
openstack%2Foslo.log~915158,openstack/oslo.log,stable/2024.1,If7439d111c66d00a2e4cb7425f48d3d501e5a124,Fix broken reference to rate_limit_except_level,MERGED,2024-04-09 12:10:06.000000000,2024-04-10 10:51:56.000000000,2024-04-10 10:50:56.000000000,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-04-09 12:10:06.000000000', 'files': ['oslo_log/log.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/1717f3970ecef6f33f1a83941e3b6e5f50ef4446', 'message': 'Fix broken reference to rate_limit_except_level\n\nCloses-Bug: #1946496\nCo-Authored-By: Jonathan Mills <jonmills@gmail.com>\nChange-Id: If7439d111c66d00a2e4cb7425f48d3d501e5a124\n(cherry picked from commit 4bd77b692370dcaebab18110cd4bf50e15346584)\n'}]",0,915158,1717f3970ecef6f33f1a83941e3b6e5f50ef4446,9,2,1,9816,,,0,"Fix broken reference to rate_limit_except_level

Closes-Bug: #1946496
Co-Authored-By: Jonathan Mills <jonmills@gmail.com>
Change-Id: If7439d111c66d00a2e4cb7425f48d3d501e5a124
(cherry picked from commit 4bd77b692370dcaebab18110cd4bf50e15346584)
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/58/915158/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/log.py'],1,1717f3970ecef6f33f1a83941e3b6e5f50ef4446,bug/1946496, conf.rate_limit_except_level), conf.rate_limit_except),1,1
openstack%2Fovn-octavia-provider~915269,openstack/ovn-octavia-provider,master,Iea1df7552e3bf115650286ac03a9f60c7acbb6c1,Python 3.12: Use assert_not_called and assert_has_calls,ABANDONED,2024-04-08 11:44:39.000000000,2024-04-10 10:49:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-04-08 11:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/038e75ef7c1f0cd99cb10cccdf65011ed03bbd3d', 'message': ""Python 3.12: Use assert_not_called and assert_has_calls\n\nThe not_called() and has_calls() alias is removed from\nPython 3.12. Let's use assert_not_called() and\nassert_has_calls() instead.\n\nChange-Id: Iea1df7552e3bf115650286ac03a9f60c7acbb6c1\n""}, {'number': 2, 'created': '2024-04-08 12:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8c8278946e1e8cdfe39943bcb1f102bfae7202a7', 'message': ""Python 3.12: Use assert_not_called and assert_has_calls\n\nThe not_called() and has_calls() alias is removed from\nPython 3.12. Let's use assert_not_called() and\nassert_has_calls() instead.\n\nChange-Id: Iea1df7552e3bf115650286ac03a9f60c7acbb6c1\n""}, {'number': 3, 'created': '2024-04-08 14:30:04.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1ebb659be860a56df14cc0c8ae2ccede60d46b55', 'message': ""Python 3.12: Use assert_not_called and assert_has_calls\n\nThe not_called() and has_calls() alias is removed from\nPython 3.12. Let's use assert_not_called() and\nassert_has_calls() instead.\n\nChange-Id: Iea1df7552e3bf115650286ac03a9f60c7acbb6c1\n""}]",0,915269,1ebb659be860a56df14cc0c8ae2ccede60d46b55,7,2,3,34451,,,0,"Python 3.12: Use assert_not_called and assert_has_calls

The not_called() and has_calls() alias is removed from
Python 3.12. Let's use assert_not_called() and
assert_has_calls() instead.

Change-Id: Iea1df7552e3bf115650286ac03a9f60c7acbb6c1
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/69/915269/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/tests/unit/test_helper.py'],1,038e75ef7c1f0cd99cb10cccdf65011ed03bbd3d,," net_cli.get_subnet.assert_not_called() net_cli.get_port.assert_not_called() net_cli.get_subnet.assert_not_called() external_ids_fip = { ovn_const.LB_EXT_IDS_HM_KEY: self.healthmonitor_id, ovn_const.LB_EXT_IDS_HM_POOL_KEY: self.pool_id, ovn_const.LB_EXT_IDS_HM_VIP: self.ovn_hm_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_FIP_KEY)} kwargs_fip = {'vip': vip, 'options': options, 'external_ids': external_ids_fip} mock.call('Load_Balancer_Health_Check', **kwargs_fip)] self.helper.ovn_nbdb_api.db_create.assert_has_calls( expected_lbhc_calls)"," net_cli.get_subnet.not_called() net_cli.get_port.not_called() net_cli.get_subnet.not_called() mock.call('Load_Balancer_Health_Check', **kwargs)] self.helper.ovn_nbdb_api.db_create.has_calls(expected_lbhc_calls)",14,5
openstack%2Fmagnum-capi-helm~915363,openstack/magnum-capi-helm,master,Iedd0e8f68014ff5aad4e465a91a4fc2a4d258181,Re-use oslo_utils functionality where possible,MERGED,2024-04-09 16:01:20.000000000,2024-04-10 10:21:27.000000000,2024-04-10 10:21:27.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-04-09 16:01:20.000000000', 'files': ['magnum_capi_helm/tests/test_driver.py', 'magnum_capi_helm/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/0a27f3a734dffebedc2d9bfd61649efad15d8375', 'message': ""Re-use oslo_utils functionality where possible\n\nWe should try to re-use the oslo_utils helpers as much as we reasonably can. These are the ones I've spotted so far but open to other suggestions for where utility functions can be reused.\n\nChange-Id: Iedd0e8f68014ff5aad4e465a91a4fc2a4d258181\n""}]",0,915363,0a27f3a734dffebedc2d9bfd61649efad15d8375,7,3,1,36412,,,0,"Re-use oslo_utils functionality where possible

We should try to re-use the oslo_utils helpers as much as we reasonably can. These are the ones I've spotted so far but open to other suggestions for where utility functions can be reused.

Change-Id: Iedd0e8f68014ff5aad4e465a91a4fc2a4d258181
",git fetch https://review.opendev.org/openstack/magnum-capi-helm refs/changes/63/915363/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_capi_helm/tests/test_driver.py', 'magnum_capi_helm/driver.py']",2,0a27f3a734dffebedc2d9bfd61649efad15d8375,fix/oslo-utils,"from oslo_utils import strutils return strutils.bool_from_string(cluster_label, default=default) return strutils.split_by_commas(dns_nameserver)"," if not cluster_label: return default if default: # Default is on, so return for any value except ""false"" return cluster_label.lower() != ""false"" # Default is False, so only ""true"" responds with True return cluster_label.lower() == ""true"" return dns_nameserver.split("","")",10,8
openstack%2Fironic~915323,openstack/ironic,master,I5e3ec08d128b35385f2d90c9c852140b757b8dbf,Add states.SERVICING and SERVICEWAIT to need_prepare_ramdisk,MERGED,2024-04-09 12:15:10.000000000,2024-04-10 09:10:47.000000000,2024-04-10 09:09:31.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32177}]","[{'number': 1, 'created': '2024-04-09 12:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df9bade8b10c8fb5bf70b0fa17d13d755500a4be', 'message': 'Add states.SERVICING and SERVICEWAIT to need_prepare_ramdisk\n\nCurrently, service steps do not work with virtual media deployments\nbecause states.SERVICING and states.SERVICEWAIT are missing from the whitelist\nof valid provision_states. This change resolves this issue.\n\nChange-Id: I5e3ec08d128b35385f2d90c9c852140b757b8dbf\n'}, {'number': 2, 'created': '2024-04-10 00:48:21.000000000', 'files': ['ironic/drivers/utils.py', 'releasenotes/notes/add-servicing-to-need-prepare-ramdisk-fb0634b4f7d851bd.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/70ccb6af111186431b898c4dc6c1c3e6564ab1d7', 'message': 'Add states.SERVICING and SERVICEWAIT to need_prepare_ramdisk\n\nCurrently, service steps do not work with virtual media deployments\nbecause states.SERVICING and states.SERVICEWAIT are missing from the whitelist\nof valid provision_states. This change resolves this issue.\n\nChange-Id: I5e3ec08d128b35385f2d90c9c852140b757b8dbf\n'}]",2,915323,70ccb6af111186431b898c4dc6c1c3e6564ab1d7,17,4,2,32177,,,0,"Add states.SERVICING and SERVICEWAIT to need_prepare_ramdisk

Currently, service steps do not work with virtual media deployments
because states.SERVICING and states.SERVICEWAIT are missing from the whitelist
of valid provision_states. This change resolves this issue.

Change-Id: I5e3ec08d128b35385f2d90c9c852140b757b8dbf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/915323/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/utils.py'],1,df9bade8b10c8fb5bf70b0fa17d13d755500a4be,service-steps-vmedia-boot-fix," states.INSPECTWAIT, states.SERVICING, states.SERVICEWAIT)", states.INSPECTWAIT),3,1
openstack%2Freleases~915312,openstack/releases,master,Id9ed742d46537bd98923ab597cb1b167de488561,Add 2024.2 Dalmatian deliverable files,MERGED,2024-04-09 07:37:55.000000000,2024-04-10 09:02:46.000000000,2024-04-10 09:02:46.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-04-09 07:37:55.000000000', 'files': ['deliverables/dalmatian/puppet-keystone.yaml', 'deliverables/dalmatian/oslo.policy.yaml', 'deliverables/dalmatian/storlets.yaml', 'deliverables/dalmatian/oslo.config.yaml', 'deliverables/dalmatian/puppet-gnocchi.yaml', 'deliverables/dalmatian/tosca-parser.yaml', 'deliverables/dalmatian/oslo.reports.yaml', 'deliverables/dalmatian/kuryr-tempest-plugin.yaml', 'deliverables/dalmatian/python-observabilityclient.yaml', 'deliverables/dalmatian/bifrost.yaml', 'deliverables/dalmatian/ansible-collection-kolla.yaml', 'deliverables/dalmatian/taskflow.yaml', 'deliverables/dalmatian/ironic.yaml', 'deliverables/dalmatian/kolla.yaml', 'deliverables/dalmatian/python-watcherclient.yaml', 'deliverables/dalmatian/mistral.yaml', 'deliverables/dalmatian/puppet-ec2api.yaml', 'deliverables/dalmatian/magnum-tempest-plugin.yaml', 'deliverables/dalmatian/ironic-python-agent-builder.yaml', 'deliverables/dalmatian/python-barbicanclient.yaml', 'deliverables/dalmatian/oslo.rootwrap.yaml', 'deliverables/dalmatian/ovn-bgp-agent.yaml', 'deliverables/dalmatian/puppet-ceilometer.yaml', 'deliverables/dalmatian/oslo.utils.yaml', 'deliverables/dalmatian/nova.yaml', 'deliverables/dalmatian/oslo.concurrency.yaml', 'deliverables/dalmatian/puppet-horizon.yaml', 'deliverables/dalmatian/oslo.middleware.yaml', 'deliverables/dalmatian/puppet-openstack_extras.yaml', 'deliverables/dalmatian/python-keystoneclient.yaml', 'deliverables/dalmatian/puppet-ovn.yaml', 'deliverables/dalmatian/zun-tempest-plugin.yaml', 'deliverables/dalmatian/trove.yaml', 'deliverables/dalmatian/watcher-dashboard.yaml', 'deliverables/dalmatian/puppet-mistral.yaml', 'deliverables/dalmatian/blazar-dashboard.yaml', 'deliverables/dalmatian/python-troveclient.yaml', 'deliverables/dalmatian/networking-bgpvpn.yaml', 'deliverables/dalmatian/mistral-dashboard.yaml', 'deliverables/dalmatian/puppet-neutron.yaml', 'deliverables/dalmatian/puppet-glance.yaml', 'deliverables/dalmatian/kuryr.yaml', 'deliverables/dalmatian/puppet-vswitch.yaml', 'deliverables/dalmatian/stevedore.yaml', 'deliverables/dalmatian/python-blazarclient.yaml', 'deliverables/dalmatian/venus-dashboard.yaml', 'deliverables/dalmatian/ironic-ui.yaml', 'deliverables/dalmatian/python-tackerclient.yaml', 'deliverables/dalmatian/puppet-cloudkitty.yaml', 'deliverables/dalmatian/python-muranoclient.yaml', 'deliverables/dalmatian/openstacksdk.yaml', 'deliverables/dalmatian/requirements.yaml', 'deliverables/dalmatian/cinder-tempest-plugin.yaml', 'deliverables/dalmatian/neutron-vpnaas.yaml', 'deliverables/dalmatian/aodh.yaml', 'deliverables/dalmatian/skyline-console.yaml', 'deliverables/dalmatian/telemetry-tempest-plugin.yaml', 'deliverables/dalmatian/octavia-lib.yaml', 'deliverables/dalmatian/osc-placement.yaml', 'deliverables/dalmatian/grenade.yaml', 'deliverables/dalmatian/oslo.messaging.yaml', 'deliverables/dalmatian/networking-bagpipe.yaml', 'deliverables/dalmatian/puppet-swift.yaml', 'deliverables/dalmatian/masakari-dashboard.yaml', 'deliverables/dalmatian/python-venusclient.yaml', 'deliverables/dalmatian/blazar.yaml', 'deliverables/dalmatian/vitrage.yaml', 'deliverables/dalmatian/neutron-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-heat.yaml', 'deliverables/dalmatian/python-manilaclient.yaml', 'deliverables/dalmatian/puppet-sahara.yaml', 'deliverables/dalmatian/vitrage-dashboard.yaml', 'deliverables/dalmatian/devstack.yaml', 'deliverables/dalmatian/ovsdbapp.yaml', 'deliverables/dalmatian/heat-translator.yaml', 'deliverables/dalmatian/designate.yaml', 'deliverables/dalmatian/horizon.yaml', 'deliverables/dalmatian/oslo.vmware.yaml', 'deliverables/dalmatian/ovn-octavia-provider.yaml', 'deliverables/dalmatian/glance-store.yaml', 'deliverables/dalmatian/oslo.i18n.yaml', 'deliverables/dalmatian/zaqar.yaml', 'deliverables/dalmatian/devstack-plugin-container.yaml', 'deliverables/dalmatian/cliff.yaml', 'deliverables/dalmatian/puppet-cinder.yaml', 'deliverables/dalmatian/sushy.yaml', 'deliverables/dalmatian/heat-dashboard.yaml', 'deliverables/dalmatian/oslo.metrics.yaml', 'deliverables/dalmatian/tap-as-a-service.yaml', 'deliverables/dalmatian/keystoneauth.yaml', 'deliverables/dalmatian/puppet-openstack_spec_helper.yaml', 'deliverables/dalmatian/trove-dashboard.yaml', 'deliverables/dalmatian/watcher.yaml', 'deliverables/dalmatian/puppet-barbican.yaml', 'deliverables/dalmatian/keystone.yaml', 'deliverables/dalmatian/neutron.yaml', 'deliverables/dalmatian/python-cyborgclient.yaml', 'deliverables/dalmatian/ironic-prometheus-exporter.yaml', 'deliverables/dalmatian/cloudkitty-dashboard.yaml', 'deliverables/dalmatian/puppet-placement.yaml', 'deliverables/dalmatian/octavia.yaml', 'deliverables/dalmatian/ceilometer.yaml', 'deliverables/dalmatian/octavia-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-nova.yaml', 'deliverables/dalmatian/python-novaclient.yaml', 'deliverables/dalmatian/oslo.service.yaml', 'deliverables/dalmatian/kuryr-kubernetes.yaml', 'deliverables/dalmatian/openstack-ansible-roles.yaml', 'deliverables/dalmatian/designate-tempest-plugin.yaml', 'deliverables/dalmatian/networking-generic-switch.yaml', 'deliverables/dalmatian/puppet-vitrage.yaml', 'deliverables/dalmatian/magnum-ui.yaml', 'deliverables/dalmatian/designate-dashboard.yaml', 'deliverables/dalmatian/heat-tempest-plugin.yaml', 'deliverables/dalmatian/glance-tempest-plugin.yaml', 'deliverables/dalmatian/mistral-lib.yaml', 'deliverables/dalmatian/adjutant-ui.yaml', 'deliverables/dalmatian/manila.yaml', 'deliverables/dalmatian/release-test.yaml', 'deliverables/dalmatian/manila-ui.yaml', 'deliverables/dalmatian/ironic-lib.yaml', 'deliverables/dalmatian/oslo.context.yaml', 'deliverables/dalmatian/oslo.db.yaml', 'deliverables/dalmatian/cyborg.yaml', 'deliverables/dalmatian/puppet-watcher.yaml', 'deliverables/dalmatian/skyline-apiserver.yaml', 'deliverables/dalmatian/magnum.yaml', 'deliverables/dalmatian/neutron-vpnaas-dashboard.yaml', 'deliverables/dalmatian/tacker.yaml', 'deliverables/dalmatian/puppet-tempest.yaml', 'deliverables/dalmatian/masakari.yaml', 'deliverables/dalmatian/cinder.yaml', 'deliverables/dalmatian/python-aodhclient.yaml', 'deliverables/dalmatian/manila-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-oslo.yaml', 'deliverables/dalmatian/zun-ui.yaml', 'deliverables/dalmatian/python-masakariclient.yaml', 'deliverables/dalmatian/ironic-python-agent.yaml', 'deliverables/dalmatian/watcher-tempest-plugin.yaml', 'deliverables/dalmatian/barbican.yaml', 'deliverables/dalmatian/os-brick.yaml', 'deliverables/dalmatian/devstack-plugin-ceph.yaml', 'deliverables/dalmatian/python-swiftclient.yaml', 'deliverables/dalmatian/networking-sfc.yaml', 'deliverables/dalmatian/oslo.log.yaml', 'deliverables/dalmatian/swift.yaml', 'deliverables/dalmatian/adjutant.yaml', 'deliverables/dalmatian/python-cloudkittyclient.yaml', 'deliverables/dalmatian/neutron-dynamic-routing.yaml', 'deliverables/dalmatian/venus.yaml', 'deliverables/dalmatian/tacker-horizon.yaml', 'deliverables/dalmatian/python-mistralclient.yaml', 'deliverables/dalmatian/python-cinderclient.yaml', 'deliverables/dalmatian/python-zaqarclient.yaml', 'deliverables/dalmatian/python-openstackclient.yaml', 'deliverables/dalmatian/oslo.cache.yaml', 'deliverables/dalmatian/neutron-lib.yaml', 'deliverables/dalmatian/python-ironicclient.yaml', 'deliverables/dalmatian/heat.yaml', 'deliverables/dalmatian/python-vitrageclient.yaml', 'deliverables/dalmatian/heat-agents.yaml', 'deliverables/dalmatian/ironic-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-octavia.yaml', 'deliverables/dalmatian/octavia-dashboard.yaml', 'deliverables/dalmatian/placement.yaml', 'deliverables/dalmatian/puppet-openstacklib.yaml', 'deliverables/dalmatian/puppet-trove.yaml', 'deliverables/dalmatian/python-heatclient.yaml', 'deliverables/dalmatian/puppet-manila.yaml', 'deliverables/dalmatian/metalsmith.yaml', 'deliverables/dalmatian/venus-tempest-plugin.yaml', 'deliverables/dalmatian/zun.yaml', 'deliverables/dalmatian/mistral-extra.yaml', 'deliverables/dalmatian/puppet-zaqar.yaml', 'deliverables/dalmatian/trove-tempest-plugin.yaml', 'deliverables/dalmatian/ansible-role-lunasa-hsm.yaml', 'deliverables/dalmatian/kuryr-libnetwork.yaml', 'deliverables/dalmatian/masakari-monitors.yaml', 'deliverables/dalmatian/puppet-magnum.yaml', 'deliverables/dalmatian/networking-baremetal.yaml', 'deliverables/dalmatian/mistral-tempest-plugin.yaml', 'deliverables/dalmatian/openstack-ansible.yaml', 'deliverables/dalmatian/python-magnumclient.yaml', 'deliverables/dalmatian/kayobe.yaml', 'deliverables/dalmatian/python-designateclient.yaml', 'deliverables/dalmatian/oslo.upgradecheck.yaml', 'deliverables/dalmatian/castellan.yaml', 'deliverables/dalmatian/zaqar-tempest-plugin.yaml', 'deliverables/dalmatian/python-octaviaclient.yaml', 'deliverables/dalmatian/cyborg-tempest-plugin.yaml', 'deliverables/dalmatian/python-adjutantclient.yaml', 'deliverables/dalmatian/cloudkitty.yaml', 'deliverables/dalmatian/puppet-ironic.yaml', 'deliverables/dalmatian/python-zunclient.yaml', 'deliverables/dalmatian/ceilometermiddleware.yaml', 'deliverables/dalmatian/ansible-role-thales-hsm.yaml', 'deliverables/dalmatian/oslo.limit.yaml', 'deliverables/dalmatian/puppet-murano.yaml', 'deliverables/dalmatian/python-glanceclient.yaml', 'deliverables/dalmatian/oslo.serialization.yaml', 'deliverables/dalmatian/python-brick-cinderclient-ext.yaml', 'deliverables/dalmatian/ironic-inspector.yaml', 'deliverables/dalmatian/tempest.yaml', 'deliverables/dalmatian/glance.yaml', 'deliverables/dalmatian/python-ironic-inspector-client.yaml', 'deliverables/dalmatian/blazar-nova.yaml', 'deliverables/dalmatian/puppet-designate.yaml', 'deliverables/dalmatian/zaqar-ui.yaml', 'deliverables/dalmatian/os-vif.yaml', 'deliverables/dalmatian/ansible-role-atos-hsm.yaml', 'deliverables/dalmatian/neutron-fwaas-dashboard.yaml', 'deliverables/dalmatian/osc-lib.yaml', 'deliverables/dalmatian/os-ken.yaml', 'deliverables/dalmatian/python-neutronclient.yaml', 'deliverables/dalmatian/oslo.privsep.yaml', 'deliverables/dalmatian/puppet-aodh.yaml', 'deliverables/dalmatian/vitrage-tempest-plugin.yaml', 'deliverables/dalmatian/kolla-ansible.yaml', 'deliverables/dalmatian/cloudkitty-tempest-plugin.yaml', 'deliverables/dalmatian/oslo.versionedobjects.yaml', 'deliverables/dalmatian/barbican-tempest-plugin.yaml', 'deliverables/dalmatian/keystone-tempest-plugin.yaml', 'deliverables/dalmatian/neutron-fwaas.yaml', 'deliverables/dalmatian/keystonemiddleware.yaml', 'deliverables/dalmatian/blazar-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-openstack-integration.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c83033e8e9309f114c231e223a0a1cac5289b3f0', 'message': ""Add 2024.2 Dalmatian deliverable files\n\nThe generated content initializes the 2024.2 Dalmatian cycle's\ndeliverable files, based on 2024.1 Caracal deliverables.\n\nChange-Id: Id9ed742d46537bd98923ab597cb1b167de488561\n""}]",2,915312,c83033e8e9309f114c231e223a0a1cac5289b3f0,9,4,1,17685,,,0,"Add 2024.2 Dalmatian deliverable files

The generated content initializes the 2024.2 Dalmatian cycle's
deliverable files, based on 2024.1 Caracal deliverables.

Change-Id: Id9ed742d46537bd98923ab597cb1b167de488561
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/915312/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/dalmatian/puppet-keystone.yaml', 'deliverables/dalmatian/oslo.policy.yaml', 'deliverables/dalmatian/storlets.yaml', 'deliverables/dalmatian/oslo.config.yaml', 'deliverables/dalmatian/puppet-gnocchi.yaml', 'deliverables/dalmatian/tosca-parser.yaml', 'deliverables/dalmatian/oslo.reports.yaml', 'deliverables/dalmatian/kuryr-tempest-plugin.yaml', 'deliverables/dalmatian/python-observabilityclient.yaml', 'deliverables/dalmatian/bifrost.yaml', 'deliverables/dalmatian/ansible-collection-kolla.yaml', 'deliverables/dalmatian/taskflow.yaml', 'deliverables/dalmatian/ironic.yaml', 'deliverables/dalmatian/kolla.yaml', 'deliverables/dalmatian/python-watcherclient.yaml', 'deliverables/dalmatian/mistral.yaml', 'deliverables/dalmatian/puppet-ec2api.yaml', 'deliverables/dalmatian/magnum-tempest-plugin.yaml', 'deliverables/dalmatian/ironic-python-agent-builder.yaml', 'deliverables/dalmatian/python-barbicanclient.yaml', 'deliverables/dalmatian/oslo.rootwrap.yaml', 'deliverables/dalmatian/ovn-bgp-agent.yaml', 'deliverables/dalmatian/puppet-ceilometer.yaml', 'deliverables/dalmatian/oslo.utils.yaml', 'deliverables/dalmatian/nova.yaml', 'deliverables/dalmatian/oslo.concurrency.yaml', 'deliverables/dalmatian/puppet-horizon.yaml', 'deliverables/dalmatian/oslo.middleware.yaml', 'deliverables/dalmatian/puppet-openstack_extras.yaml', 'deliverables/dalmatian/python-keystoneclient.yaml', 'deliverables/dalmatian/puppet-ovn.yaml', 'deliverables/dalmatian/zun-tempest-plugin.yaml', 'deliverables/dalmatian/trove.yaml', 'deliverables/dalmatian/watcher-dashboard.yaml', 'deliverables/dalmatian/puppet-mistral.yaml', 'deliverables/dalmatian/blazar-dashboard.yaml', 'deliverables/dalmatian/python-troveclient.yaml', 'deliverables/dalmatian/networking-bgpvpn.yaml', 'deliverables/dalmatian/mistral-dashboard.yaml', 'deliverables/dalmatian/puppet-neutron.yaml', 'deliverables/dalmatian/puppet-glance.yaml', 'deliverables/dalmatian/kuryr.yaml', 'deliverables/dalmatian/puppet-vswitch.yaml', 'deliverables/dalmatian/stevedore.yaml', 'deliverables/dalmatian/python-blazarclient.yaml', 'deliverables/dalmatian/venus-dashboard.yaml', 'deliverables/dalmatian/ironic-ui.yaml', 'deliverables/dalmatian/python-tackerclient.yaml', 'deliverables/dalmatian/puppet-cloudkitty.yaml', 'deliverables/dalmatian/python-muranoclient.yaml', 'deliverables/dalmatian/openstacksdk.yaml', 'deliverables/dalmatian/requirements.yaml', 'deliverables/dalmatian/cinder-tempest-plugin.yaml', 'deliverables/dalmatian/neutron-vpnaas.yaml', 'deliverables/dalmatian/aodh.yaml', 'deliverables/dalmatian/skyline-console.yaml', 'deliverables/dalmatian/telemetry-tempest-plugin.yaml', 'deliverables/dalmatian/octavia-lib.yaml', 'deliverables/dalmatian/osc-placement.yaml', 'deliverables/dalmatian/grenade.yaml', 'deliverables/dalmatian/oslo.messaging.yaml', 'deliverables/dalmatian/networking-bagpipe.yaml', 'deliverables/dalmatian/puppet-swift.yaml', 'deliverables/dalmatian/masakari-dashboard.yaml', 'deliverables/dalmatian/python-venusclient.yaml', 'deliverables/dalmatian/blazar.yaml', 'deliverables/dalmatian/vitrage.yaml', 'deliverables/dalmatian/neutron-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-heat.yaml', 'deliverables/dalmatian/python-manilaclient.yaml', 'deliverables/dalmatian/puppet-sahara.yaml', 'deliverables/dalmatian/vitrage-dashboard.yaml', 'deliverables/dalmatian/devstack.yaml', 'deliverables/dalmatian/ovsdbapp.yaml', 'deliverables/dalmatian/heat-translator.yaml', 'deliverables/dalmatian/designate.yaml', 'deliverables/dalmatian/horizon.yaml', 'deliverables/dalmatian/oslo.vmware.yaml', 'deliverables/dalmatian/ovn-octavia-provider.yaml', 'deliverables/dalmatian/glance-store.yaml', 'deliverables/dalmatian/oslo.i18n.yaml', 'deliverables/dalmatian/zaqar.yaml', 'deliverables/dalmatian/devstack-plugin-container.yaml', 'deliverables/dalmatian/cliff.yaml', 'deliverables/dalmatian/puppet-cinder.yaml', 'deliverables/dalmatian/sushy.yaml', 'deliverables/dalmatian/heat-dashboard.yaml', 'deliverables/dalmatian/oslo.metrics.yaml', 'deliverables/dalmatian/tap-as-a-service.yaml', 'deliverables/dalmatian/keystoneauth.yaml', 'deliverables/dalmatian/puppet-openstack_spec_helper.yaml', 'deliverables/dalmatian/trove-dashboard.yaml', 'deliverables/dalmatian/watcher.yaml', 'deliverables/dalmatian/puppet-barbican.yaml', 'deliverables/dalmatian/keystone.yaml', 'deliverables/dalmatian/neutron.yaml', 'deliverables/dalmatian/python-cyborgclient.yaml', 'deliverables/dalmatian/ironic-prometheus-exporter.yaml', 'deliverables/dalmatian/cloudkitty-dashboard.yaml', 'deliverables/dalmatian/puppet-placement.yaml', 'deliverables/dalmatian/octavia.yaml', 'deliverables/dalmatian/ceilometer.yaml', 'deliverables/dalmatian/octavia-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-nova.yaml', 'deliverables/dalmatian/python-novaclient.yaml', 'deliverables/dalmatian/oslo.service.yaml', 'deliverables/dalmatian/kuryr-kubernetes.yaml', 'deliverables/dalmatian/openstack-ansible-roles.yaml', 'deliverables/dalmatian/designate-tempest-plugin.yaml', 'deliverables/dalmatian/networking-generic-switch.yaml', 'deliverables/dalmatian/puppet-vitrage.yaml', 'deliverables/dalmatian/magnum-ui.yaml', 'deliverables/dalmatian/designate-dashboard.yaml', 'deliverables/dalmatian/heat-tempest-plugin.yaml', 'deliverables/dalmatian/glance-tempest-plugin.yaml', 'deliverables/dalmatian/mistral-lib.yaml', 'deliverables/dalmatian/adjutant-ui.yaml', 'deliverables/dalmatian/manila.yaml', 'deliverables/dalmatian/release-test.yaml', 'deliverables/dalmatian/manila-ui.yaml', 'deliverables/dalmatian/ironic-lib.yaml', 'deliverables/dalmatian/oslo.context.yaml', 'deliverables/dalmatian/oslo.db.yaml', 'deliverables/dalmatian/cyborg.yaml', 'deliverables/dalmatian/puppet-watcher.yaml', 'deliverables/dalmatian/skyline-apiserver.yaml', 'deliverables/dalmatian/magnum.yaml', 'deliverables/dalmatian/neutron-vpnaas-dashboard.yaml', 'deliverables/dalmatian/tacker.yaml', 'deliverables/dalmatian/puppet-tempest.yaml', 'deliverables/dalmatian/masakari.yaml', 'deliverables/dalmatian/cinder.yaml', 'deliverables/dalmatian/python-aodhclient.yaml', 'deliverables/dalmatian/manila-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-oslo.yaml', 'deliverables/dalmatian/zun-ui.yaml', 'deliverables/dalmatian/python-masakariclient.yaml', 'deliverables/dalmatian/ironic-python-agent.yaml', 'deliverables/dalmatian/watcher-tempest-plugin.yaml', 'deliverables/dalmatian/barbican.yaml', 'deliverables/dalmatian/os-brick.yaml', 'deliverables/dalmatian/devstack-plugin-ceph.yaml', 'deliverables/dalmatian/python-swiftclient.yaml', 'deliverables/dalmatian/networking-sfc.yaml', 'deliverables/dalmatian/oslo.log.yaml', 'deliverables/dalmatian/swift.yaml', 'deliverables/dalmatian/adjutant.yaml', 'deliverables/dalmatian/python-cloudkittyclient.yaml', 'deliverables/dalmatian/neutron-dynamic-routing.yaml', 'deliverables/dalmatian/venus.yaml', 'deliverables/dalmatian/tacker-horizon.yaml', 'deliverables/dalmatian/python-mistralclient.yaml', 'deliverables/dalmatian/python-cinderclient.yaml', 'deliverables/dalmatian/python-zaqarclient.yaml', 'deliverables/dalmatian/python-openstackclient.yaml', 'deliverables/dalmatian/oslo.cache.yaml', 'deliverables/dalmatian/neutron-lib.yaml', 'deliverables/dalmatian/python-ironicclient.yaml', 'deliverables/dalmatian/heat.yaml', 'deliverables/dalmatian/python-vitrageclient.yaml', 'deliverables/dalmatian/heat-agents.yaml', 'deliverables/dalmatian/ironic-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-octavia.yaml', 'deliverables/dalmatian/octavia-dashboard.yaml', 'deliverables/dalmatian/placement.yaml', 'deliverables/dalmatian/puppet-openstacklib.yaml', 'deliverables/dalmatian/puppet-trove.yaml', 'deliverables/dalmatian/python-heatclient.yaml', 'deliverables/dalmatian/puppet-manila.yaml', 'deliverables/dalmatian/metalsmith.yaml', 'deliverables/dalmatian/venus-tempest-plugin.yaml', 'deliverables/dalmatian/zun.yaml', 'deliverables/dalmatian/mistral-extra.yaml', 'deliverables/dalmatian/puppet-zaqar.yaml', 'deliverables/dalmatian/trove-tempest-plugin.yaml', 'deliverables/dalmatian/ansible-role-lunasa-hsm.yaml', 'deliverables/dalmatian/kuryr-libnetwork.yaml', 'deliverables/dalmatian/masakari-monitors.yaml', 'deliverables/dalmatian/puppet-magnum.yaml', 'deliverables/dalmatian/networking-baremetal.yaml', 'deliverables/dalmatian/mistral-tempest-plugin.yaml', 'deliverables/dalmatian/openstack-ansible.yaml', 'deliverables/dalmatian/python-magnumclient.yaml', 'deliverables/dalmatian/kayobe.yaml', 'deliverables/dalmatian/python-designateclient.yaml', 'deliverables/dalmatian/oslo.upgradecheck.yaml', 'deliverables/dalmatian/castellan.yaml', 'deliverables/dalmatian/zaqar-tempest-plugin.yaml', 'deliverables/dalmatian/python-octaviaclient.yaml', 'deliverables/dalmatian/cyborg-tempest-plugin.yaml', 'deliverables/dalmatian/python-adjutantclient.yaml', 'deliverables/dalmatian/cloudkitty.yaml', 'deliverables/dalmatian/puppet-ironic.yaml', 'deliverables/dalmatian/python-zunclient.yaml', 'deliverables/dalmatian/ceilometermiddleware.yaml', 'deliverables/dalmatian/ansible-role-thales-hsm.yaml', 'deliverables/dalmatian/oslo.limit.yaml', 'deliverables/dalmatian/puppet-murano.yaml', 'deliverables/dalmatian/python-glanceclient.yaml', 'deliverables/dalmatian/oslo.serialization.yaml', 'deliverables/dalmatian/python-brick-cinderclient-ext.yaml', 'deliverables/dalmatian/ironic-inspector.yaml', 'deliverables/dalmatian/tempest.yaml', 'deliverables/dalmatian/glance.yaml', 'deliverables/dalmatian/python-ironic-inspector-client.yaml', 'deliverables/dalmatian/blazar-nova.yaml', 'deliverables/dalmatian/puppet-designate.yaml', 'deliverables/dalmatian/zaqar-ui.yaml', 'deliverables/dalmatian/os-vif.yaml', 'deliverables/dalmatian/ansible-role-atos-hsm.yaml', 'deliverables/dalmatian/neutron-fwaas-dashboard.yaml', 'deliverables/dalmatian/osc-lib.yaml', 'deliverables/dalmatian/os-ken.yaml', 'deliverables/dalmatian/python-neutronclient.yaml', 'deliverables/dalmatian/oslo.privsep.yaml', 'deliverables/dalmatian/puppet-aodh.yaml', 'deliverables/dalmatian/vitrage-tempest-plugin.yaml', 'deliverables/dalmatian/kolla-ansible.yaml', 'deliverables/dalmatian/cloudkitty-tempest-plugin.yaml', 'deliverables/dalmatian/oslo.versionedobjects.yaml', 'deliverables/dalmatian/barbican-tempest-plugin.yaml', 'deliverables/dalmatian/keystone-tempest-plugin.yaml', 'deliverables/dalmatian/neutron-fwaas.yaml', 'deliverables/dalmatian/keystonemiddleware.yaml', 'deliverables/dalmatian/blazar-tempest-plugin.yaml', 'deliverables/dalmatian/puppet-openstack-integration.yaml']",226,c83033e8e9309f114c231e223a0a1cac5289b3f0,dalmatian-init-series,--- launchpad: puppet-openstack-integration release-model: untagged team: Puppet OpenStack type: other stable-branch-type: tagless repository-settings: openstack/puppet-openstack-integration: {} # Note: deliverable was not released in xena # Note: deliverable was not released in yoga # Note: deliverable was not released in zed # Note: deliverable was not released in antelope # Note: deliverable was not released in bobcat # Note: deliverable was not released in caracal ,,1886,0
openstack%2Fopenstack-helm~915336,openstack/openstack-helm,master,Iaf7fadf1b6ccfe701784a61f1f76bd0d8b43d0bd,keystone: fix custom annotations without helm3 hooks,MERGED,2024-04-09 14:26:34.000000000,2024-04-10 08:53:24.000000000,2024-04-10 08:52:23.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 34311}]","[{'number': 1, 'created': '2024-04-09 14:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c50e2d159b78bf08ad8f2283e66252b282c7334c', 'message': 'keystone: fix custom annotations without helm3 hooks\n\nFixes 3458483fa\n\nChange-Id: Iaf7fadf1b6ccfe701784a61f1f76bd0d8b43d0bd\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 2, 'created': '2024-04-09 22:18:00.000000000', 'files': ['releasenotes/notes/keystone.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe4719d1c9b61dadcfc92bad50639c6b3af1d293', 'message': 'keystone: fix custom annotations without helm3 hooks\n\nFixes 3458483fa\n\nChange-Id: Iaf7fadf1b6ccfe701784a61f1f76bd0d8b43d0bd\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}]",6,915336,fe4719d1c9b61dadcfc92bad50639c6b3af1d293,21,4,2,5890,,,0,"keystone: fix custom annotations without helm3 hooks

Fixes 3458483fa

Change-Id: Iaf7fadf1b6ccfe701784a61f1f76bd0d8b43d0bd
Signed-off-by: Doug Goldstein <doug.goldstein@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/915336/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/job-fernet-setup.yaml'],1,c50e2d159b78bf08ad8f2283e66252b282c7334c,keystone-job-annotations, annotations: {{- if .Values.helm3_hook }},{{- if .Values.helm3_hook }} annotations:,1,1
openstack%2Freleases~910396,openstack/releases,master,I8806fe0cb5570994e839cadc2cf545e6b59f238a,[solum] Transition EM branches to EOL,MERGED,2024-02-27 18:54:41.000000000,2024-04-10 08:16:27.000000000,2024-04-10 08:16:27.000000000,"[{'_account_id': 13252}, {'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-27 18:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4e463e3c62390c3cf679960552e798dddcb00ad9', 'message': '[solum] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I8806fe0cb5570994e839cadc2cf545e6b59f238a\n'}, {'number': 2, 'created': '2024-04-05 15:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/73da3be53dd3d4cfd3cbb600b02bcc6db0611043', 'message': '[solum] Transition EM branches to EOL\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Solum project is marked as inactive as there were hardly any\nmaintenance, we move its old xena, wallaby and victoria branches to EOL\ninstead of moving them to Unmaintained. If anyone wants to resurrect\nthe project then the work should be started at the master branch\ninstead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I8806fe0cb5570994e839cadc2cf545e6b59f238a\n'}, {'number': 3, 'created': '2024-04-08 12:34:55.000000000', 'files': ['deliverables/victoria/solum.yaml', 'deliverables/wallaby/python-solumclient.yaml', 'deliverables/victoria/python-solumclient.yaml', 'deliverables/wallaby/solum.yaml', 'deliverables/xena/solum-dashboard.yaml', 'deliverables/victoria/solum-dashboard.yaml', 'deliverables/wallaby/solum-dashboard.yaml', 'deliverables/xena/solum.yaml', 'deliverables/xena/python-solumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6cd2eebee5cf891e98315cbca5bd0e1f6153f79a', 'message': '[solum] Transition EM branches to EOL\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSince Solum project is marked as inactive as there were hardly any\nmaintenance, we move its old xena, wallaby and victoria branches to EOL\ninstead of moving them to Unmaintained. If anyone wants to resurrect\nthe project then the work should be started at the master branch\ninstead.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I8806fe0cb5570994e839cadc2cf545e6b59f238a\n'}]",4,910396,6cd2eebee5cf891e98315cbca5bd0e1f6153f79a,13,4,3,17685,,,0,"[solum] Transition EM branches to EOL

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

Since Solum project is marked as inactive as there were hardly any
maintenance, we move its old xena, wallaby and victoria branches to EOL
instead of moving them to Unmaintained. If anyone wants to resurrect
the project then the work should be started at the master branch
instead.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I8806fe0cb5570994e839cadc2cf545e6b59f238a
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/910396/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/solum.yaml', 'deliverables/wallaby/python-solumclient.yaml', 'deliverables/victoria/python-solumclient.yaml', 'deliverables/wallaby/solum.yaml', 'deliverables/xena/solum-dashboard.yaml', 'deliverables/victoria/solum-dashboard.yaml', 'deliverables/wallaby/solum-dashboard.yaml', 'deliverables/xena/solum.yaml', 'deliverables/xena/python-solumclient.yaml']",9,4e463e3c62390c3cf679960552e798dddcb00ad9,vwx-unmaintained, - version: xena-eom projects: - repo: openstack/python-solumclient hash: 7f2a98b9a21215091c67759305cfbcfe185aea1a - name: unmaintained/xena location: xena-eom,,54,0
openstack%2Foslo.config~915396,openstack/oslo.config,master,Iec977e21088b1ced9ad0df05638a459af8cdda2a,Dict: Support customizing key-value separator,NEW,2024-04-10 06:24:12.000000000,2024-04-10 07:55:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-10 06:24:12.000000000', 'files': ['oslo_config/tests/test_types.py', 'oslo_config/types.py', 'releasenotes/notes/dict-key-value-separator-127ce36ba4d9245f.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d193c657441f24506f75b9ce1248c8fdebd295f3', 'message': 'Dict: Support customizing key-value separator\n\nSome projects implements their own mechanism to parse dict values from\nlist because they use different separators between key and value.\n\nFor example, nova provides the [libvirt] disk_cachemode option, and\nthis option takes a value written in the following format.\n\n[libvirt]\ndisk_cachemode=key1=value1,key2=value2\n\nIntroduce the new key_value_separator parameter to allow using\na different separator, so that DictOpt can be used for such usage.\n\nChange-Id: Iec977e21088b1ced9ad0df05638a459af8cdda2a\n'}]",0,915396,d193c657441f24506f75b9ce1248c8fdebd295f3,2,1,1,9816,,,0,"Dict: Support customizing key-value separator

Some projects implements their own mechanism to parse dict values from
list because they use different separators between key and value.

For example, nova provides the [libvirt] disk_cachemode option, and
this option takes a value written in the following format.

[libvirt]
disk_cachemode=key1=value1,key2=value2

Introduce the new key_value_separator parameter to allow using
a different separator, so that DictOpt can be used for such usage.

Change-Id: Iec977e21088b1ced9ad0df05638a459af8cdda2a
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/96/915396/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_types.py', 'oslo_config/types.py', 'releasenotes/notes/dict-key-value-separator-127ce36ba4d9245f.yaml']",3,d193c657441f24506f75b9ce1248c8fdebd295f3,,--- features: - | ``Dict`` type now supports the ``key_value_separator`` parameter. This parameter allows using a customized separator between key and value. ,,26,4
openstack%2Fkolla-ansible~915337,openstack/kolla-ansible,master,I6b8a406b79c95990ecc69fb70f037498550de6b8,add scaphandre,NEW,2024-04-09 14:37:54.000000000,2024-04-10 07:51:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-04-09 14:37:54.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/scaphandre/tasks/deploy.yml', 'ansible/roles/scaphandre/tasks/main.yml', 'ansible/roles/scaphandre/tasks/pull.yml', 'ansible/roles/scaphandre/tasks/config.yml', 'etc/kolla/passwords.yml', 'ansible/site.yml', 'ansible/roles/scaphandre/tasks/check-containers.yml', 'ansible/roles/scaphandre/tasks/check.yml', 'ansible/roles/scaphandre/tasks/config_validate.yml', 'ansible/roles/scaphandre/tasks/reconfigure.yml', 'ansible/inventory/all-in-one', 'ansible/roles/scaphandre/defaults/main.yml', 'ansible/roles/scaphandre/tasks/deploy-containers.yml', 'ansible/roles/scaphandre/tasks/upgrade.yml', 'ansible/roles/scaphandre/vars/main.yml', 'ansible/roles/scaphandre/tasks/stop.yml', 'ansible/roles/scaphandre/templates/scaphandre.json.j2', 'ansible/roles/scaphandre/handlers/main.yml', 'ansible/roles/scaphandre/tasks/precheck.yml', 'ansible/roles/scaphandre/templates/scaphandre.conf.j2', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b6d5d1ba634692c59cccf6f58c07bed4f235b6a', 'message': 'add scaphandre\n\nChange-Id: I6b8a406b79c95990ecc69fb70f037498550de6b8\n'}]",1,915337,2b6d5d1ba634692c59cccf6f58c07bed4f235b6a,5,2,1,34213,,,0,"add scaphandre

Change-Id: I6b8a406b79c95990ecc69fb70f037498550de6b8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/915337/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/scaphandre/tasks/deploy.yml', 'ansible/roles/scaphandre/tasks/main.yml', 'ansible/roles/scaphandre/tasks/pull.yml', 'ansible/roles/scaphandre/tasks/config.yml', 'etc/kolla/passwords.yml', 'ansible/site.yml', 'ansible/roles/scaphandre/tasks/check-containers.yml', 'ansible/roles/scaphandre/tasks/check.yml', 'ansible/roles/scaphandre/tasks/config_validate.yml', 'ansible/roles/scaphandre/tasks/reconfigure.yml', 'ansible/inventory/all-in-one', 'ansible/roles/scaphandre/defaults/main.yml', 'ansible/roles/scaphandre/tasks/deploy-containers.yml', 'ansible/roles/scaphandre/tasks/upgrade.yml', 'ansible/roles/scaphandre/vars/main.yml', 'ansible/roles/scaphandre/tasks/stop.yml', 'ansible/roles/scaphandre/templates/scaphandre.json.j2', 'ansible/roles/scaphandre/handlers/main.yml', 'ansible/roles/scaphandre/tasks/precheck.yml', 'ansible/roles/scaphandre/templates/scaphandre.conf.j2', 'etc/kolla/globals.yml']",22,2b6d5d1ba634692c59cccf6f58c07bed4f235b6a,,"#enable_scaphandre: ""yes""",,223,0
openstack%2Foctavia~882439,openstack/octavia,master,I0b03bcde50fff283819ea912738142bddee08a87,Add DPDK vhost user mode support,ABANDONED,2023-05-05 12:44:45.000000000,2024-04-10 07:25:21.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-05 12:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c34484d3d9ac3e1b108c68977a0847490f77f397', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}, {'number': 2, 'created': '2023-05-05 12:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c9cf24137650145874c7b01fe937c45c04b681ee', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}, {'number': 3, 'created': '2023-05-10 12:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9d3a79a2eadf57466dc00b7a82a34e5b225488b', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}, {'number': 4, 'created': '2023-05-16 15:45:21.000000000', 'files': ['octavia/common/constants.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b0df440adbe75203b299702c3d2d87296b70b981', 'message': 'Add DPDK vhost user mode support\n\nChange-Id: I0b03bcde50fff283819ea912738142bddee08a87\n'}]",9,882439,b0df440adbe75203b299702c3d2d87296b70b981,13,3,4,34429,,,0,"Add DPDK vhost user mode support

Change-Id: I0b03bcde50fff283819ea912738142bddee08a87
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/882439/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",2,c34484d3d9ac3e1b108c68977a0847490f77f397,dpdk-amps," admin_state_up=True, qos_policy_id=None, dpdk: bool = False): if dpdk: # FIXME: use constants # Create a DPDK vNIC that allows direct access to the physical # NIC in order to improve performance port['vnic_type'] = constants.DIRECT port['vif_type'] = 'vhostuser' port[constants.BINDING_PROFILE] = { constants.CAPABILITIES: [ # Switchdev mode is a Linux networking driver model # that offloads network functions, such as packet # processing and filtering, to the hardware # switch ASIC. {constants.SWITCHDEV: True}, # 'server' mode is used by the application that # receives the network traffic. {constants.VHOST_USER_MODE: constants.SERVER}, # The vhost user socket is used to exchange network # packets between the DPDK application and the Linux # kernel. # FIXME: socket path {constants.VHOST_USER_SOCKET: '/tmp/vhu.sock'}, ], } port[constants.PORT_SECURITY_ENABLED] = False"," admin_state_up=True, qos_policy_id=None):",38,1
openstack%2Fnova~915390,openstack/nova,master,Icc0950721f9739d6b651aa7df8cf37ce6ae454fc,libvirt: Use native DictOpt for disk_cachemode,NEW,2024-04-10 02:38:47.000000000,2024-04-10 06:57:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-10 02:38:47.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ddc7125bc9fc9cb360919a21f66babe19947ef9', 'message': 'libvirt: Use native DictOpt for disk_cachemode\n\noslo.config provides the DictOpt class which parses a dictionary value\nwritten in the following format.\n option=key1=value1,key2=value2,...\n\nWe can use this built-in feature instead of parsing each elements in\nListOpt. Using DictOpt also allows nova to return early feedback in\ncase the value is not properly formatted.\n\nChange-Id: Icc0950721f9739d6b651aa7df8cf37ce6ae454fc\n'}]",1,915390,1ddc7125bc9fc9cb360919a21f66babe19947ef9,5,2,1,9816,,,0,"libvirt: Use native DictOpt for disk_cachemode

oslo.config provides the DictOpt class which parses a dictionary value
written in the following format.
 option=key1=value1,key2=value2,...

We can use this built-in feature instead of parsing each elements in
ListOpt. Using DictOpt also allows nova to return early feedback in
case the value is not properly formatted.

Change-Id: Icc0950721f9739d6b651aa7df8cf37ce6ae454fc
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/915390/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,1ddc7125bc9fc9cb360919a21f66babe19947ef9,," source_type = 'file' driver_cache = 'directsync' elif images_type == 'lvm': source_type = 'block' driver_cache = 'writethrough' elif images_type == 'rbd': source_type = 'network' driver_cache = 'writeback' self.flags(disk_cachemodes={source_type: driver_cache}, group='libvirt') self.assertEqual(source_type, d.source_type) self.assertEqual(driver_cache, d.driver_cache) self.flags(disk_cachemodes={'file': 'directsync'}, group='libvirt') self.flags(disk_cachemodes={'block': 'writeback'}, group='libvirt') self.flags(disk_cachemodes={'block': cache}, group='libvirt') self.flags(disk_cachemodes={'file': 'FAKE'}, group='libvirt') self.flags(disk_cachemodes={'file': 'directsync'}, group='libvirt')"," cachemode = 'file=directsync' elif images_type == 'lvm': cachemode = 'block=writethrough' elif images_type == 'rbd': cachemode = 'network=writeback' self.flags(disk_cachemodes=[cachemode], group='libvirt') expected = cachemode.split('=') self.assertEqual(expected[0], d.source_type) self.assertEqual(expected[1], d.driver_cache) self.flags(disk_cachemodes=['file=directsync'], group='libvirt') self.flags(disk_cachemodes=['block=writeback'], group='libvirt') self.flags(disk_cachemodes=['block=' + cache], group='libvirt') self.flags(disk_cachemodes=['file=FAKE'], group='libvirt') self.flags(disk_cachemodes=['file=directsync'], group='libvirt')",18,16
openstack%2Fsenlin~915109,openstack/senlin,master,I71196af4ad5ce0c975bec1c8c80be19b43ccbd2d,Remove unused `WSGIService` class,MERGED,2024-04-05 03:25:16.000000000,2024-04-10 06:31:00.000000000,2024-04-10 06:30:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2024-04-05 03:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/35511c2859efad3655510dfe7782bb64df7f9e89', 'message': 'Remove unused `WSGIService` class\n\nThis class have been stayed in source code for a long\ntime and not used since it created. The API service used `senlin.api.common.wsgi.Server`, not this class . It should be cleaned up.\n\nChange-Id: I71196af4ad5ce0c975bec1c8c80be19b43ccbd2d\n'}, {'number': 2, 'created': '2024-04-08 07:46:51.000000000', 'files': ['senlin/common/service.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ec5fae997686c64c3c1192b231b2434e6a6aeb1c', 'message': 'Remove unused `WSGIService` class\n\nThis class have been stayed in source code for a long\ntime and not used since it created. The API service used `senlin.api.common.wsgi.Server`, not this class . It should be cleaned up.\n\nChange-Id: I71196af4ad5ce0c975bec1c8c80be19b43ccbd2d\n'}]",1,915109,ec5fae997686c64c3c1192b231b2434e6a6aeb1c,12,3,2,35916,,,0,"Remove unused `WSGIService` class

This class have been stayed in source code for a long
time and not used since it created. The API service used `senlin.api.common.wsgi.Server`, not this class . It should be cleaned up.

Change-Id: I71196af4ad5ce0c975bec1c8c80be19b43ccbd2d
",git fetch https://review.opendev.org/openstack/senlin refs/changes/09/915109/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/common/service.py'],1,35511c2859efad3655510dfe7782bb64df7f9e89,,," from oslo_service import sslutils from oslo_service import wsgi from oslo_utils import netutils class WSGIService(service.Service): def __init__(self, app, name, listen, max_url_len=None): super(WSGIService, self).__init__(CONF.senlin_api.threads) self.app = app self.name = name self.listen = listen self.servers = [] for address in self.listen: host, port = netutils.parse_host_port(address) server = wsgi.Server( CONF, name, app, host=host, port=port, pool_size=CONF.senlin_api.threads, use_ssl=sslutils.is_enabled(CONF), max_url_len=max_url_len ) self.servers.append(server) def start(self): for server in self.servers: server.start() super(WSGIService, self).start() def stop(self, graceful=True): for server in self.servers: server.stop() super(WSGIService, self).stop(graceful) def wait(self): for server in self.servers: server.wait() super(WSGIService, self).wait()",0,43
openstack%2Frequirements~813292,openstack/requirements,master,Id2a5bca02ad37b5fbe3391ece9944112234ac52a,Add jobs without the pre-built wheels,MERGED,2021-10-10 07:37:55.000000000,2024-04-10 05:51:14.000000000,2024-04-10 05:48:58.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-10 07:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e67198f9daedfa603ab30db007ed9ff7556f156', 'message': 'WIP: Run a jobs without the pre-built wheels\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 2, 'created': '2021-10-10 07:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0615ac50767252064cec17a9915f845b91a35423', 'message': 'WIP: Run a jobs without the pre-built wheels\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 3, 'created': '2021-10-10 18:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d6a40a807b2051bce20631647f15117d954c8008', 'message': 'WIP: Run a job without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 4, 'created': '2022-03-26 20:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/649e6f54234001ab3ddce6c56b47fd98169d8edc', 'message': 'WIP: Run a job without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 5, 'created': '2022-06-15 16:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c43b8bca2c55cf8a35fbe2d099d34d8713ad4c0e', 'message': 'WIP: Run a job without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 6, 'created': '2022-08-02 07:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/634394b56a6cb3ee64f3190f95a0d49de3276ce3', 'message': 'WIP: Run a job without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 7, 'created': '2022-08-27 16:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/929910b190fca77b3ae5e428606bcfaca4476b27', 'message': 'WIP: Run a job without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 8, 'created': '2022-10-25 16:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/849688fc4f7544a27b565e189391c205d23aa9b4', 'message': 'WIP: Run a job without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 9, 'created': '2023-02-17 07:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1c1700a8ef75d6a1dfabd02ae778bb8007b4a8c5', 'message': 'WIP: Run a job without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 10, 'created': '2023-03-31 06:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4ef2093ca15672972365b138ae7964dd470bb2e3', 'message': 'WIP: Run jobs without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nFor example with setuptools >= 58, a couple of things fail to build.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 11, 'created': '2023-10-02 06:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/94d652bab710d08eef3c1ff16ac96730a224a42f', 'message': 'WIP: Run jobs without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 12, 'created': '2024-03-01 08:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c0a5e3fc3781a3b6c9c917859747c4b332f0b48a', 'message': 'WIP: Run jobs without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}, {'number': 13, 'created': '2024-04-05 10:58:17.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'playbooks/drop-wheel-mirror.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f7ff4c979b2541beae34c326a0f3accb9a44fd14', 'message': 'Add jobs without the pre-built wheels\n\nAll normal CI jobs use wheels that have been built previously, but\npossibly are no longer buildable with the current set of requirements.\nAdd jobs that do not use these wheels to the experimental pipeline for\nnow.\n\nChange-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a\n'}]",10,813292,f7ff4c979b2541beae34c326a0f3accb9a44fd14,47,3,13,13252,,,0,"Add jobs without the pre-built wheels

All normal CI jobs use wheels that have been built previously, but
possibly are no longer buildable with the current set of requirements.
Add jobs that do not use these wheels to the experimental pipeline for
now.

Change-Id: Id2a5bca02ad37b5fbe3391ece9944112234ac52a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/813292/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'playbooks/drop-wheel-mirror.yaml']",3,1e67198f9daedfa603ab30db007ed9ff7556f156,no-wheel,"- hosts: all tasks: - name: Drop wheel mirror from pip.conf become: yes lineinfile: path: /etc/pip.conf regexp: ""^extra-index-url"" state: absent ",,19,71
openstack%2Fnova~915391,openstack/nova,master,I417847532370f721ec71721cd03b7ca2814f2535,libvirt: Validate valid cache mode at config input layer,NEW,2024-04-10 02:47:30.000000000,2024-04-10 05:02:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-10 02:47:30.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/636f2095abef9bea59be46a4b1b117010e2b4a57', 'message': 'libvirt: Validate valid cache mode at config input layer\n\nCurrently when an unsupported cache mode value is set in nova.conf,\nnova ignores the given value with a warning log. However this makes it\ndifficult that operators may notice wrong values set unintentionally.\n\nThis introduces the string valudation at config input layer so that\na more visible error is returned. With this change, nova services fail\nto start in case an unsupported value is set in config.\n\nChange-Id: I417847532370f721ec71721cd03b7ca2814f2535\n'}]",0,915391,636f2095abef9bea59be46a4b1b117010e2b4a57,3,1,1,9816,,,0,"libvirt: Validate valid cache mode at config input layer

Currently when an unsupported cache mode value is set in nova.conf,
nova ignores the given value with a warning log. However this makes it
difficult that operators may notice wrong values set unintentionally.

This introduces the string valudation at config input layer so that
a more visible error is returned. With this change, nova services fail
to start in case an unsupported value is set in config.

Change-Id: I417847532370f721ec71721cd03b7ca2814f2535
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/915391/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,636f2095abef9bea59be46a4b1b117010e2b4a57,,," def test_set_cache_mode_invalid_mode(self): self.flags(disk_cachemodes={'file': 'FAKE'}, group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) fake_conf = FakeConfigGuestDisk() fake_conf.source_type = 'file' drvr._set_cache_mode(fake_conf) self.assertIsNone(fake_conf.driver_cache) ",12,24
openstack%2Fironic~915153,openstack/ironic,stable/2024.1,I30f948d64e7b87f33841dc22828db60338a62dd8,Fix generating local paths when connecting virtual media,MERGED,2024-04-09 09:05:06.000000000,2024-04-10 02:16:03.000000000,2024-04-10 02:13:44.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-04-09 09:05:06.000000000', 'files': ['releasenotes/notes/vmedia-path-648cfa258708e0bb.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/image_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac2c86861f614bcd30fc78101f2df6375999d6cd', 'message': 'Fix generating local paths when connecting virtual media\n\nThe generate path does not contain the node UUID, causing conflicts.\n\nAlso make sure to always clean up any existing files first.\n\nChange-Id: I30f948d64e7b87f33841dc22828db60338a62dd8\n(cherry picked from commit a9a4fff71c15e6192e06652d64a1048bd5c2633d)\n'}]",0,915153,ac2c86861f614bcd30fc78101f2df6375999d6cd,9,2,1,10239,,,0,"Fix generating local paths when connecting virtual media

The generate path does not contain the node UUID, causing conflicts.

Also make sure to always clean up any existing files first.

Change-Id: I30f948d64e7b87f33841dc22828db60338a62dd8
(cherry picked from commit a9a4fff71c15e6192e06652d64a1048bd5c2633d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/915153/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vmedia-path-648cfa258708e0bb.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/image_utils.py']",4,ac2c86861f614bcd30fc78101f2df6375999d6cd,vmedia-path-stable/2024.1,"# FIXME(dtantsur): file_name is not node-specific, we should probably replace # it with a prefix/suffix pair and pass to _get_name",,35,11
openstack%2Fmagnum-capi-helm~914078,openstack/magnum-capi-helm,master,I095ebab7575d7827af9af5cdc7de771f1aec03d1,Fix Helm value snippet formatting for Keystone auth webhook,MERGED,2024-03-25 11:37:52.000000000,2024-04-10 01:27:26.000000000,2024-04-09 10:35:23.000000000,"[{'_account_id': 782}, {'_account_id': 8064}, {'_account_id': 14394}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 33467}, {'_account_id': 35921}]","[{'number': 1, 'created': '2024-03-25 11:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/f139b1bc63f5b954838be4d809e67277d92f291e', 'message': 'Fix Helm value snippet formatting for Keystone auth webhook\n\nThe underlying CAPI Helm charts expect the k8sKeystoneAuth key to be under `addons.openstack` rather than just `openstack`.\n\nChange-Id: I095ebab7575d7827af9af5cdc7de771f1aec03d1\n'}, {'number': 2, 'created': '2024-03-25 15:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/56dde2e613abf2360b88ae703a743eab8c8115b1', 'message': 'Fix Helm value snippet formatting for Keystone auth webhook\n\nThe underlying CAPI Helm charts expect the k8sKeystoneAuth key to be under `addons.openstack` rather than just `openstack`.\n\nChange-Id: I095ebab7575d7827af9af5cdc7de771f1aec03d1\n'}, {'number': 3, 'created': '2024-03-27 13:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/ce333fa637b44f2753d74b81c7208d8e00f587d8', 'message': 'Fix Helm value snippet formatting for Keystone auth webhook\n\nThe underlying CAPI Helm charts expect the k8sKeystoneAuth key to be under `addons.openstack` rather than just `openstack`.\n\nChange-Id: I095ebab7575d7827af9af5cdc7de771f1aec03d1\n'}, {'number': 4, 'created': '2024-04-05 08:41:59.000000000', 'files': ['magnum_capi_helm/tests/test_driver.py', 'magnum_capi_helm/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/61dfd3a30c3d410fed31a84adcf631b77effdd25', 'message': 'Fix Helm value snippet formatting for Keystone auth webhook\n\nThe underlying CAPI Helm charts expect the k8sKeystoneAuth key to be under `addons.openstack` rather than just `openstack`.\n\nChange-Id: I095ebab7575d7827af9af5cdc7de771f1aec03d1\n'}]",8,914078,61dfd3a30c3d410fed31a84adcf631b77effdd25,20,7,4,36412,,,0,"Fix Helm value snippet formatting for Keystone auth webhook

The underlying CAPI Helm charts expect the k8sKeystoneAuth key to be under `addons.openstack` rather than just `openstack`.

Change-Id: I095ebab7575d7827af9af5cdc7de771f1aec03d1
",git fetch https://review.opendev.org/openstack/magnum-capi-helm refs/changes/78/914078/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_capi_helm/driver.py'],1,f139b1bc63f5b954838be4d809e67277d92f291e,fix/keystone-auth-webhook," ""addons"": { ""openstack"": { ""k8sKeystoneAuth"": { # addon subchart configuration ""enabled"": True, ""values"": { ""openstackAuthUrl"": context.auth_url, ""projectId"": context.project_id, } } } }"," ""openstack"": { ""k8sKeystoneAuth"": { # addon subchart configuration ""enabled"": True, ""values"": { ""openstackAuthUrl"": context.auth_url, ""projectId"": context.project_id, }, } },",10,8
openstack%2Fopenstack-helm~914964,openstack/openstack-helm,master,Iee21f717c03920e7b1ab6b2225f82e81c21dd380,Aodh: Enable custom secret annotations,ABANDONED,2024-04-03 12:58:07.000000000,2024-04-09 21:45:59.000000000,,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 12:58:07.000000000', 'files': ['aodh/Chart.yaml', 'aodh/templates/secret-keystone.yaml', 'aodh/templates/secret-rabbitmq.yaml', 'aodh/values_overrides/annotations.yaml', 'aodh/templates/secret-db.yaml', 'releasenotes/notes/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db2ce2917ec7e09f3a57d81b43b4a0c4b3c7f395', 'message': 'Aodh: Enable custom secret annotations\n\nEnable custom annotations for secrets [identity, oslo_db, oslo_messaging]\n\nChange-Id: Iee21f717c03920e7b1ab6b2225f82e81c21dd380\n'}]",2,914964,db2ce2917ec7e09f3a57d81b43b4a0c4b3c7f395,6,3,1,34311,,,0,"Aodh: Enable custom secret annotations

Enable custom annotations for secrets [identity, oslo_db, oslo_messaging]

Change-Id: Iee21f717c03920e7b1ab6b2225f82e81c21dd380
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/64/914964/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/Chart.yaml', 'aodh/templates/secret-keystone.yaml', 'aodh/templates/secret-rabbitmq.yaml', 'aodh/values_overrides/annotations.yaml', 'aodh/templates/secret-db.yaml', 'releasenotes/notes/aodh.yaml']",6,db2ce2917ec7e09f3a57d81b43b4a0c4b3c7f395,feat/aodh_secret_annotations, - 0.2.10 Enable custom annotations for Openstack secrets,,15,1
openstack%2Fneutron~909145,openstack/neutron,master,I3d7107dfef493bb7de36a83a79cc0ed953826f9e,Fix redundant-keyword-arg warnings,ABANDONED,2024-02-15 22:08:34.000000000,2024-04-09 21:07:48.000000000,,"[{'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-15 22:08:34.000000000', 'files': ['neutron/tests/functional/scheduler/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb98261ba98f33eeb09a632d39adb83707be9ba0', 'message': 'Fix redundant-keyword-arg warnings\n\nRemoved keywords as arguments were in the correct\npositional order. No functional change.\n\nTrivialFix\n\nChange-Id: I3d7107dfef493bb7de36a83a79cc0ed953826f9e\n'}]",4,909145,fb98261ba98f33eeb09a632d39adb83707be9ba0,9,4,1,1131,,,0,"Fix redundant-keyword-arg warnings

Removed keywords as arguments were in the correct
positional order. No functional change.

TrivialFix

Change-Id: I3d7107dfef493bb7de36a83a79cc0ed953826f9e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/909145/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/scheduler/test_l3_agent_scheduler.py'],1,fb98261ba98f33eeb09a632d39adb83707be9ba0,fix-redundant-keyword-arg," get_scenario(constants.L3_AGENT_MODE_DVR)), get_scenario(constants.L3_AGENT_MODE_LEGACY, get_scenario(constants.L3_AGENT_MODE_DVR, get_scenario(constants.L3_AGENT_MODE_DVR, get_scenario(constants.L3_AGENT_MODE_LEGACY, get_scenario(constants.L3_AGENT_MODE_DVR, get_scenario(constants.L3_AGENT_MODE_LEGACY, constants.L3_AGENT_MODE_DVR_SNAT,"," get_scenario(agent_mode=constants.L3_AGENT_MODE_DVR)), get_scenario(agent_mode=constants.L3_AGENT_MODE_LEGACY, get_scenario(agent_mode=constants.L3_AGENT_MODE_DVR, get_scenario(agent_mode=constants.L3_AGENT_MODE_DVR, get_scenario(agent_mode=constants.L3_AGENT_MODE_LEGACY, get_scenario(agent_mode=constants.L3_AGENT_MODE_DVR, get_scenario(agent_mode=constants.L3_AGENT_MODE_LEGACY, second_agent_mode=constants.L3_AGENT_MODE_DVR_SNAT,",8,8
openstack%2Fnova~915361,openstack/nova,master,I85ce2896afdc206fbc704c98d108392e64d9133c,Add logs for PCI passthrough device selection,NEW,2024-04-09 15:24:44.000000000,2024-04-09 20:35:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-09 15:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/232eb01e85120e30d21856d8da66f339c71d381b', 'message': 'Add logs for PCI passthrough device selection\n\nWe have faced a situation while working with VGA PCI passthrough, which\nwas not working as expected due to a misconfiguration in the PCI device\nalias in Nova. The GPU was detected as ""type-PF"", but we configured its\nalias device type as ""type-PCI""; therefore, while matching the devices,\nNova did not find a suitable one.\n\nTo identify the issue, we needed to change the Python code in the\ncontainer to generate logs that demonstrate the configurations\nidentified/discovered by Nova in the compute host, and the request spec\nthat it (Nova) was trying to match.\n\nNova scheduler does not have enough logs to help operators to\ntroubleshoot situations like this one without being able to change code\non the fly. Therefore, this patch proposes two new logs that can be\nadded, which will help operators to troubleshoot similar situations more\neasily.\n\nChange-Id: I85ce2896afdc206fbc704c98d108392e64d9133c\n'}, {'number': 2, 'created': '2024-04-09 18:06:15.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0031d27b5c7dcd3977ca4468c2241493af5cd11e', 'message': 'Add logs for PCI passthrough device selection\n\nWe have faced a situation while working with VGA PCI passthrough, which\nwas not working as expected due to a misconfiguration in the PCI device\nalias in Nova. The GPU was detected as ""type-PF"", but we configured its\nalias device type as ""type-PCI""; therefore, while matching the devices,\nNova did not find a suitable one.\n\nTo identify the issue, we needed to change the Python code in the\ncontainer to generate logs that demonstrate the configurations\nidentified/discovered by Nova in the compute host, and the request spec\nthat it (Nova) was trying to match.\n\nNova scheduler does not have enough logs to help operators to\ntroubleshoot situations like this one without being able to change code\non the fly. Therefore, this patch proposes two new logs that can be\nadded, which will help operators to troubleshoot similar situations more\neasily.\n\nChange-Id: I85ce2896afdc206fbc704c98d108392e64d9133c\n'}]",0,915361,0031d27b5c7dcd3977ca4468c2241493af5cd11e,8,1,2,28356,,,0,"Add logs for PCI passthrough device selection

We have faced a situation while working with VGA PCI passthrough, which
was not working as expected due to a misconfiguration in the PCI device
alias in Nova. The GPU was detected as ""type-PF"", but we configured its
alias device type as ""type-PCI""; therefore, while matching the devices,
Nova did not find a suitable one.

To identify the issue, we needed to change the Python code in the
container to generate logs that demonstrate the configurations
identified/discovered by Nova in the compute host, and the request spec
that it (Nova) was trying to match.

Nova scheduler does not have enough logs to help operators to
troubleshoot situations like this one without being able to change code
on the fly. Therefore, this patch proposes two new logs that can be
added, which will help operators to troubleshoot similar situations more
easily.

Change-Id: I85ce2896afdc206fbc704c98d108392e64d9133c
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/915361/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/pci/stats.py']",2,232eb01e85120e30d21856d8da66f339c71d381b,add-logs-pci-passthrough-process-upstream," LOG.debug(""Looking for devices to fit request [%s] in pools [%s]."", request, pools)",,3,0
openstack%2Fmanila~915131,openstack/manila,master,I9d760ebbfcca176a39b44f20fb92e16eaf6284c5,tests: Don't (always) auto-create snapshot instances,MERGED,2024-04-05 13:33:18.000000000,2024-04-09 18:57:43.000000000,2024-04-09 18:56:41.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-05 13:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/27c83ba84f9c46d68aeab40a3aaa60383c658f02', 'message': ""tests: Don't (always) auto-create snapshot instances\n\nIf we are manually creating these things, we don't want any\nautomatically created. This is a latent issue that was being exposed by\nSQLAlchemy 2.0's tweaked session management.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I9d760ebbfcca176a39b44f20fb92e16eaf6284c5\n""}, {'number': 2, 'created': '2024-04-05 14:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/79f8dbaea2ecf55113e90d91a1ec3965be1ffedf', 'message': ""tests: Don't (always) auto-create snapshot instances\n\nIf we are manually creating these things, we don't want any\nautomatically created. This is a latent issue that was being exposed by\nSQLAlchemy 2.0's tweaked session management.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I9d760ebbfcca176a39b44f20fb92e16eaf6284c5\n""}, {'number': 3, 'created': '2024-04-06 08:52:02.000000000', 'files': ['manila/db/api.py', 'manila/tests/db_utils.py', 'manila/tests/db/sqlalchemy/test_api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/16b02bc706f9647c8c38465a5de64a8dd142a3a9', 'message': ""tests: Don't (always) auto-create snapshot instances\n\nIf we are manually creating these things, we don't want any\nautomatically created. This is a latent issue that was being exposed by\nSQLAlchemy 2.0's tweaked session management.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I9d760ebbfcca176a39b44f20fb92e16eaf6284c5\n""}]",7,915131,16b02bc706f9647c8c38465a5de64a8dd142a3a9,24,3,3,15334,,,0,"tests: Don't (always) auto-create snapshot instances

If we are manually creating these things, we don't want any
automatically created. This is a latent issue that was being exposed by
SQLAlchemy 2.0's tweaked session management.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I9d760ebbfcca176a39b44f20fb92e16eaf6284c5
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/915131/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/tests/db_utils.py', 'manila/tests/db/sqlalchemy/test_api.py']",3,27c83ba84f9c46d68aeab40a3aaa60383c658f02,sqlalchemy-20," snapshots = db_api.share_snapshot_get_all(self.ctxt) self.assertEqual(1, len(snapshots))"," snapshots = db_api.share_snapshot_get_all( self.ctxt, filters=filters) self.assertEqual(1, len(snapshots)) ",12,7
openstack%2Fmanila~915127,openstack/manila,master,I1da6d117778bbbad64b2df2dfd2f8aeef8a7084c,db: rename_table is not a batch operation,MERGED,2024-04-05 12:39:26.000000000,2024-04-09 18:51:00.000000000,2024-04-09 18:49:54.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-05 12:39:26.000000000', 'files': ['manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/825ee3743202c641a7c329777c0bd08097fe32dc', 'message': ""db: rename_table is not a batch operation\n\nThis is reported upstream [1] but I suspect the root cause is that we\nwere relying on a bug in Alembic: renaming tables doesn't really make\nsense as a batch operation, which by definition works by recreating\ntables with an updated schema (to support SQLite and its lack of full\n'ALTER' support).\n\n[1] https://github.com/sqlalchemy/alembic/issues/1453\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I1da6d117778bbbad64b2df2dfd2f8aeef8a7084c\n""}]",6,915127,825ee3743202c641a7c329777c0bd08097fe32dc,18,3,1,15334,,,0,"db: rename_table is not a batch operation

This is reported upstream [1] but I suspect the root cause is that we
were relying on a bug in Alembic: renaming tables doesn't really make
sense as a batch operation, which by definition works by recreating
tables with an updated schema (to support SQLite and its lack of full
'ALTER' support).

[1] https://github.com/sqlalchemy/alembic/issues/1453

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I1da6d117778bbbad64b2df2dfd2f8aeef8a7084c
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/915127/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py'],1,825ee3743202c641a7c329777c0bd08097fe32dc,sqlalchemy-20," op.rename_table( 'share_export_locations', 'share_instance_export_locations')"," batch_op.rename_table('share_export_locations', 'share_instance_export_locations')",3,2
openstack%2Fcharm-openstack-dashboard~915147,openstack/charm-openstack-dashboard,stable/wallaby,I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6,Adjust haproxy timeout to intended values,MERGED,2024-04-05 20:31:40.000000000,2024-04-09 18:41:13.000000000,2024-04-09 18:41:13.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 20:31:40.000000000', 'files': ['templates/haproxy.cfg'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/9885182a9316c3ff9e73578989fb790ce4677416', 'message': ""Adjust haproxy timeout to intended values\n\nMany years ago change Ida7949113594b9b859ab7b4ba8b2bb440bab6e7d\nattempted to change the timeouts of haproxy but did not succeed,\nas deployments were still using the values from the charm's\ntemplates/haproxy.cfg file, being effectively set to 30 seconds\nand causing timeouts (see bug). Additionally, the description\nof the config options became inaccurate, stating the default to\nbe a value that they were really not.\n\nThis patch addresses the timeout value discrepancy, adjusting\nto the original change's intended values.\n\nCloses-bug: #2045168\nChange-Id: I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6\n(cherry picked from commit 09c587116059319305b2a09cb393a084a52d1fc9)\n(cherry picked from commit 2f430d15e64766fce4dc398ee23703a395693027)\n(cherry picked from commit f013b18c7680174dcbc4217030081a451347c8ef)\n(cherry picked from commit f6f60a37ba99fd56fd02ac1a4c518703e9d9efca)\n(cherry picked from commit 62777b150b1753a5a33e16c6dbfce24bc828a9dd)\n(cherry picked from commit fb63730e63fb09919d8b24c4ce34c77c85bb1317)\n""}]",0,915147,9885182a9316c3ff9e73578989fb790ce4677416,8,4,1,14567,,,0,"Adjust haproxy timeout to intended values

Many years ago change Ida7949113594b9b859ab7b4ba8b2bb440bab6e7d
attempted to change the timeouts of haproxy but did not succeed,
as deployments were still using the values from the charm's
templates/haproxy.cfg file, being effectively set to 30 seconds
and causing timeouts (see bug). Additionally, the description
of the config options became inaccurate, stating the default to
be a value that they were really not.

This patch addresses the timeout value discrepancy, adjusting
to the original change's intended values.

Closes-bug: #2045168
Change-Id: I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6
(cherry picked from commit 09c587116059319305b2a09cb393a084a52d1fc9)
(cherry picked from commit 2f430d15e64766fce4dc398ee23703a395693027)
(cherry picked from commit f013b18c7680174dcbc4217030081a451347c8ef)
(cherry picked from commit f6f60a37ba99fd56fd02ac1a4c518703e9d9efca)
(cherry picked from commit 62777b150b1753a5a33e16c6dbfce24bc828a9dd)
(cherry picked from commit fb63730e63fb09919d8b24c4ce34c77c85bb1317)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/47/915147/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/haproxy.cfg'],1,9885182a9316c3ff9e73578989fb790ce4677416,, timeout queue 9000 timeout connect 9000 timeout client 90000 timeout server 90000, timeout queue 5000 timeout connect 5000 timeout client 30000 timeout server 30000,4,4
openstack%2Fpython-openstackclient~912509,openstack/python-openstackclient,master,If12a550451f5aafe3e2fb5aaa0257319ea908fe3,refectory: remove unreachable code,MERGED,2024-03-12 07:41:27.000000000,2024-04-09 18:40:08.000000000,2024-04-09 18:38:16.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-12 07:41:27.000000000', 'files': ['openstackclient/compute/v2/server_migration.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9e4dbd1d82ee58f12cc34a397a78cad9b193d454', 'message': 'refectory: remove unreachable code\n\nChange-Id: If12a550451f5aafe3e2fb5aaa0257319ea908fe3\nSigned-off-by: Youngjun <yj.yoo@okestro.com>\n'}]",0,912509,9e4dbd1d82ee58f12cc34a397a78cad9b193d454,7,2,1,36609,,,0,"refectory: remove unreachable code

Change-Id: If12a550451f5aafe3e2fb5aaa0257319ea908fe3
Signed-off-by: Youngjun <yj.yoo@okestro.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/09/912509/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server_migration.py'],1,9e4dbd1d82ee58f12cc34a397a78cad9b193d454,remove-unreachable-code,, break,0,1
openstack%2Fpython-openstackclient~912631,openstack/python-openstackclient,master,I9c5cf24e51fa8d4ab1428280f25408391c8556c8,Fix typo in the list of Glanceclient/OSC commands,MERGED,2024-03-12 18:59:02.000000000,2024-04-09 18:39:21.000000000,2024-04-09 18:38:14.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-12 18:59:02.000000000', 'files': ['doc/source/cli/data/glance.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/76f234eba9ebd3046ccc9d06eb949c2ffe4b6de9', 'message': 'Fix typo in the list of Glanceclient/OSC commands\n\nChange-Id: I9c5cf24e51fa8d4ab1428280f25408391c8556c8\n'}]",1,912631,76f234eba9ebd3046ccc9d06eb949c2ffe4b6de9,7,2,1,8122,,,0,"Fix typo in the list of Glanceclient/OSC commands

Change-Id: I9c5cf24e51fa8d4ab1428280f25408391c8556c8
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/31/912631/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/data/glance.csv'],1,76f234eba9ebd3046ccc9d06eb949c2ffe4b6de9,glance-typo,"cache-clear,cached image clear,""Clear all images from cache, queue or both.""","cache-clear,cached image list,""Clear all images from cache, queue or both.""",1,1
openstack%2Fneutron~915296,openstack/neutron,stable/2024.1,Ic5d9608277dd5c4881b3e4b494e1864be0bed1b4,Fix KeyError failure in _sync_subnet_dhcp_options(),MERGED,2024-04-08 21:46:45.000000000,2024-04-09 18:39:20.000000000,2024-04-09 18:38:11.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 21:46:45.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51961e195fa9ac474af45b366831cc521cbc6e34', 'message': 'Fix KeyError failure in _sync_subnet_dhcp_options()\n\nIf the netron-ovn-db-sync-util is run while neutron-server\nis active (which is not recommended), it can randomly fail\nif there are active API calls in flight to create networks\nand/or subnets.\n\nSkip the subnet and log a warning if detected.\n\nCloses-bug: #2045811\nChange-Id: Ic5d9608277dd5c4881b3e4b494e1864be0bed1b4\n(cherry picked from commit e4323e1f209ea1c63fe7af5275ea2b96f52b8740)\n'}]",1,915296,51961e195fa9ac474af45b366831cc521cbc6e34,9,3,1,16688,,,0,"Fix KeyError failure in _sync_subnet_dhcp_options()

If the netron-ovn-db-sync-util is run while neutron-server
is active (which is not recommended), it can randomly fail
if there are active API calls in flight to create networks
and/or subnets.

Skip the subnet and log a warning if detected.

Closes-bug: #2045811
Change-Id: Ic5d9608277dd5c4881b3e4b494e1864be0bed1b4
(cherry picked from commit e4323e1f209ea1c63fe7af5275ea2b96f52b8740)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/915296/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py']",2,51961e195fa9ac474af45b366831cc521cbc6e34,bug/2045811," 'ip_version': 4}, # A subnet without a known network should be skipped, # see bug #2045811 {'id': 'notfound', 'network_id': 'notfound', 'enable_dhcp': True, 'cidr': '30.0.0.0/24', 'tenant_id': 'tenant1', 'gateway_ip': '30.0.0.1', 'dns_nameservers': [], 'host_routes': [],",,22,1
openstack%2Fcharm-keystone~915142,openstack/charm-keystone,stable/2023.2,I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda,Add cache_time for identity,MERGED,2024-04-05 13:39:47.000000000,2024-04-09 18:33:45.000000000,2024-04-09 18:33:45.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 13:39:47.000000000', 'files': ['templates/queens/keystone.conf', 'templates/rocky/keystone.conf', 'config.yaml', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0eb972dbc0c256e9c20f5cc83fc6ada9f96fa93a', 'message': 'Add cache_time for identity\n\nThis patch adds a config option to allow\nconfiguring the cache_time for identity elements.\n\nIt is also including a complementary fix for\nchange I49e46e010c543f831959581b2122f59068f2c07b\nthat missed adjusting the correct template, and\nused the wrong comparison ""is not None"".\n\nCloses-bug: #2054418\nRelated-bug: #1771114\nChange-Id: I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda\n(cherry picked from commit 0967f6ec4eacf69a5cee9b7582daed973e1dded4)\n'}]",0,915142,0eb972dbc0c256e9c20f5cc83fc6ada9f96fa93a,8,4,1,14567,,,0,"Add cache_time for identity

This patch adds a config option to allow
configuring the cache_time for identity elements.

It is also including a complementary fix for
change I49e46e010c543f831959581b2122f59068f2c07b
that missed adjusting the correct template, and
used the wrong comparison ""is not None"".

Closes-bug: #2054418
Related-bug: #1771114
Change-Id: I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda
(cherry picked from commit 0967f6ec4eacf69a5cee9b7582daed973e1dded4)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/42/915142/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/keystone.conf', 'templates/rocky/keystone.conf', 'config.yaml', 'hooks/keystone_context.py']",4,0eb972dbc0c256e9c20f5cc83fc6ada9f96fa93a,, if config('identity-cache-expiration') is not None: ctxt['identity_cache_expiration'] = config( 'identity-cache-expiration'),,21,5
openstack%2Fnova~898057,openstack/nova,master,I2bf8dcce90c939cee37610a596c93e4ec819893a,imporve nova object logging,NEW,2023-10-12 04:29:01.000000000,2024-04-09 18:32:44.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 11583}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34860}, {'_account_id': 36216}]","[{'number': 1, 'created': '2023-10-12 04:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5848fd57c38b0d862e09d03c05ab5091e458c797', 'message': 'imporve nova object logging\n\nThis change add a new mixin to override __str__\nwhich will print the content of a nova object via\ncalling obj_to_primitive and passing that to jsonutils.dumps\n\nThis mixing is applied to a number of objects related\nto numa and pci requests to print more detailed info in logs.\n\nThis is primarly useful for debuging numa/pci related issues\nfrom logs.\n\nChange-Id: I2bf8dcce90c939cee37610a596c93e4ec819893a\n'}, {'number': 2, 'created': '2024-03-20 21:14:37.000000000', 'files': ['nova/objects/base.py', 'nova/objects/numa.py', 'nova/objects/instance_numa.py', 'nova/objects/instance_pci_requests.py', 'nova/objects/network_metadata.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/508d56e3d98b327c49232edaba9ea0b182587d7d', 'message': 'imporve nova object logging\n\nThis change add a new mixin to override __str__\nwhich will print the content of a nova object via\ncalling obj_to_primitive and passing that to jsonutils.dumps\n\nThis mixing is applied to a number of objects related\nto numa and pci requests to print more detailed info in logs.\n\nThis is primarly useful for debuging numa/pci related issues\nfrom logs.\n\nChange-Id: I2bf8dcce90c939cee37610a596c93e4ec819893a\n'}]",5,898057,508d56e3d98b327c49232edaba9ea0b182587d7d,16,8,2,11604,,,0,"imporve nova object logging

This change add a new mixin to override __str__
which will print the content of a nova object via
calling obj_to_primitive and passing that to jsonutils.dumps

This mixing is applied to a number of objects related
to numa and pci requests to print more detailed info in logs.

This is primarly useful for debuging numa/pci related issues
from logs.

Change-Id: I2bf8dcce90c939cee37610a596c93e4ec819893a
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/898057/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/objects/numa.py', 'nova/objects/instance_numa.py', 'nova/objects/instance_pci_requests.py', 'nova/objects/network_metadata.py']",5,5848fd57c38b0d862e09d03c05ab5091e458c797,numa-claims,"class NetworkMetadata(base.NovaObject, base.NovaVerbosePrintableObject):",class NetworkMetadata(base.NovaObject):,27,11
openstack%2Fnova~913224,openstack/nova,stable/2023.1,I6e5383d8a0bf3f0ed8c870754cddae4e9163b4fd,Power on cores for isolated emulator threads,MERGED,2024-03-14 15:08:10.000000000,2024-04-09 18:07:58.000000000,2024-04-09 18:06:38.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 15:08:10.000000000', 'files': ['nova/tests/functional/libvirt/test_power_manage.py', 'nova/virt/libvirt/cpu/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0d0dff801b043bc744e0e196f8658be30816251e', 'message': ""Power on cores for isolated emulator threads\n\nPreviously, with the `isolate` emulator threads policy and libvirt cpu\npower management enabled, we did not power on the cores to which the\nemulator threads were pin. Start doing that, and don't forget to power\nthem down when the instance is stopped.\n\nCloses-bug: 2056612\nChange-Id: I6e5383d8a0bf3f0ed8c870754cddae4e9163b4fd\n(cherry picked from commit 0986d2bbe871d852075549eecea46f4b282c0842)\n(cherry picked from commit 4bcf5adadac173105700c0741528199a5734987e)\n""}]",3,913224,0d0dff801b043bc744e0e196f8658be30816251e,17,3,1,8864,,,0,"Power on cores for isolated emulator threads

Previously, with the `isolate` emulator threads policy and libvirt cpu
power management enabled, we did not power on the cores to which the
emulator threads were pin. Start doing that, and don't forget to power
them down when the instance is stopped.

Closes-bug: 2056612
Change-Id: I6e5383d8a0bf3f0ed8c870754cddae4e9163b4fd
(cherry picked from commit 0986d2bbe871d852075549eecea46f4b282c0842)
(cherry picked from commit 4bcf5adadac173105700c0741528199a5734987e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/913224/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_power_manage.py', 'nova/virt/libvirt/cpu/api.py']",2,0d0dff801b043bc744e0e196f8658be30816251e,bug/2056612, pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved) pcpus = instance.numa_topology.cpu_pinning.union( instance.numa_topology.cpuset_reserved), pcpus = instance.numa_topology.cpu_pinning pcpus = instance.numa_topology.cpu_pinning,24,3
openstack%2Fopenstack-helm-infra~914807,openstack/openstack-helm-infra,master,I8b0f5c0bda2f1305e0460adc35e85b130f4cf9ff,make ovn db file path as configurable,MERGED,2024-04-01 09:29:05.000000000,2024-04-09 18:03:36.000000000,2024-04-09 18:02:33.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-04-01 09:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb0e2b2fb9a35ee5c6af2267571cef63c53a75c4', 'message': 'fix ovn db mount path\n\nChange-Id: I8b0f5c0bda2f1305e0460adc35e85b130f4cf9ff\n'}, {'number': 2, 'created': '2024-04-09 13:11:25.000000000', 'files': ['releasenotes/notes/ovn.yaml', 'ovn/templates/statefulset-ovsdb-sb.yaml', 'ovn/values.yaml', 'ovn/Chart.yaml', 'ovn/templates/statefulset-ovsdb-nb.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2039d4cf55612394d1ce4cef2f076d7687e1b0e', 'message': 'make ovn db file path as configurable\n\nChange-Id: I8b0f5c0bda2f1305e0460adc35e85b130f4cf9ff\n'}]",2,914807,d2039d4cf55612394d1ce4cef2f076d7687e1b0e,14,3,2,31746,,,0,"make ovn db file path as configurable

Change-Id: I8b0f5c0bda2f1305e0460adc35e85b130f4cf9ff
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/914807/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn.yaml', 'ovn/templates/statefulset-ovsdb-sb.yaml', 'ovn/Chart.yaml', 'ovn/templates/statefulset-ovsdb-nb.yaml']",4,bb0e2b2fb9a35ee5c6af2267571cef63c53a75c4,, mountPath: /etc/ovn, mountPath: /var/lib/ovn,4,3
openstack%2Fhorizon~915191,openstack/horizon,master,I66a2ba7b9a0841818c8b2676625d18cb3b290451,pytest-based integration tests:add instances tests,MERGED,2024-04-05 22:35:35.000000000,2024-04-09 17:34:45.000000000,2024-04-09 17:33:32.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 35133}]","[{'number': 1, 'created': '2024-04-05 22:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/37133f0902cde27a6abf2366d54bc9b41deb5e98', 'message': 'pytest-based integration tests:add iinstances tests\n\nChange-Id: I66a2ba7b9a0841818c8b2676625d18cb3b290451\n'}, {'number': 2, 'created': '2024-04-06 09:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/08a9aca9139efc7b3078c3a1380af4f71041f83f', 'message': 'pytest-based integration tests:add instances tests\n\nChange-Id: I66a2ba7b9a0841818c8b2676625d18cb3b290451\n'}, {'number': 3, 'created': '2024-04-06 14:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0929627d673415e2a8b32f5d63c897fb5f16f4ac', 'message': 'pytest-based integration tests:add instances tests\n\nChange-Id: I66a2ba7b9a0841818c8b2676625d18cb3b290451\n'}, {'number': 4, 'created': '2024-04-08 09:17:23.000000000', 'files': ['openstack_dashboard/test/selenium/widgets.py', 'openstack_dashboard/test/selenium/integration/test_images.py', 'openstack_dashboard/test/selenium/integration/test_instances.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1cf5168926c886ed418189603030f5b72f3ed25a', 'message': 'pytest-based integration tests:add instances tests\n\nAdded following test cases :\n- test_instances_pagination_and_filtration_demo\n- test_instances_pagination_and_filtration_admin\n- test_filter_instances_demo\n- test_filter_instances_admin\n\nChange-Id: I66a2ba7b9a0841818c8b2676625d18cb3b290451\n'}]",10,915191,1cf5168926c886ed418189603030f5b72f3ed25a,19,5,4,35153,,,0,"pytest-based integration tests:add instances tests

Added following test cases :
- test_instances_pagination_and_filtration_demo
- test_instances_pagination_and_filtration_admin
- test_filter_instances_demo
- test_filter_instances_admin

Change-Id: I66a2ba7b9a0841818c8b2676625d18cb3b290451
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/915191/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/selenium/widgets.py', 'openstack_dashboard/test/selenium/integration/test_images.py', 'openstack_dashboard/test/selenium/integration/test_instances.py']",3,37133f0902cde27a6abf2366d54bc9b41deb5e98,,"from oslo_utils import uuidutils def apply_instance_name_filter(driver, config, name_pattern): filter_field = driver.find_element_by_css_selector( ""input[name='instances__filter__q']"") filter_field.clear() filter_field.send_keys(name_pattern) driver.find_element_by_css_selector(""#instances__action_filter"").click() WebDriverWait(driver, config.selenium.page_timeout).until( EC.invisibility_of_element_located(filter_field)) @pytest.mark.parametrize('new_instance_demo', [(2, False)], indirect=True) def test_instances_pagination_and_filtration_demo(login, driver, instance_name, new_instance_demo, change_page_size_demo, config): """"""This test checks instance pagination and filtration Steps: 1) Login to Horizon Dashboard as demo user 2) Create 2 instances 3) Go to user settings page 4) Change 'Items Per Page' value to 1 5) Go to Instances page 6) Check filter by Name of the first and the second instance in order to have one instance in the list (and it should have correct name) and no 'Next' link is available 7) Check filter by common part of Name of in order to have one instance in the list (and it should have correct name) and 'Next' link is available on the first page and is not available on the second page 9) Go to user settings page and restore 'Items Per Page' 10) Delete created instances """""" items_per_page = 1 instance_count = 2 instance_list = [f""{instance_name}-{item}"" for item in range(1, instance_count + 1)] filter_instance1_def = widgets.TableDefinition(next=False, prev=False, count=items_per_page, names=[instance_list[1]]) filter_instance2_def = widgets.TableDefinition(next=False, prev=False, count=items_per_page, names=[instance_list[0]]) common_filter_page1_def = widgets.TableDefinition(next=True, prev=False, count=items_per_page, names=[instance_list[1]]) common_filter_page2_def = widgets.TableDefinition(next=False, prev=True, count=items_per_page, names=[instance_list[0]]) url = '/'.join(( config.dashboard.dashboard_url, 'project', 'instances' )) driver.get(url) driver.find_element_by_css_selector( ""button[class='btn btn-default dropdown-toggle']"").click() driver.find_element_by_css_selector( ""a[data-select-value='name']"").click() apply_instance_name_filter(driver, config, instance_list[1]) actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert filter_instance1_def == actual_page_definition apply_instance_name_filter(driver, config, instance_list[0]) actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert filter_instance2_def == actual_page_definition apply_instance_name_filter(driver, config, instance_name) actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert common_filter_page1_def == actual_page_definition # Turning to next page driver.find_element_by_link_text(""Next »"").click() actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert common_filter_page2_def == actual_page_definition @pytest.mark.parametrize('new_instance_demo', [(2, False)], indirect=True) def test_filter_instances_demo(login, driver, instance_name, new_instance_demo, config): instance_count = 2 instance_list = [f""{instance_name}-{item}"" for item in range(1, instance_count + 1)] login('user', 'demo') url = '/'.join(( config.dashboard.dashboard_url, 'project', 'instances' )) driver.get(url) driver.find_element_by_css_selector( ""button[class='btn btn-default dropdown-toggle']"").click() driver.find_element_by_css_selector( ""a[data-select-value='name']"").click() apply_instance_name_filter(driver, config, instance_list[1]) current_page_definition = widgets.get_table_definition(driver, sorting=True) assert vars(current_page_definition)['names'][0] == \ instance_list[1] and vars(current_page_definition)['count'] == 1 # Generate random non existent image name random_instance_name = 'horizon_instance_%s' % \ uuidutils.generate_uuid(dashed=False) apply_instance_name_filter(driver, config, random_instance_name) no_items_present = driver.find_element_by_xpath(""//td[text()='No items to display.']"") assert no_items_present @pytest.mark.parametrize('new_instance_admin', [(2, False)], indirect=True) def test_instances_pagination_and_filtration_admin(login, driver, instance_name, new_instance_admin, change_page_size_admin, config): """"""This test checks instance pagination and filtration Steps: 1) Login to Horizon Dashboard as admin user 2) Create 2 instances 3) Go to user settings page 4) Change 'Items Per Page' value to 1 5) Go to Instances page 6) Check filter by Name of the first and the second instance in order to have one instance in the list (and it should have correct name) and no 'Next' link is available 7) Check filter by common part of Name of in order to have one instance in the list (and it should have correct name) and 'Next' link is available on the first page and is not available on the second page 9) Go to user settings page and restore 'Items Per Page' 10) Delete created instances """""" items_per_page = 1 instance_count = 2 instance_list = [f""{instance_name}-{item}"" for item in range(1, instance_count + 1)] filter_instance1_def = widgets.TableDefinition(next=False, prev=False, count=items_per_page, names=[instance_list[1]]) filter_instance2_def = widgets.TableDefinition(next=False, prev=False, count=items_per_page, names=[instance_list[0]]) common_filter_page1_def = widgets.TableDefinition(next=True, prev=False, count=items_per_page, names=[instance_list[1]]) common_filter_page2_def = widgets.TableDefinition(next=False, prev=True, count=items_per_page, names=[instance_list[0]]) url = '/'.join(( config.dashboard.dashboard_url, 'project', 'instances' )) driver.get(url) driver.find_element_by_css_selector( ""button[class='btn btn-default dropdown-toggle']"").click() driver.find_element_by_css_selector( ""a[data-select-value='name']"").click() apply_instance_name_filter(driver, config, instance_list[1]) actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert filter_instance1_def == actual_page_definition apply_instance_name_filter(driver, config, instance_list[0]) actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert filter_instance2_def == actual_page_definition apply_instance_name_filter(driver, config, instance_name) actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert common_filter_page1_def == actual_page_definition # Turning to next page driver.find_element_by_link_text(""Next »"").click() actual_page_definition = widgets.get_table_definition(driver, sorting=True) assert common_filter_page2_def == actual_page_definition",,203,24
openstack%2Fmanila~911694,openstack/manila,master,I6a0575c1ed86213010e50fe1b7a733cdf7fa1736,Add delete CLI helper to ShareCommands,MERGED,2024-03-07 11:17:43.000000000,2024-04-09 17:10:46.000000000,2024-04-09 17:09:35.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-03-07 11:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a7d7894d7e0e94f538b0acc389e83431d607792d', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 2, 'created': '2024-03-07 12:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/101c0b99a762eccbd8774dd3ccbbe0c8d85276bb', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 3, 'created': '2024-03-07 12:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e7e4583b9b99a73b6a7d3b9766395b576c98381d', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 4, 'created': '2024-03-08 13:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e44a0208555fb81e7cff46b5bb526fd8864c27c1', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 5, 'created': '2024-03-13 11:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8abad458a7e53caafe5050f5eb023b171f972d77', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 6, 'created': '2024-03-13 11:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48e2f32a46bd770f87717b103857fc98d3e496e2', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 7, 'created': '2024-03-16 07:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3585f12c8139d0a3e79eb5240588ca8caeff87e3', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 8, 'created': '2024-03-16 09:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6bbf22c8441d259a15966608c1da293e0ce349b9', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 9, 'created': '2024-03-19 12:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dfe1ec47b5aa192dff955ea55ed2a4cc71cfd46c', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 10, 'created': '2024-03-19 12:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fceb19204b01dce7c030699dca2c1074e599db0d', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 11, 'created': '2024-03-20 12:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a7457735c1dbee2492590188d2545ba79ab1edd3', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 12, 'created': '2024-03-20 12:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fe1f6fdd3269d7c9ebb1422a841d9e89001c28de', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 13, 'created': '2024-03-22 14:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4c71b383b6db1e7f12f6da7f08bc7336b2e2d4b1', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 14, 'created': '2024-03-22 16:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1bda25df3311c44e3ba7c57ac98a858e55a0cf84', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 15, 'created': '2024-03-27 06:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/170e5753346d89d7104d293f91160e6b2cc77fe2', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 16, 'created': '2024-03-27 10:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/64fe7c3d0901e7a3281af0ed493dcc0ca8f8e98a', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 17, 'created': '2024-04-04 11:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6cf77ccc65607c6bff3573fb6c7c9ad62224473a', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 18, 'created': '2024-04-04 11:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6ec0331fc24debd0e6df2d9af7c4e2607ace3a4a', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 19, 'created': '2024-04-04 21:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/97336fba555a664dbc14b69f1f9ea6be1e9ed4fe', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 20, 'created': '2024-04-05 05:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a98d55714b5c64938d01b85af8def78fc08c784d', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 21, 'created': '2024-04-05 14:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b97ae959cb6a5a6935fd1dc91ed40c2a5af80410', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 22, 'created': '2024-04-05 15:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/85a9f98825925f6de6a8c4bdfe6cc3516bc85987', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}, {'number': 23, 'created': '2024-04-05 15:09:09.000000000', 'files': ['manila/cmd/manage.py', 'manila/tests/cmd/test_manage.py', 'releasenotes/notes/bug-1867030-delete-share-55663c74a93e77fd.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/23de7b4b0cfb7c3ac4663f395298d19fa7a8776f', 'message': 'Add delete CLI helper to ShareCommands\n\nThis patch adds a delete cli command to ShareCommands\nThe helper CLI command checks if service if up. If service\nis down, it deletes the share instance\n\nCloses-Bug: #1867030\nChange-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736\n'}]",64,911694,23de7b4b0cfb7c3ac4663f395298d19fa7a8776f,129,3,23,36853,,,0,"Add delete CLI helper to ShareCommands

This patch adds a delete cli command to ShareCommands
The helper CLI command checks if service if up. If service
is down, it deletes the share instance

Closes-Bug: #1867030
Change-Id: I6a0575c1ed86213010e50fe1b7a733cdf7fa1736
",git fetch https://review.opendev.org/openstack/manila refs/changes/94/911694/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/api.py'],1,a7d7894d7e0e94f538b0acc389e83431d607792d,bug/1867030,,,1,0
openstack%2Fpuppet-cinder~915325,openstack/puppet-cinder,master,Ib635bad5d4a6a18cc8f2be6f4df7e0101b23d4c7,Stop hardcoding defaults in cinder::backup::ceph,MERGED,2024-04-09 12:38:40.000000000,2024-04-09 17:03:45.000000000,2024-04-09 17:03:45.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-09 12:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/98a96d8057132f46f8c5cfd146a5d1c7de5d28e7', 'message': 'Stop hardcoding defaults in cinder::backup::ceph\n\n... because they are the default values.\n\nChange-Id: Ib635bad5d4a6a18cc8f2be6f4df7e0101b23d4c7\n'}, {'number': 2, 'created': '2024-04-09 13:16:39.000000000', 'files': ['manifests/backup/ceph.pp', 'spec/classes/cinder_backup_ceph_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/20d3cfe08918d166b7e58322c3e54202584ce041', 'message': 'Stop hardcoding defaults in cinder::backup::ceph\n\n... because they are the default values.\n\nChange-Id: Ib635bad5d4a6a18cc8f2be6f4df7e0101b23d4c7\n'}]",2,915325,20d3cfe08918d166b7e58322c3e54202584ce041,10,3,2,16137,,,0,"Stop hardcoding defaults in cinder::backup::ceph

... because they are the default values.

Change-Id: Ib635bad5d4a6a18cc8f2be6f4df7e0101b23d4c7
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/25/915325/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backup/ceph.pp', 'spec/classes/cinder_backup_ceph_spec.rb']",2,98a96d8057132f46f8c5cfd146a5d1c7de5d28e7,," shared_examples 'cinder::backup::ceph' do is_expected.to contain_cinder_config('DEFAULT/backup_ceph_conf').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/backup_ceph_user').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/backup_ceph_chunk_size').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/backup_ceph_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/backup_ceph_stripe_unit').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/backup_ceph_stripe_count').with_value('<SERVICE DEFAULT>') before do params.merge!( :backup_ceph_conf => '/tmp/ceph.conf', :backup_ceph_user => 'toto', :backup_ceph_chunk_size => '123', :backup_ceph_pool => 'foo', :backup_ceph_stripe_unit => '56', :backup_ceph_stripe_count => '67' ) :supported_os => OSDefaults.get_supported_os it_behaves_like 'cinder::backup::ceph'"," let :default_params do { :backup_ceph_conf => '/etc/ceph/ceph.conf', :backup_ceph_user => 'cinder', :backup_ceph_chunk_size => '134217728', :backup_ceph_pool => 'backups', :backup_ceph_stripe_unit => '0', :backup_ceph_stripe_count => '0' } end shared_examples 'cinder backup with ceph' do let :p do default_params.merge(params) end is_expected.to contain_cinder_config('DEFAULT/backup_ceph_conf').with_value(p[:backup_ceph_conf]) is_expected.to contain_cinder_config('DEFAULT/backup_ceph_user').with_value(p[:backup_ceph_user]) is_expected.to contain_cinder_config('DEFAULT/backup_ceph_chunk_size').with_value(p[:backup_ceph_chunk_size]) is_expected.to contain_cinder_config('DEFAULT/backup_ceph_pool').with_value(p[:backup_ceph_pool]) is_expected.to contain_cinder_config('DEFAULT/backup_ceph_stripe_unit').with_value(p[:backup_ceph_stripe_unit]) is_expected.to contain_cinder_config('DEFAULT/backup_ceph_stripe_count').with_value(p[:backup_ceph_stripe_count]) before :each do params.merge!(:backup_ceph_conf => '/tmp/ceph.conf') params.merge!(:backup_ceph_user => 'toto') params.merge!(:backup_ceph_chunk_size => '123') params.merge!(:backup_ceph_pool => 'foo') params.merge!(:backup_ceph_stripe_unit => '56') params.merge!(:backup_ceph_stripe_count => '67') :supported_os => OSDefaults.get_supported_os it_behaves_like 'cinder backup with ceph'",38,49
openstack%2Fcinder~866093,openstack/cinder,master,Ie58db6f70aac0b13fbe832ecee177146e5dda397,"mypy, Ceph: correct types of file-likes in backup and restore",NEW,2022-11-29 23:25:49.000000000,2024-04-09 16:17:36.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 23:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6eedb9d54b71ee0bfdda56e44c3f95571185c7ba', 'message': ""mypy, Ceph: correct types of file-likes in backup and restore\n\nThe backup() and restore() are invoked from methods of class\nBackupManager. Those methods call open() and pass these handles\ndown to the backup driver. Although these volumes correspond\nto the driver, they are not wrapped using the driver.\nThus, the type passed is not driver's wrapper.\n\nChange-Id: Ie58db6f70aac0b13fbe832ecee177146e5dda397\n""}, {'number': 2, 'created': '2022-12-02 00:55:55.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c163adce6b572350f871ba08ff508f9195d7b6f', 'message': ""mypy, Ceph: correct types of file-likes in backup and restore\n\nThe backup() and restore() are invoked from methods of class\nBackupManager. Those methods call open() and pass these handles\ndown to the backup driver. Although these volumes correspond\nto the driver, they are not wrapped using the driver.\nThus, the type passed is not driver's wrapper.\n\nChange-Id: Ie58db6f70aac0b13fbe832ecee177146e5dda397\n""}]",5,866093,7c163adce6b572350f871ba08ff508f9195d7b6f,34,2,2,597,,,0,"mypy, Ceph: correct types of file-likes in backup and restore

The backup() and restore() are invoked from methods of class
BackupManager. Those methods call open() and pass these handles
down to the backup driver. Although these volumes correspond
to the driver, they are not wrapped using the driver.
Thus, the type passed is not driver's wrapper.

Change-Id: Ie58db6f70aac0b13fbe832ecee177146e5dda397
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/866093/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,6eedb9d54b71ee0bfdda56e44c3f95571185c7ba,ceph_backup_mypy,"from typing import Dict, IO, List, Optional, Tuple # noqa: H301 def _file_is_rbd(volume_file: IO) -> bool: src_volume: IO, volume_file: IO, dest_file: IO, restore_file: IO, volume_file: IO, volume_file: IO) -> None: volume_file: IO) -> None:","from typing import Dict, List, Optional, Tuple # noqa: H301 def _file_is_rbd(volume_file: linuxrbd.RBDVolumeIOWrapper) -> bool: src_volume: linuxrbd.RBDVolumeIOWrapper, volume_file: linuxrbd.RBDVolumeIOWrapper, dest_file, restore_file, volume_file: linuxrbd.RBDVolumeIOWrapper, volume_file: linuxrbd.RBDVolumeIOWrapper) -> None: volume_file: linuxrbd.RBDVolumeIOWrapper) -> None:",9,9
openstack%2Fcinder~907151,openstack/cinder,master,I5fa2c75ba21c10dd0c29c6ab4175036478c3d796,Quota: Config deprecation warnings,NEW,2024-01-29 22:49:09.000000000,2024-04-09 16:14:08.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-29 22:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/412f4075257013d31626e280b3ae9b5969cb84ea', 'message': 'Quota: Config deprecation warnings\n\nTo prepare for the new quota system we start deprecating configuration\noptions that will no longer be relevant in the new system:\n\n- ``use_default_quota_class``\n- ``max_age``\n- ``until_refresh``\n- ``reservation_clean_interval``\n- ``reservation_expire``\n\nThe patch also adds a check on the ``quota_driver`` configuration option\nif the deployment is using an external quota system.\n\nCo-Authored-by: Gorka Eguileor <geguileo@redhat.com>\n\nRelated-bug: #1609937\n\nImplements: blueprint count-resource-to-check-quota\nChange-Id: I5fa2c75ba21c10dd0c29c6ab4175036478c3d796\n'}, {'number': 2, 'created': '2024-02-07 20:33:43.000000000', 'files': ['cinder/cmd/status.py', 'cinder/quota.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/748c6980a2f714f2925eae454d111bd3a91da2bf', 'message': 'Quota: Config deprecation warnings\n\nTo prepare for the new quota system we start deprecating configuration\noptions that will no longer be relevant in the new system:\n\n- ``use_default_quota_class``\n- ``max_age``\n- ``until_refresh``\n- ``reservation_clean_interval``\n- ``reservation_expire``\n\nThe patch also adds a check on the ``quota_driver`` configuration option\nif the deployment is using an external quota system.\n\nCo-Authored-by: Gorka Eguileor <geguileo@redhat.com>\n\nRelated-bug: #1609937\n\nImplements: blueprint count-resource-to-check-quota\nChange-Id: I5fa2c75ba21c10dd0c29c6ab4175036478c3d796\n'}]",6,907151,748c6980a2f714f2925eae454d111bd3a91da2bf,66,2,2,27615,,,0,"Quota: Config deprecation warnings

To prepare for the new quota system we start deprecating configuration
options that will no longer be relevant in the new system:

- ``use_default_quota_class``
- ``max_age``
- ``until_refresh``
- ``reservation_clean_interval``
- ``reservation_expire``

The patch also adds a check on the ``quota_driver`` configuration option
if the deployment is using an external quota system.

Co-Authored-by: Gorka Eguileor <geguileo@redhat.com>

Related-bug: #1609937

Implements: blueprint count-resource-to-check-quota
Change-Id: I5fa2c75ba21c10dd0c29c6ab4175036478c3d796
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/907151/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/status.py', 'cinder/quota.py']",2,412f4075257013d31626e280b3ae9b5969cb84ea,die-quota-die," deprecated_for_removal=True, deprecated_since='2024.1', deprecated_reason='A new quota system is coming, and it will ' 'not use expirations on reservations.', deprecated_for_removal=True, deprecated_since='2024.1', deprecated_reason='A new quota system is coming, and it will ' 'not use expirations on reservations.', deprecated_for_removal=True, deprecated_since='2024.1', deprecated_reason='A new quota system is coming, and it will ' 'not need to resync quota usage.', deprecated_for_removal=True, deprecated_since='2024.1', deprecated_reason='A new quota system is coming, and it will ' 'not need to resync quota usage.', deprecated_for_removal=True, deprecated_since='2024.1', deprecated_reason='A new quota system is coming, and it will ' 'not accept config based quota defaults, ' 'only the default quota class system.',",,40,0
openstack%2Fkolla-ansible~832806,openstack/kolla-ansible,master,Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5,Customize the authentication error timeout page in modOIDC,NEW,2022-03-09 16:17:08.000000000,2024-04-09 15:52:09.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30695}, {'_account_id': 36201}]","[{'number': 1, 'created': '2022-03-09 16:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2ba2426b1a2bacbc697b64bc716547753640ddf', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, he is already logged in to the IdP, and then the user gets access\ndirect to Horizon. This whole process can be a bit confusing for users,\nand they saw an error page after the login, which leads them to think\nthat there was an error in the authentication, but then when he/she\ntries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 2, 'created': '2022-03-09 16:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f370879837356fd205cd07cac4f6e76c9641d89', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, he is already logged in to the IdP, and then the user gets access\ndirect to Horizon. This whole process can be a bit confusing for users,\nand they saw an error page after the login, which leads them to think\nthat there was an error in the authentication, but then when he/she\ntries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would rather\ndecrease this value; 5 minutes to such an operation is already too much.\nThis variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 3, 'created': '2022-03-09 16:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/848909eb8162cff878058e8cd8a0ac32c3dae29a', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, he is already logged in to the IdP, and then the user gets access\ndirect to Horizon. This whole process can be a bit confusing for users,\nand they saw an error page after the login, which leads them to think\nthat there was an error in the authentication, but then when he/she\ntries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 4, 'created': '2022-03-09 16:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a914520281ce8ecda727ce7884dd7619be429315', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets access\ndirect to Horizon. This whole process can be a bit confusing for users,\nand they saw an error page after the login, which leads them to think\nthat there was an error in the authentication, but then when he/she\ntries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 5, 'created': '2022-03-09 16:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3cabd8579c8e2dbe5fab6f242ec5fced5723d30', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 6, 'created': '2022-03-09 18:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f154f97038aecef6ed6131f358b44e9722741c73', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 7, 'created': '2022-03-24 16:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70f784eab902eaa1964414214589ad4c19ce9dfa', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 8, 'created': '2022-03-24 18:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a475e03c9cae181177fc132ffff7500e25097d6', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 9, 'created': '2022-03-25 10:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92ad8a88c17c59bba0b2c97aa79aa58e34bf436c', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 10, 'created': '2022-11-04 13:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/880e8f0e1ed583ad21b5699057f35fe70d0646f1', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 11, 'created': '2022-11-07 12:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/175fba017acd1edea462b71f24ae4e220e973f37', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 12, 'created': '2024-01-29 13:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f006154b67c6bde44ef04de43b5ee87049aeca8', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 13, 'created': '2024-01-29 13:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08afcdb5f7238e907c4d99991396dab4604feb8f', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 14, 'created': '2024-01-29 16:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60f1ff18d0ac95eb132df716a25f2886dfe829ac', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 15, 'created': '2024-01-29 19:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e20debf5db33aa23cd4bc34c10d2a95cde3bba43', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}, {'number': 16, 'created': '2024-04-09 13:04:11.000000000', 'files': ['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/templates/modoidc-error-page.html.j2', 'ansible/roles/keystone/defaults/main.yml', 'releasenotes/notes/custom_modOIDC_error_page-0fe3dd7414310536.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3556d410c1bd3e87010c8da2db23887e7566b308', 'message': 'Customize the authentication error timeout page in modOIDC\n\nThere is a situation that happens when a user triggers an authentication\nin OpenStack that uses Identity federation, which leads users to a blank\npage with an error message that might not be that clear to users. If the\nuser takes too long to enter his/her credentials in the login page of\nthe IdP, the user sees a page saying that the authentication took too\nmuch and that the user must try it again. However, if the user tries\nagain, she/he is already logged in to the IdP, and then the user gets\naccess direct to Horizon. This whole process can be a bit confusing for\nusers, and they saw an error page after the login, which leads them to\nthink that there was an error in the authentication, but then when\nhe/she tries again, everything just works.\n\nTherefore, to handle such cases we propose Kolla-ansble to use a custom\nerror page that has an automatic redirect if the error happens.\n\nThe timeout is managed by ""OIDCStateTimeout"" variable. The default\n(which is what we have in place now) is 300 seconds (5 minutes):\nhttps://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).\n\nI would not recommend the increase of this timeout though. I would\nrather decrease this value; 5 minutes to such an operation is already\ntoo much. This variable can be overridden via wsgi-keystone.conf file.\n\nTo customize the error page we have the following variable\n""OIDCHTMLErrorTemplate"". The template is processed in the following\nline: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.\nAs we can see, there is no default page. The default HTML is hardcoded\nin C++, and the template requires two ""%s"" placeholders that will\nreceive the title of the error message and the full description of the error.\n\nChange-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5\n'}]",65,832806,3556d410c1bd3e87010c8da2db23887e7566b308,68,5,16,28356,,,0,"Customize the authentication error timeout page in modOIDC

There is a situation that happens when a user triggers an authentication
in OpenStack that uses Identity federation, which leads users to a blank
page with an error message that might not be that clear to users. If the
user takes too long to enter his/her credentials in the login page of
the IdP, the user sees a page saying that the authentication took too
much and that the user must try it again. However, if the user tries
again, she/he is already logged in to the IdP, and then the user gets
access direct to Horizon. This whole process can be a bit confusing for
users, and they saw an error page after the login, which leads them to
think that there was an error in the authentication, but then when
he/she tries again, everything just works.

Therefore, to handle such cases we propose Kolla-ansble to use a custom
error page that has an automatic redirect if the error happens.

The timeout is managed by ""OIDCStateTimeout"" variable. The default
(which is what we have in place now) is 300 seconds (5 minutes):
https://github.com/zmartzone/mod_auth_openidc/blob/d13ee0e4bd2cef94c4d2b55829310175288e0bdf/src/mod_auth_openidc.c#L651).

I would not recommend the increase of this timeout though. I would
rather decrease this value; 5 minutes to such an operation is already
too much. This variable can be overridden via wsgi-keystone.conf file.

To customize the error page we have the following variable
""OIDCHTMLErrorTemplate"". The template is processed in the following
line: https://github.com/zmartzone/mod_auth_openidc/blob/f2b8315cd48faba04320e9a06fc52b57f0989dcb/src/util.c#L1619.
As we can see, there is no default page. The default HTML is hardcoded
in C++, and the template requires two ""%s"" placeholders that will
receive the title of the error message and the full description of the error.

Change-Id: Iebda3ca7a5f9cef7e5e0930fc4f70764774d6ed5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/832806/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/keystone/templates/modoidc-error-page.html.j2', 'ansible/roles/keystone/defaults/main.yml']",5,a2ba2426b1a2bacbc697b64bc716547753640ddf,modOIDC-custom-login-error-upstream,modoidc_error_page_retry_login_delay_milliseconds: 5000 ,,56,0
openstack%2Fkayobe~793697,openstack/kayobe,master,If6c34db3711d465d5c0a2aab225c6dcd3ca067e3,TLS certificates management sync with Kolla-Ansible,NEW,2021-05-30 18:31:57.000000000,2024-04-09 15:34:05.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2021-05-30 18:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bb99adf5b619047f47db9d8f32e4e6b32bfb573b', 'message': ""TlS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf.\n\nReplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set.\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\n""}, {'number': 2, 'created': '2021-06-01 09:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/adee001c424362ec49d2c39387704c0c797624a4', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2021-06-01 11:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/01d43c2a31953969fb41f8c8bff222f6d3e2c5ac', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2021-06-01 12:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/78fd46a23445f7dfd0bd55382083bea51ff5583b', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2021-06-01 14:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/723e62702275259d3dbb4701e1d5d91e35d8f512', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2021-06-09 23:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/015129f16fa4cabbf75168d3b580c0a51ab04cb1', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and overcloud hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 7, 'created': '2021-06-10 08:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/568a53b19266151fd7e3012d71b9d90aa3391f09', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 8, 'created': '2021-06-15 10:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/95ac0534a265795d1cb4049cc8a219566b78b1ce', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 9, 'created': '2021-06-15 15:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d06a03c9e2c3cb1b2eca34ddc2b77caf11635869', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 10, 'created': '2021-06-16 09:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/72ed4e93ac198d22bb3f3f7e25d6b64d9a1f79b6', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 11, 'created': '2021-06-30 09:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9a711509926a5994c1decd61b9871ea6c13d33a8', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nDepends-On: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 12, 'created': '2021-06-30 11:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9f1a0ea66659fcbf30f14c9979e8fa118fb91540', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nDepends-On: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 13, 'created': '2021-06-30 12:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/513d407b9a7680218b958cb34f1e150ac2c9acf0', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nDepends-On: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 14, 'created': '2021-08-20 08:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e7a56c7b8e8ddc88655a88a13cfced6fd0cf1458', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nDepends-On: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 15, 'created': '2021-10-15 09:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f0682266b486790a84a7add635637bcc8dce9a38', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nDepends-On: I916de4232155f36052ee8ffbd1947a750ffe9778\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 16, 'created': '2022-01-12 13:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a678af75f53413fd38e518fd8fa0d4ca637775a1', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 17, 'created': '2022-02-09 22:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c218ab6faba958d168919bec66b78014f529bea6', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 18, 'created': '2022-04-04 22:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/61f9afd162e1e63b73e027b82c9de52211b05ca2', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 19, 'created': '2022-04-04 22:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fa911b116cfc1c5b59d98deb9138d7e46eec27ea', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 20, 'created': '2022-04-06 09:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6f897b25a23dde2b83bb34630f32914e5a15bfec', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 21, 'created': '2022-09-29 15:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b83d42bc1a8d32bb85efedc2bace9c189ef4845f', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 22, 'created': '2022-12-19 08:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5247cef39efe9da86eacbe93b090f8644c4a722a', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 23, 'created': '2023-04-01 22:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/638a3866087e408a9dbb3387b2f4394dbe654cea', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 24, 'created': '2023-04-20 23:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cf27f45ece55b7d290d4a9ed01efec1c0b4c73d1', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 25, 'created': '2023-06-07 14:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/181d62d06e4de1ef4bbd8d9c45736f0cd80fccb5', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nThis change is a part of If195d5402579cee9a14b91f63f5fde84eb84cccf fixes\nreplaced 'kolla_external_fqdn_cacert' and 'kolla_internal_fqdn_cacert'\nwith 'kolla_admin_openrc_cacert', which by default is not set. Also\n'OS_CACERT' is now set to the value of 'kolla_admin_openrc_cacert' in\nthe both 'admin-openrc.sh' and 'public-openrc.sh' files.\n\nAlso this change sync the usage of the other TLS related variables like\n'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Adds tests\nfor these variables in the 'kolla-ansible' role and updates\ndocumentation.\n\nThe 'kolla-ansible' tasks are also updates CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled.\n\nAlso this change set defaults for openstack_cacert.\nSince I0fd596d93a0e575a391250d4bed261ad370a3664 we always have the\n'ca-certificates' package installed in the all containers so its fine\nto set defaults but leave an ability to override the 'openstack_cacert'\nvia environment variable too. All supported systems already install\nthe 'ca-certificates' package by default but for sure we install it\non the Ansible control host in the kolla-ansible role itself.\n\nAlso this change partially reverts\nI9e99c04173acb7adb0d0e367b6db388b86baf5f2 to restore kolla-host.yml and\ndrop only iSCSI related task.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 26, 'created': '2023-11-28 00:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f7ce439924dc636d068e7725660832f07a6b93bd', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nAs the follow-up on If195d5402579cee9a14b91f63f5fde84eb84cccf and\nI9e1cc20579cf80525d6ef732a1aac99a65bc171b. This change adds some\nneeded system defaults and common settings to manage TLS configuration.\n\nThis change syncs the usage of the forgotten TLS-related variables\nlike 'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Make the\ndefaults for the 'kolla_public_openrc_cacert' variable the same way as\n'kolla_admin_openrc_cacert' for the 'globals.yml' and\n'public-openrc.sh' files. Adds tests for these variables in the\n'kolla-ansible' role and updates documentation.\n\nThe 'kolla-ansible' tasks now update CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled, to achieve this we restore\nkolla-host.yml removed in I9e99c04173acb7adb0d0e367b6db388b86baf5f2\nwith a new content.\n\nAlso, this change set the system defaults for 'openstack_cacert'.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 27, 'created': '2023-11-28 00:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eba10669dd2bca1a9196ee2430d5698a330efbaa', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nAs the follow-up on If195d5402579cee9a14b91f63f5fde84eb84cccf and\nI9e1cc20579cf80525d6ef732a1aac99a65bc171b. This change adds some\nneeded system defaults and common settings to manage TLS configuration.\n\nThis change syncs the usage of the forgotten TLS-related variables\nlike 'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Make the\ndefaults for the 'kolla_public_openrc_cacert' variable the same way as\n'kolla_admin_openrc_cacert' for the 'globals.yml' and\n'public-openrc.sh' files. Adds tests for these variables in the\n'kolla-ansible' role and updates documentation.\n\nThe 'kolla-ansible' tasks now update CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled, to achieve this we restore\nkolla-host.yml removed in I9e99c04173acb7adb0d0e367b6db388b86baf5f2\nwith a new content.\n\nAlso, this change set the system defaults for 'openstack_cacert'.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 28, 'created': '2023-11-28 00:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/20d387ae84d84f198f4306309ec46dec602a8145', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nAs the follow-up on If195d5402579cee9a14b91f63f5fde84eb84cccf and\nI9e1cc20579cf80525d6ef732a1aac99a65bc171b. This change adds some\nneeded system defaults and common settings to manage TLS configuration.\n\nThis change syncs the usage of the forgotten TLS-related variables\nlike 'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Make the\ndefaults for the 'kolla_public_openrc_cacert' variable the same way as\n'kolla_admin_openrc_cacert' for the 'globals.yml' and\n'public-openrc.sh' files. Adds tests for these variables in the\n'kolla-ansible' role and updates documentation.\n\nThe 'kolla-ansible' tasks now update CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled, to achieve this we restore\nkolla-host.yml removed in I9e99c04173acb7adb0d0e367b6db388b86baf5f2\nwith a new content.\n\nAlso, this change set the system defaults for 'openstack_cacert'.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 29, 'created': '2023-11-28 09:20:46.000000000', 'files': ['ansible/overcloud-host-configure.yml', 'playbooks/kayobe-overcloud-base/globals.yml.j2', 'doc/source/configuration/reference/kolla-ansible.rst', 'ansible/roles/kolla-ansible/defaults/main.yml', 'ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'doc/source/contributor/automated.rst', 'ansible/inventory/group_vars/all/kolla', 'ansible/inventory/group_vars/all/openstack', 'etc/kayobe/kolla.yml', 'ansible/seed-host-configure.yml', 'zuul.d/project.yaml', 'ansible/kolla-host.yml', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/548760482b0d2f07a59ebe35b8a9328a8c45c37d', 'message': ""TLS certificates management sync with Kolla-Ansible\n\nAs the follow-up on If195d5402579cee9a14b91f63f5fde84eb84cccf and\nI9e1cc20579cf80525d6ef732a1aac99a65bc171b. This change adds some\nneeded system defaults and common settings to manage TLS configuration.\n\nThis change syncs the usage of the forgotten TLS-related variables\nlike 'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and\n'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Make the\ndefaults for the 'kolla_public_openrc_cacert' variable the same way as\n'kolla_admin_openrc_cacert' for the 'globals.yml' and\n'public-openrc.sh' files. Adds tests for these variables in the\n'kolla-ansible' role and updates documentation.\n\nThe 'kolla-ansible' tasks now update CA certificates bundle with\nprovided CA files on the seed and controller hosts when the\n'kolla_copy_ca_into_containers' is enabled, to achieve this we restore\nkolla-host.yml removed in I9e99c04173acb7adb0d0e367b6db388b86baf5f2\nwith a new content.\n\nAlso, this change set the system defaults for 'openstack_cacert'.\n\nChange-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",72,793697,548760482b0d2f07a59ebe35b8a9328a8c45c37d,130,5,29,14200,,,0,"TLS certificates management sync with Kolla-Ansible

As the follow-up on If195d5402579cee9a14b91f63f5fde84eb84cccf and
I9e1cc20579cf80525d6ef732a1aac99a65bc171b. This change adds some
needed system defaults and common settings to manage TLS configuration.

This change syncs the usage of the forgotten TLS-related variables
like 'kolla_enable_tls_backend', 'kolla_verify_tls_backend' and
'kolla_copy_ca_into_containers' from Kolla-Ansible to Kayobe. Make the
defaults for the 'kolla_public_openrc_cacert' variable the same way as
'kolla_admin_openrc_cacert' for the 'globals.yml' and
'public-openrc.sh' files. Adds tests for these variables in the
'kolla-ansible' role and updates documentation.

The 'kolla-ansible' tasks now update CA certificates bundle with
provided CA files on the seed and controller hosts when the
'kolla_copy_ca_into_containers' is enabled, to achieve this we restore
kolla-host.yml removed in I9e99c04173acb7adb0d0e367b6db388b86baf5f2
with a new content.

Also, this change set the system defaults for 'openstack_cacert'.

Change-Id: If6c34db3711d465d5c0a2aab225c6dcd3ca067e3
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/97/793697/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/public-openrc/templates/public-openrc.sh.j2', 'ansible/roles/kolla-ansible/defaults/main.yml']",6,bb99adf5b619047f47db9d8f32e4e6b32bfb573b,tls-sync-kolla-ansible,kolla_admin_openrc_cacert:,kolla_external_fqdn_cacert: kolla_internal_fqdn_cacert:,16,34
openstack%2Fironic~914978,openstack/ironic,master,I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad,Fix redfish detach generic vmedia device method,MERGED,2024-04-03 14:41:31.000000000,2024-04-09 14:58:49.000000000,2024-04-09 14:57:28.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 14:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7837eb1b422e2602261d2e309c1d094d112c82ed', 'message': 'Fix redifsh detach generic vmedia device method\n\nThe precedent implementation uses a single device_type while it\nshould be multiple devices to match the conductor manager\nimplementation.\n\nChange-Id: I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad\n'}, {'number': 2, 'created': '2024-04-03 14:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bed82040794c4e8e956ae50b658b5187f4184416', 'message': 'Fix redifsh detach generic vmedia device method\n\nThe precedent implementation uses a single device_type while it\nshould be multiple devices to match the conductor manager\nimplementation.\n\nChange-Id: I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad\n'}, {'number': 3, 'created': '2024-04-04 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c0fe3f765eda0b2223fdbf46b1195076568ba0e', 'message': 'Fix redifsh detach generic vmedia device method\n\nThe precedent implementation uses a single device_type while it\nshould be multiple devices to match the conductor manager\nimplementation.\n\nChange-Id: I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad\n'}, {'number': 4, 'created': '2024-04-04 15:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cb6798fbfd433104e40f623b023ab9d0c4a3a0c', 'message': 'Fix redifsh detach generic vmedia device method\n\nThe precedent implementation uses a single device_type while it\nshould be multiple devices to match the conductor manager\nimplementation.\n\nChange-Id: I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad\n'}, {'number': 5, 'created': '2024-04-09 09:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07e50fb0c00555fc799f1bc5518ef41bd4ecd507', 'message': 'Fix redifsh detach generic vmedia device method\n\nFixes usage of redfish detach virtual media feature to be conform to\nthe general implementation.\nBefore the detach virtual media API call using redfish driver was not\nworking as intended and caused the operation to fail.\n\nThe method implementation was allowing only a single device_type\nwhile it should be multiple devices to match the conductor manager\nimplementation.\n\nChange-Id: I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad\n'}, {'number': 6, 'created': '2024-04-09 09:08:04.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/fix-detach-vmedia-redfish-c86b7d0f72217816.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/58fc21fc0b0ab7beb5a74654455265b95cc25a28', 'message': 'Fix redfish detach generic vmedia device method\n\nFixes usage of redfish detach virtual media feature to be conform to\nthe general implementation.\nBefore the detach virtual media API call using redfish driver was not\nworking as intended and caused the operation to fail.\n\nThe method implementation was allowing only a single device_type\nwhile it should be multiple devices to match the conductor manager\nimplementation.\n\nChange-Id: I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad\n'}]",13,914978,58fc21fc0b0ab7beb5a74654455265b95cc25a28,43,3,6,23851,,,0,"Fix redfish detach generic vmedia device method

Fixes usage of redfish detach virtual media feature to be conform to
the general implementation.
Before the detach virtual media API call using redfish driver was not
working as intended and caused the operation to fail.

The method implementation was allowing only a single device_type
while it should be multiple devices to match the conductor manager
implementation.

Change-Id: I9edd3b77eeb3ec1b0484d4e6f0c6dea53e83f9ad
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/914978/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/redfish/management.py'],1,7837eb1b422e2602261d2e309c1d094d112c82ed,fix-redfish-detach-vmedia," def detach_virtual_media(self, task, device_types): :param device_types: A list of device types from for device_type in device_types: redfish_boot.eject_vmedia(task, device_type)"," def detach_virtual_media(self, task, device_type=None): :param device_type: A device type from redfish_boot.eject_vmedia(task, device_type)",4,3
openstack%2Fneutron~908434,openstack/neutron,master,I1e5ee5048f61eef7fa4d9de25e69bf0e0a5ea442,Allow HA routers to have automatic l3agent failover,MERGED,2024-02-08 14:43:10.000000000,2024-04-09 14:41:15.000000000,2024-03-06 09:32:43.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-08 14:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c3b131474f3f7c9786fc33eb76b04fb7efeef20', 'message': 'Allow HA routers to have automatic l3agent failover\n\nCurrently routers with ha=true are NOT rescheduled form a dead L3 agent, even\nwhen `allow_automatic_l3agent_failover` is enabled.\n\nThis is contrary to what the user expects and the feature description states:\n   ""Automatically reschedule routers from offline\n    L3 agents to online L3 agents.""\n\nThere is no distinction made between HA and non-HA routers. Also HA and\nautomatic-failover can work together:\n\n* HA allows for a fast failover to a standby router.\n* Automatic failover then restores back full redundancy in case the failed L3\nagent does not come back within a certain time.\n\nCloses-Bug: #2050236\nChange-Id: I1e5ee5048f61eef7fa4d9de25e69bf0e0a5ea442\n'}, {'number': 2, 'created': '2024-02-09 13:35:23.000000000', 'files': ['neutron/objects/l3agent.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa28c3c35cc7ae5b25441d3d83bf78f00a54f477', 'message': 'Allow HA routers to have automatic l3agent failover\n\nCurrently routers with ha=true are NOT rescheduled form a dead L3 agent, even\nwhen `allow_automatic_l3agent_failover` is enabled.\n\nThis is contrary to what the user expects and the feature description states:\n   ""Automatically reschedule routers from offline\n    L3 agents to online L3 agents.""\n\nThere is no distinction made between HA and non-HA routers. Also HA and\nautomatic-failover can work together:\n\n* HA allows for a fast failover to a standby router\n\n* Automatic failover then restores back full redundancy in case the failed L3\nagent, which HA failed away from, does not come back within a certain time.\n\nCloses-Bug: #2050236\nChange-Id: I1e5ee5048f61eef7fa4d9de25e69bf0e0a5ea442\n'}]",6,908434,fa28c3c35cc7ae5b25441d3d83bf78f00a54f477,21,5,2,32755,,,0,"Allow HA routers to have automatic l3agent failover

Currently routers with ha=true are NOT rescheduled form a dead L3 agent, even
when `allow_automatic_l3agent_failover` is enabled.

This is contrary to what the user expects and the feature description states:
   ""Automatically reschedule routers from offline
    L3 agents to online L3 agents.""

There is no distinction made between HA and non-HA routers. Also HA and
automatic-failover can work together:

* HA allows for a fast failover to a standby router

* Automatic failover then restores back full redundancy in case the failed L3
agent, which HA failed away from, does not come back within a certain time.

Closes-Bug: #2050236
Change-Id: I1e5ee5048f61eef7fa4d9de25e69bf0e0a5ea442
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/908434/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/l3agent.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py']",2,0c3b131474f3f7c9786fc33eb76b04fb7efeef20,bug2050236, self.assertTrue(reschedule.called), self.assertFalse(reschedule.called),2,4
openstack%2Fcharm-ceph-osd~915316,openstack/charm-ceph-osd,master,I5ad6b618bb3a5660a61ac3c536430c8e380e655c,Sync charmhelpers,MERGED,2024-04-09 10:11:01.000000000,2024-04-09 14:39:17.000000000,2024-04-09 14:39:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2024-04-09 10:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/58db8380e47d373a2c6245e48d2e989589e1f871', 'message': 'Sync charmhelpers\n\nPrep for noble/caracal\n\nChange-Id: I5ad6b618bb3a5660a61ac3c536430c8e380e655c\n'}, {'number': 2, 'created': '2024-04-09 11:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9e51adbdf2c97d2539cfde62b04c003de14075b8', 'message': 'Sync charmhelpers\n\nPrep for noble/caracal, unit test fix\n\nChange-Id: I5ad6b618bb3a5660a61ac3c536430c8e380e655c\n'}, {'number': 3, 'created': '2024-04-09 11:26:27.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'unit_tests/test_status.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/bd57a326e918c2c2b5f43c53f893a6bfa83e7e04', 'message': 'Sync charmhelpers\n\nPrep for noble/caracal, unit test fix\n\nChange-Id: I5ad6b618bb3a5660a61ac3c536430c8e380e655c\n'}]",1,915316,bd57a326e918c2c2b5f43c53f893a6bfa83e7e04,11,3,3,15382,,,0,"Sync charmhelpers

Prep for noble/caracal, unit test fix

Change-Id: I5ad6b618bb3a5660a61ac3c536430c8e380e655c
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/16/915316/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,58db8380e47d373a2c6245e48d2e989589e1f871,sync-libs," # caracal 'caracal': 'jammy-updates/caracal', 'jammy-caracal': 'jammy-updates/caracal', 'jammy-caracal/updates': 'jammy-updates/caracal', 'jammy-updates/caracal': 'jammy-updates/caracal', 'caracal/proposed': 'jammy-proposed/caracal', 'jammy-caracal/proposed': 'jammy-proposed/caracal', 'jammy-proposed/caracal': 'jammy-proposed/caracal', 'caracal', ('noble', 'caracal'),",,39,16
openstack%2Fcharm-ceph-mon~915087,openstack/charm-ceph-mon,master,Ie24b3f30922fa5be6641e37635440891614539d5,Implement the 'rotate-key' action for managers,MERGED,2024-04-04 18:53:13.000000000,2024-04-09 14:31:22.000000000,2024-04-09 14:31:22.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 18:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/fe9b3995afb7eecd0d1ac6c5cd8c16635aa5fcf1', 'message': ""Implement the 'rotate-key' action for managers\n\nThis patchset implements key rotation for managers only. The user\ncan specified either the full entity name (i.e: 'mgr.XXXX') or\nsimply 'mgr', which stands for the local manager.\n\nAfter the entity's directory is located, a new pending key is\ngenerated, the keyring file is mutated to include the new key and\nthen replaced in situ. Lastly, the manager service is restarted.\n\nNote that Ceph only has one active manager at a certain point,\nso it only makes sense to call this action on _every_ mon unit.\n\nChange-Id: Ie24b3f30922fa5be6641e37635440891614539d5\n""}, {'number': 2, 'created': '2024-04-04 19:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0815b6afb8a4903bbedfe45ccd396b641e09df63', 'message': ""Implement the 'rotate-key' action for managers\n\nThis patchset implements key rotation for managers only. The user\ncan specified either the full entity name (i.e: 'mgr.XXXX') or\nsimply 'mgr', which stands for the local manager.\n\nAfter the entity's directory is located, a new pending key is\ngenerated, the keyring file is mutated to include the new key and\nthen replaced in situ. Lastly, the manager service is restarted.\n\nNote that Ceph only has one active manager at a certain point,\nso it only makes sense to call this action on _every_ mon unit.\n\nChange-Id: Ie24b3f30922fa5be6641e37635440891614539d5\n""}, {'number': 3, 'created': '2024-04-05 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f1a9fc365265e19c04e5f3191c73d9f6e5e15ce9', 'message': ""Implement the 'rotate-key' action for managers\n\nThis patchset implements key rotation for managers only. The user\ncan specified either the full entity name (i.e: 'mgr.XXXX') or\nsimply 'mgr', which stands for the local manager.\n\nAfter the entity's directory is located, a new pending key is\ngenerated, the keyring file is mutated to include the new key and\nthen replaced in situ. Lastly, the manager service is restarted.\n\nNote that Ceph only has one active manager at a certain point,\nso it only makes sense to call this action on _every_ mon unit.\n\nChange-Id: Ie24b3f30922fa5be6641e37635440891614539d5\n""}, {'number': 4, 'created': '2024-04-05 18:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/6c2d0f2b73817b952523cf4cb0fa13c87058bce8', 'message': ""Implement the 'rotate-key' action for managers\n\nThis patchset implements key rotation for managers only. The user\ncan specified either the full entity name (i.e: 'mgr.XXXX') or\nsimply 'mgr', which stands for the local manager.\n\nAfter the entity's directory is located, a new pending key is\ngenerated, the keyring file is mutated to include the new key and\nthen replaced in situ. Lastly, the manager service is restarted.\n\nNote that Ceph only has one active manager at a certain point,\nso it only makes sense to call this action on _every_ mon unit.\n\nChange-Id: Ie24b3f30922fa5be6641e37635440891614539d5\n""}, {'number': 5, 'created': '2024-04-05 18:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c5a810090a6208dd71b1d8a9f789ea6702184736', 'message': ""Implement the 'rotate-key' action for managers\n\nThis patchset implements key rotation for managers only. The user\ncan specified either the full entity name (i.e: 'mgr.XXXX') or\nsimply 'mgr', which stands for the local manager.\n\nAfter the entity's directory is located, a new pending key is\ngenerated, the keyring file is mutated to include the new key and\nthen replaced in situ. Lastly, the manager service is restarted.\n\nNote that Ceph only has one active manager at a certain point,\nso it only makes sense to call this action on _every_ mon unit.\n\nChange-Id: Ie24b3f30922fa5be6641e37635440891614539d5\n""}, {'number': 6, 'created': '2024-04-05 21:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/21e8e3abcc80c690b46864810fca0be5bbff947e', 'message': ""Implement the 'rotate-key' action for managers\n\nThis patchset implements key rotation for managers only. The user\ncan specified either the full entity name (i.e: 'mgr.XXXX') or\nsimply 'mgr', which stands for the local manager.\n\nAfter the entity's directory is located, a new pending key is\ngenerated, the keyring file is mutated to include the new key and\nthen replaced in situ. Lastly, the manager service is restarted.\n\nNote that Ceph only has one active manager at a certain point,\nso it only makes sense to call this action on _every_ mon unit.\n\nChange-Id: Ie24b3f30922fa5be6641e37635440891614539d5\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1195\n""}, {'number': 7, 'created': '2024-04-05 22:37:45.000000000', 'files': ['tests/tests.yaml', 'unit_tests/test_ceph_actions.py', 'src/ops_actions/__init__.py', 'src/charm.py', 'src/ops_actions/list_entities.py', 'actions.yaml', 'src/ops_actions/rotate_key.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/05725042300c02ef4f7490e3e1a34b84be8ddcbe', 'message': ""Implement the 'rotate-key' action for managers\n\nThis patchset implements key rotation for managers only. The user\ncan specified either the full entity name (i.e: 'mgr.XXXX') or\nsimply 'mgr', which stands for the local manager.\n\nAfter the entity's directory is located, a new pending key is\ngenerated, the keyring file is mutated to include the new key and\nthen replaced in situ. Lastly, the manager service is restarted.\n\nNote that Ceph only has one active manager at a certain point,\nso it only makes sense to call this action on _every_ mon unit.\n\nChange-Id: Ie24b3f30922fa5be6641e37635440891614539d5\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1195\n""}]",11,915087,05725042300c02ef4f7490e3e1a34b84be8ddcbe,25,3,7,33717,,,0,"Implement the 'rotate-key' action for managers

This patchset implements key rotation for managers only. The user
can specified either the full entity name (i.e: 'mgr.XXXX') or
simply 'mgr', which stands for the local manager.

After the entity's directory is located, a new pending key is
generated, the keyring file is mutated to include the new key and
then replaced in situ. Lastly, the manager service is restarted.

Note that Ceph only has one active manager at a certain point,
so it only makes sense to call this action on _every_ mon unit.

Change-Id: Ie24b3f30922fa5be6641e37635440891614539d5
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1195
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/87/915087/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_actions.py', 'src/ops_actions/__init__.py', 'src/charm.py', 'actions.yaml', 'src/ops_actions/rotate_key.py']",5,fe9b3995afb7eecd0d1ac6c5cd8c16635aa5fcf1,rotate-key-mgr,"#! /usr/bin/env python3 # # Copyright 2024 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Rotate the key of one or more entities."""""" import configparser import json import logging import os import subprocess logger = logging.getLogger(__name__) MGR_DIR = ""/var/lib/ceph/mgr"" def _find_mgr_path(base): name = ""ceph-"" + base try: if name in os.listdir(MGR_DIR): return MGR_DIR + ""/"" + name except Exception: return None def _create_key(entity, event): try: cmd = [""sudo"", ""ceph"", ""auth"", ""get-or-create-pending"", entity, ""--format=json""] out = subprocess.check_output(cmd).decode(""utf-8"") return json.loads(out)[0][""pending_key""] except Exception as exc: logger.exception(exc) event.fail(""Failed to create key: %s"" % str(exc)) raise def _replace_keyring_file(path, entity, key, event): try: c = configparser.ConfigParser(default_section=None) c.read(path) c[entity][""key""] = key with open(path, ""w"") as file: c.write(file) except Exception as exc: logger.exception(exc) event.fail(""Failed to replace keyring file: %s"" % str(exc)) raise def _restart_daemon(entity, event): try: cmd = [""sudo"", ""systemctl"", ""restart"", entity] subprocess.check_call(cmd) except Exception as exc: logger.exception(exc) event.fail(""Failed to reload daemon: %s"" % str(exc)) raise def rotate_key(event) -> None: """"""Rotate the key of the specified entity."""""" entity = event.params.get(""entity"") if entity.startswith(""mgr""): if len(entity) > 3: if entity[3] != '.': event.fail(""Invalid entity name: %s"" % entity) return path = _find_mgr_path(entity[4:]) if path is None: event.fail(""Entity %s not found"" % entity) return else: # just 'mgr' try: path = MGR_DIR + ""/"" + os.listdir(MGR_DIR)[0] entity = ""mgr."" + os.path.basename(path)[5:] # skip 'ceph-' except Exception: event.fail(""No managers found"") return key = _create_key(entity, event) _replace_keyring_file(path, entity, key, event) _restart_daemon(""ceph-mgr@%s.service"" % entity[4:], event) event.set_results({""message"": ""success""}) else: event.fail(""Unknown entity: %s"" % entity) ",,160,0
openstack%2Foslo.messaging~894731,openstack/oslo.messaging,master,Ie5cf5d2bd281508bcd2db1409f18ad96b0822639,Use StopWatch timer when waiting for message,MERGED,2023-09-12 11:46:25.000000000,2024-04-09 13:48:43.000000000,2024-04-09 13:47:33.000000000,"[{'_account_id': 9816}, {'_account_id': 11583}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-09-12 11:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/acf2bb45f1daaece882fcdea5fd3b5a2a454bfd5', 'message': 'Use StopWatch timer when waiting for message\n\nWhen waiting for a message in a queue, the queue.get(block=True) prevent\nthe heartbeats to be sent at correct interval.\n\nSo instead of blocking the thread, doing a loop using a StopWatch timer\nuntil the timeout is reached.\n\nCloses-Bug: #2035113\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: Ie5cf5d2bd281508bcd2db1409f18ad96b0822639\n'}, {'number': 2, 'created': '2024-01-29 17:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e11fa7d80e1fe4c0565ff065d14808c3b8bb53ea', 'message': 'Use StopWatch timer when waiting for message\n\nWhen waiting for a message in a queue, the queue.get(block=True) prevent\nthe heartbeats to be sent at correct interval.\n\nSo instead of blocking the thread, doing a loop using a StopWatch timer\nuntil the timeout is reached.\n\nCloses-Bug: #2035113\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: Ie5cf5d2bd281508bcd2db1409f18ad96b0822639\n'}, {'number': 3, 'created': '2024-02-16 13:51:01.000000000', 'files': ['oslo_messaging/_drivers/amqpdriver.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b62208a54c4cfabf641bd9e6e5b91e3e24d54455', 'message': 'Use StopWatch timer when waiting for message\n\nWhen waiting for a message in a queue, the queue.get(block=True) prevent\nthe heartbeats to be sent at correct interval.\n\nSo instead of blocking the thread, doing a loop using a StopWatch timer\nuntil the timeout is reached.\n\nCloses-Bug: #2035113\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: Ie5cf5d2bd281508bcd2db1409f18ad96b0822639\n'}]",12,894731,b62208a54c4cfabf641bd9e6e5b91e3e24d54455,36,5,3,11583,,,0,"Use StopWatch timer when waiting for message

When waiting for a message in a queue, the queue.get(block=True) prevent
the heartbeats to be sent at correct interval.

So instead of blocking the thread, doing a loop using a StopWatch timer
until the timeout is reached.

Closes-Bug: #2035113

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: Ie5cf5d2bd281508bcd2db1409f18ad96b0822639
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/31/894731/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/amqpdriver.py'],1,acf2bb45f1daaece882fcdea5fd3b5a2a454bfd5,heartbeat, watch = timeutils.StopWatch(duration=timeout) watch.start() while not watch.expired(): try: # NOTE(amorin) we can't use block=True # See lp-2035113 return self._queues[msg_id].get(block=False) except queue.Empty: time.sleep(1) raise oslo_messaging.MessagingTimeout( 'Timed out waiting for a reply ' 'to message ID %s' % msg_id)," try: return self._queues[msg_id].get(block=True, timeout=timeout) except queue.Empty: raise oslo_messaging.MessagingTimeout( 'Timed out waiting for a reply ' 'to message ID %s' % msg_id)",12,6
openstack%2Fironic~915318,openstack/ironic,master,I11ae8fc3273107b9e6713166fb077f00e2dcef7e,[WIP] Add timeout to SERVICEWAIT,NEW,2024-04-09 11:22:03.000000000,2024-04-09 13:17:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-09 11:22:03.000000000', 'files': ['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/982e4aaa5d0389b5c98010f1b7168094dcba620e', 'message': '[WIP] Add timeout to SERVICEWAIT\n\nChange-Id: I11ae8fc3273107b9e6713166fb077f00e2dcef7e\n'}]",0,915318,982e4aaa5d0389b5c98010f1b7168094dcba620e,4,1,1,10239,,,0,"[WIP] Add timeout to SERVICEWAIT

Change-Id: I11ae8fc3273107b9e6713166fb077f00e2dcef7e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/915318/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/conductor/utils.py']",3,982e4aaa5d0389b5c98010f1b7168094dcba620e,servicewait-timeout,"def cleanup_servicewait_timeout(task): """"""Cleanup a servicing task after timeout. :param task: a TaskManager instance. """""" last_error = (_(""Timeout reached while servicing the node. Please "" ""check if the ramdisk responsible for the servicing is "" ""running on the node. Failed on step %(step)s."") % {'step': task.node.service_step}) logmsg = (""Servicing for node %(node)s failed. %(error)s"" % {'node': task.node.uuid, 'error': last_error}) servicing_error_handler(task, logmsg, errmsg=last_error, set_fail_state=False) ",,44,0
openstack%2Fmagnum-capi-helm~914079,openstack/magnum-capi-helm,master,I05096477395e9fde6437833f408d7ad09ca5accc,Make boolean cluster labels case insensitive,MERGED,2024-03-25 11:41:34.000000000,2024-04-09 12:16:34.000000000,2024-04-09 12:16:34.000000000,"[{'_account_id': 782}, {'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 33467}, {'_account_id': 35260}]","[{'number': 1, 'created': '2024-03-25 11:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/1939b7665cb1f18fb5a2bfff67c4430c1ea07a39', 'message': 'Make boolean cluster labels case insensitive\n\nChange-Id: I05096477395e9fde6437833f408d7ad09ca5accc\n'}, {'number': 2, 'created': '2024-03-27 09:58:40.000000000', 'files': ['magnum_capi_helm/tests/test_driver.py', 'magnum_capi_helm/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum-capi-helm/commit/b536601f9b488914bb09710e6201784c78bfc280', 'message': 'Make boolean cluster labels case insensitive\n\nPreviously, cluster labels such as ""True"" were silently ignored where as ""true"" was accepted. This change also modifies the relevant unit test to detect future regressions.\n\nChange-Id: I05096477395e9fde6437833f408d7ad09ca5accc\n'}]",8,914079,b536601f9b488914bb09710e6201784c78bfc280,15,5,2,36412,,,0,"Make boolean cluster labels case insensitive

Previously, cluster labels such as ""True"" were silently ignored where as ""true"" was accepted. This change also modifies the relevant unit test to detect future regressions.

Change-Id: I05096477395e9fde6437833f408d7ad09ca5accc
",git fetch https://review.opendev.org/openstack/magnum-capi-helm refs/changes/79/914079/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_capi_helm/driver.py'],1,1939b7665cb1f18fb5a2bfff67c4430c1ea07a39,fix/label-case-sensitivity," return cluster_label.lower() != ""false"" return cluster_label.lower() == ""true"""," return cluster_label != ""false"" return cluster_label == ""true""",2,2
openstack%2Fkolla-ansible~915119,openstack/kolla-ansible,master,I443d7402d9be0d00dd1c2c25c00ef50a085c3bc7,opensearch: Add /api/status unauthenticated access,NEW,2024-04-05 10:07:26.000000000,2024-04-09 12:13:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-04-05 10:07:26.000000000', 'files': ['ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfe44266c4bdcd428b273d5b14e8492c2f57a9c2', 'message': ""opensearch: Add /api/status unauthenticated access\n\nWe use /api/status in CI to check if OpenSearch Dashboards\nis functional, but since security plugin gets configured by\ndefault now - it requires authentication on those (but there is none\nconfigured - since we don't support TLS yet).\n\nChange-Id: I443d7402d9be0d00dd1c2c25c00ef50a085c3bc7\n""}]",8,915119,bfe44266c4bdcd428b273d5b14e8492c2f57a9c2,11,2,1,22629,,,0,"opensearch: Add /api/status unauthenticated access

We use /api/status in CI to check if OpenSearch Dashboards
is functional, but since security plugin gets configured by
default now - it requires authentication on those (but there is none
configured - since we don't support TLS yet).

Change-Id: I443d7402d9be0d00dd1c2c25c00ef50a085c3bc7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/915119/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2'],1,bfe44266c4bdcd428b273d5b14e8492c2f57a9c2,,"opensearch_security.auth.unauthenticated_routes: ['/api/reporting/stats', '/api/status']",,1,0
openstack%2Fkolla-ansible~890642,openstack/kolla-ansible,master,I9d0b332420d97f4c5b02d50ce153fabd4bfd6b10,set haproxy for cyborg module,NEW,2023-08-07 11:47:04.000000000,2024-04-09 12:08:41.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 23303}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 36201}, {'_account_id': 36216}, {'_account_id': 36821}]","[{'number': 1, 'created': '2023-08-07 11:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb2e275a0346d94babcbaef38510963592673e3b', 'message': 'set haproxy for cyborg module\n\nfix bug: cyborg-api in controller not work at kolla_external_fqdn with\nport 6666, there is no haproxy setting for cyborg module\n\nCloses-Bug: #2020088\n\nChange-Id: I9d0b332420d97f4c5b02d50ce153fabd4bfd6b10\n'}, {'number': 2, 'created': '2023-08-27 00:50:32.000000000', 'files': ['ansible/roles/cyborg/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b54bd5859f1d97f9e644e27d9ed6abe5364247aa', 'message': 'set haproxy for cyborg module\n\nfix bug: cyborg-api in controller does not work at kolla_external_fqdn with\nport 6666, there is no haproxy setting for cyborg module\n\nCloses-Bug: #2020088\n\nChange-Id: I9d0b332420d97f4c5b02d50ce153fabd4bfd6b10\n'}]",9,890642,b54bd5859f1d97f9e644e27d9ed6abe5364247aa,17,11,2,31412,,,0,"set haproxy for cyborg module

fix bug: cyborg-api in controller does not work at kolla_external_fqdn with
port 6666, there is no haproxy setting for cyborg module

Closes-Bug: #2020088

Change-Id: I9d0b332420d97f4c5b02d50ce153fabd4bfd6b10
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/890642/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cyborg/defaults/main.yml', 'ansible/group_vars/all.yml']",2,fb2e275a0346d94babcbaef38510963592673e3b,,"cyborg_internal_fqdn: ""{{ kolla_internal_fqdn }}"" cyborg_external_fqdn: ""{{ kolla_external_fqdn }}""cyborg_api_public_port: ""{{ haproxy_single_external_frontend_public_port if haproxy_single_external_frontend | bool else cyborg_api_port }}"" cyborg_api_listen_port: ""{{ cyborg_api_port }}""",,18,0
openstack%2Foslo.log~914787,openstack/oslo.log,master,If7439d111c66d00a2e4cb7425f48d3d501e5a124,Fix broken reference to rate_limit_except_level,MERGED,2024-03-30 15:45:30.000000000,2024-04-09 12:07:12.000000000,2024-04-09 12:05:33.000000000,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-03-30 15:45:30.000000000', 'files': ['oslo_log/log.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/4bd77b692370dcaebab18110cd4bf50e15346584', 'message': 'Fix broken reference to rate_limit_except_level\n\nCloses-Bug: #1946496\nCo-Authored-By: Jonathan Mills <jonmills@gmail.com>\nChange-Id: If7439d111c66d00a2e4cb7425f48d3d501e5a124\n'}]",0,914787,4bd77b692370dcaebab18110cd4bf50e15346584,8,2,1,9816,,,0,"Fix broken reference to rate_limit_except_level

Closes-Bug: #1946496
Co-Authored-By: Jonathan Mills <jonmills@gmail.com>
Change-Id: If7439d111c66d00a2e4cb7425f48d3d501e5a124
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/87/914787/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/log.py'],1,4bd77b692370dcaebab18110cd4bf50e15346584,bug/1946496, conf.rate_limit_except_level), conf.rate_limit_except),1,1
openstack%2Foslo.log~914786,openstack/oslo.log,master,I04d10bb977c4ebdaed7b5a2d159ae9c10897679b,Validate rate_limit_except_level by choices,MERGED,2024-03-30 15:43:19.000000000,2024-04-09 12:06:28.000000000,2024-04-09 12:05:32.000000000,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-03-30 15:43:19.000000000', 'files': ['oslo_log/_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/42639aaac4c3cd2ef8a519cba49b25f6a8dc279d', 'message': 'Validate rate_limit_except_level by choices\n\n... to reject invalid values with explicit errors.\n\nChange-Id: I04d10bb977c4ebdaed7b5a2d159ae9c10897679b\n'}]",1,914786,42639aaac4c3cd2ef8a519cba49b25f6a8dc279d,8,2,1,9816,,,0,"Validate rate_limit_except_level by choices

... to reject invalid values with explicit errors.

Change-Id: I04d10bb977c4ebdaed7b5a2d159ae9c10897679b
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/86/914786/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/_options.py'],1,42639aaac4c3cd2ef8a519cba49b25f6a8dc279d,," choices=['CRITICAL', 'ERROR', 'INFO', 'WARNING', 'DEBUG', ''], help='Log level name used by rate limiting. Logs with level '"," help='Log level name used by rate limiting: CRITICAL, ERROR, ' 'INFO, WARNING, DEBUG or empty string. Logs with level '",2,2
openstack%2Fkolla-ansible~857501,openstack/kolla-ansible,master,Idb6632d6c9a94f33c7baad81dc4e821ea781b480,Add support to Dynamic ceilometer compute pollsters,NEW,2022-09-13 18:47:19.000000000,2024-04-09 11:33:30.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 30695}, {'_account_id': 36201}, {'_account_id': 36216}]","[{'number': 1, 'created': '2022-09-13 18:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b7c062f3c741644d92b6221b39dabc04f6bb9b1', 'message': 'Add support to Dynamic ceilometer compute pollsters\n\nWith patches [1] and [2], we are now able to create Ceilometer compute\ndynamic pollsters. Therefore, this means that we can create custom host\ncommand pollsters to be executed in Ceilometer compute nodes. However,\nKolla-ansible is not montuing the ""pollster.d"" folder in Ceilometer\ncompute nodes. Therefore, this patch is adding this option, and thus\nenabling one to manage Ceilometer compute dynamic pollsters via Kolla-ansible.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/852021\n[2] https://review.opendev.org/c/openstack/ceilometer/+/855953\n\nDepends-on: https://review.opendev.org/c/openstack/ceilometer/+/852021\n\nDepends-on:  https://review.opendev.org/c/openstack/ceilometer/+/855953\nChange-Id: Idb6632d6c9a94f33c7baad81dc4e821ea781b480\n'}, {'number': 2, 'created': '2022-10-07 06:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acf4fd3d6447a886cc856baec06ac5db92dc5208', 'message': 'Add support to Dynamic ceilometer compute pollsters\n\nWith patches [1] and [2], we are now able to create Ceilometer compute\ndynamic pollsters. Therefore, this means that we can create custom host\ncommand pollsters to be executed in Ceilometer compute nodes. However,\nKolla-ansible is not montuing the ""pollster.d"" folder in Ceilometer\ncompute nodes. Therefore, this patch is adding this option, and thus\nenabling one to manage Ceilometer compute dynamic pollsters via Kolla-ansible.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/852021\n[2] https://review.opendev.org/c/openstack/ceilometer/+/855953\n\nDepends-on: https://review.opendev.org/c/openstack/ceilometer/+/852021\n\nDepends-on:  https://review.opendev.org/c/openstack/ceilometer/+/855953\nChange-Id: Idb6632d6c9a94f33c7baad81dc4e821ea781b480\n'}, {'number': 3, 'created': '2022-10-07 12:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98fcafe831b0fc30b0f4546831603b36897d05df', 'message': 'Add support to Dynamic ceilometer compute pollsters\n\nWith patches [1] and [2], we are now able to create Ceilometer compute\ndynamic pollsters. Therefore, this means that we can create custom host\ncommand pollsters to be executed in Ceilometer compute nodes. However,\nKolla-ansible is not mounting the ""pollster.d"" folder in Ceilometer\ncompute nodes. Therefore, this patch is adding this option, and thus\nenabling one to manage Ceilometer compute dynamic pollsters via Kolla-ansible.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/852021\n[2] https://review.opendev.org/c/openstack/ceilometer/+/855953\n\nDepends-on: https://review.opendev.org/c/openstack/ceilometer/+/852021\n\nDepends-on:  https://review.opendev.org/c/openstack/ceilometer/+/855953\nChange-Id: Idb6632d6c9a94f33c7baad81dc4e821ea781b480\n'}, {'number': 4, 'created': '2022-10-07 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e61bba0e2daab728590ea9af420ab2885b31c66d', 'message': 'Add support to Dynamic ceilometer compute pollsters\n\nWith patches [1] and [2], we are now able to create Ceilometer compute\ndynamic pollsters. Therefore, this means that we can create custom host\ncommand pollsters to be executed in Ceilometer compute nodes. However,\nKolla-ansible is not copying the ""pollster.d"" folder in Ceilometer\ncompute docker instances. Therefore, this patch adds that process, and\nthus enables one to manage Ceilometer compute dynamic pollsters via Kolla-ansible.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/852021\n[2] https://review.opendev.org/c/openstack/ceilometer/+/855953\n\nDepends-on: https://review.opendev.org/c/openstack/ceilometer/+/852021\n\nDepends-on:  https://review.opendev.org/c/openstack/ceilometer/+/855953\nChange-Id: Idb6632d6c9a94f33c7baad81dc4e821ea781b480\n'}, {'number': 5, 'created': '2022-12-01 15:40:56.000000000', 'files': ['ansible/roles/ceilometer/templates/ceilometer-compute.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9bd8ebd5c20a03f1f43a96f42ed8459c3608b025', 'message': 'Add support to Dynamic ceilometer compute pollsters\n\nWith patches [1] and [2], we are now able to create Ceilometer compute\ndynamic pollsters. Therefore, this means that we can create custom host\ncommand pollsters to be executed in Ceilometer compute nodes. However,\nKolla-ansible is not copying the ""pollster.d"" folder in Ceilometer\ncompute docker instances. Therefore, this patch adds that process, and\nthus enables one to manage Ceilometer compute dynamic pollsters via Kolla-ansible.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/852021\n[2] https://review.opendev.org/c/openstack/ceilometer/+/855953\n\nDepends-on: https://review.opendev.org/c/openstack/ceilometer/+/852021\n\nDepends-on:  https://review.opendev.org/c/openstack/ceilometer/+/855953\nChange-Id: Idb6632d6c9a94f33c7baad81dc4e821ea781b480\n'}]",14,857501,9bd8ebd5c20a03f1f43a96f42ed8459c3608b025,32,5,5,28356,,,0,"Add support to Dynamic ceilometer compute pollsters

With patches [1] and [2], we are now able to create Ceilometer compute
dynamic pollsters. Therefore, this means that we can create custom host
command pollsters to be executed in Ceilometer compute nodes. However,
Kolla-ansible is not copying the ""pollster.d"" folder in Ceilometer
compute docker instances. Therefore, this patch adds that process, and
thus enables one to manage Ceilometer compute dynamic pollsters via Kolla-ansible.

[1] https://review.opendev.org/c/openstack/ceilometer/+/852021
[2] https://review.opendev.org/c/openstack/ceilometer/+/855953

Depends-on: https://review.opendev.org/c/openstack/ceilometer/+/852021

Depends-on:  https://review.opendev.org/c/openstack/ceilometer/+/855953
Change-Id: Idb6632d6c9a94f33c7baad81dc4e821ea781b480
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/857501/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceilometer/templates/ceilometer-compute.json.j2'],1,5b7c062f3c741644d92b6221b39dabc04f6bb9b1,mount-pollsters-d-ceilometer-compute-upstream," }{% endif %}{% if should_copy_dynamic_pollster_definitions %}, { ""source"": ""{{ container_config_directory }}/{{ ceilometer_dynamic_pollsters_local_folder }}"", ""dest"": ""/etc/ceilometer/pollsters.d"", ""owner"": ""ceilometer"", ""perm"": ""0700""",,6,0
openstack%2Fmasakari~915315,openstack/masakari,master,I52b2a72ebccec4494b582c279708c06d8f5c7107,test commit,NEW,2024-04-09 09:58:43.000000000,2024-04-09 10:45:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-09 09:58:43.000000000', 'files': ['masakari/config.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/386f28ac3863d29e8b7f2b181394053b9938e782', 'message': 'test commit\n\nChange-Id: I52b2a72ebccec4494b582c279708c06d8f5c7107\n'}]",2,915315,386f28ac3863d29e8b7f2b181394053b9938e782,4,1,1,36963,,,0,"test commit

Change-Id: I52b2a72ebccec4494b582c279708c06d8f5c7107
",git fetch https://review.opendev.org/openstack/masakari refs/changes/15/915315/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/config.py'],1,386f28ac3863d29e8b7f2b181394053b9938e782,test, # and add only the extra levels that Masakari needs\ # test comment, # and add only the extra levels that Masakari needs,2,1
openstack%2Fpuppet-keystone~915247,openstack/puppet-keystone,master,I9c60cfe63697632fc816eec3aa2824578f0d3573,validate maxdelay for cron job,MERGED,2024-04-08 07:46:53.000000000,2024-04-09 10:24:24.000000000,2024-04-09 10:24:24.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:46:53.000000000', 'files': ['manifests/cron/trust_flush.pp', 'manifests/cron/fernet_rotate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f233ad924047e62043b94b90968511038208f5f3', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: I9c60cfe63697632fc816eec3aa2824578f0d3573\n'}]",1,915247,f233ad924047e62043b94b90968511038208f5f3,8,3,1,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: I9c60cfe63697632fc816eec3aa2824578f0d3573
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/47/915247/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/trust_flush.pp', 'manifests/cron/fernet_rotate.pp']",2,f233ad924047e62043b94b90968511038208f5f3,validate-maxdelay," Integer[0] $maxdelay = 0,"," $maxdelay = 0,",3,3
openstack%2Fpuppet-nova~915244,openstack/puppet-nova,master,Ib0937e1c3f6f97959b59e2c5812e3dfe696b6dba,validate maxdelay for cron job,MERGED,2024-04-08 07:44:01.000000000,2024-04-09 10:21:08.000000000,2024-04-09 10:21:08.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:44:01.000000000', 'files': ['manifests/cron/purge_shadow_tables.pp', 'manifests/cron/archive_deleted_rows.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7c7f60cc84c98c41c7442489f604f43530dd9cd2', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: Ib0937e1c3f6f97959b59e2c5812e3dfe696b6dba\n'}]",1,915244,7c7f60cc84c98c41c7442489f604f43530dd9cd2,8,3,1,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: Ib0937e1c3f6f97959b59e2c5812e3dfe696b6dba
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/44/915244/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/purge_shadow_tables.pp', 'manifests/cron/archive_deleted_rows.pp']",2,7c7f60cc84c98c41c7442489f604f43530dd9cd2,validate-maxdelay," Integer[0] $maxdelay = 0,"," $maxdelay = 0,",2,2
openstack%2Fpuppet-aodh~915241,openstack/puppet-aodh,master,Ib9f90c88f564ac5a0d545f955257741290998a5e,validate maxdelay for cron job,MERGED,2024-04-08 07:41:19.000000000,2024-04-09 10:18:02.000000000,2024-04-09 10:18:02.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:41:19.000000000', 'files': ['manifests/expirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/013f2122bce1fe2012f352d3ed7b87c934d08cf8', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: Ib9f90c88f564ac5a0d545f955257741290998a5e\n'}]",1,915241,013f2122bce1fe2012f352d3ed7b87c934d08cf8,8,3,1,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: Ib9f90c88f564ac5a0d545f955257741290998a5e
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/41/915241/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/expirer.pp'],1,013f2122bce1fe2012f352d3ed7b87c934d08cf8,validate-maxdelay," Integer[0] $maxdelay = 0,"," $maxdelay = 0,",1,1
openstack%2Fpuppet-swift~915249,openstack/puppet-swift,master,Ia6e238f85b7eef5b8f7b65ca37481d77a48c378a,validate maxdelay for cron job,MERGED,2024-04-08 07:48:36.000000000,2024-04-09 10:09:03.000000000,2024-04-09 10:09:03.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:48:36.000000000', 'files': ['manifests/storage/drive_audit.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f93968a061814bfd7238e420cc5deb84844fd5aa', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: Ia6e238f85b7eef5b8f7b65ca37481d77a48c378a\n'}]",1,915249,f93968a061814bfd7238e420cc5deb84844fd5aa,8,3,1,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: Ia6e238f85b7eef5b8f7b65ca37481d77a48c378a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/49/915249/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/drive_audit.pp'],1,f93968a061814bfd7238e420cc5deb84844fd5aa,validate-maxdelay," Integer[0] $maxdelay = 0,"," $maxdelay = 0,",1,1
openstack%2Fpuppet-heat~915245,openstack/puppet-heat,master,I21ecb74717c27db8f6a885dc7f70362a3d67f77a,validate maxdelay for cron job,MERGED,2024-04-08 07:45:33.000000000,2024-04-09 10:06:27.000000000,2024-04-09 10:06:27.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:45:33.000000000', 'files': ['manifests/cron/purge_deleted.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/b6657cc537517835e3fcd21cdbec63ee23ef9557', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: I21ecb74717c27db8f6a885dc7f70362a3d67f77a\n'}]",1,915245,b6657cc537517835e3fcd21cdbec63ee23ef9557,8,3,1,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: I21ecb74717c27db8f6a885dc7f70362a3d67f77a
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/45/915245/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cron/purge_deleted.pp'],1,b6657cc537517835e3fcd21cdbec63ee23ef9557,validate-maxdelay," Integer[0] $maxdelay = 0,"," $maxdelay = 0,",1,1
openstack%2Fbarbican~900107,openstack/barbican,master,Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a,Add support for YubiHSM2,NEW,2023-11-07 14:53:22.000000000,2024-04-09 09:59:46.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 36531}]","[{'number': 1, 'created': '2023-11-07 14:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f509362d2bc5e47067181d6f14ee0290e439eec4', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 2, 'created': '2023-11-07 16:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fa530d6b7311f3086a5c322eebd6fa9bfa2e2f4b', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 3, 'created': '2023-11-09 08:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/09907514724f89fb948f4a33efe763f2a456bd21', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 4, 'created': '2023-11-09 08:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/06e1830a9bcf739631626cf7b11c6bc9acebd7a7', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 5, 'created': '2023-12-06 08:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/62f27c52668e5a2bbfd411d85171136ae4135fea', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 6, 'created': '2023-12-06 09:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4a12156d72ef6f568b23a1a0cd805e9ea4400450', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 7, 'created': '2023-12-18 15:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c40d8e4bc81bcc18635a50da10ffbe61e7b01291', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 8, 'created': '2023-12-18 15:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f6d08c6c1c40ba95edbb5a7752588477f3079a18', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 9, 'created': '2023-12-19 12:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e7e99534a27c81aeca9deb683f6ccad106c9b9c8', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}, {'number': 10, 'created': '2024-01-22 15:54:18.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py', 'doc/source/install/barbican-backend.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/d2dfedcf169384f911564447d55e61416ce496dc', 'message': 'Add support for YubiHSM2\n\nYubiHSM from firmware version 2.3.1 supports aes-cbc encryption.\nIt uses a different wrapping mechanism and requires tokens to\nbe True for all keys.\n\nNext to that, keys are not deleted on the YubiHSM on a\nbarbican restart or crash, resulting in an import error after a\nrestart. To resolve this, the key should be deleted before importing.\nTo identify the keys it is now possible to store a label in all pKEKs.\n\nCloses-Bug: #2042949\nChange-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a\n'}]",6,900107,d2dfedcf169384f911564447d55e61416ce496dc,27,6,10,36531,,,0,"Add support for YubiHSM2

YubiHSM from firmware version 2.3.1 supports aes-cbc encryption.
It uses a different wrapping mechanism and requires tokens to
be True for all keys.

Next to that, keys are not deleted on the YubiHSM on a
barbican restart or crash, resulting in an import error after a
restart. To resolve this, the key should be deleted before importing.
To identify the keys it is now possible to store a label in all pKEKs.

Closes-Bug: #2042949
Change-Id: Ic786288a91e31b1b7bb3577d84a771c4a74e7b2a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/07/900107/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py']",2,f509362d2bc5e47067181d6f14ee0290e439eec4,pwd-file,"VENDOR_YUBICO_CKM_AES_CCM_WRAP = 0xd9554204_WRAP_KEY_MECHANISMS = { 'CKM_AES_CBC_PAD': CKM_AES_CBC_PAD, 'VENDOR_YUBICO_CKM_AES_CCM_WRAP': VENDOR_YUBICO_CKM_AES_CCM_WRAP, } always_set_cka_token=None, wrap_key_mechanism='CKM_AES_CBC_PAD', self.always_set_cka_token = always_set_cka_token self.wrap_key_mechanism = _WRAP_KEY_MECHANISMS[wrap_key_mechanism] # in some HSMs the cka token is required to be True token = self.always_set_cka_token or master_key if master_key or key_label: mech.mechanism = self.wrap_key_mechanism mech.mechanism = self.wrap_key_mechanism", token = master_key if master_key: mech.mechanism = CKM_AES_CBC_PAD mech.mechanism = CKM_AES_CBC_PAD,52,5
openstack%2Fovn-octavia-provider~915266,openstack/ovn-octavia-provider,master,I9ff255c110774590f53811162572eef596ff9a04,Adding isolation to functional tests,MERGED,2024-04-08 11:06:34.000000000,2024-04-09 09:59:32.000000000,2024-04-09 09:58:37.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2024-04-08 11:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ef7c56059a6ef2bac4cccb6db66f3e85c15618b2', 'message': ""[DNM] Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n""}, {'number': 2, 'created': '2024-04-08 14:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3f590e54298fd03f6a425007849d8c3b1ce787d5', 'message': ""Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n""}, {'number': 3, 'created': '2024-04-08 14:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ea89458e5489bcff47561a80c01bcd6fcbb9d5da', 'message': ""Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nClose-Bug: #2058400\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n""}, {'number': 4, 'created': '2024-04-08 14:27:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8d3e5c7ed3064abac33d152ed74e2f0427d4e676', 'message': ""Adding isolation to functional tests\n\nDue to some events received among different tests in the\nsame worker, this patch add '--isolated' tag to stestr\nto run every test on a unique worker and in a different stestr\nprocess.\n\nCloses-Bug: #2058400\n\nChange-Id: I9ff255c110774590f53811162572eef596ff9a04\n""}]",1,915266,8d3e5c7ed3064abac33d152ed74e2f0427d4e676,12,3,4,34451,,,0,"Adding isolation to functional tests

Due to some events received among different tests in the
same worker, this patch add '--isolated' tag to stestr
to run every test on a unique worker and in a different stestr
process.

Closes-Bug: #2058400

Change-Id: I9ff255c110774590f53811162572eef596ff9a04
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/66/915266/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ef7c56059a6ef2bac4cccb6db66f3e85c15618b2,, stestr run --isolated {posargs}, stestr run {posargs},1,1
openstack%2Fpuppet-watcher~915250,openstack/puppet-watcher,master,I00fda4e07f90f582699272bcdf2c576b6a2154dc,validate maxdelay for cron job,MERGED,2024-04-08 07:49:14.000000000,2024-04-09 09:52:38.000000000,2024-04-09 09:52:38.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/e978028e3fa926be86eef2183c563b4f5cf4582f', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: I00fda4e07f90f582699272bcdf2c576b6a2154dc\n'}, {'number': 2, 'created': '2024-04-09 00:07:27.000000000', 'files': ['manifests/cron/db_purge.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/705853a9a32b2cd09c282d166125fda97d475162', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: I00fda4e07f90f582699272bcdf2c576b6a2154dc\n'}]",1,915250,705853a9a32b2cd09c282d166125fda97d475162,10,3,2,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: I00fda4e07f90f582699272bcdf2c576b6a2154dc
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/50/915250/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cron/db_purge.pp'],1,e978028e3fa926be86eef2183c563b4f5cf4582f,validate-maxdelay," String[1] $maxdelay = 0,"," $maxdelay = 0,",1,1
openstack%2Fansible-collections-openstack~912775,openstack/ansible-collections-openstack,master,I77a06990de082466dc6265a14c379b8bbaf789e8,Allow to specify multiple allocation pools when creating a subnet,NEW,2024-03-13 13:55:39.000000000,2024-04-09 08:54:57.000000000,,"[{'_account_id': 10969}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2024-03-13 13:55:39.000000000', 'files': ['ci/roles/subnet/tasks/subnet-allocation.yml', 'ci/roles/subnet/tasks/main.yml', 'ci/roles/loadbalancer/tasks/main.yml', 'plugins/modules/subnet.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e9e1d42e631fdf6b9cc90e8c617c0ab8c4633881', 'message': 'Allow to specify multiple allocation pools when creating a subnet\n\nWith this change, multiple allocation pool may be specified when creating\na subnet. Allocation pools are defined as a list of dictionaries.\n\nFor example:\n\nopenstack.cloud.subnet:\n  name: sub1\n  network: network1\n  cidr: 192.168.0.0/24\n  ip_version: 4\n  allocation_pools:\n    - start: 192.168.0.10\n      end: 192.168.0.50\n    - start: 192.168.0.100\n      end: 192.168.0.150\n\nChange-Id: I77a06990de082466dc6265a14c379b8bbaf789e8\n'}]",0,912775,e9e1d42e631fdf6b9cc90e8c617c0ab8c4633881,2,5,1,34150,,,0,"Allow to specify multiple allocation pools when creating a subnet

With this change, multiple allocation pool may be specified when creating
a subnet. Allocation pools are defined as a list of dictionaries.

For example:

openstack.cloud.subnet:
  name: sub1
  network: network1
  cidr: 192.168.0.0/24
  ip_version: 4
  allocation_pools:
    - start: 192.168.0.10
      end: 192.168.0.50
    - start: 192.168.0.100
      end: 192.168.0.150

Change-Id: I77a06990de082466dc6265a14c379b8bbaf789e8
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/75/912775/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/subnet/tasks/subnet-allocation.yml', 'ci/roles/subnet/tasks/main.yml', 'ci/roles/loadbalancer/tasks/main.yml', 'plugins/modules/subnet.py']",4,e9e1d42e631fdf6b9cc90e8c617c0ab8c4633881,allocation_pools," allocation_pools: description: - List of allocation pools to assign to the subnet. Each element consists of a 'start' and 'end' value. type: list elements: dict allocation_pools=dict(type='list', elements='dict'), params['allocation_pools'] = self.params['allocation_pools']"," allocation_pool_start: description: - From the subnet pool the starting address from which the IP should be allocated. type: str allocation_pool_end: description: - From the subnet pool the last IP that should be assigned to the virtual machines. type: str allocation_pool_start=dict(), allocation_pool_end=dict(), required_together=[['allocation_pool_end', 'allocation_pool_start']], def _build_pool(self): pool_start = self.params['allocation_pool_start'] pool_end = self.params['allocation_pool_end'] if pool_start: return [dict(start=pool_start, end=pool_end)] return None params['allocation_pools'] = self._build_pool()",25,32
openstack%2Fpuppet-watcher~823020,openstack/puppet-watcher,master,I0ad1ba3c96c1b8a090029976446b8496588f31da,Install cron job to purge soft-deleted records,ABANDONED,2021-12-27 15:19:09.000000000,2024-04-09 08:51:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-27 15:19:09.000000000', 'files': ['spec/classes/watcher_cron_db_purge_spec.rb', 'releasenotes/notes/cron-db_purge-7ad7039b8195533c.yaml', 'manifests/cron/db_purge.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/5a9e12dcd24ce8d11c8062e36e699759313ff4d1', 'message': 'Install cron job to purge soft-deleted records\n\nThis change introduces support for configuring cron job to purge\nsoft-deleted records in Watcher DB, to avoid data size from growing.\n\nChange-Id: I0ad1ba3c96c1b8a090029976446b8496588f31da\n'}]",0,823020,5a9e12dcd24ce8d11c8062e36e699759313ff4d1,3,1,1,9816,,,0,"Install cron job to purge soft-deleted records

This change introduces support for configuring cron job to purge
soft-deleted records in Watcher DB, to avoid data size from growing.

Change-Id: I0ad1ba3c96c1b8a090029976446b8496588f31da
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/20/823020/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_cron_db_purge_spec.rb', 'releasenotes/notes/cron-db_purge-7ad7039b8195533c.yaml', 'manifests/cron/db_purge.pp']",3,5a9e12dcd24ce8d11c8062e36e699759313ff4d1,cron-db_purge,"# == Class: watcher::cron::db_purge # # Installs a cron job to purge db entries marked as deleted. # # === Parameters # # [*ensure*] # (optional) Defaults to present. # Valid values are present, absent. # # [*minute*] # (optional) Defaults to '1'. # # [*hour*] # (optional) Defaults to '0'. # # [*monthday*] # (optional) Defaults to '*'. # # [*month*] # (optional) Defaults to '*'. # # [*weekday*] # (optional) Defaults to '*'. # # [*maxdelay*] # (optional) Seconds. Defaults to 0. Should be a positive integer. # Induces a random delay before running the cronjob to avoid running all # cron jobs at the same time on all hosts this job is configured. # # [*user*] # (optional) User with access to watcher files. # Defaults to 'watcher'. # # [*age*] # (optional) Number of days since deletion to exclude from the purge. # Defaults to 0. # # [*max_number*] # (optional) Max number of objects expected to be deleted. # Defaults to 0. # # [*exclude_orphans*] # (optional) Flag to indicate whether or not you want to exclude orphans # from deletion. # Defaults to false. # # [*destination*] # (optional) Path to file to which rows should be archived # Defaults to '/var/log/watcher/watcher-rowsflush.log'. # class watcher::cron::db_purge ( $ensure = present, $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, $user = 'watcher', $age = 0, $max_number = 0, $exclude_orphans = false, $destination = '/var/log/watcher/watcher-rowsflush.log' ) { if $maxdelay == 0 { $sleep = '' } else { $sleep = ""sleep `expr \${RANDOM} \\% ${maxdelay}`; "" } if $age == 0 { $age_real = '' } else { $age_real = ""-d ${age} "" } if $max_number == 0 { $max_number_real = '' } else { $max_number_real = ""-n ${max_number} "" } if $exclude_orphans { $exclude_orphans_real = '-e ' } else { $exclude_orphans_real = '' } $conf_file = '--config-file /etc/watcher/watcher.conf' cron { 'watcher-db-manage purge': ensure => $ensure, command => ""${sleep}watcher-db-manage ${conf_file} ${age_real}${max_number_real}${exclude_orphans_real} >>${destination} 2>&1"", environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', user => $user, minute => $minute, hour => $hour, monthday => $monthday, month => $month, weekday => $weekday require => Anchor['watcher::dbsync::end'], } } ",,202,0
openstack%2Fmistral~913334,openstack/mistral,master,Ica41e8208b29aeba6e781801540843d46375c3d1,Fix maintence mode,MERGED,2024-03-15 13:53:29.000000000,2024-04-09 07:44:40.000000000,2024-04-09 07:43:43.000000000,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 35600}]","[{'number': 1, 'created': '2024-03-15 13:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/84bbac31fcbd14f0f69fe5515febb020e3c07b33', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 2, 'created': '2024-03-15 14:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2aabaae5e4b4c29797173601e1e09d3cbfdb69be', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 3, 'created': '2024-03-15 16:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/eb8bfd710aa49c3edc3d1074172cbb062e31788b', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 4, 'created': '2024-03-15 20:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0e5b6cd898ca614a26bc9549c428a00503ddde99', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 5, 'created': '2024-03-18 08:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5b30e70715773b2b28ce7828cf8547506415310a', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 6, 'created': '2024-03-18 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/04e01a4dab2286dbbcbd1adf4b29d6f531779aad', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 7, 'created': '2024-03-19 08:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/66e1278007d69c5cd171cf7073c17dd43a779083', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 8, 'created': '2024-03-19 20:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ebd1dd1bd0744fc02f464aa31f653e8829c9b321', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 9, 'created': '2024-03-20 07:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9250228f9a964a7bd4048f4c989e955bf84d6d16', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 10, 'created': '2024-03-20 10:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3be1dbd0be829e98daa91571b3296cd57c5d9f33', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 11, 'created': '2024-03-20 10:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6c9dc43a2fd3a50de829a7da7cd2ac451de84a91', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 12, 'created': '2024-03-20 14:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/650fdbd58bcdf48ed43afea611b0ae6e39db8215', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 13, 'created': '2024-03-26 10:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c46ef74583b37551a87f2963b1645d6c49d76a4a', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 14, 'created': '2024-03-26 13:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a52ff249505eb1f8d26fde7060a230c8973eb90c', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 15, 'created': '2024-04-08 06:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/babb381bfe1a58be337aeed15c5e7ea6c248c3da', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}, {'number': 16, 'created': '2024-04-08 07:24:41.000000000', 'files': ['mistral/api/controllers/v2/action.py', 'mistral/api/app.py', 'mistral/api/controllers/maintenance.py', 'mistral/api/controllers/v2/workbook.py', 'mistral/api/hooks/maintenance.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/044_recreate_mistral_metrics_table.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/api/controllers/v2/workflow.py', 'mistral/services/maintenance.py', 'mistral/db/v2/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/cadfe9dca2490afc05d2c2489db700a417cd0f0d', 'message': 'Fix maintence mode\n\nAdded MaintenceHook to app configuration\nRefactored maintence service\nFixed sql queries\nFix maintence controller\n\nCloses-Bug: #2058009\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: Ica41e8208b29aeba6e781801540843d46375c3d1\n'}]",36,913334,cadfe9dca2490afc05d2c2489db700a417cd0f0d,41,8,16,36440,,,0,"Fix maintence mode

Added MaintenceHook to app configuration
Refactored maintence service
Fixed sql queries
Fix maintence controller

Closes-Bug: #2058009
Signed-off-by: Vadim Zelenevsky <wortellen@gmail.com>
Change-Id: Ica41e8208b29aeba6e781801540843d46375c3d1
",git fetch https://review.opendev.org/openstack/mistral refs/changes/34/913334/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/api/app.py', 'mistral/api/controllers/maintenance.py', 'mistral/api/hooks/maintenance.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/services/maintenance.py']",5,84bbac31fcbd14f0f69fe5515febb020e3c07b33,bug/2058009,"def pause_running_executions(): LOG.info(""Number of find workflow executions is {}"".format( len(execution_ids))) with db_api.transaction():def _pause_execution(wf_ex_id, project_id): project_id=project_id,def await_pause_executions(): while True: with db_api.transaction(): LOG.info('The following tasks have RUNNING state: {}'.format([ ]))def _pause_executions():def _resume_executions(): with db_api.transaction(): _resume_execution(wf_ex_id=ex.id) def _resume_execution(wf_ex_id): project_id=wf_ex.project_id","_PAUSE_EXECUTION_PATH = 'mistral.services.maintenance._pause_execution'_RESUME_EXECUTION_PATH = 'mistral.services.maintenance._resume_execution' _AWAIT_PAUSE_EXECUTION_PATH = \ 'mistral.services.maintenance.await_pause_executions'def pause_running_executions(skip_tx=False): LOG.info(""Number of find workflow executions is {}"", len(execution_ids)) if skip_tx: sched = sched_base.get_system_scheduler() for wf_ex_id, project_id in execution_ids: job = sched_base.SchedulerJob( func_name=_PAUSE_EXECUTION_PATH, func_args={ 'wf_ex_id': wf_ex_id, 'project_id': project_id } ) sched.schedule(job) return with db_api.transaction(skip=skip_tx):def _pause_execution(wf_ex_id, project_id, skip_tx=False): if wf_ex.root_execution_id: trace_uuid = wf_ex.root_execution_id else: trace_uuid = wf_ex.id auth_ctx.set_ctx( auth_ctx.MistralContext( tenant=project_id, trace_uuid=trace_uuid ) ) def await_pause_executions(skip_tx=False): if skip_tx: current_state = db_api.get_maintenance_status() if current_state != PAUSING: return False tasks = db_api.get_task_executions( state=states.RUNNING, insecure=True ) if not tasks: if db_api.get_maintenance_status() == PAUSING: db_api.update_maintenance_status(PAUSED) return LOG.info('The following tasks have RUNNING state: {}', [ task.id for task in tasks ]) sched = sched_base.get_system_scheduler() job = sched_base.SchedulerJob( run_after=1, func_name=_AWAIT_PAUSE_EXECUTION_PATH, func_args={'skip_tx': True} ) sched.schedule(job) return while True: with db_api.transaction(skip=skip_tx): LOG.info('The following tasks have RUNNING state: {}', [ ]) def _pause_executions(skip_tx=False): if skip_tx: pause_running_executions(skip_tx) await_pause_executions(skip_tx) return def _resume_executions(skip_tx=False): sched = sched_base.get_system_scheduler() with db_api.transaction(skip=skip_tx): if skip_tx: job = sched_base.SchedulerJob( func_name=_RESUME_EXECUTION_PATH, func_args={ 'wf_ex_id': ex.id } ) sched.schedule(job) else: _resume_execution(wf_ex_id=ex.id) def _resume_execution(wf_ex_id, skip_tx=False): tenant=wf_ex.project_id, trace_uuid=trace_uuid",48,101
openstack%2Freleases~915286,openstack/releases,master,Id7e003b8070796cc99516a28752f94eaca62af61,Handle <series>-eol tagging for unmaintained,NEW,2024-04-08 16:56:13.000000000,2024-04-09 07:01:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-08 16:56:13.000000000', 'files': ['openstack_releases/cmds/new_release.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/14f42730257507613b09f8d51c386f1d3d4f65c8', 'message': ""Handle <series>-eol tagging for unmaintained\n\nOriginally when running 'new-release' command with 'eol', it checks for\nstable/<series> branch only and sets HEAD of master if that does not\nexist. But from now on, we have to be able to tag <series>-eol on HEAD\nof unmaintained/<series> branch as well.\n\nThis patch:\n- extends the check for unmaintained/<series> branch, so that its HEAD\n  will be used at <series>-eol tagging\n- adds a check for <series>-eom tag so that the command will refuse to\n  create a release (with version numbers) after an EOM tag\n- adds a fix to match complete <series>-eol tag when comparing with\n  latest version (this eliminates a bug, when the latest version is\n  a previous series' EOL tag, e.g. when EO{M,L}'ing tagless repos)\n\nChange-Id: Id7e003b8070796cc99516a28752f94eaca62af61\n""}]",2,915286,14f42730257507613b09f8d51c386f1d3d4f65c8,3,1,1,17685,,,0,"Handle <series>-eol tagging for unmaintained

Originally when running 'new-release' command with 'eol', it checks for
stable/<series> branch only and sets HEAD of master if that does not
exist. But from now on, we have to be able to tag <series>-eol on HEAD
of unmaintained/<series> branch as well.

This patch:
- extends the check for unmaintained/<series> branch, so that its HEAD
  will be used at <series>-eol tagging
- adds a check for <series>-eom tag so that the command will refuse to
  create a release (with version numbers) after an EOM tag
- adds a fix to match complete <series>-eol tag when comparing with
  latest version (this eliminates a bug, when the latest version is
  a previous series' EOL tag, e.g. when EO{M,L}'ing tagless repos)

Change-Id: Id7e003b8070796cc99516a28752f94eaca62af61
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/915286/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/new_release.py'],1,14f42730257507613b09f8d51c386f1d3d4f65c8,relmgt-unmaintained-state, if last_version and f'{series}-eol' in last_version[0]: if last_version and f'{series}-eom' in last_version[0]: raise ValueError('Cannot create new release after EOM tagging.') version = 'origin/unmaintained/%s' % get_stable_branch_id(series) version = 'origin/stable/%s' % get_stable_branch_id(series) if not any(branch for branch in branches if branch.endswith(version)): version = 'master', if last_version and 'eol' in last_version[0]: version = 'origin/stable/%s' % get_stable_branch_id(series) version = 'master',8,3
openstack%2Fnova~901817,openstack/nova,master,I5b203da1a8222cd0d31f6109f60509927243426d,Catch MessagingTimeout during evacuation,ABANDONED,2023-11-24 08:10:48.000000000,2024-04-09 06:52:38.000000000,,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 26286}, {'_account_id': 32755}, {'_account_id': 35560}, {'_account_id': 36561}]","[{'number': 1, 'created': '2023-11-24 08:10:48.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b4bb2b9d52aa4008b8fb96e80cfff215a32725b', 'message': 'Catch MessagingTimeout during evacuation\n\nAccidental service interruptions in the message queue\nor nova-scheduler result in a MessagingTimeout\nbeing raised during the evacuation process.\n\nThe uncaught exception was only output in the logs,\nwhile on the user side, they were always believed that\nthe evacuation action is still in progress.\n\nCatching and handling this exception is extremely necessary.\n\nRelated-Bug: 2044494\nChange-Id: I5b203da1a8222cd0d31f6109f60509927243426d\n'}]",6,901817,4b4bb2b9d52aa4008b8fb96e80cfff215a32725b,11,9,1,36561,,,0,"Catch MessagingTimeout during evacuation

Accidental service interruptions in the message queue
or nova-scheduler result in a MessagingTimeout
being raised during the evacuation process.

The uncaught exception was only output in the logs,
while on the user side, they were always believed that
the evacuation action is still in progress.

Catching and handling this exception is extremely necessary.

Related-Bug: 2044494
Change-Id: I5b203da1a8222cd0d31f6109f60509927243426d
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/901817/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,4b4bb2b9d52aa4008b8fb96e80cfff215a32725b,,"from oslo_messaging import MessagingTimeout # The following exception is raised by # _schedule_instances MessagingTimeout,",,4,0
openstack%2Fskyline-console~915254,openstack/skyline-console,master,I34e98bb6950105a7bb89a7671fcda93564349ad5,feat: optimize menu display,MERGED,2024-04-08 08:44:57.000000000,2024-04-09 04:43:53.000000000,2024-04-09 04:42:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2024-04-08 08:44:57.000000000', 'files': ['src/layouts/Base/Menu.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/791176a4855b9e407426c4039b5d3c72081767f0', 'message': 'feat: optimize menu display\n\nAdjust the maximum number of characters in the menu based on the current language\n\nChange-Id: I34e98bb6950105a7bb89a7671fcda93564349ad5\n'}]",0,915254,791176a4855b9e407426c4039b5d3c72081767f0,7,2,1,30434,,,0,"feat: optimize menu display

Adjust the maximum number of characters in the menu based on the current language

Change-Id: I34e98bb6950105a7bb89a7671fcda93564349ad5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/54/915254/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layouts/Base/Menu.jsx'],1,791176a4855b9e407426c4039b5d3c72081767f0,styles,import i18n from 'core/i18n';const { getLocaleShortName } = i18n; const shortName = getLocaleShortName(); this.maxTitleLength = shortName === 'zh' ? 9 : 17;, this.maxTitleLength = 17;,5,1
openstack%2Fironic-python-agent~900739,openstack/ironic-python-agent,master,I009d222b81d01119d6aeac928135c2a095c9104b,Fully parse EFI boot entry device path,ABANDONED,2023-11-13 03:26:20.000000000,2024-04-09 03:36:04.000000000,,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-13 03:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f7c054c3c6c73e48e03b173b78818a898aa403a8', 'message': 'Fully parse EFI boot entry device path\n\nEach entry will have an ordered dict of lists representing the device\npath details. This structure will be used to decide if the entry should\nbe deleted during the EFI cleanup step.\n\nRelated-Bug: #2041901\nChange-Id: I009d222b81d01119d6aeac928135c2a095c9104b\n'}, {'number': 2, 'created': '2023-11-13 21:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5349a58ec76e4f131a22200daeca08691c3b6b1d', 'message': 'Fully parse EFI boot entry device path\n\nEach entry will have an ordered dict of lists representing the device\npath details. This structure will be used to decide if the entry should\nbe deleted during the EFI cleanup step.\n\nRelated-Bug: #2041901\nChange-Id: I009d222b81d01119d6aeac928135c2a095c9104b\n'}, {'number': 3, 'created': '2023-11-23 20:47:07.000000000', 'files': ['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/277f6519e368325dec42d36bb8b2013f74c3770e', 'message': 'Fully parse EFI boot entry device path\n\nEach entry will have an ordered dict of lists representing the device\npath details. This structure will be used to decide if the entry should\nbe deleted during the EFI cleanup step.\n\nRelated-Bug: #2041901\nChange-Id: I009d222b81d01119d6aeac928135c2a095c9104b\n'}]",2,900739,277f6519e368325dec42d36bb8b2013f74c3770e,13,3,3,4571,,,0,"Fully parse EFI boot entry device path

Each entry will have an ordered dict of lists representing the device
path details. This structure will be used to decide if the entry should
be deleted during the EFI cleanup step.

Related-Bug: #2041901
Change-Id: I009d222b81d01119d6aeac928135c2a095c9104b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/39/900739/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py']",2,f7c054c3c6c73e48e03b173b78818a898aa403a8,bug/2041901,"import collections_ENTRY_PATH_NODE = re.compile( r'^\/?([a-zA-Z0-9]*)\((.*)$' ) def parse_efi_device_path(path): parsed = collections.OrderedDict() for node in path.split(')'): match = _ENTRY_PATH_NODE.match(node) if match is not None: parsed[match[1]] = match[2].split(',') print(parsed) return parsed (boot number, boot record, device type, device path). yield (match[1], match[2], match[4], parse_efi_device_path(match[3]))"," (boot number, boot record, boot type, boot details). yield (match[1], match[2], match[4], match[3])",98,16
openstack%2Fironic~913266,openstack/ironic,master,Ifdb09eca9950c6898a2ba93c905af926535b3377,Codespell voting in CI,NEW,2024-03-14 19:58:54.000000000,2024-04-09 01:42:28.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 36102}]","[{'number': 1, 'created': '2024-03-14 19:58:54.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae9d5a58435b145382173674fa213f5dc89d94b7', 'message': 'Codespell voting in CI\n\nChange-Id: Ifdb09eca9950c6898a2ba93c905af926535b3377\n'}]",5,913266,ae9d5a58435b145382173674fa213f5dc89d94b7,14,3,1,10342,,,0,"Codespell voting in CI

Change-Id: Ifdb09eca9950c6898a2ba93c905af926535b3377
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/913266/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ae9d5a58435b145382173674fa213f5dc89d94b7,, - ironic-tox-codespell - ironic-tox-codespell, - ironic-tox-codespell: voting: false,2,2
openstack%2Foslo.limit~914845,openstack/oslo.limit,master,Id421675d9d9bb5e0945a0a94d95dad327b14ab45,DNM: testing ...,ABANDONED,2024-04-02 05:46:19.000000000,2024-04-09 00:08:55.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 05:46:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/038eba400c5cbdadea92d5ac55e1b202a68d71f3', 'message': 'DNM: testing ...\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/914844\nChange-Id: Id421675d9d9bb5e0945a0a94d95dad327b14ab45\n'}]",0,914845,038eba400c5cbdadea92d5ac55e1b202a68d71f3,4,2,1,9816,,,0,"DNM: testing ...

Depends-on: https://review.opendev.org/c/openstack/devstack/+/914844
Change-Id: Id421675d9d9bb5e0945a0a94d95dad327b14ab45
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/45/914845/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,038eba400c5cbdadea92d5ac55e1b202a68d71f3,,,,1,0
openstack%2Fdevstack~914844,openstack/devstack,master,Ied46d5f4ed46b00ed69b77132c79184e2a5b6f86,DNM: Query endpoint from keystone for oslo.limit,ABANDONED,2024-04-02 05:45:40.000000000,2024-04-09 00:08:47.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 05:45:40.000000000', 'files': ['lib/nova', 'lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/22d932be7f3170f7a6926b71c493eb41e270f568', 'message': 'DNM: Query endpoint from keystone for oslo.limit\n\nChange-Id: Ied46d5f4ed46b00ed69b77132c79184e2a5b6f86\n'}]",0,914844,22d932be7f3170f7a6926b71c493eb41e270f568,4,2,1,9816,,,0,"DNM: Query endpoint from keystone for oslo.limit

Change-Id: Ied46d5f4ed46b00ed69b77132c79184e2a5b6f86
",git fetch https://review.opendev.org/openstack/devstack refs/changes/44/914844/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'lib/glance']",2,22d932be7f3170f7a6926b71c493eb41e270f568,, iniset $GLANCE_API_CONF oslo_limit endpoint_service_type image, iniset $GLANCE_API_CONF oslo_limit endpoint_id \ $(openstack --os-cloud devstack-system-admin endpoint list --service glance -f value -c ID),2,4
openstack%2Fmanila~905021,openstack/manila,master,Ib43f5a24c497f7d97cb2d852b99489b0c3bd75fb,fix: Stop using batch_op for rename_table,ABANDONED,2024-01-08 19:01:23.000000000,2024-04-08 23:18:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-01-08 19:01:23.000000000', 'files': ['manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/eb7f03c667261557d7f809f7851bad6b3eea4646', 'message': 'fix: Stop using batch_op for rename_table\n\nFor migrations that rename tables, batch_op is not needed, which\nis also even causing issues with newer versions of Alembic.\n\nChange-Id: Ib43f5a24c497f7d97cb2d852b99489b0c3bd75fb\n'}]",3,905021,eb7f03c667261557d7f809f7851bad6b3eea4646,7,1,1,1004,,,0,"fix: Stop using batch_op for rename_table

For migrations that rename tables, batch_op is not needed, which
is also even causing issues with newer versions of Alembic.

Change-Id: Ib43f5a24c497f7d97cb2d852b99489b0c3bd75fb
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/905021/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py'],1,eb7f03c667261557d7f809f7851bad6b3eea4646,," op.rename_table('share_export_locations', 'share_instance_export_locations')"," batch_op.rename_table('share_export_locations', 'share_instance_export_locations')",2,2
openstack%2Fhorizon~905305,openstack/horizon,master,Iaea9604e99df0db520c8a4358fcefb91e9ab7064,pytest-based selenium tests : Add non-voting pytest-ui job,MERGED,2024-01-11 13:47:27.000000000,2024-04-08 23:00:44.000000000,2024-04-08 22:58:11.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-01-11 13:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c7513dd8379afd2fc09a81f0484ede688cc797d3', 'message': '[DNM]pytest-based selenium tests : Add non-voting pytest-ui job\n\nChange-Id: Iaea9604e99df0db520c8a4358fcefb91e9ab7064\n'}, {'number': 2, 'created': '2024-04-08 06:48:55.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/tempest-and-integrated.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/88c6fd0dfb810c17bc0899430a441acf48f9a164', 'message': 'pytest-based selenium tests : Add non-voting pytest-ui job\n\nThis patch adds a non-voting zuul job for pytest-based UI tests\n\nChange-Id: Iaea9604e99df0db520c8a4358fcefb91e9ab7064\n'}]",1,905305,88c6fd0dfb810c17bc0899430a441acf48f9a164,12,4,2,35153,,,0,"pytest-based selenium tests : Add non-voting pytest-ui job

This patch adds a non-voting zuul job for pytest-based UI tests

Change-Id: Iaea9604e99df0db520c8a4358fcefb91e9ab7064
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/905305/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/tempest-and-integrated.yaml']",2,c7513dd8379afd2fc09a81f0484ede688cc797d3,add_jobs," name: horizon-ui-pytest parent: devstack nodeset: devstack-single-node-debian-bullseye pre-run: playbooks/horizon-devstack-integration/pre.yaml run: playbooks/horizon-devstack-integration/run.yaml post-run: playbooks/horizon-devstack-integration/post.yaml roles: - zuul: openstack-infra/devstack required-projects: - openstack/horizon - openstack/requirements irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^.*/locale/.*$ # Unit tests are not related to the integration tests - ^horizon/test/unit/.*$ - ^openstack_auth/tests/unit/.*$ - ^openstack_dashboard/test/unit/.*$ - ^openstack_dashboard/contrib/.*/tests.py$ - ^openstack_dashboard/dashboards/.*/tests.py$ # JavaScript unit tests are not related to the integration tests - ^openstack_dashboard/.*/[^/]*\.spec\.js$ - ^horizon/static/.*/[^/]*\.spec\.js$ vars: devstack_services: horizon: true tox_envlist: ui-pytest tox_constraints_file: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/requirements'].src_dir }}/upper-constraints.txt"" - job:",,34,0
openstack%2Foslo.service~914927,openstack/oslo.service,master,Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2,Removing oslo_wsgi eventlet dependency,NEW,2024-04-02 22:00:55.000000000,2024-04-08 22:03:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2024-04-02 22:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/a8b6173716fa1e664bd7c5572a488c243b69b8a6', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}, {'number': 2, 'created': '2024-04-02 22:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/a6216acc3ba4114390a20eb0194cc5eec10e0157', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}, {'number': 3, 'created': '2024-04-03 23:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/e36834d3c021ec4ef68d4aff3ef109bbbbe42f7c', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}, {'number': 4, 'created': '2024-04-03 23:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/6465e8444df5e59f3a98ee493424dad3c94ad095', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}, {'number': 5, 'created': '2024-04-04 01:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/f02d71709aa2cd33674a6600f768ae9c45f85281', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}, {'number': 6, 'created': '2024-04-05 00:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/cef8f17cbc03a2b04afd5bcf835eb6c5cb165292', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}, {'number': 7, 'created': '2024-04-05 01:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/7ccc6dc6ecfe361766de28551fffabcaccb7188c', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}, {'number': 8, 'created': '2024-04-05 01:36:27.000000000', 'files': ['requirements.txt', 'oslo_service/sslutils.py', 'oslo_service/tests/__init__.py', 'temp/gunicorn_wsgi.py', 'oslo_service/tests/test_wsgi.py', 'oslo_service/wsgi_new.py', 'temp/eventlet_wsgi.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/4ef1294935ceb07db9c11b3284a0be4ebb7e90f7', 'message': 'Removing oslo_wsgi eventlet dependency\n\nThis Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.\n\nThe Short term goal is to test these changes in ironic-python-agent.\n\nAll Tests pass, and the ""temp"" examples run on python3.8 and python3.12\n\nChanges include:\n\n- Removing reliance on ssl.wrap which is depreciated in python 3.12\n- A new gunicorn wsgi server that is non-blocking\n\nChange-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2\n'}]",73,914927,4ef1294935ceb07db9c11b3284a0be4ebb7e90f7,28,2,8,36102,,,0,"Removing oslo_wsgi eventlet dependency

This Commit includes a range of changes to oslo_service wsgi, with suggested directions on removing the eventlet dependency. The idea is that if people like the directions of this code, I will implement the changes in seperate, cleaned and tested commits.

The Short term goal is to test these changes in ironic-python-agent.

All Tests pass, and the ""temp"" examples run on python3.8 and python3.12

Changes include:

- Removing reliance on ssl.wrap which is depreciated in python 3.12
- A new gunicorn wsgi server that is non-blocking

Change-Id: Ic87860be22edbde5d72ccf6ae751ae2aafd0fed2
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/27/914927/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', 'oslo_service/sslutils.py', 'temp/test.py', 'tox.ini', 'oslo_service/wsgi_new.py', 'temp/test2.py']",7,a8b6173716fa1e664bd7c5572a488c243b69b8a6,,"import os from oslo_config import cfg from oslo_service import sslutils, wsgi_new # Register SSL options CONF = cfg.CONF CONF(default_config_files=[""env/oslo.conf""]) sslutils.register_opts(CONF) def app_factory(global_config, **local_conf): def application(environ, start_response): status = ""200 OK"" headers = [(""Content-type"", ""text/plain"")] start_response(status, headers) response_body = b""Hello, World! - From Gunicorn OSLO"" return [response_body] return application def main(): app = app_factory(None) server = wsgi_new.Server( CONF, ""your_app_name"", app, host=""0.0.0.0"", port=6262, use_ssl=True ) server.start() if __name__ == ""__main__"": main() ",,189,19
openstack%2Fpuppet-cinder~915242,openstack/puppet-cinder,master,I91d029250da223f999381d594a3c7b953ec19898,validate maxdelay for cron job,MERGED,2024-04-08 07:41:52.000000000,2024-04-08 21:50:04.000000000,2024-04-08 21:50:04.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:41:52.000000000', 'files': ['manifests/cron/db_purge.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f3877ffa5c5e20d446bdf4811eb0b90636cdd491', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: I91d029250da223f999381d594a3c7b953ec19898\n'}]",0,915242,f3877ffa5c5e20d446bdf4811eb0b90636cdd491,8,3,1,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: I91d029250da223f999381d594a3c7b953ec19898
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/42/915242/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cron/db_purge.pp'],1,f3877ffa5c5e20d446bdf4811eb0b90636cdd491,validate-maxdelay," $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $user = $::cinder::params::user, $age = 30, $destination = '/var/log/cinder/cinder-rowsflush.log', Integer[0] $maxdelay = 0,"," $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $user = $::cinder::params::user, $age = 30, $destination = '/var/log/cinder/cinder-rowsflush.log', $maxdelay = 0,",9,9
openstack%2Fpuppet-glance~915243,openstack/puppet-glance,master,I63719129644e3723b86d0b63b78c36e151724473,validate maxdelay for cron job,MERGED,2024-04-08 07:43:23.000000000,2024-04-08 21:47:41.000000000,2024-04-08 21:47:41.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fe1dd0036f37cdd74aa3a22e7e131873df34e48b', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: I63719129644e3723b86d0b63b78c36e151724473\n'}, {'number': 2, 'created': '2024-04-08 07:45:11.000000000', 'files': ['manifests/cron/db_purge_images_table.pp', 'manifests/cache/cleaner.pp', 'manifests/cron/db_purge.pp', 'manifests/cache/pruner.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0791fbb26c5bcba620c6f34fb1c3f192ce28c9e1', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: I63719129644e3723b86d0b63b78c36e151724473\n'}]",0,915243,0791fbb26c5bcba620c6f34fb1c3f192ce28c9e1,9,3,2,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: I63719129644e3723b86d0b63b78c36e151724473
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/43/915243/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/db_purge_images_table.pp', 'manifests/cron/db_purge.pp']",2,fe1dd0036f37cdd74aa3a22e7e131873df34e48b,validate-maxdelay," $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $user = $::glance::params::user, $age = 30, $max_rows = 100, $destination = '/var/log/glance/glance-rowsflush.log', Integer[0] $maxdelay = 0,"," $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $user = $::glance::params::user, $age = 30, $max_rows = 100, $destination = '/var/log/glance/glance-rowsflush.log', $maxdelay = 0,",20,20
openstack%2Fneutron~914428,openstack/neutron,master,I9d14fd40ef65a73a5d7b540c12a35fa7dbc7997e,Unify the Metadata proxy handler code,ABANDONED,2024-03-27 08:22:54.000000000,2024-04-08 21:45:13.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-27 08:22:54.000000000', 'files': ['neutron/agent/ovn/metadata/server.py', 'neutron/agent/metadata/agent.py', 'neutron/agent/metadata/proxy_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9854e0691f4420b6602537c3ba77f2584a9d543a', 'message': 'Unify the Metadata proxy handler code\n\nBoth the Metadata Agent and the OVN Metadata Agent proxy handler\ninherit from the same class.\n\nRelated-Bug: #todo\nChange-Id: I9d14fd40ef65a73a5d7b540c12a35fa7dbc7997e\n'}]",2,914428,9854e0691f4420b6602537c3ba77f2584a9d543a,7,2,1,16688,,,0,"Unify the Metadata proxy handler code

Both the Metadata Agent and the OVN Metadata Agent proxy handler
inherit from the same class.

Related-Bug: #todo
Change-Id: I9d14fd40ef65a73a5d7b540c12a35fa7dbc7997e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/914428/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/server.py', 'neutron/agent/metadata/agent.py', 'neutron/agent/metadata/proxy_handler.py']",3,9854e0691f4420b6602537c3ba77f2584a9d543a,unify_metadata_code,"# Copyright 2024 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import abc import urllib from oslo_log import log as logging import requests import webob from neutron._i18n import _ from neutron.common import ipv6_utils from neutron.common import utils as common_utils LOG = logging.getLogger(__name__) class ProxyHandler(metaclass=abc.ABCMeta): def __init__(self, conf, *args, **kwargs): self.conf = conf self.initialize(*args, **kwargs) def initialize(self, *args, **kwargs): pass @webob.dec.wsgify(RequestClass=webob.Request) def __call__(self, req): try: LOG.debug(""Request: %s"", req) instance_id, tenant_id = self._get_instance_and_project_id(req) if instance_id: res = self._proxy_request(instance_id, tenant_id, req) if isinstance(res, webob.exc.HTTPNotFound): LOG.info(""The instance: %s is not present anymore, "" ""skipping cache..."", instance_id) instance_id, tenant_id = self._get_instance_and_project_id( req, skip_cache=True) if instance_id: return self._proxy_request(instance_id, tenant_id, req) return res else: return webob.exc.HTTPNotFound() except Exception: LOG.exception(""Unexpected error."") msg = _('An unknown error has occurred. ' 'Please try your request again.') explanation = str(msg) return webob.exc.HTTPInternalServerError(explanation=explanation) @abc.abstractmethod def _get_instance_and_project_id(self, req, skip_cache=False): pass def _proxy_request(self, instance_id, tenant_id, req): headers = { 'X-Forwarded-For': req.headers.get('X-Forwarded-For'), 'X-Instance-ID': instance_id, 'X-Tenant-ID': tenant_id, 'X-Instance-ID-Signature': common_utils.sign_instance_id( self.conf, instance_id) } nova_host_port = ipv6_utils.valid_ipv6_url( self.conf.nova_metadata_host, self.conf.nova_metadata_port) url = urllib.parse.urlunsplit(( self.conf.nova_metadata_protocol, nova_host_port, req.path_info, req.query_string, '')) disable_ssl_certificate_validation = self.conf.nova_metadata_insecure if self.conf.auth_ca_cert and not disable_ssl_certificate_validation: verify_cert = self.conf.auth_ca_cert else: verify_cert = not disable_ssl_certificate_validation client_cert = None if self.conf.nova_client_cert and self.conf.nova_client_priv_key: client_cert = (self.conf.nova_client_cert, self.conf.nova_client_priv_key) try: resp = requests.request(method=req.method, url=url, headers=headers, data=req.body, cert=client_cert, verify=verify_cert, timeout=60) except requests.ConnectionError: msg = _('The remote metadata server is temporarily unavailable. ' 'Please try again later.') explanation = str(msg) return webob.exc.HTTPServiceUnavailable(explanation=explanation) if resp.status_code == 200: req.response.content_type = resp.headers['content-type'] req.response.body = resp.content LOG.debug(str(resp)) return req.response elif resp.status_code == 403: LOG.warning( 'The remote metadata server responded with Forbidden. This ' 'response usually occurs when shared secrets do not match.' ) return webob.exc.HTTPForbidden() elif resp.status_code == 500: msg = _( 'Remote metadata server experienced an internal server error.' ) LOG.warning(msg) explanation = str(msg) return webob.exc.HTTPInternalServerError(explanation=explanation) elif resp.status_code in (400, 404, 409, 502, 503, 504): webob_exc_cls = webob.exc.status_map.get(resp.status_code) return webob_exc_cls() else: raise Exception(_('Unexpected response code: %s') % resp.status_code) ",,145,204
openstack%2Fmanila~872171,openstack/manila,master,I155b4ce4b605720c8335d465124fd32cc973a737,db: Don't use strings to indicate relationship names,MERGED,2023-01-30 11:59:52.000000000,2024-04-08 21:43:53.000000000,2024-04-08 21:42:43.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-01-30 11:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e5e4356c678ae19fe465767d122fe2280cf9c695', 'message': ""db: Don't use strings to indicate relationship names\n\nResolve the following RemovedIn20Warning warning:\n\n  Using strings to indicate relationship names in Query.join() is\n  deprecated and will be removed in SQLAlchemy 2.0.  Please use the\n  class-bound attribute directly.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I155b4ce4b605720c8335d465124fd32cc973a737\n""}, {'number': 2, 'created': '2023-03-31 15:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/24166d089342debd5acdaccf8b93d66260cc2348', 'message': ""db: Don't use strings to indicate relationship names\n\nResolve the following RemovedIn20Warning warning:\n\n  Using strings to indicate relationship names in Query.join() is\n  deprecated and will be removed in SQLAlchemy 2.0.  Please use the\n  class-bound attribute directly.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I155b4ce4b605720c8335d465124fd32cc973a737\n""}, {'number': 3, 'created': '2023-04-03 11:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ece7fc5b51f7feb36a4778fd9e7231592ccebc28', 'message': ""db: Don't use strings to indicate relationship names\n\nResolve the following RemovedIn20Warning warning:\n\n  Using strings to indicate relationship names in Query.join() is\n  deprecated and will be removed in SQLAlchemy 2.0.  Please use the\n  class-bound attribute directly.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I155b4ce4b605720c8335d465124fd32cc973a737\n""}, {'number': 4, 'created': '2023-04-03 14:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/932d685e5d57fae26b0b39f73e4d5e7d8e0127c8', 'message': ""db: Don't use strings to indicate relationship names\n\nResolve the following RemovedIn20Warning warning:\n\n  Using strings to indicate relationship names in Query.join() is\n  deprecated and will be removed in SQLAlchemy 2.0.  Please use the\n  class-bound attribute directly.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I155b4ce4b605720c8335d465124fd32cc973a737\n""}, {'number': 5, 'created': '2024-04-04 12:30:43.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'manila/test.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9c94a9adfc058309637405ed067017ff13198909', 'message': ""db: Don't use strings to indicate relationship names\n\nResolve the following RemovedIn20Warning warning:\n\n  Using strings to indicate relationship names in Query.join() is\n  deprecated and will be removed in SQLAlchemy 2.0.  Please use the\n  class-bound attribute directly.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I155b4ce4b605720c8335d465124fd32cc973a737\n""}]",3,872171,9c94a9adfc058309637405ed067017ff13198909,32,3,5,15334,,,0,"db: Don't use strings to indicate relationship names

Resolve the following RemovedIn20Warning warning:

  Using strings to indicate relationship names in Query.join() is
  deprecated and will be removed in SQLAlchemy 2.0.  Please use the
  class-bound attribute directly.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I155b4ce4b605720c8335d465124fd32cc973a737
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/872171/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'manila/test.py']",2,e5e4356c678ae19fe465767d122fe2280cf9c695,sqlalchemy-20,," message='Using strings to indicate column or relationship paths ', category=sqla_exc.SADeprecationWarning, ) warnings.filterwarnings( 'ignore', module='manila',",91,84
openstack%2Fpuppet-manila~915248,openstack/puppet-manila,master,Ica59437af00ea05335c934e6c3283e9207085587,validate maxdelay for cron job,MERGED,2024-04-08 07:47:41.000000000,2024-04-08 21:26:28.000000000,2024-04-08 21:26:28.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 07:47:41.000000000', 'files': ['manifests/cron/db_purge.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/bf6f63fb90855f2e756e469b7407d3cdca1a0eed', 'message': 'validate maxdelay for cron job\n\nThe parameter descriptions says the value should be a positive integer\n(or 0). Validate the given value to reject invalid values such as\nstrings or even negative values.\n\nChange-Id: Ica59437af00ea05335c934e6c3283e9207085587\n'}]",0,915248,bf6f63fb90855f2e756e469b7407d3cdca1a0eed,8,3,1,9816,,,0,"validate maxdelay for cron job

The parameter descriptions says the value should be a positive integer
(or 0). Validate the given value to reject invalid values such as
strings or even negative values.

Change-Id: Ica59437af00ea05335c934e6c3283e9207085587
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/48/915248/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cron/db_purge.pp'],1,bf6f63fb90855f2e756e469b7407d3cdca1a0eed,validate-maxdelay," $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $user = $::manila::params::user, $age = 0, $destination = '/var/log/manila/manila-rowsflush.log', Integer[0] $maxdelay = 0,"," $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $user = $::manila::params::user, $age = 0, $destination = '/var/log/manila/manila-rowsflush.log', $maxdelay = 0,",9,9
openstack%2Fnova~915177,openstack/nova,master,I3076e6b15babeccd9f2f74175199d428a395605e,tools: Ensure cherry pick validator checks nova code,NEW,2024-04-05 19:11:17.000000000,2024-04-08 20:38:57.000000000,,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 19:11:17.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/d74cfedc40f125e8de29b59ed9d170e889955020', 'message': ""tools: Ensure cherry pick validator checks nova code\n\nIt's not guaranteed that the last repo cloned by zuul will be nova, so\nchange into the nova code directory before validating cherry picks.\n\nCurrently, if the openstack/requirements repo is cloned after the nova\nrepo, we end up running git commands for checking cherry picks in the\nopenstack/requirements code.\n\nExample excerpt from job-output.txt:\n\n  LOOP [prepare-workspace-git : Set initial repo states in workspace]\n  + [ -d /opt/git/opendev.org/openstack/nova ]\n  + git clone --bare /opt/git/opendev.org/openstack/nova\n               /home/zuul/src/opendev.org/openstack/nova/.git\n  Cloning into bare repository\n              '/home/zuul/src/opendev.org/openstack/nova/.git'...\n  done.\n  + cd /home/zuul/src/opendev.org/openstack/nova\n  + git config --local --bool core.bare false\n  [...]\n  + [ -d /opt/git/opendev.org/openstack/requirements ]\n  + git clone --bare /opt/git/opendev.org/openstack/requirements\n               /home/zuul/src/opendev.org/openstack/requirements/.git\n  Cloning into bare repository\n              '/home/zuul/src/opendev.org/openstack/requirements/.git'...\n  done.\n  + cd /home/zuul/src/opendev.org/openstack/requirements\n  + git config --local --bool core.bare false\n  [...]\n\nChange-Id: I3076e6b15babeccd9f2f74175199d428a395605e\n""}]",3,915177,d74cfedc40f125e8de29b59ed9d170e889955020,7,3,1,4690,,,0,"tools: Ensure cherry pick validator checks nova code

It's not guaranteed that the last repo cloned by zuul will be nova, so
change into the nova code directory before validating cherry picks.

Currently, if the openstack/requirements repo is cloned after the nova
repo, we end up running git commands for checking cherry picks in the
openstack/requirements code.

Example excerpt from job-output.txt:

  LOOP [prepare-workspace-git : Set initial repo states in workspace]
  + [ -d /opt/git/opendev.org/openstack/nova ]
  + git clone --bare /opt/git/opendev.org/openstack/nova
               /home/zuul/src/opendev.org/openstack/nova/.git
  Cloning into bare repository
              '/home/zuul/src/opendev.org/openstack/nova/.git'...
  done.
  + cd /home/zuul/src/opendev.org/openstack/nova
  + git config --local --bool core.bare false
  [...]
  + [ -d /opt/git/opendev.org/openstack/requirements ]
  + git clone --bare /opt/git/opendev.org/openstack/requirements
               /home/zuul/src/opendev.org/openstack/requirements/.git
  Cloning into bare repository
              '/home/zuul/src/opendev.org/openstack/requirements/.git'...
  done.
  + cd /home/zuul/src/opendev.org/openstack/requirements
  + git config --local --bool core.bare false
  [...]

Change-Id: I3076e6b15babeccd9f2f74175199d428a395605e
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/915177/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,d74cfedc40f125e8de29b59ed9d170e889955020,validate-backport-dir,"# Change into the nova code directory (if a different repo was cloned last, we # could be in a different directory like openstack/requirements, for example). cd ../nova ",,4,0
openstack%2Ftempest~914848,openstack/tempest,master,I8051d979e28f7dbf532181f339cbef9cd7220c76,[codespell] fix typos,MERGED,2024-04-02 06:42:36.000000000,2024-04-08 19:42:26.000000000,2024-04-08 19:40:11.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-04-02 06:42:36.000000000', 'files': ['tempest/lib/api_schema/response/volume/volumes.py', 'tempest/lib/cmd/check_uuid.py', 'tempest/lib/services/object_storage/container_client.py', 'tempest/api/compute/admin/test_servers_on_multinodes.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/tests/common/test_credentials_factory.py', 'tempest/api/network/test_allowed_address_pair.py', 'tempest/api/object_storage/test_container_sync.py', 'tempest/api/network/test_tags.py', 'tempest/lib/services/image/v2/images_client.py', 'tempest/test_discover/plugins.py', 'roles/run-tempest/tasks/main.yaml', 'tempest/api/compute/base.py', 'tempest/tests/lib/services/base.py', 'tempest/lib/decorators.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'zuul.d/stable-jobs.yaml', 'tempest/common/custom_matchers.py', 'zuul.d/integrated-gate.yaml', 'tempest/common/compute.py', 'doc/source/stable_branch_support_policy.rst', 'tempest/api/compute/servers/test_server_rescue_negative.py', 'tempest/scenario/test_stamp_pattern.py', 'tempest/tests/lib/common/utils/test_data_utils.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/lib/common/dynamic_creds.py', 'tempest/common/waiters.py', 'tempest/api/compute/images/test_images.py', 'tempest/api/network/test_floating_ips.py', 'tempest/api/compute/images/test_images_oneserver_negative.py', 'tempest/api/compute/servers/test_server_rescue.py', 'tempest/tests/lib/test_ssh.py', 'tempest/config.py', 'tox.ini', 'tempest/api/compute/servers/test_multiple_create_negative.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a85bdb47ef0ef0f46b8d809601df326956f3676e', 'message': '[codespell] fix typos\n\nThis change fixes typos in tempest code, doc, zuul yaml\nand tox.ini file, which are found by codespell.\n\nChange-Id: I8051d979e28f7dbf532181f339cbef9cd7220c76\n'}]",2,914848,a85bdb47ef0ef0f46b8d809601df326956f3676e,10,4,1,20733,,,0,"[codespell] fix typos

This change fixes typos in tempest code, doc, zuul yaml
and tox.ini file, which are found by codespell.

Change-Id: I8051d979e28f7dbf532181f339cbef9cd7220c76
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/914848/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/api_schema/response/volume/volumes.py', 'tempest/lib/cmd/check_uuid.py', 'tempest/lib/services/object_storage/container_client.py', 'tempest/api/compute/admin/test_servers_on_multinodes.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/tests/common/test_credentials_factory.py', 'tempest/api/network/test_allowed_address_pair.py', 'tempest/api/object_storage/test_container_sync.py', 'tempest/api/network/test_tags.py', 'tempest/lib/services/image/v2/images_client.py', 'tempest/test_discover/plugins.py', 'roles/run-tempest/tasks/main.yaml', 'tempest/api/compute/base.py', 'tempest/tests/lib/services/base.py', 'tempest/lib/decorators.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'zuul.d/stable-jobs.yaml', 'tempest/common/custom_matchers.py', 'zuul.d/integrated-gate.yaml', 'tempest/common/compute.py', 'doc/source/stable_branch_support_policy.rst', 'tempest/api/compute/servers/test_server_rescue_negative.py', 'tempest/scenario/test_stamp_pattern.py', 'tempest/tests/lib/common/utils/test_data_utils.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/lib/common/dynamic_creds.py', 'tempest/common/waiters.py', 'tempest/api/compute/images/test_images.py', 'tempest/api/network/test_floating_ips.py', 'tempest/api/compute/images/test_images_oneserver_negative.py', 'tempest/api/compute/servers/test_server_rescue.py', 'tempest/tests/lib/test_ssh.py', 'tempest/config.py', 'tox.ini', 'tempest/api/compute/servers/test_multiple_create_negative.py', 'tempest/test.py']",36,a85bdb47ef0ef0f46b8d809601df326956f3676e,codespell," fixture, even if an exception occurred during setUp or tearDown."," fixture, even if an exception occured during setUp or tearDown.",45,46
openstack%2Fcharm-ceilometer~915271,openstack/charm-ceilometer,master,Idb5e17b5af5193f77541405d74913a9a20002041,Change rabbitmq to rabbitmq-server because the charm is called rabbitmq-server,NEW,2024-04-08 12:22:42.000000000,2024-04-08 19:04:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 12:22:42.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/85131f12ca340b4d721d70aa03b8d080e0e578b3', 'message': 'Change rabbitmq to rabbitmq-server because the charm is called rabbitmq-server\n\nChange-Id: Idb5e17b5af5193f77541405d74913a9a20002041\n'}]",1,915271,85131f12ca340b4d721d70aa03b8d080e0e578b3,5,2,1,36928,,,0,"Change rabbitmq to rabbitmq-server because the charm is called rabbitmq-server

Change-Id: Idb5e17b5af5193f77541405d74913a9a20002041
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/71/915271/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,85131f12ca340b4d721d70aa03b8d080e0e578b3,, juju add-relation ceilometer:amqp rabbitmq-server, juju add-relation ceilometer:amqp rabbitmq,1,1
openstack%2Fpython-manilaclient~913216,openstack/python-manilaclient,master,Iee32d0041a03fcb1ce426eb10cbc3067caf14533,"Add ""--wait"" option for unmanaging a share server",NEW,2024-03-23 20:30:08.000000000,2024-04-08 19:00:49.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2024-03-23 20:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c5076e4915653d2920b1c6eaa7449e05bdd4a294', 'message': 'Add ""--wait"" option for managing/unmanaging a share server\n\n1) Managing a share server\n$ manila share-server-manage manila@paris share_net_test backend_server_1 --wait\n<CLI waits for the share server to reach ""active"" state"" before returning to the prompt>\n\n2) Unmanaging a share server\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 2, 'created': '2024-03-23 20:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bc1c0c239d014ef93200cfd17c45e96fbe3990b3', 'message': 'Add ""--wait"" option for managing/unmanaging a share server\n\n1) Managing a share server\n$ manila share-server-manage manila@paris share_net_test backend_server_1 --wait\n<CLI waits for the share server to reach ""active"" state"" before returning to the prompt>\n\n2) Unmanaging a share server\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\nCloses-Bug: #1898315\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 3, 'created': '2024-03-25 21:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4f1d2c0d189d20bfd40ca6e3ea3e7458d464fe20', 'message': 'Add ""--wait"" option for managing/unmanaging a share server\n\n1) Managing a share server\n$ manila share-server-manage manila@paris share_net_test backend_server_1 --wait\n<CLI waits for the share server to reach ""active"" state"" before returning to the prompt>\n\n2) Unmanaging a share server\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\nCloses-Bug: #1898315\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 4, 'created': '2024-03-26 10:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5223e84f4d41a0ec8ccf10c77d3b7cb82c899c95', 'message': 'Add ""--wait"" option for unmanaging a share server\n\nUnmanaging a share server:\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nCloses-Bug: #1898315\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 5, 'created': '2024-03-26 10:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e3ab7f7cce9ebfcbab3188acb1f25cda7af34a16', 'message': 'Add ""--wait"" option for unmanaging a share server\n\nUnmanaging a share server:\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nCloses-Bug: #1898315\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 6, 'created': '2024-03-26 13:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/dab699357d80af37667260407536e1987426efc3', 'message': 'Add ""--wait"" option for unmanaging a share server\n\nUnmanaging a share server:\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nCloses-Bug: #1898315\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 7, 'created': '2024-03-31 19:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/515ff865c0e693d75d9cb55d0beea9f4ef4b0278', 'message': 'Add ""--wait"" option for unmanaging a share server\n\nUnmanaging a share server:\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nCloses-Bug: #1898315\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 8, 'created': '2024-03-31 19:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7c17a407ab42a0bef4f7642564acf6fead2fd1da', 'message': 'Add ""--wait"" option for unmanaging a share server\n\nUnmanaging a share server:\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nCloses-Bug: #1898315 #1982428\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 9, 'created': '2024-03-31 19:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7c0b6fc4963a3b931212fec65a6257e4ac51bc19', 'message': 'Add ""--wait"" option for unmanaging a share server\n\nUnmanaging a share server:\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nCloses-Bug: #1898315\nCloses-Bug: #1982428\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}, {'number': 10, 'created': '2024-04-08 18:01:04.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898315-add-wait-to-manage-unmanage-share-server-f1091e9e981876b6.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c2a9b04dc844d2e321e2ff448ab826b3ca0e9d5d', 'message': 'Add ""--wait"" option for unmanaging a share server\n\nUnmanaging a share server:\n$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait\n<CLI waits for share server to be removed before returning to the prompt>\n\nCloses-Bug: #1898315\nCloses-Bug: #1982428\n\nChange-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533\n'}]",18,913216,c2a9b04dc844d2e321e2ff448ab826b3ca0e9d5d,24,3,10,36889,,,0,"Add ""--wait"" option for unmanaging a share server

Unmanaging a share server:
$ manila share-server-unmanage 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 --wait
<CLI waits for share server to be removed before returning to the prompt>

Closes-Bug: #1898315
Closes-Bug: #1982428

Change-Id: Iee32d0041a03fcb1ce426eb10cbc3067caf14533
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/16/913216/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py']",2,c5076e4915653d2920b1c6eaa7449e05bdd4a294,bug/1898315,"@cliutils.arg( '--wait', action='store_true', default=False, help='Wait for share server to unmanage') if args.wait: _wait_for_resource_status( cs, server, resource_type='share_server', expected_status='inactive')",,21,0
openstack%2Fswift~914768,openstack/swift,master,Ie1fe4a2e821de7966e77e0acb8b641ed81ea4059,expirer: account and container level delay_reaping,ABANDONED,2024-03-29 19:58:45.000000000,2024-04-08 18:59:43.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-29 19:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a31b5b1f9164cffd583b7f86f406185f3ad6f63f', 'message': ""expirer: account and container level delay_reaping\n\nThe object expirer can be configured to allow access to objects\nin specified accounts and containers even after their expiration\ntime using account and container level delay_reaping values. The\ndelay_reaping value of accounts and containers in seconds is\nconfigured in the object server config. The object expirer\nreferences these configured values to only reap objects from\nspecified accounts and containers after their corresponding delays.\n\nThe goal of the delay_reaping feature is to prevent accidental or\npremature data loss if an object marked for deletion with the\n'x-delete-at' feature should not be reaped immediately, for\nwhatever reason.\n\nConfiguring the delay_reaping value at a granular account and\ncontainer level is beneficial for being able to keep storage\ncapacity consumption in control while maintaining a desired\ndata recovery window.\n\nThis patch also adds a sample configuration, documentation, and\ntests for bad configurations and grace period functionality.\n\nChange-Id: Ie1fe4a2e821de7966e77e0acb8b641ed81ea4059\n""}, {'number': 2, 'created': '2024-04-01 16:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/43bcfd5a7065fc772a1faf377b1e938740be842e', 'message': ""expirer: account and container level delay_reaping\n\nThe object expirer can be configured to allow access to objects\nin specified accounts and containers even after their expiration\ntime using account and container level delay_reaping values. The\ndelay_reaping value of accounts and containers in seconds is\nconfigured in the object server config. The object expirer\nreferences these configured values to only reap objects from\nspecified accounts and containers after their corresponding delays.\n\nThe goal of the delay_reaping feature is to prevent accidental or\npremature data loss if an object marked for deletion with the\n'x-delete-at' feature should not be reaped immediately, for\nwhatever reason.\n\nConfiguring the delay_reaping value at a granular account and\ncontainer level is beneficial for being able to keep storage\ncapacity consumption in control while maintaining a desired\ndata recovery window.\n\nThis patch also adds a sample configuration, documentation, and\ntests for bad configurations and grace period functionality.\n\nChange-Id: Ie1fe4a2e821de7966e77e0acb8b641ed81ea4059\n""}, {'number': 3, 'created': '2024-04-02 03:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14ca15d5eee0f04e8abaa8c62ae9bb2360eb1899', 'message': ""expirer: account and container level delay_reaping\n\nThe object expirer can be configured to allow access to objects\nin specified accounts and containers even after their expiration\ntime using account and container level delay_reaping values. The\ndelay_reaping value of accounts and containers in seconds is\nconfigured in the object server config. The object expirer\nreferences these configured values to only reap objects from\nspecified accounts and containers after their corresponding delays.\n\nThe goal of the delay_reaping feature is to prevent accidental or\npremature data loss if an object marked for deletion with the\n'x-delete-at' feature should not be reaped immediately, for\nwhatever reason.\n\nConfiguring the delay_reaping value at a granular account and\ncontainer level is beneficial for being able to keep storage\ncapacity consumption in control while maintaining a desired\ndata recovery window.\n\nThis patch also adds a sample configuration, documentation, and\ntests for bad configurations and grace period functionality.\n\nChange-Id: Ie1fe4a2e821de7966e77e0acb8b641ed81ea4059\n""}, {'number': 4, 'created': '2024-04-02 20:33:49.000000000', 'files': ['test/unit/obj/test_expirer.py', 'etc/object-expirer.conf-sample', 'doc/source/overview_expiring_objects.rst', 'doc/source/config/object_server_config.rst', 'swift/obj/expirer.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/419a0ef7ba1599154852586463070729b96319af', 'message': ""expirer: account and container level delay_reaping\n\nThe object expirer can be configured to allow access to objects\nin specified accounts and containers even after their expiration\ntime using account and container level delay_reaping values. The\ndelay_reaping value of accounts and containers in seconds is\nconfigured in the object server config. The object expirer\nreferences these configured values to only reap objects from\nspecified accounts and containers after their corresponding delays.\n\nThe goal of the delay_reaping feature is to prevent accidental or\npremature data loss if an object marked for deletion with the\n'x-delete-at' feature should not be reaped immediately, for\nwhatever reason.\n\nConfiguring the delay_reaping value at a granular account and\ncontainer level is beneficial for being able to keep storage\ncapacity consumption in control while maintaining a desired\ndata recovery window.\n\nThis patch also adds a sample configuration, documentation, and\ntests for bad configurations and grace period functionality.\n\nChange-Id: Ie1fe4a2e821de7966e77e0acb8b641ed81ea4059\n""}]",21,914768,419a0ef7ba1599154852586463070729b96319af,16,2,4,36763,,,0,"expirer: account and container level delay_reaping

The object expirer can be configured to allow access to objects
in specified accounts and containers even after their expiration
time using account and container level delay_reaping values. The
delay_reaping value of accounts and containers in seconds is
configured in the object server config. The object expirer
references these configured values to only reap objects from
specified accounts and containers after their corresponding delays.

The goal of the delay_reaping feature is to prevent accidental or
premature data loss if an object marked for deletion with the
'x-delete-at' feature should not be reaped immediately, for
whatever reason.

Configuring the delay_reaping value at a granular account and
container level is beneficial for being able to keep storage
capacity consumption in control while maintaining a desired
data recovery window.

This patch also adds a sample configuration, documentation, and
tests for bad configurations and grace period functionality.

Change-Id: Ie1fe4a2e821de7966e77e0acb8b641ed81ea4059
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/914768/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'etc/object-expirer.conf-sample', 'doc/source/overview_expiring_objects.rst', 'doc/source/config/object_server_config.rst', 'swift/obj/expirer.py', 'etc/object-server.conf-sample']",6,a31b5b1f9164cffd583b7f86f406185f3ad6f63f,open-expire,# The expirer can be delay the reaping of expired objects on disk (and in # container listings) with a account level or container level delay_reaping # time. # After the delay_reaping time has passed objects will be reaped as normal. # You may configure this delay_reaping value in seconds with dynamic config # option names prefixed with delay_reaping_<ACCT> for account level delays # and delay_reaping_<ACCT>/<CNTR> for container level delays. # The delay_reaping value should be a float value greater than or equal to # zero. # A container level delay_reaping does not require an account level # delay_reaping but overrides the account level delay_reaping for the same # account if it exists. # For example: # delay_reaping_AUTH_test = 300.0 # delay_reaping_AUTH_test2 = 86400.0 # delay_reaping_AUTH_test/test = 400.0 # delay_reaping_AUTH_test/test2 = 600.0 # N.B. By default no delay_reaping value is configured for any accounts or # containers.,# The expirer can be tuned to leave expired objects on disk (and in container # listings) for a per-account or per-container grace_period. # After the grace_period has passed objects will be deleted as normal. # You may configure this grace period in seconds with dynamic config # option names prefixed with grace_period_<ACCT> for per-account grace periods # and grace_period_<ACCT>/<CNTR> for per-container grace periods. # The grace period should be a float value greater than or equal to zero. # A per-container grace period does not require a per-account grace period # but overrides the per-account grace period for the same account if it exists. # For example: # grace_period_AUTH_test = 300.0 # grace_period_AUTH_test2 = 86400.0 # grace_period_AUTH_test/test = 400.0 # grace_period_AUTH_test/test2 = 600.0 # N.B. By default no grace_period is configured for any accounts or containers.,187,172
openstack%2Foctavia~915283,openstack/octavia,master,Ibccfbee277e06aedb67800059d62079334532b02,"Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.",NEW,2024-04-08 15:13:44.000000000,2024-04-08 18:21:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-08 15:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1879cc30ea96ee1f583c15d080b814e824bd9644', 'message': ""Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.\n\nThis patch introduces three new HTTP headers to facilitate the transfer of IP addresses in legacy infrastructure.\nThe HAProxy template has also been updated to support these headers.\n\nImplements: extend-x-headers-capability\nDepends-On: https://review.opendev.org/c/openstack/octavia-lib/+/915282\nChange-Id: Ibccfbee277e06aedb67800059d62079334532b02\n""}, {'number': 2, 'created': '2024-04-08 15:22:08.000000000', 'files': ['octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f887c449fc394dc7c0b2d6d6418b441ce98cb30f', 'message': ""Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.\n\nThis patch introduces three new HTTP headers to facilitate the transfer of IP addresses in legacy infrastructure.\nThe HAProxy template has also been updated to support these headers.\n\nImplements: blueprint extend-x-headers-capability\nDepends-On: https://review.opendev.org/c/openstack/octavia-lib/+/915282\nChange-Id: Ibccfbee277e06aedb67800059d62079334532b02\n""}]",0,915283,f887c449fc394dc7c0b2d6d6418b441ce98cb30f,4,1,2,36083,,,0,"Add support for 'X-Client-IP', 'X-Forwarded-IP', 'X-Real-IP' headers.

This patch introduces three new HTTP headers to facilitate the transfer of IP addresses in legacy infrastructure.
The HAProxy template has also been updated to support these headers.

Implements: blueprint extend-x-headers-capability
Depends-On: https://review.opendev.org/c/openstack/octavia-lib/+/915282
Change-Id: Ibccfbee277e06aedb67800059d62079334532b02
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/915283/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/functional/api/v2/test_listener.py']",3,1879cc30ea96ee1f583c15d080b814e824bd9644,bp/extend-x-headers-capability," 'X-Forwarded-Proto': 'true', 'X-Forwarded-IP': 'true', 'X-Client-IP': 'true', 'X-Real-IP': 'true'}}", 'X-Forwarded-Proto': 'true'}},48,1
openstack%2Fopenstack-ansible-plugins~915017,openstack/openstack-ansible-plugins,stable/2023.1,Ic8e548b14e9fac26cf3b5a918479fdf8e0b24c6c,Do not log contents of installed keypairs by default,MERGED,2024-04-04 20:09:48.000000000,2024-04-08 17:58:35.000000000,2024-04-08 17:57:41.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-04-04 20:09:48.000000000', 'files': ['roles/ssh_keypairs/tasks/standalone/install_ssh_key.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/498faa7ebe9ed4c27ad23bc1447c98bd977b0d65', 'message': 'Do not log contents of installed keypairs by default\n\nThis could put private key contents into the ansible log which is\nundesireable.\n\nChange-Id: Ic8e548b14e9fac26cf3b5a918479fdf8e0b24c6c\n(cherry picked from commit a0471a3436e937ab60c4da518762d546ccd22a58)\n'}]",0,915017,498faa7ebe9ed4c27ad23bc1447c98bd977b0d65,8,3,1,28619,,,0,"Do not log contents of installed keypairs by default

This could put private key contents into the ansible log which is
undesireable.

Change-Id: Ic8e548b14e9fac26cf3b5a918479fdf8e0b24c6c
(cherry picked from commit a0471a3436e937ab60c4da518762d546ccd22a58)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/17/915017/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ssh_keypairs/tasks/standalone/install_ssh_key.yml'],1,498faa7ebe9ed4c27ad23bc1447c98bd977b0d65,," no_log: ""{{ ssh_keypairs_no_log | default(True) }}""",,1,0
openstack%2Fcinder~877421,openstack/cinder,master,Ia3c1318516096837ce61b08f6b49dd05922f3d06,Doc: Drivers should not read other backend confs,NEW,2023-03-14 18:08:06.000000000,2024-04-08 17:56:43.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-03-14 18:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cbe1117cf5ea7fa1affec64ba723b61bdfc5941', 'message': ""Doc: Drivers should not read other backend confs\n\nCurrently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)\nthat read other backend configuration sections to retrieve their\nconfiguration options in order to run efficient migrations.\n\nThis is not a behavior we want to encourage in other drivers, because it\nbreaks the implicit contract that each backend is independent and should\nonly interact with other backends and cinder services via RPC calls or\nthe DB.\n\nThis behavior makes features depend on how cinder has been deployed,\nwhich is not good. Efficient migration will work if a single\ncinder-volume service is running with all the backends, but it won't\nwork if multiple cinder-volume services are running, in the same or\ndifferent hosts, with a single backend each, since the configuration\ndata for the other backend will not be there.\n\nThis patch adds to the driver contributor documentation explicit\nguidelines on why this should not be done.  It also adds not comments to\nthe code of the util methods that currently do this, and moves one\nmethod from cinder/volume/volume_utils.py into solidfire.py to hide it a\nbit more from developers.\n\nThere is 1 case were reading from a different backend section makes\nsense and would be acceptable, NetApp driver does it, and that is when a\nbackend section is used to store replication configuration options and\nthis section is not included in the enabled_backends sections.\n\nChange-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06\n""}, {'number': 2, 'created': '2023-10-20 08:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82a75d4fee02a7637aeb5a5c3f4a4d74bf5d5966', 'message': ""Doc: Drivers should not read other backend confs\n\nCurrently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)\nthat read other backend configuration sections to retrieve their\nconfiguration options in order to run efficient migrations.\n\nThis is not a behavior we want to encourage in other drivers, because it\nbreaks the implicit contract that each backend is independent and should\nonly interact with other backends and cinder services via RPC calls or\nthe DB.\n\nThis behavior makes features depend on how cinder has been deployed,\nwhich is not good. Efficient migration will work if a single\ncinder-volume service is running with all the backends, but it won't\nwork if multiple cinder-volume services are running, in the same or\ndifferent hosts, with a single backend each, since the configuration\ndata for the other backend will not be there.\n\nThis patch adds to the driver contributor documentation explicit\nguidelines on why this should not be done.  It also adds not comments to\nthe code of the util methods that currently do this, and moves one\nmethod from cinder/volume/volume_utils.py into solidfire.py to hide it a\nbit more from developers.\n\nThere is 1 case were reading from a different backend section makes\nsense and would be acceptable, NetApp driver does it, and that is when a\nbackend section is used to store replication configuration options and\nthis section is not included in the enabled_backends sections.\n\nChange-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06\n""}, {'number': 3, 'created': '2023-11-13 16:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdd09574477b996f42f44466059d381d74923820', 'message': ""Doc: Drivers should not read other backend confs\n\nCurrently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)\nthat read other backend configuration sections to retrieve their\nconfiguration options in order to run efficient migrations.\n\nThis is not a behavior we want to encourage in other drivers, because it\nbreaks the implicit contract that each backend is independent and should\nonly interact with other backends and cinder services via RPC calls or\nthe DB.\n\nThis behavior makes features depend on how cinder has been deployed,\nwhich is not good. Efficient migration will work if a single\ncinder-volume service is running with all the backends, but it won't\nwork if multiple cinder-volume services are running, in the same or\ndifferent hosts, with a single backend each, since the configuration\ndata for the other backend will not be there.\n\nThis patch adds to the driver contributor documentation explicit\nguidelines on why this should not be done.  It also adds not comments to\nthe code of the util methods that currently do this, and moves one\nmethod from cinder/volume/volume_utils.py into solidfire.py to hide it a\nbit more from developers.\n\nThere is 1 case were reading from a different backend section makes\nsense and would be acceptable, NetApp driver does it, and that is when a\nbackend section is used to store replication configuration options and\nthis section is not included in the enabled_backends sections.\n\nChange-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06\n""}, {'number': 4, 'created': '2024-01-12 13:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca09771ea739df422db3ccabfe06490fbcf4ad77', 'message': ""Doc: Drivers should not read other backend confs\n\nCurrently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)\nthat read other backend configuration sections to retrieve their\nconfiguration options in order to run efficient migrations.\n\nThis is not a behavior we want to encourage in other drivers, because it\nbreaks the implicit contract that each backend is independent and should\nonly interact with other backends and cinder services via RPC calls or\nthe DB.\n\nThis behavior makes features depend on how cinder has been deployed,\nwhich is not good. Efficient migration will work if a single\ncinder-volume service is running with all the backends, but it won't\nwork if multiple cinder-volume services are running, in the same or\ndifferent hosts, with a single backend each, since the configuration\ndata for the other backend will not be there.\n\nThis patch adds to the driver contributor documentation explicit\nguidelines on why this should not be done.  It also adds comments saying\nit's wrong to do it in the code of the util methods that currently do\nthis, and moves one method from cinder/volume/volume_utils.py into\nsolidfire.py to hide it a bit more from developers.\n\nThere is 1 case were reading from a different backend section makes\nsense and would be acceptable, NetApp driver does it, and that is when a\nbackend section is used to store replication configuration options and\nthis section is not included in the enabled_backends sections.\n\nChange-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06\n""}, {'number': 5, 'created': '2024-01-12 13:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/074ca04f7c1ac608d90be6bb9111a4a903b82f6c', 'message': ""Doc: Drivers should not read other backend confs\n\nCurrently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)\nthat read other backend configuration sections to retrieve their\nconfiguration options in order to run efficient migrations.\n\nThis is not a behavior we want to encourage in other drivers, because it\nbreaks the implicit contract that each backend is independent and should\nonly interact with other backends and cinder services via RPC calls or\nthe DB.\n\nThis behavior makes features depend on how cinder has been deployed,\nwhich is not good. Efficient migration will work if a single\ncinder-volume service is running with all the backends, but it won't\nwork if multiple cinder-volume services are running, in the same or\ndifferent hosts, with a single backend each, since the configuration\ndata for the other backend will not be there.\n\nThis patch adds to the driver contributor documentation explicit\nguidelines on why this should not be done.  It also adds comments saying\nit's wrong to do it in the code of the util methods that currently do\nthis, and moves one method from cinder/volume/volume_utils.py into\nsolidfire.py to hide it a bit more from developers.\n\nThere is 1 case were reading from a different backend section makes\nsense and would be acceptable, NetApp driver does it, and that is when a\nbackend section is used to store replication configuration options and\nthis section is not included in the enabled_backends sections.\n\nChange-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06\n""}, {'number': 6, 'created': '2024-01-17 18:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22fbd617bcee4975eb462d63e54ffe12a4080861', 'message': ""Doc: Drivers should not read other backend confs\n\nCurrently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)\nthat read other backend configuration sections to retrieve their\nconfiguration options in order to run efficient migrations.\n\nThis is not a behavior we want to encourage in other drivers, because it\nbreaks the implicit contract that each backend is independent and should\nonly interact with other backends and cinder services via RPC calls or\nthe DB.\n\nThis behavior makes features depend on how cinder has been deployed,\nwhich is not good. Efficient migration will work if a single\ncinder-volume service is running with all the backends, but it won't\nwork if multiple cinder-volume services are running, in the same or\ndifferent hosts, with a single backend each, since the configuration\ndata for the other backend will not be there.\n\nThis patch adds to the driver contributor documentation explicit\nguidelines on why this should not be done.  It also adds comments saying\nit's wrong to do it in the code of the util methods that currently do\nthis, and moves one method from cinder/volume/volume_utils.py into\nsolidfire.py to hide it a bit more from developers.\n\nThere is 1 case were reading from a different backend section makes\nsense and would be acceptable, NetApp driver does it, and that is when a\nbackend section is used to store replication configuration options and\nthis section is not included in the enabled_backends sections.\n\nChange-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06\n""}, {'number': 7, 'created': '2024-02-07 20:33:43.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/volume/drivers/netapp/dataontap/utils/utils.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'doc/source/contributor/new_driver_checklist.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb4dc5de3616fe1bef0ac093243d145d9c03ded9', 'message': ""Doc: Drivers should not read other backend confs\n\nCurrently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)\nthat read other backend configuration sections to retrieve their\nconfiguration options in order to run efficient migrations.\n\nThis is not a behavior we want to encourage in other drivers, because it\nbreaks the implicit contract that each backend is independent and should\nonly interact with other backends and cinder services via RPC calls or\nthe DB.\n\nThis behavior makes features depend on how cinder has been deployed,\nwhich is not good. Efficient migration will work if a single\ncinder-volume service is running with all the backends, but it won't\nwork if multiple cinder-volume services are running, in the same or\ndifferent hosts, with a single backend each, since the configuration\ndata for the other backend will not be there.\n\nThis patch adds to the driver contributor documentation explicit\nguidelines on why this should not be done.  It also adds comments saying\nit's wrong to do it in the code of the util methods that currently do\nthis, and moves one method from cinder/volume/volume_utils.py into\nsolidfire.py to hide it a bit more from developers.\n\nThere is 1 case were reading from a different backend section makes\nsense and would be acceptable, NetApp driver does it, and that is when a\nbackend section is used to store replication configuration options and\nthis section is not included in the enabled_backends sections.\n\nChange-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06\n""}]",9,877421,fb4dc5de3616fe1bef0ac093243d145d9c03ded9,113,3,7,9535,,,0,"Doc: Drivers should not read other backend confs

Currently there are at least 2 drivers (NetApp Data ONTAP and SolidFire)
that read other backend configuration sections to retrieve their
configuration options in order to run efficient migrations.

This is not a behavior we want to encourage in other drivers, because it
breaks the implicit contract that each backend is independent and should
only interact with other backends and cinder services via RPC calls or
the DB.

This behavior makes features depend on how cinder has been deployed,
which is not good. Efficient migration will work if a single
cinder-volume service is running with all the backends, but it won't
work if multiple cinder-volume services are running, in the same or
different hosts, with a single backend each, since the configuration
data for the other backend will not be there.

This patch adds to the driver contributor documentation explicit
guidelines on why this should not be done.  It also adds comments saying
it's wrong to do it in the code of the util methods that currently do
this, and moves one method from cinder/volume/volume_utils.py into
solidfire.py to hide it a bit more from developers.

There is 1 case were reading from a different backend section makes
sense and would be acceptable, NetApp driver does it, and that is when a
backend section is used to store replication configuration options and
this section is not included in the enabled_backends sections.

Change-Id: Ia3c1318516096837ce61b08f6b49dd05922f3d06
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/877421/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/volume/drivers/netapp/dataontap/utils/utils.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'doc/source/contributor/new_driver_checklist.rst']",5,9cbe1117cf5ea7fa1affec64ba723b61bdfc5941,die-quota-die," * Configuration: * Drivers receive a ``configuration`` parameter on initialization, and the base driver class will store it in the instance attribute ``configuration`` and that's where they should get configuration options from, not directly of the ``oslo_config.cfg.CONF``. There are many drivers that use ``CONF`` directly, that is either legacy code (from when Cinder only supported a single backend) or caused by using such drivers as reference. * Drivers must **never** access other backend sections, from all the ``enabled_backends``, present in the configuration file. Doing so breaks the implicit contract that each backend is independent and should only interact with other backends and cinder services via RPC calls. Doing so makes features depend on how cinder has been deployed, working if a single cinder-volume service is running with all the backends, but not working if multiple cinder-volume services are running, in the same or different hosts, with a single backend each. ",,95,38
openstack%2Fcharms.ceph~915276,openstack/charms.ceph,master,I224a70c02058372d4e7da225d43a55e0d114acf5,Remove Filestore support,MERGED,2024-04-08 14:16:36.000000000,2024-04-08 17:18:20.000000000,2024-04-08 17:18:20.000000000,"[{'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2024-04-08 14:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/2d15bc40ae7c45c64272fe68a15a6574f2839a89', 'message': 'Remove Filestore support\n\nMake bluestore the default and only option.\n\nPorted from I9609bc0222365cb1f4059312b466a12ef4e0397f\n\nChange-Id: I224a70c02058372d4e7da225d43a55e0d114acf5\n'}, {'number': 2, 'created': '2024-04-08 16:13:52.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/989844b2ea81a084f3d9e33da30feee925f529af', 'message': 'Remove Filestore support\n\nMake bluestore the default and only option.\n\nPorted from I9609bc0222365cb1f4059312b466a12ef4e0397f\n\nChange-Id: I224a70c02058372d4e7da225d43a55e0d114acf5\n'}]",1,915276,989844b2ea81a084f3d9e33da30feee925f529af,8,2,2,15382,,,0,"Remove Filestore support

Make bluestore the default and only option.

Ported from I9609bc0222365cb1f4059312b466a12ef4e0397f

Change-Id: I224a70c02058372d4e7da225d43a55e0d114acf5
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/76/915276/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,2d15bc40ae7c45c64272fe68a15a6574f2839a89,remove-filestore," key_manager=CEPH_KEY_MANAGER, osd_id=None): key_manager, osd_id) osdize_dir(dev, encrypt) encrypt=False, key_manager=CEPH_KEY_MANAGER, encrypt)def _ceph_disk(dev, osd_format, osd_journal, encrypt=False): cmd.append('--bluestore') wal = get_devices('bluestore-wal') if wal: cmd.append('--block.wal') least_used_wal = find_least_used_utility_device(wal) cmd.append(least_used_wal) db = get_devices('bluestore-db') if db: cmd.append('--block.db') least_used_db = find_least_used_utility_device(db) cmd.append(least_used_db)def _ceph_volume(dev, osd_journal, encrypt=False, key_manager=CEPH_KEY_MANAGER, osd_id=None): cmd.append('--bluestore') main_device_type = 'block' for extra_volume in ('wal', 'db'): devices = get_devices('bluestore-{}'.format(extra_volume)) if devices: cmd.append('--block.{}'.format(extra_volume)) least_used = find_least_used_utility_device(devices, lvs=True) cmd.append(_allocate_logical_volume( dev=least_used, lv_type=extra_volume, osd_fsid=osd_fsid, size='{}M'.format(calculate_volume_size(extra_volume)), shared=True, encrypt=encrypt, key_manager=key_manager) )def osdize_dir(path, encrypt=False): cmd.append('--bluestore') ","def use_bluestore(): """"""Determine whether bluestore should be used for OSD's :returns: whether bluestore disk format should be used :rtype: bool"""""" if cmp_pkgrevno('ceph', '12.2.0') < 0: return False return config('bluestore') bluestore=False, key_manager=CEPH_KEY_MANAGER, osd_id=None): bluestore, key_manager, osd_id) osdize_dir(dev, encrypt, bluestore) encrypt=False, bluestore=False, key_manager=CEPH_KEY_MANAGER, :param: bluestore: Use bluestore native Ceph block device format bluestore, encrypt, bluestore)def _ceph_disk(dev, osd_format, osd_journal, encrypt=False, bluestore=False): :param: bluestore: Use bluestore storage for OSD if osd_format and not bluestore: cmd.append('--fs-type') cmd.append(osd_format) # NOTE(jamespage): enable experimental bluestore support if use_bluestore(): cmd.append('--bluestore') wal = get_devices('bluestore-wal') if wal: cmd.append('--block.wal') least_used_wal = find_least_used_utility_device(wal) cmd.append(least_used_wal) db = get_devices('bluestore-db') if db: cmd.append('--block.db') least_used_db = find_least_used_utility_device(db) cmd.append(least_used_db) elif cmp_pkgrevno('ceph', '12.1.0') >= 0 and not bluestore: cmd.append('--filestore')def _ceph_volume(dev, osd_journal, encrypt=False, bluestore=False, key_manager=CEPH_KEY_MANAGER, osd_id=None): :param: bluestore: Use bluestore storage for OSD if bluestore: cmd.append('--bluestore') main_device_type = 'block' else: cmd.append('--filestore') main_device_type = 'data' # On-disk journal volume creation if not osd_journal and not bluestore: journal_lv_type = 'journal' cmd.append('--journal') cmd.append(_allocate_logical_volume( dev=dev, lv_type=journal_lv_type, osd_fsid=osd_fsid, size='{}M'.format(calculate_volume_size('journal')), encrypt=encrypt, key_manager=key_manager) ) if bluestore: for extra_volume in ('wal', 'db'): devices = get_devices('bluestore-{}'.format(extra_volume)) if devices: cmd.append('--block.{}'.format(extra_volume)) least_used = find_least_used_utility_device(devices, lvs=True) cmd.append(_allocate_logical_volume( dev=least_used, lv_type=extra_volume, osd_fsid=osd_fsid, size='{}M'.format(calculate_volume_size(extra_volume)), shared=True, encrypt=encrypt, key_manager=key_manager) ) elif osd_journal: cmd.append('--journal') least_used = find_least_used_utility_device(osd_journal, lvs=True) cmd.append(_allocate_logical_volume( dev=least_used, lv_type='journal', osd_fsid=osd_fsid, size='{}M'.format(calculate_volume_size('journal')), shared=True, encrypt=encrypt, key_manager=key_manager) )def osdize_dir(path, encrypt=False, bluestore=False): # NOTE(icey): enable experimental bluestore support if cmp_pkgrevno('ceph', '10.2.0') >= 0 and bluestore: cmd.append('--bluestore') elif cmp_pkgrevno('ceph', '12.1.0') >= 0 and not bluestore: cmd.append('--filestore')",38,98
openstack%2Fkolla-ansible~915117,openstack/kolla-ansible,master,Ib9a0d9bab0c64f5179715dbc629703e7a6947c98,CI: bump cirros version,MERGED,2024-04-05 09:33:53.000000000,2024-04-08 16:26:14.000000000,2024-04-08 16:25:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-04-05 09:33:53.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dffe23ca3dae6dc0abdc42a05d8ea3366e55c0dd', 'message': 'CI: bump cirros version\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: Ib9a0d9bab0c64f5179715dbc629703e7a6947c98\n'}]",1,915117,dffe23ca3dae6dc0abdc42a05d8ea3366e55c0dd,14,3,1,32553,,,0,"CI: bump cirros version

Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: Ib9a0d9bab0c64f5179715dbc629703e7a6947c98
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/915117/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,dffe23ca3dae6dc0abdc42a05d8ea3366e55c0dd,bump_cirros,CIRROS_RELEASE=${CIRROS_RELEASE:-0.6.2},CIRROS_RELEASE=${CIRROS_RELEASE:-0.6.1},1,1
openstack%2Fopenstack-ansible-plugins~915016,openstack/openstack-ansible-plugins,stable/2023.2,Ic8e548b14e9fac26cf3b5a918479fdf8e0b24c6c,Do not log contents of installed keypairs by default,MERGED,2024-04-04 20:09:01.000000000,2024-04-08 16:18:01.000000000,2024-04-08 16:17:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-04-04 20:09:01.000000000', 'files': ['roles/ssh_keypairs/tasks/standalone/install_ssh_key.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/29491a17fa7c7814dcfa4dd2ef33de9ed48d6b1e', 'message': 'Do not log contents of installed keypairs by default\n\nThis could put private key contents into the ansible log which is\nundesireable.\n\nChange-Id: Ic8e548b14e9fac26cf3b5a918479fdf8e0b24c6c\n(cherry picked from commit a0471a3436e937ab60c4da518762d546ccd22a58)\n'}]",1,915016,29491a17fa7c7814dcfa4dd2ef33de9ed48d6b1e,10,3,1,28619,,,0,"Do not log contents of installed keypairs by default

This could put private key contents into the ansible log which is
undesireable.

Change-Id: Ic8e548b14e9fac26cf3b5a918479fdf8e0b24c6c
(cherry picked from commit a0471a3436e937ab60c4da518762d546ccd22a58)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/16/915016/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ssh_keypairs/tasks/standalone/install_ssh_key.yml'],1,29491a17fa7c7814dcfa4dd2ef33de9ed48d6b1e,," no_log: ""{{ ssh_keypairs_no_log | default(True) }}""",,1,0
openstack%2Fovn-octavia-provider~911573,openstack/ovn-octavia-provider,master,I10d98e6086931d98f1b160f722cad2399a937814,[DNM] Testing CI,ABANDONED,2024-03-06 12:37:59.000000000,2024-04-08 15:55:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-06 12:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f6f0801721baa349ded7a1072860e77a729ca6e4', 'message': '[DNM] Testing CI\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 2, 'created': '2024-03-06 14:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/299e2fd6feb88a74d12db61023eb635831d01c70', 'message': '[DNM] Testing CI\n\nRemoving allocation-pools on creating provider network\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 3, 'created': '2024-03-11 13:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ea2321d5d88569323e148f8181ea8589598a1522', 'message': '[DNM] Testing CI\n\nRemoving allocation-pools on creating provider network\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 4, 'created': '2024-03-11 13:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d41a38f41299c091f1a71898ba7a5b69cab5238a', 'message': '[DNM] Testing CI\n\nRemoving allocation-pools on creating provider network\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/912349\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 5, 'created': '2024-03-11 15:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4b216b00ef81ea548aa87bace436043f913577f5', 'message': '[DNM] Testing CI\n\nTesting with patch 912349\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/912349\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 6, 'created': '2024-03-14 08:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2d0c8389fa9f6a35c3ad5ce46dff4baa36951649', 'message': '[DNM] Testing CI\n\nTesting with patch 912349\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/912349\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 7, 'created': '2024-04-04 15:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5a20d32ab516b3f38fdfddd12473ce3e56556b7c', 'message': '[DNM] Testing CI\n\nTesting with patch 912349\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/912349\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 8, 'created': '2024-04-05 14:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1d7c046543c9eb0216a0ff4712ed61d99b2f69ad', 'message': '[DNM] Testing CI\n\nTesting with patch 912349\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/912349\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 9, 'created': '2024-04-05 17:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/789de54a4c005d88e8405486ed50e93f6a31cae1', 'message': '[DNM] Testing CI\n\nTesting with patch 912349\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/912349\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}, {'number': 10, 'created': '2024-04-08 08:24:17.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_integration.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'ovn_octavia_provider/tests/functional/test_agent.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e661ff58768cd301aae568fe6d0e73f0a6797942', 'message': '[DNM] Testing CI\n\nTesting with patch 912349\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/912349\n\nChange-Id: I10d98e6086931d98f1b160f722cad2399a937814\n'}]",5,911573,e661ff58768cd301aae568fe6d0e73f0a6797942,27,1,10,34451,,,0,"[DNM] Testing CI

Testing with patch 912349

Depends-on: https://review.opendev.org/c/openstack/neutron/+/912349

Change-Id: I10d98e6086931d98f1b160f722cad2399a937814
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/73/911573/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f6f0801721baa349ded7a1072860e77a729ca6e4,testdnm,,,1,0
openstack%2Fnova~879021,openstack/nova,master,Ia67123582f42b41e9a2fc124a870c84c684d2aa6,Remove libvirt tunnelled migration,NEW,2023-03-30 06:18:07.000000000,2024-04-08 15:14:05.000000000,,"[{'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-30 06:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bac30c9f5d6cf198c0e00765c87fd524eacf85f9', 'message': 'Remove libvirt tunnelled migration\n\nThis removes the config option and code for supporting\ntunnelled migrations through libvirt that was deprecated\nin Wallaby in favor of the QEMU native TLS support.\n\nChange-Id: Ia67123582f42b41e9a2fc124a870c84c684d2aa6\n'}, {'number': 2, 'created': '2023-03-30 09:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a7ad9657c4f5dbe39064503961e3e8884d9c471', 'message': 'Remove libvirt tunnelled migration\n\nThis removes the config option and code for supporting\ntunnelled migrations through libvirt that was deprecated\nin Wallaby in favor of the QEMU native TLS support.\n\nChange-Id: Ia67123582f42b41e9a2fc124a870c84c684d2aa6\n'}, {'number': 3, 'created': '2024-01-19 13:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a517acb30e292878d9c75711be69aab5a5c66a9e', 'message': 'Remove libvirt tunnelled migration\n\nThis removes the config option and code for supporting\ntunnelled migrations through libvirt that was deprecated\nin Wallaby in favor of the QEMU native TLS support.\n\nChange-Id: Ia67123582f42b41e9a2fc124a870c84c684d2aa6\n'}, {'number': 4, 'created': '2024-01-19 13:36:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/remove-libvirt-tunnelled-migration-a8a440aae18c93a1.yaml', 'nova/conf/libvirt.py', 'doc/source/admin/secure-live-migration-with-qemu-native-tls.rst', 'nova/tests/fixtures/libvirt.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9aff911a084eb706fd195c511c1ed4830b6b30b', 'message': 'Remove libvirt tunnelled migration\n\nThis removes the config option and code for supporting\ntunnelled migrations through libvirt that was deprecated\nin Wallaby in favor of the QEMU native TLS support.\n\nChange-Id: Ia67123582f42b41e9a2fc124a870c84c684d2aa6\n'}]",7,879021,c9aff911a084eb706fd195c511c1ed4830b6b30b,26,5,4,16137,,,0,"Remove libvirt tunnelled migration

This removes the config option and code for supporting
tunnelled migrations through libvirt that was deprecated
in Wallaby in favor of the QEMU native TLS support.

Change-Id: Ia67123582f42b41e9a2fc124a870c84c684d2aa6
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/879021/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/remove-libvirt-tunnelled-migration-a8a440aae18c93a1.yaml', 'nova/conf/libvirt.py', 'nova/tests/fixtures/libvirt.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,bac30c9f5d6cf198c0e00765c87fd524eacf85f9,libvirt-remove-tunnelled-live-migration,," def test_live_migration_tunnelled_true(self): self.flags(live_migration_tunnelled=True, group='libvirt') self._do_test_parse_migration_flags( lm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_LIVE | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_TUNNELLED), bm_expected=(libvirt_driver.libvirt.VIR_MIGRATE_LIVE | libvirt_driver.libvirt.VIR_MIGRATE_PEER2PEER | libvirt_driver.libvirt.VIR_MIGRATE_UNDEFINE_SOURCE | libvirt_driver.libvirt.VIR_MIGRATE_PERSIST_DEST | libvirt_driver.libvirt.VIR_MIGRATE_NON_SHARED_INC | libvirt_driver.libvirt.VIR_MIGRATE_TUNNELLED)) '_is_shared_block_storage', return_value=False) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_check_shared_storage_test_file', return_value=False) def test_check_can_live_migrate_source_bm_with_bdm_tunnelled_error( self, mock_check, mock_shared_block, mock_enough, mock_min_version): self.flags(live_migration_tunnelled=True, group='libvirt') bdi = {'block_device_mapping': ['bdm']} instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) dest_check_data = objects.LibvirtLiveMigrateData( filename='file', image_type='default', block_migration=True, disk_over_commit=False, disk_available_mb=100) drvr._parse_migration_flags() self.assertRaises(exception.MigrationPreCheckError, drvr.check_can_live_migrate_source, self.context, instance, dest_check_data, block_device_info=bdi) @mock.patch.object(host.Host, 'has_min_version', return_value=True) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_assert_dest_node_has_enough_disk') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' def test_block_live_migration_tunnelled_migrateToURI3( self, mock_old_xml, mock_new_xml, mock_migrateToURI3, mock_min_version): self.flags(live_migration_tunnelled=True, group='libvirt') target_connection = None device_names = ['disk1', 'disk2'] # Preparing mocks # Since we are passing the VIR_MIGRATE_TUNNELLED flag, the # 'parms' dict will not (as expected) contain 'migrate_disks' params = { 'bandwidth': CONF.libvirt.live_migration_bandwidth } # Start test migrate_data = objects.LibvirtLiveMigrateData( graphics_listen_addr_vnc='0.0.0.0', graphics_listen_addr_spice='0.0.0.0', serial_listen_addr='127.0.0.1', serial_listen_ports=[1234], target_connect_addr=target_connection, bdms=[], block_migration=True) dom = fakelibvirt.virDomain guest = libvirt_guest.Guest(dom) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._parse_migration_flags() instance = objects.Instance(**self.test_instance) drvr._live_migration_operation(self.context, instance, target_connection, True, migrate_data, guest, device_names) expected_flags = (fakelibvirt.VIR_MIGRATE_UNDEFINE_SOURCE | fakelibvirt.VIR_MIGRATE_PERSIST_DEST | fakelibvirt.VIR_MIGRATE_TUNNELLED | fakelibvirt.VIR_MIGRATE_PEER2PEER | fakelibvirt.VIR_MIGRATE_LIVE) mock_migrateToURI3.assert_called_once_with( drvr._live_migration_uri(target_connection), params=params, flags=expected_flags) @mock.patch.object(host.Host, 'has_min_version', return_value=True) @mock.patch.object(fakelibvirt.virDomain, ""migrateToURI3"") @mock.patch('nova.virt.libvirt.migration.get_updated_guest_xml', return_value='') @mock.patch('nova.virt.libvirt.guest.Guest.get_xml_desc', return_value='') @mock.patch.object(fakelibvirt.Domain, ""XMLDesc"") def test_live_migration_copy_disk_paths_tunnelled(self, mock_xml): self.flags(live_migration_tunnelled=True, group='libvirt') xml = """""" <domain> <name>dummy</name> <uuid>d4e13113-918e-42fe-9fc9-861693ffd432</uuid> <devices> <disk type=""file""> <source file=""/var/lib/nova/instance/123/disk.root""/> <target dev=""vda""/> </disk> <disk type=""file""> <source file=""/var/lib/nova/instance/123/disk.shared""/> <target dev=""vdb""/> <shareable/> </disk> <disk type=""file""> <source file=""/var/lib/nova/instance/123/disk.config""/> <target dev=""vdc""/> <readonly/> </disk> <disk type=""block""> <source dev=""/dev/mapper/somevol""/> <target dev=""vdd""/> </disk> <disk type=""network""> <source protocol=""https"" name=""url_path""> <host name=""hostname"" port=""443""/> </source> </disk> </devices> </domain>"""""" mock_xml.return_value = xml drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._parse_migration_flags() dom = fakelibvirt.Domain(drvr._get_connection(), xml, False) guest = libvirt_guest.Guest(dom) paths = drvr._live_migration_copy_disk_paths(None, None, guest) self.assertEqual(([""/var/lib/nova/instance/123/disk.root"", ""/dev/mapper/somevol""], ['vda', 'vdd']), paths) ",20,273
openstack%2Frelease-test~915281,openstack/release-test,master,I73168cb1b44cc0abc367861b4fe23db94b8109a2,Update master for stable/2024.1,MERGED,2024-04-08 15:06:39.000000000,2024-04-08 15:13:05.000000000,2024-04-08 15:13:05.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 15:06:39.000000000', 'files': ['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/release-test/commit/187d62772eeb8a521ff5c78703125a8f67e37947', 'message': 'Update master for stable/2024.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2024.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2024.1.\n\nSem-Ver: feature\nChange-Id: I73168cb1b44cc0abc367861b4fe23db94b8109a2\n'}]",1,915281,187d62772eeb8a521ff5c78703125a8f67e37947,6,2,1,22816,,,0,"Update master for stable/2024.1

Add file to the reno documentation build to show release notes for
stable/2024.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2024.1.

Sem-Ver: feature
Change-Id: I73168cb1b44cc0abc367861b4fe23db94b8109a2
",git fetch https://review.opendev.org/openstack/release-test refs/changes/81/915281/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst']",2,187d62772eeb8a521ff5c78703125a8f67e37947,reno-2024.1, 2024.1,,7,0
openstack%2Frelease-test~915280,openstack/release-test,stable/2024.1,I7101b17fae9b74848366136867d34c83dce2bd23,Update TOX_CONSTRAINTS_FILE for stable/2024.1,NEW,2024-04-08 15:06:36.000000000,2024-04-08 15:07:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-08 15:06:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/release-test/commit/3bb6e745e210c822a3e7cf04ebab61e339229f37', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2024.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2024.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7101b17fae9b74848366136867d34c83dce2bd23\n'}]",0,915280,3bb6e745e210c822a3e7cf04ebab61e339229f37,2,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2024.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2024.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7101b17fae9b74848366136867d34c83dce2bd23
",git fetch https://review.opendev.org/openstack/release-test refs/changes/80/915280/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3bb6e745e210c822a3e7cf04ebab61e339229f37,create-2024.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Frelease-test~915279,openstack/release-test,stable/2024.1,Ica04f8d21734484caaa12d56d41028f50431ffc2,Update .gitreview for stable/2024.1,NEW,2024-04-08 15:06:33.000000000,2024-04-08 15:07:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-08 15:06:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/release-test/commit/93a952c9b3f823f92af21650a9d2aff63d3b582d', 'message': 'Update .gitreview for stable/2024.1\n\nChange-Id: Ica04f8d21734484caaa12d56d41028f50431ffc2\n'}]",0,915279,93a952c9b3f823f92af21650a9d2aff63d3b582d,2,1,1,22816,,,0,"Update .gitreview for stable/2024.1

Change-Id: Ica04f8d21734484caaa12d56d41028f50431ffc2
",git fetch https://review.opendev.org/openstack/release-test refs/changes/79/915279/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,93a952c9b3f823f92af21650a9d2aff63d3b582d,create-2024.1,defaultbranch=stable/2024.1,,1,0
openstack%2Freleases~915278,openstack/releases,master,Ic1e0b4074b713159dd7e7fbd6b8dad6711a55c48,Release release-test to test the new signing key,MERGED,2024-04-08 14:45:58.000000000,2024-04-08 15:02:37.000000000,2024-04-08 15:02:37.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 14:45:58.000000000', 'files': ['deliverables/caracal/release-test.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b18a33ba0aff5555b42e68bb87bf35e0e994b15', 'message': 'Release release-test to test the new signing key\n\nChange-Id: Ic1e0b4074b713159dd7e7fbd6b8dad6711a55c48\n'}]",1,915278,6b18a33ba0aff5555b42e68bb87bf35e0e994b15,7,2,1,17685,,,0,"Release release-test to test the new signing key

Change-Id: Ic1e0b4074b713159dd7e7fbd6b8dad6711a55c48
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/915278/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/caracal/release-test.yaml'],1,6b18a33ba0aff5555b42e68bb87bf35e0e994b15,,releases: - version: 6.0.0 projects: - repo: openstack/release-test hash: c0e02a64085a71af6d025316973795edb77e75c5 branches: - name: stable/2024.1 location: 6.0.0,,8,0
openstack%2Fbarbican~914747,openstack/barbican,master,I8743457aab9f0ce4982fcb9255dc86050b791308,Use explicit default instead of implicit fallback,MERGED,2024-03-29 07:50:54.000000000,2024-04-08 14:54:03.000000000,2024-04-08 14:53:02.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-03-29 07:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b0c232b5e9886c63e23ba93f6259df15f7c6ab03', 'message': 'Explicitly default default instead of implicit fallback\n\n[p11_crypto_plugin] mkek_length has no defaults but the logic uses\nimplicit default value (32) internally.\n\nChange-Id: I8743457aab9f0ce4982fcb9255dc86050b791308\n'}, {'number': 2, 'created': '2024-03-29 14:03:50.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'barbican/cmd/barbican_manage.py', 'doc/source/install/barbican-backend.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ca57ef5436e20e90cf6cd6853efe3c89a9afd986', 'message': 'Use explicit default instead of implicit fallback\n\n[p11_crypto_plugin] mkek_length has no default but the logic uses\nimplicit default value (32) internally.\n\nChange-Id: I8743457aab9f0ce4982fcb9255dc86050b791308\n'}]",0,914747,ca57ef5436e20e90cf6cd6853efe3c89a9afd986,11,6,2,9816,,,0,"Use explicit default instead of implicit fallback

[p11_crypto_plugin] mkek_length has no default but the logic uses
implicit default value (32) internally.

Change-Id: I8743457aab9f0ce4982fcb9255dc86050b791308
",git fetch https://review.opendev.org/openstack/barbican refs/changes/47/914747/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'barbican/cmd/barbican_manage.py', 'doc/source/install/barbican-backend.rst']",3,b0c232b5e9886c63e23ba93f6259df15f7c6ab03,, #mkek_length = 32, #mkek_length = <None>,4,2
openstack%2Fansible-collections-openstack~907301,openstack/ansible-collections-openstack,master,I1163ba34ac3079f76dd0b7477a80a2135985a650,fix: subnet module: allow cidr option with subnet_pool,MERGED,2024-01-31 10:27:26.000000000,2024-04-08 14:40:10.000000000,2024-04-08 14:40:10.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32962}]","[{'number': 1, 'created': '2024-01-31 10:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c347ef7604575ba82be83daaa174e8f020c3340c', 'message': 'fix: subnet module: allow cidr option with subnet_pool\n\nSpecifying CIDR during creation of subnet from subnet pool is avalid\noperation.\n\nFollowing code should be valid:\n\n    - name: Create subnet\n      openstack.cloud.subnet:\n        name: ""subnet_name""\n        network: ""some_network""\n        gateway_ip: ""192.168.0.1""\n        allocation_pool_start: ""192.168.0.2""\n        allocation_pool_end: ""192.168.0.254""\n        cidr: ""192.168.0.0/24""\n        ip_version: 4\n        subnet_pool: ""192.168.0.0/24""\n\nChange-Id: I1163ba34ac3079f76dd0b7477a80a2135985a650\n'}, {'number': 2, 'created': '2024-02-07 15:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d1d801703029139579c5a379e62a982b97638e8a', 'message': 'fix: subnet module: allow cidr option with subnet_pool\n\nSpecifying CIDR during creation of subnet from subnet pool is avalid\noperation.\n\nFollowing code should be valid:\n\n    - name: Create subnet\n      openstack.cloud.subnet:\n        name: ""subnet_name""\n        network: ""some_network""\n        gateway_ip: ""192.168.0.1""\n        allocation_pool_start: ""192.168.0.2""\n        allocation_pool_end: ""192.168.0.254""\n        cidr: ""192.168.0.0/24""\n        ip_version: 4\n        subnet_pool: ""192.168.0.0/24""\n\nThis scenario is shown in subnet-pool.yaml test in test role.\n\nChange-Id: I1163ba34ac3079f76dd0b7477a80a2135985a650\n'}, {'number': 3, 'created': '2024-04-02 15:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d67adcce83972c48a3cd79923042428803cca63f', 'message': 'fix: subnet module: allow cidr option with subnet_pool\n\nSpecifying CIDR during creation of subnet from subnet pool is a avalid\noperation.\n\nFollowing code should be valid:\n\n    - name: Create subnet\n      openstack.cloud.subnet:\n        name: ""subnet_name""\n        network: ""some_network""\n        gateway_ip: ""192.168.0.1""\n        allocation_pool_start: ""192.168.0.2""\n        allocation_pool_end: ""192.168.0.254""\n        cidr: ""192.168.0.0/24""\n        ip_version: 4\n        subnet_pool: ""192.168.0.0/24""\n\nThis scenario is added as a subnet-pool.yaml test in the test role.\n\nChange-Id: I1163ba34ac3079f76dd0b7477a80a2135985a650\n'}, {'number': 4, 'created': '2024-04-05 09:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/caaf75a4b3b759e8acfe158aeadc33b709d7fbf2', 'message': 'fix: subnet module: allow cidr option with subnet_pool\n\nSpecifying CIDR during creation of subnet from subnet pool is a valid\noperation. Moreover, if case of use of subnet pool with multiple\nsubnets, cidr is mandatory paramter for creating subnet.\n\nFollowing code should be valid:\n\n    - name: Create subnet\n      openstack.cloud.subnet:\n        name: ""subnet_name""\n        network: ""some_network""\n        gateway_ip: ""192.168.0.1""\n        allocation_pool_start: ""192.168.0.2""\n        allocation_pool_end: ""192.168.0.254""\n        cidr: ""192.168.0.0/24""\n        ip_version: 4\n        subnet_pool: ""192.168.0.0/24""\n\nThis scenario is added as a subnet-pool.yaml test in the test role.\n\nChange-Id: I1163ba34ac3079f76dd0b7477a80a2135985a650\n'}, {'number': 5, 'created': '2024-04-05 09:30:52.000000000', 'files': ['ci/roles/subnet/tasks/main.yml', 'plugins/modules/subnet.py', 'ci/roles/subnet/tasks/subnet-pool.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e0139fe9406a3cb63b3f5fd1fb7f499f7b3bc11c', 'message': 'fix: subnet module: allow cidr option with subnet_pool\n\nSpecifying CIDR during creation of subnet from subnet pool is a valid\noperation. Moreover, in case of use of a subnet pool with multiple\nsubnets, cidr is a mandatory paramter for creating subnet.\n\nFollowing code should be valid:\n\n    - name: Create subnet\n      openstack.cloud.subnet:\n        name: ""subnet_name""\n        network: ""some_network""\n        gateway_ip: ""192.168.0.1""\n        allocation_pool_start: ""192.168.0.2""\n        allocation_pool_end: ""192.168.0.254""\n        cidr: ""192.168.0.0/24""\n        ip_version: 4\n        subnet_pool: ""192.168.0.0/24""\n\nThis scenario is added as a subnet-pool.yaml test in the test role.\n\nChange-Id: I1163ba34ac3079f76dd0b7477a80a2135985a650\n'}]",11,907301,e0139fe9406a3cb63b3f5fd1fb7f499f7b3bc11c,32,4,5,11227,,,0,"fix: subnet module: allow cidr option with subnet_pool

Specifying CIDR during creation of subnet from subnet pool is a valid
operation. Moreover, in case of use of a subnet pool with multiple
subnets, cidr is a mandatory paramter for creating subnet.

Following code should be valid:

    - name: Create subnet
      openstack.cloud.subnet:
        name: ""subnet_name""
        network: ""some_network""
        gateway_ip: ""192.168.0.1""
        allocation_pool_start: ""192.168.0.2""
        allocation_pool_end: ""192.168.0.254""
        cidr: ""192.168.0.0/24""
        ip_version: 4
        subnet_pool: ""192.168.0.0/24""

This scenario is added as a subnet-pool.yaml test in the test role.

Change-Id: I1163ba34ac3079f76dd0b7477a80a2135985a650
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/01/907301/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/subnet.py'],1,c347ef7604575ba82be83daaa174e8f020c3340c,allow_cidr_for_subnet_pools," ('use_default_subnet_pool', 'subnet_pool')"," ('cidr', 'use_default_subnet_pool', 'subnet_pool')",1,1
openstack%2Fkolla-ansible~755775,openstack/kolla-ansible,master,Iedd7188d8ac79890a0667e38bbf65f35804ac636,Use native fluent-logger instead of tail,ABANDONED,2020-10-02 11:49:15.000000000,2024-04-08 14:33:26.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 32657}, {'_account_id': 34579}]","[{'number': 1, 'created': '2020-10-02 11:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62e9a02e3c45e80f077291882d595432bb595970', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 2, 'created': '2020-10-02 13:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f64cde9f5738a4176ebe231b415d8c7fee3fe730', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 3, 'created': '2020-10-03 10:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3a5046ca1ee43a2d8828a0228bcf982c9f9b89e', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 4, 'created': '2020-10-15 10:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07f3b51a5bda00f230a4412fd9494c0f0389dd81', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 5, 'created': '2020-10-22 11:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15f4084b0c63b19d1cea97d5ccdcccc65b1edf1c', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 6, 'created': '2020-10-26 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea94a8d93d59bf71f601e9c4b77fb503c160835f', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 7, 'created': '2020-10-27 13:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff38318271235224d90ea3ceeb58bb3aff1dfc76', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 8, 'created': '2021-04-11 08:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6e8155040d7cd7cbed8d27b23bf32ac9496d4e8', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 9, 'created': '2021-08-02 19:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98aded4375af2bb3c6f22b4a881cef7c859bef4b', 'message': 'Use native fluent-logger instead of tail - Fluent central_logging\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to input_forward\nand using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 10, 'created': '2021-08-02 19:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/936536d4a2e5a0f87e733594d66fb9a1bb7d1170', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 11, 'created': '2021-08-02 20:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0f21dcc28d47a411bac88ea00847a18c7e9cf5fb', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 12, 'created': '2021-08-02 21:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b460bdd09474aacfabd94b56ed4c10b29a0076fc', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 13, 'created': '2021-08-05 15:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fb13c7848cec5c44a41d5587b28b2a3ae14107e', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 14, 'created': '2021-08-05 15:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e52349f01d405208710da1dfc177caf2f8367b7', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 15, 'created': '2021-09-16 11:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3cb06e152eb4e88728609897c462d4f6f27be159', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 16, 'created': '2021-10-01 14:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/27a6bcbd22612b046b8131d80f278568a7328d1c', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 17, 'created': '2022-01-11 14:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73eb5bf412b2ad84cec2760f3047da8d35105896', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 18, 'created': '2022-04-21 16:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76e86a00244766eb45a614edaa0a0434d4d6941f', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 19, 'created': '2022-04-21 16:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8a5f1f33d094a4ee11a7d9a8fa87e73538b94e0', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 20, 'created': '2022-06-13 17:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07932d1663b233d70bb16e3722cef977d017b5af', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}, {'number': 21, 'created': '2022-09-08 15:40:14.000000000', 'files': ['ansible/roles/neutron/templates/neutron-openvswitch-agent-xenapi.json.j2', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2', 'ansible/roles/neutron/templates/neutron-bgp-dragent.json.j2', 'ansible/roles/nova-cell/templates/nova-novncproxy.json.j2', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/gnocchi/templates/gnocchi-statsd.json.j2', 'ansible/roles/aodh/templates/aodh-api.json.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/monasca/templates/monasca-notification/monasca-notification.json.j2', 'ansible/roles/neutron/templates/neutron-server.json.j2', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/cinder/templates/cinder-volume.json.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/neutron/templates/neutron-openvswitch-agent.json.j2', 'ansible/roles/gnocchi/tasks/config.yml', 'ansible/roles/octavia/templates/octavia-api.json.j2', 'ansible/roles/trove/templates/trove-conductor.json.j2', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/sahara/templates/sahara-api.json.j2', 'ansible/roles/masakari/templates/masakari-engine.json.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/designate/templates/designate-central.json.j2', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/nova/templates/nova-super-conductor.json.j2', 'ansible/roles/octavia/templates/octavia-housekeeping.json.j2', 'ansible/roles/murano/templates/murano-api.json.j2', 'ansible/roles/neutron/templates/neutron-metadata-agent.json.j2', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/cinder/templates/cinder-scheduler.json.j2', 'ansible/roles/designate/templates/designate-producer.json.j2', 'ansible/roles/watcher/templates/watcher-api.json.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/watcher/templates/watcher-engine.json.j2', 'ansible/roles/ironic/templates/ironic-conductor.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/ceilometer/templates/ceilometer-compute.json.j2', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/neutron/templates/neutron-infoblox-ipam-agent.json.j2', 'ansible/roles/ceilometer/templates/ceilometer-notification.json.j2', 'ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/placement/templates/placement-api.json.j2', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'ansible/roles/senlin/templates/senlin-engine.json.j2', 'ansible/roles/watcher/templates/watcher-applier.json.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi-metricd.json.j2', 'etc/kolla/globals.yml', 'ansible/roles/central-logging/tasks/main.yml', 'ansible/roles/magnum/templates/magnum-api.json.j2', 'ansible/roles/freezer/templates/freezer-scheduler.json.j2', 'ansible/roles/mistral/templates/mistral-engine.json.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/vitrage/templates/vitrage-graph.json.j2', 'ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin-api.json.j2', 'ansible/roles/octavia/templates/octavia-health-manager.json.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/solum/templates/solum-deployer.json.j2', 'ansible/roles/zun/templates/zun-api.json.j2', 'ansible/roles/cyborg/templates/cyborg-conductor.json.j2', 'ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/heat/templates/heat-api.json.j2', 'ansible/roles/mistral/templates/mistral-event-engine.json.j2', 'ansible/roles/senlin/templates/senlin-health-manager.json.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/monasca/templates/monasca-api/monasca-api.json.j2', 'ansible/roles/neutron/templates/neutron-l3-agent.json.j2', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/neutron/templates/ironic-neutron-agent.json.j2', 'ansible/roles/designate/templates/designate-mdns.json.j2', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova-compute-ironic.json.j2', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/designate/templates/designate-api.json.j2', 'ansible/roles/nova-cell/tasks/config.yml', 'ansible/roles/barbican/templates/barbican-worker.json.j2', 'ansible/roles/nova/templates/nova-api.json.j2', 'ansible/roles/cinder/templates/cinder-api.json.j2', 'ansible/roles/glance/templates/glance-cache.conf.j2', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/freezer/tasks/config.yml', 'ansible/roles/cyborg/templates/cyborg-api.json.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/manila/templates/manila-share.json.j2', 'ansible/roles/trove/templates/trove-api.json.j2', 'ansible/roles/vitrage/templates/vitrage-ml.json.j2', 'ansible/roles/vitrage/templates/vitrage-notifier.json.j2', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/central-logging/defaults/main.yml', 'ansible/roles/neutron/templates/neutron-linuxbridge-agent.json.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer-ipmi.json.j2', 'ansible/roles/central-logging/templates/logging.conf.j2', 'ansible/roles/senlin/templates/senlin-conductor.json.j2', 'ansible/roles/solum/templates/solum-api.json.j2', 'ansible/roles/keystone/templates/keystone-fernet.json.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/vitrage/templates/vitrage-persistor.json.j2', 'ansible/roles/kuryr/templates/kuryr.json.j2', 'ansible/roles/aodh/templates/aodh-notifier.json.j2', 'ansible/roles/solum/templates/solum-worker.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/roles/manila/templates/manila-scheduler.json.j2', 'ansible/roles/nova-cell/templates/nova-serialproxy.json.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/barbican/templates/barbican-api.json.j2', 'ansible/roles/manila/templates/manila-data.json.j2', 'ansible/roles/cloudkitty/templates/cloudkitty-processor.json.j2', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'ansible/roles/designate/templates/designate-sink.json.j2', 'ansible/roles/neutron/templates/neutron-dhcp-agent.json.j2', 'ansible/roles/mistral/templates/mistral-executor.json.j2', 'ansible/roles/tacker/templates/tacker-server.json.j2', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/freezer/templates/freezer-api.json.j2', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/aodh/templates/aodh-evaluator.json.j2', 'ansible/roles/zun/templates/zun-wsproxy.json.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/masakari/templates/masakari-api.json.j2', 'ansible/roles/neutron/templates/neutron-metering-agent.json.j2', 'ansible/roles/nova/templates/nova-scheduler.json.j2', 'ansible/roles/designate/templates/designate-worker.json.j2', 'ansible/roles/barbican/templates/barbican-keystone-listener.json.j2', 'ansible/roles/neutron/templates/neutron-mlnx-agent.json.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'ansible/roles/ceilometer/templates/ceilometer-central.json.j2', 'ansible/roles/monasca/templates/monasca-persister/monasca-persister.json.j2', 'ansible/roles/neutron/templates/neutron-eswitchd.json.j2', 'ansible/roles/octavia/templates/octavia-worker.json.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/monasca/templates/monasca-persister/persister.conf.j2', 'ansible/roles/murano/templates/murano-engine.json.j2', 'ansible/roles/vitrage/templates/vitrage-api.json.j2', 'ansible/roles/ironic/templates/ironic-inspector.json.j2', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/manila/templates/manila-api.json.j2', 'ansible/roles/blazar/templates/blazar-manager.json.j2', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/cyborg/templates/cyborg-agent.json.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/monasca/templates/monasca-notification/notification.conf.j2', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/aodh/templates/aodh-listener.json.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/magnum/templates/magnum-conductor.json.j2', 'ansible/roles/mistral/templates/mistral-api.json.j2', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova-spicehtml5proxy.json.j2', 'ansible/roles/sahara/templates/sahara-engine.json.j2', 'ansible/roles/blazar/templates/blazar-api.json.j2', 'ansible/roles/cloudkitty/templates/cloudkitty-api.json.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/ironic/templates/ironic-api.json.j2', 'ansible/roles/neutron/templates/neutron-sriov-agent.json.j2', 'ansible/roles/solum/templates/solum-conductor.json.j2', 'ansible/roles/heat/templates/heat-engine.json.j2', 'ansible/roles/zun/templates/zun-cni-daemon.json.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/heat/templates/heat-api-cfn.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d55b59116ddfc8c9d1bfa0bed67f021f3e1eaed', 'message': 'Use native fluent-logger instead of tail\n\nKolla-ansible deployment currently using tail\ninput plugin when central_logging is turned on.\n\nThis patch is switching from tail plugin to\ninput_forward and using native fluent-logger.\n\nDepends-On: https://review.opendev.org/759855\nChange-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636\n'}]",19,755775,9d55b59116ddfc8c9d1bfa0bed67f021f3e1eaed,85,8,21,27339,,,0,"Use native fluent-logger instead of tail

Kolla-ansible deployment currently using tail
input plugin when central_logging is turned on.

This patch is switching from tail plugin to
input_forward and using native fluent-logger.

Depends-On: https://review.opendev.org/759855
Change-Id: Iedd7188d8ac79890a0667e38bbf65f35804ac636
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/755775/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron-openvswitch-agent-xenapi.json.j2', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2', 'ansible/roles/neutron/templates/neutron-bgp-dragent.json.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2', 'ansible/roles/nova-cell/templates/nova-novncproxy.json.j2', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/gnocchi/templates/gnocchi-statsd.json.j2', 'ansible/roles/aodh/templates/aodh-api.json.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/karbor/templates/karbor-api.json.j2', 'ansible/roles/monasca/templates/monasca-notification/monasca-notification.json.j2', 'ansible/roles/neutron/templates/neutron-server.json.j2', 'ansible/roles/searchlight/templates/searchlight-listener.json.j2', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/cinder/templates/cinder-volume.json.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/neutron/templates/neutron-openvswitch-agent.json.j2', 'ansible/roles/gnocchi/tasks/config.yml', 'ansible/roles/octavia/templates/octavia-api.json.j2', 'ansible/roles/trove/templates/trove-conductor.json.j2', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/sahara/templates/sahara-api.json.j2', 'ansible/roles/masakari/templates/masakari-engine.json.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/panko/templates/panko-api.json.j2', 'ansible/roles/designate/templates/designate-central.json.j2', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/nova/templates/nova-super-conductor.json.j2', 'ansible/roles/octavia/templates/octavia-housekeeping.json.j2', 'ansible/roles/karbor/templates/karbor.conf.j2', 'ansible/roles/karbor/tasks/config.yml', 'ansible/roles/murano/templates/murano-api.json.j2', 'ansible/roles/neutron/templates/neutron-metadata-agent.json.j2', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/cinder/templates/cinder-scheduler.json.j2', 'ansible/roles/designate/templates/designate-producer.json.j2', 'ansible/roles/watcher/templates/watcher-api.json.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/watcher/templates/watcher-engine.json.j2', 'ansible/roles/ironic/templates/ironic-conductor.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/ceilometer/templates/ceilometer-compute.json.j2', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/neutron/templates/neutron-infoblox-ipam-agent.json.j2', 'ansible/roles/ceilometer/templates/ceilometer-notification.json.j2', 'ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/site.yml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'ansible/roles/senlin/templates/senlin-engine.json.j2', 'ansible/roles/watcher/templates/watcher-applier.json.j2', 'ansible/roles/qinling/templates/qinling.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi-metricd.json.j2', 'ansible/roles/central-logging/tasks/main.yml', 'ansible/roles/magnum/templates/magnum-api.json.j2', 'ansible/roles/freezer/templates/freezer-scheduler.json.j2', 'ansible/roles/mistral/templates/mistral-engine.json.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/vitrage/templates/vitrage-graph.json.j2', 'ansible/roles/neutron/templates/neutron-ovn-metadata-agent.json.j2', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin-api.json.j2', 'ansible/roles/octavia/templates/octavia-health-manager.json.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/solum/templates/solum-deployer.json.j2', 'ansible/roles/searchlight/templates/searchlight.conf.j2', 'ansible/roles/zun/templates/zun-api.json.j2', 'ansible/roles/cyborg/templates/cyborg-conductor.json.j2', 'ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/heat/templates/heat-api.json.j2', 'ansible/roles/mistral/templates/mistral-event-engine.json.j2', 'ansible/roles/senlin/templates/senlin-health-manager.json.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/monasca/templates/monasca-api/monasca-api.json.j2', 'ansible/roles/rally/templates/rally.conf.j2', 'ansible/roles/neutron/templates/neutron-l3-agent.json.j2', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/searchlight/templates/searchlight-api.json.j2', 'ansible/roles/neutron/templates/ironic-neutron-agent.json.j2', 'ansible/roles/designate/templates/designate-mdns.json.j2', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova-compute-ironic.json.j2', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/designate/templates/designate-api.json.j2', 'ansible/roles/nova-cell/tasks/config.yml', 'ansible/roles/barbican/templates/barbican-worker.json.j2', 'ansible/roles/nova/templates/nova-api.json.j2', 'ansible/roles/cinder/templates/cinder-api.json.j2', 'ansible/roles/glance/templates/glance-cache.conf.j2', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/freezer/tasks/config.yml', 'ansible/roles/cyborg/templates/cyborg-api.json.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/manila/templates/manila-share.json.j2', 'ansible/roles/trove/templates/trove-api.json.j2', 'ansible/roles/vitrage/templates/vitrage-ml.json.j2', 'ansible/roles/vitrage/templates/vitrage-notifier.json.j2', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/central-logging/defaults/main.yml', 'ansible/roles/neutron/templates/neutron-linuxbridge-agent.json.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer-ipmi.json.j2', 'ansible/roles/central-logging/templates/logging.conf.j2', 'ansible/roles/senlin/templates/senlin-conductor.json.j2', 'ansible/roles/solum/templates/solum-api.json.j2', 'ansible/roles/keystone/templates/keystone-fernet.json.j2', 'doc/source/reference/logging-and-monitoring/index.rst', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/vitrage/templates/vitrage-persistor.json.j2', 'ansible/roles/karbor/templates/karbor-protection.json.j2', 'ansible/roles/kuryr/templates/kuryr.json.j2', 'ansible/roles/aodh/templates/aodh-notifier.json.j2', 'ansible/roles/solum/templates/solum-worker.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/roles/qinling/tasks/config.yml', 'ansible/roles/qinling/templates/qinling-engine.json.j2', 'ansible/roles/manila/templates/manila-scheduler.json.j2', 'ansible/roles/nova-cell/templates/nova-serialproxy.json.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/barbican/templates/barbican-api.json.j2', 'ansible/roles/manila/templates/manila-data.json.j2', 'ansible/roles/cloudkitty/templates/cloudkitty-processor.json.j2', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/common/tasks/loadbalancer.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'ansible/roles/designate/templates/designate-sink.json.j2', 'ansible/roles/karbor/templates/karbor-operationengine.json.j2', 'ansible/roles/neutron/templates/neutron-dhcp-agent.json.j2', 'ansible/roles/mistral/templates/mistral-executor.json.j2', 'ansible/roles/tacker/templates/tacker-server.json.j2', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/freezer/templates/freezer-api.json.j2', 'ansible/roles/searchlight/tasks/config.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/aodh/templates/aodh-evaluator.json.j2', 'ansible/roles/zun/templates/zun-wsproxy.json.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/masakari/templates/masakari-api.json.j2', 'ansible/roles/neutron/templates/neutron-metering-agent.json.j2', 'ansible/roles/nova/templates/nova-scheduler.json.j2', 'ansible/roles/designate/templates/designate-worker.json.j2', 'ansible/roles/barbican/templates/barbican-keystone-listener.json.j2', 'ansible/roles/neutron/templates/neutron-mlnx-agent.json.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer-central.json.j2', 'ansible/roles/monasca/templates/monasca-persister/monasca-persister.json.j2', 'ansible/roles/neutron/templates/neutron-eswitchd.json.j2', 'ansible/roles/octavia/templates/octavia-worker.json.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/monasca/templates/monasca-persister/persister.conf.j2', 'ansible/roles/murano/templates/murano-engine.json.j2', 'ansible/roles/vitrage/templates/vitrage-api.json.j2', 'ansible/roles/ironic/templates/ironic-inspector.json.j2', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/manila/templates/manila-api.json.j2', 'ansible/roles/blazar/templates/blazar-manager.json.j2', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/cyborg/templates/cyborg-agent.json.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/monasca/templates/monasca-notification/notification.conf.j2', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/aodh/templates/aodh-listener.json.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/rally/templates/rally.json.j2', 'ansible/roles/magnum/templates/magnum-conductor.json.j2', 'ansible/roles/mistral/templates/mistral-api.json.j2', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/nova-cell/templates/nova-spicehtml5proxy.json.j2', 'ansible/roles/sahara/templates/sahara-engine.json.j2', 'ansible/roles/blazar/templates/blazar-api.json.j2', 'ansible/roles/cloudkitty/templates/cloudkitty-api.json.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/qinling/templates/qinling-api.json.j2', 'ansible/roles/ironic/templates/ironic-api.json.j2', 'ansible/roles/neutron/templates/neutron-sriov-agent.json.j2', 'ansible/roles/solum/templates/solum-conductor.json.j2', 'ansible/roles/heat/templates/heat-engine.json.j2', 'ansible/roles/zun/templates/zun-cni-daemon.json.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/heat/templates/heat-api-cfn.json.j2']",221,62e9a02e3c45e80f077291882d595432bb595970,fluent-central-logging," }{% endif %}{% if enable_central_logging | bool %}, { ""source"": ""{{ container_config_directory }}/logging.conf"", ""dest"": ""/etc/heat/logging.conf"", ""owner"": ""heat"", ""perm"": ""0600""",,1492,136
openstack%2Fproject-config~913274,openstack/project-config,master,I45855aefb1f10e54cfc2a1fd1aeef1a96364b77a,Replace 2024.1/Caracal key with 2024.2/Dalmatian,MERGED,2024-03-14 21:59:50.000000000,2024-04-08 14:19:04.000000000,2024-04-08 14:19:04.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 21:59:50.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e1df180235c2a8873aa061db5a7dd985850cf859', 'message': 'Replace 2024.1/Caracal key with 2024.2/Dalmatian\n\nThis is a zuul-encrypted export of the signing subkey for the\nOpenStack 2024.2/Dalmatian release cycle:\n0xf8675126e2411e7748dd46662fc2093e4682645f\n\nThis was created using the instructions from our documentation:\nhttps://docs.opendev.org/opendev/system-config/latest/signing.html\n\nChange-Id: I45855aefb1f10e54cfc2a1fd1aeef1a96364b77a\nDepends-On: https://review.opendev.org/913273\n'}]",0,913274,e1df180235c2a8873aa061db5a7dd985850cf859,11,3,1,5263,,,0,"Replace 2024.1/Caracal key with 2024.2/Dalmatian

This is a zuul-encrypted export of the signing subkey for the
OpenStack 2024.2/Dalmatian release cycle:
0xf8675126e2411e7748dd46662fc2093e4682645f

This was created using the instructions from our documentation:
https://docs.opendev.org/opendev/system-config/latest/signing.html

Change-Id: I45855aefb1f10e54cfc2a1fd1aeef1a96364b77a
Depends-On: https://review.opendev.org/913273
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/913274/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,e1df180235c2a8873aa061db5a7dd985850cf859,artifact-signing, - W2iQUF0pqZx21zQyCoY4V6QH0X/Q98xQASmmKOGHSj++WYaLUUwhes4MD+Iwv59I2LLgA w7UFxbn6zKTBxvlk6gqwudWJCvKEakeQYE00fHo8Mvo8LjL4jcNsR2uWf+hxHHANlcCSv aJv7Diq2VQx5ezANB1q2TBtgIbdgpZQ1G6neIH4ikvCKLk7RQ50u+VWDuK+FFKIwJ2oP4 1U3zpvoagNAjUSCHYkGe2KNW4nLbxZX1+sgbbnIwV55uLcx5QJyFSWNlvBHPe0WPcczKn Mi8qxkaX1/HkQmG92+aq3Bl3yGA8ubfSDvq51KzQ/SwCScdvTFFKUyOcRiTJzz40FZsfE LG1rf4YSffQQ6SMdHJfuKaTFmVPkKOJIx1UWx1RNUM4LSU3ZeF4g9/DC3cbzY7eMpA8Rl moY3RHMHnIFF+IpgHdDKjJO64M4GoDZ/jnUWHhvWb393U5YIUqk4V7iF4GgkUWMJPmccw OESNxZ7zKeh5G41mUBAUUtQUxirpBDYM/C5fJcUFh6VQApQE4y6YQDP//6FqESRzjGZdd OORfXGPseCmhZb2JZKCVs01nJPVk0CQslbahJ1KAbw1t3hPA1w6fkxYKob8O03PUR2X/X m75f9dhMhq+U55TPM9irKhV7rDVnr1i9fUiwN69bKOwetylpR1HI0n7A2FoYqw= - OKvH8675txqeCri3JjZ1mjJaJlGmto8H+H2i+f7gHcLAKD0fcLI6bpoflesaLMmNkVZ5J +wowtSCxUrkBv/tYoe0i+y8JIot6dcERP2hMHALtkUdReXCW3EELJYwqK/mC+eN0iL1Wz C4pbk2X1nxQR4sYINCydw/oq7FCKNs1C9YscltVC1Fx5FzmOsRi7+/dp8FOp5hYK2B0OW /zlxiuUBEXou/4eIIJIqeuLqijVNm1tJmeyufUxYDBr2z8nsNjjq3AJhld8QMFIv51Iww Mv9wcwe7SD8HY8SI7aIv5VbqAGRQtKSqqYj4w25PMwC/pa8LFBw5URwgrv56DXvXNAONf gCh2jMg7anLc0nQ2CbCo/6vyxk24ZaTgiUxSRmMxml5kNQmgpCAk7BoNgPsm9lqqR84rU zM3Qe1lnHQkBJLu4z1Ota0FPv2pIuqBh+75AVJ5yBhGrD3xeBVMNHz64qbzOVuK2gyWkW EQNBLzLrIRyk19nApLWoWcxzHx4AAWf+2jEM3V0RWeEPxNTRAWCEexkw5u9gNmeRNuAET fWAWPnxKzmpQv0PwB8PZ25MDsd8yyhqTDwdZRx5BtcaPLIOtWLeAGXahr5gvxeDzBB4ge XDleuPKdAXzRaFLTDMrPhD/M3lxS4UwZgSrd5a4L6/q0Ejn32Yvb70uypxVarQ= - E0yBvEUFkC8IKEv+xLaVYOR0CqQweEQKfsnB0EFzzFoOX2mcs0CLMDJ7k/TIXNVWvB79e wPSaQwdLWT3zOE+WPROFfUzkiAKdBZY4T813WW/qc0z6iQiuUjxfSrULxgQQIXGCx8FU2 +1arb7VSm15SAOP7jIKCu7r22yZpw2BwFQRX98mogfpreGRr95ogn9zEg4vj7Drik6IxH NklFaOaMJxnE0RQ7jSjuQ2r4l7IK0C6uREVkEYJqAtUBUEnNUi2uNR/EvW1c0HRGwQ3xV dMiN+ZWMrWqLtaoRiw68SCPaU9czaJXX697dOLLrBvFaoJMyUkg8R0WtnpezDsbHJm9sp W9yXROqd05FLhAMmlcixCpEo2/ZoKlfN/8ykd+QVCFHOKw1gnA/3KYCf7iLi1buLeztk6 +KoaCMRPH0R/vQTu/PiaJoDJOKzYD9eGZK71ECNP8W+7QAXmQcTXKd49Phy0VgrsKLysd tugbud+w3RtcAgHHp1k40vc5xLftMj3nFU+yux7WoSs4XsK35WMW0Imd3IrDe87JB5Xse llpVF9v2L5pNEhCu4PcyaWr+5fMxYsTra2RBKWzMxAF7kEJKBz1bxzEzhiv3xnahnCVa5 OxkyNYSREtY1iHdCXBljD7vfQF/1yP4HJnHN90g0CnhPPoW5unwU7HNeDe21Uw=, - xT9Vn3jyZDH2BSUX7YqVpDwUxYDYxLU2jzMC+Mc1EvvxLpQVNXGX8vpGged9v/+O3Omnl WZF6izkWXjVJ+LfKR1sHXMmGV/V1vmLnxbIRqzkcCuYMHamyBtT4XCANQFoGsERy0MjNr MrCwKXYtG1TW8CBABsfW0tSozk+jfxErgUo7GfL/1SG3S3ZlxrfkHMPNOq/JHFdpksOYy +e3R9/AX/+0h7G7QFowDQCa5HsniYA+J+VjmhFf2d8wh6TjWN30cugPSGy7MD1Tg3vNii 4shrYI36bhcRIMyuUSV8HGtanw2BTK1wJz9uBGMvmxwV6z8NSzShrmPy/pB25r3Nvgtmg sF6Lmm/SKXQmkqyqc5m1uIlPrIsZiJ1aDMYl++RMM+XgatomBi+N59bNB50Ue8ww4ypmv 3J2veExzEnxQtKir16m5YzP/f/R8eHnyTAzITO2D3CEPs6sS9XyxC2guoGKfpNJ19yx+E YQBXjmjZoHw61133rg1TCBpGem3ecpUWqeXZ4+QnzS6z9fn7r9/mUo6XIJzS9DtnZfWA7 I4ZCUATvv4KxKxGT8O7tNaX54VBS4jg4ddBX8/aY3ppSKrYl2fxiVFAV23Zlw/68N0ZY1 NBJMmL6fMzk74SAzyUYAb/03I02oltwA/vOgcWYsE6jPax2s2MphLecZtNB0PU= - CRit+bG2o0mn5mWpWwc4HAZAZ7pF3JgH0W20mBObs0Sd7rdrMlk8xjBRA08YYohGiqfmo wBDTJkAQCaO6gC7zVeqQDkYhj67h81/on9OGtviLRGUGYSizn1HJ5SstCIrOJ+eV5e628 6fR2UZuSxe0LJMS2Kucp0tEIYYH5S9FYcsOTgtY9xtbLDFrbayaWyUvMBb7fcUIdhMABS ScQkmwjbQ72qISz0GQcyvHZmS2LMXOMGGtZGbI1u5h3r9U8qHdr4X+E6TKx6qeXApJkeK qp9JVDpBuQEFAbohUO7noG0SlxDQOY8/+7238Q2gceB62tZV2iFCYGtGs2WfYK8fYLS5N tMUjDaNmBKJa4ZV2m49hjjj78b2jiVoadYyughiZwlZGg4r61MRHaIDjouOpoQXphV+En YKgTzyLhtnmhI7YKw5Zjp/BRKy6iRf31PIvQx9cevomQN05AgD2gk+UcjKFi3ovWtnqxE ubxUyTda9sTbAnYnPgfHaIowLDJUjcutEXCVMB3GJ1hRK2A6jSJ1Hjm8ckCUXnw7Muaf9 Avkpro98oKVujde3n5iASpb5vJ32Wlx5/Sh1CorbAtFj81hRsclVVKqtHsLasiXRjFzYp v4nQO6n71EAeqy0Tz18DzIoOdHOfRp46UTTUxxRhbFrLNcGZtEB/lT7t4T5AYs= - c8dR71ufxARe7C0tXSl946X84qhn0KV8MZebspMQwcVhIZBZ1JqNSMcpUkdW6ojE+L2oK 9e01lq5i5wnO4o4vj3cetbT14W+ZuliM1YSfahUGn+DkhLK9zYGjfYKuUIGscUsfdUTHe 4HhsDhNYCijmGJqCrLBdWkt+dmKghRS7Y0k0z5utiZB9zc6hkTnA1jUMFGQdjbMYbWdVH f7hE3PJO238h39D4NAM5ZPE5LiJUSisjKbf0c/W3Yt20XtAA2x0EnP0rQVFWK7OR/+eMU GR/PN7J3iGdVQaYbWpbP8lZpruFc0/depSBrXO3BsZDM8SzCiZirbKNZtU8vblgDTCvJg PjeDamr7i2ASbxLrQ23Gr9zVMvEI/VYs6dxE+l7/3ZUVPZw+UO7Q51WBs+D1nXn+gVw7H V9zBmJurDKugBC4k9bCvhi3YZYDoqEUyIYZKH84r5j7bBeEPER9LLoK2X0Q29mwWkr0GN BOAXj9b4a76nH+1+CauDduPEhCTuxROlJDNG14qMXCWoQIjm+IHZ2WwxDHZ1COc+04Csy n79iqmVSg4go3vcAieYNhvRsopJGYtl/7+f6WDRaejzk4yXPsJCjHAj1zvXtF0uM95oU3 BmnwIegQcET4dG59XJ6FdjDPjJzbh9aCohOlWl8U/iItmd9auOwMz6P+Hm3Swg=,30,30
openstack%2Fpython-barbicanclient~913280,openstack/python-barbicanclient,master,I8c431d8bceedc90d091f49ccb7313ffbbb0e2256,Remove support for certificate order,NEW,2024-03-15 02:17:23.000000000,2024-04-08 14:08:59.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-15 02:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/007d99d6b9c29df208be021d87fd6a6c9a0df571', 'message': 'Remove support for certificate order\n\n... because certificate order was removed from Barbican.\n\nChange-Id: I8c431d8bceedc90d091f49ccb7313ffbbb0e2256\n'}, {'number': 2, 'created': '2024-03-15 02:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/26a68b3649f09d992cbf9a2864f4c96dab3b1ddf', 'message': 'Remove support for certificate order\n\n... because certificate order was removed from Barbican.\n\nAlso make sure that a supported value is given in CLI.\n\nChange-Id: I8c431d8bceedc90d091f49ccb7313ffbbb0e2256\n'}, {'number': 3, 'created': '2024-03-15 03:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/b12dbb85ca4c291f554365abf6d62bec8510a8f5', 'message': 'Remove support for certificate order\n\n... because certificate order was removed from Barbican.\n\nAlso make sure that a supported value is given in CLI.\n\nChange-Id: I8c431d8bceedc90d091f49ccb7313ffbbb0e2256\n'}, {'number': 4, 'created': '2024-03-15 04:44:50.000000000', 'files': ['releasenotes/notes/remove-certificate-order-b7ba806f1a918657.yaml', 'barbicanclient/tests/v1/test_orders.py', 'barbicanclient/barbican_cli/v1/orders.py', 'barbicanclient/v1/orders.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e688a6fc305ea8b64d48ce97cfae65e57558a3a5', 'message': 'Remove support for certificate order\n\n... because certificate order was removed from Barbican.\n\nAlso make sure that a supported value is given in CLI.\n\nChange-Id: I8c431d8bceedc90d091f49ccb7313ffbbb0e2256\n'}]",0,913280,e688a6fc305ea8b64d48ce97cfae65e57558a3a5,8,4,4,9816,,,0,"Remove support for certificate order

... because certificate order was removed from Barbican.

Also make sure that a supported value is given in CLI.

Change-Id: I8c431d8bceedc90d091f49ccb7313ffbbb0e2256
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/80/913280/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-certificate-order-b7ba806f1a918657.yaml', 'barbicanclient/tests/v1/test_orders.py', 'barbicanclient/barbican_cli/v1/orders.py', 'barbicanclient/v1/orders.py']",4,007d99d6b9c29df208be021d87fd6a6c9a0df571,, 'asymmetric': AsymmetricOrder,"class CertificateOrderFormatter(formatter.EntityFormatter): columns = (""Order href"", ""Type"", ""Container href"", ""Secret href"", ""Created"", ""Status"", ""Error code"", ""Error message"" ) def _get_formatted_data(self): created = self.created.isoformat() if self.created else None data = (self.order_ref, ""Certificate"", self.container_ref, ""N/A"", created, self.status, self.error_status_code, self.error_reason ) return data class CertificateOrder(Order, CertificateOrderFormatter): _type = 'certificate' def __init__(self, api, name=None, status=None, created=None, updated=None, order_ref=None, container_ref=None, error_status_code=None, error_reason=None, sub_status=None, sub_status_message=None, creator_id=None, request_type=None, subject_dn=None, source_container_ref=None, ca_id=None, profile=None, request_data=None, requestor_name=None, requestor_email=None, requestor_phone=None): super(CertificateOrder, self).__init__( api, self._type, status=status, created=created, updated=updated, meta={ 'name': name, 'request_type': request_type, 'subject_dn': subject_dn, 'container_ref': source_container_ref, 'ca_id': ca_id, 'profile': profile, 'request_data': request_data, 'requestor_name': requestor_name, 'requestor_email': requestor_email, 'requestor_phone': requestor_phone}, order_ref=order_ref, error_status_code=error_status_code, error_reason=error_reason) self._container_ref = container_ref @property def container_ref(self): return self._container_ref def __repr__(self): return 'CertificateOrder(order_ref={0})'.format(self.order_ref) 'asymmetric': AsymmetricOrder, 'certificate': CertificateOrder if (resp_type == 'certificate' and 'container_ref' in response.get('meta', ())): response['source_container_ref'] = response['meta'].pop( 'container_ref') def create_certificate(self, name=None, request_type=None, subject_dn=None, source_container_ref=None, ca_id=None, profile=None, request_data=None): """"""Factory method for `CertificateOrder` objects `CertificateOrder` objects returned by this method have not yet been submitted to the Barbican service. :param name: A friendly name for the container to be created :param request_type: The type of the certificate request :param subject_dn: A subject for the certificate :param source_container_ref: A container with a public/private key pair to use as source for stored-key requests :param ca_id: The identifier of the CA to use :param profile: The profile of certificate to use :param request_data: The CSR content :returns: CertificateOrder :rtype: :class:`barbicanclient.v1.orders.CertificateOrder` """""" return CertificateOrder(api=self._api, name=name, request_type=request_type, subject_dn=subject_dn, source_container_ref=source_container_ref, ca_id=ca_id, profile=profile, request_data=request_data) ",11,208
openstack%2Fbarbican~912040,openstack/barbican,master,I073d661ea2924e9274c40a574d1c1a287c9c636f,Drop compatibility with WebOb < 1.8.0,NEW,2024-03-08 04:49:17.000000000,2024-04-08 14:08:20.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-08 04:49:17.000000000', 'files': ['requirements.txt', 'barbican/common/accept.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/07f1fb051668a34cb9973e92e58287d54d5f0caf', 'message': 'Drop compatibility with WebOb < 1.8.0\n\nWebOb 1.8.0 was released in 2018.\n\nChange-Id: I073d661ea2924e9274c40a574d1c1a287c9c636f\n'}]",0,912040,07f1fb051668a34cb9973e92e58287d54d5f0caf,3,4,1,9816,,,0,"Drop compatibility with WebOb < 1.8.0

WebOb 1.8.0 was released in 2018.

Change-Id: I073d661ea2924e9274c40a574d1c1a287c9c636f
",git fetch https://review.opendev.org/openstack/barbican refs/changes/40/912040/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'barbican/common/accept.py']",2,07f1fb051668a34cb9973e92e58287d54d5f0caf,,"NoHeaderType = getattr(acceptparse, 'AcceptNoHeader') ValidHeaderType = getattr(acceptparse, 'AcceptValidHeader') create_accept_header = getattr(acceptparse, 'create_accept_header')","if hasattr(acceptparse, 'create_accept_header'): # WebOb >= 1.8.0 NoHeaderType = getattr(acceptparse, 'AcceptNoHeader') ValidHeaderType = getattr(acceptparse, 'AcceptValidHeader') create_accept_header = getattr(acceptparse, 'create_accept_header') else: # WebOb < 1.8.0 NoHeaderType = getattr(acceptparse, 'MIMENilAccept') ValidHeaderType = getattr(acceptparse, 'MIMEAccept') def create_accept_header(header_value): if not header_value: return NoHeaderType() else: return ValidHeaderType(header_value)",4,16
openstack%2Fbarbican~914745,openstack/barbican,master,I1aebee6ac87e707cd15f4e4357e9e488e390783a,Deprecate KMIP secret store,NEW,2024-03-29 07:43:34.000000000,2024-04-08 14:07:00.000000000,,"[{'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-29 07:43:34.000000000', 'files': ['releasenotes/notes/deprecate-kmip-secret-store-985b1af9d8ccb8e2.yaml', 'barbican/plugin/kmip_secret_store.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b3eed2aec0d6102b033c424a41ba7061bfd41cfd', 'message': 'Deprecate KMIP secret store\n\nThe current latest release of PyKMIP library is not compatible with\ncryptography>=42.0.0[1]. The release does not contain the commit[2]\nto fix compatibility with cryptography>=39.0.0, either.\n\nDeprecate the KMIP secret store because the required library is no\nlonger maintained well.\n\n[1] https://github.com/OpenKMIP/PyKMIP/issues/713\n[2] https://github.com/OpenKMIP/PyKMIP/commit/652d5cab\n\nCloses-Bug: #2059755\nChange-Id: I1aebee6ac87e707cd15f4e4357e9e488e390783a\n'}]",0,914745,b3eed2aec0d6102b033c424a41ba7061bfd41cfd,3,2,1,9816,,,0,"Deprecate KMIP secret store

The current latest release of PyKMIP library is not compatible with
cryptography>=42.0.0[1]. The release does not contain the commit[2]
to fix compatibility with cryptography>=39.0.0, either.

Deprecate the KMIP secret store because the required library is no
longer maintained well.

[1] https://github.com/OpenKMIP/PyKMIP/issues/713
[2] https://github.com/OpenKMIP/PyKMIP/commit/652d5cab

Closes-Bug: #2059755
Change-Id: I1aebee6ac87e707cd15f4e4357e9e488e390783a
",git fetch https://review.opendev.org/openstack/barbican refs/changes/45/914745/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-kmip-secret-store-985b1af9d8ccb8e2.yaml', 'barbican/plugin/kmip_secret_store.py']",2,b3eed2aec0d6102b033c424a41ba7061bfd41cfd,bug/2059755," LOG.warning(""KMIP secret store plugin has been deprecated and will be "" ""removed in a future release."")",,7,0
openstack%2Fkolla-ansible~914984,openstack/kolla-ansible,master,I87fb29c6d68c7283a908612cf709e591f8070094,CI: add mypy support,NEW,2024-04-03 16:06:45.000000000,2024-04-08 14:05:17.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 16:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78572544888b707bdcedb563c7715399e1f41ba2', 'message': ""CI: add mypy support\n\nimplement a solution to support the usage of static typing\nlike defined in PEP-0484[1].\n\nThis only adds skeleton support for now and doesn't check\nvery much, the goal is to make more use of typing in the\nfuture and to make the codebase more robust to errors.\n\nTested locally to not produce any errors.\n\n[1]: https://peps.python.org/pep-0484/\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I87fb29c6d68c7283a908612cf709e591f8070094\n""}, {'number': 2, 'created': '2024-04-03 16:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c266de8f9b5d032e22be423e9a57fbe856faf784', 'message': ""CI: add mypy support\n\nimplement a solution to support the usage of static typing\nlike defined in PEP-0484[1].\n\nThis only adds skeleton support for now and doesn't check\nvery much, the goal is to make more use of typing in the\nfuture and to make the codebase more robust to errors.\n\nTested locally to not produce any errors.\n\n[1]: https://peps.python.org/pep-0484/\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I87fb29c6d68c7283a908612cf709e591f8070094\n""}, {'number': 3, 'created': '2024-04-03 16:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5f023ee2411c5e4061d606fa708ddd111726e88', 'message': ""CI: add mypy support\n\nimplement a solution to support the usage of static typing\nlike defined in PEP-0484[1].\n\nThis only adds skeleton support for now and doesn't check\nvery much, the goal is to make more use of typing in the\nfuture and to make the codebase more robust to errors.\n\nTested locally to not produce any errors.\n\n[1]: https://peps.python.org/pep-0484/\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I87fb29c6d68c7283a908612cf709e591f8070094\n""}, {'number': 4, 'created': '2024-04-04 10:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0be08b604e9f7660316be2bec56ee2c6baac723e', 'message': ""CI: add mypy support\n\nimplement a solution to support the usage of static typing\nlike defined in PEP-0484[1].\n\nThis only adds skeleton support for now and doesn't check\nvery much, the goal is to make more use of typing in the\nfuture and to make the codebase more robust to errors.\n\nTested locally to not produce any errors.\n\n[1]: https://peps.python.org/pep-0484/\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I87fb29c6d68c7283a908612cf709e591f8070094\n""}, {'number': 5, 'created': '2024-04-04 12:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1902cffdedb47aaae52720a3700ae682c21f5f92', 'message': ""CI: add mypy support\n\nimplement a solution to support the usage of static typing\nlike defined in PEP-0484[1].\n\nThis only adds skeleton support for now and doesn't check\nvery much, the goal is to make more use of typing in the\nfuture and to make the codebase more robust to errors.\n\nTested locally to not produce any errors.\n\n[1]: https://peps.python.org/pep-0484/\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I87fb29c6d68c7283a908612cf709e591f8070094\n""}, {'number': 6, 'created': '2024-04-04 13:54:21.000000000', 'files': ['lint-requirements.txt', 'mypy.ini', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3683abb139d486bc3407f3fc078c408915c434c', 'message': ""CI: add mypy support\n\nimplement a solution to support the usage of static typing\nlike defined in PEP-0484[1].\n\nThis only adds skeleton support for now and doesn't check\nvery much, the goal is to make more use of typing in the\nfuture and to make the codebase more robust to errors.\n\nTested locally to not produce any errors.\n\n[1]: https://peps.python.org/pep-0484/\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I87fb29c6d68c7283a908612cf709e591f8070094\n""}]",3,914984,e3683abb139d486bc3407f3fc078c408915c434c,15,2,6,32553,,,0,"CI: add mypy support

implement a solution to support the usage of static typing
like defined in PEP-0484[1].

This only adds skeleton support for now and doesn't check
very much, the goal is to make more use of typing in the
future and to make the codebase more robust to errors.

Tested locally to not produce any errors.

[1]: https://peps.python.org/pep-0484/

Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: I87fb29c6d68c7283a908612cf709e591f8070094
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/914984/1 && git format-patch -1 --stdout FETCH_HEAD,"['lint-requirements.txt', 'mypy.ini', 'tox.ini']",3,78572544888b707bdcedb563c7715399e1f41ba2,ci_add_mypy, # mypy is a static type checker for Python [testenv:mypy] deps = {[testenv:linters]deps} commands = mypy --install-types --non-interactive mypy --config-file mypy.ini kolla_ansible,,11,0
openstack%2Fdiskimage-builder~907513,openstack/diskimage-builder,master,Ie853237d5c59730353d5ea4a7e61888e066614be,Get rid of 3rd party mock,MERGED,2024-02-02 02:29:29.000000000,2024-04-08 13:58:26.000000000,2024-04-08 13:57:25.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2024-02-02 02:29:29.000000000', 'files': ['diskimage_builder/elements/growvols/tests/test_growvols.py', 'requirements.txt', 'test-requirements.txt', 'diskimage_builder/block_device/tests/test_mbr.py', 'diskimage_builder/block_device/tests/test_gpt.py', 'diskimage_builder/tests/test_diskimage_builder.py', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/tests/test_lvm.py', 'diskimage_builder/elements/package-installs/tests/test_package_squash.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2c27834adda33d6e4e56d477e476fb3d076133c4', 'message': 'Get rid of 3rd party mock\n\n... by replacing it by the built-in unittest.mock .\n\nChange-Id: Ie853237d5c59730353d5ea4a7e61888e066614be\n'}]",0,907513,2c27834adda33d6e4e56d477e476fb3d076133c4,9,3,1,9816,,,0,"Get rid of 3rd party mock

... by replacing it by the built-in unittest.mock .

Change-Id: Ie853237d5c59730353d5ea4a7e61888e066614be
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/13/907513/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/growvols/tests/test_growvols.py', 'requirements.txt', 'test-requirements.txt', 'diskimage_builder/block_device/tests/test_mbr.py', 'diskimage_builder/block_device/tests/test_gpt.py', 'diskimage_builder/tests/test_diskimage_builder.py', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/tests/test_lvm.py', 'diskimage_builder/elements/package-installs/tests/test_package_squash.py']",9,2c27834adda33d6e4e56d477e476fb3d076133c4,,from unittest import mock,import mock,11,18
openstack%2Fnova~906380,openstack/nova,master,I24648f5b7895bf5d093f222b6c6e364becbb531f,Always delete NVRAM files when deleting instances,MERGED,2024-01-23 15:26:15.000000000,2024-04-08 13:56:02.000000000,2024-04-04 22:14:14.000000000,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2024-01-23 15:26:15.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/406d590a364d2c3ebc91e5f28f94011b158459d2', 'message': 'Always delete NVRAM files when deleting instances\n\nWhen deleting an instance, always send VIR_DOMAIN_UNDEFINE_NVRAM to\ndelete the NVRAM file, regardless of whether the image is of type UEFI.\nThis prevents a bug when rebuilding an instance from an UEFI image to a\nnon-UEFI image.\n\nCloses-Bug: #1997352\n\nChange-Id: I24648f5b7895bf5d093f222b6c6e364becbb531f\nSigned-off-by: Simon Hensel <simon.hensel@inovex.de>\n'}]",11,906380,406d590a364d2c3ebc91e5f28f94011b158459d2,25,7,1,34150,,,0,"Always delete NVRAM files when deleting instances

When deleting an instance, always send VIR_DOMAIN_UNDEFINE_NVRAM to
delete the NVRAM file, regardless of whether the image is of type UEFI.
This prevents a bug when rebuilding an instance from an UEFI image to a
non-UEFI image.

Closes-Bug: #1997352

Change-Id: I24648f5b7895bf5d093f222b6c6e364becbb531f
Signed-off-by: Simon Hensel <simon.hensel@inovex.de>
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/906380/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,406d590a364d2c3ebc91e5f28f94011b158459d2,always_delete_nvram," mock_domain.undefineFlags.assert_called_once_with(5) mock_domain.undefineFlags.assert_called_once_with(5) mock_domain.undefineFlags.assert_called_once_with(5) mock_domain.undefineFlags.assert_has_calls([mock.call( fakelibvirt.VIR_DOMAIN_UNDEFINE_MANAGED_SAVE | fakelibvirt.VIR_DOMAIN_UNDEFINE_NVRAM )]) drvr._swap_volume(mock_guest, 'vdb', mock_conf, resize_to) mock_guest, 'vdb', mock_conf, 0) swap_volume.assert_called_once_with(guest, 'vdb', conf, 1)"," def test_check_uefi_support_aarch64(self): self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.AARCH64) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) self.assertTrue(drvr._check_uefi_support(image_meta)) mock_domain.undefineFlags.assert_called_once_with(1) mock_domain.undefineFlags.assert_called_once_with(1) mock_domain.undefineFlags.assert_called_once_with(1) # NVRAM flag should not called only host support uefi mock_domain.undefineFlags.assert_called_once_with( fakelibvirt.VIR_DOMAIN_UNDEFINE_MANAGED_SAVE ) # undefineFlags should now be called with 5 as uefi supported # by both host and guest drvr._swap_volume(mock_guest, 'vdb', mock_conf, resize_to, None) mock_guest, 'vdb', mock_conf, 0, None) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) hw_firmware_type = image_meta.properties.get( 'hw_firmware_type') swap_volume.assert_called_once_with(guest, 'vdb', conf, 1, hw_firmware_type)",17,54
openstack%2Frequirements~915168,openstack/requirements,master,I439e41cc4e8a4c0865a301f9b472e68f67a065e3,Sort global-requirements,ABANDONED,2024-04-05 16:10:31.000000000,2024-04-08 13:52:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-05 16:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f978786d51b29fc185958233d8f6e87d1ed863ef', 'message': 'Sort global-requirements\n\nChange-Id: I439e41cc4e8a4c0865a301f9b472e68f67a065e3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-04-06 09:09:28.000000000', 'files': ['global-requirements.txt', 'tools/sort.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/49b95ba38d3e8e41bf20a74686e8e70d6bc1e836', 'message': 'Sort global-requirements\n\nChange-Id: I439e41cc4e8a4c0865a301f9b472e68f67a065e3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,915168,49b95ba38d3e8e41bf20a74686e8e70d6bc1e836,5,1,2,15334,,,0,"Sort global-requirements

Change-Id: I439e41cc4e8a4c0865a301f9b472e68f67a065e3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/915168/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'tools/sort.py']",2,f978786d51b29fc185958233d8f6e87d1ed863ef,cleanup,"#! /usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os GLOBAL_REQS = os.path.join( os.path.dirname(os.path.realpath(__file__)), '..', 'global-requirements.txt', ) def main(): sections = {} deps = [] section = '' comment = '' with open(GLOBAL_REQS) as fh: for line in fh.readlines(): if not line.strip(): continue if line.startswith('## section:'): if section: sections[section] = sorted( deps, key=lambda x: x[0].lower() ) deps = [] section = line.removeprefix('## section:') continue if line.startswith('#'): comment += line continue deps.append((line, comment or None)) comment = '' sections[section] = sorted( deps, key=lambda x: x[0].lower() ) with open(GLOBAL_REQS, 'w') as fh: for i, section in enumerate(sections): if i != 0: fh.write('\n') fh.write(f'## section:{section}\n') for dep, comment in sections[section]: if comment: fh.write(comment) fh.write(dep) if __name__ == '__main__': main() ",,155,87
openstack%2Fcharm-ceph-osd~915267,openstack/charm-ceph-osd,master,I8bf71d70d33e23d1b67be0af2b97d766b417a624,Sync charmhelpers and charms.ceph,ABANDONED,2024-04-08 11:29:15.000000000,2024-04-08 13:45:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 11:29:15.000000000', 'files': ['lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/osplatform.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/3330696aca876c6861e726fed76ff0f5a20c57c6', 'message': 'Sync charmhelpers and charms.ceph\n\nChange-Id: I8bf71d70d33e23d1b67be0af2b97d766b417a624\n'}]",0,915267,3330696aca876c6861e726fed76ff0f5a20c57c6,4,2,1,15382,,,0,"Sync charmhelpers and charms.ceph

Change-Id: I8bf71d70d33e23d1b67be0af2b97d766b417a624
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/67/915267/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/osplatform.py', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py']",8,3330696aca876c6861e726fed76ff0f5a20c57c6,sync-helpers," # caracal 'caracal': 'jammy-updates/caracal', 'jammy-caracal': 'jammy-updates/caracal', 'jammy-caracal/updates': 'jammy-updates/caracal', 'jammy-updates/caracal': 'jammy-updates/caracal', 'caracal/proposed': 'jammy-proposed/caracal', 'jammy-caracal/proposed': 'jammy-proposed/caracal', 'jammy-proposed/caracal': 'jammy-proposed/caracal', 'caracal', ('noble', 'caracal'),",,139,54
openstack%2Fcharm-ceilometer~915270,openstack/charm-ceilometer,master,Ie2664eb8b3ea19e85c0f92208eae417c739b2334,Changed add-relation to integrate,NEW,2024-04-08 12:18:52.000000000,2024-04-08 13:20:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-08 12:18:52.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/4f885b1d2798d08388d97c820dded0eb404f3ad4', 'message': 'Changed add-relation to integrate\n\nChange-Id: Ie2664eb8b3ea19e85c0f92208eae417c739b2334\n'}]",0,915270,4f885b1d2798d08388d97c820dded0eb404f3ad4,3,2,1,36928,,,0,"Changed add-relation to integrate

Change-Id: Ie2664eb8b3ea19e85c0f92208eae417c739b2334
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/70/915270/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,4f885b1d2798d08388d97c820dded0eb404f3ad4,, juju integrate ceilometer mongodb juju integrate ceilometer gnocchi juju integrate ceilometer:amqp rabbitmq juju integrate ceilometer keystone:identity-service juju integrate ceilometer keystone:identity-notifications juju integrate ceilometer keystone:identity-credentials juju integrate ceilometer-agent nova-compute juju integrate ceilometer-agent:amqp rabbitmq-server:amqp juju integrate ceilometer:ceilometer-service ceilometer-agent:ceilometer-service juju integrate ceilometer:amqp rabbitmq-central juju integrate ceilometer:amqp-listener rabbitmq-neutron juju integrate ceilometer:amqp-listener rabbitmq-nova-cell2, juju add-relation ceilometer mongodb juju add-relation ceilometer gnocchi juju add-relation ceilometer:amqp rabbitmq juju add-relation ceilometer keystone:identity-service juju add-relation ceilometer keystone:identity-notifications juju add-relation ceilometer keystone:identity-credentials juju add-relation ceilometer-agent nova-compute juju add-relation ceilometer-agent:amqp rabbitmq-server:amqp juju add-relation ceilometer:ceilometer-service ceilometer-agent:ceilometer-service juju add-relation ceilometer:amqp rabbitmq-central juju add-relation ceilometer:amqp-listener rabbitmq-neutron juju add-relation ceilometer:amqp-listener rabbitmq-nova-cell2,12,12
openstack%2Fironic~913707,openstack/ironic,master,Ic66fa0fe9d32554f8e7cd23abeeb9c0ec5b9556d,[WIP] Fix service holding,NEW,2024-03-19 17:54:22.000000000,2024-04-08 13:08:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-19 17:54:22.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/conductor/servicing.py', 'ironic/conductor/steps.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/72935c5db013d23afa83003fce8ae51d62fe0f44', 'message': ""[WIP] Fix service holding\n\nIt does not quite work today:\n1) Validation is not aware of reserved steps\n1.1) ... and does not return them as part of validated steps.\n2) Unholding relies on heartbeats, but they won't happen if\n   requires_ramdisk is False.\n3) Tear down is called twice causing an ugly traceback from automaton\n\nChange-Id: Ic66fa0fe9d32554f8e7cd23abeeb9c0ec5b9556d\n""}]",4,913707,72935c5db013d23afa83003fce8ae51d62fe0f44,5,1,1,10239,,,0,"[WIP] Fix service holding

It does not quite work today:
1) Validation is not aware of reserved steps
1.1) ... and does not return them as part of validated steps.
2) Unholding relies on heartbeats, but they won't happen if
   requires_ramdisk is False.
3) Tear down is called twice causing an ugly traceback from automaton

Change-Id: Ic66fa0fe9d32554f8e7cd23abeeb9c0ec5b9556d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/913707/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/conductor/servicing.py', 'ironic/conductor/steps.py']",3,72935c5db013d23afa83003fce8ae51d62fe0f44,fix-hold,"RESERVED_STEP_NAMES = set(RESERVED_STEP_HANDLER_MAPPING) | {'wait', 'hold'} if user_step.get('step') in RESERVED_STEP_NAMES: result.append(user_step)"," if user_step.get('step') in ['power_on', 'power_off', 'reboot']:",12,3
openstack%2Fnova~873901,openstack/nova,master,Icc418c20e14efa08b356d938839e430223836f80,Fix case-sensitivity for metadata keys,NEW,2023-02-15 11:37:34.000000000,2024-04-08 12:50:02.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16207}, {'_account_id': 17685}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-02-15 11:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40ae6bd92fdbebbbe64665c780d8079b93a47a70', 'message': ""Fix case-sensitivity for metadata keys\n\nAs of now, if aggregate already has metadata keys 'abc' and\nuser tries to update this using upper case 'ABC' or mixed case\n('AbC','Abc' etc), then user gets KeyError exception.\n\nThis change checks for case-insensitive keys and treats 'abc',\n'ABC', 'Abc' etc same and delete the previous key-value and add\nnew key-value when case-insensitive keys are being updated.\n\nCloses-Bug: #1538011\nChange-Id: Icc418c20e14efa08b356d938839e430223836f80\n""}, {'number': 2, 'created': '2023-02-20 11:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24d6fbf4380536aa931bd5fc3ba7d9a385136324', 'message': ""Fix case-sensitivity for metadata keys\n\nAs of now, if aggregate already has metadata keys 'abc' and\nuser tries to update this using upper case 'ABC' or mixed case\n('AbC','Abc' etc), then user gets KeyError exception.\n\nThis change checks for case-insensitive keys and treats 'abc',\n'ABC', 'Abc' etc same and delete the previous key-value and add\nnew key-value when case-insensitive keys are being updated.\n\nCloses-Bug: #1538011\nChange-Id: Icc418c20e14efa08b356d938839e430223836f80\n""}, {'number': 3, 'created': '2023-03-15 10:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9794fa24427dcf2045d5c96eba283b4a748290fc', 'message': ""Fix case-sensitivity for metadata keys\n\nAs of now, if aggregate already has metadata keys 'abc' and\nuser tries to update this using upper case 'ABC' or mixed case\n('AbC','Abc' etc), then user gets KeyError exception.\n\nThis change checks for case-insensitive keys and treats 'abc',\n'ABC', 'Abc' etc same and delete the previous key-value and add\nnew key-value when case-insensitive keys are being updated.\n\nCloses-Bug: #1538011\nChange-Id: Icc418c20e14efa08b356d938839e430223836f80\nSigned-off-by: Melanie Witt <melwitt@gmail.com>\n""}, {'number': 4, 'created': '2023-04-17 11:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/980ddc8082fd02218a34d87c2f214a086dab3cdd', 'message': ""Fix case-sensitivity for metadata keys\n\nAs of now, if aggregate already has metadata keys 'abc' and\nuser tries to update this using upper case 'ABC' or mixed case\n('AbC','Abc' etc), then user gets KeyError exception.\n\nThis change catch KeyError and raises AggregateMetadataKeyExists\nexception with 409 error code, when user tries to update\ncase-sensitive metadata key.\n\nCloses-Bug: #1538011\nChange-Id: Icc418c20e14efa08b356d938839e430223836f80\nSigned-off-by: Melanie Witt <melwitt@gmail.com>\n""}, {'number': 5, 'created': '2024-04-08 10:38:32.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/exception.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/api/openstack/compute/aggregates.py', 'nova/objects/aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/747615b9ae3ddda84bc515299063768a4c77123f', 'message': ""Fix case-sensitivity for metadata keys\n\nAs of now, if aggregate already has metadata keys 'abc' and\nuser tries to update this using upper case 'ABC' or mixed case\n('AbC','Abc' etc), then user gets KeyError exception.\n\nThis change catch KeyError and raises AggregateMetadataKeyExists\nexception with 409 error code, when user tries to update\ncase-sensitive metadata key.\n\nCloses-Bug: #1538011\nChange-Id: Icc418c20e14efa08b356d938839e430223836f80\nSigned-off-by: Melanie Witt <melwitt@gmail.com>\n""}]",52,873901,747615b9ae3ddda84bc515299063768a4c77123f,59,14,5,20733,,,0,"Fix case-sensitivity for metadata keys

As of now, if aggregate already has metadata keys 'abc' and
user tries to update this using upper case 'ABC' or mixed case
('AbC','Abc' etc), then user gets KeyError exception.

This change catch KeyError and raises AggregateMetadataKeyExists
exception with 409 error code, when user tries to update
case-sensitive metadata key.

Closes-Bug: #1538011
Change-Id: Icc418c20e14efa08b356d938839e430223836f80
Signed-off-by: Melanie Witt <melwitt@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/873901/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/aggregate.py'],1,40ae6bd92fdbebbbe64665c780d8079b93a47a70,bug/1538011," all_keys_lower = [k.lower() for k in all_keys] # NOTE(ratailor): Check for case-sensitive key # if present, delete previous key-value and add new # key-value pair. # If 'abc' key is present and user tries to update # metadata using 'ABC' or ('AbC', 'Abc'), then delete # 'abc' key-value and add 'ABC' or ('AbC', 'Abc') # key-value in new-entries section below. if key.lower() in all_keys_lower and \ key not in all_keys: query.filter_by(key=key).delete() else: meta_ref.update({""value"": metadata[key]}) already_existing_keys.add(key)"," meta_ref.update({""value"": metadata[key]}) already_existing_keys.add(key)",14,2
openstack%2Fpython-openstackclient~903085,openstack/python-openstackclient,master,I2ea8fd3f5277bb3422ccae915d05e8ad44ff1912,volume: Deprecate '--retype-policy' in favor of '--migration-policy',MERGED,2023-12-07 14:04:52.000000000,2024-04-08 12:38:00.000000000,2024-04-08 12:36:54.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-07 14:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3172adf81fff301b86d9efc8b8ef9035ac499824', 'message': ""Deprecate '--retype-policy' in favor of '--migration-policy'\n\nThe '--retype-policy' option is used in the 'volume set' command to\nspecify the migration policy during the retype operation.\nThe '--retype-policy' option does not convey the correct meaning of\nit's usage. The migration policy determines whether we are going to\nperform the migration in the retype opearation or not and is not related\nto the actual retype which just changes the volume type of the volume.\n\nChange-Id: I2ea8fd3f5277bb3422ccae915d05e8ad44ff1912\n""}, {'number': 2, 'created': '2023-12-12 05:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/879124f9c9b40df7022bddf70b72ed958c6d77f9', 'message': ""Deprecate '--retype-policy' in favor of '--migration-policy'\n\nThe '--retype-policy' option is used in the 'volume set' command to\nspecify the migration policy during the retype operation.\nThe '--retype-policy' option does not convey the correct meaning of\nit's usage. The migration policy determines whether we are going to\nperform the migration in the retype opearation or not and is not related\nto the actual retype which just changes the volume type of the volume.\n\nChange-Id: I2ea8fd3f5277bb3422ccae915d05e8ad44ff1912\n""}, {'number': 3, 'created': '2024-01-11 10:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b36565cbdd02fe6fde982a159e334d1105f4afaa', 'message': ""Deprecate '--retype-policy' in favor of '--migration-policy'\n\nThe '--retype-policy' option is used in the 'volume set' command to\nspecify the migration policy during the retype operation.\nThe '--retype-policy' option does not convey the correct meaning of\nit's usage. The migration policy determines whether we are going to\nperform the migration in the retype opearation or not and is not related\nto the actual retype which just changes the volume type of the volume.\n\nChange-Id: I2ea8fd3f5277bb3422ccae915d05e8ad44ff1912\n""}, {'number': 4, 'created': '2024-04-08 10:38:11.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'releasenotes/notes/rename-volume-set-retype-policy-6bacb7dd92f1ad82.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5a18f995a8ef31efb9ab324e2b5c9e572e75c2d1', 'message': ""volume: Deprecate '--retype-policy' in favor of '--migration-policy'\n\nThe '--retype-policy' option is used in the 'volume set' command to\nspecify the migration policy during the retype operation. The\n'--retype-policy' option does not convey the correct meaning of its\nusage. The migration policy determines whether we are going to perform\nthe migration in the retype operation or not and is not related to the\nactual retype which just changes the volume type of the volume.\n\nChange-Id: I2ea8fd3f5277bb3422ccae915d05e8ad44ff1912\n""}]",11,903085,5a18f995a8ef31efb9ab324e2b5c9e572e75c2d1,21,2,4,27615,,,0,"volume: Deprecate '--retype-policy' in favor of '--migration-policy'

The '--retype-policy' option is used in the 'volume set' command to
specify the migration policy during the retype operation. The
'--retype-policy' option does not convey the correct meaning of its
usage. The migration policy determines whether we are going to perform
the migration in the retype operation or not and is not related to the
actual retype which just changes the volume type of the volume.

Change-Id: I2ea8fd3f5277bb3422ccae915d05e8ad44ff1912
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/85/903085/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/volume.py', 'releasenotes/notes/deprecate-retype-policy-6bacb7dd92f1ad82.yaml']",2,3172adf81fff301b86d9efc8b8ef9035ac499824,fix-osc-issues-cinder,--- features: - | A new parameter '--migration-policy' is introduced as a replacement for '--retype-policy' option. The '--retype-policy' option does not convey the correct meaning of it's usage. The migration policy determines whether we are going to perform the migration in the retype opearation or not and is not related to the actual retype which just changes the volume type of the volume. deprecations: - | The '--retype-policy' option in the 'volume set' command is deprecated in favor of '--migration-policy' option. The '--retype-policy' option does not convey the correct meaning of it's usage. The migration policy determines whether we are going to perform the migration in the retype opearation or not and is not related to the actual retype which just changes the volume type of the volume. ,,49,8
openstack%2Fkolla-ansible~750996,openstack/kolla-ansible,master,I4e6d751330effc0bfeaaded9280a6e64c080e40f,Introduce `schema_version` in the federated attribute mapping API,NEW,2020-09-10 13:55:52.000000000,2024-04-08 12:29:58.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28356}, {'_account_id': 30695}, {'_account_id': 32553}, {'_account_id': 36201}]","[{'number': 1, 'created': '2020-09-10 13:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d1acbaa976c3a653518101a325ccba0af635e612', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}, {'number': 2, 'created': '2020-09-10 20:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/215a7188bc34c5328042bac59b2708515efd5a64', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}, {'number': 3, 'created': '2024-01-30 09:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a026196c25ad0a4146a9b09450053567914b9d35', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}, {'number': 4, 'created': '2024-04-02 16:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48aea8f00613479eb016a9aba1e433f5ead1dcb8', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}, {'number': 5, 'created': '2024-04-02 17:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5fafacb22d646adfecc7c0923f5a5ddffd29a88', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nKeystone add support to attribute mapping schema versioning. Therefore,\nit is insteresting to also support this mechanism in Kolla-ansible.\nThe use of ""schema_version"" option in the attribute mapping is optional;\nif none is provided, the default defined in Keystoen will be used.\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}, {'number': 6, 'created': '2024-04-02 18:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65efab14bfa11953580e312734230371baba7eb0', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nKeystone add support to attribute mapping schema versioning. Therefore,\nit is insteresting to also support this mechanism in Kolla-ansible.\nThe use of ""schema_version"" option in the attribute mapping is optional;\nif none is provided, the default defined in Keystoen will be used.\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}, {'number': 7, 'created': '2024-04-03 11:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e136b63226b32be92da1b345c2455fd228d901cf', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nKeystone add support to attribute mapping schema versioning. Therefore,\nit is insteresting to also support this mechanism in Kolla-ansible.\nThe use of ""schema_version"" option in the attribute mapping is optional;\nif none is provided, the default defined in Keystoen will be used.\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}, {'number': 8, 'created': '2024-04-03 11:57:50.000000000', 'files': ['releasenotes/notes/add_keystone_attribute_mapping_schema_version-7dff68169a306695.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/register_identity_providers.yml', 'doc/source/reference/shared-services/keystone-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55556ee6150f29602933f2eba399973aa54c1868', 'message': 'Introduce `schema_version` in the federated attribute mapping API\n\nKeystone add support to attribute mapping schema versioning. Therefore,\nit is interesting to also support this mechanism in Kolla-ansible.\nThe use of ""schema_version"" option in the attribute mapping is optional;\nif none is provided, the default defined in Keystoen will be used.\n\nDepends-On: https://review.opendev.org/#/c/749572/\nChange-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f\n'}]",20,750996,55556ee6150f29602933f2eba399973aa54c1868,40,7,8,28356,,,0,"Introduce `schema_version` in the federated attribute mapping API

Keystone add support to attribute mapping schema versioning. Therefore,
it is interesting to also support this mechanism in Kolla-ansible.
The use of ""schema_version"" option in the attribute mapping is optional;
if none is provided, the default defined in Keystoen will be used.

Depends-On: https://review.opendev.org/#/c/749572/
Change-Id: I4e6d751330effc0bfeaaded9280a6e64c080e40f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/750996/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/register_identity_providers.yml', 'doc/source/reference/shared-services/keystone-guide.rst']",3,d1acbaa976c3a653518101a325ccba0af635e612,add_schema_version-upstream," file: ""/full/qualified/path/to/mapping/json/file/to/mappingId1"", schema_version: ""1.0"""," file: ""/full/qualified/path/to/mapping/json/file/to/mappingId1""",8,7
openstack%2Fneutron-lib~913888,openstack/neutron-lib,master,I067c53c31a60336b8852cdf26a404b15cc0ccef8,api-ref: add api-ref for remote_address_group in sg rules,MERGED,2024-03-21 10:14:36.000000000,2024-04-08 11:58:31.000000000,2024-04-02 11:05:57.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2024-03-21 10:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d802ce87a25587f802ed514b684ecc8b737e05fd', 'message': 'api-ref: add api-ref for remote_address_group in sg rules\n\nRelated-Bug: #2058138\nChange-Id: I067c53c31a60336b8852cdf26a404b15cc0ccef8\n'}, {'number': 2, 'created': '2024-03-25 13:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/08e47baa26e6fb324ebed1444508cc4fdc464477', 'message': 'api-ref: add api-ref for remote_address_group in sg rules\n\nRelated-Bug: #2058138\nChange-Id: I067c53c31a60336b8852cdf26a404b15cc0ccef8\n'}, {'number': 3, 'created': '2024-04-01 22:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fc38f6a61cb88b7f6db7801036997d438b7289db', 'message': 'api-ref: add api-ref for remote_address_group in sg rules\n\nRelated-Bug: #2058138\nChange-Id: I067c53c31a60336b8852cdf26a404b15cc0ccef8\n'}, {'number': 4, 'created': '2024-04-02 01:29:26.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/security-groups/security-group-rule-bulk-create-request.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-create-request.json', 'api-ref/source/v2/security-group-rules.inc', 'api-ref/source/v2/samples/security-groups/security-group-rules-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-show-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-create-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a6e32d9d5c2942dd3fffd04fb05d6e8091d1169a', 'message': 'api-ref: add api-ref for remote_address_group in sg rules\n\nRelated-Bug: #2058138\nChange-Id: I067c53c31a60336b8852cdf26a404b15cc0ccef8\n'}]",10,913888,a6e32d9d5c2942dd3fffd04fb05d6e8091d1169a,21,5,4,8313,,,0,"api-ref: add api-ref for remote_address_group in sg rules

Related-Bug: #2058138
Change-Id: I067c53c31a60336b8852cdf26a404b15cc0ccef8
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/88/913888/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/security-groups/security-group-rule-bulk-create-request.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-create-request.json', 'api-ref/source/v2/security-group-rules.inc', 'api-ref/source/v2/samples/security-groups/security-group-rules-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-show-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-create-response.json']",7,d802ce87a25587f802ed514b684ecc8b737e05fd,bug/2058138," ""remote_address_group_id"": ""a9baa1eb-0614-4d68-870e-fec6d8f8c221"",",,29,0
openstack%2Fpython-openstackclient~902763,openstack/python-openstackclient,master,Ic4d89db69244d3fba44d4b69c79b3e7632ee3d53,volume list: Don't call nova if no volume is attached,MERGED,2023-12-06 12:13:14.000000000,2024-04-08 11:41:41.000000000,2024-04-08 11:40:41.000000000,"[{'_account_id': 4523}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-06 12:13:14.000000000', 'files': ['openstackclient/volume/v2/volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c657047d7e57fc651c33ee11021bb7b94f148551', 'message': ""volume list: Don't call nova if no volume is attached\n\nCurrently 'openstack volume list' calls nova to resolve server UUIDs\nto server names. This is not required if:\n1. no volume is attached to an instance\n2. no volume exists in deployment\n\nThis patch fixes this by checking volume statuses and, if any volume has\nstatus 'in-use', we will call nova to resolve server names.\nNote that we don't check for 'reserved', 'attaching', 'detaching'\nstates since those are transition states and doesn't guarantee that\nthe volume is actually attached to the instance.\n\nChange-Id: Ic4d89db69244d3fba44d4b69c79b3e7632ee3d53\n""}]",0,902763,c657047d7e57fc651c33ee11021bb7b94f148551,9,3,1,27615,,,0,"volume list: Don't call nova if no volume is attached

Currently 'openstack volume list' calls nova to resolve server UUIDs
to server names. This is not required if:
1. no volume is attached to an instance
2. no volume exists in deployment

This patch fixes this by checking volume statuses and, if any volume has
status 'in-use', we will call nova to resolve server names.
Note that we don't check for 'reserved', 'attaching', 'detaching'
states since those are transition states and doesn't guarantee that
the volume is actually attached to the instance.

Change-Id: Ic4d89db69244d3fba44d4b69c79b3e7632ee3d53
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/63/902763/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/volume/v2/volume.py'],1,c657047d7e57fc651c33ee11021bb7b94f148551,fix-osc-issues-cinder," do_server_list = False for vol in data: if vol.status == 'in-use': do_server_list = True break # Cache the server list server_cache = {} if do_server_list: try: compute_client = self.app.client_manager.compute for s in compute_client.servers.list(): server_cache[s.id] = s except Exception: # Just forget it if there's any trouble pass AttachmentsColumnWithCache = functools.partial( AttachmentsColumn, server_cache=server_cache ) "," # Cache the server list server_cache = {} try: compute_client = self.app.client_manager.compute for s in compute_client.servers.list(): server_cache[s.id] = s except Exception: # Just forget it if there's any trouble pass AttachmentsColumnWithCache = functools.partial( AttachmentsColumn, server_cache=server_cache ) ",22,13
openstack%2Fkayobe~913571,openstack/kayobe,master,I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5,Bump KA Ansible versions to match new defaults,MERGED,2024-03-18 14:22:07.000000000,2024-04-08 11:28:05.000000000,2024-04-08 11:27:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 36201}]","[{'number': 1, 'created': '2024-03-18 14:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4fea537349b73947c903122e07708417d3891b30', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}, {'number': 2, 'created': '2024-03-20 11:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6c3ff821209a29bd6160602a7ad39aa118708441', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}, {'number': 3, 'created': '2024-03-20 12:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/22c4496a4980bf246a00b470da86d2f1641047ab', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}, {'number': 4, 'created': '2024-03-20 16:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7c6cf1ccfe528b5916ee9b66cf7dca808390b106', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}, {'number': 5, 'created': '2024-03-21 10:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e033218c0a3ff3c57040fa6bd4eb19fcb9767222', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}, {'number': 6, 'created': '2024-03-21 10:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/86254bcb28ed9a6e1b50575156afe1236f3a2541', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}, {'number': 7, 'created': '2024-03-22 11:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3b7a0df939cd9e90db9e4eae3c84782696f4d8ab', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}, {'number': 8, 'created': '2024-04-03 18:30:37.000000000', 'files': ['ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d6bdef9e586d98d7108cc890aefe0cf797fffee1', 'message': 'Bump KA Ansible versions to match new defaults\n\nKA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522\n\nChange-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5\n'}]",7,913571,d6bdef9e586d98d7108cc890aefe0cf797fffee1,32,5,8,35263,,,0,"Bump KA Ansible versions to match new defaults

KA ansible versions bumped here: https://review.opendev.org/c/openstack/kolla-ansible/+/907522

Change-Id: I5359618de96d3ccc7215ead2e331e5c0fd2a7fc5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/913571/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-ansible/defaults/main.yml'],1,4fea537349b73947c903122e07708417d3891b30,,"kolla_ansible_venv_ansible: 'ansible>=8,<10.0' kolla_ansible_venv_ansible_core: 'ansible-core>=2.15,<2.17'","kolla_ansible_venv_ansible: 'ansible>=7,<9.0' kolla_ansible_venv_ansible_core: 'ansible-core>=2.14,<2.16'",2,2
openstack%2Fkeystone~915258,openstack/keystone,master,I19b604a8bc766be40cef34caf4e826593bdbf21a,Introduce a config option that allows crypto plugin to accept smaller TOTP secrets,NEW,2024-04-08 09:55:25.000000000,2024-04-08 11:12:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-08 09:55:25.000000000', 'files': ['keystone/auth/plugins/totp.py', 'keystone/conf/totp.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/343f824ba97ec213df397e94ca25b0f6b5b5c82f', 'message': 'Introduce a config option that allows crypto plugin to accept smaller TOTP secrets\n\nCloses-Bug: #2060452\nChange-Id: I19b604a8bc766be40cef34caf4e826593bdbf21a\n'}]",0,915258,343f824ba97ec213df397e94ca25b0f6b5b5c82f,3,1,1,25468,,,0,"Introduce a config option that allows crypto plugin to accept smaller TOTP secrets

Closes-Bug: #2060452
Change-Id: I19b604a8bc766be40cef34caf4e826593bdbf21a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/58/915258/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/plugins/totp.py', 'keystone/conf/totp.py']",2,343f824ba97ec213df397e94ca25b0f6b5b5c82f,bug-2060452,"enforce_key_length = cfg.BoolOpt( 'enforce_key_length', default=True, help=utils.fmt("""""" A boolean flag defaulting to True that toggles whether a minimum key length of 128 bits is enforced for TOTP secrets. Only disable if your existing TOTP secrets are smaller than the enforced 128 bits. """""")) enforce_key_length,",,11,1
openstack%2Fkolla-ansible~902230,openstack/kolla-ansible,master,Iadb74ffb5a747bd16e6acebd6a9c22b3b7198fd0,"Revert ""podman: install ""rich"" dependency""",MERGED,2023-11-30 09:20:16.000000000,2024-04-08 10:58:19.000000000,2024-04-08 10:57:17.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-11-30 09:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5e83e4338529d48f25d719c107e753ea57840efa', 'message': 'Revert ""podman: install ""rich"" dependency""\n\nThis reverts commit 0b1a59dd8cc2b402b5a0ad9b02144edd1daf40ca.\n\nReason for revert: Upstream Fix available at https://github.com/containers/podman-py/pull/351\n\nChange-Id: Iadb74ffb5a747bd16e6acebd6a9c22b3b7198fd0\n'}, {'number': 2, 'created': '2024-03-18 14:17:37.000000000', 'files': ['tests/templates/globals-default.j2', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b5088e22f65cb08b80c5c51e349846c57ec4cdf', 'message': 'Revert ""podman: install ""rich"" dependency""\n\nThis reverts commit 0b1a59dd8cc2b402b5a0ad9b02144edd1daf40ca.\n\nReason for revert: Upstream Fix available at https://github.com/containers/podman-py/pull/351\n\nChange-Id: Iadb74ffb5a747bd16e6acebd6a9c22b3b7198fd0\n'}]",2,902230,0b5088e22f65cb08b80c5c51e349846c57ec4cdf,15,3,2,32553,,,0,"Revert ""podman: install ""rich"" dependency""

This reverts commit 0b1a59dd8cc2b402b5a0ad9b02144edd1daf40ca.

Reason for revert: Upstream Fix available at https://github.com/containers/podman-py/pull/351

Change-Id: Iadb74ffb5a747bd16e6acebd6a9c22b3b7198fd0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/902230/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/globals-default.j2', 'tox.ini']",2,5e83e4338529d48f25d719c107e753ea57840efa,workaround-podman-issue,, rich,0,4
openstack%2Fmistral~914392,openstack/mistral,unmaintained/xena,I725a744c47a21350217400309d70446b6c4e9d43,Update .gitreview for unmaintained/xena,NEW,2024-03-26 17:54:17.000000000,2024-04-08 10:58:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 17:54:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral/commit/83987aca10bd18c004c209472e974e9ee0a068ba', 'message': 'Update .gitreview for unmaintained/xena\n\nChange-Id: I725a744c47a21350217400309d70446b6c4e9d43\n'}]",2,914392,83987aca10bd18c004c209472e974e9ee0a068ba,6,1,1,22816,,,0,"Update .gitreview for unmaintained/xena

Change-Id: I725a744c47a21350217400309d70446b6c4e9d43
",git fetch https://review.opendev.org/openstack/mistral refs/changes/92/914392/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,83987aca10bd18c004c209472e974e9ee0a068ba,create-xena,defaultbranch=unmaintained/xena,defaultbranch=stable/xena,1,1
openstack%2Fkeystone~915256,openstack/keystone,master,I53d66fe87179aac7b3e211c84fd9858b1157b352,Remove the password element from the generated dict in update_user,NEW,2024-04-08 09:16:12.000000000,2024-04-08 10:53:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-08 09:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7de655cd3704a69650822b9036f430b7d4e2e2ea', 'message': ""Remove the password element from the generated to_dict.\n\nThis prevents a log warning when a hashed password is too long for the\nconfigured password_hashing_algorithm, as the currently hashed password\nis passed into the from_dict method, which will try to 'set' the password\nusing the hashed value.\n\nAlso, handling of a password update is done later in this method, so the\nwarning message would also be misleading anyone interpreting the log lines,\nas the password is not updated using this logic.\n\nCloses-Bug: #2060441\nChange-Id: I53d66fe87179aac7b3e211c84fd9858b1157b352\n""}, {'number': 2, 'created': '2024-04-08 09:16:54.000000000', 'files': ['keystone/identity/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6d97d94be8664f95db8834ad8a821c0122b47e73', 'message': ""Remove the password element from the generated dict in update_user\n\nThis prevents a log warning when a hashed password is too long for the\nconfigured password_hashing_algorithm, as the currently hashed password\nis passed into the from_dict method, which will try to 'set' the password\nusing the hashed value.\n\nAlso, handling of a password update is done later in this method, so the\nwarning message would also be misleading anyone interpreting the log lines,\nas the password is not updated using this logic.\n\nCloses-Bug: #2060441\nChange-Id: I53d66fe87179aac7b3e211c84fd9858b1157b352\n""}]",0,915256,6d97d94be8664f95db8834ad8a821c0122b47e73,4,1,2,25468,,,0,"Remove the password element from the generated dict in update_user

This prevents a log warning when a hashed password is too long for the
configured password_hashing_algorithm, as the currently hashed password
is passed into the from_dict method, which will try to 'set' the password
using the hashed value.

Also, handling of a password update is done later in this method, so the
warning message would also be misleading anyone interpreting the log lines,
as the password is not updated using this logic.

Closes-Bug: #2060441
Change-Id: I53d66fe87179aac7b3e211c84fd9858b1157b352
",git fetch https://review.opendev.org/openstack/keystone refs/changes/56/915256/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/sql.py'],1,7de655cd3704a69650822b9036f430b7d4e2e2ea,bug-2060441," old_user_dict.pop('password', None)",,1,0
openstack%2Fkolla-ansible~915018,openstack/kolla-ansible,stable/zed,I91a2101ff26cb8568f4615b4cdca52dcf09e6978,Fix broken list concatenation in horizon role,MERGED,2024-04-05 06:04:36.000000000,2024-04-08 10:24:46.000000000,2024-04-08 10:23:36.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}, {'_account_id': 36201}]","[{'number': 1, 'created': '2024-04-05 06:04:36.000000000', 'files': ['releasenotes/notes/bug-2045660-inability-to-override-horizon-policy-files-c405906a9faf8f3b.yaml', 'ansible/roles/horizon/tasks/policy_item.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d649e3daf6b1055d8e2e5cd30fec6866cf9ae8b', 'message': 'Fix broken list concatenation in horizon role\n\nStarting with ansible-core 2.13, list concatenation format is changed\nand does not support concatenation operations outside of the jinja template.\n\nThe format change:\n\n  ""[1] + {{ [2] }}"" -> ""{{ [1] + [2] }}""\n\nThis affects the horizon role that iterates over existing policy files to\noverride and concatenate them into a single variable.\n\nCo-Authored-By: Dr. Jens Harbott <harbott@osism.tech>\n\nCloses-Bug: #2045660\nChange-Id: I91a2101ff26cb8568f4615b4cdca52dcf09e6978\n(cherry picked from commit 97cd173177c88f08e62fa4b4f57a3c34a46f1c2a)\n'}]",2,915018,4d649e3daf6b1055d8e2e5cd30fec6866cf9ae8b,16,8,1,27339,,,0,"Fix broken list concatenation in horizon role

Starting with ansible-core 2.13, list concatenation format is changed
and does not support concatenation operations outside of the jinja template.

The format change:

  ""[1] + {{ [2] }}"" -> ""{{ [1] + [2] }}""

This affects the horizon role that iterates over existing policy files to
override and concatenate them into a single variable.

Co-Authored-By: Dr. Jens Harbott <harbott@osism.tech>

Closes-Bug: #2045660
Change-Id: I91a2101ff26cb8568f4615b4cdca52dcf09e6978
(cherry picked from commit 97cd173177c88f08e62fa4b4f57a3c34a46f1c2a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/915018/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2045660-inability-to-override-horizon-policy-files-c405906a9faf8f3b.yaml', 'ansible/roles/horizon/tasks/policy_item.yml']",2,4d649e3daf6b1055d8e2e5cd30fec6866cf9ae8b,fix-horizon-role-stable/zed," custom_policy: ""{{ custom_policy + [overwritten_files.results.0.stat.path] }}"""," custom_policy: ""{{ custom_policy }} + [ '{{ overwritten_files.results.0.stat.path }}' ]""",8,1
openstack%2Fmistral~899563,openstack/mistral,master,I91ef9126d263fba89a2b0898d554de5ab44382fc,Headers propagation from an execution request to actions/notifications,NEW,2023-10-30 05:10:35.000000000,2024-04-08 09:34:32.000000000,,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-10-30 05:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/07ece4f084a598bbb5a7d5a8cf6619d97c14e6c5', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 2, 'created': '2023-10-30 05:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c4a59a85925b3222f3387507483c45d951ba949e', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 3, 'created': '2023-10-30 07:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b2787b8cfa8629ee6544ef192348aea8e9152964', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 4, 'created': '2023-11-02 20:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e664727aa4ad8bf03d7c495b3250bc0ececce45c', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 5, 'created': '2023-11-03 07:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6da0e68ffb2c81f66ab4b48937c71dff7aa4e9b1', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 6, 'created': '2023-11-03 08:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/aafe5a592362d5672a2e07515e57dd06631ecea0', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 7, 'created': '2023-11-03 09:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/26e0dd9807051829b30d2b94f5be26108931b54b', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 8, 'created': '2023-11-06 17:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8648b4ba6c1cb64b9175135ee1453eb21fc35241', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 9, 'created': '2023-11-29 07:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b249bf244f2956ccb020ee737fa7749d07aad8e9', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 10, 'created': '2024-03-14 11:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2b865faef51b3ed4963d99089000414e6ac1d5d1', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 11, 'created': '2024-03-15 13:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/91eabeb73522133fa0ba001284257876b005975f', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\n\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 12, 'created': '2024-03-15 14:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/68061090e345bce841e3d42e9a73c833dbdc023d', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 13, 'created': '2024-03-18 14:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e86c52077884ff91ad28215dba3caf4e22cab81c', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 14, 'created': '2024-03-18 17:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1d2c7223089b5e386e6e868c2e75559b8a4b09bf', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 15, 'created': '2024-04-08 06:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ad262b2f463f45d9f159d28ff9852b64ddf6f383', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}, {'number': 16, 'created': '2024-04-08 07:11:25.000000000', 'files': ['mistral/config.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/notifiers/test_notifier_servers.py', 'doc/source/user/main_features.rst', 'mistral/engine/tasks.py', 'mistral/context.py', 'mistral/engine/actions.py', 'mistral/notifiers/publishers/webhook.py', 'doc/source/admin/configuration/config-guide.rst', 'mistral/tests/unit/actions/test_std_http_action.py', 'mistral/api/controllers/v2/execution.py', 'mistral/actions/std_actions.py', 'mistral/tests/unit/actions/test_std_mistral_http_action.py', 'mistral/tests/unit/api/v2/test_executions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6c9276d3e2b2704c5d8afc07a6fc0002ebf5e5b7', 'message': 'Headers propagation from an execution request to actions/notifications\n\nCurrently Mistal doesn`t support distribution tracing, which means\nthat there`s no way to propagate traceId/spanId from an execution to\nrelated actions/notifications.\nIt leads us to an issue, because according to distribution tracing\nprinciples ""traceId"" should remain the same during the discovery\nprocess, which includes Mistral worflow execution.\nProposed solution is to keep some headers from execution request\nand propagate them later to actions/notifications.\nRegexp can be stored as env variable to define headers which\nwill be propagated.\n\nImplements blueprint add-headers-propagation\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\nChange-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc\n'}]",12,899563,6c9276d3e2b2704c5d8afc07a6fc0002ebf5e5b7,32,8,16,36440,,,0,"Headers propagation from an execution request to actions/notifications

Currently Mistal doesn`t support distribution tracing, which means
that there`s no way to propagate traceId/spanId from an execution to
related actions/notifications.
It leads us to an issue, because according to distribution tracing
principles ""traceId"" should remain the same during the discovery
process, which includes Mistral worflow execution.
Proposed solution is to keep some headers from execution request
and propagate them later to actions/notifications.
Regexp can be stored as env variable to define headers which
will be propagated.

Implements blueprint add-headers-propagation
Signed-off-by: Vadim Zelenevsky <wortellen@gmail.com>
Change-Id: I91ef9126d263fba89a2b0898d554de5ab44382fc
",git fetch https://review.opendev.org/openstack/mistral refs/changes/63/899563/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/context.py', 'mistral/config.py', 'mistral/engine/actions.py', 'mistral/notifiers/publishers/webhook.py', 'mistral/engine/workflows.py', 'mistral/api/controllers/v2/execution.py', 'mistral/actions/std_actions.py']",8,07ece4f084a598bbb5a7d5a8cf6619d97c14e6c5,headers-propagation, if context.execution.headers: if not self.headers: self.headers = {} self.headers.update(context.execution.headers) ,,71,1
openstack%2Fmistral~914514,openstack/mistral,master,Ie00d481b5e579afc76b67006c006f0c0b690e5b6,Fix retrying tasks after workflow is paused,NEW,2024-03-27 12:48:10.000000000,2024-04-08 09:25:17.000000000,,"[{'_account_id': 8731}, {'_account_id': 11583}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 35600}]","[{'number': 1, 'created': '2024-03-27 12:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d476f00dd47130cbcbbcf015fdeccd5e6c472f8b', 'message': ""Fix retrying tasks after workflow is paused\n\nCurrent behaviour if we pause an execution is task will\ncontinue execution until retry limit. We should also pause\ntask execution and continue it after workflow execution is\nresumed. It's more strange when Mistral itself is paused,\nbecause we also countinue run tasks.\nAs reties are mostly used when there is the likelihood\nof temporary problems like network problems, access to\nexeternal API etc. I think it's better to start retry\nexecution from the begining:\nRetry count: 10 ->\nPause execution at 5 retry ->\nResume execution ->\n15 retries finally\n\nSo we need to stop task retrying if workflow is paused\nand add marker that this task should be restarted after\nmistral is resumed.\nAfter workflow is resumed we should find all task to restart\nand create RunExistingTask commands.\n\nCloses-Bug: #1769012\nChange-Id: Ie00d481b5e579afc76b67006c006f0c0b690e5b6\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\n""}, {'number': 2, 'created': '2024-04-08 06:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/45d6edd151e9b8a88e46428d28f1e09ea01a070c', 'message': ""Fix retrying tasks after workflow is paused\n\nCurrent behaviour if we pause an execution is task will\ncontinue execution until retry limit. We should also pause\ntask execution and continue it after workflow execution is\nresumed. It's more strange when Mistral itself is paused,\nbecause we also countinue run tasks.\nAs reties are mostly used when there is the likelihood\nof temporary problems like network problems, access to\nexeternal API etc. I think it's better to start retry\nexecution from the begining:\nRetry count: 10 ->\nPause execution at 5 retry ->\nResume execution ->\n15 retries finally\n\nSo we need to stop task retrying if workflow is paused\nand add marker that this task should be restarted after\nmistral is resumed.\nAfter workflow is resumed we should find all task to restart\nand create RunExistingTask commands.\n\nCloses-Bug: #1769012\nChange-Id: Ie00d481b5e579afc76b67006c006f0c0b690e5b6\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\n""}, {'number': 3, 'created': '2024-04-08 07:13:55.000000000', 'files': ['mistral/workflow/base.py', 'mistral/engine/workflows.py', 'mistral/engine/policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/55a1118d3d6ab20acc094ef7776b62909100e8eb', 'message': ""Fix retrying tasks after workflow is paused\n\nCurrent behaviour if we pause an execution is task will\ncontinue execution until retry limit. We should also pause\ntask execution and continue it after workflow execution is\nresumed. It's more strange when Mistral itself is paused,\nbecause we also countinue run tasks.\nAs reties are mostly used when there is the likelihood\nof temporary problems like network problems, access to\nexeternal API etc. I think it's better to start retry\nexecution from the begining:\nRetry count: 10 ->\nPause execution at 5 retry ->\nResume execution ->\n15 retries finally\n\nSo we need to stop task retrying if workflow is paused\nand add marker that this task should be restarted after\nmistral is resumed.\nAfter workflow is resumed we should find all task to restart\nand create RunExistingTask commands.\n\nCloses-Bug: #1769012\nChange-Id: Ie00d481b5e579afc76b67006c006f0c0b690e5b6\nSigned-off-by: Vadim Zelenevsky <wortellen@gmail.com>\n""}]",1,914514,55a1118d3d6ab20acc094ef7776b62909100e8eb,7,8,3,36440,,,0,"Fix retrying tasks after workflow is paused

Current behaviour if we pause an execution is task will
continue execution until retry limit. We should also pause
task execution and continue it after workflow execution is
resumed. It's more strange when Mistral itself is paused,
because we also countinue run tasks.
As reties are mostly used when there is the likelihood
of temporary problems like network problems, access to
exeternal API etc. I think it's better to start retry
execution from the begining:
Retry count: 10 ->
Pause execution at 5 retry ->
Resume execution ->
15 retries finally

So we need to stop task retrying if workflow is paused
and add marker that this task should be restarted after
mistral is resumed.
After workflow is resumed we should find all task to restart
and create RunExistingTask commands.

Closes-Bug: #1769012
Change-Id: Ie00d481b5e579afc76b67006c006f0c0b690e5b6
Signed-off-by: Vadim Zelenevsky <wortellen@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/14/914514/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/base.py', 'mistral/engine/workflows.py', 'mistral/engine/policies.py']",3,d476f00dd47130cbcbbcf015fdeccd5e6c472f8b,bug/1769012, wf_ex = task.task_ex.workflow_execution stop_continue_flag = ( stop_continue_flag or wf_ex.state == states.PAUSED ) if wf_ex.state == states.PAUSED: policy_ctx['to_retry'] = 'true' task.touch_runtime_context() ,,29,1
openstack%2Fmistral~914372,openstack/mistral,unmaintained/victoria,I7beb8e002782363d671aada20a8a4c7173be186c,Update .gitreview for unmaintained/victoria,NEW,2024-03-26 17:51:24.000000000,2024-04-08 09:25:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 17:51:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9d365fcfc317e370ebc9bf9a5a13be63c21d2a3c', 'message': 'Update .gitreview for unmaintained/victoria\n\nChange-Id: I7beb8e002782363d671aada20a8a4c7173be186c\n'}]",1,914372,9d365fcfc317e370ebc9bf9a5a13be63c21d2a3c,4,1,1,22816,,,0,"Update .gitreview for unmaintained/victoria

Change-Id: I7beb8e002782363d671aada20a8a4c7173be186c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/72/914372/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9d365fcfc317e370ebc9bf9a5a13be63c21d2a3c,create-victoria,defaultbranch=unmaintained/victoria,defaultbranch=stable/victoria,1,1
openstack%2Fmistral~897639,openstack/mistral,master,Iabc1d6f8f5e3339a5b5a07e8a10c32ede3f657e8,WIP: New fields added to action execution context,NEW,2023-10-08 17:31:28.000000000,2024-04-08 08:51:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-10-08 17:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/aeccd703a030c49a3ec4589102616e85ce69dd85', 'message': 'WIP: New fields added to action execution context\n\n* with_items_index describes the current index of action,\nif there is no with-items tasks it should be 0.\n* task_rerun_no describes the current rerun index,\nif it is first run it should be 0.\n* task_rerun_id specifies id task has within\neach rerun. This id should be refreshed after each rerun.\n\nAll these fields will be helpful for writing custom actions\n\nDepends-On: https://review.opendev.org/c/openstack/mistral-lib/+/897638\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\nChange-Id: Iabc1d6f8f5e3339a5b5a07e8a10c32ede3f657e8\n'}, {'number': 2, 'created': '2023-10-23 13:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f40c9351d909acab72e9a38bf63a7f868959ee51', 'message': 'WIP: New fields added to action execution context\n\n* with_items_index describes the current index of action,\nif there is no with-items tasks it should be 0.\n* task_rerun_no describes the current rerun index,\nif it is first run it should be 0.\n* task_rerun_id specifies id task has within\neach rerun. This id should be refreshed after each rerun.\n\nAll these fields will be helpful for writing custom actions\n\nDepends-On: https://review.opendev.org/c/openstack/mistral-lib/+/897638\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\nChange-Id: Iabc1d6f8f5e3339a5b5a07e8a10c32ede3f657e8\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 3, 'created': '2023-11-28 18:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7bf0645c43c44f27f524090ad74374a92993f2b3', 'message': 'WIP: New fields added to action execution context\n\n* with_items_index describes the current index of action,\nif there is no with-items tasks it should be 0.\n* task_rerun_no describes the current rerun index,\nif it is first run it should be 0.\n* task_rerun_id specifies id task has within\neach rerun. This id should be refreshed after each rerun.\n\nAll these fields will be helpful for writing custom actions\n\nDepends-On: https://review.opendev.org/c/openstack/mistral-lib/+/897638\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\nChange-Id: Iabc1d6f8f5e3339a5b5a07e8a10c32ede3f657e8\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 4, 'created': '2024-03-14 11:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/210651ce60ea5781de6d58eb0625b68aeb923ca0', 'message': 'WIP: New fields added to action execution context\n\n* with_items_index describes the current index of action,\nif there is no with-items tasks it should be 0.\n* task_rerun_no describes the current rerun index,\nif it is first run it should be 0.\n* task_rerun_id specifies id task has within\neach rerun. This id should be refreshed after each rerun.\n\nAll these fields will be helpful for writing custom actions\n\nDepends-On: https://review.opendev.org/c/openstack/mistral-lib/+/897638\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\nChange-Id: Iabc1d6f8f5e3339a5b5a07e8a10c32ede3f657e8\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 5, 'created': '2024-04-08 06:46:32.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/engine/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/415a47d30a56102af2b519237c991bc07f6f5840', 'message': 'WIP: New fields added to action execution context\n\n* with_items_index describes the current index of action,\nif there is no with-items tasks it should be 0.\n* task_rerun_no describes the current rerun index,\nif it is first run it should be 0.\n* task_rerun_id specifies id task has within\neach rerun. This id should be refreshed after each rerun.\n\nAll these fields will be helpful for writing custom actions\n\nDepends-On: https://review.opendev.org/c/openstack/mistral-lib/+/897638\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\nChange-Id: Iabc1d6f8f5e3339a5b5a07e8a10c32ede3f657e8\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",2,897639,415a47d30a56102af2b519237c991bc07f6f5840,12,1,5,29124,,,0,"WIP: New fields added to action execution context

* with_items_index describes the current index of action,
if there is no with-items tasks it should be 0.
* task_rerun_no describes the current rerun index,
if it is first run it should be 0.
* task_rerun_id specifies id task has within
each rerun. This id should be refreshed after each rerun.

All these fields will be helpful for writing custom actions

Depends-On: https://review.opendev.org/c/openstack/mistral-lib/+/897638
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
Change-Id: Iabc1d6f8f5e3339a5b5a07e8a10c32ede3f657e8
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/39/897639/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/engine/actions.py']",2,aeccd703a030c49a3ec4589102616e85ce69dd85,new_context_fields," def _prepare_execution_context(self, with_items_index=0): res['with_items_index'] = with_items_index res['task_rerun_no'] = self.task_ex.runtime_context.get( 'task_rerun_no' ) res['task_rerun_id'] = self.task_ex.runtime_context.get( 'task_rerun_id' ) self._prepare_execution_context(with_items_index=index), self._prepare_execution_context(with_items_index=index),"," def _prepare_execution_context(self): self._prepare_execution_context(), self._prepare_execution_context(),",21,3
openstack%2Fpuppet-nova~915123,openstack/puppet-nova,master,I53763b2f6b065d98061cdfb8956bd505389b5c0a,Deprecate options for libvirt migration,ABANDONED,2024-04-05 11:31:09.000000000,2024-04-08 08:29:19.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 11:31:09.000000000', 'files': ['releasenotes/notes/migration-libvirt-migration_uri-37d5cd9577138f0a.yaml', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/00d7a67a6e402af0e586339b638328a4b2d01d68', 'message': 'Deprecate options for libvirt migration\n\nThis change deprecates the client_port, client_user and\nclient_extraparams parameters in the nova::migration::libvirt\nclass since there is no replacement for this logic, these\nwere used to set the live_migration_uri configuration option\nthat is deprecated in Nova.\n\nWe no longer set live_migration_uri and instead rely on only\nsetting the live_migration_scheme to what the transport for\nthe migration is.\n\nChange-Id: I53763b2f6b065d98061cdfb8956bd505389b5c0a\n'}]",3,915123,00d7a67a6e402af0e586339b638328a4b2d01d68,6,2,1,16137,,,0,"Deprecate options for libvirt migration

This change deprecates the client_port, client_user and
client_extraparams parameters in the nova::migration::libvirt
class since there is no replacement for this logic, these
were used to set the live_migration_uri configuration option
that is deprecated in Nova.

We no longer set live_migration_uri and instead rely on only
setting the live_migration_scheme to what the transport for
the migration is.

Change-Id: I53763b2f6b065d98061cdfb8956bd505389b5c0a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/23/915123/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migration-libvirt-migration_uri-37d5cd9577138f0a.yaml', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",3,00d7a67a6e402af0e586339b638328a4b2d01d68,, it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tcp')} it { is_expected.to contain_nova_config('libvirt/live_migration_inbound_addr').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls')} it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls')} it { is_expected.not_to contain_nova_config('libvirt/live_migration_scheme').with_value('tls') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('ssh') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tcp') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('tls') } it { is_expected.to contain_nova_config('libvirt/live_migration_scheme').with_value('ssh') }," it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tcp://%s/system') } it { is_expected.to contain_nova_config('libvirt/live_migration_inbound_addr').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system')} it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system')} it { is_expected.not_to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s/system')} end context 'with ssh transport with user' do let :params do { :transport => 'ssh', :client_user => 'foobar' } end it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://foobar@%s/system')} end context 'with ssh transport with port' do let :params do { :transport => 'ssh', :client_port => 1234 } end it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s:1234/system')} end context 'with ssh transport with extraparams' do let :params do { :transport => 'ssh', :client_extraparams => {'foo' => '%', 'bar' => 'baz'} } end it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s/system?foo=%%25&bar=baz')} it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tcp://%s/system') } it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+tls://%s/system')} it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s/system')} end context 'with ssh transport with user' do let :params do { :transport => 'ssh', :client_user => 'foobar', :modular_libvirt => true, } end it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://foobar@%s/system')} end context 'with ssh transport with port' do let :params do { :transport => 'ssh', :client_port => 1234, :modular_libvirt => true, } end it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s:1234/system')} end context 'with ssh transport with extraparams' do let :params do { :transport => 'ssh', :client_extraparams => {'foo' => '%', 'bar' => 'baz'}, :modular_libvirt => true, } end it { is_expected.to contain_nova_config('libvirt/live_migration_uri').with_value('qemu+ssh://%s/system?foo=%%25&bar=baz')}",46,109
openstack%2Fkolla-ansible~843748,openstack/kolla-ansible,master,I60162b54bc06e158534d29311d4474b34750c64d,Further Keystone-related cleanups,MERGED,2022-05-29 15:55:36.000000000,2024-04-08 08:13:42.000000000,2022-06-20 11:37:15.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-05-29 15:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7680d77d4680144d18bfaade7d8cba0de1892d7', 'message': 'Further Keystone-related cleanups\n\nPer comments on [1].\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843727\n\nChange-Id: I60162b54bc06e158534d29311d4474b34750c64d\n'}, {'number': 2, 'created': '2022-06-13 18:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b87409cd04843f8172cd2a31a9d77b4c6d15426a', 'message': 'Further Keystone-related cleanups\n\nPer comments on [1].\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843727\n\nChange-Id: I60162b54bc06e158534d29311d4474b34750c64d\n'}, {'number': 3, 'created': '2022-06-20 08:40:03.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/glance/templates/glance-swift.conf.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/freezer/templates/freezer.conf.j2', 'doc/source/user/multi-regions.rst', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/horizon/templates/local_settings.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'ansible/roles/octavia/templates/octavia-openrc.sh.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72b63dfee7ba60b935023099dba40711d134b8a4', 'message': 'Further Keystone-related cleanups\n\nPer comments on [1].\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843727\n\nChange-Id: I60162b54bc06e158534d29311d4474b34750c64d\n'}]",4,843748,72b63dfee7ba60b935023099dba40711d134b8a4,20,4,3,30491,,,0,"Further Keystone-related cleanups

Per comments on [1].

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/843727

Change-Id: I60162b54bc06e158534d29311d4474b34750c64d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/843748/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/glance/templates/glance-swift.conf.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/freezer/templates/freezer.conf.j2', 'doc/source/user/multi-regions.rst', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/horizon/templates/local_settings.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'ansible/roles/octavia/templates/octavia-openrc.sh.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2']",25,a7680d77d4680144d18bfaade7d8cba0de1892d7,no-keystone-admin,www_authenticate_uri = {{ keystone_internal_url }}swift_authurl = {{ keystone_internal_url }},www_authenticate_uri = {{ keystone_internal_url }}/v3swift_authurl = {{ keystone_internal_url }}/v3,44,49
openstack%2Fsunbeam-charms~915049,openstack/sunbeam-charms,main,I495218366a7ada02bfbeab016c11388c9b573bee,[tempest] add proxy settings to tempest commands,MERGED,2024-04-04 08:31:57.000000000,2024-04-08 07:56:26.000000000,2024-04-08 07:46:39.000000000,"[{'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2024-04-04 08:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/d2bd3e185b7f572ef44b1ddbdb8c19de6a798b23', 'message': '[tempest] add proxy settings to tempest commands\n\nRead proxy settings from JUJU_CHARM_*_PROXY and pass\nthem as environment variables to run tempest commands.\n\nChange-Id: I495218366a7ada02bfbeab016c11388c9b573bee\n'}, {'number': 2, 'created': '2024-04-04 10:12:54.000000000', 'files': ['charms/tempest-k8s/src/charm.py'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/23faabe2f59c1dae5785da6a79d288dbaa22c0b2', 'message': '[tempest] add proxy settings to tempest commands\n\nRead proxy settings from JUJU_CHARM_*_PROXY and pass\nthem as environment variables to run tempest commands.\n\nChange-Id: I495218366a7ada02bfbeab016c11388c9b573bee\n'}]",6,915049,23faabe2f59c1dae5785da6a79d288dbaa22c0b2,17,2,2,10366,,,0,"[tempest] add proxy settings to tempest commands

Read proxy settings from JUJU_CHARM_*_PROXY and pass
them as environment variables to run tempest commands.

Change-Id: I495218366a7ada02bfbeab016c11388c9b573bee
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/49/915049/1 && git format-patch -1 --stdout FETCH_HEAD,['charms/tempest-k8s/src/charm.py'],1,d2bd3e185b7f572ef44b1ddbdb8c19de6a798b23,tempest-add-proxy-settings,"import os def _get_proxy_environment(self) -> Dict[str, str]: """"""Return dictionary with proxy settings."""""" http_proxy = os.environ.get(""JUJU_CHARM_HTTP_PROXY"") https_proxy = os.environ.get(""JUJU_CHARM_HTTPS_PROXY"") no_proxy = os.environ.get(""JUJU_CHARM_NO_PROXY"") if http_proxy or https_proxy: return { ""HTTP_PROXY"": http_proxy, ""HTTPS_PROXY"": https_proxy, ""NO_PROXY"": no_proxy, } return {} tempest_env = { tempest_env.update(self._get_proxy_environment()) return tempest_env cleanup_env = { cleanup_env.update(self._get_proxy_environment()) return cleanup_env", return { return {,21,2
openstack%2Fopenstack-helm-infra~915040,openstack/openstack-helm-infra,master,Ia2ace3541be97577f1225d54417f6a287b7a8eb2,Update deploy-env role README.md,MERGED,2024-04-04 02:47:06.000000000,2024-04-08 07:52:41.000000000,2024-04-08 07:51:38.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-04-04 02:47:06.000000000', 'files': ['roles/deploy-env/README.md'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d203b22748916b2525c6ff48c0f6afe0678d555', 'message': 'Update deploy-env role README.md\n\nChange-Id: Ia2ace3541be97577f1225d54417f6a287b7a8eb2\n'}]",0,915040,4d203b22748916b2525c6ff48c0f6afe0678d555,8,3,1,3009,,,0,"Update deploy-env role README.md

Change-Id: Ia2ace3541be97577f1225d54417f6a287b7a8eb2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/915040/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/deploy-env/README.md'],1,4d203b22748916b2525c6ff48c0f6afe0678d555,,The role works both for single-node and multi-node inventories. The role totally relies on inventory groups. The `primary` and `k8s_control_plane` groups must include only one node and this can be the same node for these two groups. The `primary` group is where we install `kubectl` and `helm` CLI tools. You can consider this group as a deployer's machine. The `k8s_control_plane` is where we deploy the K8s control plane. The `k8s_cluster` group must include all the K8s nodes including control plane and worker nodes. In case of running tests on a single-node environment the group `k8s_nodes` must be empty. This means the K8s cluster will consist of a single control plane node where all the workloads will be running. k8s_control_plane:,The role works both for singlenode and multinode inventories and assumes the inventory has the node called `primary` and the group called `nodes`. k8s_control-plane:,17,3
openstack%2Fmistral-extra~914368,openstack/mistral-extra,unmaintained/victoria,I497b82e3c8dd1ecf460c890320fcf9ba215417d8,Update .gitreview for unmaintained/victoria,NEW,2024-03-26 17:50:48.000000000,2024-04-08 07:19:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 17:50:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/d0bd8ed7a4e54e2f9365eaed8b36350e007d5823', 'message': 'Update .gitreview for unmaintained/victoria\n\nChange-Id: I497b82e3c8dd1ecf460c890320fcf9ba215417d8\n'}]",1,914368,d0bd8ed7a4e54e2f9365eaed8b36350e007d5823,4,1,1,22816,,,0,"Update .gitreview for unmaintained/victoria

Change-Id: I497b82e3c8dd1ecf460c890320fcf9ba215417d8
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/68/914368/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d0bd8ed7a4e54e2f9365eaed8b36350e007d5823,create-victoria,defaultbranch=unmaintained/victoria,defaultbranch=stable/victoria,1,1
openstack%2Fmistral-extra~914378,openstack/mistral-extra,unmaintained/wallaby,Iedfdf122167af4a84eafbf4ce46aebaadfa67e07,Update .gitreview for unmaintained/wallaby,NEW,2024-03-26 17:52:16.000000000,2024-04-08 07:10:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 17:52:16.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/d45922f26f96700f769e62c46348354d6e09a202', 'message': 'Update .gitreview for unmaintained/wallaby\n\nChange-Id: Iedfdf122167af4a84eafbf4ce46aebaadfa67e07\n'}]",1,914378,d45922f26f96700f769e62c46348354d6e09a202,4,1,1,22816,,,0,"Update .gitreview for unmaintained/wallaby

Change-Id: Iedfdf122167af4a84eafbf4ce46aebaadfa67e07
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/78/914378/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d45922f26f96700f769e62c46348354d6e09a202,create-wallaby,defaultbranch=unmaintained/wallaby,defaultbranch=stable/wallaby,1,1
openstack%2Fmistral-extra~914369,openstack/mistral-extra,master,I5930de346a32c7dbe1a0b95a0bd0f3de65f37dd5,reno: Update master for unmaintained/victoria,MERGED,2024-03-26 17:50:51.000000000,2024-04-08 07:07:34.000000000,2024-04-08 07:05:57.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:50:51.000000000', 'files': ['releasenotes/source/victoria.rst'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/86ebf67528dcc8979f27e925efb9ac3f6db085ce', 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I5930de346a32c7dbe1a0b95a0bd0f3de65f37dd5\n'}]",0,914369,86ebf67528dcc8979f27e925efb9ac3f6db085ce,7,2,1,22816,,,0,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I5930de346a32c7dbe1a0b95a0bd0f3de65f37dd5
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/69/914369/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/victoria.rst'],1,86ebf67528dcc8979f27e925efb9ac3f6db085ce,reno-eom-victoria, :branch: unmaintained/victoria, :branch: stable/victoria,1,1
openstack%2Fmistral-extra~914390,openstack/mistral-extra,master,Ida971b906fe63e1b1a282821e67c231e657b30f7,reno: Update master for unmaintained/xena,MERGED,2024-03-26 17:53:47.000000000,2024-04-08 07:06:50.000000000,2024-04-08 07:05:55.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:53:47.000000000', 'files': ['releasenotes/source/xena.rst'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/7b9e41596896f0a627f6ee140141b5521bedd3bb', 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: Ida971b906fe63e1b1a282821e67c231e657b30f7\n'}]",0,914390,7b9e41596896f0a627f6ee140141b5521bedd3bb,7,2,1,22816,,,0,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: Ida971b906fe63e1b1a282821e67c231e657b30f7
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/90/914390/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/xena.rst'],1,7b9e41596896f0a627f6ee140141b5521bedd3bb,reno-eom-xena, :branch: unmaintained/xena, :branch: stable/xena,1,1
openstack%2Fmistral-extra~914379,openstack/mistral-extra,master,I2a780ebd21461437a08cbb6b6535bc91d39acdc3,reno: Update master for unmaintained/wallaby,MERGED,2024-03-26 17:52:18.000000000,2024-04-08 07:05:56.000000000,2024-04-08 07:05:56.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:52:18.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/a504b9867aea82e29e6218147d758e800715139d', 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I2a780ebd21461437a08cbb6b6535bc91d39acdc3\n'}]",0,914379,a504b9867aea82e29e6218147d758e800715139d,6,2,1,22816,,,0,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: I2a780ebd21461437a08cbb6b6535bc91d39acdc3
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/79/914379/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,a504b9867aea82e29e6218147d758e800715139d,reno-eom-wallaby, :branch: unmaintained/wallaby, :branch: stable/wallaby,1,1
openstack%2Fmistral-extra~914389,openstack/mistral-extra,unmaintained/xena,Icd4c4a0bb5fb5645f4b4a387897d89e1933feef6,Update .gitreview for unmaintained/xena,NEW,2024-03-26 17:53:45.000000000,2024-04-08 07:05:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 17:53:45.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/df42f6a062d236646ea2f7091229a28abf8b93ff', 'message': 'Update .gitreview for unmaintained/xena\n\nChange-Id: Icd4c4a0bb5fb5645f4b4a387897d89e1933feef6\n'}]",1,914389,df42f6a062d236646ea2f7091229a28abf8b93ff,4,1,1,22816,,,0,"Update .gitreview for unmaintained/xena

Change-Id: Icd4c4a0bb5fb5645f4b4a387897d89e1933feef6
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/89/914389/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,df42f6a062d236646ea2f7091229a28abf8b93ff,create-xena,defaultbranch=unmaintained/xena,defaultbranch=stable/xena,1,1
openstack%2Fmistral~914373,openstack/mistral,master,I009d7c8c6113d9f54e4536e3ac73d46ee2fb26fa,reno: Update master for unmaintained/victoria,MERGED,2024-03-26 17:51:26.000000000,2024-04-08 07:00:35.000000000,2024-04-08 06:59:33.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:51:26.000000000', 'files': ['releasenotes/source/victoria.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0ff5fcf11eba590bd303e5a8eca83c05ac1d60e7', 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I009d7c8c6113d9f54e4536e3ac73d46ee2fb26fa\n'}]",0,914373,0ff5fcf11eba590bd303e5a8eca83c05ac1d60e7,7,2,1,22816,,,0,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I009d7c8c6113d9f54e4536e3ac73d46ee2fb26fa
",git fetch https://review.opendev.org/openstack/mistral refs/changes/73/914373/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/victoria.rst'],1,0ff5fcf11eba590bd303e5a8eca83c05ac1d60e7,reno-eom-victoria, :branch: unmaintained/victoria, :branch: stable/victoria,1,1
openstack%2Fmistral-lib~914381,openstack/mistral-lib,unmaintained/wallaby,Ibe47d6d76598f7cf4cb865583477eaa74a6962df,Update TOX_CONSTRAINTS_FILE for unmaintained/wallaby,NEW,2024-03-26 17:52:34.000000000,2024-04-08 06:57:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 17:52:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/803a1a866262425ca5f956c145d59844623d893b', 'message': 'Update TOX_CONSTRAINTS_FILE for unmaintained/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as unmaintained/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ibe47d6d76598f7cf4cb865583477eaa74a6962df\n'}]",1,914381,803a1a866262425ca5f956c145d59844623d893b,4,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for unmaintained/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as unmaintained/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ibe47d6d76598f7cf4cb865583477eaa74a6962df
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/81/914381/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,803a1a866262425ca5f956c145d59844623d893b,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fmistral~914384,openstack/mistral,master,Ia5121151f341a3d1c99508aedabb148eb4de0a65,reno: Update master for unmaintained/wallaby,MERGED,2024-03-26 17:52:56.000000000,2024-04-08 06:55:35.000000000,2024-04-08 06:54:13.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:52:56.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5d09a6d4af11e612c1d286a2f1d9dee8108ea902', 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: Ia5121151f341a3d1c99508aedabb148eb4de0a65\n'}]",0,914384,5d09a6d4af11e612c1d286a2f1d9dee8108ea902,7,2,1,22816,,,0,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: Ia5121151f341a3d1c99508aedabb148eb4de0a65
",git fetch https://review.opendev.org/openstack/mistral refs/changes/84/914384/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,5d09a6d4af11e612c1d286a2f1d9dee8108ea902,reno-eom-wallaby, :branch: unmaintained/wallaby, :branch: stable/wallaby,1,1
openstack%2Fmistral-lib~914371,openstack/mistral-lib,master,I89634eecf93fbfe9ebcd0cf06235a27e1d3878dd,reno: Update master for unmaintained/victoria,MERGED,2024-03-26 17:51:07.000000000,2024-04-08 06:54:53.000000000,2024-04-08 06:53:41.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:51:07.000000000', 'files': ['releasenotes/source/victoria.rst'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/68bd847a71d9f3598faa499a58379785b34de1ef', 'message': 'reno: Update master for unmaintained/victoria\n\nUpdate the victoria release notes configuration to build from\nunmaintained/victoria.\n\nChange-Id: I89634eecf93fbfe9ebcd0cf06235a27e1d3878dd\n'}]",0,914371,68bd847a71d9f3598faa499a58379785b34de1ef,7,2,1,22816,,,0,"reno: Update master for unmaintained/victoria

Update the victoria release notes configuration to build from
unmaintained/victoria.

Change-Id: I89634eecf93fbfe9ebcd0cf06235a27e1d3878dd
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/71/914371/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/victoria.rst'],1,68bd847a71d9f3598faa499a58379785b34de1ef,reno-eom-victoria, :branch: unmaintained/victoria, :branch: stable/victoria,1,1
openstack%2Fmistral~914394,openstack/mistral,master,I38fc12b83cfafd56b2820265413535634a220b27,reno: Update master for unmaintained/xena,MERGED,2024-03-26 17:54:22.000000000,2024-04-08 06:54:29.000000000,2024-04-08 06:53:19.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:54:22.000000000', 'files': ['releasenotes/source/xena.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b18129bb18f4f46ad5fa99d82115b9060d0db107', 'message': 'reno: Update master for unmaintained/xena\n\nUpdate the xena release notes configuration to build from\nunmaintained/xena.\n\nChange-Id: I38fc12b83cfafd56b2820265413535634a220b27\n'}]",0,914394,b18129bb18f4f46ad5fa99d82115b9060d0db107,7,2,1,22816,,,0,"reno: Update master for unmaintained/xena

Update the xena release notes configuration to build from
unmaintained/xena.

Change-Id: I38fc12b83cfafd56b2820265413535634a220b27
",git fetch https://review.opendev.org/openstack/mistral refs/changes/94/914394/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/xena.rst'],1,b18129bb18f4f46ad5fa99d82115b9060d0db107,reno-eom-xena, :branch: unmaintained/xena, :branch: stable/xena,1,1
openstack%2Fmistral-lib~914382,openstack/mistral-lib,master,I8f919410e677cd2ce53ca242bb9b7a5690340c89,reno: Update master for unmaintained/wallaby,MERGED,2024-03-26 17:52:37.000000000,2024-04-08 06:54:08.000000000,2024-04-08 06:53:03.000000000,"[{'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2024-03-26 17:52:37.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/ab500b73afe270f9f625460d7db2e4cdd02002b3', 'message': 'reno: Update master for unmaintained/wallaby\n\nUpdate the wallaby release notes configuration to build from\nunmaintained/wallaby.\n\nChange-Id: I8f919410e677cd2ce53ca242bb9b7a5690340c89\n'}]",0,914382,ab500b73afe270f9f625460d7db2e4cdd02002b3,7,2,1,22816,,,0,"reno: Update master for unmaintained/wallaby

Update the wallaby release notes configuration to build from
unmaintained/wallaby.

Change-Id: I8f919410e677cd2ce53ca242bb9b7a5690340c89
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/82/914382/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,ab500b73afe270f9f625460d7db2e4cdd02002b3,reno-eom-wallaby, :branch: unmaintained/wallaby, :branch: stable/wallaby,1,1
openstack%2Fmistral-lib~914380,openstack/mistral-lib,unmaintained/wallaby,I7c6321b8b074bad55c443a120d9dbae32d4b555e,Update .gitreview for unmaintained/wallaby,NEW,2024-03-26 17:52:32.000000000,2024-04-08 06:53:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-26 17:52:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/5982cbb01eb618b917cb9b6e2022c948aa1809e5', 'message': 'Update .gitreview for unmaintained/wallaby\n\nChange-Id: I7c6321b8b074bad55c443a120d9dbae32d4b555e\n'}]",1,914380,5982cbb01eb618b917cb9b6e2022c948aa1809e5,4,1,1,22816,,,0,"Update .gitreview for unmaintained/wallaby

Change-Id: I7c6321b8b074bad55c443a120d9dbae32d4b555e
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/80/914380/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5982cbb01eb618b917cb9b6e2022c948aa1809e5,create-wallaby,defaultbranch=unmaintained/wallaby,,1,0
openstack%2Fopenstack-helm~904977,openstack/openstack-helm,master,I5c05831f3b959c41e4c84e34cb9ace7b2cb00d7c,ADD log_dir option for keystone,ABANDONED,2024-01-15 11:26:02.000000000,2024-04-08 06:43:26.000000000,,"[{'_account_id': 3009}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-15 11:26:02.000000000', 'files': ['keystone/templates/cron-job-credential-rotate.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'keystone/templates/job-db-sync.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/values.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df77c3ae09501caa3a410e1397a0db79ee9c5c96', 'message': 'ADD log_dir option for keystone\n\nChange-Id: I5c05831f3b959c41e4c84e34cb9ace7b2cb00d7c\n'}]",3,904977,df77c3ae09501caa3a410e1397a0db79ee9c5c96,5,2,1,31827,,,0,"ADD log_dir option for keystone

Change-Id: I5c05831f3b959c41e4c84e34cb9ace7b2cb00d7c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/904977/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/cron-job-credential-rotate.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'keystone/templates/job-db-sync.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/values.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/Chart.yaml']",10,df77c3ae09501caa3a410e1397a0db79ee9c5c96,,version: 0.3.8,version: 0.3.7,77,1
openstack%2Fopenstack-helm~907655,openstack/openstack-helm,master,Iff8050203abc48b895fc4cf7561796baaeda94e7,add an example of keystone configuration which allows you to connect to an already configured test LDAP server,ABANDONED,2024-02-03 22:55:00.000000000,2024-04-08 06:43:12.000000000,,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 34017}]","[{'number': 1, 'created': '2024-02-03 22:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bedbc64dd74926e5f79bf7545b9a78b7613077c', 'message': 'adds an example of keystone configuration which allows you to connect to an already configured test LDAP server\n\nChange-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7\n'}, {'number': 2, 'created': '2024-02-04 10:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9431313de216e1515c0932baef7761985d5246ff', 'message': 'add an example of keystone configuration which allows you to connect to an already configured test LDAP server\n\nChange-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7\n'}, {'number': 3, 'created': '2024-02-04 11:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da346411e1e6e5be194eb585f93e4aebfd62f957', 'message': 'adds an example of keystone configuration which allows you to connect to an already configured test LDAP server\n\nChange-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7\n'}, {'number': 4, 'created': '2024-02-04 11:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/403f18c51224ee354491c3cb92ad2e5b6225f078', 'message': 'add an example of keystone configuration which allows you to connect to an already configured test LDAP server\n\nChange-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7\n'}, {'number': 5, 'created': '2024-02-04 19:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a0a02201289b15280449b873a14f84068f35652', 'message': 'add an example of keystone configuration which allows you to connect to an already configured test LDAP server\n\nChange-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7\n'}, {'number': 6, 'created': '2024-02-10 11:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8727f5c4d8239564479c77b1432dc2f45e3c31d', 'message': 'add an example of keystone configuration which allows you to connect to an already configured test LDAP server\n\nChange-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7\n'}, {'number': 7, 'created': '2024-02-10 14:31:40.000000000', 'files': ['keystone/values_overrides/online_ldap_test_server.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/114ac4b18bbf7c6ff8ee3a8208fddd525cfb9e53', 'message': 'add an example of keystone configuration which allows you to connect to an already configured test LDAP server\n\nChange-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7\n'}]",3,907655,114ac4b18bbf7c6ff8ee3a8208fddd525cfb9e53,16,3,7,32791,,,0,"add an example of keystone configuration which allows you to connect to an already configured test LDAP server

Change-Id: Iff8050203abc48b895fc4cf7561796baaeda94e7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/907655/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values_overrides/online_ldap_test_server.yaml'],1,9bedbc64dd74926e5f79bf7545b9a78b7613077c,add_value_example_keystone_with_online_ldap_test_server,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. --- conf: keystone: identity: driver: sql default_domain_id: default domain_specific_drivers_enabled: True domain_configurations_from_database: True domain_config_dir: /etc/keystone/domains ks_domains: ldapdomain: identity: driver: ldap ldap: url: ldap://ldap.forumsys.com:389 user: cn=read-only-admin,dc=example,dc=com password: password user_tree_dn: dc=example,dc=com debug_level: 4095 # https://www.forumsys.com/2022/05/10/online-ldap-test-server/ # example login: user:Gauss password:password domain:ldapdomain # if you have message You are not authorized for any projects or domains, # this message is normal, you must add the user to a project in the ldapdomain domain via the admin account on the Default domain (by switching context to ldapdomain) ",,37,0
openstack%2Fskyline-apiserver~877775,openstack/skyline-apiserver,master,Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e,WIP: test,NEW,2023-03-17 09:39:38.000000000,2024-04-08 06:38:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-03-17 09:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/8cf4dc5631cdc87cc53370d4143fca7003336090', 'message': 'WIP: test\n\nChange-Id: Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e\n'}, {'number': 2, 'created': '2023-06-02 09:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2744d4b3c375b017d8eb17f823eeb08309b2b51e', 'message': 'WIP: test\n\nChange-Id: Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e\n'}, {'number': 3, 'created': '2023-08-18 03:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4737eafcfdff0bf87fb58b19b019166bd1820e8c', 'message': 'WIP: test\n\nChange-Id: Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e\n'}, {'number': 4, 'created': '2023-08-18 03:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3476084835b26083a4044e5a4741700a2e520058', 'message': 'WIP: test\n\nChange-Id: Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e\n'}, {'number': 5, 'created': '2023-10-18 02:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/eb54f9f2c0beb2a18a3cb5b85a27a1cc88b0e5f3', 'message': 'WIP: test\n\nChange-Id: Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e\n'}, {'number': 6, 'created': '2024-04-08 05:54:43.000000000', 'files': ['Makefile'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/6cc1cadd391c2ec32384ba990cbd494da375b440', 'message': 'WIP: test\n\nChange-Id: Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e\n'}]",0,877775,6cc1cadd391c2ec32384ba990cbd494da375b440,13,2,6,28706,,,0,"WIP: test

Change-Id: Ib54e1f7f11ec4503a2489dcae6486d388d5ec32e
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/75/877775/1 && git format-patch -1 --stdout FETCH_HEAD,['Makefile'],1,8cf4dc5631cdc87cc53370d4143fca7003336090,,," # Find python files without ""type annotations"" future_check: @find skyline_apiserver ! -size 0 -type f -name *.py -exec grep -L 'from __future__ import annotations' {} \;",0,5
openstack%2Fopenstack-helm~915178,openstack/openstack-helm,master,I2b2b9bcf6d7dd6e7513bd76ca6714acc77eb86d1,keystone: allow custom annotations on jobs,MERGED,2024-04-05 19:31:12.000000000,2024-04-08 06:37:16.000000000,2024-04-08 06:36:19.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-04-05 19:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/932ede5c64c546bb317e4b09d1e8fdc6a710efe9', 'message': 'keystone: allow custom annotations on jobs\n\nDepends-On: I5d60fe849e172c19d865b614c3c44ea618f92f20\nChange-Id: I2b2b9bcf6d7dd6e7513bd76ca6714acc77eb86d1\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 2, 'created': '2024-04-06 21:47:53.000000000', 'files': ['keystone/values_overrides/annotations.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/templates/job-credential-cleanup.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3458483fab4c1433a04d4fe7037f739adf8ed94a', 'message': 'keystone: allow custom annotations on jobs\n\nDepends-On: I5d60fe849e172c19d865b614c3c44ea618f92f20\nChange-Id: I2b2b9bcf6d7dd6e7513bd76ca6714acc77eb86d1\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}]",4,915178,3458483fab4c1433a04d4fe7037f739adf8ed94a,15,3,2,5890,,,0,"keystone: allow custom annotations on jobs

Depends-On: I5d60fe849e172c19d865b614c3c44ea618f92f20
Change-Id: I2b2b9bcf6d7dd6e7513bd76ca6714acc77eb86d1
Signed-off-by: Doug Goldstein <doug.goldstein@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/78/915178/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone.yaml', 'keystone/templates/job-credential-cleanup.yaml', 'keystone/templates/job-domain-manage.yaml', 'keystone/templates/job-fernet-setup.yaml', 'keystone/templates/job-credential-setup.yaml', 'keystone/Chart.yaml']",6,932ede5c64c546bb317e4b09d1e8fdc6a710efe9,keystone-job-annotations,version: 0.3.10,version: 0.3.9,6,1
openstack%2Fkolla~902514,openstack/kolla,master,I54693e725f88709fbb50c1c0b8cf835b6b614abb,Unify curl use,NEW,2023-12-05 01:09:49.000000000,2024-04-08 06:27:23.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-12-05 01:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/776325150d7fc3915257fc8c34e4d575aadd5685', 'message': 'Unify curl use\n\nThis change provides the ability for user to override the URLs\nby UPPER_CONSTRAINTS_FILE options\n\nThis change is a continuation of the\nI1fbad333b1bc95484e6f4c5145d5936a0e2db84f\n\nChange-Id: I54693e725f88709fbb50c1c0b8cf835b6b614abb\n'}, {'number': 2, 'created': '2023-12-05 01:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8259af58769fbb6cf25d21f6ffac27a2974e0af0', 'message': 'Unify curl use\n\nThis change provides the ability for user to override the URLs\nby UPPER_CONSTRAINTS_FILE options\n\nThis change is a continuation of the\nI1fbad333b1bc95484e6f4c5145d5936a0e2db84f\n\nChange-Id: I54693e725f88709fbb50c1c0b8cf835b6b614abb\n'}, {'number': 3, 'created': '2023-12-05 06:37:33.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'kolla/image/kolla_worker.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/670e39958734bb2938a35cfaf436426147ac9d17', 'message': 'Unify curl use\n\nThis change provides the ability for user to override the URLs\nby UPPER_CONSTRAINTS_FILE options\n\nThis change is a continuation of the\nI1fbad333b1bc95484e6f4c5145d5936a0e2db84f\n\nChange-Id: I54693e725f88709fbb50c1c0b8cf835b6b614abb\n'}]",6,902514,670e39958734bb2938a35cfaf436426147ac9d17,12,3,3,31827,,,0,"Unify curl use

This change provides the ability for user to override the URLs
by UPPER_CONSTRAINTS_FILE options

This change is a continuation of the
I1fbad333b1bc95484e6f4c5145d5936a0e2db84f

Change-Id: I54693e725f88709fbb50c1c0b8cf835b6b614abb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/902514/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,776325150d7fc3915257fc8c34e4d575aadd5685,, && curl -o /requirements/upper-constraints.txt ${UPPER_CONSTRAINTS_FILE:-https://releases.openstack.org/constraints/upper/{{ openstack_release }}} \,,1,0
openstack%2Fopenstack-helm-infra~914221,openstack/openstack-helm-infra,master,Ia23370d07faf1f8a1e05447459ce9872e8d4e875,Add 2023.2 Ubuntu Jammy overrides,MERGED,2024-03-26 07:58:15.000000000,2024-04-08 06:24:03.000000000,2024-04-08 06:23:01.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-03-26 07:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/077a37bef37ad160f23fbaf0b6219a32eb060607', 'message': 'Update python2 to python3\n\nChange-Id: Ia23370d07faf1f8a1e05447459ce9872e8d4e875\n'}, {'number': 2, 'created': '2024-03-27 02:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f1d6b2bd5128f41175f3cdd3c31704443f50adb', 'message': 'Update gnocchi image from python2 to python3\n\nChange-Id: Ia23370d07faf1f8a1e05447459ce9872e8d4e875\n'}, {'number': 3, 'created': '2024-03-28 06:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cccbae5e7c39af653526f25c3728faa5586fa226', 'message': 'Update gnocchi image to 2023.2-ubuntu-jammy\n\nChange-Id: Ia23370d07faf1f8a1e05447459ce9872e8d4e875\n'}, {'number': 4, 'created': '2024-03-28 06:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2e892437a2a846b29bcd531c2a2db778b0dfa36', 'message': 'Update gnocchi image to 2023.2-ubuntu-jammy\n\nChange-Id: Ia23370d07faf1f8a1e05447459ce9872e8d4e875\n'}, {'number': 5, 'created': '2024-03-28 07:43:42.000000000', 'files': ['releasenotes/notes/gnocchi.yaml', 'gnocchi/values.yaml', 'gnocchi/values_overrides/2023.2-ubuntu-jammy.yaml', 'gnocchi/templates/deployment-api.yaml', 'gnocchi/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa0a5c9c3d5261b94e0ac7e50b3987ba9a1a3c50', 'message': 'Add 2023.2 Ubuntu Jammy overrides\n\nChange-Id: Ia23370d07faf1f8a1e05447459ce9872e8d4e875\n'}]",5,914221,aa0a5c9c3d5261b94e0ac7e50b3987ba9a1a3c50,22,3,5,31827,,,0,"Add 2023.2 Ubuntu Jammy overrides

Change-Id: Ia23370d07faf1f8a1e05447459ce9872e8d4e875
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/21/914221/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/values.yaml', 'gnocchi/templates/deployment-api.yaml']",2,077a37bef37ad160f23fbaf0b6219a32eb060607,,, mountPath: /etc/gnocchi/api-paste.ini subPath: api-paste.ini readOnly: true - name: gnocchi-etc,11,15
openstack%2Fswift~667030,openstack/swift,master,Ie105210fd4dc627d61d0cbd28fd468be4917f558,Auto-sharding: first attempt at _elect_leader,NEW,2019-06-24 07:15:53.000000000,2024-04-08 06:15:08.000000000,,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 07:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/11f754519ef28c1afaec9ea3233390e3de032f14', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThis initial patch completes 2 preparations. Firstly plumbs the ringbuilder\nversion into RingData and into the Ring. Bonus drive by, now when you rebuild\nthe builder from a ring the version is maintained.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 2, 'created': '2019-06-24 23:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/af1f6122944617c443d41baa2e38ee99218e91e8', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThis initial patch completes 2 preparations. Firstly plumbs the ringbuilder\nversion into RingData and into the Ring. Bonus drive by, now when you rebuild\nthe builder from a ring the version is maintained.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 3, 'created': '2019-06-28 07:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5204e5b8e75c5ce57ee61c6398181af568df19bb', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThis initial patch completes 2 preparations. Firstly plumbs the ringbuilder\nversion into RingData and into the Ring. Bonus drive by, now when you rebuild\nthe builder from a ring the version is maintained.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 4, 'created': '2019-07-22 09:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/815e12b9cf6e1937e24adff0c08e3b3f692771d8', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThe autosharding needs to preperations. More info needs to be referencable from\nthe ring, this has been pulled out into Tim's patch 670673, namely the ring version.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 5, 'created': '2019-10-08 03:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e65eb54377d4d11017cdb9e5ec592f54dea600d6', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThe autosharding needs to preperations. More info needs to be referencable from\nthe ring, this has been pulled out into Tim's patch 670673, namely the ring version.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 6, 'created': '2019-10-08 03:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/74632cd8334914e7e8175be34bd88db08ba6d818', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThe autosharding needs to preperations. More info needs to be referencable from\nthe ring, this has been pulled out into Tim's patch 670673, namely the ring version.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 7, 'created': '2020-04-20 07:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f4cc87b9d645b1c050e684964f48c744dd87a61', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThe autosharding needs to preperations. More info needs to be referencable from\nthe ring, this has been pulled out into Tim's patch 670673, namely the ring version.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 8, 'created': '2020-04-21 04:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e4a2abb2aa191142b5c69e25b9db2a0b62e9872c', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThe autosharding needs to preperations. More info needs to be referencable from\nthe ring, this has been pulled out into Tim's patch 670673, namely the ring version.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 9, 'created': '2020-06-04 01:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a99faba07978e698ff6523bcb8f87088cdfb74c0', 'message': ""Auto-sharding: Initial steps\n\nThis patch is starting to set up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam's\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n\xa0\xa0- And a mix of historic versions 1 and 2:\n\xa0\xa0  1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n\xa0\xa0\xa0\xa02. Use Sam's index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don't agree with the latest ring version).\n\xa0 - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n\xa0\xa0- Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nThe autosharding needs to preperations. More info needs to be referencable from\nthe ring, this has been pulled out into Tim's patch 670673, namely the ring version.\n\nAnd secondly, creates an ELECT verb in the continer server that will\npull in the ring (when needed) and return a response with a json body\ncontaining the node, partition and ring version that the sharder will\nneed to make a decision.\n\nThere is also a small amount of prep in the sharder.\n\nNote, even this first patch is WIP, there was still tests and\ndocumentation updates required to it before we can even think of landing\nit.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n""}, {'number': 10, 'created': '2024-03-20 06:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/84ffe70f9a8bb8ff8599d9775f9a502163ef4916', 'message': 'Auto-sharding: first attempt at _elect_leader\n\nThis patch sets up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam\'s\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n  - And a mix of historic versions 1 and 2:\n    1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n    2. Use Sam\'s index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don\'t agree with the latest ring version).\n  - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n  - Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nFor elections the sharder can make an ELECT call using a new ELECT verb\nin the continer server that will pull in the ring (when needed)\nand return a response with a json body containing the node, partition and\nring version that the sharder will need to make a decision:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[1].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[2]\n    ~ True if there is still a quorum of responses that think it\'s me[3]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\n[1] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[2] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[3] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n'}, {'number': 11, 'created': '2024-03-21 05:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6fa4b85f263d67bb979579e3733336fe0bb2de60', 'message': 'Auto-sharding: first attempt at _elect_leader\n\nThis patch sets up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam\'s\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n  - And a mix of historic versions 1 and 2:\n    1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n    2. Use Sam\'s index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don\'t agree with the latest ring version).\n  - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n  - Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nFor elections the sharder can make an ELECT call using a new ELECT verb\nin the continer server that will pull in the ring (when needed)\nand return a response with a json body containing the node, partition and\nring version that the sharder will need to make a decision:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[1].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[2]\n    ~ True if there is still a quorum of responses that think it\'s me[3]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\n[1] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[2] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[3] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n'}, {'number': 12, 'created': '2024-03-22 05:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ea35b7f8516a09a27c4ff6508436f73d0fb861f0', 'message': 'Auto-sharding: first attempt at _elect_leader\n\nThis patch sets up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam\'s\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n  - And a mix of historic versions 1 and 2:\n    1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n    2. Use Sam\'s index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don\'t agree with the latest ring version).\n  - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n  - Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nFor elections the sharder can make an ELECT call using a new ELECT verb\nin the continer server that will pull in the ring (when needed)\nand return a response with a json body containing the node, partition and\nring version that the sharder will need to make a decision:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[1].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[2]\n    ~ True if there is still a quorum of responses that think it\'s me[3]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\n[1] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[2] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[3] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n'}, {'number': 13, 'created': '2024-03-25 04:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa284b8444282912f5485a7e3c260be2087b150c', 'message': 'Auto-sharding: first attempt at _elect_leader\n\nThis patch sets up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam\'s\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n  - And a mix of historic versions 1 and 2:\n    1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n    2. Use Sam\'s index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don\'t agree with the latest ring version).\n  - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n  - Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version.\n\nFor elections the sharder can make an ELECT call using a new ELECT verb\nin the continer server that will pull in the ring (when needed)\nand return a response with a json body containing the node, partition and\nring version that the sharder will need to make a decision:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[1].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[2]\n    ~ True if there is still a quorum of responses that think it\'s me[3]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\n[1] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[2] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[3] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n'}, {'number': 14, 'created': '2024-04-08 04:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f60de3c533c68dcb3ab30375c99c5c38b9ddc7e6', 'message': 'Auto-sharding: first attempt at _elect_leader\n\nThis patch sets up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam\'s\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n  - And a mix of historic versions 1 and 2:\n    1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n    2. Use Sam\'s index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don\'t agree with the latest ring version).\n  - Default is majority quorum, but we may want to be extra careful and\n    use the _all_ primary quorum.\n  - Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version AND\n    3. what is you db_state AND\n    4. do you already have shards (although this only comes when we\n       don\'t scan in batches).\n\nFor elections the sharder can make an ELECT call using a new ELECT verb\nin the continer server that will pull in the ring (when needed)\nand return a response with a json body containing the node, partition and\nring version that the sharder will need to make a decision:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>,\n   ""db_state"": <db_state>,\n   ""has_shards"": <true/false>}\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[1].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[2]\n    ~ True if there is still a quorum of responses that think it\'s me[3]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\n[1] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[2] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[3] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n'}, {'number': 15, 'created': '2024-04-08 04:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f9c7a0b1859ccd082f97f558df61f8777a9ac229', 'message': 'Auto-sharding: first attempt at _elect_leader\n\nThis patch sets up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam\'s\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n  - And a mix of historic versions 1 and 2:\n    1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n    2. Use Sam\'s index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don\'t agree with the latest ring version).\n  - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n  - Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version AND\n    3. what is the current db_state\n\nFor elections the sharder can make an ELECT call using a new ELECT verb\nin the continer server that will pull in the ring (when needed)\nand return a response with a json body containing the node, partition and\nring version that the sharder will need to make a decision:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[1].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[2]\n    ~ True if there is still a quorum of responses that think it\'s me[3]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\n[1] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[2] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[3] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n'}, {'number': 16, 'created': '2024-04-08 04:59:33.000000000', 'files': ['swift/container/server.py', 'etc/container-server.conf-sample', 'test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/93ebb5493aa93e3f976d3f3c6b4a526acd17973f', 'message': 'Auto-sharding: first attempt at _elect_leader\n\nThis patch sets up the code to support\nauto-sharding 2.0. This is the start of a patch chain\nthat will attempt to implement what was discussed at\nthe PTG in denver[0].\n\nThe next auto-shard version will continue to use Sam\'s\nindex 0 node to be the leader, but will also use ring\nversion counter to strip ignore any old nodes in the cluster.\nThis will require some quorum checks with other primary nodes.\n\nThe general plan is:\n  - The scanner will use a 2 phase check.\n  - And a mix of historic versions 1 and 2:\n    1. The scanner will use the 2 phase checking.\n          am I index 0 > scan > am I still the scanner > commit shard ranges\n    2. Use Sam\'s index 0, but also include the ring version when making a decision,\n       as a way to discredit old primaries that are now handoff nodes\n       (if they don\'t agree with the latest ring version).\n  - To start with be extra cautious. NOT majority quorum _all_ primary quorum.\n  - Response from each primary during quorum check will be:\n    1. who do you think index 0 is AND\n    2. what is your current ring version AND\n    3. what is the current db_state\n\nFor elections the sharder can make an ELECT call using a new ELECT verb\nin the continer server that will pull in the ring (when needed)\nand return a response with a json body containing the node, partition and\nring version that the sharder will need to make a decision:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[1].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[2]\n    ~ True if there is still a quorum of responses that think it\'s me[3]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next\nsteps)\n\n[1] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[2] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[3] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558\n'}]",17,667030,93ebb5493aa93e3f976d3f3c6b4a526acd17973f,42,3,16,7233,,,0,"Auto-sharding: first attempt at _elect_leader

This patch sets up the code to support
auto-sharding 2.0. This is the start of a patch chain
that will attempt to implement what was discussed at
the PTG in denver[0].

The next auto-shard version will continue to use Sam's
index 0 node to be the leader, but will also use ring
version counter to strip ignore any old nodes in the cluster.
This will require some quorum checks with other primary nodes.

The general plan is:
  - The scanner will use a 2 phase check.
  - And a mix of historic versions 1 and 2:
    1. The scanner will use the 2 phase checking.
          am I index 0 > scan > am I still the scanner > commit shard ranges
    2. Use Sam's index 0, but also include the ring version when making a decision,
       as a way to discredit old primaries that are now handoff nodes
       (if they don't agree with the latest ring version).
  - To start with be extra cautious. NOT majority quorum _all_ primary quorum.
  - Response from each primary during quorum check will be:
    1. who do you think index 0 is AND
    2. what is your current ring version AND
    3. what is the current db_state

For elections the sharder can make an ELECT call using a new ELECT verb
in the continer server that will pull in the ring (when needed)
and return a response with a json body containing the node, partition and
ring version that the sharder will need to make a decision:

  {""node"": <index 0 node dict from ring>,
   ""part"": <ring partition>,
   ""status"": <db status>,
   ""version"": <ring version>}

Currently the auto-sharding has been implemented to search for x shards,
add them, and then next round find the next x. So scanning takes a while.
With the OP driven sharding, we scan for _all_ the shard ranges and then
insert them. This seems to be working even on large containers.
I wonder if we should do the same in auto sharding? Scan for them all,
check to see if we are still the leader (the authority on shard ranges)
and if so insert them.
By using the db state we can make a decison. I.E if one of the other
primaries are already in the the SHARDING or SHARDED state then the
election should fail as someone else has inserted something (an OP
or a split brain leader election thing).

We are being very safe, initially using an ALL primary majority. This
could mean that on very large containers by the time the leader has
finally scanned all ranges and ready to insert, a rebalance may have
taken place and potentially a new leader will need to start again.
Turns out if we ever get into a state that means the container can't
progress then we have the OP tool to fall back on.

The current implementation goes something like this:
 - Send an ELECT call to all other primaries and gather responses.
 - Decide if I am the scanner based on some all the responses, including
my own. These entail:
    ~ False if number of responses is < quorum
    ~ If there is more then one index 0 node (comparing only IP and
      PORT) then filter the responses to only those with the latest ring
      version[1].
    ~ False if any of the responses are in SHARDING or SHARDED state.
    ~ Make sure at least a quorum of responses are UNSHARDED[2]
    ~ True if there is still a quorum of responses that think it's me[3]
    ~ otherwise return false

This obviously only works in a scan all ranges scenario, currently the
code hasn't been modified to this, it's still X by X mode.

[0] https://etherpad.openstack.org/p/swift-ptg-train (see Sharding next
steps)

[1] - If there is a new ring version it might not effect our primaries,
so if they all agree it's me regardless on ring version then great
(though I haven't added a return True here yet cause still not
convinced).

[2] - At the moment we on ALL quorum, if this ever changes we want a
quorum of primaries to agree noting that we'd have bombed out if we found
any in the SHARDING or SHARDED state. Why this then, if we hit a node
that doesn't have the DB (either because it's new or it's replicated it
away already) then the db state will be NOTFOUND. But it still has a
ring so should know who it thinks index 0 should be, so maybe it's vote
still means something.

[3] - This guy is convinced he is index 0, so just confirming, if it
isn't then _elect_leader will return false (ie well it isn't me then).

Change-Id: Ie105210fd4dc627d61d0cbd28fd468be4917f558
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/667030/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'swift/container/server.py', 'swift/cli/ringbuilder.py', 'swift/container/sharder.py', 'swift/common/ring/ring.py']",5,11f754519ef28c1afaec9ea3233390e3de032f14,auto_sharding-patch13," next_part_power=None, version=None): self.version = version ring_data.get('next_part_power'), ring_data.get('version')) 'byteorder': sys.byteorder, 'version': ring['version']} 'next_part_power': self.next_part_power, 'version': self.version} self.version = ring_data.version", next_part_power=None): ring_data.get('next_part_power')) 'byteorder': sys.byteorder} 'next_part_power': self.next_part_power},63,10
openstack%2Fmanila~915061,openstack/manila,master,I37bbe45d6d9ce41a3c238e33d4469f9a362491ad,db: Remove unnecessary warning filter,MERGED,2024-04-04 12:30:43.000000000,2024-04-08 05:34:31.000000000,2024-04-08 03:42:31.000000000,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-04 12:30:43.000000000', 'files': ['manila/test.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/96274a077aa7660cbae9ee78c0afd5196f59c24d', 'message': ""db: Remove unnecessary warning filter\n\nChange Ie8831c04b7b4515deea27b1ceb472d07cda91ca0 replace the only users\nof 'autoload' with 'autoload_with'.\n\nChange-Id: I37bbe45d6d9ce41a3c238e33d4469f9a362491ad\n""}]",4,915061,96274a077aa7660cbae9ee78c0afd5196f59c24d,28,4,1,15334,,,0,"db: Remove unnecessary warning filter

Change Ie8831c04b7b4515deea27b1ceb472d07cda91ca0 replace the only users
of 'autoload' with 'autoload_with'.

Change-Id: I37bbe45d6d9ce41a3c238e33d4469f9a362491ad
",git fetch https://review.opendev.org/openstack/manila refs/changes/61/915061/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/test.py'],1,96274a077aa7660cbae9ee78c0afd5196f59c24d,sqlalchemy-20,," message='The autoload parameter is deprecated ', category=sqla_exc.SADeprecationWarning, ) warnings.filterwarnings( 'ignore', module='manila',",0,7
openstack%2Fswift~667579,openstack/swift,master,I7f9b3769406b1d139d75aaca166bdb1355b14b1a,sharding: first attempt at _elect_leader,ABANDONED,2019-06-26 10:54:47.000000000,2024-04-08 04:49:29.000000000,,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 10:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/326ce0df1922972140dc66d774bbc024ff3b34f4', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nIt starts by adding a little more to the ELECT container server verb\nby also returning the db state. Why? Because it means we can be\nsmarter about making a decision. (Though I should push this in the\nprevious patch in the chain).\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy getting the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}, {'number': 2, 'created': '2019-06-28 07:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fdf2d27865ed0ce5f99659f5354a7ba67874c30e', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}, {'number': 3, 'created': '2019-07-02 05:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fda1e8fe21320dc1110a849ca38c46971e14edbb', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}, {'number': 4, 'created': '2019-07-22 09:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ff946862499e0369f57fbfa65e2ee4e2f3af2c43', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}, {'number': 5, 'created': '2019-10-08 03:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be459b13cdea1f37a7acc3d3458d3f7eabf4d893', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}, {'number': 6, 'created': '2020-04-20 07:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f50c6933cc61b2ec0c1a7f5ce85f0d97e33aeb38', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}, {'number': 7, 'created': '2020-04-21 04:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/455b836fe96ce27c75ca620fd09cdd4be30f378c', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}, {'number': 8, 'created': '2020-06-04 01:03:26.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d28d816ab6bf55ac2a12ed24b7d090c4a23c5b2a', 'message': 'sharding: first attempt at _elect_leader\n\nThis patch builds up from the last in the chain and implements\nan initial version of the _elect_leader code in the sharder.\n\nCurrently the auto-sharding has been implemented to search for x shards,\nadd them, and then next round find the next x. So scanning takes a while.\nWith the OP driven sharding, we scan for _all_ the shard ranges and then\ninsert them. This seems to be working even on large containers.\nI wonder if we should do the same in auto sharding? Scan for them all,\ncheck to see if we are still the leader (the authority on shard ranges)\nand if so insert them.\nBy using the db state we can make a decison. I.E if one of the other\nprimaries are already in the the SHARDING or SHARDED state then the\nelection should fail as someone else has inserted something (an OP\nor a split brain leader election thing).\n\nWe are being very safe, initially using an ALL primary majority. This\ncould mean that on very large containers by the time the leader has\nfinally scanned all ranges and ready to insert, a rebalance may have\ntaken place and potentially a new leader will need to start again.\nTurns out if we ever get into a state that means the container can\'t\nprogress then we have the OP tool to fall back on.\n\nAn ELECT call returns a json response in the form of:\n\n  {""node"": <index 0 node dict from ring>,\n   ""part"": <ring partition>,\n   ""status"": <db status>,\n   ""version"": <ring version>}\n\nThe current implementation goes something like this:\n - Send an ELECT call to all other primaries and gather responses.\n - Decide if I am the scanner based on some all the responses, including\nmy own. These entail:\n    ~ False if number of responses is < quorum\n    ~ If there is more then one index 0 node (comparing only IP and\n      PORT) then filter the responses to only those with the latest ring\n      version[0].\n    ~ False if any of the responses are in SHARDING or SHARDED state.\n    ~ Make sure at least a quorum of responses are UNSHARDED[1]\n    ~ True if there is still a quorum of responses that think it\'s me[2]\n    ~ otherwise return false\n\nThis obviously only works in a scan all ranges scenario, currently the\ncode hasn\'t been modified to this, it\'s still X by X mode.\n\n[0] - If there is a new ring version it might not effect our primaries,\nso if they all agree it\'s me regardless on ring version then great\n(though I haven\'t added a return True here yet cause still not\nconvinced).\n\n[1] - At the moment we on ALL quorum, if this ever changes we want a\nquorum of primaries to agree noting that we\'d have bombed out if we found\nany in the SHARDING or SHARDED state. Why this then, if we hit a node\nthat doesn\'t have the DB (either because it\'s new or it\'s replicated it\naway already) then the db state will be NOTFOUND. But it still has a\nring so should know who it thinks index 0 should be, so maybe it\'s vote\nstill means something.\n\n[2] - This guy is convinced he is index 0, so just confirming, if it\nisn\'t then _elect_leader will return false (ie well it isn\'t me then).\n\nChange-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a\n'}]",5,667579,d28d816ab6bf55ac2a12ed24b7d090c4a23c5b2a,21,3,8,7233,,,0,"sharding: first attempt at _elect_leader

This patch builds up from the last in the chain and implements
an initial version of the _elect_leader code in the sharder.

Currently the auto-sharding has been implemented to search for x shards,
add them, and then next round find the next x. So scanning takes a while.
With the OP driven sharding, we scan for _all_ the shard ranges and then
insert them. This seems to be working even on large containers.
I wonder if we should do the same in auto sharding? Scan for them all,
check to see if we are still the leader (the authority on shard ranges)
and if so insert them.
By using the db state we can make a decison. I.E if one of the other
primaries are already in the the SHARDING or SHARDED state then the
election should fail as someone else has inserted something (an OP
or a split brain leader election thing).

We are being very safe, initially using an ALL primary majority. This
could mean that on very large containers by the time the leader has
finally scanned all ranges and ready to insert, a rebalance may have
taken place and potentially a new leader will need to start again.
Turns out if we ever get into a state that means the container can't
progress then we have the OP tool to fall back on.

An ELECT call returns a json response in the form of:

  {""node"": <index 0 node dict from ring>,
   ""part"": <ring partition>,
   ""status"": <db status>,
   ""version"": <ring version>}

The current implementation goes something like this:
 - Send an ELECT call to all other primaries and gather responses.
 - Decide if I am the scanner based on some all the responses, including
my own. These entail:
    ~ False if number of responses is < quorum
    ~ If there is more then one index 0 node (comparing only IP and
      PORT) then filter the responses to only those with the latest ring
      version[0].
    ~ False if any of the responses are in SHARDING or SHARDED state.
    ~ Make sure at least a quorum of responses are UNSHARDED[1]
    ~ True if there is still a quorum of responses that think it's me[2]
    ~ otherwise return false

This obviously only works in a scan all ranges scenario, currently the
code hasn't been modified to this, it's still X by X mode.

[0] - If there is a new ring version it might not effect our primaries,
so if they all agree it's me regardless on ring version then great
(though I haven't added a return True here yet cause still not
convinced).

[1] - At the moment we on ALL quorum, if this ever changes we want a
quorum of primaries to agree noting that we'd have bombed out if we found
any in the SHARDING or SHARDED state. Why this then, if we hit a node
that doesn't have the DB (either because it's new or it's replicated it
away already) then the db state will be NOTFOUND. But it still has a
ring so should know who it thinks index 0 should be, so maybe it's vote
still means something.

[2] - This guy is convinced he is index 0, so just confirming, if it
isn't then _elect_leader will return false (ie well it isn't me then).

Change-Id: I7f9b3769406b1d139d75aaca166bdb1355b14b1a
",git fetch https://review.opendev.org/openstack/swift refs/changes/79/667579/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'swift/container/sharder.py']",2,326ce0df1922972140dc66d774bbc024ff3b34f4,auto-sharding-2.0,"from swift.common.bufferedhttp import http_connect_rawfrom swift.common.exceptions import DeviceUnavailable, ConnectionTimeout from swift.common.http import is_success self.cpool = GreenAsyncPile(self.cpool) def _send_elect_request(self, node, path): headers = {'user-agent': 'container-sharder %s' % os.getpid(), 'X-Timestamp': Timestamp(time.time()).normal} try: with ConnectionTimeout(self.conn_timeout): conn = http_connect_raw(node['ip'], node['port'], 'ELECT', path, headers) with Timeout(self.node_timeout): response = conn.getresponse() return response except (Exception, Timeout) as x: self.logger.info(str(x)) # Need to do something here. return None def _elect_process_result(self, responses, total_nodes, this_node): def version_key(x): return x['version'] def already_has_ranges(x): return x['status'] in [SHARDING, SHARDED] def sum_helper_unsharded(x): if x['status'] == UNSHARDED: return 1 return 0 def sum_helper_is_it_me(x): if x['ip'] == this_node['ip'] and x['port'] == this_node['port']: return 1 return 0 q_size = self.quorum_size(total_nodes) if q_size > len(responses): # Didn't receive enough responses return False if len({(r['node']['ip'], r['node']['port']) for r in responses}) > 1: # we have more then 1 potential candidate. Filter only the # latest ring version latest_version = max( responses, key=version_key)['version'] responses = [r for r in responses if r['version'] == latest_version] if any(map(already_has_ranges, responses)): # One of nodes has the container and it already has values so fail return False # make sure a quorum of responses are from unsharded primary nodes if sum(map(sum_helper_unsharded, responses)) < q_size: return False # If everyone still agrees it's me.. then let's go! if sum(map(sum_helper_is_it_me, responses)) >= q_size: return True return False nodes = self.ring.get_part_nodes(part) responses = [{ # First the local response ""node"": nodes, ""part"": part, ""status"": broker.get_db_state(), ""version"": self.ring.version}] path = ""{}/{}"".format(broker.account, broker.container) # We only need nodes that aren't us. for n in nodes: if self._check_node(n): continue self.cpool.spawn( self._send_elect_request, n, path) for resp in self.cpool: if not resp: continue if not is_success(resp.status): continue try: responses.append(json.loads(resp.read())) except ValueError: continue return self._elect_process_result(responses, len(nodes), node)",from swift.common.exceptions import DeviceUnavailable return True,113,6
openstack%2Fopenstack-helm-infra~914906,openstack/openstack-helm-infra,master,I5d60fe849e172c19d865b614c3c44ea618f92f20,add custom job annotations snippet and use it,MERGED,2024-04-02 17:09:36.000000000,2024-04-08 04:15:33.000000000,2024-04-08 04:12:31.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 34311}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-04-02 17:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd43035d7b68874cf0ae0931551f17e2424d493e', 'message': 'add custom job annotations snippet\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 2, 'created': '2024-04-02 21:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a6122fbb03e79e91f276bebb21d0aa86f5c4bbb2', 'message': 'add custom job annotations snippet\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 3, 'created': '2024-04-02 22:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ed6b50a0608dd5f1375445417dedcb9d248d2d7', 'message': 'add custom job annotations snippet\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 4, 'created': '2024-04-03 13:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dd513143f76395cb9c041c0541e3a073c25a731e', 'message': 'add custom job annotations snippet\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 5, 'created': '2024-04-03 19:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d2fbc418c75552164c91ff8e2b95297d3cbdf88', 'message': 'add custom job annotations snippet\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 6, 'created': '2024-04-05 15:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee813ec80b71b1ce5357cdd09541b5d49ebf0866', 'message': 'add custom job annotations snippet and use it\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs. Use the snippet in a generic way in the\njob templates provided by helm-toolkit.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 7, 'created': '2024-04-05 18:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/323c23df62eb04a668bf0a3e02ac8d5968dbee9a', 'message': 'add custom job annotations snippet and use it\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs. Use the snippet in a generic way in the\njob templates provided by helm-toolkit.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nDepends-On: I3991d6984563813d5a3a776eabd52e2e89933bd8\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}, {'number': 8, 'created': '2024-04-05 23:53:19.000000000', 'files': ['helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/snippets/_custom_job_annotations.tpl', 'releasenotes/notes/helm-toolkit.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/929ebf5200112d011b90415f1d82e4e1677909c5', 'message': 'add custom job annotations snippet and use it\n\nAdd the ability for charts that use helm-toolkit to allow the users to\nset custom annotations on jobs. Use the snippet in a generic way in the\njob templates provided by helm-toolkit.\n\nChange-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20\nDepends-On: I3991d6984563813d5a3a776eabd52e2e89933bd8\nSigned-off-by: Doug Goldstein <doug.goldstein@rackspace.com>\n'}]",10,914906,929ebf5200112d011b90415f1d82e4e1677909c5,35,4,8,5890,,,0,"add custom job annotations snippet and use it

Add the ability for charts that use helm-toolkit to allow the users to
set custom annotations on jobs. Use the snippet in a generic way in the
job templates provided by helm-toolkit.

Change-Id: I5d60fe849e172c19d865b614c3c44ea618f92f20
Depends-On: I3991d6984563813d5a3a776eabd52e2e89933bd8
Signed-off-by: Doug Goldstein <doug.goldstein@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/06/914906/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/Chart.yaml', 'helm-toolkit/templates/snippets/_custom_job_annotations.tpl', 'releasenotes/notes/helm-toolkit.yaml']",3,fd43035d7b68874cf0ae0931551f17e2424d493e,custom-job-annotations, - 0.2.63 Add custom job annotations snippet,,78,1
openstack%2Fopenstack-helm-infra~914999,openstack/openstack-helm-infra,master,I3991d6984563813d5a3a776eabd52e2e89933bd8,Run more test jobs when helm-toolkit updated,MERGED,2024-04-03 19:09:39.000000000,2024-04-08 04:14:43.000000000,2024-04-08 04:12:30.000000000,"[{'_account_id': 5890}, {'_account_id': 22348}, {'_account_id': 34311}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-04-03 19:09:39.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51c7affc72020bac5035476b0f8c36fa098f253e', 'message': 'Run more test jobs when helm-toolkit updated\n\nSpecifically we would like at least the following\ndeployments to be tested when helm-toolkit is updated\n- compute-kit\n- cinder\n- tls\n\nChange-Id: I3991d6984563813d5a3a776eabd52e2e89933bd8\n'}]",1,914999,51c7affc72020bac5035476b0f8c36fa098f253e,12,4,1,3009,,,0,"Run more test jobs when helm-toolkit updated

Specifically we would like at least the following
deployments to be tested when helm-toolkit is updated
- compute-kit
- cinder
- tls

Change-Id: I3991d6984563813d5a3a776eabd52e2e89933bd8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/914999/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,51c7affc72020bac5035476b0f8c36fa098f253e,, - ^helm-toolkit/.* - ^helm-toolkit/.* - ^helm-toolkit/.*,,3,0
openstack%2Fheat~913855,openstack/heat,master,I7b141f8846005da8379b1c646b298088d27a66bc,Fix update of OS::Heat::UpdateWaitConditionHandle,MERGED,2024-03-21 00:51:18.000000000,2024-04-08 03:01:13.000000000,2024-03-25 09:32:18.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2024-03-21 00:51:18.000000000', 'files': ['heat/engine/resources/openstack/heat/wait_condition_handle.py', 'releasenotes/notes/fix-update-of-UpdateWaitConditionHandle-98ef3ed47892bbc8.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/399352dfdc5a68bdb439b5ee65f550e126792877', 'message': 'Fix update of OS::Heat::UpdateWaitConditionHandle\n\nThe update method has incomplete arguments and causes error during\nactual stack update operation.\n\nStory: 2011068\nTask: 49751\nChange-Id: I7b141f8846005da8379b1c646b298088d27a66bc\n'}]",3,913855,399352dfdc5a68bdb439b5ee65f550e126792877,13,6,1,9816,,,0,"Fix update of OS::Heat::UpdateWaitConditionHandle

The update method has incomplete arguments and causes error during
actual stack update operation.

Story: 2011068
Task: 49751
Change-Id: I7b141f8846005da8379b1c646b298088d27a66bc
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/913855/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/wait_condition_handle.py', 'releasenotes/notes/fix-update-of-UpdateWaitConditionHandle-98ef3ed47892bbc8.yaml']",2,399352dfdc5a68bdb439b5ee65f550e126792877,story/2011068,"--- features: - | Fixed the ``OS::Heat::UpdateWaitConditionHandle`` resource type, which caused stack update to fail consistently. ",,7,1
openstack%2Fmanila~896930,openstack/manila,master,I38ae324d5edb3705b559c3706d6888f08473a633,db: Remove session arguments from AZ methods,MERGED,2023-09-29 11:19:38.000000000,2024-04-08 01:33:18.000000000,2024-04-03 21:11:12.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-09-29 11:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d66e65e469e0349e0259ed112ba4914fdcb56553', 'message': 'db: Remove session arguments from AZ methods\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I38ae324d5edb3705b559c3706d6888f08473a633\n'}, {'number': 2, 'created': '2024-04-03 10:57:25.000000000', 'files': ['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d581714351dc0ae4ce6345f71335a2ee4445fc0a', 'message': 'db: Remove session arguments from AZ methods\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I38ae324d5edb3705b559c3706d6888f08473a633\n'}]",2,896930,d581714351dc0ae4ce6345f71335a2ee4445fc0a,21,3,2,15334,,,0,"db: Remove session arguments from AZ methods

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I38ae324d5edb3705b559c3706d6888f08473a633
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/896930/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,d66e65e469e0349e0259ed112ba4914fdcb56553,sqlalchemy-20,"def _availability_zone_get(context, id_or_name): query = model_query(context, models.AvailabilityZone)def _availability_zone_create_if_not_exist(context, name): try: return _availability_zone_get(context, name) az.save(session=context.session)","# TODO(stephenfin): Remove the 'session' argument once all callers have been # converteddef _availability_zone_get(context, id_or_name, session=None): query = model_query(context, models.AvailabilityZone, session=session)# TODO(stephenfin): Remove the 'session' argument once all callers have been # converteddef _availability_zone_create_if_not_exist(context, name, session=None): try: return _availability_zone_get(context, name, session=session) # TODO(stephenfin): Remove this branch once all callers have been # updated not to pass 'session' if session is not None: with session.begin(): az.save(session) else: az.save(context.session)",5,15
openstack%2Foslo.service~910502,openstack/oslo.service,master,Ie6632c60db2bda10ad13a2ac2931b88ad52c10f4,Update sslutils.wrap for newer Pythons,MERGED,2024-02-28 12:15:59.000000000,2024-04-08 01:00:32.000000000,2024-04-08 00:59:34.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 36102}]","[{'number': 1, 'created': '2024-02-28 12:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/40670f2ec8835a72aabcbb57616975dcfe108e2f', 'message': 'Update sslutils.wrap for newer Pythons\n\nMake use of SSLContext to configure and then wrap sockets.\n\nFor Pythons >= 3.12 ssl.wrap_socket was been remove and this\nis the only approach for configuring SSL options.\n\nThis should be compatible with Python 3.6 or later.\n\nChange-Id: Ie6632c60db2bda10ad13a2ac2931b88ad52c10f4\n'}, {'number': 2, 'created': '2024-04-03 23:48:23.000000000', 'files': ['oslo_service/tests/test_sslutils.py', 'oslo_service/sslutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/5810d016e18a655c7ef2f3c3e7a74dbedc690812', 'message': 'Update sslutils.wrap for newer Pythons\n\nMake use of SSLContext to configure and then wrap sockets.\n\nFor Pythons >= 3.12 ssl.wrap_socket was been remove and this\nis the only approach for configuring SSL options.\n\nThis should be compatible with Python 3.6 or later.\n\nChange-Id: Ie6632c60db2bda10ad13a2ac2931b88ad52c10f4\n'}]",4,910502,5810d016e18a655c7ef2f3c3e7a74dbedc690812,15,4,2,935,,,0,"Update sslutils.wrap for newer Pythons

Make use of SSLContext to configure and then wrap sockets.

For Pythons >= 3.12 ssl.wrap_socket was been remove and this
is the only approach for configuring SSL options.

This should be compatible with Python 3.6 or later.

Change-Id: Ie6632c60db2bda10ad13a2ac2931b88ad52c10f4
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/02/910502/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_service/tests/test_sslutils.py', 'oslo_service/sslutils.py']",2,40670f2ec8835a72aabcbb57616975dcfe108e2f,py312-ssl-compat," ssl_version = ssl.PROTOCOL_TLS_SERVER if conf.ssl.version: key = conf.ssl.version.lower() try: ssl_version = _SSL_PROTOCOLS[key] except KeyError: raise RuntimeError( _(""Invalid SSL version : %s"") % conf.ssl.version) context = ssl.SSLContext(ssl_version) context.load_cert_chain(conf.ssl.cert_file, conf.ssl.key_file) context.verify_mode = ssl.CERT_REQUIRED context.load_verify_locations(conf.ssl.ca_file) else: context.check_hostname = False context.verify_mode = ssl.CERT_NONE if conf.ssl.ciphers: context.set_ciphers(conf.ssl.ciphers) return context.wrap_socket(sock, server_side=True)"," ssl_kwargs = { 'server_side': True, 'certfile': conf.ssl.cert_file, 'keyfile': conf.ssl.key_file, 'cert_reqs': ssl.CERT_NONE, } ssl_kwargs['ca_certs'] = conf.ssl.ca_file ssl_kwargs['cert_reqs'] = ssl.CERT_REQUIRED if conf.ssl.version: key = conf.ssl.version.lower() try: ssl_kwargs['ssl_version'] = _SSL_PROTOCOLS[key] except KeyError: raise RuntimeError( _(""Invalid SSL version : %s"") % conf.ssl.version) if conf.ssl.ciphers: ssl_kwargs['ciphers'] = conf.ssl.ciphers # NOTE(eezhova): SSL/TLS protocol version is injected in ssl_kwargs above, # so skipping bandit check return ssl.wrap_socket(sock, **ssl_kwargs) # nosec",51,43
openstack%2Fpuppet-openstack-integration~914982,openstack/puppet-openstack-integration,master,I92739e07fcd62f31a24a78eebf550ed89c5518ac,DNM: testing ...,ABANDONED,2024-04-03 15:04:19.000000000,2024-04-07 23:51:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-03 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fc5c524b9fe8ce29005be8435874bf03871356c0', 'message': 'DNM: testing ...\n\nChange-Id: I92739e07fcd62f31a24a78eebf550ed89c5518ac\n'}, {'number': 2, 'created': '2024-04-04 03:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9fc535ede39d849369567fbeb534ec9004cf3921', 'message': 'DNM: testing ...\n\nChange-Id: I92739e07fcd62f31a24a78eebf550ed89c5518ac\n'}, {'number': 3, 'created': '2024-04-04 03:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fbb3e6a574d10a2902c9a8154669024ca8367179', 'message': 'DNM: testing ...\n\nChange-Id: I92739e07fcd62f31a24a78eebf550ed89c5518ac\n'}, {'number': 4, 'created': '2024-04-04 06:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8bcdd3cf10178eecd0c5587a72bffad5ccbfcf42', 'message': 'DNM: testing ...\n\nChange-Id: I92739e07fcd62f31a24a78eebf550ed89c5518ac\n'}, {'number': 5, 'created': '2024-04-04 10:32:31.000000000', 'files': ['fixtures/scenario001.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/231096e2bd0f716b12065c122c4fa39b4a9a1e90', 'message': 'DNM: testing ...\n\nChange-Id: I92739e07fcd62f31a24a78eebf550ed89c5518ac\n'}]",1,914982,231096e2bd0f716b12065c122c4fa39b4a9a1e90,12,1,5,9816,,,0,"DNM: testing ...

Change-Id: I92739e07fcd62f31a24a78eebf550ed89c5518ac
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/82/914982/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario001.pp'],1,fc5c524b9fe8ce29005be8435874bf03871356c0,, $ssl = false $ipv6 = false, $ssl = true $ipv6 = true,2,2
openstack%2Fpuppet-barbican~914878,openstack/puppet-barbican,stable/2023.1,Ide5ffb33aa8ac640f7a3b552d577d4c820565402,[p11_crypto_plugin] login should be secret,MERGED,2024-04-03 15:08:06.000000000,2024-04-07 23:27:47.000000000,2024-04-07 23:27:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 15:08:06.000000000', 'files': ['manifests/plugins/p11_crypto.pp', 'spec/classes/barbican_plugins_p11_crypto_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/8084eab0d9ec8c5a06943bfa51a28653db64784d', 'message': '[p11_crypto_plugin] login should be secret\n\n... because the option accepts password to login to PKCS11 session.\n\nChange-Id: Ide5ffb33aa8ac640f7a3b552d577d4c820565402\n(cherry picked from commit 0b649011d9645a1210c08fa054154cc9caa7a117)\n(cherry picked from commit 2d0655c3246e7546e464baa1659870ff2b2d5bb3)\n'}]",0,914878,8084eab0d9ec8c5a06943bfa51a28653db64784d,7,3,1,9816,,,0,"[p11_crypto_plugin] login should be secret

... because the option accepts password to login to PKCS11 session.

Change-Id: Ide5ffb33aa8ac640f7a3b552d577d4c820565402
(cherry picked from commit 0b649011d9645a1210c08fa054154cc9caa7a117)
(cherry picked from commit 2d0655c3246e7546e464baa1659870ff2b2d5bb3)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/78/914878/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/p11_crypto.pp', 'spec/classes/barbican_plugins_p11_crypto_spec.rb']",2,8084eab0d9ec8c5a06943bfa51a28653db64784d,, .with_value(params[:p11_crypto_plugin_login]).with_secret(true), .with_value(params[:p11_crypto_plugin_login]),2,2
openstack%2Fmanila~915133,openstack/manila,master,I01fe548e155b91e0f03f50a74698bb3cdea5f7fa,DNM: Reproducer for SQLA 2.0 ordering changes,NEW,2024-04-05 14:17:01.000000000,2024-04-07 23:23:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-05 14:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3ffe8ed0e787d15cad0753d5e98c6cb926b29657', 'message': 'DNM: Reproducer for SQLA 2.0 ordering changes\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I01fe548e155b91e0f03f50a74698bb3cdea5f7fa\n'}, {'number': 2, 'created': '2024-04-06 08:52:02.000000000', 'files': ['manila/tests/db_utils.py', 'manila/tests/db/sqlalchemy/test_api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0f6c203da89101b63fced82566e29ac1989be941', 'message': 'DNM: Reproducer for SQLA 2.0 ordering changes\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I01fe548e155b91e0f03f50a74698bb3cdea5f7fa\n'}]",0,915133,0f6c203da89101b63fced82566e29ac1989be941,11,1,2,15334,,,0,"DNM: Reproducer for SQLA 2.0 ordering changes

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I01fe548e155b91e0f03f50a74698bb3cdea5f7fa
",git fetch https://review.opendev.org/openstack/manila refs/changes/33/915133/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/db_utils.py', 'manila/tests/db/sqlalchemy/test_api.py']",2,3ffe8ed0e787d15cad0753d5e98c6cb926b29657,sqlalchemy-20," print('# create') print(f'snapshot 1 instances: {[x.status for x in self.snapshot_1.instances]}') # noqa: E501 print(f'snapshot 1: {self.snapshot_1.status}') print(f'snapshot 2 instances: {[x.status for x in self.snapshot_2.instances]}') # noqa: E501 print(f'snapshot 2: {self.snapshot_2.status}') print('# fetch') self.snapshot_1 = db_api.share_snapshot_get( self.ctxt, 'fake_snapshot_id_1') print(f'snapshot 1 instances: {[x.status for x in self.snapshot_1.instances]}') # noqa: E501 print(f'snapshot 1: {self.snapshot_1.status}') self.snapshot_2 = db_api.share_snapshot_get( self.ctxt, 'fake_snapshot_id_2') print(f'snapshot 2 instances: {[x.status for x in self.snapshot_2.instances]}') # noqa: E501 print(f'snapshot 2: {self.snapshot_2.status}')",,15,1
openstack%2Frequirements~915164,openstack/requirements,master,I8044589d9ebaf5881202f61c75d1aca51b483817,Remove indirect dep blocks,MERGED,2024-04-05 16:10:31.000000000,2024-04-07 17:54:49.000000000,2024-04-07 17:53:59.000000000,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 16:10:31.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/538809b8dacfcc60ea29e8f6735179054f35bdfc', 'message': ""Remove indirect dep blocks\n\n- grpcio\n  The 1.16.x and 1.17.x series are ancient and won't be pulled now [1].\n\n- textfsm\n  The maintainer pushed a wheel soon after the bug was filed [2].\n\n[1] https://pypi.org/project/grpcio/1.16.0/#history\n[2] https://github.com/google/textfsm/issues/105\n\nChange-Id: I8044589d9ebaf5881202f61c75d1aca51b483817\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,915164,538809b8dacfcc60ea29e8f6735179054f35bdfc,8,3,1,15334,,,0,"Remove indirect dep blocks

- grpcio
  The 1.16.x and 1.17.x series are ancient and won't be pulled now [1].

- textfsm
  The maintainer pushed a wheel soon after the bug was filed [2].

[1] https://pypi.org/project/grpcio/1.16.0/#history
[2] https://github.com/google/textfsm/issues/105

Change-Id: I8044589d9ebaf5881202f61c75d1aca51b483817
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/915164/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,538809b8dacfcc60ea29e8f6735179054f35bdfc,cleanup,,"# Indirect dependencies that need blocking # NOTE(bnemec): 1.16.0 introduced a bug that is breaking tooz. 1.18.0 fixes it. # See https://bugs.launchpad.net/python-tooz/+bug/1808046 grpcio!=1.16.0,!=1.16.1,!=1.17.0,!=1.17.1 textfsm!=1.1.3 ",0,6
openstack%2Frequirements~915163,openstack/requirements,master,I57fd3e85cc8081b2d5faafbad7b072f381d2b865,Remove cap on tomllib,MERGED,2024-04-05 16:10:31.000000000,2024-04-07 17:47:30.000000000,2024-04-07 17:46:34.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 16:10:31.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d068d9323c3476b7c07088ac0b327e585da35f36', 'message': 'Remove cap on tomllib\n\nChange Id6853599492ad869d25ee8b7f99afa9416926c2b was added. This was\nsince fixed in 0.10.2. Remove the cap.\n\nChange-Id: I57fd3e85cc8081b2d5faafbad7b072f381d2b865\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,915163,d068d9323c3476b7c07088ac0b327e585da35f36,10,2,1,15334,,,0,"Remove cap on tomllib

Change Id6853599492ad869d25ee8b7f99afa9416926c2b was added. This was
since fixed in 0.10.2. Remove the cap.

Change-Id: I57fd3e85cc8081b2d5faafbad7b072f381d2b865
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/915163/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,d068d9323c3476b7c07088ac0b327e585da35f36,cleanup,,toml!=0.10.1 # Apache-2.0,0,1
openstack%2Fheat-tempest-plugin~766961,openstack/heat-tempest-plugin,master,I43d5b3862970db5217651b570525f696910bf320,Depend on corresponding server in WaitCondition,MERGED,2020-12-14 14:28:10.000000000,2024-04-07 17:44:23.000000000,2024-04-07 17:44:23.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 14:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/75c76767bfed3cbe1dc4b9943140d9e080652ceb', 'message': 'Depend on corresponding server in WaitCondition\n\nmost of the templates used in scenario tests already do this\nto exclude unpredictable (especially in virtualized cloud CI environments)\nserver boot from the wait condition timeout, however 3 templates\n(used in 3 tests) are missing this at the moment.\n\nThis patch adds an explicit depends_on on the server that the\nWaitCondition is waiting for in all scanario templates that use\nWaitConditions.\n\nChange-Id: I43d5b3862970db5217651b570525f696910bf320\n'}, {'number': 2, 'created': '2024-04-03 19:09:23.000000000', 'files': ['heat_tempest_plugin/tests/scenario/templates/test_server_signal.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_delete_snapshot.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_create_from_backup.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/448a6686b5e012ed74af9d8cda076c1d190ac32c', 'message': 'Depend on corresponding server in WaitCondition\n\nmost of the templates used in scenario tests already do this\nto exclude unpredictable (especially in virtualized cloud CI environments)\nserver boot from the wait condition timeout, however 3 templates\n(used in 3 tests) are missing this at the moment.\n\nThis patch adds an explicit depends_on on the server that the\nWaitCondition is waiting for in all scanario templates that use\nWaitConditions.\n\nChange-Id: I43d5b3862970db5217651b570525f696910bf320\n'}]",0,766961,448a6686b5e012ed74af9d8cda076c1d190ac32c,11,2,2,9542,,,0,"Depend on corresponding server in WaitCondition

most of the templates used in scenario tests already do this
to exclude unpredictable (especially in virtualized cloud CI environments)
server boot from the wait condition timeout, however 3 templates
(used in 3 tests) are missing this at the moment.

This patch adds an explicit depends_on on the server that the
WaitCondition is waiting for in all scanario templates that use
WaitConditions.

Change-Id: I43d5b3862970db5217651b570525f696910bf320
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/61/766961/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/tests/scenario/templates/test_server_signal.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_delete_snapshot.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_create_from_backup.yaml']",3,75c76767bfed3cbe1dc4b9943140d9e080652ceb,wc-depend-on-instance, depends_on: instance,,3,0
openstack%2Fironic~873660,openstack/ironic,master,Ic5a8d56ec236faca1b9797bd0d3e42c956469fab,Expose conductor online boolean for accurate alive,MERGED,2023-02-14 02:18:17.000000000,2024-04-07 17:39:40.000000000,2024-04-07 17:38:51.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-14 02:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e82598c98ef1b40714dca4515dfbec7b971bfe0f', 'message': 'WIP Expose conductor online boolean for accurate alive\n\nCurrently the online database column is not considered when displaying\nthe ""baremetal conductor list"" Alive status. This means that when a\nconductor is stopped gracefully it will be shown as (inaccurately)\nalive for the duration of [conductor]graceful_timeout.\n\nThis change adds the online field to the alive evaluation, so the\nconductor must be online *and* have a recent heartbeat.\n\nChange-Id: Ic5a8d56ec236faca1b9797bd0d3e42c956469fab\n'}, {'number': 2, 'created': '2023-02-22 03:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6345ee5cca8580e2dd7977d826c5c8820db7e35b', 'message': 'Expose conductor online boolean for accurate alive\n\nCurrently the online database column is not considered when displaying\nthe ""baremetal conductor list"" Alive status. This means that when a\nconductor is stopped gracefully it will be shown as (inaccurately)\nalive for the duration of [conductor]graceful_timeout.\n\nThis change adds the online field to the alive evaluation, so the\nconductor must be online *and* have a recent heartbeat.\n\nChange-Id: Ic5a8d56ec236faca1b9797bd0d3e42c956469fab\n'}, {'number': 3, 'created': '2023-02-26 22:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25e9d03b4b5b2797306446d34febc10940372c77', 'message': 'Expose conductor online boolean for accurate alive\n\nCurrently the online database column is not considered when displaying\nthe ""baremetal conductor list"" Alive status. This means that when a\nconductor is stopped gracefully it will be shown as (inaccurately)\nalive for the duration of [conductor]graceful_timeout.\n\nThis change adds the online field to the alive evaluation, so the\nconductor must be online *and* have a recent heartbeat.\n\nChange-Id: Ic5a8d56ec236faca1b9797bd0d3e42c956469fab\n'}, {'number': 4, 'created': '2024-01-30 20:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/00d86edfc9ff9250b862147ffbac15dbdf246a4e', 'message': 'Expose conductor online boolean for accurate alive\n\nCurrently the online database column is not considered when displaying\nthe ""baremetal conductor list"" Alive status. This means that when a\nconductor is stopped gracefully it will be shown as (inaccurately)\nalive for the duration of [conductor]graceful_timeout.\n\nThis change adds the online field to the alive evaluation, so the\nconductor must be online *and* have a recent heartbeat.\n\nChange-Id: Ic5a8d56ec236faca1b9797bd0d3e42c956469fab\n'}, {'number': 5, 'created': '2024-03-22 02:08:31.000000000', 'files': ['ironic/objects/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/db/utils.py', 'releasenotes/notes/accurate_alive-d2687bca802211a4.yaml', 'ironic/common/release_mappings.py', 'ironic/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/161374f763f14f27bf0ff3f3c46eb420e44d77df', 'message': 'Expose conductor online boolean for accurate alive\n\nCurrently the online database column is not considered when displaying\nthe ""baremetal conductor list"" Alive status. This means that when a\nconductor is stopped gracefully it will be shown as (inaccurately)\nalive for the duration of [conductor]graceful_timeout.\n\nThis change adds the online field to the alive evaluation, so the\nconductor must be online *and* have a recent heartbeat.\n\nChange-Id: Ic5a8d56ec236faca1b9797bd0d3e42c956469fab\n'}]",9,873660,161374f763f14f27bf0ff3f3c46eb420e44d77df,37,5,5,4571,,,0,"Expose conductor online boolean for accurate alive

Currently the online database column is not considered when displaying
the ""baremetal conductor list"" Alive status. This means that when a
conductor is stopped gracefully it will be shown as (inaccurately)
alive for the duration of [conductor]graceful_timeout.

This change adds the online field to the alive evaluation, so the
conductor must be online *and* have a recent heartbeat.

Change-Id: Ic5a8d56ec236faca1b9797bd0d3e42c956469fab
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/873660/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/conductor.py', 'ironic/api/controllers/v1/conductor.py']",2,e82598c98ef1b40714dca4515dfbec7b971bfe0f,graceful, recent_heartbeat = not timeutils.is_older_than( conductor['alive'] = rpc_conductor.online and recent_heartbeat, conductor['alive'] = not timeutils.is_older_than(,3,1
openstack%2Frequirements~915162,openstack/requirements,master,Id70074e98abb3f7f4ac5a1330a65cd9493f4e63d,Remove unnecessary Python 3 cap libs,MERGED,2024-04-05 16:10:31.000000000,2024-04-07 17:17:25.000000000,2024-04-07 17:16:43.000000000,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 16:10:31.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e8bff3574cec1c90576e39b03dfb638fb5d78ac9', 'message': ""Remove unnecessary Python 3 cap libs\n\nChange I398c0aee001f4e6a8e7fc89597738b356b885437 added these way back\nto allow us to handle the Python 2.7/3.x split for misbehaving\nlibraries. They've simply been carried forward since and are vestigial.\nRemove them.\n\nChange-Id: Id70074e98abb3f7f4ac5a1330a65cd9493f4e63d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,915162,e8bff3574cec1c90576e39b03dfb638fb5d78ac9,8,3,1,15334,,,0,"Remove unnecessary Python 3 cap libs

Change I398c0aee001f4e6a8e7fc89597738b356b885437 added these way back
to allow us to handle the Python 2.7/3.x split for misbehaving
libraries. They've simply been carried forward since and are vestigial.
Remove them.

Change-Id: Id70074e98abb3f7f4ac5a1330a65cd9493f4e63d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/915162/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,e8bff3574cec1c90576e39b03dfb638fb5d78ac9,cleanup,," # NOTE(prometheanfire): python3 caps, are not approved for use in OpenStack gitdb # BSD gitdb2 # BSD",0,4
openstack%2Fironic-ui~906785,openstack/ironic-ui,master,Iad0de1da0aa600f92b765449bcfeee2f2c69759d,[codespell] Adding CI target for Tox Codespell,NEW,2024-01-26 04:22:53.000000000,2024-04-07 14:46:36.000000000,,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32238}]","[{'number': 1, 'created': '2024-01-26 04:22:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/8e2379e22a5562b7a562e937b619e08ef95fb066', 'message': '[codespell] Adding CI target for Tox Codespell\n\nThird in a series of commits to add Codespell to Ironic Repos. This commit adds the Tox Target to CI\n\nA future commit could potentially add a git-blame-ignore-revs file if their are lots of spelling mistakes that could clutter git blame.\n\nChange-Id: Iad0de1da0aa600f92b765449bcfeee2f2c69759d\n'}]",1,906785,8e2379e22a5562b7a562e937b619e08ef95fb066,7,5,1,36102,,,0,"[codespell] Adding CI target for Tox Codespell

Third in a series of commits to add Codespell to Ironic Repos. This commit adds the Tox Target to CI

A future commit could potentially add a git-blame-ignore-revs file if their are lots of spelling mistakes that could clutter git blame.

Change-Id: Iad0de1da0aa600f92b765449bcfeee2f2c69759d
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/85/906785/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8e2379e22a5562b7a562e937b619e08ef95fb066,ironic-codespell,- job: name: ironic-ui-tox-codespell parent: openstack-tox timeout: 7200 vars: tox_envlist: codespell - ironic-ui-tox-codespell: voting: false,,9,0
openstack%2Fmanila~914936,openstack/manila,master,I2ee07c7e41ea43c2ab24a4a095550dd0b5fe47dd,db: turn off autocommit,MERGED,2024-04-03 04:12:03.000000000,2024-04-07 12:36:00.000000000,2024-04-05 21:50:51.000000000,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-03 04:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/db9a90cf2bd3f3c7d9b84e70fdfb987ec5b9fade', 'message': ""turn off autocommit\n\nthe previous commit added an assert for DML without a transaction,\nnow let's try just turning autocommit off.\n\nwhen this passes tests I will rebase out the middle patch with the\nassertions.\n\nChange-Id: I2ee07c7e41ea43c2ab24a4a095550dd0b5fe47dd\n""}, {'number': 2, 'created': '2024-04-03 12:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/637ab28b4099cbd0183986308e190a5ecfd3cc67', 'message': 'turn off autocommit\n\nafter testing using an assert for DML without a transaction,\nwe can now turn autocommit off.   either enginefacade or\nsession.begin() should be being used appropriately here so that\nall DML changes are committed.\n\nChange-Id: I2ee07c7e41ea43c2ab24a4a095550dd0b5fe47dd\n'}, {'number': 3, 'created': '2024-04-03 13:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fe317fb9e2ec7436fc3e9b8f26095c1e9afc059a', 'message': 'turn off autocommit\n\nafter testing using an assert for DML without a transaction,\nwe can now turn autocommit off.   either enginefacade or\nsession.begin() should be being used appropriately here so that\nall DML changes are committed.\n\nChange-Id: I2ee07c7e41ea43c2ab24a4a095550dd0b5fe47dd\n'}, {'number': 4, 'created': '2024-04-03 23:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/049a42c708957f04aad553496f40fb96e8351967', 'message': 'turn off autocommit\n\nafter testing using an assert for DML without a transaction,\nwe can now turn autocommit off.   enginefacade should be used\ncompletely now\n\nChange-Id: I2ee07c7e41ea43c2ab24a4a095550dd0b5fe47dd\n'}, {'number': 5, 'created': '2024-04-03 23:33:31.000000000', 'files': ['manila/db/sqlalchemy/query.py', 'manila/db/sqlalchemy/api.py', 'manila/test.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/505719a50aec99f4b77f65d17cf530e08ef108b2', 'message': 'db: turn off autocommit\n\nafter testing using an assert for DML without a transaction,\nwe can now turn autocommit off.   enginefacade should be used\ncompletely now\n\nChange-Id: I2ee07c7e41ea43c2ab24a4a095550dd0b5fe47dd\n'}]",4,914936,505719a50aec99f4b77f65d17cf530e08ef108b2,37,4,5,11816,,,0,"db: turn off autocommit

after testing using an assert for DML without a transaction,
we can now turn autocommit off.   enginefacade should be used
completely now

Change-Id: I2ee07c7e41ea43c2ab24a4a095550dd0b5fe47dd
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/914936/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/query.py', 'manila/db/sqlalchemy/api.py']",2,db9a90cf2bd3f3c7d9b84e70fdfb987ec5b9fade,sqlalchemy-20,context_manager.configure(),"from sqlalchemy import eventfrom sqlalchemy.orm import Session@event.listens_for(Session, ""before_flush"") def receive_before_flush(session, flush_context, instances): if not session.autocommit: return if session._transaction is None: raise Exception( ""Session is flushing in autocommit mode without being "" ""started in a transaction first. This is incompatible with "" ""SQLAlchemy 2.0 which does not have an 'autocommit' mode."" ) @event.listens_for(Session, ""do_orm_execute"") def receive_do_orm_execute(orm_execute_state): if not orm_execute_state.session.autocommit: return if ( orm_execute_state.is_insert or orm_execute_state.is_update or orm_execute_state.is_delete ) and orm_execute_state.session._transaction is None: raise Exception( ""Session is running insert/update/delete in autocommit mode "" ""without being "" ""started in a transaction first. This is incompatible "" ""with "" ""SQLAlchemy 2.0 which does not have an 'autocommit' mode."" ) # FIXME(stephenfin): we need to remove reliance on autocommit semantics ASAP # since it's not compatible with SQLAlchemy 2.0 context_manager.configure(__autocommit=True)",2,39
openstack%2Fmanila~914721,openstack/manila,master,Ie8831c04b7b4515deea27b1ceb472d07cda91ca0,db: update migrations to use SQLA 2.0 patterns,MERGED,2024-03-28 22:02:25.000000000,2024-04-07 11:24:06.000000000,2024-04-05 13:15:36.000000000,"[{'_account_id': 15334}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-03-28 22:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/60e1e5fcc55667a30cc989899ac4214ca9e45ef8', 'message': 'WIP: update migrations to use SQLA 2.0 patterns\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n'}, {'number': 2, 'created': '2024-03-28 22:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3f5351c4205521c9b2533054e143f144de9a12da', 'message': 'WIP: update migrations to use SQLA 2.0 patterns\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n'}, {'number': 3, 'created': '2024-03-29 15:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bc7491a1d6ecab9930f237e25224b795faa0dfce', 'message': ""WIP: update migrations to use SQLA 2.0 patterns\n\nThere is no magic happening here, I'm running the test suite\nover and over again with SQLAlchemy 2.0 actually installed and updating\neach thing as I see it.\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n""}, {'number': 4, 'created': '2024-04-01 15:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2a7eca02d66d483f404235b935f10667011fb214', 'message': ""WIP update migrations to use SQLA 2.0 patterns\n\nThere is no magic happening here, I'm running the test suite\nover and over again with SQLAlchemy 2.0 actually installed and updating\neach thing as I see it.\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n""}, {'number': 5, 'created': '2024-04-01 17:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b9574276ad43a5c61974ff8dc688bc98f42d4f80', 'message': 'update migrations to use SQLA 2.0 patterns\n\nAll tests in test_migration.py pass with either SQLAlchemy 1.4\nor SQLAlchemy 2.0 installed.\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n'}, {'number': 6, 'created': '2024-04-01 17:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8768d75b21d0519f96bc58eb6505f88c1de92099', 'message': 'update migrations to use SQLA 2.0 patterns\n\nAll tests in test_migration.py pass with either SQLAlchemy 1.4\nor SQLAlchemy 2.0 installed.\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n'}, {'number': 7, 'created': '2024-04-03 12:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2b5013ea8300e4f685ef037ff23ade8e42035380', 'message': 'update migrations to use SQLA 2.0 patterns\n\nAll tests in test_migration.py pass with either SQLAlchemy 1.4\nor SQLAlchemy 2.0 installed.\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n'}, {'number': 8, 'created': '2024-04-03 23:26:39.000000000', 'files': ['manila/db/migrations/alembic/versions/dda6de06349_add_export_locations_metadata.py', 'manila/db/migrations/alembic/versions/a87e0fb17dee_multiple_share_server_subnets.py', 'manila/db/migrations/alembic/versions/56cdbe267881_add_share_export_locations_table.py', 'manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py', 'manila/db/migrations/alembic/versions/579c267fbb4d_add_share_instances_access_map.py', 'manila/db/migrations/alembic/versions/238720805ce1_add_messages_table.py', 'manila/db/migrations/alembic/versions/87ce15c59bbe_add_revert_to_snapshot_support.py', 'manila/db/migrations/alembic/versions/b10fb432c042_squash_share_group_snapshot_members_and_share_snapshot_instance_models.py', 'manila/db/migrations/alembic/versions/3e7d62517afa_add_create_share_from_snapshot_support.py', 'manila/db/migrations/alembic/versions/344c1ac4747f_add_share_instance_access_rules_status.py', 'manila/db/migrations/alembic/versions/55761e5f59c5_add_snapshot_support_extra_spec_to_share_types.py', 'manila/db/migrations/alembic/versions/0c23aec99b74_add_per_share_gigabytes_quota_class.py', 'manila/db/migrations/alembic/versions/162a3e673105_manila_init.py', 'manila/db/migrations/utils.py', 'manila/tests/db/migrations/alembic/migrations_data_checks.py', 'manila/db/migrations/alembic/versions/ef0c02b4366_add_share_type_projects.py', 'manila/db/migrations/alembic/versions/48a7beae3117_move_share_type_id_to_instances.py', 'manila/db/migrations/alembic/versions/59eb64046740_add_required_extra_spec.py', 'manila/tests/db/migrations/alembic/test_migration.py', 'manila/db/migrations/alembic/versions/54667b9cade7_restore_share_instance_access_map_state.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0ce2857d0fcf3f17908f85eb56e1836742ab1737', 'message': 'db: update migrations to use SQLA 2.0 patterns\n\nAll tests in test_migration.py pass with either SQLAlchemy 1.4\nor SQLAlchemy 2.0 installed.\n\nChange-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0\n'}]",107,914721,0ce2857d0fcf3f17908f85eb56e1836742ab1737,56,4,8,11816,,,0,"db: update migrations to use SQLA 2.0 patterns

All tests in test_migration.py pass with either SQLAlchemy 1.4
or SQLAlchemy 2.0 installed.

Change-Id: Ie8831c04b7b4515deea27b1ceb472d07cda91ca0
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/914721/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/migrations/alembic/versions/87ce15c59bbe_add_revert_to_snapshot_support.py', 'manila/db/migrations/alembic/versions/3e7d62517afa_add_create_share_from_snapshot_support.py', 'manila/db/migrations/alembic/versions/55761e5f59c5_add_snapshot_support_extra_spec_to_share_types.py', 'manila/db/migrations/alembic/versions/162a3e673105_manila_init.py', 'manila/db/migrations/utils.py', 'manila/tests/db/migrations/alembic/migrations_data_checks.py', 'manila/db/migrations/alembic/versions/a87e0fb17dee_multiple_share_server_subnets.py', 'manila/db/migrations/alembic/versions/56cdbe267881_add_share_export_locations_table.py', 'manila/db/migrations/alembic/versions/ef0c02b4366_add_share_type_projects.py', 'manila/db/migrations/alembic/versions/59eb64046740_add_required_extra_spec.py']",10,60e1e5fcc55667a30cc989899ac4214ca9e45ef8,sqlalchemy-20," with sa.orm.Session(bind=op.get_bind()) as session: es_table = table( 'share_type_extra_specs', sa.Column('created_at', sa.DateTime), sa.Column('deleted', sa.Integer), sa.Column('share_type_id', sa.String(length=36)), sa.Column('spec_key', sa.String(length=255)), sa.Column('spec_value', sa.String(length=255))) st_table = table( 'share_types', sa.Column('deleted', sa.Integer), sa.Column('id', sa.Integer)) # NOTE(vponomaryov): field 'deleted' is integer here. existing_required_extra_specs = (session.query(es_table). filter(es_table.c.spec_key == 'driver_handles_share_servers'). filter(es_table.c.deleted == 0). all()) exclude_st_ids = [es.share_type_id for es in existing_required_extra_specs] # NOTE(vponomaryov): field 'deleted' is string here. share_types = (session.query(st_table). filter(st_table.c.deleted.in_(('0', 'False', ))). filter(st_table.c.id.notin_(exclude_st_ids)). all()) extra_specs = [] for st in share_types: extra_specs.append({ 'spec_key': 'driver_handles_share_servers', 'spec_value': 'True', 'deleted': 0, 'created_at': timeutils.utcnow(), 'share_type_id': st.id, }) op.bulk_insert(es_table, extra_specs)"," session = sa.orm.Session(bind=op.get_bind().connect()) es_table = table( 'share_type_extra_specs', sa.Column('created_at', sa.DateTime), sa.Column('deleted', sa.Integer), sa.Column('share_type_id', sa.String(length=36)), sa.Column('spec_key', sa.String(length=255)), sa.Column('spec_value', sa.String(length=255))) st_table = table( 'share_types', sa.Column('deleted', sa.Integer), sa.Column('id', sa.Integer)) # NOTE(vponomaryov): field 'deleted' is integer here. existing_required_extra_specs = (session.query(es_table). filter(es_table.c.spec_key == 'driver_handles_share_servers'). filter(es_table.c.deleted == 0). all()) exclude_st_ids = [es.share_type_id for es in existing_required_extra_specs] # NOTE(vponomaryov): field 'deleted' is string here. share_types = (session.query(st_table). filter(st_table.c.deleted.in_(('0', 'False', ))). filter(st_table.c.id.notin_(exclude_st_ids)). all()) extra_specs = [] for st in share_types: extra_specs.append({ 'spec_key': 'driver_handles_share_servers', 'spec_value': 'True', 'deleted': 0, 'created_at': timeutils.utcnow(), 'share_type_id': st.id, }) op.bulk_insert(es_table, extra_specs) session.close_all()",304,309
openstack%2Fmanila~914890,openstack/manila,master,I1251a5c0b2f073604ae61f378992fea7df51c07d,db: Remove final use of legacy facade,MERGED,2024-04-02 14:06:44.000000000,2024-04-07 06:31:01.000000000,2024-04-04 21:49:09.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2024-04-02 14:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bee4761351b36402acffc4b68152336c25315408', 'message': 'db: Remove final use of legacy facade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I1251a5c0b2f073604ae61f378992fea7df51c07d\n'}, {'number': 2, 'created': '2024-04-02 14:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bc3be29359ed8d01fe753e4af0f5538de4638455', 'message': 'db: Remove final use of legacy facade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I1251a5c0b2f073604ae61f378992fea7df51c07d\n'}, {'number': 3, 'created': '2024-04-03 10:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c9aedb72f82b769bee611e7d0940d047131fd996', 'message': 'db: Remove final use of legacy facade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I1251a5c0b2f073604ae61f378992fea7df51c07d\n'}, {'number': 4, 'created': '2024-04-03 15:24:22.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/cae5ac7be18cd24882c9c6520968b025dfe0d3b6', 'message': 'db: Remove final use of legacy facade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I1251a5c0b2f073604ae61f378992fea7df51c07d\n'}]",2,914890,cae5ac7be18cd24882c9c6520968b025dfe0d3b6,24,3,4,15334,,,0,"db: Remove final use of legacy facade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I1251a5c0b2f073604ae61f378992fea7df51c07d
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/914890/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,bee4761351b36402acffc4b68152336c25315408,sqlalchemy-20, return context_manager.writer.get_engine(), return context_manager._factory.get_legacy_facade().get_engine(),1,1
openstack%2Frequirements~909452,openstack/requirements,master,Ibadbae12222e891d7f04e362ecf6481d4df2606b,Bump jsonschema upper-constraint to the latest version,NEW,2024-02-19 14:20:21.000000000,2024-04-07 06:00:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-19 14:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1bdf843532deea356cd6caf84cb96704cd25acfe', 'message': 'Bump jsonschema upper-constraint to the latest version\n\nThis causes issues in some unit tests, make this a dedicated patch so\nthat projects can verify their fixes against it.\n\nChange-Id: Ibadbae12222e891d7f04e362ecf6481d4df2606b\n'}, {'number': 2, 'created': '2024-02-20 15:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/52b8c59f861888fbe98671ae4429bdbe728ae882', 'message': 'Bump jsonschema upper-constraint to the latest version\n\nThis causes issues in some unit tests, make this a dedicated patch so\nthat projects can verify their fixes against it.\n\nDepends-On: I01336d2966bdad8f8e2aec7a522644cff1d5c341\n\nChange-Id: Ibadbae12222e891d7f04e362ecf6481d4df2606b\n'}, {'number': 3, 'created': '2024-04-05 10:46:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b873451eb0e81bc677d171421d8d88a9f9cd32dd', 'message': 'Bump jsonschema upper-constraint to the latest version\n\nThis causes issues in some unit tests, make this a dedicated patch so\nthat projects can verify their fixes against it.\n\nChange-Id: Ibadbae12222e891d7f04e362ecf6481d4df2606b\n'}]",1,909452,b873451eb0e81bc677d171421d8d88a9f9cd32dd,8,1,3,13252,,,0,"Bump jsonschema upper-constraint to the latest version

This causes issues in some unit tests, make this a dedicated patch so
that projects can verify their fixes against it.

Change-Id: Ibadbae12222e891d7f04e362ecf6481d4df2606b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/909452/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1bdf843532deea356cd6caf84cb96704cd25acfe,bump-jsonschema,jsonschema===4.21.1,jsonschema===4.19.2,1,1
openstack%2Fnova-specs~906205,openstack/nova-specs,master,I95cd0ed5f10f1ea84cb8edb09015be07f95e836c,enable nova to dynamically partion cpus,ABANDONED,2024-01-21 01:22:02.000000000,2024-04-07 05:32:00.000000000,,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-21 01:22:02.000000000', 'files': ['specs/backlog/nova-dynamic-cpus.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8487cb0bd57caf9f881457b38a5e77a6e88733cd', 'message': 'enable nova to dynamically partion cpus\n\nThis canage introduces a backlog spec to explore\nthat extention of nova to supprot dynimcaly partioning\nhost cpus based on worklaod needs without updating\nexisitng instances.\n\nChange-Id: I95cd0ed5f10f1ea84cb8edb09015be07f95e836c\n'}]",47,906205,8487cb0bd57caf9f881457b38a5e77a6e88733cd,13,3,1,11604,,,0,"enable nova to dynamically partion cpus

This canage introduces a backlog spec to explore
that extention of nova to supprot dynimcaly partioning
host cpus based on worklaod needs without updating
exisitng instances.

Change-Id: I95cd0ed5f10f1ea84cb8edb09015be07f95e836c
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/906205/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/backlog/nova-dynamic-cpus.rst'],1,8487cb0bd57caf9f881457b38a5e77a6e88733cd,nova-dynamic-cpus,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Dynamic Cpu Pinning for libvirt instances ========================================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/example Nova currently supports static partioning of CPUs for instances. This blueprint proposes to add support for dynamic cpu pinning for instances with the shared and dedicated CPU polices. Problem description =================== Currently its possible to device the cpu resocues on a host into shared and dedicated cpus. The shared cpus are available to all instances on the host (either for vcpus or emulator threads) and the dedicated cpus are available only to instances with the dedicated cpu policy. shared cpus are declared via the cpu_shared_set config option and dedicated cpus are declared via the cpu_dedicated_set config option. while this work well for static partitioning of cpus, it does not work well for dynamic partitioning of cpus. For example, if a host has 8 cpus and 4 of them are dedicated to instances with the dedicated cpu policy, and the remaining 4 cpus are available to all instances with the shared cpu policy we can have underutilisation of the platform. For example, if there are 4 instances with the dedicated cpu policy and each instance has 1 vcpu, then the remaining 4 cpus are not available to instances with the dedicated cpu policy. If we have 4 instances with the shared cpu policy and each instance has 1 vcpu, the the dedicated cpus are idle and not available to the instances with the shared cpu policy. This can lead to a bin packing problem where we have underutilisation of the platform. Use Cases --------- As an operator, I want to be able to dynamically partition the cpus on a host into shared and dedicated cpus so that I can maximise the utilisation of the platform based on the workload requirements. As an operator i want to be able to use dynamic cpu partioning without having to modify my existing flavor definitions. I want to be able to use the existing flavor definitions and have the system partition the cpus based on the workload so that existing workloads can benefit from dynamic cpu partioning if moved to a host with dynamic cpu partioning enabled. As an operator, when using dynamic cpu partioning, i want unused cpus to be able to use the recently added cpu_state power management feature so that idle cpus will be put into a low power state. Proposed change =============== High level design constraints * No new Resouces classes will be added for dynamic cpu partioning. The existing VCPU and PCPU resources classes will be used for dynamic cpu partioning. * The existing cpu_shared_set and cpu_dedicated_set config options will not be used for dynamic cpu partioning. Instead, a new config option called cpu_dynamic_set will be used for dynamic cpu partioning. This will enable coeistence of static and dynamic cpu partioning on the same or diffent host in the future. coeistence on the same host will be out of scope of this blueprint. * The current roles of placement, the resouce tracker and the scheduler will not change. The resource trakcer will continue to be the source of truth for the cpu resources on a host. The placement service will continue to track the cpu capsity on a host using the VCPU and PCPU resouce classes. The scheduler will continue to select a host for an instance based on the cpu resources on the host but the assignment of cpus to an instance will be done by the resource tracker. The role of placement in selecting a host. ------------------------------------------ While it may seem from an out side perspective that the placement service is the single source of truth for the cpu resources on a host, this is not, and has never been the case. As with all other resources, the placement service acts a consistent, atomic, distributed cache, of a summary view of the resources on a host. Placement is not the source of truth for the cpu resources on a host. The resource tracker is the source of truth for the cpu resources on a host and is responsible for updating the placement service with the capasity and capabilities the host. As placement is not aware of the toplogy or asignment of cpus to instances on a host, it is not possible for placement to select a host for an instance based on the cpu resources on the host, with respect to numa affintiy, cpu pinning or other affintiy requirements. Placement role is to fined host that have enough capsity to host a VM and the toplogy consideration are enforced by the scheduler and the resource tracker. Put concretely, the placement service today can only say, ""this host has 8 vcpus and the instance requires 4 vcpus, therefor it has capasity to host the instance."" It cannot say ""this host has 8 vcpus and the instance requires 4 vcpus, therfor it can use cpus 0,1,2,3 on the host to host the instance."" This spec does not change the role of placement in selecting a host for an instance. Placement will only be aware of the total number of vCPUs and pCPUs on a host and the assignment of cpus to instances will be done by the resource tracker. The implications of this are that, as it is today, it will be possible for 2 VM to atomically create an allocation in placement, and then both be scheduled to the same host where the assignment of cpus may only be valid for one of the vms. This is not a new problem and is not introduced by this spec. It is a problem that already exists today and can be mitigated by introducing a new rpc to the compute node and a new placement rest api to allow updating an allocation in placement and a resource provider in a single atomic call. doing that is out of scope of this spec. The meaning of cpu_policy=shared and cpu_policy=dedicated --------------------------------------------------------- Contrary to how we commonly think of the meaning of cpu_policy=shared and cpu_policy=dedicated, the meaning of these cpu policies is not that the cpus are floating or pinned. The cpu dedicated policy is often referred to as cpu pinning. While it is true that the cpu dedicated policy does pin cpus to instances, that is a side effect of the cpu dedicated policy and not the meaning of the cpu dedicated. Similarly the cpu shared policy does not mean that the cpus are floating. The cpu shared policy means that the cpus are shared with other instances and not reserved for this instance. The cpu_policy=shared and cpu_policy=dedicated are not the only cpu policies that nova also supports cpu_policy=mixed. The cpu_policy=mixed policy is a combination of the cpu_policy=shared and cpu_policy=dedicated policies where some cpus are mapped to the cpu_shared_set and some cpus are mapped to the cpu_dedicated_set. Since the originally introduction of the vcpu_pin_set and the cpu_shared_set config if either are defined all instance with the cpu_policy=shared (or unset) will be pinned to the cpus in the vcpu_pin_set/cpu_shared_set. The difference between cpu_policy=shared and cpu_policy=dedicated is that for each vcpu in the instance, the cpu_policy=shared will ping that cpu to a range of cpus defined by the cpu_shared_set or the vcpu_pin_set, while the cpu_policy=dedicated will pin each vcpu to a single cpu defined by the cpu_dedicated_set/vcpu_pin_set. This is important to understand as it means that the cpu_policy=shared are not unpinned they are just not pinned 1:1 and other instance can share the same cores up to the cpu_allocation_ratio. Mechanically we cannot change the meaning of cpu_policy=shared and cpu_policy=dedicated (shared with other instance, and dedicated to this instance) as that would break backwards compatibility. Nor can we change the fact that cpu_policy=dedicated pins cpus to instance to specific cpus and does not change that without user intervention. What we can change is the relationship between the cpu_policy=shared, cpu_allocation_ratio and how the cpus are pinned to host cpus. cpu_allocation_ratio and cpu_policy=shared ------------------------------------------ The cpu_allocation_ratio config option is used to define the over subscription ratio for the cpus on a host. the cpu_allocation_ratio only applies to vcpu inventories. Regardless of the cpu_policy of an instance, a given nova instance will always be mapped to at least 1 host cpu per flavor.vcpu. That means that if you have a host with 2 cpus and an allocation ration of 4.0 then you can have 8 instances with 1 vcpu. you could also have 4 instances with 2 vcpus but not 2 instances with 4 vcpus. in other words, an instance can never over subscribe against itself. put a different way, if a host has 2 cpus it can never boot an instance with more then 2 vcpus regardless of the cpu_allocation_ratio. cpu_shared_set and emulator threads ----------------------------------- The cpu_shared_set config option is used to define the cpus that are available to instances with the cpu_policy=shared. The cpu_shared_set config option is also used to define the cpus that are available to emulator threads. This is a annoying so while we are here we can fix that. While this is not strictly required it makes the code simpler and easier to understand this spec will also add a new config option called cpu_overhead_set. If this config option is defined then nova will be modifed to use the cpu_overhead_set when pinning the qemu emulator thread and/io thread if we add support for iothread in the future. when cpu_overhead_set is not defiend and cpu_shared_set then we will fallback to that to preserve backwards compatibility. This spec will deprecate that fallback and we can remove it in a future release. the cpu_overhead_set cpus will not be reported to placement and may not overlap with vcpu_pin_set ------------ The vcpu_pin_set config option is deprecated for removal in a future release. it is not compatibilile with dedicated cpu resouce tracking in placement and none of the feature described in this spec will be supported when the vcpu_pin_set is defined. In the rest of the document we will only disucss the cpu_shared_set, cpu_dedicated_set, cpu_dynamic_set and cpu_overhead_set config options. Dynamic cpu partioning ---------------------- The proposed solution is to add a new config option called cpu_dynamic_set. This config option will be used to define the cpus that are available to instance vcpus. All cpus in the cpu_dynamic_set will be reported to placement as both vcpus and pcpus. e.g. if cpu_dynamic_set=0-7 then placement will report 8 vcpus and 8 pcpus. ``` resouce_provider | ---- name: <hostname> ---- uuid: <uuid> | ---- inventories | ---- vcpu | | | ---- total: 8 | ---- reserved: 0 | ---- min_unit: 1 | ---- max_unit: 8 | ---- step_size: 1 | ---- allocation_ratio: 4.0 | ---- pcpu | ---- total: 8 ---- reserved: 0 ---- min_unit: 1 ---- max_unit: 8 ---- step_size: 1 ``` With this new feature. If cpu_dynamic_set=0-7 and cpu_allocation_ratio=4.0 then given a flaovr with 1 vcpu and cpu_policy=shared, if we boot an instance on the host with the cpu_dynamic_set=0-7 then the instance will be pinned to a single host core. i.e. the instance will be pinned to a single host core and not a range of host cores. when this core assignment is done, we will update the placement resource provider reduce the max_unit of the pcpu and set the reserved value of the pcpu to 1. ``` resouce_provider | ---- name: <hostname> ---- uuid: <uuid> | ---- inventories | ---- vcpu | | | ---- total: 8 | ---- reserved: 0 | ---- min_unit: 1 | ---- max_unit: 8 | ---- step_size: 1 | ---- allocation_ratio: 4.0 | ---- pcpu | | | ---- total: 8 | ---- reserved: 1 | ---- min_unit: 1 | ---- max_unit: 7 | ---- step_size: 1 ---- allocations | ---- instance-uuid-1 | ---- resources | ---- vcpu: 1 ``` If we boot a second instance with the same flavor on the same host then the second will be pinned to the same host core as the first instance. This is because the first instance has already reserved the host core for shared use and we have not reached the cpu_allocation_ratio. ``` resouce_provider | ---- name: <hostname> ---- uuid: <uuid> | ---- inventories | ---- vcpu | | | ---- total: 8 | ---- reserved: 0 | ---- min_unit: 1 | ---- max_unit: 8 | ---- step_size: 1 | ---- allocation_ratio: 4.0 | ---- pcpu | | | ---- total: 8 | ---- reserved: 1 | ---- min_unit: 1 | ---- max_unit: 7 | ---- step_size: 1 ---- allocations | ---- instance-uuid-1 | | | ---- resources | | | ---- vcpu: 1 | ---- instance-uuid-2 | ---- resources | ---- vcpu: 1 ``` if we have a second flavor that requests 1 vcpu and cpu_policy=dedicated and we boot an instance with that flavor on the same host then the instance will be pinned to a different host core. this will result in the following placement resource provider. ``` resouce_provider | ---- name: <hostname> ---- uuid: <uuid> | ---- inventories | ---- vcpu | | | ---- total: 8 | ---- reserved: 4 | ---- min_unit: 1 | ---- max_unit: 7 | ---- step_size: 1 | ---- allocation_ratio: 4.0 | ---- pcpu | | | ---- total: 8 | ---- reserved: 1 | ---- min_unit: 1 | ---- max_unit: 6 | ---- step_size: 1 ---- allocations | ---- instance-uuid-1 | | | ---- resources | | | ---- vcpu: 1 | ---- instance-uuid-2 | | | ---- resources | | | ---- vcpu: 1 | ---- instance-uuid-3 | ---- resources | ---- pcpu: 1 ``` Note that because we have allocated a host core for dedicated use, the vcpu max_unit is reduced to 7 and the pcpu max_unit is reduced to 6. The vcpu max unit is reduced is because the host core that is reserved for dedicated use is not available for shared use. the pcpu max unit is reduced because the host core that is reserved for dedicated use and the host core that is reserved for shared use are not available for dedicated use. given share cpus allow over subscription when a host core is reserved for dedicated use, the vcpu reserved is increased by (1 * allocation_ratio) instead of 1. if we boot two more instance with the shared cpu policy then they will be pinned to the same host cores as the first two instances. This is because the first instance has already reserved the host core for shared use and we have not reached the cpu_allocation_ratio and no change to the placement resource provider inventories are required. ``` resouce_provider | ---- name: <hostname> ---- uuid: <uuid> | ---- inventories | ---- vcpu | | | ---- total: 8 | ---- reserved: 4 | ---- min_unit: 1 | ---- max_unit: 7 | ---- step_size: 1 | ---- allocation_ratio: 4.0 | ---- pcpu | | | ---- total: 8 | ---- reserved: 1 | ---- min_unit: 1 | ---- max_unit: 6 | ---- step_size: 1 ---- allocations | ---- instance-uuid-1 | | | ---- resources | | | ---- vcpu: 1 | ---- instance-uuid-2 | | | ---- resources | | | ---- vcpu: 1 | ---- instance-uuid-3 | | | ---- resources | | | ---- pcpu: 1 | ---- instance-uuid-4 | | | ---- resources | | | ---- vcpu: 1 | ---- instance-uuid-5 | ---- resources | ---- vcpu: 1 ``` The general pattern is that when an instance is booted, the resource tracker will select a host core for the instance and update the placement resource provider inventories to reflect the change. If the the instance requests a shared cpu and no host cores are currently reserved for shared use then the resource tracker will reserve a host core for shared use and update the placement resource provider by reducing the pcpu max_unit by 1 and increasing the pcpu reserved by 1. This reflects that the host core is no longer available for dedicated use even though there is no allocation against the pcpu inventory. Similarly if the instance requests a dedicated cpu the resource tracker will reserve a host core for dedicated use and update the placement resource provider by reducing the vcpu max_unit by 1 and increasing the vcpu reserved by (1 * allocation_ratio). This reflects that the host core is no longer available for shared use even though there is no allocation against the vcpu inventory. since each host core utilized as a shared core allowed up to allocation_ratio vcpus to be allocated, when a host core is reserved for dedicated use, the vcpu reserved is increased by (1 * allocation_ratio) instead of 1. resouce provider updates and concurrent allocation creations ------------------------------------------------------------ As mentioned above, the placement service is not the source of truth for the cpu resources on a host. The resource tracker is the source of truth for the cpu resources. when we convert a allocation_candidate to a allocation today that is done in the conductor prior to the assignment of cpus to the instance by the resource tracker. That means that its possible for two instances to atomically create an allocation in placement, and then both be scheduled to the same host where the assignment of cpus may only be valid for one of the vms. Today when this happens because of the locking we have in the resource tracker, the second instance will fail to build because the numa topology requsted will not be fitable to the host. when we increase the resvered amount of cpus in the placement resource provider we may temporarily over subscribe the host based on the allocations for the instance that have not yet been created. This is not a problem as the resource tracker will not allow the over subscription when the instance is created and we will reject the build request. The conductor will then free the allocation in placement for the rejected instance and an alternative host will be selected. Atomicity of allocation creation and resource provider updates -------------------------------------------------------------- As mentioned above, the placement service is not the source of truth for the cpu resources on a host. It is a cached view with incompelte knowlage that within the limits of its knowledge provide an atomic view of the capsity and capabilities of the host. The model propeded in this spec reflects that given the placement service has incomplete knowledge and nova is a distributed system, we are operating in a eventually consistent model. While placement can definitvly say that a host does not have capasity to host an instance it cannot definitvly say that a host has capasity to host an instance. Like a bloom filter, placement can only say there is a high probability that a host has capasity to host an instance based on the information it has. This spec does not attemept to adress the problem of atomicity of allocation creation and resource provider updates. But it does attempet to ensure that it can be addressed in the future. One possible way to adress this in the future it to add a new rpc to the compute node to assignee cpus to an instance and update the placement resource provider and convert the allocation candatate to an allocation in a single atomic call. by delegating the creation of the allocation to the compute node we can ensure that the allocation is only created if the resource tracker is able to assign cpus to the instance. This has the the disadvantage that it requires a new rpc to the compute node and a new placement rest api request could be delayed while we wait for the compute node to respond. another possible way to address this in the future for the asignment of the cpus to be done by the conductor instead. Today the numa topology filter genreate a possible assignment using a copy of the host numa topology and then discards it. Instead of discarding the possible assignment we could pass embed it in the allocation candidate and pass it to the conductor. The conductor could then directly update the host numa topology blob in the db and pass the instance numa topology to the compute node when creating the instance. we would also need to extend the host numa topology blob to have a generation number so that we can detect when the host numa topology has changed on the conductor or compute node as this is now a shared resouce which must be updated atomically. this has the advantage that it does not require a new rpc to the compute node and the placement rest api call can continue to be done in the conductor reducing the latency. cpu_pinning, numa topology, and numa aware memory allocation ------------------------------------------------------------ the linux kernel OOM reaper operates on a per numa node basis. This means that if a numa node is over committed and the kernel OOM reaper is invoked, it will kill processes on the numa node until the memory usage on the numa node is below the threshold. if an instance does not request numa aware memory assignemnt by seting hw:mem_page_size=small|large|any|<pagesize> then the instance memory will not be check against the numa node and can be killed by the kernel OOM reaper. with the introduction of https://specs.openstack.org/openstack/nova-specs/specs/train/implemented/cpu-resources.html nova gained the ablity to have vms with cpu_policy=shared and cpu_policy=dedicated on the same host That capablity was later extended to allow mixing shared and dedicated instances in the same instance https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/use-pcpu-vcpu-in-one-instance.html nova however has never and still does not support mixing numa instance and non numa instaces on the same host. that means if you want to support cpu_policy=shared and cpu_policy=dediecated insatances on the same host all vms must have a numa toplogy. To address this we need to add a new flavor extra spec hw:cpu_partioning=dynamic|static to opt into this feature. This can be automatically converted into a required or forbidden trait by the scheduler to select host that are configured for dynamic/static partioning. The libvirt driver will be updated to report the approate trait based on if the cpu_dynamic_set is defined. if the cpu_dynamic_set is defined then the libvirt driver will report the COMPUTE_CPU_PARTITIONING_DYNAMIC trait. otherwise it will report the COMPUTE_CPU_PARTITIONING_STATIC trait. to prevent OOM issues hw:cpu_partioning=dynamic will also imply hw:mem_page_size=small or hw:mem_page_size=any. hw:mem_page_size=any -------------------- The hw:mem_page_size=any flavor extra spec is used to indicate that the instance can be booted on a host with any page size. As a secondary effect this also indicates that the exact page size can be requested by the image. The api does not specify how the virt driver will select the page size when hw:mem_page_size=any is requested. Today the libvirt driver will select the page size based on the largest pagesize aviable that can fit the instance memory. This is done to reduce the memory overhead of the instance by prefering hugepages. This is not ideal when the cpu_policy=shared as its is likely that the hugepages should be preferencally used by the dedicated instances. hw:mem_page_size=any however would be a better default then hw:mem_page_size=small as it allow the image to request the page size it wants. we could adress this by adding a new mem_page_size hw:mem_page_size=prefer_smallest which would indicate that the smallest page size should be prefered but still allow the image to request a larger page size. we could also just change the meaning of hw:mem_page_size=any to mean that the smallest page size should be prefered since it is not part fo the api contract. for backwards compatibility we could make the prefernce based on if static or dynamic cpu partioning is enabled. if static cpu partioning is enabled then hw:mem_page_size=any will prefer hugepages. if dynamic cpu partioning is enabled then hw:mem_page_size=any will prefer small pages. numa and memory overcommit -------------------------- The linux kernel OOM reaper operates on a per numa node basis. This means that if a numa node is over committed and the kernel OOM reaper is invoked, it will kill processes on the numa node until the memory usage on the numa node is below the threshold. nuna affined isntances cannot safely be over committed as the kernel OOM reaper will kill the instance if the numa node is over committed. This is not a new problem and is why we do not supprot numa and non numa instances on the same host. either all instance musts be numa aware or none of them can be numa aware. that means that dynamic cpu partioning cannot be used with non numa aware instances. Alternatives ------------ Nova by design never modifies an instance with out the user requesting it. This is to ensure that the user has full control over the instance and that the instance is not modified in unexpected ways. Nova is also a multi tenant system and we must not allow one tenant to modify the resources of another tenant even indirectly i.e by the side effect of a nova operation on a resouce owned by one tenant altering the resources of another tenant. If this were to happen it would be a security issue. if we did not have these constraints then we could allow shared cpus to float as we do today and when a instance is booted with the dedicated cpu policy we could updated the pinning of the shared cpu instance to ensure that the dedicated cpu instance has the cpus it requires. This would violate our multi tenant design constraints and is not an option. Data model impact ----------------- The exisitng host numa topology blob does not have the concept of mapping instances to cpus directly. instead we have split the aviablity and the usage by the instance into to data structures. the host numa toplogy just tracks what cpus are available to instances and which once have been used in the context of the pinned cpus. The assocation fo what instance is using a givne cpu is tracked by the instance numa topology object. the corraation between the two is computed by the resource tracker and is not stored in the db. This is because the secheduler only need to know what cpus are available not what instance is using what cpus. The resource tracker needs to know what cpus are available and what instance is using what cpus so that it can free the cpus when the instance is deleted. This model work fine for static cpu partioning but does not work for dynamic cpu partioning. a cleaner model would be to have a single data structure that tracks what cpus are available and what instance is using what cpus. The instnace numa topology object could then be removed and the resource tracker would not need to compute the corraation between the host numa topology and the instance numa topology when freeing cpus. to support this the host numa topology blob would need to be extended to include the instance uuid for each cpu. This would allow the resource tracker to directly update the host numa topology blob when assigning cpus to an instance and when freeing cpus from an instance. addtionally we need to track if a cpu is reserved for shared use or dedicated use and the allocation ratio for the host. This can be done by modeling the assingable cpus as ""slot"" objects. each slot object would contain the guest cpu number, a instance uuid. each host cpu would have n slots where n is the allocation ratio. if the host cpu is is asigned as a dedicated cpu then it will have only one slot with the instance uuid of the instance that is using the cpu. This could look something like this. ``` host_numa_topology: generation: 42 numa_node: ""0"": cpus: ""0"": slots: ""0"": instance_uuid: ""instance-uuid-1"" guest_cpu: 0 ""1"": instance_uuid: ""instance-uuid-2"" guest_cpu: 0 ""2"": instance_uuid: ""instance-uuid-3"" guest_cpu: 0 ""3"": instance_uuid: ""instance-uuid-4"" guest_cpu: 0 ""1"": slots: ""0"": instance_uuid: ""instance-uuid-1"" guest_cpu: 1 ""1"": instance_uuid: ""instance-uuid-2"" guest_cpu: 1 ""2"": instance_uuid: None guest_cpu: None ""3"": instance_uuid: None guest_cpu: None ""2"": slots: ""0"": instance_uuid: ""instance-uuid-1"" guest_cpu: 2 ""1"": instance_uuid: ""instance-uuid-2"" guest_cpu: 2 ""2"": instance_uuid: None guest_cpu: None ""3"": instance_uuid: None guest_cpu: None ""3"": slots: ""0"": instance_uuid: None guest_cpu: None ""1"": instance_uuid: None guest_cpu: None ""2"": instance_uuid: None guest_cpu: None ""3"": instance_uuid: None guest_cpu: None memory_pages: ""4"": total: 1024 used: 0 reserved: 0 ""2048"": total: 1024 used: 0 reserved: 0 ""1048576"": total: 1024 used: 0 reserved: 0 ""1"": cpus: ""0"": slots: ""0"": instance_uuid: None guest_cpu: None ""1"": instance_uuid: None guest_cpu: None ""2"": instance_uuid: None guest_cpu: None ""3"": instance_uuid: None guest_cpu: None ""1"": slots: ""0"": instance_uuid: None guest_cpu: None ""1"": instance_uuid: None guest_cpu: None ""2"": instance_uuid: None guest_cpu: None ""3"": instance_uuid: None guest_cpu: None ""2"": slots: ""0"": instance_uuid: None guest_cpu: None ""1"": instance_uuid: None guest_cpu: None ""2"": instance_uuid: None guest_cpu: None ""3"": instance_uuid: None guest_cpu: None ""3"": slots: ""0"": instance_uuid: None guest_cpu: None ""1"": instance_uuid: None guest_cpu: None ""2"": instance_uuid: None guest_cpu: None ""3"": instance_uuid: None guest_cpu: None memory_pages: ""4"": total: 1024 used: 0 reserved: 0 ""2048"": total: 1024 used: 0 reserved: 0 ""1048576"": total: 1024 used: 0 reserved: 0 ``` The migration data objects may will also need to be updated to reflect the new data model as instead of pinning shared cpus to a range of host cpus we will be pinning shared cpus to individual host cpus. as the behavior of the cpu_policy=shared will vary based on if the host is using static or dynamic cpu partioning, we will need to add a new placement trait to indicate if the host is using static or dynamic cpu partioning. This will allow the operator to select hosts that are using static or dynamic cpu partioning using required or forbidden traits. in combination with the Filtering hosts by isolating aggregates freature, https://docs.openstack.org/nova/latest/reference/isolate-aggregates.html This will allow the operator to prevent existing workloads from being moved to a host with dynamic cpu partioning enabled if desired. i.e. if the operator does not want to move existing workloads to a host with dynamic cpu partioning enabled then they can add the required trait to the aggregate that the host is in and create a new flavor that has the required trait. This will prevent existing workloads from being moved to the host with dynamic cpu partioning enabled but allow new workloads to be created on the host with dynamic cpu partioning enabled. REST API impact --------------- None The exsiting flavor extra specs will continue to be used to define the cpu_policy and the same placement resouce classes will be used so no api changes are required. Security impact --------------- None As this proposal does not change the multi tenant design constraints of nova there is no security impact. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ This will potially make the scheduler slower as it will have to consider more constraitns in the numa toplogy filter. However since this feature will be opt in via the hw:cpu_partioning=dynamic flavor extra spec, the scheduler Impact will only be seen when the operator has opted into this feature. if we modify the numa toplgoy and remove the instance numa topology object the new data stuctre will be smaller and more efficent to process then the current data structure. This might result in a small performance improvement but its unlikely to be noticable. moving the cpu assingment from the resource tracker to the conductor should not have a noticable impact on performance as the schduler is already doing the cpu assingment calulation however it will increase size of the result of the select destionation call. so we would need to consider that carefully. given that is out of scope for this spec we will not consider it further. Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- By default this feature will be disabled and will not impact existing deployments. For existing workload the operator will need to create new flavor with hw:cpu_partioning=dynamic and resize existing instances to the new flavor if they want to use this feature. For new workloads the operator will need to create new flavor with hw:cpu_partioning=dynamic and define the cpu_dynamic_set config option to enable this feature. This will not be supported inplace on hosts with existing workloads. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Feature Liaison --------------- Feature liaison: sean-k-mooney Work Items ---------- its 1am and i am tired so i will fill this in later. its also saturday so ... :) Dependencies ============ None unless we want to first add a placment rest api to update an allocation and a resource provider in a single atomic call or change how cpus are assigned to instances in the conductor instead of the resource tracker first. Testing ======= This needs at least unit and fucntional tests. we might actully be ablle to test this in temepst as well using the serial tests feature to ensure that no other tests are running at the same time. Documentation Impact ==================== we need to document all the restrictions and the change in behavior for cpu_policy=shared i.e. that they wont float and that they will be pinned instead. This is thecnially not a change in the api contract but it is a change in the libvirt driver internal that some may not be aware of. References ========== None History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2024.1 Caracal - Introduced ",,918,0
openstack%2Fmanila~914889,openstack/manila,master,Iee198a16f030f1205d38b7c232d4e3a42642c756,db: Post-migration cleanup,MERGED,2024-04-02 14:06:44.000000000,2024-04-07 05:08:10.000000000,2024-04-04 20:56:42.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 14:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/58053d45fe875fd2f61b676909141fe06e1b63ab', 'message': 'db: Post-migration cleanup\n\nNow that we have migrated all of our DB APIs to enginefacade, we can\nclean up the outstanding TODOs.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iee198a16f030f1205d38b7c232d4e3a42642c756\n'}, {'number': 2, 'created': '2024-04-02 14:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c3dac95642de0b0ec3c79d9788c21464987bf07c', 'message': 'db: Post-migration cleanup\n\nNow that we have migrated all of our DB APIs to enginefacade, we can\nclean up the outstanding TODOs.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iee198a16f030f1205d38b7c232d4e3a42642c756\n'}, {'number': 3, 'created': '2024-04-03 10:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b21dc5499f20b39f796c298e1afec867bc29c821', 'message': 'db: Post-migration cleanup\n\nNow that we have migrated all of our DB APIs to enginefacade, we can\nclean up the outstanding TODOs.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iee198a16f030f1205d38b7c232d4e3a42642c756\n'}, {'number': 4, 'created': '2024-04-03 15:24:22.000000000', 'files': ['manila/db/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/98ef4c775583dce926a50a400a428542dfc8f85f', 'message': 'db: Post-migration cleanup\n\nNow that we have migrated all of our DB APIs to enginefacade, we can\nclean up the outstanding TODOs.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Iee198a16f030f1205d38b7c232d4e3a42642c756\n'}]",1,914889,98ef4c775583dce926a50a400a428542dfc8f85f,24,2,4,15334,,,0,"db: Post-migration cleanup

Now that we have migrated all of our DB APIs to enginefacade, we can
clean up the outstanding TODOs.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Iee198a16f030f1205d38b7c232d4e3a42642c756
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/914889/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/db/sqlalchemy/api.py']",2,58053d45fe875fd2f61b676909141fe06e1b63ab,sqlalchemy-20," session=context.session,def share_instance_get_all(context, filters=None):def _share_snapshot_get(context, snapshot_id, project_only=True): result = model_query( context, models.ShareSnapshot, project_only=project_only, ).filter_by( id=snapshot_id ).options( joinedload('share'), joinedload('instances'), joinedload('share_snapshot_metadata'), ).first()def _availability_zone_get(context, id_or_name): query = model_query(context, models.AvailabilityZone)def _availability_zone_create_if_not_exist(context, name): try: return _availability_zone_get(context, name) az.save(context.session)","def get_session(**kwargs): return context_manager._factory.get_legacy_facade().get_session(**kwargs) :param session: if present, the session to use session = kwargs.get('session') if hasattr(context, 'session') and context.session: session = context.session if not session: session = get_session() session=session,def share_instance_get_all(context, filters=None, session=None):# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_snapshot_get(context, snapshot_id, project_only=True, session=None): result = (model_query(context, models.ShareSnapshot, session=session, project_only=project_only). filter_by(id=snapshot_id). options(joinedload('share')). options(joinedload('instances')). options(joinedload('share_snapshot_metadata')). first())# TODO(stephenfin): Remove the 'session' argument once all callers have been # converteddef _availability_zone_get(context, id_or_name, session=None): query = model_query(context, models.AvailabilityZone, session=session)# TODO(stephenfin): Remove the 'session' argument once all callers have been # converteddef _availability_zone_create_if_not_exist(context, name, session=None): try: return _availability_zone_get(context, name, session=session) # TODO(stephenfin): Remove this branch once all callers have been # updated not to pass 'session' if session is not None: with session.begin(): az.save(session) else: az.save(context.session)",23,48
openstack%2Fnova~915182,openstack/nova,master,I01a531fc6e7e47d0a1ffecde107edbbea9fb720c,DNM: Try out metrics,NEW,2024-04-05 20:01:31.000000000,2024-04-07 04:54:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-05 20:01:31.000000000', 'files': ['nova/conf/compute.py', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/46486b2efbb4c8e5da7ea415c854446fde764955', 'message': ""DNM: Try out metrics\n\nWe have a sneaking suspicion that metrics are entirely broke on\nanything with cgroupsv2 (Jammy, RHEL) [1]. Because we default them to\noff and it's not a widely used feature, it might have gone unnoticed.\nTry it out in our CI.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1796543\n\nChange-Id: I01a531fc6e7e47d0a1ffecde107edbbea9fb720c\n""}]",1,915182,46486b2efbb4c8e5da7ea415c854446fde764955,4,1,1,8864,,,0,"DNM: Try out metrics

We have a sneaking suspicion that metrics are entirely broke on
anything with cgroupsv2 (Jammy, RHEL) [1]. Because we default them to
off and it's not a widely used feature, it might have gone unnoticed.
Try it out in our CI.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1796543

Change-Id: I01a531fc6e7e47d0a1ffecde107edbbea9fb720c
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/915182/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/conf/scheduler.py']",2,46486b2efbb4c8e5da7ea415c854446fde764955,," ""MetricsFilter"",",,2,1
openstack%2Fmanila~896931,openstack/manila,master,I2a1a8b8eb933fc750ff8b3fc9d7ff1c7686625e6,db: Remove 'get_session',MERGED,2023-09-29 11:19:38.000000000,2024-04-07 03:47:03.000000000,2024-04-04 20:56:40.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-09-29 11:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/378d82e45d9a05340863f403ed417f6b0cf898a8', 'message': ""db: Remove 'get_session'\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2a1a8b8eb933fc750ff8b3fc9d7ff1c7686625e6\n""}, {'number': 2, 'created': '2024-04-02 14:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/76d22cb463e36c417360ddb54cce3b39904c5370', 'message': ""db: Remove 'get_session'\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2a1a8b8eb933fc750ff8b3fc9d7ff1c7686625e6\n""}, {'number': 3, 'created': '2024-04-03 10:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bd1368d4f51a79d7cd79562ae8e5ddaf0e17fcf4', 'message': ""db: Remove 'get_session'\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2a1a8b8eb933fc750ff8b3fc9d7ff1c7686625e6\n""}, {'number': 4, 'created': '2024-04-03 15:24:22.000000000', 'files': ['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1330a5e34a8a035a6a42996f607f6656f27eafd7', 'message': ""db: Remove 'get_session'\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2a1a8b8eb933fc750ff8b3fc9d7ff1c7686625e6\n""}]",4,896931,1330a5e34a8a035a6a42996f607f6656f27eafd7,29,3,4,15334,,,0,"db: Remove 'get_session'

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I2a1a8b8eb933fc750ff8b3fc9d7ff1c7686625e6
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/896931/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py']",2,378d82e45d9a05340863f403ed417f6b0cf898a8,sqlalchemy-20," assert 'session' not in kwargs session=context.session,","def get_session(**kwargs): return context_manager._factory.get_legacy_facade().get_session(**kwargs) :param session: if present, the session to use session = kwargs.get('session') if hasattr(context, 'session') and context.session: session = context.session if not session: session = get_session() session=session,",56,50
openstack%2Fnova~915051,openstack/nova,stable/2024.1,I24648f5b7895bf5d093f222b6c6e364becbb531f,Always delete NVRAM files when deleting instances,MERGED,2024-04-04 09:08:37.000000000,2024-04-07 03:46:21.000000000,2024-04-06 00:26:46.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34150}]","[{'number': 1, 'created': '2024-04-04 09:08:37.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ebd45460f7d6290f42464314e0d5fb864869dcab', 'message': 'Always delete NVRAM files when deleting instances\n\nWhen deleting an instance, always send VIR_DOMAIN_UNDEFINE_NVRAM to\ndelete the NVRAM file, regardless of whether the image is of type UEFI.\nThis prevents a bug when rebuilding an instance from an UEFI image to a\nnon-UEFI image.\n\nCloses-Bug: #1997352\n\nChange-Id: I24648f5b7895bf5d093f222b6c6e364becbb531f\nSigned-off-by: Simon Hensel <simon.hensel@inovex.de>\n(cherry picked from commit 406d590a364d2c3ebc91e5f28f94011b158459d2)\n'}]",6,915051,ebd45460f7d6290f42464314e0d5fb864869dcab,15,7,1,32755,,,0,"Always delete NVRAM files when deleting instances

When deleting an instance, always send VIR_DOMAIN_UNDEFINE_NVRAM to
delete the NVRAM file, regardless of whether the image is of type UEFI.
This prevents a bug when rebuilding an instance from an UEFI image to a
non-UEFI image.

Closes-Bug: #1997352

Change-Id: I24648f5b7895bf5d093f222b6c6e364becbb531f
Signed-off-by: Simon Hensel <simon.hensel@inovex.de>
(cherry picked from commit 406d590a364d2c3ebc91e5f28f94011b158459d2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/915051/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,ebd45460f7d6290f42464314e0d5fb864869dcab,," mock_domain.undefineFlags.assert_called_once_with(5) mock_domain.undefineFlags.assert_called_once_with(5) mock_domain.undefineFlags.assert_called_once_with(5) mock_domain.undefineFlags.assert_has_calls([mock.call( fakelibvirt.VIR_DOMAIN_UNDEFINE_MANAGED_SAVE | fakelibvirt.VIR_DOMAIN_UNDEFINE_NVRAM )]) drvr._swap_volume(mock_guest, 'vdb', mock_conf, resize_to) mock_guest, 'vdb', mock_conf, 0) swap_volume.assert_called_once_with(guest, 'vdb', conf, 1)"," def test_check_uefi_support_aarch64(self): self.mock_uname.return_value = fakelibvirt.os_uname( 'Linux', '', '5.4.0-0-generic', '', fields.Architecture.AARCH64) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) self.assertTrue(drvr._check_uefi_support(image_meta)) mock_domain.undefineFlags.assert_called_once_with(1) mock_domain.undefineFlags.assert_called_once_with(1) mock_domain.undefineFlags.assert_called_once_with(1) # NVRAM flag should not called only host support uefi mock_domain.undefineFlags.assert_called_once_with( fakelibvirt.VIR_DOMAIN_UNDEFINE_MANAGED_SAVE ) # undefineFlags should now be called with 5 as uefi supported # by both host and guest drvr._swap_volume(mock_guest, 'vdb', mock_conf, resize_to, None) mock_guest, 'vdb', mock_conf, 0, None) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) hw_firmware_type = image_meta.properties.get( 'hw_firmware_type') swap_volume.assert_called_once_with(guest, 'vdb', conf, 1, hw_firmware_type)",17,54
openstack%2Fproject-config~136700,openstack/project-config,master,Ie2be50f842b4220d4e7f9d8e830d3df3262a6353,XenServer: Enable injection of XVA and ISO urls,MERGED,2014-11-24 07:48:52.000000000,2024-04-06 04:53:41.000000000,2014-12-23 17:17:25.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 5044}, {'_account_id': 6133}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6554}, {'_account_id': 6735}]","[{'number': 1, 'created': '2014-11-24 07:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/535236e8e5c7391947c5d0d4a60a059600e2ac5c', 'message': ""XenServer: Use nodepool to inject XVA and ISO url\n\nThis will enable the flexible configuration of the XVA and the URL\nthrough nodepool, thus it's not needed to push an infra change for\nchanging those values.\n\nChange-Id: Ie2be50f842b4220d4e7f9d8e830d3df3262a6353\n""}, {'number': 2, 'created': '2014-12-18 17:08:14.000000000', 'files': ['nodepool/scripts/convert_node_to_xenserver.sh', 'nodepool/scripts/install_xenserver.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c7c3d68468eee3c85bf5a052353e90bdee791693', 'message': ""XenServer: Enable injection of XVA and ISO urls\n\nThis will enable the flexible configuration of the XVA and the URL\nthrough nodepool, thus it's not needed to push an infra change for\nchanging those values. Also if you do not have those values configured,\nsensible defaults are provided.\n\nChange-Id: Ie2be50f842b4220d4e7f9d8e830d3df3262a6353\n""}]",2,136700,c7c3d68468eee3c85bf5a052353e90bdee791693,20,9,2,5044,,,0,"XenServer: Enable injection of XVA and ISO urls

This will enable the flexible configuration of the XVA and the URL
through nodepool, thus it's not needed to push an infra change for
changing those values. Also if you do not have those values configured,
sensible defaults are provided.

Change-Id: Ie2be50f842b4220d4e7f9d8e830d3df3262a6353
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/136700/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/scripts/convert_node_to_xenserver.sh', 'nodepool/scripts/install_xenserver.sh']",2,535236e8e5c7391947c5d0d4a60a059600e2ac5c,addparams," ""$NODEPOOL_XENSERVER_XVA_URL"" \ devstack \ ""$NODEPOOL_XENSERVER_ISO_URL""", http://downloads.vmd.citrix.com/OpenStack/xenapi-in-the-cloud-appliances/1.1.4.xva \ devstack,4,3
openstack%2Fnetworking-bgpvpn~906661,openstack/networking-bgpvpn,master,Ieb962c002030cf1f78e1c37dd45de72e6a66a0b5,coveragerc: Remove reference to non-existant path,MERGED,2024-01-25 14:42:40.000000000,2024-04-06 01:00:32.000000000,2024-04-06 00:59:36.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-25 14:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/13fa988e9614e6231af7e3841f3a5231efe02144', 'message': 'coveragerc: Remove reference to non-existing path\n\nThe networking-bgpvpn/openstack directory does not exist.\n\nChange-Id: Ieb962c002030cf1f78e1c37dd45de72e6a66a0b5\n'}, {'number': 2, 'created': '2024-01-25 14:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c19de2f554adf05b85530dfacb47befe46904239', 'message': 'coveragerc: Remove reference to non-existant path\n\nThe networking-bgpvpn/openstack directory does not exist.\n\nChange-Id: Ieb962c002030cf1f78e1c37dd45de72e6a66a0b5\n'}, {'number': 3, 'created': '2024-01-25 16:35:37.000000000', 'files': ['.coveragerc'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a120a852604f457e39f8945fda327614d3b2d108', 'message': 'coveragerc: Remove reference to non-existant path\n\nThe networking-bgpvpn/openstack directory does not exist.\n\nChange-Id: Ieb962c002030cf1f78e1c37dd45de72e6a66a0b5\n'}]",1,906661,a120a852604f457e39f8945fda327614d3b2d108,17,3,3,9816,,,0,"coveragerc: Remove reference to non-existant path

The networking-bgpvpn/openstack directory does not exist.

Change-Id: Ieb962c002030cf1f78e1c37dd45de72e6a66a0b5
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/61/906661/1 && git format-patch -1 --stdout FETCH_HEAD,['.coveragerc'],1,13fa988e9614e6231af7e3841f3a5231efe02144,coveragerc-fix,omit = networking-bgpvpn/tests/*,"omit = networking-bgpvpn/tests/*,networking-bgpvpn/openstack/*",1,1
openstack%2Fpuppet-mistral~915103,openstack/puppet-mistral,master,If6aa337cdd0f932b0cf0aaee14aa04bd36701076,Deprecate support for [coordination] heartbeat_interval,MERGED,2024-04-05 00:46:49.000000000,2024-04-06 00:42:36.000000000,2024-04-06 00:41:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 00:46:49.000000000', 'files': ['spec/classes/mistral_coordination_spec.rb', 'manifests/coordination.pp', 'releasenotes/notes/deprecate-coordination-heartbeat_interval-37a35124e18bd918.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/c7fa10285d33e9a6721773faf74e3e2d5c586031', 'message': ""Deprecate support for [coordination] heartbeat_interval\n\nThis option hasn't been unused by Mistral and was formally deprecated\nduring this cycle.\n\nDepends-on: https://review.opendev.org/877936\nChange-Id: If6aa337cdd0f932b0cf0aaee14aa04bd36701076\n""}]",1,915103,c7fa10285d33e9a6721773faf74e3e2d5c586031,12,3,1,9816,,,0,"Deprecate support for [coordination] heartbeat_interval

This option hasn't been unused by Mistral and was formally deprecated
during this cycle.

Depends-on: https://review.opendev.org/877936
Change-Id: If6aa337cdd0f932b0cf0aaee14aa04bd36701076
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/03/915103/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/mistral_coordination_spec.rb', 'manifests/coordination.pp', 'releasenotes/notes/deprecate-coordination-heartbeat_interval-37a35124e18bd918.yaml']",3,c7fa10285d33e9a6721773faf74e3e2d5c586031,,--- features: - | The ``mistral::coordination::heartbeat_interval`` parameter has been deprecated and has no effect now. ,,16,7
openstack%2Fneutron~902841,openstack/neutron,master,Ic5d9608277dd5c4881b3e4b494e1864be0bed1b4,Fix KeyError failure in _sync_subnet_dhcp_options(),MERGED,2023-12-06 21:42:13.000000000,2024-04-06 00:34:37.000000000,2024-04-06 00:26:55.000000000,"[{'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34980}]","[{'number': 1, 'created': '2023-12-06 21:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0da20b30830a4e4c00661d354429595159878e60', 'message': 'Fix KeyError failure in _sync_subnet_dhcp_options()\n\nIf the netron-ovn-db-sync-util is run while neutron-server\nis active (which is not recommended), it can randomly fail\nif there are active API calls in flight to create networks\nand/or subnets.\n\nSkip the subnet and log a warning if detected.\n\nCloses-bug: #2045811\nChange-Id: Ic5d9608277dd5c4881b3e4b494e1864be0bed1b4\n'}, {'number': 2, 'created': '2023-12-11 23:10:19.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4323e1f209ea1c63fe7af5275ea2b96f52b8740', 'message': 'Fix KeyError failure in _sync_subnet_dhcp_options()\n\nIf the netron-ovn-db-sync-util is run while neutron-server\nis active (which is not recommended), it can randomly fail\nif there are active API calls in flight to create networks\nand/or subnets.\n\nSkip the subnet and log a warning if detected.\n\nCloses-bug: #2045811\nChange-Id: Ic5d9608277dd5c4881b3e4b494e1864be0bed1b4\n'}]",3,902841,e4323e1f209ea1c63fe7af5275ea2b96f52b8740,18,7,2,1131,,,0,"Fix KeyError failure in _sync_subnet_dhcp_options()

If the netron-ovn-db-sync-util is run while neutron-server
is active (which is not recommended), it can randomly fail
if there are active API calls in flight to create networks
and/or subnets.

Skip the subnet and log a warning if detected.

Closes-bug: #2045811
Change-Id: Ic5d9608277dd5c4881b3e4b494e1864be0bed1b4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/902841/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py']",2,0da20b30830a4e4c00661d354429595159878e60,bug/2045811," 'ip_version': 4}, # A subnet without a known network should be skipped, # see bug #2045811 {'id': 'notfound', 'network_id': 'notfound', 'enable_dhcp': True, 'cidr': '30.0.0.0/24', 'tenant_id': 'tenant1', 'gateway_ip': '30.0.0.1', 'dns_nameservers': [], 'host_routes': [],",,21,1
openstack%2Fneutron~911957,openstack/neutron,master,Ie1bf6b82e57a00f61640a131a29d897a9cde4629,Add note on iptables cleanup after OVS firewall migration,MERGED,2024-03-07 19:03:32.000000000,2024-04-06 00:33:39.000000000,2024-04-06 00:26:51.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-07 19:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/924ad3fc52fd1d49cf1dd1b55c6a1bf79fec8659', 'message': 'Add note on iptables cleanup after OVS firewall migration\n\nAdd an item to the instructions on iptables to OVS\nfirewall migration that the admin should cleanup\nany stale iptables rules after completion. It is\nout of scope of our documents on how exactly an\nadminstrator might do that.\n\nCloses-bug: #1864374\nChange-Id: Ie1bf6b82e57a00f61640a131a29d897a9cde4629\n'}, {'number': 2, 'created': '2024-03-18 20:39:22.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/46245c015403c5770d2bd9b6d08f52f89fd6aa40', 'message': 'Add note on iptables cleanup after OVS firewall migration\n\nAdd an item to the instructions on iptables to OVS\nfirewall migration that the admin should cleanup\nany stale iptables rules after completion. It is\nout of scope of our documents on how exactly an\nadminstrator might do that.\n\nCloses-bug: #1864374\nChange-Id: Ie1bf6b82e57a00f61640a131a29d897a9cde4629\n'}]",2,911957,46245c015403c5770d2bd9b6d08f52f89fd6aa40,14,4,2,1131,,,0,"Add note on iptables cleanup after OVS firewall migration

Add an item to the instructions on iptables to OVS
firewall migration that the admin should cleanup
any stale iptables rules after completion. It is
out of scope of our documents on how exactly an
adminstrator might do that.

Closes-bug: #1864374
Change-Id: Ie1bf6b82e57a00f61640a131a29d897a9cde4629
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/911957/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/openvswitch_firewall.rst'],1,924ad3fc52fd1d49cf1dd1b55c6a1bf79fec8659,bug/1864374,"4) Once migration is complete, stale iptables rules should be cleaned-up on all nodes where the firewall driver was changed. They can be found by searching for the string 'neutron', for example: .. code-block:: ini sudo iptables -S | grep neutron ",,8,0
openstack%2Fopenstack-ansible-galera_server~911009,openstack/openstack-ansible-galera_server,master,I28c548a5ee778c4957dc73e3547d585344755c0f,Additional TLS configuration options,MERGED,2024-03-04 22:54:04.000000000,2024-04-06 00:07:04.000000000,2024-04-06 00:06:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2024-03-04 22:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/85b6faef96b40a592310f886af828e40f1f91434', 'message': 'Additional TLS configuration options\n\nAdd variables `galera_require_secure_transport` and `galera_tls_version`\nfor requiring encrypted connections to the server and providing the list\nof permitted protocols of those connections when `galera_use_ssl` is\nenabled.\n\nChange-Id: I28c548a5ee778c4957dc73e3547d585344755c0f\n'}, {'number': 2, 'created': '2024-03-05 03:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/09b814138f01d88aff04c1f081e0f72784c7d27d', 'message': 'Additional TLS configuration options\n\nAdd variables `galera_require_secure_transport` and `galera_tls_version`\nfor requiring encrypted connections to the server and providing the list\nof permitted protocols of those connections when `galera_use_ssl` is\nenabled.\n\nChange-Id: I28c548a5ee778c4957dc73e3547d585344755c0f\nDepends-On: I6b77c828d251aeee53b83404e7e3131e3f61cbb1\n'}, {'number': 3, 'created': '2024-03-05 16:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/75d128f1286409e43ab23e0f1bec99cc147415bf', 'message': 'Additional TLS configuration options\n\nAdd variables `galera_require_secure_transport` and `galera_tls_version`\nfor requiring encrypted connections to the server and providing the list\nof permitted protocols of those connections when `galera_use_ssl` is\nenabled.\n\nChange-Id: I28c548a5ee778c4957dc73e3547d585344755c0f\nDepends-On: I6b77c828d251aeee53b83404e7e3131e3f61cbb1\nDepends-On: I23d839e75b202d0400aeefe6e98c429e16ecd37e\n'}, {'number': 4, 'created': '2024-03-11 18:03:11.000000000', 'files': ['releasenotes/notes/additional-tls-options-14b7e1a435581887.yaml', 'templates/my.cnf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/3f029767606fe3b82f7f09e4410470fe6e11b541', 'message': 'Additional TLS configuration options\n\nAdd variables `galera_require_secure_transport` and `galera_tls_version`\nfor requiring encrypted connections to the server and providing the list\nof permitted protocols of those connections when `galera_use_ssl` is\nenabled.\n\nChange-Id: I28c548a5ee778c4957dc73e3547d585344755c0f\nDepends-On: I6b77c828d251aeee53b83404e7e3131e3f61cbb1\nDepends-On: I23d839e75b202d0400aeefe6e98c429e16ecd37e\n'}]",6,911009,3f029767606fe3b82f7f09e4410470fe6e11b541,25,3,4,14805,,,0,"Additional TLS configuration options

Add variables `galera_require_secure_transport` and `galera_tls_version`
for requiring encrypted connections to the server and providing the list
of permitted protocols of those connections when `galera_use_ssl` is
enabled.

Change-Id: I28c548a5ee778c4957dc73e3547d585344755c0f
Depends-On: I6b77c828d251aeee53b83404e7e3131e3f61cbb1
Depends-On: I23d839e75b202d0400aeefe6e98c429e16ecd37e
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/09/911009/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/my.cnf.j2', 'defaults/main.yml']",2,85b6faef96b40a592310f886af828e40f1f91434,additional_tls_options,"galera_require_secure_transport: True galera_tls_version: ""TLSv1.2,TLSv1.3""",,4,0
openstack%2Fneutron-fwaas~906165,openstack/neutron-fwaas,master,I7eb99b96ea1e9a1a96e28c53760d9d747670d6e4,Remove translation sections from setup.cfg,MERGED,2024-01-20 09:53:20.000000000,2024-04-05 23:45:35.000000000,2024-04-05 23:44:18.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-20 09:53:20.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8549c88e8c45e1bf2045ebe43e64fb92230eb7cd', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can generate\ntranslation files without them.\n\nChange-Id: I7eb99b96ea1e9a1a96e28c53760d9d747670d6e4\n'}]",1,906165,8549c88e8c45e1bf2045ebe43e64fb92230eb7cd,13,3,1,9816,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can generate
translation files without them.

Change-Id: I7eb99b96ea1e9a1a96e28c53760d9d747670d6e4
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/65/906165/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,8549c88e8c45e1bf2045ebe43e64fb92230eb7cd,remove-translation-setup,, [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = neutron_fwaas/locale/neutron_fwaas.pot [compile_catalog] directory = neutron_fwaas/locale domain = neutron_fwaas [update_catalog] domain = neutron_fwaas output_dir = neutron_fwaas/locale input_file = neutron_fwaas/locale/neutron_fwaas.pot,0,16
openstack%2Fneutron-specs~899209,openstack/neutron-specs,master,Ib365b9641dd5e932df705bb263bad9e0f73c508b,Add spec for BGP speaker peer sessions resilient - RFE,MERGED,2023-10-24 20:06:29.000000000,2024-04-05 23:06:51.000000000,2024-04-05 23:05:54.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29074}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-10-24 20:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fd59bc8ded5aa317748af3b9f7be6ba3751f12e6', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}, {'number': 2, 'created': '2023-10-30 18:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0c42ee66a51f58c2362aceb39c7f20e2fe7b986f', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}, {'number': 3, 'created': '2023-11-09 19:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a6a7ff31fad0d860625da995c53f77bfe8b7cb6f', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}, {'number': 4, 'created': '2023-11-24 19:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/00999c2f3ecb4c8e8fe2d4573e28d0dd2fd08d1b', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}, {'number': 5, 'created': '2023-11-24 20:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3d2708ffddab3aa62946c739a7c9f4e25fab9a75', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}, {'number': 6, 'created': '2024-01-24 12:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/174aade8990ff5699aedea2d3754397187047c57', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}, {'number': 7, 'created': '2024-03-24 13:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c0824026f850ae4873f155d65b663a6dd35f5bc1', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}, {'number': 8, 'created': '2024-03-24 13:56:15.000000000', 'files': ['specs/2024.2/l3bgp-resilient-peer-sessions.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9623a1c850b139ee42f2facaa31b61aed18c0bbc', 'message': 'Add spec for BGP speaker peer sessions resilient - RFE\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-specs/+/914043\nRelated-bug: #2006145\nChange-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b\n'}]",26,899209,9623a1c850b139ee42f2facaa31b61aed18c0bbc,41,9,8,35432,,,0,"Add spec for BGP speaker peer sessions resilient - RFE

Depends-On: https://review.opendev.org/c/openstack/neutron-specs/+/914043
Related-bug: #2006145
Change-Id: Ib365b9641dd5e932df705bb263bad9e0f73c508b
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/09/899209/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2024.1/l3bgp-resilient-peer-sessions.rst'],1,fd59bc8ded5aa317748af3b9f7be6ba3751f12e6,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================================== L3/BGP - Make BGP Speaker peer sessions resilient to infrastructure outage ========================================================================== https://bugs.launchpad.net/neutron/+bug/2006145 This RFE intends to implement resilient support for BGP peer sessions established by the BGP speaker. Nowadays, the Neutron Dynamic Routing service architecture depends on some type of message between the DRAgent service and the Neutron server. However, these communications are strongly dependent on the messaging service availability (such as RabbitMQ), and any transient/permanent failures in OpenStack infrastructure nodes may affect prefix advertising via BGP. Problem Description =================== When we are using dynamic routing with BPG to advertise network address prefixes in a cloud infrastructure, all the network traffic depends on the correct operation by the BGP peer elements. The DRAgent has a crucial role in that scenario because this service is responsible for advirtise all L3 prefixes in a North/South communication, being a single point of vulnerability for the cloud operation. The current DRAgent reference design [1]_ using two separated FSMs is described below: State Report FSM:: +---------------------------------------+ |DrAgentWithStateReport class | | | | +---------------------------+ | | |heartbeat = _report_state | | | |interval=report_interval | | | +------------+--------------+ | | | | | +------------+--------------+ | | |_report_state | | | | | | | | RPC | | | | agent_status == revived | | | +------------+--------------+ | | | | | +------------+--------------+ | | |schedule_full_resync | | | +---------------------------+ | | | +---------------------------------------+ BGP DRAgent FSM:: +---------------------------------------+ |BgpDrAgent class | | | | +-------------------------------+ | | |periodic_resync task | | | |CONF.periodic_interval | | | |_periodic_resync_helper | | | +---------------+---------------+ | | | | | +---------------+---------------+ | | |_periodic_resync_helper | | | | full_sync | | | | or | | | | resync/reason | | | | sync_state | | | +---------------+---------------+ | | | | | +---------------+---------------+ | | |sync_state | | | | | | | | if bgp_speaker_id = None | | | | remove speaker from DRAgent | | | | | | | | Exception (MessagingTimeout) | | | +--------------+----------------+ | | | | | +--------------+----------------+ | | |schedule_full_resync | | | +-------------------------------+ | | | +---------------------------------------+ These two FSMs have independently configured interval ranges, however, a full resync request can come from both periodic tasks, and the sync_state method will be processed. The case of the RPC heartbeat response with agent_status `revived` activates this entire flow described above until the speaker is removed from the DRAgent. For the case where an `exception` occurs in the sync_state method, a full resync is scheduled (according to the flow described above) until the speaker is removed from the DRAgent. Regardless of the origin of the full resync request, the caching mechanism apparently is not working, as the agent was previously configured and after receiving a `revived` status via RPC it simply removes the speaker from the DRAgent, and reschedules a future resync to later be re-included (depending on the configured periodic intervals). When the speaker is removed from DRAgent the BGP sessions with peers are closed and will only be reestablished if the speaker is re-added. Unless a full configuration reset is requested, the DRAgent must keep the session with the BGP peer, even if the messaging service (RMQ) is offline. Exceptions in RPC messages should not start a full sync unless it is requested after reestablishing communication with Neutron server. This problem can be manifested in two different ways: * The first one: when the messaging service/RabbitMQ is offline and does not respond for a long interval `AMQP server is unreachable` (note the timeouts configured for Neutron agent_down); and then RMQ/RPC becomes active again. * The second one: when the messaging service/RabbitMQ queues are under a lot of pressure and/or experiencing `exception` timeouts, such as: `Timed out waiting for a reply`; and then RMQ/RPC becomes active again. Proposed Change =============== To solve the problem described above, the proposal is to introduce a new speaker cache logic for the DRAgent can keep the speaker settings and the BGP peer sessions in case of RPC Exceptions, and/or reestablishment of communication via RPC. To enable the new DRAgent speaker cache mechanism, a new config option should be enabled via [BGP] section in bgp_dragent.ini file. .. code:: * ``speaker_cache_timeout = 300`` This configuration option enable the DRAgent to keep the speaker settings and related BGP peer sessions until the configured timeout (in seconds). The purpose of this timeout cache is prevent errors in the resync checking logic so that no speaker removed until the timeout condition is satisfied. The default value for `speaker_cache_timeout` must be zero and thus maintain the current DRAgent behavior. Any non-zero value should affect DRAgent behavior as described below: * State Report FSM: with the `revived` RPC status, the DRAgent must be start the cache timeout timer, and set the cache_timeout_state flag as True. If the DRAgent performs the sync_state method before the cache_timeout_state becomes to False, then the full sync process must be ignored, and wait for the next periodic check. * DRAgent FSM: if the sync_state method throws any `exception` during operation, the DRAgent must be start the cache timeout timer, and set the cache_timeout_state flag as True. Similar to the case described above, if the DRAgent performs the sync_state method before the cache_timeout_state becomes to False, then the full sync process must be ignored, and wait for the next periodic check. * Cache timeout task: if another `revived` or `Exception` event occurs during the timer count, the cache task must reset the timeout interval count and start again. Otherwise, the cache task must terminate at the expiry of the configured timeout, and set the cache_timeout_state flag to False. DB Impact --------- None Rest API Changes ---------------- None Implementation ============== Assignee(s) ----------- * Primary assignees: Roberto Bartzen Acosta <rbartzen@gmail.com> Work Items ---------- * Implement a new cache logic in DRAgent speaker resync. * Implement relevant unit and functional tests using the existing facilities in Neutron Dynamic Routing. * Write documentation. Documentation Impact ==================== User Documentation ------------------ * Information about the DRAgent speaker caching support. Testing ======= * Unit/functional tests. References ========== .. [1] https://opendev.org/openstack/neutron-dynamic-routing/src/branch/master/neutron_dynamic_routing/services/bgp/agent/bgp_dragent.py ",,216,0
openstack%2Fpuppet-nova~915035,openstack/puppet-nova,master,Ic77b0a4aa0715344ed32c74cc11c114a6232af73,Add consoleauth option support,MERGED,2024-04-04 00:30:55.000000000,2024-04-05 23:01:48.000000000,2024-04-05 23:00:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 00:30:55.000000000', 'files': ['releasenotes/notes/consoleauth-81bf3f52259e2468.yaml', 'spec/classes/nova_consoleauth_spec.rb', 'manifests/consoleauth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/83c9e4b17bf523f721e1718dd6b8d371315c177e', 'message': 'Add consoleauth option support\n\nChange-Id: Ic77b0a4aa0715344ed32c74cc11c114a6232af73\n'}]",0,915035,83c9e4b17bf523f721e1718dd6b8d371315c177e,8,3,1,9816,,,0,"Add consoleauth option support

Change-Id: Ic77b0a4aa0715344ed32c74cc11c114a6232af73
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/35/915035/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/consoleauth-81bf3f52259e2468.yaml', 'spec/classes/nova_consoleauth_spec.rb', 'manifests/consoleauth.pp']",3,83c9e4b17bf523f721e1718dd6b8d371315c177e,,"# == Class: nova::consoleauth # # Configure the consoleauth options # # === Parameters # # [*token_ttl*] # (Optional) The lifetime of a console auth token (in seconds). # Defaults to $facts['os_service_default']. # # [*enforce_session_timeout*] # (Optional) Enable ot disable enforce session timeout for VM console. # Defaults to $facts['os_service_default']. # class nova::consoleauth ( $token_ttl = $facts['os_service_default'], $enforce_session_timeout = $facts['os_service_default'], ) { include nova::deps nova_config { 'consoleauth/token_ttl': value => $token_ttl; 'consoleauth/enforce_session_timeout': value => $enforce_session_timeout; } } ",,69,0
openstack%2Fpuppet-nova~915004,openstack/puppet-nova,stable/2023.1,I17a9d92c44b8dfe329b22b309d7a0408df707d1a,nova_flavor: Fix broken idempotency with properties,MERGED,2024-04-04 00:19:42.000000000,2024-04-05 23:00:47.000000000,2024-04-05 23:00:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 00:19:42.000000000', 'files': ['spec/acceptance/10_nova_wsgi_apache_spec.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'spec/unit/provider/nova_flavor/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e7a09d24dff550a1640e69e97cea7b7dd3081df1', 'message': 'nova_flavor: Fix broken idempotency with properties\n\nMake sure that nova_flavor resource is idempotent when the ""properties""\nproperty is set. Also fix the typo causing undefined method error.\n\nCloses-Bug: #2059949\nChange-Id: I17a9d92c44b8dfe329b22b309d7a0408df707d1a\n(cherry picked from commit 820695b463d4dead2f00834458e770c9a3c0dec4)\n(cherry picked from commit 3d7de53fc44b1c4caa611056956629e30985f49d)\n'}]",1,915004,e7a09d24dff550a1640e69e97cea7b7dd3081df1,11,3,1,9816,,,0,"nova_flavor: Fix broken idempotency with properties

Make sure that nova_flavor resource is idempotent when the ""properties""
property is set. Also fix the typo causing undefined method error.

Closes-Bug: #2059949
Change-Id: I17a9d92c44b8dfe329b22b309d7a0408df707d1a
(cherry picked from commit 820695b463d4dead2f00834458e770c9a3c0dec4)
(cherry picked from commit 3d7de53fc44b1c4caa611056956629e30985f49d)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/04/915004/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/10_nova_wsgi_apache_spec.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'spec/unit/provider/nova_flavor/openstack_spec.rb']",3,e7a09d24dff550a1640e69e97cea7b7dd3081df1,bug/2059949," describe '#instances' do it 'finds existing services' do expect(described_class).to receive(:openstack) .with('flavor', 'list', '--quiet', '--format', 'csv', ['--long', '--all']) .and_return('""ID"",""Name"",""RAM"",""Disk"",""Ephemeral"",""VCPUs"",""Is Public"",""Swap"",""RXTX Factor"",""Properties"" ""1"",""m1.tiny"",128,2,0,1,True,0,1.0,""{}"" ""42"",""m1.nano"",256,2,0,1,False,0,1.0,""{\'key1\': \'val1\', \'key2\': \'val2\'}"" ') expect(described_class).to receive(:openstack) .with('flavor', 'show', '--format', 'shell', ['1', '-c', 'access_project_ids']) .and_return('access_project_ids=""None"" ') expect(described_class).to receive(:openstack) .with('flavor', 'show', '--format', 'shell', ['42', '-c', 'access_project_ids']) .and_return('access_project_ids=""None"" ') instances = described_class.instances expect(instances.count).to eq(2) expect(instances[0].name).to eq('m1.tiny') expect(instances[0].id).to eq('1') expect(instances[0].ram).to eq('128') expect(instances[0].disk).to eq('2') expect(instances[0].ephemeral).to eq('0') expect(instances[0].vcpus).to eq('1') expect(instances[0].is_public).to eq(true) expect(instances[0].swap).to eq('0') expect(instances[0].rxtx_factor).to eq('1.0') expect(instances[0].properties).to eq({}) expect(instances[0].project).to eq('') expect(instances[0].project_name).to eq('') expect(instances[1].name).to eq('m1.nano') expect(instances[1].id).to eq('42') expect(instances[1].ram).to eq('256') expect(instances[1].disk).to eq('2') expect(instances[1].ephemeral).to eq('0') expect(instances[1].vcpus).to eq('1') expect(instances[1].is_public).to eq(false) expect(instances[1].swap).to eq('0') expect(instances[1].rxtx_factor).to eq('1.0') expect(instances[1].properties).to eq({'key1' => 'val1', 'key2' => 'val2'}) expect(instances[1].project).to eq('') expect(instances[1].project_name).to eq('') end end ",,51,3
openstack%2Fpuppet-neutron~915045,openstack/puppet-neutron,master,Iedc78f5f4bce46bf5e972197515c72a93f3bbb27,Fix typo causing unexpected deprecation warning,MERGED,2024-04-04 06:10:23.000000000,2024-04-05 22:57:19.000000000,2024-04-05 22:57:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 06:10:23.000000000', 'files': ['manifests/agents/metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9088ef5336cf039bbbcbd156d84228e02845cef5', 'message': 'Fix typo causing unexpected deprecation warning\n\nChange-Id: Iedc78f5f4bce46bf5e972197515c72a93f3bbb27\n'}]",0,915045,9088ef5336cf039bbbcbd156d84228e02845cef5,7,3,1,9816,,,0,"Fix typo causing unexpected deprecation warning

Change-Id: Iedc78f5f4bce46bf5e972197515c72a93f3bbb27
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/45/915045/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agents/metadata.pp'],1,9088ef5336cf039bbbcbd156d84228e02845cef5,, if $metadata_memory_cache_ttl { warning('The metadata_memory_cache_ttl parameter is deprecated and has no effect.'), if metadata_memory_cache_ttl { warning('The metadata_memotry_cache_ttl parameter is deprecated and has no effect.'),2,2
openstack%2Fpuppet-nova~914879,openstack/puppet-nova,stable/2023.2,I17a9d92c44b8dfe329b22b309d7a0408df707d1a,nova_flavor: Fix broken idempotency with properties,MERGED,2024-04-03 15:08:58.000000000,2024-04-05 22:50:19.000000000,2024-04-05 22:50:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 15:08:58.000000000', 'files': ['spec/acceptance/10_nova_wsgi_apache_spec.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'spec/unit/provider/nova_flavor/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3d7de53fc44b1c4caa611056956629e30985f49d', 'message': 'nova_flavor: Fix broken idempotency with properties\n\nMake sure that nova_flavor resource is idempotent when the ""properties""\nproperty is set. Also fix the typo causing undefined method error.\n\nCloses-Bug: #2059949\nChange-Id: I17a9d92c44b8dfe329b22b309d7a0408df707d1a\n(cherry picked from commit 820695b463d4dead2f00834458e770c9a3c0dec4)\n'}]",0,914879,3d7de53fc44b1c4caa611056956629e30985f49d,9,3,1,9816,,,0,"nova_flavor: Fix broken idempotency with properties

Make sure that nova_flavor resource is idempotent when the ""properties""
property is set. Also fix the typo causing undefined method error.

Closes-Bug: #2059949
Change-Id: I17a9d92c44b8dfe329b22b309d7a0408df707d1a
(cherry picked from commit 820695b463d4dead2f00834458e770c9a3c0dec4)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/79/914879/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/10_nova_wsgi_apache_spec.rb', 'lib/puppet/provider/nova_flavor/openstack.rb', 'spec/unit/provider/nova_flavor/openstack_spec.rb']",3,3d7de53fc44b1c4caa611056956629e30985f49d,bug/2059949," describe '#instances' do it 'finds existing services' do expect(described_class).to receive(:openstack) .with('flavor', 'list', '--quiet', '--format', 'csv', ['--long', '--all']) .and_return('""ID"",""Name"",""RAM"",""Disk"",""Ephemeral"",""VCPUs"",""Is Public"",""Swap"",""RXTX Factor"",""Properties"" ""1"",""m1.tiny"",128,2,0,1,True,0,1.0,""{}"" ""42"",""m1.nano"",256,2,0,1,False,0,1.0,""{\'key1\': \'val1\', \'key2\': \'val2\'}"" ') expect(described_class).to receive(:openstack) .with('flavor', 'show', '--format', 'shell', ['1', '-c', 'access_project_ids']) .and_return('access_project_ids=""None"" ') expect(described_class).to receive(:openstack) .with('flavor', 'show', '--format', 'shell', ['42', '-c', 'access_project_ids']) .and_return('access_project_ids=""None"" ') instances = described_class.instances expect(instances.count).to eq(2) expect(instances[0].name).to eq('m1.tiny') expect(instances[0].id).to eq('1') expect(instances[0].ram).to eq('128') expect(instances[0].disk).to eq('2') expect(instances[0].ephemeral).to eq('0') expect(instances[0].vcpus).to eq('1') expect(instances[0].is_public).to eq(true) expect(instances[0].swap).to eq('0') expect(instances[0].rxtx_factor).to eq('1.0') expect(instances[0].properties).to eq({}) expect(instances[0].project).to eq('') expect(instances[0].project_name).to eq('') expect(instances[1].name).to eq('m1.nano') expect(instances[1].id).to eq('42') expect(instances[1].ram).to eq('256') expect(instances[1].disk).to eq('2') expect(instances[1].ephemeral).to eq('0') expect(instances[1].vcpus).to eq('1') expect(instances[1].is_public).to eq(false) expect(instances[1].swap).to eq('0') expect(instances[1].rxtx_factor).to eq('1.0') expect(instances[1].properties).to eq({'key1' => 'val1', 'key2' => 'val2'}) expect(instances[1].project).to eq('') expect(instances[1].project_name).to eq('') end end ",,51,3
openstack%2Fpuppet-zaqar~914898,openstack/puppet-zaqar,master,I88b6b3c41b6f8691720b6bf9ccd5999d7a24f68c,cache: Support new redis options,MERGED,2024-04-02 15:20:11.000000000,2024-04-05 22:43:49.000000000,2024-04-05 22:42:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 15:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/81f073078e70b8b7e7a1591a51712ee86862b88b', 'message': 'cache: Support new redis options\n\nThe oslo.cache 3.7.0 release introduced some options for redis backend\nand redis sentinel backend. This introduces for these parameters.\n\nDepneds-on: https://review.opendev.org/910629\nChange-Id: I88b6b3c41b6f8691720b6bf9ccd5999d7a24f68c\n'}, {'number': 2, 'created': '2024-04-02 15:20:41.000000000', 'files': ['releasenotes/notes/cache-redis-opts-9e610582f75983cd.yaml', 'spec/classes/zaqar_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/f7793ae10d30b9d79ce3e0d68fe2e42df9f6e257', 'message': 'cache: Support new redis options\n\nThe oslo.cache 3.7.0 release introduced some options for redis backend\nand redis sentinel backend. This introduces support for these\nparameters.\n\nDepneds-on: https://review.opendev.org/910629\nChange-Id: I88b6b3c41b6f8691720b6bf9ccd5999d7a24f68c\n'}]",0,914898,f7793ae10d30b9d79ce3e0d68fe2e42df9f6e257,9,3,2,9816,,,0,"cache: Support new redis options

The oslo.cache 3.7.0 release introduced some options for redis backend
and redis sentinel backend. This introduces support for these
parameters.

Depneds-on: https://review.opendev.org/910629
Change-Id: I88b6b3c41b6f8691720b6bf9ccd5999d7a24f68c
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/98/914898/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cache-redis-opts-9e610582f75983cd.yaml', 'spec/classes/zaqar_cache_spec.rb', 'manifests/cache.pp']",3,81f073078e70b8b7e7a1591a51712ee86862b88b,,"# [*redis_server*] # (Optional) Redis server in the format of ""host:port"". # Defaults to $facts['os_service_default'] # # [*redis_username*] # (Optional) The user name for redis # Defaults to $facts['os_service_default'] # # [*redis_password*] # (Optional) The password for redis # Defaults to $facts['os_service_default'] # # [*redis_sentinels*] # (Optional) Redis sentinel servers in the format of host:port # Defaults to $facts['os_service_default'] # # [*redis_socket_timeout*] # (Optional) Timeout in seconds for every call to a server # Defaults to $facts['os_service_default'] # # [*redis_sentinel_service_name*] # (Optional) Service name of the redis sentinel cluster. # Defaults to $facts['os_service_default'] # $redis_server = $facts['os_service_default'], $redis_username = $facts['os_service_default'], $redis_password = $facts['os_service_default'], $redis_sentinels = $facts['os_service_default'], $redis_socket_timeout = $facts['os_service_default'], $redis_sentinel_service_name = $facts['os_service_default'], redis_server => $redis_server, redis_username => $redis_username, redis_password => $redis_password, redis_sentinels => $redis_sentinels, redis_socket_timeout => $redis_socket_timeout, redis_sentinel_service_name => $redis_sentinel_service_name,",,66,0
openstack%2Fpuppet-trove~915041,openstack/puppet-trove,master,Ifdd4aad61df32ab4baba55eebaa9cf42567968c4,Add support for [network] network_isolation,MERGED,2024-04-04 03:00:30.000000000,2024-04-05 22:37:45.000000000,2024-04-05 22:36:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 03:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/6ce46032d8a47de3e761fb4121ac7c14567eb511', 'message': 'Add support for [network] network_isolation\n\nChange-Id: Ifdd4aad61df32ab4baba55eebaa9cf42567968c4\n'}, {'number': 2, 'created': '2024-04-04 03:01:13.000000000', 'files': ['releasenotes/notes/network_isolation-d7b0f489fb53d578.yaml', 'manifests/init.pp', 'spec/classes/trove_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/0959e03f96a2af8e82b666efd4d3f646cd40ba3f', 'message': 'Add support for [network] network_isolation\n\nChange-Id: Ifdd4aad61df32ab4baba55eebaa9cf42567968c4\n'}]",0,915041,0959e03f96a2af8e82b666efd4d3f646cd40ba3f,9,3,2,9816,,,0,"Add support for [network] network_isolation

Change-Id: Ifdd4aad61df32ab4baba55eebaa9cf42567968c4
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/41/915041/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/network_isolation-d7b0f489fb53d578.yaml', 'manifests/init.pp', 'spec/classes/trove_init_spec.rb']",3,6ce46032d8a47de3e761fb4121ac7c14567eb511,," is_expected.to contain_trove_config('network/network_isolation').with_value('<SERVICE DEFAULT>') :network_isolation => true, is_expected.to contain_trove_config('network/network_isolation').with_value(true)",,13,0
openstack%2Fovsdbapp~915148,openstack/ovsdbapp,stable/zed,Ic0e28b1113b6af1c66e6301e1851b620eac19824,"Define ""LbAddIpPortMappingCommand"" with latin chars",MERGED,2024-04-05 20:37:22.000000000,2024-04-05 22:34:43.000000000,2024-04-05 22:33:44.000000000,"[{'_account_id': 5756}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 20:37:22.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c95d39ed5954dd520438c9a8e48e73d41af5047e', 'message': 'Define ""LbAddIpPortMappingCommand"" with latin chars\n\nCloses-Bug: #2004186\nChange-Id: Ic0e28b1113b6af1c66e6301e1851b620eac19824\n(cherry picked from commit 7733f0c5364de3805d7f8d5be429e0a464a7c6b1)\n'}]",1,915148,c95d39ed5954dd520438c9a8e48e73d41af5047e,7,2,1,5756,,,0,"Define ""LbAddIpPortMappingCommand"" with latin chars

Closes-Bug: #2004186
Change-Id: Ic0e28b1113b6af1c66e6301e1851b620eac19824
(cherry picked from commit 7733f0c5364de3805d7f8d5be429e0a464a7c6b1)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/48/915148/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py']",2,c95d39ed5954dd520438c9a8e48e73d41af5047e,bug/2004186-stable/zed,class LbAddIpPortMappingCommand(cmd.BaseCommand):,class LbAddIpPortMappingСommand(cmd.BaseCommand):,2,2
openstack%2Fnova~913223,openstack/nova,stable/2023.1,Icd586cdd015143b2e113fd14904f40410809d247,Reproducer for not powering on isolated emulator threads cores,MERGED,2024-03-14 15:08:10.000000000,2024-04-05 22:11:53.000000000,2024-04-05 22:09:36.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 15:08:10.000000000', 'files': ['nova/tests/functional/libvirt/test_power_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ea5c691f3c3cc6aa3588b442f084e4737ae3079', 'message': 'Reproducer for not powering on isolated emulator threads cores\n\nRelated-bug: 2056612\nChange-Id: Icd586cdd015143b2e113fd14904f40410809d247\n(cherry picked from commit 521af2620958fb1a466bfb1dbf2da566634eb992)\n(cherry picked from commit 3dde97216cfc8f30aaa9f3e2f5a67b1e252c85a0)\n'}]",3,913223,6ea5c691f3c3cc6aa3588b442f084e4737ae3079,16,3,1,8864,,,0,"Reproducer for not powering on isolated emulator threads cores

Related-bug: 2056612
Change-Id: Icd586cdd015143b2e113fd14904f40410809d247
(cherry picked from commit 521af2620958fb1a466bfb1dbf2da566634eb992)
(cherry picked from commit 3dde97216cfc8f30aaa9f3e2f5a67b1e252c85a0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/913223/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_power_manage.py'],1,6ea5c691f3c3cc6aa3588b442f084e4737ae3079,bug/2056612," self.isolate_flavor_id = self._create_flavor( vcpu=4, extra_spec={'hw:cpu_policy': 'dedicated', 'hw:cpu_thread_policy': 'prefer', 'hw:emulator_threads_policy': 'isolate'}) def test_create_server_with_emulator_threads_isolate(self): server = self._create_server( flavor_id=self.isolate_flavor_id, expected_state='ACTIVE') # Let's verify that the pinned CPUs are now online self._assert_server_cpus_state(server, expected='online') instance = objects.Instance.get_by_uuid(self.ctxt, server['id']) numa_topology = instance.numa_topology # Make sure we've pinned the emulator threads to a separate core self.assertTrue(numa_topology.cpuset_reserved) self.assertTrue( numa_topology.cpu_pinning.isdisjoint( numa_topology.cpuset_reserved)) # FIXME(artom) We've not actually powered on the emulator threads core self._assert_cpu_set_state(numa_topology.cpuset_reserved, expected='offline') ",,21,0
openstack%2Fnova~913222,openstack/nova,stable/2023.1,I8597f13e8089106434018b94e9bbc2091f95fee9,Add cpuset_reserved helper to instance NUMA topology,MERGED,2024-03-14 15:08:10.000000000,2024-04-05 22:10:47.000000000,2024-04-05 22:09:30.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 15:08:10.000000000', 'files': ['nova/tests/unit/objects/test_instance_numa.py', 'nova/objects/instance_numa.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b60ff8ca5ada95b562279da36849733d0d2d964f', 'message': ""Add cpuset_reserved helper to instance NUMA topology\n\nWhen we pin emulator threads with the `isolate` policy, those pins are\nstored in the `cpuset_reserved` field in each NUMACell. In subsequent\npatches we'll need those pins for the whole instance, so this patch\nadds a helper property that does this for us, similar to how the\n`cpu_pinning` property helper currently works.\n\nRelated-bug: 2056612\nChange-Id: I8597f13e8089106434018b94e9bbc2091f95fee9\n(cherry picked from commit 8dbfecd66315cb2ac0b8c767e2a2a45e592589ed)\n(cherry picked from commit 62a35d2324b463f048f292c5e24b04dda36a5dd2)\n""}]",3,913222,b60ff8ca5ada95b562279da36849733d0d2d964f,17,3,1,8864,,,0,"Add cpuset_reserved helper to instance NUMA topology

When we pin emulator threads with the `isolate` policy, those pins are
stored in the `cpuset_reserved` field in each NUMACell. In subsequent
patches we'll need those pins for the whole instance, so this patch
adds a helper property that does this for us, similar to how the
`cpu_pinning` property helper currently works.

Related-bug: 2056612
Change-Id: I8597f13e8089106434018b94e9bbc2091f95fee9
(cherry picked from commit 8dbfecd66315cb2ac0b8c767e2a2a45e592589ed)
(cherry picked from commit 62a35d2324b463f048f292c5e24b04dda36a5dd2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/913222/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_instance_numa.py', 'nova/objects/instance_numa.py']",2,b60ff8ca5ada95b562279da36849733d0d2d964f,bug/2056612, @property def cpuset_reserved(self): return set(itertools.chain.from_iterable([ cell.cpuset_reserved for cell in self.cells if cell.cpuset_reserved])) ,,14,2
openstack%2Fcharm-cinder-purestorage~914102,openstack/charm-cinder-purestorage,stable/yoga,I1c6620b72923260a52e288911649c2e0e5ec3c61,Add backend-availability-zone config option,MERGED,2024-03-25 15:20:37.000000000,2024-04-05 22:03:03.000000000,2024-04-05 22:03:03.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-25 15:20:37.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/29a022422a4c96f0d4508544cf1614b04fe5807a', 'message': 'Add backend-availability-zone config option\n\nAdd support for configuring a backend availability zone.\n\nCloses-Bug: #2058407\nChange-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61\n(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)\n(cherry picked from commit e5ea85ab62fe60aa6f7dc7a74014096c30ffff83)\n(cherry picked from commit 0560ac4f6608772b54c23e0299a176a9ecc1a7c4)\n(cherry picked from commit 72774a34f7d307a4ba483c9eea91d287ab7f1678)\n'}]",0,914102,29a022422a4c96f0d4508544cf1614b04fe5807a,9,5,1,6737,,,0,"Add backend-availability-zone config option

Add support for configuring a backend availability zone.

Closes-Bug: #2058407
Change-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61
(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)
(cherry picked from commit e5ea85ab62fe60aa6f7dc7a74014096c30ffff83)
(cherry picked from commit 0560ac4f6608772b54c23e0299a176a9ecc1a7c4)
(cherry picked from commit 72774a34f7d307a4ba483c9eea91d287ab7f1678)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/02/914102/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py']",2,29a022422a4c96f0d4508544cf1614b04fe5807a,bug/2058407-yoga," backend_az = self.config.get('backend-availability-zone') if backend_az: driver_options.append( ('backend_availability_zone', backend_az)) ",,11,0
openstack%2Fcharm-cinder-purestorage~914101,openstack/charm-cinder-purestorage,stable/zed,I1c6620b72923260a52e288911649c2e0e5ec3c61,Add backend-availability-zone config option,MERGED,2024-03-25 15:20:01.000000000,2024-04-05 21:38:42.000000000,2024-04-05 21:38:42.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-25 15:20:01.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/72774a34f7d307a4ba483c9eea91d287ab7f1678', 'message': 'Add backend-availability-zone config option\n\nAdd support for configuring a backend availability zone.\n\nCloses-Bug: #2058407\nChange-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61\n(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)\n(cherry picked from commit e5ea85ab62fe60aa6f7dc7a74014096c30ffff83)\n(cherry picked from commit 0560ac4f6608772b54c23e0299a176a9ecc1a7c4)\n'}]",0,914101,72774a34f7d307a4ba483c9eea91d287ab7f1678,9,5,1,6737,,,0,"Add backend-availability-zone config option

Add support for configuring a backend availability zone.

Closes-Bug: #2058407
Change-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61
(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)
(cherry picked from commit e5ea85ab62fe60aa6f7dc7a74014096c30ffff83)
(cherry picked from commit 0560ac4f6608772b54c23e0299a176a9ecc1a7c4)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/01/914101/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py']",2,72774a34f7d307a4ba483c9eea91d287ab7f1678,bug/2058407-zed," backend_az = self.config.get('backend-availability-zone') if backend_az: driver_options.append( ('backend_availability_zone', backend_az)) ",,11,0
openstack%2Ftempest~898732,openstack/tempest,master,I346a9505bc942e66aedad2029215617d0918a885,Add scenario test: test instances with cinder volumes,MERGED,2023-10-18 11:55:00.000000000,2024-04-05 21:20:47.000000000,2024-04-05 21:16:02.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-10-18 11:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/99d23e98428774df64c425ed81fe8cd65b5eb227', 'message': 'Add scenario test\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 2, 'created': '2023-10-18 16:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc1f7d0cfa56af92a99ed74f71fa384d0bb61710', 'message': 'Add scenario test\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 3, 'created': '2023-11-01 15:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/109c431016a2ca3393dcf7e2e8e39a38b989f22c', 'message': 'Add scenario test\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 4, 'created': '2023-11-08 16:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd3645ee52f96c4f430dbebf8650191480ed63bb', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 5, 'created': '2023-11-15 15:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bf72dcb368d3b304d1e43b9b2be9556dc9dc4a2f', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 6, 'created': '2023-11-15 17:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/27ef72111a85e754204ddf8983f9763593ee962a', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 7, 'created': '2023-11-20 12:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c566ba8bc26f73fe059efe9330aaacf3257b460b', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 8, 'created': '2023-11-21 12:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3b5c54fdb773c0e7f35873ce0a336f4752fa61b8', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 9, 'created': '2023-11-27 20:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a877fa4b71b11322b6ae181a79397d520dc5bbc', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 10, 'created': '2023-11-28 20:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/57b7e5ac3a9bb395fabfc3ae55a2b0a7fb2d24d8', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 11, 'created': '2023-12-05 12:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4d60bfed461964e28728954f2c464dbc9e48f17e', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 12, 'created': '2023-12-06 12:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/04b2cb5d8880667e96dd00a3071aa7afcc7d4a40', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 2 additional configurations are added:\nvolume_type_for_boot and volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 13, 'created': '2023-12-15 14:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/17f154fc32dbdb852ac6b351938dca22ab1a1582', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all compute nodes. Also 1 additional configuration is added:\nvolume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 14, 'created': '2024-01-16 10:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/da93dfdec6c2ccf4789279313028c49ce128e0cd', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 15, 'created': '2024-01-16 16:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0729f1645fa48fab79aff6c3c21b21767dbf3c2', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 16, 'created': '2024-02-09 10:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5397d6d8d842913b019bbceb1c9c9542f6446b4a', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 17, 'created': '2024-02-12 22:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0286225fb47c316adb2ee0761780d66740c49657', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 18, 'created': '2024-02-13 09:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7192640f77a429bde030ca0c9deb10faa193bf9e', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 19, 'created': '2024-02-15 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bf19c4caf73ec45a83281f806490977ab8214d37', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 20, 'created': '2024-02-16 11:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/04744aff3a139f9fa7b4f73312dd61730e697868', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 21, 'created': '2024-02-16 23:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2cbe836511792a9d2d3256438e0b536787f50aac', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 22, 'created': '2024-02-17 22:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aa38c00d16456ecba4808522cc793fff95dc15e9', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 23, 'created': '2024-02-19 15:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c47d9762b06b8f19f5a2610d55764f05af9940e6', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 24, 'created': '2024-02-24 20:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1469b2653f597952d6d9b6701ed2ce8ad8057481', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 25, 'created': '2024-02-26 10:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0ec6c2f44ec1803c540885acdea4e28338dbcfa2', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 26, 'created': '2024-02-28 10:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9d21e193f467e2b043f10ef40638fe14885019c', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 27, 'created': '2024-02-29 20:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b275867cb767cfac6b0c7f5294cf3d082106db00', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 28, 'created': '2024-02-29 23:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5aad3ad61b11f6fa6ab7dbae5ea3f35261e7a91e', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 29, 'created': '2024-03-05 10:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e52a23da98f579aac5e21c2cff3a1dc5bd16737d', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 30, 'created': '2024-03-05 12:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb273a0e37a229189255e12b6a8875933c98df68', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 31, 'created': '2024-03-07 10:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d2810fa4f227a4c7797a7ad5ac509e4c05f7f87', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}, {'number': 32, 'created': '2024-03-15 17:29:44.000000000', 'files': ['tempest/scenario/test_instances_with_cinder_volumes.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/scenario/manager.py', 'releasenotes/notes/add-volume_types_for_data_volume-config-option.yaml', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d7445981798aa7c4d2f8389749c8e474b51ac9fa', 'message': 'Add scenario test: test instances with cinder volumes\n\nThis patch adds a scenario test instances with cinder volumes launches\non all available compute nodes, up to CONF.compute.min_compute_nodes.\nAlso 1 additional configuration is added: volume_types_for_data_volume.\n\nAlso function for create and add security group to server is moved\nto tempest/scenario/manager.py to avoid code duplication.\n\nChange-Id: I346a9505bc942e66aedad2029215617d0918a885\n'}]",116,898732,d7445981798aa7c4d2f8389749c8e474b51ac9fa,125,3,32,35229,,,0,"Add scenario test: test instances with cinder volumes

This patch adds a scenario test instances with cinder volumes launches
on all available compute nodes, up to CONF.compute.min_compute_nodes.
Also 1 additional configuration is added: volume_types_for_data_volume.

Also function for create and add security group to server is moved
to tempest/scenario/manager.py to avoid code duplication.

Change-Id: I346a9505bc942e66aedad2029215617d0918a885
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/898732/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_instances_with_cinder_volumes.py', 'tempest/config.py']",2,99d23e98428774df64c425ed81fe8cd65b5eb227,add_scenario_test_instances_with_cinder_volumes," cfg.StrOpt('volume_type_for_boot', default=None, help=''), cfg.StrOpt('volume_types_for_data_volume', default=None, help=''),",,184,0
openstack%2Fkeystone-tempest-plugin~914934,openstack/keystone-tempest-plugin,master,I54d0ae44a7f669734edcbd31cbc03e9ccf3d829e,Update tests for admin role in credentials,MERGED,2024-04-03 02:17:34.000000000,2024-04-05 21:16:05.000000000,2024-04-05 21:16:05.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 02:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/7b091f96b59c1dd85dd7e1194e84bfd22d22fcb8', 'message': 'Update tests for admin role in credentials\n\nThis patch updates tests to expect ""admin"" personas to be able to access\ncredential endpoints.  The relevant policies have been updated in\nKeystone.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/914520\nChange-Id: I54d0ae44a7f669734edcbd31cbc03e9ccf3d829e\n'}, {'number': 2, 'created': '2024-04-03 04:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/922a03dd2b5e41344edfafc44b21f0f572751473', 'message': 'Update tests for admin role in credentials\n\nThis patch updates tests to expect ""admin"" personas to be able to access\ncredential endpoints.  The relevant policies have been updated in\nKeystone.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/914520\nChange-Id: I54d0ae44a7f669734edcbd31cbc03e9ccf3d829e\n'}, {'number': 3, 'created': '2024-04-03 18:50:23.000000000', 'files': ['keystone_tempest_plugin/tests/rbac/v3/test_token.py', 'keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_ec2_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/c0ae2d9930bad1f9e041d85b17e32eb5a9466079', 'message': 'Update tests for admin role in credentials\n\nThis patch updates tests to expect ""admin"" personas to be able to access\ncredential endpoints.  The relevant policies have been updated in\nKeystone.\n\nChange-Id: I54d0ae44a7f669734edcbd31cbc03e9ccf3d829e\n'}]",4,914934,c0ae2d9930bad1f9e041d85b17e32eb5a9466079,17,3,3,7973,,,0,"Update tests for admin role in credentials

This patch updates tests to expect ""admin"" personas to be able to access
credential endpoints.  The relevant policies have been updated in
Keystone.

Change-Id: I54d0ae44a7f669734edcbd31cbc03e9ccf3d829e
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/34/914934/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_ec2_credential.py']",3,7b091f96b59c1dd85dd7e1194e84bfd22d22fcb8,secure-rbac,"class ProjectAdminTests(SystemAdminTests): class ProjectMemberTests(SystemReaderTests): credentials = ['project_member', 'system_admin'] class ProjectReaderTests(ProjectMemberTests):","class ProjectAdminTests(SystemReaderTests):class ProjectMemberTests(ProjectAdminTests): credentials = ['project_member', 'system_admin'] class ProjectReaderTests(ProjectAdminTests):",22,23
openstack%2Fopenstacksdk~912473,openstack/openstacksdk,master,I8cef3134d3d4cf706294bacf00c4ec5b4c789fd4,Add Quota Sets to Manila,NEW,2024-03-11 16:19:26.000000000,2024-04-05 20:33:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-11 16:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b8c1062ac595590b6988e632514f60e7f511d75c', 'message': 'Add Quota Sets to Manila\n\nChange-Id: I8cef3134d3d4cf706294bacf00c4ec5b4c789fd4\nSigned-off-by: nenad0711 <nenad0711@gmail.com>\n'}, {'number': 2, 'created': '2024-03-11 16:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7379db42ee2fe6a4898df4ba4f3fd7321ed2c37b', 'message': 'Add Quota Sets to Manila\n\nChange-Id: I8cef3134d3d4cf706294bacf00c4ec5b4c789fd4\nSigned-off-by: nenad0711 <nenad0711@gmail.com>\n'}, {'number': 3, 'created': '2024-03-24 19:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0bcb00d9e3ecd7a4c31f911c05d5e1998322829f', 'message': 'Add Quota Sets to Manila\n\nChange-Id: I8cef3134d3d4cf706294bacf00c4ec5b4c789fd4\nSigned-off-by: nenad0711 <nenad0711@gmail.com>\n'}, {'number': 4, 'created': '2024-03-29 02:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/873a1b8370d25b14da69cd56a6e1fab2ab036a43', 'message': 'Add Quota Sets to Manila\n\nChange-Id: I8cef3134d3d4cf706294bacf00c4ec5b4c789fd4\nSigned-off-by: nenad0711 <nenad0711@gmail.com>\n'}, {'number': 5, 'created': '2024-04-05 18:08:40.000000000', 'files': ['openstack/tests/functional/shared_file_system/test_quota_sets.py', '.idea/inspectionProfiles/Project_Default.xml', '.idea/vcs.xml', '.idea/workspace.xml', 'openstack/tests/unit/shared_file_system/v2/test_quota_sets.py', '.idea/openstacksdk.iml', '.idea/inspectionProfiles/profiles_settings.xml', 'openstack/shared_file_system/v2/_proxy.py', 'openstack/shared_file_system/v2/quota_sets.py', 'openstack/tests/unit/shared_file_system/v2/test_share_network_subnet.py', '.idea/misc.xml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b5abf182071e007a17e641cfd6917b5f7b335ea9', 'message': 'Add Quota Sets to Manila\n\nChange-Id: I8cef3134d3d4cf706294bacf00c4ec5b4c789fd4\nSigned-off-by: nenad0711 <nenad0711@gmail.com>\n'}]",22,912473,b5abf182071e007a17e641cfd6917b5f7b335ea9,10,1,5,36773,,,0,"Add Quota Sets to Manila

Change-Id: I8cef3134d3d4cf706294bacf00c4ec5b4c789fd4
Signed-off-by: nenad0711 <nenad0711@gmail.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/73/912473/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/shared_file_system/v2/_proxy.py', 'openstack/shared_file_system/v2/quota_sets.py']",2,b8c1062ac595590b6988e632514f60e7f511d75c,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from keystoneauth1 import session from openstack import resource, utils class QuotaSets(resource.Resource): resource_key = ""quota_sets"" resources_key = ""quota_sets"" base_path = ""/quota-sets"" # capabilities allow_create = False allow_fetch = True allow_commit = True allow_delete = True allow_list = False _query_mapping = resource.QueryParameters( 'quota_set', 'id', 'gigabytes', 'snapshots', 'shares', 'snapshot_gigabytes', 'share_groups', 'share_group_snapshots', 'share_networks', 'share_replicas', 'replica_gigabytes', 'per_share_gigabytes', 'backups', 'backup_gigabytes', ) #: Properties #: The quota_set object. quota_set = resource.Body(""quota_set"", type=object) #: The ID of the project the quota pertains to. id = resource.Body(""id"", type=str) #: The number of gigabytes allowed for each project. gigabytes = resource.Body(""gigabytes"", type=int) #: The number of snapshots allowed for each project. snapshots = resource.Body(""snapshots"", type=int) #: The number of shares allowed for each project. shares = resource.Body(""shares"", type=int) #: The number of gigabytes for the snapshots allowed for each project. snapshot_gigabytes = resource.Body(""snapshot_gigabytes"", type=int) #: The number of share groups allowed for each project or user. share_groups = resource.Body(""share_groups"", type=int) #: The number of share group snapshots allowed for each project or user. share_groups_snapshots = resource.Body(""share_groups_snapshots"", type=int) #: The number of share networks allowed for each project. share_networks = resource.Body(""share_groups_networks"", type=int) #: The number of share replicas allowed for each project. share_replicas = resource.Body(""share_replicas"", type=int) #: The number of gigabytes for the share replicas allowed for each project. replica_gigabytes = resource.Body(""replica_gigabytes"", type=int) #: The number of gigabytes per share allowed for each project per_share_gigabytes = resource.Body(""per_share_gigabytes"", type=int) #: The number of backups allowed for each project. backups = resource.Body(""backups"", type=int) #: The number of gigabytes for the backups allowed for each project. backup_gigabytes = resource.Body(""backup_gigabytes"", type=int) ",,102,0
openstack%2Ftempest~915175,openstack/tempest,master,I9bb7062f8f202379c3b8ce0feab0b8ee8779f19c,DNM: testing,NEW,2024-04-05 18:30:46.000000000,2024-04-05 20:31:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-05 18:30:46.000000000', 'files': ['zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5005d33e935aa1101c2fb03640e0c846bbed2aeb', 'message': 'DNM: testing\n\nChange-Id: I9bb7062f8f202379c3b8ce0feab0b8ee8779f19c\n'}]",0,915175,5005d33e935aa1101c2fb03640e0c846bbed2aeb,2,1,1,8556,,,0,"DNM: testing

Change-Id: I9bb7062f8f202379c3b8ce0feab0b8ee8779f19c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/75/915175/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integrated-gate.yaml'],1,5005d33e935aa1101c2fb03640e0c846bbed2aeb,, - grenade: voting: false branches: regex: master negate: true, - grenade,5,1
openstack%2Fcharm-openstack-dashboard~915008,openstack/charm-openstack-dashboard,stable/xena,I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6,Adjust haproxy timeout to intended values,MERGED,2024-04-04 11:14:07.000000000,2024-04-05 20:08:07.000000000,2024-04-05 20:08:07.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 11:14:07.000000000', 'files': ['templates/haproxy.cfg'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/fb63730e63fb09919d8b24c4ce34c77c85bb1317', 'message': ""Adjust haproxy timeout to intended values\n\nMany years ago change Ida7949113594b9b859ab7b4ba8b2bb440bab6e7d\nattempted to change the timeouts of haproxy but did not succeed,\nas deployments were still using the values from the charm's\ntemplates/haproxy.cfg file, being effectively set to 30 seconds\nand causing timeouts (see bug). Additionally, the description\nof the config options became inaccurate, stating the default to\nbe a value that they were really not.\n\nThis patch addresses the timeout value discrepancy, adjusting\nto the original change's intended values.\n\nCloses-bug: #2045168\nChange-Id: I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6\n(cherry picked from commit 09c587116059319305b2a09cb393a084a52d1fc9)\n(cherry picked from commit 2f430d15e64766fce4dc398ee23703a395693027)\n(cherry picked from commit f013b18c7680174dcbc4217030081a451347c8ef)\n(cherry picked from commit f6f60a37ba99fd56fd02ac1a4c518703e9d9efca)\n(cherry picked from commit 62777b150b1753a5a33e16c6dbfce24bc828a9dd)\n""}]",0,915008,fb63730e63fb09919d8b24c4ce34c77c85bb1317,8,4,1,14567,,,0,"Adjust haproxy timeout to intended values

Many years ago change Ida7949113594b9b859ab7b4ba8b2bb440bab6e7d
attempted to change the timeouts of haproxy but did not succeed,
as deployments were still using the values from the charm's
templates/haproxy.cfg file, being effectively set to 30 seconds
and causing timeouts (see bug). Additionally, the description
of the config options became inaccurate, stating the default to
be a value that they were really not.

This patch addresses the timeout value discrepancy, adjusting
to the original change's intended values.

Closes-bug: #2045168
Change-Id: I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6
(cherry picked from commit 09c587116059319305b2a09cb393a084a52d1fc9)
(cherry picked from commit 2f430d15e64766fce4dc398ee23703a395693027)
(cherry picked from commit f013b18c7680174dcbc4217030081a451347c8ef)
(cherry picked from commit f6f60a37ba99fd56fd02ac1a4c518703e9d9efca)
(cherry picked from commit 62777b150b1753a5a33e16c6dbfce24bc828a9dd)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/08/915008/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/haproxy.cfg'],1,fb63730e63fb09919d8b24c4ce34c77c85bb1317,, timeout queue 9000 timeout connect 9000 timeout client 90000 timeout server 90000, timeout queue 5000 timeout connect 5000 timeout client 30000 timeout server 30000,4,4
openstack%2Fcharm-nova-compute~915007,openstack/charm-nova-compute,stable/ussuri,I336ce64d493c549096d0b8706996e0f17a2728fb,Update apparmor profile for nova-compute,MERGED,2024-04-04 11:13:12.000000000,2024-04-05 20:07:34.000000000,2024-04-05 20:07:34.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 11:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b41080674048bef20b33be6ee4e421f5a2d346ef', 'message': 'Update apparmor profile for nova-compute\n\nNova-compute uses ssh and scp commands extensively and this\npatch allows the process to read the configuration too in\n/etc/ssh/ssh_config.d/ directory.\n\nCloses-Bug: #2044983\nChange-Id: I336ce64d493c549096d0b8706996e0f17a2728fb\n(cherry picked from commit 4d6f4c07c9b634e22d5445a702be3d3ee9730ab3)\n(cherry picked from commit 20c9776e8836abbe13a2eab2efe1d8c9a8cff851)\n(cherry picked from commit 552a84925c9c1f7adc810e338a61944b6a53dbd0)\n(cherry picked from commit decbbd95330864a18dfd6d68b84860a9a671cf2b)\n(cherry picked from commit c7014adcc5cc25994065887122e5168c1c7c0f6b)\n'}, {'number': 2, 'created': '2024-04-04 16:04:06.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a5f4e72933f52e640797ca1c6a1fa9134b345c87', 'message': 'Update apparmor profile for nova-compute\n\nNova-compute uses ssh and scp commands extensively and this\npatch allows the process to read the configuration too in\n/etc/ssh/ssh_config.d/ directory.\n\nCloses-Bug: #2044983\nChange-Id: I336ce64d493c549096d0b8706996e0f17a2728fb\n(cherry picked from commit 4d6f4c07c9b634e22d5445a702be3d3ee9730ab3)\n(cherry picked from commit 20c9776e8836abbe13a2eab2efe1d8c9a8cff851)\n(cherry picked from commit 552a84925c9c1f7adc810e338a61944b6a53dbd0)\n(cherry picked from commit decbbd95330864a18dfd6d68b84860a9a671cf2b)\n(cherry picked from commit c7014adcc5cc25994065887122e5168c1c7c0f6b)\n'}]",0,915007,a5f4e72933f52e640797ca1c6a1fa9134b345c87,11,4,2,14567,,,0,"Update apparmor profile for nova-compute

Nova-compute uses ssh and scp commands extensively and this
patch allows the process to read the configuration too in
/etc/ssh/ssh_config.d/ directory.

Closes-Bug: #2044983
Change-Id: I336ce64d493c549096d0b8706996e0f17a2728fb
(cherry picked from commit 4d6f4c07c9b634e22d5445a702be3d3ee9730ab3)
(cherry picked from commit 20c9776e8836abbe13a2eab2efe1d8c9a8cff851)
(cherry picked from commit 552a84925c9c1f7adc810e338a61944b6a53dbd0)
(cherry picked from commit decbbd95330864a18dfd6d68b84860a9a671cf2b)
(cherry picked from commit c7014adcc5cc25994065887122e5168c1c7c0f6b)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/07/915007/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,b41080674048bef20b33be6ee4e421f5a2d346ef,apparmor-ssh-config-stable/2023.2-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," /etc/ssh/ssh_config.d/ r, /etc/ssh/ssh_config.d/* r,",,2,0
openstack%2Fldappool~882448,openstack/ldappool,master,If28001a810800a5c91a6a2fe63e3ba3f92fdc049,Retry or failover when using TLS,NEW,2023-05-05 15:03:26.000000000,2024-04-05 20:02:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-05 15:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/fcb320ee172889ea37428c57592b2a63508eff3d', 'message': 'Retry or failover when using TLS\n\nIf a connection failed during TLS initialization, a BackendError was\nraised which exited the loop of retrying or moving on to the next\nprovided server. Instead raise the underlying ldap exception.\n\nChange-Id: If28001a810800a5c91a6a2fe63e3ba3f92fdc049\n'}, {'number': 2, 'created': '2023-05-05 16:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/41ef3b7fc849634708496f9bec1ed8e57d501f19', 'message': 'Retry or failover when using TLS\n\nIf a connection failed during TLS initialization, a BackendError was\nraised which exited the loop of retrying or moving on to the next\nprovided server. Instead raise the underlying ldap exception.\n\nChange-Id: If28001a810800a5c91a6a2fe63e3ba3f92fdc049\n'}, {'number': 3, 'created': '2023-12-01 15:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/d4b2f2b7b4dd6d5afec5b9e4aa1100ee2a552d2c', 'message': 'Retry or failover when using TLS\n\nIf a connection failed during TLS initialization, a BackendError was\nraised which exited the loop of retrying or moving on to the next\nprovided server. Instead raise the underlying ldap exception.\n\nChange-Id: If28001a810800a5c91a6a2fe63e3ba3f92fdc049\n'}, {'number': 4, 'created': '2024-04-05 19:25:08.000000000', 'files': ['ldappool/tests/test_ldapconnection.py', 'ldappool/__init__.py'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/811518b16c490d68830ab1e58e0977ee628f76b4', 'message': 'Retry or failover when using TLS\n\nIf a connection failed during TLS initialization, a BackendError was\nraised which exited the loop of retrying or moving on to the next\nprovided server. Instead raise the underlying ldap exception.\n\nCloses-Bug: 2060325\n\nChange-Id: If28001a810800a5c91a6a2fe63e3ba3f92fdc049\n'}]",0,882448,811518b16c490d68830ab1e58e0977ee628f76b4,8,1,4,14805,,,0,"Retry or failover when using TLS

If a connection failed during TLS initialization, a BackendError was
raised which exited the loop of retrying or moving on to the next
provided server. Instead raise the underlying ldap exception.

Closes-Bug: 2060325

Change-Id: If28001a810800a5c91a6a2fe63e3ba3f92fdc049
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/48/882448/1 && git format-patch -1 --stdout FETCH_HEAD,"['ldappool/tests/test_ldapconnection.py', 'ldappool/__init__.py']",2,fcb320ee172889ea37428c57592b2a63508eff3d,bug/2060325, except Exception as exc: raise exc," except Exception: raise BackendError('Could not activate TLS on established ' 'connection with %s' % self.uri, backend=conn)",38,5
openstack%2Fcharm-nova-compute~915065,openstack/charm-nova-compute,stable/ussuri,Ifd21dfc83f51d0e22e40c40e1567955ec77499b7,Fix Ussuri gate,MERGED,2024-04-04 13:51:22.000000000,2024-04-05 19:58:17.000000000,2024-04-05 19:58:17.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 13:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a7f7012d88ee2e42dc31df5198de44bd83f3b7dd', 'message': 'Fix Ussuri gate\n\nplatformdirs needed to be pinned due to py36 job\n\nAlso had to set an upper-limit for jsonschema.\n\nChange-Id: Ifd21dfc83f51d0e22e40c40e1567955ec77499b7\n'}, {'number': 2, 'created': '2024-04-04 14:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c384482fb09c840d6cd6ae6b97b206de16f6d74e', 'message': 'Fix Ussuri gate\n\nInclude cffi binary packages required to build wheel\n\nplatformdirs needed to be pinned due to py36 job\n\nAlso had to set an upper-limit for jsonschema.\n\nChange-Id: Ifd21dfc83f51d0e22e40c40e1567955ec77499b7\n'}, {'number': 3, 'created': '2024-04-04 15:36:55.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a80af8f7f13d2bcd4c582ea7e502b754feb4cc4a', 'message': 'Fix Ussuri gate\n\nUpdate charm-tools and PyYAML versions in tox.ini\n\nInclude cffi binary packages required to build wheel\n\nplatformdirs needed to be pinned due to py36 job\n\nAlso had to set an upper-limit for jsonschema.\n\nChange-Id: Ifd21dfc83f51d0e22e40c40e1567955ec77499b7\n'}]",0,915065,a80af8f7f13d2bcd4c582ea7e502b754feb4cc4a,12,4,3,14567,,,0,"Fix Ussuri gate

Update charm-tools and PyYAML versions in tox.ini

Include cffi binary packages required to build wheel

platformdirs needed to be pinned due to py36 job

Also had to set an upper-limit for jsonschema.

Change-Id: Ifd21dfc83f51d0e22e40c40e1567955ec77499b7
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/65/915065/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a7f7012d88ee2e42dc31df5198de44bd83f3b7dd,, jsonschema<4.18.0 # jsonschema 4.18.0 depends on Rust (via rpds-py) # needed for py36 due to openstacksdk>=0.18.0->python-ironicclient->zaza.openstack platformdirs<2.5.0;python_version<'3.7',,5,0
openstack%2Fkeystone~915140,openstack/keystone,stable/2023.1,Id789c09121f1405f7ba5e4926498dab4ad98e057,Allow admin to access tokens and credentials,MERGED,2024-04-05 15:29:06.000000000,2024-04-05 19:47:46.000000000,2024-04-05 19:46:30.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-05 15:29:06.000000000', 'files': ['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/application_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b449d86ee56960adacfcf2086f07b57324f51d4e', 'message': 'Allow admin to access tokens and credentials\n\nThis patch modifies a few policies to allow users with the ""admin"" role\nto access /v3/auth/tokens and /v3/credentials.  These policies were\nmissed when we implemented Phase 1 of Secure RBAC.\n\nChange-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057\n(cherry picked from commit b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2)\n(cherry picked from commit 0dcc423a2621943ab9188cff3edb9bc488339fe0)\n(cherry picked from commit 570c19e91bc3212f748221bdab5f2976f479fa13)\n'}]",0,915140,b449d86ee56960adacfcf2086f07b57324f51d4e,9,3,1,7973,,,0,"Allow admin to access tokens and credentials

This patch modifies a few policies to allow users with the ""admin"" role
to access /v3/auth/tokens and /v3/credentials.  These policies were
missed when we implemented Phase 1 of Secure RBAC.

Change-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057
(cherry picked from commit b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2)
(cherry picked from commit 0dcc423a2621943ab9188cff3edb9bc488339fe0)
(cherry picked from commit 570c19e91bc3212f748221bdab5f2976f479fa13)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/915140/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/application_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py']",7,b449d86ee56960adacfcf2086f07b57324f51d4e,," check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER,"," check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER,",38,30
openstack%2Fcodegenerator~915136,openstack/codegenerator,master,I240c463e859ff0224495ee6c97eec35b97b0f7f7,fix keystone federation mapping schema,MERGED,2024-04-05 14:48:56.000000000,2024-04-05 18:30:42.000000000,2024-04-05 18:29:51.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-04-05 14:48:56.000000000', 'files': ['codegenerator/openapi/keystone_schemas/federation.py'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/268131f76648df12a9960e0cee3f9580e3dbbbe7', 'message': 'fix keystone federation mapping schema\n\nfederation mapping schema in keystone is broken. Fix it locally while\nwaiting for the schema fix to land upstream\n\nChange-Id: I240c463e859ff0224495ee6c97eec35b97b0f7f7\n'}]",0,915136,268131f76648df12a9960e0cee3f9580e3dbbbe7,7,2,1,27900,,,0,"fix keystone federation mapping schema

federation mapping schema in keystone is broken. Fix it locally while
waiting for the schema fix to land upstream

Change-Id: I240c463e859ff0224495ee6c97eec35b97b0f7f7
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/36/915136/1 && git format-patch -1 --stdout FETCH_HEAD,['codegenerator/openapi/keystone_schemas/federation.py'],1,268131f76648df12a9960e0cee3f9580e3dbbbe7,,"MAPPING_PROPERTIES[""properties""][""schema_version""] = { ""type"": ""string"", ""description"": ""Mapping schema version"", }",,4,0
openstack%2Fnetworking-bgpvpn~906532,openstack/networking-bgpvpn,master,I42d6fb39976b7aaf8e24b443dc548d4d110964b2,Remove reference to glance-registry,MERGED,2024-01-24 15:44:32.000000000,2024-04-05 18:19:31.000000000,2024-04-05 17:58:14.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-24 15:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/88c101b2ced2bddef010f0615a05387e4f301a56', 'message': 'Remove reference to glance-registry\n\n... because the service was removed long ago.\n\nChange-Id: I42d6fb39976b7aaf8e24b443dc548d4d110964b2\n'}, {'number': 2, 'created': '2024-01-25 15:25:35.000000000', 'files': ['devstack/devstack-gate-bagpipe-rc'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/77db6b68d372977842c2947398974213ae447faa', 'message': 'Remove reference to glance-registry\n\n... because the service was removed long ago.\n\nChange-Id: I42d6fb39976b7aaf8e24b443dc548d4d110964b2\n'}]",2,906532,77db6b68d372977842c2947398974213ae447faa,12,3,2,9816,,,0,"Remove reference to glance-registry

... because the service was removed long ago.

Change-Id: I42d6fb39976b7aaf8e24b443dc548d4d110964b2
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/32/906532/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstack-gate-bagpipe-rc'],1,88c101b2ced2bddef010f0615a05387e4f301a56,,"export OVERRIDE_ENABLED_SERVICES=n-api,n-crt,n-cpu,n-cond,n-api-meta,n-sch,placement-api,g-api,neutron-api,neutron-agent,neutron-dhcp,neutron-l3,neutron-metadata-agent,neutron-bagpipe-bgp,key,mysql,rabbit","export OVERRIDE_ENABLED_SERVICES=n-api,n-crt,n-cpu,n-cond,n-api-meta,n-sch,placement-api,g-api,g-reg,neutron-api,neutron-agent,neutron-dhcp,neutron-l3,neutron-metadata-agent,neutron-bagpipe-bgp,key,mysql,rabbit",1,1
openstack%2Fironic~914972,openstack/ironic,master,I30f948d64e7b87f33841dc22828db60338a62dd8,Fix generating local paths when connecting virtual media,MERGED,2024-04-03 14:17:33.000000000,2024-04-05 17:58:04.000000000,2024-04-05 17:44:09.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-04-03 14:17:33.000000000', 'files': ['releasenotes/notes/vmedia-path-648cfa258708e0bb.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/image_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9a4fff71c15e6192e06652d64a1048bd5c2633d', 'message': 'Fix generating local paths when connecting virtual media\n\nThe generate path does not contain the node UUID, causing conflicts.\n\nAlso make sure to always clean up any existing files first.\n\nChange-Id: I30f948d64e7b87f33841dc22828db60338a62dd8\n'}]",0,914972,a9a4fff71c15e6192e06652d64a1048bd5c2633d,11,3,1,10239,,,0,"Fix generating local paths when connecting virtual media

The generate path does not contain the node UUID, causing conflicts.

Also make sure to always clean up any existing files first.

Change-Id: I30f948d64e7b87f33841dc22828db60338a62dd8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/914972/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vmedia-path-648cfa258708e0bb.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/image_utils.py']",4,a9a4fff71c15e6192e06652d64a1048bd5c2633d,vmedia-path,"# FIXME(dtantsur): file_name is not node-specific, we should probably replace # it with a prefix/suffix pair and pass to _get_name",,35,11
openstack%2Fkeystone~914211,openstack/keystone,stable/2023.2,Icd193eff25556d21ec26bb29908b8ad6548fdc91,Add ability to create users and projects from keystone-manage,MERGED,2024-03-26 14:56:38.000000000,2024-04-05 16:51:10.000000000,2024-04-05 16:48:23.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 14:56:38.000000000', 'files': ['keystone/cmd/idutils.py', 'keystone/cmd/cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2abaaae89242c6854695ac2abb86375f523d3daa', 'message': 'Add ability to create users and projects from keystone-manage\n\nThis adds the ability to create users and projects directly from\nkeystone-manage.  We also add the ability to specify specific UUIDs\nfor both users and projects via the creation functions.\n\nChange-Id: Icd193eff25556d21ec26bb29908b8ad6548fdc91\n(cherry picked from commit a8366c4827b1455a9daa89d2f49f9cd1b7673685)\n'}]",0,914211,2abaaae89242c6854695ac2abb86375f523d3daa,9,3,1,7414,,,0,"Add ability to create users and projects from keystone-manage

This adds the ability to create users and projects directly from
keystone-manage.  We also add the ability to specify specific UUIDs
for both users and projects via the creation functions.

Change-Id: Icd193eff25556d21ec26bb29908b8ad6548fdc91
(cherry picked from commit a8366c4827b1455a9daa89d2f49f9cd1b7673685)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/11/914211/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/cmd/idutils.py', 'keystone/cmd/cli.py']",2,2abaaae89242c6854695ac2abb86375f523d3daa,keystone-manage-uuids-stable/2023.2,"from keystone.cmd import idutilsclass ProjectSetup(BaseApp): """"""Create project with specified UUID."""""" name = 'project_setup' def __init__(self): self.identity = idutils.Identity() @classmethod def add_argument_parser(cls, subparsers): parser = super(ProjectSetup, cls).add_argument_parser(subparsers) parser.add_argument('--project-name', default=None, required=True, help='The name of the keystone project being' ' created.') parser.add_argument('--project-id', default=None, help='The UUID of the keystone project being' ' created.') return parser def do_project_setup(self): """"""Create project with specified UUID."""""" self.identity.project_name = CONF.command.project_name self.identity.project_id = CONF.command.project_id self.identity.project_setup() @classmethod def main(cls): klass = cls() klass.do_project_setup() class UserSetup(BaseApp): """"""Create user with specified UUID."""""" name = 'user_setup' def __init__(self): self.identity = idutils.Identity() @classmethod def add_argument_parser(cls, subparsers): parser = super(UserSetup, cls).add_argument_parser(subparsers) parser.add_argument('--username', default=None, required=True, help='The username of the keystone user that' ' is being created.') parser.add_argument('--user-password-plain', default=None, required=True, help='The plaintext password for the keystone' ' user that is being created.') parser.add_argument('--user-id', default=None, help='The UUID of the keystone user being ' 'created.') return parser def do_user_setup(self): """"""Create user with specified UUID."""""" self.identity.user_name = CONF.command.username self.identity.user_password = CONF.command.user_password_plain self.identity.user_id = CONF.command.user_id self.identity.user_setup() @classmethod def main(cls): klass = cls() klass.do_user_setup() ProjectSetup, TrustFlush, UserSetup", TrustFlush,222,1
openstack%2Fkeystone~914212,openstack/keystone,stable/2023.1,Icd193eff25556d21ec26bb29908b8ad6548fdc91,Add ability to create users and projects from keystone-manage,MERGED,2024-03-26 14:56:56.000000000,2024-04-05 16:50:34.000000000,2024-04-05 16:48:26.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 14:56:56.000000000', 'files': ['keystone/cmd/idutils.py', 'keystone/cmd/cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b2f7aa4b13e7f756d5e5742aefa8a82f5c74287', 'message': 'Add ability to create users and projects from keystone-manage\n\nThis adds the ability to create users and projects directly from\nkeystone-manage.  We also add the ability to specify specific UUIDs\nfor both users and projects via the creation functions.\n\nChange-Id: Icd193eff25556d21ec26bb29908b8ad6548fdc91\n(cherry picked from commit a8366c4827b1455a9daa89d2f49f9cd1b7673685)\n'}]",0,914212,9b2f7aa4b13e7f756d5e5742aefa8a82f5c74287,9,3,1,7414,,,0,"Add ability to create users and projects from keystone-manage

This adds the ability to create users and projects directly from
keystone-manage.  We also add the ability to specify specific UUIDs
for both users and projects via the creation functions.

Change-Id: Icd193eff25556d21ec26bb29908b8ad6548fdc91
(cherry picked from commit a8366c4827b1455a9daa89d2f49f9cd1b7673685)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/914212/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/cmd/idutils.py', 'keystone/cmd/cli.py']",2,9b2f7aa4b13e7f756d5e5742aefa8a82f5c74287,keystone-manage-uuids-stable/2023.1,"from keystone.cmd import idutilsclass ProjectSetup(BaseApp): """"""Create project with specified UUID."""""" name = 'project_setup' def __init__(self): self.identity = idutils.Identity() @classmethod def add_argument_parser(cls, subparsers): parser = super(ProjectSetup, cls).add_argument_parser(subparsers) parser.add_argument('--project-name', default=None, required=True, help='The name of the keystone project being' ' created.') parser.add_argument('--project-id', default=None, help='The UUID of the keystone project being' ' created.') return parser def do_project_setup(self): """"""Create project with specified UUID."""""" self.identity.project_name = CONF.command.project_name self.identity.project_id = CONF.command.project_id self.identity.project_setup() @classmethod def main(cls): klass = cls() klass.do_project_setup() class UserSetup(BaseApp): """"""Create user with specified UUID."""""" name = 'user_setup' def __init__(self): self.identity = idutils.Identity() @classmethod def add_argument_parser(cls, subparsers): parser = super(UserSetup, cls).add_argument_parser(subparsers) parser.add_argument('--username', default=None, required=True, help='The username of the keystone user that' ' is being created.') parser.add_argument('--user-password-plain', default=None, required=True, help='The plaintext password for the keystone' ' user that is being created.') parser.add_argument('--user-id', default=None, help='The UUID of the keystone user being ' 'created.') return parser def do_user_setup(self): """"""Create user with specified UUID."""""" self.identity.user_name = CONF.command.username self.identity.user_password = CONF.command.user_password_plain self.identity.user_id = CONF.command.user_id self.identity.user_setup() @classmethod def main(cls): klass = cls() klass.do_user_setup() ProjectSetup, TrustFlush, UserSetup", TrustFlush,222,1
openstack%2Fkeystone~915009,openstack/keystone,stable/2023.2,Id789c09121f1405f7ba5e4926498dab4ad98e057,Allow admin to access tokens and credentials,MERGED,2024-04-04 13:28:49.000000000,2024-04-05 16:50:16.000000000,2024-04-05 16:48:21.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 13:28:49.000000000', 'files': ['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/application_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/570c19e91bc3212f748221bdab5f2976f479fa13', 'message': 'Allow admin to access tokens and credentials\n\nThis patch modifies a few policies to allow users with the ""admin"" role\nto access /v3/auth/tokens and /v3/credentials.  These policies were\nmissed when we implemented Phase 1 of Secure RBAC.\n\nChange-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057\n(cherry picked from commit b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2)\n(cherry picked from commit 0dcc423a2621943ab9188cff3edb9bc488339fe0)\n'}]",0,915009,570c19e91bc3212f748221bdab5f2976f479fa13,9,3,1,7973,,,0,"Allow admin to access tokens and credentials

This patch modifies a few policies to allow users with the ""admin"" role
to access /v3/auth/tokens and /v3/credentials.  These policies were
missed when we implemented Phase 1 of Secure RBAC.

Change-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057
(cherry picked from commit b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2)
(cherry picked from commit 0dcc423a2621943ab9188cff3edb9bc488339fe0)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/09/915009/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/application_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py']",7,570c19e91bc3212f748221bdab5f2976f479fa13,secure-rbac-stable/2024.1-stable/2023.2," check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER,"," check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER,",38,30
openstack%2Fneutron-vpnaas~906232,openstack/neutron-vpnaas,master,I6aec348f0d75974bf8d16741e08d70283a938849,Drop removed xenapi options from test rootwrap config,MERGED,2024-01-22 02:04:13.000000000,2024-04-05 16:32:30.000000000,2024-04-05 16:14:45.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-22 02:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/684677ccb7eca43cbd0eb1c0d721eeddee5a61a8', 'message': 'Drop removed xenapi options from test rtoowrap config\n\nThese options were used in very old neutron before neutron introduced\nos-xenapi. These options were later removed and even Xen support was\nremoved so we no longer need these options.\n\nChange-Id: I6aec348f0d75974bf8d16741e08d70283a938849\n'}, {'number': 2, 'created': '2024-01-22 02:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6b1197dbbfdd6b3ab57dcda5d0f302b4cb419cb2', 'message': 'Drop removed xenapi options from test rtoowrap config\n\nThese options were already removed.\n\n[1] 25d1f9b9487557afca32c32677755046be8b51f0\n\nChange-Id: I6aec348f0d75974bf8d16741e08d70283a938849\n'}, {'number': 3, 'created': '2024-01-22 02:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f67d2ae7476ab31dafba20635034a65346d915ce', 'message': 'Drop removed xenapi options from test rootwrap config\n\nThese options were already removed[1].\n\n[1] 25d1f9b9487557afca32c32677755046be8b51f0\n\nChange-Id: I6aec348f0d75974bf8d16741e08d70283a938849\n'}, {'number': 4, 'created': '2024-01-22 03:02:00.000000000', 'files': ['neutron_vpnaas/tests/contrib/functional-test-rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9702419b63bfe77a995b673ef3869d4425f1dd7d', 'message': 'Drop removed xenapi options from test rootwrap config\n\nThese options were used by neutron-rootwrap-xen-dom0 which was already\nremoved[1].\n\n[1] 668f582f8df78089eef44a15a81c970c26c97dc4\n\nChange-Id: I6aec348f0d75974bf8d16741e08d70283a938849\n'}]",1,906232,9702419b63bfe77a995b673ef3869d4425f1dd7d,12,3,4,9816,,,0,"Drop removed xenapi options from test rootwrap config

These options were used by neutron-rootwrap-xen-dom0 which was already
removed[1].

[1] 668f582f8df78089eef44a15a81c970c26c97dc4

Change-Id: I6aec348f0d75974bf8d16741e08d70283a938849
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/32/906232/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/tests/contrib/functional-test-rootwrap.conf'],1,684677ccb7eca43cbd0eb1c0d721eeddee5a61a8,,, [xenapi] # XenAPI configuration is only required by the L2 agent if it is to # target a XenServer/XCP compute host's dom0. xenapi_connection_url=<None> xenapi_connection_username=root xenapi_connection_password=<None>,0,7
openstack%2Fnetworking-bagpipe~906662,openstack/networking-bagpipe,master,I8b6bf171316cb30405f964bf0886b2554d00300a,coveragerc: Remove reference to non-existant path,MERGED,2024-01-25 14:43:38.000000000,2024-04-05 16:26:44.000000000,2024-04-05 16:08:27.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-25 14:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1968c2bd01ef16229260b5a07b0f739347bcac51', 'message': 'coveragerc: Remove reference to non-existing path\n\nThe networking_bagpipe/openstack directory does not exist.\n\nChange-Id: I8b6bf171316cb30405f964bf0886b2554d00300a\n'}, {'number': 2, 'created': '2024-01-25 14:53:52.000000000', 'files': ['.coveragerc'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b0791f9d93da3b508a401bb1705a51505b61eaa0', 'message': 'coveragerc: Remove reference to non-existant path\n\nThe networking_bagpipe/openstack directory does not exist.\n\nChange-Id: I8b6bf171316cb30405f964bf0886b2554d00300a\n'}]",0,906662,b0791f9d93da3b508a401bb1705a51505b61eaa0,11,3,2,9816,,,0,"coveragerc: Remove reference to non-existant path

The networking_bagpipe/openstack directory does not exist.

Change-Id: I8b6bf171316cb30405f964bf0886b2554d00300a
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/62/906662/1 && git format-patch -1 --stdout FETCH_HEAD,['.coveragerc'],1,1968c2bd01ef16229260b5a07b0f739347bcac51,coveragerc-fix,omit = networking_bagpipe/tests/*,"omit = networking_bagpipe/tests/*,networking_bagpipe/openstack/*",1,1
openstack%2Fpython-openstackclient~899382,openstack/python-openstackclient,master,Ia5a196daa87d29445dc5514dcb91544f9d470795,Add router default route BFD/ECMP options,MERGED,2023-10-26 09:59:07.000000000,2024-04-05 16:26:44.000000000,2024-04-05 15:55:03.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-10-26 09:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3e4ae61a4eaf5d5b25e15b37ff9d8f69471a02cf', 'message': 'Add router enable_default_route_bfd/ecmp options\n\nAdd the `--enable-default-route-bfd`, `--disable-default-route-bfd`\n`--enable-default-route-ecmp` and `--disable-default-route-ecmp`\noptions for `router create` and `router set` commands.\n\nRelated-Bug: #2002687\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nChange-Id: Ia5a196daa87d29445dc5514dcb91544f9d470795\n'}, {'number': 2, 'created': '2023-10-26 10:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b2e16341868736d8c07735ab89422874fc21b43c', 'message': 'Add router default route BFD/ECMP options\n\nAdd the `--enable-default-route-bfd`, `--disable-default-route-bfd`\n`--enable-default-route-ecmp` and `--disable-default-route-ecmp`\noptions for `router create` and `router set` commands.\n\nRelated-Bug: #2002687\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nChange-Id: Ia5a196daa87d29445dc5514dcb91544f9d470795\n'}, {'number': 3, 'created': '2024-01-31 20:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/360e2723b3231de2d38ac6128d209b9a09c55751', 'message': 'Add router default route BFD/ECMP options\n\nAdd the `--enable-default-route-bfd`, `--disable-default-route-bfd`\n`--enable-default-route-ecmp` and `--disable-default-route-ecmp`\noptions for `router create` and `router set` commands.\n\nRelated-Bug: #2002687\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nChange-Id: Ia5a196daa87d29445dc5514dcb91544f9d470795\n'}, {'number': 4, 'created': '2024-02-26 10:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8570c8e37928b52652dce9e1cf3072fa96268159', 'message': 'Add router default route BFD/ECMP options\n\nAdd the `--enable-default-route-bfd`, `--disable-default-route-bfd`\n`--enable-default-route-ecmp` and `--disable-default-route-ecmp`\noptions for `router create` and `router set` commands.\n\nRelated-Bug: #2002687\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nChange-Id: Ia5a196daa87d29445dc5514dcb91544f9d470795\n'}, {'number': 5, 'created': '2024-02-28 06:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e15b52c33593768bdf5addfbc9675d1d081b2b0a', 'message': 'Add router default route BFD/ECMP options\n\nAdd the `--enable-default-route-bfd`, `--disable-default-route-bfd`\n`--enable-default-route-ecmp` and `--disable-default-route-ecmp`\noptions for `router create` and `router set` commands.\n\nRelated-Bug: #2002687\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nChange-Id: Ia5a196daa87d29445dc5514dcb91544f9d470795\n'}, {'number': 6, 'created': '2024-03-05 15:15:53.000000000', 'files': ['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7184e876a5b79ea226c75a267af2dfca7c011f62', 'message': 'Add router default route BFD/ECMP options\n\nAdd the `--enable-default-route-bfd`, `--disable-default-route-bfd`\n`--enable-default-route-ecmp` and `--disable-default-route-ecmp`\noptions for `router create` and `router set` commands.\n\nRelated-Bug: #2002687\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nChange-Id: Ia5a196daa87d29445dc5514dcb91544f9d470795\n'}]",7,899382,7184e876a5b79ea226c75a267af2dfca7c011f62,24,4,6,13686,,,0,"Add router default route BFD/ECMP options

Add the `--enable-default-route-bfd`, `--disable-default-route-bfd`
`--enable-default-route-ecmp` and `--disable-default-route-ecmp`
options for `router create` and `router set` commands.

Related-Bug: #2002687
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
Change-Id: Ia5a196daa87d29445dc5514dcb91544f9d470795
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/899382/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_router.py']",2,3e4ae61a4eaf5d5b25e15b37ff9d8f69471a02cf,2023-aa-l3-gw-multihoming," def test_create_with_enable_default_route_bfd(self): self.network_client.find_extension = mock.Mock( return_value=network_fakes.create_one_extension( attrs={'name': 'external-gateway-multihoming'} ) ) arglist = [self.new_router.name, '--enable-default-route-bfd'] verifylist = [ ('name', self.new_router.name), ('enable_default_route_bfd', True), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.network_client.create_router.assert_called_once_with( name=self.new_router.name, admin_state_up=True, enable_default_route_bfd=True, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.data, data) def test_create_with_enable_default_route_bfd_no_extension(self): arglist = [self.new_router.name, '--enable-default-route-bfd'] verifylist = [ ('name', self.new_router.name), ('enable_default_route_bfd', True), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args, ) def test_create_with_enable_default_route_ecmp(self): self.network_client.find_extension = mock.Mock( return_value=network_fakes.create_one_extension( attrs={'name': 'external-gateway-multihoming'} ) ) arglist = [self.new_router.name, '--enable-default-route-ecmp'] verifylist = [ ('name', self.new_router.name), ('enable_default_route_ecmp', True), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.network_client.create_router.assert_called_once_with( name=self.new_router.name, admin_state_up=True, enable_default_route_ecmp=True, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.data, data) def test_create_with_enable_default_route_ecmp_no_extension(self): arglist = [self.new_router.name, '--enable-default-route-ecmp'] verifylist = [ ('name', self.new_router.name), ('enable_default_route_ecmp', True), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args, ) ",,137,0
openstack%2Fhorizon~910378,openstack/horizon,master,I3e533fd795d8b4f7cfc0be03bdd3e835ff1c254e,pytest-based selenium tests add fix wait for volume state,NEW,2024-02-27 17:49:41.000000000,2024-04-05 16:19:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 35133}]","[{'number': 1, 'created': '2024-02-27 17:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c304c9ee6bdb697d25a1ea99151af25b99465a18', 'message': 'pytest-based selenium tests add fix wait for volume state\n\nChange-Id: I3e533fd795d8b4f7cfc0be03bdd3e835ff1c254e\n'}, {'number': 2, 'created': '2024-04-04 16:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b7ef19d3c011a0a3ec723528f6f6ddade65a1714', 'message': 'pytest-based selenium tests add fix wait for volume state\n\nChange-Id: I3e533fd795d8b4f7cfc0be03bdd3e835ff1c254e\n'}, {'number': 3, 'created': '2024-04-04 16:51:44.000000000', 'files': ['openstack_dashboard/test/selenium/integration/conftest.py', 'openstack_dashboard/test/selenium/integration/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d08e2979a7a42ee18dbf1ac3dcf3bdb9d08d44a', 'message': 'pytest-based selenium tests add fix wait for volume state\n\nChange-Id: I3e533fd795d8b4f7cfc0be03bdd3e835ff1c254e\n'}]",16,910378,5d08e2979a7a42ee18dbf1ac3dcf3bdb9d08d44a,39,2,3,35133,,,0,"pytest-based selenium tests add fix wait for volume state

Change-Id: I3e533fd795d8b4f7cfc0be03bdd3e835ff1c254e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/78/910378/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/selenium/integration/test_volumes.py'],1,c304c9ee6bdb697d25a1ea99151af25b99465a18,fix_volume_state_checking," wait_for_not_bound_steady_state_of_volume(openstack_demo, volume_name[0]) wait_for_not_bound_steady_state_of_volume(openstack_admin, volume_name[0])def wait_for_not_bound_steady_state_of_volume(openstack, volume_name): for attempt in range(120): if (openstack.block_storage.find_volume(volume_name).status in [""available"", ""error"", ""error_restoring"", ""error_extending"", ""error_managing""]): break else: time.sleep(3) wait_for_not_bound_steady_state_of_volume(openstack_demo, new_volume_demo.name) wait_for_not_bound_steady_state_of_volume(openstack_demo, new_volume_demo.name) wait_for_not_bound_steady_state_of_volume(openstack_demo, new_volume_demo.name)"," wait_for_steady_state_of_volume(openstack_demo, volume_name[0]) wait_for_steady_state_of_volume(openstack_admin, volume_name[0]) wait_for_steady_state_of_volume(openstack_demo, new_volume_demo.name) wait_for_steady_state_of_volume(openstack_demo, new_volume_demo.name) wait_for_steady_state_of_volume(openstack_demo, new_volume_demo.name)",18,5
openstack%2Fpython-openstackclient~909030,openstack/python-openstackclient,master,I06f3848812bce60c65909f1311f36b70eba427d4,identity: Migrate 'user' commands to SDK,MERGED,2024-02-14 17:28:54.000000000,2024-04-05 16:13:43.000000000,2024-04-05 15:37:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 36482}]","[{'number': 1, 'created': '2024-02-14 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3460baf2e72fef9fc72d395d4aae910a4077b032', 'message': 'WIP: migrate user commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n'}, {'number': 2, 'created': '2024-02-14 17:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/08b5ad14eb6e61aba1a5b0cbb98662326b086ac2', 'message': '[DNM] WIP: migrate user commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n'}, {'number': 3, 'created': '2024-02-14 19:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b6e20771f7fc4970f069d931dd82f7fdca353350', 'message': '[DNM] WIP: migrate user commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n'}, {'number': 4, 'created': '2024-02-14 19:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1e8e79afb480010f29ced85d4c591a16075ecc0f', 'message': '[DNM] WIP: migrate user commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n'}, {'number': 5, 'created': '2024-02-15 19:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d24ee28fcd5158e51ba8249c6d927f30a632f472', 'message': '[DNM] WIP: migrate user commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n'}, {'number': 6, 'created': '2024-02-15 19:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/32d4abaaeec48d8f58dafd5cfcbc1f47695a9a0d', 'message': ""Identity: Migrate 'user' commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n""}, {'number': 7, 'created': '2024-02-15 21:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/237a9dd1663a4dab6b3428848cc95109fce4aedc', 'message': ""Identity: Migrate 'user' commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n""}, {'number': 8, 'created': '2024-02-16 13:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4f927e884e4728eb09d066350ea5490039124c22', 'message': ""identity: Migrate 'user' commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n""}, {'number': 9, 'created': '2024-02-20 18:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cdab1977b73838ffce8617b2bef192f40e165b0a', 'message': ""identity: Migrate 'user' commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n""}, {'number': 10, 'created': '2024-03-11 19:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fc6b1530dc39e7f5b2c19436c291a7e3c737ae7b', 'message': ""identity: Migrate 'user' commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n""}, {'number': 11, 'created': '2024-04-04 23:23:05.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_user.py', 'openstackclient/identity/v3/user.py', 'openstackclient/tests/functional/identity/v3/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/680e3e301137c832568a93a05f99bd3c1ced8ba2', 'message': ""identity: Migrate 'user' commands to SDK\n\nChange-Id: I06f3848812bce60c65909f1311f36b70eba427d4\n""}]",24,909030,680e3e301137c832568a93a05f99bd3c1ced8ba2,42,4,11,36482,,,0,"identity: Migrate 'user' commands to SDK

Change-Id: I06f3848812bce60c65909f1311f36b70eba427d4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/30/909030/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/identity/v3/test_user.py', 'openstackclient/identity/v3/user.py', 'openstackclient/tests/functional/identity/v3/common.py']",3,3460baf2e72fef9fc72d395d4aae910a4077b032,identity-gaps/user-commands,," 'name',",329,364
openstack%2Freleases~912456,openstack/releases,master,I6756221d39b5700495ed7373acb270190fa5ef33,Add Caracal cycle highlights for Sunbeam,ABANDONED,2024-03-11 14:04:22.000000000,2024-04-05 15:59:29.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-11 14:04:22.000000000', 'files': ['deliverables/caracal/sunbeam.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/442e5bcb95b95be102d5ecac9813d464d63ca80e', 'message': 'Add Caracal cycle highlights for Sunbeam\n\nChange-Id: I6756221d39b5700495ed7373acb270190fa5ef33\n'}]",4,912456,442e5bcb95b95be102d5ecac9813d464d63ca80e,8,2,1,935,,,0,"Add Caracal cycle highlights for Sunbeam

Change-Id: I6756221d39b5700495ed7373acb270190fa5ef33
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/912456/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/caracal/sunbeam.yaml'],1,442e5bcb95b95be102d5ecac9813d464d63ca80e,2024.2-sunbeam-cycle-highlights,"--- launchpad: sunbeam release-model: untagged team: sunbeam type: other repository-settings: openstack/sunbeam-charms: {} cycle-highlights: - | Sunbeam now includes K8S charms for deployment and operation of Aodh, Barbican, Ceilometer, Designate (including Bind), Gnocchi, Heat, Magnum and Octavia as well as support for exporting metrics using the OpenStack Exporter project and integrating Keystone to LDAP services. - | Sunbeam supports built-in validation of deployed OpenStack clouds using the new Tempest K8S charm. ",,17,0
openstack%2Fneutron~905617,openstack/neutron,master,Iecdb2d81ee077c9b9057d0708c5c88e159970039,dhcp: ensure that cleaning DHCP process with one segment happens first,MERGED,2024-01-15 16:41:03.000000000,2024-04-05 15:59:26.000000000,2024-04-05 15:37:24.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2024-01-15 16:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/460532f6e7c4c8ad143a09e84c20f41fe71d2242', 'message': 'dhcp: ensure that cleaning DHCP process for segment 0 happens first\n\nPreviously, the code used to clean up old DHCP processes for a network\nbefore creating new ones supporting multiple segments per network\ncould potentially not be executed first. Since disabling applies to\ncleaning the namespace, this could have led to the network setup being\ndestroyed after being done.\n\nThis change moves the part that cleans up the old DHCP setup to ensure\nit is executed first.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039\n'}, {'number': 2, 'created': '2024-01-17 14:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea7dc1ca0b527fb2d686282089066ec98712bd2b', 'message': 'dhcp: ensure that cleaning DHCP process for segment 0 happens first\n\nPreviously, the code used to clean up old DHCP processes for a network\nbefore creating new ones supporting multiple segments per network\ncould potentially not be executed first. Since disabling applies to\ncleaning the namespace, this could have led to the network setup being\ndestroyed after being done.\n\nThis change moves the part that cleans up the old DHCP setup to ensure\nit is executed first.\n\nCloses-bug: #2049615\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039\n'}, {'number': 3, 'created': '2024-01-17 14:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/849a808ae7bd2610bf879b94cd311e8847d3a9ee', 'message': 'dhcp: ensure that cleaning DHCP process with one segment happens first\n\nPreviously, the code used to clean up old DHCP processes for a network\nbefore creating new ones supporting multiple segments per network\ncould potentially not be executed first. Since disabling applies to\ncleaning the namespace, this could have led to the network setup being\ndestroyed after being done.\n\nThis change moves the part that cleans up the old DHCP setup to ensure\nit is executed first.\n\nCloses-bug: #2049615\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039\n'}, {'number': 4, 'created': '2024-01-26 11:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac45f17f49fe8191e3fafeb562c2deef96a07cbc', 'message': 'dhcp: ensure that cleaning DHCP process with one segment happens first\n\nPreviously, the code used to clean up old DHCP processes for a network\nbefore creating new ones supporting multiple segments per network\ncould potentially not be executed first. Since disabling applies to\ncleaning the namespace, this could have led to the network setup being\ndestroyed after being done.\n\nThis change moves the part that cleans up the old DHCP setup to ensure\nit is executed first.\n\nCloses-bug: #2049615\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039\n'}, {'number': 5, 'created': '2024-01-27 17:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c4e402ac8215fad99be31a6203731c47a3b0519', 'message': 'dhcp: ensure that cleaning DHCP process with one segment happens first\n\nPreviously, the code used to clean up old DHCP processes for a network\nbefore creating new ones supporting multiple segments per network\ncould potentially not be executed first. Since disabling applies to\ncleaning the namespace, this could have led to the network setup being\ndestroyed after being done.\n\nThis change moves the part that cleans up the old DHCP setup to ensure\nit is executed first.\n\nCloses-bug: #2049615\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039\n'}, {'number': 6, 'created': '2024-01-30 14:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ad8c6285f85282376cd924b9378a82cfd58fcf5', 'message': 'dhcp: ensure that cleaning DHCP process with one segment happens first\n\nPreviously, the code used to clean up old DHCP processes for a network\nbefore creating new ones supporting multiple segments per network\ncould potentially not be executed first. Since disabling applies to\ncleaning the namespace, this could have led to the network setup being\ndestroyed after being done.\n\nThis change moves the part that cleans up the old DHCP setup to ensure\nit is executed first.\n\nCloses-bug: #2049615\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039\n'}, {'number': 7, 'created': '2024-03-25 09:27:10.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5453c92a2e777b9a41989cc21d6064ffe4711e8d', 'message': 'dhcp: ensure that cleaning DHCP process with one segment happens first\n\nPreviously, the code used to clean up old DHCP processes for a network\nbefore creating new ones supporting multiple segments per network\ncould potentially not be executed first. Since disabling applies to\ncleaning the namespace, this could have led to the network setup being\ndestroyed after being done.\n\nThis change moves the part that cleans up the old DHCP setup to ensure\nit is executed first.\n\nCloses-bug: #2049615\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039\n'}]",18,905617,5453c92a2e777b9a41989cc21d6064ffe4711e8d,47,7,7,7730,,,0,"dhcp: ensure that cleaning DHCP process with one segment happens first

Previously, the code used to clean up old DHCP processes for a network
before creating new ones supporting multiple segments per network
could potentially not be executed first. Since disabling applies to
cleaning the namespace, this could have led to the network setup being
destroyed after being done.

This change moves the part that cleans up the old DHCP setup to ensure
it is executed first.

Closes-bug: #2049615
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Iecdb2d81ee077c9b9057d0708c5c88e159970039
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/905617/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,460532f6e7c4c8ad143a09e84c20f41fe71d2242,fixdhcp," for seg_id, subnets in sid_subnets.items(): break for seg_id, subnets in sid_subnets.items():"," for seg_id, subnets in sid_subnets.items(): ",3,1
openstack%2Fpython-openstackclient~887976,openstack/python-openstackclient,master,Ib45f30f552934a0a5c035c3b7fadfc0d522219ba,Add support for managing external gateways,MERGED,2023-07-07 16:12:20.000000000,2024-04-05 15:55:01.000000000,2024-04-05 15:55:01.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-07 16:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/98936a22fb22bfba74a03229c8bc9af6bbd906e0', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nPartial-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 2, 'created': '2023-07-11 22:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cbc39f14eeb179ff637cc26c73dd69cfbfe19f74', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nPartial-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 3, 'created': '2023-07-14 01:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b18c78d5f28382931c7d9b27de2aaf8aeb31efae', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nPartial-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 4, 'created': '2023-10-26 07:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e2ac3a573311af9dfe0197fce9d58b0ae948245b', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nCo-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nPartial-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 5, 'created': '2023-10-26 09:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a4b7d49a4a20cf8696d602ba9c1f91d54bdfa289', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nCo-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nPartial-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 6, 'created': '2023-10-26 10:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f9c9cf5e877cc07c3f5133b6e607a2fd766ac67f', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nCo-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nRelated-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 7, 'created': '2024-01-31 20:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8a39ae7c59a720f31ef4d2a2cc6664c49882af72', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nCo-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nRelated-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 8, 'created': '2024-02-26 10:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4c1c7d819317f8620cdb5197d34f76e95f55a588', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nCo-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nRelated-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 9, 'created': '2024-02-28 06:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/178686719647c4b6fca2d6f26f45a570034548da', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nCo-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>\nDepends-On: Idedce3c0ae6f4239ff3c1df35dc1b9af0add0a58\nRelated-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}, {'number': 10, 'created': '2024-03-05 15:15:53.000000000', 'files': ['openstackclient/network/v2/router.py', 'setup.cfg', 'openstackclient/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/16c695045c5618a733574fd2a5558d672a2df553', 'message': 'Add support for managing external gateways\n\nThis change implements the logic to call the new API for managing\nexternal gateways.\n\nRelevant Neutron core change:\nhttps://review.opendev.org/c/openstack/neutron/+/873593\n\nCo-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>\nRelated-Bug: #2002687\nChange-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba\n'}]",87,887976,16c695045c5618a733574fd2a5558d672a2df553,45,4,10,24824,,,0,"Add support for managing external gateways

This change implements the logic to call the new API for managing
external gateways.

Relevant Neutron core change:
https://review.opendev.org/c/openstack/neutron/+/873593

Co-Authored-by: Frode Nordahl <frode.nordahl@canonical.com>
Related-Bug: #2002687
Change-Id: Ib45f30f552934a0a5c035c3b7fadfc0d522219ba
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/76/887976/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_router.py']",2,98936a22fb22bfba74a03229c8bc9af6bbd906e0,2023-aa-l3-gw-multihoming," _extensions = {'fake': network_fakes.FakeExtension.create_one_extension()} self.network.find_extension = mock.Mock( side_effect=lambda name: self._extensions.get(name) ) ('external_gateways', [_network.name]), _extensions = {'fake': network_fakes.FakeExtension.create_one_extension()} self.network.find_extension = mock.Mock( side_effect=lambda name: self._extensions.get(name) ) ('external_gateways', [self._network.id]), ('external_gateways', [self._network.id]), ('external_gateways', [self._network.id]), ('external_gateways', [self._network.id]), ('external_gateways', [self._network.id]), ('external_gateways', [self._network.id]), ('external_gateways', [self._network.id]), _extensions = {'fake': network_fakes.FakeExtension.create_one_extension()} self.network.find_extension = mock.Mock( side_effect=lambda name: self._extensions.get(name) ) verifylist = [('external_gateways', True)]"," ('external_gateway', _network.name), ('external_gateway', self._network.id), ('external_gateway', self._network.id), ('external_gateway', self._network.id), ('external_gateway', self._network.id), ('external_gateway', self._network.id), ('external_gateway', self._network.id), ('external_gateway', self._network.id), verifylist = [('external_gateway', True)]",224,59
openstack%2Fcharm-watcher~905265,openstack/charm-watcher,stable/yoga,I3b8b1bcfafaccc311be53257a0c7184a6dde5f63,Backport watcher support to yoga release.,NEW,2024-01-10 19:34:38.000000000,2024-04-05 15:15:09.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-10 19:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/9383b0f02ca404e7ebb5a37979cd7d2c5ad03bcb', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}, {'number': 2, 'created': '2024-02-17 00:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/3025c777db68098b35624b34d6c49a7feafff780', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n* Add override to specify common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}, {'number': 3, 'created': '2024-02-17 02:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/5571548e2409e10350dc4c95e0109d1aa4a347eb', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n* Add override to specify common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}, {'number': 4, 'created': '2024-03-26 19:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/b625fecb304a3fc0a4c8f501d2bb6ba27f384762', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n* Add override to specify common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}, {'number': 5, 'created': '2024-03-26 20:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/08f39fac5cec994734f8dfa09007c8dda52f4b25', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n* Update osci.yaml to use charmcraft 2.1\n* Add override to specify common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}, {'number': 6, 'created': '2024-04-03 01:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/abda15db857e38cfd48f55a7abfefcc27303beab', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n* Update osci.yaml to use charmcraft 2.1\n* Add override to specify common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}, {'number': 7, 'created': '2024-04-03 16:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/013a70725cd602cd77947fbacb55413402b0e26a', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n* Update osci.yaml to use charmcraft 2.1\n* Add override to specify common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}, {'number': 8, 'created': '2024-04-03 17:43:16.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-yoga.yaml', '.gitreview', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/f7644e6c019c72dbcf1d3bb31fa7629c309e6d7c', 'message': 'Backport watcher support to yoga release.\n\nBackport the watcher support to yoga. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to add focal support, fix description\n* Update src/test-requirements.yaml for stable/yoga zaza branches\n* Update test bundles to use yoga\n* Update osci.yaml to use charmcraft 2.1\n* Add override to specify common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179\nChange-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63\n'}]",10,905265,f7644e6c019c72dbcf1d3bb31fa7629c309e6d7c,40,3,8,8992,,,0,"Backport watcher support to yoga release.

Backport the watcher support to yoga. This involves the following:

* Update .gitreview file
* Update osci jobs in osci.yaml
* Update src/metadata.yaml to add focal support, fix description
* Update src/test-requirements.yaml for stable/yoga zaza branches
* Update test bundles to use yoga
* Update osci.yaml to use charmcraft 2.1
* Add override to specify common cpu-model for migrations

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1179
Change-Id: I3b8b1bcfafaccc311be53257a0c7184a6dde5f63
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/65/905265/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'osci.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-yoga.yaml', '.gitreview', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/test-requirements.txt']",8,9383b0f02ca404e7ebb5a37979cd7d2c5ad03bcb,yoga-backport,git+https://github.com/openstack-charmers/zaza.git@stable/yoga#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/yoga#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,44,616
openstack%2Fneutron-fwaas~885973,openstack/neutron-fwaas,master,Ie7dac7968626fe3ce775dfd0444d082d90cf5e71,disable nonstandard-exception,MERGED,2023-06-14 07:53:45.000000000,2024-04-05 15:05:46.000000000,2024-04-05 15:04:41.000000000,"[{'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 07:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8b754759329923e4deca288dc356356e5a13b563', 'message': 'disable nonstandard-exception\n\nNow we use neutron-lib as the standard exceptions.\n\nChange-Id: Ie7dac7968626fe3ce775dfd0444d082d90cf5e71\n'}, {'number': 2, 'created': '2024-01-10 13:00:18.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b610592e42656c7a4b2ca40d4f480d6d332bd1aa', 'message': 'disable nonstandard-exception\n\nNow we use neutron-lib as the standard exceptions.\n\nChange-Id: Ie7dac7968626fe3ce775dfd0444d082d90cf5e71\n'}]",0,885973,b610592e42656c7a4b2ca40d4f480d6d332bd1aa,11,3,2,30380,,,0,"disable nonstandard-exception

Now we use neutron-lib as the standard exceptions.

Change-Id: Ie7dac7968626fe3ce775dfd0444d082d90cf5e71
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/73/885973/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,8b754759329923e4deca288dc356356e5a13b563,,,"# TODO(dougwig) - disable nonstandard-exception while we have neutron_lib shims nonstandard-exception,",0,2
openstack%2Fironic-python-agent~748321,openstack/ironic-python-agent,master,Ia9c49241d2a3bcde2c5e02d7713883668e2772a6,Add fast-track CI job to IPA,ABANDONED,2020-08-26 22:34:30.000000000,2024-04-05 15:04:01.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-26 22:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/42ede81fa73cb11bb8092d6d1b5c0776fa15863e', 'message': 'Add fast-track CI job to IPA\n\nChange-Id: Ia9c49241d2a3bcde2c5e02d7713883668e2772a6\n'}, {'number': 2, 'created': '2020-08-26 22:59:15.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/be7cefd066afe460f45b4b7f4bca70d6d18424f1', 'message': 'Add fast-track CI job to IPA\n\nChange-Id: Ia9c49241d2a3bcde2c5e02d7713883668e2772a6\n'}]",0,748321,be7cefd066afe460f45b4b7f4bca70d6d18424f1,5,3,2,11655,,,0,"Add fast-track CI job to IPA

Change-Id: Ia9c49241d2a3bcde2c5e02d7713883668e2772a6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/21/748321/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,42ede81fa73cb11bb8092d6d1b5c0776fa15863e,, - ironic-inspector-tempest-discovery-fast-track - ironic-inspector-tempest-discovery-fast-track,,2,0
openstack%2Freleases~910428,openstack/releases,master,I29f74ca5435c87bd41dbc8ebe9d312cffd980b91,[senlin] Transition EM branches to Unmaintained,ABANDONED,2024-02-27 18:59:28.000000000,2024-04-05 15:02:48.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-27 18:59:28.000000000', 'files': ['deliverables/xena/senlin.yaml', 'deliverables/wallaby/senlin-dashboard.yaml', 'deliverables/victoria/python-senlinclient.yaml', 'deliverables/victoria/senlin-dashboard.yaml', 'deliverables/victoria/senlin.yaml', 'deliverables/xena/senlin-dashboard.yaml', 'deliverables/wallaby/senlin.yaml', 'deliverables/xena/python-senlinclient.yaml', 'deliverables/wallaby/python-senlinclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e833a68ddc8c766ddffe167e9ffcfddc12a9ddab', 'message': '[senlin] Transition EM branches to Unmaintained\n\nWith the new TC resolution the community replaces Extended Maintenance\nwith Unmaintained status [1].\n\nSo this patch transitions victoria, wallaby, and xena EM branches to\nUnmaintained as follows:\n- tip of the given branch will be tagged with <series>-eom tag\n- unmaintained/<series> branch will be cut from <series>-eom tag\n- stable/<series> branch will be deleted\n\nSome further notes:\n- stable policy still applies\n- backports can be pushed against unmaintained/<series> branch\n- openstack-unmaintained-core group have the rights to merge patches\n\nFor further details please read the resolution [1] & review and +1 this\npatch if this is correct as soon as possible.\n\n[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html\n\nChange-Id: I29f74ca5435c87bd41dbc8ebe9d312cffd980b91\n'}]",1,910428,e833a68ddc8c766ddffe167e9ffcfddc12a9ddab,4,2,1,17685,,,0,"[senlin] Transition EM branches to Unmaintained

With the new TC resolution the community replaces Extended Maintenance
with Unmaintained status [1].

So this patch transitions victoria, wallaby, and xena EM branches to
Unmaintained as follows:
- tip of the given branch will be tagged with <series>-eom tag
- unmaintained/<series> branch will be cut from <series>-eom tag
- stable/<series> branch will be deleted

Some further notes:
- stable policy still applies
- backports can be pushed against unmaintained/<series> branch
- openstack-unmaintained-core group have the rights to merge patches

For further details please read the resolution [1] & review and +1 this
patch if this is correct as soon as possible.

[1] https://governance.openstack.org/tc/resolutions/20230724-unmaintained-branches.html

Change-Id: I29f74ca5435c87bd41dbc8ebe9d312cffd980b91
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/910428/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/senlin.yaml', 'deliverables/wallaby/senlin-dashboard.yaml', 'deliverables/victoria/python-senlinclient.yaml', 'deliverables/victoria/senlin-dashboard.yaml', 'deliverables/victoria/senlin.yaml', 'deliverables/xena/senlin-dashboard.yaml', 'deliverables/wallaby/senlin.yaml', 'deliverables/xena/python-senlinclient.yaml', 'deliverables/wallaby/python-senlinclient.yaml']",9,e833a68ddc8c766ddffe167e9ffcfddc12a9ddab,vwx-unmaintained, - version: wallaby-eom projects: - repo: openstack/python-senlinclient hash: a804fd3408f8dbb0d363c5af9bc5ee8bd6eebf5e - name: unmaintained/wallaby location: wallaby-eom release-notes: https://docs.openstack.org/releasenotes/python-senlinclient/wallaby.html,release-notes: https://docs.openstack.org/releasenotes/python-senlinclient/wallaby.html,64,5
openstack%2Fkolla~913584,openstack/kolla,unmaintained/yoga,I26369f7c570c6c9d493f17509db0aa8264e6f3b2,Followup 904781 on Debian/Ubuntu,MERGED,2024-03-18 16:13:54.000000000,2024-04-05 14:54:48.000000000,2024-04-05 14:48:53.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-03-18 16:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e902ac536de42106ff48af485bd3d6555a3c8f5b', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 2, 'created': '2024-03-21 11:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5edddc22b8c2446daf20ce33789e87431e5ec9e9', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 3, 'created': '2024-03-21 12:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ff1b982e781bcc6c387cab0a192db0e86dd5f2e4', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nCloses-Bug: #2042954\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 4, 'created': '2024-03-23 10:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0556e9967121a397b834f606a5b791813b0570ad', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nCloses-Bug: #2042954\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 5, 'created': '2024-03-23 12:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca7183e530c7f7bf0a20c9867e528bd57d605f10', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nCloses-Bug: #2042954\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 6, 'created': '2024-03-26 11:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c967081e38c6d18ca4e107cb09bfda45fb7a2fd5', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nCloses-Bug: #2042954\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 7, 'created': '2024-03-26 14:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/63d49dd931e9d67452b12387ca34761ec361cf1c', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nCloses-Bug: #2042954\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 8, 'created': '2024-03-27 14:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/346c5a0bdebeb703977d9d875732d6610f6d7ee4', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nCloses-Bug: #2042954\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}, {'number': 9, 'created': '2024-03-27 15:02:16.000000000', 'files': ['docker/neutron/neutron-base/Dockerfile.j2', 'releasenotes/notes/bug-2042954-4a28c4def6b1db12.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d099063c80944961092cc4be157d31b7eee29e56', 'message': 'Followup 904781 on Debian/Ubuntu\n\nSeems [1] fixed rpm distros, but not deb.\n\n[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb\n\nCloses-Bug: #2042954\nChange-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2\n'}]",24,913584,d099063c80944961092cc4be157d31b7eee29e56,54,6,9,22629,,,0,"Followup 904781 on Debian/Ubuntu

Seems [1] fixed rpm distros, but not deb.

[1]: https://review.opendev.org/#/q/Iddd1f1ee6d4cd6b9a15ead323178052fe6b6e4fb

Closes-Bug: #2042954
Change-Id: I26369f7c570c6c9d493f17509db0aa8264e6f3b2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/84/913584/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,e902ac536de42106ff48af485bd3d6555a3c8f5b,,{% if base_package_type == 'deb' %} {# NOTE(mnasiadka): Remove pyroute2 from upper-constraints.txt LP#2042954 #} && sed -i /^pyroute2=/d /requirements/upper-constraints.txt \ {% endif %},,4,0
openstack%2Fnova~913221,openstack/nova,stable/2023.1,I1299ca4b49743f58bec6f541785dd9fbee0ae9e2,fup for power management series,MERGED,2024-03-14 15:08:10.000000000,2024-04-05 14:43:40.000000000,2024-04-05 14:31:42.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-14 15:08:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/cpu/__init__.py', 'nova/tests/functional/libvirt/test_power_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bec8f47c06c52aa8c8d76ed140d8f6a641bad8c7', 'message': ""fup for power management series\n\nEmptying the cpu init file and directly calling the submodule API.\n\nNOTE(artom) Backporting this makes the whole stack on top of this pass\nfunctional and unit tests without any stable-only modifications.\nOtherwise we'd have to refactor nova/virt/libvirt/cpu/__init__.py to\nuse the new per-driver API objects.\n\nRelates to blueprint libvirt-cpu-state-mgmt\n\nChange-Id: I1299ca4b49743f58bec6f541785dd9fbee0ae9e2\n(cherry picked from commit 37fa501cacdf4807582b677c92bd61013d477e2a)\n""}]",4,913221,bec8f47c06c52aa8c8d76ed140d8f6a641bad8c7,22,3,1,8864,,,0,"fup for power management series

Emptying the cpu init file and directly calling the submodule API.

NOTE(artom) Backporting this makes the whole stack on top of this pass
functional and unit tests without any stable-only modifications.
Otherwise we'd have to refactor nova/virt/libvirt/cpu/__init__.py to
use the new per-driver API objects.

Relates to blueprint libvirt-cpu-state-mgmt

Change-Id: I1299ca4b49743f58bec6f541785dd9fbee0ae9e2
(cherry picked from commit 37fa501cacdf4807582b677c92bd61013d477e2a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/913221/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/cpu/__init__.py', 'nova/tests/functional/libvirt/test_power_manage.py']",3,bec8f47c06c52aa8c8d76ed140d8f6a641bad8c7,,from nova.virt.libvirt.cpu import api as cpu_api core = cpu_api.Core(i) cpu_api.Core(1).set_high_governor(),from nova.virt.libvirt import cpu core = cpu.Core(i) cpu.Core(1).set_high_governor(),4,26
openstack%2Fironic~914837,openstack/ironic,master,I174b7e01e1009b6e44e529fbc1d4d1d0032f5f85,CI: Limit redfish https job to wholedisk images,MERGED,2024-04-02 00:51:04.000000000,2024-04-05 14:38:51.000000000,2024-04-05 14:11:23.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-04-02 00:51:04.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/16e839d7495f0c5ce8634de6b423895a8061dc72', 'message': 'CI: Limit redfish https job to wholedisk images\n\nChange-Id: I174b7e01e1009b6e44e529fbc1d4d1d0032f5f85\n'}]",0,914837,16e839d7495f0c5ce8634de6b423895a8061dc72,11,3,1,11655,,,0,"CI: Limit redfish https job to wholedisk images

Change-Id: I174b7e01e1009b6e44e529fbc1d4d1d0032f5f85
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/914837/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,16e839d7495f0c5ce8634de6b423895a8061dc72,, tempest_test_regex: test_baremetal_server_ops_wholedisk_image tox_envlist: codespell , tox_envlist: codespell,2,1
openstack%2Fproject-config~914689,openstack/project-config,master,Id68f0304d20d8e56a0ce7dcf284c1090d017a34b,"Revert ""Temporarily remove release docs semaphores""",MERGED,2024-03-28 17:48:29.000000000,2024-04-05 14:38:23.000000000,2024-04-05 14:38:23.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2024-03-28 17:48:29.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2885af7fac43cad7c193183411e09c02a5478f0b', 'message': 'Revert ""Temporarily remove release docs semaphores""\n\nMerge once OpenStack coordinated release jobs have completed.\n\nThis reverts commit 1c927aeab3a0bc42e214f05f80fdeb6a135b2f3e.\n\nChange-Id: Id68f0304d20d8e56a0ce7dcf284c1090d017a34b\n'}]",1,914689,2885af7fac43cad7c193183411e09c02a5478f0b,12,6,1,5263,,,0,"Revert ""Temporarily remove release docs semaphores""

Merge once OpenStack coordinated release jobs have completed.

This reverts commit 1c927aeab3a0bc42e214f05f80fdeb6a135b2f3e.

Change-Id: Id68f0304d20d8e56a0ce7dcf284c1090d017a34b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/914689/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,2885af7fac43cad7c193183411e09c02a5478f0b,openstack-2024.1, semaphores: publish-releasenotes semaphores: publish-release-docs,,2,0
openstack%2Freleases~906835,openstack/releases,master,Ie205ecf703f545caa663d2a5821c74dff64d1cc7,Release aodh for stable/zed,ABANDONED,2024-01-26 14:59:11.000000000,2024-04-05 14:30:21.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-26 14:59:11.000000000', 'files': ['deliverables/zed/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27aecf8e9a011f52c7cd80bcffde1d34eab2d73b', 'message': 'Release aodh for stable/zed\n\nThis release picks up new commits to aodh since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 15.0.0..6d4fb04e\n6d4fb04e Exclude prometheus based tests from old branches\n27b3cd2f Complete the revert of ""Support Ceilometer API""\n32236c39 Update TOX_CONSTRAINTS_FILE for stable/zed\naaa4ac3b Update .gitreview for stable/zed\n\nChange-Id: Ie205ecf703f545caa663d2a5821c74dff64d1cc7\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",0,906835,27aecf8e9a011f52c7cd80bcffde1d34eab2d73b,3,2,1,17685,,,0,"Release aodh for stable/zed

This release picks up new commits to aodh since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 15.0.0..6d4fb04e
6d4fb04e Exclude prometheus based tests from old branches
27b3cd2f Complete the revert of ""Support Ceilometer API""
32236c39 Update TOX_CONSTRAINTS_FILE for stable/zed
aaa4ac3b Update .gitreview for stable/zed

Change-Id: Ie205ecf703f545caa663d2a5821c74dff64d1cc7
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/906835/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/aodh.yaml'],1,27aecf8e9a011f52c7cd80bcffde1d34eab2d73b,zed-stable, - version: 15.0.1 projects: - repo: openstack/aodh hash: 6d4fb04e36610d208e5ab6a32b25ebfbd1a2e590,,4,0
openstack%2Freleases~906837,openstack/releases,master,I904ed21dc4254a98e3f804a1115ca3547d97e986,Release ceilometer for stable/zed,ABANDONED,2024-01-26 15:08:32.000000000,2024-04-05 14:30:17.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-26 15:08:32.000000000', 'files': ['deliverables/zed/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3e7b3ea3dc79bc47f8044903569686c70acd8c26', 'message': ""Release ceilometer for stable/zed\n\nThis release picks up new commits to ceilometer since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 19.1.0..a0e2230e\nbb2ea265 Exclude prometheus based tests from old branches\n7475cde9 Pin Gnocchi 4.5.1 to Zed release\nc8217dc8 Make multiple attempts to obtain gnocchiclient\nc8c44a5b Render 'identity.authenticate' meter name with correct status\n3ea7d852 Make centos9s jobs non-voting\n7fcf22c3 Make TCP publisher log warning instead of failing.\n600dbfab Add vanity names to notification samples\n6bc73e6c Change oslo_cache implementation\n03498c2f Fix gnocchi install from git\n\nChange-Id: I904ed21dc4254a98e3f804a1115ca3547d97e986\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n""}]",0,906837,3e7b3ea3dc79bc47f8044903569686c70acd8c26,3,2,1,17685,,,0,"Release ceilometer for stable/zed

This release picks up new commits to ceilometer since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 19.1.0..a0e2230e
bb2ea265 Exclude prometheus based tests from old branches
7475cde9 Pin Gnocchi 4.5.1 to Zed release
c8217dc8 Make multiple attempts to obtain gnocchiclient
c8c44a5b Render 'identity.authenticate' meter name with correct status
3ea7d852 Make centos9s jobs non-voting
7fcf22c3 Make TCP publisher log warning instead of failing.
600dbfab Add vanity names to notification samples
6bc73e6c Change oslo_cache implementation
03498c2f Fix gnocchi install from git

Change-Id: I904ed21dc4254a98e3f804a1115ca3547d97e986
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/906837/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/ceilometer.yaml'],1,3e7b3ea3dc79bc47f8044903569686c70acd8c26,zed-stable, - version: 19.2.0 projects: - repo: openstack/ceilometer hash: a0e2230e3b9dc0f741bb71060950260c4c33148b,,4,0
openstack%2Freleases~906841,openstack/releases,master,Iee9b9354168854c3123ba5095fc00f0111ea0669,Release glance for stable/zed,ABANDONED,2024-01-26 15:17:37.000000000,2024-04-05 14:30:13.000000000,,"[{'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-26 15:17:37.000000000', 'files': ['deliverables/zed/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78a2535dba0fff2da82ae3e943b2a86bcec2e7f9', 'message': 'Release glance for stable/zed\n\nThis release picks up new commits to glance since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 25.1.0..06a18202a\n06a18202a Limit CaptureRegion sizes in format_inspector for VMDK and VHDX\n\nChange-Id: Iee9b9354168854c3123ba5095fc00f0111ea0669\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",0,906841,78a2535dba0fff2da82ae3e943b2a86bcec2e7f9,3,2,1,17685,,,0,"Release glance for stable/zed

This release picks up new commits to glance since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 25.1.0..06a18202a
06a18202a Limit CaptureRegion sizes in format_inspector for VMDK and VHDX

Change-Id: Iee9b9354168854c3123ba5095fc00f0111ea0669
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/906841/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/glance.yaml'],1,78a2535dba0fff2da82ae3e943b2a86bcec2e7f9,zed-stable, - version: 25.1.1 projects: - repo: openstack/glance hash: 06a18202ab52c64803f044b8f848ed1c160905d2,,4,0
openstack%2Freleases~906836,openstack/releases,master,I8241cc0c5dcefdc170050d5e703d6051e47d2ce6,Release bifrost for stable/zed,ABANDONED,2024-01-26 15:02:05.000000000,2024-04-05 14:30:08.000000000,,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2024-01-26 15:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3368a83f842edf87241dc44942068c5cf6adf94e', 'message': 'Release bifrost for stable/zed\n\nThis release picks up new commits to bifrost since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 15.0.0..772b9581\n772b9581 Fix for lack of log rotation in Bifrost\n9de69557 Remove Fedora from the CI\n8dc34eee Create the log file for the disk-image-create command\n64fd2a86 Skip unnecessary SDK get_machine calls\nf38f1d8e CI: Update cached cirros image to 0.5.3\ne0930eb4 Repair Focal support\n6fd19c8a Use curl to download deploy image if get_url fails\n1436296f Fix CI\na7acbf9b Create /run/ironic runtime directory when service starts\nc0d6a806 Update TOX_CONSTRAINTS_FILE for stable/zed\n49ab4248 Update .gitreview for stable/zed\n\nChange-Id: I8241cc0c5dcefdc170050d5e703d6051e47d2ce6\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}, {'number': 2, 'created': '2024-01-30 10:15:48.000000000', 'files': ['deliverables/zed/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2ad2366fb9ec1e302c9d15a23acb1b334bc6aa9c', 'message': 'Release bifrost for stable/zed\n\nThis release picks up new commits to bifrost since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 15.0.0..772b9581\n772b9581 Fix for lack of log rotation in Bifrost\n9de69557 Remove Fedora from the CI\n8dc34eee Create the log file for the disk-image-create command\n64fd2a86 Skip unnecessary SDK get_machine calls\nf38f1d8e CI: Update cached cirros image to 0.5.3\ne0930eb4 Repair Focal support\n6fd19c8a Use curl to download deploy image if get_url fails\n1436296f Fix CI\na7acbf9b Create /run/ironic runtime directory when service starts\nc0d6a806 Update TOX_CONSTRAINTS_FILE for stable/zed\n49ab4248 Update .gitreview for stable/zed\n\nChange-Id: I8241cc0c5dcefdc170050d5e703d6051e47d2ce6\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",3,906836,2ad2366fb9ec1e302c9d15a23acb1b334bc6aa9c,10,4,2,17685,,,0,"Release bifrost for stable/zed

This release picks up new commits to bifrost since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 15.0.0..772b9581
772b9581 Fix for lack of log rotation in Bifrost
9de69557 Remove Fedora from the CI
8dc34eee Create the log file for the disk-image-create command
64fd2a86 Skip unnecessary SDK get_machine calls
f38f1d8e CI: Update cached cirros image to 0.5.3
e0930eb4 Repair Focal support
6fd19c8a Use curl to download deploy image if get_url fails
1436296f Fix CI
a7acbf9b Create /run/ironic runtime directory when service starts
c0d6a806 Update TOX_CONSTRAINTS_FILE for stable/zed
49ab4248 Update .gitreview for stable/zed

Change-Id: I8241cc0c5dcefdc170050d5e703d6051e47d2ce6
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/906836/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/bifrost.yaml'],1,3368a83f842edf87241dc44942068c5cf6adf94e,zed-stable, - version: 15.0.1 projects: - repo: openstack/bifrost hash: 772b9581e688246b8c9206ed9a5aec48b7e3c63c,,4,0
openstack%2Freleases~906834,openstack/releases,master,I08794ab1288860433d05cecbe5be4fb52a55bc9f,Release ansible-role-thales-hsm for stable/zed,ABANDONED,2024-01-26 14:57:53.000000000,2024-04-05 14:30:00.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-26 14:57:53.000000000', 'files': ['deliverables/zed/ansible-role-thales-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e047183254c184f7fef85fbb40365a13e72afc8', 'message': 'Release ansible-role-thales-hsm for stable/zed\n\nThis release picks up new commits to ansible-role-thales-hsm since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 6.0.0.0rc1..6917777\n6917777 Use shell instead of command for rfs-sync setup\nf0ff0c6 Add support for Security World client v13.4.4\n2fc6c7c Update .gitreview for stable/zed\n\nChange-Id: I08794ab1288860433d05cecbe5be4fb52a55bc9f\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",3,906834,7e047183254c184f7fef85fbb40365a13e72afc8,8,5,1,17685,,,0,"Release ansible-role-thales-hsm for stable/zed

This release picks up new commits to ansible-role-thales-hsm since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.0.0.0rc1..6917777
6917777 Use shell instead of command for rfs-sync setup
f0ff0c6 Add support for Security World client v13.4.4
2fc6c7c Update .gitreview for stable/zed

Change-Id: I08794ab1288860433d05cecbe5be4fb52a55bc9f
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/906834/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/ansible-role-thales-hsm.yaml'],1,7e047183254c184f7fef85fbb40365a13e72afc8,zed-stable, - version: 4.0.1 projects: - repo: openstack/ansible-role-thales-hsm hash: 69177770c9e2bd328a587b4c113cd9d7081424e6,,4,0
openstack%2Fsunbeam-charms~915118,openstack/sunbeam-charms,main,I3de1d537164bc873718ec51d554bf9b70a45e9a0,[glance] change ownership of config files to glance user,MERGED,2024-04-05 10:05:58.000000000,2024-04-05 14:09:40.000000000,2024-04-05 13:55:44.000000000,"[{'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2024-04-05 10:05:58.000000000', 'files': ['charms/glance-k8s/src/charm.py'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/0097997e4cae2c2f7ec519abbdf8fcee425e64c8', 'message': '[glance] change ownership of config files to glance user\n\nCurrently the config files pushed by glance-k8s charm\nare owned by root. Change the ownership to glance user.\nChange the ownership of /var/lib/glance/images to\nglance:glance\n\nChange-Id: I3de1d537164bc873718ec51d554bf9b70a45e9a0\n'}]",0,915118,0097997e4cae2c2f7ec519abbdf8fcee425e64c8,7,2,1,10366,,,0,"[glance] change ownership of config files to glance user

Currently the config files pushed by glance-k8s charm
are owned by root. Change the ownership to glance user.
Change the ownership of /var/lib/glance/images to
glance:glance

Change-Id: I3de1d537164bc873718ec51d554bf9b70a45e9a0
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/18/915118/1 && git format-patch -1 --stdout FETCH_HEAD,['charms/glance-k8s/src/charm.py'],1,0097997e4cae2c2f7ec519abbdf8fcee425e64c8,fix-glance-configs-ownership,"IMAGES_DIR = ""/var/lib/glance/images"" self.service_user, self.service_user, self.service_user, self.service_user, f""{self.service_user}:{self.service_group}"", # filestore is enabled for both storage backends, # so this step required irrespective of storage backend ph.execute( [ ""chown"", f""{self.service_user}:{self.service_group}"", IMAGES_DIR, ] ) "," ""root"", ""root"", ""root"", ""root"", f""root:{self.service_group}"",",17,5
openstack%2Frequestsexceptions~906142,openstack/requestsexceptions,master,I0d12ca25bea62577120b89f9f910d4dbbd141aed,Update supported python versions,MERGED,2024-01-19 16:22:11.000000000,2024-04-05 13:48:10.000000000,2024-04-05 13:48:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-01-19 16:22:11.000000000', 'files': ['test-requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/requestsexceptions/commit/4ca787152e9ee384f00231106d6e16b4b652c533', 'message': 'Update supported python versions\n\n... and also bump hacking to avoid conflict in test requirements.\n\nChange-Id: I0d12ca25bea62577120b89f9f910d4dbbd141aed\n'}]",0,906142,4ca787152e9ee384f00231106d6e16b4b652c533,7,3,1,9816,,,0,"Update supported python versions

... and also bump hacking to avoid conflict in test requirements.

Change-Id: I0d12ca25bea62577120b89f9f910d4dbbd141aed
",git fetch https://review.opendev.org/openstack/requestsexceptions refs/changes/42/906142/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.cfg', 'tox.ini']",3,4ca787152e9ee384f00231106d6e16b4b652c533,,"envlist = pep8,py3","envlist = pep8,py36",8,12
openstack%2Fneutron-tempest-plugin~858518,openstack/neutron-tempest-plugin,master,Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399,Adds new Neutron Designate DNS integration test,NEW,2022-09-20 11:40:57.000000000,2024-04-05 13:46:20.000000000,,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-20 11:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2dde7538dc2c8c898e9cb1465c00464a4fa08975', 'message': 'Adds new Neutron Designate DNS integration test\n\nTest name: ""test_vm_uses_dns_resolver""\nScenario:\n1) Create dst-vm, ensure recordset type ""A"" creation on backends\n2) Create src-vm and try to PING dst-vm using its FQDN\n   Should PASS if DNS queries are forwarded to DNS resolver as\n   expected.\nNote: this test is covering:\nhttps://docs.openstack.org/neutron/yoga/admin/config-dns-res.html#case\n-2b-queries-are-forwarded-to-dns-resolver-s-configured-on-the-host\n\nChange-Id: Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399\n'}, {'number': 2, 'created': '2022-10-20 08:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a119816d75608f72abb12b20b9761ad7b6063ddd', 'message': 'Adds new Neutron Designate DNS integration test\n\nTest name: ""test_vm_uses_dns_resolver""\nScenario:\n1) Create dst-vm, ensure recordset type ""A"" creation on backends\n2) Create src-vm and try to PING dst-vm using its FQDN\n   Should PASS if DNS queries are forwarded to DNS resolver as\n   expected.\nNote: this test is covering:\nhttps://docs.openstack.org/neutron/yoga/admin/config-dns-res.html#case\n-2b-queries-are-forwarded-to-dns-resolver-s-configured-on-the-host\n\nChange-Id: Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399\n'}, {'number': 3, 'created': '2024-02-19 18:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1074389b789fed13bc878c0cb5a785e3ce3e0bf0', 'message': 'Adds new Neutron Designate DNS integration test\n\nTest name: ""test_vm_uses_dns_resolver""\nScenario:\n1) Create dst-vm, ensure recordset type ""A"" creation on backends\n2) Create src-vm and try to PING dst-vm using its FQDN\n   Should PASS if DNS queries are forwarded to DNS resolver as\n   expected.\nNote: this test is covering:\nhttps://docs.openstack.org/neutron/yoga/admin/config-dns-res.html#case\n-2b-queries-are-forwarded-to-dns-resolver-s-configured-on-the-host\n\nChange-Id: Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399\n'}, {'number': 4, 'created': '2024-02-20 07:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/47374286a2f137d42d8f7ba123e4f206eb9f702f', 'message': 'Adds new Neutron Designate DNS integration test\n\nTest name: ""test_vm_uses_dns_resolver""\nScenario:\n1) Create dst-vm, ensure recordset type ""A"" creation on backends\n2) Create src-vm and try to PING dst-vm using its FQDN\n   Should PASS if DNS queries are forwarded to DNS resolver as\n   expected.\nNote: this test is covering:\nhttps://docs.openstack.org/neutron/yoga/admin/config-dns-res.html#case\n-2b-queries-are-forwarded-to-dns-resolver-s-configured-on-the-host\n\nChange-Id: Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399\n'}, {'number': 5, 'created': '2024-02-21 18:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ca3e203d7145a1d91fb4e6ff90e62e7168da39b0', 'message': 'Adds new Neutron Designate DNS integration test\n\nTest name: ""test_vm_uses_dns_resolver""\nScenario:\n1) Create dst-vm, ensure recordset type ""A"" creation on backends\n2) Create src-vm and try to PING dst-vm using its FQDN\n   Should PASS if DNS queries are forwarded to DNS resolver as\n   expected.\nNote: this test is covering:\nhttps://docs.openstack.org/neutron/yoga/admin/config-dns-res.html#case\n-2b-queries-are-forwarded-to-dns-resolver-s-configured-on-the-host\n\nChange-Id: Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399\n'}, {'number': 6, 'created': '2024-03-03 14:16:19.000000000', 'files': ['neutron_tempest_plugin/scenario/test_dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/34a971f85d2f270cefee8350ee33730a24022f56', 'message': 'Adds new Neutron Designate DNS integration test\n\nTest name: ""test_vm_uses_dns_resolver""\nScenario:\n1) Create dst-vm, ensure recordset type ""A"" creation on backends\n2) Create src-vm and try to PING dst-vm using its FQDN\n   Should PASS if DNS queries are forwarded to DNS resolver as\n   expected.\nNote: this test is covering:\nhttps://docs.openstack.org/neutron/yoga/admin/config-dns-res.html#case\n-2b-queries-are-forwarded-to-dns-resolver-s-configured-on-the-host\n\nChange-Id: Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399\n'}]",23,858518,34a971f85d2f270cefee8350ee33730a24022f56,25,4,6,28609,,,0,"Adds new Neutron Designate DNS integration test

Test name: ""test_vm_uses_dns_resolver""
Scenario:
1) Create dst-vm, ensure recordset type ""A"" creation on backends
2) Create src-vm and try to PING dst-vm using its FQDN
   Should PASS if DNS queries are forwarded to DNS resolver as
   expected.
Note: this test is covering:
https://docs.openstack.org/neutron/yoga/admin/config-dns-res.html#case
-2b-queries-are-forwarded-to-dns-resolver-s-configured-on-the-host

Change-Id: Ie9f3a9aac500c33c644c6e7c4656cbb0331f3399
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/18/858518/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_dns_integration.py'],1,2dde7538dc2c8c898e9cb1465c00464a4fa08975,dns_resolvers,"from neutron_tempest_plugin.common import ssh cls.secgroup = cls.os_primary.network_client.create_security_group( name=data_utils.rand_name('secgroup'))['security_group'] cls.security_groups.append(cls.secgroup) cls.create_loginable_secgroup_rule(secgroup_id=cls.secgroup['id']) cls.create_pingable_secgroup_rule(secgroup_id=cls.secgroup['id']) def _create_server(self, name=None, setup_sec_group=None): if setup_sec_group: port = self.create_port( self.network, security_groups=[self.secgroup['id']]) else: port = self.create_port(self.network) class DNSIntegrationResolversTests(BaseDNSIntegrationTests): @decorators.idempotent_id('38705b5c-38be-11ed-8091-201e8823901f') def test_vm_uses_dns_resolver(self): # Create dst-vm, ensure ""A"" type recordset name = data_utils.rand_name('dst-vm') dst_vm = self._create_server(name=name, setup_sec_group=True) dst_vm_ip = dst_vm['fip']['floating_ip_address'] self._verify_dns_records(dst_vm_ip, name) dst_vm_domain_name = name + '.' + self.zone['name'].strip('.') # Create src-vm name = data_utils.rand_name('src-vm') src_vm = self._create_server(name=name, setup_sec_group=True) src_vm_ip = src_vm['fip']['floating_ip_address'] # SSH to src-vm and ping dst-vm using its domain name. Should PASS # if DNS queries are forwarded to DNS resolver as expected. ssh_client = ssh.Client( src_vm_ip, CONF.validation.image_ssh_user, pkey=self.keypair['private_key']) ping_command = 'ping -c1 {}'.format(dst_vm_domain_name) try: ssh_client.exec_command(ping_command) except lib_exc.SSHExecCommandFailed as ex: raise ex"," def _create_server(self, name=None): port = self.create_port(self.network)",40,3
openstack%2Fkolla-ansible~914967,openstack/kolla-ansible,master,I9eba89157db4ce98b075dccd34e7d5994b61b1d2,CI: test s3api with keystone auth,NEW,2024-04-03 13:14:45.000000000,2024-04-05 13:40:32.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-04-03 13:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e2f9df4a9d8d43ca235c46294f22966205b15eb', 'message': 'CI: test s3api with keystone auth\n\nreason: this was broken since zed release\nand apparently nobody noticed.\n\nnext step would be to make swift CI voting\n\nRelated-Bug: #2060121\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I9eba89157db4ce98b075dccd34e7d5994b61b1d2\n'}, {'number': 2, 'created': '2024-04-05 10:03:57.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3104d99927b80c8c31baffca0f7cd66a40508900', 'message': 'CI: test s3api with keystone auth\n\nreason: this was broken since zed release\nand apparently nobody noticed.\n\nnext step would be to make swift CI voting\n\nRelated-Bug: #2060121\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: I9eba89157db4ce98b075dccd34e7d5994b61b1d2\n'}]",7,914967,3104d99927b80c8c31baffca0f7cd66a40508900,12,3,2,32553,,,0,"CI: test s3api with keystone auth

reason: this was broken since zed release
and apparently nobody noticed.

next step would be to make swift CI voting

Related-Bug: #2060121

Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: I9eba89157db4ce98b075dccd34e7d5994b61b1d2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/914967/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,4e2f9df4a9d8d43ca235c46294f22966205b15eb,ci_extend_swift,"enable_swift_s3api: ""yes"" {% endif %} {% if scenario == ""octavia"" %}",,4,0
openstack%2Fpython-openstackclient~909035,openstack/python-openstackclient,master,I4d090bab001f9b7e1d83ca8fee9e7e1117844cd8,"tests: Add identity v2, v3 FakeClientMixin",MERGED,2024-02-14 18:15:52.000000000,2024-04-05 13:36:32.000000000,2024-04-05 13:29:45.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-02-14 18:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/58c75247ebe41c75419357e0cdf2c68cb9991329', 'message': 'tests: Add identity v2, v3 FakeClientMixin\n\nThis ensures we are speccing the identity proxy API, as we did\npreviously for other services.\n\nChange-Id: I4d090bab001f9b7e1d83ca8fee9e7e1117844cd8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2024-02-29 21:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e1266bf8d1904562eea861e0ab15f81ef6035d11', 'message': 'tests: Add identity v2, v3 FakeClientMixin\n\nThis ensures we are speccing the identity proxy API, as we did\npreviously for other services.\n\nChange-Id: I4d090bab001f9b7e1d83ca8fee9e7e1117844cd8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2024-04-04 19:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fe7664d6a2402ea9436c95725363be5b7754f8ed', 'message': 'tests: Add identity v2, v3 FakeClientMixin\n\nThis ensures we are speccing the identity proxy API, as we did\npreviously for other services.\n\nChange-Id: I4d090bab001f9b7e1d83ca8fee9e7e1117844cd8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2024-04-04 23:23:05.000000000', 'files': ['openstackclient/tests/unit/volume/v1/fakes.py', 'openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/unit/identity/v3/fakes.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/identity/v2_0/fakes.py', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c86b9d8cc7d6435e3f73be732c69c9886301dfa3', 'message': 'tests: Add identity v2, v3 FakeClientMixin\n\nThis ensures we are speccing the identity proxy API, as we did\npreviously for other services.\n\nChange-Id: I4d090bab001f9b7e1d83ca8fee9e7e1117844cd8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,909035,c86b9d8cc7d6435e3f73be732c69c9886301dfa3,17,3,4,15334,,,0,"tests: Add identity v2, v3 FakeClientMixin

This ensures we are speccing the identity proxy API, as we did
previously for other services.

Change-Id: I4d090bab001f9b7e1d83ca8fee9e7e1117844cd8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/35/909035/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/volume/v1/fakes.py', 'openstackclient/tests/unit/image/v2/fakes.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/unit/identity/v3/fakes.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/identity/v2_0/fakes.py', 'openstackclient/tests/unit/volume/v3/fakes.py']",8,58c75247ebe41c75419357e0cdf2c68cb9991329,identity-gaps/user-commands,"class TestVolume( identity_fakes.FakeClientMixin, FakeClientMixin, utils.TestCommand, ):","class TestVolume(FakeClientMixin, utils.TestCommand): self.app.client_manager.identity = identity_fakes.FakeIdentityv3Client( endpoint=fakes.AUTH_URL, token=fakes.AUTH_TOKEN ) ",91,45
openstack%2Fcharm-keystone~913705,openstack/charm-keystone,master,I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda,Add cache_time for identity,MERGED,2024-03-19 17:45:49.000000000,2024-04-05 13:36:29.000000000,2024-04-05 13:36:29.000000000,"[{'_account_id': 935}, {'_account_id': 1131}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-19 17:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/5c78f4730bd25c1961fbb688f3c6adbc233f3cfb', 'message': 'Add cache_time for identity\n\nThis patch adds a config option to allow\nconfiguring the cache_time for identity elements.\n\nIt is also including a complementary fix for\nchange I49e46e010c543f831959581b2122f59068f2c07b\nthat missed adjusting the correct template.\n\nCloses-bug: #2054418\nRelated-bug: #1771114\nChange-Id: I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda\n'}, {'number': 2, 'created': '2024-03-19 17:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/d6cb43c14a2542a38c02872dd846470606c52b7c', 'message': 'Add cache_time for identity\n\nThis patch adds a config option to allow\nconfiguring the cache_time for identity elements.\n\nIt is also including a complementary fix for\nchange I49e46e010c543f831959581b2122f59068f2c07b\nthat missed adjusting the correct template.\n\nCloses-bug: #2054418\nRelated-bug: #1771114\nChange-Id: I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda\n'}, {'number': 3, 'created': '2024-03-19 19:40:44.000000000', 'files': ['templates/queens/keystone.conf', 'templates/rocky/keystone.conf', 'config.yaml', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0967f6ec4eacf69a5cee9b7582daed973e1dded4', 'message': 'Add cache_time for identity\n\nThis patch adds a config option to allow\nconfiguring the cache_time for identity elements.\n\nIt is also including a complementary fix for\nchange I49e46e010c543f831959581b2122f59068f2c07b\nthat missed adjusting the correct template, and\nused the wrong comparison ""is not None"".\n\nCloses-bug: #2054418\nRelated-bug: #1771114\nChange-Id: I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda\n'}]",5,913705,0967f6ec4eacf69a5cee9b7582daed973e1dded4,17,6,3,14567,,,0,"Add cache_time for identity

This patch adds a config option to allow
configuring the cache_time for identity elements.

It is also including a complementary fix for
change I49e46e010c543f831959581b2122f59068f2c07b
that missed adjusting the correct template, and
used the wrong comparison ""is not None"".

Closes-bug: #2054418
Related-bug: #1771114
Change-Id: I57d376eb6c1f0f38cdd028aacf397aaf7f3a1cda
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/05/913705/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/rocky/keystone.conf', 'config.yaml', 'hooks/keystone_context.py']",3,5c78f4730bd25c1961fbb688f3c6adbc233f3cfb,, if config('identity-cache-expiration') is not None: ctxt['identity_cache_expiration'] = config( 'identity-cache-expiration'),,19,0
openstack%2Frequirements~907160,openstack/requirements,master,I51ed0e4c181b136e8291c373847ba3d12664451a,"Partial Revert ""Updated from generate-constraints""",MERGED,2024-01-30 01:10:54.000000000,2024-04-05 13:25:25.000000000,2024-04-05 13:20:30.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-30 01:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c35ea1bab58c5c53f6f1796b9b3c2bd36ba0d712', 'message': 'Partial Revert ""Updated from generate-constraints""\n\nThis partially reverts commit c40d5da7fd9ae10ce0c38a548ab876db3f08e95d.\n\nIn the above commit we added a version specifier for funclibparser\ndue to a) there was an 2.0.0a0 release available ; abd b) caution\naround potentially breaking docs builds.\n\nThis reverts that and part of the change and should be applied early in\nthe D/2024.2 cycle\n\nChange-Id: I51ed0e4c181b136e8291c373847ba3d12664451a\n'}, {'number': 2, 'created': '2024-04-05 10:22:11.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5b63fb81989d23346145a0b1e33db71619fea94', 'message': 'Partial Revert ""Updated from generate-constraints""\n\nThis partially reverts commit c40d5da7fd9ae10ce0c38a548ab876db3f08e95d.\n\nIn the above commit we added a version specifier for funclibparser\ndue to a) there was an 2.0.0a0 release available ; abd b) caution\naround potentially breaking docs builds.\n\nThis reverts that and part of the change and should be applied early in\nthe D/2024.2 cycle\n\nChange-Id: I51ed0e4c181b136e8291c373847ba3d12664451a\n'}]",2,907160,b5b63fb81989d23346145a0b1e33db71619fea94,16,2,2,12898,,,0,"Partial Revert ""Updated from generate-constraints""

This partially reverts commit c40d5da7fd9ae10ce0c38a548ab876db3f08e95d.

In the above commit we added a version specifier for funclibparser
due to a) there was an 2.0.0a0 release available ; abd b) caution
around potentially breaking docs builds.

This reverts that and part of the change and should be applied early in
the D/2024.2 cycle

Change-Id: I51ed0e4c181b136e8291c373847ba3d12664451a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/907160/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,c35ea1bab58c5c53f6f1796b9b3c2bd36ba0d712,openstack/requirements/constraints/noclob,,# NOTE(tonyb): funcparserlib is an indirect requirement (via blockdiag). # There has recently been a 2.0.0a0 release which we'd like to exclude. # TODO(tonyb): Early in 'D/2024.2' revert this change. funcparserlib<2 # MIT,0,4
openstack%2Ftelemetry-tempest-plugin~912723,openstack/telemetry-tempest-plugin,master,I74a897a213167da8b4bde99cc879a7078993ccd4,Add Autoscaling test with prometheus,MERGED,2024-03-13 09:32:08.000000000,2024-04-05 13:12:44.000000000,2024-04-05 13:12:44.000000000,"[{'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-13 09:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/ee81f5ec06d4fe9e7710912cf6afd3dd250d4af0', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 2, 'created': '2024-03-13 11:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/ecb87cd13b3e187c6140a11612e7bc5a710a7388', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 3, 'created': '2024-03-13 11:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/04e6c790a48ea302383da7623ad473abc1f7fd17', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 4, 'created': '2024-03-14 09:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/cbf3522d91dc18671fcf445f2e6d7ae502608068', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 5, 'created': '2024-03-14 11:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/8463b53df99d75fd443ca69619e9bae47a2a7294', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 6, 'created': '2024-03-15 07:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/218b9f2e603452d160b13599a2b0b5a0211cccce', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 7, 'created': '2024-03-19 08:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/c891da76a60f32dcab16e928b345820f3f2cdbae', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 8, 'created': '2024-03-19 10:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/971d8a5871b6b02b9f3f3bbdee635756eadd5e55', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 9, 'created': '2024-03-19 19:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d8942dcbc0c3ba53a64c6b781c40de409012fa2f', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 10, 'created': '2024-03-20 07:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/bf718f7f67c2b28efe5d62af2a0be2bd5b057b14', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 11, 'created': '2024-03-25 11:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/a3f77da7c537f6b10eac67c8c21175c7f1cec0a8', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 12, 'created': '2024-03-25 12:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/069c5a45b9269010379ff9f98c0b59c4de089479', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 13, 'created': '2024-04-03 09:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/9ca1f1f6945a7318d62e84828706b356b602eb22', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 14, 'created': '2024-04-05 10:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/b71dabcd56a9500bf81b7cb85bd2ed457dc5dc6f', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}, {'number': 15, 'created': '2024-04-05 10:42:49.000000000', 'files': ['telemetry_tempest_plugin/scenario/telemetry_integration_prometheus_gabbits/autoscaling.yaml', 'telemetry_tempest_plugin/config.py', 'telemetry_tempest_plugin/scenario/telemetry_integration_prometheus_gabbits/create_stack.json', 'telemetry_tempest_plugin/scenario/test_telemetry_integration_prometheus.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/d00901d59e04f0f96c0f24ee83656fae2ed28881', 'message': 'Add Autoscaling test with prometheus\n\nChange-Id: I74a897a213167da8b4bde99cc879a7078993ccd4\n'}]",40,912723,d00901d59e04f0f96c0f24ee83656fae2ed28881,49,3,15,35145,,,0,"Add Autoscaling test with prometheus

Change-Id: I74a897a213167da8b4bde99cc879a7078993ccd4
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/23/912723/1 && git format-patch -1 --stdout FETCH_HEAD,"['telemetry_tempest_plugin/scenario/telemetry_integration_prometheus_gabbits/autoscaling.yaml', 'telemetry_tempest_plugin/config.py', 'telemetry_tempest_plugin/scenario/telemetry_integration_prometheus_gabbits/create_stack.json', 'telemetry_tempest_plugin/scenario/test_telemetry_integration_prometheus.py', '.zuul.yaml']",5,ee81f5ec06d4fe9e7710912cf6afd3dd250d4af0,," tempest_exclude_regex: (^telemetry_tempest_plugin\.scenario\.test_telemetry_integration\.) PROMETHEUS_SERVICE_SCRAPE_TARGETS: ""sg-core""", tempest_exclude_regex: (^telemetry_tempest_plugin\.scenario\.test_telemetry_integration),322,8
openstack%2Fhorizon~914235,openstack/horizon,master,I44532583095837dca62b34992b470ca7d5588445,Horizon documentation review.,NEW,2024-04-02 11:57:39.000000000,2024-04-05 11:54:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-02 11:57:39.000000000', 'files': ['first-file'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ea4c0ecb99dbd75bd2e829f331b7b633cd177fd6', 'message': 'Horizon documentation review.\n\nFollow the most recent horizon documentation Release 24.1.0.dev9\nCompare with the horizon repo. for the purpose of spotting differences\nFixing the differences in the docs.\n\nChange-Id: I44532583095837dca62b34992b470ca7d5588445\nSigned-off-by: Taiye Michaels <oyewoletaiye@gmail.com>\n'}]",0,914235,ea4c0ecb99dbd75bd2e829f331b7b633cd177fd6,3,1,1,36936,,,0,"Horizon documentation review.

Follow the most recent horizon documentation Release 24.1.0.dev9
Compare with the horizon repo. for the purpose of spotting differences
Fixing the differences in the docs.

Change-Id: I44532583095837dca62b34992b470ca7d5588445
Signed-off-by: Taiye Michaels <oyewoletaiye@gmail.com>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/35/914235/1 && git format-patch -1 --stdout FETCH_HEAD,['first-file'],1,ea4c0ecb99dbd75bd2e829f331b7b633cd177fd6,Horizon documentation review, This is my first changeset for OpenStack. ,,1,0
openstack%2Fsenlin~913753,openstack/senlin,master,Ibc03fe6d5ca6db2b02ece5d0b3aab00dff157de1,Fix error can't do rebuild nova instances,MERGED,2024-03-20 11:17:45.000000000,2024-04-05 11:19:37.000000000,2024-04-05 11:18:38.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}, {'_account_id': 36823}]","[{'number': 1, 'created': '2024-03-20 11:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d41bf62478456259679eeccac0abeb4d60e40b43', 'message': 'Fix error can\'t do rebuild nova instances\n\nCurrently, the python openstacksdk changed rebuild_server function\'s\nparameters. So, when the senlin-engine handle rebuild nova instance, it\nwill raise this error like: ""rebuild_server() got multiple values\nfor argument \'image\'""\n\nThis patch will fix above error\n\nChange-Id: Ibc03fe6d5ca6db2b02ece5d0b3aab00dff157de1\n'}, {'number': 2, 'created': '2024-03-21 01:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/fd2a1251c588864af3416a05c8ede6f4983fbbc1', 'message': 'Fix error can\'t do rebuild nova instances\n\nCurrently, the python openstacksdk changed rebuild_server function\'s\nparameters. So, when the senlin-engine handle rebuild nova instance, it\nwill raise this error like: ""rebuild_server() got multiple values\nfor argument \'image\'""\n\nThis patch will fix above error\n\nChange-Id: Ibc03fe6d5ca6db2b02ece5d0b3aab00dff157de1\n'}, {'number': 3, 'created': '2024-03-25 06:48:41.000000000', 'files': ['senlin/drivers/os/nova_v2.py', 'senlin/tests/unit/drivers/test_nova_v2.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/450bd3513668acdbbf831d6fa3eda98d9ce27c22', 'message': 'Fix error can\'t do rebuild nova instances\n\nCurrently, the python openstacksdk changed rebuild_server function\'s\nparameters. So, when the senlin-engine handle rebuild nova instance, it\nwill raise this error like: ""rebuild_server() got multiple values\nfor argument \'image\'""\n\nThis patch will fix above error\n\nChange-Id: Ibc03fe6d5ca6db2b02ece5d0b3aab00dff157de1\n'}]",4,913753,450bd3513668acdbbf831d6fa3eda98d9ce27c22,15,4,3,28691,,,0,"Fix error can't do rebuild nova instances

Currently, the python openstacksdk changed rebuild_server function's
parameters. So, when the senlin-engine handle rebuild nova instance, it
will raise this error like: ""rebuild_server() got multiple values
for argument 'image'""

This patch will fix above error

Change-Id: Ibc03fe6d5ca6db2b02ece5d0b3aab00dff157de1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/53/913753/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/drivers/os/nova_v2.py'],1,d41bf62478456259679eeccac0abeb4d60e40b43,fix_error_rebuild," attrs.update({ ""name"": name, ""admin_password"": admin_password }) return self.conn.compute.rebuild_server(server, image=image, **attrs)"," return self.conn.compute.rebuild_server(server, name, admin_password, image=image, **attrs)",5,2
openstack%2Fpython-observabilityclient~913874,openstack/python-observabilityclient,master,Id0dfabf52fe0a21194c498f4aefa1bff1d3eeea9,Fix table formatter,MERGED,2024-03-21 09:05:49.000000000,2024-04-05 11:02:05.000000000,2024-04-05 11:02:05.000000000,"[{'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 5241}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-21 09:05:49.000000000', 'files': ['observabilityclient/utils/metric_utils.py'], 'web_link': 'https://opendev.org/openstack/python-observabilityclient/commit/ed042e2b16eda12805afff9c11d209eb59b7c1ae', 'message': 'Fix table formatter\n\nIt\'s possible for Prometheus to return multiple metrics, where\neach of them has different labels. Before this the client\nwould fail with error when using the default table formatter,\nbecause of for example:\n\nRow has incorrect number of values, (actual) 8!=9 (expected)\n\nIt was also possible to mismatch the label keys and values\nfor some of the rows.\n\nThis patch makes sure the label values are matched to the correct\nkeys. It also makes sure it uses all labels and it fills\nmissing values with empty strings for metrics, which don\'t have\nthat label defined.\n\nExample table output:\n+------------+----------+------------+----------------+-------+\n| group      | __name__ | job        | instance       | value |\n+------------+----------+------------+----------------+-------+\n|            | up       | sg-core    | localhost:3000 | 1     |\n| production | up       | prometheus | localhost:9090 | 1     |\n+------------+----------+------------+----------------+-------+\n\nExample json output:\n[\n  {\n    ""__name__"": ""up"",\n    ""group"": """",\n    ""job"": ""sg-core"",\n    ""instance"": ""localhost:3000"",\n    ""value"": ""1""\n  },\n  {\n    ""__name__"": ""up"",\n    ""group"": ""production"",\n    ""job"": ""prometheus"",\n    ""instance"": ""localhost:9090"",\n    ""value"": ""1""\n  }\n]\n\nChange-Id: Id0dfabf52fe0a21194c498f4aefa1bff1d3eeea9\n'}]",0,913874,ed042e2b16eda12805afff9c11d209eb59b7c1ae,8,4,1,34975,,,0,"Fix table formatter

It's possible for Prometheus to return multiple metrics, where
each of them has different labels. Before this the client
would fail with error when using the default table formatter,
because of for example:

Row has incorrect number of values, (actual) 8!=9 (expected)

It was also possible to mismatch the label keys and values
for some of the rows.

This patch makes sure the label values are matched to the correct
keys. It also makes sure it uses all labels and it fills
missing values with empty strings for metrics, which don't have
that label defined.

Example table output:
+------------+----------+------------+----------------+-------+
| group      | __name__ | job        | instance       | value |
+------------+----------+------------+----------------+-------+
|            | up       | sg-core    | localhost:3000 | 1     |
| production | up       | prometheus | localhost:9090 | 1     |
+------------+----------+------------+----------------+-------+

Example json output:
[
  {
    ""__name__"": ""up"",
    ""group"": """",
    ""job"": ""sg-core"",
    ""instance"": ""localhost:3000"",
    ""value"": ""1""
  },
  {
    ""__name__"": ""up"",
    ""group"": ""production"",
    ""job"": ""prometheus"",
    ""instance"": ""localhost:9090"",
    ""value"": ""1""
  }
]

Change-Id: Id0dfabf52fe0a21194c498f4aefa1bff1d3eeea9
",git fetch https://review.opendev.org/openstack/python-observabilityclient refs/changes/74/913874/1 && git format-patch -1 --stdout FETCH_HEAD,['observabilityclient/utils/metric_utils.py'],1,ed042e2b16eda12805afff9c11d209eb59b7c1ae,," # get all label keys cols = list(set().union(*(d.labels.keys() for d in m))) cols.append(""value"") for metric in m: row = [""""] * len(cols) for key, value in metric.labels.items(): row[cols.index(key)] = value row[cols.index(""value"")] = metric.value"," cols = [] first = True for metric in m: row = [] for key, value in metric.labels.items(): if first: cols.append(key) row.append(value) if first: cols.append(""value"") row.append(metric.value) first = False",6,10
openstack%2Fneutron~184474,openstack/neutron,master,Ifc95d5fd17ae8a13958d97796b1046f35bd7aca7,Add conntrackd support to HA routers in L3 agent,ABANDONED,2015-05-20 12:52:39.000000000,2024-04-05 10:58:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15894}]","[{'number': 1, 'created': '2015-05-20 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fe2c2bc9429abf50ce28baa023a6c2699e0f70a', 'message': 'Add conntrackd support to HA routers in L3 agent\n\nThere is no TCP session releated action will be taken by keepalived\nduring HA router failover now. So open TCP session are discarded during\nHA router failover. This patch add conntrackd support to enable TCP\nsession replication.\n\nAn example about using conntrackd with keepalived can be found here:\nhttp://backreference.org/2013/04/03/firewall-ha-with-conntrackd-and-keepalived\n\nChange-Id: Ifc95d5fd17ae8a13958d97796b1046f35bd7aca7\nCloses-Bug: #1365438\n'}, {'number': 2, 'created': '2015-05-20 14:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11780b16c93fa8c5f5e6969269092b58326ff04d', 'message': 'Add conntrackd support to HA routers in L3 agent\n\nThere is no TCP session releated action will be taken by keepalived\nduring HA router failover now. So open TCP session are discarded during\nHA router failover. This patch add conntrackd support to enable TCP\nsession replication.\n\nAn example about using conntrackd with keepalived can be found here:\nhttp://backreference.org/2013/04/03/firewall-ha-with-conntrackd-and-keepalived\n\nChange-Id: Ifc95d5fd17ae8a13958d97796b1046f35bd7aca7\nCloses-Bug: #1365438\n'}, {'number': 3, 'created': '2015-05-20 15:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5baf7b496bcba61fd4f12cc7b87d54f31aa30ff', 'message': 'Add conntrackd support to HA routers in L3 agent\n\nThere is no TCP session releated action will be taken by keepalived\nduring HA router failover now. So open TCP session are discarded during\nHA router failover. This patch add conntrackd support to enable TCP\nsession replication.\n\nAn example about using conntrackd with keepalived can be found here:\nhttp://backreference.org/2013/04/03/firewall-ha-with-conntrackd-and-keepalived\n\nChange-Id: Ifc95d5fd17ae8a13958d97796b1046f35bd7aca7\nCloses-Bug: #1365438\n'}, {'number': 4, 'created': '2015-05-20 16:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/798b6ed5c1e7fb506ca56e633ed82782d46606b0', 'message': 'Add conntrackd support to HA routers in L3 agent\n\nThere is no TCP session releated action will be taken by keepalived\nduring HA router failover now. So open TCP session are discarded during\nHA router failover. This patch add conntrackd support to enable TCP\nsession replication.\n\nAn example about using conntrackd with keepalived can be found here:\nhttp://backreference.org/2013/04/03/firewall-ha-with-conntrackd-and-keepalived\n\nChange-Id: Ifc95d5fd17ae8a13958d97796b1046f35bd7aca7\nCloses-Bug: #1365438\n'}, {'number': 5, 'created': '2015-05-21 02:19:00.000000000', 'files': ['neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/l3/ha_router.py', 'neutron/agent/linux/external_process.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/agent/linux/utils.py', 'neutron/agent/l3/ha.py', 'neutron/tests/unit/agent/linux/test_conntrackd.py', 'etc/neutron/rootwrap.d/l3.filters', 'neutron/agent/linux/conntrackd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d54d047354ef73a3ff82b5fdae293ae2eb4af54', 'message': 'Add conntrackd support to HA routers in L3 agent\n\nThere is no TCP session releated action will be taken by keepalived\nduring HA router failover now. So open TCP session are discarded during\nHA router failover. This patch add conntrackd support to enable TCP\nsession replication.\n\nAn example about using conntrackd with keepalived can be found here:\nhttp://backreference.org/2013/04/03/firewall-ha-with-conntrackd-and-keepalived\n\nChange-Id: Ifc95d5fd17ae8a13958d97796b1046f35bd7aca7\nCloses-Bug: #1365438\n'}]",1,184474,0d54d047354ef73a3ff82b5fdae293ae2eb4af54,119,27,5,15182,,,0,"Add conntrackd support to HA routers in L3 agent

There is no TCP session releated action will be taken by keepalived
during HA router failover now. So open TCP session are discarded during
HA router failover. This patch add conntrackd support to enable TCP
session replication.

An example about using conntrackd with keepalived can be found here:
http://backreference.org/2013/04/03/firewall-ha-with-conntrackd-and-keepalived

Change-Id: Ifc95d5fd17ae8a13958d97796b1046f35bd7aca7
Closes-Bug: #1365438
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/184474/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/l3/ha_router.py', 'neutron/agent/linux/external_process.py', 'neutron/agent/linux/keepalived.py', 'neutron/agent/linux/utils.py', 'neutron/agent/l3/ha.py', 'neutron/tests/unit/agent/linux/test_conntrackd.py', 'etc/neutron/rootwrap.d/l3.filters', 'neutron/agent/linux/conntrackd.py']",10,8fe2c2bc9429abf50ce28baa023a6c2699e0f70a,bug/1365438,"# Copyright (c) 2015 UnitedStack, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc import errno import os import stat from oslo_config import cfg from oslo_log import log as logging import six from neutron.agent.linux import external_process from neutron.agent.linux import utils CONNTRACKD_SERVICE_NAME = 'conntrackd' LOG = logging.getLogger(__name__) @six.add_metaclass(abc.ABCMeta) class ConfigBase(object): @abc.abstractmethod def build_config(self): """"""Build config file content."""""" pass class ConntrackdUnix(ConfigBase): def __init__(self, path, backlog): self.path = path self.backlog = backlog def build_config(self): config = [' UNIX {', ' Path %s' % self.path, ' Backlog %d' % self.backlog, ' }'] return config class ConntrackdFilter(ConfigBase): def __init__(self, protocol_accept, address_ignore): self.protocol_accept = protocol_accept self.address_ignore = address_ignore def build_config(self): config = [' Filter {', ' Protocol Accept {', ' %s' % self.protocol_accept, ' }', ' Address Ignore {', ' %s' % self.address_ignore, ' }', ' }'] return config class ConntrackdGeneral(ConfigBase): def __init__(self, hash_size, hash_limit, syslog, lock_file, unix, socket_buffer_size, socket_buffer_size_max_grown, filter): self.hash_size = hash_size self.hash_limit = hash_limit self.syslog = syslog self.lock_file = lock_file self.unix = unix self.socket_buffer_size = socket_buffer_size self.socket_buffer_size_max_grown = socket_buffer_size_max_grown self.filter = filter def build_config(self): config = ['General {', ' HashSize %d' % self.hash_size, ' HashLimit %d' % self.hash_limit, ' Syslog %s' % self.syslog, ' LockFile %s' % self.lock_file] config.extend(self.unix.build_config()) config.append(' SocketBufferSize %d' % self.socket_buffer_size) config.append( ' SocketBufferSizeMaxGrown %d' % self.socket_buffer_size_max_grown) config.extend(self.filter.build_config()) config.append('}') return config class ConntrackdMode(ConfigBase): def __init__(self, mode): self.mode = mode def build_config(self): config = [' Mode %s{' % self.mode, ' }'] return config class ConntrackdTransport(ConfigBase): def __init__(self, transport, default, ipv4_address, ipv4_interface, group, interface, snd_socket_buffer, rcv_socket_buffer, checksum): self.transport = transport self.default = default self.ipv4_address = ipv4_address self.ipv4_interface = ipv4_interface self.group = group self.interface = interface self.snd_socket_buffer = snd_socket_buffer self.rcv_socket_buffer = rcv_socket_buffer self.checksum = checksum def build_config(self): config = [' %s %s{' % (self.transport, self.default), ' IPv4_address %s' % self.ipv4_address, ' IPv4_interface %s' % self.ipv4_interface, ' Group %d' % self.group, ' Interface %s' % self.interface, ' SndSocketBuffer %d' % self.snd_socket_buffer, ' RcvSocketBuffer %d' % self.rcv_socket_buffer, ' Checksum %s' % self.checksum, ' }'] return config class ConntrackdSync(ConfigBase): def __init__(self, mode, transport): self.mode = mode self.transport = transport def build_config(self): config = ['Sync {'] config.extend(self.mode.build_config()) config.extend(self.transport.build_config()) config.append('}') return config class ConntrackdConfig(ConfigBase): def __init__(self, general_config, sync_config): self.general_config = general_config self.sync_config = sync_config def build_config(self): config = [] config.extend(self.general_config.build_config()) config.extend(self.sync_config.build_config()) return config class ConntrackdManager(object): """"""Wrapper for conntrackd. This wrapper permits to write conntrackd config file, to start/restart conntrackd process. """""" def __init__(self, resource_id, config, process_monitor, conf_path='/tmp', namespace=None): self.resource_id = resource_id self.config = config self.process_monitor = process_monitor self.conf_path = conf_path self.namespace = namespace def build_ha_script(self): ha_script_template = """"""#!/bin/sh # # (C) 2006-2011 by Pablo Neira Ayuso <pablo@netfilter.org> # # This program is free software; you can redistribute it and/or modify # it under the terms of the GNU General Public License as published by # the Free Software Foundation; either version 2 of the License, or # (at your option) any later version. # # Description: # # This is the script for primary-backup setups for keepalived # (http://www.keepalived.org). You may adapt it to make it work with other # high-availability managers. # # Do not forget to include the required modifications to your keepalived.conf # file to invoke this script during keepalived's state transitions. # # Contributions to improve this script are welcome :). # CONNTRACKD_BIN=/usr/sbin/conntrackd CONNTRACKD_LOCK=%(lock)s CONNTRACKD_CONFIG=%(config)s case ""$1"" in primary) # # commit the external cache into the kernel table # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -c if [ $? -eq 1 ] then logger ""ERROR: failed to invoke conntrackd -c"" fi # # flush the internal and the external caches # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -f if [ $? -eq 1 ] then logger ""ERROR: failed to invoke conntrackd -f"" fi # # resynchronize my internal cache to the kernel table # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -R if [ $? -eq 1 ] then logger ""ERROR: failed to invoke conntrackd -R"" fi # # send a bulk update to backups # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -B if [ $? -eq 1 ] then logger ""ERROR: failed to invoke conntrackd -B"" fi ;; backup) # # is conntrackd running? request some statistics to check it # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -s if [ $? -eq 1 ] then # # something's wrong, do we have a lock file? # if [ -f $CONNTRACKD_LOCK ] then logger ""WARNING: conntrackd was not cleanly stopped."" logger ""If you suspect that it has crashed:"" logger ""1) Enable coredumps"" logger ""2) Try to reproduce the problem"" logger ""3) Post the coredump to netfilter-devel@vger.kernel.org"" rm -f $CONNTRACKD_LOCK fi $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -d if [ $? -eq 1 ] then logger ""ERROR: cannot launch conntrackd"" exit 1 fi fi # # shorten kernel conntrack timers to remove the zombie entries. # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -t if [ $? -eq 1 ] then logger ""ERROR: failed to invoke conntrackd -t"" fi # # request resynchronization with master firewall replica (if any) # Note: this does nothing in the alarm approach. # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -n if [ $? -eq 1 ] then logger ""ERROR: failed to invoke conntrackd -n"" fi ;; fault) # # shorten kernel conntrack timers to remove the zombie entries. # $CONNTRACKD_BIN -C $CONNTRACKD_CONFIG -t if [ $? -eq 1 ] then logger ""ERROR: failed to invoke conntrackd -t"" fi ;; *) logger ""ERROR: unknown state transition"" echo ""Usage: primary-backup.sh {primary|backup|fault}"" exit 1 ;; esac exit 0 """""" ha_script_content = ha_script_template % dict( lock=self.config.general_config.lock_file, config=self.get_full_config_file_path('conntrackd.conf')) ha_script_path = self.get_ha_script_path() utils.replace_file(ha_script_path, ha_script_content) os.chmod(ha_script_path, stat.S_IRUSR | stat.S_IWUSR | stat.S_IXUSR) def get_ha_script_path(self, ensure_conf_dir=True): conf_dir = self.get_conf_dir() if ensure_conf_dir: utils.ensure_dir(conf_dir) return os.path.join(conf_dir, 'primary-backup.sh') def _get_pid_file_path(self): return self.get_full_config_file_path('conntrackd.pid') def _create_pid_file(self): config_path = self.get_full_config_file_path('conntrackd.conf') pid_file = self._get_pid_file_path() cmd = 'conntrackd -d -C %s' % config_path pids = utils.find_pids_by_cmd(cmd) if pids: pid = pids[0] utils.replace_file(pid_file, pid) else: raise RuntimeError('Conntrackd process can\' be find in system.') def get_conf_on_disk(self): config_path = self.get_full_config_file_path('conntrackd.conf') try: with open(config_path) as conf: return conf.read() except (OSError, IOError) as e: if e.errno != errno.ENOENT: raise def spawn(self): config_path = self._output_config_file() self.build_ha_script() def callback(pidfile): cmd = ['conntrackd', '-d', '-C', config_path] return cmd def pre_cmd_callback(): # conntrack.lock & conntrackd.ctl must be removed before # start a new conntrackd. lock_file = self.config.general_config.lock_file ctl_file = self.config.general_config.unix.path cmd = ['rm', '-f', lock_file] utils.execute(cmd, run_as_root=True, check_exit_code=False) cmd = ['rm', '-f', ctl_file] utils.execute(cmd, run_as_root=True, check_exit_code=False) def post_cmf_callback(): self._create_pid_file() pm = self.get_process(callback=callback, pre_cmd_callback=pre_cmd_callback, post_cmd_callback=post_cmf_callback) pm.enable(reload_cfg=False) self._create_pid_file() self.process_monitor.register(uuid=self.resource_id, service_name=CONNTRACKD_SERVICE_NAME, monitored_process=pm) LOG.debug('Conntrackd spawned with config %s', self.conf_path) def get_process(self, callback=None, pre_cmd_callback=None, post_cmd_callback=None): return external_process.ProcessManager( cfg.CONF, self.resource_id, self.namespace, default_cmd_callback=callback, default_pre_cmd_callback=pre_cmd_callback, default_post_cmd_callback=post_cmd_callback, pid_file=self._get_pid_file_path()) def disable(self): self.process_monitor.unregister(uuid=self.resource_id, service_name=CONNTRACKD_SERVICE_NAME) config_path = self.get_full_config_file_path('conntrackd.conf') cmd = ['conntrackd', '-C', config_path, '-k'] utils.execute(cmd, run_as_root=True) def _output_config_file(self): config_str = self.get_config_str() config_path = self.get_full_config_file_path('conntrackd.conf') utils.replace_file(config_path, config_str) return config_path def get_full_config_file_path(self, filename, ensure_conf_dir=True): conf_dir = self.get_conf_dir() if ensure_conf_dir: utils.ensure_dir(conf_dir) return os.path.join(conf_dir, filename) def get_conf_dir(self): confs_dir = os.path.abspath(os.path.normpath(self.conf_path)) conf_dir = os.path.join(confs_dir, self.resource_id) return conf_dir def get_config_str(self): return '\n'.join(self.build_config()) def build_config(self): return self.config.build_config() ",,924,24
openstack%2Fskyline-apiserver~913438,openstack/skyline-apiserver,master,I5e9da608e5b277110b77ca5e6378855046798cf8,zuul: Use default python3 job template,MERGED,2024-03-15 17:45:07.000000000,2024-04-05 10:40:10.000000000,2024-04-05 10:38:01.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2024-03-15 17:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/56fd6df43892c1272ecff2e221c59d168be1d429', 'message': 'zuul: Add default python3 template\n\nSkyline should be able to use the default template\nopenstack-python3-jobs which will be updated each cycle according to the\nPTI.\n\nChange-Id: I5e9da608e5b277110b77ca5e6378855046798cf8\n'}, {'number': 2, 'created': '2024-04-02 07:14:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ef9de18d343f2cccba26304ca0ff9a29766d5c3b', 'message': ""zuul: Use default python3 job template\n\nSkyline should use the default template openstack-python3-jobs which\nwill be updated each cycle according to the PTI.\n\nDrop the py38 jobs, the current tested python versions are 3.9 and 3.11.\nAlso drop the irrelevant-files lists, the unit tests should run fast\nenough that this doesn't really matter and this way we don't have to\nupdate the config once new python versions get tested.\n\nChange-Id: I5e9da608e5b277110b77ca5e6378855046798cf8\n""}]",2,913438,ef9de18d343f2cccba26304ca0ff9a29766d5c3b,12,3,2,13252,,,0,"zuul: Use default python3 job template

Skyline should use the default template openstack-python3-jobs which
will be updated each cycle according to the PTI.

Drop the py38 jobs, the current tested python versions are 3.9 and 3.11.
Also drop the irrelevant-files lists, the unit tests should run fast
enough that this doesn't really matter and this way we don't have to
update the config once new python versions get tested.

Change-Id: I5e9da608e5b277110b77ca5e6378855046798cf8
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/38/913438/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,56fd6df43892c1272ecff2e221c59d168be1d429,add-standard-jobs, - openstack-python3-jobs,,1,0
openstack%2Fcharm-ceph-radosgw~904554,openstack/charm-ceph-radosgw,master,I295baab496d1eb95daaa8073d4119d01b90d0b38,Add a config option for virtual hosted bucket,MERGED,2024-01-03 07:30:20.000000000,2024-04-05 10:23:09.000000000,2024-04-05 10:23:09.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}, {'_account_id': 34952}]","[{'number': 1, 'created': '2024-01-03 07:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/8189ef5f543356deb51c6adc30e5056969f24af9', 'message': 'Add a config option for virtual hosted bucket\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 2, 'created': '2024-01-03 07:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d1586e5d2349f2da1f3e15ed8891bbf0c5c76c6b', 'message': 'Add a config option for virtual hosted bucket\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 3, 'created': '2024-01-04 06:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/71c633b09f897d245779aa47e0854b31b7a66760', 'message': 'Add a config option for virtual hosted bucket\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 4, 'created': '2024-02-29 02:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c4c2c2c9d197f12f167fcd1066e1ab11d195c4b9', 'message': 'Add a config option for virtual hosted bucket\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 5, 'created': '2024-02-29 03:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c19f0a7876f6370634c0a132f3d74d848ffd7c41', 'message': 'Add a config option for virtual hosted bucket\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 6, 'created': '2024-02-29 08:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/25eb30a796f436b5b72786def65720a73e10a112', 'message': 'Add a config option for virtual hosted bucket\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 7, 'created': '2024-04-02 06:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d6e55b37b8dc3a275ef74c07da19d65a595dcd62', 'message': 'Add a config option for virtual hosted bucket\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 8, 'created': '2024-04-03 04:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/31e2d871f41a848826db75120833c67feb15aa0c', 'message': 'Add a config option for virtual hosted bucket\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 9, 'created': '2024-04-04 12:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e5671ccbd2a58f7df110a5fb43631f0ed21a6bd7', 'message': 'Add a config option for virtual hosted bucket\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}, {'number': 10, 'created': '2024-04-05 05:19:53.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', 'unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml', 'templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/6f2a7540e8102fc7575731e7e059695cd1c28a76', 'message': 'Add a config option for virtual hosted bucket\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187\n\nCloses-Bug: #1871745\nChange-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38\n'}]",21,904554,6f2a7540e8102fc7575731e7e059695cd1c28a76,46,5,10,7862,,,0,"Add a config option for virtual hosted bucket

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1187

Closes-Bug: #1871745
Change-Id: I295baab496d1eb95daaa8073d4119d01b90d0b38
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/54/904554/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml', 'templates/openstack_https_frontend.conf']",6,8189ef5f543356deb51c6adc30e5056969f24af9,radosgw-virtual-hosted-bucket,{% if virtual_hosted_bucket_enabled and address != endpoint %} ServerAlias *.{{ endpoint }} {% endif %},,31,1
openstack%2Frequirements~909926,openstack/requirements,master,I8850519c3ff886f1fee03b61b76cc10a9dc0e1e7,Bump dnspython to latest version,ABANDONED,2024-02-22 19:17:30.000000000,2024-04-05 10:09:47.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-22 19:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/839312cd788c0be28d18f2f4cda7bfde7397169b', 'message': 'Bump dnspython to latest version\n\nChange-Id: I8850519c3ff886f1fee03b61b76cc10a9dc0e1e7\n'}, {'number': 2, 'created': '2024-02-23 12:16:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/55536172e3758110219b43e58b9bca67e2b61d44', 'message': 'Bump dnspython to latest version\n\nChange-Id: I8850519c3ff886f1fee03b61b76cc10a9dc0e1e7\n'}]",4,909926,55536172e3758110219b43e58b9bca67e2b61d44,12,2,2,13252,,,0,"Bump dnspython to latest version

Change-Id: I8850519c3ff886f1fee03b61b76cc10a9dc0e1e7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/909926/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,839312cd788c0be28d18f2f4cda7bfde7397169b,downgrade-dnspython,dnspython===2.6.1,dnspython===2.5.0,1,1
openstack%2Frequirements~909925,openstack/requirements,master,I4c774ac79bb5d9792c846d71c08468970c930c3e,Bump eventlet to latest version,ABANDONED,2024-02-22 19:17:30.000000000,2024-04-05 10:08:32.000000000,,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-22 19:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4e7b7b8283c99488b48d38b8ea498267dd7b7e6d', 'message': 'Bump eventlet to latest version\n\nChange-Id: I4c774ac79bb5d9792c846d71c08468970c930c3e\n'}, {'number': 2, 'created': '2024-02-23 12:15:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9655292bc14de1e06216e3b09b9dbf4f22fd8516', 'message': 'Bump eventlet to latest version\n\nChange-Id: I4c774ac79bb5d9792c846d71c08468970c930c3e\n'}]",5,909925,9655292bc14de1e06216e3b09b9dbf4f22fd8516,15,3,2,13252,,,0,"Bump eventlet to latest version

Change-Id: I4c774ac79bb5d9792c846d71c08468970c930c3e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/909925/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4e7b7b8283c99488b48d38b8ea498267dd7b7e6d,downgrade-dnspython,eventlet===0.35.2,eventlet===0.35.1,1,1
openstack%2Frequirements~914256,openstack/requirements,master,I2add78de0e3d2f439964afa0d0c9d854a52b5f7f,bump eventlet to the latest version,MERGED,2024-03-26 14:45:30.000000000,2024-04-05 09:36:48.000000000,2024-04-05 09:31:44.000000000,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 14:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fd50f84fd35961e7b3d25f180c64ac92a2d0bb44', 'message': 'bump eventlet to the latest version\n\nIt will allow us to benefit from several recent fixes\nrelated to the new asyncio hub.\n\nWe started to implement some devstack integrations\nwith the new eventlet asyncio hub [1], so it is worth\nusing a version that contains useful fixes.\n\n[1] https://review.opendev.org/c/openstack/devstack/+/914108\n\nChange-Id: I2add78de0e3d2f439964afa0d0c9d854a52b5f7f\n'}, {'number': 2, 'created': '2024-03-29 16:22:07.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e293ec762066be0e6f23c74b9c0304bde42c8b5b', 'message': 'bump eventlet to the latest version\n\nIt will allow us to benefit from several recent fixes\nrelated to the new asyncio hub.\n\nWe started to implement some devstack integrations\nwith the new eventlet asyncio hub [1], so it is worth\nusing a version that contains useful fixes.\nSee https://review.opendev.org/c/openstack/devstack/+/914108\n\nAlso this patch propose to blacklist version 0.36.0 which is\nbuggy version in some wsgi context. 0.36.1 fix that wsgi problem.\nFor further details see:\n\n- https://github.com/eventlet/eventlet/issues/946\n- https://github.com/eventlet/eventlet/pull/949\n\nChange-Id: I2add78de0e3d2f439964afa0d0c9d854a52b5f7f\n'}]",1,914256,e293ec762066be0e6f23c74b9c0304bde42c8b5b,13,4,2,28522,,,0,"bump eventlet to the latest version

It will allow us to benefit from several recent fixes
related to the new asyncio hub.

We started to implement some devstack integrations
with the new eventlet asyncio hub [1], so it is worth
using a version that contains useful fixes.
See https://review.opendev.org/c/openstack/devstack/+/914108

Also this patch propose to blacklist version 0.36.0 which is
buggy version in some wsgi context. 0.36.1 fix that wsgi problem.
For further details see:

- https://github.com/eventlet/eventlet/issues/946
- https://github.com/eventlet/eventlet/pull/949

Change-Id: I2add78de0e3d2f439964afa0d0c9d854a52b5f7f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/914256/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fd50f84fd35961e7b3d25f180c64ac92a2d0bb44,,eventlet===0.36.0,eventlet===0.35.1,1,1
openstack%2Fansible-collections-openstack~912715,openstack/ansible-collections-openstack,master,I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c,add an option to use only IPv4 only for ansible_host and ansible_ssh_host,NEW,2024-03-13 08:18:14.000000000,2024-04-05 09:35:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2024-03-13 08:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d62f8ebf016a63050501c626d64cdd223e563ad0', 'message': 'Force IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, I added a new option called ""ipv4_only"",\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 2, 'created': '2024-03-13 08:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0aefd207a676c89a4c3dd986da530eb660c38f3e', 'message': 'Force IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, I added a new option called ""ipv4_only"",\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 3, 'created': '2024-03-13 08:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e65e4e09610ad6e41d836dae7da5898230cccae7', 'message': 'Force IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, I added a new option called ""ipv4_only"",\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 4, 'created': '2024-03-13 08:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e4c14226ff14de82d3749800b13f99791d16e447', 'message': 'Force IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, I added a new option called ""ipv4_only"",\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 5, 'created': '2024-03-13 08:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b839ec23b44ae676a77a7c18731b2ab0fdfa0da5', 'message': 'Force IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, I added a new option called ""ipv4_only"",\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 6, 'created': '2024-03-13 13:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a973a7d87707bfcc9581f7be162e6f4d59f43c36', 'message': 'Force IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, I added a new option called ""ipv4_only"",\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 7, 'created': '2024-03-14 07:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c95d60d9bbb076724c8bcc651375c878bf824b4c', 'message': 'add an option to use only IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, I added a new option called ""ipv4_only"",\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 8, 'created': '2024-03-14 07:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9d6602361bc182a0ad396ebd65c02479901117d0', 'message': 'add an option to use only IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, a new option called ""only_ipv4"" was added,\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 9, 'created': '2024-03-14 07:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fe6563861f521dc0aa2839bfabd9e062d75e83b0', 'message': 'add an option to use only IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, a new option called ""only_ipv4"" was added,\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}, {'number': 10, 'created': '2024-04-03 12:13:33.000000000', 'files': ['plugins/inventory/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c09b6184adb1a699491633cf0393574f7b4f0ac8', 'message': 'add an option to use only IPv4 only for ansible_host and ansible_ssh_host\n\nBy default the openstack inventory fetches the first fixed ip\naddress for ""ansible_host"" and ""ansible_ssh_host"".\nDue to the random sorting of addresses by OpenStack, this can either be\na ipv4 or ipv6 address, this is not desirable in some legacy setups\nwhere Ansible runs in a ipv4 only setup,\nbut OpenStack is already ipv6 enabled.\n\nTo prevent this, a new option called ""only_ipv4"" was added,\nwhich forces the inventory plugin to use only fixed ipv4 addresses.\n\nCloses-Bug: #2051249\nChange-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c\n'}]",51,912715,c09b6184adb1a699491633cf0393574f7b4f0ac8,20,2,10,36886,,,0,"add an option to use only IPv4 only for ansible_host and ansible_ssh_host

By default the openstack inventory fetches the first fixed ip
address for ""ansible_host"" and ""ansible_ssh_host"".
Due to the random sorting of addresses by OpenStack, this can either be
a ipv4 or ipv6 address, this is not desirable in some legacy setups
where Ansible runs in a ipv4 only setup,
but OpenStack is already ipv6 enabled.

To prevent this, a new option called ""only_ipv4"" was added,
which forces the inventory plugin to use only fixed ipv4 addresses.

Closes-Bug: #2051249
Change-Id: I3aa9868c9299705d4b0dcbf9b9cb561c0855c11c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/15/912715/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/inventory/openstack.py'],1,d62f8ebf016a63050501c626d64cdd223e563ad0,enable-ipv4-only-ssh_hosts," ipv4_only: description: - Use only ipv4 addresses for ansible_host and ansible_ssh_host. - Using I(ipv4_only) helps when running Ansible in a ipv4 only setup. type: bool default: false if self.get_option('ipv4_only'): fixed_ip = next( (address['addr'] for address in addresses if (address['OS-EXT-IPS:type'] == 'fixed' and address['version'] == 4)), None) else: fixed_ip = next( (address['addr'] for address in addresses if address['OS-EXT-IPS:type'] == 'fixed'), None)"," fixed_ip = next( (address['addr'] for address in addresses if address['OS-EXT-IPS:type'] == 'fixed'), None)",18,4
openstack%2Fkolla-ansible~903969,openstack/kolla-ansible,master,I06d32f8f4921b2025fd176be1198dc0cbcfa5f3b,CI: Drop masakari jobs from project.yaml,MERGED,2023-12-19 12:07:43.000000000,2024-04-05 08:27:37.000000000,2023-12-19 13:00:04.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-12-19 12:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c662d947cf08fb987645a695a09fdced6126d8c6', 'message': 'CI: Drop masakari jobs from project.yml\n\nThose have been failing for long time and Masakari is deprecated\nin Kolla (not mentioning the state of the project itself).\n\nChange-Id: I06d32f8f4921b2025fd176be1198dc0cbcfa5f3b\n'}, {'number': 2, 'created': '2023-12-19 12:11:54.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3c3ea61eb3a02a280c6fd61f9aaa490f596b1f0', 'message': 'CI: Drop masakari jobs from project.yaml\n\nThose have been failing for long time and Masakari is deprecated\nin Kolla (not mentioning the state of the project itself).\n\nChange-Id: I06d32f8f4921b2025fd176be1198dc0cbcfa5f3b\n'}]",0,903969,f3c3ea61eb3a02a280c6fd61f9aaa490f596b1f0,10,2,2,22629,,,0,"CI: Drop masakari jobs from project.yaml

Those have been failing for long time and Masakari is deprecated
in Kolla (not mentioning the state of the project itself).

Change-Id: I06d32f8f4921b2025fd176be1198dc0cbcfa5f3b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/903969/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c662d947cf08fb987645a695a09fdced6126d8c6,,, - kolla-ansible-rocky9-masakari - kolla-ansible-ubuntu-masakari,0,2
openstack%2Freleases~913998,openstack/releases,master,Id9d444592864071cab5c47cd65304ee509c4d83b,Add missing release notes for former releases,MERGED,2024-03-22 16:45:42.000000000,2024-04-05 08:10:00.000000000,2024-04-05 07:37:42.000000000,"[{'_account_id': 308}, {'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 7166}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8064}, {'_account_id': 8846}, {'_account_id': 9236}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 10342}, {'_account_id': 11628}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13629}, {'_account_id': 14250}, {'_account_id': 14394}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 15519}, {'_account_id': 16207}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 23851}, {'_account_id': 25701}, {'_account_id': 26285}, {'_account_id': 26458}, {'_account_id': 27615}, {'_account_id': 28619}, {'_account_id': 29244}, {'_account_id': 29423}, {'_account_id': 30623}, {'_account_id': 31245}, {'_account_id': 31412}, {'_account_id': 34860}, {'_account_id': 35600}]","[{'number': 1, 'created': '2024-03-22 16:45:42.000000000', 'files': ['deliverables/bobcat/puppet-designate.yaml', 'deliverables/bobcat/python-octaviaclient.yaml', 'deliverables/bobcat/cyborg.yaml', 'deliverables/bobcat/puppet-ovn.yaml', 'deliverables/bobcat/puppet-murano.yaml', 'deliverables/bobcat/barbican.yaml', 'deliverables/bobcat/masakari-monitors.yaml', 'deliverables/zed/ansible-collection-kolla.yaml', 'deliverables/bobcat/puppet-mistral.yaml', 'deliverables/bobcat/python-magnumclient.yaml', 'deliverables/bobcat/puppet-aodh.yaml', 'deliverables/bobcat/puppet-cinder.yaml', 'deliverables/bobcat/puppet-openstack_extras.yaml', 'deliverables/bobcat/puppet-vswitch.yaml', 'deliverables/bobcat/tap-as-a-service.yaml', 'deliverables/bobcat/puppet-ironic.yaml', 'deliverables/bobcat/puppet-horizon.yaml', 'deliverables/bobcat/puppet-nova.yaml', 'deliverables/bobcat/os-vif.yaml', 'deliverables/bobcat/python-keystoneclient.yaml', 'deliverables/bobcat/kolla-ansible.yaml', 'deliverables/bobcat/puppet-zaqar.yaml', 'deliverables/bobcat/keystone.yaml', 'deliverables/bobcat/keystonemiddleware.yaml', 'deliverables/bobcat/zaqar.yaml', 'deliverables/bobcat/puppet-swift.yaml', 'deliverables/bobcat/puppet-trove.yaml', 'deliverables/antelope/python-magnumclient.yaml', 'deliverables/bobcat/puppet-octavia.yaml', 'deliverables/bobcat/puppet-cloudkitty.yaml', 'deliverables/bobcat/kolla.yaml', 'deliverables/bobcat/trove-dashboard.yaml', 'deliverables/zed/keystonemiddleware.yaml', 'deliverables/bobcat/puppet-neutron.yaml', 'deliverables/bobcat/puppet-magnum.yaml', 'deliverables/bobcat/puppet-openstack_spec_helper.yaml', 'deliverables/bobcat/python-ironic-inspector-client.yaml', 'deliverables/bobcat/openstack-ansible.yaml', 'deliverables/bobcat/puppet-qdr.yaml', 'deliverables/bobcat/python-troveclient.yaml', 'deliverables/antelope/ansible-collection-kolla.yaml', 'deliverables/antelope/masakari-dashboard.yaml', 'deliverables/bobcat/puppet-manila.yaml', 'deliverables/zed/tap-as-a-service.yaml', 'deliverables/bobcat/oslo.policy.yaml', 'deliverables/antelope/sahara-plugin-ambari.yaml', 'deliverables/bobcat/puppet-placement.yaml', 'deliverables/bobcat/kayobe.yaml', 'deliverables/bobcat/puppet-ec2api.yaml', 'deliverables/bobcat/puppet-gnocchi.yaml', 'deliverables/bobcat/sahara-plugin-mapr.yaml', 'deliverables/bobcat/ansible-collection-kolla.yaml', 'deliverables/bobcat/puppet-tempest.yaml', 'deliverables/bobcat/python-blazarclient.yaml', 'deliverables/bobcat/cinderlib.yaml', 'deliverables/bobcat/puppet-vitrage.yaml', 'deliverables/zed/python-magnumclient.yaml', 'deliverables/bobcat/puppet-barbican.yaml', 'deliverables/bobcat/puppet-openstacklib.yaml', 'deliverables/antelope/mistral-lib.yaml', 'deliverables/bobcat/puppet-glance.yaml', 'deliverables/antelope/sahara-plugin-cdh.yaml', 'deliverables/bobcat/oslo.versionedobjects.yaml', 'deliverables/bobcat/puppet-ceilometer.yaml', 'deliverables/bobcat/puppet-oslo.yaml', 'deliverables/bobcat/puppet-heat.yaml', 'deliverables/bobcat/puppet-sahara.yaml', 'deliverables/bobcat/puppet-keystone.yaml', 'deliverables/bobcat/sahara-plugin-spark.yaml', 'deliverables/bobcat/puppet-watcher.yaml', 'deliverables/bobcat/python-tackerclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b12379aca8eb91030b530dd6f1147302a211738a', 'message': 'Add missing release notes for former releases\n\nChange-Id: Id9d444592864071cab5c47cd65304ee509c4d83b\n'}]",6,913998,b12379aca8eb91030b530dd6f1147302a211738a,22,41,1,17685,,,0,"Add missing release notes for former releases

Change-Id: Id9d444592864071cab5c47cd65304ee509c4d83b
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/913998/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/bobcat/puppet-designate.yaml', 'deliverables/bobcat/python-octaviaclient.yaml', 'deliverables/bobcat/cyborg.yaml', 'deliverables/bobcat/puppet-ovn.yaml', 'deliverables/bobcat/puppet-murano.yaml', 'deliverables/bobcat/barbican.yaml', 'deliverables/bobcat/masakari-monitors.yaml', 'deliverables/zed/ansible-collection-kolla.yaml', 'deliverables/bobcat/puppet-mistral.yaml', 'deliverables/bobcat/python-magnumclient.yaml', 'deliverables/bobcat/puppet-aodh.yaml', 'deliverables/bobcat/puppet-cinder.yaml', 'deliverables/bobcat/puppet-openstack_extras.yaml', 'deliverables/bobcat/puppet-vswitch.yaml', 'deliverables/bobcat/tap-as-a-service.yaml', 'deliverables/bobcat/puppet-ironic.yaml', 'deliverables/bobcat/puppet-horizon.yaml', 'deliverables/bobcat/puppet-nova.yaml', 'deliverables/bobcat/os-vif.yaml', 'deliverables/bobcat/python-keystoneclient.yaml', 'deliverables/bobcat/kolla-ansible.yaml', 'deliverables/bobcat/puppet-zaqar.yaml', 'deliverables/bobcat/keystone.yaml', 'deliverables/bobcat/keystonemiddleware.yaml', 'deliverables/bobcat/zaqar.yaml', 'deliverables/bobcat/puppet-swift.yaml', 'deliverables/bobcat/puppet-trove.yaml', 'deliverables/antelope/python-magnumclient.yaml', 'deliverables/bobcat/puppet-octavia.yaml', 'deliverables/bobcat/puppet-cloudkitty.yaml', 'deliverables/bobcat/kolla.yaml', 'deliverables/bobcat/trove-dashboard.yaml', 'deliverables/zed/keystonemiddleware.yaml', 'deliverables/bobcat/puppet-neutron.yaml', 'deliverables/bobcat/puppet-magnum.yaml', 'deliverables/bobcat/puppet-openstack_spec_helper.yaml', 'deliverables/bobcat/python-ironic-inspector-client.yaml', 'deliverables/bobcat/openstack-ansible.yaml', 'deliverables/bobcat/puppet-qdr.yaml', 'deliverables/bobcat/python-troveclient.yaml', 'deliverables/antelope/ansible-collection-kolla.yaml', 'deliverables/antelope/masakari-dashboard.yaml', 'deliverables/bobcat/puppet-manila.yaml', 'deliverables/zed/tap-as-a-service.yaml', 'deliverables/bobcat/oslo.policy.yaml', 'deliverables/antelope/sahara-plugin-ambari.yaml', 'deliverables/bobcat/puppet-placement.yaml', 'deliverables/bobcat/kayobe.yaml', 'deliverables/bobcat/puppet-ec2api.yaml', 'deliverables/bobcat/puppet-gnocchi.yaml', 'deliverables/bobcat/sahara-plugin-mapr.yaml', 'deliverables/bobcat/ansible-collection-kolla.yaml', 'deliverables/bobcat/puppet-tempest.yaml', 'deliverables/bobcat/python-blazarclient.yaml', 'deliverables/bobcat/cinderlib.yaml', 'deliverables/bobcat/puppet-vitrage.yaml', 'deliverables/zed/python-magnumclient.yaml', 'deliverables/bobcat/puppet-barbican.yaml', 'deliverables/bobcat/puppet-openstacklib.yaml', 'deliverables/antelope/mistral-lib.yaml', 'deliverables/bobcat/puppet-glance.yaml', 'deliverables/antelope/sahara-plugin-cdh.yaml', 'deliverables/bobcat/oslo.versionedobjects.yaml', 'deliverables/bobcat/puppet-ceilometer.yaml', 'deliverables/bobcat/puppet-oslo.yaml', 'deliverables/bobcat/puppet-heat.yaml', 'deliverables/bobcat/puppet-sahara.yaml', 'deliverables/bobcat/puppet-keystone.yaml', 'deliverables/bobcat/sahara-plugin-spark.yaml', 'deliverables/bobcat/puppet-watcher.yaml', 'deliverables/bobcat/python-tackerclient.yaml']",71,b12379aca8eb91030b530dd6f1147302a211738a,missing-reno-links,release-notes: https://docs.openstack.org/releasenotes/python-tackerclient/2023.2.html,,104,0
openstack%2Frequirements~914851,openstack/requirements,stable/2023.2,I50b997d76e62a4e513c65f9b3be79380e9d2a261,update constraint for oslo.log to new release 5.3.1,MERGED,2024-04-02 07:52:31.000000000,2024-04-05 05:41:57.000000000,2024-04-05 05:41:57.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 07:52:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8a1f278a535c2bf665521fa93f40177ded111750', 'message': 'update constraint for oslo.log to new release 5.3.1\n\nmeta: version: 5.3.1\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: stable/2023.2\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Takashi Kajinami <kajinamit@oss.nttdata.com>\nmeta: release:Commit: Takashi Kajinami <kajinamit@oss.nttdata.com>\nmeta: release:Change-Id: I1f6a3f080a56166688f4efbfda0a34eae8305262\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I50b997d76e62a4e513c65f9b3be79380e9d2a261\n'}]",0,914851,8a1f278a535c2bf665521fa93f40177ded111750,7,3,1,11131,,,0,"update constraint for oslo.log to new release 5.3.1

meta: version: 5.3.1
meta: diff-start: -
meta: series: bobcat
meta: branch: stable/2023.2
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Takashi Kajinami <kajinamit@oss.nttdata.com>
meta: release:Commit: Takashi Kajinami <kajinamit@oss.nttdata.com>
meta: release:Change-Id: I1f6a3f080a56166688f4efbfda0a34eae8305262
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I50b997d76e62a4e513c65f9b3be79380e9d2a261
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/914851/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8a1f278a535c2bf665521fa93f40177ded111750,new-release,oslo.log===5.3.1,oslo.log===5.3.0,1,1
openstack%2Fswift~915077,openstack/swift,master,Ibb1a64ef0bfdebf06d26636cdb6ea191c10705f7,lower-constraints: update to mock 3.0,MERGED,2024-04-04 15:37:28.000000000,2024-04-05 05:34:26.000000000,2024-04-05 05:29:06.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 15:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fdd5b590a07ba11bb5aa1bd8978780f780146b17', 'message': 'lower-constraints: update to mock 3.0\n\nThe main motivation here is that mock.call becomes a namedtuple and you\ncan say `m.call_args_list[0].args` instead of `m.call_args_list[0][0]`\n\nChange-Id: Ibb1a64ef0bfdebf06d26636cdb6ea191c10705f7\n'}, {'number': 2, 'created': '2024-04-04 21:54:48.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/6387949a540e871e19062de8131503a8ac2ceef7', 'message': 'lower-constraints: update to mock 3.0\n\nThe main motivation here is that mock.call becomes a namedtuple and you\ncan say `m.call_args_list[0].args` instead of `m.call_args_list[0][0]`\n\nChange-Id: Ibb1a64ef0bfdebf06d26636cdb6ea191c10705f7\n'}]",1,915077,6387949a540e871e19062de8131503a8ac2ceef7,11,2,2,1179,,,0,"lower-constraints: update to mock 3.0

The main motivation here is that mock.call becomes a namedtuple and you
can say `m.call_args_list[0].args` instead of `m.call_args_list[0][0]`

Change-Id: Ibb1a64ef0bfdebf06d26636cdb6ea191c10705f7
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/915077/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,fdd5b590a07ba11bb5aa1bd8978780f780146b17,,mock==3.0,mock==2.0,1,1
openstack%2Fpuppet-cinder~915038,openstack/puppet-cinder,master,I0187a178bbfb663b5369552b15f0a7cdfeb8f493,PowerFlex: Support new API timeout options,MERGED,2024-04-04 02:17:21.000000000,2024-04-05 03:40:00.000000000,2024-04-05 03:39:00.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 02:17:21.000000000', 'files': ['manifests/backend/dellemc_powerflex.pp', 'releasenotes/notes/powerflex-timeout-options-b1f353bdb570d825.yaml', 'spec/defines/cinder_backend_dellemc_powerflex_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/edca342afb75853fc058aacc131428857c8f5f09', 'message': 'PowerFlex: Support new API timeout options\n\nDepends-on: https://review.opendev.org/909563\nChange-Id: I0187a178bbfb663b5369552b15f0a7cdfeb8f493\n'}]",1,915038,edca342afb75853fc058aacc131428857c8f5f09,12,3,1,9816,,,0,"PowerFlex: Support new API timeout options

Depends-on: https://review.opendev.org/909563
Change-Id: I0187a178bbfb663b5369552b15f0a7cdfeb8f493
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/38/915038/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_powerflex.pp', 'releasenotes/notes/powerflex-timeout-options-b1f353bdb570d825.yaml', 'spec/defines/cinder_backend_dellemc_powerflex_spec.rb']",3,edca342afb75853fc058aacc131428857c8f5f09,," :rest_api_connect_timeout => 30, :rest_api_read_timeout => 31,",,22,0
openstack%2Fpuppet-manila~915043,openstack/puppet-manila,master,I50a773a189f800193207bed1a4ded6b1f7236490,Support [DEFAULT] admin_only_metadata,MERGED,2024-04-04 03:20:25.000000000,2024-04-05 02:55:08.000000000,2024-04-05 02:40:52.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 03:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/a9432ed48c845db7d7d06778b020755fbcf57af9', 'message': 'Support [DEFAULT] admin_only_metadata\n\nChange-Id: I50a773a189f800193207bed1a4ded6b1f7236490\n'}, {'number': 2, 'created': '2024-04-04 03:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ea656f46ce31f6175236dd934a033c92ae3d797d', 'message': 'Support [DEFAULT] admin_only_metadata\n\nChange-Id: I50a773a189f800193207bed1a4ded6b1f7236490\n'}, {'number': 3, 'created': '2024-04-04 04:57:36.000000000', 'files': ['manifests/api.pp', 'spec/classes/manila_api_spec.rb', 'releasenotes/notes/admin_only_metadata-5566bb80f0591662.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/d3c14796003018b35f7bd15022ffd66b93a5277f', 'message': 'Support [DEFAULT] admin_only_metadata\n\nChange-Id: I50a773a189f800193207bed1a4ded6b1f7236490\n'}]",2,915043,d3c14796003018b35f7bd15022ffd66b93a5277f,19,3,3,9816,,,0,"Support [DEFAULT] admin_only_metadata

Change-Id: I50a773a189f800193207bed1a4ded6b1f7236490
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/43/915043/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/manila_api_spec.rb', 'manifests/init.pp', 'releasenotes/notes/admin_only_metadata-5566bb80f0591662.yaml']",4,a9432ed48c845db7d7d06778b020755fbcf57af9,,--- features: - | The new ``manila::api::admin_only_metadata`` parameter has been added. ,,29,0
openstack%2Fhorizon~915029,openstack/horizon,master,Ic0310e6a2721aeef4d6cfcb1a06abf8f6e781ca7,pytest-based UI tests add vCPU pCPU test,MERGED,2024-04-03 21:17:50.000000000,2024-04-05 02:44:36.000000000,2024-04-05 02:33:23.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 35153}]","[{'number': 1, 'created': '2024-04-03 21:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0343db4131e8fd3e41219122f8d8e4ee7ae9111b', 'message': 'pytest-based UI tests add vCPU pCPU test\n\ntest_vcpu_pcpu_data_display\n\nChange-Id: Ic0310e6a2721aeef4d6cfcb1a06abf8f6e781ca7\n'}, {'number': 2, 'created': '2024-04-04 12:56:15.000000000', 'files': ['openstack_dashboard/test/selenium/ui/test_hypervisors.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0c8167413ce678a6dd2b6522f26ab23e1182c19', 'message': 'pytest-based UI tests add vCPU pCPU test\n\ntest_vcpu_pcpu_data_display\n\nChange-Id: Ic0310e6a2721aeef4d6cfcb1a06abf8f6e781ca7\n'}]",7,915029,d0c8167413ce678a6dd2b6522f26ab23e1182c19,22,5,2,35133,,,0,"pytest-based UI tests add vCPU pCPU test

test_vcpu_pcpu_data_display

Change-Id: Ic0310e6a2721aeef4d6cfcb1a06abf8f6e781ca7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/915029/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/selenium/ui/test_hypervisors.py'],1,0343db4131e8fd3e41219122f8d8e4ee7ae9111b,test_UI_vCPU_pCPU,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from openstack_dashboard import api def test_vcpu_pcpu_data_display(live_server, driver, user, dashboard_data): with mock.patch.object(api.nova, 'service_list') as mocked_s_l, \ mock.patch.object(api.nova, 'hypervisor_list') as mocked_h_l, \ mock.patch.object(api.nova, 'hypervisor_stats') as mocked_h_s, \ mock.patch.object(api.placement, 'get_providers') as mocked_g_p: mocked_s_l.return_value = dashboard_data.services.list() mocked_h_l.return_value = dashboard_data.hypervisors.list() mocked_h_s.return_value = dashboard_data.hypervisors.stats providers = [{}] for p in providers: inventories = {'VCPU': {'total': 16, 'reserved': 4, 'allocation_ratio': 4.0}, 'PCPU': {'total': 4, 'reserved': 2, 'allocation_ratio': 1.0}} usages = {'VCPU': 2, 'PCPU': 1} vcpus = inventories.get('VCPU') pcpus = inventories.get('PCPU') p['uuid'] = ""test_provider"" p['inventories'] = inventories p['usages'] = usages p['vcpus_used'] = usages.get('VCPU') p['vcpus_reserved'] = vcpus['reserved'] p['vcpus'] = vcpus['total'] p['vcpus_ar'] = vcpus['allocation_ratio'] p['vcpus_capacity'] = int(vcpus['allocation_ratio'] * vcpus['total']) p['pcpus_used'] = usages.get('PCPU') p['pcpus_reserved'] = pcpus['reserved'] p['pcpus'] = pcpus['total'] p['pcpus_ar'] = pcpus['allocation_ratio'] p['pcpus_capacity'] = int(pcpus['allocation_ratio'] * pcpus['total']) mocked_g_p.return_value = providers driver.get(live_server.url + '/admin/hypervisors') assert (driver.find_element_by_xpath( f""//*[normalize-space()='VCPU Usage']/"" f""ancestor::div[contains(@class,'d3_quota_bar')]"" f""/div[contains(@class,'h6')]/"" f""span[1]"").text == str(p['vcpus_used'])) assert (driver.find_element_by_xpath( f""//*[normalize-space()='VCPU Usage']/"" f""ancestor::div[contains(@class,'d3_quota_bar')]"" f""/div[contains(@class,'h6')]/"" f""span[2]"").text == str(p['vcpus_capacity'])) assert (driver.find_element_by_xpath( f""//*[normalize-space()='PCPU Usage']/"" f""ancestor::div[contains(@class,'d3_quota_bar')]"" f""/div[contains(@class,'h6')]/"" f""span[1]"").text == str(p['pcpus_used'])) assert (driver.find_element_by_xpath( f""//*[normalize-space()='PCPU Usage']/"" f""ancestor::div[contains(@class,'d3_quota_bar')]"" f""/div[contains(@class,'h6')]/"" f""span[2]"").text == str(p['pcpus_capacity'])) driver.find_element_by_link_text(""Resource Provider"").click() resource_provider_tab = driver.find_element_by_id( ""hypervisor_info__provider"") table_header = resource_provider_tab.find_elements_by_css_selector( "".table_column_header th"") table_row_test_provider = ( resource_provider_tab.find_elements_by_css_selector( ""#providers__row__test_provider td"")) want_to_check = {""VCPUs used"": p['vcpus_used'], ""VCPUs reserved"": p['vcpus_reserved'], ""VCPUs total"": p['vcpus'], ""VCPUs allocation ratio"": p['vcpus_ar'], ""PCPUs used"": p['pcpus_used'], ""PCPUs reserved"": p['pcpus_reserved'], ""PCPUs total"": p['pcpus'], ""PCPUs allocation ratio"": p['pcpus_ar']} for key, value in want_to_check.items(): for order in range(len(table_header)): if (table_header[order].text == key): assert (table_row_test_provider[order].text == str(value)) ",,97,0
openstack%2Ftacker-horizon~913347,openstack/tacker-horizon,stable/2024.1,I8ab83bcae4cec536f898d84e9c6d64d3e27cf00f,Update TOX_CONSTRAINTS_FILE for stable/2024.1,MERGED,2024-03-15 14:16:59.000000000,2024-04-05 02:14:38.000000000,2024-04-05 02:08:26.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2024-03-15 14:16:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/cbe3c404a3ad3da6b0d63570472208e06774212d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2024.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2024.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8ab83bcae4cec536f898d84e9c6d64d3e27cf00f\n'}]",0,913347,cbe3c404a3ad3da6b0d63570472208e06774212d,8,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2024.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2024.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8ab83bcae4cec536f898d84e9c6d64d3e27cf00f
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/47/913347/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cbe3c404a3ad3da6b0d63570472208e06774212d,create-2024.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftacker-horizon~913346,openstack/tacker-horizon,stable/2024.1,Ic448600fe23e6c07b82a7d8198792cbdbc92a206,Update .gitreview for stable/2024.1,MERGED,2024-03-15 14:16:58.000000000,2024-04-05 02:13:23.000000000,2024-04-05 02:08:25.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2024-03-15 14:16:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/154585d0b4ae395f1bd7d26ca668cd5300ec5ea7', 'message': 'Update .gitreview for stable/2024.1\n\nChange-Id: Ic448600fe23e6c07b82a7d8198792cbdbc92a206\n'}]",0,913346,154585d0b4ae395f1bd7d26ca668cd5300ec5ea7,8,4,1,22816,,,0,"Update .gitreview for stable/2024.1

Change-Id: Ic448600fe23e6c07b82a7d8198792cbdbc92a206
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/46/913346/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,154585d0b4ae395f1bd7d26ca668cd5300ec5ea7,create-2024.1,defaultbranch=stable/2024.1,,1,0
openstack%2Ftacker~914795,openstack/tacker,master,I6eec6013b9e6aadea843b64b192bf19d3f577f88,fix wrong json schema definition of v2 API,NEW,2024-04-01 00:39:29.000000000,2024-04-05 01:48:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 32707}, {'_account_id': 33292}]","[{'number': 1, 'created': '2024-04-01 00:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/084721abb5b485dc75313d0d76fee04ee297745c', 'message': '[WIP] fix wrong schema\n\nChange-Id: I6eec6013b9e6aadea843b64b192bf19d3f577f88\n'}, {'number': 2, 'created': '2024-04-01 05:31:19.000000000', 'files': ['tacker/sol_refactored/api/schemas/common_types.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/aca613409175f20660b4e4896f18748c985935a7', 'message': 'fix wrong json schema definition of v2 API\n\nThis patch fixes wrong json schema definition of enum\nwhich should be a list but was defined by single string.\n\nNote that it was OK under zuul CI environment but may be fail\nwith certain jsonschema module version.\n\nCloses-Bug: #2059754\nChange-Id: I6eec6013b9e6aadea843b64b192bf19d3f577f88\n'}]",2,914795,aca613409175f20660b4e4896f18748c985935a7,9,5,2,4149,,,0,"fix wrong json schema definition of v2 API

This patch fixes wrong json schema definition of enum
which should be a list but was defined by single string.

Note that it was OK under zuul CI environment but may be fail
with certain jsonschema module version.

Closes-Bug: #2059754
Change-Id: I6eec6013b9e6aadea843b64b192bf19d3f577f88
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/914795/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/sol_refactored/api/schemas/common_types.py'],1,084721abb5b485dc75313d0d76fee04ee297745c,bug/2059754," 'enum': ['IP_OVER_ETHERNET']},"," 'enum': 'IP_OVER_ETHERNET'},",1,1
openstack%2Foslo.messaging~915056,openstack/oslo.messaging,master,Ic076f2b83cb6f6aa074ebedc3103463ee0e66667,Implement HTTPListener and HTTPClient and add OpenAPI specs,NEW,2024-04-04 11:13:19.000000000,2024-04-05 01:33:38.000000000,,"[{'_account_id': 8878}, {'_account_id': 9816}, {'_account_id': 10115}, {'_account_id': 22348}, {'_account_id': 33451}]","[{'number': 1, 'created': '2024-04-04 11:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/cbe5484a17c24c9e62a60d69a4cbd01f3fc74a76', 'message': 'Implement HTTPListener and HTTPClient and add OpenAPI specs\n\n- `HTTPListener`: This class sets up and manages an HTTP server\nto listen for incoming messages. It also manages the FlaskApp app\nthat runs on the HTTP server, registers and deregisters services\nwith the service broker, handles concurrent requests, listens to\nincoming messages, and processes them in batches.\n\n- `HTTPClient`: it represents an HTTP client for making RPC calls\nto a target service. It provides methods for performing different\ntypes of RPC calls using the HTTP protocol.\n\nIn addition, two placeholder modules `openapi.server` and `openapi.client`\nhave been added for future auto-generated OpenAPI code integration.\nThe OpenAPI configuration file that outlines the API specifications\nis included as `openapi.yaml`.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic076f2b83cb6f6aa074ebedc3103463ee0e66667\n'}, {'number': 2, 'created': '2024-04-04 23:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1e61f4ac21b6d3c90f56c44115b660b19c2d3ff6', 'message': 'Implement HTTPListener and HTTPClient and add OpenAPI specs\n\n- `HTTPListener`: This class sets up and manages an HTTP server\nto listen for incoming messages. It also manages the FlaskApp app\nthat runs on the HTTP server, registers and deregisters services\nwith the service broker, handles concurrent requests, listens to\nincoming messages, and processes them in batches.\n\n- `HTTPClient`: it represents an HTTP client for making RPC calls\nto a target service. It provides methods for performing different\ntypes of RPC calls using the HTTP protocol.\n\nIn addition, two placeholder modules `openapi.server` and `openapi.client`\nhave been added for future auto-generated OpenAPI code integration.\nThe OpenAPI configuration file that outlines the API specifications\nis included as `openapi.yaml`.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic076f2b83cb6f6aa074ebedc3103463ee0e66667\n'}, {'number': 3, 'created': '2024-04-04 23:42:16.000000000', 'files': ['oslo_messaging/_drivers/http_driver/openapi/openapi.yaml', 'oslo_messaging/_drivers/http_driver/openapi/server/__init__.py', 'oslo_messaging/_drivers/http_driver/openapi/client/__init__.py', 'test-requirements.txt', 'oslo_messaging/_drivers/http_driver/openapi/server/encoder.py', 'oslo_messaging/_drivers/impl_http.py', 'oslo_messaging/_drivers/http_driver/openapi/__init__.py', 'oslo_messaging/tests/drivers/test_impl_http.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5fee2d754cc7bc42b14159a327db5594bf718add', 'message': 'Implement HTTPListener and HTTPClient and add OpenAPI specs\n\n- `HTTPListener`: This class sets up and manages an HTTP server\nto listen for incoming messages. It also manages the FlaskApp app\nthat runs on the HTTP server, registers and deregisters services\nwith the service broker, handles concurrent requests, listens to\nincoming messages, and processes them in batches.\n\n- `HTTPClient`: it represents an HTTP client for making RPC calls\nto a target service. It provides methods for performing different\ntypes of RPC calls using the HTTP protocol.\n\nIn addition, two placeholder modules `openapi.server` and `openapi.client`\nhave been added for future auto-generated OpenAPI code integration.\nThe OpenAPI configuration file that outlines the API specifications\nis included as `openapi.yaml`.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic076f2b83cb6f6aa074ebedc3103463ee0e66667\n'}]",2,915056,5fee2d754cc7bc42b14159a327db5594bf718add,6,5,3,36129,,,0,"Implement HTTPListener and HTTPClient and add OpenAPI specs

- `HTTPListener`: This class sets up and manages an HTTP server
to listen for incoming messages. It also manages the FlaskApp app
that runs on the HTTP server, registers and deregisters services
with the service broker, handles concurrent requests, listens to
incoming messages, and processes them in batches.

- `HTTPClient`: it represents an HTTP client for making RPC calls
to a target service. It provides methods for performing different
types of RPC calls using the HTTP protocol.

In addition, two placeholder modules `openapi.server` and `openapi.client`
have been added for future auto-generated OpenAPI code integration.
The OpenAPI configuration file that outlines the API specifications
is included as `openapi.yaml`.

Partially-implements: blueprint oslo-http-driver
Change-Id: Ic076f2b83cb6f6aa074ebedc3103463ee0e66667
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/56/915056/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/http_driver/openapi/openapi.yaml', 'oslo_messaging/_drivers/http_driver/openapi/server/__init__.py', 'oslo_messaging/_drivers/http_driver/openapi/client/__init__.py', 'test-requirements.txt', 'oslo_messaging/_drivers/http_driver/openapi/server/encoder.py', 'oslo_messaging/_drivers/impl_http.py', 'oslo_messaging/_drivers/http_driver/openapi/__init__.py', 'oslo_messaging/tests/drivers/test_impl_http.py', 'setup.cfg']",9,cbe5484a17c24c9e62a60d69a4cbd01f3fc74a76,bp/oslo-http-driver, connexion[swagger-ui]>=2.6.0 # Apache-2.0,,1325,26
openstack%2Fcinder~908425,openstack/cinder,master,Ic3737dfa91acb2a9d9e7f13ddf1d89aa36f7d802,fix: cinder backup scheduled on disabled services,ABANDONED,2024-02-08 13:56:01.000000000,2024-04-05 00:00:08.000000000,,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2024-02-08 13:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6279322a5d0d5edbb10c5a6212804b831dc202e9', 'message': 'fix: cinder backup scheduled on disabled services\n\nSince the scheduling for the backup was moved to the cinder scheduler,\nthere was no filter to prevent the scheduling of backups on disabled\ncinder-backup services. [1]\n\n[1] https://opendev.org/openstack/cinder/commit/f0211b53b82cde96eb39e9914c3e5fae232db07c\n\nChange-Id: Ic3737dfa91acb2a9d9e7f13ddf1d89aa36f7d802\n'}, {'number': 2, 'created': '2024-02-08 14:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22c9f6bef4ed3c0479fedf127f714955f85d209a', 'message': 'fix: cinder backup scheduled on disabled services\n\nSince the scheduling for the backup was moved to the cinder scheduler,\nthere was no filter to prevent the scheduling of backups on disabled\ncinder-backup services. [1]\n\n[1] https://opendev.org/openstack/cinder/commit/f0211b53b82cde96eb39e9914c3e5fae232db07c\n\nChange-Id: Ic3737dfa91acb2a9d9e7f13ddf1d89aa36f7d802\n'}, {'number': 3, 'created': '2024-04-04 11:09:19.000000000', 'files': ['cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dea2f13f3cdfde9d0edbc5c34bc6fbb1d2628e3a', 'message': 'fix: cinder backup scheduled on disabled services\n\nSince the scheduling for the backup was moved to the cinder scheduler,\nthere was no filter to prevent the scheduling of backups on disabled\ncinder-backup services. [1]\n\nCloses-Bug: #2054329\n\n[1] https://opendev.org/openstack/cinder/commit/f0211b53b82cde96eb39e9914c3e5fae232db07c\n\nChange-Id: Ic3737dfa91acb2a9d9e7f13ddf1d89aa36f7d802\n'}]",2,908425,dea2f13f3cdfde9d0edbc5c34bc6fbb1d2628e3a,26,4,3,36198,,,0,"fix: cinder backup scheduled on disabled services

Since the scheduling for the backup was moved to the cinder scheduler,
there was no filter to prevent the scheduling of backups on disabled
cinder-backup services. [1]

Closes-Bug: #2054329

[1] https://opendev.org/openstack/cinder/commit/f0211b53b82cde96eb39e9914c3e5fae232db07c

Change-Id: Ic3737dfa91acb2a9d9e7f13ddf1d89aa36f7d802
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/908425/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/host_manager.py'],1,6279322a5d0d5edbb10c5a6212804b831dc202e9,fix/cinder_backup_scheduled_on_disabled_nodes," if _is_good_service(capabilities, driver, availability_zone) and \ self._is_backup_service_enabled(capabilities['availability_zone'], backend):"," if _is_good_service(capabilities, driver, availability_zone):",2,1
openstack%2Fhorizon~914104,openstack/horizon,master,I9085eb146b8f013909f6369b731c076aba3216ab,Don't pass the auth_key for volume transfer in the URL,MERGED,2024-03-25 15:31:20.000000000,2024-04-04 23:14:01.000000000,2024-04-04 23:08:50.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2024-03-25 15:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7e4d9c00617872420128b48b6f9920d7999e2bda', 'message': ""Don't pass the auth_key for volume transfer in the URL\n\nInstead we pass it as data in the POST request.\n\nCloses-Bug: #2048493\n\nChange-Id: I9085eb146b8f013909f6369b731c076aba3216ab\n""}, {'number': 2, 'created': '2024-03-26 09:52:41.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/urls.py', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'openstack_dashboard/dashboards/project/volumes/views.py', 'openstack_dashboard/dashboards/project/volumes/forms.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_show_transfer.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ccef197e038a2cd3aa36fd0961686163c8524306', 'message': ""Don't pass the auth_key for volume transfer in the URL\n\nInstead we pass it as data in the POST request.\n\nCloses-Bug: #2048493\n\nChange-Id: I9085eb146b8f013909f6369b731c076aba3216ab\n""}]",110,914104,ccef197e038a2cd3aa36fd0961686163c8524306,22,3,2,8648,,,0,"Don't pass the auth_key for volume transfer in the URL

Instead we pass it as data in the POST request.

Closes-Bug: #2048493

Change-Id: I9085eb146b8f013909f6369b731c076aba3216ab
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/914104/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/volumes/urls.py', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'openstack_dashboard/dashboards/project/volumes/views.py', 'openstack_dashboard/dashboards/project/volumes/forms.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_show_transfer.html']",5,7e4d9c00617872420128b48b6f9920d7999e2bda,download-transfer,,"{% block modal-footer %} <a href=""{{ download_url }}"" class=""btn btn-default""> <span class=""fa fa-download""></span> {{ download_label }} </a> <a onClick=""location.href='{{cancel_url}}'"" href=""{{ cancel_url }}"" class=""btn btn-default"">{{ cancel_label }}</a> {% endblock %}",53,69
openstack%2Fhorizon~914120,openstack/horizon,master,Ie550184c3b1d74146ad685507cf1a220e9074ded,pytest-based UI tests fix auth and user data,MERGED,2024-03-25 17:20:33.000000000,2024-04-04 22:08:14.000000000,2024-04-04 22:00:32.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 35153}]","[{'number': 1, 'created': '2024-03-25 17:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f9e90f89596ec9994734212d56d584c6e887021', 'message': 'pytest-based UI tests fix auth and user data\n\nChange-Id: Ie550184c3b1d74146ad685507cf1a220e9074ded\n'}, {'number': 2, 'created': '2024-03-26 12:59:13.000000000', 'files': ['openstack_dashboard/test/selenium/ui/conftest.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/54e4f83e75b677a6855daeeb95b7e5710ea01cb7', 'message': 'pytest-based UI tests fix auth and user data\n\nChange-Id: Ie550184c3b1d74146ad685507cf1a220e9074ded\n'}]",1,914120,54e4f83e75b677a6855daeeb95b7e5710ea01cb7,13,5,2,35133,,,0,"pytest-based UI tests fix auth and user data

Change-Id: Ie550184c3b1d74146ad685507cf1a220e9074ded
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/914120/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/selenium/ui/conftest.py', 'openstack_dashboard/test/selenium/ui/test_settings.py']",2,7f9e90f89596ec9994734212d56d584c6e887021,test_UI_fix_user_data,,,21,19
openstack%2Fopenstack-manuals~914602,openstack/openstack-manuals,master,Ic6a90af04ce9decad705456b4ded504fc5323d9d,[www] Add project data to 2024.1,MERGED,2024-03-28 07:01:39.000000000,2024-04-04 19:23:36.000000000,2024-04-03 06:56:03.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-28 07:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8b5cdcb21c915acc3bf337a901253b38fc26229b', 'message': '[www] Setup 2024.2 Dalmatian and add project data to 2024.1\n\nThis change adds\n* default pages for next release, 2024.2 Dalmatian\n* 2024.1 project data so that index pages will be generated\n\nIt still keeps 2024.1 in development phase. A future change will\ntransition 2024.1 to maintained at release time.\n\nChange-Id: Ic6a90af04ce9decad705456b4ded504fc5323d9d\n'}, {'number': 2, 'created': '2024-03-28 16:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/85e564541fafb7c64a7c94196e9ebbba15ff7a01', 'message': '[www] Setup 2024.2 Dalmatian and add project data to 2024.1\n\nThis change adds\n* default pages for next release, 2024.2 Dalmatian\n* 2024.1 project data so that index pages will be generated\n\nIt still keeps 2024.1 in development phase. A future change will\ntransition 2024.1 to maintained at release time.\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/914619\nChange-Id: Ic6a90af04ce9decad705456b4ded504fc5323d9d\n'}, {'number': 3, 'created': '2024-04-02 12:19:08.000000000', 'files': ['www/project-data/2024.1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e23568b98f30c2b9a150f5387fce76aaa0e2876f', 'message': '[www] Add project data to 2024.1\n\nThis change adds 2024.1 project data so that index pages will be\ngenerated.\n\nIt still keeps 2024.1 in development phase. A future change will\ntransition 2024.1 to maintained at release time.\n\nChange-Id: Ic6a90af04ce9decad705456b4ded504fc5323d9d\n'}]",14,914602,e23568b98f30c2b9a150f5387fce76aaa0e2876f,21,5,3,13252,,,0,"[www] Add project data to 2024.1

This change adds 2024.1 project data so that index pages will be
generated.

It still keeps 2024.1 in development phase. A future change will
transition 2024.1 to maintained at release time.

Change-Id: Ic6a90af04ce9decad705456b4ded504fc5323d9d
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/02/914602/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/2024.2/configuration/index.html', 'www/2024.2/install/index.html', 'www/2024.2/badge.html', 'tools/www-generator.py', 'www/2024.2/deploy/index.html', 'www/2024.2/index.html', 'www/2024.2/admin/index.html', 'www/2024.2/api/index.html', 'www/2024.2/language-bindings.html', 'www/2024.2/projects.html', 'www/project-data/2024.1.yaml', 'www/2024.2/user/index.html']",12,8b5cdcb21c915acc3bf337a901253b38fc26229b,www-2024.1-final,"{% set projects = PROJECT_DATA[SERIES] %} {% extends ""templates/base.tmpl"" %} {% block pagetitle %}{{SERIES_TITLE}} User Guides{% endblock %} {% block title %} <a href=""https://docs.openstack.org"">Documentation</a> &gt; User Guides {% endblock %} {% block content %} <!-- Begin Page Content --> <div class=""top-docs-wrapper""> <div class=""container""> <div class=""row""> <div class=""col-lg-8 col-md-8 col-sm-8""> <h1>OpenStack {{SERIES_TITLE}} Project User Guides</h1> <p> This page contains project-specific documentation for using OpenStack services and libraries. </p> </div> </div> </div> <div class=""mid-docs-wrapper"" id=""docs-main-body""> <div class=""container""> <div class=""row""> <div class=""col-lg-12""> </div> </div> <div class=""row docs-toc""> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections""> <h3><i class=""fa fa-cog""></i>User Guides for OpenStack Services</h3> {% for project in projects|sort(attribute='service') %} {% if project.type in ['service', 'other'] and project.has_user_guide %} <a href=""/{{project.name}}/{{SERIES}}/user/""> {{project.service}} ({{project.name}})</a><br /> {% endif %} {% endfor %} </div> </div> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections""> <h3><i class=""fa fa-cog""></i>User Guides for OpenStack Deployment Tools</h3> {% for project in projects|sort(attribute='service') %} {% if project.type in ['deployment'] and project.has_user_guide %} <a href=""/{{project.name}}/{{SERIES}}/user/""> {{project.service}} ({{project.name}})</a><br /> {% endif %} {% endfor %} </div> </div> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections""> <h3><i class=""fa fa-cog""></i>Client Libraries</h3> <p>Refer to <a href=""../language-bindings.html"">the language bindings list</a> for Python client library documentation and the Unified OpenStack command line client.</p> </div> </div> <div class=""row docs-contribute-wrapper""> <div class=""col-lg-12""> <p>Documentation treated like code, powered by the community - interested?</p> <a href=""/doc-contrib-guide/"" class=""overview-btn contribute-btn"">How To Contribute <i class=""fa fa-chevron-right""></i></a> </div> </div> </div> </div> {% endblock content %} ",,1424,0
openstack%2Fkeystone~914939,openstack/keystone,stable/2024.1,I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48,sql: Fixup for invalid unique constraint on external_id in access_rule table,MERGED,2024-04-03 06:26:41.000000000,2024-04-04 19:14:24.000000000,2024-04-04 19:13:15.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2024-04-03 06:26:41.000000000', 'files': ['keystone/application_credential/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e51f6150c485dcfd76fe007084b85884feaf486', 'message': 'sql: Fixup for invalid unique constraint on external_id in access_rule table\n\nThere was a big drop of invalid constraints with [1]. One of them was on\n`external_id` in the access_rule table.\n\nWhile the change made it into a Alembic revision with [1], it still exists in\nthe schema causing an a new Alembic autogeneration to actually add it again as\na revision.\n\n[1] https://review.opendev.org/c/openstack/keystone/+/851845\n[2] https://opendev.org/openstack/keystone/commit/7d169870fe418b9aa5765dc2f413ecdf9c8f1d48#diff-26484e3f6683ce7557e17b67220003784ff84fbe\n\nCloses-Bug: #1988297\nChange-Id: I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48\n(cherry picked from commit 694a2afd86348331facfd27bc287a54d61ce170d)\n'}]",2,914939,9e51f6150c485dcfd76fe007084b85884feaf486,15,5,1,32755,,,0,"sql: Fixup for invalid unique constraint on external_id in access_rule table

There was a big drop of invalid constraints with [1]. One of them was on
`external_id` in the access_rule table.

While the change made it into a Alembic revision with [1], it still exists in
the schema causing an a new Alembic autogeneration to actually add it again as
a revision.

[1] https://review.opendev.org/c/openstack/keystone/+/851845
[2] https://opendev.org/openstack/keystone/commit/7d169870fe418b9aa5765dc2f413ecdf9c8f1d48#diff-26484e3f6683ce7557e17b67220003784ff84fbe

Closes-Bug: #1988297
Change-Id: I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48
(cherry picked from commit 694a2afd86348331facfd27bc287a54d61ce170d)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/39/914939/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/application_credential/backends/sql.py'],1,9e51f6150c485dcfd76fe007084b85884feaf486,," external_id = sql.Column(sql.String(64), index=True)"," external_id = sql.Column(sql.String(64), index=True, unique=True)",1,1
openstack%2Fopenstack-ansible-os_designate~914876,openstack/openstack-ansible-os_designate,stable/2023.1,I93af581696de0913710592f9033545b87547b78a,Fix designate upgrades when internal RPC version changes,MERGED,2024-04-03 12:10:14.000000000,2024-04-04 18:14:22.000000000,2024-04-04 18:13:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-04-03 12:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/3d7e948ed152787333eaa2a3361ab1a580fd89b3', 'message': 'Fix designate upgrades when internal RPC version changes\n\nWhen upgrading from 2023.1 to 2023.2 in a HA environment,\nthe Designate pool update command failed as it ran using\nan upgraded client, but made RPC calls against instances\nwhich had not been upgraded yet.\n\nThis commit moves the pool update to the last play host\nin order to ensure that in an upgrade situation, all\nvirtualenvs have been upgraded first to ensure no client/\nserver version conflicts.\n\nChange-Id: I93af581696de0913710592f9033545b87547b78a\n(cherry picked from commit 151043d7f010eb35d1c9e9b5e426582e8f241bc0)\n'}, {'number': 2, 'created': '2024-04-03 12:11:32.000000000', 'files': ['tasks/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/57d60e4ad86ca1cdbe5154cec07cf43bd921902f', 'message': 'Fix designate upgrades when internal RPC version changes\n\nWhen upgrading from 2023.1 to 2023.2 in a HA environment,\nthe Designate pool update command failed as it ran using\nan upgraded client, but made RPC calls against instances\nwhich had not been upgraded yet.\n\nThis commit moves the pool update to the last play host\nin order to ensure that in an upgrade situation, all\nvirtualenvs have been upgraded first to ensure no client/\nserver version conflicts.\n\nChange-Id: I93af581696de0913710592f9033545b87547b78a\n(cherry picked from commit 151043d7f010eb35d1c9e9b5e426582e8f241bc0)\n'}]",0,914876,57d60e4ad86ca1cdbe5154cec07cf43bd921902f,10,3,2,28619,,,0,"Fix designate upgrades when internal RPC version changes

When upgrading from 2023.1 to 2023.2 in a HA environment,
the Designate pool update command failed as it ran using
an upgraded client, but made RPC calls against instances
which had not been upgraded yet.

This commit moves the pool update to the last play host
in order to ensure that in an upgrade situation, all
virtualenvs have been upgraded first to ensure no client/
server version conflicts.

Change-Id: I93af581696de0913710592f9033545b87547b78a
(cherry picked from commit 151043d7f010eb35d1c9e9b5e426582e8f241bc0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/76/914876/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/main.yml']",2,3d7e948ed152787333eaa2a3361ab1a580fd89b3,,"<<<<<<< HEAD (ced1e7 Use proper galera port in configuration)======= _designate_is_first_play_host: >- {{ (designate_services['designate-api']['group'] in group_names and inventory_hostname == (groups[designate_services['designate-api']['group']] | intersect(ansible_play_hosts)) | first) | bool }} _designate_is_last_play_host: >- {{ (designate_services['designate-api']['group'] in group_names and inventory_hostname == (groups[designate_services['designate-api']['group']] | intersect(ansible_play_hosts)) | last) | bool }} _designate_oslomsg_rpc_vhost_conf: >- {{ (designate_oslomsg_rpc_vhost is string) | ternary( designate_oslomsg_rpc_vhost, designate_oslomsg_rpc_vhost | selectattr('state', 'eq', 'present') | map(attribute='name') | first) }} _designate_oslomsg_notify_vhost_conf: >- {{ (designate_oslomsg_notify_vhost is string) | ternary( designate_oslomsg_notify_vhost, designate_oslomsg_notify_vhost | selectattr('state', 'eq', 'present') | map(attribute='name') | first) }} >>>>>>> CHANGE (151043 Fix designate upgrades when internal RPC version changes)",,27,1
openstack%2Fswift~914943,openstack/swift,feature/mpu,I4b3f525fdbe6c67132384901071d6824c2964011,Clarify behaviour of InternalClient.make_request params arg,MERGED,2024-04-03 08:30:31.000000000,2024-04-04 18:02:25.000000000,2024-04-04 18:01:19.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 08:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92499eaf0640ad73f3d997bf59b1c67ebc6c2045', 'message': 'Clarify behaviour of InternalClient.make_request params arg\n\nUpdate make_request docstring to clarify that if the params argument\nis used it will override any query_string component of the path\nargument.\n\nAdd a unit test to verify this.\n\nNo intended behavioural change.\n\nChange-Id: I4b3f525fdbe6c67132384901071d6824c2964011\n'}, {'number': 2, 'created': '2024-04-03 15:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ddeb814184297fe716af2f77eeba292989ba6ac1', 'message': 'Clarify behaviour of InternalClient.make_request params arg\n\nUpdate make_request docstring to clarify that if the params argument\nis used it will override any query_string component of the path\nargument.\n\nAdd a unit test to verify this.\n\nNo intended behavioural change.\n\nChange-Id: I4b3f525fdbe6c67132384901071d6824c2964011\n'}, {'number': 3, 'created': '2024-04-04 13:22:48.000000000', 'files': ['test/unit/common/test_internal_client.py', 'test/unit/common/test_swob.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f0e1713c8efda8d979d68a8c1e0e39351d701ae9', 'message': 'Clarify behaviour of InternalClient.make_request params arg\n\nUpdate make_request docstring to clarify that if the params argument\nis used it will override any query_string component of the path\nargument.\n\nAdd a unit test to verify this.\n\nNo intended behavioural change.\n\nChange-Id: I4b3f525fdbe6c67132384901071d6824c2964011\n'}]",13,914943,f0e1713c8efda8d979d68a8c1e0e39351d701ae9,20,3,3,7847,,,0,"Clarify behaviour of InternalClient.make_request params arg

Update make_request docstring to clarify that if the params argument
is used it will override any query_string component of the path
argument.

Add a unit test to verify this.

No intended behavioural change.

Change-Id: I4b3f525fdbe6c67132384901071d6824c2964011
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/914943/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'test/unit/common/test_swob.py', 'swift/common/internal_client.py']",3,92499eaf0640ad73f3d997bf59b1c67ebc6c2045,p-mpu-mw," :param params: A dict of params to be set in request query string. If the ``path`` argument includes a query string, that query string will be replaced by any params set by the ``params``argument. Defaults to None."," :param params: A dict of params to be set in request query string, defaults to None.",38,2
openstack%2Fopenstack-ansible-plugins~900217,openstack/openstack-ansible-plugins,master,I6b77c828d251aeee53b83404e7e3131e3f61cbb1,Add check_hostname option to db_setup tasks,MERGED,2023-11-06 17:01:19.000000000,2024-04-04 16:45:48.000000000,2024-04-04 16:44:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2023-11-06 17:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a49bd18119eaadc07ad8c6212bedf71d49142f25', 'message': ""Add ca_cert option to db_setup tasks\n\nTo allow encrypting connections of db_setup tasks, include the ca_cert\noption which can be provided by a new variable, '_oslodb_ca_cert'.\n\nChange-Id: I6b77c828d251aeee53b83404e7e3131e3f61cbb1\n""}, {'number': 2, 'created': '2023-11-06 19:00:53.000000000', 'files': ['roles/db_setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/be5e04dc087046f33ceb2eac184e48ec171327b9', 'message': 'Add check_hostname option to db_setup tasks\n\nTo allow encrypting connections of db_setup tasks, include the\ncheck_hostname option to verify a server host name when an SSL\nconnection is required.\n\nChange-Id: I6b77c828d251aeee53b83404e7e3131e3f61cbb1\n'}]",13,900217,be5e04dc087046f33ceb2eac184e48ec171327b9,22,3,2,14805,,,0,"Add check_hostname option to db_setup tasks

To allow encrypting connections of db_setup tasks, include the
check_hostname option to verify a server host name when an SSL
connection is required.

Change-Id: I6b77c828d251aeee53b83404e7e3131e3f61cbb1
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/17/900217/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/db_setup/tasks/main.yml'],1,a49bd18119eaadc07ad8c6212bedf71d49142f25,db_setup_check_hostname," ca_cert: ""{{ _oslodb_ca_cert | default(omit) }}"" ca_cert: ""{{ _oslodb_ca_cert | default(omit) }}""",,2,0
openstack%2Foslo.messaging~914448,openstack/oslo.messaging,stable/2023.2,I6f4a453a69e942d5b2d66ffeca6960b85c8bc721,kafka: Fix invalid hostaddr format for IPv6 address,MERGED,2024-03-27 15:08:22.000000000,2024-04-04 16:02:01.000000000,2024-04-04 16:00:50.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-03-27 15:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ec5b7aa4350df324e41535c84405f94a3447529a', 'message': 'kafka: Fix invalid hostaddr format for IPv6 address\n\nWhen IPv6 address is used for host, the hostaddr should be formatted\nin [<address>]:<port> format instead of <address>:<port> format. This\nensures the correct format is used.\n\nCloses-Bug: 1907702\nChange-Id: I6f4a453a69e942d5b2d66ffeca6960b85c8bc721\n(cherry picked from commit b0e28a160310613401315f23c7faac9e01403f4b)\n'}, {'number': 2, 'created': '2024-03-27 15:09:09.000000000', 'files': ['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8be07d3a6e3ec4d3e1a78203951fe39ebd1036d6', 'message': 'kafka: Fix invalid hostaddr format for IPv6 address\n\nWhen IPv6 address is used for host, the hostaddr should be formatted\nin [<address>]:<port> format instead of <address>:<port> format. This\nensures the correct format is used.\n\nCloses-Bug: 1907702\nChange-Id: I6f4a453a69e942d5b2d66ffeca6960b85c8bc721\n(cherry picked from commit b0e28a160310613401315f23c7faac9e01403f4b)\n(cherry picked from commit 5cb7cbfc6a9aba75d2695d706ed49b2c1d4e6346)\n'}]",1,914448,8be07d3a6e3ec4d3e1a78203951fe39ebd1036d6,16,3,2,9816,,,0,"kafka: Fix invalid hostaddr format for IPv6 address

When IPv6 address is used for host, the hostaddr should be formatted
in [<address>]:<port> format instead of <address>:<port> format. This
ensures the correct format is used.

Closes-Bug: 1907702
Change-Id: I6f4a453a69e942d5b2d66ffeca6960b85c8bc721
(cherry picked from commit b0e28a160310613401315f23c7faac9e01403f4b)
(cherry picked from commit 5cb7cbfc6a9aba75d2695d706ed49b2c1d4e6346)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/48/914448/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py']",2,ec5b7aa4350df324e41535c84405f94a3447529a,bug/1907702," ('ipv4', dict(url='kafka://127.0.0.1:1234', expected=dict(hostaddrs=['127.0.0.1:1234'], username=None, password=None, vhost=None))), ('ipv6', dict(url='kafka://[::1]:1234', expected=dict(hostaddrs=['[::1]:1234'], username=None, password=None, vhost=None))),",,16,1
openstack%2Fopenstack-ansible-os_designate~914875,openstack/openstack-ansible-os_designate,stable/2023.2,I93af581696de0913710592f9033545b87547b78a,Fix designate upgrades when internal RPC version changes,MERGED,2024-04-03 12:05:00.000000000,2024-04-04 15:57:14.000000000,2024-04-04 15:56:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-04-03 12:05:00.000000000', 'files': ['tasks/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/66b8b938cbde9fb8d60a257d56897b36945c7dd2', 'message': 'Fix designate upgrades when internal RPC version changes\n\nWhen upgrading from 2023.1 to 2023.2 in a HA environment,\nthe Designate pool update command failed as it ran using\nan upgraded client, but made RPC calls against instances\nwhich had not been upgraded yet.\n\nThis commit moves the pool update to the last play host\nin order to ensure that in an upgrade situation, all\nvirtualenvs have been upgraded first to ensure no client/\nserver version conflicts.\n\nChange-Id: I93af581696de0913710592f9033545b87547b78a\n(cherry picked from commit 151043d7f010eb35d1c9e9b5e426582e8f241bc0)\n'}]",0,914875,66b8b938cbde9fb8d60a257d56897b36945c7dd2,8,3,1,28619,,,0,"Fix designate upgrades when internal RPC version changes

When upgrading from 2023.1 to 2023.2 in a HA environment,
the Designate pool update command failed as it ran using
an upgraded client, but made RPC calls against instances
which had not been upgraded yet.

This commit moves the pool update to the last play host
in order to ensure that in an upgrade situation, all
virtualenvs have been upgraded first to ensure no client/
server version conflicts.

Change-Id: I93af581696de0913710592f9033545b87547b78a
(cherry picked from commit 151043d7f010eb35d1c9e9b5e426582e8f241bc0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/75/914875/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/main.yml']",2,66b8b938cbde9fb8d60a257d56897b36945c7dd2,,_designate_is_last_play_host: >- {{ (designate_services['designate-api']['group'] in group_names and inventory_hostname == (groups[designate_services['designate-api']['group']] | intersect(ansible_play_hosts)) | last) | bool }} ,,7,1
openstack%2Fcharm-cinder~900321,openstack/charm-cinder,stable/zed,Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a,Use admin_tenant_id as cinder internal tenant,MERGED,2023-11-07 14:28:33.000000000,2024-04-04 15:27:40.000000000,2024-04-04 15:27:40.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2023-11-07 14:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/8ab46f99e20b2b83b4fef4bf0cdd1ee377ba2530', 'message': 'Use admin_tenant_id as cinder internal tenant\n\nadmin_tenant_id is more explicit than admin_tenant_name\nas project names might duplicate\n\nCharm-helpers-pr: https://github.com/juju/charm-helpers/pull/861\n\nDepends-on: I6807128492cb184de3ef5f454d0ea745246b242e\n\nCloses-Bug: #2030755\nChange-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a\n(cherry picked from commit 376e856eb312c588b9fe00ae51de007adaba3ffa)\n(cherry picked from commit 897817debbfe8142528695f8d5e10394d3772d54)\n(cherry picked from commit cdb0bb47e1c48516b0b3369633f23cc1bc9119c2)\n'}, {'number': 2, 'created': '2023-11-07 14:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b5ec18a43f995c95400d4b43119c5f2adb44441f', 'message': 'Use admin_tenant_id as cinder internal tenant\n\nadmin_tenant_id is more explicit than admin_tenant_name\nas project names might duplicate\n\nCharm-helpers-pr: https://github.com/juju/charm-helpers/pull/861\n\nDepends-on: I6807128492cb184de3ef5f454d0ea745246b242e\n\nCloses-Bug: #2030755\nChange-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a\n(cherry picked from commit 376e856eb312c588b9fe00ae51de007adaba3ffa)\n(cherry picked from commit 6288d8dfcabf936866c680972464f24c5150050e)\n(cherry picked from commit 1a9e642c7c413e725c9aa17651a1bc43f3b77a2a)\n'}, {'number': 3, 'created': '2023-11-08 15:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/dd6782215d915a7bdd8878894196876a3709093c', 'message': 'Use admin_tenant_id as cinder internal tenant\n\nadmin_tenant_id is more explicit than admin_tenant_name\nas project names might duplicate\n\nCharm-helpers-pr: https://github.com/juju/charm-helpers/pull/861\n\nDepends-on: I6807128492cb184de3ef5f454d0ea745246b242e\n\nCloses-Bug: #2030755\nChange-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a\n(cherry picked from commit bff839b72f32cff2df3e6647575100a425c3009c)\n(cherry picked from commit dc1af52ef9da078b05c044bf79ead3c901cf05d6)\n(cherry picked from commit 2ac1249c954d5e7946e5981f379e24bf6e9db9aa)\n'}, {'number': 4, 'created': '2023-11-08 15:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/1d0a874cfa712a132016a87a95333e0b688bb76b', 'message': 'Use admin_tenant_id as cinder internal tenant\n\nadmin_tenant_id is more explicit than admin_tenant_name\nas project names might duplicate\n\nCharm-helpers-pr: https://github.com/juju/charm-helpers/pull/861\n\nDepends-on: I6807128492cb184de3ef5f454d0ea745246b242e\n\nCloses-Bug: #2030755\nChange-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a\n(cherry picked from commit bff839b72f32cff2df3e6647575100a425c3009c)\n(cherry picked from commit 35faf8797b29d55497fd3c05ed377f9956c3250a)\n(cherry picked from commit 34770bfe10773d6b62dfc07ad43991edd33332b5)\n'}, {'number': 5, 'created': '2024-04-03 21:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e3e17cd8f6ffbbf24ff18423561300f58c804653', 'message': 'Use admin_tenant_id as cinder internal tenant\n\nadmin_tenant_id is more explicit than admin_tenant_name\nas project names might duplicate\n\nCharm-helpers-pr: https://github.com/juju/charm-helpers/pull/861\n\nDepends-on: I6807128492cb184de3ef5f454d0ea745246b242e\n\nCloses-Bug: #2030755\nChange-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a\n(cherry picked from commit ff442694d27e5481b9994a3dd4412a7a004d1c00)\n(cherry picked from commit 35faf8797b29d55497fd3c05ed377f9956c3250a)\n(cherry picked from commit 34770bfe10773d6b62dfc07ad43991edd33332b5)\n'}, {'number': 6, 'created': '2024-04-03 21:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/eeaceddb4e0132778a0ed3df46b02d8e576181ed', 'message': 'Use admin_tenant_id as cinder internal tenant\n\nadmin_tenant_id is more explicit than admin_tenant_name\nas project names might duplicate\n\nCharm-helpers-pr: https://github.com/juju/charm-helpers/pull/861\n\nDepends-on: I6807128492cb184de3ef5f454d0ea745246b242e\n\nCloses-Bug: #2030755\nChange-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a\n(cherry picked from commit ff442694d27e5481b9994a3dd4412a7a004d1c00)\n(cherry picked from commit 80115a2cb219c72b36adfb60b94c3cd56dbaf086)\n(cherry picked from commit 34770bfe10773d6b62dfc07ad43991edd33332b5)\n'}, {'number': 7, 'created': '2024-04-03 21:41:52.000000000', 'files': ['templates/ussuri/cinder.conf', 'charmhelpers/contrib/openstack/context.py', 'templates/ocata/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/73d596bb9e65361a76a38e83bcee45c6453df09a', 'message': 'Use admin_tenant_id as cinder internal tenant\n\nadmin_tenant_id is more explicit than admin_tenant_name\nas project names might duplicate\n\nCharm-helpers-pr: https://github.com/juju/charm-helpers/pull/861\n\nDepends-on: I6807128492cb184de3ef5f454d0ea745246b242e\n\nCloses-Bug: #2030755\nChange-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a\n(cherry picked from commit ff442694d27e5481b9994a3dd4412a7a004d1c00)\n(cherry picked from commit 80115a2cb219c72b36adfb60b94c3cd56dbaf086)\n(cherry picked from commit e979c91908b0490ec78d9bc0f29254fdc38d1bb1)\n'}]",6,900321,73d596bb9e65361a76a38e83bcee45c6453df09a,31,5,7,10058,,,0,"Use admin_tenant_id as cinder internal tenant

admin_tenant_id is more explicit than admin_tenant_name
as project names might duplicate

Charm-helpers-pr: https://github.com/juju/charm-helpers/pull/861

Depends-on: I6807128492cb184de3ef5f454d0ea745246b242e

Closes-Bug: #2030755
Change-Id: Idbc2f3d12dcf325b4a53a3dda1ecfa75a199295a
(cherry picked from commit ff442694d27e5481b9994a3dd4412a7a004d1c00)
(cherry picked from commit 80115a2cb219c72b36adfb60b94c3cd56dbaf086)
(cherry picked from commit e979c91908b0490ec78d9bc0f29254fdc38d1bb1)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/21/900321/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ussuri/cinder.conf', 'charmhelpers/contrib/openstack/context.py', 'templates/ocata/cinder.conf']",3,8ab46f99e20b2b83b4fef4bf0cdd1ee377ba2530,fix-image-volume-ambiguous-configuration,cinder_internal_tenant_project_id = {{ admin_tenant_id }} cinder_internal_tenant_user_id = {{ admin_user_id }},cinder_internal_tenant_project_id = {{ admin_tenant_name }} cinder_internal_tenant_user_id = {{ admin_user }},6,4
openstack%2Fironic~885275,openstack/ironic,stable/2023.1,Id353c4f5260a7c469779b50ad302f442223df5a0,[iRMC] Fix IPMI incompatibility handling error,MERGED,2023-06-05 10:19:44.000000000,2024-04-04 15:20:15.000000000,2024-03-12 16:00:48.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:19:44.000000000', 'files': ['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0859c6d176d74a97dd821218fc4b11c3d1023e9f', 'message': ""[iRMC] Fix IPMI incompatibility handling error\n\nThis patch deals with overlooked situation in patch\nd23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which\n`irmc_ipmi_succeed` flag is added to deal with iRMC\nfirmware's IPMI incompatibility introduced at iRMC\nfirmware version S6 2.00 and later.\nThat flag is set and updated by `irmc` power_interface\ncode and rest of iRMC driver code use that flag.\n\nWhen `ipmitool` is set as power_interface, that flag\nis not set nor updated and rest of iRMC driver code\nfail to handle IPMI incompatibility correctly.\n\nThis patch adds logic to check power_interface to\nmake iRMC driver properly deal with iRMC firmware's IPMI\nincompatibility even when `ipmitool` power_interface\nis used.\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)\n""}]",15,885275,0859c6d176d74a97dd821218fc4b11c3d1023e9f,42,3,1,30566,,,0,"[iRMC] Fix IPMI incompatibility handling error

This patch deals with overlooked situation in patch
d23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which
`irmc_ipmi_succeed` flag is added to deal with iRMC
firmware's IPMI incompatibility introduced at iRMC
firmware version S6 2.00 and later.
That flag is set and updated by `irmc` power_interface
code and rest of iRMC driver code use that flag.

When `ipmitool` is set as power_interface, that flag
is not set nor updated and rest of iRMC driver code
fail to handle IPMI incompatibility correctly.

This patch adds logic to check power_interface to
make iRMC driver properly deal with iRMC firmware's IPMI
incompatibility even when `ipmitool` power_interface
is used.

Change-Id: Id353c4f5260a7c469779b50ad302f442223df5a0
(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/885275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py']",3,0859c6d176d74a97dd821218fc4b11c3d1023e9f,2023.1_fix_ipmi_incompat_handling_bug," if (getattr(node, 'power_interface') == 'ipmitool' or node.driver_internal_info.get('irmc_ipmi_succeed')):", if node.driver_internal_info.get('irmc_ipmi_succeed'):,22,7
openstack%2Fswift~913836,openstack/swift,feature/mpu,Iaab46cc4b222579e30f92bddc7346ffa01e7c173,WIP s3 mpu async cleanup,ABANDONED,2024-03-20 18:39:53.000000000,2024-04-04 15:00:35.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-20 18:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2a10a3757d77772ecad266a3a45cfa121c3eb6a', 'message': 'WIP s3 mpu async cleanup\n\nChange-Id: Iaab46cc4b222579e30f92bddc7346ffa01e7c173\n'}, {'number': 2, 'created': '2024-03-21 15:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/43d317c1c4e65e3fa45027bff34806cca8efdd52', 'message': 'WIP s3 mpu async cleanup\n\nChange-Id: Iaab46cc4b222579e30f92bddc7346ffa01e7c173\n'}, {'number': 3, 'created': '2024-03-22 15:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fe997d9df34cceab607890208abd20b51f24cf5d', 'message': 'WIP s3 mpu async cleanup\n\nApply async auditor cleanup to legacy SLO MPUs.\n\nChange-Id: Iaab46cc4b222579e30f92bddc7346ffa01e7c173\n'}, {'number': 4, 'created': '2024-03-22 15:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/16a727c27ae232da2a318c900a3af2de3e965ba5', 'message': 'WIP s3 mpu async cleanup\n\nApply async auditor cleanup to legacy SLO MPUs.\n\nChange-Id: Iaab46cc4b222579e30f92bddc7346ffa01e7c173\n'}, {'number': 5, 'created': '2024-04-03 08:30:31.000000000', 'files': ['swift/common/middleware/s3api/controllers/obj.py', 'test/unit/common/middleware/s3api/test_obj.py', 'test/unit/container/test_mpu_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7cd6d91d7ea9bafd5e08e8066ff2fa4943a0383a', 'message': 'WIP s3 mpu async cleanup\n\nApply async auditor cleanup to legacy SLO MPUs.\n\nChange-Id: Iaab46cc4b222579e30f92bddc7346ffa01e7c173\n'}]",4,913836,7cd6d91d7ea9bafd5e08e8066ff2fa4943a0383a,15,2,5,7847,,,0,"WIP s3 mpu async cleanup

Apply async auditor cleanup to legacy SLO MPUs.

Change-Id: Iaab46cc4b222579e30f92bddc7346ffa01e7c173
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/913836/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/obj.py', 'test/unit/common/middleware/s3api/test_obj.py']",2,d2a10a3757d77772ecad266a3a45cfa121c3eb6a,p-mpu-mw,"from swift.proxy.controllers.base import ResponseCollection, ResponseData def test_object_PUT_overwites_mpu_async_cleanup(self): backend_responses = ResponseCollection([ResponseData( 201, headers={'x-object-sysmeta-s3api-upload-id': 'mpu-id', 'x-object-sysmeta-s3api-etag': 'my-etag-2'}) ]) env_updates = {'swift.backend_responses': backend_responses} self.swift.register('PUT', '/v1/AUTH_test/bucket/object', swob.HTTPCreated, {}, None, env_updates=env_updates) self.swift.register( 'PUT', '/v1/AUTH_test/bucket+segments/object/mpu-id/deleted', swob.HTTPCreated, {}, None) etag = self.response_headers['etag'] content_md5 = binascii.b2a_base64(binascii.a2b_hex(etag)).strip() if not six.PY2: content_md5 = content_md5.decode('ascii') req = Request.blank( '/bucket/object', environ={'REQUEST_METHOD': 'PUT'}, headers={'Authorization': 'AWS test:tester:hmac', 'x-amz-storage-class': 'STANDARD', 'Content-MD5': content_md5, 'Date': self.get_date_header()}, body=self.object_body) req.date = datetime.now() req.content_type = 'text/plain' status, headers, body = self.call_s3api(req) self.assertEqual(status.split()[0], '200') # Check that s3api returns an etag header. self.assertEqual(headers['etag'], '""%s""' % etag) exp_calls = [ ('PUT', '/v1/AUTH_test/bucket/object'), ('PUT', '/v1/AUTH_test/bucket+segments/object/mpu-id/deleted'), ] if self.s3api.conf.s3_acl: exp_calls.insert(0, ('HEAD', '/v1/AUTH_test/bucket')) self.assertEqual(exp_calls, self.swift.calls) exp_calls = [('DELETE', '/v1/AUTH_test/bucket/object')] if self.s3api.conf.s3_acl: exp_calls.insert(0, ('HEAD', '/v1/AUTH_test/bucket')) self.assertEqual(exp_calls, self.swift.calls) def test_object_DELETE_multipart_async_cleanup(self): backend_responses = ResponseCollection([ResponseData( 204, headers={'x-object-sysmeta-s3api-upload-id': 'mpu-id', 'x-object-sysmeta-s3api-etag': 'my-etag-2'}) ]) env_updates = {'swift.backend_responses': backend_responses} self.swift.register('DELETE', '/v1/AUTH_test/bucket/object', swob.HTTPNoContent, {}, None, env_updates=env_updates) self.swift.register( 'HEAD', '/v1/AUTH_test/bucket+segments', swob.HTTPNoContent, {}, None) self.swift.register( 'PUT', '/v1/AUTH_test/bucket+segments/object/mpu-id/deleted', swob.HTTPCreated, {}, None) req = Request.blank('/bucket/object', environ={'REQUEST_METHOD': 'DELETE'}, headers={'Authorization': 'AWS test:tester:hmac', 'Date': self.get_date_header()}) status, headers, body = self.call_s3api(req) self.assertEqual(status.split()[0], '204') if self.s3api.conf.s3_acl: exp_calls = [ ('HEAD', '/v1/AUTH_test/bucket'), ('DELETE', '/v1/AUTH_test/bucket/object'), ('PUT', '/v1/AUTH_test/bucket+segments/object/mpu-id/deleted'), ] else: exp_calls = [ ('DELETE', '/v1/AUTH_test/bucket/object'), ('PUT', '/v1/AUTH_test/bucket+segments/object/mpu-id/deleted'), ] self.assertEqual(exp_calls, self.swift.calls) # TODO: understand why these calls went away # ('HEAD', '/v1/AUTH_test'), # ('HEAD', '/v1/AUTH_test/bucket'),"," def test_object_DELETE_multipart(self): req = Request.blank('/bucket/object', environ={'REQUEST_METHOD': 'DELETE'}, headers={'Authorization': 'AWS test:tester:hmac', 'Date': self.get_date_header()}) status, headers, body = self.call_s3api(req) self.assertEqual(status.split()[0], '204') self.assertIn(('HEAD', '/v1/AUTH_test/bucket/object?symlink=get'), self.swift.calls) self.assertEqual(('DELETE', '/v1/AUTH_test/bucket/object'), self.swift.calls[-1]) _, path = self.swift.calls[-1] self.assertEqual(path.count('?'), 0) self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPNotFound, {}, None) self.assertEqual(('HEAD', '/v1/AUTH_test/bucket/object?symlink=get'), self.swift.calls[0]) self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, {'x-static-large-object': 'True'}, None) self.swift.register('DELETE', '/v1/AUTH_test/bucket/object', swob.HTTPOk, {}, '<SLO delete results>') req = Request.blank('/bucket/object', environ={'REQUEST_METHOD': 'DELETE'}, headers={'Authorization': 'AWS test:tester:hmac', 'Date': self.get_date_header(), 'Content-Type': 'foo/bar'}) status, headers, body = self.call_s3api(req) self.assertEqual(status.split()[0], '204') self.assertEqual(body, b'') self.assertIn(('HEAD', '/v1/AUTH_test/bucket/object?symlink=get'), self.swift.calls) self.assertIn(('DELETE', '/v1/AUTH_test/bucket/object' '?multipart-manifest=delete'), self.swift.calls) _, path, headers = self.swift.calls_with_headers[-1] path, query_string = path.split('?', 1) query = {} for q in query_string.split('&'): key, arg = q.split('=') query[key] = arg self.assertEqual(query['multipart-manifest'], 'delete') # HEAD did not indicate that it was an S3 MPU, so no async delete self.assertNotIn('async', query) self.assertNotIn('Content-Type', headers) def test_slo_object_async_DELETE(self): self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, {'x-static-large-object': 'True', 'x-object-sysmeta-s3api-etag': 's3-style-etag'}, None) self.assertIn(('HEAD', '/v1/AUTH_test/bucket/object?symlink=get'), self.swift.calls) self.assertIn(('DELETE', '/v1/AUTH_test/bucket/object' '?async=on&multipart-manifest=delete'), self.swift.calls) _, path, headers = self.swift.calls_with_headers[-1] path, query_string = path.split('?', 1) query = {} for q in query_string.split('&'): key, arg = q.split('=') query[key] = arg self.assertEqual(query['multipart-manifest'], 'delete') self.assertEqual(query['async'], 'on') self.assertNotIn('Content-Type', headers) self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object' '?symlink=get&version-id=1574358170.12293'), self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object' '?symlink=get&version-id=1574358170.12293'), self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object' '?symlink=get&version-id=1574358170.12293'), self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object' '?symlink=get&version-id=1574358170.12293'), self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object' '?symlink=get&version-id=1574358170.12293'), self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPOk, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object' '?symlink=get&version-id=1574358170.12293'), self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPNotFound, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object?symlink=get'), ('HEAD', '/v1/AUTH_test'), ('HEAD', '/v1/AUTH_test/bucket'), self.swift.register('HEAD', '/v1/AUTH_test/bucket/object', swob.HTTPNotFound, self.response_headers, None) ('HEAD', '/v1/AUTH_test/bucket/object' '?symlink=get&version-id=1574701081.61553'),",169,117
openstack%2Fswift~914944,openstack/swift,feature/mpu,Iee2ebcded25cc266be78f237639450f0f7ac9d21,FakeInternalClient: capture params argument,ABANDONED,2024-04-03 08:30:31.000000000,2024-04-04 14:58:50.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 08:30:31.000000000', 'files': ['test/unit/cli/test_container_deleter.py', 'test/unit/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0b23eeea116cf5216a611d2dfc753d0c1072aeb1', 'message': 'FakeInternalClient: capture params argument\n\nAlso, allow FakeInternalClient to return, rather than raise, instances\nof swob.HTTPException such as HTTPOk.\n\nChange-Id: Iee2ebcded25cc266be78f237639450f0f7ac9d21\n'}]",6,914944,0b23eeea116cf5216a611d2dfc753d0c1072aeb1,6,2,1,7847,,,0,"FakeInternalClient: capture params argument

Also, allow FakeInternalClient to return, rather than raise, instances
of swob.HTTPException such as HTTPOk.

Change-Id: Iee2ebcded25cc266be78f237639450f0f7ac9d21
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/914944/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_container_deleter.py', 'test/unit/__init__.py']",2,0b23eeea116cf5216a611d2dfc753d0c1072aeb1,p-mpu-mw," 'method', 'path', 'query', 'headers', 'body', 'params']) self.calls.append(AppCall(method, path, query, headers, body, params)) if isinstance(resp, swob.HTTPException): return resp elif isinstance(resp, Exception): else: return resp"," 'method', 'path', 'query', 'headers', 'body']) self.calls.append(AppCall(method, path, query, headers, body)) if isinstance(resp, Exception): return resp",18,13
openstack%2Fcharm-designate~914522,openstack/charm-designate,stable/yoga,I5dafeb2b4dcf9549260081d3674038f836d29f0f,separate rndc.key file per application,MERGED,2024-03-27 14:06:30.000000000,2024-04-04 14:36:32.000000000,2024-04-04 14:36:32.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-27 14:06:30.000000000', 'files': ['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/61214ba61a2e37814201395f6a4f7ea10b09af06', 'message': 'separate rndc.key file per application\n\nThis change fixes an issue that when the charm-designate is\nrelated to two different designate-bind applications, the same\nrndc key file is used for the two different applications.\n\nWe fix this by writing an rndc_key_file per application rather than in\na single rndc.key file for all the units.\n\nCloses-Bug: #1995975\n\nChange-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}]",0,914522,61214ba61a2e37814201395f6a4f7ea10b09af06,9,4,1,32371,,,0,"separate rndc.key file per application

This change fixes an issue that when the charm-designate is
related to two different designate-bind applications, the same
rndc key file is used for the two different applications.

We fix this by writing an rndc_key_file per application rather than in
a single rndc.key file for all the units.

Closes-Bug: #1995975

Change-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f
Signed-off-by: David Negreira <david.negreira@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/22/914522/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml']",6,61214ba61a2e37814201395f6a4f7ea10b09af06,, rndc_key_file: {{ slave.rndc_key_file }}, rndc_key_file: /etc/designate/rndc.key,99,10
openstack%2Fwatcher~913344,openstack/watcher,stable/2024.1,I67913036e99e24d8963452265b48002ca017af3f,Update TOX_CONSTRAINTS_FILE for stable/2024.1,NEW,2024-03-15 14:16:10.000000000,2024-04-04 14:31:00.000000000,,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-15 14:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b85a502dcff169af7587b3e55c13daf00218fc62', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2024.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2024.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I67913036e99e24d8963452265b48002ca017af3f\n'}, {'number': 2, 'created': '2024-03-30 06:58:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/f5ef5557ab5dc4fafb180ca4794df9bb57592eb9', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2024.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2024.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I67913036e99e24d8963452265b48002ca017af3f\n'}]",0,913344,f5ef5557ab5dc4fafb180ca4794df9bb57592eb9,5,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2024.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2024.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I67913036e99e24d8963452265b48002ca017af3f
",git fetch https://review.opendev.org/openstack/watcher refs/changes/44/913344/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b85a502dcff169af7587b3e55c13daf00218fc62,create-2024.1,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2024.1} {opts} {packages},install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fwatcher~913343,openstack/watcher,stable/2024.1,I08eff2b45fc9ddd9a74ebc21256636ec194446d7,Update .gitreview for stable/2024.1,NEW,2024-03-15 14:16:09.000000000,2024-04-04 14:30:50.000000000,,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-15 14:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ad1ded18236dfac5307356558a740d8fe28bf04e', 'message': 'Update .gitreview for stable/2024.1\n\nChange-Id: I08eff2b45fc9ddd9a74ebc21256636ec194446d7\n'}, {'number': 2, 'created': '2024-03-30 06:58:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c604e00b4dd601fc0c87ac13a0e9599a647fbfb5', 'message': 'Update .gitreview for stable/2024.1\n\nChange-Id: I08eff2b45fc9ddd9a74ebc21256636ec194446d7\n'}]",0,913343,c604e00b4dd601fc0c87ac13a0e9599a647fbfb5,5,2,2,22816,,,0,"Update .gitreview for stable/2024.1

Change-Id: I08eff2b45fc9ddd9a74ebc21256636ec194446d7
",git fetch https://review.opendev.org/openstack/watcher refs/changes/43/913343/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ad1ded18236dfac5307356558a740d8fe28bf04e,create-2024.1,defaultbranch=stable/2024.1,,1,0
openstack%2Fpuppet-cinder~915037,openstack/puppet-cinder,master,I4feb7f4ff1dd874e5e288a475db9dea2743bdac8,PowerMax: Support new API timeout options,MERGED,2024-04-04 00:48:28.000000000,2024-04-04 13:55:35.000000000,2024-04-04 13:54:37.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 00:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/19722a4b4db032b9bc0ede4a98378b4990e83984', 'message': 'PowerMax: Support new iAPI timeout options\n\nDepends-on: https://review.opendev.org/907768\nChange-Id: I4feb7f4ff1dd874e5e288a475db9dea2743bdac8\n'}, {'number': 2, 'created': '2024-04-04 01:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6174f0c49ed4bc927dafdfd7d06e964da6672aec', 'message': 'PowerMax: Support new API timeout options\n\nDepends-on: https://review.opendev.org/907768\nChange-Id: I4feb7f4ff1dd874e5e288a475db9dea2743bdac8\n'}, {'number': 3, 'created': '2024-04-04 02:17:21.000000000', 'files': ['manifests/backend/dellemc_powermax.pp', 'spec/defines/cinder_backend_dellemc_powermax_spec.rb', 'releasenotes/notes/powermax-timeout-options-99e0c13f0b71b2e2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b18358aaaed9d0b931fe9200d7c6ec20b5feeb19', 'message': 'PowerMax: Support new API timeout options\n\nDepends-on: https://review.opendev.org/907768\nChange-Id: I4feb7f4ff1dd874e5e288a475db9dea2743bdac8\n'}]",0,915037,b18358aaaed9d0b931fe9200d7c6ec20b5feeb19,10,3,3,9816,,,0,"PowerMax: Support new API timeout options

Depends-on: https://review.opendev.org/907768
Change-Id: I4feb7f4ff1dd874e5e288a475db9dea2743bdac8
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/37/915037/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_powermax.pp', 'spec/defines/cinder_backend_dellemc_powermax_spec.rb', 'releasenotes/notes/powermax-timeout-options-99e0c13f0b71b2e2.yaml']",3,19722a4b4db032b9bc0ede4a98378b4990e83984,,--- features: - | The following parameters have been added to the ``cinder::backend::dellemd_powermax`` defined resource type. - ``rest_api_connect_timeout`` - ``rest_api_read_timeout`` ,,26,0
openstack%2Fcharm-nova-compute~915060,openstack/charm-nova-compute,stable/yoga,Ifd21dfc83f51d0e22e40c40e1567955ec77499b7,Fix Ussuri gate,ABANDONED,2024-04-04 12:29:28.000000000,2024-04-04 13:50:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-04 12:29:28.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ad1caabb9a3e928406efc271688ea7dedc448bb6', 'message': 'Fix Ussuri gate\n\nplatformdirs needed to be pinned due to py36 job\n\nAlso had to set an upper-limit for jsonschema.\n\nChange-Id: Ifd21dfc83f51d0e22e40c40e1567955ec77499b7\n'}]",0,915060,ad1caabb9a3e928406efc271688ea7dedc448bb6,3,1,1,14567,,,0,"Fix Ussuri gate

platformdirs needed to be pinned due to py36 job

Also had to set an upper-limit for jsonschema.

Change-Id: Ifd21dfc83f51d0e22e40c40e1567955ec77499b7
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/60/915060/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ad1caabb9a3e928406efc271688ea7dedc448bb6,, jsonschema<4.18.0 # jsonschema 4.18.0 depends on Rust (via rpds-py) # needed for py36 due to openstacksdk>=0.18.0->python-ironicclient->zaza.openstack platformdirs<2.5.0;python_version<'3.7',,5,0
openstack%2Fheat~915006,openstack/heat,stable/2023.2,I7b141f8846005da8379b1c646b298088d27a66bc,Fix update of OS::Heat::UpdateWaitConditionHandle,MERGED,2024-04-04 05:38:21.000000000,2024-04-04 13:19:23.000000000,2024-04-04 13:18:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 05:38:21.000000000', 'files': ['heat/engine/resources/openstack/heat/wait_condition_handle.py', 'releasenotes/notes/fix-update-of-UpdateWaitConditionHandle-98ef3ed47892bbc8.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/4ca77ff93a6e5e058c52585197fbc7008718be70', 'message': 'Fix update of OS::Heat::UpdateWaitConditionHandle\n\nThe update method has incomplete arguments and causes error during\nactual stack update operation.\n\nStory: 2011068\nTask: 49751\nChange-Id: I7b141f8846005da8379b1c646b298088d27a66bc\n(cherry picked from commit 399352dfdc5a68bdb439b5ee65f550e126792877)\n(cherry picked from commit 202bc9f572b8f7522682be70d26b6dd6f2b50f43)\n'}]",1,915006,4ca77ff93a6e5e058c52585197fbc7008718be70,15,2,1,9816,,,0,"Fix update of OS::Heat::UpdateWaitConditionHandle

The update method has incomplete arguments and causes error during
actual stack update operation.

Story: 2011068
Task: 49751
Change-Id: I7b141f8846005da8379b1c646b298088d27a66bc
(cherry picked from commit 399352dfdc5a68bdb439b5ee65f550e126792877)
(cherry picked from commit 202bc9f572b8f7522682be70d26b6dd6f2b50f43)
",git fetch https://review.opendev.org/openstack/heat refs/changes/06/915006/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/wait_condition_handle.py', 'releasenotes/notes/fix-update-of-UpdateWaitConditionHandle-98ef3ed47892bbc8.yaml']",2,4ca77ff93a6e5e058c52585197fbc7008718be70,story/2011068,"--- features: - | Fixed the ``OS::Heat::UpdateWaitConditionHandle`` resource type, which caused stack update to fail consistently. ",,7,1
openstack%2Fpuppet-manila~915042,openstack/puppet-manila,master,Id99a42300cc0336aa1ce283e12af238254537af4,Fix wrong test case title in manila::api unit tests,MERGED,2024-04-04 03:20:25.000000000,2024-04-04 13:04:50.000000000,2024-04-04 13:04:50.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 03:20:25.000000000', 'files': ['spec/classes/manila_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/6d51d113543469b08f91307f7b86f21a3c93cc3e', 'message': 'Fix wrong test case title in manila::api unit tests\n\nTrivial-Fix\n\nChange-Id: Id99a42300cc0336aa1ce283e12af238254537af4\n'}]",0,915042,6d51d113543469b08f91307f7b86f21a3c93cc3e,7,3,1,9816,,,0,"Fix wrong test case title in manila::api unit tests

Trivial-Fix

Change-Id: Id99a42300cc0336aa1ce283e12af238254537af4
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/42/915042/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_api_spec.rb'],1,6d51d113543469b08f91307f7b86f21a3c93cc3e,," context 'with bind_host' do context 'with oslo.middleware options' do req_params.merge({ 'enable_proxy_headers_parsing' => true, 'max_request_body_size' => '102400' }) it 'should configure oslo.middleware correctly' do :max_request_body_size => '102400',"," context 'with only required params' do context 'with only required params' do req_params.merge({'enable_proxy_headers_parsing' => true}) it { is_expected.to contain_class('manila::policy') } it 'should configure manila api correctly' do ) end end context 'with only required params' do let :params do req_params.merge({'max_request_body_size' => '102400'}) end it { is_expected.to contain_class('manila::policy') } it 'should configure manila api correctly' do is_expected.to contain_oslo__middleware('manila_config').with( :max_request_body_size => '102400',",9,17
openstack%2Fkeystonemiddleware~901644,openstack/keystonemiddleware,master,I6f369136c0e338e8f8da9ef6a926b4317ee31e94,Imported Translations from Zanata,MERGED,2023-11-22 03:40:00.000000000,2024-04-04 12:55:26.000000000,2024-04-04 12:54:26.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9816}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-11-22 03:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/fced516f44a08f3cdf941b00b05748f3a4158e80', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f369136c0e338e8f8da9ef6a926b4317ee31e94\n'}, {'number': 2, 'created': '2024-01-06 05:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/22a31fd7655ef01cc9f072033482909470fbf592', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f369136c0e338e8f8da9ef6a926b4317ee31e94\n'}, {'number': 3, 'created': '2024-01-27 05:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/874b365f352997361f5c669bed642233414d9b0e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f369136c0e338e8f8da9ef6a926b4317ee31e94\n'}, {'number': 4, 'created': '2024-02-08 03:40:54.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ebb842abf01745be4dbd280764faee6d32b2a76b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6f369136c0e338e8f8da9ef6a926b4317ee31e94\n'}]",0,901644,ebb842abf01745be4dbd280764faee6d32b2a76b,18,7,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6f369136c0e338e8f8da9ef6a926b4317ee31e94
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/44/901644/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,fced516f44a08f3cdf941b00b05748f3a4158e80,zanata/translations,"""POT-Creation-Date: 2023-11-21 12:13+0000\n""msgid ""10.0.0"" msgstr ""10.0.0"" msgid """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgstr """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" ","""POT-Creation-Date: 2023-06-30 18:03+0000\n""",11,1
openstack%2Foslo.messaging~914450,openstack/oslo.messaging,stable/2023.1,I6f4a453a69e942d5b2d66ffeca6960b85c8bc721,kafka: Fix invalid hostaddr format for IPv6 address,MERGED,2024-03-27 15:09:52.000000000,2024-04-04 11:14:45.000000000,2024-04-04 11:13:50.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-03-27 15:09:52.000000000', 'files': ['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/da1706e62c8bf488fb1fcdaaa4d2ba09138c67c7', 'message': 'kafka: Fix invalid hostaddr format for IPv6 address\n\nWhen IPv6 address is used for host, the hostaddr should be formatted\nin [<address>]:<port> format instead of <address>:<port> format. This\nensures the correct format is used.\n\nCloses-Bug: 1907702\nChange-Id: I6f4a453a69e942d5b2d66ffeca6960b85c8bc721\n(cherry picked from commit b0e28a160310613401315f23c7faac9e01403f4b)\n(cherry picked from commit 5cb7cbfc6a9aba75d2695d706ed49b2c1d4e6346)\n(cherry picked from commit 8be07d3a6e3ec4d3e1a78203951fe39ebd1036d6)\n'}]",0,914450,da1706e62c8bf488fb1fcdaaa4d2ba09138c67c7,11,3,1,9816,,,0,"kafka: Fix invalid hostaddr format for IPv6 address

When IPv6 address is used for host, the hostaddr should be formatted
in [<address>]:<port> format instead of <address>:<port> format. This
ensures the correct format is used.

Closes-Bug: 1907702
Change-Id: I6f4a453a69e942d5b2d66ffeca6960b85c8bc721
(cherry picked from commit b0e28a160310613401315f23c7faac9e01403f4b)
(cherry picked from commit 5cb7cbfc6a9aba75d2695d706ed49b2c1d4e6346)
(cherry picked from commit 8be07d3a6e3ec4d3e1a78203951fe39ebd1036d6)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/50/914450/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py']",2,da1706e62c8bf488fb1fcdaaa4d2ba09138c67c7,bug/1907702," ('ipv4', dict(url='kafka://127.0.0.1:1234', expected=dict(hostaddrs=['127.0.0.1:1234'], username=None, password=None, vhost=None))), ('ipv6', dict(url='kafka://[::1]:1234', expected=dict(hostaddrs=['[::1]:1234'], username=None, password=None, vhost=None))),",,16,1
openstack%2Fswift~913990,openstack/swift,feature/mpu,I63931a2c3aad36a38ecb36371fc8bfa94fe3f5a0,FakeInternalClient: move to test/unit/__init__.py,MERGED,2024-03-22 15:17:49.000000000,2024-04-04 11:05:03.000000000,2024-04-03 17:37:51.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-22 15:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c6f5c3cf143781bd929900f6c0a45419cff699dc', 'message': 'FakeInternalClient: move to test/unit/__init__.py\n\nChange-Id: I63931a2c3aad36a38ecb36371fc8bfa94fe3f5a0\n'}, {'number': 2, 'created': '2024-04-03 08:30:31.000000000', 'files': ['test/unit/cli/test_container_deleter.py', 'test/unit/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d61e4729366202f9627565eac82bc4b1088f436d', 'message': 'FakeInternalClient: move to test/unit/__init__.py\n\nChange-Id: I63931a2c3aad36a38ecb36371fc8bfa94fe3f5a0\n'}]",10,913990,d61e4729366202f9627565eac82bc4b1088f436d,17,3,2,7847,,,0,"FakeInternalClient: move to test/unit/__init__.py

Change-Id: I63931a2c3aad36a38ecb36371fc8bfa94fe3f5a0
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/913990/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_container_deleter.py', 'test/unit/__init__.py']",2,c6f5c3cf143781bd929900f6c0a45419cff699dc,p-mpu-mw," import collectionsfrom swift.common import storage_policy, swob, utils, exceptions, \ internal_client AppCall = collections.namedtuple('AppCall', [ 'method', 'path', 'query', 'headers', 'body', 'params']) class FakeInternalClient(internal_client.InternalClient): def __init__(self, responses): self.resp_iter = iter(responses) self.calls = [] def make_request(self, method, path, headers, acceptable_statuses, body_file=None, params=None): if body_file is None: body = None else: body = body_file.read() path, _, query = path.partition('?') self.calls.append(AppCall(method, path, query, headers, body, params)) resp = next(self.resp_iter) if isinstance(resp, Exception): raise resp return resp def __enter__(self): return self def __exit__(self, *args): unused_responses = [r for r in self.resp_iter] if unused_responses: raise Exception('Unused responses: %r' % unused_responses)","from swift.common import storage_policy, swob, utils, exceptions",47,42
openstack%2Fcharm-ceph-radosgw~910562,openstack/charm-ceph-radosgw,master,I5bf8900c426395421c73ec3d52ebd691cc5496f8,Fix failing functional tests,MERGED,2024-02-29 03:16:54.000000000,2024-04-04 11:02:48.000000000,2024-04-04 11:02:48.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-29 03:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/69fce0253070d33d59d85d4d1823a34c53a8bbb1', 'message': ""Pin netaddr in test-requirements.txt\n\nThe latest netaddr 1.2.1 release throws an error when passed None, which\nit previously didn't. This causes MonContextTest.test_ctxt_missing_data\nto error out when is_ipv6 is called by format_ipv6_addr.\n\nnetaddr is already pinned in requirements.txt for other reasons, but\nwhen running unit tests a newer version of netaddr is sometimes pulled\nin by tempest from test-requirements.txt. Pin netaddr in\ntest-requirements.txt as well to avoid this.\n\nChange-Id: I5bf8900c426395421c73ec3d52ebd691cc5496f8\n""}, {'number': 2, 'created': '2024-02-29 07:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/f4b92af4cc856d9831c32400366cf2cc16c46317', 'message': ""Fix failing functional tests\n\nUpdate tox.ini to support the new TEST_CONSTRAINTS_FILE\n\nAdditionally pin netaddr in test-requirements.txt. The latest netaddr\n1.2.1 release throws an error when passed None, which it previously\ndidn't. This causes MonContextTest.test_ctxt_missing_data to error out.\nThis should probably be fixed in charmhelpers later.\n\nChange-Id: I5bf8900c426395421c73ec3d52ebd691cc5496f8\n""}, {'number': 3, 'created': '2024-02-29 07:53:34.000000000', 'files': ['test-requirements.txt', 'build-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/ebca1152ec0301bc540f98cbe0839434bd6d2db6', 'message': ""Fix failing functional tests\n\nUpdate tox.ini to support the new TEST_CONSTRAINTS_FILE\n\nAdditionally pin netaddr in test-requirements.txt. The latest netaddr\n1.2.1 release throws an error when passed None, which it previously\ndidn't. This causes MonContextTest.test_ctxt_missing_data to error out.\nThis should probably be fixed in charmhelpers later.\n\nChange-Id: I5bf8900c426395421c73ec3d52ebd691cc5496f8\n""}]",3,910562,ebca1152ec0301bc540f98cbe0839434bd6d2db6,17,3,3,21107,,,0,"Fix failing functional tests

Update tox.ini to support the new TEST_CONSTRAINTS_FILE

Additionally pin netaddr in test-requirements.txt. The latest netaddr
1.2.1 release throws an error when passed None, which it previously
didn't. This causes MonContextTest.test_ctxt_missing_data to error out.
This should probably be fixed in charmhelpers later.

Change-Id: I5bf8900c426395421c73ec3d52ebd691cc5496f8
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/62/910562/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,69fce0253070d33d59d85d4d1823a34c53a8bbb1,fix_test,"# netaddr is pinned in requirements.txt, but temptest below sometimes pulls in a newer version netaddr>0.7.16,<0.8.0 ",,3,0
openstack%2Fcodegenerator~914975,openstack/codegenerator,master,Ie8ea581f89008762a5e97d4c039026d299365ce8,Cover cinder tag(group) descriptions in the code,MERGED,2024-04-03 14:25:36.000000000,2024-04-04 10:45:42.000000000,2024-04-04 10:44:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-04-03 14:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/0844b62722dca809c6799e444e4f7616b94f4804', 'message': 'Cover cinder tag(group) descriptions in the code\n\nIn order to be able at some point in time to get rid of api-ref it is\nnecessary to start including more information directly in the code.\n\nChange-Id: Ie8ea581f89008762a5e97d4c039026d299365ce8\n'}, {'number': 2, 'created': '2024-04-04 10:08:24.000000000', 'files': ['codegenerator/openapi/cinder.py', 'codegenerator/openapi/cinder_schemas.py'], 'web_link': 'https://opendev.org/openstack/codegenerator/commit/3b26262638425cc5b9a78799664d9186c6ce6956', 'message': 'Cover cinder tag(group) descriptions in the code\n\nIn order to be able at some point in time to get rid of api-ref it is\nnecessary to start including more information directly in the code.\n\nChange-Id: Ie8ea581f89008762a5e97d4c039026d299365ce8\n'}]",0,914975,3b26262638425cc5b9a78799664d9186c6ce6956,9,2,2,27900,,,0,"Cover cinder tag(group) descriptions in the code

In order to be able at some point in time to get rid of api-ref it is
necessary to start including more information directly in the code.

Change-Id: Ie8ea581f89008762a5e97d4c039026d299365ce8
",git fetch https://review.opendev.org/openstack/codegenerator refs/changes/75/914975/1 && git format-patch -1 --stdout FETCH_HEAD,"['codegenerator/openapi/cinder.py', 'codegenerator/openapi/cinder_schemas.py']",2,0844b62722dca809c6799e444e4f7616b94f4804,,"CINDER_TAGS: dict[str, str] = { ""attachments"": """"""Lists all, lists all with details, shows details for, creates, and deletes attachment. **Note**: Everything except for Complete attachment is new as of the 3.27 microversion. Complete attachment is new as of the 3.44 microversion. When you create, list, update, or delete attachment, the possible status values are: - attached: A volume is attached for the attachment. - attaching: A volume is attaching for the attachment. - detached: A volume is detached for the attachment. - reserved: A volume is reserved for the attachment. - error_attaching: A volume is error attaching for the attachment. - error_detaching: A volume is error detaching for the attachment. - deleted: The attachment is deleted. """""", ""backups"": """"""A backup is a full copy of a volume stored in an external service. The service can be configured. The only supported service is Object Storage. A backup can subsequently be restored from the external service to either the same volume that the backup was originally taken from or to a new volume. When you create, list, or delete backups, these status values are possible: - creating: The backup is being created. - available: The backup is ready to restore to a volume. - deleting: The backup is being deleted. - error: A backup error occurred. - restoring: The backup is being restored to a volume. - error_deleting: An error occurred while deleting the backup. If an error occurs, you can find more information about the error in the fail_reason field for the backup. """""", ""capabilities"": ""Shows capabilities for a storage back end."", ""cgsnapshots"": ""Lists all, lists all with details, shows details for, creates, and deletes consistency group snapshots."", ""clusters"": """"""Administrator only. Lists all Cinder clusters, show cluster detail, enable or disable a cluster. Each cinder service runs on a host computer (possibly multiple services on the same host; it depends how you decide to deploy cinder). In order to support High Availibility scenarios, services can be grouped into clusters where the same type of service (for example, cinder-volume) can run on different hosts so that if one host goes down the service is still available on a different host. Since there’s no point having these services sitting around doing nothing while waiting for some other host to go down (which is also known as Active/Passive mode), grouping services into clusters also allows cinder to support Active/Active mode in which all services in a cluster are doing work all the time. **Note**: Currently the only service that can be grouped into clusters is cinder-volume. Clusters are determined by the deployment configuration; that’s why there is no ‘create-cluster’ API call listed below. Once your services are up and running, however, you can use the following API requests to get information about your clusters and to update their status. """""", ""consistencygroups"": """"""Consistency groups enable you to create snapshots at the exact same point in time from multiple volumes. For example, a database might place its tables, logs, and configuration on separate volumes. To restore this database from a previous point in time, it makes sense to restore the logs, tables, and configuration together from the exact same point in time. Use the policy configuration file to grant permissions for these actions to limit roles. """""", ""default-types"": """"""Manage a default volume type for individual projects. By default, a volume-create request that does not specify a volume-type will assign the configured system default volume type to the volume. You can override this behavior on a per-project basis by setting a different default volume type for any project. Available in microversion 3.62 or higher. **Note:** The default policy for list API is system admin so you would require a system scoped token to access it. To get a system scoped token, you need to run the following command: openstack –os-system-scope all –os-project-name=’’ token issue """""", ""group_snapshots"": """"""Lists all, lists all with details, shows details for, creates, and deletes group snapshots. """""", ""group_types"": ""To create a generic volume group, you must specify a group type."", ""groups"": """"""Generic volume groups enable you to create a group of volumes and manage them together. How is generic volume groups different from consistency groups? Currently consistency groups in cinder only support consistent group snapshot. It cannot be extended easily to serve other purposes. A project may want to put volumes used in the same application together in a group so that it is easier to manage them together, and this group of volumes may or may not support consistent group snapshot. Generic volume group is introduced to solve this problem. By decoupling the tight relationship between the group construct and the consistency concept, generic volume groups can be extended to support other features in the future. """""", ""limits"": ""Shows absolute limits for a project.\n\nAn absolute limit value of -1 indicates that the absolute limit for the item is infinite."", ""manageable_snapshots"": ""Creates or lists snapshots by using existing storage instead of allocating new storage."", ""manageable_volumes"": ""Creates or lists volumes by using existing storage instead of allocating new storage."", ""messages"": """"""Lists all, shows, and deletes messages. These are error messages generated by failed operations as a way to find out what happened when an asynchronous operation failed. """""", ""os-hosts"": ""Administrators only, depending on policy settings.\n\nLists, shows hosts."", ""os-quota-class-sets"": ""Administrators only, depending on policy settings.\n\nShows and updates quota classes for a project."", ""os-quota-sets"": ""Administrators only, depending on policy settings.\n\nShows and updates, and deletes quotas for a project."", ""os-services"": ""Administrator only. Lists all Cinder services, enables or disables a Cinder service, freeze or thaw the specified cinder-volume host, failover a replicating cinder-volume host."", ""os-volume-transfer"": ""Transfers a volume from one user to another user."", ""qos-specs"": """"""Administrators only, depending on policy settings. Creates, lists, shows details for, associates, disassociates, sets keys, unsets keys, and deletes quality of service (QoS) specifications. """""", ""resource_filters"": ""Lists all resource filters, available since microversion 3.33."", ""scheduler-stats"": ""Administrator only. Lists all back-end storage pools that are known to the scheduler service."", ""snapshots"": """"""A snapshot is a point-in-time copy of the data that a volume contains. When you create, list, or delete snapshots, these status values are possible: - creating: The snapshot is being created. - available: The snapshot is ready to use. - backing-up: The snapshot is being backed up. - deleting: The snapshot is being deleted. - error: A snapshot creation error occurred. - deleted: The snapshot has been deleted. - unmanaging: The snapshot is being unmanaged. - restoring: The snapshot is being restored to a volume. - error_deleting: A snapshot deletion error occurred. """""", ""types"": """"""To create an environment with multiple-storage back ends, you must specify a volume type. The API spawns Block Storage volume back ends as children to cinder-volume, and keys them from a unique queue. The API names the back ends cinder-volume.HOST.BACKEND. For example, cinder-volume.ubuntu.lvmdriver. When you create a volume, the scheduler chooses an appropriate back end for the volume type to handle the request. """""", ""volume-transfers"": ""Transfers a volume from one user to another user. This is the new transfer APIs with microversion 3.55."", ""volumes"": """"""A volume is a detachable block storage device similar to a USB hard drive. You can attach a volume to an instance, and if the volume is of an appropriate volume type, a volume can be attached to multiple instances. The snapshot_id and source_volid parameters specify the ID of the snapshot or volume from which this volume originates. If the volume was not created from a snapshot or source volume, these values are null. When you create, list, update, or delete volumes, the possible status values are: - creating: The volume is being created. - available: The volume is ready to attach to an instance. - reserved: The volume is reserved for attaching or shelved. - attaching: The volume is attaching to an instance. - detaching: The volume is detaching from an instance. - in-use: The volume is attached to an instance. - maintenance: The volume is locked and being migrated. - deleting: The volume is being deleted. - awaiting-transfer: The volume is awaiting for transfer. - error: A volume creation error occurred. - error_deleting: A volume deletion error occurred. - backing-up: The volume is being backed up. - restoring-backup: A backup is being restored to the volume. - error_backing-up: A backup error occurred. - error_restoring: A backup restoration error occurred. - error_extending: An error occurred while attempting to extend a volume. - downloading: The volume is downloading an image. - uploading: The volume is being uploaded to an image. - retyping: The volume is changing type to another volume type. - extending: The volume is being extended. """""", } ",,129,1
openstack%2Fnetworking-bgpvpn~911522,openstack/networking-bgpvpn,unmaintained/wallaby,I693c9d2b06b808d5780cef2f13a6fc34c44beab1,Update .gitreview for unmaintained/wallaby,NEW,2024-03-06 12:05:15.000000000,2024-04-04 10:21:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-06 12:05:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c6c53dfb8faec7aa01c91f7e000a691f0a52211d', 'message': 'Update .gitreview for unmaintained/wallaby\n\nChange-Id: I693c9d2b06b808d5780cef2f13a6fc34c44beab1\n'}]",0,911522,c6c53dfb8faec7aa01c91f7e000a691f0a52211d,2,1,1,22816,,,0,"Update .gitreview for unmaintained/wallaby

Change-Id: I693c9d2b06b808d5780cef2f13a6fc34c44beab1
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/22/911522/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c6c53dfb8faec7aa01c91f7e000a691f0a52211d,create-wallaby,defaultbranch=unmaintained/wallaby,defaultbranch=stable/wallaby,1,1
openstack%2Fkeystone~915002,openstack/keystone,stable/2024.1,Id789c09121f1405f7ba5e4926498dab4ad98e057,Allow admin to access tokens and credentials,MERGED,2024-04-03 19:04:47.000000000,2024-04-04 10:15:45.000000000,2024-04-04 10:14:04.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 19:04:47.000000000', 'files': ['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/application_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0dcc423a2621943ab9188cff3edb9bc488339fe0', 'message': 'Allow admin to access tokens and credentials\n\nThis patch modifies a few policies to allow users with the ""admin"" role\nto access /v3/auth/tokens and /v3/credentials.  These policies were\nmissed when we implemented Phase 1 of Secure RBAC.\n\nChange-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057\n(cherry picked from commit b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2)\n'}]",0,915002,0dcc423a2621943ab9188cff3edb9bc488339fe0,9,3,1,7973,,,0,"Allow admin to access tokens and credentials

This patch modifies a few policies to allow users with the ""admin"" role
to access /v3/auth/tokens and /v3/credentials.  These policies were
missed when we implemented Phase 1 of Secure RBAC.

Change-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057
(cherry picked from commit b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/02/915002/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/application_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py']",7,0dcc423a2621943ab9188cff3edb9bc488339fe0,secure-rbac-stable/2024.1," check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER,"," check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER,",38,30
openstack%2Freleases~906860,openstack/releases,master,I013acd8ad1caa53263cc8a4503e4a46b95123aac,Release murano for stable/zed,ABANDONED,2024-01-26 15:50:02.000000000,2024-04-04 09:49:22.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-26 15:50:02.000000000', 'files': ['deliverables/zed/murano.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eb4849b570ada838d72a1726c9f8995b127a6604', 'message': 'Release murano for stable/zed\n\nThis release picks up new commits to murano since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 14.0.0..42991d29\n42991d29 Update .gitreview for stable/zed\n153bb0ea Fix compatibility with oslo.db 12.1.0\n\nChange-Id: I013acd8ad1caa53263cc8a4503e4a46b95123aac\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",0,906860,eb4849b570ada838d72a1726c9f8995b127a6604,3,2,1,17685,,,0,"Release murano for stable/zed

This release picks up new commits to murano since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 14.0.0..42991d29
42991d29 Update .gitreview for stable/zed
153bb0ea Fix compatibility with oslo.db 12.1.0

Change-Id: I013acd8ad1caa53263cc8a4503e4a46b95123aac
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/906860/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/murano.yaml'],1,eb4849b570ada838d72a1726c9f8995b127a6604,zed-stable, - version: 14.0.1 projects: - repo: openstack/murano hash: 42991d29ac48f0b1e378a24da5be5c642d5fa021,,4,0
openstack%2Freleases~906877,openstack/releases,master,I8222d636415bf767eac28528ef96b379f91bc11a,Release sahara for stable/zed,ABANDONED,2024-01-26 16:54:22.000000000,2024-04-04 09:48:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2024-01-26 16:54:22.000000000', 'files': ['deliverables/zed/sahara.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4c9ce3ef54ebaad3947b48e207eef8a0246cb4a0', 'message': 'Release sahara for stable/zed\n\nThis release picks up new commits to sahara since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 17.0.0..9a8ced98\n9a8ced98 Update TOX_CONSTRAINTS_FILE for stable/zed\nc7a21239 Update .gitreview for stable/zed\naab24afe Make ApiValidator to work with jsonschema>=4.0.0\n\nChange-Id: I8222d636415bf767eac28528ef96b379f91bc11a\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",0,906877,4c9ce3ef54ebaad3947b48e207eef8a0246cb4a0,3,2,1,17685,,,0,"Release sahara for stable/zed

This release picks up new commits to sahara since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 17.0.0..9a8ced98
9a8ced98 Update TOX_CONSTRAINTS_FILE for stable/zed
c7a21239 Update .gitreview for stable/zed
aab24afe Make ApiValidator to work with jsonschema>=4.0.0

Change-Id: I8222d636415bf767eac28528ef96b379f91bc11a
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/906877/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/sahara.yaml'],1,4c9ce3ef54ebaad3947b48e207eef8a0246cb4a0,zed-stable, - version: 17.0.1 projects: - repo: openstack/sahara hash: 9a8ced98cbb1f93fde69749ebbe120bb95509460,,4,0
openstack%2Freleases~908365,openstack/releases,master,Icd8a7b152b92e38ed3a308bb63c190ecad94630b,[telemetry-tempest-plugin] Tag yoga-last,MERGED,2024-02-07 22:55:26.000000000,2024-04-04 09:20:05.000000000,2024-04-04 09:20:05.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2024-02-07 22:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7fb33fe6f058070221ffbd642e3075ddd2bc63c8', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}, {'number': 2, 'created': '2024-02-08 00:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9b823cce2a63bbeb719d827f5bb47f1455dbfe12', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}, {'number': 3, 'created': '2024-02-08 01:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e8a3c10685f5485c1344a245eac65f089a291841', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}, {'number': 4, 'created': '2024-02-13 14:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c68294370729f9db4dfd545c67b825d59dd6aa1f', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}, {'number': 5, 'created': '2024-02-13 14:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e0ffc8e2f7a89731365fe5353b13f4aff6ce34a8', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}, {'number': 6, 'created': '2024-02-13 14:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/13aca8cc51447fa3752f375b0ab2b7f720266bb2', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' as well as a new version with latest hash.\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}, {'number': 7, 'created': '2024-02-13 19:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bc35c368af64d1ca9b592059d2991e480a898b89', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' with same hash as v1.11.0 proposed in depends-on\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/907406\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}, {'number': 8, 'created': '2024-03-25 18:58:44.000000000', 'files': ['deliverables/yoga/telemetry-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/876a0e19caf9c67ab939be6dbfecc793c9d02fc3', 'message': ""[telemetry-tempest-plugin] Tag yoga-last\n\nYoga branch is in unmaintained state now[1]. Tempest and tempest\nplugins are branchless which means master version of Tempest and\nits plugins is used to test the supported stable branches.\n\nOnce any stable branch is moved to unmaintained (previously for\nEM) state then, Tempest and its plugins compatible tag[2][3] needs\nto be released so that we can keep testing the unmaintained stable\nbranches with that tag.\n\nTagging 'yoga-last' with same hash as v1.11.0 proposed in\nhttps://review.opendev.org/c/openstack/releases/+/913549\n\n[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b\n""}]",11,908365,876a0e19caf9c67ab939be6dbfecc793c9d02fc3,28,7,8,8556,,,0,"[telemetry-tempest-plugin] Tag yoga-last

Yoga branch is in unmaintained state now[1]. Tempest and tempest
plugins are branchless which means master version of Tempest and
its plugins is used to test the supported stable branches.

Once any stable branch is moved to unmaintained (previously for
EM) state then, Tempest and its plugins compatible tag[2][3] needs
to be released so that we can keep testing the unmaintained stable
branches with that tag.

Tagging 'yoga-last' with same hash as v1.11.0 proposed in
https://review.opendev.org/c/openstack/releases/+/913549

[1] https://review.opendev.org/q/topic:%22yoga-unmaintained%22
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Icd8a7b152b92e38ed3a308bb63c190ecad94630b
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/908365/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/telemetry-tempest-plugin.yaml', 'deliverables/caracal/telemetry-tempest-plugin.yaml']",2,7fb33fe6f058070221ffbd642e3075ddd2bc63c8,yoga-last, - version: 1.11.0 projects: - repo: openstack/telemetry-tempest-plugin hash: 0beea18cea300f9c20f3c2c952ee40303886c32e,,8,0
openstack%2Freleases~906848,openstack/releases,master,I6b6e996d3801073496f276fa044f9dc9389c4768,Release keystone for stable/zed,MERGED,2024-01-26 15:33:17.000000000,2024-04-04 09:20:03.000000000,2024-04-04 09:20:03.000000000,"[{'_account_id': 308}, {'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-26 15:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7f9a3f9135bf8ff71e48b8979203cb9094662d8c', 'message': 'Release keystone for stable/zed\n\nThis release picks up new commits to keystone since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 22.0.1..72a4fc0f3\n72a4fc0f3 Add an option to randomize LDAP urls list\n\nChange-Id: I6b6e996d3801073496f276fa044f9dc9389c4768\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}, {'number': 2, 'created': '2024-01-29 12:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/512b345e9259f8ae70c0e0474980afaefd29f556', 'message': 'Release keystone for stable/zed\n\nThis release picks up new commits to keystone since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 22.0.1..72a4fc0f3\n72a4fc0f3 Add an option to randomize LDAP urls list\n\nChange-Id: I6b6e996d3801073496f276fa044f9dc9389c4768\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}, {'number': 3, 'created': '2024-01-29 12:58:43.000000000', 'files': ['deliverables/zed/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/705fd4423f2465c7f56a438ea52a96b048843a3f', 'message': 'Release keystone for stable/zed\n\nThis release picks up new commits to keystone since\nthe last release from stable/zed.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 22.0.1..72a4fc0f3\n72a4fc0f3 Add an option to randomize LDAP urls list\n\nChange-Id: I6b6e996d3801073496f276fa044f9dc9389c4768\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",3,906848,705fd4423f2465c7f56a438ea52a96b048843a3f,12,5,3,17685,,,0,"Release keystone for stable/zed

This release picks up new commits to keystone since
the last release from stable/zed.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 22.0.1..72a4fc0f3
72a4fc0f3 Add an option to randomize LDAP urls list

Change-Id: I6b6e996d3801073496f276fa044f9dc9389c4768
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/906848/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/keystone.yaml'],1,7f9a3f9135bf8ff71e48b8979203cb9094662d8c,zed-stable, - version: 22.0.2 projects: - repo: openstack/keystone hash: 72a4fc0f3ccf7a5ca9fc40e5364e14f881ec27b2 - Implemented `OAuth 2.0 credentials grant <https://specs.openstack.org/openstack/keystone-specs/specs/keystone/yoga/oauth2-client-credentials-ext.html>`_, - Implemented `OAuth 2.0 credentials grant <https://specs.openstack.org/openstack/keystone-specs/specs/keystone/yoga/oauth2-client-credentials-ext.html>`_,6,1
openstack%2Freleases~914822,openstack/releases,master,If2fc3e4f838cd7f684ffd553fa882e4485dd6c4d,Add releasenotes link for Tempest 2024.1 release,MERGED,2024-04-01 17:11:08.000000000,2024-04-04 09:20:00.000000000,2024-04-04 09:20:00.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-04-01 17:11:08.000000000', 'files': ['deliverables/caracal/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bca92c3570ace054ea7d7d83272d6a6ce37e4291', 'message': 'Add releasenotes link for Tempest 2024.1 release\n\nChange-Id: If2fc3e4f838cd7f684ffd553fa882e4485dd6c4d\n'}]",1,914822,bca92c3570ace054ea7d7d83272d6a6ce37e4291,9,4,1,8556,,,0,"Add releasenotes link for Tempest 2024.1 release

Change-Id: If2fc3e4f838cd7f684ffd553fa882e4485dd6c4d
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/914822/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/caracal/tempest.yaml'],1,bca92c3570ace054ea7d7d83272d6a6ce37e4291,qa-2024-1-release,release-notes: https://docs.openstack.org/releasenotes/tempest/v38.0.0.html,,1,0
openstack%2Fopenstack-ansible~862870,openstack/openstack-ansible,master,I726363371253384217b8cca5fdcbc5439271d751,Do not run CentOS 9 Stream jobs in gates,ABANDONED,2022-10-28 08:37:10.000000000,2024-04-04 09:10:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-28 08:37:10.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9ba60c4a40f14e16fac4b2422e1ea033708c605', 'message': 'Do not run CentOS 9 Stream jobs in gates\n\nCentOS 9 Stream and Rocky 9 are quite alike, so no reason to run both in\ngates and save some CI resources with that. Rocky is picked as we have\na good contact among OS maintainers and it tend to be quite stable.\n\nChange-Id: I726363371253384217b8cca5fdcbc5439271d751\n'}]",1,862870,e9ba60c4a40f14e16fac4b2422e1ea033708c605,5,1,1,28619,,,0,"Do not run CentOS 9 Stream jobs in gates

CentOS 9 Stream and Rocky 9 are quite alike, so no reason to run both in
gates and save some CI resources with that. Rocky is picked as we have
a good contact among OS maintainers and it tend to be quite stable.

Change-Id: I726363371253384217b8cca5fdcbc5439271d751
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/70/862870/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,e9ba60c4a40f14e16fac4b2422e1ea033708c605,,, - openstack-ansible-deploy-aio_lxc-centos-9-stream - openstack-ansible-deploy-infra_lxc-centos-9-stream - openstack-ansible-deploy-hosts_lxc-centos-9-stream - openstack-ansible-deploy-hosts_metal-centos-9-stream - openstack-ansible-deploy-hosts_distro_lxc-centos-9-stream - openstack-ansible-deploy-aio_metal-centos-9-stream - openstack-ansible-deploy-aio_telemetry_metal-centos-9-stream - openstack-ansible-deploy-hosts_lxc_overlayfs-centos-9-stream,0,8
openstack%2Fovsdbapp~914414,openstack/ovsdbapp,master,If93037f35723c56d3da635e1a7aa42c092c8e7d6,Handle IPv6 addresses for LB IP port mappings,MERGED,2024-03-26 22:15:42.000000000,2024-04-04 09:09:40.000000000,2024-04-04 09:07:53.000000000,"[{'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2024-03-26 22:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/35a5168a108dcc0f5f4370f12be6e372b9df0200', 'message': 'Handle IPv6 addresses for LB IP port mappings\n\nThe ovn-nb manpage states that for v6 addresses, the IPs need to\nbe enclosed in brackets for Load_Balancer.ip_port_mappings.\n\nCloses-Bug: #2057471\n\nSigned-off-by: Terry Wilson <twilson@redhat.com>\nChange-Id: If93037f35723c56d3da635e1a7aa42c092c8e7d6\n'}, {'number': 2, 'created': '2024-04-02 21:42:48.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8d206dd63d7bbf9ed23c8368f4692c59c0fdab99', 'message': 'Handle IPv6 addresses for LB IP port mappings\n\nThe ovn-nb manpage states that for v6 addresses, the IPs need to\nbe enclosed in brackets for Load_Balancer.ip_port_mappings.\n\nCloses-Bug: #2057471\n\nSigned-off-by: Terry Wilson <twilson@redhat.com>\nChange-Id: If93037f35723c56d3da635e1a7aa42c092c8e7d6\n'}]",8,914414,8d206dd63d7bbf9ed23c8368f4692c59c0fdab99,20,3,2,5756,,,0,"Handle IPv6 addresses for LB IP port mappings

The ovn-nb manpage states that for v6 addresses, the IPs need to
be enclosed in brackets for Load_Balancer.ip_port_mappings.

Closes-Bug: #2057471

Signed-off-by: Terry Wilson <twilson@redhat.com>
Change-Id: If93037f35723c56d3da635e1a7aa42c092c8e7d6
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/14/914414/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",2,35a5168a108dcc0f5f4370f12be6e372b9df0200,," def _test_lb_add_del_ip_port_mapping_v6(self, col): endpoint_ip = '2001:db8::1' port_name = 'sw1-p1' source_ip = '2001:db8::2' lb = self._lb_add(utils.get_rand_device_name(), '2001:1:db8::1', ['2001:db8:2::1']) self.assertEqual(lb.ip_port_mappings, {}) val = getattr(lb, col) n_endpoint_ip = f""[{endpoint_ip}]"" n_source_ip = f""[{source_ip}]"" self.api.lb_add_ip_port_mapping(val, endpoint_ip, port_name, source_ip).execute(check_error=True) self.assertEqual(lb.ip_port_mappings[n_endpoint_ip], '%s:%s' % (port_name, n_source_ip)) self.api.lb_del_ip_port_mapping(val, endpoint_ip).execute(check_error=True) self.assertEqual(lb.ip_port_mappings, {}) self._test_lb_add_del_ip_port_mapping_v6('uuid') self._test_lb_add_del_ip_port_mapping_v6('name')",,35,5
openstack%2Fopenstack-ansible~746544,openstack/openstack-ansible,master,I484b1d0e659ff6aaf0284390e147adc616d63e1f,Return nova services reload,ABANDONED,2020-08-17 15:13:23.000000000,2024-04-04 09:07:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-17 15:13:23.000000000', 'files': ['playbooks/os-nova-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9998d9479ca9b8646a7f3912d904eb7b022a92a4', 'message': 'Return nova services reload\n\nNova service reload has been replaced with restart several cycles ago.\nNow issue has been fixed and we can revert service action back to reload\n\nAlong with that we restart only vnc/spice service on nova_console hosts.\n\nChange-Id: I484b1d0e659ff6aaf0284390e147adc616d63e1f\n'}]",0,746544,9998d9479ca9b8646a7f3912d904eb7b022a92a4,10,2,1,28619,,,0,"Return nova services reload

Nova service reload has been replaced with restart several cycles ago.
Now issue has been fixed and we can revert service action back to reload

Along with that we restart only vnc/spice service on nova_console hosts.

Change-Id: I484b1d0e659ff6aaf0284390e147adc616d63e1f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/746544/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-nova-install.yml'],1,9998d9479ca9b8646a7f3912d904eb7b022a92a4,os-nova-install," service_action: ""reloaded"" service_fact: ""nova"" service_name: ""nova-novncproxy|nova-spicehtml5proxy"""," # NOTE(mnaser): There is a bug in oslo.service which actually restarts # the entire service instead of resetting it, but it # leaves Nova in a broken state. This should be moved # to ""reloaded"" once it's resolved. # # https://bugs.launchpad.net/openstack-ansible/+bug/1715374 # service_action: ""restarted"" service_name: ""nova""",3,11
openstack%2Fpython-novaclient~915047,openstack/python-novaclient,master,I84ab2e841f9a74e4bdcc33ec02b8e5e5d808d982,DNM: Testing jobs,ABANDONED,2024-04-04 07:47:14.000000000,2024-04-04 09:04:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-04 07:47:14.000000000', 'files': ['novaclient/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/110fd83e82eed9b5c15bfdeb14026a1b8c64db13', 'message': 'DNM: Testing jobs\n\nChange-Id: I84ab2e841f9a74e4bdcc33ec02b8e5e5d808d982\n'}]",0,915047,110fd83e82eed9b5c15bfdeb14026a1b8c64db13,3,1,1,13252,,,0,"DNM: Testing jobs

Change-Id: I84ab2e841f9a74e4bdcc33ec02b8e5e5d808d982
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/47/915047/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/__init__.py'],1,110fd83e82eed9b5c15bfdeb14026a1b8c64db13,py312-test,# DNM,,1,0
openstack%2Fneutron-tempest-plugin~914637,openstack/neutron-tempest-plugin,master,I33e87b3abd1a7c6422b6b1bf21c5e8c0ad9d33bb,Add logging as common extension,ABANDONED,2024-03-28 11:33:56.000000000,2024-04-04 09:04:58.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-28 11:33:56.000000000', 'files': ['zuul.d/2023_1_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cecc0cd85285afba68339bfd4a41dafa62eb38f0', 'message': 'Add logging as common extension\n\nLogging feature is supported in both ML2/OVN and ML2/OVS,\nadding extension to enable related testing in plugin,\nand also in dependent whitebox neutron tempest plugin.\n\nChange-Id: I33e87b3abd1a7c6422b6b1bf21c5e8c0ad9d33bb\n'}]",3,914637,cecc0cd85285afba68339bfd4a41dafa62eb38f0,7,2,1,33341,,,0,"Add logging as common extension

Logging feature is supported in both ML2/OVN and ML2/OVS,
adding extension to enable related testing in plugin,
and also in dependent whitebox neutron tempest plugin.

Change-Id: I33e87b3abd1a7c6422b6b1bf21c5e8c0ad9d33bb
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/37/914637/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/2023_1_jobs.yaml'],1,cecc0cd85285afba68339bfd4a41dafa62eb38f0,add_logging_ext, - logging,,1,0
openstack%2Fneutron~884407,openstack/neutron,master,I881dfd665b3dcb5a95ee6f77853a0add4020875c,haproxy: Add support for configuring syslog,ABANDONED,2023-05-25 14:53:27.000000000,2024-04-04 09:03:35.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 14:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c847374961951bcdf664e0bc6c04c988b941e1b', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 2, 'created': '2023-05-25 15:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5ed69b05e92b7c89a7cdfc79907702c5490d308', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 3, 'created': '2023-05-26 14:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46ab5b93282dd95ee556d634c1b93d60ca4bf854', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 4, 'created': '2023-05-30 16:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/115f452faeb9d6918427c3f64f8579661971c12a', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 5, 'created': '2023-05-31 07:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0285c830dabcc65bfdd1026c94bbaa0531f5c440', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 6, 'created': '2023-08-18 09:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41780782fcc56443ed86a77ba4fb3797bd93c8f5', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 7, 'created': '2023-08-22 13:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9184f06c51ac9157eba4b9ffbc5ccda090375433', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 8, 'created': '2023-08-23 09:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5916b8dd142d09d1eee07c0037463b5ab35ea4ce', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 9, 'created': '2023-12-04 13:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acfda73590f269b0c06f05f056d9befa8157fa93', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 10, 'created': '2023-12-29 07:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e919f5a8e9a5391bb6eec97042fea40f3bd1b7e8', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 11, 'created': '2024-01-09 15:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/071e88f65c4e9f4c556ec57098bd8882093154f4', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 12, 'created': '2024-01-09 15:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/071593b8cb018f77e1a69ae07f109eeae4f47af5', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 13, 'created': '2024-01-09 15:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afae5884e0e8dc2f8a001d702ac8327fab40c741', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 14, 'created': '2024-01-09 15:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48b708f21423f3c4c7a28ee3d9eed0b192cd30e2', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}, {'number': 15, 'created': '2024-01-09 15:46:17.000000000', 'files': ['neutron/conf/agent/common.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/l2/extensions/metadata/host_metadata_proxy.py', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/common/metadata.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4323ae616783df2721e90e2c5797f635f0dd7d66', 'message': 'haproxy: Add support for configuring syslog\n\nAdd haproxy_log_dest and haproxy_log_facility under [agent] section in\nneutron.conf\n\nChange-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c\n'}]",4,884407,4323ae616783df2721e90e2c5797f635f0dd7d66,63,2,15,22629,,,0,"haproxy: Add support for configuring syslog

Add haproxy_log_dest and haproxy_log_facility under [agent] section in
neutron.conf

Change-Id: I881dfd665b3dcb5a95ee6f77853a0add4020875c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/884407/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/agent/common.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/l2/extensions/metadata/host_metadata_proxy.py', 'neutron/common/metadata.py']",4,9c847374961951bcdf664e0bc6c04c988b941e1b,, log %(log_dest)s %(log_facility)s %(log_level)s, log /dev/log local0 %(log_level)s,12,2
openstack%2Fneutron~893656,openstack/neutron,master,I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c,ovn-l3 router scheduler: reproduce scheduling issue,ABANDONED,2023-09-04 14:07:36.000000000,2024-04-04 09:03:27.000000000,,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-09-04 14:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f1b5afd4104f20bbb48b39bbe5aad46fb6474a8', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 2, 'created': '2023-09-04 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/142aee15fe54caed0869035873467f015ea9126c', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 3, 'created': '2023-09-06 07:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2000a0f303191452aa31db8f3872fd8feb56cbd3', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 4, 'created': '2023-09-06 08:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c60e21ddd0a95e19bf9745b870137cc65aefeaa', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 5, 'created': '2023-09-07 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0eca006e9ecf00832674cd7c2fd458b3adeddf7', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 6, 'created': '2023-09-08 14:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fd13377b8f37c960f589d2892d4e05be4e045fb', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 7, 'created': '2023-09-11 06:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d69dc4f50d3496511aa4515ca20edf7234a7d893', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 8, 'created': '2023-09-11 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce9963871474521d1ab0a7c8561519067acda428', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 9, 'created': '2023-09-18 09:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca9843b292a87976ab27d1ccb4a08502298b7dc3', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 10, 'created': '2023-10-02 11:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9daffc092e318befee18d9db5d5e030ff733c6f4', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 11, 'created': '2023-10-04 11:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43db7688aa8c29275b5d758d6a72f25e2e6767b0', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 12, 'created': '2023-12-13 06:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/978294255aec10a41f10e129e1eda630d891b7d7', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 13, 'created': '2023-12-18 12:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/477fe647fafe3051cada3f0b7187efbfc71873e2', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 14, 'created': '2023-12-18 13:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6aaa71c0a098d893c604959fd1bf56fdaad50b7', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}, {'number': 15, 'created': '2024-01-17 11:04:42.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/resources/ovsdb/events.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c7b56ac51f69c93bfe6126d99ed95837fe85e31', 'message': 'ovn-l3 router scheduler: reproduce scheduling issue\n\nThis test (in contrast to others) contains a large amount of print\nstatements in order to give developers any chance of debugging the\nissues that may arise when touching ovn-l3 scheduler.\n\nPartial-Bug: #2023993\nChange-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c\n'}]",33,893656,9c7b56ac51f69c93bfe6126d99ed95837fe85e31,57,4,15,29074,,,0,"ovn-l3 router scheduler: reproduce scheduling issue

This test (in contrast to others) contains a large amount of print
statements in order to give developers any chance of debugging the
issues that may arise when touching ovn-l3 scheduler.

Partial-Bug: #2023993
Change-Id: I29a7c25150fc5cbc5c8d1a9c24cf3fa4d5bf1a0c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/893656/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/resources/ovsdb/events.py']",2,2f1b5afd4104f20bbb48b39bbe5aad46fb6474a8,neutron_ovn_l3_scheduler," class WaitForChassisCreateDeleteEvent(event.RowEvent): event_name = 'WaitForChassisCreateDeleteEvent' TABLE = 'Chassis_Private' def __init__(self, timeout=5): self.chassis_events = collections.defaultdict(threading.Event) self.timeout = timeout super(WaitForChassisCreateDeleteEvent, self).__init__( (self.ROW_CREATE, self.ROW_DELETE), 'Chassis_Private', None) def match_fn(self, event, row, old=None): return True def run(self, event, row, old): self.chassis_events[row.name].set() def wait(self, chassis_name): wait_val = self.chassis_events[chassis_name].wait( self.timeout) del self.chassis_events[chassis_name] return wait_val def clear_events(self): self.chassis_events = collections.defaultdict(threading.Event)",,141,0
openstack%2Fneutron~893657,openstack/neutron,master,I372920a5e3c8e1e1a8a97ff455eb13181a171344,ovn-l3: implement caching for Scheduler,ABANDONED,2023-09-04 14:07:36.000000000,2024-04-04 09:03:19.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2023-09-04 14:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd89523991e6a8492b220ae22e962c6ff60c1ce6', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 2, 'created': '2023-09-04 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81e9a58648b4ba441449bdca6f29759f253eb904', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 3, 'created': '2023-09-06 07:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/860a39b261f165b1098c8e733e293063a23d632c', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 4, 'created': '2023-09-06 08:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07f69d8242ebbb1d70e4e092c511a85b1e47ec6f', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 5, 'created': '2023-09-07 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd68104684112fa063c74fe87ffbe935d112a847', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 6, 'created': '2023-09-08 14:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/622f869d4f7cdc495fd35465aeedc263f798002a', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 7, 'created': '2023-09-11 06:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9379b709b9c68483d691daf5ac151a2a94bc5601', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 8, 'created': '2023-09-11 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12420bf18ba4df3487c47e43b2c3d32a18960a8a', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 9, 'created': '2023-09-18 09:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6ceca29ad53b1cffc34bdd6f1da2c0b8dc46719', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 10, 'created': '2023-10-02 11:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61d584487a22e4d4e46dd1e9585b2d1eb780c1ab', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 11, 'created': '2023-10-04 11:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aced42e99fdefa32b4f454105ead3e0b61e7dbc6', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 12, 'created': '2023-12-13 06:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52a25c78975a172b02157a5d337c6b625880fd3a', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 13, 'created': '2023-12-18 12:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ea91bf07a81c4aeb443d7e2edc48fc2d1a50f62', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 14, 'created': '2023-12-18 13:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8211ae64453d9cf791ad8553aebee89d72ef3270', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}, {'number': 15, 'created': '2024-01-17 11:04:42.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/tests/unit/scheduler/test_l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/73b84a21d31901fdbd79574d39a1a56b5b3b4532', 'message': 'ovn-l3: implement caching for Scheduler\n\nThis implements caching for the OVNGatewayLeastLoadedScheduler. During\ntestruns it brings the testtime down by 25% (hopefully having a bigger\nimplact in production).\n\nCaching for now is implemented only for inidividual scheduling runs. So\nit will offer some benefit when gateway chassis are added or removed.\nHowever it will not increase the performance of e.g. adding an\nindividual router. This is because tracking the state of the cache\nover a longer time is quite error prone.\nTherefor we just use the cache during a scheduling run, even if there\nwould be slight errors in the calculation (e.g. by a router being\ndeleted in parallel) this will probably not affect the scheduling\nquality significantly.\n\nPartial-Bug: #2023993\nChange-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344\n'}]",10,893657,73b84a21d31901fdbd79574d39a1a56b5b3b4532,70,4,15,29074,,,0,"ovn-l3: implement caching for Scheduler

This implements caching for the OVNGatewayLeastLoadedScheduler. During
testruns it brings the testtime down by 25% (hopefully having a bigger
implact in production).

Caching for now is implemented only for inidividual scheduling runs. So
it will offer some benefit when gateway chassis are added or removed.
However it will not increase the performance of e.g. adding an
individual router. This is because tracking the state of the cache
over a longer time is quite error prone.
Therefor we just use the cache during a scheduling run, even if there
would be slight errors in the calculation (e.g. by a router being
deleted in parallel) this will probably not affect the scheduling
quality significantly.

Partial-Bug: #2023993
Change-Id: I372920a5e3c8e1e1a8a97ff455eb13181a171344
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/893657/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py']",3,bd89523991e6a8492b220ae22e962c6ff60c1ce6,neutron_ovn_l3_scheduler," with self.scheduler as scheduler: for g_name in lrps: physnet = port_physnet_dict.get( g_name[len(ovn_const.LRP_PREFIX):]) # Remove any invalid gateway chassis from the list, otherwise # we can have a situation where all existing_chassis are # invalid existing_chassis = self._nb_ovn.get_gateway_chassis_binding( g_name) primary = existing_chassis[0] if existing_chassis else None az_hints = self._nb_ovn.get_gateway_chassis_az_hints(g_name) filtered_chassis = [] if reschedule_all_prios: filtered_chassis = [primary] else: filtered_chassis = \ self.scheduler.filter_existing_chassis( nb_idl=self._nb_ovn, gw_chassis=all_gw_chassis, physnet=physnet, chassis_physnets=chassis_with_physnets, existing_chassis=existing_chassis, az_hints=az_hints, chassis_with_azs=chassis_with_azs) if existing_chassis != filtered_chassis: first_diff = None for i in range(len(filtered_chassis)): if existing_chassis[i] != filtered_chassis[i]: first_diff = i break if first_diff is not None: LOG.debug(""A chassis for this gateway has been "" ""filtered. Rebalancing priorities %s "" ""and lower"", first_diff) filtered_chassis = filtered_chassis[first_diff::] for i in range(len(filtered_chassis), len(existing_chassis)): scheduler.notify_chassis_unscheduled( existing_chassis[i], ovn_const.MAX_GW_CHASSIS - i) candidates = self._ovn_client.get_candidates_for_scheduling( physnet, cms=all_gw_chassis, chassis_physnets=chassis_with_physnets, availability_zone_hints=az_hints) chassis = scheduler.select( self._nb_ovn, g_name, candidates=candidates, existing_chassis=filtered_existing_chassis) if primary and primary != chassis[0]: if primary not in chassis: LOG.debug(""Primary gateway chassis %(old)s "" ""has been removed from the system. Moving "" ""gateway %(gw)s to other chassis %(new)s."", {'gw': g_name, 'old': primary, 'new': chassis[0]}) else: LOG.debug(""Gateway %s is hosted at %s."", g_name, primary) # NOTE(mjozefcz): It means scheduler moved primary # chassis to other gw based on scheduling method. But # we don't want network flap - so moving actual primary # to be on the top. index = chassis.index(primary) chassis[0], chassis[index] = chassis[index], chassis[0] # NOTE(dalvarez): Let's commit the changes in separate # transactions as we will rely on those for scheduling # subsequent gateways. with self._nb_ovn.transaction(check_error=True) as txn: txn.add(self._nb_ovn.update_lrouter_port( g_name, gateway_chassis=chassis))"," for g_name in lrps: physnet = port_physnet_dict.get(g_name[len(ovn_const.LRP_PREFIX):]) # Remove any invalid gateway chassis from the list, otherwise # we can have a situation where all existing_chassis are invalid existing_chassis = self._nb_ovn.get_gateway_chassis_binding(g_name) primary = existing_chassis[0] if existing_chassis else None az_hints = self._nb_ovn.get_gateway_chassis_az_hints(g_name) filtered_existing_chassis = [] if reschedule_all_prios: filtered_existing_chassis = [primary] else: filtered_existing_chassis = \ self.scheduler.filter_existing_chassis( nb_idl=self._nb_ovn, gw_chassis=all_gw_chassis, physnet=physnet, chassis_physnets=chassis_with_physnets, existing_chassis=existing_chassis, az_hints=az_hints, chassis_with_azs=chassis_with_azs) if existing_chassis != filtered_existing_chassis: first_diff = None for i in range(len(filtered_existing_chassis)): if existing_chassis[i] != filtered_existing_chassis[i]: first_diff = i break if first_diff is not None: LOG.debug( ""A chassis for this gateway has been filtered. "" ""Rebalancing priorities %s and lower"", first_diff) filtered_existing_chassis = filtered_existing_chassis[ first_diff::] candidates = self._ovn_client.get_candidates_for_scheduling( physnet, cms=all_gw_chassis, chassis_physnets=chassis_with_physnets, availability_zone_hints=az_hints) chassis = self.scheduler.select( self._nb_ovn, g_name, candidates=candidates, existing_chassis=filtered_existing_chassis) if primary and primary != chassis[0]: if primary not in chassis: LOG.debug(""Primary gateway chassis %(old)s "" ""has been removed from the system. Moving "" ""gateway %(gw)s to other chassis %(new)s."", {'gw': g_name, 'old': primary, 'new': chassis[0]}) else: LOG.debug(""Gateway %s is hosted at %s."", g_name, primary) # NOTE(mjozefcz): It means scheduler moved primary chassis # to other gw based on scheduling method. But we don't # want network flap - so moving actual primary to be on # the top. index = chassis.index(primary) chassis[0], chassis[index] = chassis[index], chassis[0] # NOTE(dalvarez): Let's commit the changes in separate transactions # as we will rely on those for scheduling subsequent gateways. with self._nb_ovn.transaction(check_error=True) as txn: txn.add(self._nb_ovn.update_lrouter_port( g_name, gateway_chassis=chassis))",124,67
openstack%2Fneutron~893658,openstack/neutron,master,Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813,ovn-l3: try to keep routers at current chassis,ABANDONED,2023-09-04 14:07:36.000000000,2024-04-04 09:03:06.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2023-09-04 14:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7cda3bdf389ba8a08e28c80f85b51c83469fe0c', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 2, 'created': '2023-09-04 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86c0c39dee2aff6361c8b9cce05aa029fd86d7e8', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 3, 'created': '2023-09-06 07:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cd22ae90ed823a21cd2967ad6405c65cc4583a3', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 4, 'created': '2023-09-06 08:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/facf5e91c7d5e3d77a831845f896add3be1f219a', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 5, 'created': '2023-09-07 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b22a5b8703bf7f2d71b7d1421d8e34b890828cc', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 6, 'created': '2023-09-08 14:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/651f5cae258eb9005a1e36a68682431b39be5f4f', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 7, 'created': '2023-09-11 06:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/519409132769d2f76fbbf45fe29b6ff7cc9bf472', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 8, 'created': '2023-09-11 09:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f163fc1eabe0e8e280416c140ae27ecdc79510c', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 9, 'created': '2023-09-11 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d76f57538d41ddb36fdc7eb0908349b5aa99d4ef', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 10, 'created': '2023-09-18 09:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/019ea2e5cc4cd052447d7de0627bf6223610da18', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 11, 'created': '2023-10-02 11:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a507bba7b789b3b9dc0d5a056612c9ac674946b', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 12, 'created': '2023-10-04 11:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/060268b04680e5348f6e5586f25c075f6f35f5e9', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 13, 'created': '2023-12-13 06:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57c7971947f4da14e36812a1543bc13b42e7db4b', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 14, 'created': '2023-12-18 12:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5723c74c578552522093c565f8829839e51428c0', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 15, 'created': '2023-12-18 13:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9663ee5bcf9800c306afce73325a0affeaf34349', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}, {'number': 16, 'created': '2024-01-17 11:04:42.000000000', 'files': ['neutron/scheduler/l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/294650001d4538e637abb0543d0f5e43a01bb184', 'message': 'ovn-l3: try to keep routers at current chassis\n\nif we have the choice between multiple chassis for a given priority we\nshould (if possible) use the chassis on which the router is for the\ngiven priority. This reduces the amount of router moves in testcases by\n10%\n\nChange-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813\n'}]",4,893658,294650001d4538e637abb0543d0f5e43a01bb184,70,4,16,29074,,,0,"ovn-l3: try to keep routers at current chassis

if we have the choice between multiple chassis for a given priority we
should (if possible) use the chassis on which the router is for the
given priority. This reduces the amount of router moves in testcases by
10%

Change-Id: Id9c4ee7b1aa9e0eb9fcf576af9b1392be1bcf813
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/893658/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/scheduler/l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py']",2,e7cda3bdf389ba8a08e28c80f85b51c83469fe0c,neutron_ovn_l3_scheduler," existing_chassis=filtered_chassis, existing_chassis_hint=existing_chassis)", existing_chassis=filtered_existing_chassis),39,14
openstack%2Fneutron~893659,openstack/neutron,master,I25253c2ed130346d81f84450603d6470adf4de6f,ovn-l3: value the higher priorities when scheduling,ABANDONED,2023-09-04 14:07:36.000000000,2024-04-04 09:02:57.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29074}]","[{'number': 1, 'created': '2023-09-04 14:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb44cef236e35289654d08987552f52e1652a6a4', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 2, 'created': '2023-09-04 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/beba7acc57525ea89811d318c514d62485cdddcf', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 3, 'created': '2023-09-06 07:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/956d7c73add6ff38e0ccbb4ba3fd6fdfd6464b2e', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 4, 'created': '2023-09-06 08:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95f611980ef0ad5ffd9d7988906e75eb8fff9b8a', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 5, 'created': '2023-09-07 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90e5aa1f28ce36e89284d8fc7d72c68c26fc8c63', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 6, 'created': '2023-09-08 14:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4561a8441c906ec36a1ad90a0f134bd494d4c01c', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 7, 'created': '2023-09-11 06:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34b6719efa50ed7b7df3c77c76cb40c071b72684', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 8, 'created': '2023-09-11 09:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da9623fbcc2e9ce9b495ecea4b4a963ff72b416c', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 9, 'created': '2023-09-11 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5622c503f3709d30bd053d376085b52aba858cc', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 10, 'created': '2023-09-18 09:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3150d10d1a1dce27c7e84f104bc85449628fa50b', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 11, 'created': '2023-10-02 11:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/317621aeecc021165d666dfde7d008b800c9bbdb', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 12, 'created': '2023-10-04 11:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f787f6db4d07377f7dc4a80febcaae31eafe65d', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 13, 'created': '2023-12-13 06:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60e38985f349e226e53ce0d6468e42de2d0d69c0', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 14, 'created': '2023-12-18 12:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a418d20b790cff807565b404614c42bf41e8309', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 15, 'created': '2023-12-18 13:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a72cc8f79f5ea0bf8d2d882b239bbd5f50b6d17b', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}, {'number': 16, 'created': '2024-01-17 11:04:42.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b35c7b64786e97adbc81cdd3c8c14a42863188ca', 'message': 'ovn-l3: value the higher priorities when scheduling\n\nthe previous scheduler has been able to schedule a even number of\nlrp per gateway chassis. However it did schedule each priority\nindependenly of each other. While this causes a nice balance inside each\npriority it does not value the cases where there is a gateway chassis\nfailover.\nIn this case all lrps that where previously prio 5 on this gateway\nchassis will failover to their respective prio 4 gateway chassis. Since\nthe prio 4 chassis have been evenly balanced they can cause a prio 5\nchassis that already has more than average lrps to become even more\ncrowded.\nTo fix this we now take higher priorities into account when searching\nfor a chassis for lower priorities. This ensures that we spread the load\nof prio 5 more evenly, allthough the load of the rest of the prios is\nless evenly distributed.\n\nPartial-Bug: #2023993\nChange-Id: I25253c2ed130346d81f84450603d6470adf4de6f\n'}]",0,893659,b35c7b64786e97adbc81cdd3c8c14a42863188ca,67,4,16,29074,,,0,"ovn-l3: value the higher priorities when scheduling

the previous scheduler has been able to schedule a even number of
lrp per gateway chassis. However it did schedule each priority
independenly of each other. While this causes a nice balance inside each
priority it does not value the cases where there is a gateway chassis
failover.
In this case all lrps that where previously prio 5 on this gateway
chassis will failover to their respective prio 4 gateway chassis. Since
the prio 4 chassis have been evenly balanced they can cause a prio 5
chassis that already has more than average lrps to become even more
crowded.
To fix this we now take higher priorities into account when searching
for a chassis for lower priorities. This ensures that we spread the load
of prio 5 more evenly, allthough the load of the rest of the prios is
less evenly distributed.

Partial-Bug: #2023993
Change-Id: I25253c2ed130346d81f84450603d6470adf4de6f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/893659/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py']",3,bb44cef236e35289654d08987552f52e1652a6a4,neutron_ovn_l3_scheduler," self._reschedule_lrps(unhosted_gateways, False, len(port_physnet_dict)) self._reschedule_lrps(relevant_ports, True, len(port_physnet_dict)) def _reschedule_lrps(self, lrps, reschedule_all_prios, lrp_count_hint=None): existing_chassis_hint=existing_chassis, lrp_count_hint=lrp_count_hint)"," self._reschedule_lrps(unhosted_gateways, False) self._reschedule_lrps(relevant_ports, True) def _reschedule_lrps(self, lrps, reschedule_all_prios): existing_chassis_hint=existing_chassis)",53,14
openstack%2Fneutron-tempest-plugin~905421,openstack/neutron-tempest-plugin,master,I3745c7421c74027697de1fbc857ea5f896b333f1,Add test job for firewall_v2 backend OVN,ABANDONED,2024-01-12 08:50:19.000000000,2024-04-04 09:02:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-01-12 08:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/78c7454c2d84e2e06a98484662d46b6a5f47bbbe', 'message': 'Add test job for firewall_v2 backend OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-fwaas/+/845756\nRelated-Bug: #1971958\nChange-Id: I3745c7421c74027697de1fbc857ea5f896b333f1\n'}, {'number': 2, 'created': '2024-01-12 09:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a5e05b57b000ed1fe356cfc5f536b5c9793d9b3e', 'message': 'Add test job for firewall_v2 backend OVN\n\nRelated-Bug: #1971958\nChange-Id: I3745c7421c74027697de1fbc857ea5f896b333f1\n'}, {'number': 3, 'created': '2024-01-12 09:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9454df4d599d7e18ec46bc3c8252e3a385aaacd2', 'message': 'Add test job for firewall_v2 backend OVN\n\nRelated-Bug: #1971958\nChange-Id: I3745c7421c74027697de1fbc857ea5f896b333f1\n'}, {'number': 4, 'created': '2024-01-18 02:59:40.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1ebbd44908166cdf52c34cae8a049b44a0676729', 'message': 'Add test job for firewall_v2 backend OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-fwaas/+/845756\nRelated-Bug: #1971958\nChange-Id: I3745c7421c74027697de1fbc857ea5f896b333f1\n'}]",1,905421,1ebbd44908166cdf52c34cae8a049b44a0676729,9,1,4,28056,,,0,"Add test job for firewall_v2 backend OVN

Depends-On: https://review.opendev.org/c/openstack/neutron-fwaas/+/845756
Related-Bug: #1971958
Change-Id: I3745c7421c74027697de1fbc857ea5f896b333f1
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/21/905421/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,78c7454c2d84e2e06a98484662d46b6a5f47bbbe,bug/1971958, - neutron-tempest-plugin-fwaas-ovn - neutron-tempest-plugin-fwaas-ovn,,73,0
openstack%2Fneutron-tempest-plugin~906020,openstack/neutron-tempest-plugin,master,Idd64c04b98006b0ecfaad9f9c3a8c218a57ab4db,Add test job for address_group api backend Ml2/OVN,ABANDONED,2024-01-18 03:17:05.000000000,2024-04-04 09:02:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-01-18 03:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/39bb73dc28e94c5ccda2e8be4923be5c18fd2fff', 'message': 'Add test job for address_group api backend Ml2/OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/851509\nRelated-Bug: #1982287\nChange-Id: Idd64c04b98006b0ecfaad9f9c3a8c218a57ab4db\n'}, {'number': 2, 'created': '2024-01-18 08:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0d05d136c6047bd1257e872774f10b00b58fdb1b', 'message': 'Add test job for address_group api backend Ml2/OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/851509\nRelated-Bug: #1982287\nChange-Id: Idd64c04b98006b0ecfaad9f9c3a8c218a57ab4db\n'}, {'number': 3, 'created': '2024-01-18 14:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a32b78e638dc77185fb5e11af09185391eb7b90e', 'message': 'Add test job for address_group api backend Ml2/OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/851509\nRelated-Bug: #1982287\nChange-Id: Idd64c04b98006b0ecfaad9f9c3a8c218a57ab4db\n'}, {'number': 4, 'created': '2024-01-19 03:08:34.000000000', 'files': ['neutron_tempest_plugin/scenario/test_security_groups.py', 'zuul.d/yoga_jobs.yaml', 'zuul.d/2023_1_jobs.yaml', 'zuul.d/zed_jobs.yaml', 'zuul.d/2023_2_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4b9407d94f0b5be9d39a529d2af4341f1e9df752', 'message': 'Add test job for address_group api backend Ml2/OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/851509\nRelated-Bug: #1982287\nChange-Id: Idd64c04b98006b0ecfaad9f9c3a8c218a57ab4db\n'}]",1,906020,4b9407d94f0b5be9d39a529d2af4341f1e9df752,11,1,4,28056,,,0,"Add test job for address_group api backend Ml2/OVN

Depends-On: https://review.opendev.org/c/openstack/neutron/+/851509
Related-Bug: #1982287
Change-Id: Idd64c04b98006b0ecfaad9f9c3a8c218a57ab4db
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/20/906020/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_security_groups.py'],1,39bb73dc28e94c5ccda2e8be4923be5c18fd2fff,bug/1982287," CONF.neutron_plugin_options.firewall_driver in ['openvswitch', 'ovn'], ""Openvswitch agent or Ml2/OVN is required to run this test"") CONF.neutron_plugin_options.firewall_driver in ['openvswitch', 'ovn'], ""Openvswitch agent or Ml2/OVN is required to run this test"")"," CONF.neutron_plugin_options.firewall_driver == 'openvswitch', ""Openvswitch agent is required to run this test"") CONF.neutron_plugin_options.firewall_driver == 'openvswitch', ""Openvswitch agent is required to run this test"")",4,4
openstack%2Fneutron~905309,openstack/neutron,master,Idad446fd89b1ef1967270e0c8cbabce0d628bc64,DNM == WIP == Define the namespace for RPC metadata,ABANDONED,2024-01-11 14:15:12.000000000,2024-04-04 09:02:31.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-11 14:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdb5b68b4844950584aa8ba555b1224bb1881745', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 2, 'created': '2024-01-15 15:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99fe0c6419d358f028bf68354bf787fb19942188', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 3, 'created': '2024-01-16 12:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19c30e2ffdc23f2873337e15ea5057af9ef0f246', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRPC namespaces implemented:\n* metadata\n* state\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 4, 'created': '2024-01-16 14:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa518732e8b14ca17bd1a17df6fa2a6e92fcc6d5', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRPC namespaces implemented:\n* metadata\n* state\n* dvr\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 5, 'created': '2024-01-17 07:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5584ae0db3c13797647a0de71e2aebb03a814001', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRPC namespaces implemented:\n* metadata\n* state\n* dvr\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 6, 'created': '2024-01-17 10:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23e697144bc34818a439b253edeed3e28112d2c2', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRPC namespaces implemented:\n* metadata\n* state (NO, restored to None)\n* dvr\n* secgroup\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 7, 'created': '2024-01-17 12:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a568cc48a0dee88e735ad784e2f95d8a71931d74', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRPC namespaces implemented:\n* metadata\n* state (NO, restored to None)\n* dvr\n* secgroup\n* dhcp_plugin\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 8, 'created': '2024-01-17 15:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e163b104c4d7eaff6f6ffaf72a0e48be4a907259', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRPC namespaces implemented:\n* metadata\n* state (NO, restored to None)\n* dvr\n* secgroup\n* dhcp_plugin\n* logging\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}, {'number': 9, 'created': '2024-01-18 09:42:39.000000000', 'files': ['neutron/services/logapi/rpc/agent.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/db/agents_db.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/agent/dhcp/agent.py', 'neutron/api/rpc/handlers/metadata_rpc.py', 'neutron/agent/metadata/agent.py', 'neutron/api/rpc/handlers/dvr_rpc.py', 'neutron/services/logapi/drivers/manager.py', 'neutron/services/logapi/rpc/server.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/edad9c7d6484daf0785473199f5c8fd832558bdf', 'message': 'DNM == WIP == Define the namespace for RPC metadata\n\nLP#2047849\n\nRPC namespaces implemented:\n* metadata\n* state (NO, restored to None)\n* dvr\n* secgroup\n* dhcp_plugin\n* logging\n\nRelated-Bug: #....\nChange-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64\n'}]",19,905309,edad9c7d6484daf0785473199f5c8fd832558bdf,37,2,9,16688,,,0,"DNM == WIP == Define the namespace for RPC metadata

LP#2047849

RPC namespaces implemented:
* metadata
* state (NO, restored to None)
* dvr
* secgroup
* dhcp_plugin
* logging

Related-Bug: #....
Change-Id: Idad446fd89b1ef1967270e0c8cbabce0d628bc64
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/905309/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/metadata_rpc.py', 'neutron/agent/metadata/agent.py']",2,cdb5b68b4844950584aa8ba555b1224bb1881745,bug/2047849," namespace=""RPC_NAMESPACE_METADATA"","," namespace=constants.RPC_NAMESPACE_METADATA,",2,2
openstack%2Fneutron~906114,openstack/neutron,master,I7519abd8135ac4f18bf29b3cecfef1d2c3396d95,l3agent: add iptables rule to block mldv2 responses,ABANDONED,2024-01-19 14:44:43.000000000,2024-04-04 09:02:14.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-19 14:44:43.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a475b0f9a53935ff3305a1a9ab61241de71f44b6', 'message': 'l3agent: add iptables rule to block mldv2 responses\n\nLinux sends gratuitous MLDv2 responses upon certain interface\nchanges. These can be used by upstream switches to identify\nwhich switchport a MAC address currently resides on.\n\nWhere Neutron tenant interfaces share a MAC address and a\nbackup network node is restarted, the instantiation of this\nnetwork into the backup state can trigger one or more MLDv2\nresponses to be sent out. This causes the MAC to move from\nthe perspective of the switch, causing an outage for the\ntenant until a process within the tenant network has reason\nto make a request out through the gateway.\n\nThis patch adds an iptables rule to the IPv6 output table for\neach tenant network in order to prevent these reports from\ntriggering outages.\n\nRelated-Bug: #2049909\n\nChange-Id: I7519abd8135ac4f18bf29b3cecfef1d2c3396d95\n'}]",10,906114,a475b0f9a53935ff3305a1a9ab61241de71f44b6,10,2,1,31542,,,0,"l3agent: add iptables rule to block mldv2 responses

Linux sends gratuitous MLDv2 responses upon certain interface
changes. These can be used by upstream switches to identify
which switchport a MAC address currently resides on.

Where Neutron tenant interfaces share a MAC address and a
backup network node is restarted, the instantiation of this
network into the backup state can trigger one or more MLDv2
responses to be sent out. This causes the MAC to move from
the perspective of the switch, causing an outage for the
tenant until a process within the tenant network has reason
to make a request out through the gateway.

This patch adds an iptables rule to the IPv6 output table for
each tenant network in order to prevent these reports from
triggering outages.

Related-Bug: #2049909

Change-Id: I7519abd8135ac4f18bf29b3cecfef1d2c3396d95
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/906114/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,a475b0f9a53935ff3305a1a9ab61241de71f44b6,," interface_name = self.get_external_device_interface_name( ex_gw_port) ip6tables = self.iptables_manager.get_tables( lib_constants.IP_VERSION_6) mld_rule = '-o %s -p ipv6-icmp -d ff02::16 -j DROP' % (interface_name) ip6tables['filter'].add_rule('OUTPUT', mld_rule) ",,7,0
openstack%2Fnetworking-sfc~904208,openstack/networking-sfc,master,Idb82fbd93eff2e5ff4873ecd42af471692c850a4,Python 3.12: assertDictContainsSubset is removed,ABANDONED,2023-12-21 13:31:15.000000000,2024-04-04 09:01:58.000000000,,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-21 13:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/eb210651df0d8f2893f1fcecfd703b6f1c63b331', 'message': 'Python 3.12: assertDictContainsSubset is removed\n\nassertDictContainsSubset(a, b) is removed from Python 3.12,\ninstead, we can use assertEqual(b, b | a), which is the\nrecommended way to do things. This patch implements it.\n\nChange-Id: Idb82fbd93eff2e5ff4873ecd42af471692c850a4\n'}, {'number': 2, 'created': '2024-01-09 10:48:54.000000000', 'files': ['networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/cd949b6940a17415b504ea67dac3f21129bd36bf', 'message': 'Python 3.12: assertDictContainsSubset is removed\n\nassertDictContainsSubset(a, b) is removed from Python 3.12,\ninstead, we can use assertEqual(b, b | a), which is the\nrecommended way to do things. This patch implements it.\n\nChange-Id: Idb82fbd93eff2e5ff4873ecd42af471692c850a4\n'}]",21,904208,cd949b6940a17415b504ea67dac3f21129bd36bf,16,3,2,6476,,,0,"Python 3.12: assertDictContainsSubset is removed

assertDictContainsSubset(a, b) is removed from Python 3.12,
instead, we can use assertEqual(b, b | a), which is the
recommended way to do things. This patch implements it.

Change-Id: Idb82fbd93eff2e5ff4873ecd42af471692c850a4
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/08/904208/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py'],1,eb210651df0d8f2893f1fcecfd703b6f1c63b331,python-3.12," self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(update_flow_rules[flow1]['add_fcs'][0], update_flow_rules[flow1]['add_fcs'][0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { self.assertEqual(add_fcs[0], add_fcs[0] | { self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { self.assertEqual(add_fcs[0], add_fcs[0] | { self.assertEqual(add_fcs[0], add_fcs[0] | { self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(del_fcs[0], del_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(update_flow_rules[flow1]['add_fcs'][0], update_flow_rules[flow1]['add_fcs'][0] | { }) self.assertEqual(update_flow_rules[flow2]['add_fcs'][0], update_flow_rules[flow2]['add_fcs'][0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[1], add_fcs[1] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[1], add_fcs[1] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(add_fcs[0], add_fcs[0] | { }) self.assertEqual(ufr[flow1_end], ufr[flow1_end] | { }) self.assertEqual(add_fc, add_fc | { }) self.assertEqual(add_fc, add_fc | { }) self.assertEqual(ufr[node]['add_fcs'][0], ufr[node]['add_fcs'][0] | { 'logical_source_port': None}) self.assertEqual(ufr[node], ufr[node] | {'branch_point': True}) self.assertEqual(ufr[node]['del_fcs'][0], ufr[node]['del_fcs'][0] | { 'logical_source_port': None}) self.assertEqual(ufr[node]['add_fcs'][0], ufr[node]['add_fcs'][0] | { 'logical_source_port': node.split(':')[2]}) # egress port self.assertEqual(ufr[node], ufr[node] | { })"," self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, update_flow_rules[flow1]['add_fcs'][0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ self.assertDictContainsSubset({ self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ self.assertDictContainsSubset({ self.assertDictContainsSubset({ self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, del_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, update_flow_rules[flow1]['add_fcs'][0]) self.assertDictContainsSubset({ }, update_flow_rules[flow2]['add_fcs'][0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[1]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[1]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, add_fcs[0]) self.assertDictContainsSubset({ }, ufr[flow1_end]) self.assertDictContainsSubset({ }, add_fc) self.assertDictContainsSubset({ }, add_fc) self.assertDictContainsSubset({ 'logical_source_port': None}, ufr[node]['add_fcs'][0]) self.assertDictContainsSubset({'branch_point': True}, ufr[node]) self.assertDictContainsSubset({ 'logical_source_port': None}, ufr[node]['del_fcs'][0]) self.assertDictContainsSubset({ 'logical_source_port': node.split(':')[2]}, # egress port ufr[node]['add_fcs'][0]) self.assertDictContainsSubset({ }, ufr[node])",171,173
openstack%2Fneutron-tempest-plugin~907553,openstack/neutron-tempest-plugin,master,Ia9eef10acd078096bc9a54a05bc8b112963b7401,[DNM] gateway-multihoming ext tempest config,ABANDONED,2024-02-02 14:10:37.000000000,2024-04-04 09:01:50.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-02 14:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7f6248aba81db1200c2aa04a6f1776047c35a952', 'message': '[DNM] gateway-multihoming ext tempest config\n\nChange-Id: Ia9eef10acd078096bc9a54a05bc8b112963b7401\n'}, {'number': 2, 'created': '2024-02-02 14:14:16.000000000', 'files': ['zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/api/test_routers.py', 'neutron_tempest_plugin/scenario/test_multiple_gws.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/33c5166c6751300763978862351b774ad233d5ef', 'message': '[DNM] gateway-multihoming ext tempest config\n\nChange-Id: Ia9eef10acd078096bc9a54a05bc8b112963b7401\n'}]",0,907553,33c5166c6751300763978862351b774ad233d5ef,5,2,2,13861,,,0,"[DNM] gateway-multihoming ext tempest config

Change-Id: Ia9eef10acd078096bc9a54a05bc8b112963b7401
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/53/907553/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'neutron_tempest_plugin/api/test_routers.py', 'zuul.d/project.yaml', 'neutron_tempest_plugin/scenario/test_multiple_gws.py']",4,7f6248aba81db1200c2aa04a6f1776047c35a952,dnm,"from tempest.common import utils as tutils @tutils.requires_ext(extension=""external-gateway-multihoming"", service=""network"")", ext_alias = 'external-gateway-multihoming' try: cls.client.get_extension(ext_alias) except lib_exc.NotFound: raise cls.skipException(f'{ext_alias} extension not available.') ,7,54
openstack%2Fneutron~907037,openstack/neutron,master,Ia1574ab2ac33680e0736bf408f16703c5a3ab07c,[DNM][functional] ovs-vswitchd debug log,ABANDONED,2024-01-29 07:40:53.000000000,2024-04-04 09:01:42.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-29 07:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce20dd4bac890d7eea2190077112e775d77dcaa7', 'message': '[DNM][functional] ovs-vswitchd debug log\n\nChange-Id: Ia1574ab2ac33680e0736bf408f16703c5a3ab07c\n'}, {'number': 2, 'created': '2024-01-29 08:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15af7393da3929e4c7fff2de51aa1d28ddfc97d9', 'message': '[DNM][functional] ovs-vswitchd debug log\n\nChange-Id: Ia1574ab2ac33680e0736bf408f16703c5a3ab07c\n'}, {'number': 3, 'created': '2024-02-05 11:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc8ec76012552314a2292e1e89d92230a9e8c642', 'message': '[DNM][functional] ovs-vswitchd debug log\n\nChange-Id: Ia1574ab2ac33680e0736bf408f16703c5a3ab07c\n'}, {'number': 4, 'created': '2024-02-06 08:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/889a35a1586fd0ccec7602b08067c4fe7820f8cd', 'message': '[DNM][functional] ovs-vswitchd debug log\n\nChange-Id: Ia1574ab2ac33680e0736bf408f16703c5a3ab07c\n'}, {'number': 5, 'created': '2024-02-06 10:39:46.000000000', 'files': ['tools/configure_for_func_testing.sh', 'roles/prepare_functional_tests_logs/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/27604184e47241af877a200f546a3dd56ca24a34', 'message': '[DNM][functional] ovs-vswitchd debug log\n\nChange-Id: Ia1574ab2ac33680e0736bf408f16703c5a3ab07c\n'}]",0,907037,27604184e47241af877a200f546a3dd56ca24a34,11,2,5,13861,,,0,"[DNM][functional] ovs-vswitchd debug log

Change-Id: Ia1574ab2ac33680e0736bf408f16703c5a3ab07c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/907037/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,ce20dd4bac890d7eea2190077112e775d77dcaa7,dnm,"echo ""Debug mode OVS"" sudo ovs-appctl vlog/set :file:dbg sudo ovs-appctl vlog/list",,3,0
openstack%2Fneutron~907508,openstack/neutron,master,I433cade500f55c215b4effa38be57cbbe8f8bce6,"In recent ip link set, state needs to be aphabetical",ABANDONED,2024-02-02 00:45:16.000000000,2024-04-04 09:01:33.000000000,,"[{'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-02 00:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfa9ea6d57bc03f49c3757934c16b1e374a408d4', 'message': 'In recent ip link set, state needs to be aphabetical\n\nIn recent ip link set, state needs to be aphabetical and the current\ncode sends an integer .   If the nic default in the kernel changes from\nauto to enable for some reasons, this breaks.\n\nChange-Id: I433cade500f55c215b4effa38be57cbbe8f8bce6\n'}, {'number': 2, 'created': '2024-02-02 00:54:25.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4d8892d8c9b12d1d1406b80de722b583b99b69c', 'message': 'In recent ip link set, state needs to be aphabetical\n\nIn recent ip link set, state needs to be aphabetical and the current\ncode sends an integer .   If the nic default in the kernel changes from\nauto to enable for some reasons, this breaks.   The current call fails :\n```\n[root@compute001 ~]# ip link set sriov-1-1 vf 18 state 1\nError: argument ""1"" is wrong: Invalid ""state"" value\n```\n\nChange-Id: I433cade500f55c215b4effa38be57cbbe8f8bce6\n'}]",2,907508,c4d8892d8c9b12d1d1406b80de722b583b99b69c,8,3,2,7130,,,0,"In recent ip link set, state needs to be aphabetical

In recent ip link set, state needs to be aphabetical and the current
code sends an integer .   If the nic default in the kernel changes from
auto to enable for some reasons, this breaks.   The current call fails :
```
[root@compute001 ~]# ip link set sriov-1-1 vf 18 state 1
Error: argument ""1"" is wrong: Invalid ""state"" value
```

Change-Id: I433cade500f55c215b4effa38be57cbbe8f8bce6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/907508/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/mech_sriov/agent/pci_lib.py'],1,cfa9ea6d57bc03f49c3757934c16b1e374a408d4,link_state, link_state = 'auto' else: link_state = 'enable' if state else 'disable', link_state = 0 else: link_state = 1 if state else 2,2,2
openstack%2Fneutron~891397,openstack/neutron,stable/zed,I199b0b1456aa15dadcc24cafc89db1072d224efd,"For hosts in DVR mode, only fetch bound FIPs",ABANDONED,2023-08-15 10:22:10.000000000,2024-04-04 09:01:25.000000000,,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-08-15 10:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e3145b4787decb093420a72e99ef7216dc89839', 'message': 'For hosts in DVR mode, only fetch bound FIPs\n\nCurrently, agents in DVR mode requesting a router update fetch all the\nFIPs on a network from the DB rather than just the FIPs that are\nrelevant to the specific host requesting the update.\n\nWhile not noticable in smaller networks with a limited number of\nfloating IPs, this can add significant overhead in larger networks\nwith many FIPs and hosts.\n\nThat overhead comes from Python mapping the responses from the DB into\nobjects, making extra DB calls per FIP returned and adding additional\niterations to the loop in _get_dvr_sync_data. These objects are mostly\ndiscarded later on and not updated nor included in the RPC response.\n\nThis change ensures that we only fetch FIPs from the DB that are bound\nto the host requesting the update or those which are in a pre-live\nmigration state (as they may be migrated to the host in question).\n\nConflicts:\n\tneutron/objects/router.py\n\tneutron/tests/unit/objects/test_router.py\n\nNOTE(aoswick): The conflicts are a result of us not backporting the\nchanges Ia446e17a44b1a260971ae237841451edb97ce39f and\nI05136302f7b8abc0a985b91c993008595234ad6b.\n\nCloses-Bug: #2028185\nChange-Id: I199b0b1456aa15dadcc24cafc89db1072d224efd\n(cherry picked from commit 96fd203a1461a74318af0e89b3d049f618c32fde)\n'}, {'number': 2, 'created': '2023-08-15 11:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/483024df873bc10c39fa49814e265186eb0bc3aa', 'message': 'For hosts in DVR mode, only fetch bound FIPs\n\nCurrently, agents in DVR mode requesting a router update fetch all the\nFIPs on a network from the DB rather than just the FIPs that are\nrelevant to the specific host requesting the update.\n\nWhile not noticable in smaller networks with a limited number of\nfloating IPs, this can add significant overhead in larger networks\nwith many FIPs and hosts.\n\nThat overhead comes from Python mapping the responses from the DB into\nobjects, making extra DB calls per FIP returned and adding additional\niterations to the loop in _get_dvr_sync_data. These objects are mostly\ndiscarded later on and not updated nor included in the RPC response.\n\nThis change ensures that we only fetch FIPs from the DB that are bound\nto the host requesting the update or those which are in a pre-live\nmigration state (as they may be migrated to the host in question).\n\nConflicts:\n\tneutron/objects/router.py\n\tneutron/tests/unit/objects/test_router.py\n\nNOTE(aoswick): The conflicts are a result of us not backporting the\nchanges Ia446e17a44b1a260971ae237841451edb97ce39f and\nI05136302f7b8abc0a985b91c993008595234ad6b.\n\nCloses-Bug: #2028185\nChange-Id: I199b0b1456aa15dadcc24cafc89db1072d224efd\n(cherry picked from commit 96fd203a1461a74318af0e89b3d049f618c32fde)\n'}, {'number': 3, 'created': '2023-08-15 11:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/283408449bbd552f31851004592b16228f0a30b4', 'message': 'For hosts in DVR mode, only fetch bound FIPs\n\nCurrently, agents in DVR mode requesting a router update fetch all the\nFIPs on a network from the DB rather than just the FIPs that are\nrelevant to the specific host requesting the update.\n\nWhile not noticable in smaller networks with a limited number of\nfloating IPs, this can add significant overhead in larger networks\nwith many FIPs and hosts.\n\nThat overhead comes from Python mapping the responses from the DB into\nobjects, making extra DB calls per FIP returned and adding additional\niterations to the loop in _get_dvr_sync_data. These objects are mostly\ndiscarded later on and not updated nor included in the RPC response.\n\nThis change ensures that we only fetch FIPs from the DB that are bound\nto the host requesting the update or those which are in a pre-live\nmigration state (as they may be migrated to the host in question).\n\nConflicts:\n\tneutron/objects/router.py\n\tneutron/tests/unit/objects/test_router.py\n\nNOTE(aoswick): The conflicts are a result of us not backporting the\nchanges Ia446e17a44b1a260971ae237841451edb97ce39f and\nI05136302f7b8abc0a985b91c993008595234ad6b.\n\nCloses-Bug: #2028185\nChange-Id: I199b0b1456aa15dadcc24cafc89db1072d224efd\n(cherry picked from commit 96fd203a1461a74318af0e89b3d049f618c32fde)\n'}, {'number': 4, 'created': '2023-08-15 12:29:05.000000000', 'files': ['neutron/db/l3_dvr_db.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/objects/test_router.py', 'neutron/objects/router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0078ce7eb79a9213b2d0c73ff0b4db2521645856', 'message': 'For hosts in DVR mode, only fetch bound FIPs\n\nCurrently, agents in DVR mode requesting a router update fetch all the\nFIPs on a network from the DB rather than just the FIPs that are\nrelevant to the specific host requesting the update.\n\nWhile not noticable in smaller networks with a limited number of\nfloating IPs, this can add significant overhead in larger networks\nwith many FIPs and hosts.\n\nThat overhead comes from Python mapping the responses from the DB into\nobjects, making extra DB calls per FIP returned and adding additional\niterations to the loop in _get_dvr_sync_data. These objects are mostly\ndiscarded later on and not updated nor included in the RPC response.\n\nThis change ensures that we only fetch FIPs from the DB that are bound\nto the host requesting the update or those which are in a pre-live\nmigration state (as they may be migrated to the host in question).\n\nConflicts:\n\tneutron/objects/router.py\n\tneutron/tests/unit/objects/test_router.py\n\nNOTE(aoswick): The conflicts are a result of us not backporting the\nchanges Ia446e17a44b1a260971ae237841451edb97ce39f and\nI05136302f7b8abc0a985b91c993008595234ad6b.\n\nCloses-Bug: #2028185\nChange-Id: I199b0b1456aa15dadcc24cafc89db1072d224efd\n(cherry picked from commit 96fd203a1461a74318af0e89b3d049f618c32fde)\n'}]",11,891397,0078ce7eb79a9213b2d0c73ff0b4db2521645856,37,3,4,35825,,,0,"For hosts in DVR mode, only fetch bound FIPs

Currently, agents in DVR mode requesting a router update fetch all the
FIPs on a network from the DB rather than just the FIPs that are
relevant to the specific host requesting the update.

While not noticable in smaller networks with a limited number of
floating IPs, this can add significant overhead in larger networks
with many FIPs and hosts.

That overhead comes from Python mapping the responses from the DB into
objects, making extra DB calls per FIP returned and adding additional
iterations to the loop in _get_dvr_sync_data. These objects are mostly
discarded later on and not updated nor included in the RPC response.

This change ensures that we only fetch FIPs from the DB that are bound
to the host requesting the update or those which are in a pre-live
migration state (as they may be migrated to the host in question).

Conflicts:
	neutron/objects/router.py
	neutron/tests/unit/objects/test_router.py

NOTE(aoswick): The conflicts are a result of us not backporting the
changes Ia446e17a44b1a260971ae237841451edb97ce39f and
I05136302f7b8abc0a985b91c993008595234ad6b.

Closes-Bug: #2028185
Change-Id: I199b0b1456aa15dadcc24cafc89db1072d224efd
(cherry picked from commit 96fd203a1461a74318af0e89b3d049f618c32fde)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/891397/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/objects/test_router.py', 'neutron/objects/router.py']",4,0e3145b4787decb093420a72e99ef7216dc89839,,"from sqlalchemy import or_from neutron.plugins.ml2 import models as ml2_models def get_scoped_floating_ips(cls, context, router_ids, host=None): # If a host value is provided, filter output to a specific host if host is not None: query = query.outerjoin( ml2_models.PortBinding, models_v2.Port.id == ml2_models.PortBinding.port_id) # Also filter for ports with migrating_to as they may be relevant # to this host but might not yet have the 'host' column updated # if the migration is in a pre-live migration state query = query.filter(or_( ml2_models.PortBinding.host == host, ml2_models.PortBinding.profile.like('%migrating_to%'), )) "," def get_scoped_floating_ips(cls, context, router_ids):",99,7
openstack%2Fneutron~869741,openstack/neutron,master,If714b0e290ce5a1966eca700677e81735a7f27c1,Set DVR qr-xyz interfaces DOWN on backup node,ABANDONED,2023-01-10 15:55:50.000000000,2024-04-04 09:01:08.000000000,,"[{'_account_id': 9845}, {'_account_id': 11583}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-10 15:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eee359000b97f79218f5e97a4b8265d4022dee13', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz).\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP.\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 2, 'created': '2023-01-24 14:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee8e85a3be4b125f28be71321408647c4570e1aa', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 3, 'created': '2023-02-22 08:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7e8dc168668978a5f18fc12b904e632fca81d1e', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874536\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 4, 'created': '2023-02-22 08:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e06d86efc5a4e4a14a4a1f4941e90af85b58e60', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874536\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 5, 'created': '2023-02-22 08:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ef6043085b68d352fa83df09b0fc3756b2ef85f', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 6, 'created': '2023-05-04 09:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e860d33661e944ffe693166e7e96f2be8b4d4b3c', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 7, 'created': '2023-06-06 15:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0aee99ac10311074a07f748011430865b69b270d', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 8, 'created': '2023-09-06 14:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec5f9a2b41ef900d70893bbb27e476e37a83a623', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 9, 'created': '2023-09-26 13:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2285941c0618fa9e69a12d5e90310244a8cc0922', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 10, 'created': '2023-09-28 13:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcf2f652cb9de84f050964fa615e3c47639b5bd7', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 11, 'created': '2023-12-11 10:46:21.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py', 'neutron/tests/unit/agent/l3/test_router_info.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/975d92fb752af331aad8602d5190226aa87a37d1', 'message': 'Set DVR qr-xyz interfaces DOWN on backup node\n\nWhen using DVR in HA mode, only one SNAT node is ACTIVE.\nEven if the BACKUP node is not managing the external gateway, it was\nstill answering on the internal interfaces (qr-xyz)\n\nThis patch is setting the qr-xyz interfaces down in qrouter-abc\nnamespaces for DVR+HA backups routers.\nAs soon as the router is elected to be MASTER again, then the qr-xyz\nwill be put UP\n\nCloses-Bug: #2002417\n\nChange-Id: If714b0e290ce5a1966eca700677e81735a7f27c1\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}]",11,869741,975d92fb752af331aad8602d5190226aa87a37d1,65,3,11,11583,,,0,"Set DVR qr-xyz interfaces DOWN on backup node

When using DVR in HA mode, only one SNAT node is ACTIVE.
Even if the BACKUP node is not managing the external gateway, it was
still answering on the internal interfaces (qr-xyz)

This patch is setting the qr-xyz interfaces down in qrouter-abc
namespaces for DVR+HA backups routers.
As soon as the router is elected to be MASTER again, then the qr-xyz
will be put UP

Closes-Bug: #2002417

Change-Id: If714b0e290ce5a1966eca700677e81735a7f27c1
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/869741/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/interface.py', 'neutron/agent/l3/router_info.py', 'neutron/agent/l3/ha.py']",3,eee359000b97f79218f5e97a4b8265d4022dee13,," self._update_router_interfaces(ri, router_id, state) def _update_router_interfaces(self, ri, router_id, state): # This should apply only on distributed routers. # Centralized interfaces are managed by keepalived directly if not ri.router.get('distributed', False): return if state == 'master': ri.enable_internal_network() else: ri.disable_internal_network() ",,36,0
openstack%2Fneutron-vpnaas~868501,openstack/neutron-vpnaas,master,I9b053aa11ed03cdb8d441ca05c7e8faabe1fc140,Do not spawn strongswan ipsec for admin down connections,ABANDONED,2022-12-23 16:40:24.000000000,2024-04-04 09:00:52.000000000,,"[{'_account_id': 14525}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-23 16:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6e2e924fed249a9ad77c1a566e5a737ae0607aeb', 'message': 'Do not spawn strongswan ipsec for admin down connections\n\nRelated-Prod: PRODX-3456\nChange-Id: I9b053aa11ed03cdb8d441ca05c7e8faabe1fc140\n'}, {'number': 2, 'created': '2022-12-23 16:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/37ed6f844793c1988079ffa187bbc916c65fe2da', 'message': 'Do not spawn strongswan ipsec for admin down connections\n\nHonor admin_state_up flag when handling vpn connection.\n\nChange-Id: I9b053aa11ed03cdb8d441ca05c7e8faabe1fc140\n'}, {'number': 3, 'created': '2023-02-08 14:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/14b76f228e6977c87bc69d67780101ed1e7268d1', 'message': 'Do not spawn strongswan ipsec for admin down connections\n\nHonor admin_state_up flag when handling vpn connection.\n\nChange-Id: I9b053aa11ed03cdb8d441ca05c7e8faabe1fc140\n'}, {'number': 4, 'created': '2024-02-22 17:44:34.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/41584eb897a3e0739643542b041215d6a1f6d0d5', 'message': 'Do not spawn strongswan ipsec for admin down connections\n\nHonor admin_state_up flag when handling vpn connection.\n\nChange-Id: I9b053aa11ed03cdb8d441ca05c7e8faabe1fc140\n'}]",1,868501,41584eb897a3e0739643542b041215d6a1f6d0d5,13,2,4,14525,,,0,"Do not spawn strongswan ipsec for admin down connections

Honor admin_state_up flag when handling vpn connection.

Change-Id: I9b053aa11ed03cdb8d441ca05c7e8faabe1fc140
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/01/868501/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py'],1,6e2e924fed249a9ad77c1a566e5a737ae0607aeb,m4, if not ipsec_site_conn['admin_state_up']: continue,,2,0
openstack%2Fneutron~910702,openstack/neutron,master,I4d4e9e29dab8356d2cb74f78d07577d03e5e9096,[eventlet] Do not monkey patch OVN agents,ABANDONED,2024-03-01 08:21:20.000000000,2024-04-04 09:00:43.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-01 08:21:20.000000000', 'files': ['neutron/cmd/bin/agents/ovn_neutron_agent.py', 'neutron/cmd/bin/agents/ovn_metadata.py', 'neutron/cmd/bin/agents/__init__.py', 'neutron/cmd/bin/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7790aeb2244306bff1ee1fa7d23edc77de5b9483', 'message': '[eventlet] Do not monkey patch OVN agents\n\nChange-Id: I4d4e9e29dab8356d2cb74f78d07577d03e5e9096\n'}]",0,910702,7790aeb2244306bff1ee1fa7d23edc77de5b9483,6,2,1,16688,,,0,"[eventlet] Do not monkey patch OVN agents

Change-Id: I4d4e9e29dab8356d2cb74f78d07577d03e5e9096
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/910702/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/bin/agents/ovn_neutron_agent.py', 'neutron/cmd/bin/agents/ovn_metadata.py', 'neutron/cmd/bin/agents/__init__.py', 'neutron/cmd/bin/__init__.py', 'setup.cfg']",5,7790aeb2244306bff1ee1fa7d23edc77de5b9483,eventlet-deprecation, neutron-ovn-agent = neutron.cmd.bin.agents.ovn_neutron_agent:main neutron-ovn-metadata-agent = neutron.cmd.bin.agents.ovn_metadata:main, neutron-ovn-agent = neutron.cmd.eventlet.agents.ovn_neutron_agent:main neutron-ovn-metadata-agent = neutron.cmd.eventlet.agents.ovn_metadata:main,2,2
openstack%2Fneutron~909316,openstack/neutron,master,I9730f10069ac5bf66abbd65cc76c7317e064b795,DNM: Testing netaddr bump,ABANDONED,2024-02-18 08:57:31.000000000,2024-04-04 09:00:27.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-02-18 08:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d097819fd5f766b2648ab832b200dd5d23222b4', 'message': 'DNM: Testing netaddr bump\n\nWill need some fixes to unit tests at least\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/909300\nChange-Id: I9730f10069ac5bf66abbd65cc76c7317e064b795\n'}, {'number': 2, 'created': '2024-02-18 11:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bceefd691f26f7edb6dc18f6a0eef48e5d0c06c', 'message': 'DNM: Testing netaddr bump\n\nWill need some fixes to unit tests at least\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/909300\nChange-Id: I9730f10069ac5bf66abbd65cc76c7317e064b795\n'}, {'number': 3, 'created': '2024-02-20 12:33:44.000000000', 'files': ['neutron/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75c3841264256b0fba175237bcfe874b95628d1f', 'message': 'DNM: Testing netaddr bump\n\nWill need some fixes to unit tests at least\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/909300\nChange-Id: I9730f10069ac5bf66abbd65cc76c7317e064b795\n'}]",0,909316,75c3841264256b0fba175237bcfe874b95628d1f,13,2,3,13252,,,0,"DNM: Testing netaddr bump

Will need some fixes to unit tests at least

Depends-On: https://review.opendev.org/c/openstack/requirements/+/909300
Change-Id: I9730f10069ac5bf66abbd65cc76c7317e064b795
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/909316/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/__init__.py'],1,2d097819fd5f766b2648ab832b200dd5d23222b4,test-netaddr,# DNM: Testing,,1,0
openstack%2Fnetworking-bagpipe~911520,openstack/networking-bagpipe,unmaintained/wallaby,I90dae34577b48082fd44b9081f61b2a00fe76519,Update .gitreview for unmaintained/wallaby,NEW,2024-03-06 12:04:48.000000000,2024-04-04 08:48:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-06 12:04:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6489e3fb77818f44753d8689342b8b3224232dc7', 'message': 'Update .gitreview for unmaintained/wallaby\n\nChange-Id: I90dae34577b48082fd44b9081f61b2a00fe76519\n'}]",0,911520,6489e3fb77818f44753d8689342b8b3224232dc7,2,1,1,22816,,,0,"Update .gitreview for unmaintained/wallaby

Change-Id: I90dae34577b48082fd44b9081f61b2a00fe76519
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/20/911520/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6489e3fb77818f44753d8689342b8b3224232dc7,create-wallaby,defaultbranch=unmaintained/wallaby,defaultbranch=stable/wallaby,1,1
openstack%2Foslo.messaging~914583,openstack/oslo.messaging,stable/2024.1,I614280c656f7d5fe9043abee93218a9907c395ff,Fix incorrect desc of rabbit_stream_fanout option,MERGED,2024-03-28 08:58:52.000000000,2024-04-04 08:47:36.000000000,2024-04-04 08:46:37.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-03-28 08:58:52.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e0929a35fdf33bd492fc35317b434c714bef3abb', 'message': 'Fix incorrect desc of rabbit_stream_fanout option\n\nDescription of rabbit_stream_fanout option is incorrect. Actually it\nreuses the description of quorum queues. So we need to fix it with a\ncorrect stream queue description.\n\nCloses-Bug: #2058616\nChange-Id: I614280c656f7d5fe9043abee93218a9907c395ff\nSigned-off-by: frankming <chen27508959@outlook.com>\n(cherry picked from commit ede60d7a83b0f7393b450270ce6cbbe3c13f210f)\n'}]",1,914583,e0929a35fdf33bd492fc35317b434c714bef3abb,12,5,1,9816,,,0,"Fix incorrect desc of rabbit_stream_fanout option

Description of rabbit_stream_fanout option is incorrect. Actually it
reuses the description of quorum queues. So we need to fix it with a
correct stream queue description.

Closes-Bug: #2058616
Change-Id: I614280c656f7d5fe9043abee93218a9907c395ff
Signed-off-by: frankming <chen27508959@outlook.com>
(cherry picked from commit ede60d7a83b0f7393b450270ce6cbbe3c13f210f)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/83/914583/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,e0929a35fdf33bd492fc35317b434c714bef3abb,steam_queue_description_fix," 'Streams are a new persistent and replicated data structure ' '(""queue type"") in RabbitMQ which models an append-only log ' 'with non-destructive consumer semantics. It is available ' 'as of RabbitMQ 3.9.0. If set this option will replace all ' 'fanout queues with only one stream queue.'),"," 'The stream queue is a modern queue type for RabbitMQ ' 'implementing a durable, replicated FIFO queue based on the ' 'Raft consensus algorithm. It is available as of ' 'RabbitMQ 3.8.0. If set this option will replace all fanout ' 'queues with only one stream queue.'),",5,5
openstack%2Fpuppet-ironic~913616,openstack/puppet-ironic,stable/2023.2,I7b04e5586c82fc528f960beddfe50a7b355f6580,inspector: Fix wrong type of default pxe_timeout,MERGED,2024-03-19 04:36:19.000000000,2024-04-04 08:34:23.000000000,2024-04-04 08:34:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-19 04:36:19.000000000', 'files': ['manifests/inspector.pp', 'templates/inspector_ipxe.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/496020fb1fcba6a1fee6a019b89c3d58d6acc475', 'message': ""inspector: Fix wrong type of default pxe_timeout\n\nThe pxe_timeout parameter should be set to an integer value (or\na string representing an integer) and can't be set to\nthe os_service_default fact.\n\nConflicts:\n\tmanifests/inspector.pp\n\ttemplates/inspector_ipxe.erb\n\nCloses-Bug: #2058229\nChange-Id: I7b04e5586c82fc528f960beddfe50a7b355f6580\n(cherry picked from commit 055a0f17490d9a1d2de7b8e4f4f7e29ee402b90b)\n""}]",0,913616,496020fb1fcba6a1fee6a019b89c3d58d6acc475,7,3,1,9816,,,0,"inspector: Fix wrong type of default pxe_timeout

The pxe_timeout parameter should be set to an integer value (or
a string representing an integer) and can't be set to
the os_service_default fact.

Conflicts:
	manifests/inspector.pp
	templates/inspector_ipxe.erb

Closes-Bug: #2058229
Change-Id: I7b04e5586c82fc528f960beddfe50a7b355f6580
(cherry picked from commit 055a0f17490d9a1d2de7b8e4f4f7e29ee402b90b)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/16/913616/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/inspector.pp', 'templates/inspector_ipxe.erb']",2,496020fb1fcba6a1fee6a019b89c3d58d6acc475,,"kernel <% if Integer(@ipxe_timeout_real) != ""0"" %>--timeout <%= Integer(@ipxe_timeout_real) * 1000 %> <% end %>http://<%= @dnsmasq_local_ip_real %>:<%= @http_port_real %>/<%= @kernel_filename %> ipa-inspection-callback-url=http://<%= @dnsmasq_local_ip_real %>:5050/v1/continue ipa-inspection-collectors=<%= @ramdisk_collectors %> systemd.journald.forward_to_console=yes BOOTIF=${mac} <%= @ramdisk_kernel_args %> initrd=<%= @ramdisk_filename %> || goto retry_boot initrd <% if Integer(@ipxe_timeout_real) != ""0"" %>--timeout <%= Integer(@ipxe_timeout_real) * 1000 %> <% end %>http://<%= @dnsmasq_local_ip_real %>:<%= @http_port_real %>/<%= @ramdisk_filename %> || goto retry_boot","kernel <% if @ipxe_timeout_real != ""0"" %>--timeout <%= Integer(@ipxe_timeout_real) * 1000 %> <% end %>http://<%= @dnsmasq_local_ip_real %>:<%= @http_port_real %>/<%= @kernel_filename %> ipa-inspection-callback-url=http://<%= @dnsmasq_local_ip_real %>:5050/v1/continue ipa-inspection-collectors=<%= @ramdisk_collectors %> systemd.journald.forward_to_console=yes BOOTIF=${mac} <%= @ramdisk_kernel_args %> initrd=<%= @ramdisk_filename %> || goto retry_boot initrd <% if @ipxe_timeout_real != ""0"" %>--timeout <%= Integer(@ipxe_timeout_real) * 1000 %> <% end %>http://<%= @dnsmasq_local_ip_real %>:<%= @http_port_real %>/<%= @ramdisk_filename %> || goto retry_boot",4,4
openstack%2Fpuppet-openstack-integration~915039,openstack/puppet-openstack-integration,master,Ic4b78f4a64262108897c7f4895a7568dc8ca14a5,Updated from Puppet OpenStack modules constraints,MERGED,2024-04-04 02:19:52.000000000,2024-04-04 08:31:22.000000000,2024-04-04 08:31:22.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 02:19:52.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f1ba88dd4eaec36214ebcbe22e0b13e7b9ef64df', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic4b78f4a64262108897c7f4895a7568dc8ca14a5\n'}]",0,915039,f1ba88dd4eaec36214ebcbe22e0b13e7b9ef64df,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ic4b78f4a64262108897c7f4895a7568dc8ca14a5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/39/915039/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,f1ba88dd4eaec36214ebcbe22e0b13e7b9ef64df,openstack/puppet/constraints, :ref => 'v12.1.0' :ref => 'v9.6.0', :ref => 'v12.0.3' :ref => 'v9.5.0',2,2
openstack%2Fneutron-dynamic-routing~914277,openstack/neutron-dynamic-routing,master,Ia48427486c71c43f12573b8f84699ae13036eb12,Add py312 job to periodic based on testing runtime for 2024.2,MERGED,2024-03-26 16:17:32.000000000,2024-04-04 08:08:06.000000000,2024-04-04 08:06:12.000000000,"[{'_account_id': 8556}, {'_account_id': 16137}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-26 16:17:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ffaaf5a25d846feadc589b83281c783b10ae7684', 'message': 'Add py312 job to periodic based on testing runtime for 2024.2\n\nBased on [0] & [1] add py312 job to periodic weekly.\n\n[0] https://review.opendev.org/c/openstack/governance/+/908862\n[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html\n\nChange-Id: Ia48427486c71c43f12573b8f84699ae13036eb12\n'}]",0,914277,ffaaf5a25d846feadc589b83281c783b10ae7684,9,4,1,8313,,,0,"Add py312 job to periodic based on testing runtime for 2024.2

Based on [0] & [1] add py312 job to periodic weekly.

[0] https://review.opendev.org/c/openstack/governance/+/908862
[1] https://governance.openstack.org/tc/reference/runtimes/2024.2.html

Change-Id: Ia48427486c71c43f12573b8f84699ae13036eb12
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/77/914277/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ffaaf5a25d846feadc589b83281c783b10ae7684,update-testing-runtime, - openstack-tox-py312,,1,0
openstack%2Foslo.messaging~914840,openstack/oslo.messaging,master,Ic6c01c7eafb20527e061a8c98225c6f6c9439788,Add HTTP driver to oslo.messaging.drivers,NEW,2024-04-02 02:51:22.000000000,2024-04-04 07:34:01.000000000,,"[{'_account_id': 8878}, {'_account_id': 9816}, {'_account_id': 10115}, {'_account_id': 22348}, {'_account_id': 33451}]","[{'number': 1, 'created': '2024-04-02 02:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/aea0a09e090d6f01929f8c9762a38608f0427797', 'message': 'Add HTTP driver to oslo.messaging.drivers\n\nThis commit initiates the implementation of the HTTP driver class.\nIt also sets up the interfaces for HTTPListener and HTTPClient,\nwhich will be implemented in subsequent stages.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic6c01c7eafb20527e061a8c98225c6f6c9439788\n'}, {'number': 2, 'created': '2024-04-02 03:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6b53535e364bbcdf620163b33ecdcfba4ada089e', 'message': 'Add HTTP driver to oslo.messaging.drivers\n\nThis commit initiates the implementation of the HTTP driver class.\nIt also sets up the interfaces for HTTPListener and HTTPClient,\nwhich will be implemented in subsequent stages.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic6c01c7eafb20527e061a8c98225c6f6c9439788\n'}, {'number': 3, 'created': '2024-04-03 11:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a78c99a23c5a434b7a2d1266754cd7bd5e7b062a', 'message': 'Add HTTP driver to oslo.messaging.drivers\n\nThis commit initiates the implementation of the HTTP driver class.\nIt also sets up the interfaces for HTTPListener and HTTPClient,\nwhich will be implemented in subsequent stages.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic6c01c7eafb20527e061a8c98225c6f6c9439788\n'}, {'number': 4, 'created': '2024-04-04 04:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/879c028b48c9bd4d30f0c24e758cd34a22bac057', 'message': 'Add HTTP driver to oslo.messaging.drivers\n\nThis commit initiates the implementation of the HTTP driver class.\nIt also sets up the interfaces for HTTPListener and HTTPClient,\nwhich will be implemented in subsequent stages.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic6c01c7eafb20527e061a8c98225c6f6c9439788\n'}, {'number': 5, 'created': '2024-04-04 05:59:58.000000000', 'files': ['oslo_messaging/_drivers/impl_http.py', 'oslo_messaging/tests/drivers/test_impl_http.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7bdb665d8498f2d3409db275d32b0ce84dd51fa5', 'message': 'Add HTTP driver to oslo.messaging.drivers\n\nThis commit initiates the implementation of the HTTP driver class.\nIt also sets up the interfaces for HTTPListener and HTTPClient,\nwhich will be implemented in subsequent stages.\n\nPartially-implements: blueprint oslo-http-driver\nChange-Id: Ic6c01c7eafb20527e061a8c98225c6f6c9439788\n'}]",9,914840,7bdb665d8498f2d3409db275d32b0ce84dd51fa5,16,5,5,36129,,,0,"Add HTTP driver to oslo.messaging.drivers

This commit initiates the implementation of the HTTP driver class.
It also sets up the interfaces for HTTPListener and HTTPClient,
which will be implemented in subsequent stages.

Partially-implements: blueprint oslo-http-driver
Change-Id: Ic6c01c7eafb20527e061a8c98225c6f6c9439788
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/40/914840/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_http.py', 'oslo_messaging/tests/drivers/test_impl_http.py', 'setup.cfg']",3,aea0a09e090d6f01929f8c9762a38608f0427797,bp/oslo-http-driver, # Http driver http = oslo_messaging._drivers.impl_http:HTTPDriver ,,662,0
openstack%2Fnetworking-sfc~911525,openstack/networking-sfc,unmaintained/wallaby,Id9d0e3f253906dffaf45fd6222db3d66f8b6aeb0,Update .gitreview for unmaintained/wallaby,NEW,2024-03-06 12:06:09.000000000,2024-04-04 07:16:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-06 12:06:09.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/bbe445e62b8342075f6fe96f877c151bdd252cc1', 'message': 'Update .gitreview for unmaintained/wallaby\n\nChange-Id: Id9d0e3f253906dffaf45fd6222db3d66f8b6aeb0\n'}]",0,911525,bbe445e62b8342075f6fe96f877c151bdd252cc1,2,1,1,22816,,,0,"Update .gitreview for unmaintained/wallaby

Change-Id: Id9d0e3f253906dffaf45fd6222db3d66f8b6aeb0
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/25/911525/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bbe445e62b8342075f6fe96f877c151bdd252cc1,create-wallaby,defaultbranch=unmaintained/wallaby,defaultbranch=stable/wallaby,1,1
openstack%2Fneutron~839523,openstack/neutron,master,Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4,"[OVS][QoS] Add QoS support for Trunk service, OVS driver",ABANDONED,2022-04-27 13:11:54.000000000,2024-04-04 07:16:35.000000000,,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 13:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e90c5f3647cfe55f94e06e4bee87fd06ae4ff2a5', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 2, 'created': '2022-04-27 16:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8635ce982a98512f3332909cd8da149967b7456c', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 3, 'created': '2022-04-28 13:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dc47b1bdf0fc398d842d8c432d464d046707318', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 4, 'created': '2022-04-28 16:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52cb791cce68a4de85826ba85d925ab6bbf24183', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 5, 'created': '2022-04-29 11:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c35856474d77b4c39618cde8b399269a9869418b', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 6, 'created': '2022-04-29 16:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad1c5d52b30585d3bd3e2253765d425f23c58cb1', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 7, 'created': '2022-05-04 08:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/260abe5014c75a4139aaf8b6a589a415388715b3', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 8, 'created': '2022-05-04 16:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f186fb28609893878da004e78b01856ece13354', 'message': ""[WIP] [OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nNOTE: this is just a POC. I'm testing how to implement this feature.\nTODO: almost everything...\n\nThis patch add QoS support for Trunk ports using the OVS driver.\nThe only QoS rules supported are maximum bandwidth, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n""}, {'number': 9, 'created': '2022-05-10 10:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3026ffca4498297612bb0bd7da947598f8c9f6ea', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 10, 'created': '2022-06-09 10:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/946bd5aadded7c270afc4fbc6c06c6a0aabf9471', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 11, 'created': '2022-06-29 14:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98c97801d1249c5446227ec298bdfc3a83c8904b', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 12, 'created': '2022-08-09 14:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/680ac4d07bebeb979cbd3aefa5836c9dd2f0e641', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 13, 'created': '2022-08-31 14:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d340b3d387036fe7ac15bdb78d64275a6ea8e0ac', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 14, 'created': '2022-09-21 08:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd1a143c560028fc637a98e0aef182e8e32b4304', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 15, 'created': '2022-10-06 16:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/176bf07d518d2a4d9e9450231baddbf35d92069f', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 16, 'created': '2022-12-19 09:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44cbe04c5b193d1d612635c8172b0a481f850cd6', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 17, 'created': '2023-02-03 09:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83ff61e18c8724ebbe2d4cab73130dc054e35830', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 18, 'created': '2023-03-24 15:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a78a067c5cb9df066cc82945a1c0ddda69cb6059', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 19, 'created': '2023-06-20 15:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64f2dddc73beb8e7a238a70e20de9dfd52e69148', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 20, 'created': '2023-07-03 20:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44e15aa16ad0f7832b1049045ca664e5c4c3fffc', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 21, 'created': '2023-08-16 15:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af6919828e79f7079ba8a3d496d39a235d116bbb', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 22, 'created': '2023-10-04 08:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a360901f0e1e91f6c5b3224dcaa150569d403666', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}, {'number': 23, 'created': '2023-10-04 15:31:10.000000000', 'files': ['neutron/plugins/ml2/rpc.py', 'neutron/services/trunk/drivers/openvswitch/agent/driver.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/test_driver.py', 'releasenotes/notes/ovs_qos_trunk_ports-9039f37f5f9b933c.yaml', 'neutron/tests/fullstack/test_trunk.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py', 'neutron/agent/rpc.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py', 'doc/source/admin/config-qos.rst', 'neutron/services/trunk/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/services/trunk/drivers/openvswitch/agent/extension_drivers/__init__.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/extension_drivers/__init__.py', 'neutron/agent/l2/extensions/qos.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py', 'setup.cfg', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d7b66f3f75380d51e303c86b54de43590dc1d29', 'message': '[OVS][QoS] Add QoS support for Trunk service, OVS driver\n\nThis patch adds support for the QoS extension in the OVS driver of\nthe Trunk service. Same as in a ML2 driver extension, the Trunk\nservice OVS driver creates a ``L2AgentExtensionsManager`` instance\nthat will load the ``TrunkConfig`` object.\n\nThe extension manager will load the ``QosAgentExtension``, if\nconfigured in the ML2 configuration section. The QoS agent extension\nwill load the ``QosOVSTrunkAgentDriver``.\n\nThe ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT\nevent. If the port belongs to a Trunk local bridge and this bridge\nhas an instance port, the ``QosOVSTrunkAgentDriver`` calls the\n``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.\nThose methods will manage the internal policy map cache and will\ncall the ``QosOVSTrunkAgentDriver`` methods to add or delete the\nbandwidth limits in the OVS backend.\n\nNOTE: the Trunk OVS driver QoS extension only supports bandwidth limit\nrule type, egress direction.\n\nPartial-Bug: #1639186\nChange-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4\n'}]",81,839523,1d7b66f3f75380d51e303c86b54de43590dc1d29,152,7,23,16688,,,0,"[OVS][QoS] Add QoS support for Trunk service, OVS driver

This patch adds support for the QoS extension in the OVS driver of
the Trunk service. Same as in a ML2 driver extension, the Trunk
service OVS driver creates a ``L2AgentExtensionsManager`` instance
that will load the ``TrunkConfig`` object.

The extension manager will load the ``QosAgentExtension``, if
configured in the ML2 configuration section. The QoS agent extension
will load the ``QosOVSTrunkAgentDriver``.

The ``QosOVSTrunkAgentDriver`` has a RPC listener attending any PORT
event. If the port belongs to a Trunk local bridge and this bridge
has an instance port, the ``QosOVSTrunkAgentDriver`` calls the
``QosAgentExtension`` instance ""handle_port"" and ""delete_port"" methods.
Those methods will manage the internal policy map cache and will
call the ``QosOVSTrunkAgentDriver`` methods to add or delete the
bandwidth limits in the OVS backend.

NOTE: the Trunk OVS driver QoS extension only supports bandwidth limit
rule type, egress direction.

Partial-Bug: #1639186
Change-Id: Ia2956764cc69e73f22b6d7c2bb91278df33a0cd4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/839523/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/services/trunk/drivers/openvswitch/agent/driver.py', 'neutron/agent/agent_extensions_manager.py', 'neutron/agent/l2/extensions/qos.py', 'neutron/agent/rpc.py', 'setup.cfg', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py']",7,e90c5f3647cfe55f94e06e4bee87fd06ae4ff2a5,bug/1639186,"from neutron_lib import rpc as lib_rpc """"""Returns the list of ports matching the port predicate."""""" return {} return {iface for iface in ifaces if is_port_predicate(iface)} return bool(bridge_has_port(bridge, is_instance_port)) return bool(bridge_has_port(bridge, is_trunk_service_port)) def __init__(self, trunk_manager, ext_manager, ovs_agent): self._ext_manager = ext_manager # NOTE: maybe we'll need an agent_api, maybe... # NOTE: make ""ovs_trunk"" a constant self.connection = lib_rpc.Connection() self._ext_manager.initialize(self.connection, 'ovs_trunk', agent_api=None) self._ovs_agent = ovs_agent ###self.resource_rpc = resources_rpc.ResourcesPullRpcApi() # TODO: create a method... port_name = 'tap1437eea1-07' port_ovs = bridge.db_get_val('Interface', port_name, 'external_ids') port_id = port_ovs['iface-id'] port_dict = self._ovs_agent.plugin_rpc.get_device_details( self.context, port_id, self._ovs_agent.agent_id, qos_only=True) port_dict['port_id'] = port_dict['device'] self._ext_manager.handle_port(self._context, port_dict) "," """"""True if there is an OVS port for which is_port_predicate is True. """""" return False return any(iface for iface in ifaces if is_port_predicate(iface)) return bridge_has_port(bridge, is_instance_port) return bridge_has_port(bridge, is_trunk_service_port) def __init__(self, trunk_manager):",139,10
openstack%2Fskyline-console~914424,openstack/skyline-console,master,If47950970c303cc6fe1c76003b4a29c3d1a2d09b,feat: The RBAC Policies screen has been added to the Networks tab.,ABANDONED,2024-03-27 07:13:45.000000000,2024-04-04 06:56:06.000000000,,"[{'_account_id': 20865}, {'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 34671}, {'_account_id': 34680}]","[{'number': 1, 'created': '2024-03-27 07:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/365131c3e9c2faf6afd4e1c7dd6822b945633862', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 2, 'created': '2024-03-27 07:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8a8da4ca770707806078f3087ac4025e9e8a9af5', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab in administrator page.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu in administrator page.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 3, 'created': '2024-03-27 07:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5d06a2f8482d76bf7dcc1bd44518205411d2e021', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 4, 'created': '2024-03-27 10:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6b05a9ab88e8e33c841d6356f91207d66c873e29', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 5, 'created': '2024-03-27 12:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b4cc6a40211860875854f294780df5e400900244', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 6, 'created': '2024-03-27 13:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fa580749f4108e5809bcc231bf8306091b9eceaa', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 7, 'created': '2024-03-28 06:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/22894a166fb657ca5137a6bdb6ab0aedcda522c7', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 8, 'created': '2024-03-29 07:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/378739348039d4713dea078beda202cd9b236160', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}, {'number': 9, 'created': '2024-04-03 01:10:25.000000000', 'files': ['src/stores/neutron/rbac-policies-detail.js', 'src/pages/network/containers/RbacPolicies/Detail/Detail.jsx', 'src/pages/network/routes/index.js', 'src/pages/network/containers/RbacPolicies/Detail/index.jsx', 'src/pages/network/containers/RbacPolicies/actions/Create.jsx', 'src/pages/network/containers/RbacPolicies/actions/index.jsx', 'src/pages/network/containers/RbacPolicies/actions/Delete.jsx', 'src/layouts/admin-menu.jsx', 'src/client/neutron/index.js', 'src/pages/network/containers/RbacPolicies/actions/Edit.jsx', 'src/stores/neutron/rbac-policies.js', 'releasenotes/notes/feat_rbac_policies_to_neutron-fe932b115cdd4265.yaml', 'src/pages/network/containers/RbacPolicies/index.jsx', 'src/stores/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/388a80e67a1a7daaf3078ebcd8c6d545b3c52fc3', 'message': 'feat: The RBAC Policies screen has been added to the Networks tab.\n\nRBAC Policies  screen and its actions have been included  under the Networks in menu.\n\nChange-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b\n'}]",14,914424,388a80e67a1a7daaf3078ebcd8c6d545b3c52fc3,20,5,9,36902,,,0,"feat: The RBAC Policies screen has been added to the Networks tab.

RBAC Policies  screen and its actions have been included  under the Networks in menu.

Change-Id: If47950970c303cc6fe1c76003b4a29c3d1a2d09b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/24/914424/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/neutron/rbac-policies-detail.js', 'src/pages/network/containers/RbacPolicies/Detail/Detail.jsx', 'src/pages/network/routes/index.js', 'src/pages/network/containers/RbacPolicies/Detail/index.jsx', 'src/pages/network/containers/RbacPolicies/actions/Create.jsx', 'src/pages/network/containers/RbacPolicies/actions/index.jsx', 'src/pages/network/containers/RbacPolicies/actions/Delete.jsx', 'src/layouts/admin-menu.jsx', 'src/client/neutron/index.js', 'src/pages/network/containers/RbacPolicies/actions/Edit.jsx', 'src/stores/neutron/rbac-policies.js', 'src/pages/network/containers/RbacPolicies/index.jsx', 'src/stores/index.jsx']",13,365131c3e9c2faf6afd4e1c7dd6822b945633862,,"import globalRbacPoliciesStore from 'stores/neutron/rbac-policies.js'; import globalRbacPoliciesDetailStore from 'stores/neutron/rbac-policies-detail.js' globalRbacPoliciesDetailStore, globalRbacPoliciesStore",,773,0
openstack%2Fsunbeam-charms~914846,openstack/sunbeam-charms,main,Icb17f234c9382db3042505ed3d2420bf7299b775,WIP: port dashboards from charm-prometheus-openstack-exporter,ABANDONED,2024-04-02 06:14:33.000000000,2024-04-04 05:43:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-02 06:14:33.000000000', 'files': ['charms/openstack-exporter-k8s/src/grafana_dashboards/overview-openstack-exporter-dashboard.json', 'charms/openstack-exporter-k8s/src/grafana_dashboards/hypervisor-openstack-exporter-dashboard.json'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/bb76e9550db1fc505c02b53ca5ed50b4bd79693d', 'message': 'WIP: port dashboards from charm-prometheus-openstack-exporter\n\nChange-Id: Icb17f234c9382db3042505ed3d2420bf7299b775\n'}]",0,914846,bb76e9550db1fc505c02b53ca5ed50b4bd79693d,3,1,1,34352,,,0,"WIP: port dashboards from charm-prometheus-openstack-exporter

Change-Id: Icb17f234c9382db3042505ed3d2420bf7299b775
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/46/914846/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms/openstack-exporter-k8s/src/grafana_dashboards/overview-openstack-exporter-dashboard.json', 'charms/openstack-exporter-k8s/src/grafana_dashboards/hypervisor-openstack-exporter-dashboard.json']",2,bb76e9550db1fc505c02b53ca5ed50b4bd79693d,dashboards,"{ ""dashboard"": { ""annotations"": { ""list"": [ { ""builtIn"": 1, ""datasource"": ""-- Grafana --"", ""enable"": true, ""hide"": true, ""iconColor"": ""rgba(0, 211, 255, 1)"", ""name"": ""Annotations & Alerts"", ""target"": { ""limit"": 100, ""matchAny"": false, ""tags"": [], ""type"": ""dashboard"" }, ""type"": ""dashboard"" } ] }, ""editable"": true, ""gnetId"": null, ""graphTooltip"": 0, ""id"": null, ""iteration"": 1633078228458, ""links"": [], ""panels"": [ { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 0 }, ""id"": 158, ""panels"": [], ""title"": ""General information"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""fixedColor"": ""#ffffff"", ""mode"": ""fixed"" }, ""custom"": { ""align"": ""auto"", ""displayMode"": ""color-text"", ""filterable"": true, ""inspect"": false, ""minWidth"": 50 }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""string"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""nova_service_status"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Status"" }, { ""id"": ""mappings"", ""value"": [ { ""options"": { ""disabled"": { ""color"": ""red"", ""index"": 1 }, ""enabled"": { ""color"": ""green"", ""index"": 0 } }, ""type"": ""value"" } ] }, { ""id"": ""custom.displayMode"", ""value"": ""color-background-solid"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""hypervisor_hostname"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Hypervisor"" } ] } ] }, ""gridPos"": { ""h"": 8, ""w"": 8, ""x"": 0, ""y"": 1 }, ""id"": 160, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": """", ""reducer"": [ ""sum"" ], ""show"": false }, ""showHeader"": true, ""sortBy"": [] }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""hypervisor_schedulable_instances_capacity{cloud=~\""$cloud\"", hypervisor_hostname=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" } ], ""title"": ""Nova Service status"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""hypervisor_hostname"", ""nova_service_status"" ] } } } ], ""type"": ""table"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] } }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 4, ""x"": 8, ""y"": 1 }, ""id"": 182, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""sum"" ], ""fields"": ""/^Value$/"", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, project_name) (libvirt_domain_info_meta{dns_name=~\""$hypervisor.*\"",project_name=~\""$project\""})"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" } ], ""title"": ""Scheduled VMs"", ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""max"": 100, ""min"": 0, ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""#EAB839"", ""value"": 80 }, { ""color"": ""red"", ""value"": 90 } ] }, ""unit"": ""percent"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 5, ""w"": 4, ""x"": 12, ""y"": 1 }, ""id"": 165, ""options"": { ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""showThresholdLabels"": false, ""showThresholdMarkers"": true, ""text"": {} }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_vcpus_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) / sum(hypervisor_vcpus_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) * 100"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Hypervisor CPU Subscription"", ""transformations"": [], ""type"": ""gauge"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""max"": 100, ""min"": 0, ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""#EAB839"", ""value"": 80 }, { ""color"": ""red"", ""value"": 90 } ] }, ""unit"": ""percent"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 5, ""w"": 4, ""x"": 16, ""y"": 1 }, ""id"": 168, ""options"": { ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""showThresholdLabels"": false, ""showThresholdMarkers"": true, ""text"": {} }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_memory_mbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) / sum(hypervisor_memory_mbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) * 100"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Hypervisor Mem Subscription"", ""transformations"": [], ""type"": ""gauge"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""max"": 100, ""min"": 0, ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""#EAB839"", ""value"": 80 }, { ""color"": ""red"", ""value"": 90 } ] }, ""unit"": ""percent"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 5, ""w"": 4, ""x"": 20, ""y"": 1 }, ""id"": 179, ""options"": { ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""showThresholdLabels"": false, ""showThresholdMarkers"": true, ""text"": {} }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_disk_gbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) / sum(hypervisor_disk_gbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""}) * 100"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Hypervisor Disk Subscription"", ""transformations"": [], ""type"": ""gauge"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(229, 231, 235)"", ""value"": null } ] }, ""unit"": ""none"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 12, ""y"": 6 }, ""id"": 166, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_vcpus_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Allocated"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(251, 252, 250)"", ""value"": null } ] }, ""unit"": ""none"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 14, ""y"": 6 }, ""id"": 167, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_vcpus_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Total"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(229, 231, 235)"", ""value"": null } ] }, ""unit"": ""mbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 16, ""y"": 6 }, ""id"": 169, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_memory_mbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Allocated"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(251, 252, 250)"", ""value"": null } ] }, ""unit"": ""mbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 18, ""y"": 6 }, ""id"": 170, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_memory_mbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Total"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(229, 231, 235)"", ""value"": null } ] }, ""unit"": ""decgbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 20, ""y"": 6 }, ""id"": 180, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_disk_gbs_used{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Allocated"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""rgb(251, 252, 250)"", ""value"": null } ] }, ""unit"": ""decgbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 3, ""w"": 2, ""x"": 22, ""y"": 6 }, ""id"": 181, ""options"": { ""colorMode"": ""value"", ""graphMode"": ""none"", ""justifyMode"": ""auto"", ""orientation"": ""auto"", ""reduceOptions"": { ""calcs"": [ ""last"" ], ""fields"": """", ""values"": false }, ""text"": {}, ""textMode"": ""auto"" }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum(hypervisor_disk_gbs_total{cloud=~\""$cloud\"",hypervisor_hostname=~\""$hypervisor.*\""})"", ""instant"": false, ""interval"": """", ""legendFormat"": """", ""refId"": ""A"" } ], ""title"": ""Total"", ""transformations"": [], ""type"": ""stat"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""custom"": { ""align"": ""auto"", ""displayMode"": ""auto"", ""inspect"": false }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""string"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #A"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Load5/ncpu"" }, { ""id"": ""thresholds"", ""value"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""orange"", ""value"": 1 } ] } }, { ""id"": ""color"" }, { ""id"": ""custom.displayMode"", ""value"": ""color-background-solid"" }, { ""id"": ""unit"", ""value"": ""none"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #B"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Load15/ncpu"" }, { ""id"": ""thresholds"", ""value"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 1 } ] } }, { ""id"": ""color"", ""value"": { ""mode"": ""thresholds"" } }, { ""id"": ""custom.displayMode"", ""value"": ""color-background-solid"" }, { ""id"": ""unit"", ""value"": ""none"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""dns_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Hypervisor"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #C"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Uptime"" }, { ""id"": ""unit"", ""value"": ""s"" } ] } ] }, ""gridPos"": { ""h"": 10, ""w"": 24, ""x"": 0, ""y"": 9 }, ""id"": 184, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": """", ""reducer"": [ ""sum"" ], ""show"": false }, ""showHeader"": true }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""exemplar"": false, ""expr"": ""system_load5{dns_name=~\""$hypervisor.*\""} / system_n_cpus{dns_name=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" }, { ""exemplar"": false, ""expr"": ""system_load15{dns_name=~\""$hypervisor.*\""} / system_n_cpus{dns_name=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""B"" }, { ""exemplar"": false, ""expr"": ""system_uptime{dns_name=~\""$hypervisor.*\""}"", ""format"": ""table"", ""instant"": true, ""legendFormat"": ""__auto"", ""range"": false, ""refId"": ""C"" } ], ""title"": ""Hypervisor Stats"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""dns_name"", ""Value #A"", ""Value #B"", ""Value #C"" ] } } }, { ""id"": ""merge"", ""options"": {} }, { ""id"": ""organize"", ""options"": { ""excludeByName"": {}, ""indexByName"": { ""Value #A"": 2, ""Value #B"": 3, ""Value #C"": 1, ""dns_name"": 0 }, ""renameByName"": {} } } ], ""type"": ""table"" }, { ""datasource"": ""${prometheusds}"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""thresholds"" }, ""custom"": { ""displayMode"": ""auto"", ""filterable"": true, ""inspect"": false }, ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [] } }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #cpu_time"" }, ""properties"": [ { ""id"": ""unit"", ""value"": ""s"" }, { ""id"": ""displayName"", ""value"": ""CPU time"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #mem_usage"" }, ""properties"": [ { ""id"": ""unit"", ""value"": ""decbytes"" }, { ""id"": ""displayName"", ""value"": ""Mem Usage"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #net_throughput"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": "" Net Throughput"" }, { ""id"": ""unit"", ""value"": ""Bps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #packets_rate"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Packets Rate"" }, { ""id"": ""unit"", ""value"": ""pps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #net_errors"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Net Errors"" }, { ""id"": ""unit"", ""value"": ""cps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #packets_drops"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Packets Drops"" }, { ""id"": ""unit"", ""value"": ""pps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #disks_iops"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Disks IOPS"" }, { ""id"": ""unit"", ""value"": ""iops"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value #disks_throughput"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Disks Throughput"" }, { ""id"": ""unit"", ""value"": ""Bps"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""instance_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Instance"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""project_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Project"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""uuid"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""UUID"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""dns_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Hypervisor"" } ] } ] }, ""gridPos"": { ""h"": 10, ""w"": 24, ""x"": 0, ""y"": 19 }, ""id"": 177, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": """", ""reducer"": [ ""sum"" ], ""show"": false }, ""frameIndex"": 0, ""showHeader"": true, ""sortBy"": [] }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""rate(libvirt_domain_info_cpu_time_seconds_total{dns_name=~\""$hypervisor.*\""}[2m]) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""cpu_time"" }, { ""expr"": ""libvirt_domain_info_memory_usage_bytes{dns_name=~\""$hypervisor.*\""} * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""mem_usage"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""net_throughput"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_packets_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_packets_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""packets_rate"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_errors_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_errors_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""net_errors"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_drops_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_drops_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""packets_drops"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_block_stats_read_requests_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_block_stats_write_requests_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""disks_iops"" }, { ""expr"": ""(sum by(dns_name, domain) (rate(libvirt_domain_block_stats_read_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) + sum by(dns_name, domain) (rate(libvirt_domain_block_stats_write_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""hide"": false, ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""disks_throughput"" } ], ""title"": ""Instances stats"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""instance_name"", ""project_name"", ""uuid"", ""dns_name"", ""Value #cpu_time"", ""Value #mem_usage"", ""Value #net_throughput"", ""Value #packets_rate"", ""Value #net_errors"", ""Value #disks_iops"", ""Value #disks_throughput"", ""Value #packets_drops"" ] } } }, { ""id"": ""merge"", ""options"": {} }, { ""id"": ""organize"", ""options"": { ""excludeByName"": {}, ""indexByName"": { ""Value #cpu_time"": 2, ""Value #disks_iops"": 8, ""Value #disks_throughput"": 9, ""Value #mem_usage"": 3, ""Value #net_errors"": 6, ""Value #net_throughput"": 4, ""Value #packets_drops"": 7, ""Value #packets_rate"": 5, ""dns_name"": 11, ""instance_name"": 0, ""project_name"": 1, ""uuid"": 10 }, ""renameByName"": {} } } ], ""type"": ""table"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""CPU time used by the domain, in seconds - rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""s"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 9, ""w"": 24, ""x"": 0, ""y"": 29 }, ""id"": 8, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""rate(libvirt_domain_info_cpu_time_seconds_total{dns_name=~\""$hypervisor.*\""}[2m]) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" } ], ""title"": ""CPU Time"", ""type"": ""timeseries"" }, { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 38 }, ""id"": 10, ""panels"": [], ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""title"": ""Memory"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Total memory used per hypervisor"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""decbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 9, ""x"": 0, ""y"": 39 }, ""id"": 16, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name) (libvirt_domain_info_memory_usage_bytes{dns_name=~\""$hypervisor.*\""})"", ""interval"": """", ""legendFormat"": ""{{dns_name}}"", ""refId"": ""A"" } ], ""title"": ""Cumulative Memory Usage"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance memory usage, stacked"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 10, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineStyle"": { ""fill"": ""solid"" }, ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""normal"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""decbytes"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 8, ""x"": 9, ""y"": 39 }, ""id"": 12, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""libvirt_domain_info_memory_usage_bytes{dns_name=~\""$hypervisor.*\""} * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" } ], ""title"": ""Instance Memory Usage"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Maximum allowed memory per instance"", ""fieldConfig"": { ""defaults"": { ""color"": { ""fixedColor"": ""#ffffff"", ""mode"": ""fixed"" }, ""custom"": { ""align"": ""auto"", ""displayMode"": ""auto"", ""filterable"": false, ""inspect"": false, ""minWidth"": 50 }, ""mappings"": [], ""thresholds"": { ""mode"": ""percentage"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""decbytes"" }, ""overrides"": [ { ""matcher"": { ""id"": ""byName"", ""options"": ""instance_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Instance"" }, { ""id"": ""custom.filterable"", ""value"": true } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""project_name"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Project"" }, { ""id"": ""custom.filterable"", ""value"": true } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""uuid"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""UUID"" } ] }, { ""matcher"": { ""id"": ""byName"", ""options"": ""Value"" }, ""properties"": [ { ""id"": ""displayName"", ""value"": ""Memory"" } ] } ] }, ""gridPos"": { ""h"": 8, ""w"": 7, ""x"": 17, ""y"": 39 }, ""id"": 14, ""options"": { ""footer"": { ""enablePagination"": true, ""fields"": [ ""Value"" ], ""reducer"": [ ""sum"" ], ""show"": true }, ""showHeader"": true, ""sortBy"": [ { ""desc"": false, ""displayName"": ""Memory"" } ] }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""libvirt_domain_info_maximum_memory_bytes{dns_name=~\""$hypervisor.*\""} * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""format"": ""table"", ""instant"": true, ""interval"": """", ""legendFormat"": ""__auto"", ""refId"": ""A"" } ], ""title"": ""Max Instance Memory"", ""transformations"": [ { ""id"": ""filterFieldsByName"", ""options"": { ""include"": { ""names"": [ ""instance_name"", ""project_name"", ""uuid"", ""Value"" ] } } } ], ""type"": ""table"" }, { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 47 }, ""id"": 20, ""panels"": [], ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""title"": ""Network"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Network traffic in bytes, rate over 1min, receive/transmit per instance, cumulative over all interfaces"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""Bps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 9, ""w"": 12, ""x"": 0, ""y"": 48 }, ""id"": 18, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""B"" } ], ""title"": ""Instance Network Throughput"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Network traffic in packets, rate over 1min, receive/transmit per instance, cumulative over all interfaces"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""pps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 9, ""w"": 12, ""x"": 12, ""y"": 48 }, ""id"": 22, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_packets_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_packets_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""B"" } ], ""title"": ""Instance Packet Rate"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Total network throughput rates per hypervisor, rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null }, { ""color"": ""red"", ""value"": 80 } ] }, ""unit"": ""Bps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 0, ""y"": 57 }, ""id"": 24, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_receive_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""rx: {{dns_name}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_transmit_bytes_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""tx: {{dns_name}}"", ""refId"": ""B"" } ], ""title"": ""Cumulative Network Throughput"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Total network throughput rates per hypervisor, rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""pps"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 12, ""y"": 57 }, ""id"": 25, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_receive_packets_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""rx: {{dns_name}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name) (rate(libvirt_domain_interface_stats_transmit_packets_total{dns_name=~\""$hypervisor.*\""}[2m]))"", ""interval"": """", ""legendFormat"": ""tx: {{dns_name}}"", ""refId"": ""B"" } ], ""title"": ""Cumulative Packet Rate"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance errors and drops, transmit and receive. Rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 11, ""w"": 24, ""x"": 0, ""y"": 65 }, ""id"": 33, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_errors_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx err: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""A"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_errors_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx err: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""B"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_receive_drops_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""rx drop: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""C"" }, { ""expr"": ""sum by(dns_name, domain) (rate(libvirt_domain_interface_stats_transmit_drops_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""tx drop: {{project_name}} | {{instance_name}} | {{uuid}}"", ""refId"": ""D"" } ], ""title"": ""Instance Errors and Drops"", ""type"": ""timeseries"" }, { ""collapsed"": false, ""datasource"": null, ""gridPos"": { ""h"": 1, ""w"": 24, ""x"": 0, ""y"": 76 }, ""id"": 35, ""panels"": [], ""targets"": [ { ""datasource"": { ""type"": ""datasource"", ""uid"": ""grafana"" }, ""refId"": ""A"" } ], ""title"": ""Disk"", ""type"": ""row"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block dev read request rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 0, ""y"": 77 }, ""id"": 37, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_read_requests_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""IOPS Read"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block dev write request rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 12, ""y"": 77 }, ""id"": 39, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_write_requests_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""IOPS Write"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block device read bytes rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 0, ""y"": 85 }, ""id"": 40, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_read_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""Throughput Read"", ""type"": ""timeseries"" }, { ""datasource"": ""${prometheusds}"", ""description"": ""Instance block device write bytes rate over 1min"", ""fieldConfig"": { ""defaults"": { ""color"": { ""mode"": ""palette-classic"" }, ""custom"": { ""axisCenteredZero"": false, ""axisColorMode"": ""text"", ""axisLabel"": """", ""axisPlacement"": ""auto"", ""barAlignment"": 0, ""drawStyle"": ""line"", ""fillOpacity"": 0, ""gradientMode"": ""none"", ""hideFrom"": { ""legend"": false, ""tooltip"": false, ""viz"": false }, ""lineInterpolation"": ""smooth"", ""lineWidth"": 1, ""pointSize"": 5, ""scaleDistribution"": { ""type"": ""linear"" }, ""showPoints"": ""never"", ""spanNulls"": false, ""stacking"": { ""group"": ""A"", ""mode"": ""none"" }, ""thresholdsStyle"": { ""mode"": ""off"" } }, ""links"": [], ""mappings"": [], ""min"": 0, ""thresholds"": { ""mode"": ""absolute"", ""steps"": [ { ""color"": ""green"", ""value"": null } ] }, ""unit"": ""short"" }, ""overrides"": [] }, ""gridPos"": { ""h"": 8, ""w"": 12, ""x"": 12, ""y"": 85 }, ""id"": 38, ""options"": { ""legend"": { ""calcs"": [ ""mean"", ""lastNotNull"", ""max"", ""min"" ], ""displayMode"": ""table"", ""placement"": ""bottom"", ""showLegend"": true }, ""tooltip"": { ""mode"": ""multi"", ""sort"": ""none"" } }, ""pluginVersion"": ""9.2.1"", ""targets"": [ { ""expr"": ""sum by(dns_name, domain, target_device) (rate(libvirt_domain_block_stats_write_bytes_total{dns_name=~\""$hypervisor.*\""}[2m])) * on(dns_name, domain) group_left(project_name, instance_name, uuid) libvirt_domain_info_meta{project_name=~\""$project\""}"", ""interval"": """", ""legendFormat"": ""{{project_name}} | {{instance_name}} | {{uuid}} | {{target_device}}"", ""refId"": ""A"" } ], ""title"": ""Throughput Write"", ""type"": ""timeseries"" } ], ""refresh"": """", ""schemaVersion"": 27, ""style"": ""dark"", ""tags"": [], ""templating"": { ""list"": [ { ""allValue"": null, ""current"": { ""selected"": false, ""text"": """", ""value"": """" }, ""datasource"": ""${prometheusds}"", ""definition"": """", ""description"": null, ""error"": null, ""hide"": 0, ""includeAll"": false, ""label"": null, ""multi"": false, ""name"": ""cloud"", ""options"": [], ""query"": { ""query"": ""openstack_exporter_cache_age_seconds"", ""refId"": ""${prometheusds}-cloud-Variable-Query"" }, ""refresh"": 1, ""regex"": "".*cloud=\""([^\""]+).*"", ""skipUrlSync"": false, ""sort"": 0, ""tagValuesQuery"": null, ""tags"": [], ""tagsQuery"": null, ""type"": ""query"", ""useTags"": false }, { ""allValue"": null, ""current"": { ""selected"": true, ""text"": [ ""All"" ], ""value"": [ ""$__all"" ] }, ""datasource"": ""${prometheusds}"", ""definition"": """", ""description"": null, ""error"": null, ""hide"": 0, ""includeAll"": true, ""label"": null, ""multi"": true, ""name"": ""hypervisor"", ""options"": [], ""query"": { ""query"": ""hypervisor_vcpus_total{cloud=\""$cloud\""}"", ""refId"": ""${prometheusds}-hypervisor-Variable-Query"" }, ""refresh"": 1, ""regex"": "".*hypervisor_hostname=\""([^\""]+).*"", ""skipUrlSync"": false, ""sort"": 0, ""tagValuesQuery"": null, ""tags"": [], ""tagsQuery"": null, ""type"": ""query"", ""useTags"": false }, { ""current"": { ""selected"": true, ""text"": [ ""All"" ], ""value"": [ ""$__all"" ] }, ""datasource"": ""${prometheusds}"", ""definition"": """", ""hide"": 0, ""includeAll"": true, ""multi"": true, ""name"": ""project"", ""options"": [], ""query"": { ""query"": ""libvirt_domain_info_meta{dns_name=~\""$hypervisor\""}"", ""refId"": ""StandardVariableQuery"" }, ""refresh"": 1, ""regex"": "".*project_name=\""([^\""]+).*"", ""skipUrlSync"": false, ""sort"": 0, ""type"": ""query"" } ] }, ""time"": { ""from"": ""now-24h"", ""to"": ""now"" }, ""timepicker"": { ""refresh_intervals"": [ ""5m"", ""15m"", ""30m"", ""1h"", ""2h"", ""1d"" ], ""time_options"": [ ""5m"", ""15m"", ""1h"", ""6h"", ""12h"", ""24h"", ""2d"", ""7d"", ""30d"" ] }, ""timezone"": ""utc"", ""title"": ""[juju] OpenStack Hypervisor Overview"", ""uid"": ""718cac2e-f0b4-11ee-b1c6-6b7e6a75e66d"", ""version"": 1 }, ""overwrite"": true } ",,6875,0
openstack%2Fheat~914008,openstack/heat,stable/2024.1,I7b141f8846005da8379b1c646b298088d27a66bc,Fix update of OS::Heat::UpdateWaitConditionHandle,MERGED,2024-03-25 09:33:45.000000000,2024-04-04 05:34:36.000000000,2024-04-04 05:33:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-25 09:33:45.000000000', 'files': ['heat/engine/resources/openstack/heat/wait_condition_handle.py', 'releasenotes/notes/fix-update-of-UpdateWaitConditionHandle-98ef3ed47892bbc8.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/202bc9f572b8f7522682be70d26b6dd6f2b50f43', 'message': 'Fix update of OS::Heat::UpdateWaitConditionHandle\n\nThe update method has incomplete arguments and causes error during\nactual stack update operation.\n\nStory: 2011068\nTask: 49751\nChange-Id: I7b141f8846005da8379b1c646b298088d27a66bc\n(cherry picked from commit 399352dfdc5a68bdb439b5ee65f550e126792877)\n'}]",2,914008,202bc9f572b8f7522682be70d26b6dd6f2b50f43,15,2,1,9816,,,0,"Fix update of OS::Heat::UpdateWaitConditionHandle

The update method has incomplete arguments and causes error during
actual stack update operation.

Story: 2011068
Task: 49751
Change-Id: I7b141f8846005da8379b1c646b298088d27a66bc
(cherry picked from commit 399352dfdc5a68bdb439b5ee65f550e126792877)
",git fetch https://review.opendev.org/openstack/heat refs/changes/08/914008/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/wait_condition_handle.py', 'releasenotes/notes/fix-update-of-UpdateWaitConditionHandle-98ef3ed47892bbc8.yaml']",2,202bc9f572b8f7522682be70d26b6dd6f2b50f43,story/2011068,"--- features: - | Fixed the ``OS::Heat::UpdateWaitConditionHandle`` resource type, which caused stack update to fail consistently. ",,7,1
openstack%2Fopenstack-helm~914699,openstack/openstack-helm,master,I76f5699e74a51374c644527c58ffc4527b4f6100,Add 2024.1 overrides,MERGED,2024-03-28 19:03:10.000000000,2024-04-04 05:16:22.000000000,2024-04-04 05:07:58.000000000,"[{'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-03-28 19:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d15eceb1cf212e2468ae6e9611ad11afa24f5d23', 'message': 'Add 2024.1 overrides\n\nDepends-On: Iefe943b6fa608cafcda418cedf48b5148eefadd1\nDepends-On: Iadc9aec92b756de2ecfcb610e62c15bdbad4bb9e\nDepends-On: Icf98f9af863f60fa93ff70d2e8256810bed2b9f9\nChange-Id: I76f5699e74a51374c644527c58ffc4527b4f6100\n'}, {'number': 2, 'created': '2024-03-29 21:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f4e6a2bff0878e6d7369c7b673d404dc5cbe1129', 'message': 'Add 2024.1 overrides\n\nDepends-On: Iefe943b6fa608cafcda418cedf48b5148eefadd1\nDepends-On: Iadc9aec92b756de2ecfcb610e62c15bdbad4bb9e\nDepends-On: Icf98f9af863f60fa93ff70d2e8256810bed2b9f9\nChange-Id: I76f5699e74a51374c644527c58ffc4527b4f6100\n'}, {'number': 3, 'created': '2024-03-30 16:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2763a8475ea5da982ac6a5841b7a293655782820', 'message': 'Add 2024.1 overrides\n\nDepends-On: Iefe943b6fa608cafcda418cedf48b5148eefadd1\nDepends-On: Iadc9aec92b756de2ecfcb610e62c15bdbad4bb9e\nDepends-On: Icf98f9af863f60fa93ff70d2e8256810bed2b9f9\nChange-Id: I76f5699e74a51374c644527c58ffc4527b4f6100\n'}, {'number': 4, 'created': '2024-03-30 20:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab541b0aa4777fc90c93efcce1a541eb2f7beef3', 'message': 'Add 2024.1 overrides\n\nDepends-On: Iefe943b6fa608cafcda418cedf48b5148eefadd1\nDepends-On: Iadc9aec92b756de2ecfcb610e62c15bdbad4bb9e\nDepends-On: Icf98f9af863f60fa93ff70d2e8256810bed2b9f9\nChange-Id: I76f5699e74a51374c644527c58ffc4527b4f6100\n'}, {'number': 5, 'created': '2024-03-30 21:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e70d3ce1caeb9889b6b3c5c17ce29a45423e785', 'message': 'Add 2024.1 overrides\n\nDepends-On: Iefe943b6fa608cafcda418cedf48b5148eefadd1\nDepends-On: Iadc9aec92b756de2ecfcb610e62c15bdbad4bb9e\nDepends-On: Icf98f9af863f60fa93ff70d2e8256810bed2b9f9\nChange-Id: I76f5699e74a51374c644527c58ffc4527b4f6100\n'}, {'number': 6, 'created': '2024-04-03 22:27:02.000000000', 'files': ['keystone/values_overrides/2024.1-ubuntu_jammy.yaml', 'releasenotes/notes/openstack.yaml', 'releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'glance/values_overrides/2024.1-ubuntu_jammy.yaml', 'openstack/values_overrides/horizon/2024.1-ubuntu_jammy.yaml', 'horizon/Chart.yaml', 'openstack/values_overrides/keystone/2024.1-ubuntu_jammy.yaml', 'cinder/values_overrides/2024.1-ubuntu_jammy.yaml', 'releasenotes/notes/manila.yaml', 'releasenotes/notes/neutron.yaml', 'openstack/values_overrides/libvirt/2024.1-ubuntu_jammy.yaml', 'heat/values_overrides/2024.1-ubuntu_jammy.yaml', 'barbican/values_overrides/2024.1-ubuntu_jammy.yaml', 'openstack/values_overrides/placement/2024.1-ubuntu_jammy.yaml', 'tacker/values_overrides/2024.1-ubuntu_jammy.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'manila/values_overrides/2024.1-ubuntu_jammy.yaml', 'releasenotes/notes/tacker.yaml', 'openstack/values_overrides/heat/2024.1-ubuntu_jammy.yaml', 'tacker/Chart.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/keystone.yaml', 'releasenotes/notes/horizon.yaml', 'neutron/Chart.yaml', 'openstack/values_overrides/neutron/2024.1-ubuntu_jammy.yaml', 'openstack/values_overrides/nova/2024.1-ubuntu_jammy.yaml', 'nova/Chart.yaml', 'releasenotes/notes/barbican.yaml', 'openstack/values_overrides/glance/2024.1-ubuntu_jammy.yaml', 'glance/Chart.yaml', 'placement/values_overrides/2024.1-ubuntu_jammy.yaml', 'neutron/values_overrides/2024.1-ubuntu_jammy.yaml', 'nova/values_overrides/2024.1-ubuntu_jammy.yaml', 'placement/Chart.yaml', 'zuul.d/project.yaml', 'keystone/Chart.yaml', 'horizon/values_overrides/2024.1-ubuntu_jammy.yaml', 'manila/Chart.yaml', 'openstack/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e3f7a6797196556305db86100a0f39f8e507abca', 'message': 'Add 2024.1 overrides\n\nDepends-On: Iefe943b6fa608cafcda418cedf48b5148eefadd1\nDepends-On: Iadc9aec92b756de2ecfcb610e62c15bdbad4bb9e\nDepends-On: Icf98f9af863f60fa93ff70d2e8256810bed2b9f9\nChange-Id: I76f5699e74a51374c644527c58ffc4527b4f6100\n'}]",2,914699,e3f7a6797196556305db86100a0f39f8e507abca,22,3,6,3009,,,0,"Add 2024.1 overrides

Depends-On: Iefe943b6fa608cafcda418cedf48b5148eefadd1
Depends-On: Iadc9aec92b756de2ecfcb610e62c15bdbad4bb9e
Depends-On: Icf98f9af863f60fa93ff70d2e8256810bed2b9f9
Change-Id: I76f5699e74a51374c644527c58ffc4527b4f6100
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/99/914699/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/values_overrides/2024.1-ubuntu_jammy.yaml', 'releasenotes/notes/openstack.yaml', 'releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'glance/values_overrides/2024.1-ubuntu_jammy.yaml', 'openstack/values_overrides/horizon/2024.1-ubuntu_jammy.yaml', 'horizon/Chart.yaml', 'openstack/values_overrides/keystone/2024.1-ubuntu_jammy.yaml', 'cinder/values_overrides/2024.1-ubuntu_jammy.yaml', 'releasenotes/notes/manila.yaml', 'releasenotes/notes/neutron.yaml', 'openstack/values_overrides/libvirt/2024.1-ubuntu_jammy.yaml', 'heat/values_overrides/2024.1-ubuntu_jammy.yaml', 'barbican/values_overrides/2024.1-ubuntu_jammy.yaml', 'openstack/values_overrides/placement/2024.1-ubuntu_jammy.yaml', 'tacker/values_overrides/2024.1-ubuntu_jammy.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'manila/values_overrides/2024.1-ubuntu_jammy.yaml', 'releasenotes/notes/tacker.yaml', 'openstack/values_overrides/heat/2024.1-ubuntu_jammy.yaml', 'tacker/Chart.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/keystone.yaml', 'releasenotes/notes/horizon.yaml', 'neutron/Chart.yaml', 'openstack/values_overrides/neutron/2024.1-ubuntu_jammy.yaml', 'openstack/values_overrides/nova/2024.1-ubuntu_jammy.yaml', 'nova/Chart.yaml', 'releasenotes/notes/barbican.yaml', 'openstack/values_overrides/glance/2024.1-ubuntu_jammy.yaml', 'glance/Chart.yaml', 'placement/values_overrides/2024.1-ubuntu_jammy.yaml', 'neutron/values_overrides/2024.1-ubuntu_jammy.yaml', 'nova/values_overrides/2024.1-ubuntu_jammy.yaml', 'placement/Chart.yaml', 'zuul.d/project.yaml', 'keystone/Chart.yaml', 'horizon/values_overrides/2024.1-ubuntu_jammy.yaml', 'manila/Chart.yaml', 'openstack/Chart.yaml']",44,d15eceb1cf212e2468ae6e9611ad11afa24f5d23,,version: 0.2.15,version: 0.2.7,350,16
openstack%2Fpuppet-openstack-integration~914935,openstack/puppet-openstack-integration,master,I83b3a273298a78cddda4aecb28d50d3fdd61ddaa,DNM: Increase redis_socket_timeout,ABANDONED,2024-04-03 03:15:32.000000000,2024-04-04 02:24:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-03 03:15:32.000000000', 'files': ['manifests/heat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/537cf82c119666d8cbc5b38e4bf8568191fbea5f', 'message': 'DNM: Increase redis_socket_timeout\n\nChange-Id: I83b3a273298a78cddda4aecb28d50d3fdd61ddaa\n'}]",0,914935,537cf82c119666d8cbc5b38e4bf8568191fbea5f,3,1,1,9816,,,0,"DNM: Increase redis_socket_timeout

Change-Id: I83b3a273298a78cddda4aecb28d50d3fdd61ddaa
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/914935/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/heat.pp'],1,537cf82c119666d8cbc5b38e4bf8568191fbea5f,," backend => $::openstack_integration::config::cache_driver, enabled => true, memcache_servers => $::openstack_integration::config::memcache_servers, redis_server => $::openstack_integration::config::redis_server, redis_password => 'a_big_secret', redis_sentinels => $::openstack_integration::config::redis_sentinel_server, redis_socket_timeout => 10, tls_enabled => $::openstack_integration::config::cache_tls_enabled,"," backend => $::openstack_integration::config::cache_driver, enabled => true, memcache_servers => $::openstack_integration::config::memcache_servers, redis_server => $::openstack_integration::config::redis_server, redis_password => 'a_big_secret', redis_sentinels => $::openstack_integration::config::redis_sentinel_server, tls_enabled => $::openstack_integration::config::cache_tls_enabled,",8,7
openstack%2Fsunbeam-charms~915034,openstack/sunbeam-charms,main,Ie40bfd260b35abb553a39faebfc5c671ac064993,Fix missing nova metrics from openstack-exporter,MERGED,2024-04-04 00:29:26.000000000,2024-04-04 02:18:55.000000000,2024-04-04 02:09:43.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-04 00:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/b6f10a18002fb07c44bf324bb93fe985565887da', 'message': 'Fix missing nova metrics from openstack-exporter\n\nPreviously this error was seen in the logs:\n\n  ts=2024-04-03T23:09:00.715Z caller=exporter.go:126 level=error err=""Failed to collect metric for exporter"" exporter=nova error=""failed to collect metric: running_vms, error: CPUInfo has unexpected type: <nil>""\n\nCausing `openstack_nova_running_vms` and a selection of other hypervisor related metrics to be missing from the output.\n\nThis applies the workaround noted in https://github.com/openstack-exporter/openstack-exporter/issues/268\n\nChange-Id: Ie40bfd260b35abb553a39faebfc5c671ac064993\n'}, {'number': 2, 'created': '2024-04-04 01:04:53.000000000', 'files': ['charms/openstack-exporter-k8s/src/charm.py'], 'web_link': 'https://opendev.org/openstack/sunbeam-charms/commit/8b272b56404a9772b4be76193b33305a096b8a9e', 'message': 'Fix missing nova metrics from openstack-exporter\n\nPreviously this error was seen in the logs:\n\n  ts=2024-04-03T23:09:00.715Z caller=exporter.go:126 level=error err=""Failed to collect metric for exporter"" exporter=nova error=""failed to collect metric: running_vms, error: CPUInfo has unexpected type: <nil>""\n\nCausing `openstack_nova_running_vms` and a selection of other hypervisor related metrics to be missing from the output.\n\nThis applies the workaround noted in https://github.com/openstack-exporter/openstack-exporter/issues/268\n\nChange-Id: Ie40bfd260b35abb553a39faebfc5c671ac064993\n'}]",2,915034,8b272b56404a9772b4be76193b33305a096b8a9e,9,2,2,34352,,,0,"Fix missing nova metrics from openstack-exporter

Previously this error was seen in the logs:

  ts=2024-04-03T23:09:00.715Z caller=exporter.go:126 level=error err=""Failed to collect metric for exporter"" exporter=nova error=""failed to collect metric: running_vms, error: CPUInfo has unexpected type: <nil>""

Causing `openstack_nova_running_vms` and a selection of other hypervisor related metrics to be missing from the output.

This applies the workaround noted in https://github.com/openstack-exporter/openstack-exporter/issues/268

Change-Id: Ie40bfd260b35abb553a39faebfc5c671ac064993
",git fetch https://review.opendev.org/openstack/sunbeam-charms refs/changes/34/915034/1 && git format-patch -1 --stdout FETCH_HEAD,['charms/openstack-exporter-k8s/src/charm.py'],1,b6f10a18002fb07c44bf324bb93fe985565887da,missing-metrics," ""environment"": { # workaround for https://github.com/openstack-exporter/openstack-exporter/issues/268 ""OS_COMPUTE_API_VERSION"": ""2.87"", },",,4,0
openstack%2Fcinder~914930,openstack/cinder,master,I412f0c794addc2079b21669d0de93fd04d730d4e,Allow an operator to set a rbd_data_pool,NEW,2024-04-02 23:48:23.000000000,2024-04-04 02:00:08.000000000,,"[{'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 23:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b2bed907c985cb950b852ffbd4212c7080ade13', 'message': 'Allow an operator to set a rbd_data_pool\n\nIn order to be able to consume an Erasure Coding data pool,\nrbd_data_pool must be set to the configured Erasing coding pool\nalong with the standard rbd replicated pool.\n\nChange-Id: I412f0c794addc2079b21669d0de93fd04d730d4e\n'}, {'number': 2, 'created': '2024-04-03 11:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b465f2910b1c4c66a213956ebc5ef8d766a69183', 'message': 'Allow an operator to set a rbd_data_pool\n\nIn order to be able to consume an Erasure Coding data pool,\nrbd_data_pool must be set to the configured Erasing coding pool\nalong with the standard rbd replicated pool.\n\nChange-Id: I412f0c794addc2079b21669d0de93fd04d730d4e\n'}, {'number': 3, 'created': '2024-04-03 11:50:59.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0b2f27cf048afd6f716b638a0156029000ecefe', 'message': 'Allow an operator to set a rbd_data_pool\n\nIn order to be able to consume an Erasure Coding data pool,\nrbd_data_pool must be set to the configured Erasing coding pool\nalong with the standard rbd replicated pool.\n\nChange-Id: I412f0c794addc2079b21669d0de93fd04d730d4e\n'}]",3,914930,c0b2f27cf048afd6f716b638a0156029000ecefe,27,2,3,7130,,,0,"Allow an operator to set a rbd_data_pool

In order to be able to consume an Erasure Coding data pool,
rbd_data_pool must be set to the configured Erasing coding pool
along with the standard rbd replicated pool.

Change-Id: I412f0c794addc2079b21669d0de93fd04d730d4e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/914930/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,2b2bed907c985cb950b852ffbd4212c7080ade13,," cfg.StrOpt('rbd_data_pool', default='None', help='The RADOS data pool where RBD volumes are stored' 'when using Erasure Coding pools'), features=client.features, data_pool=.self.configuration.rbd_data_pool`)", features=client.features),6,1
openstack%2Fnova~915036,openstack/nova,master,Iad97f3cd352a6b010c99b597d15d404122bec3e2,Fix typo in Caracal prelude,NEW,2024-04-04 00:36:09.000000000,2024-04-04 01:26:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-04 00:36:09.000000000', 'files': ['releasenotes/notes/caracal-prelude-63fac6e27509930d.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ba6bdc64a77cbca7a506162b64a7f5ba058057c', 'message': 'Fix typo in Caracal prelude\n\nChange-Id: Iad97f3cd352a6b010c99b597d15d404122bec3e2\n'}]",0,915036,6ba6bdc64a77cbca7a506162b64a7f5ba058057c,4,1,1,9816,,,0,"Fix typo in Caracal prelude

Change-Id: Iad97f3cd352a6b010c99b597d15d404122bec3e2
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/915036/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/caracal-prelude-63fac6e27509930d.yaml'],1,6ba6bdc64a77cbca7a506162b64a7f5ba058057c,, ``[libvirt]/live_migration_downtime`` config option needs to be modified, ``[libvirt/live_migration_downtime`` config option needs to be modified,1,1
openstack%2Fswift~913859,openstack/swift,master,I2f6760f0d40ced849f60906ebd6cfdd478ccd345,tests: Validate some assumptions in test_signals,NEW,2024-03-21 05:46:48.000000000,2024-04-04 01:16:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-21 05:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/83b8ed4a723c37a817b308acd721b8db5bb95f6d', 'message': 'tests: Validate some assumptions in test_signals\n\nChange-Id: I2f6760f0d40ced849f60906ebd6cfdd478ccd345\n'}, {'number': 2, 'created': '2024-03-22 22:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/42807a07eddd026924ae6e6a45b9b77cd5ec5ae1', 'message': 'tests: Validate some assumptions in test_signals\n\nChange-Id: I2f6760f0d40ced849f60906ebd6cfdd478ccd345\n'}, {'number': 3, 'created': '2024-04-01 20:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/993b2bda8e4b15b89795014306b04b0d3ac3f925', 'message': 'tests: Validate some assumptions in test_signals\n\nChange-Id: I2f6760f0d40ced849f60906ebd6cfdd478ccd345\n'}, {'number': 4, 'created': '2024-04-03 23:43:56.000000000', 'files': ['test/probe/test_signals.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aa924756257c49118c36aebee080f88acdfab5aa', 'message': 'tests: Validate some assumptions in test_signals\n\nChange-Id: I2f6760f0d40ced849f60906ebd6cfdd478ccd345\n'}]",1,913859,aa924756257c49118c36aebee080f88acdfab5aa,13,1,4,15343,,,0,"tests: Validate some assumptions in test_signals

Change-Id: I2f6760f0d40ced849f60906ebd6cfdd478ccd345
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/913859/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_signals.py'],1,83b8ed4a723c37a817b308acd721b8db5bb95f6d,,"from swift.common import utils from swift.common import wsgi pids = {-1: []} # manager -> [workers]; -1 := orphaned for server in manager.servers: for _, pid in server.iter_pid_files(): pids[pid] = [] if ppid in pids: pids[ppid].append(pid) elif old_workers and pid in old_workers: # must be an orphan pids[-1].append(pid) except OSError: if old_workers is None: # gathering initial state; check some assumptions def cmdline(pid): with open('/proc/%d/cmdline' % pid, 'r') as fh: return fh.read() for manager_pid, workers in pids.items(): if manager_pid == -1: continue # orphans cmd, conf, _ = cmdline(manager_pid).rsplit('\x00', 2) section = cmd.rsplit('/', 1)[-1][len('swift-'):] conf, _, _ = wsgi._initrp(conf, section) # See swift/common/wsgi.py expected_workers = utils.config_auto_int_value( conf.get('workers'), wsgi.CPU_COUNT) assert len(workers) == expected_workers, \ 'Expected %d workers from config, but found %d:\n%s' % ( expected_workers, len(workers), '\n'.join(cmdline(p).replace('\x00', ' ') for p in workers)) return {'server': set(p for p in pids if p != -1), 'worker': set(p for workers in pids.values() for p in workers)}"," server_pid_set = {pid for server in manager.servers for (_, pid) in server.iter_pid_files()} children_pid_set = set() old_worker_pid_set = set(old_workers or []) if ppid in server_pid_set or pid in old_worker_pid_set: children_pid_set.add(pid) except Exception: return {'server': server_pid_set, 'worker': children_pid_set}",37,8
openstack%2Foslo.log~912705,openstack/oslo.log,master,Ic56a0875702143a71fea68a431cc1eeb80feb7ab,Imported Translations from Zanata,MERGED,2024-03-13 03:54:23.000000000,2024-04-04 01:04:56.000000000,2024-04-04 01:03:53.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-13 03:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/2410a9ba3c35d855d8766032a0fc7a976489da18', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic56a0875702143a71fea68a431cc1eeb80feb7ab\n'}, {'number': 2, 'created': '2024-03-27 03:34:14.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/b45052a70482d34ae303345ef6575cf96e9a41a7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic56a0875702143a71fea68a431cc1eeb80feb7ab\n'}]",0,912705,b45052a70482d34ae303345ef6575cf96e9a41a7,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic56a0875702143a71fea68a431cc1eeb80feb7ab
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/05/912705/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,2410a9ba3c35d855d8766032a0fc7a976489da18,zanata/translations,"""POT-Creation-Date: 2024-03-12 13:26+0000\n""msgid ""5.0.1"" msgstr ""5.0.1"" msgid """" ""`Bug #1983863 <https://bugs.launchpad.net/oslo.log/+bug/1983863>`_: Fixed "" ""logging in eventlet native threads."" msgstr """" ""`Bug #1983863 <https://bugs.launchpad.net/oslo.log/+bug/1983863>`_: Fixed "" ""logging in eventlet native threads."" ","""POT-Creation-Date: 2023-05-05 13:36+0000\n""",11,1
openstack%2Fmanila~880207,openstack/manila,master,Id1b555e48106662d15e8c50567a5f3acecf6a8f1,"db: Migrate ""share snapshot"", ""share snapshot instance"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2024-04-04 00:39:32.000000000,2024-04-03 12:49:52.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fd9f5f330f7750815342a76f14f967338ea83f02', 'message': 'db: Migrate ""share snapshot instance"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 2, 'created': '2023-09-28 11:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/73f44f88dcb31489ba6fa325b5e8d2819617ae44', 'message': 'db: Migrate ""share snapshot instance"" APIs to enginefacade\n\nThis one has a lot of other callers so we leave quite the number of\nTODOs scattered around while we wait to remove the \'session\' arguments.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 3, 'created': '2023-09-28 12:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8840f7be5a86a8b93250616ea49d93b69e3567a', 'message': 'db: Migrate ""share snapshot instance"" APIs to enginefacade\n\nThis one has a lot of other callers so we leave quite the number of\nTODOs scattered around while we wait to remove the \'session\' arguments.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 4, 'created': '2023-09-28 15:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/96520ca9e5fa11ce2ed04e9bc7ade464570ca599', 'message': 'db: Migrate ""share snapshot instance"" APIs to enginefacade\n\nThis one has a lot of other callers so we leave quite the number of\nTODOs scattered around while we wait to remove the \'session\' arguments.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 5, 'created': '2023-09-29 07:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/14541ea5f3d39138ab3b4d30fd7796261747ecf4', 'message': 'db: Migrate ""share snapshot instance"" APIs to enginefacade\n\nThis one has a lot of other callers so we leave quite the number of\nTODOs scattered around while we wait to remove the \'session\' arguments.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 6, 'created': '2023-09-29 11:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5e43cbffabc16d8c1b906982f3bb2f72ce2f9d7a', 'message': 'db: Migrate ""share snapshot instance"" APIs to enginefacade\n\nThis one has a lot of other callers so we leave quite the number of\nTODOs scattered around while we wait to remove the \'session\' arguments.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 7, 'created': '2024-03-25 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3434d4b17bfa090eda99f0c831b2ddf08e85d247', 'message': 'db: Migrate ""share snapshot"", ""share snapshot instance"" APIs to enginefacade\n\nThankfully the APIs being migrated here were _mostly_ sharing sessions\nalready, so we can simply migrate from public (decorated) methods to\nprivate methods with minimal fuss.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 8, 'created': '2024-04-02 11:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e9b699f631172574cdb474e57a306087b6e4581b', 'message': 'db: Migrate ""share snapshot"", ""share snapshot instance"" APIs to enginefacade\n\nThankfully the APIs being migrated here were _mostly_ sharing sessions\nalready, so we can simply migrate from public (decorated) methods to\nprivate methods with minimal fuss.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}, {'number': 9, 'created': '2024-04-02 14:06:44.000000000', 'files': ['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/685acf601310eda98aa5c25970f6179f2b024358', 'message': 'db: Migrate ""share snapshot"", ""share snapshot instance"" APIs to enginefacade\n\nThankfully the APIs being migrated here were _mostly_ sharing sessions\nalready, so we can simply migrate from public (decorated) methods to\nprivate methods with minimal fuss.\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1\n'}]",3,880207,685acf601310eda98aa5c25970f6179f2b024358,58,3,9,15334,,,0,"db: Migrate ""share snapshot"", ""share snapshot instance"" APIs to enginefacade

Thankfully the APIs being migrated here were _mostly_ sharing sessions
already, so we can simply migrate from public (decorated) methods to
private methods with minimal fuss.

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Id1b555e48106662d15e8c50567a5f3acecf6a8f1
",git fetch https://review.opendev.org/openstack/manila refs/changes/07/880207/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py']",2,fd9f5f330f7750815342a76f14f967338ea83f02,sqlalchemy-20," snapshot_instances = _share_snapshot_instance_get_all_with_filters( context, filters, context, snapshot_instance_ids, values,def _share_instance_get(context, share_instance_id, with_share_data=False, session=None):def _set_instances_snapshot_access_data(context, instance_accesses): context, instance_access['access_id'],@context_manager.writer def share_snapshot_instance_create(context, snapshot_id, values): return _share_snapshot_instance_create(context, snapshot_id, values, session=context.session) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_snapshot_instance_create(context, snapshot_id, values, session=None): values.get('metadata'), models.ShareSnapshotMetadata, ) return _share_snapshot_instance_get(context, instance_ref['id'], session=session)@context_manager.writer def share_snapshot_instance_update(context, instance_id, values): instance_ref = _share_snapshot_instance_get(context, instance_id) instance_ref.save(session=context.session)@context_manager.writer def share_snapshot_instances_status_update( context, snapshot_instance_ids, values, ): return _share_snapshot_instances_status_update( context, snapshot_instance_ids, values, ) def _share_snapshot_instances_status_update( context, snapshot_instance_ids, values, ): result = model_query( context, models.ShareSnapshotInstance, read_deleted=""no"", ).filter( models.ShareSnapshotInstance.id.in_(snapshot_instance_ids) ).update(values, synchronize_session=False) return result@context_manager.writer def share_snapshot_instance_delete(context, snapshot_instance_id): snapshot_instance_ref = _share_snapshot_instance_get( context, snapshot_instance_id, ) access_rules = _share_snapshot_access_get_all_for_snapshot_instance( context, snapshot_instance_id, ) for rule in access_rules: share_snapshot_instance_access_delete( context, rule['access_id'], snapshot_instance_id) for el in snapshot_instance_ref.export_locations: share_snapshot_instance_export_location_delete(context, el['id']) snapshot_instance_ref.soft_delete( session=context.session, update_status=True, ) snapshot = _share_snapshot_get( context, snapshot_instance_ref['snapshot_id'], session=context.session, ) if len(snapshot.instances) == 0: context.session.query(models.ShareSnapshotMetadata).filter_by( share_snapshot_id=snapshot['id'], ).soft_delete() snapshot.soft_delete(session=context.session) @require_context @context_manager.reader def share_snapshot_instance_get( context, snapshot_instance_id, with_share_data=False, ): return _share_snapshot_instance_get( context, snapshot_instance_id, with_share_data=with_share_data, ) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_snapshot_instance_get( context, snapshot_instance_id, with_share_data=False, session=None, ): context, instance_ids=[snapshot_instance_id], session=session, ).first()@context_manager.reader def share_snapshot_instance_get_all_with_filters( context, search_filters, with_share_data=False, ): return _share_snapshot_instance_get_all_with_filters( context, search_filters, with_share_data=with_share_data, ) def _share_snapshot_instance_get_all_with_filters( context, search_filters, with_share_data=False, ): context, **filters, ).all() result = _set_share_snapshot_instance_data(context, result)def _share_snapshot_instance_get_with_filters( context, instance_ids=None, snapshot_ids=None, statuses=None, share_instance_ids=None, session=None, ): query = model_query( context, models.ShareSnapshotInstance, read_deleted=""no"", session=session, ) query = query.filter(models.ShareSnapshotInstance.id.in_(instance_ids)) models.ShareSnapshotInstance.snapshot_id.in_(snapshot_ids), ) query = query.filter( models.ShareSnapshotInstance.share_instance_id.in_( share_instance_ids, ) )def _set_share_snapshot_instance_data( context, snapshot_instances, session=None, ): _share_snapshot_instance_create( return _share_snapshot_get( context, snapshot_values['id'], session=session, )# TODO(stephenfin): Remove the 'session' argument once all callers have been # converteddef share_snapshot_get(context, snapshot_id, project_only=True): return _share_snapshot_get(context, snapshot_id, project_only=project_only) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_snapshot_get(context, snapshot_id, project_only=True, session=None): snapshot_ref = _share_snapshot_get(context, snapshot_id, session=session) snapshot = _share_snapshot_get(context, values['share_snapshot_id'])def _share_snapshot_access_get(context, access_id): context, {'id': access_id}, with_snapshot_access_data=True, query = _share_snapshot_instance_access_get_query(context) context, instance_accesses, ) share_snapshot_instance_id=share_snapshot_instance_id, ).first() snapshot = _share_snapshot_get(context, snapshot_id, session=session)"," snapshot_instances = share_snapshot_instance_get_all_with_filters( context, filters, session=context.session, context, snapshot_instance_ids, values, session=context.session,def _share_instance_get(context, share_instance_id, session=None, with_share_data=False):# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _set_instances_snapshot_access_data(context, instance_accesses, session=None): context, instance_access['access_id'], session=session,def share_snapshot_instance_create(context, snapshot_id, values, session=None): session = session or get_session() values.get('metadata'), models.ShareSnapshotMetadata) return share_snapshot_instance_get(context, instance_ref['id'], session=session)def share_snapshot_instance_update(context, instance_id, values): session = get_session() instance_ref = share_snapshot_instance_get(context, instance_id, session=session) instance_ref.save(session=session)def share_snapshot_instance_delete(context, snapshot_instance_id, session=None): session = session or get_session() with session.begin(): snapshot_instance_ref = share_snapshot_instance_get( context, snapshot_instance_id, session=session) access_rules = _share_snapshot_access_get_all_for_snapshot_instance( context, snapshot_instance_id, session=session, ) for rule in access_rules: _share_snapshot_instance_access_delete( context, rule['access_id'], snapshot_instance_id, session=session, ) for el in snapshot_instance_ref.export_locations: share_snapshot_instance_export_location_delete(context, el['id']) snapshot_instance_ref.soft_delete( session=session, update_status=True) snapshot = share_snapshot_get( context, snapshot_instance_ref['snapshot_id'], session=session) if len(snapshot.instances) == 0: session.query(models.ShareSnapshotMetadata).filter_by( share_snapshot_id=snapshot['id']).soft_delete() snapshot.soft_delete(session=session)def share_snapshot_instance_get(context, snapshot_instance_id, session=None, with_share_data=False): session = session or get_session() context, instance_ids=[snapshot_instance_id], session=session).first()def share_snapshot_instance_get_all_with_filters(context, search_filters, with_share_data=False, session=None): session = session or get_session() context, session=session, **filters).all() result = _set_share_snapshot_instance_data(context, result, session)def _share_snapshot_instance_get_with_filters(context, instance_ids=None, snapshot_ids=None, statuses=None, share_instance_ids=None, session=None): query = model_query(context, models.ShareSnapshotInstance, session=session, read_deleted=""no"") query = query.filter( models.ShareSnapshotInstance.id.in_(instance_ids)) models.ShareSnapshotInstance.snapshot_id.in_(snapshot_ids)) query = query.filter(models.ShareSnapshotInstance.share_instance_id .in_(share_instance_ids))def _set_share_snapshot_instance_data(context, snapshot_instances, session): share_snapshot_instance_create( return share_snapshot_get( context, snapshot_values['id'], session=session)def share_snapshot_get(context, snapshot_id, project_only=True, session=None): snapshot_ref = share_snapshot_get(context, snapshot_id, session=session)@require_context def share_snapshot_instances_status_update( context, snapshot_instance_ids, values, ): session = get_session() return _share_snapshot_instances_status_update( context, snapshot_instance_ids, values, session=session, ) # TODO(stephenfin): Remove the 'session' argument once all callers have been # converted def _share_snapshot_instances_status_update( context, snapshot_instance_ids, values, session=None, ): result = model_query( context, models.ShareSnapshotInstance, read_deleted=""no"", session=session, ).filter( models.ShareSnapshotInstance.id.in_(snapshot_instance_ids) ).update(values, synchronize_session=False) return result snapshot = share_snapshot_get(context, values['share_snapshot_id'], session=context.session)def _share_snapshot_access_get(context, access_id, session=None): context, {'id': access_id}, session=session,# TODO(stephenfin): Remove the 'session' argument once all callers have been # converted with_snapshot_access_data=True, session=None, query = _share_snapshot_instance_access_get_query(context, session=session) context, instance_accesses, session) share_snapshot_instance_id=share_snapshot_instance_id).first() snapshot = share_snapshot_get(context, snapshot_id, session=session)",148,113
openstack%2Fmanila~914720,openstack/manila,master,I49332801532f01f11709e8efe5f75a5390f4fa05,intercept all DML without begins,ABANDONED,2024-03-28 22:01:46.000000000,2024-04-03 23:24:14.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-28 22:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7c2286ed0bf36b8b9484027b7965c5ecaeb0e1b7', 'message': 'remove all use of autocommit\n\nThis adds a fixture that catches any remaining writes without\na transaction being started.   the autocommit flags are turned\noff here, however if tempest tests fail then we can turn them back\non and rely on the fixture to find problems.\n\nChange-Id: I49332801532f01f11709e8efe5f75a5390f4fa05\n'}, {'number': 2, 'created': '2024-04-01 19:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/edd5200d1b5f37b8060e230f291ef899f5151665', 'message': 'intercept all DML without begins\n\nThis adds a fixture that catches any remaining writes without\na transaction being started.   this will ensure that all code\nexecuted will maintain identical transactional behavior when autocommit mode\nis turned off, which is in a subsequent patch.\n\nChange-Id: I49332801532f01f11709e8efe5f75a5390f4fa05\n'}, {'number': 3, 'created': '2024-04-01 22:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c4721f5786e197b27ff5531a627e373000d58b39', 'message': 'intercept all DML without begins\n\nThis adds a fixture that catches any remaining writes without\na transaction being started.   this will ensure that all code\nexecuted will maintain identical transactional behavior when autocommit mode\nis turned off, which is in a subsequent patch.\n\nChange-Id: I49332801532f01f11709e8efe5f75a5390f4fa05\n'}, {'number': 4, 'created': '2024-04-02 19:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8962a1aad7b0a1ef08fde73f83143926a5c891f7', 'message': 'intercept all DML without begins\n\nThis adds a fixture that catches any remaining writes without\na transaction being started.   this will ensure that all code\nexecuted will maintain identical transactional behavior when autocommit mode\nis turned off, which is in a subsequent patch.\n\nChange-Id: I49332801532f01f11709e8efe5f75a5390f4fa05\n'}, {'number': 5, 'created': '2024-04-02 21:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa7011c6f6c5c652ae211f2bdc904324ce725a8a', 'message': 'intercept all DML without begins\n\nThis adds a fixture that catches any remaining writes without\na transaction being started.   this will ensure that all code\nexecuted will maintain identical transactional behavior when autocommit mode\nis turned off, which is in a subsequent patch.\n\nChange-Id: I49332801532f01f11709e8efe5f75a5390f4fa05\n'}, {'number': 6, 'created': '2024-04-03 02:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/901643eb6a7765baf576f2d2b7f84874b77c9181', 'message': 'intercept all DML without begins\n\nThis adds a fixture that catches any remaining writes without\na transaction being started.   this will ensure that all code\nexecuted will maintain identical transactional behavior when autocommit mode\nis turned off, which is in a subsequent patch.\n\nChange-Id: I49332801532f01f11709e8efe5f75a5390f4fa05\n'}, {'number': 7, 'created': '2024-04-03 03:23:29.000000000', 'files': ['manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/test.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4d720e412e15806af3f971de21e50aeb8d93ad46', 'message': 'intercept all DML without begins\n\nThis adds a fixture that catches any remaining writes without\na transaction being started.   this will ensure that all code\nexecuted will maintain identical transactional behavior when autocommit mode\nis turned off, which is in a subsequent patch.\n\nChange-Id: I49332801532f01f11709e8efe5f75a5390f4fa05\n'}]",2,914720,4d720e412e15806af3f971de21e50aeb8d93ad46,35,2,7,11816,,,0,"intercept all DML without begins

This adds a fixture that catches any remaining writes without
a transaction being started.   this will ensure that all code
executed will maintain identical transactional behavior when autocommit mode
is turned off, which is in a subsequent patch.

Change-Id: I49332801532f01f11709e8efe5f75a5390f4fa05
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/914720/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/query.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/test.py']",4,7c2286ed0bf36b8b9484027b7965c5ecaeb0e1b7,sqlalchemy-20,"from sqlalchemy import eventfrom sqlalchemy.orm import Sessionclass RaiseOnAutocommitFlushFixture(fixtures.Fixture): """"""ensure session.flush() is only invoked inside a transaction. These are event handlers that intercept Session write events and ensure a tranasction is present. These conditions can only occur when the Session is in legacy autocommit=True mode; when autocommit=True is not set, then these event handlers can never fail. """""" def setUp(self): super().setUp() @event.listens_for(Session, ""before_flush"") def receive_before_flush(session, flush_context, instances): assert ( session._transaction is not None ), ( ""Session is flushing without being "" ""started in a transaction first. This is incompatible with "" ""SQLAlchemy 2.0 which does not have an 'autocommit' mode."" ) @event.listens_for(Session, ""do_orm_execute"") def receive_do_orm_execute(orm_execute_state): if ( orm_execute_state.is_insert or orm_execute_state.is_update or orm_execute_state.is_delete ) and orm_execute_state.session._transaction is None: assert False, ( ""Session is running insert/update/delete without being "" ""started in a transaction first. This is incompatible "" ""with "" ""SQLAlchemy 2.0 which does not have an 'autocommit' mode."" ) self.addCleanup( event.remove, Session, ""before_flush"", receive_before_flush, ) self.addCleanup( event.remove, Session, ""do_orm_execute"", receive_do_orm_execute, ) self.useFixture(RaiseOnAutocommitFlushFixture()) "," message='The current statement is being autocommitted ', category=sqla_exc.SADeprecationWarning, ) warnings.filterwarnings( 'ignore', module='manila',",234,187
openstack%2Fmagnum~852010,openstack/magnum,master,Id7b94d3f3c852ba85255ca0b08d2dfc275006bab,Replace abc.abstractproperty with property and abc.abstractmethod,MERGED,2022-08-03 12:48:01.000000000,2024-04-03 23:10:27.000000000,2024-04-03 23:05:06.000000000,"[{'_account_id': 8064}, {'_account_id': 14394}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-08-03 12:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/413422b8dafb4d1549d4d4473ee69f0ce1d0c6bf', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Id7b94d3f3c852ba85255ca0b08d2dfc275006bab\n'}, {'number': 2, 'created': '2022-08-04 00:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/161ec2a0033843fa6421581f25bddad50fdf61e1', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Id7b94d3f3c852ba85255ca0b08d2dfc275006bab\n'}, {'number': 3, 'created': '2024-03-27 09:50:52.000000000', 'files': ['magnum/conductor/monitors.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/common/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1e571d311d1f1fe4439980251737c27a580a0fbe', 'message': 'Replace abc.abstractproperty with property and abc.abstractmethod\n\nReplace abc.abstractproperty with property and abc.abstractmethod,\nas abc.abstractproperty has been deprecated since python3.3[1]\n\n[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc\n\nChange-Id: Id7b94d3f3c852ba85255ca0b08d2dfc275006bab\n'}]",1,852010,1e571d311d1f1fe4439980251737c27a580a0fbe,12,4,3,28743,,,0,"Replace abc.abstractproperty with property and abc.abstractmethod

Replace abc.abstractproperty with property and abc.abstractmethod,
as abc.abstractproperty has been deprecated since python3.3[1]

[1]https://docs.python.org/3.8/whatsnew/3.3.html?highlight=deprecated#abc

Change-Id: Id7b94d3f3c852ba85255ca0b08d2dfc275006bab
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/852010/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/conductor/monitors.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/common/driver.py']",3,413422b8dafb4d1549d4d4473ee69f0ce1d0c6bf,, @property @abc.abstractmethod, @abc.abstractproperty,10,5
openstack%2Felection~914925,openstack/election,master,I1289a8bd50d2651340697adac92745e084de8842,Add 2024.2 Election TC resolution link,MERGED,2024-04-02 20:47:27.000000000,2024-04-03 22:58:57.000000000,2024-04-03 22:57:55.000000000,"[{'_account_id': 8556}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 20:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/9e1d1231cec6be0a71de46741ce2345303f59542', 'message': 'Add 2024.2 Election TC resolution patch link\n\nChange-Id: I1289a8bd50d2651340697adac92745e084de8842\n'}, {'number': 2, 'created': '2024-04-02 20:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/4816cf71630b30891d948e8da024658f591c7d19', 'message': 'Add 2024.2 Election TC resolution patch link\n\nChange-Id: I1289a8bd50d2651340697adac92745e084de8842\n'}, {'number': 3, 'created': '2024-04-02 20:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/8ee8708d07da0cf3df532b33f7152d256a744cd2', 'message': 'Add 2024.2 Election TC resolution link\n\nChange-Id: I1289a8bd50d2651340697adac92745e084de8842\n'}, {'number': 4, 'created': '2024-04-03 10:03:50.000000000', 'files': ['doc/source/_exts/tc_archive.jinja', 'doc/source/results/2024.2/tc.yaml'], 'web_link': 'https://opendev.org/openstack/election/commit/78da72bbf501f394ad33c6843c03a815b6857c29', 'message': 'Add 2024.2 Election TC resolution link\n\nAdding the link as note section with explanation if exists\nas jinja template\n\nChange-Id: I1289a8bd50d2651340697adac92745e084de8842\n'}]",5,914925,78da72bbf501f394ad33c6843c03a815b6857c29,15,3,4,14482,,,0,"Add 2024.2 Election TC resolution link

Adding the link as note section with explanation if exists
as jinja template

Change-Id: I1289a8bd50d2651340697adac92745e084de8842
",git fetch https://review.opendev.org/openstack/election refs/changes/25/914925/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/tc_archive.jinja', 'doc/source/results/2024.2/tc.yaml']",2,9e1d1231cec6be0a71de46741ce2345303f59542,add-tc-resolution, TC_resolution: https://review.opendev.org/c/openstack/governance/+/914024,,4,0
openstack%2Fopenstack-helm-images~914986,openstack/openstack-helm-images,master,I8e02a4515249a26d56ebb3ebeeebb9432bb6d1ba,Trivial commit to kick 2024.1 build,MERGED,2024-04-03 16:37:11.000000000,2024-04-03 22:24:35.000000000,2024-04-03 22:17:32.000000000,"[{'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 34520}]","[{'number': 1, 'created': '2024-04-03 16:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/59d3febd695921d14bf83e61e08c234d708b9b70', 'message': 'Trivial commit to kick 2024.1 build\n\nNeutron 24.0.0 has been released, so\nwe need the images to be rebuilt to\nmake sure the deployment jobs now work.\n\nChange-Id: I8e02a4515249a26d56ebb3ebeeebb9432bb6d1ba\n'}, {'number': 2, 'created': '2024-04-03 17:23:36.000000000', 'files': ['zuul.d/openstack-2024.1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f523d92fb895a0864236586ddefa11263838643b', 'message': 'Trivial commit to kick 2024.1 build\n\nNeutron 24.0.0 has been released, so\nwe need the images to be rebuilt to\nmake sure the deployment jobs now work.\n\nChange-Id: I8e02a4515249a26d56ebb3ebeeebb9432bb6d1ba\n'}]",0,914986,f523d92fb895a0864236586ddefa11263838643b,10,3,2,3009,,,0,"Trivial commit to kick 2024.1 build

Neutron 24.0.0 has been released, so
we need the images to be rebuilt to
make sure the deployment jobs now work.

Change-Id: I8e02a4515249a26d56ebb3ebeeebb9432bb6d1ba
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/86/914986/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-2024.1.yaml'],1,59d3febd695921d14bf83e61e08c234d708b9b70,,---,,1,0
openstack%2Fcharm-cinder-purestorage~914099,openstack/charm-cinder-purestorage,stable/2023.1,I1c6620b72923260a52e288911649c2e0e5ec3c61,Add backend-availability-zone config option,MERGED,2024-03-25 15:18:22.000000000,2024-04-03 22:03:52.000000000,2024-04-03 22:03:52.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-25 15:18:22.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/0560ac4f6608772b54c23e0299a176a9ecc1a7c4', 'message': 'Add backend-availability-zone config option\n\nAdd support for configuring a backend availability zone.\n\nCloses-Bug: #2058407\nChange-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61\n(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)\n(cherry picked from commit e5ea85ab62fe60aa6f7dc7a74014096c30ffff83)\n'}]",3,914099,0560ac4f6608772b54c23e0299a176a9ecc1a7c4,14,5,1,6737,,,0,"Add backend-availability-zone config option

Add support for configuring a backend availability zone.

Closes-Bug: #2058407
Change-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61
(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)
(cherry picked from commit e5ea85ab62fe60aa6f7dc7a74014096c30ffff83)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/99/914099/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py']",2,0560ac4f6608772b54c23e0299a176a9ecc1a7c4,bug/2058407-antelope," backend_az = self.config.get('backend-availability-zone') if backend_az: driver_options.append( ('backend_availability_zone', backend_az)) ",,11,0
openstack%2Fcharm-designate~914521,openstack/charm-designate,stable/zed,I5dafeb2b4dcf9549260081d3674038f836d29f0f,separate rndc.key file per application,MERGED,2024-03-27 14:05:44.000000000,2024-04-03 21:57:58.000000000,2024-04-03 21:57:58.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-27 14:05:44.000000000', 'files': ['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/62c6807153d205f8ea049d706023db063a6f0cfe', 'message': 'separate rndc.key file per application\n\nThis change fixes an issue that when the charm-designate is\nrelated to two different designate-bind applications, the same\nrndc key file is used for the two different applications.\n\nWe fix this by writing an rndc_key_file per application rather than in\na single rndc.key file for all the units.\n\nCloses-Bug: #1995975\n\nChange-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}]",0,914521,62c6807153d205f8ea049d706023db063a6f0cfe,9,4,1,32371,,,0,"separate rndc.key file per application

This change fixes an issue that when the charm-designate is
related to two different designate-bind applications, the same
rndc key file is used for the two different applications.

We fix this by writing an rndc_key_file per application rather than in
a single rndc.key file for all the units.

Closes-Bug: #1995975

Change-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f
Signed-off-by: David Negreira <david.negreira@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/21/914521/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml']",6,62c6807153d205f8ea049d706023db063a6f0cfe,, rndc_key_file: {{ slave.rndc_key_file }}, rndc_key_file: /etc/designate/rndc.key,99,10
openstack%2Fcharm-swift-storage~899613,openstack/charm-swift-storage,stable/zed,Ie32b745e5857ce37d622f95b957ffdd4cd4aba9d,Enable swift payload upgrades for wallaby+,MERGED,2023-10-30 16:44:21.000000000,2024-04-03 21:52:44.000000000,2024-04-03 21:52:44.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-10-30 16:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/5974bc9dacca6b46f0a6aa72fde33938376c9e25', 'message': 'Enable swift payload upgrades for wallaby+\n\nSync charm-helpers to pick up fix for openstack_upgrade_available\nthat enables successful payload upgrades. This will need backporting\nto stable/wallaby.\n\nhttps: //github.com/juju/charm-helpers/pull/868\nCloses-Bug: #2040606\nChange-Id: Ie32b745e5857ce37d622f95b957ffdd4cd4aba9d\n'}, {'number': 2, 'created': '2023-10-30 17:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d71d4e23193d2a6fd6d21c79e2f5eb892ddb2100', 'message': 'Enable swift payload upgrades for wallaby+\n\nSync charm-helpers to pick up fix for openstack_upgrade_available\nthat enables successful payload upgrades. This will need backporting\nto stable/wallaby.\n\nhttps: //github.com/juju/charm-helpers/pull/868\nCloses-Bug: #2040606\nChange-Id: Ie32b745e5857ce37d622f95b957ffdd4cd4aba9d\n'}, {'number': 3, 'created': '2023-10-31 17:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/cd3940b9c57226146ed84d78788a816ae58777d2', 'message': 'Enable swift payload upgrades for wallaby+\n\nSync charm-helpers to pick up fix for openstack_upgrade_available\nthat enables successful payload upgrades. This will need backporting\nto stable/wallaby.\n\nhttps://github.com/juju/charm-helpers/pull/868\nCloses-Bug: #2040606\nChange-Id: Ie32b745e5857ce37d622f95b957ffdd4cd4aba9d\n'}, {'number': 4, 'created': '2024-04-03 20:02:38.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/6a593d0494a2305c1e1cefb0792759efeb063a1a', 'message': 'Enable swift payload upgrades for wallaby+\n\nSync charm-helpers to pick up fix for openstack_upgrade_available\nthat enables successful payload upgrades. This will need backporting\nto stable/wallaby.\n\nhttps://github.com/juju/charm-helpers/pull/868\nCloses-Bug: #2040606\nChange-Id: Ie32b745e5857ce37d622f95b957ffdd4cd4aba9d\n'}]",4,899613,6a593d0494a2305c1e1cefb0792759efeb063a1a,25,5,4,11805,,,0,"Enable swift payload upgrades for wallaby+

Sync charm-helpers to pick up fix for openstack_upgrade_available
that enables successful payload upgrades. This will need backporting
to stable/wallaby.

https://github.com/juju/charm-helpers/pull/868
Closes-Bug: #2040606
Change-Id: Ie32b745e5857ce37d622f95b957ffdd4cd4aba9d
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/13/899613/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf']",9,5974bc9dacca6b46f0a6aa72fde33938376c9e25,swift-upgrades,{% if wsgi_socket_rotation -%} WSGISocketRotation On {% else -%} WSGISocketRotation Off {% endif -%} ,,102,56
openstack%2Fcharm-ceph-osd~902885,openstack/charm-ceph-osd,stable/quincy.2,Ib50414756165f2587f0127e572675c7ca8e31ef9,Refactor cache validation for the ceph-osd NRPE check,MERGED,2023-12-07 14:22:01.000000000,2024-04-03 21:51:32.000000000,2024-04-03 21:51:32.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-12-07 14:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/04eb0a3bf610b1782d3de734ae7b7e9c2401424e', 'message': 'Refactor cache validation for the ceph-osd NRPE check\n\nCloses-Bug: #2019251\nCloses-Bug: #2021507\nChange-Id: Ib50414756165f2587f0127e572675c7ca8e31ef9\n(cherry picked from commit 1494d9a24527769064b819d5e1da4fdaebf6dcd2)\n'}, {'number': 2, 'created': '2024-02-26 13:13:18.000000000', 'files': ['osci.yaml', 'test-constraints.txt', 'files/nagios/check_ceph_osd_services.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/e0459f1e2851a592180aa304bb56230fa9a98f38', 'message': 'Refactor cache validation for the ceph-osd NRPE check\n\nAlso update test env, remove zed testing\n\nCloses-Bug: #2019251\nCloses-Bug: #2021507\nChange-Id: Ib50414756165f2587f0127e572675c7ca8e31ef9\n(cherry picked from commit 1494d9a24527769064b819d5e1da4fdaebf6dcd2)\n'}]",6,902885,e0459f1e2851a592180aa304bb56230fa9a98f38,21,4,2,15382,,,0,"Refactor cache validation for the ceph-osd NRPE check

Also update test env, remove zed testing

Closes-Bug: #2019251
Closes-Bug: #2021507
Change-Id: Ib50414756165f2587f0127e572675c7ca8e31ef9
(cherry picked from commit 1494d9a24527769064b819d5e1da4fdaebf6dcd2)
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/85/902885/1 && git format-patch -1 --stdout FETCH_HEAD,['files/nagios/check_ceph_osd_services.py'],1,04eb0a3bf610b1782d3de734ae7b7e9c2401424e,,"from datetime import datetime, timedeltaCACHE_MAX_AGE = timedelta(minutes=10) s = os.stat(_tmp_file) if datetime.now() - datetime.fromtimestamp(s.st_mtime) > CACHE_MAX_AGE: print(""Status file is older than {}"".format(CACHE_MAX_AGE)) return STATE_CRITICAL except Exception as e: print(""Something went wrong grabbing stats for the file: {}"".format( str(e))) return STATE_UNKNOWN try:", # now remove the file in case the next check fails. try: os.remove(_tmp_file) except Exception: pass ,12,6
openstack%2Fironic-inspector~906011,openstack/ironic-inspector,master,Ic5e6ec81aaa2e8b3fd9e859242e0765a79899d9c,Fix monkey_patch in autodoc execution,ABANDONED,2024-01-17 22:20:19.000000000,2024-04-03 21:44:40.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-17 22:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/be115f8f29559f441be83106503756b91dd53fff', 'message': ""Fix monkey_patch in autodoc execution\n\nSo, it looks like https://github.com/eventlet/eventlet/issues/896\nis a thing which we are no hitting on ironic-inspector. However,\nthe challenge we're now encoutering is autodoc can execute these\nportions and werkzeug can raise a RuntimeError which ends up getting\nsurfaced as a result.\n\nSince it shouldn't be at thing on startup, this seems safe to just\ncatch RuntimeError and disregard it under normal circumstances.\n\nChange-Id: Ic5e6ec81aaa2e8b3fd9e859242e0765a79899d9c\n""}, {'number': 2, 'created': '2024-01-17 22:20:29.000000000', 'files': ['ironic_inspector/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3d2998d9dc9289c7ff75433eadcbaa4a389fef05', 'message': ""Fix monkey_patch in autodoc execution\n\nSo, it looks like https://github.com/eventlet/eventlet/issues/896\nis a thing which we are no hitting on ironic-inspector. However,\nthe challenge we're now encoutering is autodoc can execute these\nportions and werkzeug can raise a RuntimeError which ends up getting\nsurfaced as a result.\n\nSince it shouldn't be at thing on startup, this seems safe to just\ncatch RuntimeError and disregard it under normal circumstances.\n\nChange-Id: Ic5e6ec81aaa2e8b3fd9e859242e0765a79899d9c\n""}]",1,906011,3d2998d9dc9289c7ff75433eadcbaa4a389fef05,5,2,2,11655,,,0,"Fix monkey_patch in autodoc execution

So, it looks like https://github.com/eventlet/eventlet/issues/896
is a thing which we are no hitting on ironic-inspector. However,
the challenge we're now encoutering is autodoc can execute these
portions and werkzeug can raise a RuntimeError which ends up getting
surfaced as a result.

Since it shouldn't be at thing on startup, this seems safe to just
catch RuntimeError and disregard it under normal circumstances.

Change-Id: Ic5e6ec81aaa2e8b3fd9e859242e0765a79899d9c
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/11/906011/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/cmd/__init__.py'],1,be115f8f29559f441be83106503756b91dd53fff,,"try: # NOTE(TheJulia): It appears there is an interplay with werkzeug, # eventlet, and autodoc where triggering monkey patch from an autodoc # execution reading this file, can cause werkzeug to raise the runtime # error. This seems to be the only sensible path at the moment. # https://github.com/eventlet/eventlet/issues/896 eventlet.monkey_patch() except RuntimeError: pass",eventlet.monkey_patch(),9,1
openstack%2Fopenstack-ansible-haproxy_server~914874,openstack/openstack-ansible-haproxy_server,stable/2023.2,I8f1c01385d7aca8f17cc3f49aafcf2b7269fa554,Do not log content of copied static files,MERGED,2024-04-03 11:12:33.000000000,2024-04-03 21:23:11.000000000,2024-04-03 21:22:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2024-04-03 11:12:33.000000000', 'files': ['tasks/haproxy_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/beb03be4bafe94a797ede4a260b325711d765004', 'message': 'Do not log content of copied static files\n\n``haproxy_static_files`` can be used to copy static files to target\nhosts. These files may contain sensitive content that should not be\nlogged.\n\nThis patch disables logging for this task.\n\nChange-Id: I8f1c01385d7aca8f17cc3f49aafcf2b7269fa554\n(cherry picked from commit 2407f7273c111f260b61023ede5f616c647e52a0)\n'}]",1,914874,beb03be4bafe94a797ede4a260b325711d765004,10,3,1,28619,,,0,"Do not log content of copied static files

``haproxy_static_files`` can be used to copy static files to target
hosts. These files may contain sensitive content that should not be
logged.

This patch disables logging for this task.

Change-Id: I8f1c01385d7aca8f17cc3f49aafcf2b7269fa554
(cherry picked from commit 2407f7273c111f260b61023ede5f616c647e52a0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/74/914874/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/haproxy_pre_install.yml'],1,beb03be4bafe94a797ede4a260b325711d765004,, no_log: True,,1,0
openstack%2Fpuppet-nova~914839,openstack/puppet-nova,master,Ieabd550ebbb3e1407969866ba280ced7d4db2663,placement: Require password,MERGED,2024-04-02 01:35:08.000000000,2024-04-03 20:44:24.000000000,2024-04-03 20:44:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-02 01:35:08.000000000', 'files': ['manifests/placement.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/798ae4bdd940fd016679a70b6643783ba98c8487', 'message': ""placement: Require password\n\nThe parameter description says the option is required, but it hasn't\nbeen actually required at the interface layer.\n\nChange-Id: Ieabd550ebbb3e1407969866ba280ced7d4db2663\n""}]",2,914839,798ae4bdd940fd016679a70b6643783ba98c8487,13,3,1,9816,,,0,"placement: Require password

The parameter description says the option is required, but it hasn't
been actually required at the interface layer.

Change-Id: Ieabd550ebbb3e1407969866ba280ced7d4db2663
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/39/914839/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/placement.pp'],1,798ae4bdd940fd016679a70b6643783ba98c8487,," $password,"," $password = false,",1,1
openstack%2Fopenstack-helm~911090,openstack/openstack-helm,master,I507b2c907c690eec1919efd4a9e2a40a65a1491e,feat: enable custom annotations,ABANDONED,2024-03-05 11:46:20.000000000,2024-04-03 20:37:34.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-05 11:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e71017bf4e97c8dbeb96d317b2de94b126932f72', 'message': 'feat: enable custom annotations\n\nEnable custom annotations for secrets [identity, oslo_db, oslo_messaging] and pods [deployments, daemonsets]\n\nChange-Id: I507b2c907c690eec1919efd4a9e2a40a65a1491e\n'}, {'number': 2, 'created': '2024-03-05 12:36:05.000000000', 'files': ['monasca/values.yaml', 'heat/Chart.yaml', 'senlin/templates/deployment-engine.yaml', 'ironic/templates/secret-keystone.yaml', 'senlin/templates/deployment-api.yaml', 'masakari/templates/daemonset-host-monitor.yaml', 'releasenotes/notes/neutron.yaml', 'barbican/templates/secret-keystone.yaml', 'octavia/templates/deployment-api.yaml', 'masakari/templates/daemonset-process-monitor.yaml', 'designate/templates/secret-keystone.yaml', 'keystone/values.yaml', 'mistral/templates/secret-keystone.yaml', 'glance/templates/deployment-api.yaml', 'monasca/templates/secret-keystone.yaml', 'senlin/values.yaml', 'ironic/templates/secret-db.yaml', 'nova/values_overrides/annotations.yaml', 'cinder/templates/secret-db.yaml', 'nova/templates/deployment-conductor.yaml', 'releasenotes/notes/aodh.yaml', 'monasca/templates/deployment-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'nova/Chart.yaml', 'aodh/templates/secret-db.yaml', 'keystone/templates/deployment-api.yaml', 'placement/Chart.yaml', 'releasenotes/notes/monasca.yaml', 'ceilometer/templates/deployment-central.yaml', 'neutron/templates/daemonset-ovn-metadata-agent.yaml', 'keystone/Chart.yaml', 'nova/templates/deployment-api-metadata.yaml', 'ceilometer/templates/deployment-notification.yaml', 'neutron/templates/deployment-server.yaml', 'manila/templates/secret-rabbitmq.yaml', 'monasca/values_overrides/annotations.yaml', 'ceilometer/templates/secret-mongodb.yaml', 'keystone/templates/secret-db.yaml', 'nova/templates/deployment-novncproxy.yaml', 'horizon/templates/secret-keystone.yaml', 'releasenotes/notes/horizon.yaml', 'releasenotes/notes/designate.yaml', 'masakari/values_overrides/annotations.yaml', 'neutron/values.yaml', 'manila/templates/deployment-scheduler.yaml', 'designate/templates/deployment-sink.yaml', 'heat/templates/secret-rabbitmq.yaml', 'cyborg/templates/secret-db.yaml', 'senlin/templates/secret-keystone.yaml', 'masakari/templates/deployment-engine.yaml', 'cinder/templates/secret-keystone.yaml', 'monasca/templates/daemonset-agent.yaml', 'ceilometer/templates/daemonset-ipmi.yaml', 'heat/values_overrides/annotations.yaml', 'releasenotes/notes/tempest.yaml', 'neutron/values_overrides/annotations.yaml', 'ceilometer/values.yaml', 'keystone/values_overrides/annotations.yaml', 'cinder/Chart.yaml', 'ceilometer/templates/deployment-api.yaml', 'designate/templates/deployment-producer.yaml', 'heat/templates/deployment-cfn.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/senlin.yaml', 'nova/templates/secret-db-api.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'monasca/templates/deployment-persister.yaml', 'cyborg/Chart.yaml', 'designate/templates/deployment-worker.yaml', 'masakari/values.yaml', 'masakari/templates/secret-db.yaml', 'placement/templates/secret-keystone.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'releasenotes/notes/placement.yaml', 'neutron/Chart.yaml', 'designate/templates/secret-rabbitmq.yaml', 'octavia/values.yaml', 'cinder/templates/deployment-scheduler.yaml', 'octavia/templates/secret-db.yaml', 'designate/values.yaml', 'neutron/templates/secret-rabbitmq.yaml', 'nova/templates/secret-db-cell0.yaml', 'releasenotes/notes/cyborg.yaml', 'nova/values.yaml', 'monasca/templates/deployment-api.yaml', 'manila/values.yaml', 'cyborg/values.yaml', 'rally/values.yaml', 'cinder/templates/deployment-volume.yaml', 'releasenotes/notes/heat.yaml', 'senlin/templates/secret-rabbitmq.yaml', 'senlin/values_overrides/annotations.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'manila/values_overrides/annotations.yaml', 'glance/values.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'aodh/templates/secret-keystone.yaml', 'magnum/templates/deployment-api.yaml', 'barbican/Chart.yaml', 'barbican/templates/secret-rabbitmq.yaml', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'releasenotes/notes/nova.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'octavia/templates/secret-keystone.yaml', 'mistral/templates/secret-db.yaml', 'rally/values_overrides/annotations.yaml', 'aodh/Chart.yaml', 'aodh/templates/deployment-api.yaml', 'glance/values_overrides/annotations.yaml', 'heat/values.yaml', 'rally/Chart.yaml', 'placement/values_overrides/annotations.yaml', 'releasenotes/notes/keystone.yaml', 'cyborg/templates/secret-keystone.yaml', 'heat/templates/deployment-api.yaml', 'designate/templates/deployment-api.yaml', 'mistral/templates/deployment-api.yaml', 'octavia/Chart.yaml', 'aodh/templates/deployment-evaluator.yaml', 'octavia/templates/deployment-worker.yaml', 'designate/values_overrides/annotations.yaml', 'glance/templates/secret-rabbitmq.yaml', 'mistral/values_overrides/annotations.yaml', 'cinder/templates/deployment-api.yaml', 'placement/templates/deployment.yaml', 'horizon/values.yaml', 'senlin/templates/deployment-conductor.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'monasca/Chart.yaml', 'cinder/values_overrides/annotations.yaml', 'ceilometer/templates/secret-keystone.yaml', 'cyborg/templates/secret-rabbitmq.yaml', 'designate/Chart.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'masakari/Chart.yaml', 'ceilometer/templates/secret-db.yaml', 'mistral/values.yaml', 'manila/templates/deployment-data.yaml', 'senlin/Chart.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'ironic/Chart.yaml', 'neutron/templates/deployment-ironic-agent.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'masakari/templates/deployment-api.yaml', 'placement/values.yaml', 'aodh/templates/deployment-listener.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/templates/deployment-housekeeping.yaml', 'manila/Chart.yaml', 'releasenotes/notes/magnum.yaml', 'octavia/values_overrides/annotations.yaml', 'rally/templates/secret-keystone.yaml', 'placement/templates/secret-db.yaml', 'glance/templates/secret-db.yaml', 'manila/templates/deployment-share.yaml', 'releasenotes/notes/manila.yaml', 'magnum/Chart.yaml', 'senlin/templates/secret-db.yaml', 'ironic/values.yaml', 'releasenotes/notes/mistral.yaml', 'ceilometer/templates/deployment-collector.yaml', 'ceilometer/values_overrides/annotations.yaml', 'heat/templates/deployment-engine.yaml', 'cyborg/templates/daemonset-agent.yaml', 'releasenotes/notes/rally.yaml', 'designate/templates/secret-db.yaml', 'ironic/templates/deployment-api.yaml', 'releasenotes/notes/masakari.yaml', 'masakari/templates/secret-keystone.yaml', 'magnum/templates/secret-keystone.yaml', 'octavia/templates/secret-rabbitmq.yaml', 'senlin/templates/deployment-health-manager.yaml', 'tempest/Chart.yaml', 'manila/templates/secret-db.yaml', 'cyborg/templates/deployment-conductor.yaml', 'tempest/values.yaml', 'nova/templates/daemonset-compute.yaml', 'ceilometer/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-bagpipe-bgp.yaml', 'mistral/templates/deployment-executor.yaml', 'ironic/values_overrides/annotations.yaml', 'releasenotes/notes/ironic.yaml', 'monasca/templates/secret-db.yaml', 'horizon/Chart.yaml', 'horizon/values_overrides/annotations.yaml', 'magnum/templates/secret-rabbitmq.yaml', 'aodh/templates/secret-rabbitmq.yaml', 'designate/templates/deployment-central.yaml', 'designate/templates/deployment-mdns.yaml', 'aodh/templates/deployment-notifier.yaml', 'manila/templates/secret-keystone.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/secret-keystone.yaml', 'barbican/values.yaml', 'cyborg/templates/deployment-api.yaml', 'nova/templates/secret-rabbitmq.yaml', 'glance/Chart.yaml', 'magnum/values_overrides/annotations.yaml', 'ceilometer/Chart.yaml', 'ironic/templates/secret-rabbitmq.yaml', 'neutron/templates/daemonset-bgp-dragent.yaml', 'tempest/templates/secret-keystone.yaml', 'cinder/templates/secret-rabbitmq.yaml', 'mistral/templates/secret-rabbitmq.yaml', 'cinder/templates/deployment-backup.yaml', 'monasca/templates/deployment-notification.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/secret-db.yaml', 'manila/templates/deployment-api.yaml', 'masakari/templates/secret-rabbitmq.yaml', 'masakari/templates/daemonset-instance-monitor.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'neutron/templates/secret-keystone.yaml', 'barbican/templates/deployment-api.yaml', 'nova/templates/secret-db.yaml', 'mistral/Chart.yaml', 'aodh/values_overrides/annotations.yaml', 'releasenotes/notes/glance.yaml', 'cinder/values.yaml', 'ceilometer/templates/secret-rabbitmq.yaml', 'cyborg/values_overrides/annotations.yaml', 'keystone/templates/secret-keystone.yaml', 'horizon/templates/secret-db.yaml', 'releasenotes/notes/barbican.yaml', 'releasenotes/notes/ceilometer.yaml', 'rally/templates/secret-db.yaml', 'tempest/values_overrides/annotations.yaml', 'heat/templates/secret-db.yaml', 'barbican/values_overrides/annotations.yaml', 'barbican/templates/secret-db.yaml', 'heat/templates/secret-keystone.yaml', 'glance/templates/secret-keystone.yaml', 'magnum/templates/secret-db.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3af2ecf9a172fa666a6638432ab66dfd9688ff1a', 'message': 'feat: enable custom annotations\n\nEnable custom annotations for secrets [identity, oslo_db, oslo_messaging] and pods [deployments, daemonsets]\n\nChange-Id: I507b2c907c690eec1919efd4a9e2a40a65a1491e\n'}]",2,911090,3af2ecf9a172fa666a6638432ab66dfd9688ff1a,7,2,2,34311,,,0,"feat: enable custom annotations

Enable custom annotations for secrets [identity, oslo_db, oslo_messaging] and pods [deployments, daemonsets]

Change-Id: I507b2c907c690eec1919efd4a9e2a40a65a1491e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/90/911090/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca/values.yaml', 'heat/Chart.yaml', 'senlin/templates/deployment-engine.yaml', 'ironic/templates/secret-keystone.yaml', 'senlin/templates/deployment-api.yaml', 'masakari/templates/daemonset-host-monitor.yaml', 'releasenotes/notes/neutron.yaml', 'barbican/templates/secret-keystone.yaml', 'octavia/templates/deployment-api.yaml', 'masakari/templates/daemonset-process-monitor.yaml', 'designate/templates/secret-keystone.yaml', 'keystone/values.yaml', 'mistral/templates/secret-keystone.yaml', 'glance/templates/deployment-api.yaml', 'monasca/templates/secret-keystone.yaml', 'senlin/values.yaml', 'ironic/templates/secret-db.yaml', 'nova/values_overrides/annotations.yaml', 'cinder/templates/secret-db.yaml', 'nova/templates/deployment-conductor.yaml', 'releasenotes/notes/aodh.yaml', 'monasca/templates/deployment-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'nova/Chart.yaml', 'aodh/templates/secret-db.yaml', 'keystone/templates/deployment-api.yaml', 'placement/Chart.yaml', 'releasenotes/notes/monasca.yaml', 'ceilometer/templates/deployment-central.yaml', 'neutron/templates/daemonset-ovn-metadata-agent.yaml', 'keystone/Chart.yaml', 'nova/templates/deployment-api-metadata.yaml', 'ceilometer/templates/deployment-notification.yaml', 'neutron/templates/deployment-server.yaml', 'manila/templates/secret-rabbitmq.yaml', 'monasca/values_overrides/annotations.yaml', 'ceilometer/templates/secret-mongodb.yaml', 'keystone/templates/secret-db.yaml', 'nova/templates/deployment-novncproxy.yaml', 'horizon/templates/secret-keystone.yaml', 'releasenotes/notes/horizon.yaml', 'releasenotes/notes/designate.yaml', 'masakari/values_overrides/annotations.yaml', 'neutron/values.yaml', 'manila/templates/deployment-scheduler.yaml', 'designate/templates/deployment-sink.yaml', 'heat/templates/secret-rabbitmq.yaml', 'cyborg/templates/secret-db.yaml', 'senlin/templates/secret-keystone.yaml', 'masakari/templates/deployment-engine.yaml', 'cinder/templates/secret-keystone.yaml', 'monasca/templates/daemonset-agent.yaml', 'ceilometer/templates/daemonset-ipmi.yaml', 'heat/values_overrides/annotations.yaml', 'releasenotes/notes/tempest.yaml', 'neutron/values_overrides/annotations.yaml', 'ceilometer/values.yaml', 'keystone/values_overrides/annotations.yaml', 'cinder/Chart.yaml', 'ceilometer/templates/deployment-api.yaml', 'designate/templates/deployment-producer.yaml', 'heat/templates/deployment-cfn.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/senlin.yaml', 'nova/templates/secret-db-api.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'monasca/templates/deployment-persister.yaml', 'cyborg/Chart.yaml', 'designate/templates/deployment-worker.yaml', 'masakari/values.yaml', 'masakari/templates/secret-db.yaml', 'placement/templates/secret-keystone.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'releasenotes/notes/placement.yaml', 'neutron/Chart.yaml', 'designate/templates/secret-rabbitmq.yaml', 'octavia/values.yaml', 'cinder/templates/deployment-scheduler.yaml', 'octavia/templates/secret-db.yaml', 'designate/values.yaml', 'neutron/templates/secret-rabbitmq.yaml', 'nova/templates/secret-db-cell0.yaml', 'releasenotes/notes/cyborg.yaml', 'nova/values.yaml', 'monasca/templates/deployment-api.yaml', 'manila/values.yaml', 'cyborg/values.yaml', 'rally/values.yaml', 'cinder/templates/deployment-volume.yaml', 'releasenotes/notes/heat.yaml', 'senlin/templates/secret-rabbitmq.yaml', 'senlin/values_overrides/annotations.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'manila/values_overrides/annotations.yaml', 'glance/values.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'aodh/templates/secret-keystone.yaml', 'magnum/templates/deployment-api.yaml', 'barbican/Chart.yaml', 'barbican/templates/secret-rabbitmq.yaml', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'releasenotes/notes/nova.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'octavia/templates/secret-keystone.yaml', 'mistral/templates/secret-db.yaml', 'rally/values_overrides/annotations.yaml', 'aodh/Chart.yaml', 'aodh/templates/deployment-api.yaml', 'glance/values_overrides/annotations.yaml', 'heat/values.yaml', 'rally/Chart.yaml', 'placement/values_overrides/annotations.yaml', 'releasenotes/notes/keystone.yaml', 'cyborg/templates/secret-keystone.yaml', 'heat/templates/deployment-api.yaml', 'designate/templates/deployment-api.yaml', 'mistral/templates/deployment-api.yaml', 'octavia/Chart.yaml', 'aodh/templates/deployment-evaluator.yaml', 'octavia/templates/deployment-worker.yaml', 'designate/values_overrides/annotations.yaml', 'glance/templates/secret-rabbitmq.yaml', 'mistral/values_overrides/annotations.yaml', 'cinder/templates/deployment-api.yaml', 'placement/templates/deployment.yaml', 'horizon/values.yaml', 'senlin/templates/deployment-conductor.yaml', 'keystone/templates/secret-rabbitmq.yaml', 'monasca/Chart.yaml', 'cinder/values_overrides/annotations.yaml', 'ceilometer/templates/secret-keystone.yaml', 'cyborg/templates/secret-rabbitmq.yaml', 'designate/Chart.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'masakari/Chart.yaml', 'ceilometer/templates/secret-db.yaml', 'mistral/values.yaml', 'manila/templates/deployment-data.yaml', 'senlin/Chart.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'ironic/Chart.yaml', 'neutron/templates/deployment-ironic-agent.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'masakari/templates/deployment-api.yaml', 'placement/values.yaml', 'aodh/templates/deployment-listener.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/templates/deployment-housekeeping.yaml', 'manila/Chart.yaml', 'releasenotes/notes/magnum.yaml', 'octavia/values_overrides/annotations.yaml', 'rally/templates/secret-keystone.yaml', 'placement/templates/secret-db.yaml', 'glance/templates/secret-db.yaml', 'manila/templates/deployment-share.yaml', 'releasenotes/notes/manila.yaml', 'magnum/Chart.yaml', 'senlin/templates/secret-db.yaml', 'ironic/values.yaml', 'releasenotes/notes/mistral.yaml', 'ceilometer/templates/deployment-collector.yaml', 'ceilometer/values_overrides/annotations.yaml', 'heat/templates/deployment-engine.yaml', 'cyborg/templates/daemonset-agent.yaml', 'releasenotes/notes/rally.yaml', 'designate/templates/secret-db.yaml', 'ironic/templates/deployment-api.yaml', 'releasenotes/notes/masakari.yaml', 'masakari/templates/secret-keystone.yaml', 'magnum/templates/secret-keystone.yaml', 'octavia/templates/secret-rabbitmq.yaml', 'senlin/templates/deployment-health-manager.yaml', 'tempest/Chart.yaml', 'manila/templates/secret-db.yaml', 'cyborg/templates/deployment-conductor.yaml', 'tempest/values.yaml', 'nova/templates/daemonset-compute.yaml', 'ceilometer/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-bagpipe-bgp.yaml', 'mistral/templates/deployment-executor.yaml', 'ironic/values_overrides/annotations.yaml', 'releasenotes/notes/ironic.yaml', 'monasca/templates/secret-db.yaml', 'horizon/Chart.yaml', 'horizon/values_overrides/annotations.yaml', 'magnum/templates/secret-rabbitmq.yaml', 'aodh/templates/secret-rabbitmq.yaml', 'designate/templates/deployment-central.yaml', 'designate/templates/deployment-mdns.yaml', 'aodh/templates/deployment-notifier.yaml', 'manila/templates/secret-keystone.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/secret-keystone.yaml', 'barbican/values.yaml', 'cyborg/templates/deployment-api.yaml', 'nova/templates/secret-rabbitmq.yaml', 'glance/Chart.yaml', 'magnum/values_overrides/annotations.yaml', 'ceilometer/Chart.yaml', 'ironic/templates/secret-rabbitmq.yaml', 'neutron/templates/daemonset-bgp-dragent.yaml', 'tempest/templates/secret-keystone.yaml', 'cinder/templates/secret-rabbitmq.yaml', 'mistral/templates/secret-rabbitmq.yaml', 'cinder/templates/deployment-backup.yaml', 'monasca/templates/deployment-notification.yaml', 'nova/templates/deployment-api-osapi.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/secret-db.yaml', 'manila/templates/deployment-api.yaml', 'masakari/templates/secret-rabbitmq.yaml', 'masakari/templates/daemonset-instance-monitor.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'neutron/templates/secret-keystone.yaml', 'barbican/templates/deployment-api.yaml', 'nova/templates/secret-db.yaml', 'mistral/Chart.yaml', 'aodh/values_overrides/annotations.yaml', 'releasenotes/notes/glance.yaml', 'cinder/values.yaml', 'ceilometer/templates/secret-rabbitmq.yaml', 'cyborg/values_overrides/annotations.yaml', 'keystone/templates/secret-keystone.yaml', 'horizon/templates/secret-db.yaml', 'releasenotes/notes/barbican.yaml', 'releasenotes/notes/ceilometer.yaml', 'rally/templates/secret-db.yaml', 'tempest/values_overrides/annotations.yaml', 'heat/templates/secret-db.yaml', 'barbican/values_overrides/annotations.yaml', 'barbican/templates/secret-db.yaml', 'heat/templates/secret-keystone.yaml', 'glance/templates/secret-keystone.yaml', 'magnum/templates/secret-db.yaml']",236,e71017bf4e97c8dbeb96d317b2de94b126932f72,feat/custom_annotations, {{- $secretAnnotations := index $envAll.Values.annotations.secret.oslo_db $userClass }} {{- if empty $secretAnnotations -}} {{- $_ := set $envAll.Values.annotations.secret.oslo_db $userClass $envAll.Values.annotations.secrets -}} {{- end -}} {{- $annotations := index $envAll.Values.annotations.secret.oslo_db $userClass }}{{- if $annotations }} annotations: {{ toYaml $annotations | indent 4 }}{{ end }},,2167,23
openstack%2Fcharm-keystone~900229,openstack/charm-keystone,stable/zed,I500fd131cbd6cd5c2b38fdbe81b8b48e50a3e3f7,Adds service_user_id into relation data,MERGED,2023-11-06 19:17:24.000000000,2024-04-03 20:33:15.000000000,2024-04-03 20:33:15.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31203}]","[{'number': 1, 'created': '2023-11-06 19:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/699d97d768f60d891bad704d441dc4e5a0d64498', 'message': 'Adds service_user_id into relation data\n\nThis is necessary to avoid collisions between\nsame usernames used service users.\n\nDepends-on: I4fbfa8fba84b11c4e30e4db9a0c358db1e8c94f1\nCloses-Bug: #2030755\nChange-Id: I500fd131cbd6cd5c2b38fdbe81b8b48e50a3e3f7\n(cherry picked from commit 86a323abfe852f4756bf198a0654e09cbce13782)\n'}, {'number': 2, 'created': '2023-11-07 14:25:31.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3eebc3ad6a84e6f23b6b9b07fd7ec19ccbe49ce0', 'message': 'Adds service_user_id into relation data\n\nThis is necessary to avoid collisions between\nsame usernames used service users.\n\nDepends-on: I4fbfa8fba84b11c4e30e4db9a0c358db1e8c94f1\nCloses-Bug: #2030755\nChange-Id: I500fd131cbd6cd5c2b38fdbe81b8b48e50a3e3f7\n(cherry picked from commit 86a323abfe852f4756bf198a0654e09cbce13782)\n(cherry picked from commit 47942040316733dd16dadb3881dbfc3833cc11f2)\n(cherry picked from commit bdf00de6065b22b91e831b7fe883fefdafe118c3)\n'}]",3,900229,3eebc3ad6a84e6f23b6b9b07fd7ec19ccbe49ce0,19,6,2,10058,,,0,"Adds service_user_id into relation data

This is necessary to avoid collisions between
same usernames used service users.

Depends-on: I4fbfa8fba84b11c4e30e4db9a0c358db1e8c94f1
Closes-Bug: #2030755
Change-Id: I500fd131cbd6cd5c2b38fdbe81b8b48e50a3e3f7
(cherry picked from commit 86a323abfe852f4756bf198a0654e09cbce13782)
(cherry picked from commit 47942040316733dd16dadb3881dbfc3833cc11f2)
(cherry picked from commit bdf00de6065b22b91e831b7fe883fefdafe118c3)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/29/900229/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,699d97d768f60d891bad704d441dc4e5a0d64498,fix-image-volume-ambiguous-configuration," service_user_id = manager.resolve_user_id(service_username, user_domain=service_domain) ""service_user_id"": service_user_id,",,9,1
openstack%2Fcharm-cinder-purestorage~914098,openstack/charm-cinder-purestorage,stable/2023.2,I1c6620b72923260a52e288911649c2e0e5ec3c61,Add backend-availability-zone config option,MERGED,2024-03-25 15:17:21.000000000,2024-04-03 20:27:18.000000000,2024-04-03 20:27:18.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-25 15:17:21.000000000', 'files': ['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/e5ea85ab62fe60aa6f7dc7a74014096c30ffff83', 'message': 'Add backend-availability-zone config option\n\nAdd support for configuring a backend availability zone.\n\nCloses-Bug: #2058407\nChange-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61\n(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)\n'}]",0,914098,e5ea85ab62fe60aa6f7dc7a74014096c30ffff83,9,5,1,6737,,,0,"Add backend-availability-zone config option

Add support for configuring a backend availability zone.

Closes-Bug: #2058407
Change-Id: I1c6620b72923260a52e288911649c2e0e5ec3c61
(cherry picked from commit 7df1d81f924f8013faa2f6476a3584e775276a4b)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/98/914098/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/cinder_purestorage.py']",2,e5ea85ab62fe60aa6f7dc7a74014096c30ffff83,bug/2058407-bobcat," backend_az = self.config.get('backend-availability-zone') if backend_az: driver_options.append( ('backend_availability_zone', backend_az)) ",,11,0
openstack%2Fcharm-designate~914519,openstack/charm-designate,stable/2023.1,I5dafeb2b4dcf9549260081d3674038f836d29f0f,separate rndc.key file per application,MERGED,2024-03-27 14:03:40.000000000,2024-04-03 20:17:58.000000000,2024-04-03 20:17:58.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-27 14:03:40.000000000', 'files': ['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/b5b4d600bd7e485f196aa26002e2db3d0c04f5e4', 'message': 'separate rndc.key file per application\n\nThis change fixes an issue that when the charm-designate is\nrelated to two different designate-bind applications, the same\nrndc key file is used for the two different applications.\n\nWe fix this by writing an rndc_key_file per application rather than in\na single rndc.key file for all the units.\n\nCloses-Bug: #1995975\n\nChange-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}]",0,914519,b5b4d600bd7e485f196aa26002e2db3d0c04f5e4,9,4,1,32371,,,0,"separate rndc.key file per application

This change fixes an issue that when the charm-designate is
related to two different designate-bind applications, the same
rndc key file is used for the two different applications.

We fix this by writing an rndc_key_file per application rather than in
a single rndc.key file for all the units.

Closes-Bug: #1995975

Change-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f
Signed-off-by: David Negreira <david.negreira@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/19/914519/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml']",6,b5b4d600bd7e485f196aa26002e2db3d0c04f5e4,, rndc_key_file: {{ slave.rndc_key_file }}, rndc_key_file: /etc/designate/rndc.key,99,10
openstack%2Fkolla-ansible~914983,openstack/kolla-ansible,master,Id33afeaec12ad407459ad85ffec85c0f33c89c15,CI: Fix use of CONTAINER_ENGINE in test scripts,NEW,2024-04-03 15:53:06.000000000,2024-04-03 20:15:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-03 15:53:06.000000000', 'files': ['tests/test-mariadb.sh', 'tests/test-masakari.sh', 'tests/test-zun.sh', 'tests/test-ovn.sh', 'tests/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1ec1718a073eef34fa6922e16a280899f13ea86', 'message': 'CI: Fix use of CONTAINER_ENGINE in test scripts\n\nChange-Id: Id33afeaec12ad407459ad85ffec85c0f33c89c15\n'}]",0,914983,e1ec1718a073eef34fa6922e16a280899f13ea86,3,1,1,14826,,,0,"CI: Fix use of CONTAINER_ENGINE in test scripts

Change-Id: Id33afeaec12ad407459ad85ffec85c0f33c89c15
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/914983/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-mariadb.sh', 'tests/test-masakari.sh', 'tests/test-zun.sh', 'tests/test-ovn.sh', 'tests/test-bifrost.sh']",5,e1ec1718a073eef34fa6922e16a280899f13ea86,,test_bifrost $CONTAINER_ENGINE,test_bifrost $1,5,5
openstack%2Fcharm-swift-storage~902664,openstack/charm-swift-storage,stable/xena,I9c585c91c5527a61e4a8dbcba0a8a01108cd9b2e,Mock datetime instead of redefining standard library,MERGED,2023-12-05 13:48:29.000000000,2024-04-03 20:09:59.000000000,2024-04-03 20:09:59.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-12-05 13:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/99d8fb964fe9f30431745ffa0545b82576beb7e6', 'message': 'Mock datetime instead of redefining standard library\n\nThis fixes up the test to mock the datetime calls specifically in\nthe test that needs to mock them, rather than the prior approach\nwhich was redefining the behavior of the standard library function\nglobally.\n\nCloses-Bug: #2045588\nChange-Id: I9c585c91c5527a61e4a8dbcba0a8a01108cd9b2e\n(cherry picked from commit 72e22a94ed4966ff6fb2fba41bac1b204dbd4c14)\n'}, {'number': 2, 'created': '2023-12-12 21:02:36.000000000', 'files': ['test-requirements.txt', 'unit_tests/test_check_swift_storage.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/9671fa85e06c9572111246151f459b2b0624a34f', 'message': 'Mock datetime instead of redefining standard library\n\nThis fixes up the test to mock the datetime calls specifically in\nthe test that needs to mock them, rather than the prior approach\nwhich was redefining the behavior of the standard library function\nglobally.\n\nThis change also pins openstacksdk to fix python 3.6 unit tests.\nCommit b34de32a in openstacksdk replaced the appdirs library with\nthe platformdirs library. The platformdirs library is not python 3.6\ncompatible and causes some challenges. Pin the openstacksdk to a\nlower version. Thanks to Billy Olsen for this patch. Taken from:\nhttps://review.opendev.org/c/openstack/charm-neutron-api/+/902607\n\nCloses-Bug: #2045588\nChange-Id: I9c585c91c5527a61e4a8dbcba0a8a01108cd9b2e\n(cherry picked from commit 72e22a94ed4966ff6fb2fba41bac1b204dbd4c14)\n'}]",3,902664,9671fa85e06c9572111246151f459b2b0624a34f,18,5,2,11805,,,0,"Mock datetime instead of redefining standard library

This fixes up the test to mock the datetime calls specifically in
the test that needs to mock them, rather than the prior approach
which was redefining the behavior of the standard library function
globally.

This change also pins openstacksdk to fix python 3.6 unit tests.
Commit b34de32a in openstacksdk replaced the appdirs library with
the platformdirs library. The platformdirs library is not python 3.6
compatible and causes some challenges. Pin the openstacksdk to a
lower version. Thanks to Billy Olsen for this patch. Taken from:
https://review.opendev.org/c/openstack/charm-neutron-api/+/902607

Closes-Bug: #2045588
Change-Id: I9c585c91c5527a61e4a8dbcba0a8a01108cd9b2e
(cherry picked from commit 72e22a94ed4966ff6fb2fba41bac1b204dbd4c14)
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/64/902664/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_check_swift_storage.py'],1,99d8fb964fe9f30431745ffa0545b82576beb7e6,," @patch('check_swift_storage.datetime') def test_repl_last_timestamp(self, mock_datetime): mock_datetime.datetime.now.return_value = ( datetime.datetime(2017, 4, 27, 13, 25, 46, 629282) ) mock_datetime.datetime.fromtimestamp.side_effect = ( datetime.datetime.utcfromtimestamp ) ","class NewDate(datetime.datetime): @classmethod def now(cls): """""" Mock for builtin datetime.datetime.now(), to test repl_last_timestamp() Non-defined methods are inherited from real class """""" return cls(2017, 4, 27, 13, 25, 46, 629282) @classmethod def fromtimestamp(cls, timestamp): return cls.utcfromtimestamp(timestamp) datetime.datetime = NewDate def test_repl_last_timestamp(self):",9,19
openstack%2Fswift~914031,openstack/swift,master,I95b252c3d49c2bfb359160448ac27d60e0ecd3dd,DNM: Try centos8 again,ABANDONED,2024-03-22 22:49:43.000000000,2024-04-03 20:08:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-03-22 22:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88f35034364351784616015897531104c5594546', 'message': 'DNM: Try centos8 again\n\nChange-Id: I95b252c3d49c2bfb359160448ac27d60e0ecd3dd\n'}, {'number': 2, 'created': '2024-03-25 18:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d355b1e87e3401462c2b1e712c46339341d2a814', 'message': 'DNM: Try centos8 again\n\nChange-Id: I95b252c3d49c2bfb359160448ac27d60e0ecd3dd\n'}, {'number': 3, 'created': '2024-04-01 20:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52a91874fb571986907bfea310c8d6adfb4b0b48', 'message': 'DNM: Try centos8 again\n\nChange-Id: I95b252c3d49c2bfb359160448ac27d60e0ecd3dd\n'}, {'number': 4, 'created': '2024-04-01 20:22:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/6c6a1f23c79ac2324d76adeb156f48f8b9c30ba9', 'message': 'DNM: Try centos8 again\n\nChange-Id: I95b252c3d49c2bfb359160448ac27d60e0ecd3dd\n'}]",1,914031,6c6a1f23c79ac2324d76adeb156f48f8b9c30ba9,12,1,4,15343,,,0,"DNM: Try centos8 again

Change-Id: I95b252c3d49c2bfb359160448ac27d60e0ecd3dd
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/914031/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,88f35034364351784616015897531104c5594546,, name: swift-probetests-centos-8-stream nodeset: centos-8-stream bindep_profile: test py36 name: swift-probetests-centos-8-stream-arm64 parent: swift-probetests-centos-8-stream - name: swift-centos-8-stream-arm64 label: centos-8-stream-arm64 parent: swift-probetests-centos-8-stream - swift-probetests-centos-8-stream: - swift-probetests-centos-8-stream:, name: swift-probetests-centos-9-stream nodeset: centos-9-stream bindep_profile: test py39 name: swift-probetests-centos-9-stream-arm64 parent: swift-probetests-centos-9-stream - name: swift-centos-9-stream-arm64 label: centos-9-stream-arm64 parent: swift-probetests-centos-9-stream - swift-probetests-centos-9-stream: - swift-probetests-centos-9-stream:,10,10
openstack%2Fcharm-nova-compute~914676,openstack/charm-nova-compute,stable/victoria,I336ce64d493c549096d0b8706996e0f17a2728fb,Update apparmor profile for nova-compute,MERGED,2024-04-01 15:37:46.000000000,2024-04-03 20:03:26.000000000,2024-04-03 20:03:26.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-01 15:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/64c748fd3e9dcfc5b92302bd10dd03a0664ea7e3', 'message': 'Update apparmor profile for nova-compute\n\nNova-compute uses ssh and scp commands extensively and this\npatch allows the process to read the configuration too in\n/etc/ssh/ssh_config.d/ directory.\n\nCloses-Bug: #2044983\nChange-Id: I336ce64d493c549096d0b8706996e0f17a2728fb\n(cherry picked from commit 4d6f4c07c9b634e22d5445a702be3d3ee9730ab3)\n(cherry picked from commit 20c9776e8836abbe13a2eab2efe1d8c9a8cff851)\n(cherry picked from commit 552a84925c9c1f7adc810e338a61944b6a53dbd0)\n(cherry picked from commit decbbd95330864a18dfd6d68b84860a9a671cf2b)\n'}, {'number': 2, 'created': '2024-04-01 16:53:45.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c7014adcc5cc25994065887122e5168c1c7c0f6b', 'message': 'Update apparmor profile for nova-compute\n\nNova-compute uses ssh and scp commands extensively and this\npatch allows the process to read the configuration too in\n/etc/ssh/ssh_config.d/ directory.\n\nCloses-Bug: #2044983\nChange-Id: I336ce64d493c549096d0b8706996e0f17a2728fb\n(cherry picked from commit 4d6f4c07c9b634e22d5445a702be3d3ee9730ab3)\n(cherry picked from commit 20c9776e8836abbe13a2eab2efe1d8c9a8cff851)\n(cherry picked from commit 552a84925c9c1f7adc810e338a61944b6a53dbd0)\n(cherry picked from commit decbbd95330864a18dfd6d68b84860a9a671cf2b)\n'}]",1,914676,c7014adcc5cc25994065887122e5168c1c7c0f6b,10,4,2,14567,,,0,"Update apparmor profile for nova-compute

Nova-compute uses ssh and scp commands extensively and this
patch allows the process to read the configuration too in
/etc/ssh/ssh_config.d/ directory.

Closes-Bug: #2044983
Change-Id: I336ce64d493c549096d0b8706996e0f17a2728fb
(cherry picked from commit 4d6f4c07c9b634e22d5445a702be3d3ee9730ab3)
(cherry picked from commit 20c9776e8836abbe13a2eab2efe1d8c9a8cff851)
(cherry picked from commit 552a84925c9c1f7adc810e338a61944b6a53dbd0)
(cherry picked from commit decbbd95330864a18dfd6d68b84860a9a671cf2b)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/76/914676/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,64c748fd3e9dcfc5b92302bd10dd03a0664ea7e3,apparmor-ssh-config-stable/2023.2-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria," /etc/ssh/ssh_config.d/ r, /etc/ssh/ssh_config.d/* r,",,2,0
openstack%2Fcharm-nova-compute~914820,openstack/charm-nova-compute,stable/victoria,Ice11d841091b352f5b6c1bb2e40514d5e4b74428,Fix Victoria CI py36,MERGED,2024-04-01 16:04:58.000000000,2024-04-03 20:03:21.000000000,2024-04-03 20:03:21.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-01 16:04:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/94ce9337820515bb1e565f7173f8aa2b224b6f52', 'message': 'Fix Victoria CI py36\n\nplatformdirs needed to be pinned due to py36 job\n\nChange-Id: Ice11d841091b352f5b6c1bb2e40514d5e4b74428\n'}]",1,914820,94ce9337820515bb1e565f7173f8aa2b224b6f52,9,5,1,14567,,,0,"Fix Victoria CI py36

platformdirs needed to be pinned due to py36 job

Change-Id: Ice11d841091b352f5b6c1bb2e40514d5e4b74428
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/20/914820/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,94ce9337820515bb1e565f7173f8aa2b224b6f52,, # needed for py36 due to openstacksdk>=0.18.0->python-ironicclient->zaza.openstack platformdirs<2.5.0;python_version<'3.7',,3,0
openstack%2Fcharm-mysql-innodb-cluster~914872,openstack/charm-mysql-innodb-cluster,stable/jammy,I53a6a1e4b54e3632ce90e4350a14bb45fba125c6,Add extended parameter for cluster-status,MERGED,2024-04-03 09:20:18.000000000,2024-04-03 20:02:35.000000000,2024-04-03 20:02:35.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 09:20:18.000000000', 'files': ['src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/18d7f888c1ab6e59ce55211b4e4055da67896e9a', 'message': 'Add extended parameter for cluster-status\n\nCloses-Bug: #2051568\nChange-Id: I53a6a1e4b54e3632ce90e4350a14bb45fba125c6\n(cherry picked from commit e355a51606d2f79cdd253d568614a366decfd0f9)\n'}]",1,914872,18d7f888c1ab6e59ce55211b4e4055da67896e9a,9,5,1,9247,,,0,"Add extended parameter for cluster-status

Closes-Bug: #2051568
Change-Id: I53a6a1e4b54e3632ce90e4350a14bb45fba125c6
(cherry picked from commit e355a51606d2f79cdd253d568614a366decfd0f9)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/72/914872/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py']",4,18d7f888c1ab6e59ce55211b4e4055da67896e9a,innodb-extended-cluster-status-stable/jammy," _extended = ch_core.hookenv.action_get(""extended"") _status = json.dumps( instance.get_cluster_status(extended=_extended)) except ValueError as e: ch_core.hookenv.action_set({ ""error"": str(e), ""traceback"": traceback.format_exc() }) ch_core.hookenv.action_fail( ""Cluster status failed, invalid values for extended parameter"")", _status = json.dumps(instance.get_cluster_status()),30,6
openstack%2Fcharm-glance~901626,openstack/charm-glance,stable/2023.2,I57c5fa293b421483b0879f24ddac260e47c7cbef,Restore original paste files if glance-common re-installation does not restore them.,MERGED,2023-11-21 21:08:40.000000000,2024-04-03 20:02:06.000000000,2024-04-03 20:02:06.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-11-21 21:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f1ec13fb803d2cd6bda192b46a2cc7bd1a19131a', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: 2043526\nRelated-Bug: 2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}, {'number': 2, 'created': '2023-11-22 12:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/feae1e544252abd7990fb48796e4ca4193648027', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: 2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}, {'number': 3, 'created': '2023-11-22 12:03:33.000000000', 'files': ['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1364f382e6631d98fc35476cbfb267e31e865ad1', 'message': 'Restore original paste files if glance-common\nre-installation does not restore them.\n\nImplemented a unit test function for the above\nscenario.\n\nCall apt_update from upgrade_charm().\n\nCloses-Bug: #2042792\nChange-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef\n(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)\n'}]",1,901626,1364f382e6631d98fc35476cbfb267e31e865ad1,14,6,3,35648,,,0,"Restore original paste files if glance-common
re-installation does not restore them.

Implemented a unit test function for the above
scenario.

Call apt_update from upgrade_charm().

Closes-Bug: #2042792
Change-Id: I57c5fa293b421483b0879f24ddac260e47c7cbef
(cherry picked from commit 59efce8bc81fc7800d2cb6ba696028832063a6e0)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/26/901626/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'unit_tests/test_glance_utils.py', 'hooks/glance_relations.py']",3,f1ec13fb803d2cd6bda192b46a2cc7bd1a19131a,, apt_update(),,37,5
openstack%2Fcharm-openstack-dashboard~914675,openstack/charm-openstack-dashboard,stable/yoga,I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6,Adjust haproxy timeout to intended values,MERGED,2024-04-01 13:36:22.000000000,2024-04-03 19:59:25.000000000,2024-04-03 19:59:25.000000000,"[{'_account_id': 1131}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-01 13:36:22.000000000', 'files': ['templates/haproxy.cfg'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/62777b150b1753a5a33e16c6dbfce24bc828a9dd', 'message': ""Adjust haproxy timeout to intended values\n\nMany years ago change Ida7949113594b9b859ab7b4ba8b2bb440bab6e7d\nattempted to change the timeouts of haproxy but did not succeed,\nas deployments were still using the values from the charm's\ntemplates/haproxy.cfg file, being effectively set to 30 seconds\nand causing timeouts (see bug). Additionally, the description\nof the config options became inaccurate, stating the default to\nbe a value that they were really not.\n\nThis patch addresses the timeout value discrepancy, adjusting\nto the original change's intended values.\n\nCloses-bug: #2045168\nChange-Id: I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6\n(cherry picked from commit 09c587116059319305b2a09cb393a084a52d1fc9)\n(cherry picked from commit 2f430d15e64766fce4dc398ee23703a395693027)\n(cherry picked from commit f013b18c7680174dcbc4217030081a451347c8ef)\n(cherry picked from commit f6f60a37ba99fd56fd02ac1a4c518703e9d9efca)\n""}]",0,914675,62777b150b1753a5a33e16c6dbfce24bc828a9dd,9,5,1,14567,,,0,"Adjust haproxy timeout to intended values

Many years ago change Ida7949113594b9b859ab7b4ba8b2bb440bab6e7d
attempted to change the timeouts of haproxy but did not succeed,
as deployments were still using the values from the charm's
templates/haproxy.cfg file, being effectively set to 30 seconds
and causing timeouts (see bug). Additionally, the description
of the config options became inaccurate, stating the default to
be a value that they were really not.

This patch addresses the timeout value discrepancy, adjusting
to the original change's intended values.

Closes-bug: #2045168
Change-Id: I83405727b4a116ec6f47b61211bf8ef3d2d9fbd6
(cherry picked from commit 09c587116059319305b2a09cb393a084a52d1fc9)
(cherry picked from commit 2f430d15e64766fce4dc398ee23703a395693027)
(cherry picked from commit f013b18c7680174dcbc4217030081a451347c8ef)
(cherry picked from commit f6f60a37ba99fd56fd02ac1a4c518703e9d9efca)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/75/914675/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/haproxy.cfg'],1,62777b150b1753a5a33e16c6dbfce24bc828a9dd,, timeout queue 9000 timeout connect 9000 timeout client 90000 timeout server 90000, timeout queue 5000 timeout connect 5000 timeout client 30000 timeout server 30000,4,4
openstack%2Fdevstack~914115,openstack/devstack,master,I48edbcbaa993f2d1f35160c415986d21a15a4999,Do not configure system-scope admin for keystone,MERGED,2024-03-25 16:16:03.000000000,2024-04-03 19:58:59.000000000,2024-04-03 19:57:45.000000000,"[{'_account_id': 7414}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2024-03-25 16:16:03.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e1b7cc0ef8db3f7363cd478effa8f7292b61b9bf', 'message': 'Do not configure system-scope admin for keystone\n\nThis patch removes a couple of tempest.conf settings that are being\noverwrriten when Keystone is set to enforce scope.\n\nThese settings are already being set by the keystone devstack plugin [1]\nand do not need to be overwritten here.\n\nKeystone is changing the default admin credentials to be project-admin\ninstead of system-admin to address some failing tests in services that\nrequire project-scoped admin for their admin APIs. [2]  These overrides\nare preventing that change from taking effect.\n\n[1] https://opendev.org/openstack/keystone/src/branch/stable/2024.1/devstack/lib/scope.sh#L24-L25\n[2] https://review.opendev.org/c/openstack/keystone/+/913999\n\nChange-Id: I48edbcbaa993f2d1f35160c415986d21a15a4999\n'}]",2,914115,e1b7cc0ef8db3f7363cd478effa8f7292b61b9bf,13,5,1,7973,,,0,"Do not configure system-scope admin for keystone

This patch removes a couple of tempest.conf settings that are being
overwrriten when Keystone is set to enforce scope.

These settings are already being set by the keystone devstack plugin [1]
and do not need to be overwritten here.

Keystone is changing the default admin credentials to be project-admin
instead of system-admin to address some failing tests in services that
require project-scoped admin for their admin APIs. [2]  These overrides
are preventing that change from taking effect.

[1] https://opendev.org/openstack/keystone/src/branch/stable/2024.1/devstack/lib/scope.sh#L24-L25
[2] https://review.opendev.org/c/openstack/keystone/+/913999

Change-Id: I48edbcbaa993f2d1f35160c415986d21a15a4999
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/914115/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,e1b7cc0ef8db3f7363cd478effa8f7292b61b9bf,secure-rbac,, iniset $TEMPEST_CONFIG auth admin_system 'all' iniset $TEMPEST_CONFIG auth admin_project_name '',0,2
openstack%2Fcharm-designate~914518,openstack/charm-designate,stable/2023.2,I5dafeb2b4dcf9549260081d3674038f836d29f0f,separate rndc.key file per application,MERGED,2024-03-27 14:00:49.000000000,2024-04-03 19:58:16.000000000,2024-04-03 19:58:16.000000000,"[{'_account_id': 1131}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-27 14:00:49.000000000', 'files': ['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/589a075bf9b3d24c64d98ae04a52aa9e44f28f0f', 'message': 'separate rndc.key file per application\n\nThis change fixes an issue that when the charm-designate is\nrelated to two different designate-bind applications, the same\nrndc key file is used for the two different applications.\n\nWe fix this by writing an rndc_key_file per application rather than in\na single rndc.key file for all the units.\n\nCloses-Bug: #1995975\n\nChange-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}]",0,914518,589a075bf9b3d24c64d98ae04a52aa9e44f28f0f,8,4,1,32371,,,0,"separate rndc.key file per application

This change fixes an issue that when the charm-designate is
related to two different designate-bind applications, the same
rndc key file is used for the two different applications.

We fix this by writing an rndc_key_file per application rather than in
a single rndc.key file for all the units.

Closes-Bug: #1995975

Change-Id: I5dafeb2b4dcf9549260081d3674038f836d29f0f
Signed-off-by: David Negreira <david.negreira@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/18/914518/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/rocky/pools.yaml', 'src/lib/charm/openstack/designate.py', 'unit_tests/test_designate_handlers.py', 'unit_tests/test_lib_charm_openstack_designate.py', 'src/reactive/designate_handlers.py', 'src/templates/mitaka/pools.yaml']",6,589a075bf9b3d24c64d98ae04a52aa9e44f28f0f,, rndc_key_file: {{ slave.rndc_key_file }}, rndc_key_file: /etc/designate/rndc.key,99,10
openstack%2Fcharm-guide~881724,openstack/charm-guide,master,I4eacc16879ee0bf789175e7ac2d4462645adce5b,Add documentation for TGT to LIO migration,NEW,2023-04-27 13:08:05.000000000,2024-04-03 19:41:29.000000000,,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 14567}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-27 13:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b6e8a370b4bc41a3d491b22457455648f0a9ab33', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 2, 'created': '2023-04-27 13:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ebfc01a9aad3dafa97492c135b505a4716de886c', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 3, 'created': '2023-07-06 14:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5247a3d90dd21cd6a43261d438dbad64ae5278d6', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 4, 'created': '2023-07-06 16:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7ed5d80645eb8a9fcba03ebe754bd3c856547926', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 5, 'created': '2024-03-18 14:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8d44eaf08242cd09f13ed0abc01c41aa51fdf70a', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 6, 'created': '2024-03-26 14:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7547c3c7f74c57e852fe9ec9f7f4c1c592ac8aee', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 7, 'created': '2024-04-03 11:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/04fae8fef780db992d8f2ecca99934c0f51f97ad', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 8, 'created': '2024-04-03 15:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8c4f0359b0d040a0eb71a5e94dfaa18e375c06bb', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}, {'number': 9, 'created': '2024-04-03 19:05:46.000000000', 'files': ['doc/source/project/issues-and-procedures.rst', 'doc/source/project/procedures/cinder-lvm-tgt-to-lio-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/03239c32cb8b29ffa7463b29491aafa67b37017e', 'message': 'Add documentation for TGT to LIO migration\n\nChange-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b\n'}]",26,881724,03239c32cb8b29ffa7463b29491aafa67b37017e,28,4,9,10058,,,0,"Add documentation for TGT to LIO migration

Change-Id: I4eacc16879ee0bf789175e7ac2d4462645adce5b
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/24/881724/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/project/issues-and-procedures.rst', 'doc/source/project/procedures/cinder-lvm-tgt-to-lio-migration.rst']",2,b6e8a370b4bc41a3d491b22457455648f0a9ab33,fix-target-helper,"================================================ Target helper migration: TGT to LIO (cinder-lvm) ================================================ Starting with the Wallaby release, the 'lioadm' library (python3-rtslib-fb) is the default target helper installed with the cinder-common package. However, Cinder's default value is still set to 'tgt', the old helper. To resolve this, either manually install the 'tgt' package or configure the charm to use 'lioadm'. The latter is recommended, as new charm deployments will use the new helper by default without manual user intervention. For deployments upgrading from Victoria or earlier, perform the following steps to use the new helper: 1 - Upgrade cinder and cinder-lvm charms to the latest version from the Wallaby channel. 2 - Explicitly set the target_helper to tgtadm for all cinder-lvm backends .. code-block:: none juju config cinder-lvm config-flags='target_helper=tgtadm' 3 - Execute the OpenStack upgrade transitioning from Victoria to Wallaby: .. code-block:: none juju config cinder openstack-origin=cloud:focal-wallaby 4 - Create a new cinder-lvm application, as in the example bellow, with the same configuration as the previous cinder-lvm, but adding the new target helper config. .. important:: The new application must have a different name than the previous one, as you need a way to differentiate new and old backends. The alias option can also be used to differentiate the backends, but it is not mandatory. The new application can have the same volume-group name as the previous one. .. code-block:: yaml applications: cinder-lvm-lio: charm: cinder-lvm channel: wallaby/stable options: alias: stsstack-lio block-device: /var/lib/lvm_pool0.img|20G volume-group: cinder-volumes-stsstack config-flags: target_helper=lioadm relations: - [ cinder, cinder-lvm-lio ] Install the new application: .. code-block:: none juju export-bundle > current-juju.yaml juju deploy ./current-juju.yaml --overlay ./cinder-lvm-lio.yaml 5 - Disable old tgtadm backends .. code-block:: none cinder service-disable juju-348a1c-focal-ussuri-lvm-3-0@LVM-stsstack \ cinder-volume 6 - Optionally, migrate volumes to the new backend and remove the old backend/application. .. code-block:: none openstack volume migrate --host \ juju-8f5d46-focal-ussuri-lvm-graylog-0@LVM-stsstack-lio v1 ",,80,0
openstack%2Fopenstack-helm~914830,openstack/openstack-helm,master,I41df99691bf80878bb393f0b5e131cfdba890d6a,Octavia: Enable custom annotations,MERGED,2024-04-01 20:22:52.000000000,2024-04-03 19:14:03.000000000,2024-04-03 18:47:36.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2024-04-01 20:22:52.000000000', 'files': ['octavia/templates/deployment-api.yaml', 'octavia/values_overrides/annotations.yaml', 'octavia/Chart.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'octavia/templates/deployment-housekeeping.yaml', 'octavia/templates/deployment-worker.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bb049d9ee19682fbf1260017d1821a129c89a92b', 'message': 'Octavia: Enable custom annotations\n\nEnable custom annotations for pods [deployments, daemonsets]\n\nChange-Id: I41df99691bf80878bb393f0b5e131cfdba890d6a\n'}]",0,914830,bb049d9ee19682fbf1260017d1821a129c89a92b,8,3,1,34311,,,0,"Octavia: Enable custom annotations

Enable custom annotations for pods [deployments, daemonsets]

Change-Id: I41df99691bf80878bb393f0b5e131cfdba890d6a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/914830/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/templates/deployment-api.yaml', 'octavia/values_overrides/annotations.yaml', 'octavia/Chart.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'octavia/templates/deployment-housekeeping.yaml', 'octavia/templates/deployment-worker.yaml']",7,bb049d9ee19682fbf1260017d1821a129c89a92b,feat/octavia_annotations,"{{ tuple ""octavia_worker"" . | include ""helm-toolkit.snippets.custom_pod_annotations"" | indent 8 }}",,15,1
openstack%2Fopenstack-helm~914832,openstack/openstack-helm,master,If6777ccf6ad201d13d762120a0f8d28b3a9e6878,Placement: Enable custom annotations,MERGED,2024-04-01 20:28:02.000000000,2024-04-03 19:13:18.000000000,2024-04-03 18:47:31.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2024-04-01 20:28:02.000000000', 'files': ['releasenotes/notes/placement.yaml', 'placement/Chart.yaml', 'placement/values_overrides/annotations.yaml', 'placement/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f68af49eb9839800767bbf474baac3cb849fdff', 'message': 'Placement: Enable custom annotations\n\nEnable custom annotations for pods [deployments, daemonsets]\n\nChange-Id: If6777ccf6ad201d13d762120a0f8d28b3a9e6878\n'}]",3,914832,0f68af49eb9839800767bbf474baac3cb849fdff,14,3,1,34311,,,0,"Placement: Enable custom annotations

Enable custom annotations for pods [deployments, daemonsets]

Change-Id: If6777ccf6ad201d13d762120a0f8d28b3a9e6878
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/914832/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/placement.yaml', 'placement/Chart.yaml', 'placement/values_overrides/annotations.yaml', 'placement/templates/deployment.yaml']",4,0f68af49eb9839800767bbf474baac3cb849fdff,feat/placement_annotations,"{{ tuple ""placement"" . | include ""helm-toolkit.snippets.custom_pod_annotations"" | indent 8 }}",,12,1
openstack%2Fpython-manilaclient~914222,openstack/python-manilaclient,master,Id8e4a7c4808152a41b35ec2e6c09f1d439cf14e2,"Added ""--wait"" option for creating/deleting a share group snapshot",NEW,2024-03-26 11:24:33.000000000,2024-04-03 19:12:59.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30407}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 32594}, {'_account_id': 33728}]","[{'number': 1, 'created': '2024-03-26 11:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d978d2648a7d217d1ab7797d94de099e60145139', 'message': 'Added ""--wait"" option for creating/deleting a share group snapshot\n\n1) Creating a share group snapshot\n$ manila share-group-snapshot-create --name share-group-snap-1 --wait\n<CLI waits on the share group snapshot to become available before providing group snapshot details>\n\n2) Deleting a share group\n$ manila share-group-snapshot-delete share-group-snap-1 --wait\n<CLI waits on the share group snapshot to be deleted before returning to the prompt>\n\nCloses-Bug: #1898319\n\nChange-Id: Id8e4a7c4808152a41b35ec2e6c09f1d439cf14e2\n'}, {'number': 2, 'created': '2024-03-26 11:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e197549f0f1924b7f1ed3b99326ed0cc76ee2892', 'message': 'Added ""--wait"" option for creating/deleting a share group snapshot\n\n1) Creating a share group snapshot\n$ manila share-group-snapshot-create --name share-group-snap-1 --wait\n<CLI waits on the share group snapshot to become available before providing group snapshot details>\n\n2) Deleting a share group\n$ manila share-group-snapshot-delete share-group-snap-1 --wait\n<CLI waits on the share group snapshot to be deleted before returning to the prompt>\n\nCloses-Bug: #1898319\n\nChange-Id: Id8e4a7c4808152a41b35ec2e6c09f1d439cf14e2\n'}, {'number': 3, 'created': '2024-03-26 13:38:09.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898319-add-wait-to-create-delete-a-share-group-snapshot-f789e324f66ad1b6.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9a29099b31b8234a9f015ca7d7355ba9ad6ea4b5', 'message': 'Added ""--wait"" option for creating/deleting a share group snapshot\n\n1) Creating a share group snapshot\n$ manila share-group-snapshot-create --name share-group-snap-1 --wait\n<CLI waits on the share group snapshot to become available before providing group snapshot details>\n\n2) Deleting a share group\n$ manila share-group-snapshot-delete share-group-snap-1 --wait\n<CLI waits on the share group snapshot to be deleted before returning to the prompt>\n\nCloses-Bug: #1898319\n\nChange-Id: Id8e4a7c4808152a41b35ec2e6c09f1d439cf14e2\n'}]",3,914222,9a29099b31b8234a9f015ca7d7355ba9ad6ea4b5,9,7,3,36889,,,0,"Added ""--wait"" option for creating/deleting a share group snapshot

1) Creating a share group snapshot
$ manila share-group-snapshot-create --name share-group-snap-1 --wait
<CLI waits on the share group snapshot to become available before providing group snapshot details>

2) Deleting a share group
$ manila share-group-snapshot-delete share-group-snap-1 --wait
<CLI waits on the share group snapshot to be deleted before returning to the prompt>

Closes-Bug: #1898319

Change-Id: Id8e4a7c4808152a41b35ec2e6c09f1d439cf14e2
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/22/914222/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898319-add-wait-to-create-delete-a-share-group-snapshot-f789e324f66ad1b6.yaml']",3,d978d2648a7d217d1ab7797d94de099e60145139,bug/1898319,"--- features: - | The commands ""share-group-snapshot-create"" and ""share-group-snapshot-delete"" now accept an optional ""--wait"" option that allows users to let the client poll for the completion of the operation.",,57,0
openstack%2Fkayobe~902772,openstack/kayobe,master,I719fc8042742fe8b3b0312658aec39317a1bc358,Add Redfish rules to Ironic and Bifrost introspection,MERGED,2023-12-06 13:42:11.000000000,2024-04-03 19:12:54.000000000,2024-04-03 18:30:17.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 36238}]","[{'number': 1, 'created': '2023-12-06 13:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/40576194dd95d196e9634e17833d870d012db323', 'message': 'Add Redfish rules to Ironic introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 2, 'created': '2023-12-11 12:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/176b2890fc3f88479080d269b351c5c2c53a3210', 'message': 'Add Redfish rules to Ironic introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 3, 'created': '2023-12-11 13:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f2537bb5b2ae2c5754dbcefe18fa63e119876813', 'message': 'Add Redfish rules to Ironic introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 4, 'created': '2023-12-20 10:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/77ea23cac1f01922e949b9dc533e3bbd2912078d', 'message': 'Add Redfish rules to Ironic introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 5, 'created': '2024-01-31 09:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bb4dccda008615f184627824d0a69f9415918a9d', 'message': 'Add Redfish rules to Ironic introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 6, 'created': '2024-01-31 10:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e451d65bd6ab5222e8afb57929d76bfb01411f10', 'message': 'Add Redfish rules to Ironic introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 7, 'created': '2024-01-31 10:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0d48eed039454445049430cc2695dfe869723780', 'message': 'Add Redfish rules to Ironic introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 8, 'created': '2024-01-31 11:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/df16e86eab784e9d4b0c4cd206df451d3c575eb6', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 9, 'created': '2024-01-31 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d7eeed99cd541c6503c23927c7ecf572ad89ffa5', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 10, 'created': '2024-01-31 14:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/96d4c3f2ce70441f1836e58f704bddb5acd85e18', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 11, 'created': '2024-02-02 14:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3a04debd7c61a346a572379adac2622729f10e17', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 12, 'created': '2024-02-05 06:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/37bfd155855a998582ddb4a7443216e82823e04c', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 13, 'created': '2024-02-12 10:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d4c302763e8195e3e86a8d12ac6e2aeb8fb76328', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 14, 'created': '2024-02-12 18:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/518fa2eaed468482a8bf1e166a55f7a0bcdc87c1', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 15, 'created': '2024-02-20 12:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f80fada2d18e21aa9da0a56eb4a3fefaca8c3e94', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 16, 'created': '2024-03-05 14:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/440683f9f98e9f0ebab018dc268c3d6ee5a25e78', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 17, 'created': '2024-03-12 08:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8f652e02342dff0cdd11d68973b6413410a46e33', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 18, 'created': '2024-03-13 08:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c6708c95b4b9cdc4fbb139f6b293e8dbb66130a6', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 19, 'created': '2024-03-13 08:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cfc6b8e02c1ddb829bd7ce9dd038c4d6df9db1ae', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 20, 'created': '2024-03-13 08:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bafcde83954aa63ed572c699c6df41cdd820d43a', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 21, 'created': '2024-03-13 09:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d0b39080e45b6361fbd0727ada645e762d7b2449', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 22, 'created': '2024-03-20 11:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f23ff547143a2bdfa65297f8a272e1b20560dcda', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 23, 'created': '2024-03-21 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e599dca1e8f51b7bf217b6bc0cf5bf9633262f06', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 24, 'created': '2024-03-26 11:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cc656e7e42e5e078da850d3b40e61058b4481b85', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 25, 'created': '2024-03-28 11:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e1b59815a7ba122211a14baf630c1ca90e707c59', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 26, 'created': '2024-03-28 14:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c78ec0b4ef87dc8fb892782924bc42652202522c', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 27, 'created': '2024-04-03 08:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7cec11ddb7c3b55470440879cb9fbd19a712fa0b', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}, {'number': 28, 'created': '2024-04-03 09:28:38.000000000', 'files': ['ansible/inventory/group_vars/all/bifrost', 'etc/kayobe/bifrost.yml', 'releasenotes/notes/redfish_rules-956ca7498f5f13b4.yaml', 'ansible/seed-introspection-rules.yml', 'ansible/inventory/group_vars/all/inspector', 'doc/source/configuration/reference/bifrost.rst', 'etc/kayobe/inspector.yml', 'ansible/overcloud-introspection-rules.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/be2b1a4eda39892e56fb5317a074d377ca2ba157', 'message': 'Add Redfish rules to Ironic and Bifrost introspection\n\nChange-Id: I719fc8042742fe8b3b0312658aec39317a1bc358\n'}]",175,902772,be2b1a4eda39892e56fb5317a074d377ca2ba157,135,7,28,34940,,,0,"Add Redfish rules to Ironic and Bifrost introspection

Change-Id: I719fc8042742fe8b3b0312658aec39317a1bc358
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/902772/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redfish_rules-956ca7498f5f13b4.yaml', 'ansible/seed-introspection-rules.yml', 'ansible/inventory/group_vars/all/inspector', 'ansible/overcloud-introspection-rules.yml']",4,40576194dd95d196e9634e17833d870d012db323,redfish_rules," inspector_rule_var_redfish_username: ""{{ inspector_ipmi_username }}"" inspector_rule_var_redfish_password: ""{{ inspector_ipmi_password }}""",,72,0
openstack%2Fovsdbapp~907871,openstack/ovsdbapp,unmaintained/yoga,Ie6fb95c7411e72089ff13cdba28666f2e1d06efc,Update .gitreview for unmaintained/yoga,NEW,2024-02-05 16:47:11.000000000,2024-04-03 19:08:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-02-05 16:47:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2fa7d945ed4166ae2fb326379aa6779bf5dfced0', 'message': 'Update .gitreview for unmaintained/yoga\n\nChange-Id: Ie6fb95c7411e72089ff13cdba28666f2e1d06efc\n'}]",2,907871,2fa7d945ed4166ae2fb326379aa6779bf5dfced0,6,1,1,22816,,,0,"Update .gitreview for unmaintained/yoga

Change-Id: Ie6fb95c7411e72089ff13cdba28666f2e1d06efc
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/71/907871/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2fa7d945ed4166ae2fb326379aa6779bf5dfced0,create-yoga,defaultbranch=unmaintained/yoga,defaultbranch=stable/yoga,1,1
openstack%2Frequirements~914957,openstack/requirements,master,I617acd9fd4734d901b306ed55a59ef7e02c4146f,update constraint for tap-as-a-service to new release 13.0.0,MERGED,2024-04-03 12:07:42.000000000,2024-04-03 19:07:23.000000000,2024-04-03 17:37:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 12:07:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/36e0720e954c54397b95e73826c8e93024e08903', 'message': 'update constraint for tap-as-a-service to new release 13.0.0\n\nmeta: version: 13.0.0\nmeta: diff-start: 12.0.0\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I869f01d82a7a8714a9e6ee20dfc02228c35ecdbb\nmeta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>\nmeta: release:Code-Review+2: Dr. Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Carlos Eduardo <ces.eduardo98@gmail.com>\nmeta: release:Code-Review+1: Wenping Song <songwenping@inspur.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>\nmeta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: David Wilde <dwilde@redhat.com>\nChange-Id: I617acd9fd4734d901b306ed55a59ef7e02c4146f\n'}]",0,914957,36e0720e954c54397b95e73826c8e93024e08903,7,2,1,11131,,,0,"update constraint for tap-as-a-service to new release 13.0.0

meta: version: 13.0.0
meta: diff-start: 12.0.0
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I869f01d82a7a8714a9e6ee20dfc02228c35ecdbb
meta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>
meta: release:Code-Review+2: Dr. Jens Harbott <frickler@offenerstapel.de>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Carlos Eduardo <ces.eduardo98@gmail.com>
meta: release:Code-Review+1: Wenping Song <songwenping@inspur.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>
meta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: David Wilde <dwilde@redhat.com>
Change-Id: I617acd9fd4734d901b306ed55a59ef7e02c4146f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/914957/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,36e0720e954c54397b95e73826c8e93024e08903,new-release,tap-as-a-service===13.0.0,tap-as-a-service===13.0.0.0rc1,1,1
openstack%2Fopenstack-helm~914886,openstack/openstack-helm,master,I7a9e24baacb3ab5768211997d6e9f7c65407bb83,Proper chown /run/openvswitch/db.sock under OVN,MERGED,2024-04-02 13:39:44.000000000,2024-04-03 18:53:17.000000000,2024-04-03 17:44:24.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2024-04-02 13:39:44.000000000', 'files': ['neutron/Chart.yaml', 'neutron/templates/daemonset-ovn-metadata-agent.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/templates/bin/_neutron-metadata-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/11121d5f775db709916a78678a3a745f8a265600', 'message': 'Proper chown /run/openvswitch/db.sock under OVN\n\nChange-Id: I7a9e24baacb3ab5768211997d6e9f7c65407bb83\n'}]",0,914886,11121d5f775db709916a78678a3a745f8a265600,8,3,1,12404,,,0,"Proper chown /run/openvswitch/db.sock under OVN

Change-Id: I7a9e24baacb3ab5768211997d6e9f7c65407bb83
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/914886/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/Chart.yaml', 'neutron/templates/daemonset-ovn-metadata-agent.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/templates/bin/_neutron-metadata-agent-init.sh.tpl']",4,11121d5f775db709916a78678a3a745f8a265600,ovn-ovs-permission-missing,"{{- if (has ""ovn"" .Values.network.backend) }} chown ${NEUTRON_USER_UID} /run/openvswitch/db.sock {{- end }}",,7,1
openstack%2Fopenstacksdk~912138,openstack/openstacksdk,master,Ic938d8d02cab2e7aa74008d33d2bedef60de43af,Update master for stable/2024.1,MERGED,2024-03-08 13:57:11.000000000,2024-04-03 18:53:17.000000000,2024-04-03 17:32:25.000000000,"[{'_account_id': 4264}, {'_account_id': 5202}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32240}]","[{'number': 1, 'created': '2024-03-08 13:57:11.000000000', 'files': ['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4b1e75aad618a0644157dc6f407dc682ad9c4afe', 'message': 'Update master for stable/2024.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2024.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2024.1.\n\nSem-Ver: feature\nChange-Id: Ic938d8d02cab2e7aa74008d33d2bedef60de43af\n'}]",1,912138,4b1e75aad618a0644157dc6f407dc682ad9c4afe,9,6,1,22816,,,0,"Update master for stable/2024.1

Add file to the reno documentation build to show release notes for
stable/2024.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2024.1.

Sem-Ver: feature
Change-Id: Ic938d8d02cab2e7aa74008d33d2bedef60de43af
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/38/912138/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/2024.1.rst', 'releasenotes/source/index.rst']",2,4b1e75aad618a0644157dc6f407dc682ad9c4afe,reno-2024.1, 2024.1,,7,0
openstack%2Fopenstack-helm~914834,openstack/openstack-helm,master,I338097a1b7fee756c8a07f9d518d9af707bab215,Senlin: Enable custom annotations,MERGED,2024-04-01 20:34:37.000000000,2024-04-03 18:47:34.000000000,2024-04-03 18:47:34.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2024-04-01 20:34:37.000000000', 'files': ['senlin/templates/deployment-conductor.yaml', 'senlin/templates/deployment-engine.yaml', 'senlin/templates/deployment-api.yaml', 'senlin/Chart.yaml', 'senlin/templates/deployment-health-manager.yaml', 'senlin/values_overrides/annotations.yaml', 'releasenotes/notes/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4bc719c4b669cbd0cddc8bdf4632e497955388e7', 'message': 'Senlin: Enable custom annotations\n\nEnable custom annotations for pods [deployments, daemonsets]\n\nChange-Id: I338097a1b7fee756c8a07f9d518d9af707bab215\n'}]",1,914834,4bc719c4b669cbd0cddc8bdf4632e497955388e7,9,3,1,34311,,,0,"Senlin: Enable custom annotations

Enable custom annotations for pods [deployments, daemonsets]

Change-Id: I338097a1b7fee756c8a07f9d518d9af707bab215
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/914834/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/templates/deployment-conductor.yaml', 'senlin/templates/deployment-engine.yaml', 'senlin/templates/deployment-api.yaml', 'senlin/Chart.yaml', 'senlin/templates/deployment-health-manager.yaml', 'senlin/values_overrides/annotations.yaml', 'releasenotes/notes/senlin.yaml']",7,4bc719c4b669cbd0cddc8bdf4632e497955388e7,feat/senlin_annotations, - 0.2.11 Enable custom annotations for Openstack pods,,15,1
openstack%2Fopenstack-helm~914829,openstack/openstack-helm,master,I0a301876c2758d8dd365312538471a1e2fef4c3e,Nova: Enable custom annotations,MERGED,2024-04-01 20:17:30.000000000,2024-04-03 18:47:33.000000000,2024-04-03 18:47:33.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2024-04-01 20:17:30.000000000', 'files': ['nova/templates/deployment-spiceproxy.yaml', 'nova/values_overrides/annotations.yaml', 'nova/templates/deployment-conductor.yaml', 'nova/templates/secret-rabbitmq.yaml', 'nova/templates/deployment-api-osapi.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/Chart.yaml', 'nova/templates/deployment-novncproxy.yaml', 'nova/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/be3f61fa4b855ba050c9653dcef8183b919e5daa', 'message': 'Nova: Enable custom annotations\n\nEnable custom annotations for pods [deployments, daemonsets]\n\nChange-Id: I0a301876c2758d8dd365312538471a1e2fef4c3e\n'}]",0,914829,be3f61fa4b855ba050c9653dcef8183b919e5daa,7,3,1,34311,,,0,"Nova: Enable custom annotations

Enable custom annotations for pods [deployments, daemonsets]

Change-Id: I0a301876c2758d8dd365312538471a1e2fef4c3e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/914829/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/deployment-spiceproxy.yaml', 'nova/values_overrides/annotations.yaml', 'nova/templates/deployment-conductor.yaml', 'nova/templates/secret-rabbitmq.yaml', 'nova/templates/deployment-api-osapi.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/Chart.yaml', 'nova/templates/deployment-novncproxy.yaml', 'nova/templates/deployment-scheduler.yaml']",11,be3f61fa4b855ba050c9653dcef8183b919e5daa,feat/nova_annotations,"{{ tuple ""nova_scheduler"" . | include ""helm-toolkit.snippets.custom_pod_annotations"" | indent 8 }}",,18,1
openstack%2Frequirements~914955,openstack/requirements,master,I55abc1fc4c250ae50c386d94a4bc51cbf48ce910,update constraint for ceilometer to new release 22.0.0,MERGED,2024-04-03 11:58:28.000000000,2024-04-03 18:46:45.000000000,2024-04-03 17:37:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 11:58:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5fff912de39cbe900183899bdedaa67080961c9e', 'message': 'update constraint for ceilometer to new release 22.0.0\n\nmeta: version: 22.0.0\nmeta: diff-start: 21.0.0\nmeta: series: caracal\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I869f01d82a7a8714a9e6ee20dfc02228c35ecdbb\nmeta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>\nmeta: release:Code-Review+2: Dr. Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Carlos Eduardo <ces.eduardo98@gmail.com>\nmeta: release:Code-Review+1: Wenping Song <songwenping@inspur.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>\nmeta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: David Wilde <dwilde@redhat.com>\nChange-Id: I55abc1fc4c250ae50c386d94a4bc51cbf48ce910\n'}]",0,914955,5fff912de39cbe900183899bdedaa67080961c9e,7,2,1,11131,,,0,"update constraint for ceilometer to new release 22.0.0

meta: version: 22.0.0
meta: diff-start: 21.0.0
meta: series: caracal
meta: branch: master
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I869f01d82a7a8714a9e6ee20dfc02228c35ecdbb
meta: release:Code-Review+1: Boxiang Zhu <zhu.boxiang@99cloud.net>
meta: release:Code-Review+2: Dr. Jens Harbott <frickler@offenerstapel.de>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Carlos Eduardo <ces.eduardo98@gmail.com>
meta: release:Code-Review+1: Wenping Song <songwenping@inspur.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+1: Brian Haley <haleyb.dev@gmail.com>
meta: release:Workflow+1: Dr. Jens Harbott <frickler@offenerstapel.de>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: David Wilde <dwilde@redhat.com>
Change-Id: I55abc1fc4c250ae50c386d94a4bc51cbf48ce910
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/914955/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5fff912de39cbe900183899bdedaa67080961c9e,new-release,ceilometer===22.0.0,ceilometer===22.0.0.0rc1,1,1
openstack%2Fopenstacksdk~909656,openstack/openstacksdk,master,Ia53396c05a99dbbdba668c6966e9c601965d001f,Add sort_key and sort_dir to core Neutron resources,MERGED,2024-02-21 13:01:03.000000000,2024-04-03 18:23:25.000000000,2024-04-03 17:32:23.000000000,"[{'_account_id': 1131}, {'_account_id': 6914}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2024-02-21 13:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7406cb3b87d6628c89c7b2986bb3b166d84ce82b', 'message': 'Add sort_key and sort_dir to Network and Subnet\n\nChange-Id: Ia53396c05a99dbbdba668c6966e9c601965d001f\nRelated-Bug: #1999774\n'}, {'number': 2, 'created': '2024-02-22 11:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d1e3de904990244cc9c465607bb6753a5bede207', 'message': 'Add sort_key and sort_dir to core Neutron resources\n\nChange-Id: Ia53396c05a99dbbdba668c6966e9c601965d001f\nRelated-Bug: #1999774\n'}, {'number': 3, 'created': '2024-03-25 13:38:21.000000000', 'files': ['openstack/network/v2/network_segment_range.py', 'openstack/network/v2/subnet.py', 'openstack/network/v2/metering_label_rule.py', 'openstack/network/v2/metering_label.py', 'openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py', 'openstack/tests/unit/network/v2/test_floating_ip.py', 'openstack/network/v2/qos_policy.py', 'openstack/tests/unit/network/v2/test_local_ip_association.py', 'openstack/network/v2/segment.py', 'openstack/network/v2/subnet_pool.py', 'openstack/network/v2/router.py', 'openstack/network/v2/floating_ip.py', 'openstack/network/v2/address_group.py', 'openstack/tests/unit/network/v2/test_network.py', 'openstack/tests/unit/network/v2/test_port_forwarding.py', 'openstack/network/v2/flavor.py', 'openstack/network/v2/local_ip.py', 'openstack/network/v2/network_ip_availability.py', 'openstack/network/v2/port_forwarding.py', 'openstack/network/v2/address_scope.py', 'openstack/network/v2/local_ip_association.py', 'openstack/network/v2/network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/afdf1549d45d92a1f50402794d8f82cde66976e7', 'message': 'Add sort_key and sort_dir to core Neutron resources\n\nChange-Id: Ia53396c05a99dbbdba668c6966e9c601965d001f\nRelated-Bug: #1999774\n'}]",2,909656,afdf1549d45d92a1f50402794d8f82cde66976e7,17,8,3,8313,,,0,"Add sort_key and sort_dir to core Neutron resources

Change-Id: Ia53396c05a99dbbdba668c6966e9c601965d001f
Related-Bug: #1999774
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/56/909656/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/subnet.py', 'openstack/tests/unit/network/v2/test_network.py', 'openstack/network/v2/network.py']",3,7406cb3b87d6628c89c7b2986bb3b166d84ce82b,bug/1999774," 'sort_key', 'sort_dir',",,6,0
openstack%2Fopenstack-ansible~909694,openstack/openstack-ansible,master,I8f7ec0d29c316bf428caadaf35e18617e5a82d50,Add ovn-bgp-agent to source install requirements,MERGED,2024-02-21 16:32:42.000000000,2024-04-03 18:23:24.000000000,2024-04-03 17:20:27.000000000,"[{'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2024-02-21 16:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efe26f77aee51a32592936d32ff10cb764c70d18', 'message': 'Add ovn-bgp-agent to source install requirements\n\nChange-Id: I8f7ec0d29c316bf428caadaf35e18617e5a82d50\n'}, {'number': 2, 'created': '2024-02-28 17:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/042bd0cbd1f5732b14dcd63ada47c9c11fb2ea38', 'message': 'Add ovn-bgp-agent to source install requirements\n\nChange-Id: I8f7ec0d29c316bf428caadaf35e18617e5a82d50\n'}, {'number': 3, 'created': '2024-03-05 09:15:36.000000000', 'files': ['inventory/group_vars/neutron_all/source_git.yml', 'zuul.d/jobs.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a13bc557dcffff240ac9833a9f9b5587e06f15c', 'message': 'Add ovn-bgp-agent to source install requirements\n\nChange-Id: I8f7ec0d29c316bf428caadaf35e18617e5a82d50\n'}]",2,909694,2a13bc557dcffff240ac9833a9f9b5587e06f15c,22,4,3,28619,,,0,"Add ovn-bgp-agent to source install requirements

Change-Id: I8f7ec0d29c316bf428caadaf35e18617e5a82d50
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/909694/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/neutron_all/source_git.yml', 'zuul.d/jobs.yaml']",2,efe26f77aee51a32592936d32ff10cb764c70d18,osa/neutron_ovn_bgp, - name: openstack/ovn-bgp-agent,,5,0
openstack%2Fcharm-watcher~904879,openstack/charm-watcher,stable/zed,Ie9ae372b63d17c7b9087ebd7674fa58e7bc8f634,Backport watcher support to zed release.,MERGED,2024-01-05 22:12:45.000000000,2024-04-03 17:16:33.000000000,2024-04-03 17:16:33.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-01-05 22:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/8750ae8a64aa0103454c51f164cb5574d4c40f1f', 'message': 'Backport watcher support to zed release.\n\nBackport the watcher support to zed. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to specify jammy/kinetic support, fix\n  descriptions\n* Update src/test-requirments.yaml for stable/zed zaza branches\n* Update test bundles to use zed\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1178\nChange-Id: Ie9ae372b63d17c7b9087ebd7674fa58e7bc8f634\n'}, {'number': 2, 'created': '2024-01-06 02:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/666851b04a0b5c730dfdadd7d070cd3a4c408d4d', 'message': 'Backport watcher support to zed release.\n\nBackport the watcher support to zed. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to specify jammy/kinetic support, fix\n  descriptions\n* Update src/test-requirments.yaml for stable/zed zaza branches\n* Update test bundles to use zed\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1178\nChange-Id: Ie9ae372b63d17c7b9087ebd7674fa58e7bc8f634\n'}, {'number': 3, 'created': '2024-02-17 00:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/1aa062bcb781248917daa5a2ce38651ffe62e7e8', 'message': 'Backport watcher support to zed release.\n\nBackport the watcher support to zed. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to specify jammy/kinetic support, fix\n  descriptions\n* Update src/test-requirments.yaml for stable/zed zaza branches\n* Update test bundles to use zed\n* Add override to specify the common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1178\nChange-Id: Ie9ae372b63d17c7b9087ebd7674fa58e7bc8f634\n'}, {'number': 4, 'created': '2024-03-26 19:27:42.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', '.gitreview', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/3610c78b464d37d03497043056e1106a154f6d91', 'message': 'Backport watcher support to zed release.\n\nBackport the watcher support to zed. This involves the following:\n\n* Update .gitreview file\n* Update osci jobs in osci.yaml\n* Update src/metadata.yaml to specify jammy/kinetic support, fix\n  descriptions\n* Update src/test-requirments.yaml for stable/zed zaza branches\n* Update test bundles to use zed\n* Add override to specify the common cpu-model for migrations\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1178\nChange-Id: Ie9ae372b63d17c7b9087ebd7674fa58e7bc8f634\n'}]",5,904879,3610c78b464d37d03497043056e1106a154f6d91,25,3,4,8992,,,0,"Backport watcher support to zed release.

Backport the watcher support to zed. This involves the following:

* Update .gitreview file
* Update osci jobs in osci.yaml
* Update src/metadata.yaml to specify jammy/kinetic support, fix
  descriptions
* Update src/test-requirments.yaml for stable/zed zaza branches
* Update test bundles to use zed
* Add override to specify the common cpu-model for migrations

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1178
Change-Id: Ie9ae372b63d17c7b9087ebd7674fa58e7bc8f634
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/79/904879/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/jammy-bobcat.yaml', 'src/tests/bundles/jammy-yoga.yaml', '.gitreview', 'charmcraft.yaml', 'src/tests/bundles/mantic-bobcat.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml']",10,8750ae8a64aa0103454c51f164cb5574d4c40f1f,zed-backport,series: &series kinetic channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 3.9/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: 1.8/edge channel: 22.09/edge channel: 22.09/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: zed/edge channel: quincy/edge channel: quincy/edge,series: &series lunar channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,63,639
openstack%2Fkeystone~885463,openstack/keystone,master,I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48,sql: Fixup for invalid unique constraint on external_id in access_rule table,MERGED,2023-06-07 13:00:59.000000000,2024-04-03 17:06:23.000000000,2024-04-03 16:52:44.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 13252}, {'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-07 13:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4c54243a989d68bd624cac2a2cc1c934ed8d0c76', 'message': 'db: Drop redundant index on application_credentials table\n\n * There already exists a unique constraint on the external_id, making\n   an additional index redundant.\n\nCloses-Bug: #1988297\nChange-Id: I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48\n'}, {'number': 2, 'created': '2023-09-06 13:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2a0d76ee1eda64c01fae750b2df787ae2585d6a9', 'message': 'db: Drop redundant index on application_credentials table\n\n * There already exists a unique constraint on the external_id, making\n   an additional index redundant.\n\nCloses-Bug: #1988297\nChange-Id: I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48\n'}, {'number': 3, 'created': '2024-02-19 14:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/694a2afd86348331facfd27bc287a54d61ce170d', 'message': 'sql: Fixup for invalid unique constraint on external_id in access_rule table\n\nThere was a big drop of invalid constraints with [1]. One of them was on\n`external_id` in the access_rule table.\n\nWhile the change made it into a Alembic revision with [1], it still exists in\nthe schema causing an a new Alembic autogeneration to actually add it again as\na revision.\n\n[1] https://review.opendev.org/c/openstack/keystone/+/851845\n[2] https://opendev.org/openstack/keystone/commit/7d169870fe418b9aa5765dc2f413ecdf9c8f1d48#diff-26484e3f6683ce7557e17b67220003784ff84fbe\n\nCloses-Bug: #1988297\nChange-Id: I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48\n'}, {'number': 4, 'created': '2024-02-23 08:26:20.000000000', 'files': ['keystone/application_credential/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/90dcff07c03ee60227b01f47d67fe9e5b1629593', 'message': 'sql: Fixup for invalid unique constraint on external_id in access_rule table\n\nThere was a big drop of invalid constraints with [1]. One of them was on\n`external_id` in the access_rule table.\n\nWhile the change made it into a Alembic revision with [2], it still exists in\nthe schema causing an a new Alembic autogeneration to actually add it again as\na revision.\n\n[1] https://review.opendev.org/c/openstack/keystone/+/851845\n[2] https://opendev.org/openstack/keystone/commit/7d169870fe418b9aa5765dc2f413ecdf9c8f1d48#diff-26484e3f6683ce7557e17b67220003784ff84fbe\n\nCloses-Bug: #1988297\nChange-Id: I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48\n'}]",16,885463,90dcff07c03ee60227b01f47d67fe9e5b1629593,41,9,4,32755,,,0,"sql: Fixup for invalid unique constraint on external_id in access_rule table

There was a big drop of invalid constraints with [1]. One of them was on
`external_id` in the access_rule table.

While the change made it into a Alembic revision with [2], it still exists in
the schema causing an a new Alembic autogeneration to actually add it again as
a revision.

[1] https://review.opendev.org/c/openstack/keystone/+/851845
[2] https://opendev.org/openstack/keystone/commit/7d169870fe418b9aa5765dc2f413ecdf9c8f1d48#diff-26484e3f6683ce7557e17b67220003784ff84fbe

Closes-Bug: #1988297
Change-Id: I66626ba8771ef2aa8b3580fd3f5d15fd4b58ab48
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/885463/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/application_credential/backends/sql.py'],1,4c54243a989d68bd624cac2a2cc1c934ed8d0c76,acidxdrop," external_id = sql.Column(sql.String(64), unique=True)"," external_id = sql.Column(sql.String(64), index=True, unique=True)",1,1
openstack%2Fosc-lib~914971,openstack/osc-lib,master,I9d29b00f334207777ee0427c261c5174460c3169,"Fix log level, remove unnecessary debug",NEW,2024-04-03 14:16:06.000000000,2024-04-03 17:03:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2024-04-03 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/615c0e763bdc13ce08a8a2f7008e2a81ebbfb1dc', 'message': 'Fix log level, remove unnecessary debug\n\nThis message is a clear debug information but it was printed even\nwithout --debug flag, this becomes a problem when user specified:\n""--format json"" option and pass the output to other process.\n\nChange-Id: I9d29b00f334207777ee0427c261c5174460c3169\n'}, {'number': 2, 'created': '2024-04-03 14:28:35.000000000', 'files': ['osc_lib/shell.py', 'osc_lib/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/92169c4398363169fdb675294cedf6ee4a49107e', 'message': 'Fix log level, remove unnecessary debug\n\nThese messages are clear debug information but these were printed\neven without --debug flag, this becomes a problem when user specified:\n""--format json"" option and pass the output to other process.\n\nChange-Id: I9d29b00f334207777ee0427c261c5174460c3169\n'}]",0,914971,92169c4398363169fdb675294cedf6ee4a49107e,3,1,2,11444,,,0,"Fix log level, remove unnecessary debug

These messages are clear debug information but these were printed
even without --debug flag, this becomes a problem when user specified:
""--format json"" option and pass the output to other process.

Change-Id: I9d29b00f334207777ee0427c261c5174460c3169
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/71/914971/1 && git format-patch -1 --stdout FETCH_HEAD,['osc_lib/shell.py'],1,615c0e763bdc13ce08a8a2f7008e2a81ebbfb1dc,, self.log.debug(, self.log.info(,1,1
openstack%2Fsecurity-doc~914959,openstack/security-doc,master,I7ab53f42a1b7a4e83ab84c8762ae0b1daee025c5,Updated from openstack-manuals,MERGED,2024-04-03 12:40:00.000000000,2024-04-03 16:21:14.000000000,2024-04-03 16:12:52.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 12:40:00.000000000', 'files': ['common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/8b58d4427f6f325aa06f9292fd0eeec7802567f2', 'message': 'Updated from openstack-manuals\n\nChange-Id: I7ab53f42a1b7a4e83ab84c8762ae0b1daee025c5\n'}]",0,914959,8b58d4427f6f325aa06f9292fd0eeec7802567f2,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I7ab53f42a1b7a4e83ab84c8762ae0b1daee025c5
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/59/914959/1 && git format-patch -1 --stdout FETCH_HEAD,['common/glossary.rst'],1,8b58d4427f6f325aa06f9292fd0eeec7802567f2,openstack/openstack-manuals," 2024.1 Caracal, 2024.2 Dalmatian.", 2024.1 Caracal.,1,1
openstack%2Foperations-guide~914961,openstack/operations-guide,master,Ied372b07d01b952eb47451b96989a39cf73049e0,Updated from openstack-manuals,MERGED,2024-04-03 12:40:07.000000000,2024-04-03 16:04:03.000000000,2024-04-03 15:53:21.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-04-03 12:40:07.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/03a366467ad8cae9d1b05dc5c29c9c61faaa5ec9', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ied372b07d01b952eb47451b96989a39cf73049e0\n'}]",0,914961,03a366467ad8cae9d1b05dc5c29c9c61faaa5ec9,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ied372b07d01b952eb47451b96989a39cf73049e0
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/61/914961/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,03a366467ad8cae9d1b05dc5c29c9c61faaa5ec9,openstack/openstack-manuals," 2024.1 Caracal, 2024.2 Dalmatian.", 2024.1 Caracal.,1,1
openstack%2Fopenstack-helm-infra~914973,openstack/openstack-helm-infra,master,I7c993eaf1491755847447b7e637cdd6506dfffe7,Fix deployment failures when no k8s_control_plane group exists,ABANDONED,2024-04-03 14:19:33.000000000,2024-04-03 15:51:04.000000000,,[],"[{'number': 1, 'created': '2024-04-03 14:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b6e23fcc88759dbcd419be7f3d08a1141e80e05', 'message': ""Fix a deployment failure when no k8s_control_plane group exists\n\nThe client-to-cluster tunnel tasks fail when no k8s_control_plane\ngroup exists because the condition for those tasks doesn't include\na default empty group when k8s_control_plane doesn't exist as is\nincluded in other tasks with similar conditions. This change adds\nthe default condition.\n\nChange-Id: I7c993eaf1491755847447b7e637cdd6506dfffe7\n""}, {'number': 2, 'created': '2024-04-03 14:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca8d941456495030465672a65967fe6c0cce9d6e', 'message': ""Fix deployment failures when no k8s_control_plane group exists\n\nThe client-to-cluster tunnel tasks fail when no k8s_control_plane\ngroup exists because some of the conditions for those tasks don't\ninclude a default empty group when k8s_control_plane doesn't exist\nas is included in other tasks with similar conditions. This change\nadds the default condition.\n\nChange-Id: I7c993eaf1491755847447b7e637cdd6506dfffe7\n""}, {'number': 3, 'created': '2024-04-03 14:33:42.000000000', 'files': ['roles/deploy-env/tasks/client_cluster_tunnel.yaml', 'roles/deploy-env/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af177b56de810e6587b66011c218f21cd9a22f62', 'message': ""Fix deployment failures when no k8s_control_plane group exists\n\nThe client-to-cluster tunnel tasks fail when no k8s_control_plane\ngroup exists because some of the conditions for those tasks don't\ninclude a default empty group when k8s_control_plane doesn't exist\nas is included in other tasks with similar conditions. This change\nadds the default condition.\n\nChange-Id: I7c993eaf1491755847447b7e637cdd6506dfffe7\n""}]",1,914973,af177b56de810e6587b66011c218f21cd9a22f62,5,0,3,29974,,,0,"Fix deployment failures when no k8s_control_plane group exists

The client-to-cluster tunnel tasks fail when no k8s_control_plane
group exists because some of the conditions for those tasks don't
include a default empty group when k8s_control_plane doesn't exist
as is included in other tasks with similar conditions. This change
adds the default condition.

Change-Id: I7c993eaf1491755847447b7e637cdd6506dfffe7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/914973/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/deploy-env/tasks/main.yaml'],1,8b6e23fcc88759dbcd419be7f3d08a1141e80e05,, when: (groups['primary'] | difference(groups['k8s_control_plane'] | default([])) | length > 0), when: (groups['primary'] | difference(groups['k8s_control_plane']) | length > 0),1,1
openstack%2Fcharm-mysql-router~914647,openstack/charm-mysql-router,master,Iccad91c7097b41b2156c57ce47d83d5cce432188,Drop Ubuntu bases 23.04 and 23.10,MERGED,2024-03-28 14:16:09.000000000,2024-04-03 15:46:16.000000000,2024-04-03 15:46:16.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-28 14:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/ee07868da3fdd02d1930b647345ea1949098192f', 'message': ""Drop Ubuntu bases 23.04 and 23.10\n\nThese bases are being EOL'ed, there are already charms published that\ncan be used to deploy if there is a need.\n\nChange-Id: Iccad91c7097b41b2156c57ce47d83d5cce432188\n""}, {'number': 2, 'created': '2024-03-28 14:36:16.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/46c5d68b7256cd4f9416cc5578a77205da0be493', 'message': ""Drop Ubuntu bases 23.04 and 23.10\n\nThese bases are being EOL'ed, there are already charms published that\ncan be used to deploy if there is a need.\n\nChange-Id: Iccad91c7097b41b2156c57ce47d83d5cce432188\n""}]",1,914647,46c5d68b7256cd4f9416cc5578a77205da0be493,10,4,2,2424,,,0,"Drop Ubuntu bases 23.04 and 23.10

These bases are being EOL'ed, there are already charms published that
can be used to deploy if there is a need.

Change-Id: Iccad91c7097b41b2156c57ce47d83d5cce432188
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/47/914647/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,ee07868da3fdd02d1930b647345ea1949098192f,update-bases,," - name: ubuntu channel: ""23.04"" architectures: [amd64, s390x, ppc64el, arm64] - name: ubuntu channel: ""23.10"" architectures: [amd64, s390x, ppc64el, arm64]",0,6
openstack%2Fcharm-mysql-router~913729,openstack/charm-mysql-router,master,Ibfd2718d94f2270a32f97d9c7d19cec8ee988b52,Fixing charm-tools version,MERGED,2024-03-20 00:52:35.000000000,2024-04-03 15:46:15.000000000,2024-04-03 15:46:15.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2024-03-20 00:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/e950848535d82f364032b9ff2785d6f672d36305', 'message': 'Fixing charm-tools version\n\nunpin charm-tools version as later version has fix for below discussion\n\nhttps: //github.com/juju/charm-tools/issues/668\nChange-Id: Ibfd2718d94f2270a32f97d9c7d19cec8ee988b52\n'}, {'number': 2, 'created': '2024-03-28 14:36:16.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/13b3d7a9bcdc3b51f6e28a3d4d1a81d5cfb572ce', 'message': 'Fixing charm-tools version\n\nunpin charm-tools version as later version has fix for below discussion\n\nhttps: //github.com/juju/charm-tools/issues/668\nChange-Id: Ibfd2718d94f2270a32f97d9c7d19cec8ee988b52\n'}]",1,913729,13b3d7a9bcdc3b51f6e28a3d4d1a81d5cfb572ce,10,4,2,5112,,,0,"Fixing charm-tools version

unpin charm-tools version as later version has fix for below discussion

https: //github.com/juju/charm-tools/issues/668
Change-Id: Ibfd2718d94f2270a32f97d9c7d19cec8ee988b52
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/29/913729/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e950848535d82f364032b9ff2785d6f672d36305,update-bases,charm-tools<3.0.0; python_version < '3.10',charm-tools==2.8.5; python_version < '3.10',1,1
openstack%2Foslo.log~914788,openstack/oslo.log,master,If776fee0072d95737e1c19ad673a3c881a89de06,Deprecate watch_log_file,MERGED,2024-03-30 16:03:19.000000000,2024-04-03 15:28:30.000000000,2024-04-03 14:59:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2024-03-30 16:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/fbc7bf22bce33443168e940628f577041dda33b1', 'message': ""Deprecate watch_log_file\n\nThere is a known issue reported some time ago[1] but it hasn't been\nfixed.\n\nThe pyinotify package used hasn't been updated for 9 years and looks\nbadly unmaintained.\n\nRelated-Bug: #1740111\nChange-Id: If776fee0072d95737e1c19ad673a3c881a89de06\n""}, {'number': 2, 'created': '2024-03-30 16:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/992a76cf9e97e65fcbf62e72cbd57c7915f04cd9', 'message': ""Deprecate watch_log_file\n\nThere is a known issue reported some time ago[1] but it hasn't been\nfixed.\n\nThe pyinotify package used hasn't been updated for 9 years and looks\nbadly unmaintained.\n\nRelated-Bug: #1740111\nChange-Id: If776fee0072d95737e1c19ad673a3c881a89de06\n""}, {'number': 3, 'created': '2024-03-30 16:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8d09c67459694a81f78a0a64382d9bd87012ca44', 'message': ""Deprecate watch_log_file\n\nThis feature has been broken for some time without any actual update\nto fix it. Also the pyinotify package used hasn't been updated for 9\nyears and looks badly unmaintained.\n\nRelated-Bug: #1740111\nChange-Id: If776fee0072d95737e1c19ad673a3c881a89de06\n""}, {'number': 4, 'created': '2024-03-31 05:10:58.000000000', 'files': ['oslo_log/_options.py', 'releasenotes/notes/deprecate-watch-log-file-ba9524ae872e7c01.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/31603ac6dacd0b47ec9f02d99bfdd0a7b683119c', 'message': ""Deprecate watch_log_file\n\nThis feature has been broken for some time without any actual update\nto fix it. Also the pyinotify package used hasn't been updated for 9\nyears and looks badly unmaintained.\n\nRelated-Bug: #1740111\nRelated-Bug: #2059855\nChange-Id: If776fee0072d95737e1c19ad673a3c881a89de06\n""}]",1,914788,31603ac6dacd0b47ec9f02d99bfdd0a7b683119c,13,4,4,9816,,,0,"Deprecate watch_log_file

This feature has been broken for some time without any actual update
to fix it. Also the pyinotify package used hasn't been updated for 9
years and looks badly unmaintained.

Related-Bug: #1740111
Related-Bug: #2059855
Change-Id: If776fee0072d95737e1c19ad673a3c881a89de06
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/88/914788/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/_options.py', 'releasenotes/notes/deprecate-watch-log-file-ba9524ae872e7c01.yaml']",2,fbc7bf22bce33443168e940628f577041dda33b1,,--- deprecations: - | The ``watch_log_file`` option has been deprecated and will be removed in a future release. ,,6,0
openstack%2Fkeystone~914520,openstack/keystone,master,Id789c09121f1405f7ba5e4926498dab4ad98e057,Allow admin to access tokens and credentials,MERGED,2024-03-27 14:04:11.000000000,2024-04-03 15:28:30.000000000,2024-04-03 14:59:44.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2024-03-27 14:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5849bf808b22c57e81c0da8fa121ddfd2c92c101', 'message': 'Allow admin to access tokens and credentials\n\nThis patch modifies a few policies to allow users with the ""admin"" role\nto access /v3/auth/tokens and /v3/credentials.  These policies were\nmissed when we implemented Phase 1 of Secure RBAC.\n\nChange-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057\n'}, {'number': 2, 'created': '2024-04-03 01:58:59.000000000', 'files': ['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/common/policies/application_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2', 'message': 'Allow admin to access tokens and credentials\n\nThis patch modifies a few policies to allow users with the ""admin"" role\nto access /v3/auth/tokens and /v3/credentials.  These policies were\nmissed when we implemented Phase 1 of Secure RBAC.\n\nChange-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057\n'}]",0,914520,b31007e1b2ecbea5e1268d3e28d6230d0f5d09b2,14,4,2,7973,,,0,"Allow admin to access tokens and credentials

This patch modifies a few policies to allow users with the ""admin"" role
to access /v3/auth/tokens and /v3/credentials.  These policies were
missed when we implemented Phase 1 of Secure RBAC.

Change-Id: Id789c09121f1405f7ba5e4926498dab4ad98e057
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/914520/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/protection/v3/test_credentials.py', 'keystone/common/policies/ec2_credential.py', 'keystone/tests/protection/v3/test_ec2_credential.py', 'keystone/common/policies/base.py', 'keystone/common/policies/token.py', 'keystone/common/policies/credential.py']",6,5849bf808b22c57e81c0da8fa121ddfd2c92c101,secure-rbac," check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_SYSTEM_READER_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER, check_str=base.ADMIN_OR_CRED_OWNER,"," check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_READER_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER, check_str=base.SYSTEM_ADMIN_OR_CRED_OWNER,",29,24
openstack%2Fopenstack-manuals~914603,openstack/openstack-manuals,master,I6aec79ea76cb544a064e0585d294476b79a2ac4f,[www] Set 2024.1 as released and setup 2024.2,MERGED,2024-03-28 07:01:39.000000000,2024-04-03 14:59:36.000000000,2024-04-03 14:23:55.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 15993}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2024-03-28 07:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fee5fd96b7451350291c0c26f65083970c491e08', 'message': '[www] Set 2024.1 as released\n\nUpdate 2024.1 series info in www-generator.py so that 2024.1 is marked\nas maintained, thus released.\n\nThis patch needs to be merged at release day, April 3rd.\n\nChange-Id: I6aec79ea76cb544a064e0585d294476b79a2ac4f\n'}, {'number': 2, 'created': '2024-03-28 16:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/db293c1ea2528688c1f19ef3fc32bc4632f5f0ce', 'message': '[www] Set 2024.1 as released\n\nUpdate 2024.1 series info in www-generator.py so that 2024.1 is marked\nas maintained, thus released.\n\nThis patch needs to be merged at release day, April 3rd.\n\nChange-Id: I6aec79ea76cb544a064e0585d294476b79a2ac4f\n'}, {'number': 3, 'created': '2024-04-02 12:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e4a01f3d4c05d7e429ae24322351e81d0b474c3d', 'message': '[www] Set 2024.1 as released\n\nUpdate 2024.1 series info in www-generator.py so that 2024.1 is marked\nas maintained, thus released.\n\nThis patch needs to be merged at release day, April 3rd.\n\nChange-Id: I6aec79ea76cb544a064e0585d294476b79a2ac4f\n'}, {'number': 4, 'created': '2024-04-03 07:32:51.000000000', 'files': ['www/2024.2/index.html', 'www/2024.2/admin/index.html', 'www/2024.2/api/index.html', 'www/2024.2/configuration/index.html', 'www/2024.2/install/index.html', 'www/2024.2/badge.html', 'www/2024.2/language-bindings.html', 'www/2024.2/projects.html', 'www/2024.2/user/index.html', 'tools/www-generator.py', 'www/2024.2/deploy/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3b9a71d52fe38da52cbabe8a3e3cc5c267aab45c', 'message': '[www] Set 2024.1 as released and setup 2024.2\n\nUpdate 2024.1 series info in www-generator.py so that 2024.1 is marked\nas maintained, thus released.\n\nAlso add default pages for next release, 2024.2 Dalmatian.\n\nThis patch needs to be merged at release day, April 3rd.\n\nChange-Id: I6aec79ea76cb544a064e0585d294476b79a2ac4f\n'}]",8,914603,3b9a71d52fe38da52cbabe8a3e3cc5c267aab45c,26,8,4,13252,,,0,"[www] Set 2024.1 as released and setup 2024.2

Update 2024.1 series info in www-generator.py so that 2024.1 is marked
as maintained, thus released.

Also add default pages for next release, 2024.2 Dalmatian.

This patch needs to be merged at release day, April 3rd.

Change-Id: I6aec79ea76cb544a064e0585d294476b79a2ac4f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/03/914603/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,fee5fd96b7451350291c0c26f65083970c491e08,www-2024.1-final," ('2024.1', SeriesInfo(date='April 2024', status='maintained')),"," ('2024.1', SeriesInfo(date='April 2024', status='development')),",1,1
openstack%2Fansible-collections-openstack~863498,openstack/ansible-collections-openstack,master,I70fc744f786a9de654592c97188af48ddbe8751d,"Refactored volume_snapshot{,_info} modules",MERGED,2022-11-03 10:30:22.000000000,2024-04-03 14:52:47.000000000,2022-11-08 20:11:20.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-11-03 10:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d83a830a044c939450cc680e1a4cfcad7de193ca', 'message': 'Refactored volume_snapshot{,_info} modules\n\nChange-Id: I70fc744f786a9de654592c97188af48ddbe8751d\n'}, {'number': 2, 'created': '2022-11-04 10:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fb1fa7786581ff7ef75087570511d483ec4b53a8', 'message': 'Refactored volume_snapshot{,_info} modules\n\nChange-Id: I70fc744f786a9de654592c97188af48ddbe8751d\n'}, {'number': 3, 'created': '2022-11-04 12:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1df8c3975e92f6ed1d0d7de90bdc8f605a848e51', 'message': 'Refactored volume_snapshot{,_info} modules\n\nChange-Id: I70fc744f786a9de654592c97188af48ddbe8751d\n'}, {'number': 4, 'created': '2022-11-04 19:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4b17cab7bb29c42643c355e66a808412c4ce40be', 'message': 'Refactored volume_snapshot{,_info} modules\n\nChange-Id: I70fc744f786a9de654592c97188af48ddbe8751d\n'}, {'number': 5, 'created': '2022-11-05 19:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f1e43fba3549fbefdf2702fc92047218f1aafa9f', 'message': 'Refactored volume_snapshot{,_info} modules\n\nChange-Id: I70fc744f786a9de654592c97188af48ddbe8751d\n'}, {'number': 6, 'created': '2022-11-08 12:49:11.000000000', 'files': ['ci/roles/volume_snapshot/defaults/main.yml', 'ci/roles/volume/tasks/main.yml', 'plugins/modules/volume_snapshot.py', 'plugins/modules/volume_snapshot_info.py', '.zuul.yaml', 'ci/roles/volume_snapshot/tasks/main.yml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b3c2e8f1ce9f04565ed7259cd966567d62c911af', 'message': 'Refactored volume_snapshot{,_info} modules\n\nChange-Id: I70fc744f786a9de654592c97188af48ddbe8751d\n'}]",8,863498,b3c2e8f1ce9f04565ed7259cd966567d62c911af,20,3,6,32962,,,0,"Refactored volume_snapshot{,_info} modules

Change-Id: I70fc744f786a9de654592c97188af48ddbe8751d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/98/863498/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/volume_snapshot/defaults/main.yml', 'ci/roles/volume/tasks/main.yml', 'plugins/modules/volume_snapshot.py', 'plugins/modules/volume_snapshot_info.py', '.zuul.yaml', 'ci/roles/volume_snapshot/tasks/main.yml', 'ci/run-collection.yml']",7,d83a830a044c939450cc680e1a4cfcad7de193ca,volume_snapshot," - { role: volume_snapshot, tags: volume_snapshot }",,326,197
