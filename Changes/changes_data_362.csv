id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,openstack/tripleo-heat-templates,stable/rocky,I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,Add internal keystone endpoint in octavia variables,MERGED,2019-08-06 08:05:15.000000000,2019-08-08 10:53:38.000000000,2019-08-08 10:53:38.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 08:05:15.000000000', 'files': ['docker/services/octavia/octavia-deployment-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de71fbfcaa9f6e0632d1704f4acfae756711906b', 'message': 'Add internal keystone endpoint in octavia variables\n\nAdded a new variable for using internal keystone endpoint in octavia\nansible playbooks when deploying and configuring octavia services.\n\nCloses-Bug: #1835171\nChange-Id: I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d\n(cherry picked from commit 92be0c603c90285528a703dc9028204e2b59b09f)\n(cherry picked from commit 1a74f7557ec159e9e844c7b5897aaf566a9b3a0c)\n'}]",0,674749,de71fbfcaa9f6e0632d1704f4acfae756711906b,7,3,1,29244,,,0,"Add internal keystone endpoint in octavia variables

Added a new variable for using internal keystone endpoint in octavia
ansible playbooks when deploying and configuring octavia services.

Closes-Bug: #1835171
Change-Id: I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d
(cherry picked from commit 92be0c603c90285528a703dc9028204e2b59b09f)
(cherry picked from commit 1a74f7557ec159e9e844c7b5897aaf566a9b3a0c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/674749/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia/octavia-deployment-config.yaml'],1,de71fbfcaa9f6e0632d1704f4acfae756711906b,bug/1835171," os_int_auth_url: { get_param: [EndpointMap, KeystoneInternal, uri] }",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,openstack/tripleo-heat-templates,stable/stein,I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d,Add internal keystone endpoint in octavia variables,MERGED,2019-08-06 08:04:08.000000000,2019-08-08 10:53:36.000000000,2019-08-08 10:53:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 08:04:08.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a74f7557ec159e9e844c7b5897aaf566a9b3a0c', 'message': 'Add internal keystone endpoint in octavia variables\n\nAdded a new variable for using internal keystone endpoint in octavia\nansible playbooks when deploying and configuring octavia services.\n\nCloses-Bug: #1835171\nChange-Id: I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d\n(cherry picked from commit 92be0c603c90285528a703dc9028204e2b59b09f)\n'}]",0,674747,1a74f7557ec159e9e844c7b5897aaf566a9b3a0c,7,3,1,29244,,,0,"Add internal keystone endpoint in octavia variables

Added a new variable for using internal keystone endpoint in octavia
ansible playbooks when deploying and configuring octavia services.

Closes-Bug: #1835171
Change-Id: I6f4abab5ea6963f6f5ac55e6b85bb80e1e68753d
(cherry picked from commit 92be0c603c90285528a703dc9028204e2b59b09f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/674747/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,1a74f7557ec159e9e844c7b5897aaf566a9b3a0c,bug/1835171," os_int_auth_url: { get_param: [EndpointMap, KeystoneInternal, uri] }",,1,0
openstack%2Fpython-tripleoclient~master~Ic3af7eb49ee6db5bc0ab10302c3f2a2c616db7b6,openstack/python-tripleoclient,master,Ic3af7eb49ee6db5bc0ab10302c3f2a2c616db7b6,Allows to disable in-flight validations,MERGED,2019-08-06 12:55:33.000000000,2019-08-08 10:53:35.000000000,2019-08-08 10:53:35.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-06 12:55:33.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32e53e60596094290298ffd9f9e6be754fd21825', 'message': 'Allows to disable in-flight validations\n\nUp to now, the in-flight validations were launched without any way to\ndeactivate them. This patch intends to change that fact.\n\nDepends-On: https://review.opendev.org/674801\nChange-Id: Ic3af7eb49ee6db5bc0ab10302c3f2a2c616db7b6\n'}]",0,674802,32e53e60596094290298ffd9f9e6be754fd21825,16,8,1,28223,,,0,"Allows to disable in-flight validations

Up to now, the in-flight validations were launched without any way to
deactivate them. This patch intends to change that fact.

Depends-On: https://review.opendev.org/674801
Change-Id: Ic3af7eb49ee6db5bc0ab10302c3f2a2c616db7b6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/674802/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",2,32e53e60596094290298ffd9f9e6be754fd21825,in-flight," disabled_val = parsed_args.disable_validations enable_val = parsed_args.run_validations deployment_options=deployment_options, in_flight_validations=(enable_val or not disabled_val))", deployment_options=deployment_options),13,2
openstack%2Fpython-tripleoclient~stable%2Frocky~I53eab2c41c80f5dafff9824bf3086e1d9a369e22,openstack/python-tripleoclient,stable/rocky,I53eab2c41c80f5dafff9824bf3086e1d9a369e22,Disable telemetry if it's not enabled,MERGED,2019-08-07 13:22:36.000000000,2019-08-08 10:53:33.000000000,2019-08-08 10:53:33.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-07 13:22:36.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2e0b581f728c4d744793e96bf85954fab98f75fa', 'message': ""Disable telemetry if it's not enabled\n\nThe disable-telemetry.yaml environment is used to disable all the\ntelemetry services and to disable the notification drivers. Since we\ndidn't have this by default, notifications were still being sent to\nthe undercloud rabbitmq and never consumed.\n\nConflicts:\n\ttripleoclient/tests/v1/undercloud/test_undercloud.py\n\nChange-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22\nCloses-Bug: #1838828\n(cherry picked from commit 0faa33a6b07f711054ebd8deeaad34a1704745b6)\n""}]",0,675116,2e0b581f728c4d744793e96bf85954fab98f75fa,8,3,1,14985,,,0,"Disable telemetry if it's not enabled

The disable-telemetry.yaml environment is used to disable all the
telemetry services and to disable the notification drivers. Since we
didn't have this by default, notifications were still being sent to
the undercloud rabbitmq and never consumed.

Conflicts:
	tripleoclient/tests/v1/undercloud/test_undercloud.py

Change-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22
Closes-Bug: #1838828
(cherry picked from commit 0faa33a6b07f711054ebd8deeaad34a1704745b6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/675116/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_undercloud.py', 'tripleoclient/v1/undercloud_config.py']",2,2e0b581f728c4d744793e96bf85954fab98f75fa,bug/1838828," else: deploy_args += ['-e', os.path.join( tht_templates, ""environments/disable-telemetry.yaml"")]",,25,0
openstack%2Fkolla-ansible~master~I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f,openstack/kolla-ansible,master,I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f,Add support for sha256 in ceph key distribution,MERGED,2019-04-26 09:18:01.000000000,2019-08-08 10:52:32.000000000,2019-08-08 10:52:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-04-26 09:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d377903be497d3819076c7160b19f3f6a47663a6', 'message': 'Add support for sha256 in ceph key distribution\n\n- add support for sha256 in bslurp module\n- change sha1 to sha256 in ceph-mon ansible role\n\nDepends-On: https://review.opendev.org/655623\nChange-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f\nCloses-Bug: #1826327\n'}, {'number': 2, 'created': '2019-04-26 10:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96cf9f1d304f96f29e72cc03ca8532ea1fc93640', 'message': 'Add support for sha256 in ceph key distribution\n\n- add support for sha256 in bslurp module\n- change sha1 to sha256 in ceph-mon ansible role\n\nDepends-On: https://review.opendev.org/655623\nChange-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f\nCloses-Bug: #1826327\n'}, {'number': 3, 'created': '2019-06-11 16:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be13f65443693fba0161f0d3a47e5f25e49116e8', 'message': 'Add support for sha256 in ceph key distribution\n\n- add support for sha256 in bslurp module\n- change sha1 to sha256 in ceph-mon ansible role\n\nDepends-On: https://review.opendev.org/655623\nChange-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f\nCloses-Bug: #1826327\n'}, {'number': 4, 'created': '2019-08-07 11:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/346de9c039062be27a5c20aaf4609520360705fc', 'message': 'Add support for sha256 in ceph key distribution\n\n- add support for sha256 in bslurp module\n- change sha1 to sha256 in ceph-mon ansible role\n\nDepends-On: https://review.opendev.org/655623\nChange-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f\nCloses-Bug: #1826327\n'}, {'number': 5, 'created': '2019-08-07 11:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbf4d790cc692c65dc59626ac4288a7364be4cd8', 'message': 'Add support for sha256 in ceph key distribution\n\n- add support for sha256 in bslurp module\n- change sha1 to sha256 in ceph-mon ansible role\n\nDepends-On: https://review.opendev.org/655623\nChange-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f\nCloses-Bug: #1826327\n'}, {'number': 6, 'created': '2019-08-07 11:57:50.000000000', 'files': ['ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/library/bslurp.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad9e8786a3823895624e892c6a233d16d530d830', 'message': 'Add support for sha256 in ceph key distribution\n\n- add support for sha256 in bslurp module\n- change sha1 to sha256 in ceph-mon ansible role\n\nDepends-On: https://review.opendev.org/655623\nChange-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f\nCloses-Bug: #1826327\n'}]",7,655845,ad9e8786a3823895624e892c6a233d16d530d830,22,5,6,22629,,,0,"Add support for sha256 in ceph key distribution

- add support for sha256 in bslurp module
- change sha1 to sha256 in ceph-mon ansible role

Depends-On: https://review.opendev.org/655623
Change-Id: I25e28d150f2a8d4a7f87bb119d9fb1c46cfe926f
Closes-Bug: #1826327
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/655845/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/library/bslurp.py']",2,d377903be497d3819076c7160b19f3f6a47663a6,bug/1826327," sha256: description: - sha256 hash of the underlying data default: None type: bool sha256 = hashlib.sha256(raw_data).hexdigest() module.exit_json(content=base64.b64encode(data), sha1=sha1, sha256=sha256, mode=mode, source=src) sha256 = module.params.get('sha256') if sha256: if os.path.exists(dest): if os.access(dest, os.R_OK): with open(dest, 'rb') as f: if hashlib.sha256(f.read()).hexdigest() == sha256: module.exit_json(changed=False) else: module.exit_json(failed=True, changed=False, msg='file is not accessible: {}'.format(dest)) if sha256 != hashlib.sha256(raw_data).hexdigest(): module.exit_json(failed=True, changed=False, msg='sha256 sum does not match data') "," module.exit_json(content=base64.b64encode(data), sha1=sha1, mode=mode, source=src)",29,7
openstack%2Fos-vif~master~I95612352de6cdb47de98eb80c208dd1a74499d41,openstack/os-vif,master,I95612352de6cdb47de98eb80c208dd1a74499d41,only disable mac ageing for ovs hybrid plug,MERGED,2019-07-25 22:22:41.000000000,2019-08-08 10:50:10.000000000,2019-08-08 10:50:10.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-07-25 22:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f13acabef2fb1601695c48953b64cb6b8a869698', 'message': 'only disable mac ageing for ovs hybrid plug\n\nThis change mac configuring mac ageing on linuxbridges\ncondtional and caller controlled. By default mac ageing\nis unspecified and will use the kernels default of 300\nseconds. For ovs with hybrid plug we override this to\n0 to prevent packet loss issue during some migration\nedgecases. This change reverts the disabling mac\nageing for the linux brige plugin which was accidentally\nintoduced during the brctl removal via inheriting the\novs plugins default behavior when the bridge create code\nbecame shared.\n\nChange-Id: I95612352de6cdb47de98eb80c208dd1a74499d41\nCloses-bug: #1837252\n'}, {'number': 2, 'created': '2019-07-26 10:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e8cb45bebc8fb2fb7e33412a352de1674ce307bf', 'message': 'only disable mac ageing for ovs hybrid plug\n\nThis change mac configuring mac ageing on linuxbridges\ncondtional and caller controlled. By default mac ageing\nis unspecified and will use the kernels default of 300\nseconds. For ovs with hybrid plug we override this to\n0 to prevent packet loss issue during some migration\nedgecases. This change reverts the disabling mac\nageing for the linux brige plugin which was accidentally\nintoduced during the brctl removal via inheriting the\novs plugins default behavior when the bridge create code\nbecame shared.\n\nChange-Id: I95612352de6cdb47de98eb80c208dd1a74499d41\nCloses-bug: #1837252\n'}, {'number': 3, 'created': '2019-08-07 18:03:03.000000000', 'files': ['os_vif/internal/ip/ip_command.py', 'releasenotes/notes/do-not-force-mac-ageing-c6e8d750130c5740.yaml', 'os_vif/internal/ip/linux/impl_pyroute2.py', 'vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py', 'os_vif/tests/unit/internal/ip/linux/test_impl_pyroute2.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/655c83d706f5de8a8cf23430782e065219297aef', 'message': ""only disable mac ageing for ovs hybrid plug\n\nThe mac ageing configuration on linux bridges is now\nconditional and caller controlled. By default mac ageing\nis unspecified and will use the kernel's default of 300\nseconds. For ovs with hybrid plug we override this to\n0 to prevent packet loss issue during some migration\nedgecases. This change reverts disabling mac ageing\nfor the linux bridge plugin which was accidentally\nintroduced during the brctl removal via inheriting the\novs plugin's default behavior when the bridge create\ncode became shared.\n\nChange-Id: I95612352de6cdb47de98eb80c208dd1a74499d41\nCloses-bug: #1837252\n""}]",35,672834,655c83d706f5de8a8cf23430782e065219297aef,15,4,3,11604,,,0,"only disable mac ageing for ovs hybrid plug

The mac ageing configuration on linux bridges is now
conditional and caller controlled. By default mac ageing
is unspecified and will use the kernel's default of 300
seconds. For ovs with hybrid plug we override this to
0 to prevent packet loss issue during some migration
edgecases. This change reverts disabling mac ageing
for the linux bridge plugin which was accidentally
introduced during the brctl removal via inheriting the
ovs plugin's default behavior when the bridge create
code became shared.

Change-Id: I95612352de6cdb47de98eb80c208dd1a74499d41
Closes-bug: #1837252
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/34/672834/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_vif/internal/ip/ip_command.py', 'releasenotes/notes/do-not-force-mac-ageing-c6e8d750130c5740.yaml', 'os_vif/internal/ip/linux/impl_pyroute2.py', 'vif_plug_ovs/linux_net.py', 'os_vif/tests/unit/internal/ip/linux/test_impl_pyroute2.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",6,f13acabef2fb1601695c48953b64cb6b8a869698,bug/1837252," mock_add.assert_called_once_with(""br0"", ""bridge"", ageing=0)"," mock_add.assert_called_once_with(""br0"", ""bridge"")",40,7
openstack%2Fpython-tripleoclient~stable%2Fstein~I53eab2c41c80f5dafff9824bf3086e1d9a369e22,openstack/python-tripleoclient,stable/stein,I53eab2c41c80f5dafff9824bf3086e1d9a369e22,Disable telemetry if it's not enabled,MERGED,2019-08-07 13:11:13.000000000,2019-08-08 10:38:28.000000000,2019-08-08 10:38:27.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-08-07 13:11:13.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5edfc3aeab96958cc7e5bac2184dd24a3aed037', 'message': ""Disable telemetry if it's not enabled\n\nThe disable-telemetry.yaml environment is used to disable all the\ntelemetry services and to disable the notification drivers. Since we\ndidn't have this by default, notifications were still being sent to\nthe undercloud rabbitmq and never consumed.\n\nConflicts:\n\ttripleoclient/tests/v1/undercloud/test_install_upgrade.py\n\nChange-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22\nCloses-Bug: #1838828\n(cherry picked from commit 0faa33a6b07f711054ebd8deeaad34a1704745b6)\n""}]",0,675114,d5edfc3aeab96958cc7e5bac2184dd24a3aed037,9,4,1,14985,,,0,"Disable telemetry if it's not enabled

The disable-telemetry.yaml environment is used to disable all the
telemetry services and to disable the notification drivers. Since we
didn't have this by default, notifications were still being sent to
the undercloud rabbitmq and never consumed.

Conflicts:
	tripleoclient/tests/v1/undercloud/test_install_upgrade.py

Change-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22
Closes-Bug: #1838828
(cherry picked from commit 0faa33a6b07f711054ebd8deeaad34a1704745b6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/675114/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,d5edfc3aeab96958cc7e5bac2184dd24a3aed037,bug/1838828," 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' '/usertht/environments/disable-telemetry.yaml', '-e', 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/'",,24,0
openstack%2Fmurano~master~Id21850ce27f596d7bacc54fdccbaca766b40b568,openstack/murano,master,Id21850ce27f596d7bacc54fdccbaca766b40b568,Fix IPV6 rabbit host,MERGED,2019-07-31 08:02:23.000000000,2019-08-08 10:26:53.000000000,2019-08-08 10:26:53.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 08:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/7af1be9bdcf502a96ee3ff2d76783616ca7e7053', 'message': 'Fix IPV6\n\nDepends-On: https://review.opendev.org/#/c/673291\nChange-Id: Id21850ce27f596d7bacc54fdccbaca766b40b568\n'}, {'number': 2, 'created': '2019-07-31 09:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/5ec34722ee805024941d4e34634d1ebdf5275407', 'message': 'Fix IPV6\n\nDepends-On: https://review.opendev.org/#/c/673291\nDepends-On: https://review.opendev.org/#/c/673777\nChange-Id: Id21850ce27f596d7bacc54fdccbaca766b40b568\n'}, {'number': 3, 'created': '2019-08-08 01:24:04.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/murano/commit/9c7fa9048c51c81e7135429bd0f3d49b55b07263', 'message': 'Fix IPV6 rabbit host\n\nChange-Id: Id21850ce27f596d7bacc54fdccbaca766b40b568\n'}]",0,673751,9c7fa9048c51c81e7135429bd0f3d49b55b07263,14,2,3,14107,,,0,"Fix IPV6 rabbit host

Change-Id: Id21850ce27f596d7bacc54fdccbaca766b40b568
",git fetch https://review.opendev.org/openstack/murano refs/changes/51/673751/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,7af1be9bdcf502a96ee3ff2d76783616ca7e7053,," if [[ $SERVICE_IP_VERSION == 6 ]]; then iniset $MURANO_CONF_FILE rabbitmq host ""$HOST_IPV6"" else iniset $MURANO_CONF_FILE rabbitmq host ""$HOST_IP"" fi", iniset $MURANO_CONF_FILE rabbitmq host $RABBIT_HOST,5,1
openstack%2Fcharm-keystone~master~I67cec15f3590ac6c7efb0686c81b8dcb5f150dbd,openstack/charm-keystone,master,I67cec15f3590ac6c7efb0686c81b8dcb5f150dbd,I changed a readme ending.,ABANDONED,2019-08-08 09:16:35.000000000,2019-08-08 10:23:11.000000000,,"[{'_account_id': 10068}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-08 09:16:35.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/13f52fc96b13c49672b77ccc716d06735a558720', 'message': 'I changed a readme ending.\n\nChange-Id: I67cec15f3590ac6c7efb0686c81b8dcb5f150dbd\n'}]",1,675277,13f52fc96b13c49672b77ccc716d06735a558720,6,4,1,30796,,,0,"I changed a readme ending.

Change-Id: I67cec15f3590ac6c7efb0686c81b8dcb5f150dbd
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/77/675277/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,13f52fc96b13c49672b77ccc716d06735a558720,trial_change_branch, ### Some changes Are about to be made.,,3,0
openstack%2Frally~master~I6f5e97fcdc2309550f693670ffb1aba8026563d8,openstack/rally,master,I6f5e97fcdc2309550f693670ffb1aba8026563d8,Add openstack-ansible deployment engine,ABANDONED,2015-07-20 04:37:18.000000000,2019-08-08 10:22:08.000000000,,"[{'_account_id': 7353}, {'_account_id': 11279}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-07-20 04:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6341273fa583754ddff73307c739f6cb3f339962', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment (OSAD).\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 2, 'created': '2015-07-20 04:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c57fc297e6a215fe77b38afc7e19ff78eb9323f5', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment (OSAD).\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 3, 'created': '2015-07-22 03:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/64bbab8aa593be6f9ddae4b596e4e7ba534e897f', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment (OSAD).\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 4, 'created': '2015-07-23 00:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c72eed01c45d2dece5c5bf890d683b97e017705f', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment (OSAD).\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 5, 'created': '2015-08-13 00:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1e1ba8427d33b42571100215c0f06a57015c07ac', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment (OSAD).\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 6, 'created': '2015-08-17 03:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ec6b6a0c4a7126ee0ca6d0690b09507606394f84', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment (OSAD).\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 7, 'created': '2015-08-19 02:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ed9d085d825bd9bde973d8e6e7166b9f426b2ad2', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment (OSAD).\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 8, 'created': '2015-09-01 07:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a3ae916551a78ed311f69c66e9a02d2bb530dd86', 'message': 'Add os-ansible-deployment deployment engine\n\nThis change adds a new deployment engine that uses\nos-ansible-deployment.\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}, {'number': 9, 'created': '2016-03-01 06:21:21.000000000', 'files': ['samples/deployments/for_deploying_openstack_with_rally/osa-in-openstack.rst', 'rally/deployment/engines/openstack_ansible.py', 'tests/unit/deployment/engines/test_openstack_ansible.py', 'samples/deployments/for_deploying_openstack_with_rally/osa-in-openstack.json', 'samples/deployments/for_deploying_openstack_with_rally/osa-aio.json'], 'web_link': 'https://opendev.org/openstack/rally/commit/def28f753830c06b99db9012b4f7ecd5dc63a200', 'message': 'Add openstack-ansible deployment engine\n\nThis change adds a new deployment engine that uses\nopenstack-ansible.\n\nIncludes two sample deployments: multinode and all-in-one.\n\nChange-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8\n'}]",8,203482,def28f753830c06b99db9012b4f7ecd5dc63a200,31,3,9,11279,,,0,"Add openstack-ansible deployment engine

This change adds a new deployment engine that uses
openstack-ansible.

Includes two sample deployments: multinode and all-in-one.

Change-Id: I6f5e97fcdc2309550f693670ffb1aba8026563d8
",git fetch https://review.opendev.org/openstack/rally refs/changes/82/203482/8 && git format-patch -1 --stdout FETCH_HEAD,"['rally/deployment/engines/osad.py', 'tests/unit/deployment/engines/test_osad.py', 'samples/deployments/for_deploying_openstack_with_rally/osad-aio.json', 'samples/deployments/for_deploying_openstack_with_rally/osad-in-openstack.json', 'samples/deployments/for_deploying_openstack_with_rally/osad-in-openstack.rst']",5,6341273fa583754ddff73307c739f6cb3f339962,openstack-region,"OsadEngine using OpenStackProvider ================================== This example creates 5 (provider.amount) VMs and deploys OpenStack with the first 3 (num_infra_hosts) as control nodes and the remaining 2 as compute nodes. os-ansible-deployment (OSAD) assumes certain network bridges are already suitably configured for the environment. These bridges are by default named: br-mgmt, br-vxlan, br-vlan, br-storage. An interface added to (eg) br-mgmt on one host needs to be reachable from another interface on br-mgmt on a different host. All except br-vlan need to be routable from at least the OSAD server (first host when using OsadEngine). Many alternatives are available, but this example configures each bridge with its own VXLAN interface, using eth0 as the real underlying network. Unique addresses for each host are generated by assuming each VM hostname has a unique numeric suffix (as they do with OpenStackProvider), and the numeric suffix is combined with hard-coded subnet prefixes. Routes from the host to each VXLAN overlay network are added using these unique addresses. Note these host-unique addresses are marked as reserved in ""used_ips"", which prevents OSAD from also using them as container IPs. ",,624,0
openstack%2Fmagnum~master~I4bab333c97c94610cad95f06932266f243392726,openstack/magnum,master,I4bab333c97c94610cad95f06932266f243392726,Update links in README,ABANDONED,2018-08-18 20:18:31.000000000,2019-08-08 10:20:51.000000000,,"[{'_account_id': 17130}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-18 20:18:31.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/35fc37a30693071ac9abeb55d61f38d2683cbb05', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: I4bab333c97c94610cad95f06932266f243392726\n'}]",0,593351,35fc37a30693071ac9abeb55d61f38d2683cbb05,6,3,1,17130,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: I4bab333c97c94610cad95f06932266f243392726
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/593351/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,35fc37a30693071ac9abeb55d61f38d2683cbb05,readme,.. image:: https://governance.openstack.org/tc/badges/magnum.svg :target: https://governance.openstack.org/tc/reference/tags/index.html* **Source:** https://git.openstack.org/cgit/openstack/magnum* **Bugs:** https://bugs.launchpad.net/magnum,.. image:: https://governance.openstack.org/badges/magnum.svg :target: https://governance.openstack.org/reference/tags/index.html* **Source:** http://git.openstack.org/cgit/openstack/magnum* **Bugs:** http://bugs.launchpad.net/magnum,4,4
openstack%2Fironic-prometheus-exporter~master~I3be63badc93514b771470fb41bf8953e2614e0c2,openstack/ironic-prometheus-exporter,master,I3be63badc93514b771470fb41bf8953e2614e0c2,Release note for ipmi Voltage metrics,MERGED,2019-08-06 14:58:17.000000000,2019-08-08 09:51:32.000000000,2019-08-08 09:51:32.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-06 14:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/a391d158b68aab2598ec3ede64a600a0307f5370', 'message': 'Release note for ipmi Voltage metrics\n\nChange-Id: I3be63badc93514b771470fb41bf8953e2614e0c2\n'}, {'number': 2, 'created': '2019-08-07 10:36:17.000000000', 'files': ['releasenotes/notes/ipmi-voltage-debd12bb6cf6c97d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/ced215379e00e9d9285c891e60ca5dc11c6b581d', 'message': 'Release note for ipmi Voltage metrics\n\nChange-Id: I3be63badc93514b771470fb41bf8953e2614e0c2\n'}]",1,674823,ced215379e00e9d9285c891e60ca5dc11c6b581d,10,3,2,15519,,,0,"Release note for ipmi Voltage metrics

Change-Id: I3be63badc93514b771470fb41bf8953e2614e0c2
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/23/674823/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ipmi-voltage-debd12bb6cf6c97d.yaml'],1,a391d158b68aab2598ec3ede64a600a0307f5370,releasenote_voltage,--- features: - | Add support to parse the ipmi metrics based on the `Voltage` payload. ,,4,0
openstack%2Freleases~master~I0fb852f85e435c1ec53b4e250255534c708eab0b,openstack/releases,master,I0fb852f85e435c1ec53b4e250255534c708eab0b,Add Python 3 Train unit tests,MERGED,2019-07-12 20:13:01.000000000,2019-08-08 09:50:12.000000000,2019-08-08 09:50:12.000000000,"[{'_account_id': 308}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-12 20:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8c50699bc26c27d57f42893f8d5acc8fe407241d', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0fb852f85e435c1ec53b4e250255534c708eab0b\nStory: #2005924\nTask: #34242\n'}, {'number': 2, 'created': '2019-07-19 18:44:23.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/releases/commit/49154ccfd07742689d0a46d7cbade0eb21880d7d', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0fb852f85e435c1ec53b4e250255534c708eab0b\nStory: #2005924\nTask: #34242\n'}]",0,670641,49154ccfd07742689d0a46d7cbade0eb21880d7d,15,7,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0fb852f85e435c1ec53b4e250255534c708eab0b
Story: #2005924
Task: #34242
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/670641/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,8c50699bc26c27d57f42893f8d5acc8fe407241d,python3-train,"envlist = py37,validate,pep8,bashate,docs","envlist = py35,validate,pep8,bashate,docs",4,4
openstack%2Freleases~master~I2cbe7a174b3cc14bf10fffa2a6dfbf8ea0b344ab,openstack/releases,master,I2cbe7a174b3cc14bf10fffa2a6dfbf8ea0b344ab,Release ironic 12.1.2 for Stein,MERGED,2019-07-24 07:13:44.000000000,2019-08-08 09:50:11.000000000,2019-08-08 09:50:11.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 07:13:44.000000000', 'files': ['deliverables/stein/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/45548b29ae9b5134b21d89c1301b6970f8594a29', 'message': 'Release ironic 12.1.2 for Stein\n\nChange-Id: I2cbe7a174b3cc14bf10fffa2a6dfbf8ea0b344ab\n'}]",0,672409,45548b29ae9b5134b21d89c1301b6970f8594a29,13,7,1,10239,,,0,"Release ironic 12.1.2 for Stein

Change-Id: I2cbe7a174b3cc14bf10fffa2a6dfbf8ea0b344ab
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/672409/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic.yaml'],1,45548b29ae9b5134b21d89c1301b6970f8594a29,ironic-stein, - projects: - hash: c1b18ca265a07e00624e21c49c0e99677f265560 repo: openstack/ironic version: 12.1.2,,4,0
openstack%2Freleases~master~I96e0ade6ddaa353e43c40c714034378d23607a44,openstack/releases,master,I96e0ade6ddaa353e43c40c714034378d23607a44,Release ironic-python-agent 3.6.2 for Stein,MERGED,2019-07-24 07:09:20.000000000,2019-08-08 09:38:52.000000000,2019-08-08 09:38:52.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 07:09:20.000000000', 'files': ['deliverables/stein/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/03a5df151c286bb7f26dc7c81c780370c05ba9e6', 'message': 'Release ironic-python-agent 3.6.2 for Stein\n\nChange-Id: I96e0ade6ddaa353e43c40c714034378d23607a44\n'}]",0,672408,03a5df151c286bb7f26dc7c81c780370c05ba9e6,10,5,1,10239,,,0,"Release ironic-python-agent 3.6.2 for Stein

Change-Id: I96e0ade6ddaa353e43c40c714034378d23607a44
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/672408/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic-python-agent.yaml'],1,03a5df151c286bb7f26dc7c81c780370c05ba9e6,ironic-python-agent-stein, - projects: - repo: openstack/ironic-python-agent hash: 18637c7b0e05cdab337b6865285b8c51869743c8 version: 3.6.2,,4,0
openstack%2Fvirtualbmc~master~Id62ca8c569f5b99f61e8f2908f899c18ceec2be6,openstack/virtualbmc,master,Id62ca8c569f5b99f61e8f2908f899c18ceec2be6,CI: clean up required projects,MERGED,2019-07-30 08:25:54.000000000,2019-08-08 09:33:27.000000000,2019-08-08 09:33:27.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-30 08:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/f15f467f0383df832cd927462699bb7c148d3d71', 'message': 'CI: clean up required projects\n\nAdd virtualbmc explicitly in case it ever gets removed from ironic-base.\n\nChange-Id: Id62ca8c569f5b99f61e8f2908f899c18ceec2be6\n'}, {'number': 2, 'created': '2019-08-07 12:15:16.000000000', 'files': ['zuul.d/virtualbmc-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/c17eaf241723fbe367497353281826593932f4f3', 'message': 'CI: clean up required projects\n\nAdd virtualbmc explicitly in case it ever gets removed from ironic-base.\n\nChange-Id: Id62ca8c569f5b99f61e8f2908f899c18ceec2be6\n'}]",0,673445,c17eaf241723fbe367497353281826593932f4f3,11,4,2,10239,,,0,"CI: clean up required projects

Add virtualbmc explicitly in case it ever gets removed from ironic-base.

Change-Id: Id62ca8c569f5b99f61e8f2908f899c18ceec2be6
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/45/673445/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/virtualbmc-jobs.yaml'],1,f15f467f0383df832cd927462699bb7c148d3d71,, - openstack/virtualbmc, - openstack/ironic-lib - openstack/python-ironicclient,1,2
openstack%2Freleases~master~Id3910b6aed1df4f69d500e2bdeafe7ef8e38b52d,openstack/releases,master,Id3910b6aed1df4f69d500e2bdeafe7ef8e38b52d,Release new version of neutron-tempest-plugin,MERGED,2019-08-05 10:44:12.000000000,2019-08-08 09:32:08.000000000,2019-08-08 09:32:08.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 10:44:12.000000000', 'files': ['deliverables/train/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e8578fc74ebc7de1e76579a68a33993336a0ce28', 'message': 'Release new version of neutron-tempest-plugin\n\nThis patch propose to release new version of neutron-tempest-plugin\n(version 0.5.0) as it has some important new tests included, like\nfor example multicast traffic test added in [1].\n\n[1] https://review.opendev.org/#/c/566103/\n\nChange-Id: Id3910b6aed1df4f69d500e2bdeafe7ef8e38b52d\n'}]",3,674573,e8578fc74ebc7de1e76579a68a33993336a0ce28,13,8,1,11975,,,0,"Release new version of neutron-tempest-plugin

This patch propose to release new version of neutron-tempest-plugin
(version 0.5.0) as it has some important new tests included, like
for example multicast traffic test added in [1].

[1] https://review.opendev.org/#/c/566103/

Change-Id: Id3910b6aed1df4f69d500e2bdeafe7ef8e38b52d
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/674573/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron-tempest-plugin.yaml'],1,e8578fc74ebc7de1e76579a68a33993336a0ce28,, - projects: - hash: 31993d50fd449e2d3ba02f3d4d94989130cd2118 repo: openstack/neutron-tempest-plugin version: 0.5.0,,4,0
openstack%2Freleases~master~Idb00166d16f17dcb12e3c982f02b25dd75909f53,openstack/releases,master,Idb00166d16f17dcb12e3c982f02b25dd75909f53,Add cyborg-tempest-plugin to Train deliverables,MERGED,2019-08-02 11:44:39.000000000,2019-08-08 09:31:28.000000000,2019-08-08 09:31:28.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 13629}, {'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 11:44:39.000000000', 'files': ['deliverables/train/cyborg-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/57d61fe00e31167c43eb2e378b5c2d6f957aa498', 'message': 'Add cyborg-tempest-plugin to Train deliverables\n\nCyborg tempest plugin should probably be released automatically at\nthe end of the Train cycle. To be confirmed by Cyborg PTL.\n\nChange-Id: Idb00166d16f17dcb12e3c982f02b25dd75909f53\n'}]",0,674278,57d61fe00e31167c43eb2e378b5c2d6f957aa498,8,5,1,308,,,0,"Add cyborg-tempest-plugin to Train deliverables

Cyborg tempest plugin should probably be released automatically at
the end of the Train cycle. To be confirmed by Cyborg PTL.

Change-Id: Idb00166d16f17dcb12e3c982f02b25dd75909f53
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/674278/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/cyborg-tempest-plugin.yaml'],1,57d61fe00e31167c43eb2e378b5c2d6f957aa498,train-late-additions,--- include-pypi-link: false launchpad: openstack-cyborg release-model: cycle-automatic release-type: python-pypi repository-settings: openstack/cyborg-tempest-plugin: tarball-base: cyborg_tempest_plugin team: cyborg type: tempest-plugin ,,10,0
openstack%2Fmistral~master~I4bc6feec72973469ddafab1ce06cff9c8affd48c,openstack/mistral,master,I4bc6feec72973469ddafab1ce06cff9c8affd48c,Create docs for the workflow namespaces feature,MERGED,2019-08-06 11:18:05.000000000,2019-08-08 09:31:02.000000000,2019-08-08 09:31:02.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-08-06 11:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9c7cc929b78306599f7b4b4e23ca3ef281d08088', 'message': 'WIP: documenting namespaces\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}, {'number': 2, 'created': '2019-08-07 06:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7389bb8f7fc5c4204594313855daca13e240c346', 'message': 'WIP: documenting namespaces\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}, {'number': 3, 'created': '2019-08-07 07:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a692c173ed2651c7be17bda86707b2a54f977fe7', 'message': 'WIP: documenting namespaces\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}, {'number': 4, 'created': '2019-08-07 07:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2d260f3bc2256e29e20ce6fa19cdd8d1655f21ba', 'message': 'WIP: documenting namespaces\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}, {'number': 5, 'created': '2019-08-07 07:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/be08d1efa3d44c79ac5b1ccf8a6ab1e366f58377', 'message': 'Create docs for the workflow namespaces feature\n\nCloses-Bug: #1757102\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}, {'number': 6, 'created': '2019-08-07 07:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1506a54497d04287db5d16c0ba1fd984b3333f17', 'message': 'Create docs for the workflow namespaces feature\n\nCloses-Bug: #1757102\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}, {'number': 7, 'created': '2019-08-07 08:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8c48fab03d1a8d33713ef45c719b92e495a4ad89', 'message': 'Create docs for the workflow namespaces feature\n\nCloses-Bug: #1757102\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}, {'number': 8, 'created': '2019-08-07 08:53:42.000000000', 'files': ['doc/source/index.rst', 'doc/source/main_features.rst', 'doc/source/user/wf_namespaces.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/059248f86eb5800fef42fffe9ed737b6f2729626', 'message': 'Create docs for the workflow namespaces feature\n\nCloses-Bug: #1757102\n\nChange-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c\n'}]",0,674781,059248f86eb5800fef42fffe9ed737b6f2729626,20,8,8,8731,,,0,"Create docs for the workflow namespaces feature

Closes-Bug: #1757102

Change-Id: I4bc6feec72973469ddafab1ce06cff9c8affd48c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/81/674781/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/wf_namespaces.rst'],1,9c7cc929b78306599f7b4b4e23ca3ef281d08088,bug/1757102,"Workflow namespaces ------------------- General ------- Mistral allows creating workflows within a namespace. So it is possible to create many workflows with the same name as long as they are in different namespaces. This is useful when a user already has many workflows that are connected to each other (some are sub workflows of others) and one of the workflow names is already in use and the user does not want to edit that workflow and all the ones referencing it or combine them into a workbook. This is possible because the namespace is not a part of the Mistral workflow language. If one wants to use a namespace she needs to provide an additional parameter to a corresponding operation run via REST API or CLI. If it's not provided, Mistral will be operating within the default namespace. REST API parameters ------------------- In order to use namespaces Mistral a number of REST API methods have the optional **namespace** parameter: * create workflow definition within a namespace:: POST /v2/workflows?namespace=<namespace> <Workflow YAML text> * delete workflow definition within a namespace:: DELETE /v2/workflows/<workflow id>?namespace=<namespace> * get a workflow definition within a namespace:: GET /v2/workflows/<workflow id>?namespace=<namespace> * get all workflow definitions within a given namespace:: GET /v2/workflows?namespace=<namespace> * update a workflow definition within a given namespace:: PUT /v2/workflows?namespace=<namespace> <Workflow YAML text> * create an execution of a workflow that belongs to a non-default namespace:: POST /v2/executions { ""workflow_name"": ""<workflow id or name>"", ""workflow_namespace"": ""<namespace>"", ... } * get a list of all namespaces:: GET /v2/namespaces Resolving a workflow definition ------------------------------- It's important to understand how Mistral resolves a workflow definition taking namespaces into account when running workflows and how namespaces work in case of workflow hierarchies. The rules are the following: * If a user launches a workflow via API (or CLI) then the workflow name and the corresponding namespace are provided explicitly so Mistral will look for a workflow definition with the given name under the provided namespace. If a namespace is not specified then the default namespace (empty namespace value) will be used. If Mistral doesn't find a workflow definition with the given name and namespace it will return an error response. * If a workflow is launched as a sub workflow, i.e. it has a parent task in a different workflow, then Mistral uses the namespace of the parent workflow to resolve a workflow definition. However, **if a workflow definition does not exist in the namespace of the parent workflow then Mistral will try to find it in the default namespace.** This is different from the previous case when a workflow is launched via API, Mistral would return an error instead of trying to find a workflow definition in the default namespace. To illustrate how this all works let's look at the following workflow definitions: .. code-block:: yaml --- version: '2.0' wf1: tasks: t1: workflow: wf2 .. code-block:: yaml --- version: '2.0' wf2: tasks: t2: workflow: wf3 .. code-block:: yaml --- version: '2.0' wf3: tasks: t3: action: std.noop .. code-block:: yaml --- version: '2.0' wf3: tasks: should_not_run: action: std.fail So the call chain looks like this: .. code-block:: yaml wf1 -> wf2 -> wf3 However, notice that we have two workflows with the name ""wf3"". Let's assume that these workflow definitions are uploaded to Mistral under these namespaces: +----+---------------------+-----------+ | ID | name | namespace | +----+---------------------+-----------+ | 1 | wf1 | abc | +----+---------------------+-----------+ | 2 | wf2 | | +----+---------------------+-----------+ | 3 | wf3 | abc | +----+---------------------+-----------+ | 4 | wf3 | | +----+---------------------+-----------+ ",,156,0
openstack%2Fmistral~master~Ia018b8962f2e998352784bd54d8d2b24892825d3,openstack/mistral,master,Ia018b8962f2e998352784bd54d8d2b24892825d3,Fix invalid assert states,MERGED,2019-06-27 08:59:11.000000000,2019-08-08 09:31:01.000000000,2019-08-08 09:31:01.000000000,"[{'_account_id': 8731}, {'_account_id': 11391}, {'_account_id': 18955}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-06-27 08:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/387dd97236e7e55705d934777cecace0f9f67645', 'message': 'Fix an invalid assert state\n\nself.assertTrue(1, len(fetched)) should be self.assertEqual(1, len(fetched)).\n\nChange-Id: Ia018b8962f2e998352784bd54d8d2b24892825d3\n'}, {'number': 2, 'created': '2019-06-27 09:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2bd2c873511dc99baa69b168ee4ca771f42e86fe', 'message': 'Fix invalid assert states\n\nAssert states like self.assertTrue(1, len(fetched)) should use\nself.assertEqual, not assertTrue.\n\nChange-Id: Ia018b8962f2e998352784bd54d8d2b24892825d3\n'}, {'number': 3, 'created': '2019-06-28 07:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3591ee24800fe16d0e99a549c02a8beb3441774f', 'message': 'Fix invalid assert states\n\nAssert states like self.assertTrue(1, len(fetched)) should use\nself.assertEqual, not assertTrue.\n\nChange-Id: Ia018b8962f2e998352784bd54d8d2b24892825d3\n'}, {'number': 4, 'created': '2019-06-28 17:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/45fbbc823eebfc8ca0dd8bbeb553c1c010643f91', 'message': 'Fix invalid assert states\n\nAssert states like self.assertTrue(1, len(fetched)) should use\nself.assertEqual, not assertTrue.\n\nChange-Id: Ia018b8962f2e998352784bd54d8d2b24892825d3\n'}, {'number': 5, 'created': '2019-07-01 02:17:52.000000000', 'files': ['mistral/tests/unit/engine/test_direct_workflow.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/93dce86ffd5f3dcda4cd87ff7ddfcb757465de8d', 'message': 'Fix invalid assert states\n\nAssert states like self.assertTrue(1, len(fetched)) should use\nself.assertEqual, not assertTrue.\n\nChange-Id: Ia018b8962f2e998352784bd54d8d2b24892825d3\n'}]",1,667814,93dce86ffd5f3dcda4cd87ff7ddfcb757465de8d,24,7,5,20190,,,0,"Fix invalid assert states

Assert states like self.assertTrue(1, len(fetched)) should use
self.assertEqual, not assertTrue.

Change-Id: Ia018b8962f2e998352784bd54d8d2b24892825d3
",git fetch https://review.opendev.org/openstack/mistral refs/changes/14/667814/5 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py'],1,387dd97236e7e55705d934777cecace0f9f67645,assertTrue," self.assertEqual(1, len(fetched))"," self.assertTrue(1, len(fetched))",1,1
openstack%2Fpython-ironicclient~master~Id56a6fdb5a14c19673bafba4a787e78e05480b5d,openstack/python-ironicclient,master,Id56a6fdb5a14c19673bafba4a787e78e05480b5d,add a hello.txt,ABANDONED,2019-08-08 09:16:58.000000000,2019-08-08 09:21:09.000000000,,[{'_account_id': 10068}],"[{'number': 1, 'created': '2019-08-08 09:16:58.000000000', 'files': ['hello.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/2f541e9acb430ba919b420a5456578b47d9a99f9', 'message': 'add a hello.txt\n\nChange-Id: Id56a6fdb5a14c19673bafba4a787e78e05480b5d\n'}]",0,675278,2f541e9acb430ba919b420a5456578b47d9a99f9,3,1,1,30794,,,0,"add a hello.txt

Change-Id: Id56a6fdb5a14c19673bafba4a787e78e05480b5d
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/78/675278/1 && git format-patch -1 --stdout FETCH_HEAD,['hello.txt'],1,2f541e9acb430ba919b420a5456578b47d9a99f9,bug/101,"hello everyone, I come from ironic. ",,1,0
openstack%2Freleases~master~I9483b75b0ec807ee9d7c15a53910e5f63494e780,openstack/releases,master,I9483b75b0ec807ee9d7c15a53910e5f63494e780,Adding python-adjutantclient to Train deliverables,ABANDONED,2019-08-02 11:40:25.000000000,2019-08-08 09:19:02.000000000,,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 11:40:25.000000000', 'files': ['deliverables/train/python-adjutantclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/277ed9075b76d073233eb3cb0261995e12f25b13', 'message': 'Adding python-adjutantclient to Train deliverables\n\nAdjutant was added to the Train deliverables, so it makes\nsense to propose python-adjutantclient too. This should be\nconfirmed by the Adjutant PTL.\n\nChange-Id: I9483b75b0ec807ee9d7c15a53910e5f63494e780\n'}]",0,674277,277ed9075b76d073233eb3cb0261995e12f25b13,4,2,1,308,,,0,"Adding python-adjutantclient to Train deliverables

Adjutant was added to the Train deliverables, so it makes
sense to propose python-adjutantclient too. This should be
confirmed by the Adjutant PTL.

Change-Id: I9483b75b0ec807ee9d7c15a53910e5f63494e780
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/674277/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-adjutantclient.yaml'],1,277ed9075b76d073233eb3cb0261995e12f25b13,train-late-additions,--- include-pypi-link: true storyboard: openstack/adjutant release-model: cycle-with-intermediary team: adjutant type: client-library repository-settings: openstack/python-adjutantclient: {} ,,8,0
openstack%2Fplacement~master~If937053a8af3f0eecdd90aa807be0abc316d8c4f,openstack/placement,master,If937053a8af3f0eecdd90aa807be0abc316d8c4f,Remove double join in provider_ids_from_rp_ids,MERGED,2019-08-01 12:26:11.000000000,2019-08-08 09:18:21.000000000,2019-08-07 15:15:36.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-08-01 12:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/985bffa1f318171cc635b0d6e9ea0dda762ff45b', 'message': ""Remove double join in provider_ids_from_rp_ids\n\nprovider_ids_from_rp_ids is only used in _build_provider_summaries.\nIt is passed a collection of usages dict created\n_get_usages_by_provider_tree this has usage information for _all_\nthe providers in the contributing trees, even those providers that\ndo not provide any resources (otherwise we wouldn't be able to\nbuild a complete summary).\n\nThis means that the list of rp ids passed to provider_ids_from_rp_ids\nincludes all the relevant ips and the returnd data structure can\nitself be used to find root_provider_uuid and parent_provider_uuid,\ninstead of doing the join.\n\nThis speeds up the database query. It is not, however, hugely impactful\nbecause the use of `in` is expensive in both Python and SQL. There's\nnot a lot we can do about that without significantly restructuring the\ncode.\n\nChange-Id: If937053a8af3f0eecdd90aa807be0abc316d8c4f\n""}, {'number': 2, 'created': '2019-08-01 15:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5dece7144acb3783eb98c06be968727fa96461f7', 'message': ""Remove double join in provider_ids_from_rp_ids\n\nprovider_ids_from_rp_ids is only used in _build_provider_summaries.\nIt is passed a collection of usages dict created\n_get_usages_by_provider_tree this has usage information for _all_\nthe providers in the contributing trees, even those providers that\ndo not provide any resources (otherwise we wouldn't be able to\nbuild a complete summary).\n\nThis means that the list of rp ids passed to provider_ids_from_rp_ids\nincludes all the relevant ips and the returnd data structure can\nitself be used to find root_provider_uuid and parent_provider_uuid,\ninstead of doing the join.\n\nThis speeds up the database query. It is not, however, hugely impactful\nbecause the use of `in` is expensive in both Python and SQL. There's\nnot a lot we can do about that without significantly restructuring the\ncode.\n\nChange-Id: If937053a8af3f0eecdd90aa807be0abc316d8c4f\n""}, {'number': 3, 'created': '2019-08-01 21:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/07ebff7ab10af479ecad082a0e7841531117baad', 'message': ""Remove double join in provider_ids_from_rp_ids\n\nprovider_ids_from_rp_ids is only used in _build_provider_summaries.\nIt is passed a collection of usages dict created\n_get_usages_by_provider_tree this has usage information for _all_\nthe providers in the contributing trees, even those providers that\ndo not provide any resources (otherwise we wouldn't be able to\nbuild a complete summary).\n\nThis means that the list of rp ids passed to provider_ids_from_rp_ids\nincludes all the relevant ips and the returnd data structure can\nitself be used to find root_provider_uuid and parent_provider_uuid,\ninstead of doing the join.\n\nThis speeds up the database query. It is not, however, hugely impactful\nbecause the use of `in` is expensive in both Python and SQL. There's\nnot a lot we can do about that without significantly restructuring the\ncode.\n\nChange-Id: If937053a8af3f0eecdd90aa807be0abc316d8c4f\n""}, {'number': 4, 'created': '2019-08-02 14:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/34b2d381273c76076f4b1a2d3cd405da92aff33c', 'message': ""Remove double join in provider_ids_from_rp_ids\n\nprovider_ids_from_rp_ids is only used in _build_provider_summaries.\nIt is passed a collection of usages dict created\n_get_usages_by_provider_tree this has usage information for _all_\nthe providers in the contributing trees, even those providers that\ndo not provide any resources (otherwise we wouldn't be able to\nbuild a complete summary).\n\nThis means that the list of rp ids passed to provider_ids_from_rp_ids\nincludes all the relevant rps and the returned data structure can\nitself be used to find root_provider_uuid and parent_provider_uuid,\ninstead of doing the join.\n\nThis speeds up the database query. Combined with the expanding\nbindparam in the previous patch, this cleans up provider_ids_from_rp_ids\nnicely.\n\nChange-Id: If937053a8af3f0eecdd90aa807be0abc316d8c4f\n""}, {'number': 5, 'created': '2019-08-07 10:26:46.000000000', 'files': ['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/8da825efc93b4379a4cd2edcff54acfad88f76d3', 'message': ""Remove double join in provider_ids_from_rp_ids\n\nprovider_ids_from_rp_ids is only used in _build_provider_summaries.\nIt is passed a collection of usages dict created\n_get_usages_by_provider_tree this has usage information for _all_\nthe providers in the contributing trees, even those providers that\ndo not provide any resources (otherwise we wouldn't be able to\nbuild a complete summary).\n\nThis means that the list of rp ids passed to provider_ids_from_rp_ids\nincludes all the relevant rps and the returned data structure can\nitself be used to find root_provider_uuid and parent_provider_uuid,\ninstead of doing the join.\n\nThis speeds up the database query. Combined with the expanding\nbindparam in the previous patch, this cleans up provider_ids_from_rp_ids\nnicely.\n\nChange-Id: If937053a8af3f0eecdd90aa807be0abc316d8c4f\n""}]",4,674017,8da825efc93b4379a4cd2edcff54acfad88f76d3,22,5,5,11564,,,0,"Remove double join in provider_ids_from_rp_ids

provider_ids_from_rp_ids is only used in _build_provider_summaries.
It is passed a collection of usages dict created
_get_usages_by_provider_tree this has usage information for _all_
the providers in the contributing trees, even those providers that
do not provide any resources (otherwise we wouldn't be able to
build a complete summary).

This means that the list of rp ids passed to provider_ids_from_rp_ids
includes all the relevant rps and the returned data structure can
itself be used to find root_provider_uuid and parent_provider_uuid,
instead of doing the join.

This speeds up the database query. Combined with the expanding
bindparam in the previous patch, this cleans up provider_ids_from_rp_ids
nicely.

Change-Id: If937053a8af3f0eecdd90aa807be0abc316d8c4f
",git fetch https://review.opendev.org/openstack/placement refs/changes/17/674017/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py']",2,985bffa1f318171cc635b0d6e9ea0dda762ff45b,cd/de-tuple," parent_id = pids.parent_id parent_uuid = provider_ids[parent_id].uuid if parent_id else None root_provider_uuid=provider_ids[pids.root_id].uuid, parent_provider_uuid=parent_uuid),"," root_provider_uuid=pids.root_uuid, parent_provider_uuid=pids.parent_uuid),",8,21
openstack%2Fnova~master~Ieccbbb2fb3991c951f5cb7753c094d14a97226f6,openstack/nova,master,Ieccbbb2fb3991c951f5cb7753c094d14a97226f6,DNM - Testing I41b7c1653c6a887ee4b08e588c5d422409aebfba with grenade,ABANDONED,2019-08-06 09:02:37.000000000,2019-08-08 09:15:57.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-06 09:02:37.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/89cd62008794f2dc5ca9da7e6cb62c41c555a37d', 'message': 'DNM - Testing I41b7c1653c6a887ee4b08e588c5d422409aebfba with grenade\n\nChange-Id: Ieccbbb2fb3991c951f5cb7753c094d14a97226f6\nDepends-On: https://review.opendev.org/#/c/674755/\n'}]",0,674760,89cd62008794f2dc5ca9da7e6cb62c41c555a37d,19,10,1,10135,,,0,"DNM - Testing I41b7c1653c6a887ee4b08e588c5d422409aebfba with grenade

Change-Id: Ieccbbb2fb3991c951f5cb7753c094d14a97226f6
Depends-On: https://review.opendev.org/#/c/674755/
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/674760/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,89cd62008794f2dc5ca9da7e6cb62c41c555a37d,,,,0,0
openstack%2Ftripleo-upgrade~master~I947b41c0b25dc9a7b67a7d44507c36d6bfe891e6,openstack/tripleo-upgrade,master,I947b41c0b25dc9a7b67a7d44507c36d6bfe891e6,Remove unused files,ABANDONED,2018-08-02 13:13:05.000000000,2019-08-08 09:13:23.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-02 13:13:05.000000000', 'files': ['templates/node_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/42cffee48305c9baf738603cb53d3d54ccb5680a', 'message': 'Remove unused files\n\nWe have several files unused in different branches.\nThis patch remove those unused files that creates confusion.\n\nChange-Id: I947b41c0b25dc9a7b67a7d44507c36d6bfe891e6\nPartial-bug: 1785040\n'}]",0,588241,42cffee48305c9baf738603cb53d3d54ccb5680a,5,3,1,20775,,,0,"Remove unused files

We have several files unused in different branches.
This patch remove those unused files that creates confusion.

Change-Id: I947b41c0b25dc9a7b67a7d44507c36d6bfe891e6
Partial-bug: 1785040
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/41/588241/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade.sh.j2'],1,42cffee48305c9baf738603cb53d3d54ccb5680a,bug/1785040,,source {{ undercloud_rc }} upgrade-non-controller.sh --upgrade {{ node_name | splitext | first | splitext | first }} --stack-name {{ overcloud_stack_name }} &> {{ node_name | splitext | first | splitext | first }}-upgrade.log ,0,2
openstack%2Ftripleo-heat-templates~master~Idf92cd22f57cda7a979c330d829aad9d921c3fc1,openstack/tripleo-heat-templates,master,Idf92cd22f57cda7a979c330d829aad9d921c3fc1,Change package names to python3,ABANDONED,2019-05-30 08:31:06.000000000,2019-08-08 09:12:55.000000000,,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-30 08:31:06.000000000', 'files': ['test-requirements.txt', 'deployment/nova/nova-compute-container-puppet.yaml', 'lower-constraints.txt', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/643a47d810234edf8584af9a51a988bf64d84003', 'message': 'Change package names to python3\n\nWe need to start using package names with the major Python version\n\nChange-Id: Idf92cd22f57cda7a979c330d829aad9d921c3fc1\n'}]",0,662161,643a47d810234edf8584af9a51a988bf64d84003,5,3,1,20775,,,0,"Change package names to python3

We need to start using package names with the major Python version

Change-Id: Idf92cd22f57cda7a979c330d829aad9d921c3fc1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/662161/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'deployment/nova/nova-compute-container-puppet.yaml', 'lower-constraints.txt', 'deployment/neutron/neutron-api-container-puppet.yaml']",4,643a47d810234edf8584af9a51a988bf64d84003,, package: name=python3-networking-odl state=latest # package python3-networking-cisco may or may not be present package: name=python3-networking-cisco state=latest, package: name=python-networking-odl state=latest # package python-networking-cisco may or may not be present package: name=python-networking-cisco state=latest,32,32
openstack%2Fironic-prometheus-exporter~master~I0e66b637ae0b14f9588ce0923c7b9e92d8185483,openstack/ironic-prometheus-exporter,master,I0e66b637ae0b14f9588ce0923c7b9e92d8185483,Release note for timestamp metric,MERGED,2019-08-06 15:16:54.000000000,2019-08-08 09:04:00.000000000,2019-08-08 09:04:00.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-06 15:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/f32ef6d68a6899054176d4c48dcdb8b2183a7e37', 'message': 'Release note for timestamp metric\n\nChange-Id: I0e66b637ae0b14f9588ce0923c7b9e92d8185483\n'}, {'number': 2, 'created': '2019-08-07 11:13:37.000000000', 'files': ['releasenotes/notes/ipmi-timestamp-905054395c20f4b6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/edef5f206f4562567d2d610260a598004f1de486', 'message': 'Release note for timestamp metric\n\nChange-Id: I0e66b637ae0b14f9588ce0923c7b9e92d8185483\n'}]",2,674844,edef5f206f4562567d2d610260a598004f1de486,10,3,2,15519,,,0,"Release note for timestamp metric

Change-Id: I0e66b637ae0b14f9588ce0923c7b9e92d8185483
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/44/674844/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ipmi-timestamp-905054395c20f4b6.yaml'],1,f32ef6d68a6899054176d4c48dcdb8b2183a7e37,releasenote_timestamp,--- features: - | Add a metric called `baremetal_last_payload_timestamp_seconds` that can be used in Prometheus to query if a baremetal node stoped sending information for a period of time. ,,6,0
openstack%2Fmistral~master~I396bbe8d2933121eb9d65b4804d72b3a5811cc2a,openstack/mistral,master,I396bbe8d2933121eb9d65b4804d72b3a5811cc2a,Allow to filter event notifications by their type,MERGED,2019-07-12 00:00:18.000000000,2019-08-08 09:02:16.000000000,2019-08-08 09:02:16.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-07-12 00:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9cd3e2a84c05789bf34d4a3fba8b6b8e17814597', 'message': 'Allow to filter event notifications by their type\n\nChange-Id: I396bbe8d2933121eb9d65b4804d72b3a5811cc2a\nImplements: blueprint mistral-filter-event-notifications\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}, {'number': 2, 'created': '2019-08-03 20:45:10.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/notifiers/test_notify.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/12c84dc936ac3f23702728d2d51bc677415b9af5', 'message': 'Allow to filter event notifications by their type\n\nChange-Id: I396bbe8d2933121eb9d65b4804d72b3a5811cc2a\nImplements: blueprint mistral-filter-event-notifications\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n'}]",1,670417,12c84dc936ac3f23702728d2d51bc677415b9af5,17,8,2,29124,,,0,"Allow to filter event notifications by their type

Change-Id: I396bbe8d2933121eb9d65b4804d72b3a5811cc2a
Implements: blueprint mistral-filter-event-notifications
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/17/670417/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/notifiers/test_notify.py']",3,9cd3e2a84c05789bf34d4a3fba8b6b8e17814597,bp/mistral-filter-event-notifications," def test_notify_with_event_filter(self): wf_def = """""" version: '2.0' wf: tasks: t1: action: std.noop on-success: - t2 t2: action: std.noop """""" wf_svc.create_workflows(wf_def) notify_options = [ { 'type': 'webhook', 'events': [ events.WORKFLOW_LAUNCHED, events.WORKFLOW_SUCCEEDED ] } ] params = {'notify': notify_options} wf_ex = self.engine.start_workflow('wf', '', **params) self.await_workflow_success(wf_ex.id) with db_api.transaction(): wf_ex = db_api.get_workflow_execution(wf_ex.id) task_exs = wf_ex.task_executions self.assertEqual(states.SUCCESS, wf_ex.state) self.assertIsNone(wf_ex.state_info) self.assertEqual(2, len(task_exs)) t1_ex = self._assert_single_item(task_exs, name='t1') t2_ex = self._assert_single_item(task_exs, name='t2') self.assertEqual(states.SUCCESS, t1_ex.state) self.assertIsNone(t1_ex.state_info) self.assertEqual(states.SUCCESS, t2_ex.state) self.assertIsNone(t2_ex.state_info) self.assertTrue(self.publishers['wbhk'].publish.called) self.assertEqual(2, len(EVENT_LOGS)) self.assertIn((wf_ex.id, events.WORKFLOW_LAUNCHED), EVENT_LOGS) self.assertIn((wf_ex.id, events.WORKFLOW_SUCCEEDED), EVENT_LOGS) ",,80,2
openstack%2Fnetworking-ovn~master~If2e23a45624d2221d42bd1437babc4bb65f2900d,openstack/networking-ovn,master,If2e23a45624d2221d42bd1437babc4bb65f2900d,Fix test_update_port_with_empty_data,ABANDONED,2019-08-08 07:48:38.000000000,2019-08-08 08:59:57.000000000,,"[{'_account_id': 6773}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-08-08 07:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/16f65410c43bdce8a774b8e1cc72d780b835ccee', 'message': ""Fix test_update_port_with_empty_data\n\nTest test_update_port_with_empty_data from TestOVNMechanismDriverPortsV2\nclass in neutron is runned agains:\nneutron.tests.unit.plugins.ml2.drivers.mechanism_test.TestMechanismDriver\nwhich in fact during update_port_postcommit() does nothing with\nthe port, only validates it [0].\n\nIn networking-ovn this test is runned against real mechanism driver:\nnetworking_ovn.ml2.mech_driver.OVNMechanismDriver. This ends with\nlittle difference - to port dict 'network' information is added\nduring call of update_port_postcommit(). The port data itself\nremains the same.\n\nThis patch modifies the test to pop('network'), and checks if other\nfields were not modified, like in neutron tests.\n\nChange-Id: If2e23a45624d2221d42bd1437babc4bb65f2900d\nCloses-Bug: #1839434\n""}, {'number': 2, 'created': '2019-08-08 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/12f07a3746d59ead2f88aad1de9f41ab48f9ad76', 'message': ""Fix test_update_port_with_empty_data\n\nTest test_update_port_with_empty_data from TestOVNMechanismDriverPortsV2\nclass in neutron is runned agains:\nneutron.tests.unit.plugins.ml2.drivers.mechanism_test.TestMechanismDriver\nwhich in fact during update_port_postcommit() does nothing with\nthe port, only validates it [0].\n\nIn networking-ovn this test is runned against real mechanism driver:\nnetworking_ovn.ml2.mech_driver.OVNMechanismDriver. This ends with\nlittle difference - to port dict 'network' information is added\nduring call of update_port_postcommit(). The port data itself\nremains the same.\n\nThis patch modifies the test to pop('network'), and checks if other\nfields were not modified, like in neutron tests.\n\n[0] https://github.com/openstack/neutron/blob/master/neutron/tests/unit/plugins/ml2/drivers/mechanism_test.py#L208\nChange-Id: If2e23a45624d2221d42bd1437babc4bb65f2900d\nCloses-Bug: #1839434\n""}, {'number': 3, 'created': '2019-08-08 08:42:42.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9eb4b19ec85fc7ad6ac752dbc4d565783ac71cd5', 'message': ""Fix test_update_port_with_empty_data\n\nTest test_update_port_with_empty_data from TestOVNMechanismDriverPortsV2\nclass in neutron is runned agains:\nneutron.tests.unit.plugins.ml2.drivers.mechanism_test.TestMechanismDriver\nwhich in fact during update_port_postcommit() does nothing with\nthe port, only validates it [0].\n\nIn networking-ovn this test is runned against real mechanism driver:\nnetworking_ovn.ml2.mech_driver.OVNMechanismDriver. This ends with\nlittle difference - to port dict 'network' information is added\nduring call of update_port_postcommit(). The port data itself\nremains the same.\n\nThis patch modifies the test to pop('network'), and checks if other\nfields were not modified, like in neutron tests.\n\n[0] https://github.com/openstack/neutron/blob/master/neutron/tests/unit/plugins/ml2/drivers/mechanism_test.py#L208\nChange-Id: If2e23a45624d2221d42bd1437babc4bb65f2900d\nCloses-Bug: #1839434\n""}]",2,675261,9eb4b19ec85fc7ad6ac752dbc4d565783ac71cd5,6,2,3,24791,,,0,"Fix test_update_port_with_empty_data

Test test_update_port_with_empty_data from TestOVNMechanismDriverPortsV2
class in neutron is runned agains:
neutron.tests.unit.plugins.ml2.drivers.mechanism_test.TestMechanismDriver
which in fact during update_port_postcommit() does nothing with
the port, only validates it [0].

In networking-ovn this test is runned against real mechanism driver:
networking_ovn.ml2.mech_driver.OVNMechanismDriver. This ends with
little difference - to port dict 'network' information is added
during call of update_port_postcommit(). The port data itself
remains the same.

This patch modifies the test to pop('network'), and checks if other
fields were not modified, like in neutron tests.

[0] https://github.com/openstack/neutron/blob/master/neutron/tests/unit/plugins/ml2/drivers/mechanism_test.py#L208
Change-Id: If2e23a45624d2221d42bd1437babc4bb65f2900d
Closes-Bug: #1839434
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/61/675261/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/unit/ml2/test_mech_driver.py'],1,16f65410c43bdce8a774b8e1cc72d780b835ccee,bug/1839434," def test_update_port_with_empty_data(self): ctx = context.get_admin_context() plugin = directory.get_plugin() with self.port() as port: port_id = port['port']['id'] new_port = plugin.update_port(ctx, port_id, {""port"": {}}) # NOTE(mjozefcz): This is only one difference between neutron # and ovn test. This class is runned against real OVN mechanism # driver that adds information to the new_port dict. new_port.pop('network') self.assertEqual(port[""port""], new_port)",,11,0
openstack%2Fnova-specs~master~Ie8145705690789f940e1295770d554954336b13f,openstack/nova-specs,master,Ie8145705690789f940e1295770d554954336b13f,Ironic: Instance switchover,ABANDONED,2017-03-23 13:46:47.000000000,2019-08-08 08:59:16.000000000,,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6618}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8716}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14070}, {'_account_id': 18320}, {'_account_id': 19853}, {'_account_id': 22348}, {'_account_id': 26580}]","[{'number': 1, 'created': '2017-03-23 13:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/97414346ed51021a186dff02adba02aeb24fad60', 'message': 'Ironic: Cold migration support\n\nWhen an ironic node is broken with a server failure, another server\ncould be deployed with the same volume after Ironic implements boot\nfrom volume feature. Nova can provide this switch over by implementing\ncold migration in Ironic virt driver.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 2, 'created': '2017-06-09 14:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e60d8c092a528e402b3a9e75e3c8d6941888c775', 'message': 'Ironic: Cold migration support\n\nWhen an ironic node is broken with a server failure, another server\ncould be deployed with the same volume after Ironic implements boot\nfrom volume feature. Nova can provide this switch over by implementing\ncold migration in Ironic virt driver.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 3, 'created': '2017-09-05 02:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1bf31255f159e554e2f91c8f25bd3a857d6c59f3', 'message': 'Ironic: Cold migration support\n\nWhen an ironic node is broken with a server failure, another server\ncould be deployed with the same volume since Ironic implemented a\nfeature to boot a node from a remote volume. Nova can provide this\nswitch over by implementing cold migration in Ironic virt driver.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 4, 'created': '2017-09-21 05:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3d226d19114d761847c0228cffe0b1ffc066ad90', 'message': 'Ironic: Resize and cold migration support\n\nSince Pike release, ironic supports booting a server from a remote\nvolume. It can separate servers and volumes. It enables to switch\nservers with keeping the data in a remote volume. For nova instances,\nresize and cold migration can be supported with using remote volumes.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 5, 'created': '2017-10-05 06:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1edb020e4a6c705ea77a43546b899dba311fd730', 'message': 'Ironic: Resize and cold migration support\n\nSince Pike release, ironic supports booting a server from a remote\nvolume. It can separate servers and volumes. It enables to switch\nservers with keeping the data in a remote volume. For nova instances,\nresize and cold migration can be supported with using remote volumes.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 6, 'created': '2017-10-16 04:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d8fe372d824a04a69216795f29ba0f1191f38efc', 'message': 'Ironic: Resize and cold migration support\n\nSince Pike release, ironic supports booting a server from a remote\nvolume. It can separate servers and volumes. It enables to switch\nservers with keeping the data in a remote volume. For nova instances,\nresize and cold migration can be supported with using remote volumes.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 7, 'created': '2017-10-18 02:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/16c59ed9b10893abb0a16cc74acda1c7d8eabdb0', 'message': 'Ironic: Resize and cold migration support\n\nSince Pike release, ironic supports booting a server from a remote\nvolume. It can separate servers and volumes. It enables to switch\nservers with keeping the data in a remote volume. For nova instances,\nresize and cold migration can be supported with using remote volumes.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 8, 'created': '2017-10-27 13:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6fddeaa6adb3f0d148b252789f9b081cc7bada7a', 'message': 'Ironic: Resize and cold migration support\n\nSince Pike release, ironic supports booting a server from a remote\nvolume. It can separate servers and volumes. It enables to switch\nservers with keeping the data in a remote volume. For nova instances,\nresize and cold migration can be supported with using remote volumes.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint baremetal-migration-evacuation\n'}, {'number': 9, 'created': '2018-02-14 10:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d2f9ea010010c889f46a539c55001a3b63e7c93b', 'message': 'Ironic: Instance switchover\n\nSince Pike release, ironic supports booting a server from a remote\nvolume. It can separate servers and volumes. It enables to switch\nservers with keeping the data in a remote volume. For nova instances,\nresize and cold migration can be supported with using remote volumes.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint ironic-instance-switchover\n'}, {'number': 10, 'created': '2018-02-23 10:47:11.000000000', 'files': ['specs/rocky/approved/ironic-instance-switchover.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cbaa50f0b210ac19049b06703b719bd5265ea56b', 'message': 'Ironic: Instance switchover\n\nSince Pike release, ironic supports booting a server from a remote\nvolume. It can separate servers and volumes. It enables to switch\nservers with keeping the data in a remote volume. For nova instances,\nresize and cold migration can be supported with using remote volumes.\n\nChange-Id: Ie8145705690789f940e1295770d554954336b13f\nImplements: blueprint ironic-instance-switchover\n'}]",76,449155,cbaa50f0b210ac19049b06703b719bd5265ea56b,48,22,10,13689,,,0,"Ironic: Instance switchover

Since Pike release, ironic supports booting a server from a remote
volume. It can separate servers and volumes. It enables to switch
servers with keeping the data in a remote volume. For nova instances,
resize and cold migration can be supported with using remote volumes.

Change-Id: Ie8145705690789f940e1295770d554954336b13f
Implements: blueprint ironic-instance-switchover
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/55/449155/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/baremetal-migration-evacuation.rst'],1,97414346ed51021a186dff02adba02aeb24fad60,bp/ironic-instance-switchover,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Ironic: Cold migration support =============================== https://blueprints.launchpad.net/nova/+spec/baremetal-migration-evacuation When an ironic node is broken with a server failure, another server could be deployed with the same volume after Ironic implements boot from volume feature. Nova can provide this switch over by implementing cold migration in Ironic virt driver. Problem description =================== A server failure sometimes happens. When a sign of a failure is detected in a VM host server, instances on the host can be migrated. A similar switch over is required for bare metal instances. A feature to a boot bare metal instance from a remote volume is being implemented in Ironic. With this feature, the switch over could be done by booting another bare metal server. We would like to trigger this switch over via Nova API. Use Cases --------- An operator can switch over an bare metal node to another node when a failure is detected. This switch over can be automated with a monitoring tool. Proposed change =============== We propose to implement cold migration in ironic virt driver. This feature can work only when an instance is booted from a volume. When an API for cold migration is called, most of the feature doesn't depend on a hypervisor. For instance, a new ironic node is chosen by the scheduler in the same process as VM migration. A few driver APIs need to be implemented in Ironic virt driver as follows. * migrate_disk_and_power_off() This API will power off the source node. This API will also raise an exception when the instance is not booted from remote volume. * finish_migration() This API will deploy the destination node to boot from a volume used by the source node. After cold migration, VM state gets RESIZED. To confirm or revert the migration, the following driver APIs will be implemented in Ironic virt driver. * confirm_migration() This API will undeploy the source node. * finish_revert_migration() This API will reboot the source node. Alternatives ------------ We can just delete an instance with a failure and create another instance with the same volume without this development in Nova. However, cold migration can reduce effects of the switch over. For example, users can use the same instance UUID and IP address after switch over. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: shiina-hironori Other contributors: None Work Items ---------- * Develop driver APIs in Ironic virt driver Dependencies ============ We should complete a feature to boot an ironic instance from a volume[1] before this feature. Testing ======= A scenario test will be added to Tempest. This switch over can be tested in an All-In-One DevStack environment with Ironic virt driver where VMs are deployed as bare metal servers. Documentation Impact ==================== Feature support matrix will be updated. References ========== .. [1] Add support for Ironic nodes to boot from Cinder volume: https://blueprints.launchpad.net/nova/+spec/ironic-boot-from-volume History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,163,0
openstack%2Fnova-specs~master~I873695fba6c64adba9c666693ad81d1d80e2ae2e,openstack/nova-specs,master,I873695fba6c64adba9c666693ad81d1d80e2ae2e,Follow up for I9200c2b18369da8b9194a8ccbbf6f1baf6a9613c,MERGED,2019-05-15 14:31:40.000000000,2019-08-08 08:57:04.000000000,2019-05-17 21:49:51.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-15 14:31:40.000000000', 'files': ['specs/train/approved/cpu-resources.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/68282ddbd04ce3507d10b79ce1d850490bbfc04f', 'message': 'Follow up for I9200c2b18369da8b9194a8ccbbf6f1baf6a9613c\n\nAddress some comments and issues with the initial version of the spec.\n\nChange-Id: I873695fba6c64adba9c666693ad81d1d80e2ae2e\nBlueprint: cpu-resources\n'}]",1,659300,68282ddbd04ce3507d10b79ce1d850490bbfc04f,9,4,1,15334,,,0,"Follow up for I9200c2b18369da8b9194a8ccbbf6f1baf6a9613c

Address some comments and issues with the initial version of the spec.

Change-Id: I873695fba6c64adba9c666693ad81d1d80e2ae2e
Blueprint: cpu-resources
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/00/659300/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/cpu-resources.rst'],1,68282ddbd04ce3507d10b79ce1d850490bbfc04f,bp/cpu-resources, total: 16 reserved: 01) A simple web application server workload requires a couple of CPU resources. hardware:: ``hw:cpu_policy`` flavor extra spec instead::There's definitely going to be some confusion around ``Flavor.vcpus``The ``NUMATopology`` object will need to be updated to include ``cpu_shared_set`` and ``cpu_dedicated_set`` fields and to deprecate the ``cpu_set`` field.option will be ignored and neither the ``VCPU`` nor ``PCPU`` inventories will have a reserved value unless explicitly set via the placement API.," total: 18 reserved: 21) A simple web application server workload requires a couple CPU resources. hardware. The deployer wishes to ensure that those dedicated CPU resources are all served by the same resource provider:: ``hw:cpu_policy`` flavor extra spec instead, ::There's definitely going to be some confusion around ``Flavour.vcpus``None.option will be ignored and the virt driver will calculate the ``PCPU`` inventory reserved amount using the following formula:: (set(all_cpus) - (set(dedicated) | set(shared)))",11,12
openstack%2Fhorizon~master~I7223ae5bd931202c95602ec9674ae86b4708368d,openstack/horizon,master,I7223ae5bd931202c95602ec9674ae86b4708368d,Preserve form field order in python 3,MERGED,2019-07-12 12:42:53.000000000,2019-08-08 08:54:58.000000000,2019-08-08 08:54:58.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 7781}, {'_account_id': 8648}, {'_account_id': 8674}, {'_account_id': 19160}, {'_account_id': 21967}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 12:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c392b09748ba29567ebec72de6f4ad0fe4066fda', 'message': 'Preserve form field order in python 3\n\nIn python 3, the ExternalUploadMeta metaclass does not preserv the order\nof the fields of the class it is modifing.\nFirst we add a __prepare__() method which returns an empty\ncollections.OrderedDict. That mapping records the\nmethods and attributes of the class it is metaclassing as they are defined\nwithin the body of the class statement.\nThen we send a collections.OrderedDict to create the new class.\n\nChange-Id: I7223ae5bd931202c95602ec9674ae86b4708368d\nCloses-Bug: #1835724\n'}, {'number': 2, 'created': '2019-07-12 12:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/770744458e657bea669618988afb857333d717ff', 'message': 'Preserve form field order in python 3\n\nIn python 3, the ExternalUploadMeta metaclass does not preserve the\norder of the fields of the class it is modifying.\nFirst we add a __prepare__() method which returns an empty\ncollections.OrderedDict.\nThat mapping records the methods and attributes of the class it is\nmetaclassing as they are defined within the body of the class statement.\nThen we send a collections.OrderedDict to create the new class.\n\nChange-Id: I7223ae5bd931202c95602ec9674ae86b4708368d\nCloses-Bug: #1835724\n'}, {'number': 3, 'created': '2019-07-16 15:29:04.000000000', 'files': ['horizon/forms/fields.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c30ca9c13f59267c1045d9faaca1eac1259fd41', 'message': 'Preserve form field order in python 3\n\nIn python 3, the ExternalUploadMeta metaclass does not preserve the\norder of the fields of the class it is modifying.\nFirst we add a __prepare__() method which returns an empty\ncollections.OrderedDict.\nThat mapping records the methods and attributes of the class it is\nmetaclassing as they are defined within the body of the class statement.\nThen we send a collections.OrderedDict to create the new class.\n\nChange-Id: I7223ae5bd931202c95602ec9674ae86b4708368d\nCloses-Bug: #1835724\n'}]",4,670517,9c30ca9c13f59267c1045d9faaca1eac1259fd41,17,9,3,8674,,,0,"Preserve form field order in python 3

In python 3, the ExternalUploadMeta metaclass does not preserve the
order of the fields of the class it is modifying.
First we add a __prepare__() method which returns an empty
collections.OrderedDict.
That mapping records the methods and attributes of the class it is
metaclassing as they are defined within the body of the class statement.
Then we send a collections.OrderedDict to create the new class.

Change-Id: I7223ae5bd931202c95602ec9674ae86b4708368d
Closes-Bug: #1835724
",git fetch https://review.opendev.org/openstack/horizon refs/changes/17/670517/3 && git format-patch -1 --stdout FETCH_HEAD,['horizon/forms/fields.py'],1,c392b09748ba29567ebec72de6f4ad0fe4066fda,bug/1835724,"import collections if six.PY3: @classmethod def __prepare__(cls, name, bases): # Required in python 3 to keep the form fields order. return collections.OrderedDict() if six.PY3: # Required in python 3 to keep the form fields order. new_attrs = collections.OrderedDict() else: new_attrs = {}", new_attrs = {},14,1
openstack%2Fironic-python-agent~master~I89fa09a52a776e8b5abf02889b1e87ac17556381,openstack/ironic-python-agent,master,I89fa09a52a776e8b5abf02889b1e87ac17556381,Release note update,ABANDONED,2019-08-08 08:30:30.000000000,2019-08-08 08:51:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-08-08 08:30:30.000000000', 'files': ['releasenotes/notes/softraid-msdos-gpt-alternative.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4b84077f017a2b7847d5bc25a97eaf7b1d806706', 'message': 'Release note update\n\nChange-Id: I89fa09a52a776e8b5abf02889b1e87ac17556381\n'}]",1,675271,4b84077f017a2b7847d5bc25a97eaf7b1d806706,4,2,1,15064,,,0,"Release note update

Change-Id: I89fa09a52a776e8b5abf02889b1e87ac17556381
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/675271/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/softraid-msdos-gpt-alternative.yaml'],1,4b84077f017a2b7847d5bc25a97eaf7b1d806706,gpt_mbr_alternative_follow_up," - Adds possibility to specify the partition table type when creating raid. When not specified, the type is computed based on the ramdisk boot"," - Possibility to specify the partition table type when creating raid. When not specified, the type is computed based on the rescue boot",2,2
openstack%2Fmagnum~master~Ib719dc4ce8b00eb7ebbef663c99c4d2117590c2f,openstack/magnum,master,Ib719dc4ce8b00eb7ebbef663c99c4d2117590c2f,"Release k8s images v1.15.2, v1.14.5, v1.13.9 and v1.12.10",MERGED,2019-08-07 01:53:41.000000000,2019-08-08 08:51:02.000000000,2019-08-08 08:51:02.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-08-07 01:53:41.000000000', 'files': ['playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/243eb6aa7398eeffbbab4a035d9a51f49008cfc5', 'message': 'Release k8s images v1.15.2, v1.14.5, v1.13.9 and v1.12.10\n\nStory: 2005124\nTask: 36111\n\nChange-Id: Ib719dc4ce8b00eb7ebbef663c99c4d2117590c2f\n'}]",0,675019,243eb6aa7398eeffbbab4a035d9a51f49008cfc5,9,5,1,6484,,,0,"Release k8s images v1.15.2, v1.14.5, v1.13.9 and v1.12.10

Story: 2005124
Task: 36111

Change-Id: Ib719dc4ce8b00eb7ebbef663c99c4d2117590c2f
",git fetch https://review.opendev.org/openstack/magnum refs/changes/19/675019/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-builder-vars.yaml'],1,243eb6aa7398eeffbbab4a035d9a51f49008cfc5,story/2005124-36111,kubernetes_version_v1_12: v1.12.10 kubernetes_version_v1_13: v1.13.9 kubernetes_version_v1_14: v1.14.5 kubernetes_version_v1_15: v1.15.2,kubernetes_version_v1_12: v1.12.9 kubernetes_version_v1_13: v1.13.7 kubernetes_version_v1_14: v1.14.3 kubernetes_version_v1_15: v1.15.0,4,4
openstack%2Fkolla~master~I0b25bf33a1ab77a0e84c1eac1caa3184601849d9,openstack/kolla,master,I0b25bf33a1ab77a0e84c1eac1caa3184601849d9,cleanup image squashing,ABANDONED,2019-06-18 14:39:35.000000000,2019-08-08 08:27:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 14:39:35.000000000', 'files': ['kolla/image/build.py', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b1bda59eba4e3e8362b0cb9497af41ba92f5894', 'message': ""cleanup image squashing\n\nDocker has image squashing as experimental feature. So let's use it\ninstead of 'docker-squash' command.\n\nRequires 'Experimental': true in daemon.json configuration of Docker.\n\nFull of issues anyway - building Ceph images means base is OK,\nceph-base is OK but rest of ceph-* images fail as parent layer\ndissappeared.\n\nChange-Id: I0b25bf33a1ab77a0e84c1eac1caa3184601849d9\n""}]",0,666000,8b1bda59eba4e3e8362b0cb9497af41ba92f5894,5,3,1,24072,,,0,"cleanup image squashing

Docker has image squashing as experimental feature. So let's use it
instead of 'docker-squash' command.

Requires 'Experimental': true in daemon.json configuration of Docker.

Full of issues anyway - building Ceph images means base is OK,
ceph-base is OK but rest of ceph-* images fail as parent layer
dissappeared.

Change-Id: I0b25bf33a1ab77a0e84c1eac1caa3184601849d9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/666000/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/common/utils.py']",2,8b1bda59eba4e3e8362b0cb9497af41ba92f5894,,," def get_docker_squash_version(): try: stdout = subprocess.check_output( # nosec ['docker-squash', '--version'], stderr=subprocess.STDOUT) return stdout.split()[0] except OSError as ex: if ex.errno == 2: LOG.error(('""docker-squash"" command is not found.' ' try to install it by ""pip install docker-squash""')) raise def squash(old_image, new_image, from_layer=None, cleanup=False, tmp_dir=None): cmds = ['docker-squash', '--tag', new_image, old_image] if cleanup: cmds += ['--cleanup'] if from_layer: cmds += ['--from-layer', from_layer] if tmp_dir: cmds += ['--tmp-dir', tmp_dir] try: subprocess.check_output(cmds, stderr=subprocess.STDOUT) # nosec except subprocess.CalledProcessError as ex: LOG.exception('Get error during squashing image: %s', ex.output) raise",9,53
openstack%2Fkolla-ansible~master~I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4,openstack/kolla-ansible,master,I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4,On Debian/Ubuntu systems install Docker from distribution,ABANDONED,2019-07-25 11:33:23.000000000,2019-08-08 08:22:52.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-25 11:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34458606c52a4674fb5d107286baef090bc4b800', 'message': ""On Debian/Ubuntu systems install Docker from distribution\n\nBoth Debian 'buster' and Ubuntu 'bionic' ship Docker 18.09 version.\nSo let just use it instead of checking is newest upstream one works or\nnot.\n\nChange-Id: I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4\n""}, {'number': 2, 'created': '2019-08-02 11:59:50.000000000', 'files': ['ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcb5c27a475bdc49ae360934f83c0bf1f754ad25', 'message': ""On Debian/Ubuntu systems install Docker from distribution\n\nBoth Debian 'buster' and Ubuntu 'bionic' ship Docker 18.09 version.\nSo let just use it instead of checking is newest upstream one works or\nnot.\n\nChange-Id: I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4\n""}]",5,672701,bcb5c27a475bdc49ae360934f83c0bf1f754ad25,20,5,2,24072,,,0,"On Debian/Ubuntu systems install Docker from distribution

Both Debian 'buster' and Ubuntu 'bionic' ship Docker 18.09 version.
So let just use it instead of checking is newest upstream one works or
not.

Change-Id: I8e12850e8f1cc4aa88f49a8faa6067b9191bf9b4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/672701/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/baremetal/defaults/main.yml']",2,34458606c52a4674fb5d107286baef090bc4b800,, - docker.io,"# Docker APT repository configuration. docker_apt_url: ""{% if docker_legacy_packages | bool %}{{ docker_legacy_apt_url }}{% else %}{{ docker_new_apt_url }}{% endif %}"" docker_apt_repo: ""{% if docker_legacy_packages | bool %}{{ docker_legacy_apt_repo }}{% else %}{{ docker_new_apt_repo }}{% endif %}"" docker_apt_key_file: ""{% if docker_legacy_packages | bool %}{{ docker_legacy_apt_key_file }}{% else %}{{ docker_new_apt_key_file }}{% endif %}"" docker_apt_key_id: ""{% if docker_legacy_packages | bool %}{{ docker_legacy_apt_key_id }}{% else %}{{ docker_new_apt_key_id }}{% endif %}"" docker_apt_package: ""{% if docker_legacy_packages | bool %}{{ docker_legacy_apt_package }}{% else %}{{ docker_new_apt_package }}{% endif %}"" # Docker APT repository configuration when docker_legacy_packages is false. docker_new_apt_url: ""https://download.docker.com/linux/{{ ansible_distribution | lower }}"" docker_new_apt_repo: ""deb {{ docker_new_apt_url }} {{ ansible_lsb.codename }} stable"" docker_new_apt_key_file: ""gpg"" docker_new_apt_key_id: ""0EBFCD88"" docker_new_apt_package: ""docker-ce"" # Docker APT repository configuration when docker_legacy_packages is true. docker_legacy_apt_url: ""{{ 'http://obs.linaro.org/ERP:/17.12/Debian_9' if ansible_architecture == 'aarch64' else 'https://apt.dockerproject.org' }}"" docker_legacy_apt_repo: ""{{ docker_legacy_apt_repo_aarch64 if ansible_architecture == 'aarch64' else docker_legacy_apt_repo_x86_64 }}"" docker_legacy_apt_repo_x86_64: ""deb {{ docker_apt_url }}/repo {{ ansible_distribution | lower }}-{{ ansible_distribution_release | lower }} main"" docker_legacy_apt_repo_aarch64: ""deb {{ docker_apt_url }} ./"" docker_legacy_apt_key_file: ""{{ 'Release.key' if ansible_architecture == 'aarch64' else 'gpg' }}"" docker_legacy_apt_key_id: ""{{ 'C32DA102AD89C2BE' if ansible_architecture == 'aarch64' else 'F76221572C52609D' }}"" docker_legacy_apt_package: ""{{ 'docker-ce' if ansible_architecture == 'aarch64' else 'docker-engine=1.12.*' }}"" - ""{{ docker_apt_package }}""",1,45
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fstein~I14f040c7549fabfe88882dc609f62cd08ab130db,openstack/openstack-ansible-os_ceilometer,stable/stein,I14f040c7549fabfe88882dc609f62cd08ab130db,Change default username for oslo from designate to designate-rpc,MERGED,2019-08-07 10:44:52.000000000,2019-08-08 08:01:51.000000000,2019-08-08 08:01:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-08-07 10:44:52.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/40f176986d42f656390e25cad77d52b9d502f4ed', 'message': ""Change default username for oslo from designate to designate-rpc\n\nIn designate ansible role the default username for oslo is designate-rpc.\nIf ceilometer is used for designate, ceilometer configuration is generated incorrectly\nand it doesn't start, returning ACCESS_REFUSED\n\nChange-Id: I14f040c7549fabfe88882dc609f62cd08ab130db\n(cherry picked from commit 1e17662057d55392284b765ac9367179d98ba096)\n""}]",0,675088,40f176986d42f656390e25cad77d52b9d502f4ed,8,4,1,22018,,,0,"Change default username for oslo from designate to designate-rpc

In designate ansible role the default username for oslo is designate-rpc.
If ceilometer is used for designate, ceilometer configuration is generated incorrectly
and it doesn't start, returning ACCESS_REFUSED

Change-Id: I14f040c7549fabfe88882dc609f62cd08ab130db
(cherry picked from commit 1e17662057d55392284b765ac9367179d98ba096)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/88/675088/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,40f176986d42f656390e25cad77d52b9d502f4ed,,"designate_oslomsg_notify_userid: ""{{ designate_oslomsg_rpc_userid | default('designate-rpc') }}""","designate_oslomsg_notify_userid: ""{{ designate_oslomsg_rpc_userid | default('designate') }}""",1,1
openstack%2Fcharm-percona-cluster~master~I37813e594c31b3266084fcbd6fb67f8180461971,openstack/charm-percona-cluster,master,I37813e594c31b3266084fcbd6fb67f8180461971,Use a local cache to store current root password,ABANDONED,2019-07-27 09:03:33.000000000,2019-08-08 07:53:38.000000000,,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-27 09:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/7c5b58fd13d766d74ac96d362b93aa9d58b93a70', 'message': ""Use a local cache to store current root password\n\nTo ensure a charm can always connect to its local database, store\nthe current root password and only update the local store when an\nupdate has succesfully completed. The leader-db cannot be trusted\nas the root password is not replicated due to the way it is\nchanged ('update' rather than 'alter user').\n\nThe previous method of using cfg.changed('root-password') to check\nwhether an update is needed has also been changed as the old method\ncould incorrectly assert no update was needed.\n\nNote: This patch is very cautious and only uses the cached password\nfor connections if a connection test passes with it. If the\nconnection test fails then the old behaviour is used.\n\nChange-Id: I37813e594c31b3266084fcbd6fb67f8180461971\nCloses-Bug: #1838124\nCloses-Bug: #1838125\n""}, {'number': 2, 'created': '2019-07-29 14:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/b8bb23843f1b9e0c83b564db98d8a3652815d808', 'message': ""Use a local cache to store current root password\n\nTo ensure a charm can always connect to its local database, store\nthe current root password and only update the local store when an\nupdate has succesfully completed. The leader-db cannot be trusted\nas the root password is not replicated due to the way it is\nchanged ('update' rather than 'alter user').\n\nThe previous method of using cfg.changed('root-password') to check\nwhether an update is needed has also been changed as the old method\ncould incorrectly assert no update was needed.\n\nNote: This patch is very cautious and only uses the cached password\nfor connections if a connection test passes with it. If the\nconnection test fails then the old behaviour is used.\n\nChange-Id: I37813e594c31b3266084fcbd6fb67f8180461971\nCloses-Bug: #1838124\nCloses-Bug: #1838125\n""}, {'number': 3, 'created': '2019-07-29 20:04:20.000000000', 'files': ['unit_tests/test_percona_utils.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/704316df3c6fd67f666f644b1b4ff65708f26590', 'message': ""Use a local cache to store current root password\n\nTo ensure a charm can always connect to its local database, store\nthe current root password and only update the local store when an\nupdate has succesfully completed. The leader-db cannot be trusted\nas the root password is not replicated due to the way it is\nchanged ('update' rather than 'alter user').\n\nThe previous method of using cfg.changed('root-password') to check\nwhether an update is needed has also been changed as the old method\ncould incorrectly assert no update was needed.\n\nNote: This patch is very cautious and only uses the cached password\nfor connections if a connection test passes with it. If the\nconnection test fails then the old behaviour is used.\n\nChange-Id: I37813e594c31b3266084fcbd6fb67f8180461971\nCloses-Bug: #1838124\nCloses-Bug: #1838125\n""}]",3,673132,704316df3c6fd67f666f644b1b4ff65708f26590,25,7,3,12549,,,0,"Use a local cache to store current root password

To ensure a charm can always connect to its local database, store
the current root password and only update the local store when an
update has succesfully completed. The leader-db cannot be trusted
as the root password is not replicated due to the way it is
changed ('update' rather than 'alter user').

The previous method of using cfg.changed('root-password') to check
whether an update is needed has also been changed as the old method
could incorrectly assert no update was needed.

Note: This patch is very cautious and only uses the cached password
for connections if a connection test passes with it. If the
connection test fails then the old behaviour is used.

Change-Id: I37813e594c31b3266084fcbd6fb67f8180461971
Closes-Bug: #1838124
Closes-Bug: #1838125
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/32/673132/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_utils.py', 'charmhelpers/contrib/database/mysql.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'hooks/percona_utils.py']",4,7c5b58fd13d766d74ac96d362b93aa9d58b93a70,bug/1838124,"ROOT_PASSWORD_CACHE_KEY = 'root-password-cache'def get_cached_root_password(): """"""Return the cached root password. :returns: Return root password if it is present else None. :rtype: str or None """""" kvstore = kv() return kvstore.get(key=ROOT_PASSWORD_CACHE_KEY) def cache_root_password(password): """"""Cache root password. :param unit_name: Password :type unit_name: str """""" kvstore = kv() kvstore.set(key=ROOT_PASSWORD_CACHE_KEY, value=password) kvstore.flush() def need_root_password_update(): """"""Check if root password needs to be updated. :returns: Return whether update is needed :rtype: bool """""" cfg = config() # Initialise root password cache if needed. cached_pass = get_cached_root_password() if cached_pass: if cfg['root-password']: update_required = not cfg['root-password'] == cached_pass else: update_required = not leader_get('root-password') == cached_pass else: # Cache was empty so cannot determine if update is needed. However, # there is no harm in doing a noop password update. update_required = True return update_required def check_connection(username, password): """"""Check whether the username and password are correct. :param username: username :type username: str :param password: Password :type password: str :returns: Whether username/password combination are valid. :rtype: bool """""" m_helper = get_db_helper() try: m_helper.connect(user=username, password=password) m_helper.execute('select 1;') except OperationalError as ex: log(""Error connecting using new password: {}"" .format(str(ex)), level=DEBUG) log(('Cannot connect using new password, not updating password in ' 'the relation'), level=WARNING) return False return True if not need_root_password_update(): return # Use password from charm config or retrieve from leader db. # NOTE: root_password() will generate a new password if no match is found # in leader db. new_root_passwd = cfg['root-password'] or root_password() cached_password = get_cached_root_password() if cached_password and check_connection('root', cached_password): m_helper.set_mysql_root_password( new_root_passwd, current_password=cached_password) else: m_helper.set_mysql_root_password(new_root_passwd) if check_connection('root', new_root_passwd): cache_root_password(new_root_passwd) else:"," if not cfg.changed('root-password'): return False # password that needs to be set new_root_passwd = cfg['root-password'] or root_password() m_helper.set_mysql_root_password(new_root_passwd) try: m_helper.connect(user='root', password=new_root_passwd) m_helper.execute('select 1;') except OperationalError as ex: log(""Error connecting using new password: {}"" .format(str(ex)), level=DEBUG)",236,62
openstack%2Fhorizon~master~If47aa64a8539bcc3996aa484db1e847a3059c2aa,openstack/horizon,master,If47aa64a8539bcc3996aa484db1e847a3059c2aa,"After deleting the server group, jump to the correct page",MERGED,2019-03-27 06:52:21.000000000,2019-08-08 07:13:58.000000000,2019-08-08 07:13:58.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-03-27 06:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/048a3b03b9a4a40cb38f370142712b2ed86b2774', 'message': 'After deleting the server group, jump to the correct page\n\nChange-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa\nCloses-Bug: #1821851\n'}, {'number': 2, 'created': '2019-07-04 06:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3574378c49445d2eff76eb891a0071142f68dc59', 'message': 'After deleting the server group, jump to the correct page\n\nChange-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa\nCloses-Bug: #1821851\n'}, {'number': 3, 'created': '2019-07-04 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2f14c0aab6c3afd788573bc8181bf888dececca6', 'message': 'After deleting the server group, jump to the correct page\n\nChange-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa\nCloses-Bug: #1821851\n'}, {'number': 4, 'created': '2019-07-04 08:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7644089109fdfee7265e7c0ac40af849a60d20c2', 'message': 'After deleting the server group, jump to the correct page\n\nChange-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa\nCloses-Bug: #1821851\n'}, {'number': 5, 'created': '2019-07-04 08:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/78b09960f9ef3480318c9ec6be925f1155bdf0ba', 'message': 'After deleting the server group, jump to the correct page\n\nChange-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa\nCloses-Bug: #1821851\n'}, {'number': 6, 'created': '2019-07-26 02:58:11.000000000', 'files': ['openstack_dashboard/static/app/core/server_groups/actions/delete.action.service.js', 'openstack_dashboard/static/app/core/server_groups/actions/delete.action.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6dc4bd203d3e44ce6500a4b81a27158d6c73185c', 'message': 'After deleting the server group, jump to the correct page\n\nOn the server group Details page, after deleting the server group,\njump to a wrong page.\n\nThis patch jump to the correct page after deleting the server group.\n\nChange-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa\nCloses-Bug: #1821851\n'}]",1,648013,6dc4bd203d3e44ce6500a4b81a27158d6c73185c,20,5,6,27822,,,0,"After deleting the server group, jump to the correct page

On the server group Details page, after deleting the server group,
jump to a wrong page.

This patch jump to the correct page after deleting the server group.

Change-Id: If47aa64a8539bcc3996aa484db1e847a3059c2aa
Closes-Bug: #1821851
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/648013/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/server_groups/actions/delete.action.service.js'],1,048a3b03b9a4a40cb38f370142712b2ed86b2774,bug/1821851," '$location', $location, var path = '/project/server_groups'; if ($location.url() !== path && actionResult.result.failed.length === 0 && actionResult.result.deleted.length > 0) { $location.path(path); } else { return actionResult.result; }", return actionResult.result;,9,1
openstack%2Ftempest~master~I029aa08cb7286e1b4cd995642928d667b87afb44,openstack/tempest,master,I029aa08cb7286e1b4cd995642928d667b87afb44,add show detail for volume Api V3,MERGED,2019-07-29 10:15:57.000000000,2019-08-08 07:05:06.000000000,2019-08-08 07:05:06.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26458}, {'_account_id': 27615}, {'_account_id': 30409}]","[{'number': 1, 'created': '2019-07-29 10:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/083a980941282a6f8165464839827d3046ee16e1', 'message': 'add show detail for volume API V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 2, 'created': '2019-07-30 01:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1423e8b454812aefb852ef94c378b315d4b7c7be', 'message': 'add show detail for volume API V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 3, 'created': '2019-07-30 04:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1df1a964dd99d5d54d9c13f3ec1dc35d9ba613b4', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 4, 'created': '2019-07-31 01:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c3b5eb0d864cea13ee5aed7700b2feafff35601', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 5, 'created': '2019-07-31 02:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fa89088dc5de74946760b106f5673ae2dad73591', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 6, 'created': '2019-08-05 11:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40bdd4429b2a081266a43f2fdbed4e7323a1ccff', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 7, 'created': '2019-08-06 05:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5fe1b0a231a3e832aae218566542fdeaaaae2f64', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 8, 'created': '2019-08-06 07:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/97bcd70343044f6c8483aeb72bcfb643a9835b38', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 9, 'created': '2019-08-07 03:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c09ef72dedfd007d3924467b4665693a1f06a422', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}, {'number': 10, 'created': '2019-08-07 04:16:41.000000000', 'files': ['releasenotes/notes/add-show-api-v3-details-api-to-v3-versions-client-4b408427379cabfe.yaml', 'tempest/tests/lib/services/volume/v3/test_versions_client.py', 'tempest/lib/services/volume/v3/versions_client.py', 'tempest/lib/api_schema/response/volume/versions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/db10fb0703eefd3ee69d9c9e76da748fc0403868', 'message': 'add show detail for volume Api V3\n\nadd show details for volume api v3 and add unit test\n\nChange-Id: I029aa08cb7286e1b4cd995642928d667b87afb44\n'}]",37,673260,db10fb0703eefd3ee69d9c9e76da748fc0403868,51,10,10,30409,,,0,"add show detail for volume Api V3

add show details for volume api v3 and add unit test

Change-Id: I029aa08cb7286e1b4cd995642928d667b87afb44
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/673260/10 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-show-api-v3-details-api-to-v3-versions-client-4b408427379cabfe.yaml', 'tempest/tests/lib/services/volume/v3/test_versions_client.py', 'tempest/lib/services/volume/v3/versions_client.py', 'tempest/lib/api_schema/response/volume/versions.py']",4,083a980941282a6f8165464839827d3046ee16e1,," volumn_api_v3_details = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'versions': { 'type': 'array', 'items': { 'type': 'object', 'properties': { 'status': {'type': 'string'}, 'updated': {'type': 'string'}, 'id': {'type': 'string'}, 'links': { 'type': 'array', 'items': { 'type': 'object', 'properties': { 'href': {'type': 'string', 'format': 'uri'}, 'rel': {'type': 'string'}, 'type': {'type': 'string'}, }, 'required': ['href', 'rel'] } }, 'min_version': {'type': 'string'}, 'version': {'type': 'string'}, 'media-types': { 'type': 'array', 'properties': { 'base': {'type': 'string'}, 'type': {'type': 'string'} }, 'required': ['base', 'type'] } }, 'required': ['status', 'updated', 'id', 'links', 'min_version', 'version', 'media-types'] } } }, 'required': ['versions'], } }",,118,0
openstack%2Ftripleo-docs~master~I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e,openstack/tripleo-docs,master,I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e,Override multiple ceph.conf sections using CephConfigOverrides,MERGED,2019-08-02 08:58:46.000000000,2019-08-08 06:47:13.000000000,2019-08-08 06:47:13.000000000,"[{'_account_id': 277}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-02 08:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/da850d7da74943599046e55762243664d3645bd2', 'message': 'Override multiple ceph.conf sections using CephConfigOverrides\n\nWith the latest ceph-base change we now have the ability to\noverride the variables in multiple sections of ceph.conf other\nthan global.\nThis change improves the existing example of CephConfigOverrides\ndefinition with an additional parameter in the [osd] section.\n\nDepends-On: https://review.opendev.org/#/c/658161\nChange-Id: I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e\n'}, {'number': 2, 'created': '2019-08-06 06:53:39.000000000', 'files': ['doc/source/install/advanced_deployment/ceph_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/341b9936607b576d15b01dd52acb0c2a5f7fd65b', 'message': 'Override multiple ceph.conf sections using CephConfigOverrides\n\nWith the latest ceph-base change we now have the ability to\noverride the variables in multiple sections of ceph.conf other\nthan global.\nThis change improves the existing example of CephConfigOverrides\ndefinition with an additional parameter in the [osd] section.\n\nDepends-On: https://review.opendev.org/#/c/658161\nChange-Id: I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e\n'}]",2,674234,341b9936607b576d15b01dd52acb0c2a5f7fd65b,15,8,2,25402,,,0,"Override multiple ceph.conf sections using CephConfigOverrides

With the latest ceph-base change we now have the ability to
override the variables in multiple sections of ceph.conf other
than global.
This change improves the existing example of CephConfigOverrides
definition with an additional parameter in the [osd] section.

Depends-On: https://review.opendev.org/#/c/658161
Change-Id: I9d5cf96622b895cd0dad83b6fd3e41ed7204d50e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/34/674234/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ceph_config.rst'],1,da850d7da74943599046e55762243664d3645bd2,bp/ceph-config-overrides,`ceph.conf` sections settings may be set directly using global: max_open_files: 131072 osd: osd journal_size: 40960 global: osd_recovery_op_priority: 3 osd_recovery_max_active: 3 osd_max_backfills: 1,global settings in the `ceph.conf` may be set directly using max_open_files: 131072 osd_recovery_op_priority: 3 osd_recovery_max_active: 3 osd_max_backfills: 1,9,5
openstack%2Fironic~master~I1cae6e9b4ff124e3404bd55638bc77bdf3465fe0,openstack/ironic,master,I1cae6e9b4ff124e3404bd55638bc77bdf3465fe0,Clean up RAID documentation,MERGED,2019-08-07 16:28:08.000000000,2019-08-08 06:21:48.000000000,2019-08-08 06:21:48.000000000,"[{'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-08-07 16:28:08.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a3d9a664efc75b7f3e8a7397ca06ba2e4bb474f', 'message': ""Clean up RAID documentation\n\n* Use more copy-paste friendly indentation in the examples\n* Use subheadings for properties\n* Render JSON examples as JSON\n* Remove explicit API version from CLI, we've been defaulting\n  to latest for several releases.\n* Small fixes\n\nChange-Id: I1cae6e9b4ff124e3404bd55638bc77bdf3465fe0\n""}]",0,675145,7a3d9a664efc75b7f3e8a7397ca06ba2e4bb474f,8,4,1,10239,,,0,"Clean up RAID documentation

* Use more copy-paste friendly indentation in the examples
* Use subheadings for properties
* Render JSON examples as JSON
* Remove explicit API version from CLI, we've been defaulting
  to latest for several releases.
* Small fixes

Change-Id: I1cae6e9b4ff124e3404bd55638bc77bdf3465fe0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/675145/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,7a3d9a664efc75b7f3e8a7397ca06ba2e4bb474f,raid," ""logical_disks"": [ {<desired properties of logical disk 1>}, {<desired properties of logical disk 2>}, ... ] openstack baremetal driver raid property list <driver name> Mandatory properties ^^^^^^^^^^^^^^^^^^^^ These properties must be specified for each logical disk and have no default values: - ``size_gb`` - Size (Integer) of the logical disk to be created in GiB. ``MAX`` may be specified if the logical disk should use all of the remaining space available. This can be used only when backing physical disks are specified (see below). - ``raid_level`` - RAID level for the logical disk. Ironic supports the following RAID levels: 0, 1, 2, 5, 6, 1+0, 5+0, 6+0. Optional properties ^^^^^^^^^^^^^^^^^^^ These properties have default values and they may be overridden in the specification of any logical disk. - ``volume_name`` - Name of the volume. Should be unique within the Node. If not specified, volume name will be auto-generated. - ``is_root_volume`` - Set to ``true`` if this is the root volume. At most one logical disk can have this set to ``true``; the other logical disks must have this set to ``false``. The ``root device hint`` will be saved, if the RAID interface is capable of retrieving it. This is ``false`` by default. Backing physical disk hints ^^^^^^^^^^^^^^^^^^^^^^^^^^^ These hints are specified for each logical disk to let Ironic find the desired disks for RAID configuration. This is machine-independent information. This serves the use-case where the operator doesn't want to provide individual details for each bare metal node. - ``share_physical_disks`` - Set to ``true`` if this logical disk can share physical disks with other logical disks. The default value is ``false``. - ``disk_type`` - ``hdd`` or ``ssd``. If this is not specified, disk type will not be a criterion to find backing physical disks. - ``interface_type`` - ``sata`` or ``scsi`` or ``sas``. If this is not specified, interface type will not be a criterion to find backing physical disks. - ``number_of_physical_disks`` - Integer, number of disks to use for the logical disk. Defaults to minimum number of disks required for the particular RAID level. Backing physical disks ^^^^^^^^^^^^^^^^^^^^^^ These are the actual machine-dependent information. This is suitable for environments where the operator wants to automate the selection of physical disks with a 3rd-party tool based on a wider range of attributes (eg. S.M.A.R.T. status, physical location). The values for these properties are hardware dependent. - ``controller`` - The name of the controller as read by the RAID interface. In order to trigger the setup of a Software RAID via the Ironic Python Agent, the value of this property needs to be set to ``software``. - ``physical_disks`` - A list of physical disks to use as read by the RAID interface.available. Make this the root volume to which Ironic deploys the image: .. code-block:: json { ""logical_disks"": [ { ""size_gb"": ""MAX"", ""raid_level"": ""5"", ""is_root_volume"": true } ]HDD: .. code-block:: json { ""logical_disks"": [ { ""size_gb"": 100, ""raid_level"": ""5"", ""is_root_volume"": true, ""disk_type"": ""ssd"" }, { ""size_gb"": 500, ""raid_level"": ""1"", ""disk_type"": ""hdd"" } ] } *Example 3*. Single RAID disk. I know which disks and controller to use: .. code-block:: json { ""logical_disks"": [ { ""size_gb"": 100, ""raid_level"": ""5"", ""controller"": ""Smart Array P822 in Slot 3"", ""physical_disks"": [""6I:1:5"", ""6I:1:6"", ""6I:1:7""], ""is_root_volume"": true } ] } *Example 4*. Using backing physical disks: .. code-block:: json { ""logical_disks"": [ { ""size_gb"": 50, ""raid_level"": ""1+0"", ""controller"": ""RAID.Integrated.1-1"", ""volume_name"": ""root_volume"", ""is_root_volume"": true, ""physical_disks"": [ ""Disk.Bay.0:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.1:Encl.Int.0-1:RAID.Integrated.1-1"" ] }, { ""size_gb"": 100, ""raid_level"": ""5"", ""controller"": ""RAID.Integrated.1-1"", ""volume_name"": ""data_volume"", ""physical_disks"": [ ""Disk.Bay.2:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.3:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.4:Encl.Int.0-1:RAID.Integrated.1-1"" ] } ] } *Example 5*. Software RAID with two RAID devices: .. code-block:: json { ""logical_disks"": [ { ""size_gb"": 100, ""raid_level"": ""1"", ""controller"": ""software"" }, { ""size_gb"": ""MAX"", ""raid_level"": ""0"", ""controller"": ""software"" } ] openstack baremetal node show <node-uuid-or-name> The CLI command can accept the input from standard input also:: disks using e.g. the ``erase_devices_metadata`` clean step before building RAID:: [{ ""interface"": ""raid"", ""step"": ""delete_configuration"" }, { ""interface"": ""deploy"", ""step"": ""erase_devices_metadata"" { ""interface"": ""raid"", ""step"": ""create_configuration"" }] openstack flavor set my-baremetal-flavor --property capabilities:raid_level=""1+0"""," ""logical_disks"": [ {<desired properties of logical disk 1>}, {<desired properties of logical disk 2>}, . . . ] openstack baremetal --os-baremetal-api-version 1.15 driver raid property list <driver name> The RAID feature is available in ironic API version 1.15 and above. If ``--os-baremetal-api-version`` is not used in the CLI, it will error out with the following message:: No API version was specified and the requested operation was not supported by the client's negotiated API version 1.9. Supported version range is: 1.1 to ... where the ""..."" in above error message would be the maximum version supported by the service. The RAID properties can be split into 4 different types: #. Mandatory properties. These properties must be specified for each logical disk and have no default values. - ``size_gb`` - Size (Integer) of the logical disk to be created in GiB. ``MAX`` may be specified if the logical disk should use all of the remaining space available. This can be used only when backing physical disks are specified (see below). - ``raid_level`` - RAID level for the logical disk. Ironic supports the following RAID levels: 0, 1, 2, 5, 6, 1+0, 5+0, 6+0. #. Optional properties. These properties have default values and they may be overridden in the specification of any logical disk. - ``volume_name`` - Name of the volume. Should be unique within the Node. If not specified, volume name will be auto-generated. - ``is_root_volume`` - Set to ``true`` if this is the root volume. At most one logical disk can have this set to ``true``; the other logical disks must have this set to ``false``. The ``root device hint`` will be saved, if the RAID interface is capable of retrieving it. This is ``false`` by default. #. Backing physical disk hints. These hints are specified for each logical disk to let Ironic find the desired disks for RAID configuration. This is machine-independent information. This serves the use-case where the operator doesn't want to provide individual details for each bare metal node. - ``share_physical_disks`` - Set to ``true`` if this logical disk can share physical disks with other logical disks. The default value is ``false``. - ``disk_type`` - ``hdd`` or ``ssd``. If this is not specified, disk type will not be a criterion to find backing physical disks. - ``interface_type`` - ``sata`` or ``scsi`` or ``sas``. If this is not specified, interface type will not be a criterion to find backing physical disks. - ``number_of_physical_disks`` - Integer, number of disks to use for the logical disk. Defaults to minimum number of disks required for the particular RAID level. #. Backing physical disks. These are the actual machine-dependent information. This is suitable for environments where the operator wants to automate the selection of physical disks with a 3rd-party tool based on a wider range of attributes (eg. S.M.A.R.T. status, physical location). The values for these properties are hardware dependent. - ``controller`` - The name of the controller as read by the RAID interface. In order to trigger the setup of a Software RAID via the Ironic Python Agent, the value of this property needs to be set to ``software``. - ``physical_disks`` - A list of physical disks to use as read by the RAID interface.available. Make this the root volume to which Ironic deploys the image:: { ""logical_disks"": [ { ""size_gb"": ""MAX"", ""raid_level"": ""5"", ""is_root_volume"": true } ]HDD:: { ""logical_disks"": [ { ""size_gb"": 100, ""raid_level"": ""5"", ""is_root_volume"": true, ""disk_type"": ""ssd"" }, { ""size_gb"": 500, ""raid_level"": ""1"", ""disk_type"": ""hdd"" } ] } *Example 3*. Single RAID disk. I know which disks and controller to use:: { ""logical_disks"": [ { ""size_gb"": 100, ""raid_level"": ""5"", ""controller"": ""Smart Array P822 in Slot 3"", ""physical_disks"": [""6I:1:5"", ""6I:1:6"", ""6I:1:7""], ""is_root_volume"": true } ] } *Example 4*. Using backing physical disks:: { ""logical_disks"": [ { ""size_gb"": 50, ""raid_level"": ""1+0"", ""controller"": ""RAID.Integrated.1-1"", ""volume_name"": ""root_volume"", ""is_root_volume"": true, ""physical_disks"": [ ""Disk.Bay.0:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.1:Encl.Int.0-1:RAID.Integrated.1-1"" ] }, { ""size_gb"": 100, ""raid_level"": ""5"", ""controller"": ""RAID.Integrated.1-1"", ""volume_name"": ""data_volume"", ""physical_disks"": [ ""Disk.Bay.2:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.3:Encl.Int.0-1:RAID.Integrated.1-1"", ""Disk.Bay.4:Encl.Int.0-1:RAID.Integrated.1-1"" ] } ] } *Example 5*. Software RAID with two RAID devices:: { ""logical_disks"": [ { ""size_gb"": 100, ""raid_level"": ""1"", ""controller"": ""software"" }, { ""size_gb"": ""MAX"", ""raid_level"": ""0"", ""controller"": ""software"" } ] openstack baremetal --os-baremetal-api-version 1.15 node show <node-uuid-or-name> The CLI command can accept the input from standard input also: disks using e.g. the ``erase_device_metadata`` clean step before building RAID. nova flavor-key my-baremetal-flavor set capabilities:raid_level=""1+0""",154,137
openstack%2Fmasakari~master~Id11324a568ac3b79f19244f1a72dbe784d2a1979,openstack/masakari,master,Id11324a568ac3b79f19244f1a72dbe784d2a1979,Add devstack support to install host-monitor,NEW,2019-07-17 07:14:25.000000000,2019-08-08 06:11:54.000000000,,"[{'_account_id': 1011}, {'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 26458}, {'_account_id': 26541}, {'_account_id': 27302}]","[{'number': 1, 'created': '2019-07-17 07:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/38f79742a7d65dca41d23392ea873fa15445d559', 'message': 'Add devstack support to install host-monitor\n\nAdded support to install host-monitor service. It configures the\npacemaker and corosync services and also configures stonith resource\n``external/ipmi`` which by default will power off the compute host if\nit detects corosync service on the failed host is offline.\n\nChange-Id: Id11324a568ac3b79f19244f1a72dbe784d2a1979\n'}, {'number': 2, 'created': '2019-07-18 09:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3d24608a819f1d7f1c0c953768c22cc50dae621b', 'message': 'Add devstack support to install host-monitor\n\nAdded support to install host-monitor service. It configures the\npacemaker and corosync services and also configures stonith resource\n``external/ipmi`` which by default will power off the compute host if\nit detects corosync service on the failed host is offline.\n\nChange-Id: Id11324a568ac3b79f19244f1a72dbe784d2a1979\n'}, {'number': 3, 'created': '2019-07-25 08:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/7ee15211dab34e11796dd69618815c9106de45ab', 'message': 'Add devstack support to install host-monitor\n\nAdded support to install host-monitor service. It configures the\npacemaker and corosync services and also configures stonith resource\n``external/ipmi`` which by default will power off the compute host if\nit detects corosync service on the failed host is offline.\n\nChange-Id: Id11324a568ac3b79f19244f1a72dbe784d2a1979\n'}, {'number': 4, 'created': '2019-07-30 13:55:42.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/masakari/commit/1298945943e24ac993a978124b070d75878c5f34', 'message': 'Add devstack support to install host-monitor\n\nAdded support to install host-monitor service. It configures the\npacemaker and corosync services and also configures stonith resource\n``external/ipmi`` which by default will power off the compute host if\nit detects corosync service on the failed host is offline.\n\nChange-Id: Id11324a568ac3b79f19244f1a72dbe784d2a1979\n'}]",7,671200,1298945943e24ac993a978124b070d75878c5f34,18,8,4,27302,,,0,"Add devstack support to install host-monitor

Added support to install host-monitor service. It configures the
pacemaker and corosync services and also configures stonith resource
``external/ipmi`` which by default will power off the compute host if
it detects corosync service on the failed host is offline.

Change-Id: Id11324a568ac3b79f19244f1a72dbe784d2a1979
",git fetch https://review.opendev.org/openstack/masakari refs/changes/00/671200/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,38f79742a7d65dca41d23392ea873fa15445d559,install-host-monitor,COROSYNC_CONF=${COROSYNC_CONF_DIR:-/etc/corosync/corosync.conf} COROSYNC_DEFAULT_CONF=${COROSYNC_DEFAULT_CONF_DIR:-/etc/default/corosync}# set environment variables required by masakari-monitorsCOROSYNC_MULTICAST_PORTS=5405STONITH_USER=${STONITH_USER:-admin} STONITH_PASSWORD=${STONITH_PASSWORD:-admin} IPMI_PRIV_LEVEL=${IPMI_PRIV_LEVEL:-operator} ,# set environment variables,154,7
openstack%2Fhorizon~master~I1acdff5f2389ae88872ed198a2b3cee9dc61f705,openstack/horizon,master,I1acdff5f2389ae88872ed198a2b3cee9dc61f705,Define new 'horizon-tempest-plugin-ipv6' job in gate,MERGED,2019-07-20 20:04:01.000000000,2019-08-08 05:49:29.000000000,2019-08-08 05:49:28.000000000,"[{'_account_id': 841}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-20 20:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ae23aa9f23e90d8215e0396969674ae9e759525d', 'message': ""Define new 'horizon-tempest-plugin-ipv6' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' (adding\nin Depends-On patch) which will deploy services on IPv6.\n\nThis commit adds the new job 'horizon-tempest-plugin-ipv6'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'horizon-tempest-plugin-ipv6' will run the tests.\n\nStory: #2005477\nTask: #35893\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I1acdff5f2389ae88872ed198a2b3cee9dc61f705\n""}, {'number': 2, 'created': '2019-07-24 10:17:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3aac4a257d6e89a62281e5a3302e66c491a9883d', 'message': ""Define new 'horizon-tempest-plugin-ipv6' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and\nTesting'[1], Tempest has defined the base job 'devstack-tempest-ipv6'\n(adding in Depends-On patch) which will deploy services on IPv6.\n\nThis commit adds the new job 'horizon-tempest-plugin-ipv6'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and\n  listen address\n- 'horizon-tempest-plugin-ipv6' will run the tests.\n\nStory: #2005477\nTask: #35893\n\nDepends-On: https://review.opendev.org/#/c/671231/\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I1acdff5f2389ae88872ed198a2b3cee9dc61f705\n""}]",7,671910,3aac4a257d6e89a62281e5a3302e66c491a9883d,24,4,2,8556,,,0,"Define new 'horizon-tempest-plugin-ipv6' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and
Testing'[1], Tempest has defined the base job 'devstack-tempest-ipv6'
(adding in Depends-On patch) which will deploy services on IPv6.

This commit adds the new job 'horizon-tempest-plugin-ipv6'
run on gate which is derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and
  listen address
- 'horizon-tempest-plugin-ipv6' will run the tests.

Story: #2005477
Task: #35893

Depends-On: https://review.opendev.org/#/c/671231/

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I1acdff5f2389ae88872ed198a2b3cee9dc61f705
",git fetch https://review.opendev.org/openstack/horizon refs/changes/10/671910/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ae23aa9f23e90d8215e0396969674ae9e759525d,ipv6-only-deployment-and-testing, required-projects: &base_required_projects irrelevant-files: &base_irrelevant_files vars: &base_vars name: horizon-tempest-plugin-ipv6 parent: devstack-tempest-ipv6 required-projects: *base_required_projects irrelevant-files: *base_irrelevant_files vars: *base_vars - job:, required-projects: irrelevant-files: vars:,10,3
openstack%2Fdevstack~master~Ib2c85ec262b027351872e2b5a39b06a4ba1b880a,openstack/devstack,master,Ib2c85ec262b027351872e2b5a39b06a4ba1b880a,Add 'tempest-ipv6-only' job on devstack gate,MERGED,2019-07-31 12:42:09.000000000,2019-08-08 05:24:10.000000000,2019-08-08 05:24:09.000000000,"[{'_account_id': 5803}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 12:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ca0723228d5816d773e01f7d43837133eee19fc3', 'message': ""Add 'tempest-ipv6-only' job on devstack gate\n\nWe recently added the 'tempest-ipv6-only' job on\ntempest side which will use the devstack base job\n'devstack-ipv6' job and add more verification and testing\nfor IPv6 deployment.\n\nLet's add that job on devstack gate also to avoid any\nbreak due to devstack changes.\n\nChange-Id: Ib2c85ec262b027351872e2b5a39b06a4ba1b880a\nStory: #2005477\nTask: #35923\n""}, {'number': 2, 'created': '2019-08-01 05:01:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/99bcaf5721b89a7e74b6ac8888d82e3f83b04ef4', 'message': ""Add 'tempest-ipv6-only' job on devstack gate\n\nWe recently added the 'tempest-ipv6-only' job on\ntempest side which will use the devstack base job\n'devstack-ipv6' job and add more verification and testing\nfor IPv6 deployment.\n\nLet's add that job on devstack gate also to avoid any\nbreak due to devstack changes.\n\nChange-Id: Ib2c85ec262b027351872e2b5a39b06a4ba1b880a\nStory: #2005477\nTask: #35923\n""}]",0,673806,99bcaf5721b89a7e74b6ac8888d82e3f83b04ef4,9,3,2,8556,,,0,"Add 'tempest-ipv6-only' job on devstack gate

We recently added the 'tempest-ipv6-only' job on
tempest side which will use the devstack base job
'devstack-ipv6' job and add more verification and testing
for IPv6 deployment.

Let's add that job on devstack gate also to avoid any
break due to devstack changes.

Change-Id: Ib2c85ec262b027351872e2b5a39b06a4ba1b880a
Story: #2005477
Task: #35923
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/673806/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ca0723228d5816d773e01f7d43837133eee19fc3,ipv6-only-deployment-and-testing, - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,,8,0
openstack%2Ftripleo-heat-templates~master~I60855988c1b465312e66b6850cb49a0884766f03,openstack/tripleo-heat-templates,master,I60855988c1b465312e66b6850cb49a0884766f03,fix /var/lib/vhost_sockets permission issue,ABANDONED,2019-08-07 10:18:21.000000000,2019-08-08 04:31:50.000000000,,"[{'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-07 10:18:21.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/756c1058a04a9698dfd32d71cd98d5165ba42147', 'message': 'fix /var/lib/vhost_sockets permission issue\n\nChange-Id: I60855988c1b465312e66b6850cb49a0884766f03\nCloses-Bug: 1839302\n'}]",0,675079,756c1058a04a9698dfd32d71cd98d5165ba42147,8,5,1,21778,,,0,"fix /var/lib/vhost_sockets permission issue

Change-Id: I60855988c1b465312e66b6850cb49a0884766f03
Closes-Bug: 1839302
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/675079/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,756c1058a04a9698dfd32d71cd98d5165ba42147,bug/1839302, mode: 0775,,1,0
openstack%2Ftrove~master~I26aa1619cfc6d5d65692ad0047f632731a00cfc7,openstack/trove,master,I26aa1619cfc6d5d65692ad0047f632731a00cfc7,Added a bindep file to install binaries in CI,ABANDONED,2019-06-26 01:59:16.000000000,2019-08-08 04:30:09.000000000,,"[{'_account_id': 6547}, {'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 01:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b27470bda202b7ebd7d080cc486328016248a631', 'message': 'Added a bindep file to install binaries in CI\n\nChange-Id: I26aa1619cfc6d5d65692ad0047f632731a00cfc7\n'}, {'number': 2, 'created': '2019-07-29 09:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ae4623db63951d154a63b28582bb2f598a7a42cf', 'message': 'Added a bindep file to install binaries in CI\n\nChange-Id: I26aa1619cfc6d5d65692ad0047f632731a00cfc7\n'}, {'number': 3, 'created': '2019-07-29 23:46:35.000000000', 'files': ['bindep.txt', 'roles/trove-devstack/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/trove/commit/6c011a69e0a331ea5c3dff4568e3e6ec9109acc2', 'message': 'Added a bindep file to install binaries in CI\n\nChange-Id: I26aa1619cfc6d5d65692ad0047f632731a00cfc7\n'}]",1,667488,6c011a69e0a331ea5c3dff4568e3e6ec9109acc2,28,5,3,3031,,,0,"Added a bindep file to install binaries in CI

Change-Id: I26aa1619cfc6d5d65692ad0047f632731a00cfc7
",git fetch https://review.opendev.org/openstack/trove refs/changes/88/667488/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b27470bda202b7ebd7d080cc486328016248a631,667488,"# This is a cross-platform list tracking distribution packages needed for install and tests; # see https://docs.openstack.org/infra/bindep/ for additional information. build-essential [platform:dpkg test] gcc [platform:rpm test] # gettext and graphviz are needed by doc builds only. For transition, # have them in both doc and test. # TODO(jaegerandi): Remove test once infra scripts are updated. gettext [doc test] graphviz [doc test] language-pack-en [platform:ubuntu] libffi-dev [platform:dpkg test] libffi-devel [platform:rpm test] libmysqlclient-dev [platform:dpkg] libpq-dev [platform:dpkg test] libsqlite3-dev [platform:dpkg test] libxml2-dev [platform:dpkg test] libxslt-devel [platform:rpm test] libxslt1-dev [platform:dpkg test] locales [platform:debian] mysql [platform:rpm] mysql-client [platform:dpkg] mysql-devel [platform:rpm test] mysql-server pkg-config [platform:dpkg test] pkgconfig [platform:rpm test] postgresql postgresql-client [platform:dpkg] postgresql-devel [platform:rpm test] postgresql-server [platform:rpm] python-dev [platform:dpkg test] python-devel [platform:rpm test] python3-all [platform:dpkg !platform:ubuntu-precise] python3-all-dev [platform:dpkg !platform:ubuntu-precise] python3-devel [platform:fedora] python34-devel [platform:centos] sqlite-devel [platform:rpm test] libpcre3-dev [platform:dpkg test] pcre-devel [platform:rpm test] ",,39,0
openstack%2Fmanila~master~Icdd7eafac412982e5770f9a8a7b7d57c91ad6cea,openstack/manila,master,Icdd7eafac412982e5770f9a8a7b7d57c91ad6cea,Fix incorrect 'cephfnfs1' to 'cephfsnfs1',MERGED,2019-08-08 01:31:02.000000000,2019-08-08 04:18:18.000000000,2019-08-08 01:58:18.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-08 01:31:02.000000000', 'files': ['doc/source/admin/cephfs_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/0f4997d0eef319c35bc95ff30f48ce153507217d', 'message': ""Fix incorrect 'cephfnfs1' to 'cephfsnfs1'\n\nChange-Id: Icdd7eafac412982e5770f9a8a7b7d57c91ad6cea\n""}]",0,675237,0f4997d0eef319c35bc95ff30f48ce153507217d,12,6,1,23950,,,0,"Fix incorrect 'cephfnfs1' to 'cephfsnfs1'

Change-Id: Icdd7eafac412982e5770f9a8a7b7d57c91ad6cea
",git fetch https://review.opendev.org/openstack/manila refs/changes/37/675237/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cephfs_driver.rst'],1,0f4997d0eef319c35bc95ff30f48ce153507217d,,"using the section name, ``cephfsnfs1``.","using the section name, ``cephfnfs1``.",1,1
openstack%2Fplacement~master~I88e42ef18bd5b2616a93730241d2419c6b431276,openstack/placement,master,I88e42ef18bd5b2616a93730241d2419c6b431276,Optimize trait creation to check existence first,MERGED,2019-07-30 15:18:46.000000000,2019-08-08 03:47:24.000000000,2019-08-08 03:47:24.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 15:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9111928f1a6b0113504d49dd5c7665e4fcf7395a', 'message': 'Optimize trait creation to use cache\n\nComparing benchmarks of creating (repeated) resource classes with\ntraits, it became clear that creating resource classes was about\n1/3rd faster. Comparing the code, they were very similar, however\nthe resource class side was ordered to check the cache first before\nattempting to do a create(). The meant that in the fairly common\ncase where a reource class already existed the database would be hit\nonly once, instead of twice.\n\nThis change updates the ""ensure trait"" routine to be the same as the\n""ensure resource class"" routine: check that it is already there,\nfirst. Since it is best practice to always ensure trait or resource\nclass before using a CUSTOM_ one, this is a good orientation.\n\nChange-Id: I88e42ef18bd5b2616a93730241d2419c6b431276\n'}, {'number': 2, 'created': '2019-07-30 16:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b04c771a9ffdf8c0eb31522eb10fd4850b74ae00', 'message': 'Optimize trait creation to check existence first\n\nComparing benchmarks of creating (repeated) resource classes with\ntraits, it became clear that creating resource classes [1] was about\n1/3rd faster. Comparing the code, they were very similar, however\nthe resource class side was ordered to check for existence first\nbefore attempting to do a create(). The meant that in the fairly common\ncase where a reource class already existed we could finish early.\n\nThis change updates the code so that the common idiom used in client\nof ""ensuring a trait"" with PUT /traits/$name routine to be the same\nas the ""ensuring a resource class"" with PUT /resource_classes/$name\nroutine: check that it is already there, first. Since it is best\npractice to always ensure trait or resource class before using a\nCUSTOM_ one, this is a good orientation.\n\nNote that with the recent addition of the AttributeCache, these queries\nfor get_by_name [2] go to the ResourceClass of Trait cache. However, at\nthis stage in processing, the cache is empty and call to get_by_name will\nfill it.\n\n[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209\n[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72\n\nChange-Id: I88e42ef18bd5b2616a93730241d2419c6b431276\n'}, {'number': 3, 'created': '2019-07-31 08:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/31d88703782f00271240a6a7197f6899c2698983', 'message': 'Optimize trait creation to check existence first\n\nComparing benchmarks of creating (repeated) resource classes with\ntraits, it became clear that creating resource classes [1] was about\n1/3rd faster. Comparing the code, they were very similar, however\nthe resource class side was ordered to check for existence first\nbefore attempting to do a create(). This meant that in the fairly common\ncase where a reource class already existed we could finish early.\n\nThis change updates the code so that the common idiom used in clients\nof ""ensuring a trait"" with PUT /traits/$name routine to be the same\nas the ""ensuring a resource class"" with PUT /resource_classes/$name\nroutine: check that it is already there, first. Since it is best\npractice to always ensure trait or resource class before using a\nCUSTOM_ one, this is a good orientation.\n\nNote that with the recent addition of the AttributeCache, these queries\nfor get_by_name [2] go to the ResourceClass or Trait cache. However, at\nthis stage in processing, the cache is empty and calls to get_by_name\nwill fill it.\n\nA unit test is added to confirm the the \'put_trait\' handler will\nlook at get_by_name. The general behavior of whether a trait is\nis created or updated is confirmed by the gabbit tests in trait.yaml.\n\n[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209\n[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72\n\nChange-Id: I88e42ef18bd5b2616a93730241d2419c6b431276\n'}, {'number': 4, 'created': '2019-07-31 14:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/baea7003603e6c957002d501fafe7f95896885d8', 'message': 'Optimize trait creation to check existence first\n\nComparing benchmarks of creating (repeated) resource classes with\ntraits, it became clear that creating resource classes [1] was about\n1/3rd faster. Comparing the code, they were very similar, however\nthe resource class side was ordered to check for existence first\nbefore attempting to do a create(). This meant that in the fairly common\ncase where a reource class already existed we could finish early.\n\nThis change updates the code so that the common idiom used in clients\nof ""ensuring a trait"" with PUT /traits/$name routine to be the same\nas the ""ensuring a resource class"" with PUT /resource_classes/$name\nroutine: check that it is already there, first. Since it is best\npractice to always ensure trait or resource class before using a\nCUSTOM_ one, this is a good orientation.\n\nNote that with the recent addition of the AttributeCache, these queries\nfor get_by_name [2] go to the ResourceClass or Trait cache. However, at\nthis stage in processing, the cache is empty and calls to get_by_name\nwill fill it.\n\nA unit test is added to confirm that the \'put_trait\' handler will look\nat get_by_name and then go back to assuming the trait exists if the\ncreate() fails because it already exists. The general behavior of\nwhether a trait is is created or updated is confirmed by the gabbit\ntests in trait.yaml.\n\n[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209\n[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72\n\nChange-Id: I88e42ef18bd5b2616a93730241d2419c6b431276\n'}, {'number': 5, 'created': '2019-08-06 08:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b2449e3f91a8d393d00abcb8195160b00772b232', 'message': 'Optimize trait creation to check existence first\n\nComparing benchmarks of creating (repeated) resource classes with\ntraits, it became clear that creating resource classes [1] was about\n1/3rd faster. Comparing the code, they were very similar, however\nthe resource class side was ordered to check for existence first\nbefore attempting to do a create(). This meant that in the fairly common\ncase where a resource class already existed we could finish early.\n\nThis change updates the code so that the common idiom used in clients\nof ""ensuring a trait"" with PUT /traits/$name routine to be the same\nas the ""ensuring a resource class"" with PUT /resource_classes/$name\nroutine: check that it is already there, first. Since it is best\npractice to always ensure trait or resource class before using a\nCUSTOM_ one, this is a good orientation.\n\nNote that with the recent addition of the AttributeCache, these queries\nfor get_by_name [2] go to the ResourceClass or Trait cache. However, at\nthis stage in processing, the cache is empty and calls to get_by_name\nwill fill it.\n\nA unit test is added to confirm that the \'put_trait\' handler will look\nat get_by_name and then go back to assuming the trait exists if the\ncreate() fails because it already exists. The general behavior of\nwhether a trait is created or updated is confirmed by the gabbit\ntests in trait.yaml.\n\n[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209\n[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72\n\nChange-Id: I88e42ef18bd5b2616a93730241d2419c6b431276\n'}, {'number': 6, 'created': '2019-08-07 14:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bc4617f0c968ba6526958046fdba60ec158d9153', 'message': 'Optimize trait creation to check existence first\n\nComparing benchmarks of creating (repeated) resource classes with\ntraits, it became clear that creating resource classes [1] was about\n1/3rd faster. Comparing the code, they were very similar, however\nthe resource class side was ordered to check for existence first\nbefore attempting to do a create(). This meant that in the fairly common\ncase where a resource class already existed we could finish early.\n\nThis change updates the code so that the common idiom used in clients\nof ""ensuring a trait"" with PUT /traits/$name routine to be the same\nas the ""ensuring a resource class"" with PUT /resource_classes/$name\nroutine: check that it is already there, first. Since it is best\npractice to always ensure trait or resource class before using a\nCUSTOM_ one, this is a good orientation.\n\nNote that with the recent addition of the AttributeCache, these queries\nfor get_by_name [2] go to the ResourceClass or Trait cache. However, at\nthis stage in processing, the cache is empty and calls to get_by_name\nwill fill it.\n\nA unit test is added to confirm that the \'put_trait\' handler will look\nat get_by_name and then go back to assuming the trait exists if the\ncreate() fails because it already exists. The general behavior of\nwhether a trait is created or updated is confirmed by the gabbit\ntests in trait.yaml. That test also confirms that we have a legit\nlast-modified time when we fall through both exceptions and make\nthe assumption that a trait was created by some other thread. It is\nsafe to use \'now\' as the last-modified time because it was created\nin this same second, just not by us.\n\n[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209\n[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72\n\nChange-Id: I88e42ef18bd5b2616a93730241d2419c6b431276\n'}, {'number': 7, 'created': '2019-08-07 15:42:10.000000000', 'files': ['placement/handlers/trait.py', 'placement/tests/unit/handlers/test_trait.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/5fd2d18c30642786b2475762c2f054a953f79c22', 'message': 'Optimize trait creation to check existence first\n\nComparing benchmarks of creating (repeated) resource classes with\ntraits, it became clear that creating resource classes [1] was about\n1/3rd faster. Comparing the code, they were very similar, however\nthe resource class side was ordered to check for existence first\nbefore attempting to do a create(). This meant that in the fairly common\ncase where a resource class already existed we could finish early.\n\nThis change updates the code so that the common idiom used in clients\nof ""ensuring a trait"" with PUT /traits/$name routine to be the same\nas the ""ensuring a resource class"" with PUT /resource_classes/$name\nroutine: check that it is already there, first. Since it is best\npractice to always ensure trait or resource class before using a\nCUSTOM_ one, this is a good orientation.\n\nNote that with the recent addition of the AttributeCache, these queries\nfor get_by_name [2] go to the ResourceClass or Trait cache. However, at\nthis stage in processing, the cache is empty and calls to get_by_name\nwill fill it.\n\nA unit test is added to confirm that the \'put_trait\' handler will look\nat get_by_name and then go back to assuming the trait exists if the\ncreate() fails because it already exists. The general behavior of\nwhether a trait is created or updated is confirmed by the gabbit\ntests in trait.yaml. That test also confirms that we have a legit\nlast-modified time when we fall through both exceptions and make\nthe assumption that a trait was created by some other thread. It is\nsafe to use \'now\' as the last-modified time because it was created\nin this same second, just not by us.\n\n[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209\n[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72\n\nChange-Id: I88e42ef18bd5b2616a93730241d2419c6b431276\n'}]",19,673555,5fd2d18c30642786b2475762c2f054a953f79c22,36,5,7,11564,,,0,"Optimize trait creation to check existence first

Comparing benchmarks of creating (repeated) resource classes with
traits, it became clear that creating resource classes [1] was about
1/3rd faster. Comparing the code, they were very similar, however
the resource class side was ordered to check for existence first
before attempting to do a create(). This meant that in the fairly common
case where a resource class already existed we could finish early.

This change updates the code so that the common idiom used in clients
of ""ensuring a trait"" with PUT /traits/$name routine to be the same
as the ""ensuring a resource class"" with PUT /resource_classes/$name
routine: check that it is already there, first. Since it is best
practice to always ensure trait or resource class before using a
CUSTOM_ one, this is a good orientation.

Note that with the recent addition of the AttributeCache, these queries
for get_by_name [2] go to the ResourceClass or Trait cache. However, at
this stage in processing, the cache is empty and calls to get_by_name
will fill it.

A unit test is added to confirm that the 'put_trait' handler will look
at get_by_name and then go back to assuming the trait exists if the
create() fails because it already exists. The general behavior of
whether a trait is created or updated is confirmed by the gabbit
tests in trait.yaml. That test also confirms that we have a legit
last-modified time when we fall through both exceptions and make
the assumption that a trait was created by some other thread. It is
safe to use 'now' as the last-modified time because it was created
in this same second, just not by us.

[1] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/handlers/resource_class.py#L209
[2] https://opendev.org/openstack/placement/src/commit/2f56f379a568d427ac9057086386074a7801b00c/placement/objects/resource_class.py#L72

Change-Id: I88e42ef18bd5b2616a93730241d2419c6b431276
",git fetch https://review.opendev.org/openstack/placement refs/changes/55/673555/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/handlers/trait.py'],1,9111928f1a6b0113504d49dd5c7665e4fcf7395a,cd/trait-create-order," status = 204 try: trait = trait_obj.Trait.get_by_name(context, name) except exception.TraitNotFound: trait = trait_obj.Trait(context, name=name) status = 201 except exception.TraitExists: # Something just created the trait pass req.response.status = status"," trait = trait_obj.Trait(context) trait.name = name try: req.response.status = 201 except exception.TraitExists: # Get the trait that already exists to get last-modified time. if want_version.matches((1, 15)): trait = trait_obj.Trait.get_by_name(context, name) req.response.status = 204 ",8,8
openstack%2Fcinder~master~I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519,openstack/cinder,master,I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519,extend_volume method fails if volume size is float,NEW,2019-08-02 02:35:25.000000000,2019-08-08 03:37:33.000000000,,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15648}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27623}, {'_account_id': 28801}, {'_account_id': 29627}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29855}, {'_account_id': 29964}]","[{'number': 1, 'created': '2019-08-02 02:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c023fcbb1902e8a5bfe9b9e83bf7c33cafa73997', 'message': 'extend_volume method fails if volume size is float\n\nRSD driver method fails when float volume size is passed to the\nextend_volume method. Fixed this bug by casting size_in_gb to int\n\nDepends-On: https://review.opendev.org/670677\nChange-Id: I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519\nCloses-Bug: #1838714\n'}, {'number': 2, 'created': '2019-08-06 00:35:55.000000000', 'files': ['cinder/volume/drivers/rsd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/088a78ee7f42c9b738f7c6b4a711d9bb96bc76d6', 'message': 'extend_volume method fails if volume size is float\n\nRSD driver method fails when float volume size is passed to the\nextend_volume method. Fixed this bug by casting size_in_gb to int\n\nChange-Id: I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519\nCloses-Bug: #1838714\n'}]",5,674154,088a78ee7f42c9b738f7c6b4a711d9bb96bc76d6,68,42,2,29964,,,0,"extend_volume method fails if volume size is float

RSD driver method fails when float volume size is passed to the
extend_volume method. Fixed this bug by casting size_in_gb to int

Change-Id: I7c0abd7ff0bcb620b3e686885e7e6f04b9f9a519
Closes-Bug: #1838714
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/674154/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rsd.py'],1,c023fcbb1902e8a5bfe9b9e83bf7c33cafa73997,bug/1838714, size_in_bytes = int(size_in_gb) * units.Gi, size_in_bytes = size_in_gb * units.Gi,1,1
openstack%2Fneutron~master~I40a8a3905435233e6c00c5439df287db5ab10ed6,openstack/neutron,master,I40a8a3905435233e6c00c5439df287db5ab10ed6,test_l3: Be a bit more selective where to inject a failiure,MERGED,2019-08-07 07:23:50.000000000,2019-08-08 03:28:53.000000000,2019-08-08 03:28:53.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-08-07 07:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/160fdfe2f27e54d26aacaff3764cab62d43868d0', 'message': 'test_l3: Be a bit more selective where to inject a failiure\n\nInstead of blindly making the first publish() fail.\n\nThe problem was exposed by the recent change. [1]\n\n[1] https://review.opendev.org/#/c/638274/\n\nCloses-Bug: #1839246\nChange-Id: I40a8a3905435233e6c00c5439df287db5ab10ed6\n'}, {'number': 2, 'created': '2019-08-07 07:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ecbc09d2e796afaaafb814cb2f0d271f703fc8a', 'message': 'test_l3: Be a bit more selective where to inject a failiure\n\nInstead of blindly making the first publish() fail.\n\nThe problem was exposed by the recent change. [1]\n\n[1] https://review.opendev.org/#/c/638274/\n\nCloses-Bug: #1839246\nChange-Id: I40a8a3905435233e6c00c5439df287db5ab10ed6\n'}, {'number': 3, 'created': '2019-08-07 10:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44ee18226bb07e414447c69e78c5d0e1ac4a7d91', 'message': 'test_l3: Be a bit more selective where to inject a failiure\n\nInstead of blindly making the first publish() fail.\n\nThe problem was exposed by the recent change. [1]\n\n[1] https://review.opendev.org/#/c/638274/\n\nCloses-Bug: #1839246\nChange-Id: I40a8a3905435233e6c00c5439df287db5ab10ed6\n'}, {'number': 4, 'created': '2019-08-07 13:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb745322c5cff55eaf78321d5746aa0b8cc6a118', 'message': 'test_l3: Be a bit more selective where to inject a failiure\n\nInstead of blindly making the first publish() fail.\n\nThe problem was exposed by the recent change. [1]\n\n[1] https://review.opendev.org/#/c/638274/\n\nCloses-Bug: #1839246\nChange-Id: I40a8a3905435233e6c00c5439df287db5ab10ed6\n'}, {'number': 5, 'created': '2019-08-07 14:39:30.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/330b6d6ba0fbfed92f4a785b301010e787cfdd27', 'message': 'test_l3: Be a bit more selective where to inject a failiure\n\nInstead of blindly making the first publish() fail.\n\nRemove assumptions about how many publish() calls are made.\n\nThese problems were exposed by the recent change. [1]\n\n[1] https://review.opendev.org/#/c/638274/\n\nCloses-Bug: #1839246\nChange-Id: I40a8a3905435233e6c00c5439df287db5ab10ed6\n'}]",3,675044,330b6d6ba0fbfed92f4a785b301010e787cfdd27,36,10,5,6854,,,0,"test_l3: Be a bit more selective where to inject a failiure

Instead of blindly making the first publish() fail.

Remove assumptions about how many publish() calls are made.

These problems were exposed by the recent change. [1]

[1] https://review.opendev.org/#/c/638274/

Closes-Bug: #1839246
Change-Id: I40a8a3905435233e6c00c5439df287db5ab10ed6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/675044/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/extensions/test_l3.py'],1,160fdfe2f27e54d26aacaff3764cab62d43868d0,bug/1839246," def my_publish(resource, event, trigger, payload): if resource == resources.ROUTER_GATEWAY and \ event == events.BEFORE_CREATE: return exceptions.CallbackFailure( errors=errors) notify.side_effect = my_publish", notify.side_effect = exceptions.CallbackFailure( errors=errors),6,2
openstack%2Foctavia~master~I2bab434523efee0ad755e794f00c3a1ca85ec68f,openstack/octavia,master,I2bab434523efee0ad755e794f00c3a1ca85ec68f,Re-enable the py36 tox environment,MERGED,2019-08-07 00:15:53.000000000,2019-08-08 03:03:03.000000000,2019-08-08 03:03:03.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 00:15:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/518241816c587315f59b56452b901bb339500372', 'message': 'Re-enable the py36 tox environment\n\nA recent automated patch[1] removed py36 from the tox default\nenvironment list. Since Ubuntu 18.04 includes python 3.6 and we\nstill include a functional-3.6 test, we should keep the py36\nenvironment in the list.\n\n[1] https://review.opendev.org/#/c/669440/\n\nChange-Id: I2bab434523efee0ad755e794f00c3a1ca85ec68f\n'}]",0,674962,518241816c587315f59b56452b901bb339500372,11,4,1,11628,,,0,"Re-enable the py36 tox environment

A recent automated patch[1] removed py36 from the tox default
environment list. Since Ubuntu 18.04 includes python 3.6 and we
still include a functional-3.6 test, we should keep the py36
environment in the list.

[1] https://review.opendev.org/#/c/669440/

Change-Id: I2bab434523efee0ad755e794f00c3a1ca85ec68f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/62/674962/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,518241816c587315f59b56452b901bb339500372,,"envlist = docs,py27,py36,py37,functional-py37,functional-py36,functional,pep8,specs","envlist = docs,py27,py37,functional-py37,functional-py36,functional,pep8,specs",1,1
openstack%2Fwatcher~master~I992b56b64d56f35c8355b22707c3db5112964b31,openstack/watcher,master,I992b56b64d56f35c8355b22707c3db5112964b31,Fix var src_extra_specs error,MERGED,2019-08-06 03:07:01.000000000,2019-08-08 02:50:48.000000000,2019-08-08 02:50:48.000000000,"[{'_account_id': 14107}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-08-06 03:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0e7859da0492e0372ba68601bdc756ff8be22a20', 'message': ""Fix var src_extra_specs error\n\nThis error was discovered by tool coverity. If we don't\ninitialize this var src_extra_specs, line 240 may sometimes\nraise an error.\n\nChange-Id: I992b56b64d56f35c8355b22707c3db5112964b31\n""}, {'number': 2, 'created': '2019-08-06 03:35:53.000000000', 'files': ['watcher/decision_engine/strategy/strategies/storage_capacity_balance.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/cbc2b9eb374a5787477a56e4fb7603aa0cbd8442', 'message': ""Fix var src_extra_specs error\n\nThis error was discovered by tool coverity. If we don't\ninitialize this var src_extra_specs, line 225 may sometimes\nraise an error.\n\nChange-Id: I992b56b64d56f35c8355b22707c3db5112964b31\n""}]",0,674721,cbc2b9eb374a5787477a56e4fb7603aa0cbd8442,14,5,2,28748,,,0,"Fix var src_extra_specs error

This error was discovered by tool coverity. If we don't
initialize this var src_extra_specs, line 225 may sometimes
raise an error.

Change-Id: I992b56b64d56f35c8355b22707c3db5112964b31
",git fetch https://review.opendev.org/openstack/watcher refs/changes/21/674721/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/strategy/strategies/storage_capacity_balance.py'],1,0e7859da0492e0372ba68601bdc756ff8be22a20,fix_var_src_extra_specs_use_error, src_extra_specs = {},,1,0
openstack%2Foctavia~stable%2Frocky~If0eb6e934e8bfb6759c61db3f1f1b89fe02264eb,openstack/octavia,stable/rocky,If0eb6e934e8bfb6759c61db3f1f1b89fe02264eb,Add octavia-v2-dsvm jobs to the gate queue,MERGED,2019-07-31 10:55:46.000000000,2019-08-08 02:32:29.000000000,2019-08-08 02:32:29.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 10:55:46.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/eb9ebe4cf7e4fa638d8e3e7b34d38ae9d8debf78', 'message': 'Add octavia-v2-dsvm jobs to the gate queue\n\nOctavia is a standalone project and supports the LBaaSv2.\nWe should be gating on octavia-v2-dsvm jobs in stable/rocky.\n\nChange-Id: If0eb6e934e8bfb6759c61db3f1f1b89fe02264eb\n'}]",0,673783,eb9ebe4cf7e4fa638d8e3e7b34d38ae9d8debf78,8,3,1,6469,,,0,"Add octavia-v2-dsvm jobs to the gate queue

Octavia is a standalone project and supports the LBaaSv2.
We should be gating on octavia-v2-dsvm jobs in stable/rocky.

Change-Id: If0eb6e934e8bfb6759c61db3f1f1b89fe02264eb
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/673783/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,eb9ebe4cf7e4fa638d8e3e7b34d38ae9d8debf78,, - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-py35-api - octavia-v2-dsvm-scenario - octavia-v2-dsvm-py35-scenario - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-py35-api - octavia-v2-dsvm-scenario - octavia-v2-dsvm-py35-scenario, - octavia-v2-dsvm-noop-api: voting: false - octavia-v2-dsvm-noop-py35-api: voting: false - octavia-v2-dsvm-scenario: voting: false - octavia-v2-dsvm-py35-scenario: voting: false,8,8
openstack%2Fglance~master~I10979ac996196ea4b8ff632d52f9d323d3c1fca4,openstack/glance,master,I10979ac996196ea4b8ff632d52f9d323d3c1fca4,Updates glance config to honor documented default paste_deploy,ABANDONED,2018-10-26 19:16:40.000000000,2019-08-08 02:31:11.000000000,,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 15804}, {'_account_id': 22348}, {'_account_id': 23561}, {'_account_id': 29380}]","[{'number': 1, 'created': '2018-10-26 19:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/03c937ad194483d474e56913af4e2fac4833d9df', 'message': ""Updates glance config to honor documented default paste_deploy\n\nUpdates glance config to use the documented default value 'keystone' for paste_deploy\n\nChange-Id: I10979ac996196ea4b8ff632d52f9d323d3c1fca4\nCloses-Bug: 1799588\n""}, {'number': 2, 'created': '2018-10-26 22:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/79a42dc32d5a564551704a912d41843c8e0b8deb', 'message': ""Updates glance config to honor documented default paste_deploy\n\nUpdates glance config to use the documented default value 'keystone' for paste_deploy\n\nChange-Id: I10979ac996196ea4b8ff632d52f9d323d3c1fca4\nCloses-Bug: 1799588\n""}, {'number': 3, 'created': '2018-10-26 22:10:49.000000000', 'files': ['glance/common/config.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/98c866baf8497a321affec4cccfffa9138181f95', 'message': ""Updates glance config to honor documented default paste_deploy\n\nUpdates glance config to use the documented default value 'keystone' for paste_deploy\n\nChange-Id: I10979ac996196ea4b8ff632d52f9d323d3c1fca4\nCloses-Bug: 1799588\n""}]",6,613671,98c866baf8497a321affec4cccfffa9138181f95,18,8,3,29380,,,0,"Updates glance config to honor documented default paste_deploy

Updates glance config to use the documented default value 'keystone' for paste_deploy

Change-Id: I10979ac996196ea4b8ff632d52f9d323d3c1fca4
Closes-Bug: 1799588
",git fetch https://review.opendev.org/openstack/glance refs/changes/71/613671/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/config.py'],1,03c937ad194483d474e56913af4e2fac4833d9df,bug/1799588," default='keystone',",,1,0
openstack%2Fnova~master~I7ed7ca80c4b553a1a4429febac9461bad7598bac,openstack/nova,master,I7ed7ca80c4b553a1a4429febac9461bad7598bac,Select cpu model from a list of cpu models,ABANDONED,2019-02-19 12:35:35.000000000,2019-08-08 02:16:57.000000000,,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 8768}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27614}]","[{'number': 1, 'created': '2019-02-19 12:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea7bc851c3cf999a8d3cb573d046492a66276c03', 'message': 'Add configuration item cpu_models to libvirt\n\nAdd configuration item: `cpu_models`, an ordered list of CPU list of CPU\nmodels the host supports. It is expected that the list is ordered so that\nthe more common and less advanced CPU models are listed earlier. The\nreported cpu feature traits will be the union of features of all the cpu\nmodels.\n\nThis requires `cpu_mode` set to `custom`. `cpu_model_extra_flags` should\nbe compatible with all models in the `cpu_models` list. If both\n`cpu_models` and `cpu_model` are set, `cpu_model` will be ignored.\n\nChange-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac\nImplements: blueprint cpu-model-selection\n'}, {'number': 2, 'created': '2019-02-21 15:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7d7063353adcf68b9ea888f4ded44bbd0b4382e', 'message': 'Select cpu model from a list of cpu models\n\nAdd configuration item: `cpu_models`, an ordered list of CPU list of CPU\nmodels the host supports. Older configuration item `cpu_model` will remove.\n\nAdd a precheck method when service start: check if the configuration\n`cpu_mode` and `cpu_models` is correct and the compatibility between\n`cpu_model`, `cpu_model_extra_flags` and host cpu by using host.compare_cpu()\n\nChange the method of report cpu traits, the reported cpu feature traits\nwill be the union of features of all the cpu models and host cpu when\n`cpu_mode` is `custom`.\n\nChange the method of generate guest cpu xml, if the `cpu_mode` is set to\ncustom, libvirt driver will select the first CPU model in the `cpu_models`\nlist (combined with `cpu_model_extra_flags` if it is specified)\n\nChange-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac\nImplements: blueprint cpu-model-selection\n'}, {'number': 3, 'created': '2019-02-22 07:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b22aed22714ec26f49297db1ee005d044af0b74f', 'message': 'Select cpu model from a list of cpu models\n\nAdd configuration item: `cpu_models`, an ordered list of CPU list of CPU\nmodels the host supports. Older configuration item `cpu_model` will remove.\n\nAdd a precheck method when service start: check if the configuration\n`cpu_mode` and `cpu_models` is correct and the compatibility between\n`cpu_model`, `cpu_model_extra_flags` and host cpu by using host.compare_cpu()\n\nChange the method of report cpu traits, the reported cpu feature traits\nwill be the union of features of all the cpu models and host cpu when\n`cpu_mode` is `custom`.\n\nChange the method of generate guest cpu xml, if the `cpu_mode` is set to\ncustom, libvirt driver will select the first CPU model in the `cpu_models`\nlist (combined with `cpu_model_extra_flags` if it is specified)\n\nChange-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac\nImplements: blueprint cpu-model-selection\n'}, {'number': 4, 'created': '2019-02-25 11:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d525b4431b34756e84f50da1af441e2502b83510', 'message': 'Select cpu model from a list of cpu models\n\nAdd configuration item: `cpu_models`, an ordered list of CPU list of CPU\nmodels the host supports. Older configuration item `cpu_model` will remove.\n\nAdd a precheck method when service start: check if the configuration\n`cpu_mode` and `cpu_models` is correct and the compatibility between\n`cpu_model`, `cpu_model_extra_flags` and host cpu by using host.compare_cpu()\n\nChange the method of report cpu traits, the reported cpu feature traits\nwill be the union of features of all the cpu models and host cpu when\n`cpu_mode` is `custom`.\n\nChange the method of generate guest cpu xml, if the `cpu_mode` is set to\ncustom, libvirt driver will select the first CPU model in the `cpu_models`\nlist (combined with `cpu_model_extra_flags` if it is specified)\n\nChange-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac\nImplements: blueprint cpu-model-selection\n'}, {'number': 5, 'created': '2019-03-01 23:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24534d226d71f89052621dcdffa1fe6e2f35c0ba', 'message': 'Select cpu model from a list of cpu models\n\nAdd configuration item: `cpu_models`, an ordered list of CPU list of CPU\nmodels the host supports. Older configuration item `cpu_model` will remove.\n\nAdd a precheck method when service start: check if the configuration\n`cpu_mode` and `cpu_models` is correct and the compatibility between\n`cpu_model`, `cpu_model_extra_flags` and host cpu by using host.compare_cpu()\n\nChange the method of report cpu traits, the reported cpu feature traits\nwill be the union of features of all the cpu models and host cpu when\n`cpu_mode` is `custom`.\n\nChange the method of generate guest cpu xml, if the `cpu_mode` is set to\ncustom, libvirt driver will select the first CPU model in the `cpu_models`\nlist (combined with `cpu_model_extra_flags` if it is specified)\n\nChange-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac\nImplements: blueprint cpu-model-selection\n'}, {'number': 6, 'created': '2019-03-07 13:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d1b4bafc4521b12a1892a9685054ed037227126', 'message': 'Select cpu model from a list of cpu models\n\nAdd configuration item: `cpu_model_list`, an ordered list of CPU list of CPU\nmodels the host supports. Older configuration item `cpu_model` will be deprecated.\n\nAdd a precheck method when service start: check if the configuration\n`cpu_mode` and `cpu_model_list` is correct and the compatibility between\n`cpu_model`, `cpu_model_extra_flags` and host cpu by using host.compare_cpu()\n\nChange the method of report cpu traits, the reported cpu feature traits\nwill be the union of features of all the cpu models and host cpu when\n`cpu_mode` is `custom`.\n\nChange the method of generate guest cpu xml, if the `cpu_mode` is set to\ncustom, and set the trait in flavor, libvirt driver will select first\nmeeted CPU model in the `cpu_model_list`, if no trait set, libvirt driver\nwill select the first CPU model in the `cpu_model_list`.\n\nChange-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac\nImplements: blueprint cpu-model-selection\n'}, {'number': 7, 'created': '2019-03-11 05:10:43.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-cpu-model-selection-b257e462a4e8e05a.yaml', 'nova/scheduler/utils.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/fake_libvirt_utils.py', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b898cc0870b6b3116e20a55640b96af41466a8d', 'message': 'Select cpu model from a list of cpu models\n\nAdd configuration item: `cpu_model_list`, an ordered list of CPU models\nthe host supports. Older configuration item `cpu_model` is deprecated.\n\nAdd a precheck method when service starts: check if the configuration\n`cpu_mode` and `cpu_model_list` is correct and the compatibility\nbetween `cpu_model`, `cpu_model_extra_flags` and host cpu by using\nhost.compare_cpu()\n\nChange the method of report cpu traits, the reported cpu feature traits\nwill be the union of features of all the cpu models and host cpu when\n`cpu_mode` is `custom`.\n\nChange the method of generate guest cpu xml, if the `cpu_mode` is set\nto custom, and set the trait in flavor, libvirt driver will select\nfirst matching CPU model in the `cpu_model_list`, if no trait set,\nlibvirt driver will select the first CPU model in the `cpu_model_list`.\n\nChange-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac\nImplements: blueprint cpu-model-selection\n'}]",80,637834,9b898cc0870b6b3116e20a55640b96af41466a8d,90,21,7,27614,,,0,"Select cpu model from a list of cpu models

Add configuration item: `cpu_model_list`, an ordered list of CPU models
the host supports. Older configuration item `cpu_model` is deprecated.

Add a precheck method when service starts: check if the configuration
`cpu_mode` and `cpu_model_list` is correct and the compatibility
between `cpu_model`, `cpu_model_extra_flags` and host cpu by using
host.compare_cpu()

Change the method of report cpu traits, the reported cpu feature traits
will be the union of features of all the cpu models and host cpu when
`cpu_mode` is `custom`.

Change the method of generate guest cpu xml, if the `cpu_mode` is set
to custom, and set the trait in flavor, libvirt driver will select
first matching CPU model in the `cpu_model_list`, if no trait set,
libvirt driver will select the first CPU model in the `cpu_model_list`.

Change-Id: I7ed7ca80c4b553a1a4429febac9461bad7598bac
Implements: blueprint cpu-model-selection
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/637834/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,ea7bc851c3cf999a8d3cb573d046492a66276c03,bp/cpu-model-selection,"* ``cpu_models``: This should be set ONLY when ``cpu_mode`` is set to ``custom``. Otherwise, it would result in an error and the instance launch will fail. cfg.ListOpt('cpu_models', help="""""" An ordered list of CPU models the host supports. Possible values: * The named CPU models listed in ``/usr/share/libvirt/cpu_map.xml`` Related options: * ``cpu_mode``: This should be set to ``custom`` ONLY when you want to configure (via ``cpu_model``) a specific named CPU model. Otherwise, it would result in an error and the instance launch will fail. * ``virt_type``: Only the virtualization types ``kvm`` and ``qemu`` use this. * ``cpu_model``: if both ``cpu_models`` and ``cpu_model`` set, ``cpu_model`` will be ignored. * ``cpu_model_extra_flags``: If ``cpu_model_extra_flags`` is specified, it should be a subset of the features of each cpu model. """"""),",,22,0
openstack%2Fopenstack-ansible~stable%2Fstein~I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,openstack/openstack-ansible,stable/stein,I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c,doc: stop marking CentOS as experimental,MERGED,2019-07-31 17:12:40.000000000,2019-08-08 02:06:42.000000000,2019-08-07 17:35:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2019-07-31 17:12:40.000000000', 'files': ['deploy-guide/source/overview-requirements.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/76aeb3abb783d9cff367afd2d57b14c75b871ca8', 'message': 'doc: stop marking CentOS as experimental\n\nChange-Id: I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c\n(cherry picked from commit 1db702d0e99bf72c8e9b724212ca9476002f5be3)\n'}]",0,673880,76aeb3abb783d9cff367afd2d57b14c75b871ca8,8,4,1,1004,,,0,"doc: stop marking CentOS as experimental

Change-Id: I4bd706cfc58034a3d8052ad44cea7c8ad6e2fd2c
(cherry picked from commit 1db702d0e99bf72c8e9b724212ca9476002f5be3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/673880/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/overview-requirements.rst'],1,76aeb3abb783d9cff367afd2d57b14c75b871ca8,make-centos-great-stable/stein,* CentOS,* CentOS (support is experimental),1,1
openstack%2Fnova~stable%2Fstein~I347096a527c257075cefe7b81210622f6cd87daf,openstack/nova,stable/stein,I347096a527c257075cefe7b81210622f6cd87daf,Don't generate service UUID for deleted services,MERGED,2019-07-31 13:44:47.000000000,2019-08-08 01:53:49.000000000,2019-08-08 01:53:49.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-31 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8601ca75b1515e7434f1d3c563a0e65458c8c86a', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)\n""}, {'number': 2, 'created': '2019-08-07 21:04:07.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/objects/service.py', 'nova/tests/functional/regressions/test_bug_1764556.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/11fde850e6163b68e006e746406e6c5e6ac980e0', 'message': ""Don't generate service UUID for deleted services\n\nIn Pike, we added a UUID field to services and during an upgrade from\nOcata => Pike, when instances are accessed joined with their associated\nservices, we generate a UUID for the services on-the-fly.\n\nThis causes a problem in the scenario where an operator upgrades their\ncluster and has old, deleted services with hostnames matching existing\nservices associated with instances. When we go to generate the service\nUUID for the old, deleted service, we hit a ServiceTooOld exception.\n\nThis addresses the problem by not bothering to generate a UUID for a\ndeleted service. One alternative would be to exclude deleted services\nwhen we join the 'instances' and 'services' tables, but I'm not sure\nwhether that approach might cause unintended effects where service\ninformation that used to be viewable for instances becomes hidden.\n\nCloses-Bug: #1778305\nCloses-Bug: #1764556\n\nChange-Id: I347096a527c257075cefe7b81210622f6cd87daf\n(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)\n""}]",0,673814,11fde850e6163b68e006e746406e6c5e6ac980e0,17,6,2,6873,,,0,"Don't generate service UUID for deleted services

In Pike, we added a UUID field to services and during an upgrade from
Ocata => Pike, when instances are accessed joined with their associated
services, we generate a UUID for the services on-the-fly.

This causes a problem in the scenario where an operator upgrades their
cluster and has old, deleted services with hostnames matching existing
services associated with instances. When we go to generate the service
UUID for the old, deleted service, we hit a ServiceTooOld exception.

This addresses the problem by not bothering to generate a UUID for a
deleted service. One alternative would be to exclude deleted services
when we join the 'instances' and 'services' tables, but I'm not sure
whether that approach might cause unintended effects where service
information that used to be viewable for instances becomes hidden.

Closes-Bug: #1778305
Closes-Bug: #1764556

Change-Id: I347096a527c257075cefe7b81210622f6cd87daf
(cherry picked from commit 16e163053ca39886f11fdb8a3af10a28619fc105)
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/673814/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1778305.py', 'nova/objects/service.py', 'nova/tests/functional/regressions/test_bug_1764556.py']",3,8601ca75b1515e7434f1d3c563a0e65458c8c86a,bug/1764556," servers = self.admin_api.get_servers(detail=True) for server in servers: self.assertEqual('UP', server['host_status'])","import six from nova.tests.functional.api import client as api_client # FIXME(mriedem): This is bug 1764556 where the join on the services # table also pulls the deleted service that doesn't have a uuid and # attempts to migrate that service to have a uuid, which fails because # it's not using a read_deleted='yes' context. ex = self.assertRaises(api_client.OpenStackApiException, self.admin_api.get_servers, detail=True) self.assertIn('ServiceNotFound', six.text_type(ex))",13,26
openstack%2Fkeystoneauth~master~I4b5469aefbe9b91c125da482509cdc627faa5525,openstack/keystoneauth,master,I4b5469aefbe9b91c125da482509cdc627faa5525,Add remove_service to token fixtures,MERGED,2019-08-07 18:34:20.000000000,2019-08-08 01:47:04.000000000,2019-08-08 01:47:04.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 18:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a25ddd5032785912e0ae1a6d597d7089a6aad7ef', 'message': 'Add remove_service to token fixtures\n\nSDK is going to start using these Token fixtures to programmatically\ncreate fake service catalogs in the test suite containing entries\nfor everything in service-types-authority.\n\nIn order to be able to test code paths where some service does not\nexist, it would be good to be able to just remove a service from\nthe catalog, instead of needing to construct a full new one from\nscratch.\n\nChange-Id: I4b5469aefbe9b91c125da482509cdc627faa5525\n'}, {'number': 2, 'created': '2019-08-07 21:43:06.000000000', 'files': ['keystoneauth1/tests/unit/test_fixtures.py', 'keystoneauth1/fixture/v2.py', 'keystoneauth1/fixture/v3.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8e59fb20b35d024dd7a01439dce0e90f92eba886', 'message': 'Add remove_service to token fixtures\n\nSDK is going to start using these Token fixtures to programmatically\ncreate fake service catalogs in the test suite containing entries\nfor everything in service-types-authority.\n\nIn order to be able to test code paths where some service does not\nexist, it would be good to be able to just remove a service from\nthe catalog, instead of needing to construct a full new one from\nscratch.\n\nChange-Id: I4b5469aefbe9b91c125da482509cdc627faa5525\n'}]",1,675174,8e59fb20b35d024dd7a01439dce0e90f92eba886,12,3,2,2,,,0,"Add remove_service to token fixtures

SDK is going to start using these Token fixtures to programmatically
create fake service catalogs in the test suite containing entries
for everything in service-types-authority.

In order to be able to test code paths where some service does not
exist, it would be good to be able to just remove a service from
the catalog, instead of needing to construct a full new one from
scratch.

Change-Id: I4b5469aefbe9b91c125da482509cdc627faa5525
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/74/675174/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/tests/unit/test_fixtures.py', 'keystoneauth1/fixture/v2.py', 'keystoneauth1/fixture/v3.py']",3,a25ddd5032785912e0ae1a6d597d7089a6aad7ef,," def remove_service(self, type): catalog = self.root.setdefault('catalog', []) self.root['catalog'] = [ f for f in self.root.setdefault('catalog', []) if f['type'] != type] ",,17,0
openstack%2Ftripleo-ansible~master~I0a2b2241a38f3d98ac421e6106fb81210961c1f5,openstack/tripleo-ansible,master,I0a2b2241a38f3d98ac421e6106fb81210961c1f5,Separate tripleo-time into two distinct roles,MERGED,2019-08-06 21:13:10.000000000,2019-08-08 01:43:43.000000000,2019-08-08 01:43:43.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 21:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c48cd6df025490b5b0dd82681a4b98be191d8076', 'message': ""Separate tripleo-time into two distinct roles\n\nThis change converts the tripleo time role into two roles:\n\n  - tripleo-ptp\n  - tripleo-timezone\n\nThis change will ensure we're able to cleanly install and setup\nptp when needed while also providing a well defined interface\nfor setting the timezone on systems.\n\nChange-Id: I0a2b2241a38f3d98ac421e6106fb81210961c1f5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2019-08-06 21:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/689bb6f2215bbd40fff4f6d70b99059ac459e399', 'message': ""Separate tripleo-time into two distinct roles\n\nThis change converts the tripleo time role into two roles:\n\n  - tripleo-ptp\n  - tripleo-timezone\n\nThis change will ensure we're able to cleanly install and setup\nptp when needed while also providing a well defined interface\nfor setting the timezone on systems.\n\nChange-Id: I0a2b2241a38f3d98ac421e6106fb81210961c1f5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-08-07 12:23:57.000000000', 'files': ['tripleo_ansible/roles/tripleo-ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/prepare.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_ntp_stop.yml', 'doc/source/roles/role-tripleo-timezone.rst', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/Dockerfile', 'tripleo_ansible/roles/tripleo-ptp/templates/ptp4l.conf.j2', 'tripleo_ansible/roles/tripleo-ptp/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo-timezone/handlers/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/meta/main.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_phc2sys.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo-timezone/meta/main.yml', 'tripleo_ansible/roles/tripleo-ptp/handlers/main.yml', 'doc/source/roles/role-tripleo-time.rst', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-timezone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3d4093672a0611963a4388bcab1d6834c2b0c660', 'message': ""Separate tripleo-time into two distinct roles\n\nThis change converts the tripleo time role into two roles:\n\n  - tripleo-ptp\n  - tripleo-timezone\n\nThis change will ensure we're able to cleanly install and setup\nptp when needed while also providing a well defined interface\nfor setting the timezone on systems.\n\nChange-Id: I0a2b2241a38f3d98ac421e6106fb81210961c1f5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",4,674932,3d4093672a0611963a4388bcab1d6834c2b0c660,23,6,3,7353,,,0,"Separate tripleo-time into two distinct roles

This change converts the tripleo time role into two roles:

  - tripleo-ptp
  - tripleo-timezone

This change will ensure we're able to cleanly install and setup
ptp when needed while also providing a well defined interface
for setting the timezone on systems.

Change-Id: I0a2b2241a38f3d98ac421e6106fb81210961c1f5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/674932/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/prepare.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_ntp_stop.yml', 'doc/source/roles/role-tripleo-timezone.rst', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/Dockerfile', 'tripleo_ansible/roles/tripleo-ptp/templates/ptp4l.conf.j2', 'tripleo_ansible/roles/tripleo-ptp/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo-timezone/handlers/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/meta/main.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_phc2sys.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo-timezone/meta/main.yml', 'tripleo_ansible/roles/tripleo-ptp/handlers/main.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ptp/tasks/tripleo_ptp.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-timezone/defaults/main.yml']",27,c48cd6df025490b5b0dd82681a4b98be191d8076,THT2TA, # All variables intended for modification should place placed in this file. tripleo_timezone: 'UTC',"- name: Enable and start the ptp service systemd: name: ptp4l state: started enabled: true - name: Enable and start the phc2sys service systemd: name: phc2sys state: restarted enabled: true - name: Restart time services service: name: ""{{ item }}"" state: restarted with_items: - rsyslog - crond",91,88
openstack%2Fpython-novaclient~master~I078add63896c7455be7e3672b7172debb962a5e2,openstack/python-novaclient,master,I078add63896c7455be7e3672b7172debb962a5e2,docs: clarify nova migration-list --host option,MERGED,2019-08-06 22:45:48.000000000,2019-08-08 01:41:36.000000000,2019-08-08 01:41:36.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 22:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4c30378652e5d32186472efc4529d16a14b4b0a9', 'message': 'docs: clarify nova migration-list --host option\n\nThe GET /os-migrations API takes both a host and\nsource_compute filter parameter. The former filters\non either the source or destination compute, so this\nchange clarifies that in the command help for the\n--host option.\n\nChange-Id: I078add63896c7455be7e3672b7172debb962a5e2\n'}, {'number': 2, 'created': '2019-08-06 22:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/bea0bd1c13a38d4f32ace5c90d65a3c8ffca5e6c', 'message': 'docs: clarify nova migration-list --host option\n\nThe GET /os-migrations API takes both a host and\nsource_compute filter parameter. The former filters\non either the source or destination compute, so this\nchange clarifies that in the command help for the\n--host option.\n\nChange-Id: I078add63896c7455be7e3672b7172debb962a5e2\n'}, {'number': 3, 'created': '2019-08-07 13:23:57.000000000', 'files': ['novaclient/v2/shell.py', 'doc/source/cli/nova.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e281368c9679b385ecfb05737e614a05a9bab291', 'message': 'docs: clarify nova migration-list --host option\n\nThe GET /os-migrations API takes both a host and\nsource_compute filter parameter. The former filters\non either the source or destination compute, so this\nchange clarifies that in the command help for the\n--host option.\n\nChange-Id: I078add63896c7455be7e3672b7172debb962a5e2\n'}]",3,674950,e281368c9679b385ecfb05737e614a05a9bab291,14,4,3,6873,,,0,"docs: clarify nova migration-list --host option

The GET /os-migrations API takes both a host and
source_compute filter parameter. The former filters
on either the source or destination compute, so this
change clarifies that in the command help for the
--host option.

Change-Id: I078add63896c7455be7e3672b7172debb962a5e2
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/50/674950/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/shell.py', 'doc/source/cli/nova.rst']",2,4c30378652e5d32186472efc4529d16a14b4b0a9,bp/more-migration-list-filters, Fetch migrations for the given source or destination host., Fetch migrations for the given host.,3,3
openstack%2Fstorlets~master~Ie1721c016b10b6562b131eb39e3dc84b1d8d473f,openstack/storlets,master,Ie1721c016b10b6562b131eb39e3dc84b1d8d473f,Add basic client implementation for sbus protocol,MERGED,2016-12-02 06:19:13.000000000,2019-08-08 01:32:30.000000000,2019-08-08 01:32:30.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 11317}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-12-02 06:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/68cebaf4c98f74afe5cef83a0fae595334e30523', 'message': 'WIP: Add sbus client\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 2, 'created': '2016-12-02 09:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3a5b4caaf0ef7ebb213c9ff144950ba384466056', 'message': 'WIP: Add sbus client\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 3, 'created': '2016-12-02 09:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/96fb329be859b5744ce5832cd03beb9d5a8a940a', 'message': 'WIP: Add sbus client\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 4, 'created': '2016-12-02 11:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/cc0b3616c5b04fdd11d9a0d7aa42be8bbd73ac53', 'message': 'WIP: Add sbus client\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 5, 'created': '2016-12-02 11:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/7ed26f426e49ae07b2c59da0337cf5eb55eac24b', 'message': 'WIP: Add sbus client\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 6, 'created': '2016-12-02 20:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8954058148c1b1f444f36189317d9c900307306a', 'message': 'WIP: Add sbus client\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 7, 'created': '2016-12-02 20:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c583b5a8c1cd68aeeb5f6715e09e3c1954e4e517', 'message': 'WIP: Add sbus client\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 8, 'created': '2016-12-07 17:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8d625c64c42506dec394358e62d7acf125ba4ab7', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 9, 'created': '2016-12-26 04:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/aec0f45524e566432240dc520258b0e040ab65da', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 10, 'created': '2016-12-26 05:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/bc3265059acf5a753bbdf2fc6e8cf2c58de57055', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 11, 'created': '2016-12-26 10:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d92772d6b0c4feac3b614c5e9f915b07c0546bd8', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 12, 'created': '2017-01-03 11:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3d3c1fdbafefa74b7066a689ec989479985a8a47', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 13, 'created': '2017-01-03 11:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/15bd90218052feb45dbbff435e067d0cf1395859', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 14, 'created': '2017-01-03 12:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/01ca79f34d0c671f7874f0cd1fb3e5d58e422ceb', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 15, 'created': '2017-01-03 12:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f962c5f8c52ce84d794de336701b5be8d5ec535b', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 16, 'created': '2017-01-03 12:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4c23280ef3787d7c83a6e717eceae9452c2a8f64', 'message': 'Add sbus client\n\nThis patch creates basic client implementation using SBus protocol\nunder storlets.sbus.client, which can be used for gateway, daemon\nfactory and cli command.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 17, 'created': '2017-01-03 14:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5fcc375b0f7daf79cc4b6aa3795216d2e7ed5886', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 18, 'created': '2017-01-04 02:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/935564eb3130942fc436e33015438903c02f2afd', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 19, 'created': '2017-01-04 15:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/08e629fbc19c1fdbe1d81820723702ea888a3cdb', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 20, 'created': '2017-01-11 15:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/cecf6ac5f47df3c63981512fae19dd956343dd58', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 21, 'created': '2017-01-11 15:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c9387e21a20d081ef360879e7208b23da3353c8b', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 22, 'created': '2017-01-14 18:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/049ddb094d0e34bcf9b62f802d4c540a907aae87', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 23, 'created': '2017-01-23 16:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6fd417a1643987873c7bdcfeab23153b2e32db89', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 24, 'created': '2017-01-23 16:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/015cb4271ac462c4f733c23c4f0fadae677bdd5e', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 25, 'created': '2017-01-27 18:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1c955b6a436228a997882463bbea000f35e6c555', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 26, 'created': '2017-01-27 19:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e9e91a8e290e4bf041ffc3748149b624ea543142', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 27, 'created': '2017-01-31 18:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5495c6e36e72b8655c9b0d686489cef665185c34', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 28, 'created': '2017-02-04 16:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6631ec3d2b6b7ff259e8ac80a58283d417ad78ad', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 29, 'created': '2017-02-06 13:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b222926d8593358fb3875496c11a2345b923439f', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 30, 'created': '2019-05-02 06:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/eec6e3080e50b93efab1dc970dafe13d9394dfd8', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 31, 'created': '2019-05-02 06:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/41f04d2d4f59a2b38b5022cfa22e67700597e80c', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 32, 'created': '2019-05-02 06:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/bcef70808fcc0986ef28c511597f0db7a5ea8d30', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 33, 'created': '2019-05-02 07:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f307ca373dddf34626e844b6db48b48c3a4f5ec6', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 34, 'created': '2019-05-02 07:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d84bff2903eeda3cc219324a86c4471f4d76b965', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 35, 'created': '2019-05-02 07:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/5394e10968a5c0adf25177a519daa671010d5fdf', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 36, 'created': '2019-05-02 07:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/870cc70f6add0ff12b85facac0dd1ab1ff207ce4', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 37, 'created': '2019-05-02 10:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3fd63458f7e999ef5ff9716e8d1bf663d5996ace', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 38, 'created': '2019-07-16 10:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/acc29e85a6ee4dc305010de8d95d0648440b0714', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 39, 'created': '2019-07-16 11:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/3d8b367bbaf70d5ba6733c45b1c422b19d55754e', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 40, 'created': '2019-08-06 00:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/fa6e5e74e6effaefa6081b67e3e55a9bfd278038', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 41, 'created': '2019-08-06 00:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d98afcfc4b03c118ebcaf57979dbd572ea88fdb0', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}, {'number': 42, 'created': '2019-08-07 05:37:47.000000000', 'files': ['tests/unit/sbus/client/test_client.py', 'storlets/sbus/client/cli.py', 'tests/unit/sbus/client/__init__.py', 'storlets/sbus/client/__init__.py', 'doc/source/engine_dev_installation.rst', 'tests/unit/gateway/gateways/docker/test_gateway.py', 'storlets/sbus/client/exceptions.py', 'devstack/plugin.sh', 'tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/agent/daemon_factory/server.py', 'storlets/gateway/gateways/docker/runtime.py', 'scripts/send_halt_cmd_to_daemon_factory.py', 'bin/sbus', 'tests/unit/agent/daemon_factory/test_server.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/storlets/commit/a21a14f13af9b77f5ab7ada992973fd8f09a3384', 'message': 'Add basic client implementation for sbus protocol\n\nThis patch introduces basic implementation of the client to communicate\nwith remote process using sbus, to gather all codes which deeply depend\non the sbus protocol into the one place.\n\nThis patch also introduces sbus CLI, which enables operators to send\nsbus command like halt easily.\n\nChange-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f\n'}]",65,405937,a21a14f13af9b77f5ab7ada992973fd8f09a3384,107,4,42,9816,,,0,"Add basic client implementation for sbus protocol

This patch introduces basic implementation of the client to communicate
with remote process using sbus, to gather all codes which deeply depend
on the sbus protocol into the one place.

This patch also introduces sbus CLI, which enables operators to send
sbus command like halt easily.

Change-Id: Ie1721c016b10b6562b131eb39e3dc84b1d8d473f
",git fetch https://review.opendev.org/openstack/storlets refs/changes/37/405937/30 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/sbus/client/test_client.py', 'tests/unit/sbus/client/__init__.py', 'storlets/sbus/client/__init__.py', 'storlets/sbus/client/exceptions.py', 'storlets/gateway/gateways/docker/runtime.py']",5,68cebaf4c98f74afe5cef83a0fae595334e30523,sbusclient,from storlets.sbus import command as sbus_cmdfrom storlets.sbus.client import SBusClient from storlets.sbus.client.exceptions import SBusClientSendError client = SBusClient(pipe_path) try: resp = client.ping() if resp.status: return 1 else: self.logger.error('Failed to ping to daemon factory: %s' % resp.message) return 0 except SBusClientSendError: return -1,"from storlets.sbus import command as sbus_cmd with _open_pipe() as (read_fd, write_fd): dtg = SBusDatagram.create_service_datagram( sbus_cmd.SBUS_CMD_PING, write_fd) rc = SBus.send(pipe_path, dtg) if (rc < 0): return -1 reply = os.read(read_fd, 10) res, error_txt = self._parse_sandbox_factory_answer(reply) if res is True: return 1 self.logger.error('Failed to ping to daemon factory: %s' % error_txt) return 0",226,17
openstack%2Fpuppet-neutron~master~I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58,openstack/puppet-neutron,master,I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58,Support connecting OVN DB over SSL,MERGED,2019-08-05 13:01:48.000000000,2019-08-08 00:46:27.000000000,2019-08-08 00:46:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 13:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/03869b638d4339b5258d1d67869bd0d9c5bf1143', 'message': 'Support connecting OVN DB over SSL\n\nThis patch introduce parameters which support using SSL to connect to\nOVN_Northbound DB and OVN_Southbound DB.\n\nChange-Id: I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n'}, {'number': 2, 'created': '2019-08-06 15:32:57.000000000', 'files': ['spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'releasenotes/notes/ovn-ssl-f41da14a9eaa6fe3.yaml', 'manifests/agents/ovn_metadata.pp', 'manifests/plugins/ml2/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c6881ea3febb1d8ccf2b1ca48d22cb89dd11f5ca', 'message': 'Support connecting OVN DB over SSL\n\nThis patch introduce parameters which support using SSL to connect to\nOVN_Northbound DB and OVN_Southbound DB.\n\nChange-Id: I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n'}]",0,674603,c6881ea3febb1d8ccf2b1ca48d22cb89dd11f5ca,11,4,2,11082,,,0,"Support connecting OVN DB over SSL

This patch introduce parameters which support using SSL to connect to
OVN_Northbound DB and OVN_Southbound DB.

Change-Id: I5a03a74e68d2b8b7364341ba2ed77dfb419ebc58
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/03/674603/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_ovn_spec.rb', 'releasenotes/notes/ovn-ssl-f41da14a9eaa6fe3.yaml', 'manifests/agents/ovn_metadata.pp', 'manifests/plugins/ml2/ovn.pp']",4,03869b638d4339b5258d1d67869bd0d9c5bf1143,,"# [*ovn_nb_private_key*] # (optional) The PEM file with private key for SSL connection to OVN-NB-DB # Defaults to $::os_service_default # # [*ovn_nb_certificate*] # (optional) The PEM file with certificate that certifies the private # key specified in ovn_nb_private_key # Defaults to $::os_service_default # # [*ovn_nb_ca_cert*] # (optional) The PEM file with CA certificate that OVN should use to # verify certificates presented to it by SSL peers # Defaults to $::os_service_default # # [*ovn_sb_private_key*] # (optional) The PEM file with private key for SSL connection to OVN-SB-DB # Defaults to $::os_service_default # # [*ovn_sb_certificate*] # (optional) The PEM file with certificate that certifies the # private key specified in ovn_sb_private_key # Defaults to $::os_service_default # # [*ovn_sb_ca_cert*] # (optional) The PEM file with CA certificate that OVN should use to # verify certificates presented to it by SSL peers # Defaults to $::os_service_default # $ovn_nb_private_key = $::os_service_default, $ovn_nb_certificate = $::os_service_default, $ovn_nb_ca_cert = $::os_service_default, $ovn_sb_private_key = $::os_service_default, $ovn_sb_certificate = $::os_service_default, $ovn_sb_ca_cert = $::os_service_default, 'ovn/ovn_nb_private_key' : value => $ovn_nb_private_key; 'ovn/ovn_nb_certificate' : value => $ovn_nb_certificate; 'ovn/ovn_nb_ca_cert' : value => $ovn_nb_ca_cert; 'ovn/ovn_sb_private_key' : value => $ovn_sb_private_key; 'ovn/ovn_sb_certificate' : value => $ovn_sb_certificate; 'ovn/ovn_sb_ca_cert' : value => $ovn_sb_ca_cert;",,87,0
openstack%2Fbarbican~stable%2Fstein~Ic9824657bafafdabda7fe3a983c5fee37f7981d7,openstack/barbican,stable/stein,Ic9824657bafafdabda7fe3a983c5fee37f7981d7,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-21 20:25:18.000000000,2019-08-08 00:31:00.000000000,2019-08-08 00:31:00.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-21 20:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/428387f0d4a44eab3e93baac45450affce46cc60', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic9824657bafafdabda7fe3a983c5fee37f7981d7\n'}, {'number': 2, 'created': '2019-08-05 16:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3d887b4b057a39853bcf6a343a81d7a2d9cd8623', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic9824657bafafdabda7fe3a983c5fee37f7981d7\n'}, {'number': 3, 'created': '2019-08-06 12:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1dce536b627c9bb6a3c2db9f0ae5e318b751b670', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic9824657bafafdabda7fe3a983c5fee37f7981d7\n'}, {'number': 4, 'created': '2019-08-06 17:45:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/c7d48bb36cd7059675761c38f7988539ae1dd054', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic9824657bafafdabda7fe3a983c5fee37f7981d7\n'}]",0,645332,c7d48bb36cd7059675761c38f7988539ae1dd054,24,6,4,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic9824657bafafdabda7fe3a983c5fee37f7981d7
",git fetch https://review.opendev.org/openstack/barbican refs/changes/32/645332/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,428387f0d4a44eab3e93baac45450affce46cc60,create-stein,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fbarbican~stable%2Fstein~Ifafe54acbac00fa0927bc4d1b580cfbc382aef01,openstack/barbican,stable/stein,Ifafe54acbac00fa0927bc4d1b580cfbc382aef01,Update .gitreview for stable/stein,MERGED,2019-03-21 20:25:13.000000000,2019-08-08 00:29:28.000000000,2019-08-08 00:29:28.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-21 20:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2394e6d6be630b325dcd1faac807c8a1be605b78', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: Ifafe54acbac00fa0927bc4d1b580cfbc382aef01\n'}, {'number': 2, 'created': '2019-08-05 16:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/74562719eb87bb055cd6d3a3b41214060fac0268', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: Ifafe54acbac00fa0927bc4d1b580cfbc382aef01\n'}, {'number': 3, 'created': '2019-08-06 12:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ed54001975dfb9bcc04969a3879c341f17ce5283', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: Ifafe54acbac00fa0927bc4d1b580cfbc382aef01\n'}, {'number': 4, 'created': '2019-08-06 17:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/af8003b09b3a7f3b97d7a07e99d1b1f71a0d92d6', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: Ifafe54acbac00fa0927bc4d1b580cfbc382aef01\n'}, {'number': 5, 'created': '2019-08-06 17:44:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/barbican/commit/cefccb07f2fb2e2eb1fb81ea8db251e33422d5b0', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: Ifafe54acbac00fa0927bc4d1b580cfbc382aef01\n'}]",0,645331,cefccb07f2fb2e2eb1fb81ea8db251e33422d5b0,29,6,5,22816,,,0,"Update .gitreview for stable/stein

Change-Id: Ifafe54acbac00fa0927bc4d1b580cfbc382aef01
",git fetch https://review.opendev.org/openstack/barbican refs/changes/31/645331/4 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2394e6d6be630b325dcd1faac807c8a1be605b78,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Ftripleo-ci~master~I61cd114ec7150d2c6156c5d8a2fe105fdd458348,openstack/tripleo-ci,master,I61cd114ec7150d2c6156c5d8a2fe105fdd458348,Fixed containers-build role to compare built containers,MERGED,2019-08-05 07:24:46.000000000,2019-08-07 23:53:04.000000000,2019-08-07 23:53:04.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 07:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/78e026187207719fb9e7fa43c3a18b3a2accdabe', 'message': ""Fixed containers-build role to compare built containers\n\nSince podman is not installed by default in containers-build job\nso the Built var is returning zero and further giving\n[: -l: binary operator expected error.\n\nIn order to fix the above issue, It adds task to install podman\nand compare the built and expected var using -lt as there is no\n'l' args in test command lines utils to compare two vars.\n\nChange-Id: I61cd114ec7150d2c6156c5d8a2fe105fdd458348\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 2, 'created': '2019-08-06 08:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8ecba9a028f57503c8fd9e057e472d311015a215', 'message': ""Fixed containers-build role to compare built containers\n\nSince podman is not installed by default in containers-build job\nso the Built var is returning zero and further giving\n[: -l: binary operator expected error.\n\nIn order to fix the above issue, It adds task\nto set proper container_cli and reuse buildah and docker\nand compare the built and expected var using -lt as there is no\n'l' args in test command lines utils to compare two vars.\n\nChange-Id: I61cd114ec7150d2c6156c5d8a2fe105fdd458348\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 3, 'created': '2019-08-06 11:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fec9f0f4928aa8265a8ec9dafd1894fc46064f1c', 'message': ""Fixed containers-build role to compare built containers\n\nSince podman is not installed by default in containers-build job\nso the Built var is returning zero and further giving\n[: -l: binary operator expected error.\n\nIn order to fix the above issue, It adds task\nto set proper container_cli and reuse buildah and docker\nand compare the built and expected var using -lt as there is no\n'l' args in test command lines utils to compare two vars.\n\nChange-Id: I61cd114ec7150d2c6156c5d8a2fe105fdd458348\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 4, 'created': '2019-08-07 06:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cdf0130d3b9d36eec6a504537c8fef9f83fcb110', 'message': 'Fixed containers-build role to compare built containers\n\nSince podman is not installed by default in containers-build job\nso the Built var is returning zero and further giving\n[: -l: binary operator expected error.\n\nIn order to fix the above issue, It adds task\nto set proper container_cli and reuse buildah and docker\nand compare the build containers status using returncode.\n\nChange-Id: I61cd114ec7150d2c6156c5d8a2fe105fdd458348\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-08-07 10:19:35.000000000', 'files': ['roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/667ef1614f47c582e7d86e0dbbb7c18082da4782', 'message': 'Fixed containers-build role to compare built containers\n\nSince podman is not installed by default in containers-build job\nso the Built var is returning zero and further giving\n[: -l: binary operator expected error.\n\nIn order to fix the above issue, It adds task\nto set proper container_cli and reuse buildah and docker\nand compare the build containers status using returncode.\n\nUse sudo while cating the files as buildah is runned via\nsudo and it will fix permission issue.\n\nChange-Id: I61cd114ec7150d2c6156c5d8a2fe105fdd458348\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",8,674539,667ef1614f47c582e7d86e0dbbb7c18082da4782,27,11,5,12393,,,0,"Fixed containers-build role to compare built containers

Since podman is not installed by default in containers-build job
so the Built var is returning zero and further giving
[: -l: binary operator expected error.

In order to fix the above issue, It adds task
to set proper container_cli and reuse buildah and docker
and compare the build containers status using returncode.

Use sudo while cating the files as buildah is runned via
sudo and it will fix permission issue.

Change-Id: I61cd114ec7150d2c6156c5d8a2fe105fdd458348
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/39/674539/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/build.sh.j2']",2,78e026187207719fb9e7fa43c3a18b3a2accdabe,container_build,"if [ ""$BUILT"" -lt ""$EXPECTED"" ]; then","if [ ""$BUILT"" -l ""$EXPECTED"" ]; then",6,1
openstack%2Fswift~stable%2Fstein~I20f1743756b001deeddb105fdc0c55ee5b7a419c,openstack/swift,stable/stein,I20f1743756b001deeddb105fdc0c55ee5b7a419c,Imported Translations from Zanata,MERGED,2019-08-04 07:54:33.000000000,2019-08-07 23:51:06.000000000,2019-08-07 23:51:05.000000000,"[{'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-08-04 07:54:33.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/0dabd1883decb574dcf30c49b2cd2c196d12564e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I20f1743756b001deeddb105fdc0c55ee5b7a419c\n'}]",0,674477,0dabd1883decb574dcf30c49b2cd2c196d12564e,13,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I20f1743756b001deeddb105fdc0c55ee5b7a419c
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/674477/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po']",15,0dabd1883decb574dcf30c49b2cd2c196d12564e,zanata/translations,"""POT-Creation-Date: 2019-07-22 19:07+0000\n""","""POT-Creation-Date: 2018-08-09 00:12+0000\n""#, python-format msgid "", %s containers deleted"" msgstr "", %s containers apagados"" #, python-format msgid "", %s containers possibly remaining"" msgstr "", %s containers possivelmente restando"" #, python-format msgid "", %s containers remaining"" msgstr "", %s containers restando"" #, python-format msgid "", %s objects deleted"" msgstr "", %s objetos apagados"" #, python-format msgid "", %s objects possibly remaining"" msgstr "", %s objetos possivelmente restando"" #, python-format msgid "", %s objects remaining"" msgstr "", %s objetos restando"" #, python-format msgid "", elapsed: %.02fs"" msgstr "", passados: %.02fs"" msgid "", return codes: "" msgstr "", códigos de retorno:"" #, python-format msgid ""Beginning pass on account %s"" msgstr ""Iniciando a estapa nas contas %s"" msgid ""Devices pass completed: %.02fs"" msgstr ""Dispositivos finalizados: %.02fs"" #, python-formatmsgid ""Exception in top-level account reaper loop"" msgstr ""Exceção no loop do removedor da conta de nível superior"" msgid ""Exception in top-levelreconstruction loop"" msgstr ""Exceção no loop de reconstrução de nível superior"" msgid ""Exception with account %s"" msgstr ""Exceção com a conta %s"" #, python-format msgid ""Exception with containers for account %s"" msgstr ""Exceção com os containers para a conta %s"" #, python-format msgid """" ""Exception with objects for container %(container)s for account %(account)s"" msgstr """" ""Exceção com objetos para o container %(container)s para conta %(account)s"" #, python-formatmsgid ""Incomplete pass on account %s"" msgstr ""Estapa incompleta nas contas %s"" #, python-formatmsgid ""Timeout Exception with %(ip)s:%(port)s/%(device)s"" msgstr ""Exceção de tempo limite com %(ip)s:%(port)s/%(device)s"" #, python-formatmsgid ""Trying to read during GET (retrying)"" msgstr ""Tentando ler durante GET (tentando novamente)"" ",220,3753
openstack%2Fpython-swiftclient~stable%2Frocky~I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,openstack/python-swiftclient,stable/rocky,I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,Fix up stable gate,MERGED,2019-08-07 19:18:34.000000000,2019-08-07 23:45:01.000000000,2019-08-07 23:45:01.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 19:18:34.000000000', 'files': ['test-requirements.txt', 'doc/source/introduction.rst', 'doc/source/service-api.rst', 'lower-constraints.txt', 'tests/functional/test_swiftclient.py', 'doc/source/index.rst', 'doc/source/_static/.gitignore', 'doc/source/cli/index.rst', 'swiftclient/utils.py', 'doc/requirements.txt', 'swiftclient/multithreading.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/12bd870a02fc3528f45d27152c62fb0b9598bc84', 'message': ""Fix up stable gate\n\nThis is a combination of three commits from master:\n\n---\n\nIsolate docs requirements\n\n...since modern sphinx won't install on py27.\n\nWhile we're at it, clean up some warnings and treat warnings as errors.\n\nAlso, fix up how we parse test configs so we can run func tests.\n\nRelated-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n(cherry picked from commit 113eacf3b80f61d366b3e95b558b40f82ff728a4)\n\n---\n\nDrag forward prettytable in lower-constraints\n\nApparently version 0.7 got unpublished recently.\n\n(cherry picked from commit 5bd66947fc3d8987d4b24d5119a346031004229e)\n\n---\n\ndocs: Clean up formatting\n\n(cherry-picked from commit 7563d9cb5642c85a31708fd863e2737f9d6c9419)\n\n---\n\nChange-Id: I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff\n(cherry picked from commit 172aa9016977a3b03f07da0350c6aa9ade1e55a0)\n""}]",0,675184,12bd870a02fc3528f45d27152c62fb0b9598bc84,6,2,1,15343,,,0,"Fix up stable gate

This is a combination of three commits from master:

---

Isolate docs requirements

...since modern sphinx won't install on py27.

While we're at it, clean up some warnings and treat warnings as errors.

Also, fix up how we parse test configs so we can run func tests.

Related-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1
(cherry picked from commit 113eacf3b80f61d366b3e95b558b40f82ff728a4)

---

Drag forward prettytable in lower-constraints

Apparently version 0.7 got unpublished recently.

(cherry picked from commit 5bd66947fc3d8987d4b24d5119a346031004229e)

---

docs: Clean up formatting

(cherry-picked from commit 7563d9cb5642c85a31708fd863e2737f9d6c9419)

---

Change-Id: I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff
(cherry picked from commit 172aa9016977a3b03f07da0350c6aa9ade1e55a0)
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/84/675184/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/introduction.rst', 'doc/source/service-api.rst', 'lower-constraints.txt', 'tests/functional/test_swiftclient.py', 'doc/source/index.rst', 'doc/source/_static/.gitignore', 'doc/source/cli/index.rst', 'swiftclient/utils.py', 'doc/requirements.txt', 'swiftclient/multithreading.py', 'tox.ini']",12,12bd870a02fc3528f45d27152c62fb0b9598bc84,,usedevelop = False deps = -r{toxinidir}/doc/requirements.txt python setup.py build_sphinx -Wusedevelop = False deps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,143,121
openstack%2Fopenstack-ansible-os_neutron~stable%2Fstein~Id4a70270d4032ff1c3f0089360e897e5c82c394b,openstack/openstack-ansible-os_neutron,stable/stein,Id4a70270d4032ff1c3f0089360e897e5c82c394b,config: disable notifications by default,MERGED,2019-08-07 12:49:24.000000000,2019-08-07 22:54:57.000000000,2019-08-07 22:54:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-07 12:49:24.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/01cead9ce6fd1e3d62b8544ddaae675a724c709f', 'message': ""config: disable notifications by default\n\nWe are currently pushing out notifications even if Ceilometer is\nnot enabled resulting in huge queues.  Let's not do that.\n\nChange-Id: Id4a70270d4032ff1c3f0089360e897e5c82c394b\n(cherry picked from commit 752f261ab6dc986ca1e9b0f16189f20d7ab8a15d)\n""}]",0,675109,01cead9ce6fd1e3d62b8544ddaae675a724c709f,7,3,1,1004,,,0,"config: disable notifications by default

We are currently pushing out notifications even if Ceilometer is
not enabled resulting in huge queues.  Let's not do that.

Change-Id: Id4a70270d4032ff1c3f0089360e897e5c82c394b
(cherry picked from commit 752f261ab6dc986ca1e9b0f16189f20d7ab8a15d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/09/675109/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,01cead9ce6fd1e3d62b8544ddaae675a724c709f,,"driver = {{ (neutron_ceilometer_enabled | bool) | ternary('messagingv2', 'noop') }}",driver = messagingv2,1,1
openstack%2Fbarbican~stable%2Fstein~Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50,openstack/barbican,stable/stein,Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50,Fix the bug of pep8 and building api-guide,MERGED,2019-08-05 16:40:11.000000000,2019-08-07 22:39:02.000000000,2019-08-07 21:19:44.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7973}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-08-05 16:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ec424b3536f278c294e2504ea5ed7e9761e8e30b', 'message': 'Fix the bug of pep8 and building api-guide\n\n`sphinx-build` command is not found in test-env.\n\nTo fix pep8, also blacklist the new bandit warning B105, this will\nbe fixed in a followup.\n\nChange-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50\n'}, {'number': 2, 'created': '2019-08-06 12:58:47.000000000', 'files': ['barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/plugin/util/test_multiple_backends.py', 'functionaltests/api/v1/functional/test_secretstores.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/plugin/util/multiple_backends.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/common/test_validators.py', 'tox.ini', 'barbican/plugin/util/translations.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/367453b54319b90d2660013a98b15cbd9e0c0846', 'message': 'Fix the bug of pep8 and building api-guide\n\n`sphinx-build` command is not found in test-env.\n\nTo fix pep8, also blacklist the new bandit warning B105, this will\nbe fixed in a followup.\n\n(cherry picked from commit bf95c37b84688c99bda0849230508d955fc62f82)\nChange-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50\n'}]",1,674651,367453b54319b90d2660013a98b15cbd9e0c0846,15,7,2,6547,,,0,"Fix the bug of pep8 and building api-guide

`sphinx-build` command is not found in test-env.

To fix pep8, also blacklist the new bandit warning B105, this will
be fixed in a followup.

(cherry picked from commit bf95c37b84688c99bda0849230508d955fc62f82)
Change-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50
",git fetch https://review.opendev.org/openstack/barbican refs/changes/51/674651/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/plugin/util/test_multiple_backends.py', 'functionaltests/api/v1/functional/test_secretstores.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/plugin/util/multiple_backends.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/common/test_validators.py', 'tox.ini', 'barbican/plugin/util/translations.py']",9,ec424b3536f278c294e2504ea5ed7e9761e8e30b,fix-builds, ) ) ) ) ) ) ) ), ) ) ) ) ) ) ) ),30,29
openstack%2Fpuppet-pacemaker~master~I88c1188b2202e0cf70b82db629c3dd748ad01bf3,openstack/puppet-pacemaker,master,I88c1188b2202e0cf70b82db629c3dd748ad01bf3,pcs 0.10: authenticate nodes before adding them to the cluster,MERGED,2019-08-06 20:07:54.000000000,2019-08-07 22:15:22.000000000,2019-08-07 22:15:22.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 20:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/0d2aa6508fe5d873092e7424a53bf5f2110ab754', 'message': 'pcs 0.10: authenticate nodes before adding them to the cluster\n\nWith pcs 0.10 and RHEL/CentOS 8, every node that needs to be\nadded into a running cluster muste be authenticated first in pcsd.\n\nSo when replacing a cluster node or automatically scaling up the\ncluster, make sure that we run a ""pcs host auth"" command prior to\nany ""pcs cluster node add"".\n\nChange-Id: I88c1188b2202e0cf70b82db629c3dd748ad01bf3\nCloses-Bug: #1839209\n'}, {'number': 2, 'created': '2019-08-07 07:53:31.000000000', 'files': ['manifests/corosync.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/8b30131ef70007a050f9f1aafd7cb695bae7a72a', 'message': 'pcs 0.10: authenticate nodes before adding them to the cluster\n\nWith pcs 0.10 and RHEL/CentOS 8, every node that needs to be\nadded into a running cluster muste be authenticated first in pcsd.\n\nSo when replacing a cluster node or automatically scaling up the\ncluster, make sure that we run a ""pcs host auth"" command prior to\nany ""pcs cluster node add"".\n\nChange-Id: I88c1188b2202e0cf70b82db629c3dd748ad01bf3\nCloses-Bug: #1839209\n'}]",4,674925,8b30131ef70007a050f9f1aafd7cb695bae7a72a,18,8,2,20778,,,0,"pcs 0.10: authenticate nodes before adding them to the cluster

With pcs 0.10 and RHEL/CentOS 8, every node that needs to be
added into a running cluster muste be authenticated first in pcsd.

So when replacing a cluster node or automatically scaling up the
cluster, make sure that we run a ""pcs host auth"" command prior to
any ""pcs cluster node add"".

Change-Id: I88c1188b2202e0cf70b82db629c3dd748ad01bf3
Closes-Bug: #1839209
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/25/674925/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/corosync.pp'],1,0d2aa6508fe5d873092e7424a53bf5f2110ab754,bug/1839209," if $::pacemaker::pcs_010 { exec {""Authenticating new cluster node: ${node_to_add}"": command => ""${::pacemaker::pcs_bin} host auth ${node_to_add} -u hacluster -p ${::pacemaker::hacluster_pwd}"", timeout => $cluster_start_timeout, tries => $cluster_start_tries, try_sleep => $cluster_start_try_sleep, require => [Service['pcsd'], User['hacluster']], tag => 'pacemaker-auth', } }",,10,0
openstack%2Fswift~master~Id7e2891b6600af102176eaa2e87f81b528adde8d,openstack/swift,master,Id7e2891b6600af102176eaa2e87f81b528adde8d,py3: port RBAC func tests,MERGED,2019-08-05 21:49:29.000000000,2019-08-07 22:12:19.000000000,2019-08-07 22:10:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 21:49:29.000000000', 'files': ['test/functional/test_access_control.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/2e4c8a924e2c11e0cbabfd1353de49602d1aaef1', 'message': 'py3: port RBAC func tests\n\nYes, it really is just the import.\n\nChange-Id: Id7e2891b6600af102176eaa2e87f81b528adde8d\n'}]",0,674703,2e4c8a924e2c11e0cbabfd1353de49602d1aaef1,7,2,1,15343,,,0,"py3: port RBAC func tests

Yes, it really is just the import.

Change-Id: Id7e2891b6600af102176eaa2e87f81b528adde8d
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/674703/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/test_access_control.py', 'tox.ini']",2,2e4c8a924e2c11e0cbabfd1353de49602d1aaef1,, test/functional/test_access_control.py \,,2,1
openstack%2Fplacement~master~I4958ba0b208ca457e049875433dc0826eaab8795,openstack/placement,master,I4958ba0b208ca457e049875433dc0826eaab8795,Improve docs and comments for provider_ids_from_rp_ids,MERGED,2019-08-07 10:26:46.000000000,2019-08-07 22:10:05.000000000,2019-08-07 22:10:05.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 10:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/549da6a0d7db5ec53a2f14897fa5cb35a73e74f6', 'message': 'Improve docs and comments for provider_ids_from_rp_ids\n\nWhen the double join was removed from provider_ids_from_rp_ids [1]\nit became clear that additional docs and commentary were required\nto avoid future confusion over why the new way of using it will\nwork. This adds it.\n\n[1] If937053a8af3f0eecdd90aa807be0abc316d8c4f\n\nChange-Id: I4958ba0b208ca457e049875433dc0826eaab8795\n'}, {'number': 2, 'created': '2019-08-07 13:10:31.000000000', 'files': ['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/d65fb81039ae9953883396d6c51611206f89f622', 'message': 'Improve docs and comments for provider_ids_from_rp_ids\n\nWhen the double join was removed from provider_ids_from_rp_ids [1]\nit became clear that additional docs and commentary were required\nto avoid future confusion over why the new way of using it will\nwork. This adds it.\n\n[1] If937053a8af3f0eecdd90aa807be0abc316d8c4f\n\nChange-Id: I4958ba0b208ca457e049875433dc0826eaab8795\n'}]",3,675082,d65fb81039ae9953883396d6c51611206f89f622,12,4,2,11564,,,0,"Improve docs and comments for provider_ids_from_rp_ids

When the double join was removed from provider_ids_from_rp_ids [1]
it became clear that additional docs and commentary were required
to avoid future confusion over why the new way of using it will
work. This adds it.

[1] If937053a8af3f0eecdd90aa807be0abc316d8c4f

Change-Id: I4958ba0b208ca457e049875433dc0826eaab8795
",git fetch https://review.opendev.org/openstack/placement refs/changes/82/675082/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py']",2,549da6a0d7db5ec53a2f14897fa5cb35a73e74f6,cd/de-tuple," # all the providers that we haven't yet looked at. Above, `usages` includes # information for every provider in a tree of providers where at least one # member of the tree is contributing resources or traits to an allocation # candidate. At this stage, any tree which we have previously touched has # been fully summarized already and any trees left are fully present in # rp_ids. # If there is a parent, we can rely on it being in provider_ids # because for any single provider, it also contains the full # ancestry.", # all providers involved in our operation,17,2
openstack%2Fplacement~master~I79dac6c83d9c118bd6a66cdc3cd300c3c12af538,openstack/placement,master,I79dac6c83d9c118bd6a66cdc3cd300c3c12af538,Clean up the extend_usages_by_provider_tree method,MERGED,2019-08-07 09:55:29.000000000,2019-08-07 21:46:55.000000000,2019-08-07 21:46:55.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 09:55:29.000000000', 'files': ['placement/objects/research_context.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/9820b1bd20469946cd9278478796a09fc0928d40', 'message': 'Clean up the extend_usages_by_provider_tree method\n\nIn review of the change [1] that created\nextend_usages_by_provider_tree some issues with the docs and the\nlayout of the code were identified. This change attempts to address\nthem:\n\n* Doc comment on self.usages updated to show more of the content.\n\n* The SQL-half of the extend_usages_by_provider_tree method is\n  extracted to its own function.\n\n[1] I5d05d15d33beb1622a06bde0e32c3f52ba01b448\n\nChange-Id: I79dac6c83d9c118bd6a66cdc3cd300c3c12af538\n'}]",1,675074,9820b1bd20469946cd9278478796a09fc0928d40,8,4,1,11564,,,0,"Clean up the extend_usages_by_provider_tree method

In review of the change [1] that created
extend_usages_by_provider_tree some issues with the docs and the
layout of the code were identified. This change attempts to address
them:

* Doc comment on self.usages updated to show more of the content.

* The SQL-half of the extend_usages_by_provider_tree method is
  extracted to its own function.

[1] I5d05d15d33beb1622a06bde0e32c3f52ba01b448

Change-Id: I79dac6c83d9c118bd6a66cdc3cd300c3c12af538
",git fetch https://review.opendev.org/openstack/placement refs/changes/74/675074/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,9820b1bd20469946cd9278478796a09fc0928d40,optimize-_build_provider_summaries," # 'max_unit': integer, # 'used': integer, """"""Extend our record of usages by the provided root_ids."""""" self.usages.extend(_get_usages_by_provider_trees(self._ctx, root_ids)) def _get_usages_by_provider_trees(ctx, root_ids): """"""Returns a row iterator of usage records grouped by provider ID for all resource providers in all trees indicated in the ``root_ids``. """""" # We build up a SQL expression that looks like this: # SELECT # rp.id as resource_provider_id # , rp.uuid as resource_provider_uuid # , inv.resource_class_id # , inv.total # , inv.reserved # , inv.allocation_ratio # , inv.max_unit # , usage.used # FROM resource_providers AS rp # LEFT JOIN inventories AS inv # ON rp.id = inv.resource_provider_id # LEFT JOIN ( # SELECT resource_provider_id, resource_class_id, SUM(used) as used # FROM allocations # JOIN resource_providers # ON allocations.resource_provider_id = resource_providers.id # AND (resource_providers.root_provider_id IN($root_ids) # OR resource_providers.id IN($root_ids)) # GROUP BY resource_provider_id, resource_class_id # ) # AS usage # ON inv.resource_provider_id = usage.resource_provider_id # AND inv.resource_class_id = usage.resource_class_id # WHERE rp.root_provider_id IN ($root_ids) rpt = sa.alias(_RP_TBL, name=""rp"") inv = sa.alias(_INV_TBL, name=""inv"") # Build our derived table (subquery in the FROM clause) that sums used # amounts for resource provider and resource class derived_alloc_to_rp = sa.join( _ALLOC_TBL, _RP_TBL, sa.and_(_ALLOC_TBL.c.resource_provider_id == _RP_TBL.c.id, _RP_TBL.c.root_provider_id.in_(root_ids)) ) usage = sa.alias( sa.select([ _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id, sql.func.sum(_ALLOC_TBL.c.used).label('used'), ]).select_from(derived_alloc_to_rp).group_by( _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id ), name='usage') # Build a join between the resource providers and inventories table rpt_inv_join = sa.outerjoin(rpt, inv, rpt.c.id == inv.c.resource_provider_id) # And then join to the derived table of usages usage_join = sa.outerjoin( rpt_inv_join, usage, sa.and_( usage.c.resource_provider_id == inv.c.resource_provider_id, usage.c.resource_class_id == inv.c.resource_class_id, ), ) query = sa.select([ rpt.c.id.label(""resource_provider_id""), rpt.c.uuid.label(""resource_provider_uuid""), inv.c.resource_class_id, inv.c.total, inv.c.reserved, inv.c.allocation_ratio, inv.c.max_unit, usage.c.used, ]).select_from(usage_join).where( rpt.c.root_provider_id.in_(sa.bindparam( 'root_ids', expanding=True)) ) return ctx.session.execute(query, {'root_ids': list(root_ids)}).fetchall()"," """"""Returns a row iterator of usage records grouped by provider ID for all resource providers in all trees indicated in the ``root_ids``. """""" # We build up a SQL expression that looks like this: # SELECT # rp.id as resource_provider_id # , rp.uuid as resource_provider_uuid # , inv.resource_class_id # , inv.total # , inv.reserved # , inv.allocation_ratio # , inv.max_unit # , usage.used # FROM resource_providers AS rp # LEFT JOIN inventories AS inv # ON rp.id = inv.resource_provider_id # LEFT JOIN ( # SELECT resource_provider_id, resource_class_id, SUM(used) as used # FROM allocations # JOIN resource_providers # ON allocations.resource_provider_id = resource_providers.id # AND (resource_providers.root_provider_id IN($root_ids) # OR resource_providers.id IN($root_ids)) # GROUP BY resource_provider_id, resource_class_id # ) # AS usage # ON inv.resource_provider_id = usage.resource_provider_id # AND inv.resource_class_id = usage.resource_class_id # WHERE rp.root_provider_id IN ($root_ids) rpt = sa.alias(_RP_TBL, name=""rp"") inv = sa.alias(_INV_TBL, name=""inv"") # Build our derived table (subquery in the FROM clause) that sums used # amounts for resource provider and resource class derived_alloc_to_rp = sa.join( _ALLOC_TBL, _RP_TBL, sa.and_(_ALLOC_TBL.c.resource_provider_id == _RP_TBL.c.id, _RP_TBL.c.root_provider_id.in_(root_ids)) ) usage = sa.alias( sa.select([ _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id, sql.func.sum(_ALLOC_TBL.c.used).label('used'), ]).select_from(derived_alloc_to_rp).group_by( _ALLOC_TBL.c.resource_provider_id, _ALLOC_TBL.c.resource_class_id ), name='usage') # Build a join between the resource providers and inventories table rpt_inv_join = sa.outerjoin(rpt, inv, rpt.c.id == inv.c.resource_provider_id) # And then join to the derived table of usages usage_join = sa.outerjoin( rpt_inv_join, usage, sa.and_( usage.c.resource_provider_id == inv.c.resource_provider_id, usage.c.resource_class_id == inv.c.resource_class_id, ), ) query = sa.select([ rpt.c.id.label(""resource_provider_id""), rpt.c.uuid.label(""resource_provider_uuid""), inv.c.resource_class_id, inv.c.total, inv.c.reserved, inv.c.allocation_ratio, inv.c.max_unit, usage.c.used, ]).select_from(usage_join).where( rpt.c.root_provider_id.in_(sa.bindparam( 'root_ids', expanding=True)) ) self.usages.extend( self._ctx.session.execute(query, {'root_ids': list(root_ids)}) .fetchall())",83,78
openstack%2Fnova~master~I680f0bab766693b8cc6f0f912f0b7987a9debec9,openstack/nova,master,I680f0bab766693b8cc6f0f912f0b7987a9debec9,trivial: Remove unused '_instance_to_allocations_dict' function,MERGED,2019-08-06 17:55:24.000000000,2019-08-07 21:38:25.000000000,2019-08-07 07:01:11.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-06 17:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/553c4e5942c55f1a336612d8a7ebcb541ed5135a', 'message': ""trivial: Remove unused '_instance_to_allocations_dict' function\n\nThis appears to have been unused since commit 73d7ef428. Remove both the\nfunction and its tests.\n\nChange-Id: I680f0bab766693b8cc6f0f912f0b7987a9debec9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-08-06 18:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e30ffd40f5a8d16fb00657ce31acfeacec28cb1d', 'message': ""trivial: Remove unused '_instance_to_allocations_dict' function\n\nThis appears to have been unused since commit 73d7ef428. Remove both the\nfunction and its tests.\n\nChange-Id: I680f0bab766693b8cc6f0f912f0b7987a9debec9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-08-07 02:11:36.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c686544e286613d5e18894f75608d2bb140aa3b9', 'message': ""trivial: Remove unused '_instance_to_allocations_dict' function\n\nThis appears to have been unused since commit 73d7ef428. Remove both the\nfunction and its tests.\n\nChange-Id: I680f0bab766693b8cc6f0f912f0b7987a9debec9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,674893,c686544e286613d5e18894f75608d2bb140aa3b9,29,12,3,15334,,,0,"trivial: Remove unused '_instance_to_allocations_dict' function

This appears to have been unused since commit 73d7ef428. Remove both the
function and its tests.

Change-Id: I680f0bab766693b8cc6f0f912f0b7987a9debec9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/674893/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,553c4e5942c55f1a336612d8a7ebcb541ed5135a,bp/cpu-resources,,"def _instance_to_allocations_dict(instance): """"""Given an `objects.Instance` object, return a dict, keyed by resource class of the amount used by the instance. :param instance: `objects.Instance` object to translate """""" alloc_dict = scheduler_utils.resources_from_flavor(instance, instance.flavor) # Remove any zero allocations. return {key: val for key, val in alloc_dict.items() if val} ",0,102
openstack%2Fmanila-tempest-plugin~master~I5507295baa85bdf911732309d6c1876dc0d5a559,openstack/manila-tempest-plugin,master,I5507295baa85bdf911732309d6c1876dc0d5a559,Fix snapshot condition error,ABANDONED,2019-08-06 06:47:18.000000000,2019-08-07 21:32:21.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30722}]","[{'number': 1, 'created': '2019-08-06 06:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/738c34e1ebf48d7b7e72343c6b6a9926766cff32', 'message': 'Fix gluster ci failure\n\n- Delete meaningless(and not working) assert\n- Do snapshot test when run_snapshot_tests is true, not\ncapability_create_share_from_snapshot_support is true.\n\nChange-Id: I5507295baa85bdf911732309d6c1876dc0d5a559\n'}, {'number': 2, 'created': '2019-08-06 07:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/74a31dc08b4737d23ca830d02673d423e531df83', 'message': 'Fix gluster ci failure\n\nWhen run_snapshot_tests==false but CONF.share.capability_create\n_share_from_snapshot_support==true, resource_setup() makes no\ncls.shares[1] and cls.snap. Check both conditions to make sure\nobject exists.\n\nChange-Id: I5507295baa85bdf911732309d6c1876dc0d5a559\n'}, {'number': 3, 'created': '2019-08-06 08:31:35.000000000', 'files': ['manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/eb73ad2aeced1e646f9c9fc841aa4f1758611c99', 'message': 'Fix snapshot condition error\n\nWhen run_snapshot_tests==false but CONF.share.capability_create\n_share_from_snapshot_support==true, resource_setup() makes no\ncls.shares[1] and cls.snap. Check both conditions to make sure\nobject exists.\n\nChange-Id: I5507295baa85bdf911732309d6c1876dc0d5a559\n'}]",3,674739,eb73ad2aeced1e646f9c9fc841aa4f1758611c99,12,4,3,30722,,,0,"Fix snapshot condition error

When run_snapshot_tests==false but CONF.share.capability_create
_share_from_snapshot_support==true, resource_setup() makes no
cls.shares[1] and cls.snap. Check both conditions to make sure
object exists.

Change-Id: I5507295baa85bdf911732309d6c1876dc0d5a559
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/39/674739/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py']",2,738c34e1ebf48d7b7e72343c6b6a9926766cff32,fix_gluster_ci," CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."")"," if CONF.share.capability_create_share_from_snapshot_support: self.assertFalse(self.shares[1]['id'] in [s['id'] for s in shares]) CONF.share.capability_create_share_from_snapshot_support, ""Create share from snapshot tests are disabled."")",2,6
openstack%2Ftripleo-validations~stable%2Fstein~I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3,openstack/tripleo-validations,stable/stein,I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3,Add autodocumentation for roles and library,MERGED,2019-08-05 10:26:09.000000000,2019-08-07 21:06:20.000000000,2019-08-07 21:06:20.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-05 10:26:09.000000000', 'files': ['doc/source/modules/modules-ip_range.rst', 'doc/source/roles/role-collect-flavors-and-verify-profiles.rst', 'doc/source/roles/role-xfs-check-ftype.rst', 'doc/source/roles/role-controller-token.rst', 'doc/source/roles/role-mysql-open-files-limit.rst', 'doc/source/roles/role-check-latest-minor-version.rst', 'doc/source/roles/role-service-status.rst', 'doc/source/roles/role-ironic-boot-configuration.rst', 'doc/source/roles/role-default-node-count.rst', 'doc/source/roles/role-rabbitmq-limits.rst', 'doc/source/roles/role-undercloud-disk-space.rst', 'doc/source/roles/role-image-serve.rst', 'doc/source/modules/modules-check_ironic_boot_config.rst', 'doc/source/roles/role-containerized-undercloud-docker.rst', 'doc/source/roles/role-undercloud-process-count.rst', 'doc/source/modules/modules-pacemaker.rst', 'doc/source/modules/modules-ini.rst', 'doc/source/roles/role-switch-vlans.rst', 'doc/source/modules/modules-ovs_dpdk_pmd_cpus_check.rst', 'doc/source/roles/role-ctlplane-ip-range.rst', 'library/check_flavors.py', 'doc/source/modules/modules-check_flavors.rst', 'doc/source/modules/modules-hiera.rst', 'doc/source/roles/role-dhcp-validations.rst', 'doc/source/roles/role-no-op-firewall-nova-driver.rst', 'library/check_ironic_boot_config.py', 'doc/source/roles/role-advanced-format-512e-support.rst', 'doc/source/roles/role-ceilometerdb-size.rst', 'doc/source/modules/modules-check_package_update.rst', 'doc/source/modules/modules-docker_facts.rst', 'doc/source/modules/modules-advanced_format.rst', 'doc/source/roles/role-undercloud-ram.rst', 'doc/source/modules/modules-haproxy_conf.rst', 'doc/source/roles/role-undercloud-service-status.rst', 'doc/source/roles/role-ntp.rst', 'doc/source/roles/role-haproxy.rst', 'doc/source/roles/role-controller-ulimits.rst', 'doc/source/roles/role-node-health.rst', 'role-addition.yml', 'doc/source/roles/role-ovs-dpdk-pmd.rst', 'doc/source/modules/modules-network_environment.rst', 'doc/source/_exts/ansible-autodoc.py', 'doc/source/roles/role-openstack-endpoints.rst', 'doc/source/modules/modules-icmp_ping.rst', 'doc/source/roles/role-no-op.rst', 'doc/source/roles/role-undercloud-heat-purge-deleted.rst', 'doc/source/roles/role-undercloud-debug.rst', 'doc/source/roles/role-tls-everywhere.rst', 'doc/source/roles/role-check-network-gateway.rst', 'doc/source/roles/role-stack-health.rst', 'library/node_disks.py', 'doc/source/roles.rst', 'doc/source/roles/role-neutron-sanity-check.rst', 'library/switch_vlans.py', 'doc/source/modules/modules-warn.rst', 'doc/source/roles/role-stonith-exists.rst', 'doc/source/roles/role-dns.rst', 'doc/source/roles/role-repos.rst', 'doc/source/roles/role-undercloud-cpu.rst', 'doc/source/roles/role-nova-event-callback.rst', 'doc/source/conf.py', 'doc/source/modules/modules-switch_vlans.rst', 'doc/source/roles/role-openshift-on-openstack.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/modules/modules-verify_profiles.rst', 'doc/source/roles/role-undercloud-tokenflush.rst', 'library/check_package_update.py', 'roles/undercloud-selinux-mode/defaults/main.yml', 'doc/source/roles/role-ceph.rst', 'doc/source/modules/modules-node_disks.rst', 'doc/source/index.rst', 'doc/source/roles/role-node-disks.rst', 'doc/source/roles/role-network-environment.rst', 'doc/source/modules.rst', 'doc/source/roles/role-nova-status.rst', 'doc/source/roles/role-undercloud-selinux-mode.rst', 'doc/source/modules/modules-overcloudrc.rst', 'doc/source/roles/role-pacemaker-status.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6af82c136e6928acc24612cb1f893e4fac4f1aea', 'message': 'Add autodocumentation for roles and library\n\nThis patch adds automation to add documentation for each Ansible roles\nand custom modules for TripleO-Validations.\n\nPatch-Inspired-By: tripleo-ansible-Team++\nChange-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 218bef9cbe384a4d77b46b6f8b7cdd35387cfe3e)\n'}]",0,674568,6af82c136e6928acc24612cb1f893e4fac4f1aea,10,7,1,11491,,,0,"Add autodocumentation for roles and library

This patch adds automation to add documentation for each Ansible roles
and custom modules for TripleO-Validations.

Patch-Inspired-By: tripleo-ansible-Team++
Change-Id: I2c8ec698cdcbc304b5d9f3bd72bcede5bf2aafd3
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 218bef9cbe384a4d77b46b6f8b7cdd35387cfe3e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/674568/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-ip_range.rst', 'doc/source/roles/role-collect-flavors-and-verify-profiles.rst', 'doc/source/roles/role-xfs-check-ftype.rst', 'doc/source/roles/role-controller-token.rst', 'doc/source/roles/role-mysql-open-files-limit.rst', 'doc/source/roles/role-check-latest-minor-version.rst', 'doc/source/roles/role-service-status.rst', 'doc/source/roles/role-ironic-boot-configuration.rst', 'doc/source/roles/role-default-node-count.rst', 'doc/source/roles/role-rabbitmq-limits.rst', 'doc/source/roles/role-undercloud-disk-space.rst', 'doc/source/roles/role-image-serve.rst', 'doc/source/modules/modules-check_ironic_boot_config.rst', 'doc/source/roles/role-containerized-undercloud-docker.rst', 'doc/source/roles/role-undercloud-process-count.rst', 'doc/source/modules/modules-pacemaker.rst', 'doc/source/modules/modules-ini.rst', 'doc/source/roles/role-switch-vlans.rst', 'doc/source/modules/modules-ovs_dpdk_pmd_cpus_check.rst', 'doc/source/roles/role-ctlplane-ip-range.rst', 'library/check_flavors.py', 'doc/source/modules/modules-check_flavors.rst', 'doc/source/modules/modules-hiera.rst', 'doc/source/roles/role-dhcp-validations.rst', 'doc/source/roles/role-no-op-firewall-nova-driver.rst', 'library/check_ironic_boot_config.py', 'doc/source/roles/role-advanced-format-512e-support.rst', 'doc/source/roles/role-ceilometerdb-size.rst', 'doc/source/modules/modules-check_package_update.rst', 'doc/source/modules/modules-docker_facts.rst', 'doc/source/modules/modules-advanced_format.rst', 'doc/source/roles/role-undercloud-ram.rst', 'doc/source/modules/modules-haproxy_conf.rst', 'doc/source/roles/role-undercloud-service-status.rst', 'doc/source/roles/role-ntp.rst', 'doc/source/roles/role-haproxy.rst', 'doc/source/roles/role-controller-ulimits.rst', 'doc/source/roles/role-node-health.rst', 'role-addition.yml', 'doc/source/roles/role-ovs-dpdk-pmd.rst', 'doc/source/modules/modules-network_environment.rst', 'doc/source/_exts/ansible-autodoc.py', 'doc/source/roles/role-openstack-endpoints.rst', 'doc/source/modules/modules-icmp_ping.rst', 'doc/source/roles/role-no-op.rst', 'doc/source/roles/role-undercloud-heat-purge-deleted.rst', 'doc/source/roles/role-undercloud-debug.rst', 'doc/source/roles/role-tls-everywhere.rst', 'doc/source/roles/role-check-network-gateway.rst', 'doc/source/roles/role-stack-health.rst', 'library/node_disks.py', 'doc/source/roles.rst', 'doc/source/roles/role-neutron-sanity-check.rst', 'library/switch_vlans.py', 'doc/source/modules/modules-warn.rst', 'doc/source/roles/role-stonith-exists.rst', 'doc/source/roles/role-dns.rst', 'doc/source/roles/role-repos.rst', 'doc/source/roles/role-undercloud-cpu.rst', 'doc/source/roles/role-nova-event-callback.rst', 'doc/source/conf.py', 'doc/source/modules/modules-switch_vlans.rst', 'doc/source/roles/role-openshift-on-openstack.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/modules/modules-verify_profiles.rst', 'doc/source/roles/role-undercloud-tokenflush.rst', 'library/check_package_update.py', 'roles/undercloud-selinux-mode/defaults/main.yml', 'doc/source/roles/role-ceph.rst', 'doc/source/modules/modules-node_disks.rst', 'doc/source/index.rst', 'doc/source/roles/role-node-disks.rst', 'doc/source/roles/role-network-environment.rst', 'doc/source/modules.rst', 'doc/source/roles/role-nova-status.rst', 'doc/source/roles/role-undercloud-selinux-mode.rst', 'doc/source/modules/modules-overcloudrc.rst', 'doc/source/roles/role-pacemaker-status.rst']",78,6af82c136e6928acc24612cb1f893e4fac4f1aea,,================ pacemaker-status ================ .. ansibleautoplugin:: :role: roles/pacemaker-status ,,973,14
openstack%2Ftripleo-validations~stable%2Fstein~I483d5e7b11376dc0141c506bf07ccd5876e4076e,openstack/tripleo-validations,stable/stein,I483d5e7b11376dc0141c506bf07ccd5876e4076e,Adding new role automation with Ansible,MERGED,2019-08-05 10:26:09.000000000,2019-08-07 21:06:18.000000000,2019-08-07 21:06:18.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-05 10:26:09.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/molecule/default/playbook.yml.j2', '_skeleton_role_/molecule/default/Dockerfile.j2', '_skeleton_role_/handlers/main.yml', 'role-addition.yml', '_skeleton_role_/tasks/main.yml.j2', '_skeleton_role_/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/verify.yml', '_skeleton_role_/vars/main.yml.j2', 'doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/88641966d31d1d18bd11208214e0f58bae6f2cba', 'message': 'Adding new role automation with Ansible\n\nThis patch adds a basic skeleton to create a new roles including\nmolecule structure.\n\nChange-Id: I483d5e7b11376dc0141c506bf07ccd5876e4076e\nPatch-Inspired-By: tripleo-ansible-Team++\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 9bbd3b26df331ad7307d8f0fe69894277eafdecc)\n'}]",0,674567,88641966d31d1d18bd11208214e0f58bae6f2cba,8,7,1,11491,,,0,"Adding new role automation with Ansible

This patch adds a basic skeleton to create a new roles including
molecule structure.

Change-Id: I483d5e7b11376dc0141c506bf07ccd5876e4076e
Patch-Inspired-By: tripleo-ansible-Team++
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 9bbd3b26df331ad7307d8f0fe69894277eafdecc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/674567/1 && git format-patch -1 --stdout FETCH_HEAD,"['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/molecule/default/playbook.yml.j2', '_skeleton_role_/molecule/default/Dockerfile.j2', '_skeleton_role_/handlers/main.yml', 'role-addition.yml', '_skeleton_role_/tasks/main.yml.j2', '_skeleton_role_/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/verify.yml', '_skeleton_role_/vars/main.yml.j2', 'doc/source/readme.rst']",10,88641966d31d1d18bd11208214e0f58bae6f2cba,," Create a new role with automation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The role addition process is also automated using ansible. If ansible is available on the development workstation change directory to the root of the `tripleo-validations` repository and run the the following command which will perform the basic tasks noted above. .. code-block:: console $ cd tripleo-validations/ $ ansible-playbook -i localhost, role-addition.yml -e role_name=${NEWROLENAME}",,249,0
openstack%2Ftripleo-heat-templates~master~Ifa05dc0bce634ad06efa7f4658845c8d6d044818,openstack/tripleo-heat-templates,master,Ifa05dc0bce634ad06efa7f4658845c8d6d044818,Use ansible group_vars for service_configs hieradata,MERGED,2019-07-31 05:14:41.000000000,2019-08-07 21:06:16.000000000,2019-08-07 21:06:16.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 05:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92a4140b297addd2af6225cc362c895b2fefc918', 'message': 'Use ansible group_vars for service_configs hieradata\n\nChange-Id: Ifa05dc0bce634ad06efa7f4658845c8d6d044818\nDepends-On: https://review.opendev.org/#/c/673727\n'}, {'number': 2, 'created': '2019-07-31 06:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/064d979f0c5822a5f76395d4362ce7003d983e0f', 'message': 'Use ansible group_vars for service_configs hieradata\n\nChange-Id: Ifa05dc0bce634ad06efa7f4658845c8d6d044818\nDepends-On: https://review.opendev.org/#/c/673727\n'}, {'number': 3, 'created': '2019-08-07 05:09:18.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b2d2795a8aac2c34f846d1719bfe9d7e95f5c2d', 'message': 'Use ansible group_vars for service_configs hieradata\n\nChange-Id: Ifa05dc0bce634ad06efa7f4658845c8d6d044818\nDepends-On: https://review.opendev.org/#/c/673727\n'}]",0,673730,5b2d2795a8aac2c34f846d1719bfe9d7e95f5c2d,30,5,3,8833,,,0,"Use ansible group_vars for service_configs hieradata

Change-Id: Ifa05dc0bce634ad06efa7f4658845c8d6d044818
Depends-On: https://review.opendev.org/#/c/673727
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/673730/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2']",2,92a4140b297addd2af6225cc362c895b2fefc918,bp/reduce-deployment-resources, - service_configs,,5,2
openstack%2Ftripleo-common~master~I6f3e4fb279146a0f292818929092d1aeb1d3fced,openstack/tripleo-common,master,I6f3e4fb279146a0f292818929092d1aeb1d3fced,Allows to disable in-flight validations,MERGED,2019-08-06 12:50:23.000000000,2019-08-07 21:06:14.000000000,2019-08-07 21:06:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 12:50:23.000000000', 'files': ['workbooks/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04b106cb97aea0a5a09d6fcddc5e42a42a543e69', 'message': 'Allows to disable in-flight validations\n\nThis patches adds the possibility to deactivate in-flight validations by\nskipping the ""opendev-validation"" ansible tag.\n\nIt does it in a generic way, meaning we might pass other tags to skip.\n\nChange-Id: I6f3e4fb279146a0f292818929092d1aeb1d3fced\n'}]",0,674801,04b106cb97aea0a5a09d6fcddc5e42a42a543e69,10,7,1,28223,,,0,"Allows to disable in-flight validations

This patches adds the possibility to deactivate in-flight validations by
skipping the ""opendev-validation"" ansible tag.

It does it in a generic way, meaning we might pass other tags to skip.

Change-Id: I6f3e4fb279146a0f292818929092d1aeb1d3fced
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/674801/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/deployment.yaml'],1,04b106cb97aea0a5a09d6fcddc5e42a42a543e69,in-flight," - skip_tags: """" skip_tags: <% $.skip_tags %>",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I0f38df69777340ebbdc5c419f121524dbc74cad7,openstack/tripleo-heat-templates,stable/queens,I0f38df69777340ebbdc5c419f121524dbc74cad7,Add missing update_serial key to compute roles,MERGED,2019-08-06 16:08:01.000000000,2019-08-07 21:06:13.000000000,2019-08-07 21:06:13.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 16:08:01.000000000', 'files': ['roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a69cc589e5b4280d259fc49ff7cf342dc9f8cac', 'message': 'Add missing update_serial key to compute roles\n\nI missed this the changes from I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5 when\nrebasing I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c.\n\nAdd the missing key to the roles and add some validation to catch this.\n\nChange-Id: I0f38df69777340ebbdc5c419f121524dbc74cad7\nRelated-bug: #1831617\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit c2977e3c00c08eca8d5f52f7fb9c61abdf0ef28f)\n(cherry picked from commit 7b72488d2ef12d99524f6926fca0efe310ff453e)\n(cherry picked from commit d9dcd8d51677c0435fc74ac7f40a544fa4ac41af)\n'}]",0,674862,3a69cc589e5b4280d259fc49ff7cf342dc9f8cac,7,6,1,23811,,,0,"Add missing update_serial key to compute roles

I missed this the changes from I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5 when
rebasing I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c.

Add the missing key to the roles and add some validation to catch this.

Change-Id: I0f38df69777340ebbdc5c419f121524dbc74cad7
Related-bug: #1831617
Implements: blueprint nova-backend-per-role
(cherry picked from commit c2977e3c00c08eca8d5f52f7fb9c61abdf0ef28f)
(cherry picked from commit 7b72488d2ef12d99524f6926fca0efe310ff453e)
(cherry picked from commit d9dcd8d51677c0435fc74ac7f40a544fa4ac41af)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/674862/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'tools/yaml-validate.py']",4,3a69cc589e5b4280d259fc49ff7cf342dc9f8cac,queens," cmpt_us = cmpt_tpl[0].get('update_serial', None) tpl_us = role_tpl[0].get('update_serial', None) if 'OS::TripleO::Services::CephOSD' in role_services: if tpl_us not in (None, 1): print('ERROR: update_serial in {0} ({1}) ' 'is should be 1 as it includes CephOSD'.format( role_filename, tpl_us, cmpt_us)) return 1 elif cmpt_us is not None and tpl_us != cmpt_us: print('ERROR: update_serial in {0} ({1}) ' 'does not match roles/Compute.yaml {2}'.format( role_filename, tpl_us, cmpt_us)) return 1 return 0", return 0 ,24,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I0f38df69777340ebbdc5c419f121524dbc74cad7,openstack/tripleo-heat-templates,stable/rocky,I0f38df69777340ebbdc5c419f121524dbc74cad7,Add missing update_serial key to compute roles,MERGED,2019-08-06 16:05:21.000000000,2019-08-07 21:06:11.000000000,2019-08-07 21:06:11.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 16:05:21.000000000', 'files': ['roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9dcd8d51677c0435fc74ac7f40a544fa4ac41af', 'message': 'Add missing update_serial key to compute roles\n\nI missed this the changes from I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5 when\nrebasing I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c.\n\nAdd the missing key to the roles and add some validation to catch this.\n\nChange-Id: I0f38df69777340ebbdc5c419f121524dbc74cad7\nRelated-bug: #1831617\nImplements: blueprint nova-backend-per-role\n(cherry picked from commit c2977e3c00c08eca8d5f52f7fb9c61abdf0ef28f)\n(cherry picked from commit 7b72488d2ef12d99524f6926fca0efe310ff453e)\n'}]",0,674860,d9dcd8d51677c0435fc74ac7f40a544fa4ac41af,7,6,1,23811,,,0,"Add missing update_serial key to compute roles

I missed this the changes from I4ee0110a6c2b9466d81e37e5df27f5f81a6eceb5 when
rebasing I9f40a2a3561fcb1d1fec9d9c3c1f9cabaf02650c.

Add the missing key to the roles and add some validation to catch this.

Change-Id: I0f38df69777340ebbdc5c419f121524dbc74cad7
Related-bug: #1831617
Implements: blueprint nova-backend-per-role
(cherry picked from commit c2977e3c00c08eca8d5f52f7fb9c61abdf0ef28f)
(cherry picked from commit 7b72488d2ef12d99524f6926fca0efe310ff453e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/674860/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ComputeLocalEphemeral.yaml', 'tools/yaml-validate.py']",4,d9dcd8d51677c0435fc74ac7f40a544fa4ac41af,rocky," cmpt_us = cmpt_tpl[0].get('update_serial', None) tpl_us = role_tpl[0].get('update_serial', None) if 'OS::TripleO::Services::CephOSD' in role_services: if tpl_us not in (None, 1): print('ERROR: update_serial in {0} ({1}) ' 'is should be 1 as it includes CephOSD'.format( role_filename, tpl_us, cmpt_us)) return 1 elif cmpt_us is not None and tpl_us != cmpt_us: print('ERROR: update_serial in {0} ({1}) ' 'does not match roles/Compute.yaml {2}'.format( role_filename, tpl_us, cmpt_us)) return 1 return 0", return 0 ,24,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib179e3bbc827cc438519b19e85bda4a9994376b9,openstack/tripleo-heat-templates,stable/stein,Ib179e3bbc827cc438519b19e85bda4a9994376b9,keystone: drop duplicate -DFOREGROUND,MERGED,2019-08-05 08:46:39.000000000,2019-08-07 21:06:09.000000000,2019-08-07 21:06:09.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 9098}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-08-05 08:46:39.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4a3563bc3e599f54281d6b3d20feb406e0a6920', 'message': 'keystone: drop duplicate -DFOREGROUND\n\nNo need to specify this as kolla adds this arg automatically\nwhen using kolla_start.\n\nChange-Id: Ib179e3bbc827cc438519b19e85bda4a9994376b9\nCloses-bug: #1832090\n(cherry picked from commit 8eaac3026e54a057287301c8c844b54d2c310bc7)\n'}]",0,674554,f4a3563bc3e599f54281d6b3d20feb406e0a6920,24,9,1,25613,,,0,"keystone: drop duplicate -DFOREGROUND

No need to specify this as kolla adds this arg automatically
when using kolla_start.

Change-Id: Ib179e3bbc827cc438519b19e85bda4a9994376b9
Closes-bug: #1832090
(cherry picked from commit 8eaac3026e54a057287301c8c844b54d2c310bc7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/674554/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,f4a3563bc3e599f54281d6b3d20feb406e0a6920,bug/1832090-stable/stein, command: /usr/sbin/httpd, command: /usr/sbin/httpd -DFOREGROUND,1,1
openstack%2Ftripleo-common~stable%2Fstein~Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10,openstack/tripleo-common,stable/stein,Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10,Add ceph-ansible support to tripleo-ansible-inventory,MERGED,2019-08-06 14:52:22.000000000,2019-08-07 21:06:08.000000000,2019-08-07 21:06:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-06 14:52:22.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/65ab6278f1515fa13252af2832cbf3287bbc9932', 'message': 'Add ceph-ansible support to tripleo-ansible-inventory\n\nThe tripleo-ansible-inventory command produces an inventory\nwhich works with TripleO but not with ceph-ansible. TripleO\nceph-ansible integration then creates its own inventory for\nthe ceph-ansible playbook run. This patch makes generating\na separate inventory for ceph-ansible no longer necessary.\n\nTripleO services already map to the same inventory groups\nused by ceph-ansible, e.g. ceph_clients:clients, ceph_mons:\nmons, ceph_osds:osds, etc. This patch maps the names of the\nTripleO inventory Ceph groups to the names of the inventory\ngroups used by ceph-ansible and creates a duplicate group\nentry in the inventory, but with the names that ceph-ansible\nexpects.\n\nChange-Id: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\n(cherry picked from commit 3f48630791f5051b97afba1365d8f5defb797951)\n'}]",0,674822,65ab6278f1515fa13252af2832cbf3287bbc9932,11,6,1,18002,,,0,"Add ceph-ansible support to tripleo-ansible-inventory

The tripleo-ansible-inventory command produces an inventory
which works with TripleO but not with ceph-ansible. TripleO
ceph-ansible integration then creates its own inventory for
the ceph-ansible playbook run. This patch makes generating
a separate inventory for ceph-ansible no longer necessary.

TripleO services already map to the same inventory groups
used by ceph-ansible, e.g. ceph_clients:clients, ceph_mons:
mons, ceph_osds:osds, etc. This patch maps the names of the
TripleO inventory Ceph groups to the names of the inventory
groups used by ceph-ansible and creates a duplicate group
entry in the inventory, but with the names that ceph-ansible
expects.

Change-Id: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10
(cherry picked from commit 3f48630791f5051b97afba1365d8f5defb797951)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/674822/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,65ab6278f1515fa13252af2832cbf3287bbc9932,ceph-ansible-inventory-stable/stein," ""tripleo_packages"", ""ceph_client"" 'Compute': ['sd', 'se', 'ceph_client'], 'ceph_client': ['Compute'], 'ceph_client': {'children': {'Compute': {}}, 'vars': {'ansible_ssh_user': 'heat-admin'}}, 'clients': {'children': {'Compute': {}}, 'vars': {'ansible_ssh_user': 'heat-admin'}},"," ""tripleo_packages"" 'Compute': ['sd', 'se'],",29,2
openstack%2Fnova~master~Idc38751e1629947f5842651d99b1528f74247b42,openstack/nova,master,Idc38751e1629947f5842651d99b1528f74247b42,tox: Keeping going with docs,MERGED,2019-07-11 15:22:27.000000000,2019-08-07 20:39:56.000000000,2019-08-07 20:39:56.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-11 15:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6600d8ef68de19cb25313e0f8cf98bfa50363e49', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Idc38751e1629947f5842651d99b1528f74247b42\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-07-12 10:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f27f30ecc3be6655c53e27d4155b7ed89511ef8', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Idc38751e1629947f5842651d99b1528f74247b42\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-07-18 09:26:34.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/81dff47a190bea2e550fb9fcc061d0a45e22a617', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Idc38751e1629947f5842651d99b1528f74247b42\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,670332,81dff47a190bea2e550fb9fcc061d0a45e22a617,33,10,3,15334,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Idc38751e1629947f5842651d99b1528f74247b42
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/670332/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6600d8ef68de19cb25313e0f8cf98bfa50363e49,trivial, sphinx-build -W --keep-going -b html -d doc/build/doctrees doc/source doc/build/html, sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html,1,1
openstack%2Fpython-swiftclient~stable%2Fstein~I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,openstack/python-swiftclient,stable/stein,I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff,Fix up stable gate,MERGED,2019-08-02 04:14:04.000000000,2019-08-07 20:39:52.000000000,2019-08-07 20:39:52.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 04:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/8fe095730201b8d11d4594d5e15a724349c0f2b1', 'message': ""Fix up stable gate\n\nThis is a combination of two commits from master:\n\n---\n\nIsolate docs requirements\n\n...since modern sphinx won't install on py27.\n\nWhile we're at it, clean up some warnings and treat warnings as errors.\n\nAlso, fix up how we parse test configs so we can run func tests.\n\nRelated-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n(cherry picked from commit 113eacf3b80f61d366b3e95b558b40f82ff728a4)\n\n---\n\nDrag forward prettytable in lower-constraints\n\nApparently version 0.7 got unpublished recently.\n\n(cherry picked from commit 5bd66947fc3d8987d4b24d5119a346031004229e)\n\n---\n\nChange-Id: I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff\n""}, {'number': 2, 'created': '2019-08-06 21:15:08.000000000', 'files': ['test-requirements.txt', 'doc/source/introduction.rst', 'doc/source/service-api.rst', 'lower-constraints.txt', 'tests/functional/test_swiftclient.py', 'doc/source/index.rst', 'doc/source/_static/.gitignore', 'doc/source/cli/index.rst', 'swiftclient/utils.py', 'doc/requirements.txt', 'swiftclient/multithreading.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/172aa9016977a3b03f07da0350c6aa9ade1e55a0', 'message': ""Fix up stable gate\n\nThis is a combination of three commits from master:\n\n---\n\nIsolate docs requirements\n\n...since modern sphinx won't install on py27.\n\nWhile we're at it, clean up some warnings and treat warnings as errors.\n\nAlso, fix up how we parse test configs so we can run func tests.\n\nRelated-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1\n(cherry picked from commit 113eacf3b80f61d366b3e95b558b40f82ff728a4)\n\n---\n\nDrag forward prettytable in lower-constraints\n\nApparently version 0.7 got unpublished recently.\n\n(cherry picked from commit 5bd66947fc3d8987d4b24d5119a346031004229e)\n\n---\n\ndocs: Clean up formatting\n\n(cherry-picked from commit 7563d9cb5642c85a31708fd863e2737f9d6c9419)\n\n---\n\nChange-Id: I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff\n""}]",0,674180,172aa9016977a3b03f07da0350c6aa9ade1e55a0,8,2,2,15343,,,0,"Fix up stable gate

This is a combination of three commits from master:

---

Isolate docs requirements

...since modern sphinx won't install on py27.

While we're at it, clean up some warnings and treat warnings as errors.

Also, fix up how we parse test configs so we can run func tests.

Related-Change: Id3c2ed87230c5918c18e2c01d086df8157f036b1
(cherry picked from commit 113eacf3b80f61d366b3e95b558b40f82ff728a4)

---

Drag forward prettytable in lower-constraints

Apparently version 0.7 got unpublished recently.

(cherry picked from commit 5bd66947fc3d8987d4b24d5119a346031004229e)

---

docs: Clean up formatting

(cherry-picked from commit 7563d9cb5642c85a31708fd863e2737f9d6c9419)

---

Change-Id: I3c6bca460ee5ff99195495a29e8b8bbf4ed804ff
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/80/674180/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitignore', 'test-requirements.txt', 'swiftclient/utils.py', 'lower-constraints.txt', 'doc/requirements.txt', 'swiftclient/multithreading.py', 'tox.ini', 'tests/functional/test_swiftclient.py']",8,8fe095730201b8d11d4594d5e15a724349c0f2b1,," if config.has_option('func_test', 'auth_uri'): self.auth_url = config.get('func_test', 'auth_uri') try: self.auth_version = config.get('func_test', 'auth_version') except configparser.NoOptionError: last_piece = self.auth_url.rstrip('/').rsplit('/', 1)[1] if last_piece.endswith('.0'): last_piece = last_piece[:-2] if last_piece in ('1', '2', '3'): self.auth_version = last_piece else: raise else: auth_host = config.get('func_test', 'auth_host') auth_port = config.getint('func_test', 'auth_port') auth_ssl = config.getboolean('func_test', 'auth_ssl') auth_prefix = config.get('func_test', 'auth_prefix') self.auth_version = config.get('func_test', 'auth_version') self.auth_url = """" if auth_ssl: self.auth_url += ""https://"" else: self.auth_url += ""http://"" self.auth_url += ""%s:%s%s"" % ( auth_host, auth_port, auth_prefix) if self.auth_version == ""1"": self.auth_url += 'v1.0' "," auth_host = config.get('func_test', 'auth_host') auth_port = config.getint('func_test', 'auth_port') auth_ssl = config.getboolean('func_test', 'auth_ssl') auth_prefix = config.get('func_test', 'auth_prefix') self.auth_version = config.get('func_test', 'auth_version') self.auth_url = """" if auth_ssl: self.auth_url += ""https://"" else: self.auth_url += ""http://"" self.auth_url += ""%s:%s%s"" % (auth_host, auth_port, auth_prefix) if self.auth_version == ""1"": self.auth_url += 'v1.0' ",48,20
openstack%2Fcinder~master~Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b,openstack/cinder,master,Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b,PowerMax Driver - Create Volume from SG Payload Change,MERGED,2019-07-09 10:25:45.000000000,2019-08-07 20:39:49.000000000,2019-08-07 20:39:48.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30165}]","[{'number': 1, 'created': '2019-07-09 10:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79b9f2b6ead5997dfe593d69c9d7af3b1373c999', 'message': 'PowerMax Driver - Create Volume from SG Payload Change\n\nChange to REST payload passed when creating new volumes via\nexisting storage group.\n\nChange-Id: Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b\n'}, {'number': 2, 'created': '2019-07-09 11:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8baf92c48b8b91c87711750f809e61e68ce250bb', 'message': 'PowerMax Driver - Create Volume from SG Payload Change\n\nChange to REST payload passed when creating new volumes via\nexisting storage group.\n\nChange-Id: Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b\n'}, {'number': 3, 'created': '2019-07-10 14:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b6e98bf971c00525c750e927dd22089b4b35a16', 'message': 'PowerMax Driver - Create Volume from SG Payload Change\n\nChange to REST payload passed when creating new volumes via\nexisting storage group.\n\nChange-Id: Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b\n'}, {'number': 4, 'created': '2019-07-18 10:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea34d65c7a5a1d60ad9381d3cc1e3847d49ca8da', 'message': 'PowerMax Driver - Create Volume from SG Payload Change\n\nChange to REST payload passed when creating new volumes via\nexisting storage group.\n\nChange-Id: Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b\n'}, {'number': 5, 'created': '2019-07-30 20:35:16.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4cee575ba0e2f5d76f9248a5f53cb22b78d6f71', 'message': 'PowerMax Driver - Create Volume from SG Payload Change\n\nChange to REST payload passed when creating new volumes via\nexisting storage group.\n\nChange-Id: Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b\n'}]",0,669835,f4cee575ba0e2f5d76f9248a5f53cb22b78d6f71,137,38,5,30165,,,0,"PowerMax Driver - Create Volume from SG Payload Change

Change to REST payload passed when creating new volumes via
existing storage group.

Change-Id: Ief0d14e3a0bbe8f8e013b2622c0a76717d7aa21b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/669835/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/powermax/rest.py'],1,79b9f2b6ead5997dfe593d69c9d7af3b1373c999,91_endpoint," ""addVolumeParam"": { ""volumeAttributes"": [ { ""num_of_vols"": 1, ""volumeIdentifier"": { ""identifier_name"": volume_name, ""volumeIdentifierChoice"": ""identifier_name"" }, ""volume_size"": volume_size, ""capacityUnit"": ""GB""}]}}}})"," ""addVolumeParam"": [{ ""num_of_vols"": 1, ""volumeIdentifier"": { ""identifier_name"": volume_name, ""volumeIdentifierChoice"": ""identifier_name""}, ""volumeAttribute"": { ""volume_size"": volume_size, ""capacityUnit"": ""GB""}}]}}})",11,8
openstack%2Fplacement~master~I67d8091b464cd7b875b37766f52818a5a2faa780,openstack/placement,master,I67d8091b464cd7b875b37766f52818a5a2faa780,Implement a more complex nested-perfload topology,MERGED,2019-07-30 13:10:03.000000000,2019-08-07 20:39:44.000000000,2019-08-07 20:39:44.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-07-30 13:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/673d8588d543baf27069f5bafea429acee496ad9', 'message': ""Implement a more complex nested-perfload topology\n\nThis changes gabbits/nested-perfload.yaml to create a tree of\nproviders based on the NUMANetworkFixture used in the functional\ntests. For the time being only one type of compute node is created\n(of which there will be 1000 instances).\n\nThe resulting hierarchy has 7 resource providers.\n\nThe allocation candidates query is:\n\nGET /allocation_candidates?\n    resources=DISK_GB:10&\n    required=COMPUTE_VOLUME_MULTI_ATTACH&\n    resources_COMPUTE=VCPU:1,MEMORY_MB:256&\n    required_COMPUTE=CUSTOM_FOO&\n    resources_FPGA=FPGA:1&\n    group_policy=none&\n    same_subtree=_COMPUTE,_FPGA\n\nThis is a step in the right direction but is not yet a complete\nexercising of all the nested functionality. It is, however, more\ncomplex than prior, notably testing 'same_subtree'. We should\ncontinue to iterate to get it doing more.\n\nChange-Id: I67d8091b464cd7b875b37766f52818a5a2faa780\nStory: 2005443\nTask: 35669\n""}, {'number': 2, 'created': '2019-07-31 10:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5c7cd887e7d16f39c0e8c5179908116924dd02eb', 'message': ""Implement a more complex nested-perfload topology\n\nThis changes gabbits/nested-perfload.yaml to create a tree of\nproviders based on one of the compute nodes in the NUMANetworkFixture\nused in the functional tests. For the time being only one type of\ncompute node is created (of which there will be 1000 instances).\nRoom is left for future expansion as requirements expand.\n\nThe resulting hierarchy has 7 resource providers.\n\nThe allocation candidates query is:\n\nGET /allocation_candidates?\n    resources=DISK_GB:10&\n    required=COMPUTE_VOLUME_MULTI_ATTACH&\n    resources_COMPUTE=VCPU:1,MEMORY_MB:256&\n    required_COMPUTE=CUSTOM_FOO&\n    resources_FPGA=FPGA:1&\n    group_policy=none&\n    same_subtree=_COMPUTE,_FPGA\n\nThis is a step in the right direction but is not yet a complete\nexercising of all the nested functionality. It is, however, more\ncomplex than prior, notably testing 'same_subtree'. We should\ncontinue to iterate to get it doing more.\n\nChange-Id: I67d8091b464cd7b875b37766f52818a5a2faa780\nStory: 2005443\nTask: 35669\n""}, {'number': 3, 'created': '2019-08-06 08:19:01.000000000', 'files': ['gate/perfload-nested-runner.sh', 'gate/gabbits/nested-perfload.yaml', 'gate/perfload-nested-loader.sh'], 'web_link': 'https://opendev.org/openstack/placement/commit/07d7749cff47c142a48aaf892f115c3b11f1b383', 'message': ""Implement a more complex nested-perfload topology\n\nThis changes gabbits/nested-perfload.yaml to create a tree of\nproviders based on one of the compute nodes in the NUMANetworkFixture\nused in the functional tests. For the time being only one type of\ncompute node is created (of which there will be 1000 instances).\nRoom is left for future expansion as requirements expand.\n\nThe resulting hierarchy has 7 resource providers.\n\nThe allocation candidates query is:\n\nGET /allocation_candidates?\n    resources=DISK_GB:10&\n    required=COMPUTE_VOLUME_MULTI_ATTACH&\n    resources_COMPUTE=VCPU:1,MEMORY_MB:256&\n    required_COMPUTE=CUSTOM_FOO&\n    resources_FPGA=FPGA:1&\n    group_policy=none&\n    same_subtree=_COMPUTE,_FPGA\n\nThis is a step in the right direction but is not yet a complete\nexercising of all the nested functionality. It is, however, more\ncomplex than prior, notably testing 'same_subtree'. We should\ncontinue to iterate to get it doing more.\n\nChange-Id: I67d8091b464cd7b875b37766f52818a5a2faa780\nStory: 2005443\nTask: 35669\n""}]",9,673513,07d7749cff47c142a48aaf892f115c3b11f1b383,20,5,3,11564,,,0,"Implement a more complex nested-perfload topology

This changes gabbits/nested-perfload.yaml to create a tree of
providers based on one of the compute nodes in the NUMANetworkFixture
used in the functional tests. For the time being only one type of
compute node is created (of which there will be 1000 instances).
Room is left for future expansion as requirements expand.

The resulting hierarchy has 7 resource providers.

The allocation candidates query is:

GET /allocation_candidates?
    resources=DISK_GB:10&
    required=COMPUTE_VOLUME_MULTI_ATTACH&
    resources_COMPUTE=VCPU:1,MEMORY_MB:256&
    required_COMPUTE=CUSTOM_FOO&
    resources_FPGA=FPGA:1&
    group_policy=none&
    same_subtree=_COMPUTE,_FPGA

This is a step in the right direction but is not yet a complete
exercising of all the nested functionality. It is, however, more
complex than prior, notably testing 'same_subtree'. We should
continue to iterate to get it doing more.

Change-Id: I67d8091b464cd7b875b37766f52818a5a2faa780
Story: 2005443
Task: 35669
",git fetch https://review.opendev.org/openstack/placement refs/changes/13/673513/1 && git format-patch -1 --stdout FETCH_HEAD,"['gate/perfload-nested-runner.sh', 'gate/gabbits/nested-perfload.yaml', 'gate/perfload-nested-loader.sh']",3,673d8588d543baf27069f5bafea429acee496ad9,story/2005443,CN1_UUID=$(uuidgen) N0_UUID=$(uuidgen)FPGA0_0_UUID=$(uuidgen) FPGA1_0_UUID=$(uuidgen) FPGA1_1_UUID=$(uuidgen) PGPU0_0_UUID=$(uuidgen),CN_UUID=$(uuidgen)N2_UUID=$(uuidgen),116,35
openstack%2Fnova~stable%2Fstein~I1c62a0a5be6c44176b5714af00cc181eb5437585,openstack/nova,stable/stein,I1c62a0a5be6c44176b5714af00cc181eb5437585,Add functional regression test for bug 1778305,MERGED,2019-07-31 13:40:27.000000000,2019-08-07 20:39:36.000000000,2019-08-07 20:39:36.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-31 13:40:27.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1778305.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/06ae1ff21495a51d24376c457f51162e17ae3235', 'message': 'Add functional regression test for bug 1778305\n\nThis tests the scenario where an operator has upgraded from Ocata =>\nPike but has old, deleted services that share the same hostname with\ncurrently existing, running services. The current behavior is that\nServiceTooOld is raised when we try to generate a UUID for the old,\ndeleted service while querying for a list of instances. After the bug\nis fixed, we should be able to successfully query for a list of\ninstances.\n\nRelated-Bug: #1778305\n\nChange-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585\n(cherry picked from commit 1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0)\n'}]",0,673813,06ae1ff21495a51d24376c457f51162e17ae3235,9,5,1,6873,,,0,"Add functional regression test for bug 1778305

This tests the scenario where an operator has upgraded from Ocata =>
Pike but has old, deleted services that share the same hostname with
currently existing, running services. The current behavior is that
ServiceTooOld is raised when we try to generate a UUID for the old,
deleted service while querying for a list of instances. After the bug
is fixed, we should be able to successfully query for a list of
instances.

Related-Bug: #1778305

Change-Id: I1c62a0a5be6c44176b5714af00cc181eb5437585
(cherry picked from commit 1d9aaef3d1c880b02d6b7c186e8de79cbaac9ae0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/673813/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1778305.py'],1,06ae1ff21495a51d24376c457f51162e17ae3235,bug/1764556,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import nova.context from nova.db import api as db from nova import objects from nova import test class InstanceListWithOldDeletedServiceTestCase(test.TestCase): def setUp(self): super(InstanceListWithOldDeletedServiceTestCase, self).setUp() self.context = nova.context.RequestContext('fake-user', 'fake-project') def test_instance_list_old_deleted_service_with_no_uuid(self): # Create a nova-compute service record with a host that will match the # instance's host, with no uuid. We can't do this through the # Service object because it will automatically generate a uuid. # Use service version 9, which is too old compared to the minimum # version in the rest of the deployment. service = db.service_create(self.context, {'host': 'fake-host', 'binary': 'nova-compute', 'version': 9}) self.assertIsNone(service['uuid']) # Now delete it. db.service_destroy(self.context, service['id']) # Create a new service with the same host name that has a UUID and a # current version. new_service = objects.Service(context=self.context, host='fake-host', binary='nova-compute') new_service.create() # Create an instance whose host will match both services, including the # deleted one. inst = objects.Instance(context=self.context, project_id=self.context.project_id, host='fake-host') inst.create() # TODO(melwitt): Remove this assert when the bug is fixed. self.assertRaises(nova.exception.ServiceTooOld, objects.InstanceList.get_by_filters, self.context, {}, expected_attrs=['services']) # TODO(melwitt): Uncomment these asserts when the bug is fixed. # insts = objects.InstanceList.get_by_filters( # self.context, {}, expected_attrs=['services']) # self.assertEqual(1, len(insts)) # self.assertEqual(2, len(insts[0].services)) # Deleted service should not have a UUID # for service in insts[0].services: # if service.deleted: # self.assertNotIn('uuid', service) # else: # self.assertIsNotNone(service.uuid) ",,67,0
openstack%2Fnova~stable%2Fstein~I4d60da26fcf0a77628d1fdf4e818884614fa4f02,openstack/nova,stable/stein,I4d60da26fcf0a77628d1fdf4e818884614fa4f02,Add functional recreate test for bug 1764556,MERGED,2019-07-31 13:39:14.000000000,2019-08-07 20:39:29.000000000,2019-08-07 20:39:29.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-31 13:39:14.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1764556.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44709cfb5cfa6a8a384eb391ad520de55b2fa247', 'message': 'Add functional recreate test for bug 1764556\n\nThis attempts to recreate the following scenario:\n\n1) boot instance on ocata host where the compute service\n   does not have a uuid\n2) migrate instance\n3) delete the ocata service (thus deleting the compute node)\n4) start compute service with the same name\n5) migrate instance to newly-created compute node\n6) upgrade to pike where services.uuid data migration happens\n7) list instances as admin to join on the services table\n\nThe failure occurs when listing instances because the deleted\nservice with the same name as the compute host that the instance\nis running on gets pulled from the DB and the Service object\nattempts to set a uuid on it, which fails since it\'s not using\na read_deleted=""yes"" context.\n\nWhile working on this, the service_get_all_by_binary DB API\nmethod had to be fixed to not hard-code read_deleted=""no"" since\nthe test needs to be able to read deleted services, which it can\ncontrol via its own context object (note that\nRequestContext.read_deleted already defaults to ""no"" so the\nhard-coding in the DB API is unnecessarily restrictive).\n\nNOTE(mriedem): This backport needed to use the set_nodes/restore_nodes\nmethods on the fake virt module since change\nI2cf2fcbaebc706f897ce5dfbff47d32117064f9c is not in Stein.\n\nChange-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02\nRelated-Bug: #1764556\n(cherry picked from commit 81f05f53d357a546c7f9a53cae6ef45b92e28bc1)\n'}]",0,673812,44709cfb5cfa6a8a384eb391ad520de55b2fa247,19,9,1,6873,,,0,"Add functional recreate test for bug 1764556

This attempts to recreate the following scenario:

1) boot instance on ocata host where the compute service
   does not have a uuid
2) migrate instance
3) delete the ocata service (thus deleting the compute node)
4) start compute service with the same name
5) migrate instance to newly-created compute node
6) upgrade to pike where services.uuid data migration happens
7) list instances as admin to join on the services table

The failure occurs when listing instances because the deleted
service with the same name as the compute host that the instance
is running on gets pulled from the DB and the Service object
attempts to set a uuid on it, which fails since it's not using
a read_deleted=""yes"" context.

While working on this, the service_get_all_by_binary DB API
method had to be fixed to not hard-code read_deleted=""no"" since
the test needs to be able to read deleted services, which it can
control via its own context object (note that
RequestContext.read_deleted already defaults to ""no"" so the
hard-coding in the DB API is unnecessarily restrictive).

NOTE(mriedem): This backport needed to use the set_nodes/restore_nodes
methods on the fake virt module since change
I2cf2fcbaebc706f897ce5dfbff47d32117064f9c is not in Stein.

Change-Id: I4d60da26fcf0a77628d1fdf4e818884614fa4f02
Related-Bug: #1764556
(cherry picked from commit 81f05f53d357a546c7f9a53cae6ef45b92e28bc1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/673812/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1764556.py', 'nova/db/sqlalchemy/api.py']",2,44709cfb5cfa6a8a384eb391ad520de55b2fa247,bug/1764556," query = model_query(context, models.Service).filter_by(binary=binary)"," query = model_query(context, models.Service, read_deleted=""no"").\ filter_by(binary=binary)",164,2
openstack%2Frequirements~master~I8fc85b8ee8239ea216702b2e261455a6f68707a2,openstack/requirements,master,I8fc85b8ee8239ea216702b2e261455a6f68707a2,Update docutils with 0.15.1,ABANDONED,2019-07-24 14:15:58.000000000,2019-08-07 20:37:56.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 14:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ec3c368169c56344165d10e9c7320036d0dfc781', 'message': 'roll back docutils 0.15\n\ndocutils 0.15 breaks the pep8 tests.\nCloses-Bug:#1837741\n\nChange-Id: I8fc85b8ee8239ea216702b2e261455a6f68707a2\n'}, {'number': 2, 'created': '2019-07-25 06:31:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7a11aa1e0144aad3419299ec14b5173115748a88', 'message': 'Update docutils with 0.15.1\n\ndocutils 0.15 breaks the pep8 tests with error:\n""ImportError: cannot import name nodes"" (as in mentioned bug).\nFix available in  0.15.1 , So updating version with the same.\n\nCloses-Bug:#1837741\n\nChange-Id: I8fc85b8ee8239ea216702b2e261455a6f68707a2\n'}]",0,672535,7a11aa1e0144aad3419299ec14b5173115748a88,10,2,2,18955,,,0,"Update docutils with 0.15.1

docutils 0.15 breaks the pep8 tests with error:
""ImportError: cannot import name nodes"" (as in mentioned bug).
Fix available in  0.15.1 , So updating version with the same.

Closes-Bug:#1837741

Change-Id: I8fc85b8ee8239ea216702b2e261455a6f68707a2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/672535/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ec3c368169c56344165d10e9c7320036d0dfc781,bug/1837741,docutils===0.14,docutils===0.15,1,1
openstack%2Fnova~master~I11755edf2a48ce3bc8f6207df6e8535d50b9c89e,openstack/nova,master,I11755edf2a48ce3bc8f6207df6e8535d50b9c89e,Define new exceptions related to device profiles and ARQs.,ABANDONED,2019-07-31 05:36:29.000000000,2019-08-07 20:34:43.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27458}]","[{'number': 1, 'created': '2019-07-31 05:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb38e5f757854cb2a38198740921872dc7d4f46b', 'message': ""Define new exceptions related to device profiles and ARQs.\n\nThese exceptions are parametrized to log additional info.\nExample:\n    raise exception.AcceleratorRequestOpFailed(\n        op='retrieve',\n        param='instance %s' % instance_uuid)\nshould produce:\n    Accelerator Request (ARQ): failed to retrieve for instance <uuid>\n\nChange-Id: I11755edf2a48ce3bc8f6207df6e8535d50b9c89e\nBlueprint: nova-cyborg-interaction\n""}, {'number': 2, 'created': '2019-08-01 03:30:56.000000000', 'files': ['nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3be8670d0189d14d417fa9beafd8bc05bcd548e5', 'message': ""Define new exceptions related to device profiles and ARQs.\n\nThese exceptions are parametrized to log additional info.\nExample:\n    raise exception.AcceleratorRequestOpFailed(\n        op='retrieve',\n        param='instance %s' % instance_uuid)\nshould produce:\n    Accelerator Request (ARQ): failed to retrieve for instance <uuid>\n\nChange-Id: I11755edf2a48ce3bc8f6207df6e8535d50b9c89e\nBlueprint: nova-cyborg-interaction\n""}]",0,673733,3be8670d0189d14d417fa9beafd8bc05bcd548e5,25,13,2,21672,,,0,"Define new exceptions related to device profiles and ARQs.

These exceptions are parametrized to log additional info.
Example:
    raise exception.AcceleratorRequestOpFailed(
        op='retrieve',
        param='instance %s' % instance_uuid)
should produce:
    Accelerator Request (ARQ): failed to retrieve for instance <uuid>

Change-Id: I11755edf2a48ce3bc8f6207df6e8535d50b9c89e
Blueprint: nova-cyborg-interaction
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/673733/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/exception.py'],1,cb38e5f757854cb2a38198740921872dc7d4f46b,bp/nova-cyborg-interaction," class DeviceProfileError(NovaException): msg_fmt = _(""Device profile name %(name)s: %(msg)s"") class AcceleratorRequestOpFailed(NovaException): msg_fmt = _(""Accelerator Request (ARQ): failed to %(op)s "" ""for %(param}"")",,9,0
openstack%2Fopenstack-ansible-os_gnocchi~master~Ic126b9ad6fa4905514f356b98690e04965f4d93c,openstack/openstack-ansible-os_gnocchi,master,Ic126b9ad6fa4905514f356b98690e04965f4d93c,service_setup: refactor service setup to a single file,MERGED,2019-07-12 08:15:54.000000000,2019-08-07 20:27:56.000000000,2019-08-07 20:27:55.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-12 08:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/4f3d5e12de26cdb36725747064721e916239b5a9', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 2, 'created': '2019-07-13 08:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/0ab87ecd975543dee277368ed7a0f06b78f794d8', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 3, 'created': '2019-07-18 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/2211099caaf871edb6660c3d645ac838070fe6ea', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 4, 'created': '2019-07-19 10:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/4123c9363384c9f7a59df7f13d12b9ded7e2b755', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 5, 'created': '2019-07-22 10:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/263e0f4903728f3a5bbdc91c555ee4e34000dbcb', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/671988\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 6, 'created': '2019-07-25 12:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/433c840d127d4df107df809d8a6c4b0f2f46be2b', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 7, 'created': '2019-07-25 20:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/171aeb0a6af70e354546d727304dddf55e7d77f9', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/671988\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 8, 'created': '2019-07-30 11:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/e9d72c15250a736c60ede0c56a16d4ca4b3f1c65', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}, {'number': 9, 'created': '2019-07-30 11:37:29.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/gnocchi_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/17a2175bdadef30e582ccbb5ee4a09f46f4b7c95', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c\n'}]",0,670471,17a2175bdadef30e582ccbb5ee4a09f46f4b7c95,59,4,9,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: Ic126b9ad6fa4905514f356b98690e04965f4d93c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/71/670471/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/gnocchi_service_setup.yml']",3,4f3d5e12de26cdb36725747064721e916239b5a9,osa/service-refactor,,"--- # Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the service delegate_to: ""{{ gnocchi_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ gnocchi_service_setup_host_python_interpreter }}"" block: - name: Add service to the keystone service catalog os_keystone_service: cloud: default state: present name: ""{{ gnocchi_service_name }}"" service_type: ""{{ gnocchi_service_type }}"" description: ""{{ gnocchi_service_description }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: present service: ""{{ gnocchi_service_name }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ gnocchi_service_region }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: - interface: ""public"" url: ""{{ gnocchi_service_publicurl }}"" - interface: ""internal"" url: ""{{ gnocchi_service_internalurl }}"" - interface: ""admin"" url: ""{{ gnocchi_service_adminurl }}"" ",151,61
openstack%2Fcharm-aodh~master~I81ce8f745542625897f353f0b2560a695e74a3ea,openstack/charm-aodh,master,I81ce8f745542625897f353f0b2560a695e74a3ea,"Revert back to using ""rabbit_use_ssl"" for ocata",MERGED,2019-08-05 13:57:40.000000000,2019-08-07 20:17:03.000000000,2019-08-07 20:17:03.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 13:57:40.000000000', 'files': ['src/templates/pike/aodh.conf'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/0367da08cf7342b467a9d8eef17a87e7bae370fe', 'message': 'Revert back to using ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nThis is fixed by using section-oslo-messaging-rabbit for pike and\nabove rather than ocata and above, thus reverting back to using\nsection-rabbitmq-oslo for ocata.\n\nChange-Id: I81ce8f745542625897f353f0b2560a695e74a3ea\nCloses-Bug: #1838696\n'}]",0,674614,0367da08cf7342b467a9d8eef17a87e7bae370fe,24,6,1,11805,,,0,"Revert back to using ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

This is fixed by using section-oslo-messaging-rabbit for pike and
above rather than ocata and above, thus reverting back to using
section-rabbitmq-oslo for ocata.

Change-Id: I81ce8f745542625897f353f0b2560a695e74a3ea
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/14/674614/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/pike/aodh.conf'],1,0367da08cf7342b467a9d8eef17a87e7bae370fe,bug/1838696,,,0,0
openstack%2Fos-brick~master~I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a,openstack/os-brick,master,I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a,Fix bad argument to iscsiadm in iSCSI discovery,MERGED,2019-08-05 18:20:46.000000000,2019-08-07 20:08:45.000000000,2019-08-07 20:08:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17042}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-08-05 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f4c7b4882dbcca7a314eb815fa81727e8aa0687b', 'message': 'Fix bad argument to iscsiadm in iSCSI discovery\n\nFix a call to _iscsiadm_update() in which a list was being passed as\nthe target_iqn connection property.  This property is used directly as\nan argument to the iscsiadm -T option, so it must be a plain string.\n\nChange-Id: I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a\nCloses-bug: 1838820\n'}, {'number': 2, 'created': '2019-08-06 19:20:17.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/81f26f822d66c71c29ea25fd4158ac41fc162964', 'message': 'Fix bad argument to iscsiadm in iSCSI discovery\n\nFix a call to _iscsiadm_update() in which a list was being passed as\nthe target_iqn connection property.  This property is used directly as\nan argument to the iscsiadm -T option, so it must be a plain string.\n\nChange-Id: I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a\nCloses-bug: 1838820\n'}]",0,674669,81f26f822d66c71c29ea25fd4158ac41fc162964,37,21,2,17042,,,0,"Fix bad argument to iscsiadm in iSCSI discovery

Fix a call to _iscsiadm_update() in which a list was being passed as
the target_iqn connection property.  This property is used directly as
an argument to the iscsiadm -T option, so it must be a plain string.

Change-Id: I9c2ff1de1f89fb49dd6c5a90679d5c4238d5476a
Closes-bug: 1838820
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/69/674669/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/iscsi.py'],1,f4c7b4882dbcca7a314eb815fa81727e8aa0687b,, recover_connection['target_iqn'] = iqn, recover_connection['target_iqn'] = [iqn],1,1
openstack%2Foctavia~master~If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,openstack/octavia,master,If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,Prevent UDP LBs to use different IP protocol versions in amphora driver,MERGED,2019-07-02 07:01:24.000000000,2019-08-07 19:53:00.000000000,2019-08-07 19:52:59.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-07-02 07:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f833c5be228fb13c305edde1e6b0a6b5b3cdc082', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step to ensure that IP protocol versions\nare the same in a UDP LB in the amphora driver.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n""}, {'number': 2, 'created': '2019-07-02 09:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/17c478c07fc816f8d795864b3b57c18efafb6945', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step to ensure that IP protocol versions\nare the same in a UDP LB in the amphora driver.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n""}, {'number': 3, 'created': '2019-07-03 06:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b12d1b6d9288fa1b2167b671269a98b59404bbbf', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step to ensure that IP protocol versions\nare the same in a UDP LB in the amphora driver.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n""}, {'number': 4, 'created': '2019-07-08 11:57:18.000000000', 'files': ['releasenotes/notes/validate-same-ip-protocol-in-udp-lb-2813b545131097ec.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/56bb1e134d670901bdfe0526495f5794a55f139a', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step in the member_create and th e\nmember_batch_update functions of the amphora driver to ensure that IP\nprotocol versions are the same in a UDP load balancer.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n""}]",5,668617,56bb1e134d670901bdfe0526495f5794a55f139a,18,5,4,29244,,,0,"Prevent UDP LBs to use different IP protocol versions in amphora driver

The amphora doesn't support mixing IPv4 and IPv6 addresses for its
members and its VIP when using UDP load balancers.
This commit adds a validation step in the member_create and th e
member_batch_update functions of the amphora driver to ensure that IP
protocol versions are the same in a UDP load balancer.

Story: 2005876
Task: 33689

Change-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602
",git fetch https://review.opendev.org/openstack/octavia refs/changes/17/668617/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/validate-same-ip-protocol-in-udp-lb-2813b545131097ec.yaml', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",3,f833c5be228fb13c305edde1e6b0a6b5b3cdc082,udp_mixed_ipv4_ipv6," pool_id = member.pool_id db_pool = self.repositories.pool.get(db_apis.get_session(), id=pool_id) if db_pool.protocol == consts.PROTOCOL_UDP: member_is_ipv6 = utils.is_ipv6(member.address) # For UDP LBs, check that we are not mixing IPv4 and IPv6 for listener in db_pool.listeners: lb = listener.load_balancer vip_is_ipv6 = utils.is_ipv6(lb.vip.ip_address) if member_is_ipv6 != vip_is_ipv6: msg = (""This provider doesn't support mixing IPv4 and "" ""IPv6 addresses for its VIP and members in UDP "" ""load balancers."") raise exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) ",,52,0
openstack%2Ftripleo-quickstart-extras~master~I6fa5ebee8a4cbcc65b78654072a6102b742d8b9c,openstack/tripleo-quickstart-extras,master,I6fa5ebee8a4cbcc65b78654072a6102b742d8b9c,Configure supplemental node firewall for FreeIPA ports,ABANDONED,2019-06-08 09:07:58.000000000,2019-08-07 19:42:13.000000000,,"[{'_account_id': 8116}, {'_account_id': 9098}, {'_account_id': 11589}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-08 09:07:58.000000000', 'files': ['roles/freeipa-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5d22be44d80d09bc580ce3b0190ce69818ffa3f6', 'message': 'Configure supplemental node firewall for FreeIPA ports\n\nThe supplemental node that is used for deploying FreeIPA does not\nconfigure the firewall to allow traffic to its required ports.  This\nhas not been a problem thus far, but the supplemental node is being\nexpanded to also run Keycloak for the purpose of enabling Keystone\nto use it for OpenID Connect or SAML based federation.  The ansible\nrole that will be used to deploy Keycloak (nkinder.keycloak) will\nconfigure firewalld for the Keycloak ports, which results in blocking\naccess to any of the FreeIPA services by other nodes such as the\nundercloud.\n\nThis patch configures firewalld on the supplemental node to allow\ntraffic into the FreeIPA ports when deploying FreeIPA.\n\nChange-Id: I6fa5ebee8a4cbcc65b78654072a6102b742d8b9c\n'}]",2,664133,5d22be44d80d09bc580ce3b0190ce69818ffa3f6,8,6,1,9098,,,0,"Configure supplemental node firewall for FreeIPA ports

The supplemental node that is used for deploying FreeIPA does not
configure the firewall to allow traffic to its required ports.  This
has not been a problem thus far, but the supplemental node is being
expanded to also run Keycloak for the purpose of enabling Keystone
to use it for OpenID Connect or SAML based federation.  The ansible
role that will be used to deploy Keycloak (nkinder.keycloak) will
configure firewalld for the Keycloak ports, which results in blocking
access to any of the FreeIPA services by other nodes such as the
undercloud.

This patch configures firewalld on the supplemental node to allow
traffic into the FreeIPA ports when deploying FreeIPA.

Change-Id: I6fa5ebee8a4cbcc65b78654072a6102b742d8b9c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/33/664133/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/freeipa-setup/tasks/main.yml'],1,5d22be44d80d09bc580ce3b0190ce69818ffa3f6,freeipa-firewall," - name: install firewalld become: true package: name: firewalld - name: enable and start the firewalld service become: true systemd: name: firewalld enabled: yes state: started - name: configure firewall for FreeIPA ports become: true firewalld: port: ""{{ item }}"" permanent: true state: enabled immediate: yes with_items: - 80/tcp - 443/tcp - 389/tcp - 636/tcp - 88/tcp - 88/udp - 464/tcp - 464/udp - 53/tcp - 123/udp ",,31,0
openstack%2Ftripleo-quickstart~master~Id38b54997d95c18096f5e5e6db7f150398275735,openstack/tripleo-quickstart,master,Id38b54997d95c18096f5e5e6db7f150398275735,Use vlans for isolation for featureset039,ABANDONED,2019-07-19 19:38:04.000000000,2019-08-07 19:38:42.000000000,,"[{'_account_id': 8116}, {'_account_id': 10969}, {'_account_id': 11589}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-19 19:38:04.000000000', 'files': ['config/general_config/featureset039.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9248d6983084f9d43569aacc00dd16812f8c882d', 'message': 'Use vlans for isolation for featureset039\n\nUsing the ""multiple-nics"" network isolation type does not work\nproperly when using featureset039 in a OOOQ virthost environment.\nThis changes the network isolation type to use VLANs.  This also\nrequires using 192.168.23.0/24 as the external network to avoid\nnetworking conflicts with the created VLANs.\n\nChange-Id: Id38b54997d95c18096f5e5e6db7f150398275735\n'}]",0,671850,9248d6983084f9d43569aacc00dd16812f8c882d,4,5,1,9098,,,0,"Use vlans for isolation for featureset039

Using the ""multiple-nics"" network isolation type does not work
properly when using featureset039 in a OOOQ virthost environment.
This changes the network isolation type to use VLANs.  This also
requires using 192.168.23.0/24 as the external network to avoid
networking conflicts with the created VLANs.

Change-Id: Id38b54997d95c18096f5e5e6db7f150398275735
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/671850/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset039.yml'],1,9248d6983084f9d43569aacc00dd16812f8c882d,tls-vlan-isolation,"network_isolation_type: ""single-nic-vlans""external_network_cidr: 192.168.23.0/24","network_isolation_type: ""multiple-nics"" network_isolation_args: >- -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-isolation-absolute.yaml -e {{ overcloud_templates_path }}/ci/environments/network/multiple-nics/network-environment.yamlexternal_network_cidr: 10.0.0.0/24",2,5
openstack%2Ftripleo-quickstart-extras~master~Idfd77716b0e9e49385b5ae952dc168821934676a,openstack/tripleo-quickstart-extras,master,Idfd77716b0e9e49385b5ae952dc168821934676a,Add ability  to deploy FreeIPA on OVB,ABANDONED,2018-01-16 20:32:33.000000000,2019-08-07 19:34:43.000000000,,"[{'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 11589}, {'_account_id': 13294}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-01-16 20:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6ec17ed0ef8d7f3773f68219c35c5821c657f435', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 2, 'created': '2018-01-18 15:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f646270ff96abf64386a5015ed5733b1ae66d5ba', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 3, 'created': '2018-01-23 10:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/467ddd7b0ec9d94408504e580b76be4a69b1368c', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: I0be05d336203d81d59040ebcce03a29b2758ade0\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 4, 'created': '2018-01-23 10:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f06ae623cd8d83c5f290eb3d5cae75065edac63e', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: I0be05d336203d81d59040ebcce03a29b2758ade0\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 5, 'created': '2018-01-24 00:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6e786d36d4a7ba027d022c381f3f0c13dcd7c4e', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 6, 'created': '2018-01-24 12:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ade1df1c2650ac3e21b8ce7d0d117624abe8dbd3', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 7, 'created': '2018-01-24 16:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/36a7a76ae7aa533aef5bc486108832234c1550cd', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 8, 'created': '2018-01-25 12:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2e3fbdec734728e66eac20e41a612d67857f7327', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 9, 'created': '2018-01-31 09:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8cf0baab5b0b2c1b2b2f52d20fd220a55f6979eb', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 10, 'created': '2018-01-31 10:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a08cfcb61fbbd5719f3336901e2c43b5f7c1ced3', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 11, 'created': '2018-02-06 15:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4829f400fe3c4d87cbc7535cd5ef106241231e53', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 12, 'created': '2018-02-07 15:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/320ede8fcef2ed3f217b9e1fc0571f25ca12ba51', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 13, 'created': '2018-02-12 21:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/283a5695582596f661841586e548527bde413e78', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: Ib8f2fe291ed984416772e8c655d3c3e2f5c83d05\nDepends-On: Iecbfe585e56aac298a11532a36af03fa0f68fc3b\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 14, 'created': '2018-02-12 22:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68371c3a9e2d256e5ec7e343d0f821fd903029fc', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I354589b0b7915d7e9f6a3554f88b97d9e66382fe\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 15, 'created': '2018-02-12 22:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5342cd40921e4685fc39c7cfcb794dc4b8403ceb', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 16, 'created': '2018-02-16 17:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4878f36123515193fda14fe9c6d135b8b4cde67e', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 17, 'created': '2018-02-16 18:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af9232a11d2f78415ebdda69fa3ee26faf1f6b76', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 18, 'created': '2018-02-16 18:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/51c00208927d0149d3a765601a6be15a7f2335f5', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 19, 'created': '2018-02-16 18:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ffb5c9310dbd7e1d4fdc21bb7c937f7911ca47ea', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 20, 'created': '2018-02-16 19:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d7128e2b1552e5af2f0d30e4bb55b2c52c1cc9f8', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 21, 'created': '2018-02-16 20:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2e84a170f18e06ee12ba76524cada17e207ef1fe', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 22, 'created': '2018-02-20 16:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38b2cc67a9eb1acca6dbc615aa2eaac87f611c56', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 23, 'created': '2018-02-28 09:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/540ed0af59a707252a3a3b649cbf5f0f16b62345', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 24, 'created': '2018-04-02 19:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ac240c6f8b15165af851d5cb4e90735e751fc9c', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 25, 'created': '2018-04-03 14:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/48c714d3672f6d8e71ccdb55deb6589abcff0991', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 26, 'created': '2018-04-03 18:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c8747698d01a23bc732b079d1202737e2dc2a732', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 27, 'created': '2018-04-05 16:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7e5309fa877c52a5cb2d1edf490a90f885e9abda', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 28, 'created': '2018-04-11 14:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/efdd2e93e251a7b185a691243924122dd908eb9c', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 29, 'created': '2018-04-16 14:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/63a94c1e69bca6d965146c787a027ebb0800db97', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 30, 'created': '2018-04-18 13:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/de81545ed2ca4a809ad44de9b4ed2c50fd9e28be', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 31, 'created': '2018-04-18 14:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0728a3c874284c4482a11828516663a1fe75437', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 32, 'created': '2018-06-01 17:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce5a4d22be3e7d98681eead203b5a18701244e5e', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}, {'number': 33, 'created': '2018-10-02 12:12:48.000000000', 'files': ['roles/freeipa-setup/defaults/main.yml', 'playbooks/baremetal-full-undercloud.yml', 'roles/ovb-manage-stack/defaults/main.yml', 'roles/freeipa-setup/templates/get-extra-node-ip.py.j2', 'roles/ovb-manage-stack/templates/get-extra-node-ip.py.j2', 'roles/ovb-manage-stack/tasks/ovb-create-stack.yml', 'roles/freeipa-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7db9c1f6735e9ff80e01d390c5c895ba6295da7b', 'message': 'Add ability  to deploy FreeIPA on OVB\n\nModifies existing OVB deployment flow to allow for FreeIPA role\nexecution on a supplemental node prior to undercloud installation.\n\nDepends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd\nChange-Id: Idfd77716b0e9e49385b5ae952dc168821934676a\n'}]",0,534435,7db9c1f6735e9ff80e01d390c5c895ba6295da7b,194,10,33,11589,,,0,"Add ability  to deploy FreeIPA on OVB

Modifies existing OVB deployment flow to allow for FreeIPA role
execution on a supplemental node prior to undercloud installation.

Depends-On: I6be62dc60b6bb383e1a43dc782bb6ba7c3b205dd
Change-Id: Idfd77716b0e9e49385b5ae952dc168821934676a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/35/534435/14 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/baremetal-full-undercloud.yml'],1,6ec17ed0ef8d7f3773f68219c35c5821c657f435,ovb_freeipa,"- name: Deploy the FreeIPA server hosts: supplemental gather_facts: no tags: - freeipa-setup roles: - { role: freeipa-setup, when: deploy_supplemental_node|bool and enable_tls_everywhere|bool } ",,9,0
openstack%2Ftripleo-ci~master~I607cf4e4536aca0204c52301c9d1667a0c9ae129,openstack/tripleo-ci,master,I607cf4e4536aca0204c52301c9d1667a0c9ae129,DNM: Enable verbose output from toci_quickstart,ABANDONED,2018-04-18 16:04:26.000000000,2019-08-07 19:33:10.000000000,,"[{'_account_id': 10969}, {'_account_id': 11589}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-18 16:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fbe4da820bc398277b3c8981695f2656f21b467e', 'message': 'DNM: Enable verbose output from toci_quickstart\n\nChange-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129\n'}, {'number': 2, 'created': '2018-04-18 16:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e06d5ca2f121c3cf6a9de9f03993a258dabad83', 'message': 'DNM: Enable verbose output from toci_quickstart\n\nChange-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129\n'}, {'number': 3, 'created': '2018-04-18 16:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e190b1c61a74f118f6e8170f7f37b4bf603940c', 'message': 'DNM: Enable verbose output from toci_quickstart\n\nChange-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129\n'}, {'number': 4, 'created': '2018-04-18 17:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c40e18ec611a5cc3a51b9205e16ba2e0f44ca7ce', 'message': 'DNM: Enable verbose output from toci_quickstart\n\nChange-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129\n'}, {'number': 5, 'created': '2018-05-29 18:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/108ef29d73bbc5589301967b602a0290df90ffd8', 'message': 'DNM: Enable verbose output from toci_quickstart\n\nChange-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129\n'}, {'number': 6, 'created': '2018-06-01 17:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/81f0d11816b614a28123318b1873f8cdf3a329d9', 'message': 'DNM: Enable verbose output from toci_quickstart\n\nChange-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129\n'}, {'number': 7, 'created': '2018-10-02 12:44:48.000000000', 'files': ['toci_quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c0dabe3be4013c014caa549a9199a78ff35f4b2e', 'message': 'DNM: Enable verbose output from toci_quickstart\n\nChange-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129\n'}]",0,562327,c0dabe3be4013c014caa549a9199a78ff35f4b2e,19,4,7,11589,,,0,"DNM: Enable verbose output from toci_quickstart

Change-Id: I607cf4e4536aca0204c52301c9d1667a0c9ae129
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/27/562327/3 && git format-patch -1 --stdout FETCH_HEAD,['toci_quickstart.sh'],1,fbe4da820bc398277b3c8981695f2656f21b467e,562327, --ansible-deub \,,1,0
openstack%2Ftripleo-ansible~master~I4fcc0858cac8f59d797d62f6de18c02e4b1819dc,openstack/tripleo-ansible,master,I4fcc0858cac8f59d797d62f6de18c02e4b1819dc,Add playbook to stop containers,MERGED,2019-07-08 12:38:14.000000000,2019-08-07 19:29:41.000000000,2019-08-07 19:29:41.000000000,"[{'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 14885}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-07-08 12:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0ef227c2342600d18dd2f59b6d7ec84a207c87b', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 2, 'created': '2019-07-09 08:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91d76019f64b7118067b333416cf043648a2a238', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 3, 'created': '2019-07-09 08:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c2eef50438d3287e44cc0f665f9755c122181d10', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 4, 'created': '2019-07-09 09:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25257eabc75b579c23f1e3fe0573d28998ca5316', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 5, 'created': '2019-07-09 12:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/895eed54b4fa43c460526d5b040a40a155b662fc', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 6, 'created': '2019-07-09 14:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/903a29611b2f4489e24d84ed046a5019239e1373', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 7, 'created': '2019-07-10 04:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/650dd32adbf79152265aa05257823b85dceb293a', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 8, 'created': '2019-07-11 13:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aec8de648fd8a98ef361e6da2f11c86f3b5e2927', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 9, 'created': '2019-07-18 10:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b14676fda03501454ffc59f6f968500a24661709', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 10, 'created': '2019-07-18 11:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a52796b37f88c44ca081a0915f2a77286555c98b', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 11, 'created': '2019-07-18 12:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/726caa9beb7d052faade4ff3efbc6b83a594a6c6', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 12, 'created': '2019-07-19 13:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f7f496824aca33a6c10ee4771a6c4337a351e043', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 13, 'created': '2019-07-19 14:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/21c23f8a5211319bb73451866c4718ad5f048c13', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 14, 'created': '2019-08-01 08:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c6a3ad9543307c920cd75ecd5fbc8b6cb98a9b8', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 15, 'created': '2019-08-05 16:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b409013a35bc3ee34508b2463a103f5e98ae8386', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 16, 'created': '2019-08-05 17:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4701dfb7f939306a0ec4fb464f7c300f981a09b8', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 17, 'created': '2019-08-05 17:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6ddd4f899a59d74fd1fc096ef3acfd93cd35d69', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 18, 'created': '2019-08-05 17:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c9ee600e4706eab0b4d8b2556b0fbbdb7443232', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 19, 'created': '2019-08-05 22:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15f1a76ffd4fbb9d8a87490f1e294d42915151b1', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}, {'number': 20, 'created': '2019-08-07 13:40:39.000000000', 'files': ['doc/source/roles/role-tripleo-container-stop.rst', 'tripleo_ansible/roles/tripleo-container-stop/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-container-stop/molecule/podman/Dockerfile', 'tripleo_ansible/roles/tripleo-container-stop/tasks/tripleo_container_stop.yaml', 'tripleo_ansible/roles/tripleo-container-stop/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo-container-stop/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo-container-stop/molecule/default/playbook.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-stop/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-stop/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-container-stop/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-stop/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-stop/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-stop/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27a4d63c8581db2514dc643ec0226fd1420e35c5', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n'}]",51,669650,27a4d63c8581db2514dc643ec0226fd1420e35c5,91,10,20,20775,,,0,"Add playbook to stop containers

We need to stop several containers on the upgrades workflow.

This submission allows to reduce the duplicated code in THT.
It also handles the case in which we have podman as the CLI
but the containers running with docker.

Change-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/669650/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-stop/README.md', 'tripleo_ansible/roles/tripleo-container-stop/tasks/main.yaml', 'tripleo_ansible/roles/tripleo-container-stop/tasks/container_stop.yaml', 'tripleo_ansible/roles/tripleo-container-stop/defaults/main.yaml']",4,a0ef227c2342600d18dd2f59b6d7ec84a207c87b,stop-pre-upgrade,--- container_cli: podman ,,55,0
openstack%2Fnetworking-odl~master~I48d03d3113ee8383beec1d35520de79e34a1fec4,openstack/networking-odl,master,I48d03d3113ee8383beec1d35520de79e34a1fec4,Use extras for ceilometer dependency,MERGED,2018-09-14 13:59:42.000000000,2019-08-07 19:23:58.000000000,2019-08-07 19:23:58.000000000,"[{'_account_id': 6816}, {'_account_id': 7921}, {'_account_id': 14288}, {'_account_id': 17068}, {'_account_id': 17120}, {'_account_id': 20866}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 25171}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-09-14 13:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8b796b3ef135a7449e903e7dc8c581ba6672dc37', 'message': '[WIP] Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2018-09-14 14:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0fb82a3c85fc03f4f44feb774ccbb0e6c2ab2b1a', 'message': '[WIP] Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 3, 'created': '2018-09-14 18:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3f5aa34a746dd77c7a4f105cf7ea035bae019dcf', 'message': '[WIP] Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 4, 'created': '2018-09-17 09:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5197e5fc42cbf7097aca668f281dae1abc197cd1', 'message': '[WIP] Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 5, 'created': '2018-09-17 13:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/675e768b639cc68643fad1c34604ce2066a56d9e', 'message': '[WIP] Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 6, 'created': '2018-09-19 14:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4d6886e0d35c0249e9cbbbd033e3287b5eb8427d', 'message': '[WIP] Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 7, 'created': '2018-09-21 10:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/587182696c92173890cc6bcb78477b221ed30f9c', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 8, 'created': '2018-10-03 15:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a0edfe30f3679ca5cd9b0fe08ad165940456c7c1', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 9, 'created': '2018-10-05 08:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0fee57caf0c884a3339b3071eb83a547bbb853f8', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 10, 'created': '2018-10-09 13:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/90d978c1bb8aea86847c243554e0f4228da0c983', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 11, 'created': '2018-10-11 13:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/09c99a8a16607505ed40539b66191e1a60dd459c', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 12, 'created': '2018-10-11 15:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/331108c4622c827887fbb355d585dda210d9d3fa', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 13, 'created': '2018-10-15 08:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c281ec184be2b969b39a618e9a43833da275aec2', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 14, 'created': '2018-10-17 10:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1f6b5c29d7d123e2da37cbcdbd293ea16937e365', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nDepends-On: https://review.openstack.org/611248/\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 15, 'created': '2018-10-17 13:34:25.000000000', 'files': ['releasenotes/notes/make-ceilometer-dependency-optional-fb0407dd2d367599.yaml', 'requirements.txt', 'test-requirements.txt', 'setup.cfg', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d2f7bc051694441e971e2d8aaf7519be97e26a7b', 'message': 'Use extras for ceilometer dependency\n\nCeilometer should only be installed when opendaylight_v2 is defined as\nnetwork.statistics.drivers. It does not make sense that ceilometer needs\nto get installed any time we install networking-odl\n\nBased on:\n\nhttps://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras\n\nTaking as example:\n\nhttps://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29\n\nDepends-On: https://review.openstack.org/611248/\nChange-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",3,602622,d2f7bc051694441e971e2d8aaf7519be97e26a7b,55,10,15,21883,,,0,"Use extras for ceilometer dependency

Ceilometer should only be installed when opendaylight_v2 is defined as
network.statistics.drivers. It does not make sense that ceilometer needs
to get installed any time we install networking-odl

Based on:

https://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras

Taking as example:

https://github.com/openstack/oslo.messaging/blob/master/setup.cfg#L21-L29

Depends-On: https://review.openstack.org/611248/
Change-Id: I48d03d3113ee8383beec1d35520de79e34a1fec4
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/22/602622/7 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.cfg']",2,8b796b3ef135a7449e903e7dc8c581ba6672dc37,, opendaylight.v2 = networking_odl.ceilometer.network.statistics.opendaylight_v2.driver:OpenDaylightDriver [statistics] [extras_require] statistics = [-e git+https://git.openstack.org/openstack/ceilometer@master#egg=ceilometer], opendaylight.v2 = networking_odl.ceilometer.network.statistics.opendaylight_v2.driver:OpenDaylightDriver,4,4
openstack%2Fkolla~master~I0aa375ff4b26a3216839d69dff8e843584a3ecee,openstack/kolla,master,I0aa375ff4b26a3216839d69dff8e843584a3ecee,Change monasca-grafana source branch to use grafana v4.2.0 with keystone changes,MERGED,2019-07-25 12:55:25.000000000,2019-08-07 19:12:15.000000000,2019-08-07 19:12:15.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-25 12:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c7a8338a7b7fb974130d5ee07803a4455b88343', 'message': 'Change monasca-grafana source branch to use grafana v4.2.0 with keystone changes\n\nChange-Id: I0aa375ff4b26a3216839d69dff8e843584a3ecee\n'}, {'number': 2, 'created': '2019-07-25 12:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef4f97fdaa978424c791a126a22e05e3af156da6', 'message': 'Change monasca-grafana source branch to use grafana v4.2.0 with \nkeystone changes\n\nChange-Id: I0aa375ff4b26a3216839d69dff8e843584a3ecee\n'}, {'number': 3, 'created': '2019-07-25 12:59:22.000000000', 'files': ['docker/monasca/monasca-grafana/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/438ef928f3d5ce3ebad5c471afa4d7f5df99bf7c', 'message': 'Change monasca-grafana source branch to use grafana v4.2.0\nwith keystone changes\n\nChange-Id: I0aa375ff4b26a3216839d69dff8e843584a3ecee\n'}]",0,672717,438ef928f3d5ce3ebad5c471afa4d7f5df99bf7c,14,5,3,30438,,,0,"Change monasca-grafana source branch to use grafana v4.2.0
with keystone changes

Change-Id: I0aa375ff4b26a3216839d69dff8e843584a3ecee
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/672717/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/monasca/monasca-grafana/Dockerfile.j2'],1,2c7a8338a7b7fb974130d5ee07803a4455b88343,monasca-grafana-v4-2-0,ARG monasca_grafana_version=grafana4_2,ARG monasca_grafana_version=grafana4,1,1
openstack%2Frally-openstack~master~I942667988e2cd76a599ffb3d9773a757c6a512df,openstack/rally-openstack,master,I942667988e2cd76a599ffb3d9773a757c6a512df,[ci] Fail gracefuly in case of wrong path for task file,MERGED,2019-07-30 19:51:29.000000000,2019-08-07 19:11:54.000000000,2019-08-07 19:11:54.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 19:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9019a3617e35a153b42360f02d3b9ef927a7036a', 'message': '[ci] Fail gracefuly in case of wrong path for task file\n\nChange-Id: I942667988e2cd76a599ffb3d9773a757c6a512df\n'}, {'number': 2, 'created': '2019-07-31 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e5e19d568ab8bb039886c35c9c86be4a1a0d8875', 'message': '[ci] Fail gracefuly in case of wrong path for task file\n\nChange-Id: I942667988e2cd76a599ffb3d9773a757c6a512df\n'}, {'number': 3, 'created': '2019-08-01 12:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7246b071d24c07929c84ae05a834b9e8babdc833', 'message': '[ci] Fail gracefuly in case of wrong path for task file\n\nChange-Id: I942667988e2cd76a599ffb3d9773a757c6a512df\n'}, {'number': 4, 'created': '2019-08-05 11:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a9824be8dc8f8d5fe58a758a91f19851ac7ded26', 'message': '[ci] Fail gracefuly in case of wrong path for task file\n\nChange-Id: I942667988e2cd76a599ffb3d9773a757c6a512df\n'}, {'number': 5, 'created': '2019-08-05 11:04:48.000000000', 'files': ['tests/ci/playbooks/roles/prepare-for-rally-task/tasks/main.yaml', 'tests/ci/playbooks/run-rally-tox.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/432d11e19d5ca1dc4a65a96a3f8a7236025d8adb', 'message': '[ci] Fail gracefuly in case of wrong path for task file\n\nChange-Id: I942667988e2cd76a599ffb3d9773a757c6a512df\n'}]",0,673671,432d11e19d5ca1dc4a65a96a3f8a7236025d8adb,22,2,5,9545,,,0,"[ci] Fail gracefuly in case of wrong path for task file

Change-Id: I942667988e2cd76a599ffb3d9773a757c6a512df
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/71/673671/5 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/roles/prepare-for-rally-task/tasks/main.yaml'],1,9019a3617e35a153b42360f02d3b9ef927a7036a,zuul_jobs,"- name: Fail if Rally task file is missed. fail: msg: ""'{{ rally_task }}' Rally task file is missed."" when: task_args_file_stat.stat.exists != True ",,5,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Fstein~I0c8aed4d0608c1f117e1baa1f428875956159ffd,openstack/openstack-ansible-os_cinder,stable/stein,I0c8aed4d0608c1f117e1baa1f428875956159ffd,rbd: start using active-active,MERGED,2019-08-05 13:45:05.000000000,2019-08-07 19:01:34.000000000,2019-08-07 19:01:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-05 13:45:05.000000000', 'files': ['releasenotes/notes/enable-active-active-9af1551759468dc8.yaml', 'templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/918b9077c816be5fc056637301265e0be2f245ab', 'message': 'rbd: start using active-active\n\nThis patch drops the hacky workaround of using backend_host which\nis not recommended by the Cinder team and instead uses active-active\nRBD which has been implemented since Rocky.\n\nCloses-Bug: #1837403\nChange-Id: I0c8aed4d0608c1f117e1baa1f428875956159ffd\n(cherry picked from commit c148d77e29af6faebc1c9b012ae08aed447cd179)\n'}]",0,674610,918b9077c816be5fc056637301265e0be2f245ab,7,3,1,1004,,,0,"rbd: start using active-active

This patch drops the hacky workaround of using backend_host which
is not recommended by the Cinder team and instead uses active-active
RBD which has been implemented since Rocky.

Closes-Bug: #1837403
Change-Id: I0c8aed4d0608c1f117e1baa1f428875956159ffd
(cherry picked from commit c148d77e29af6faebc1c9b012ae08aed447cd179)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/10/674610/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-active-active-9af1551759468dc8.yaml', 'templates/cinder.conf.j2']",2,918b9077c816be5fc056637301265e0be2f245ab,bug/1837403-stable/stein,{% if cinder_backend_rbd_inuse | bool %} cluster = ceph {% endif %} ,"{% if key == ""volume_driver"" and value == ""cinder.volume.drivers.rbd.RBDDriver"" %} backend_host=""rbd:volumes"" {% endif %}",16,3
openstack%2Fnova~master~Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71,openstack/nova,master,Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71,WIP: Correct global_request_id sent to Placement,NEW,2019-08-01 20:29:01.000000000,2019-08-07 18:32:10.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-01 20:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5b8b724a8c96876efdf212cbca773657ab12653', 'message': ""Correct global_request_id sent to Placement\n\nSchedulerReportClient methods invoke Placement APIs with the\nX-Openstack-Request-Id header (via the global_request_id kwarg to SDK\nProxy methods) so that log entries on both sides can be correlated as\nbeing associated with a single workflow.\n\nPreviously, SchedulerReportClient was using context.global_id of the\ncontext passed in from the caller. This was (always? usually? often?) a\ndifferent RequestContext than the one in oslo.context's\nthreadlocal storage, which is the one oslo.log uses for logging. This\nmeant that the X-Openstack-Request-Id being sent to Placement was\nworthless because it didn't show up *anywhere* in the logs on the Nova\nside.\n\nAt some point to work around this problem a method\nget_placement_request_id was written to extract the\nX-Openstack-Request-Id from Placement's Response, and that request ID\nwas then being prepended to log messages. Since that value corresponded\nto the Placement request's (not-global) request_id, which was being\nlogged properly on the Placement side, it provided a way to correlate\nthe log entries as desired.\n\nWhat this commit does is to retrieve the global_id from the context in\noslo.context's threadlocal storage and use that for\nX-Openstack-Request-Id instead. Since that is the request ID that Nova\nis logging, and it then becomes Placement's global_request_id and\nappears in the logs there, this allows proper correlation of the log\nentries as intended.\n\nNote that oslo.context's threadlocal context currently doesn't have a\nglobal_request_id, so we're actually sending Nova's request_id across\nthe wire. But that shows up in the log, so it still works. A future\nchange will attempt to ensure that there's a proper global_request_id on\nthe Nova side, whereupon this flow will work (more) properly without\nchanges (since `.global_id` is a @property retrieving\n`.global_request_id or .request_id`).\n\nChange-Id: Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71\n""}, {'number': 2, 'created': '2019-08-02 03:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12dfff7d8a7476af8577127f8d825b50abdbdfcc', 'message': ""Correct global_request_id sent to Placement\n\nSchedulerReportClient methods invoke Placement APIs with the\nX-Openstack-Request-Id header (via the global_request_id kwarg to SDK\nProxy methods) so that log entries on both sides can be correlated as\nbeing associated with a single workflow.\n\nPreviously, SchedulerReportClient was using context.global_id of the\ncontext passed in from the caller. This was (always? usually? often?) a\ndifferent RequestContext than the one in oslo.context's\nthreadlocal storage, which is the one oslo.log uses for logging. This\nmeant that the X-Openstack-Request-Id being sent to Placement was\nworthless because it didn't show up *anywhere* in the logs on the Nova\nside.\n\nAt some point to work around this problem a method\nget_placement_request_id was written to extract the\nX-Openstack-Request-Id from Placement's Response, and that request ID\nwas then being prepended to log messages. Since that value corresponded\nto the Placement request's (not-global) request_id, which was being\nlogged properly on the Placement side, it provided a way to correlate\nthe log entries as desired.\n\nWhat this commit does is to retrieve the global_id from the context in\noslo.context's threadlocal storage and use that for\nX-Openstack-Request-Id instead. Since that is the request ID that Nova\nis logging, and it then becomes Placement's global_request_id and\nappears in the logs there, this allows proper correlation of the log\nentries as intended.\n\nNote that oslo.context's threadlocal context currently doesn't have a\nglobal_request_id, so we're actually sending Nova's request_id across\nthe wire. But that shows up in the log, so it still works. A future\nchange will attempt to ensure that there's a proper global_request_id on\nthe Nova side, whereupon this flow will work (more) properly without\nchanges (since `.global_id` is a @property retrieving\n`.global_request_id or .request_id`).\n\nChange-Id: Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71\n""}, {'number': 3, 'created': '2019-08-05 22:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9d42a51881a96a50353a428a350124a2d2a809f', 'message': ""WIP: Correct global_request_id sent to Placement\n\nSchedulerReportClient methods invoke Placement APIs with the\nX-Openstack-Request-Id header (via the global_request_id kwarg to SDK\nProxy methods) so that log entries on both sides can be correlated as\nbeing associated with a single workflow.\n\nPreviously, SchedulerReportClient was using context.global_id of the\ncontext passed in from the caller. This was (always? usually? often?) a\ndifferent RequestContext than the one in oslo.context's\nthreadlocal storage, which is the one oslo.log uses for logging. This\nmeant that the X-Openstack-Request-Id being sent to Placement was\nworthless because it didn't show up *anywhere* in the logs on the Nova\nside.\n\nAt some point to work around this problem a method\nget_placement_request_id was written to extract the\nX-Openstack-Request-Id from Placement's Response, and that request ID\nwas then being prepended to log messages. Since that value corresponded\nto the Placement request's (not-global) request_id, which was being\nlogged properly on the Placement side, it provided a way to correlate\nthe log entries as desired.\n\nSince [1] we *should* be properly overwriting or *not* overwriting the\nthread's RequestContext, and properly copying forward its\nglobal_request_id regardless, so it should now be safe and effective to\nuse context.global_id for X-Openstack-Request-Id. However, I'm still not\nconfident this is working properly, so what this commit does is to\nretrieve the global_id from the context in oslo.context's threadlocal\nstorage and compare it to context.global_id, issuing error logs if it\n(the threadlocal one) is either unset or different from the one we\nshould be using. In the latter case, we'll use the threadlocal one so\nthat it's actually useful, but hopefully we should be able to get rid of\nthis.\n\n[1] I47b48f661f4b3ebb1865357bce39610c4b26aeec\n\nChange-Id: Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71\n""}, {'number': 4, 'created': '2019-08-06 14:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1a74da33c8c7444984119fed4887ddcced5f664', 'message': ""WIP: Correct global_request_id sent to Placement\n\nSchedulerReportClient methods invoke Placement APIs with the\nX-Openstack-Request-Id header (via the global_request_id kwarg to SDK\nProxy methods) so that log entries on both sides can be correlated as\nbeing associated with a single workflow.\n\nPreviously, SchedulerReportClient was using context.global_id of the\ncontext passed in from the caller. This was (always? usually? often?) a\ndifferent RequestContext than the one in oslo.context's\nthreadlocal storage, which is the one oslo.log uses for logging. This\nmeant that the X-Openstack-Request-Id being sent to Placement was\nworthless because it didn't show up *anywhere* in the logs on the Nova\nside.\n\nAt some point to work around this problem a method\nget_placement_request_id was written to extract the\nX-Openstack-Request-Id from Placement's Response, and that request ID\nwas then being prepended to log messages. Since that value corresponded\nto the Placement request's (not-global) request_id, which was being\nlogged properly on the Placement side, it provided a way to correlate\nthe log entries as desired.\n\nSince [1] we *should* be properly overwriting or *not* overwriting the\nthread's RequestContext, and properly copying forward its\nglobal_request_id regardless, so it should now be safe and effective to\nuse context.global_id for X-Openstack-Request-Id. However, I'm still not\nconfident this is working properly, so what this commit does is to\nretrieve the global_id from the context in oslo.context's threadlocal\nstorage and compare it to context.global_id, issuing error logs if it\n(the threadlocal one) is either unset or different from the one we\nshould be using. In the latter case, we'll use the threadlocal one so\nthat it's actually useful, but hopefully we should be able to get rid of\nthis.\n\n[1] I47b48f661f4b3ebb1865357bce39610c4b26aeec\n\nChange-Id: Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71\n""}, {'number': 5, 'created': '2019-08-06 20:14:37.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff68d681fba8dd8301ada3d3c17dbdd3b661e0f9', 'message': ""WIP: Correct global_request_id sent to Placement\n\nSchedulerReportClient methods invoke Placement APIs with the\nX-Openstack-Request-Id header (via the global_request_id kwarg to SDK\nProxy methods) so that log entries on both sides can be correlated as\nbeing associated with a single workflow.\n\nPreviously, SchedulerReportClient was using context.global_id of the\ncontext passed in from the caller. This was (always? usually? often?) a\ndifferent RequestContext than the one in oslo.context's\nthreadlocal storage, which is the one oslo.log uses for logging. This\nmeant that the X-Openstack-Request-Id being sent to Placement was\nworthless because it didn't show up *anywhere* in the logs on the Nova\nside.\n\nAt some point to work around this problem a method\nget_placement_request_id was written to extract the\nX-Openstack-Request-Id from Placement's Response, and that request ID\nwas then being prepended to log messages. Since that value corresponded\nto the Placement request's (not-global) request_id, which was being\nlogged properly on the Placement side, it provided a way to correlate\nthe log entries as desired.\n\nSince [1] we *should* be properly overwriting or *not* overwriting the\nthread's RequestContext, and properly copying forward its\nglobal_request_id regardless, so it should now be safe and effective to\nuse context.global_id for X-Openstack-Request-Id. However, I'm still not\nconfident this is working properly, so what this commit does is to\nretrieve the global_id from the context in oslo.context's threadlocal\nstorage and compare it to context.global_id, issuing error logs if it\n(the threadlocal one) is either unset or different from the one we\nshould be using. In the latter case, we'll use the threadlocal one so\nthat it's actually useful, but hopefully we should be able to get rid of\nthis.\n\n[1] I47b48f661f4b3ebb1865357bce39610c4b26aeec\n\nChange-Id: Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71\n""}]",4,674129,ff68d681fba8dd8301ada3d3c17dbdd3b661e0f9,52,16,5,14070,,,0,"WIP: Correct global_request_id sent to Placement

SchedulerReportClient methods invoke Placement APIs with the
X-Openstack-Request-Id header (via the global_request_id kwarg to SDK
Proxy methods) so that log entries on both sides can be correlated as
being associated with a single workflow.

Previously, SchedulerReportClient was using context.global_id of the
context passed in from the caller. This was (always? usually? often?) a
different RequestContext than the one in oslo.context's
threadlocal storage, which is the one oslo.log uses for logging. This
meant that the X-Openstack-Request-Id being sent to Placement was
worthless because it didn't show up *anywhere* in the logs on the Nova
side.

At some point to work around this problem a method
get_placement_request_id was written to extract the
X-Openstack-Request-Id from Placement's Response, and that request ID
was then being prepended to log messages. Since that value corresponded
to the Placement request's (not-global) request_id, which was being
logged properly on the Placement side, it provided a way to correlate
the log entries as desired.

Since [1] we *should* be properly overwriting or *not* overwriting the
thread's RequestContext, and properly copying forward its
global_request_id regardless, so it should now be safe and effective to
use context.global_id for X-Openstack-Request-Id. However, I'm still not
confident this is working properly, so what this commit does is to
retrieve the global_id from the context in oslo.context's threadlocal
storage and compare it to context.global_id, issuing error logs if it
(the threadlocal one) is either unset or different from the one we
should be using. In the latter case, we'll use the threadlocal one so
that it's actually useful, but hopefully we should be able to get rid of
this.

[1] I47b48f661f4b3ebb1865357bce39610c4b26aeec

Change-Id: Ic1f4400aa30686b467d0dbef7f7dbd24b0124c71
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/674129/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,d5b8b724a8c96876efdf212cbca773657ab12653,make-global_request_id-useful,"from oslo_context import context as oslo_ctxdef _get_global_request_id(context): oslo_thread_local_context = oslo_ctx.get_current() if oslo_thread_local_context is None: LOG.error(""No threadlocal context in oslo_context! This should never "" ""happen!"") # Using the context's global_id is better than nothing return context.global_id return oslo_thread_local_context.global_id global_request_id=_get_global_request_id(context)) global_request_id=_get_global_request_id(context)) msg = (""Failed to retrieve aggregates from placement API for resource "" ""provider with UUID %(uuid)s. Got %(status_code)d: "" ""%(err_text)s."") args = { version='1.6', global_request_id=_get_global_request_id(context)) ""Failed to retrieve traits from placement API for resource "" ""provider with UUID %(uuid)s. Got %(status_code)d: %(err_text)s."", {'uuid': rp_uuid, 'status_code': resp.status_code, 'err_text': resp.text}) global_request_id=_get_global_request_id(context)) msg = (""Failed to retrieve resource provider record from "" ""placement API for UUID %(uuid)s. Got %(status_code)d: "" ""%(err_text)s."") global_request_id=_get_global_request_id(context)) msg = _(""Failed to retrieve sharing resource providers associated "" ""with the following aggregates from placement API: %(aggs)s. "" ""Got %(status_code)d: %(err_text)s."") global_request_id=_get_global_request_id(context)) msg = (""Failed to retrieve resource provider tree from placement API "" ""for UUID %(uuid)s. Got %(status_code)d: %(err_text)s."") global_request_id=_get_global_request_id(context)) msg = (""Created resource provider record via placement API for "" ""resource provider with UUID %(uuid)s and name %(name)s."") msg = (""Another thread already created a resource provider with "" ""the UUID %(uuid)s. Grabbing that record from the "" ""placement API."") msg = (""Failed to create resource provider record in placement API "" ""for UUID %(uuid)s. Got %(status_code)d: %(err_text)s."") msg = (""Failed to delete resource provider with UUID %(uuid)s from "" ""the placement API. Got %(status_code)d: %(err_text)s."") args = { result = self.get( url, global_request_id=_get_global_request_id(context)) url, payload, global_request_id=_get_global_request_id(context), msg = (""Failed to update inventory to [%(inv_data)s] for resource "" ""provider with UUID %(uuid)s. Got %(status_code)d: "" ""%(err_text)s"") args = { global_request_id=_get_global_request_id(context)) resp = self.put( '/traits/' + trait, None, version='1.6', global_request_id=_get_global_request_id(context)) msg = (""Failed to retrieve the list of traits. Got %(status_code)d: "" ""%(err_text)s"") args = { global_request_id=_get_global_request_id(context)) msg = (""Failed to update traits to [%(traits)s] for resource provider "" ""with UUID %(uuid)s. Got %(status_code)d: %(err_text)s"") args = { global_request_id=_get_global_request_id(context)) msg = (""Failed to update aggregates to [%(aggs)s] for resource "" ""provider with UUID %(uuid)s. Got %(status_code)d: "" ""%(err_text)s"") args = { global_request_id=_get_global_request_id(context)) global_request_id=_get_global_request_id(context)) global_request_id=_get_global_request_id(context)) r = self.get(url, global_request_id=_get_global_request_id(context), global_request_id=_get_global_request_id(context)) global_request_id=_get_global_request_id(context)) r = self.get(url, global_request_id=_get_global_request_id(context), r = self.put( url, allocations, global_request_id=_get_global_request_id(context), version=CONSUMER_GENERATION_VERSION) resp = self.get(url, global_request_id=_get_global_request_id(context)) self._delete_provider( rp_uuid, global_request_id=_get_global_request_id(context)) global_request_id=_get_global_request_id(context)) msg = ('Failed to retrieve usages for project %(project_id)s and user ' '%(user_id)s. Got %(status_code)d: %(err_text)s') args = {'project_id': project_id, global_request_id=_get_global_request_id(context))","def get_placement_request_id(response): if response is not None: return response.headers.get(request_id.HTTP_RESP_HEADER_REQUEST_ID) global_request_id=context.global_id) global_request_id=context.global_id) placement_req_id = get_placement_request_id(resp) msg = (""[%(placement_req_id)s] Failed to retrieve aggregates from "" ""placement API for resource provider with UUID %(uuid)s. "" ""Got %(status_code)d: %(err_text)s."") args = { 'placement_req_id': placement_req_id, version='1.6', global_request_id=context.global_id) placement_req_id = get_placement_request_id(resp) ""[%(placement_req_id)s] Failed to retrieve traits from "" ""placement API for resource provider with UUID %(uuid)s. Got "" ""%(status_code)d: %(err_text)s."", {'placement_req_id': placement_req_id, 'uuid': rp_uuid, 'status_code': resp.status_code, 'err_text': resp.text}) global_request_id=context.global_id) placement_req_id = get_placement_request_id(resp) msg = (""[%(placement_req_id)s] Failed to retrieve resource "" ""provider record from placement API for UUID %(uuid)s. Got "" ""%(status_code)d: %(err_text)s."") 'placement_req_id': placement_req_id, global_request_id=context.global_id) msg = _(""[%(placement_req_id)s] Failed to retrieve sharing resource "" ""providers associated with the following aggregates from "" ""placement API: %(aggs)s. Got %(status_code)d: %(err_text)s."") 'placement_req_id': get_placement_request_id(resp), global_request_id=context.global_id) placement_req_id = get_placement_request_id(resp) msg = (""[%(placement_req_id)s] Failed to retrieve resource provider "" ""tree from placement API for UUID %(uuid)s. Got "" ""%(status_code)d: %(err_text)s."") 'placement_req_id': placement_req_id, global_request_id=context.global_id) placement_req_id = get_placement_request_id(resp) msg = (""[%(placement_req_id)s] Created resource provider record "" ""via placement API for resource provider with UUID "" ""%(uuid)s and name %(name)s."") 'placement_req_id': placement_req_id, msg = (""[%(placement_req_id)s] Another thread already created a "" ""resource provider with the UUID %(uuid)s. Grabbing that "" ""record from the placement API."") 'placement_req_id': placement_req_id, msg = (""[%(placement_req_id)s] Failed to create resource provider "" ""record in placement API for UUID %(uuid)s. Got "" ""%(status_code)d: %(err_text)s."") 'placement_req_id': placement_req_id, msg = (""[%(placement_req_id)s] Failed to delete resource provider "" ""with UUID %(uuid)s from the placement API. Got "" ""%(status_code)d: %(err_text)s."") args = { 'placement_req_id': get_placement_request_id(resp), result = self.get(url, global_request_id=context.global_id) url, payload, global_request_id=context.global_id, msg = (""[%(placement_req_id)s] Failed to update inventory to "" ""[%(inv_data)s] for resource provider with UUID %(uuid)s. Got "" ""%(status_code)d: %(err_text)s"") args = { 'placement_req_id': get_placement_request_id(resp), global_request_id=context.global_id) resp = self.put('/traits/' + trait, None, version='1.6', global_request_id=context.global_id) msg = (""[%(placement_req_id)s] Failed to retrieve the list of traits. "" ""Got %(status_code)d: %(err_text)s"") args = { 'placement_req_id': get_placement_request_id(resp), global_request_id=context.global_id) msg = (""[%(placement_req_id)s] Failed to update traits to "" ""[%(traits)s] for resource provider with UUID %(uuid)s. Got "" ""%(status_code)d: %(err_text)s"") args = { 'placement_req_id': get_placement_request_id(resp), global_request_id=context.global_id) msg = (""[%(placement_req_id)s] Failed to update aggregates to "" ""[%(aggs)s] for resource provider with UUID %(uuid)s. Got "" ""%(status_code)d: %(err_text)s"") args = { 'placement_req_id': get_placement_request_id(resp), global_request_id=context.global_id) global_request_id=context.global_id) global_request_id=context.global_id) r = self.get(url, global_request_id=context.global_id, global_request_id=context.global_id) global_request_id=context.global_id) r = self.get(url, global_request_id=context.global_id, r = self.put(url, allocations, global_request_id=context.global_id, version=CONSUMER_GENERATION_VERSION) resp = self.get(url, global_request_id=context.global_id) self._delete_provider(rp_uuid, global_request_id=context.global_id) global_request_id=context.global_id) msg = ('[%(placement_req_id)s] Failed to retrieve usages for project ' '%(project_id)s and user %(user_id)s. Got %(status_code)d: ' '%(err_text)s') args = {'placement_req_id': get_placement_request_id(resp), 'project_id': project_id, global_request_id=context.global_id)",165,203
openstack%2Fnova~master~I47b48f661f4b3ebb1865357bce39610c4b26aeec,openstack/nova,master,I47b48f661f4b3ebb1865357bce39610c4b26aeec,WIP: Always set a global_request_id in RequestContext,NEW,2019-08-01 22:12:11.000000000,2019-08-07 18:30:44.000000000,,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-01 22:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e857e3b3accfe2e7e908c1bd38895730816ea646', 'message': 'WIP: Always set a global_request_id in RequestContext\n\nChange-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec\n'}, {'number': 2, 'created': '2019-08-02 23:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da336c771dbeed966cdd6efb20ed4f326632fcdf', 'message': 'WIP: Always set a global_request_id in RequestContext\n\nChange-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec\n'}, {'number': 3, 'created': '2019-08-02 23:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cb0e0bf83c2f9eda2472a5911007654a0685bf9', 'message': 'WIP: Always set a global_request_id in RequestContext\n\nChange-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec\n'}, {'number': 4, 'created': '2019-08-05 22:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e32c7928d837e7820d4f0029e38bd73cc94fec48', 'message': 'WIP: Always set a global_request_id in RequestContext\n\nChange-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec\n'}, {'number': 5, 'created': '2019-08-06 14:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36975064aff2424c4ebb3802ae00a4c82d483683', 'message': 'WIP: Always set a global_request_id in RequestContext\n\nChange-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec\n'}, {'number': 6, 'created': '2019-08-06 20:14:37.000000000', 'files': ['nova/api/auth.py', 'nova/api/openstack/auth.py', 'nova/api/openstack/compute/tenant_networks.py', 'nova/api/compute_req_id.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/672e67d7a94549395f309112ac9fd59c4549da1b', 'message': 'WIP: Always set a global_request_id in RequestContext\n\nChange-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec\n'}]",2,674138,672e67d7a94549395f309112ac9fd59c4549da1b,53,13,6,14070,,,0,"WIP: Always set a global_request_id in RequestContext

Change-Id: I47b48f661f4b3ebb1865357bce39610c4b26aeec
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/674138/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/context.py'],1,e857e3b3accfe2e7e908c1bd38895730816ea646,make-global_request_id-useful," self.ensure_global_request_id() def ensure_global_request_id(self): if not self.global_request_id: self.global_request_id = context.generate_request_id() ctx = super(RequestContext, cls).from_dict( ctx.ensure_global_request_id()"," return super(RequestContext, cls).from_dict(",8,1
openstack%2Foctavia~master~Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,openstack/octavia,master,Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,Fixed down server issue after reloading keepalived,MERGED,2019-05-24 14:43:22.000000000,2019-08-07 17:59:23.000000000,2019-08-07 17:59:23.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-05-24 14:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6d91d1013ea1858c2c382c0e78cf66306b899347', 'message': 'WIP Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 2, 'created': '2019-05-27 07:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6194a4bd4a5b715575dfc246d8522c706c4d83d8', 'message': 'WIP Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 3, 'created': '2019-05-27 07:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1e6be4a5c0cd3feb6e0da164bca9674ac200a4ce', 'message': 'WIP Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 4, 'created': '2019-05-27 11:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b05d043d0556634cbf2cd6529974c93ab461dff3', 'message': 'WIP Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 5, 'created': '2019-05-29 07:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/88ca624a24328d733b9ab1b91a675c7bcccf2965', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 6, 'created': '2019-06-28 07:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/495196b5499f4629c96182ea290c3d00117695ab', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 7, 'created': '2019-07-16 13:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0156a33c924a48fb579e8291522bcfc4be31db36', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 8, 'created': '2019-07-27 15:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/884e677bc578c70854b2ed3beb5a4a094b361856', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 9, 'created': '2019-07-30 07:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c6db3ebaab90c848c8ba380cf47e22ef9a6f287b', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}, {'number': 10, 'created': '2019-07-30 10:32:24.000000000', 'files': ['octavia/common/constants.py', 'releasenotes/notes/fix-udp-server-status-bug-db4d3e38bcdf0554.yaml', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a9f587015176723768a8a861265fda797c5d52e', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n'}]",2,661310,0a9f587015176723768a8a861265fda797c5d52e,32,5,10,29244,,,0,"Fixed down server issue after reloading keepalived

When removing a UDP health monitor, keepalived is reloaded with a
configuration without any checkers.
But if keepalived has previously detected a down server, the state of
the server is unchanged and it will never be added to the list of IPVS
servers.

Restarting keepalived on configuration change works around this issue.

This issue is fixed in keepalived (>=2.0.14):
https://github.com/acassen/keepalived/issues/1163

Story: 2005774
Task: 33491

Change-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65
",git fetch https://review.opendev.org/openstack/octavia refs/changes/10/661310/10 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py']",2,6d91d1013ea1858c2c382c0e78cf66306b899347,udp_states," # When octavia requests a reload of keepalived, force a restart since # a keepalived reload doesn't restore members in their initial state. if action == consts.AMP_ACTION_RELOAD: action = consts.AMP_ACTION_RESTART ",,6,0
openstack%2Fkayobe~master~I97827a9cf0056b5341811c37dc996fd6b69f2f1f,openstack/kayobe,master,I97827a9cf0056b5341811c37dc996fd6b69f2f1f,"Revert ""Workaround: stop bifrost services before seed upgrade""",MERGED,2019-07-03 12:25:08.000000000,2019-08-07 17:52:50.000000000,2019-08-07 17:52:50.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-07-03 12:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8062eb446bf2311e550e8fd19d7e60eba6a5a0a0', 'message': 'Revert ""Workaround: stop bifrost services before seed upgrade""\n\nThis reverts commit 77e8044a406b0cfeef377e0155b2fbcb5f05a67e.\n\nChange-Id: I97827a9cf0056b5341811c37dc996fd6b69f2f1f\nDepends-On: https://review.opendev.org/667630\n'}, {'number': 2, 'created': '2019-07-03 15:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/37402b120e87b29879e28a5ba847fe9cf4b84b6e', 'message': 'Revert ""Workaround: stop bifrost services before seed upgrade""\n\nThis reverts commit 77e8044a406b0cfeef377e0155b2fbcb5f05a67e.\n\nChange-Id: I97827a9cf0056b5341811c37dc996fd6b69f2f1f\nDepends-On: https://review.opendev.org/667630\n'}, {'number': 3, 'created': '2019-07-03 18:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aba792b784eff88b4e4bd5306f4d7786226f7cfb', 'message': 'Revert ""Workaround: stop bifrost services before seed upgrade""\n\nThis reverts commit 77e8044a406b0cfeef377e0155b2fbcb5f05a67e.\n\nChange-Id: I97827a9cf0056b5341811c37dc996fd6b69f2f1f\nDepends-On: https://review.opendev.org/667630\n'}, {'number': 4, 'created': '2019-07-08 15:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1e66789f07fce338a9d7ef594850bb141b03b084', 'message': 'Revert ""Workaround: stop bifrost services before seed upgrade""\n\nThis reverts commit 77e8044a406b0cfeef377e0155b2fbcb5f05a67e.\n\nChange-Id: I97827a9cf0056b5341811c37dc996fd6b69f2f1f\nDepends-On: https://review.opendev.org/667630\n'}, {'number': 5, 'created': '2019-08-02 11:10:31.000000000', 'files': ['ansible/seed-service-upgrade-prep.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0fe787ee081f6ccc8f19297c33168f1ff6d81598', 'message': 'Revert ""Workaround: stop bifrost services before seed upgrade""\n\nThis reverts commit 77e8044a406b0cfeef377e0155b2fbcb5f05a67e.\n\nChange-Id: I97827a9cf0056b5341811c37dc996fd6b69f2f1f\nDepends-On: https://review.opendev.org/667630\n'}]",0,668888,0fe787ee081f6ccc8f19297c33168f1ff6d81598,25,5,5,14826,,,0,"Revert ""Workaround: stop bifrost services before seed upgrade""

This reverts commit 77e8044a406b0cfeef377e0155b2fbcb5f05a67e.

Change-Id: I97827a9cf0056b5341811c37dc996fd6b69f2f1f
Depends-On: https://review.opendev.org/667630
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/88/668888/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/seed-service-upgrade-prep.yml'],1,8062eb446bf2311e550e8fd19d7e60eba6a5a0a0,story/2006050,," # TODO(mgoddard): Remove this once bug 1834332 is fixed in kolla-ansible. # Ensure that all services are stopped gracefully, and in a sensible # order. - name: Stop services gracefully command: docker exec bifrost_deploy systemctl stop {{ item }}.service with_items: - ironic-api - ironic-conductor - ironic-inspector - mariadb - rabbitmq-server - nginx changed_when: true",0,14
openstack%2Foctavia~master~I75cde3ff820f085aebbdffd1e40c5ff40f16835d,openstack/octavia,master,I75cde3ff820f085aebbdffd1e40c5ff40f16835d,Fixed pool and members status with UDP loadbalancers,MERGED,2019-05-24 14:43:22.000000000,2019-08-07 17:52:36.000000000,2019-08-07 17:52:36.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-05-24 14:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7dcafa6dc5b9fc6ea8e84391ae3f11ee77d8e6cc', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}, {'number': 2, 'created': '2019-05-27 07:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/46eb4e45e10df012b5a182547b0115214ca5a512', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}, {'number': 3, 'created': '2019-05-27 07:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ff08d202c07dda1956903df6b41d1e9b91bc5d02', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}, {'number': 4, 'created': '2019-05-27 11:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f7690a25ca9a1821da9c251794ab50306d2ad681', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}, {'number': 5, 'created': '2019-06-28 07:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3db28637b18aabf5af4fd4cdc081f3fb37547998', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}, {'number': 6, 'created': '2019-07-27 15:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3ca8eb01fd934fbeebe4172db7ec6b57992e7ee', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}, {'number': 7, 'created': '2019-07-30 07:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/55526618f0ab8a550d7a71e316a9cac225bf7e59', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}, {'number': 8, 'created': '2019-07-30 10:32:24.000000000', 'files': ['releasenotes/notes/fix-udp-members-status-ef3202849bfda29b.yaml', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4decb6d53c728ba0e7b15c6f46a9c2b5251b4088', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n'}]",0,661309,4decb6d53c728ba0e7b15c6f46a9c2b5251b4088,32,5,8,29244,,,0,"Fixed pool and members status with UDP loadbalancers

This commit fixes pool and members status when using UDP loadbalancers.

Story: 2005736
Task: 33394

Change-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/661309/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/lvs/templates/macros.j2', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py']",2,7dcafa6dc5b9fc6ea8e84391ae3f11ee77d8e6cc,udp_states,"DISABLED_MEMBER_COMMENT_REGEX = re.compile( r""#\sMember\s(\w{8}-\w{4}-\w{4}-\w{4}-\w{12}) is disabled"") CHECKER_REGEX = re.compile(r""MISC_CHECK"")def get_listener_realserver_mapping(ns_name, listener_ip_port, health_monitor_enabled): if health_monitor_enabled: member_status = constants.UP else: member_status = constants.NO_CHECK member_ip_port_string] = {'status': member_status, disabled_member_ids = DISABLED_MEMBER_COMMENT_REGEX.findall(cfg) resource_type = 'Members' for member_id in disabled_member_ids: value = {'id': member_id, 'ipport': None} if resource_type not in resource_ipport_mapping: resource_ipport_mapping[resource_type] = [] resource_ipport_mapping[resource_type].append(value) with open(util.keepalived_lvs_cfg_path(listener_id), 'r') as f: cfg = f.read() hm_enabled = len(CHECKER_REGEX.findall(cfg)) > 0 ns_name, resource_ipport_mapping['Listener']['ipport'], hm_enabled) if member_ip_port is None: status = constants.MAINT elif member_ip_port in down_member_ip_port_set: if hm_enabled: pool_status = constants.DOWN for member in resource_ipport_mapping['Members']: if member['ipport'] is None: member_results[member['id']] = constants.MAINT elif hm_enabled: member_results[member['id']] = constants.DOWN else: member_results[member['id']] = constants.NO_CHECK ","def get_listener_realserver_mapping(ns_name, listener_ip_port): member_ip_port_string] = {'status': constants.UP, ns_name, resource_ipport_mapping['Listener']['ipport']) if member_ip_port in down_member_ip_port_set: pool_status = constants.DOWN for member in resource_ipport_mapping['Members']: member_results[member['id']] = constants.DOWN",47,8
openstack%2Fkayobe~master~If0fe1115f01738254a61c0f5460548b0d6ae6b9a,openstack/kayobe,master,If0fe1115f01738254a61c0f5460548b0d6ae6b9a,Use new kolla-ansible upgrade-bifrost command,MERGED,2019-06-26 14:26:11.000000000,2019-08-07 17:48:19.000000000,2019-08-07 17:48:19.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-06-26 14:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d30d0d5ec4b725324c7f63922f1aa799e8ed71f5', 'message': 'Use new kolla-ansible upgrade-bifrost command\n\nThis command slightly modifies the deploy operation to first stop the\nbifrost services and container if they are running.\n\nChange-Id: If0fe1115f01738254a61c0f5460548b0d6ae6b9a\nDepends-On: https://review.opendev.org/667630\nStory: 2006050\nTask: 34743\n'}, {'number': 2, 'created': '2019-06-26 18:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/db90664b09d6a0e1f09f0a0670f53a4d2b1b272d', 'message': 'Use new kolla-ansible upgrade-bifrost command\n\nThis command slightly modifies the deploy operation to first stop the\nbifrost services and container if they are running.\n\nChange-Id: If0fe1115f01738254a61c0f5460548b0d6ae6b9a\nDepends-On: https://review.opendev.org/667630\nStory: 2006050\nTask: 34743\n'}, {'number': 3, 'created': '2019-07-03 18:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bf80a68216d7c3218d0fbdedfaee30d03963897d', 'message': 'Use new kolla-ansible upgrade-bifrost command\n\nThis command slightly modifies the deploy operation to first stop the\nbifrost services and container if they are running.\n\nChange-Id: If0fe1115f01738254a61c0f5460548b0d6ae6b9a\nDepends-On: https://review.opendev.org/667630\nStory: 2006050\nTask: 34743\n'}, {'number': 4, 'created': '2019-07-08 15:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fe03e8aac208cb38ab439b9d83dc9cd4ee109b69', 'message': 'Use new kolla-ansible upgrade-bifrost command\n\nThis command slightly modifies the deploy operation to first stop the\nbifrost services and container if they are running.\n\nChange-Id: If0fe1115f01738254a61c0f5460548b0d6ae6b9a\nDepends-On: https://review.opendev.org/667630\nStory: 2006050\nTask: 34743\n'}, {'number': 5, 'created': '2019-08-02 11:10:31.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cd97a9d721bc8d9536f7b24bce09fa07487b25a8', 'message': 'Use new kolla-ansible upgrade-bifrost command\n\nThis command slightly modifies the deploy operation to first stop the\nbifrost services and container if they are running.\n\nChange-Id: If0fe1115f01738254a61c0f5460548b0d6ae6b9a\nDepends-On: https://review.opendev.org/667630\nStory: 2006050\nTask: 34743\n'}]",0,667632,cd97a9d721bc8d9536f7b24bce09fa07487b25a8,33,5,5,14826,,,0,"Use new kolla-ansible upgrade-bifrost command

This command slightly modifies the deploy operation to first stop the
bifrost services and container if they are running.

Change-Id: If0fe1115f01738254a61c0f5460548b0d6ae6b9a
Depends-On: https://review.opendev.org/667630
Story: 2006050
Task: 34743
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/667632/4 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",4,d30d0d5ec4b725324c7f63922f1aa799e8ed71f5,story/2006050, name: kayobe-seed-upgrade-centos-1 parent: kayobe-seed-upgrade-base nodeset: kayobe-centos - job: name: kayobe-seed-upgrade-centos-2 parent: kayobe-seed-upgrade-base nodeset: kayobe-centos - job: name: kayobe-seed-upgrade-centos-3 parent: kayobe-seed-upgrade-base nodeset: kayobe-centos - job: name: kayobe-seed-upgrade-centos-4, name: kayobe-seed-upgrade-centos,22,11
openstack%2Fplacement~master~Ic39d9c65c1c15401da81725491090149d3c430ec,openstack/placement,master,Ic39d9c65c1c15401da81725491090149d3c430ec,Trivial: Remove duplicate usage of db context,MERGED,2019-08-07 08:49:15.000000000,2019-08-07 17:41:17.000000000,2019-08-07 17:41:17.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 08:49:15.000000000', 'files': ['placement/objects/trait.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/d6c151f277c061506f450594b5b13ad16a2e9672', 'message': 'Trivial: Remove duplicate usage of db context\n\nThe change to use cache in Trait object [1] moved the raw database\nquery to deeper layer from ids_from_names() function, but it was\nstill decorated with the db context manager, so this patch removes it.\n\n[1] Ia19ea2b4ecdde25323579edf60ad6269d05e75a2\n\nChange-Id: Ic39d9c65c1c15401da81725491090149d3c430ec\n'}]",0,675060,d6c151f277c061506f450594b5b13ad16a2e9672,7,3,1,25625,,,0,"Trivial: Remove duplicate usage of db context

The change to use cache in Trait object [1] moved the raw database
query to deeper layer from ids_from_names() function, but it was
still decorated with the db context manager, so this patch removes it.

[1] Ia19ea2b4ecdde25323579edf60ad6269d05e75a2

Change-Id: Ic39d9c65c1c15401da81725491090149d3c430ec
",git fetch https://review.opendev.org/openstack/placement refs/changes/60/675060/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/trait.py'],1,d6c151f277c061506f450594b5b13ad16a2e9672,trivial,,@db_api.placement_context_manager.reader,0,1
openstack%2Ftempest~master~I58bdb453052286a152a008bc1a51cc9eb34ce821,openstack/tempest,master,I58bdb453052286a152a008bc1a51cc9eb34ce821,"Skip some tests in ""network.admin.test_ports"" if nova is not enabled",MERGED,2018-04-13 09:01:04.000000000,2019-08-07 17:41:16.000000000,2019-08-07 17:41:16.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22078}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-04-13 09:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1f25d03c6ef4748fc968ecbbff89bc76f892071', 'message': 'Skip ""network.admin.test_ports"" if nova is not enabled\n\nAs ""tempest.api.network.admin.test_ports"" need to enable nova service, add\nskip_check function for this test. If nova service is not enabled, skip it.\n\nChange-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821\nCloses-Bug: #1763620\n'}, {'number': 2, 'created': '2018-04-16 03:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/94035cd99386307cdf587601df620444a8d9b46a', 'message': 'Skip some tests in ""network.admin.test_ports"" if nova is not enabled\n\nSome tests in ""tempest.api.network.admin.test_ports"" need to enable nova\nservice, skip them if nova service is not enabled.\n\nChange-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821\nCloses-Bug: #1763620\n'}, {'number': 3, 'created': '2018-04-17 06:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/64f6920274ed40a1830f5f4b00865bd8366f1491', 'message': 'Skip some tests in ""network.admin.test_ports"" if nova is not enabled\n\nSome tests in ""tempest.api.network.admin.test_ports"" need to enable nova\nservice, skip them if nova service is not enabled.\n\nChange-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821\nCloses-Bug: #1763620\n'}, {'number': 4, 'created': '2018-05-04 09:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ebd491375a487a2daf5a6c77b69c1f7da58790f', 'message': 'Skip some tests in ""network.admin.test_ports"" if nova is not enabled\n\nSome tests in ""tempest.api.network.admin.test_ports"" need to enable nova\nservice, skip them if nova service is not enabled.\n\nChange-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821\nCloses-Bug: #1763620\n'}, {'number': 5, 'created': '2019-07-30 09:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/675f2cf99a41e5782fa186e10f82c0c97dc6be61', 'message': 'Skip some tests in ""network.admin.test_ports"" if nova is not enabled\n\nSome tests in ""tempest.api.network.admin.test_ports"" need to enable nova\nservice, skip them if nova service is not enabled.\n\nChange-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821\nCloses-Bug: #1763620\n'}, {'number': 6, 'created': '2019-08-05 02:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/87d43170f04c7e27ebc879c7c068042f006ae219', 'message': 'Skip some tests in ""network.admin.test_ports"" if nova is not enabled\n\nSome tests in ""tempest.api.network.admin.test_ports"" need to enable nova\nservice, skip them if nova service is not enabled.\n\nChange-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821\nCloses-Bug: #1763620\n'}, {'number': 7, 'created': '2019-08-06 05:55:55.000000000', 'files': ['tempest/api/network/admin/test_ports.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/11f5fbedc36ae0a470deec3ba2820c9c66409ce3', 'message': 'Skip some tests in ""network.admin.test_ports"" if nova is not enabled\n\nSome tests in ""tempest.api.network.admin.test_ports"" need to enable nova\nservice, skip them if nova service is not enabled.\n\nChange-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821\nCloses-Bug: #1763620\n'}]",15,561166,11f5fbedc36ae0a470deec3ba2820c9c66409ce3,54,13,7,22078,,,0,"Skip some tests in ""network.admin.test_ports"" if nova is not enabled

Some tests in ""tempest.api.network.admin.test_ports"" need to enable nova
service, skip them if nova service is not enabled.

Change-Id: I58bdb453052286a152a008bc1a51cc9eb34ce821
Closes-Bug: #1763620
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/561166/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_ports.py'],1,c1f25d03c6ef4748fc968ecbbff89bc76f892071,bug/1763620," def skip_checks(cls): super(PortsAdminExtendedAttrsTestJSON, cls).skip_checks() if not CONF.service_available.nova: raise cls.skipException(""Nova support is required"") @classmethod",,6,0
openstack%2Ftripleo-heat-templates~master~I6f71ce62b1c5f3de175d7a50ee7229d3047a379a,openstack/tripleo-heat-templates,master,I6f71ce62b1c5f3de175d7a50ee7229d3047a379a,neutron-api: remove /usr/share/neutron mount,MERGED,2018-08-23 16:54:18.000000000,2019-08-07 17:35:58.000000000,2018-08-25 17:32:04.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 12398}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-23 16:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b75f077201092bf79ff615c808fe9a42874eaafe', 'message': ""neutron-api: move /usr/share/neutron mount\n\nWe don't need to mount /usr/share/neutron in neutron_db_sync container,\nthe directory doesn't exist and isn't needed.\nInstead, mount it at step4 in the neutron_api container where we\nactually need it, and where the directory is here already.\n\nWith podman, the dirs that don't exist and are being mounted aren't\ncreated like it's the case with Docker.\n\nChange-Id: I6f71ce62b1c5f3de175d7a50ee7229d3047a379a\n""}, {'number': 2, 'created': '2018-08-24 13:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2523bd82720560ca8a2a2e82f1846946f517caee', 'message': ""neutron-api: remove /usr/share/neutron mount\n\nWe don't need to mount /usr/share/neutron, the directory is provided in\nopenstack-neutron rpm, so we don't need to manage this directory. It\nshould be in all neutron containers, including the neutron_db_sync.\n\nChange-Id: I6f71ce62b1c5f3de175d7a50ee7229d3047a379a\n""}, {'number': 3, 'created': '2018-08-24 13:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/224421eba7e89326a01bcea7d506e2f108e081cf', 'message': ""neutron-api: remove /usr/share/neutron mount\n\nWe don't need to mount /usr/share/neutron, the directory is provided in\nopenstack-neutron rpm, so we don't need to manage this directory. It\nshould be in all neutron containers, including the neutron_db_sync.\n\nChange-Id: I6f71ce62b1c5f3de175d7a50ee7229d3047a379a\n""}, {'number': 4, 'created': '2018-08-24 17:29:36.000000000', 'files': ['docker/services/neutron-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/191841339bf67b73172250bfcf7d4eed4ffa809b', 'message': ""neutron-api: remove /usr/share/neutron mount\n\nWe don't need to mount /usr/share/neutron, the directory is provided in\nopenstack-neutron rpm, so we don't need to manage this directory. It\nshould be in all neutron containers, including the neutron_db_sync.\n\nChange-Id: I6f71ce62b1c5f3de175d7a50ee7229d3047a379a\n""}]",4,595834,191841339bf67b73172250bfcf7d4eed4ffa809b,28,8,4,3153,,,0,"neutron-api: remove /usr/share/neutron mount

We don't need to mount /usr/share/neutron, the directory is provided in
openstack-neutron rpm, so we don't need to manage this directory. It
should be in all neutron containers, including the neutron_db_sync.

Change-Id: I6f71ce62b1c5f3de175d7a50ee7229d3047a379a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/595834/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-api.yaml'],1,b75f077201092bf79ff615c808fe9a42874eaafe,neutron, - /var/lib/config-data/neutron/usr/share/neutron:/usr/share/neutron:ro, - /var/lib/config-data/neutron/usr/share/neutron:/usr/share/neutron:ro,1,1
openstack%2Fnova~master~I3c140f58e90784ffc3c10f8402f4bff5a86b44b6,openstack/nova,master,I3c140f58e90784ffc3c10f8402f4bff5a86b44b6,Added Cyborg accelerator external events to Nova,ABANDONED,2019-07-10 03:36:05.000000000,2019-08-07 17:29:10.000000000,,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-10 03:36:05.000000000', 'files': ['nova/conf/compute.py', 'nova/exception.py', 'nova/api/openstack/compute/schemas/server_external_events.py', 'nova/objects/external_event.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac842de7d7bc4afb92c2aeaefd38b24d0f3ccc60', 'message': 'Added Cyborg accelerator external events to Nova\n\nChange-Id: I3c140f58e90784ffc3c10f8402f4bff5a86b44b6\n'}]",1,669975,ac842de7d7bc4afb92c2aeaefd38b24d0f3ccc60,10,9,1,27458,,,0,"Added Cyborg accelerator external events to Nova

Change-Id: I3c140f58e90784ffc3c10f8402f4bff5a86b44b6
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/669975/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/exception.py', 'nova/api/openstack/compute/schemas/server_external_events.py', 'nova/objects/external_event.py']",4,ac842de7d7bc4afb92c2aeaefd38b24d0f3ccc60,," # Accelerator Preparation Notification 'cyborg-acc-changed', ",,49,1
openstack%2Fproject-config~master~I851a4b7ac6dc88a4a7d806530643a16a9ed4fa5b,openstack/project-config,master,I851a4b7ac6dc88a4a7d806530643a16a9ed4fa5b,projects: add vexxhost/ansible-role-openmanage,MERGED,2019-08-07 16:48:01.000000000,2019-08-07 17:26:42.000000000,2019-08-07 17:26:42.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 16:48:01.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e1ffe20ec210840f44ebc6906c7d8a8acbf9c1e', 'message': 'projects: add vexxhost/ansible-role-openmanage\n\nThis will be a role that is used to deploy the OpenManage tools\nfor systems that use Dell hardware.\n\nChange-Id: I851a4b7ac6dc88a4a7d806530643a16a9ed4fa5b\n'}]",0,675154,6e1ffe20ec210840f44ebc6906c7d8a8acbf9c1e,7,3,1,1004,,,0,"projects: add vexxhost/ansible-role-openmanage

This will be a role that is used to deploy the OpenManage tools
for systems that use Dell hardware.

Change-Id: I851a4b7ac6dc88a4a7d806530643a16a9ed4fa5b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/675154/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,6e1ffe20ec210840f44ebc6906c7d8a8acbf9c1e,add-monitoring, - vexxhost/ansible-role-openmanage,,4,0
openstack%2Fironic-python-agent~master~I2bb595ef29abdc98bd887bdf41c3c7f64cc3a7e6,openstack/ironic-python-agent,master,I2bb595ef29abdc98bd887bdf41c3c7f64cc3a7e6,Do not try to use zRAM devices for anything,MERGED,2019-08-07 14:13:21.000000000,2019-08-07 17:21:20.000000000,2019-08-07 17:21:20.000000000,"[{'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-07 14:13:21.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/no-zram-78cc6583f4f90a9c.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/88796a8936ca99f8eb03a483a02ee6b62139a60e', 'message': 'Do not try to use zRAM devices for anything\n\nThese devices are mapped into memory, but nonetheless can appear\nin lsblk output. Ignore them explicitly.\n\nChange-Id: I2bb595ef29abdc98bd887bdf41c3c7f64cc3a7e6\n'}]",0,675126,88796a8936ca99f8eb03a483a02ee6b62139a60e,8,4,1,10239,,,0,"Do not try to use zRAM devices for anything

These devices are mapped into memory, but nonetheless can appear
in lsblk output. Ignore them explicitly.

Change-Id: I2bb595ef29abdc98bd887bdf41c3c7f64cc3a7e6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/26/675126/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/no-zram-78cc6583f4f90a9c.yaml']",3,88796a8936ca99f8eb03a483a02ee6b62139a60e,zram,--- fixes: - | No longer tries to use zRAM devices for anything. ,,12,1
openstack%2Fcharm-keystone~master~Ic5ed6cf354d5545b9e554e205a048955a381e0f5,openstack/charm-keystone,master,Ic5ed6cf354d5545b9e554e205a048955a381e0f5,Ensure that keystone service is paused if needed on series upgrade,MERGED,2019-08-07 14:13:37.000000000,2019-08-07 17:06:39.000000000,2019-08-07 17:06:38.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 14:13:37.000000000', 'files': ['hooks/keystone_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/21d212cb2739a3ff1b08d8d96916dfd638f06ffe', 'message': 'Ensure that keystone service is paused if needed on series upgrade\n\nDuring series upgrade, the keystone packages get re-installed as the\nunderlying Linux has been upgraded and new package sets are updated and\nthen pulled in.  For trusty->xenial this means that keystone.service\ngets enabled which then breaks haproxy.  On install, on xenial+, the\nkeystone.service is disabled in the install hook.  This just replicates\nthis in the series-upgrade hook.\n\nChange-Id: Ic5ed6cf354d5545b9e554e205a048955a381e0f5\nClosed-Bug: #1839021\n'}]",0,675127,21d212cb2739a3ff1b08d8d96916dfd638f06ffe,10,6,1,20870,,,0,"Ensure that keystone service is paused if needed on series upgrade

During series upgrade, the keystone packages get re-installed as the
underlying Linux has been upgraded and new package sets are updated and
then pulled in.  For trusty->xenial this means that keystone.service
gets enabled which then breaks haproxy.  On install, on xenial+, the
keystone.service is disabled in the install hook.  This just replicates
this in the series-upgrade hook.

Change-Id: Ic5ed6cf354d5545b9e554e205a048955a381e0f5
Closed-Bug: #1839021
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/27/675127/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/keystone_hooks.py'],1,21d212cb2739a3ff1b08d8d96916dfd638f06ffe,bug/1839021, # if we just upgraded from non systemd then ensure that the new packages of # keystone definitely don't run the keystone service if we are a wsgi # configured system. if run_in_apache(): disable_unused_apache_sites() service_pause('keystone'),,6,0
openstack%2Fopenstack-ansible-os_nova~master~I01df855d8b9255d24efe16ab053ffa491fda351f,openstack/openstack-ansible-os_nova,master,I01df855d8b9255d24efe16ab053ffa491fda351f,Use integrated repo for nova-lxd job,MERGED,2019-05-11 05:19:21.000000000,2019-08-07 17:02:43.000000000,2019-05-14 11:34:34.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-11 05:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2bd64f9cd756bfcd7df6d1c3cf1f71caff67f480', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 2, 'created': '2019-05-11 06:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/30bcf7e99625e647fcd9105ca83aeb17f8bf29bb', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 3, 'created': '2019-05-11 07:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/44ca2043fe466ca8b4a1453edf7b6b452d7418ce', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 4, 'created': '2019-05-11 08:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/d1f44702026c699df47f389597c66c2c39b5a25a', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: Id33c85d1547e385ae9bd083880b0374c6f684f17\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 5, 'created': '2019-05-11 08:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5e0c04947855e0d01a14b0884f886638d91aa2c3', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 6, 'created': '2019-05-12 20:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2aa33321acb4c157d8e9638428db7bf1f4992e5a', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I621660f39c4e51db4b8063feee782aae5cd16840\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 7, 'created': '2019-05-12 20:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4b6ca2ee909a5a403f6a4ce01a01768dbaefa822', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I621660f39c4e51db4b8063feee782aae5cd16840\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 8, 'created': '2019-05-12 20:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8f25247e10876f77ca6b89d485129eca21ddf8a4', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I621660f39c4e51db4b8063feee782aae5cd16840\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 9, 'created': '2019-05-12 20:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4a785c7c8598de9e78259d54ad0b4cb9830a1bea', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nDepends-On: I621660f39c4e51db4b8063feee782aae5cd16840\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 10, 'created': '2019-05-12 20:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/96b1b873540e3f0d88059ad962f35d8014c4d04b', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nDepends-On: I621660f39c4e51db4b8063feee782aae5cd16840\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 11, 'created': '2019-05-13 00:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5995deed97bd5364841df4059e77d230e8c61979', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I2d49b6802d8cf99f6d7ac74ae4ce0ab8f6d1c7a5\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nDepends-On: I621660f39c4e51db4b8063feee782aae5cd16840\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}, {'number': 12, 'created': '2019-05-13 02:14:47.000000000', 'files': ['tests/test-create-zfs-dev.yml', 'zuul.d/playbooks/pre-lxd.yml', 'zuul.d/project.yaml', 'zuul.d/playbooks/files/user_variables_lxd.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8f55c68d8371a50625c3fdb5b82cbeb62f2808c4', 'message': 'Use integrated repo for nova-lxd job\n\nDepends-On: I8ec359f5c65c957064a39b75b9c3ea3d3a9d9e89\nDepends-On: I2d49b6802d8cf99f6d7ac74ae4ce0ab8f6d1c7a5\nDepends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340\nDepends-On: I621660f39c4e51db4b8063feee782aae5cd16840\nChange-Id: I01df855d8b9255d24efe16ab053ffa491fda351f\n'}]",0,658523,8f55c68d8371a50625c3fdb5b82cbeb62f2808c4,58,4,12,17799,,,0,"Use integrated repo for nova-lxd job

Depends-On: I8ec359f5c65c957064a39b75b9c3ea3d3a9d9e89
Depends-On: I2d49b6802d8cf99f6d7ac74ae4ce0ab8f6d1c7a5
Depends-On: I0e77423a1f28d9a53215ae68c1f9f3e2af00f340
Depends-On: I621660f39c4e51db4b8063feee782aae5cd16840
Change-Id: I01df855d8b9255d24efe16ab053ffa491fda351f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/23/658523/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-create-zfs-dev.yml', 'zuul.d/playbooks/pre-lxd.yml', 'zuul.d/project.yaml', 'zuul.d/playbooks/files/user_variables_lxd.yml', 'zuul.d/jobs.yaml']",5,2bd64f9cd756bfcd7df6d1c3cf1f71caff67f480,use-integrated-repo-for-all-tests, name: openstack-ansible-deploy-aio_metal_lxd-ubuntu-bionic parent: openstack-ansible-deploy-aio pre-run: - zuul.d/playbooks/pre-lxd.yml, name: openstack-ansible-lxd-ubuntu-bionic parent: openstack-ansible-functional-ubuntu-bionic vars: tox_env: lxd,32,9
openstack%2Fkayobe~stable%2Fqueens~I8a69ccd5192c0c5beeb7efb36c09b2c4643ef150,openstack/kayobe,stable/queens,I8a69ccd5192c0c5beeb7efb36c09b2c4643ef150,Generate bifrost hostvars prior to provisioning,MERGED,2019-08-04 17:56:11.000000000,2019-08-07 16:55:31.000000000,2019-08-07 16:55:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-08-04 17:56:11.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/58cfbda7ab8f1ab063148520512b62380d47a1fb', 'message': ""Generate bifrost hostvars prior to provisioning\n\nThe 'kayobe overcloud inventory discover' command can be used to discover an\novercloud inventory from the nodes in the ironic service running on the seed.\nThis works well for cases where the nodes have been autodiscovered, and as such\ndo not exist in the kayobe inventory.\n\nThere is another use case where overcloud nodes already exist in the kayobe\ninventory. In that case we don't want to run the above command, as it will\ncreate duplicate hosts in the inventory. We do however want the part of that\ncommand that generates bifrost host variables for the overcloud nodes.\n\nThis change moves the generation of bifrost host variables to the 'kayobe\novercloud provision' and 'kayobe overcloud hardware inspect' commands,\nwhich are used in each of these cases.\n\nConflicts:\n\tkayobe/tests/unit/cli/test_commands.py\n\nChange-Id: I8a69ccd5192c0c5beeb7efb36c09b2c4643ef150\nStory: 2004426\nTask: 28079\n(cherry picked from commit bff985330af53f65b2ff2328acb76a835866387b)\n""}]",0,674506,58cfbda7ab8f1ab063148520512b62380d47a1fb,7,3,1,15197,,,0,"Generate bifrost hostvars prior to provisioning

The 'kayobe overcloud inventory discover' command can be used to discover an
overcloud inventory from the nodes in the ironic service running on the seed.
This works well for cases where the nodes have been autodiscovered, and as such
do not exist in the kayobe inventory.

There is another use case where overcloud nodes already exist in the kayobe
inventory. In that case we don't want to run the above command, as it will
create duplicate hosts in the inventory. We do however want the part of that
command that generates bifrost host variables for the overcloud nodes.

This change moves the generation of bifrost host variables to the 'kayobe
overcloud provision' and 'kayobe overcloud hardware inspect' commands,
which are used in each of these cases.

Conflicts:
	kayobe/tests/unit/cli/test_commands.py

Change-Id: I8a69ccd5192c0c5beeb7efb36c09b2c4643ef150
Story: 2004426
Task: 28079
(cherry picked from commit bff985330af53f65b2ff2328acb76a835866387b)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/674506/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py']",2,58cfbda7ab8f1ab063148520512b62380d47a1fb,story/2004426-stable/queens," # Now populate the Kolla Ansible inventory. playbooks = _build_playbook_list(""kolla-bifrost-hostvars"", ""overcloud-hardware-inspect"") playbooks = _build_playbook_list(""kolla-bifrost-hostvars"", ""overcloud-provision"")"," * Configure the bifrost service with host variables for provisioning the overcloud hosts. # Now populate the Kolla Ansible and Bifrost inventories. self.run_kayobe_playbook(parsed_args, ""ansible/kolla-bifrost-hostvars.yml"") playbooks = _build_playbook_list(""overcloud-hardware-inspect"") playbooks = _build_playbook_list(""overcloud-provision"")",94,7
openstack%2Fgovernance~master~I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb,openstack/governance,master,I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb,remove Tony's name as naming poll coordinator,MERGED,2019-08-04 14:14:24.000000000,2019-08-07 16:49:02.000000000,2019-08-07 16:49:02.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-04 14:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3fea4304df6d8b4c0ebe900d0ab4ecc3f6b4f8e2', 'message': ""remove Tony's name as naming poll coordinator\n\nTony has indicated in the review for\nhttps://review.opendev.org/#/c/674465/ that he would prefer to have\nhis name removed as polling coordinator.\n\nChange-Id: I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2019-08-05 15:52:28.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/c391f597f8339d3a3b741a79899211893084842d', 'message': ""remove Tony's name as naming poll coordinator\n\nTony has indicated in the review for\nhttps://review.opendev.org/#/c/674465/ that he would prefer to have\nhis name removed as polling coordinator.\n\nAdd Rico, who volunteer to be naming poll coordinator\n\nChange-Id: I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",2,674494,c391f597f8339d3a3b741a79899211893084842d,23,10,2,2472,,,0,"remove Tony's name as naming poll coordinator

Tony has indicated in the review for
https://review.opendev.org/#/c/674465/ that he would prefer to have
his name removed as polling coordinator.

Add Rico, who volunteer to be naming poll coordinator

Change-Id: I4dd637d0db02b7ecbd9c2d2a63827f11afa93efb
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/94/674494/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,3fea4304df6d8b4c0ebe900d0ab4ecc3f6b4f8e2,documentation-change,U - 2019-07-01 2019-08-12 2019-08-19 China,U Tony Breeds 2019-07-01 2019-08-12 2019-08-19 China,1,1
openstack%2Fopenstack-ansible-plugins~master~I0c2815c4257298ed60d44e48cbbfe7cd405e5955,openstack/openstack-ansible-plugins,master,I0c2815c4257298ed60d44e48cbbfe7cd405e5955,Fix regression with container_name var,NEW,2017-07-05 13:53:11.000000000,2019-08-07 16:45:02.000000000,,[{'_account_id': 17799}],"[{'number': 1, 'created': '2017-07-05 13:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/acd964f2e261186758ec2c03fe28aa696e6e133e', 'message': 'Fix regression with container_name var\n\nAs of I56d8afddbccf01f2944d2fdd505b601a4b048374 the container_name\nvar is no longer referenced by the strategy plugin to identify the\nname of the LXC container on the physical host. Instead, only\ninventory_hostname is referenced.\n\nThe regression breaks cases where the container_name may not match\nthe inventory_hostname var. This fix repairs the strategy plugin to\nagain reference the container_name var, and performs the required\ntemplating lookup to ensure container_name=""{{ inventory_hostname }}""\nis resolved properly.\n\nChange-Id: I0c2815c4257298ed60d44e48cbbfe7cd405e5955\n'}, {'number': 2, 'created': '2017-07-05 14:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/6a397879fae535c7c9d9c70d203fc92e80c5de33', 'message': 'Fix regression with container_name var\n\nAs of I56d8afddbccf01f2944d2fdd505b601a4b048374 the container_name\nvar is no longer referenced by the strategy plugin to identify the\nname of the LXC container on the physical host. Instead, only\ninventory_hostname is referenced.\n\nThe regression breaks cases where the container_name may not match\nthe inventory_hostname var. This fix repairs the strategy plugin to\nagain reference the container_name var, and performs the required\ntemplating lookup to ensure container_name=""{{ inventory_hostname }}""\nis resolved properly.\n\nChange-Id: I0c2815c4257298ed60d44e48cbbfe7cd405e5955\n'}, {'number': 3, 'created': '2017-09-14 04:51:37.000000000', 'files': ['tests/inventory', 'tests/host_vars/fakecontainer2.yml', 'strategy/linear.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/ddae6eacd4d45ea95afe86d38283ce2c94626353', 'message': 'Fix regression with container_name var\n\nAs of I56d8afddbccf01f2944d2fdd505b601a4b048374 the container_name\nvar is no longer referenced by the strategy plugin to identify the\nname of the LXC container on the physical host. Instead, only\ninventory_hostname is referenced.\n\nThe regression breaks cases where the container_name may not match\nthe inventory_hostname var. This fix repairs the strategy plugin to\nagain reference the container_name var, and performs the required\ntemplating lookup to ensure container_name=""{{ inventory_hostname }}""\nis resolved properly.\n\nChange-Id: I0c2815c4257298ed60d44e48cbbfe7cd405e5955\n'}]",0,480591,ddae6eacd4d45ea95afe86d38283ce2c94626353,11,1,3,17799,,,0,"Fix regression with container_name var

As of I56d8afddbccf01f2944d2fdd505b601a4b048374 the container_name
var is no longer referenced by the strategy plugin to identify the
name of the LXC container on the physical host. Instead, only
inventory_hostname is referenced.

The regression breaks cases where the container_name may not match
the inventory_hostname var. This fix repairs the strategy plugin to
again reference the container_name var, and performs the required
templating lookup to ensure container_name=""{{ inventory_hostname }}""
is resolved properly.

Change-Id: I0c2815c4257298ed60d44e48cbbfe7cd405e5955
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/91/480591/3 && git format-patch -1 --stdout FETCH_HEAD,['strategy/linear.py'],1,acd964f2e261186758ec2c03fe28aa696e6e133e,delegation-tests," ('container_name', 'inventory_hostname',)}) _vars = _play_context._attributes['vars'] container_name = templar.template(_vars.get('container_name', task_vars.get('container_name'))) if container_name: task_vars['container_name'] = container_name "," ('inventory_hostname',)})",7,1
openstack%2Fcharm-nova-compute~master~I29421ce240a3810d945b76e662a743b4b8497ac8,openstack/charm-nova-compute,master,I29421ce240a3810d945b76e662a743b4b8497ac8,Reverting changes from commit 69a6fde,MERGED,2019-08-07 09:36:41.000000000,2019-08-07 16:30:17.000000000,2019-08-07 16:30:17.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 09:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/92f851d0c864c348b58db405829c4133a1258590', 'message': 'Reverting changes from commit 69a6fde\n\nThis patch reverts the non-charmhelpers changes from\nthe patch landed for bug 1835045 that is causing a\nregression whereby new deployments that relate to\nceph-mon are prevented from sending broker requests\nto do e.g. create the pool needed by\nlibvirt-image-backend=rbd.\n\nChange-Id: I29421ce240a3810d945b76e662a743b4b8497ac8\nCloses-Bug: 1835045\n'}, {'number': 2, 'created': '2019-08-07 09:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/bd24f22d51fd3788fbfb19de73874d601f5172ec', 'message': 'Reverting changes from commit 69a6fde\n\nThis patch reverts the non-charmhelpers changes from\nthe patch landed for bug 1835045 that is causing a\nregression whereby new deployments that relate to\nceph-mon are prevented from sending broker requests\nto do e.g. create the pool needed by\nlibvirt-image-backend=rbd.\n\nChange-Id: I29421ce240a3810d945b76e662a743b4b8497ac8\nCloses-Bug: 1839297\n'}, {'number': 3, 'created': '2019-08-07 10:04:43.000000000', 'files': ['unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c0607560ba1b7c98d1aad4351240477973f04202', 'message': 'Reverting changes from commit 69a6fde\n\nThis patch reverts the non-charmhelpers changes from\nthe patch landed for bug 1835045 that is causing a\nregression whereby new deployments that relate to\nceph-mon are prevented from sending broker requests\nto do e.g. create the pool needed by\nlibvirt-image-backend=rbd.\n\nChange-Id: I29421ce240a3810d945b76e662a743b4b8497ac8\nRelated-Bug: 1835045\nCloses-Bug: 1839297\n'}]",1,675069,c0607560ba1b7c98d1aad4351240477973f04202,17,4,3,6737,,,0,"Reverting changes from commit 69a6fde

This patch reverts the non-charmhelpers changes from
the patch landed for bug 1835045 that is causing a
regression whereby new deployments that relate to
ceph-mon are prevented from sending broker requests
to do e.g. create the pool needed by
libvirt-image-backend=rbd.

Change-Id: I29421ce240a3810d945b76e662a743b4b8497ac8
Related-Bug: 1835045
Closes-Bug: 1839297
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/69/675069/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py']",2,92f851d0c864c348b58db405829c4133a1258590,bug/1835045,," has_broker_rsp, if not has_broker_rsp(rid, unit): log(""Unit {} does not have a broker_rsp. "" ""Aborting ceph_changed"".format(unit)) return ",0,15
openstack%2Fheat~master~I7574a273e1c0511c56370b2203694dc52d963afc,openstack/heat,master,I7574a273e1c0511c56370b2203694dc52d963afc,Change HOST_IP to SERVICE_HOST,MERGED,2019-07-31 09:30:46.000000000,2019-08-07 16:29:42.000000000,2019-08-07 16:29:42.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-07-31 09:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a6be7404e62e54ac451fcd2d13049fc3460de0d5', 'message': 'Change HOST_IP to SERVICE_HOST\n\nHOST_IP is only for ipv4,\nSERVICE_HOST can fit for ipv4 and ipv6.\nIPV6 log can check here:\nhttp://logs.openstack.org/51/673751/1/check/murano-tempest-api-ipv6-only/f947d0e/job-output.txt.gz#_2019-07-31_08_54_25_077300\n\nChange-Id: I7574a273e1c0511c56370b2203694dc52d963afc\n'}, {'number': 2, 'created': '2019-07-31 09:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/43883e79babea6623942861e9646cba49a2854ee', 'message': 'Change HOST_IP to SERVICE_HOST\n\nHOST_IP is only for ipv4,\nSERVICE_HOST can fit for ipv4 and ipv6.\nIPV6 log can check here:\nhttp://logs.openstack.org/51/673751/1/check/murano-tempest-api-ipv6-only/f947d0e/job-output.txt.gz#_2019-07-31_08_54_25_077300\n\nChange-Id: I7574a273e1c0511c56370b2203694dc52d963afc\n'}, {'number': 3, 'created': '2019-08-01 00:53:52.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/47a3004de49a63f278f4996994dc31523846948f', 'message': 'Change HOST_IP to SERVICE_HOST\n\nHOST_IP is only for ipv4,\nSERVICE_HOST can fit for ipv4 and ipv6.\nIPV6 log can check here:\nhttp://logs.openstack.org/51/673751/1/check/murano-tempest-api-ipv6-only/f947d0e/job-output.txt.gz#_2019-07-31_08_54_25_077300\n\nChange-Id: I7574a273e1c0511c56370b2203694dc52d963afc\n'}]",1,673777,47a3004de49a63f278f4996994dc31523846948f,15,11,3,14107,,,0,"Change HOST_IP to SERVICE_HOST

HOST_IP is only for ipv4,
SERVICE_HOST can fit for ipv4 and ipv6.
IPV6 log can check here:
http://logs.openstack.org/51/673751/1/check/murano-tempest-api-ipv6-only/f947d0e/job-output.txt.gz#_2019-07-31_08_54_25_077300

Change-Id: I7574a273e1c0511c56370b2203694dc52d963afc
",git fetch https://review.opendev.org/openstack/heat refs/changes/77/673777/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,a6be7404e62e54ac451fcd2d13049fc3460de0d5,,HEAT_API_HOST=${HEAT_API_HOST:-$SERVICE_HOST},HEAT_API_HOST=${HEAT_API_HOST:-$HOST_IP},1,1
openstack%2Fcinder~master~Ib64c86fa5e3791dfa5386b58b468a91f1a190de6,openstack/cinder,master,Ib64c86fa5e3791dfa5386b58b468a91f1a190de6,solidfire: Enable SSL with requests,MERGED,2018-08-02 19:44:39.000000000,2019-08-07 16:29:00.000000000,2018-08-07 15:40:34.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-08-02 19:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d6700521c48f7a34d10e472eb06506d737dabc7', 'message': 'solidfire: Enable SSL with requests\n\nSSL requests are not being verified when contacting\nthe REST API. Use the driver_ssl_cert_verify\nconfig option to turn on or off. Defaults to False.\n\nChange-Id: Ib64c86fa5e3791dfa5386b58b468a91f1a190de6\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-08-02 22:34:12.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/61eeb626e67942f77f41e8589c2dd1f9a6c75345', 'message': 'solidfire: Enable SSL with requests\n\nSSL requests are not being verified when contacting\nthe REST API. Use the driver_ssl_cert_verify\nconfig option to turn on or off. Defaults to False.\n\nChange-Id: Ib64c86fa5e3791dfa5386b58b468a91f1a190de6\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",1,588365,61eeb626e67942f77f41e8589c2dd1f9a6c75345,42,25,2,24,,,0,"solidfire: Enable SSL with requests

SSL requests are not being verified when contacting
the REST API. Use the driver_ssl_cert_verify
config option to turn on or off. Defaults to False.

Change-Id: Ib64c86fa5e3791dfa5386b58b468a91f1a190de6
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/588365/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,4d6700521c48f7a34d10e472eb06506d737dabc7,," verify=self.configuration.driver_ssl_cert_verify,"," verify=False,",1,1
openstack%2Fheat~master~Ie4071c904fcf4756bc840beb98ebe80e2b838423,openstack/heat,master,Ie4071c904fcf4756bc840beb98ebe80e2b838423,Add dedicated auth endpoint config for virtual machines,ABANDONED,2019-03-12 16:22:23.000000000,2019-08-07 16:15:05.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-03-12 16:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0981fb021bb850148232d031ca41e8db7197a577', 'message': 'Add dedicated auth endpoint config for virtual machines\n\nThis addresses some of the issues discussed here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html\n\nClarification of the keystone endpoint handling can be in a\ndifferent patch. This leaves the current behavior unaffected.\n\nChange-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423\n'}, {'number': 2, 'created': '2019-03-13 17:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/564fa92b1f54ac081502ae08aa92195141a39050', 'message': 'Add dedicated auth endpoint config for virtual machines\n\nThis addresses some of the issues discussed here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html\n\nClarification of the keystone endpoint handling can be in a\ndifferent patch. This leaves the current behavior unaffected.\n\nChange-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423\n'}, {'number': 3, 'created': '2019-03-18 11:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/268ea2a82a81eccd04523725a80971a4fe383574', 'message': 'Add dedicated auth endpoint config for virtual machines\n\nThis addresses some of the issues discussed here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html\n\nClarification of the keystone endpoint handling can be in a\ndifferent patch. This leaves the current behavior unaffected.\n\nTask: 28967\n\nChange-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423\n'}, {'number': 4, 'created': '2019-03-18 11:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3b5580046af29be38debc44af5962c348276d649', 'message': 'Add dedicated auth endpoint config for virtual machines\n\nThis addresses some of the issues discussed here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html\n\nClarification of the keystone endpoint handling can be in a\ndifferent patch. This leaves the current behavior unaffected.\n\nTask: 28967\n\nChange-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423\n'}, {'number': 5, 'created': '2019-03-18 11:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8d9a9130dcbeb3f64a083f533256dbe3f3f462cb', 'message': 'Add dedicated auth endpoint config for servers\n\nThis addresses some of the issues discussed here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html\n\nClarification of the keystone endpoint handling can be in a\ndifferent patch. This leaves the current behavior unaffected.\n\nTask: 28967\n\nChange-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423\n'}, {'number': 6, 'created': '2019-04-12 12:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b827e39b33e2ce2e873704a4221b298cef0c8213', 'message': 'Add dedicated auth endpoint config for virtual machines\n\nThis addresses some of the issues discussed here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html\n\nClarification of the keystone endpoint handling can be in a\ndifferent patch. This leaves the current behavior unaffected.\n\nChange-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423\n'}, {'number': 7, 'created': '2019-04-12 13:17:40.000000000', 'files': ['heat/engine/resources/signal_responder.py', 'heat/engine/clients/os/keystone/fake_keystoneclient.py', 'heat/engine/resources/server_base.py', 'heat/common/config.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5672738156f127ecf30c01e72d604bfb586e3df7', 'message': 'Add dedicated auth endpoint config for virtual machines\n\nThis addresses some of the issues discussed here:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html\n\nClarification of the keystone endpoint handling can be in a\ndifferent patch. This leaves the current behavior unaffected.\n\nChange-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423\n'}]",14,642812,5672738156f127ecf30c01e72d604bfb586e3df7,24,6,7,29865,,,0,"Add dedicated auth endpoint config for virtual machines

This addresses some of the issues discussed here:
http://lists.openstack.org/pipermail/openstack-discuss/2019-February/002925.html

Clarification of the keystone endpoint handling can be in a
different patch. This leaves the current behavior unaffected.

Change-Id: Ie4071c904fcf4756bc840beb98ebe80e2b838423
",git fetch https://review.opendev.org/openstack/heat refs/changes/12/642812/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/signal_responder.py', 'heat/engine/resources/server_base.py', 'heat/common/config.py']",3,0981fb021bb850148232d031ca41e8db7197a577,add-server-base-auth-url," ' http://0.0.0.0:8004/v1/%(tenant_id)s.')), cfg.StrOpt('server_base_auth_url', default='', help=_('The auth url from the context of a provisioned virtual' ' machine.'))]", ' http://0.0.0.0:8004/v1/%(tenant_id)s.'))],9,3
openstack%2Fplacement~master~I121e5ac6e8202467bf72d9de7ac452d5b5804da1,openstack/placement,master,I121e5ac6e8202467bf72d9de7ac452d5b5804da1,Use expanding bindparam in extend_usages_by_provider_tree,MERGED,2019-08-05 16:21:47.000000000,2019-08-07 16:11:49.000000000,2019-08-07 16:11:49.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-08-05 16:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/88ab5f69f2b398ffc3d1fe4cd9f5a2a025cc747e', 'message': 'Use expanding bindparam in extend_usages_by_provider_tree\n\nWhen doing a non-nested GET /allocation_candidates query, the\n`in_` handling in extend_usages_by_provider_tree is a measurable\ncontributor to CPU time, so we ligthen that somewhat with an\nexpanding bindparam, as done early in provider_ids_from_rp_ids [1]\n\n[1] Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf\n\nChange-Id: I121e5ac6e8202467bf72d9de7ac452d5b5804da1\n'}, {'number': 2, 'created': '2019-08-06 08:33:13.000000000', 'files': ['placement/objects/research_context.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/5883c794f969b8fda14078137704b4dd34919ab0', 'message': 'Use expanding bindparam in extend_usages_by_provider_tree\n\nWhen doing a non-nested GET /allocation_candidates query, the\n`in_` handling in extend_usages_by_provider_tree is a measurable\ncontributor to CPU time, so we lighten that somewhat with an\nexpanding bindparam, as done early in provider_ids_from_rp_ids [1]\n\n[1] Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf\n\nChange-Id: I121e5ac6e8202467bf72d9de7ac452d5b5804da1\n'}]",1,674647,5883c794f969b8fda14078137704b4dd34919ab0,10,3,2,11564,,,0,"Use expanding bindparam in extend_usages_by_provider_tree

When doing a non-nested GET /allocation_candidates query, the
`in_` handling in extend_usages_by_provider_tree is a measurable
contributor to CPU time, so we lighten that somewhat with an
expanding bindparam, as done early in provider_ids_from_rp_ids [1]

[1] Ic4e0cdd87f8f2d76b921059ac4bf16a838913abf

Change-Id: I121e5ac6e8202467bf72d9de7ac452d5b5804da1
",git fetch https://review.opendev.org/openstack/placement refs/changes/47/674647/2 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,88ab5f69f2b398ffc3d1fe4cd9f5a2a025cc747e,optimize-_build_provider_summaries," rpt.c.root_provider_id.in_(sa.bindparam( 'root_ids', expanding=True)) self.usages.extend( self._ctx.session.execute(query, {'root_ids': list(root_ids)}) .fetchall())", rpt.c.root_provider_id.in_(root_ids) self.usages.extend(self._ctx.session.execute(query).fetchall()),5,2
openstack%2Fplacement~master~I202f6114648a69a3bf54fe2c3a67b5cab55e8925,openstack/placement,master,I202f6114648a69a3bf54fe2c3a67b5cab55e8925,Make _get_trees_with_traits return a set,MERGED,2019-08-05 15:03:08.000000000,2019-08-07 16:11:48.000000000,2019-08-07 16:11:48.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-08-05 15:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/673b10151dfdf74756af66e0df7937ac881dec2b', 'message': ""Make _get_trees_with_traits return a set\n\nThe docstring says it returns a set, but it is a list. The output\nis immediately used for membership checking in filter_by_rp. Sets\nare better for membership checking, so we'd like this to be a set.\n\nChange-Id: I202f6114648a69a3bf54fe2c3a67b5cab55e8925\n""}, {'number': 2, 'created': '2019-08-05 15:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a7f5850c0066c02bba75be850e17be490d71c0c1', 'message': ""Make _get_trees_with_traits return a set\n\nThe docstring says it returns a set, but it is a list. The output\nis immediately used for membership checking in filter_by_rp. Sets\nare better for membership checking, so we'd like this to be a set.\n\nChange-Id: I202f6114648a69a3bf54fe2c3a67b5cab55e8925\n""}, {'number': 3, 'created': '2019-08-06 08:33:13.000000000', 'files': ['placement/objects/research_context.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/51e4f4195e8a00f131afb025adb96afaaea5472f', 'message': ""Make _get_trees_with_traits return a set\n\nThe docstring says it returns a set, but it is a list. The output\nis immediately used for membership checking in filter_by_rp. Sets\nare better for membership checking, so we'd like this to be a set.\n\nChange-Id: I202f6114648a69a3bf54fe2c3a67b5cab55e8925\n""}]",3,674630,51e4f4195e8a00f131afb025adb96afaaea5472f,14,4,3,11564,,,0,"Make _get_trees_with_traits return a set

The docstring says it returns a set, but it is a list. The output
is immediately used for membership checking in filter_by_rp. Sets
are better for membership checking, so we'd like this to be a set.

Change-Id: I202f6114648a69a3bf54fe2c3a67b5cab55e8925
",git fetch https://review.opendev.org/openstack/placement refs/changes/30/674630/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,673b10151dfdf74756af66e0df7937ac881dec2b,optimize-_build_provider_summaries," return set([(rp_id, root_id) for rp_id, root_id in res])"," return [(rp_id, root_id) for rp_id, root_id in res]",1,1
openstack%2Fplacement~master~Ie4809abc31212711b96f69e5f291104ae761059e,openstack/placement,master,Ie4809abc31212711b96f69e5f291104ae761059e,Run nested-perfload parallel correctly,MERGED,2019-07-30 12:49:26.000000000,2019-08-07 16:11:45.000000000,2019-08-07 16:11:45.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-07-30 12:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ec3b3ae1303ba7824181b30bc7d9468e1f4f0a86', 'message': ""Run nested-perfload parallel correctly\n\nWhile experimenting with expanding the nested perfload tests,\nit became clear that the call to parallel was not working as\ndocumented. What's supposed to be happening is that 3*nprocs\nprocesses are run, but in local testing that's not what happens:\ninstead just one, in sequence.\n\nThis changes it to use available processors.\n\nSubsequent patches will add a more complicated nested structure.\n\nChange-Id: Ie4809abc31212711b96f69e5f291104ae761059e\n""}, {'number': 2, 'created': '2019-07-31 10:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/735e8d52a51a5acb31463cd4c4a4e5a81440e8a8', 'message': ""Run nested-perfload parallel correctly\n\nWhile experimenting with expanding the nested perfload tests,\nit became clear that the call to parallel was not working as\ndocumented. What's supposed to be happening is that 3*nprocs\nprocesses are run, but in local testing that's not what happens:\ninstead just one, in sequence.\n\nThis changes it to use available processors.\n\nSubsequent patches will add a more complicated nested structure.\n\nChange-Id: Ie4809abc31212711b96f69e5f291104ae761059e\n""}, {'number': 3, 'created': '2019-08-06 08:19:01.000000000', 'files': ['gate/perfload-nested-runner.sh'], 'web_link': 'https://opendev.org/openstack/placement/commit/7464ff6e24c34e412ec3def799edbc9dedd3a2ef', 'message': 'Run nested-perfload parallel correctly\n\nWhile experimenting with expanding the nested perfload tests,\nit became clear that the call to parallel was not working as\nexpected because the documents were misread. With help from\nTetsuro the correct incantation was determined so that we\nuse 50% of available CPUs.\n\nThis should leave some space for the database and the web\nserver.\n\nSubsequent patches will add a more complicated nested structure.\n\nCo-Authored-By: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\nChange-Id: Ie4809abc31212711b96f69e5f291104ae761059e\n'}]",7,673505,7464ff6e24c34e412ec3def799edbc9dedd3a2ef,25,5,3,11564,,,0,"Run nested-perfload parallel correctly

While experimenting with expanding the nested perfload tests,
it became clear that the call to parallel was not working as
expected because the documents were misread. With help from
Tetsuro the correct incantation was determined so that we
use 50% of available CPUs.

This should leave some space for the database and the web
server.

Subsequent patches will add a more complicated nested structure.

Co-Authored-By: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>
Change-Id: Ie4809abc31212711b96f69e5f291104ae761059e
",git fetch https://review.opendev.org/openstack/placement refs/changes/05/673505/2 && git format-patch -1 --stdout FETCH_HEAD,['gate/perfload-nested-runner.sh'],1,ec3b3ae1303ba7824181b30bc7d9468e1f4f0a86,story/2005443, seq 1 $ITERATIONS | parallel $LOADER $PLACEMENT_URL $GABBIT, seq 1 $ITERATIONS | parallel -P 3% $LOADER $PLACEMENT_URL $GABBIT,1,1
openstack%2Fnova~stable%2Fstein~I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,openstack/nova,stable/stein,I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,"Revert ""[libvirt] Filter hypervisor_type by virt_type""",MERGED,2019-07-25 13:31:38.000000000,2019-08-07 16:11:41.000000000,2019-08-07 16:11:41.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-25 13:31:38.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45f290e36c797a271a20a3055ee866fa5b7997a8', 'message': 'Revert ""[libvirt] Filter hypervisor_type by virt_type""\n\nThis reverts commit eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2.\n\nThe change regressed the behavior of the ImagePropertiesFilter\nbecause existing images with hypervisor_type=QEMU, which would\nmatch what is reported for hypervisor_type in the API for both\nqemu/kvm virt_type nodes, will now get filtered out for hosts\nwhere the configured virt_type is kvm.\n\nNote that both the ImagePropertiesFilter docs [1] and\nhypervisor_type image property docs [2] mention that for both\nqemu and kvm nodes the value to use is qemu since that is the\nactual hypervisor.\n\nPresumably the change was made for a deployment with some\nhosts configured with virt_type=qemu and other hosts configured\nwith virt_type=kvm and there were separate images with\nhypervisor_type=qemu and hypervisor_type=kvm to match those hosts\nfor scheduler filter, but as noted this was a regression in\nbehavior for something that could have been achieved using\nhost aggregates and the AggregateImagePropertiesIsolation filter.\n\nWe could even use traits and a placement request pre-filter these\ndays for a more modern approach.\n\nAlso, since the API continues to report hypervisor_type=QEMU it\'s\ndoubly confusing for operators to have to configure their images\nto use hypervisor_type=kvm (despite the docs).\n\nAnd finally, any existing instances which have hypervisor_type=qemu\nembedded in their RequestSpec can no longer be migrated to kvm\nhosts without manually fixing the entries in the request_specs\ntable in the API DB.\n\nNote that this is not a clean revert because of change\nI5d95bd50279a6bf903a5793ad5f3ae9d06f085f4 made in Stein.\n\n[1] https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#imagepropertiesfilter\n[2] https://docs.openstack.org/glance/latest/admin/useful-image-properties.html\n\nChange-Id: I7d761dc269f8c12c4a76ba14201ccdd82a04d01d\nCloses-Bug: #1837756\n(cherry picked from commit 743dc083bb5628554d9abfa82665738233ed47e9)\n'}]",0,672723,45f290e36c797a271a20a3055ee866fa5b7997a8,15,8,1,6873,,,0,"Revert ""[libvirt] Filter hypervisor_type by virt_type""

This reverts commit eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2.

The change regressed the behavior of the ImagePropertiesFilter
because existing images with hypervisor_type=QEMU, which would
match what is reported for hypervisor_type in the API for both
qemu/kvm virt_type nodes, will now get filtered out for hosts
where the configured virt_type is kvm.

Note that both the ImagePropertiesFilter docs [1] and
hypervisor_type image property docs [2] mention that for both
qemu and kvm nodes the value to use is qemu since that is the
actual hypervisor.

Presumably the change was made for a deployment with some
hosts configured with virt_type=qemu and other hosts configured
with virt_type=kvm and there were separate images with
hypervisor_type=qemu and hypervisor_type=kvm to match those hosts
for scheduler filter, but as noted this was a regression in
behavior for something that could have been achieved using
host aggregates and the AggregateImagePropertiesIsolation filter.

We could even use traits and a placement request pre-filter these
days for a more modern approach.

Also, since the API continues to report hypervisor_type=QEMU it's
doubly confusing for operators to have to configure their images
to use hypervisor_type=kvm (despite the docs).

And finally, any existing instances which have hypervisor_type=qemu
embedded in their RequestSpec can no longer be migrated to kvm
hosts without manually fixing the entries in the request_specs
table in the API DB.

Note that this is not a clean revert because of change
I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4 made in Stein.

[1] https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#imagepropertiesfilter
[2] https://docs.openstack.org/glance/latest/admin/useful-image-properties.html

Change-Id: I7d761dc269f8c12c4a76ba14201ccdd82a04d01d
Closes-Bug: #1837756
(cherry picked from commit 743dc083bb5628554d9abfa82665738233ed47e9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/672723/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,45f290e36c797a271a20a3055ee866fa5b7997a8,bug/1195361," def test_get_instance_capabilities(self): want = [(fields.Architecture.X86_64, 'kvm', 'hvm'), (fields.Architecture.X86_64, 'qemu', 'hvm'), (fields.Architecture.I686, 'kvm', 'hvm')]"," def _test_get_instance_capabilities(self, want): '''Base test for 'get_capabilities' function. ''' def test_get_instance_capabilities_kvm(self): self.flags(virt_type='kvm', group='libvirt') # Because virt_type is set to kvm, we get only # capabilities where the hypervisor_type is kvm want = [(fields.Architecture.X86_64, 'kvm', 'hvm'), (fields.Architecture.I686, 'kvm', 'hvm')] self._test_get_instance_capabilities(want) def test_get_instance_capabilities_qemu(self): self.flags(virt_type='qemu', group='libvirt') # Because virt_type is set to qemu, we get only # capabilities where the hypervisor_type is qemu want = [(fields.Architecture.X86_64, 'qemu', 'hvm')] self._test_get_instance_capabilities(want) ",4,26
openstack%2Fnova~stable%2Fstein~I5e0a43ec59341c9ac62f89105ddf82c4a014df81,openstack/nova,stable/stein,I5e0a43ec59341c9ac62f89105ddf82c4a014df81,Replace non-nova server fault message,MERGED,2019-08-06 15:05:14.000000000,2019-08-07 16:11:34.000000000,2019-08-07 16:11:34.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-06 15:05:14.000000000', 'files': ['nova/tests/functional/test_server_faults.py', 'releasenotes/notes/bug-1837877-cve-fault-message-exposure-5360d794f4976b7c.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/67651881163b75eb1983eaf753471a91ecec35eb', 'message': 'Replace non-nova server fault message\n\nThe server fault ""message"" is always shown in the API\nserver response, regardless of policy or user role.\n\nThe fault ""details"" are only shown to users with the\nadmin role when the fault code is 500.\n\nThe problem with this is for non-nova exceptions, the\nfault message is a string-ified version of the exception\n(see nova.compute.utils.exception_to_dict) which can\ncontain sensitive information which the non-admin owner\nof the server can see.\n\nThis change adds a functional test to recreate the issue\nand a change to exception_to_dict which for the non-nova\ncase changes the fault message by simply storing the\nexception type class name. Admins can still see the fault\ntraceback in the ""details"" key of the fault dict in the\nserver API response. Note that _get_fault_details is\nchanged so that the details also includes the exception\nvalue which is what used to be in the fault message for\nnon-nova exceptions. This is necessary so admins can still\nget the exception message with the traceback details.\n\nNote that nova exceptions with a %(reason)s replacement\nvariable could potentially be leaking sensitive details as\nwell but those would need to be cleaned up on a case-by-case\nbasis since we don\'t want to change the behavior of all\nfault messages otherwise users might not see information\nlike NoValidHost when their server goes to ERROR status\nduring scheduling.\n\nSecurityImpact: This change contains a fix for CVE-2019-14433.\n\nChange-Id: I5e0a43ec59341c9ac62f89105ddf82c4a014df81\nCloses-Bug: #1837877\n(cherry picked from commit 298b337a16c0d10916b4431c436d19b3d6f5360e)\n'}]",0,674828,67651881163b75eb1983eaf753471a91ecec35eb,15,5,1,6873,,,0,"Replace non-nova server fault message

The server fault ""message"" is always shown in the API
server response, regardless of policy or user role.

The fault ""details"" are only shown to users with the
admin role when the fault code is 500.

The problem with this is for non-nova exceptions, the
fault message is a string-ified version of the exception
(see nova.compute.utils.exception_to_dict) which can
contain sensitive information which the non-admin owner
of the server can see.

This change adds a functional test to recreate the issue
and a change to exception_to_dict which for the non-nova
case changes the fault message by simply storing the
exception type class name. Admins can still see the fault
traceback in the ""details"" key of the fault dict in the
server API response. Note that _get_fault_details is
changed so that the details also includes the exception
value which is what used to be in the fault message for
non-nova exceptions. This is necessary so admins can still
get the exception message with the traceback details.

Note that nova exceptions with a %(reason)s replacement
variable could potentially be leaking sensitive details as
well but those would need to be cleaned up on a case-by-case
basis since we don't want to change the behavior of all
fault messages otherwise users might not see information
like NoValidHost when their server goes to ERROR status
during scheduling.

SecurityImpact: This change contains a fix for CVE-2019-14433.

Change-Id: I5e0a43ec59341c9ac62f89105ddf82c4a014df81
Closes-Bug: #1837877
(cherry picked from commit 298b337a16c0d10916b4431c436d19b3d6f5360e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/674828/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_faults.py', 'releasenotes/notes/bug-1837877-cve-fault-message-exposure-5360d794f4976b7c.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/utils.py']",4,67651881163b75eb1983eaf753471a91ecec35eb,bug/1837877," """"""Converts exceptions to a dict for use in notifications. :param fault: Exception that occurred :param message: Optional fault message, otherwise the message is derived from the fault itself. :returns: dict with the following items: - exception: the fault itself - message: one of (in priority order): - the provided message to this method - a formatted NovaException message - the fault class name - code: integer code for the fault (defaults to 500) """""" # In this case either we have a NovaException which failed to format # the message or we have a non-nova exception which could contain # sensitive details. Since we're not sure, be safe and set the message # to the exception class name. Note that we don't guard on # context.is_admin here because the message is always shown in the API, # even to non-admin users (e.g. NoValidHost) but only the traceback # details are shown to users with the admin role. Checking for admin # context here is also not helpful because admins can perform # operations on a tenant user's server (migrations, reboot, etc) and # service startup and periodic tasks could take actions on a server # and those use an admin context. # TODO(mriedem): Why do we only include the details if the code is 500? # Though for non-nova exceptions the code will probably be 500. if exc_info and error_code == 500: # We get the full exception details including the value since # the fault message may not contain that information for non-nova # exceptions (see exception_to_dict). details = ''.join(traceback.format_exception( exc_info[0], exc_info[1], exc_info[2]))"," """"""Converts exceptions to a dict for use in notifications."""""" try: message = six.text_type(fault) except Exception: message = None if not message: if exc_info and error_code == 500: tb = exc_info[2] if tb: details = ''.join(traceback.format_tb(tb))",184,16
openstack%2Fvirtualbmc~master~Ic5aed1275984f35f541c3be2b229945c8ec4558a,openstack/virtualbmc,master,Ic5aed1275984f35f541c3be2b229945c8ec4558a,Add a bindep file,MERGED,2019-08-07 10:18:08.000000000,2019-08-07 16:11:11.000000000,2019-08-07 16:11:11.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-07 10:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/a08f4610b106a4140ce934cecf42c9556f504fbe', 'message': 'Add a bindep file\n\nChange-Id: Ic5aed1275984f35f541c3be2b229945c8ec4558a\n'}, {'number': 2, 'created': '2019-08-07 10:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/b2e489268e76303d2c0c073a8862551f5a917873', 'message': 'Add a bindep file\n\nChange-Id: Ic5aed1275984f35f541c3be2b229945c8ec4558a\n'}, {'number': 3, 'created': '2019-08-07 10:54:39.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/d4f5312a5658d1a161893c9a2a97c36c4ad3af8f', 'message': 'Add a bindep file\n\nChange-Id: Ic5aed1275984f35f541c3be2b229945c8ec4558a\n'}]",0,675078,d4f5312a5658d1a161893c9a2a97c36c4ad3af8f,9,3,3,10239,,,0,"Add a bindep file

Change-Id: Ic5aed1275984f35f541c3be2b229945c8ec4558a
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/78/675078/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a08f4610b106a4140ce934cecf42c9556f504fbe,bindep,# these are needed to compile Python dependencies from sources python-dev [platform:dpkg test] python3-all-dev [platform:dpkg !platform:ubuntu-precise test] python-devel [platform:rpm test] python3-devel [platform:rpm test] build-essential [platform:dpkg test] libssl-dev [platform:dpkg test] libvirt-dev [platform:dpkg devstack] libvirt-devel [platform:rpm devstack] ,,9,0
openstack%2Ftripleo-heat-templates~master~I399098bf734aa3b2862e1713d4b1f429d180afbc,openstack/tripleo-heat-templates,master,I399098bf734aa3b2862e1713d4b1f429d180afbc,Fix pcmk remote podman bundle restarts,MERGED,2019-07-28 09:27:29.000000000,2019-08-07 16:08:59.000000000,2019-08-07 15:34:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-28 09:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6e46d2e158dca957e0222dc39c776cfdc122750', 'message': 'WIP fix pcmk bundle restarts\n\nChange-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc\n'}, {'number': 2, 'created': '2019-07-29 14:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a2e7a0afd71af588a97c446f7931a94bad21e7b', 'message': 'WIP Fix pcmk remote podman bundle restarts\n\nChange-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc\n'}, {'number': 3, 'created': '2019-07-29 15:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cef0e849249f70ebab4e8f3ea03c1bce7ed09fd', 'message': 'WIP Fix pcmk remote podman bundle restarts\n\nChange-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc\n'}, {'number': 4, 'created': '2019-07-30 05:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c88bb9491dbab679ed274a49b6f9c2f1692e997', 'message': 'WIP Fix pcmk remote podman bundle restarts\n\nChange-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc\n'}, {'number': 5, 'created': '2019-08-02 07:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f86d99e39f7c7181059a720cd9efa2a42864f6c2', 'message': 'WIP Fix pcmk remote podman bundle restarts\n\nChange-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc\n'}, {'number': 6, 'created': '2019-08-05 07:59:09.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdf742d05f90a57fdd08e73409d417bfcffdb8ab', 'message': 'Fix pcmk remote podman bundle restarts\n\nWe blindly bind mount /etc/corosync/corosync.conf from the host to the\ncontainer as that is required by pcs when running on pacemaker nodes\nwhen using pcs 0.9/pcmk 1.x.\n\nWhen running on a pacemaker remote node, this will actually barf on it\nbecause that file does not exist on a remote node:\n\n        ""stderr: error checking path \\""/etc/corosync/corosync.conf\\"": stat /etc/corosync/corosync.conf: no such file or directory"",\n\nThis is not an issue with docker because docker simply creates non\nexisting host bind mount points.\nSo we should not bind mount this when we run podman because podman and\nHA only works on RHEL/CentOS 8 and it is not required there.\n\nTested this on an Stein deployment with RHEL8 as OS and I correctly\nget a composable HA environment using pacemaker remote:\novercloud-database-0    (ocf::pacemaker:remote):        Started overcloud-controller-0\novercloud-database-1    (ocf::pacemaker:remote):        Started overcloud-controller-1\novercloud-database-2    (ocf::pacemaker:remote):        Started overcloud-controller-2\novercloud-messaging-0   (ocf::pacemaker:remote):        Started overcloud-controller-0\novercloud-messaging-1   (ocf::pacemaker:remote):        Started overcloud-controller-1\novercloud-messaging-2   (ocf::pacemaker:remote):        Started overcloud-controller-2\n podman container set: galera-bundle [192.168.24.1:8787/rhosp15/openstack-mariadb:pcmklatest]\n   galera-bundle-0      (ocf::heartbeat:galera):        Master overcloud-database-0\n   galera-bundle-1      (ocf::heartbeat:galera):        Master overcloud-database-1\n   galera-bundle-2      (ocf::heartbeat:galera):        Master overcloud-database-2\n podman container set: redis-bundle [192.168.24.1:8787/rhosp15/openstack-redis:pcmklatest]\n   redis-bundle-0       (ocf::heartbeat:redis): Master overcloud-controller-0\n   redis-bundle-1       (ocf::heartbeat:redis): Slave overcloud-controller-1\n   redis-bundle-2       (ocf::heartbeat:redis): Slave overcloud-controller-2\n podman container set: rabbitmq-bundle [192.168.24.1:8787/rhosp15/openstack-rabbitmq:pcmklatest]\n   rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-0\n   rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-1\n   rabbitmq-bundle-2    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-2\nip-192.168.24.12        (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0\nip-10.0.0.106   (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1\nip-172.17.1.68  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2\nip-172.17.1.89  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0\nip-172.17.3.23  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1\nip-172.17.4.41  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2\n podman container set: haproxy-bundle [192.168.24.1:8787/rhosp15/openstack-haproxy:pcmklatest]\n   haproxy-bundle-podman-0      (ocf::heartbeat:podman):        Started overcloud-controller-0\n   haproxy-bundle-podman-1      (ocf::heartbeat:podman):        Started overcloud-controller-1\n   haproxy-bundle-podman-2      (ocf::heartbeat:podman):        Started overcloud-controller-2\n podman container set: ovn-dbs-bundle [192.168.24.1:8787/rhosp15/openstack-ovn-northd:pcmklatest]\n   ovn-dbs-bundle-0     (ocf::ovn:ovndb-servers):       Master overcloud-controller-0\n   ovn-dbs-bundle-1     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-1\n   ovn-dbs-bundle-2     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-2\nstonith-fence_ipmilan-5254008aa119      (stonith:fence_ipmilan):        Started overcloud-controller-0\nstonith-fence_ipmilan-5254003d74a4      (stonith:fence_ipmilan):        Started overcloud-controller-0\nstonith-fence_ipmilan-525400092968      (stonith:fence_ipmilan):        Started overcloud-controller-1\nstonith-fence_ipmilan-525400439c7e      (stonith:fence_ipmilan):        Started overcloud-controller-0\nstonith-fence_ipmilan-5254002beafa      (stonith:fence_ipmilan):        Started overcloud-controller-2\nstonith-fence_ipmilan-525400bbb6cb      (stonith:fence_ipmilan):        Started overcloud-controller-1\nstonith-fence_ipmilan-5254001b9a8f      (stonith:fence_ipmilan):        Started overcloud-controller-2\nstonith-fence_ipmilan-525400367613      (stonith:fence_ipmilan):        Started overcloud-controller-1\nstonith-fence_ipmilan-525400150f28      (stonith:fence_ipmilan):        Started overcloud-controller-2\n podman container: openstack-cinder-volume [192.168.24.1:8787/rhosp15/openstack-cinder-volume:pcmklatest]\n   openstack-cinder-volume-podman-0     (ocf::heartbeat:podman):        Started overcloud-controller-0\n\nCloses-Bug: #1838279\n\nChange-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc\n'}]",1,673164,bdf742d05f90a57fdd08e73409d417bfcffdb8ab,41,7,6,20172,,,0,"Fix pcmk remote podman bundle restarts

We blindly bind mount /etc/corosync/corosync.conf from the host to the
container as that is required by pcs when running on pacemaker nodes
when using pcs 0.9/pcmk 1.x.

When running on a pacemaker remote node, this will actually barf on it
because that file does not exist on a remote node:

        ""stderr: error checking path \""/etc/corosync/corosync.conf\"": stat /etc/corosync/corosync.conf: no such file or directory"",

This is not an issue with docker because docker simply creates non
existing host bind mount points.
So we should not bind mount this when we run podman because podman and
HA only works on RHEL/CentOS 8 and it is not required there.

Tested this on an Stein deployment with RHEL8 as OS and I correctly
get a composable HA environment using pacemaker remote:
overcloud-database-0    (ocf::pacemaker:remote):        Started overcloud-controller-0
overcloud-database-1    (ocf::pacemaker:remote):        Started overcloud-controller-1
overcloud-database-2    (ocf::pacemaker:remote):        Started overcloud-controller-2
overcloud-messaging-0   (ocf::pacemaker:remote):        Started overcloud-controller-0
overcloud-messaging-1   (ocf::pacemaker:remote):        Started overcloud-controller-1
overcloud-messaging-2   (ocf::pacemaker:remote):        Started overcloud-controller-2
 podman container set: galera-bundle [192.168.24.1:8787/rhosp15/openstack-mariadb:pcmklatest]
   galera-bundle-0      (ocf::heartbeat:galera):        Master overcloud-database-0
   galera-bundle-1      (ocf::heartbeat:galera):        Master overcloud-database-1
   galera-bundle-2      (ocf::heartbeat:galera):        Master overcloud-database-2
 podman container set: redis-bundle [192.168.24.1:8787/rhosp15/openstack-redis:pcmklatest]
   redis-bundle-0       (ocf::heartbeat:redis): Master overcloud-controller-0
   redis-bundle-1       (ocf::heartbeat:redis): Slave overcloud-controller-1
   redis-bundle-2       (ocf::heartbeat:redis): Slave overcloud-controller-2
 podman container set: rabbitmq-bundle [192.168.24.1:8787/rhosp15/openstack-rabbitmq:pcmklatest]
   rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-0
   rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-1
   rabbitmq-bundle-2    (ocf::heartbeat:rabbitmq-cluster):      Started overcloud-messaging-2
ip-192.168.24.12        (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0
ip-10.0.0.106   (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1
ip-172.17.1.68  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2
ip-172.17.1.89  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-0
ip-172.17.3.23  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-1
ip-172.17.4.41  (ocf::heartbeat:IPaddr2):       Started overcloud-controller-2
 podman container set: haproxy-bundle [192.168.24.1:8787/rhosp15/openstack-haproxy:pcmklatest]
   haproxy-bundle-podman-0      (ocf::heartbeat:podman):        Started overcloud-controller-0
   haproxy-bundle-podman-1      (ocf::heartbeat:podman):        Started overcloud-controller-1
   haproxy-bundle-podman-2      (ocf::heartbeat:podman):        Started overcloud-controller-2
 podman container set: ovn-dbs-bundle [192.168.24.1:8787/rhosp15/openstack-ovn-northd:pcmklatest]
   ovn-dbs-bundle-0     (ocf::ovn:ovndb-servers):       Master overcloud-controller-0
   ovn-dbs-bundle-1     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-1
   ovn-dbs-bundle-2     (ocf::ovn:ovndb-servers):       Slave overcloud-controller-2
stonith-fence_ipmilan-5254008aa119      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-5254003d74a4      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-525400092968      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-525400439c7e      (stonith:fence_ipmilan):        Started overcloud-controller-0
stonith-fence_ipmilan-5254002beafa      (stonith:fence_ipmilan):        Started overcloud-controller-2
stonith-fence_ipmilan-525400bbb6cb      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-5254001b9a8f      (stonith:fence_ipmilan):        Started overcloud-controller-2
stonith-fence_ipmilan-525400367613      (stonith:fence_ipmilan):        Started overcloud-controller-1
stonith-fence_ipmilan-525400150f28      (stonith:fence_ipmilan):        Started overcloud-controller-2
 podman container: openstack-cinder-volume [192.168.24.1:8787/rhosp15/openstack-cinder-volume:pcmklatest]
   openstack-cinder-volume-podman-0     (ocf::heartbeat:podman):        Started overcloud-controller-0

Closes-Bug: #1838279

Change-Id: I399098bf734aa3b2862e1713d4b1f429d180afbc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/673164/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml'],1,a6e46d2e158dca957e0222dc39c776cfdc122750,pcmkremote_restart2," docker_enabled: {equals: [{get_param: ContainerCli}, 'docker']} if: - docker_enabled - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null - - /bin/true:/bin/epmd if: - docker_enabled - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null", - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - /bin/true:/bin/epmd,10,3
openstack%2Fopenstack-ansible-os_placement~master~I5190507d44b38e451b22e45615371897485016ff,openstack/openstack-ansible-os_placement,master,I5190507d44b38e451b22e45615371897485016ff,Add nova placement to placement migration,ABANDONED,2019-06-12 11:26:38.000000000,2019-08-07 15:42:55.000000000,,"[{'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 11:26:38.000000000', 'files': ['tasks/main.yml', 'tasks/placement_post_install.yml', 'tasks/placement_migrate.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/1589b04eb7c516a9cb8856da82dfaca43408b255', 'message': 'Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> placement\ndatabase migration, we add the necessary tasks to the\nrole, activated by a boolean flag. The flag will be set\nduring the major upgrade scripts.\n\nThis ensures that the nova placement service stays live\nuntil the very last minute before the database migration\nis executed, and with these tasks being the last in the\nplacement role the placement service will be started by\nthe handler immediately after the database migration\ncompletes.\n\nWe also add a notification to the handler if the placement\nconfiguration changes to ensure that the service is\nrestarted to pick up the changed configuration.\n\nChange-Id: I5190507d44b38e451b22e45615371897485016ff\n'}]",2,664862,1589b04eb7c516a9cb8856da82dfaca43408b255,5,2,1,6816,,,0,"Add nova placement to placement migration

In order to facilitate the nova placement -> placement
database migration, we add the necessary tasks to the
role, activated by a boolean flag. The flag will be set
during the major upgrade scripts.

This ensures that the nova placement service stays live
until the very last minute before the database migration
is executed, and with these tasks being the last in the
placement role the placement service will be started by
the handler immediately after the database migration
completes.

We also add a notification to the handler if the placement
configuration changes to ensure that the service is
restarted to pick up the changed configuration.

Change-Id: I5190507d44b38e451b22e45615371897485016ff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/62/664862/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/placement_post_install.yml', 'tasks/placement_migrate.yml', 'defaults/main.yml']",4,1589b04eb7c516a9cb8856da82dfaca43408b255,osa-placement-migration,"# Boolean flag to enable the nova placement -> placement # migration tasks. This is a once-off action for Stein -> # Train, and the tasks can be removed in O. placement_migrate_flag: no placement_migrate_git_clone_path: ""/opt/placement"" ",,106,0
openstack%2Fopenstack-ansible-os_barbican~master~I20d13e094c1e9820f416fc8ae2cf0327cf63e925,openstack/openstack-ansible-os_barbican,master,I20d13e094c1e9820f416fc8ae2cf0327cf63e925,Perform an atomic policy file change,ABANDONED,2017-04-28 15:34:19.000000000,2019-08-07 15:40:32.000000000,,"[{'_account_id': 6816}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-28 15:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/dd7e036ad0e9438a29aee9abdbf3cd013dbb58bb', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 2, 'created': '2017-04-28 15:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/d2572353cc299617967f6bb830482c33d2bef9a9', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 3, 'created': '2017-04-28 16:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/6ad318b58f53909f5c2f414f7d525728a4bc1eb6', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 4, 'created': '2017-05-23 22:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/214b475f0ff1fc86a90928187693b6ffb0c371d4', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 5, 'created': '2017-05-23 23:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/994277d90435301506844f2823b8637a546e4577', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 6, 'created': '2017-05-24 09:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/7901c2af0048a66478b8f83e77d4e5798e4e0033', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 7, 'created': '2017-06-07 10:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/1dc1b6d67c8157b50e738b35ad09f42af1244692', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 8, 'created': '2017-07-12 03:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/4b9c2d3794da62a55ec35ad06a4244a9961139ca', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}, {'number': 9, 'created': '2017-07-24 23:29:57.000000000', 'files': ['tasks/main.yml', 'tasks/barbican_ssl_key_create.yml', 'tasks/barbican_pre_install.yml', 'tasks/barbican_apache.yml', 'tasks/barbican_ssl_user_provided.yml', 'tasks/barbican_post_install.yml', 'handlers/main.yml', 'tasks/barbican_init_systemd.yml', 'defaults/main.yml', 'tasks/barbican_ssl_key_distribute.yml', 'tasks/barbican_init.yml', 'templates/barbican-systemd-tempfiles.j2', 'templates/barbican-systemd-init.j2', 'tasks/barbican_init_common.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/315f88cd6d2c28a66f6c6dbf71d14adcf7c157f2', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925\n'}]",2,461081,315f88cd6d2c28a66f6c6dbf71d14adcf7c157f2,23,2,9,6816,,,0,"Perform an atomic policy file change

The policy.json file is currently read continually by the
services and is not only read on service start. We therefore
cannot template directly to the file read by the service
(if the service is already running) because the new policies
may not be valid until the service restarts. This is
particularly important during a major upgrade. We therefore
only put the policy file in place after the service restart.

This patch also tidies up the handlers and some of the install
tasks to simplify them and reduce the tasks/code a little.

Change-Id: I20d13e094c1e9820f416fc8ae2cf0327cf63e925
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/81/461081/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/barbican_ssl_key_create.yml', 'templates/api_audit_map.conf.j2', 'tasks/barbican_apache.yml', 'tasks/barbican_ssl_user_provided.yml', 'tasks/barbican_post_install.yml', 'handlers/main.yml', 'tasks/barbican_init_systemd.yml', 'tasks/barbican_ssl_key_distribute.yml', 'tasks/barbican_init.yml', 'templates/barbican-systemd-tempfiles.j2', 'templates/barbican-systemd-init.j2', 'tasks/barbican_init_common.yml']",13,dd7e036ad0e9438a29aee9abdbf3cd013dbb58bb,atomic-policy-file-change,,"--- # Copyright 2016, Comcast Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - include: barbican_init_systemd.yml static: no when: - ansible_service_mgr == 'systemd' - name: Load service service: name: ""{{ program_name }}"" enabled: ""yes"" notify: - Restart barbican services ",80,88
openstack%2Fopenstack-ansible-tests~master~I665aff4c5d5f6af167f0a10485f20d27a5537698,openstack/openstack-ansible-tests,master,I665aff4c5d5f6af167f0a10485f20d27a5537698,[WIP] Remove tox from lint/functional testing,ABANDONED,2018-03-26 11:01:41.000000000,2019-08-07 15:40:22.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 11:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e0f1be452bea475ff4449471a9af6af48d8b5d26', 'message': ""[WIP] Remove tox from lint/functional testing\n\nUsing tox adds an unnecessary layer of misdirection\nto the testing setup. This patch aims to remove that\nextra layer in such a way that we can make use of\nAnsible as early as possible in the test execution.\n\nThe intent is when tests are executed outside of\nOpenStack-CI, a thin layer sets up an Ansible venv\nand executes the tests like zuul would. Inside\nOpenStack-CI we should be able to just execute the\nplays using zuul's Ansible.\n\nChange-Id: I665aff4c5d5f6af167f0a10485f20d27a5537698\n""}, {'number': 2, 'created': '2018-03-26 11:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b007aeaf829d97b04f352ada098418eeb995e8e9', 'message': ""[WIP] Remove tox from lint/functional testing\n\nUsing tox adds an unnecessary layer of misdirection\nto the testing setup. This patch aims to remove that\nextra layer in such a way that we can make use of\nAnsible as early as possible in the test execution.\n\nThe intent is when tests are executed outside of\nOpenStack-CI, a thin layer sets up an Ansible venv\nand executes the tests like zuul would. Inside\nOpenStack-CI we should be able to just execute the\nplays using zuul's Ansible.\n\nChange-Id: I665aff4c5d5f6af167f0a10485f20d27a5537698\n""}, {'number': 3, 'created': '2018-03-26 11:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4e7ae922f669228a436ca09d7a63fd6b0d330d2e', 'message': ""[WIP] Remove tox from lint/functional testing\n\nUsing tox adds an unnecessary layer of misdirection\nto the testing setup. This patch aims to remove that\nextra layer in such a way that we can make use of\nAnsible as early as possible in the test execution.\n\nThe intent is when tests are executed outside of\nOpenStack-CI, a thin layer sets up an Ansible venv\nand executes the tests like zuul would. Inside\nOpenStack-CI we should be able to just execute the\nplays using zuul's Ansible.\n\nTODO:\n- Instead of executing the test scripts in qequence,\n  have something that can figure out the jobs for\n  the repository, then execute them using Ansible.\n\nChange-Id: I665aff4c5d5f6af167f0a10485f20d27a5537698\n""}, {'number': 4, 'created': '2018-03-26 12:10:10.000000000', 'files': ['run_tests.sh', '.gitignore', 'run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/854aa259434f29b9bda6d0eb26e4b60b948d9a8d', 'message': ""[WIP] Remove tox from lint/functional testing\n\nUsing tox adds an unnecessary layer of misdirection\nto the testing setup. This patch aims to remove that\nextra layer in such a way that we can make use of\nAnsible as early as possible in the test execution.\n\nThe intent is when tests are executed outside of\nOpenStack-CI, a thin layer sets up an Ansible venv\nand executes the tests like zuul would. Inside\nOpenStack-CI we should be able to just execute the\nplays using zuul's Ansible.\n\nTODO:\n- Instead of executing the test scripts in qequence,\n  have something that can figure out the jobs for\n  the repository, then execute them using Ansible.\n\nChange-Id: I665aff4c5d5f6af167f0a10485f20d27a5537698\n""}]",0,556484,854aa259434f29b9bda6d0eb26e4b60b948d9a8d,10,2,4,6816,,,0,"[WIP] Remove tox from lint/functional testing

Using tox adds an unnecessary layer of misdirection
to the testing setup. This patch aims to remove that
extra layer in such a way that we can make use of
Ansible as early as possible in the test execution.

The intent is when tests are executed outside of
OpenStack-CI, a thin layer sets up an Ansible venv
and executes the tests like zuul would. Inside
OpenStack-CI we should be able to just execute the
plays using zuul's Ansible.

TODO:
- Instead of executing the test scripts in qequence,
  have something that can figure out the jobs for
  the repository, then execute them using Ansible.

Change-Id: I665aff4c5d5f6af167f0a10485f20d27a5537698
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/84/556484/4 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', '.gitignore', 'run_tests_common.sh']",3,e0f1be452bea475ff4449471a9af6af48d8b5d26,simplify-osa-role-tests,"# Copyright 2015-2018, Rackspace US, Inc.## Shell Opts ---------------------------------------------------------------- set -o pipefail set -xeu ## Prerequisite check -------------------------------------------------------- # Check whether the require environment variables are set. if [[ -z ${WORKING_DIR+x} ]] ||\ [[ -z ${COMMON_TESTS_PATH+x} ]] ||\ [[ -z ${TESTING_HOME+x} ]] ||\ [[ -z ${TESTING_BRANCH+x} ]]; then echo ""Required environment variables are not set."" echo ""Please ensure that run_tests.sh is used to execute tests."" fi ## Vars ---------------------------------------------------------------------- # The bindep file in the tests repo contains the basic # distribution packages required in order to install # pip, and Ansible via pip. BINDEP_FILE=""${BINDEP_FILE:-$COMMON_TESTS_PATH/bindep.txt}"" # Use pip opts to add options to the pip install command. # This can be used to tell it which index to use, etc. PIP_OPTS=${PIP_OPTS:-""""} # Figure out the version of python is being used PYTHON_EXEC_PATH=""${PYTHON_EXEC_PATH:-$(which python3 || which python2 || which python)}"" PYTHON_VERSION=""$($PYTHON_EXEC_PATH -c 'import sys; print(""."".join(map(str, sys.version_info[:3])))')"" # Use https when Python with native SNI support is available UPPER_CONSTRAINTS_PROTO=$([ ""$PYTHON_VERSION"" == $(echo -e ""$PYTHON_VERSION\n2.7.9"" | sort -V | tail -1) ] && echo ""https"" || echo ""http"") # Set the constraints file to use for the installation of pip and ansible PIP_CONSTRAINTS1=""$UPPER_CONSTRAINTS_PROTO://git.openstack.org/cgit/openstack/openstack-ansible/plain/global-requirement-pins.txt?h=$TESTING_BRANCH"" PIP_CONSTRAINTS2=${UPPER_CONSTRAINTS_FILE:-""$UPPER_CONSTRAINTS_PROTO://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=$TESTING_BRANCH""} # Add the constraints to PIP_OPTS PIP_OPTS+="" --constraint ${PIP_CONSTRAINTS1}"" PIP_OPTS+="" --constraint ${PIP_CONSTRAINTS2}"" # The path to create the venv for test usage TEST_VENV_PATH=""${ANSIBLE_VENV_PATH:-$COMMON_TESTS_PATH/test-venv}"" # Force stdin, stdout and stderr to be totally unbuffered. export PYTHONUNBUFFERED=1 ## Functions ----------------------------------------------------------------- function get_pip { # The python executable to use when executing get-pip is passed # as a parameter to this function. GETPIP_PYTHON_EXEC_PATH=""${1:-$(which python)}"" # Download the get-pip script using the primary or secondary URL GETPIP_CMD=""curl --silent --show-error --retry 5"" GETPIP_FILE=""/tmp/get-pip.py"" GETPIP_URL1=""https://bootstrap.pypa.io/get-pip.py"" GETPIP_URL2=""https://raw.githubusercontent.com/pypa/get-pip/master/get-pip.py"" # If GET_PIP_URL is set, then just use it if [ -n ""${GET_PIP_URL:-}"" ]; then ${GETPIP_CMD} ${GET_PIP_URL} > ${GETPIP_FILE} else # Otherwise, try the two standard URL's ${GETPIP_CMD} ${GETPIP_URL1} > ${GETPIP_FILE}\ || ${GETPIP_CMD} ${GETPIP_URL2} > ${GETPIP_FILE} fi ${GETPIP_PYTHON_EXEC_PATH} ${GETPIP_FILE} ${PIP_OPTS} \ pip setuptools wheel } function install_virtualenv { # Install virtualenv if it is not already installed, # but also make sure it is at least version 13.x or above # so that it supports using the no-pip, no-setuptools # and no-wheels options (the last one was added in v13.0.0). VIRTUALENV_VERSION=$(virtualenv --version 2>/dev/null | cut -d. -f1) if [[ ""${VIRTUALENV_VERSION}"" -lt ""13"" ]]; then # Install pip on the host if it is not already installed, # but also make sure that it is at least version 7.x or above # so that it supports the use of the constraint option which # was added in pip 7.1. PIP_VERSION=$(pip --version 2>/dev/null | awk '{print $2}' | cut -d. -f1) if [[ ""${PIP_VERSION}"" -lt ""7"" ]]; then get_pip ${PYTHON_EXEC_PATH} # Ensure that our shell knows about the new pip sudo hash -r pip fi sudo pip install ${PIP_OPTS} \ virtualenv # Ensure that our shell knows about the new pip sudo hash -r virtualenv fi } function install_test_requirements { # Create a Virtualenv for the Ansible runtime virtualenv --python=${PYTHON_EXEC_PATH} \ --clear \ --no-pip --no-setuptools --no-wheel \ ${TEST_VENV_PATH} # Install pip, setuptools and wheel into the venv get_pip ${TEST_VENV_PATH}/bin/python # The vars used to prepare the Ansible runtime venv PIP_COMMAND=""${TEST_VENV_PATH}/bin/pip"" # Install ansible and the other required packages ${PIP_COMMAND} install ${PIP_OPTS} \ --requirement ${WORKING_DIR}/tests/common/test-ansible-deps.txt # Add SELinux support to the venv if [ -d ""/usr/lib64/python2.7/site-packages/selinux/"" ]; then rsync -avX /usr/lib64/python2.7/site-packages/selinux/ ${TEST_VENV_PATH}/lib64/python2.7/selinux/ fi } ## Main ----------------------------------------------------------------------# Install pip/virtualenv install_virtualenvsudo pip install ${PIP_OPTS} 'bindep>=2.4.0' tox# Install Ansible install_test_requirements # Execute pep8 tests ${COMMON_TESTS_PATH}/test-pep8.sh # Execute bashate tests ${COMMON_TESTS_PATH}/test-bashate.sh # Execute ansible syntax tests ${COMMON_TESTS_PATH}/test-ansible-syntax.sh # Execute ansible lint tests ${COMMON_TESTS_PATH}/test-ansible-lint.sh # Execute functional tests ${COMMON_TESTS_PATH}/test-ansible-functional.sh","# Copyright 2015, Rackspace US, Inc.set -o pipefail set -euov BINDEP_FILE=${BINDEP_FILE:-bindep.txt}# Install pip if ! which pip &>/dev/null; then curl --silent --show-error --retry 5 \ https://bootstrap.pypa.io/get-pip.py | sudo python2.7 fisudo pip install 'bindep>=2.4.0' tox# Get envlist in a $env1,$env2,...,$envn format toxenvs=""$(tox -l | tr '\n' ',' | sed 's/,$//')"" # Execute all $toxenvs or only a specific one tox -e ""${1:-$toxenvs}"" # vim: set ts=4 sw=4 expandtab:",189,22
openstack%2Fopenstack-ansible~master~Iedfd8481718b59e63fa6aed7c2ffaa615d7da000,openstack/openstack-ansible,master,Iedfd8481718b59e63fa6aed7c2ffaa615d7da000,Implement unbound client config in containers as early as possible,ABANDONED,2018-05-30 11:52:44.000000000,2019-08-07 15:40:11.000000000,,"[{'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-30 11:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6f74aeb47907b7f5305da2ad5f38ef65ab822a5', 'message': 'Implement unbound client config in containers as early as possible\n\nThe JIT implementation of the unbound client config is at odds with\nthe way that the pip install and proxy configuration is done in that:\n\n1. For apt to update after configuring the proxy, it needs working DNS\n   resolution.\n2. For the pip_install role to execute successfully, it needs working\n   DNS resolution.\n\nAs such we need to revert them implementation of the JIT unbound client\nconfiguration and do it once for all containers immediately after their\ncreation.\n\nChange-Id: Iedfd8481718b59e63fa6aed7c2ffaa615d7da000\nCloses-Bug: #1758144\n'}, {'number': 2, 'created': '2018-05-30 11:56:35.000000000', 'files': ['playbooks/rsyslog-install.yml', 'playbooks/os-congress-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-rally-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/os-sahara-install.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-molteniron-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/os-designate-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-ironic-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f2c8b757b432a588cc9edd141ca32a9417b18aa5', 'message': 'Implement unbound client config in containers as early as possible\n\nThe JIT implementation of the unbound client config is at odds with\nthe way that the pip install and proxy configuration is done in that:\n\n1. For apt to update after configuring the proxy, it needs working DNS\n   resolution.\n2. For the pip_install role to execute successfully, it needs working\n   DNS resolution.\n\nAs such we need to revert them implementation of the JIT unbound client\nconfiguration and do it once for all containers immediately after their\ncreation.\n\nChange-Id: Iedfd8481718b59e63fa6aed7c2ffaa615d7da000\nCloses-Bug: #1758144\n'}]",1,571178,f2c8b757b432a588cc9edd141ca32a9417b18aa5,8,4,2,6816,,,0,"Implement unbound client config in containers as early as possible

The JIT implementation of the unbound client config is at odds with
the way that the pip install and proxy configuration is done in that:

1. For apt to update after configuring the proxy, it needs working DNS
   resolution.
2. For the pip_install role to execute successfully, it needs working
   DNS resolution.

As such we need to revert them implementation of the JIT unbound client
configuration and do it once for all containers immediately after their
creation.

Change-Id: Iedfd8481718b59e63fa6aed7c2ffaa615d7da000
Closes-Bug: #1758144
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/571178/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/rsyslog-install.yml', 'playbooks/os-congress-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-rally-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/os-sahara-install.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-trove-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/common-playbooks/neutron.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-molteniron-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/os-designate-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-ironic-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml']",31,b6f74aeb47907b7f5305da2ad5f38ef65ab822a5,bug/1758144,, - include: common-tasks/unbound-clients.yml static: no when: - hostvars['localhost']['resolvconf_enabled'] | bool,4,131
openstack%2Fopenstack-ansible-tests~master~I5b7d5829f35965c594c9c57c2062bab93b655569,openstack/openstack-ansible-tests,master,I5b7d5829f35965c594c9c57c2062bab93b655569,Use the TESTING_BRANCH env var for constraints,ABANDONED,2018-07-01 14:01:39.000000000,2019-08-07 15:40:03.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-01 14:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8778e0ad8a362d107859409a2cabee6d436e1a2a', 'message': ""Use the TESTING_BRANCH env var for constraints\n\nThe TESTING_BRANCH environment variable is provided by the\nrun_tests.sh script and is derived from the .gitreview file.\n\nThis ensures that once the master branch becomes a stable\nbranch, the constraints from the stable branch in the\nintegrated repository will automatically get used once the\n.gitreview file is updated.\n\nTo achieve this benefit, however, we no force the use of\nrun_tests.sh to execute tests instead of allowing the use\nof 'tox -e ...' after the initial setup. As such, we check\nfor the presence of the required environment variables which\nshould be setup by run_tests.sh and if they're not there,\nthen we exist and inform the user.\n\nChange-Id: I5b7d5829f35965c594c9c57c2062bab93b655569\n""}, {'number': 2, 'created': '2018-07-01 15:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/dceb701a5c54785e8d3a8b76bbf9e3fb60171c46', 'message': ""Use the TESTING_BRANCH env var for constraints\n\nThe TESTING_BRANCH environment variable is provided by the\nrun_tests.sh script and is derived from the .gitreview file.\n\nThis ensures that once the master branch becomes a stable\nbranch, the constraints from the stable branch in the\nintegrated repository will automatically get used once the\n.gitreview file is updated.\n\nTo achieve this benefit, however, we no force the use of\nrun_tests.sh to execute tests instead of allowing the use\nof 'tox -e ...' after the initial setup. As such, we check\nfor the presence of the required environment variables which\nshould be setup by run_tests.sh and if they're not there,\nthen we exist and inform the user.\n\nTo ensure that the required environment variables are present\nwe export them appropriately in run_tests.sh and modify the\ntox configuration to pass them into the tox test.\n\nChange-Id: I5b7d5829f35965c594c9c57c2062bab93b655569\n""}, {'number': 3, 'created': '2018-07-02 08:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d29a36df2844ad453469b02a12899ea4b2187dde', 'message': ""Use the TESTING_BRANCH env var for constraints\n\nThe TESTING_BRANCH environment variable is provided by the\nrun_tests.sh script and is derived from the .gitreview file.\n\nThis ensures that once the master branch becomes a stable\nbranch, the constraints from the stable branch in the\nintegrated repository will automatically get used once the\n.gitreview file is updated.\n\nTo achieve this benefit, however, we no force the use of\nrun_tests.sh to execute tests instead of allowing the use\nof 'tox -e ...' after the initial setup. As such, we check\nfor the presence of the required environment variables which\nshould be setup by run_tests.sh and if they're not there,\nthen we exist and inform the user.\n\nTo ensure that the required environment variables are present\nwe export them appropriately in run_tests.sh and modify the\ntox configuration to pass them into the tox test.\n\nChange-Id: I5b7d5829f35965c594c9c57c2062bab93b655569\n""}, {'number': 4, 'created': '2018-08-06 08:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/48cb699d307a6ffba0f72ddb008f2a335d5e708f', 'message': ""Use the TESTING_BRANCH env var for constraints\n\nThe TESTING_BRANCH environment variable is provided by the\nrun_tests.sh script and is derived from the .gitreview file.\n\nThis ensures that once the master branch becomes a stable\nbranch, the constraints from the stable branch in the\nintegrated repository will automatically get used once the\n.gitreview file is updated.\n\nTo achieve this benefit, however, we now force the use of\nrun_tests.sh to execute tests instead of allowing the use\nof 'tox -e ...' after the initial setup. As such, we check\nfor the presence of the required environment variables which\nshould be setup by run_tests.sh and if they're not there,\nthen we exist and inform the user.\n\nTo ensure that the required environment variables are present\nwe export them appropriately in run_tests.sh and modify the\ntox configuration to pass them into the tox test.\n\nChange-Id: I5b7d5829f35965c594c9c57c2062bab93b655569\n""}, {'number': 5, 'created': '2018-08-06 08:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/df618f29bc06c63dd969efe1162e5419c288425a', 'message': ""Use the TESTING_BRANCH env var for constraints\n\nThe TESTING_BRANCH environment variable is provided by the\nrun_tests.sh script and is derived from the .gitreview file.\n\nThis ensures that once the master branch becomes a stable\nbranch, the constraints from the stable branch in the\nintegrated repository will automatically get used once the\n.gitreview file is updated.\n\nTo achieve this benefit, however, we now force the use of\nrun_tests.sh to execute tests instead of allowing the use\nof 'tox -e ...' after the initial setup. As such, we check\nfor the presence of the required environment variables which\nshould be setup by run_tests.sh and if they're not there,\nthen we exist and inform the user.\n\nTo ensure that the required environment variables are present\nwe export them appropriately in run_tests.sh and modify the\ntox configuration to pass them into the tox test.\n\nChange-Id: I5b7d5829f35965c594c9c57c2062bab93b655569\n""}, {'number': 6, 'created': '2018-08-06 09:28:46.000000000', 'files': ['run_tests.sh', 'test-ansible-env-prep.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/64999337a2616a5f1ce593640096a77d5ce3a824', 'message': ""Use the TESTING_BRANCH env var for constraints\n\nThe TESTING_BRANCH environment variable is provided by the\nrun_tests.sh script and is derived from the .gitreview file.\n\nThis ensures that once the master branch becomes a stable\nbranch, the constraints from the stable branch in the\nintegrated repository will automatically get used once the\n.gitreview file is updated.\n\nTo achieve this benefit, however, we now force the use of\nrun_tests.sh to execute tests instead of allowing the use\nof 'tox -e ...' after the initial setup. As such, we check\nfor the presence of the required environment variables which\nshould be setup by run_tests.sh and if they're not there,\nthen we exit and inform the user.\n\nTo ensure that the required environment variables are present\nwe export them appropriately in run_tests.sh and modify the\ntox configuration to pass them into the tox test.\n\nChange-Id: I5b7d5829f35965c594c9c57c2062bab93b655569\n""}]",1,579371,64999337a2616a5f1ce593640096a77d5ce3a824,17,3,6,6816,,,0,"Use the TESTING_BRANCH env var for constraints

The TESTING_BRANCH environment variable is provided by the
run_tests.sh script and is derived from the .gitreview file.

This ensures that once the master branch becomes a stable
branch, the constraints from the stable branch in the
integrated repository will automatically get used once the
.gitreview file is updated.

To achieve this benefit, however, we now force the use of
run_tests.sh to execute tests instead of allowing the use
of 'tox -e ...' after the initial setup. As such, we check
for the presence of the required environment variables which
should be setup by run_tests.sh and if they're not there,
then we exit and inform the user.

To ensure that the required environment variables are present
we export them appropriately in run_tests.sh and modify the
tox configuration to pass them into the tox test.

Change-Id: I5b7d5829f35965c594c9c57c2062bab93b655569
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/71/579371/6 && git format-patch -1 --stdout FETCH_HEAD,"['test-ansible-env-prep.sh', 'tox.ini']",2,8778e0ad8a362d107859409a2cabee6d436e1a2a,common-role-python-reqs, TESTING_BRANCH,,14,4
openstack%2Fopenstack-ansible-tests~master~Ia21b6a2423072f4787b75fdb2a55257ef7f614dc,openstack/openstack-ansible-tests,master,Ia21b6a2423072f4787b75fdb2a55257ef7f614dc,Make run_tests_common idempotent,ABANDONED,2018-07-01 14:37:23.000000000,2019-08-07 15:39:58.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-07-01 14:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ae3b28a9c1cdb4d8f44f63b97238df77efc82a5c', 'message': ""Make run_tests_common idempotent\n\nWith the increase in the forced use of run_tests.sh for test\npurposes, it's qute painful for the apt cache and package\ninstall changes to execute every time unnecessarily. This\npatch makes the script execution idempotent to cut down on\nlog noise and time taken for a happier, healthier developer\nlife.\n\nChange-Id: Ia21b6a2423072f4787b75fdb2a55257ef7f614dc\n""}, {'number': 2, 'created': '2018-07-01 15:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3c6ce38362f4e03c82a6f6915373c1ba395302ca', 'message': ""Make run_tests_common idempotent\n\nWith the increase in the forced use of run_tests.sh for test\npurposes, it's qute painful for the apt cache and package\ninstall changes to execute every time unnecessarily. This\npatch makes the script execution idempotent to cut down on\nlog noise and time taken for a happier, healthier developer\nlife.\n\nChange-Id: Ia21b6a2423072f4787b75fdb2a55257ef7f614dc\n""}, {'number': 3, 'created': '2018-07-02 09:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7603cf730f39aea2786d1659104dceface22ff1f', 'message': ""Make run_tests_common idempotent\n\nWith the increase in the forced use of run_tests.sh for test\npurposes, it's qute painful for the apt cache and package\ninstall changes to execute every time unnecessarily. This\npatch makes the script execution idempotent to cut down on\nlog noise and time taken for a happier, healthier developer\nlife.\n\nChange-Id: Ia21b6a2423072f4787b75fdb2a55257ef7f614dc\n""}, {'number': 4, 'created': '2018-08-06 09:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/80c911df01eecb79d952164778acdd1ac9a05192', 'message': ""Make run_tests_common idempotent\n\nWith the increase in the forced use of run_tests.sh for test\npurposes, it's qute painful for the apt cache and package\ninstall changes to execute every time unnecessarily. This\npatch makes the script execution idempotent to cut down on\nlog noise and time taken for a happier, healthier developer\nlife.\n\nChange-Id: Ia21b6a2423072f4787b75fdb2a55257ef7f614dc\n""}, {'number': 5, 'created': '2018-08-06 09:33:07.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/404bb09f431a2fbc1081c242850c492754367784', 'message': ""Make run_tests_common idempotent\n\nWith the increase in the forced use of run_tests.sh for test\npurposes, it's qute painful for the apt cache and package\ninstall changes to execute every time unnecessarily. This\npatch makes the script execution idempotent to cut down on\nlog noise and time taken for a happier, healthier developer\nlife.\n\nChange-Id: Ia21b6a2423072f4787b75fdb2a55257ef7f614dc\n""}]",1,579372,404bb09f431a2fbc1081c242850c492754367784,18,6,5,6816,,,0,"Make run_tests_common idempotent

With the increase in the forced use of run_tests.sh for test
purposes, it's qute painful for the apt cache and package
install changes to execute every time unnecessarily. This
patch makes the script execution idempotent to cut down on
log noise and time taken for a happier, healthier developer
life.

Change-Id: Ia21b6a2423072f4787b75fdb2a55257ef7f614dc
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/72/579372/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,ae3b28a9c1cdb4d8f44f63b97238df77efc82a5c,common-role-python-reqs,"# To prevent this script from doing an apt cache update or # installing the pre-requisite packages for pip/bindep/tox # every time it runs, we check for the presence of pip/bindep # and only execute the installation of the packages if one is # not present. if ! hash pip 2>/dev/null || ! hash bindep 2>/dev/null || ! hash tox 2>/dev/null; then # Perform the initial distribution package install # to allow pip and bindep to work. case ""${ID,,}"" in esac eval sudo ${pkg_mgr_cmd} ${pkg_list} # Install pip if it is not yet installed if ! hash pip 2>/dev/null; then fi # Initialize the pip_pkgs env var with the base required packages pip_pkgs=""bindep tox"" if [[ ""${ID,,}"" == *suse* ]] && [[ ${VERSION} == ""42.1"" ]]; then pip_pkgs+=""ndg-httpsclient"" fi # Install the missing pip packages PIP_OPTS=""--disable-pip-version-check --upgrade --upgrade-strategy only-if-needed"" sudo pip install ${PIP_OPTS} ${pip_pkgs}","# Perform the initial distribution package install # to allow pip and bindep to work. case ""${ID,,}"" inesac eval sudo ${pkg_mgr_cmd} ${pkg_list} # Install pip if ! which pip &>/dev/null; thenfi # Install bindep and tox sudo pip install 'bindep>=2.4.0' tox if [[ ""${ID,,}"" == ""fedora"" ]]; then sudo dnf -y install redhat-lsb-core yum-utils # openSUSE 42.1 does not have python-ndg-httpsclient elif [[ ""${ID,,}"" == *suse* ]] && [[ ${VERSION} == ""42.1"" ]]; then sudo pip install ndg-httpsclient # vim: set ts=4 sw=4 expandtab:",23,17
openstack%2Fopenstack-ansible-tests~master~Ie37e9f79273a459ec714b555955129f7fce78025,openstack/openstack-ansible-tests,master,Ie37e9f79273a459ec714b555955129f7fce78025,Install hacking first and let it pull in right linter versions,ABANDONED,2018-07-02 13:40:53.000000000,2019-08-07 15:39:51.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 13:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/14a8b55e266f4edc08f2b24d4c409e9ca6e8d3c9', 'message': 'Install hacking first and let it pull in right linter versions\n\nhacking pulls in the right versions of flake8 and flake8 does\ndepend on the right versions of mccabe, flake8, pycodestyle by itself,\nso install that one first and remove the explicit listing of those\ndependencies.\n\nChange-Id: Ie37e9f79273a459ec714b555955129f7fce78025\n'}, {'number': 2, 'created': '2018-07-02 13:42:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5e2dfa8e8e5f60547ef0a30ef9a7d4938c2cd043', 'message': 'Install hacking first and let it pull in right linter versions\n\nhacking pulls in the right versions of flake8 and flake8 does\ndepend on the right versions of mccabe, flake8, pycodestyle by itself,\nso install that one first and remove the explicit listing of those\ndependencies.\n\nThis relates to https://review.openstack.org/515374\n\nChange-Id: Ie37e9f79273a459ec714b555955129f7fce78025\n'}]",0,579562,5e2dfa8e8e5f60547ef0a30ef9a7d4938c2cd043,5,2,2,6816,,,0,"Install hacking first and let it pull in right linter versions

hacking pulls in the right versions of flake8 and flake8 does
depend on the right versions of mccabe, flake8, pycodestyle by itself,
so install that one first and remove the explicit listing of those
dependencies.

This relates to https://review.openstack.org/515374

Change-Id: Ie37e9f79273a459ec714b555955129f7fce78025
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/62/579562/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,14a8b55e266f4edc08f2b24d4c409e9ca6e8d3c9,bp/python-build-install-simplification,"# Keep hacking first, it pulls in the right versions of flake8, mccabe and pyflakes hacking<0.11,>=0.10.0","flake8<2.6.0,>=2.5.4 # MIT",2,1
openstack%2Fopenstack-ansible-os_tacker~stable%2Fqueens~I944a8163a34b51258a4f0da92cfcd6f046fd1961,openstack/openstack-ansible-os_tacker,stable/queens,I944a8163a34b51258a4f0da92cfcd6f046fd1961,Clean up role tests,ABANDONED,2018-09-19 19:29:59.000000000,2019-08-07 15:39:44.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-19 19:29:59.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/085cee116e97ef032e0d79c613e4b748afa43e12', 'message': ""Clean up role tests\n\nNow that we're using the general templates, we can slim down\nthe role test definitions. We can also remove tests which are\nnot being watched, or which are fundamentally broken. With\nthis we can also remove unused scripts/plays.\n\nWe do the following:\n\n1. We remove the 'ssl' job, given that the person working on\n   that is no longer doing so, and no-one else has picked up\n   the work.\n2. We remove the 'func_base' and 'func_log'. They are unused\n   relics of the past.\n\nChange-Id: I944a8163a34b51258a4f0da92cfcd6f046fd1961\n(cherry picked from commit 8b9b70845f27b86301a38736f502652bf4770394)\n""}]",0,603883,085cee116e97ef032e0d79c613e4b748afa43e12,5,2,1,6816,,,0,"Clean up role tests

Now that we're using the general templates, we can slim down
the role test definitions. We can also remove tests which are
not being watched, or which are fundamentally broken. With
this we can also remove unused scripts/plays.

We do the following:

1. We remove the 'ssl' job, given that the person working on
   that is no longer doing so, and no-one else has picked up
   the work.
2. We remove the 'func_base' and 'func_log'. They are unused
   relics of the past.

Change-Id: I944a8163a34b51258a4f0da92cfcd6f046fd1961
(cherry picked from commit 8b9b70845f27b86301a38736f502652bf4770394)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/83/603883/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml']",3,085cee116e97ef032e0d79c613e4b748afa43e12,cleanup-role-tests-stable/queens,,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-tacker-ssl-nv parent: openstack-ansible-functional-ubuntu-xenial voting: false vars: tox_env: ssl ",0,45
openstack%2Fopenstack-ansible~master~I3585bbcf950153fa885c9bdd384b7a5b2c84ccfc,openstack/openstack-ansible,master,I3585bbcf950153fa885c9bdd384b7a5b2c84ccfc,[WIP] Add custom playbook examples,ABANDONED,2018-10-22 15:37:23.000000000,2019-08-07 15:39:22.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-22 15:37:23.000000000', 'files': ['doc/source/user/custom-playbook-examples/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91591c357c52a1e52167b52806107cad5ed2545e', 'message': '[WIP] Add custom playbook examples\n\nChange-Id: I3585bbcf950153fa885c9bdd384b7a5b2c84ccfc\n'}]",0,612425,91591c357c52a1e52167b52806107cad5ed2545e,4,2,1,6816,,,0,"[WIP] Add custom playbook examples

Change-Id: I3585bbcf950153fa885c9bdd384b7a5b2c84ccfc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/612425/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/custom-playbook-examples/index.rst'],1,91591c357c52a1e52167b52806107cad5ed2545e,,"================================= Using your own playbooks with OSA ================================= It is possible to use the OpenStack-Ansible inventory for your own playbooks, allowing you access to implement anything you want for operational activities. Example for using Ansible OpenStack modules ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The deployment host already has the correct requirements available to run all the Ansible OpenStack modules, and also has the ``~/.config/openstack/clouds.yaml`` file present in order to manipulate your OpenStack environment as the Cloud Administrator. So, for example, consider the following playbook: .. code-block:: yaml - name: Create OpenStack instance hosts: localhost connection: local gather_facts: False tasks: - name: Create/delete OpenStack Instances os_server: name: instance1 flavor: tempest1 state: present cloud: default interface: internal region_name: RegionOne image: cirros config_drive: yes wait: yes timeout: 900 When executed as follows: .. code-block:: console # openstack-ansible my-playbook.yml The following will happen due to the use of the ``openstack-ansible`` CLI: # The ``/etc/user_*.yml`` override files will be added as ``--extra-vars`` to the playbook run. # The OSA dynamic inventory will be loaded, and therefore there will be access in the playbook to all OSA hosts, containers and plugins/modules. # The OSA virtualenv will be loaded, and therefore all of the Ansible OpenStack modules will work without requiring any further package installs. ",,52,0
openstack%2Fopenstack-ansible-os_barbican~master~I5bb076cb0854bcd5d542e84dac8a92683243908f,openstack/openstack-ansible-os_barbican,master,I5bb076cb0854bcd5d542e84dac8a92683243908f,Remove unnecessary package install duplication,ABANDONED,2018-10-30 19:18:10.000000000,2019-08-07 15:39:11.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-30 19:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/0f23544223ef51391671fbcb43b9e722a4b120bd', 'message': 'Remove unnecessary package install duplication\n\nCurrently the devel packages are installed everywhere,\nbut they only need to be where the wheels are built.\n\nAlso, there is already a task to install the packages\nneeded on the target hosts when installing - so we do\nnot need to give the same list to the venv install role\nbecause they will already have been installed.\n\nChange-Id: I5bb076cb0854bcd5d542e84dac8a92683243908f\n'}, {'number': 2, 'created': '2018-10-30 19:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/9be8adb735a500f559f1b5d9041b9f98a62c9ac7', 'message': 'Remove unnecessary package install duplication\n\nCurrently the devel packages are installed everywhere,\nbut they only need to be where the wheels are built.\n\nAlso, there is already a task to install the packages\nneeded on the target hosts when installing - so we do\nnot need to give the same list to the venv install role\nbecause they will already have been installed.\n\nFinally, we remove the unnecessary installation of the\ncompiling packages because the python venv build role\nalready does it.\n\nDepends-On: https://review.openstack.org/613585\nChange-Id: I5bb076cb0854bcd5d542e84dac8a92683243908f\n'}, {'number': 3, 'created': '2018-11-20 15:59:20.000000000', 'files': ['vars/source_install.yml', 'tasks/barbican_install_source.yml', 'vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/2d8d53af6c0789667209d3b869bf1fd6ab3cd525', 'message': 'Remove unnecessary package install duplication\n\nCurrently the devel packages are installed everywhere,\nbut they only need to be where the wheels are built.\n\nAlso, there is already a task to install the packages\nneeded on the target hosts when installing - so we do\nnot need to give the same list to the venv install role\nbecause they will already have been installed.\n\nFinally, we remove the unnecessary installation of the\ncompiling packages because the python venv build role\nalready does it.\n\nDepends-On: https://review.openstack.org/619024\nChange-Id: I5bb076cb0854bcd5d542e84dac8a92683243908f\n'}]",0,614336,2d8d53af6c0789667209d3b869bf1fd6ab3cd525,21,3,3,6816,,,0,"Remove unnecessary package install duplication

Currently the devel packages are installed everywhere,
but they only need to be where the wheels are built.

Also, there is already a task to install the packages
needed on the target hosts when installing - so we do
not need to give the same list to the venv install role
because they will already have been installed.

Finally, we remove the unnecessary installation of the
compiling packages because the python venv build role
already does it.

Depends-On: https://review.openstack.org/619024
Change-Id: I5bb076cb0854bcd5d542e84dac8a92683243908f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/36/614336/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/source_install.yml', 'tasks/barbican_install_source.yml']",2,0f23544223ef51391671fbcb43b9e722a4b120bd,reduce-unnecessary-package-installs,," venv_install_distro_package_list: ""{{ barbican_distro_packages }}""",1,2
openstack%2Fopenstack-ansible-os_cloudkitty~master~I38ec583aa9229e7cf25c3051b9f1678b4d31bbfd,openstack/openstack-ansible-os_cloudkitty,master,I38ec583aa9229e7cf25c3051b9f1678b4d31bbfd,Remove unnecessary package install duplication,ABANDONED,2018-10-30 19:50:18.000000000,2019-08-07 15:38:51.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-10-30 19:50:18.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/ad47c02257bb77cbcbf4546fe9a682aeca037d68', 'message': ""Remove unnecessary package install duplication\n\nWe remove the unnecessary installation of the\ncompiling packages because the python venv build role\nalready does it. We also move the git package install\nto the devel package list because it's only needed\nwhere the wheels are built.\n\nDepends-On: https://review.openstack.org/613585\nChange-Id: I38ec583aa9229e7cf25c3051b9f1678b4d31bbfd\n""}]",0,614343,ad47c02257bb77cbcbf4546fe9a682aeca037d68,7,4,1,6816,,,0,"Remove unnecessary package install duplication

We remove the unnecessary installation of the
compiling packages because the python venv build role
already does it. We also move the git package install
to the devel package list because it's only needed
where the wheels are built.

Depends-On: https://review.openstack.org/613585
Change-Id: I38ec583aa9229e7cf25c3051b9f1678b4d31bbfd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/43/614343/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml']",3,ad47c02257bb77cbcbf4546fe9a682aeca037d68,reduce-unnecessary-package-installs, - git-core, - git-core - pkg-config,2,6
openstack%2Fopenstack-ansible~master~I4c5c6915e14449b34ca8750049fc0a4932b10a83,openstack/openstack-ansible,master,I4c5c6915e14449b34ca8750049fc0a4932b10a83,Always use source installs for tempest on ubuntu,ABANDONED,2018-11-23 13:19:56.000000000,2019-08-07 15:38:43.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-23 13:19:56.000000000', 'files': ['playbooks/defaults/distro_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b2e32fb7937d8c664bb26cd656c67e810837fc38', 'message': 'Always use source installs for tempest on ubuntu\n\nUbuntu does not publish tempest plugin packages. They do\nall their testing using the source-based installation of\ntempest. As such, for all ubuntu distribution tests we\nforce the use of the source install for tempest.\n\nChange-Id: I4c5c6915e14449b34ca8750049fc0a4932b10a83\n'}]",0,619732,b2e32fb7937d8c664bb26cd656c67e810837fc38,8,4,1,6816,,,0,"Always use source installs for tempest on ubuntu

Ubuntu does not publish tempest plugin packages. They do
all their testing using the source-based installation of
tempest. As such, for all ubuntu distribution tests we
force the use of the source install for tempest.

Change-Id: I4c5c6915e14449b34ca8750049fc0a4932b10a83
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/32/619732/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/distro_install.yml'],1,b2e32fb7937d8c664bb26cd656c67e810837fc38,ubuntu-tempest-distro,"# Note(odyssey4me): # Ubuntu does not publish tempest plugin packages. They do # all their testing using the source-based installation of # tempest. As such, for all ubuntu distribution tests we # force the use of the source install for tempest. tempest_install_method: ""{{ (ansible_distribution | lower == 'ubuntu') | ternary('source', 'distro') }}"" ",tempest_install_method: distro,7,1
openstack%2Fopenstack-ansible-os_keystone~master~Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103,openstack/openstack-ansible-os_keystone,master,Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103,Allow messaging to be disabled,ABANDONED,2018-12-04 18:49:09.000000000,2019-08-07 15:38:37.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2018-12-04 18:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fa7b79d438bbcf56fcba6262a6b02518355488d2', 'message': 'Allow messaging to be disabled\n\nIn recent changes, the conditions which used keystone_messaging_enabled\nto skip adding the messaging config into keystone.conf and skip adding\nthe MQ users were removed.\n\nThis is sometimes useful in tests, so we add them back.\n\nChange-Id: Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103\n'}, {'number': 2, 'created': '2018-12-04 19:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5436d5859efbf8d1f27cb09293f17f66ee5e8022', 'message': 'Allow messaging to be disabled\n\nIn recent changes, the conditions which used keystone_messaging_enabled\nto skip adding the messaging config into keystone.conf and skip adding\nthe MQ users were removed.\n\nThis is sometimes useful in tests, so we add them back. We also make\nthe default value dynamic based on the inventory.\n\nChange-Id: Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103\n'}, {'number': 3, 'created': '2018-12-05 15:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7a31be211e4e54cd5fe057ef24a424c8fedc03c8', 'message': 'Allow messaging to be disabled\n\nIn recent changes, the conditions which used keystone_messaging_enabled\nto skip adding the messaging config into keystone.conf and skip adding\nthe MQ users were removed.\n\nThis is sometimes useful in tests, so we add them back. We also make\nthe default value dynamic based on the inventory.\n\nChange-Id: Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103\n'}, {'number': 4, 'created': '2018-12-05 15:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/faf8d969851ed51606a76d9bccf2bfa5b4e4c6ee', 'message': 'Allow messaging to be disabled\n\nIn recent changes, the conditions which used keystone_messaging_enabled\nto skip adding the messaging config into keystone.conf and skip adding\nthe MQ users were removed.\n\nThis is sometimes useful in tests, so we add them back. We also make\nthe default value dynamic based on the inventory.\n\nChange-Id: Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103\n'}, {'number': 5, 'created': '2019-01-10 18:03:31.000000000', 'files': ['templates/keystone.conf.j2', 'tasks/main.yml', 'tests/inventory', 'tests/test.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/702e59a36e162a91c9fd45c25ad9b1d28ac0658e', 'message': 'Allow messaging to be disabled\n\nIn recent changes, the conditions which used keystone_messaging_enabled\nto skip adding the messaging config into keystone.conf and skip adding\nthe MQ users were removed.\n\nThis is sometimes useful in tests, so we add them back. We also make\nthe default value dynamic based on the inventory.\n\nChange-Id: Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103\n'}]",0,622551,702e59a36e162a91c9fd45c25ad9b1d28ac0658e,15,3,5,6816,,,0,"Allow messaging to be disabled

In recent changes, the conditions which used keystone_messaging_enabled
to skip adding the messaging config into keystone.conf and skip adding
the MQ users were removed.

This is sometimes useful in tests, so we add them back. We also make
the default value dynamic based on the inventory.

Change-Id: Iad3c03fee1e643d6ca44e09d15bbc0dbbadc6103
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/51/622551/5 && git format-patch -1 --stdout FETCH_HEAD,"['templates/keystone.conf.j2', 'tasks/main.yml']",2,fa7b79d438bbcf56fcba6262a6b02518355488d2,622551, when: - keystone_messaging_enabled | bool,,4,0
openstack%2Fopenstack-ansible-os_nova~master~I1a74e2f259635d9e70671b806389afc3581f4a06,openstack/openstack-ansible-os_nova,master,I1a74e2f259635d9e70671b806389afc3581f4a06,Only enable oslo notifications when appropriate,ABANDONED,2019-01-07 15:55:59.000000000,2019-08-07 15:38:29.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-07 15:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8f587e4537c1c1281c75a324de686412c0b29543', 'message': 'Only enable oslo notifications when appropriate\n\nIn Ia66fe9a4c5c18f31fa50e06017389489be8c66a4 we changed the implementation\nfor nova.conf to always include the notifications, but if nothing is reading\nthe notifications then they build up and eventually make the rabbitmq service\nrun out of disk space, causing an outage.\n\nThe oslo messaging notification topics can now be customised for nova using\nthe ``nova_oslomsg_notify_topics`` list variable. By default it will be\npopulated based on the presence of integrated services such as ``ceilometer``\nand ``designate`` in the inventory. If the list is empty then notifications\nwill be disabled.\n\nThe variable ``nova_ceilometer_enabled`` has been renamed to\n``nova_oslomsg_notify_enabled`` to reflect its broader purpose. This variable\nwill be enabled by default if the host group ``ceilometer_all`` is populated,\nbut this may be changed via an override.\n\nChange-Id: I1a74e2f259635d9e70671b806389afc3581f4a06\n'}, {'number': 2, 'created': '2019-01-07 16:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/dede3cca4f562a0ab5398f3b6a5767d9882f996b', 'message': 'Only enable oslo notifications when appropriate\n\nIn Ia66fe9a4c5c18f31fa50e06017389489be8c66a4 we changed the implementation\nfor nova.conf to always include the notifications, but if nothing is reading\nthe notifications then they build up and eventually make the rabbitmq service\nrun out of disk space, causing an outage.\n\nThe oslo messaging notification topics can now be customised for nova using\nthe ``nova_oslomsg_notify_topics`` list variable. By default it will be\npopulated based on the presence of integrated services such as ``ceilometer``\nand ``designate`` in the inventory. If the list is empty then notifications\nwill be disabled.\n\nThe variable ``nova_ceilometer_enabled`` has been renamed to\n``nova_oslomsg_notify_enabled`` to reflect its broader purpose. This variable\nwill be enabled by default if the host group ``ceilometer_all`` is populated,\nbut this may be changed via an override.\n\nThis also resolves the issue where notifications are sent to the\n``versioned_notifications`` topic, but never consumed because ceilometer is\nnot deployed and nothing else is set to consume those messages. With this\npatch the state changes will not be published unless\n``nova_oslomsg_notify_enabled`` is True.\n\nRelated-Bug: #1803019\nChange-Id: I1a74e2f259635d9e70671b806389afc3581f4a06\n'}, {'number': 3, 'created': '2019-03-16 03:39:21.000000000', 'files': ['tasks/main.yml', 'templates/nova.conf.j2', 'releasenotes/notes/oslomsg-notify-changes-ef1c87ed1201fb54.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f0325bfd18d1d38a24c6440453c77ab66aa4d3ca', 'message': 'Only enable oslo notifications when appropriate\n\nIn Ia66fe9a4c5c18f31fa50e06017389489be8c66a4 we changed the implementation\nfor nova.conf to always include the notifications, but if nothing is reading\nthe notifications then they build up and eventually make the rabbitmq service\nrun out of disk space, causing an outage.\n\nThe oslo messaging notification topics can now be customised for nova using\nthe ``nova_oslomsg_notify_topics`` list variable. By default it will be\npopulated based on the presence of integrated services such as ``ceilometer``\nand ``designate`` in the inventory. If the list is empty then notifications\nwill be disabled.\n\nThe variable ``nova_ceilometer_enabled`` has been renamed to\n``nova_oslomsg_notify_enabled`` to reflect its broader purpose. This variable\nwill be enabled by default if the host group ``ceilometer_all`` is populated,\nbut this may be changed via an override.\n\nThis also resolves the issue where notifications are sent to the\n``versioned_notifications`` topic, but never consumed because ceilometer is\nnot deployed and nothing else is set to consume those messages. With this\npatch the state changes will not be published unless\n``nova_oslomsg_notify_enabled`` is True.\n\nRelated-Bug: #1803019\nChange-Id: I1a74e2f259635d9e70671b806389afc3581f4a06\n'}]",0,629005,f0325bfd18d1d38a24c6440453c77ab66aa4d3ca,9,3,3,6816,,,0,"Only enable oslo notifications when appropriate

In Ia66fe9a4c5c18f31fa50e06017389489be8c66a4 we changed the implementation
for nova.conf to always include the notifications, but if nothing is reading
the notifications then they build up and eventually make the rabbitmq service
run out of disk space, causing an outage.

The oslo messaging notification topics can now be customised for nova using
the ``nova_oslomsg_notify_topics`` list variable. By default it will be
populated based on the presence of integrated services such as ``ceilometer``
and ``designate`` in the inventory. If the list is empty then notifications
will be disabled.

The variable ``nova_ceilometer_enabled`` has been renamed to
``nova_oslomsg_notify_enabled`` to reflect its broader purpose. This variable
will be enabled by default if the host group ``ceilometer_all`` is populated,
but this may be changed via an override.

This also resolves the issue where notifications are sent to the
``versioned_notifications`` topic, but never consumed because ceilometer is
not deployed and nothing else is set to consume those messages. With this
patch the state changes will not be published unless
``nova_oslomsg_notify_enabled`` is True.

Related-Bug: #1803019
Change-Id: I1a74e2f259635d9e70671b806389afc3581f4a06
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/05/629005/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/nova.conf.j2', 'releasenotes/notes/oslomsg-notify-changes-ef1c87ed1201fb54.yaml', 'defaults/main.yml']",4,8f587e4537c1c1281c75a324de686412c0b29543,bug/1803019,"nova_oslomsg_notify_enabled: ""{{ oslomsg_notify_enabled | default(groups['ceilometer_all'] is defined and groups['ceilometer_all'] | length > 0) }}"" nova_oslomsg_notify_topics: - ""{{ (nova_oslomsg_notify_enabled | bool) | ternary('notifications', '') }}"" - ""{{ (nova_designate_enabled | bool) | ternary('notifications_designate', '') }}""",# Notification topics for designate. nova_notifications_designate: notifications_designate # Enable/Disable ceilometer configurations nova_ceilometer_enabled: False,24,10
openstack%2Fansible-hardening~stable%2Frocky~Idff86d4a90d3309f0e9ae3b9f0559b37e25dc26f,openstack/ansible-hardening,stable/rocky,Idff86d4a90d3309f0e9ae3b9f0559b37e25dc26f,Switch to using import_tasks for static inclusion,ABANDONED,2019-01-11 10:47:37.000000000,2019-08-07 15:38:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-01-11 10:47:37.000000000', 'files': ['tasks/main.yml', 'tasks/rhel7stig/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/c2724a6c5a46ba2279c8aada624c9ef20382e04f', 'message': 'Switch to using import_tasks for static inclusion\n\nUsing dynamic inclusion (include_tasks) should only be done\nif the tasks to include are based on a conditional and there\nis no expectation for the tag on the include task to be applied\nto all included tasks. Using include_tasks for static inclusion\ndramatically raises memory consumption. Using include_tasks also\nbreaks the ability to use a tag applied to the include.\n\nIn this patch we fix all inclusions to ensure that they are set\nproperly to dynamic or static inclusions where necessary.\n\nWe also remove the unnecessary leading whitespace in the main\ntask file.\n\nChange-Id: Idff86d4a90d3309f0e9ae3b9f0559b37e25dc26f\nCloses-Bug: #1800169\n(cherry picked from commit f381cc02af7914bbf4bcb081a64baafabbbd2a31)\n'}]",0,630139,c2724a6c5a46ba2279c8aada624c9ef20382e04f,5,2,1,6816,,,0,"Switch to using import_tasks for static inclusion

Using dynamic inclusion (include_tasks) should only be done
if the tasks to include are based on a conditional and there
is no expectation for the tag on the include task to be applied
to all included tasks. Using include_tasks for static inclusion
dramatically raises memory consumption. Using include_tasks also
breaks the ability to use a tag applied to the include.

In this patch we fix all inclusions to ensure that they are set
properly to dynamic or static inclusions where necessary.

We also remove the unnecessary leading whitespace in the main
task file.

Change-Id: Idff86d4a90d3309f0e9ae3b9f0559b37e25dc26f
Closes-Bug: #1800169
(cherry picked from commit f381cc02af7914bbf4bcb081a64baafabbbd2a31)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/39/630139/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/rhel7stig/main.yml']",2,c2724a6c5a46ba2279c8aada624c9ef20382e04f,629158,- import_tasks: async_tasks.yml- import_tasks: packages.yml- import_tasks: accounts.yml - import_tasks: aide.yml - import_tasks: auditd.yml - import_tasks: auth.yml - import_tasks: file_perms.yml - import_tasks: graphical.yml - import_tasks: kernel.yml - import_tasks: lsm.yml - import_tasks: misc.yml - import_tasks: sshd.yml,- include_tasks: async_tasks.yml- include_tasks: packages.yml- include_tasks: accounts.yml - include_tasks: aide.yml - include_tasks: auditd.yml - include_tasks: auth.yml - include_tasks: file_perms.yml - include_tasks: graphical.yml - include_tasks: kernel.yml - include_tasks: lsm.yml - include_tasks: misc.yml - include_tasks: sshd.yml,50,50
openstack%2Fopenstack-ansible~master~I47bcaf5af259fe1ecb91ff0fb94d6eb454875079,openstack/openstack-ansible,master,I47bcaf5af259fe1ecb91ff0fb94d6eb454875079,Remove unused openstack_user_config file,ABANDONED,2019-01-14 16:37:54.000000000,2019-08-07 15:38:13.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 19298}, {'_account_id': 21314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-14 16:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b5952f89957eaab4b350f944373dcb8d61d0cd1', 'message': ""Remove unused openstack_user_config file\n\nThis file isn't used, and is confusing people.\n\nChange-Id: I47bcaf5af259fe1ecb91ff0fb94d6eb454875079\n""}, {'number': 2, 'created': '2019-01-21 12:16:27.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.aio', 'tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cb1d1d666d3ede6d659aad2d39a18dd1dd85c39f', 'message': 'Remove unused openstack_user_config file\n\nThis file is only used for inventory testsing, so we switch that\ntest to use the same one as the AIO bootstrap to ensure that we\nreduce the confusion caused by two similar files.\n\nChange-Id: I47bcaf5af259fe1ecb91ff0fb94d6eb454875079\n'}]",0,630728,cb1d1d666d3ede6d659aad2d39a18dd1dd85c39f,9,5,2,6816,,,0,"Remove unused openstack_user_config file

This file is only used for inventory testsing, so we switch that
test to use the same one as the AIO bootstrap to ensure that we
reduce the confusion caused by two similar files.

Change-Id: I47bcaf5af259fe1ecb91ff0fb94d6eb454875079
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/630728/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/openstack_user_config.yml.aio'],1,0b5952f89957eaab4b350f944373dcb8d61d0cd1,630728,,"--- cidr_networks: dbaas: 172.29.232.0/22 lbaas: 172.29.252.0/22 container: 172.29.236.0/22 tunnel: 172.29.240.0/22 storage: 172.29.244.0/22 used_ips: - ""172.29.232.1,172.29.232.50"" - ""172.29.232.100"" - ""172.29.252.1,172.29.252.50"" - ""172.29.252.100"" - ""172.29.236.1,172.29.236.50"" - ""172.29.236.100"" - ""172.29.240.1,172.29.240.50"" - ""172.29.240.100"" - ""172.29.244.1,172.29.244.50"" - ""172.29.244.100"" - ""172.29.248.1,172.29.248.50"" - ""172.29.248.100"" global_overrides: internal_lb_vip_address: 172.29.236.100 # The external IP is quoted simply to ensure that the .aio file can be used as input # dynamic inventory testing. external_lb_vip_address: ""{{ bootstrap_host_public_address | default(ansible_default_ipv4.address) }}"" management_bridge: ""br-mgmt"" provider_networks: - network: container_bridge: ""br-mgmt"" container_type: ""veth"" container_interface: ""eth1"" ip_from_q: ""container"" type: ""raw"" group_binds: - all_containers - hosts is_container_address: true - network: container_bridge: ""br-vxlan"" container_type: ""veth"" container_interface: ""eth10"" ip_from_q: ""tunnel"" type: ""vxlan"" range: ""1:1000"" net_name: ""vxlan"" group_binds: - neutron_linuxbridge_agent - network: container_bridge: ""br-dbaas"" container_type: ""veth"" container_interface: ""eth13"" host_bind_override: ""eth13"" ip_from_q: ""dbaas"" type: ""flat"" net_name: ""flat-db"" group_binds: - neutron_linuxbridge_agent - rabbitmq - network: container_bridge: ""br-lbaas"" container_type: ""veth"" container_interface: ""eth14"" host_bind_override: ""eth14"" ip_from_q: ""lbaas"" type: ""flat"" net_name: ""lbaas"" group_binds: - neutron_linuxbridge_agent - octavia-worker - octavia-housekeeping - octavia-health-manager - network: container_bridge: ""br-vlan"" container_type: ""veth"" container_interface: ""eth12"" host_bind_override: ""eth12"" type: ""flat"" net_name: ""flat"" group_binds: - neutron_linuxbridge_agent - network: container_bridge: ""br-vlan"" container_type: ""veth"" container_interface: ""eth11"" type: ""vlan"" range: ""101:200,301:400"" net_name: ""vlan"" group_binds: - neutron_linuxbridge_agent - network: container_bridge: ""br-storage"" container_type: ""veth"" container_interface: ""eth2"" ip_from_q: ""storage"" type: ""raw"" group_binds: - glance_api - cinder_api - cinder_volume - nova_compute - swift_proxy # galera, memcache, rabbitmq, utility shared-infra_hosts: aio1: ip: 172.29.236.100 repo-infra_hosts: aio1: ip: 172.29.236.100 log_hosts: aio1: ip: 172.29.236.100 haproxy_hosts: aio1: ip: 172.29.236.100 ",0,120
openstack%2Fopenstack-ansible-os_aodh~master~If693c0b5195d21414dc2217c0c04cb3bfe11049e,openstack/openstack-ansible-os_aodh,master,If693c0b5195d21414dc2217c0c04cb3bfe11049e,Use the dynamic aio scenario,ABANDONED,2019-05-10 15:59:30.000000000,2019-08-07 15:38:07.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 15:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/0ab61b6ceecc1ac3a4fcbe78ecc0f10587633d38', 'message': '[TEST] Use the dynamic aio scenario\n\nDepends-On: https://review.opendev.org/658398\nChange-Id: If693c0b5195d21414dc2217c0c04cb3bfe11049e\n'}, {'number': 2, 'created': '2019-05-10 17:42:36.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/cf02fe8a6347db8bc353667b0ed303fadde181c5', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nDepends-On: https://review.opendev.org/658398\nChange-Id: If693c0b5195d21414dc2217c0c04cb3bfe11049e\n'}]",0,658405,cf02fe8a6347db8bc353667b0ed303fadde181c5,23,3,2,6816,,,0,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: If693c0b5195d21414dc2217c0c04cb3bfe11049e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/05/658405/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0ab61b6ceecc1ac3a4fcbe78ecc0f10587633d38,dynamic-aio-scenario, - openstack-ansible-deploy-aio_metal-jobs, - openstack-ansible-deploy-aio_telemetry_metal-jobs,1,1
openstack%2Fopenstack-ansible-os_blazar~master~I16d64df228e6230d1a19ba75f2d4925e7026b3cc,openstack/openstack-ansible-os_blazar,master,I16d64df228e6230d1a19ba75f2d4925e7026b3cc,Use the dynamic aio scenario,ABANDONED,2019-05-10 17:47:00.000000000,2019-08-07 15:37:56.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 17:47:00.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/ac044b89ab40996903f2677fc1df737c1ce4412d', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nDepends-On: https://review.opendev.org/658398\nChange-Id: I16d64df228e6230d1a19ba75f2d4925e7026b3cc\n'}]",0,658430,ac044b89ab40996903f2677fc1df737c1ce4412d,13,3,1,6816,,,0,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: I16d64df228e6230d1a19ba75f2d4925e7026b3cc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/30/658430/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,ac044b89ab40996903f2677fc1df737c1ce4412d,dynamic-aio-scenario,,"--- # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-deploy-aio_metal_blazar-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_metal_blazar - job: name: openstack-ansible-deploy-aio_metal_blazar-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_metal_blazar - job: name: openstack-ansible-deploy-aio_metal_blazar-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_metal_blazar - job: name: openstack-ansible-deploy-aio_metal_blazar-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable vars: action: deploy scenario: aio_metal_blazar ",1,57
openstack%2Fopenstack-ansible-os_congress~master~Ie9fa312e7fdc10f7daf5224e9acc0f799b46e51b,openstack/openstack-ansible-os_congress,master,Ie9fa312e7fdc10f7daf5224e9acc0f799b46e51b,Use the dynamic aio scenario,ABANDONED,2019-05-10 17:50:26.000000000,2019-08-07 15:37:49.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 17:50:26.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/31f6939a30ae56a31adcfcf69f69dfd2e2a912ef', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nDepends-On: https://review.opendev.org/658398\nChange-Id: Ie9fa312e7fdc10f7daf5224e9acc0f799b46e51b\n'}]",0,658432,31f6939a30ae56a31adcfcf69f69dfd2e2a912ef,11,2,1,6816,,,0,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: Ie9fa312e7fdc10f7daf5224e9acc0f799b46e51b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/32/658432/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,31f6939a30ae56a31adcfcf69f69dfd2e2a912ef,dynamic-aio-scenario,,"--- # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-deploy-aio_metal_congress-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_metal_congress - job: name: openstack-ansible-deploy-aio_metal_congress-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_metal_congress - job: name: openstack-ansible-deploy-aio_metal_congress-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_metal_congress - job: name: openstack-ansible-deploy-aio_metal_congress-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable vars: action: deploy scenario: aio_metal_congress ",1,57
openstack%2Fopenstack-ansible-os_horizon~master~I82a38e9de25af0bf618fba6fa136b3e2460da3aa,openstack/openstack-ansible-os_horizon,master,I82a38e9de25af0bf618fba6fa136b3e2460da3aa,Use the dynamic aio scenario,ABANDONED,2019-05-10 18:02:59.000000000,2019-08-07 15:37:40.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 18:02:59.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/46fc93af25df1589c8c2dad3f38dff147e025340', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nDepends-On: https://review.opendev.org/658398\nChange-Id: I82a38e9de25af0bf618fba6fa136b3e2460da3aa\n'}]",0,658436,46fc93af25df1589c8c2dad3f38dff147e025340,9,2,1,6816,,,0,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/658398
Change-Id: I82a38e9de25af0bf618fba6fa136b3e2460da3aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/36/658436/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,46fc93af25df1589c8c2dad3f38dff147e025340,dynamic-aio-scenario, - openstack-ansible-deploy-aio_distro_metal-jobs - openstack-ansible-deploy-aio_metal-jobs, - openstack-ansible-deploy-aio_distro_lxc-jobs - openstack-ansible-deploy-aio_lxc-jobs,2,2
openstack%2Ftripleo-validations~stable%2Fstein~I53ac2804d8c2f95ab5831088a70d096a65272c9b,openstack/tripleo-validations,stable/stein,I53ac2804d8c2f95ab5831088a70d096a65272c9b,Corrected how hiera is installed,MERGED,2019-08-01 11:10:19.000000000,2019-08-07 15:35:53.000000000,2019-08-07 15:35:53.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b30983203fc0ab73911bbb5921c0b9a727245e25', 'message': 'Corrected how hiera is installed\n\nPointing to a static link isn\'t good - installing EPEL + hiera package\nallows to get a smooth test without having to update the package link.\n\nAlso uses ""prepare.yml"" in order to get a cleaner playbook.\n\nChange-Id: I53ac2804d8c2f95ab5831088a70d096a65272c9b\n(cherry picked from commit 90f477c42796d68481f6a442f4e1cc5ca1c5906b)\n'}, {'number': 2, 'created': '2019-08-01 12:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/91841c85c56deebd8eee81749acc5cf6aa3643c0', 'message': 'Corrected how hiera is installed\n\nPointing to a static link isn\'t good - installing EPEL + hiera package\nallows to get a smooth test without having to update the package link.\n\nAlso uses ""prepare.yml"" in order to get a cleaner playbook.\n\nChange-Id: I53ac2804d8c2f95ab5831088a70d096a65272c9b\n(cherry picked from commit 90f477c42796d68481f6a442f4e1cc5ca1c5906b)\n'}, {'number': 3, 'created': '2019-08-01 14:02:47.000000000', 'files': ['roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/ctlplane-ip-range/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/65395ba4c83d17c83241ae919394c916fe2a7854', 'message': 'Corrected how hiera is installed\n\nPointing to a static link isn\'t good - installing EPEL + hiera package\nallows to get a smooth test without having to update the package link.\n\nAlso uses ""prepare.yml"" in order to get a cleaner playbook.\n\nChange-Id: I53ac2804d8c2f95ab5831088a70d096a65272c9b\n(cherry picked from commit 90f477c42796d68481f6a442f4e1cc5ca1c5906b)\n'}]",0,674004,65395ba4c83d17c83241ae919394c916fe2a7854,20,5,3,11491,,,0,"Corrected how hiera is installed

Pointing to a static link isn't good - installing EPEL + hiera package
allows to get a smooth test without having to update the package link.

Also uses ""prepare.yml"" in order to get a cleaner playbook.

Change-Id: I53ac2804d8c2f95ab5831088a70d096a65272c9b
(cherry picked from commit 90f477c42796d68481f6a442f4e1cc5ca1c5906b)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/04/674004/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/ctlplane-ip-range/molecule/default/prepare.yml']",2,b30983203fc0ab73911bbb5921c0b9a727245e25,molecule-stable-stein,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all gather_facts: no tasks: - name: install hiera package: name: hiera state: installed - name: prepare directory tree for hiera file: path: /etc/puppet state: directory - name: populate a hiera config copy: dest: /etc/puppet/hiera.yaml content: | :backends: - yaml - json :yaml: :datadir: ""/etc/puppet/"" :hierarchy: - ""common"" - name: populate hiera content copy: dest: /etc/puppet/common.yaml content: | tripleo_undercloud_conf_file: /undercloud.conf ",,51,2
openstack%2Ftripleo-quickstart~master~I58aaa6951764cb484909897fcf2c5d3ce72ed90e,openstack/tripleo-quickstart,master,I58aaa6951764cb484909897fcf2c5d3ce72ed90e,Add py3 support for get-overcloud-nodes script,MERGED,2019-08-03 15:40:57.000000000,2019-08-07 15:35:52.000000000,2019-08-07 15:35:52.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-03 15:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c96a572c7e35d0729c2ef1fe6b1f22eba01155b0', 'message': 'Add py3 for get-overcloud-nodes script\n\nChange-Id: I58aaa6951764cb484909897fcf2c5d3ce72ed90e\n'}, {'number': 2, 'created': '2019-08-03 17:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/76746f43760a5c8a45c19a8716fc097b9a24fcbb', 'message': 'WIP: Add py3 for get-overcloud-nodes script\n\nChange-Id: I58aaa6951764cb484909897fcf2c5d3ce72ed90e\n'}, {'number': 3, 'created': '2019-08-05 13:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f67a15bf51b5124ee0b0f4ee6aeb7be8c982a118', 'message': 'WIP: Add py3 for get-overcloud-nodes script\n\nChange-Id: I58aaa6951764cb484909897fcf2c5d3ce72ed90e\n'}, {'number': 4, 'created': '2019-08-06 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a856d03374fa4705940ee9508aae8dfbad57ff91', 'message': 'Add py3 support for get-overcloud-nodes script\n\nAdd import of urljoin for py3\nAdd command line execution depending on python/python3 presence\nChange shebang to be python3.\n\nChange-Id: I58aaa6951764cb484909897fcf2c5d3ce72ed90e\n'}, {'number': 5, 'created': '2019-08-06 17:30:14.000000000', 'files': ['roles/tripleo-inventory/templates/get-overcloud-nodes.py.j2', 'roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb7a19d5b8bc21604292dc62e7a1870f3d74a3b0', 'message': 'Add py3 support for get-overcloud-nodes script\n\nAdd import of urljoin for py3\nAdd command line execution depending on python/python3 presence\nChange shebang to be python3.\n\nChange-Id: I58aaa6951764cb484909897fcf2c5d3ce72ed90e\n'}]",4,674462,bb7a19d5b8bc21604292dc62e7a1870f3d74a3b0,27,6,5,10969,,,0,"Add py3 support for get-overcloud-nodes script

Add import of urljoin for py3
Add command line execution depending on python/python3 presence
Change shebang to be python3.

Change-Id: I58aaa6951764cb484909897fcf2c5d3ce72ed90e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/62/674462/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-inventory/templates/get-overcloud-nodes.py.j2'],1,c96a572c7e35d0729c2ef1fe6b1f22eba01155b0,ovb8,#!/usr/bin/python{% if ansible_python.version.major == 3 %}3{% endif %},#!/usr/bin/python,1,1
openstack%2Frpm-packaging~master~I3112d98f52e2e92c221be995a297f8b2bf5e9b93,openstack/rpm-packaging,master,I3112d98f52e2e92c221be995a297f8b2bf5e9b93,monasca-persister: Switch to python 3.x,MERGED,2019-08-05 15:17:25.000000000,2019-08-07 15:35:33.000000000,2019-08-07 15:35:33.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 15:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eb70d22ae649fdaa677884609ba4f6fe4b03ab53', 'message': 'monasca-persister: Switch to stestr\n\nChange-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93\n'}, {'number': 2, 'created': '2019-08-05 15:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f19ac6200ec69c1fe85176fa90d82965628da140', 'message': 'monasca-persister: Switch to stestr\n\nChange-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93\n'}, {'number': 3, 'created': '2019-08-05 18:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eec45a821b1d31931dd33a018c9a8bfa050cd313', 'message': 'monasca-persister: Switch to python 3.x\n\nChange-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93\n'}, {'number': 4, 'created': '2019-08-05 19:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/86af15c2271a05f48757c3a820e0b52f5ab56c3e', 'message': 'monasca-persister: Switch to python 3.x\n\nChange-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93\n'}, {'number': 5, 'created': '2019-08-06 06:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/180c28e4e37662465d3f188ef78ea36e1d0f8fce', 'message': 'monasca-persister: Switch to python 3.x\n\nChange-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93\n'}, {'number': 6, 'created': '2019-08-06 11:20:00.000000000', 'files': ['openstack/monasca-persister/monasca-persister.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2a70290aae9b0afd34eace6e0f42fb441f403cfb', 'message': 'monasca-persister: Switch to python 3.x\n\nChange-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93\n'}]",0,674633,2a70290aae9b0afd34eace6e0f42fb441f403cfb,31,6,6,6593,,,0,"monasca-persister: Switch to python 3.x

Change-Id: I3112d98f52e2e92c221be995a297f8b2bf5e9b93
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/33/674633/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-persister/monasca-persister.spec.j2'],1,eb70d22ae649fdaa677884609ba4f6fe4b03ab53,,BuildRequires: {{ py2pkg('stestr') }}python2 -m stestr.cli run,BuildRequires: {{ py2pkg('nose') }}find . -type f -name *.pyc -delete nosetests monasca_persister --verbose,2,3
openstack%2Ftripleo-quickstart-extras~master~I121bf00dfe535e3803501c1b2962eab2ba6bac07,openstack/tripleo-quickstart-extras,master,I121bf00dfe535e3803501c1b2962eab2ba6bac07,Allow building packages for RHEL8 jobs,MERGED,2019-08-06 22:14:48.000000000,2019-08-07 15:34:41.000000000,2019-08-07 15:34:41.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 22:14:48.000000000', 'files': ['roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8bb2dc094c17dbdb4c3dfbd6ce05bfb658d84d3c', 'message': 'Allow building packages for RHEL8 jobs\n\nChange-Id: I121bf00dfe535e3803501c1b2962eab2ba6bac07\n'}]",2,674943,8bb2dc094c17dbdb4c3dfbd6ce05bfb658d84d3c,18,10,1,10969,,,0,"Allow building packages for RHEL8 jobs

Change-Id: I121bf00dfe535e3803501c1b2962eab2ba6bac07
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/674943/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/defaults/main.yml'],1,8bb2dc094c17dbdb4c3dfbd6ce05bfb658d84d3c,build8,"dlrn_target: >- {%- if ansible_distribution == ""RedHat"" -%} redhat {%- else %}centos{% endif -%}dlrn_baseurl: >- {%- if ansible_distribution == ""RedHat"" and ansible_distribution_major_version|int == 8 -%} https://trunk.rdoproject.org/rhel8-master {%- else %}https://trunk.rdoproject.org/centos7/{% endif -%}","dlrn_target: centosdlrn_baseurl: ""https://trunk.rdoproject.org/centos7/""",8,2
openstack%2Ftripleo-heat-templates~master~Icaba7a58f458d853912d038f24c0cb4f853e0166,openstack/tripleo-heat-templates,master,Icaba7a58f458d853912d038f24c0cb4f853e0166,Allow overrides in non global ceph.conf sections,MERGED,2019-05-09 17:33:19.000000000,2019-08-07 15:34:39.000000000,2019-08-07 15:34:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 29268}]","[{'number': 1, 'created': '2019-05-09 17:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5e495f489cd1a44bdd40c16ae761c294bc30a73', 'message': 'Allow to override ceph config section parameters\n\n[DNM] In current ceph-base version there is the CephConfigOverride\nvariable that allow to override ceph.conf params in global\nsection.\nThis review introduce new variables to map ceph config parameters\nrelated to other sections.\n\n* [WIP] Added CephConfigOsdOverride, still brainstorming.\n\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 2, 'created': '2019-07-30 07:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/852154ea9b3547b13140c2106f5c5a4e30339a92', 'message': 'Allow to override ceph config section parameters\n\nIn current ceph-base version there is the CephConfigOverride\nvariable that allow to override ceph.conf params in global\nsection.\nThis review introduce new variables to map ceph config parameters\nrelated to other sections.\n\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 3, 'created': '2019-08-01 05:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3305fbff8989c10df4d213f86b2e4c0077d4642f', 'message': 'Allow to override ceph config section parameters\n\nIn current ceph-base version there is the CephConfigOverride\nvariable that allow to override ceph.conf params in global\nsection.\nThis review introduce new variables to map ceph config parameters\nrelated to other sections.\n\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 4, 'created': '2019-08-01 06:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fffade965a5d8526dd9a149ccf8f992c546352a', 'message': 'Allow to override ceph config section parameters\n\nIn current ceph-base version there is the CephConfigOverride\nvariable that allow to override ceph.conf params in global\nsection.\nThis review introduce new variables to map ceph config parameters\nrelated to other sections.\n\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 5, 'created': '2019-08-01 07:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/317d2e6918ec92b2ccd8d3bacaf389ecdf12f8b4', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 6, 'created': '2019-08-01 07:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/411ebe9e65fb6fc15c7f67d271a6d518a01426a4', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nAlso adds in scenarios 001 and 004 some test cases.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 7, 'created': '2019-08-01 09:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbabdd77d2c98a7c36a82cdb37df42e1d59bf280', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nAlso adds in scenarios 001 and 004 some test cases.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 8, 'created': '2019-08-01 11:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff4f4841d4e51ae09ee249495d33855f5d8ecfbd', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nAlso adds in scenarios 001 and 004 some test cases.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 9, 'created': '2019-08-01 19:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84d325b7a48b809d59da2a2591502f80a8aa19b6', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nAlso adds in scenarios 001 and 004 some test cases.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}, {'number': 10, 'created': '2019-08-02 08:23:02.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2501f4747c609482ac4e500aaf8ed5519e174bc7', 'message': 'Allow overrides in non global ceph.conf sections\n\nIn current ceph-base version there is a CephConfigOverride\nparameter which allows to override ceph.conf params in global\nsection only.\n\nThis change will permit overrides to specify the ceph.conf\nsection into which they apply, while retaining backward\ncompatiblity.\n\nAlso adds in scenarios 001 and 004 some test cases.\n\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166\nImplements: blueprint ceph-config-overrides\n'}]",12,658161,2501f4747c609482ac4e500aaf8ed5519e174bc7,53,8,10,25402,,,0,"Allow overrides in non global ceph.conf sections

In current ceph-base version there is a CephConfigOverride
parameter which allows to override ceph.conf params in global
section only.

This change will permit overrides to specify the ceph.conf
section into which they apply, while retaining backward
compatiblity.

Also adds in scenarios 001 and 004 some test cases.

Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Icaba7a58f458d853912d038f24c0cb4f853e0166
Implements: blueprint ceph-config-overrides
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/658161/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,d5e495f489cd1a44bdd40c16ae761c294bc30a73,bp/ceph-config-overrides, CephConfigOsdOverrides: type: json description: Extra config settings to dump into ceph.conf osd section default: {} osd: map_merge: - {get_param: CephConfigOsdOverrides},,7,0
openstack%2Fvitrage~master~Ibb70a8d5be79af89faf625b939bb959661231aa3,openstack/vitrage,master,Ibb70a8d5be79af89faf625b939bb959661231aa3,Use raw strings in all pattern matching strings,MERGED,2019-08-07 11:37:08.000000000,2019-08-07 15:30:54.000000000,2019-08-07 15:30:54.000000000,"[{'_account_id': 1736}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 11:37:08.000000000', 'files': ['vitrage/evaluator/template_validation/content/template_content_validator_v3.py', 'vitrage/entity_graph/graph_init.py', 'vitrage/evaluator/actions/base.py', 'vitrage/notifier/plugins/webhook/webhook.py', 'vitrage/evaluator/template_functions/function_resolver.py', 'vitrage/datasources/ceilometer/driver.py', 'vitrage/hacking/checks.py', 'vitrage/tests/unit/entity_graph/test_transformer_manager.py', 'vitrage/tests/unit/graph/test_graph.py', 'vitrage/middleware/keycloak.py', 'vitrage/notifier/plugins/snmp/snmp_sender.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f11565a317fb9976cb1370b001303c968f712686', 'message': 'Use raw strings in all pattern matching strings\n\nThis removes some of the deprecation warnings on\nunsupported escape sequence for python3.6 and up\n\nChange-Id: Ibb70a8d5be79af89faf625b939bb959661231aa3\n'}]",0,675097,f11565a317fb9976cb1370b001303c968f712686,7,3,1,19134,,,0,"Use raw strings in all pattern matching strings

This removes some of the deprecation warnings on
unsupported escape sequence for python3.6 and up

Change-Id: Ibb70a8d5be79af89faf625b939bb959661231aa3
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/97/675097/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/evaluator/template_validation/content/template_content_validator_v3.py', 'vitrage/entity_graph/graph_init.py', 'vitrage/evaluator/actions/base.py', 'vitrage/evaluator/template_functions/function_resolver.py', 'vitrage/notifier/plugins/webhook/webhook.py', 'vitrage/datasources/ceilometer/driver.py', 'vitrage/hacking/checks.py', 'vitrage/tests/unit/entity_graph/test_transformer_manager.py', 'vitrage/tests/unit/graph/test_graph.py', 'vitrage/middleware/keycloak.py', 'vitrage/notifier/plugins/snmp/snmp_sender.py']",11,f11565a317fb9976cb1370b001303c968f712686,eyalb/strings,IP_PAT = re.compile(r'\d+\.\d+\.\d+\.\d+') PORT_PAT = re.compile(r'\d+'),IP_PAT = re.compile('\d+\.\d+\.\d+\.\d+') PORT_PAT = re.compile('\d+'),22,20
openstack%2Ftempest~master~I5ec01ff7783dd5be0e82fac0aa591221548b0664,openstack/tempest,master,I5ec01ff7783dd5be0e82fac0aa591221548b0664,Modify the API reference,MERGED,2019-08-02 10:04:03.000000000,2019-08-07 15:15:35.000000000,2019-08-07 15:15:35.000000000,"[{'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 30409}, {'_account_id': 30410}]","[{'number': 1, 'created': '2019-08-02 10:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b9fa43e94cc0e84cb4b15fc89f1f02cc7afef5e', 'message': 'Modify the API reference in networks_client.py\n\nChange-Id: I5ec01ff7783dd5be0e82fac0aa591221548b0664\n'}, {'number': 2, 'created': '2019-08-05 06:27:05.000000000', 'files': ['tempest/lib/services/network/ports_client.py', 'tempest/lib/services/network/networks_client.py', 'tempest/lib/services/network/tags_client.py', 'tempest/lib/services/network/floating_ips_client.py', 'tempest/lib/services/network/subnetpools_client.py', 'tempest/lib/services/network/security_groups_client.py', 'tempest/lib/services/network/security_group_rules_client.py', 'tempest/lib/services/network/metering_labels_client.py', 'tempest/lib/services/network/routers_client.py', 'tempest/lib/services/network/subnets_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/18cf132af180f9c3422d33162dc1535873b3d523', 'message': 'Modify the API reference\n\nModify the API reference in the following files:\n    tempest/lib/services/network/security_group_rules_client.py\n    tempest/lib/services/network/tags_client.py\n    tempest/lib/services/network/subnets_client.py\n    tempest/lib/services/network/subnetpools_client.py\n    tempest/lib/services/network/routers_client.py\n    tempest/lib/services/network/metering_labels_client.py\n    tempest/lib/services/network/floating_ips_client.py\n    tempest/lib/services/network/ports_client.py\n    tempest/lib/services/network/security_groups_client.py\n    tempest/lib/services/network/networks_client.py\n\nChange-Id: I5ec01ff7783dd5be0e82fac0aa591221548b0664\n'}]",1,674251,18cf132af180f9c3422d33162dc1535873b3d523,25,6,2,30410,,,0,"Modify the API reference

Modify the API reference in the following files:
    tempest/lib/services/network/security_group_rules_client.py
    tempest/lib/services/network/tags_client.py
    tempest/lib/services/network/subnets_client.py
    tempest/lib/services/network/subnetpools_client.py
    tempest/lib/services/network/routers_client.py
    tempest/lib/services/network/metering_labels_client.py
    tempest/lib/services/network/floating_ips_client.py
    tempest/lib/services/network/ports_client.py
    tempest/lib/services/network/security_groups_client.py
    tempest/lib/services/network/networks_client.py

Change-Id: I5ec01ff7783dd5be0e82fac0aa591221548b0664
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/674251/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/network/networks_client.py'],1,2b9fa43e94cc0e84cb4b15fc89f1f02cc7afef5e,, https://docs.openstack.org/api-ref/network/v2/index.html#create-network https://docs.openstack.org/api-ref/network/v2/index.html#update-network https://docs.openstack.org/api-ref/network/v2/index.html#show-network-details https://docs.openstack.org/api-ref/network/v2/index.html#list-networks https://docs.openstack.org/api-ref/network/v2/index.html#bulk-create-networks, https://docs.openstack.org/api-ref/networking/v2/index.html#create-network https://docs.openstack.org/api-ref/networking/v2/index.html#update-network https://docs.openstack.org/api-ref/networking/v2/index.html#show-network-details https://docs.openstack.org/api-ref/networking/v2/index.html#list-networks https://docs.openstack.org/api-ref/networking/v2/index.html#bulk-create-networks,5,5
openstack%2Foslo.messaging~master~I4116e8871436097dea650f56e7b187358367d92e,openstack/oslo.messaging,master,I4116e8871436097dea650f56e7b187358367d92e,Fix nits on kafka compression help text,MERGED,2019-08-06 19:02:14.000000000,2019-08-07 14:43:16.000000000,2019-08-07 14:43:16.000000000,"[{'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-06 19:02:14.000000000', 'files': ['oslo_messaging/_drivers/kafka_driver/kafka_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/39196a4e90f0d46f6b8122b2e421b519b9c6d93f', 'message': 'Fix nits on kafka compression help text\n\nThere is no need to explicitly list the choices in the help text.\nThe oslo.config sample generator will include the choices automatically[0]\n\nAlso tweaks the wording of text to make it clear that it is the allowed\nvalues which vary based on kafka version.\n\nChange-Id: I4116e8871436097dea650f56e7b187358367d92e\n0: https://github.com/openstack/oslo.config/blob/2488c1e1cee151a3a65c60f371f0bea2f15d4bca/oslo_config/generator.py#L263\n'}]",0,674914,39196a4e90f0d46f6b8122b2e421b519b9c6d93f,7,3,1,6928,,,0,"Fix nits on kafka compression help text

There is no need to explicitly list the choices in the help text.
The oslo.config sample generator will include the choices automatically[0]

Also tweaks the wording of text to make it clear that it is the allowed
values which vary based on kafka version.

Change-Id: I4116e8871436097dea650f56e7b187358367d92e
0: https://github.com/openstack/oslo.config/blob/2488c1e1cee151a3a65c60f371f0bea2f15d4bca/oslo_config/generator.py#L263
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/14/674914/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/kafka_driver/kafka_options.py'],1,39196a4e90f0d46f6b8122b2e421b519b9c6d93f,choice-nit," 'producer. If not set, compression will not be used. ' 'Note that the allowed values of this depend on the kafka ' 'version'),"," 'producer. Valid values are: gzip, snappy, lz4, zstd. If ' 'not set, compression will not be used. Note that the ' 'legal option of this depends on the kafka version'),",3,3
openstack%2Fnova~stable%2Fstein~Idee55cd85c12a336dd980c69839fc11188019d3c,openstack/nova,stable/stein,Idee55cd85c12a336dd980c69839fc11188019d3c,Add glanceclient method call debug log,ABANDONED,2019-08-06 12:05:02.000000000,2019-08-07 14:06:18.000000000,,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-06 12:05:02.000000000', 'files': ['nova/image/glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5edf0ac8d6353d4fdbd454736649d5082b9777a1', 'message': ""Add glanceclient method call debug log\n\nIn situations when calling Glance isn't successfull (for example when\nthe network is experiencing interruptions or packet loss), it may be\nuseful have each Glance request logged at debug level. This patch does\nthat.\n\nChange-Id: Idee55cd85c12a336dd980c69839fc11188019d3c\n""}]",0,674791,5edf0ac8d6353d4fdbd454736649d5082b9777a1,9,5,1,8864,,,0,"Add glanceclient method call debug log

In situations when calling Glance isn't successfull (for example when
the network is experiencing interruptions or packet loss), it may be
useful have each Glance request logged at debug level. This patch does
that.

Change-Id: Idee55cd85c12a336dd980c69839fc11188019d3c
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/674791/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/image/glance.py'],1,5edf0ac8d6353d4fdbd454736649d5082b9777a1,," LOG.debug('Calling glanceclient method `%s`', method)",,1,0
openstack%2Fopenstack-helm~master~I44a0693a1885450cbd13b3b05e3a7aa08b489f2b,openstack/openstack-helm,master,I44a0693a1885450cbd13b3b05e3a7aa08b489f2b,[DNM] Test gates,ABANDONED,2019-08-07 08:02:57.000000000,2019-08-07 14:04:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-07 08:02:57.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7aaf20fa8c15a0090b30f87896eaa1316bffd1d8', 'message': '[DNM] Test gates\n\nChange-Id: I44a0693a1885450cbd13b3b05e3a7aa08b489f2b\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",0,675050,7aaf20fa8c15a0090b30f87896eaa1316bffd1d8,3,1,1,21883,,,0,"[DNM] Test gates

Change-Id: I44a0693a1885450cbd13b3b05e3a7aa08b489f2b
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/675050/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,7aaf20fa8c15a0090b30f87896eaa1316bffd1d8,,,,1,0
openstack%2Fopenstack-helm-infra~master~Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7,openstack/openstack-helm-infra,master,Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7,WIP: Update upgrade-host role with new hwe kernel package,ABANDONED,2019-07-10 15:15:04.000000000,2019-08-07 13:55:38.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28025}, {'_account_id': 28372}]","[{'number': 1, 'created': '2019-07-10 15:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e56b71348e2e3527e2e3e385492f0b969f64c8a7', 'message': 'Update upgrade-host role with new hwe kernel package\n\nThis updates the hwe kernel package installed in the upgrade-host\nrole to the 18.04 version. This also sets the variable required\nto install this package in each of the multinode jobs that deploy\nthe cephfs provisioner\n\nChange-Id: Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-10 18:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c60442721506d3e17f4816f008851800d5d16e7b', 'message': 'Update upgrade-host role with new hwe kernel package\n\nThis updates the hwe kernel package installed in the upgrade-host\nrole to the 18.04 version. This also sets the variable required\nto install this package in each of the multinode jobs that deploy\nthe cephfs provisioner\n\nChange-Id: Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-07-10 20:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ebc9361d59c002864bb08f551cf4c2e35b00e45', 'message': 'Update upgrade-host role with new hwe kernel package\n\nThis updates the hwe kernel package installed in the upgrade-host\nrole to the 18.04 version. This also sets the variable required\nto install this package in each of the multinode jobs that deploy\nthe cephfs provisioner\n\nChange-Id: Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-08-02 16:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8de623231a634894dfbd3af66e114d6e69a17941', 'message': 'Update upgrade-host role with new hwe kernel package\n\nThis updates the hwe kernel package installed in the upgrade-host\nrole to the 18.04 version. This also sets the variable required\nto install this package in each of the multinode jobs that deploy\nthe cephfs provisioner\n\nChange-Id: Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-08-02 16:12:20.000000000', 'files': ['tools/deployment/tenant-ceph/030-ceph.sh', 'zuul.d/project.yaml', 'tools/deployment/multinode/030-ceph.sh', 'zuul.d/jobs.yaml', 'roles/upgrade-host/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e5db8932d9497f6a1daeb94cadbb096baefc3ea', 'message': 'WIP: Update upgrade-host role with new hwe kernel package\n\nThis updates the hwe kernel package installed in the upgrade-host\nrole to the 18.04 version. This also sets the variable required\nto install this package in each of the multinode jobs that deploy\nthe cephfs provisioner\n\nChange-Id: Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",1,670088,2e5db8932d9497f6a1daeb94cadbb096baefc3ea,26,4,5,17591,,,0,"WIP: Update upgrade-host role with new hwe kernel package

This updates the hwe kernel package installed in the upgrade-host
role to the 18.04 version. This also sets the variable required
to install this package in each of the multinode jobs that deploy
the cephfs provisioner

Change-Id: Ic57c11f7c60e5203bcd48fce06dd52bfb306dff7
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/670088/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/jobs.yaml', 'roles/upgrade-host/tasks/main.yaml']",2,e56b71348e2e3527e2e3e385492f0b969f64c8a7,fix-ceph-test-failures, - linux-generic-hwe-18.04, - linux-generic-hwe-16.04,4,1
openstack%2Fopenstack-helm-infra~master~I39cd635fca190b7cf9e73930f25873898d34d5cb,openstack/openstack-helm-infra,master,I39cd635fca190b7cf9e73930f25873898d34d5cb,DNM: Update kubeadm-aio base image,ABANDONED,2019-08-06 18:09:03.000000000,2019-08-07 13:55:24.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 18:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f3fb1dcf8db2a23cc79ce6e92850d787b792877', 'message': 'DNM: Update kubeadm-aio base image\n\nChange-Id: I39cd635fca190b7cf9e73930f25873898d34d5cb\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-08-06 18:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f15fb70bcc98163ca0805839d74ed27070fe7b11', 'message': 'DNM: Update kubeadm-aio base image\n\nChange-Id: I39cd635fca190b7cf9e73930f25873898d34d5cb\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-08-06 18:48:11.000000000', 'files': ['tools/images/kubeadm-aio/sources.list', 'tools/images/kubeadm-aio/Dockerfile', 'tools/deployment/tenant-ceph/040-tenant-ceph.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a43827774387b82b237c27609a14fc0565d0d5d', 'message': 'DNM: Update kubeadm-aio base image\n\nChange-Id: I39cd635fca190b7cf9e73930f25873898d34d5cb\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,674900,8a43827774387b82b237c27609a14fc0565d0d5d,9,2,3,17591,,,0,"DNM: Update kubeadm-aio base image

Change-Id: I39cd635fca190b7cf9e73930f25873898d34d5cb
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/674900/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'tools/deployment/tenant-ceph/040-tenant-ceph.sh', 'zuul.d/project.yaml']",3,9f3fb1dcf8db2a23cc79ce6e92850d787b792877,kubeadm-aio-base, - openstack-helm-infra-five-ubuntu - openstack-helm-infra-armada-update-passwords , - openstack-helm-infra-armada-update-passwords,4,3
openstack%2Fnetworking-ovn~stable%2Frocky~I18f1ff0832354ae8109323e5202e1681fc60a167,openstack/networking-ovn,stable/rocky,I18f1ff0832354ae8109323e5202e1681fc60a167,OVN Metadata: Fix registration after Chassis entry is recreated,MERGED,2019-07-17 14:33:57.000000000,2019-08-07 13:43:36.000000000,2019-08-07 13:43:36.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-17 14:33:57.000000000', 'files': ['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b54009636719aaeb3c6967c866da2f7f80c840e9', 'message': ""OVN Metadata: Fix registration after Chassis entry is recreated\n\nThis patch is re-registring the OVN metadata agent to its Chassis when the\nentry is recreated. The Chassis entry gets deleted by the ovn-controller\nprocess when it's gracefully shutdown and recreated when restarted.\n\nConflicts:\n\tnetworking_ovn/tests/functional/test_metadata_agent.py\n\nCloses-Bug: #1835226\nChange-Id: I18f1ff0832354ae8109323e5202e1681fc60a167\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit adb0d45613ca1493289410b53b16fe9f731d1141)\n""}]",0,671310,b54009636719aaeb3c6967c866da2f7f80c840e9,25,5,1,6773,,,0,"OVN Metadata: Fix registration after Chassis entry is recreated

This patch is re-registring the OVN metadata agent to its Chassis when the
entry is recreated. The Chassis entry gets deleted by the ovn-controller
process when it's gracefully shutdown and recreated when restarted.

Conflicts:
	networking_ovn/tests/functional/test_metadata_agent.py

Closes-Bug: #1835226
Change-Id: I18f1ff0832354ae8109323e5202e1681fc60a167
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit adb0d45613ca1493289410b53b16fe9f731d1141)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/671310/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/functional/test_metadata_agent.py']",3,b54009636719aaeb3c6967c866da2f7f80c840e9,bug/1835226,"from ovsdbapp.backend.ovs_idl import idlutils FAKE_CHASSIS_HOST = 'ovn-host-fake' self.chassis_name = self.add_fake_chassis(self.FAKE_CHASSIS_HOST) def test_agent_registration_at_chassis_create_event(self): chassis = self.sb_api.lookup('Chassis', self.chassis_name) self.assertIn(ovn_const.OVN_AGENT_METADATA_ID_KEY, chassis.external_ids) # Delete Chassis and assert self.del_fake_chassis(chassis.name) self.assertRaises(idlutils.RowNotFound, self.sb_api.lookup, 'Chassis', self.chassis_name) # Re-add the Chassis self.add_fake_chassis(self.FAKE_CHASSIS_HOST, name=self.chassis_name) def check_for_metadata(): chassis = self.sb_api.lookup('Chassis', self.chassis_name) return ovn_const.OVN_AGENT_METADATA_ID_KEY in chassis.external_ids exc = Exception('Agent metadata failed to re-register itself ' 'after the Chassis %s was re-created' % self.chassis_name) # Check if metadata agent was re-registered chassis = self.sb_api.lookup('Chassis', self.chassis_name) n_utils.wait_until_true( check_for_metadata, timeout=10, exception=exc)", self.chassis_name = self.add_fake_chassis('ovs-host-fake'),44,5
openstack%2Fproject-config~master~I2f87ef53a8d3bce01ae7b75c4fd27edcfad5111d,openstack/project-config,master,I2f87ef53a8d3bce01ae7b75c4fd27edcfad5111d,Add new Neutron jobs to Grafana dashboard,MERGED,2019-08-07 06:48:23.000000000,2019-08-07 13:26:15.000000000,2019-08-07 13:26:15.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 06:48:23.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f3c8a6320011ce1a95a4bb74498bb3860261638a', 'message': 'Add new Neutron jobs to Grafana dashboard\n\nRecently 2 new Neutron jobs were added to Neutron CI\nin [1] and [2].\nLets add them to the Neutron Grafana dashboard also.\n\n[1] https://review.opendev.org/#/c/670738/\n[2] https://review.opendev.org/#/c/674274/\n\nDepends-On: https://review.opendev.org/#/c/670738/\nDepends-On: https://review.opendev.org/#/c/674274/\nChange-Id: I2f87ef53a8d3bce01ae7b75c4fd27edcfad5111d\n'}]",0,675036,f3c8a6320011ce1a95a4bb74498bb3860261638a,7,3,1,11975,,,0,"Add new Neutron jobs to Grafana dashboard

Recently 2 new Neutron jobs were added to Neutron CI
in [1] and [2].
Lets add them to the Neutron Grafana dashboard also.

[1] https://review.opendev.org/#/c/670738/
[2] https://review.opendev.org/#/c/674274/

Depends-On: https://review.opendev.org/#/c/670738/
Depends-On: https://review.opendev.org/#/c/674274/
Change-Id: I2f87ef53a8d3bce01ae7b75c4fd27edcfad5111d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/675036/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,f3c8a6320011ce1a95a4bb74498bb3860261638a,new-ovs-scenario-job," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid')",,8,0
openstack%2Fcinder~master~I62b2175fc531ba764b1baf18ac6d2578ac147320,openstack/cinder,master,I62b2175fc531ba764b1baf18ac6d2578ac147320,upload_volume() should accept 'compress' paramter.,ABANDONED,2019-08-06 06:55:51.000000000,2019-08-07 13:19:06.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-06 06:55:51.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/73d30cf22f9ed41a319baf71cbad065950e152f2', 'message': ""upload_volume() should accept 'compress' paramter.\n\nThis is to fix the bug introduced by the change 'Compress images\nuploaded to Glance' (Change-Id:\nI22bd2be6653bdc4e755ea8a9d8780e8e67b4485a)\n\nChange-Id: I62b2175fc531ba764b1baf18ac6d2578ac147320\nCloses-Bug: #1839057\n""}]",0,674740,73d30cf22f9ed41a319baf71cbad065950e152f2,47,29,1,14624,,,0,"upload_volume() should accept 'compress' paramter.

This is to fix the bug introduced by the change 'Compress images
uploaded to Glance' (Change-Id:
I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a)

Change-Id: I62b2175fc531ba764b1baf18ac6d2578ac147320
Closes-Bug: #1839057
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/674740/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,73d30cf22f9ed41a319baf71cbad065950e152f2,bug/1839057," volume_format='raw', run_as_root=True, compress=True): compress=compress)"," volume_format='raw', run_as_root=True): compress=True)",2,2
openstack%2Fironic~master~I305fc3712b1ac0cf2fe64569729e236c7b614bb4,openstack/ironic,master,I305fc3712b1ac0cf2fe64569729e236c7b614bb4,Allow configuring global deploy and rescue kernel/ramdisk,MERGED,2019-07-26 14:27:46.000000000,2019-08-07 13:18:22.000000000,2019-08-07 13:18:22.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 12898}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-26 14:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/041f4eb1cc79373ec0897c4058a4db9d1e3725e7', 'message': 'Allow configuring global deploy and rescue kernel/ramdisk\n\nChange-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4\nStory: #2006175\nTask: #35699\n'}, {'number': 2, 'created': '2019-07-29 09:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9beeeac0d5926a2c66564de5d2b8cd67633ed93', 'message': 'Allow configuring global deploy and rescue kernel/ramdisk\n\nChange-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4\nStory: #2006175\nTask: #35699\n'}, {'number': 3, 'created': '2019-07-29 10:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/43dc1e063836fc7cb2db9c9946cc1ee40d3bb29d', 'message': 'Allow configuring global deploy and rescue kernel/ramdisk\n\nChange-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4\nStory: #2006175\nTask: #35699\n'}, {'number': 4, 'created': '2019-07-29 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3258aa016d14092a55c949fb02c7e7061fac0a47', 'message': 'Allow configuring global deploy and rescue kernel/ramdisk\n\nChange-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4\nStory: #2006175\nTask: #35699\n'}, {'number': 5, 'created': '2019-08-01 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b9d4be3460da02d61c0a5d31de7b8d5a4d5e37e4', 'message': 'Allow configuring global deploy and rescue kernel/ramdisk\n\nChange-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4\nStory: #2006175\nTask: #35699\n'}, {'number': 6, 'created': '2019-08-06 13:32:06.000000000', 'files': ['devstack/lib/ironic', 'ironic/conf/conductor.py', 'releasenotes/notes/conf-deploy-image-5adb6c1963b149ae.yaml', 'devstack/plugin.sh', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f06240f7dd2b0314068f3f9dc6a82667d658bc28', 'message': 'Allow configuring global deploy and rescue kernel/ramdisk\n\nThe devstack plugin was updated to configure basic ops before\nironic starts, so that we can put links to deploy images\nin the ironic.conf.\n\nChange-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4\nStory: #2006175\nTask: #35699\n'}]",3,672989,f06240f7dd2b0314068f3f9dc6a82667d658bc28,50,10,6,10239,,,0,"Allow configuring global deploy and rescue kernel/ramdisk

The devstack plugin was updated to configure basic ops before
ironic starts, so that we can put links to deploy images
in the ironic.conf.

Change-Id: I305fc3712b1ac0cf2fe64569729e236c7b614bb4
Story: #2006175
Task: #35699
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/672989/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'ironic/conf/conductor.py', 'releasenotes/notes/conf-deploy-image-5adb6c1963b149ae.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",5,041f4eb1cc79373ec0897c4058a4db9d1e3725e7,story/2006175/conf-deploy-image," def _test_parse_driver_info_from_conf(self, mode='deploy'): del self.node.driver_info['%s_kernel' % mode] del self.node.driver_info['%s_ramdisk' % mode] exp_info = {'%s_ramdisk' % mode: 'glance://%s_ramdisk_uuid' % mode, '%s_kernel' % mode: 'glance://%s_kernel_uuid' % mode} self.config(group='conductor', **exp_info) image_info = pxe_utils.parse_driver_info(self.node, mode=mode) self.assertEqual(exp_info, image_info) def test_parse_driver_info_from_conf_deploy(self): self._test_parse_driver_info_from_conf() def test_parse_driver_info_from_conf_rescue(self): self._test_parse_driver_info_from_conf(mode='rescue') def test_parse_driver_info_mixed_source_deploy(self): self.config(deploy_kernel='file:///image', deploy_ramdisk='file:///image', group='conductor') self._test_parse_driver_info_missing_ramdisk() def test_parse_driver_info_mixed_source_rescue(self): self.config(rescue_kernel='file:///image', rescue_ramdisk='file:///image', group='conductor') self._test_parse_driver_info_missing_ramdisk(mode='rescue') ",,57,9
openstack%2Fironic-inspector~master~I78ffdeeb502cbed0550152b19efbb224f47c65af,openstack/ironic-inspector,master,I78ffdeeb502cbed0550152b19efbb224f47c65af,Adds tooz locking driver,MERGED,2019-07-15 06:49:23.000000000,2019-08-07 13:18:17.000000000,2019-08-07 13:18:17.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-15 06:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/cd2734de2e0890ea435f69c8a924ecfe15cf414e', 'message': 'Adds etcd locking driver\n\nAdds etcd requirements, configuration options and locking support.\n\nStory: 2001842\nTask: 30376\n\nChange-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af\n'}, {'number': 2, 'created': '2019-07-23 06:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d78d1a73dd9626f48cbc3aaa95e5c0a546e2aaec', 'message': 'Adds etcd locking driver\n\nAdds etcd requirements, configuration options and locking support.\n\nStory: 2001842\nTask: 30376\n\nChange-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af\n'}, {'number': 3, 'created': '2019-07-27 03:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/76edccdb9aa129982e9e4f28cd9837abe1119a02', 'message': 'Adds tooz locking driver\n\nAdds etcd requirements, configuration options and locking support.\n\nStory: 2001842\nTask: 30376\n\nChange-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af\n'}, {'number': 4, 'created': '2019-07-27 03:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/075905e62407fbf6d3486356c6c0b40c56b308f1', 'message': 'Adds tooz locking driver\n\nAdds tooz requirements, configuration options and locking support.\n\nStory: 2001842\nTask: 30376\n\nChange-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af\n'}, {'number': 5, 'created': '2019-07-30 08:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fae489ee2b7e0e868848fa6c55ce9c50b06f3e84', 'message': 'Adds tooz locking driver\n\nAdds tooz requirements, configuration options and locking support.\n\nStory: 2001842\nTask: 30376\n\nChange-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af\n'}, {'number': 6, 'created': '2019-07-31 05:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4414c1509710c705b663697fd4f08f4464f6665f', 'message': 'Adds tooz locking driver\n\nAdds tooz requirements, configuration options and locking support.\n\nStory: 2001842\nTask: 30376\n\nChange-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af\n'}, {'number': 7, 'created': '2019-08-02 02:42:24.000000000', 'files': ['ironic_inspector/cmd/all.py', 'ironic_inspector/test/unit/test_manager.py', 'ironic_inspector/conf/opts.py', 'lower-constraints.txt', 'ironic_inspector/conf/__init__.py', 'ironic_inspector/test/unit/test_utils.py', 'ironic_inspector/conf/coordination.py', 'requirements.txt', 'ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_locking.py', 'ironic_inspector/conductor/manager.py', 'ironic_inspector/utils.py', 'ironic_inspector/common/locking.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1bed47540908127c1bb84684f7b097a081b766c2', 'message': 'Adds tooz locking driver\n\nAdds tooz requirements, configuration options and locking support.\n\nStory: 2001842\nTask: 30376\n\nChange-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af\n'}]",23,670763,1bed47540908127c1bb84684f7b097a081b766c2,43,7,7,24828,,,0,"Adds tooz locking driver

Adds tooz requirements, configuration options and locking support.

Story: 2001842
Task: 30376

Change-Id: I78ffdeeb502cbed0550152b19efbb224f47c65af
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/63/670763/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/cmd/all.py', 'ironic_inspector/test/unit/test_manager.py', 'ironic_inspector/conf/opts.py', 'lower-constraints.txt', 'ironic_inspector/conf/__init__.py', 'ironic_inspector/test/unit/test_utils.py', 'ironic_inspector/conf/etcd.py', 'requirements.txt', 'ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_locking.py', 'ironic_inspector/conductor/manager.py', 'ironic_inspector/utils.py', 'ironic_inspector/common/locking.py']",13,cd2734de2e0890ea435f69c8a924ecfe15cf414e,tooz-lock,"from oslo_config import cfgfrom ironic_inspector import utils CONF = cfg.CONF def acquire(self, blocking=True): def acquire(self, blocking=True):class ToozLock(BaseLock): """"""Locking mechanism based on tooz."""""" def __init__(self, coordinator, uuid): prefix = CONF.etcd.lock_prefix or '' name = '{}.{}'.format(prefix, uuid) self._lock = coordinator.get_lock(str.encode(name)) def acquire(self, blocking=True): if not self._lock.acquired: self._lock.acquire(blocking=blocking) return self._lock.acquired def release(self): if self._lock.acquired: self._lock.release() def is_locked(self): return self._lock.acquired def __enter__(self): self._lock.acquire() return self def __exit__(self, exc_type, exc_val, exc_tb): self._lock.release() def get_lock(uuid): if CONF.service_mode == 'standalone': return InternalLock(uuid) coordinator = utils.get_coordinator() return ToozLock(coordinator, uuid)"," def acquire(self, blocking=True, timeout=None): def acquire(self, blocking=True, timeout=None): # NOTE(kaifeng) timeout is only available on python3def get_lock(uuid): return InternalLock(uuid)",322,4
openstack%2Fhorizon~master~I0db8a05e488eb6bf276760d5116d05633c882701,openstack/horizon,master,I0db8a05e488eb6bf276760d5116d05633c882701,Do not always assume image_id in volume_image_metadata,MERGED,2019-07-02 05:07:20.000000000,2019-08-07 13:08:20.000000000,2019-08-07 13:08:19.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-02 05:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a8da106dfec8a98de2634c3795821558e86c315a', 'message': 'Do not always assume image_id in volume_image_metadata\n\nvolume_image_metadata can conatin only fields other than image_id.\nWe should not assume volume_image_metadata always contain image_id\nwhen volume_image_metadata exists.\n\nChange-Id: I0db8a05e488eb6bf276760d5116d05633c882701\nCloses-Bug: #1834747\n'}, {'number': 2, 'created': '2019-07-12 07:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/63e0f371246e8d0e9933fd9163003c237ab05d31', 'message': 'Do not always assume image_id in volume_image_metadata\n\nvolume_image_metadata can conatin only fields other than image_id.\nWe should not assume volume_image_metadata always contain image_id\nwhen volume_image_metadata exists.\n\nChange-Id: I0db8a05e488eb6bf276760d5116d05633c882701\nCloses-Bug: #1834747\n'}, {'number': 3, 'created': '2019-07-12 11:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/554b6a94d469e40a955a994abea14d57ba981efa', 'message': 'Do not always assume image_id in volume_image_metadata\n\nvolume_image_metadata can conatin only fields other than image_id.\nWe should not assume volume_image_metadata always contain image_id\nwhen volume_image_metadata exists.\n\nChange-Id: I0db8a05e488eb6bf276760d5116d05633c882701\nCloses-Bug: #1834747\n'}, {'number': 4, 'created': '2019-07-26 12:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/387c5253183809ab2910325d9300795728202073', 'message': 'Do not always assume image_id in volume_image_metadata\n\nvolume_image_metadata can conatin only fields other than image_id.\nWe should not assume volume_image_metadata always contain image_id\nwhen volume_image_metadata exists.\n\nChange-Id: I0db8a05e488eb6bf276760d5116d05633c882701\nCloses-Bug: #1834747\n'}, {'number': 5, 'created': '2019-07-29 18:19:48.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/42f4ef334d89a492103fdea2df982e108d5713ea', 'message': 'Do not always assume image_id in volume_image_metadata\n\nvolume_image_metadata can contain only fields other than image_id.\nWe should not assume volume_image_metadata always contain image_id\nwhen volume_image_metadata exists.\n\nChange-Id: I0db8a05e488eb6bf276760d5116d05633c882701\nCloses-Bug: #1834747\n'}]",6,668595,42f4ef334d89a492103fdea2df982e108d5713ea,24,5,5,841,,,0,"Do not always assume image_id in volume_image_metadata

volume_image_metadata can contain only fields other than image_id.
We should not assume volume_image_metadata always contain image_id
when volume_image_metadata exists.

Change-Id: I0db8a05e488eb6bf276760d5116d05633c882701
Closes-Bug: #1834747
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/668595/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,a8da106dfec8a98de2634c3795821558e86c315a,bug/1834747," # There is a case where volume_image_metadata contains # only fields other than 'image_id' (See bug 1834747), # so we try to populate image information only when it is found. volume_metadata = getattr(boot_volume, ""volume_image_metadata"", {}) image_id = volume_metadata.get('image_id') if image_id:"," if hasattr(boot_volume, ""volume_image_metadata""): image_id = boot_volume.volume_image_metadata['image_id']",6,2
openstack%2Fhorizon~master~I7ebb68220f75fef36b43b89e32e5aff18fc0fe25,openstack/horizon,master,I7ebb68220f75fef36b43b89e32e5aff18fc0fe25,Fix boot-from-volume test in project.instances.tests,MERGED,2019-07-12 07:38:22.000000000,2019-08-07 13:08:17.000000000,2019-08-07 13:08:17.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-12 07:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/32adb15b2a7f49088e64deccb9325045313414b8', 'message': 'Fix boot-from-volume test in project.instances.tests\n\nThe test for the instance table with boot-from-volume had\nseveral issues previously.\n\na) api.cinder.volume_list is mocked but return_value was not\n   specified and called arguments were not checked.\nb) The mocked api.nova.server_list returned Server instance\n   from novaclient, but it should return Server instance from\n   the horizon API wrapper (api.nova.Server). As a result,\n   for example, ""image_name"" property in api.nova.Server\n   was skipped.\nc) Test data for cinder volumes had wrong attachment information.\n   attachment ID must match a volume ID, but it did not.\n\nThis commit fixes the above issues and adds a test logic to\ncheck volume_image_metadata handling in instances/views.py.\n\nThis is a preparation to implement a unit test in\nhttps://review.opendev.org/#/c/668595/.\n\nNOTE:\nThe issues (a) and (b) above need to be fixed globally\nin the openstack_dashboard testing, but it will be covered\nby follow-up commit(s). This commit focues to prepare for\nhttps://review.opendev.org/#/c/668595/.\n\nChange-Id: I7ebb68220f75fef36b43b89e32e5aff18fc0fe25\n'}, {'number': 2, 'created': '2019-07-26 12:58:56.000000000', 'files': ['openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/instances/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/82a20c670a54554571a92a0c4663f29dcfbbacbf', 'message': 'Fix boot-from-volume test in project.instances.tests\n\nThe test for the instance table with boot-from-volume had\nseveral issues previously.\n\na) api.cinder.volume_list is mocked but return_value was not\n   specified and called arguments were not checked.\nb) The mocked api.nova.server_list returned Server instance\n   from novaclient, but it should return Server instance from\n   the horizon API wrapper (api.nova.Server). As a result,\n   for example, ""image_name"" property in api.nova.Server\n   was skipped.\nc) Test data for cinder volumes had wrong attachment information.\n   attachment ID must match a volume ID, but it did not.\n\nThis commit fixes the above issues and adds a test logic to\ncheck volume_image_metadata handling in instances/views.py.\n\nThis is a preparation to implement a unit test in\nhttps://review.opendev.org/#/c/668595/.\n\nNOTE:\nThe issues (a) and (b) above need to be fixed globally\nin the openstack_dashboard testing, but it will be covered\nby follow-up commit(s). This commit focues to prepare for\nhttps://review.opendev.org/#/c/668595/.\n\nChange-Id: I7ebb68220f75fef36b43b89e32e5aff18fc0fe25\n'}]",0,670456,82a20c670a54554571a92a0c4663f29dcfbbacbf,15,5,2,841,,,0,"Fix boot-from-volume test in project.instances.tests

The test for the instance table with boot-from-volume had
several issues previously.

a) api.cinder.volume_list is mocked but return_value was not
   specified and called arguments were not checked.
b) The mocked api.nova.server_list returned Server instance
   from novaclient, but it should return Server instance from
   the horizon API wrapper (api.nova.Server). As a result,
   for example, ""image_name"" property in api.nova.Server
   was skipped.
c) Test data for cinder volumes had wrong attachment information.
   attachment ID must match a volume ID, but it did not.

This commit fixes the above issues and adds a test logic to
check volume_image_metadata handling in instances/views.py.

This is a preparation to implement a unit test in
https://review.opendev.org/#/c/668595/.

NOTE:
The issues (a) and (b) above need to be fixed globally
in the openstack_dashboard testing, but it will be covered
by follow-up commit(s). This commit focues to prepare for
https://review.opendev.org/#/c/668595/.

Change-Id: I7ebb68220f75fef36b43b89e32e5aff18fc0fe25
",git fetch https://review.opendev.org/openstack/horizon refs/changes/56/670456/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/instances/tests.py']",2,32adb15b2a7f49088e64deccb9325045313414b8,bug/1834747," volume_server = servers[0] # Override the server is booted from a volume. volume_server.image = """" # NOTE(amotoki): openstack_dashboard.api.nova.server_list should return # a list of api.nova.Server instances, but the current test code # returns a list of novaclient.v2.servers.Server instances. # This leads to a situation that image_name property of api.nova.Server # is not handled in our test case properly. # TODO(amotoki): Refactor test_data/nova_data.py to use api.nova.Server # (horizon API wrapper class). volume_server = api.nova.Server(volume_server, self.request) volumes = self.cinder_volumes.list() # 3rd volume in the list is attached to server with ID 1. volume = volumes[2] base_image = self.images.get(name='private_image') volume.volume_image_metadata = { ""image_id"": base_image.id, } self.mock_volume_list.return_value = volumes self.assertContains(res, base_image.name) self.mock_volume_list.assert_called_once_with(helpers.IsHttpRequest())"," volume_server = self.servers.first() volume_server.image = """" volume_server.image_name = ""(not found)"" self.assertContains(res, ""(not found)"")",28,7
openstack%2Fhorizon~master~I4b7707d95756501e0622460e3ddc4e3f7624f02e,openstack/horizon,master,I4b7707d95756501e0622460e3ddc4e3f7624f02e,Enable volume snapshot backups,MERGED,2019-06-26 18:35:04.000000000,2019-08-07 13:08:14.000000000,2019-08-07 13:08:14.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29260}]","[{'number': 1, 'created': '2019-06-26 18:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b2401552dafcb6f1563bcbc34a705707dfc01b28', 'message': 'Enable volume snapshot backup\n\nMake it possible to use horizon for providing a source\nsnapshot when backing up cinder volumes, and to create\na backup directly from the snapshots table.\n\nAdd snapshot id to backup table and backup detail\nFix wrong template path in create_backup.html\nAdd ChoiceField with snapshot ids belonging\nto the volume beeing backed up, or with the id of the\nsnapshot being backed up.\n\nSee also, (though not implemented as described)\nhttps://blueprints.launchpad.net/horizon/+spec/volume-snapshot-backups\n\nChange-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e\n'}, {'number': 2, 'created': '2019-06-27 19:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c45e0d988e70b54d469dfa0149f0fea932d39bfa', 'message': 'Enable volume snapshot backups\n\nMake it possible to use horizon for providing a source\nsnapshot when backing up cinder volumes, and to create\na backup directly from the snapshots table.\n\n * Add snapshot column  to backup table and backup detail\n * Fix wrong template path in create_backup.html\n * Add ChoiceField with snapshots belonging\n   to the volume being backed up, or with the id of the\n   snapshot being backed up.\n\nChange-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e\n'}, {'number': 3, 'created': '2019-06-28 20:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/28ef8167844829bb0744920bb51eb0a87b62f1be', 'message': 'Enable volume snapshot backups\n\nMake it possible to use horizon for backing\nup snapshots.\n\n * Add snapshot column to backups table\n * Add snapshot information to backup detail\n * Fix wrong template path in create_backup.html\n * Add ChoiceField with snapshots belonging\n   to the volume in create backup form\n * Add create backup option in snapshots table\n\nWhen backing up from snapshots table the snapshot\nChoiceField is preset with the choosen snapshot id\nas the only option.\n\nChange-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e\n'}, {'number': 4, 'created': '2019-07-02 16:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb0cb8688e3cd0e5caad91ae4e6b20482efc4ffa', 'message': 'Enable volume snapshot backups\n\nMake it possible to use horizon for backing\nup snapshots.\n\n * Add snapshot column to backups table\n * Add snapshot information to backup detail\n * Fix wrong template path in create_backup.html\n * Add ChoiceField with snapshots belonging\n   to the volume in create backup form\n * Add create backup option in snapshots table\n * Adjust tests and test data\n\nWhen backing up from snapshots table the snapshot\nChoiceField is preset with the choosen snapshot id\nas the only option.\n\nChange-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e\n'}, {'number': 5, 'created': '2019-07-13 18:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/95e5b29a18a164a991eab95409d62c9a03e6b6e0', 'message': 'Enable volume snapshot backups\n\nMake it possible to use horizon for backing\nup snapshots.\n\n * Add snapshot column to backups table\n * Add snapshot information to backup detail\n * Fix wrong template path in create_backup.html\n * Add ChoiceField with snapshots belonging\n   to the volume in create backup form\n * Add create backup option in snapshots table\n * Adjust tests and test data\n\nWhen backing up from snapshots table the snapshot\nChoiceField is preset with the choosen snapshot\nas the only option.\nImplements: blueprint volume-snapshot-backups\n\nChange-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e\n'}, {'number': 6, 'created': '2019-07-25 19:27:57.000000000', 'files': ['openstack_dashboard/dashboards/project/backups/views.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/backups/templates/backups/_detail_overview.html', 'openstack_dashboard/dashboards/project/backups/tests.py', 'openstack_dashboard/dashboards/project/volumes/urls.py', 'openstack_dashboard/dashboards/project/backups/tables.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'releasenotes/notes/bp-volume-snapshot-backups-54e4d18633fd4c5d.yaml', 'openstack_dashboard/dashboards/project/backups/forms.py', 'openstack_dashboard/dashboards/project/backups/tabs.py', 'openstack_dashboard/dashboards/project/backups/templates/backups/_create_backup.html', 'openstack_dashboard/dashboards/project/snapshots/tables.py', 'openstack_dashboard/dashboards/project/backups/templates/backups/create_backup.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9fa1cddf0922af186bd102768416ec9c5b84f511', 'message': 'Enable volume snapshot backups\n\nMake it possible to use horizon for backing\nup snapshots.\n\n * Add snapshot column to backups table\n * Add snapshot information to backup detail\n * Fix wrong template path in create_backup.html\n * Add ChoiceField with snapshots belonging\n   to the volume in create backup form\n * Add create backup option in snapshots table\n * Adjust tests and test data\n\nWhen backing up from snapshots table the snapshot\nChoiceField is preset with the choosen snapshot\nas the only option.\nImplements: blueprint volume-snapshot-backups\n\nChange-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e\n'}]",32,667703,9fa1cddf0922af186bd102768416ec9c5b84f511,42,5,6,29260,,,0,"Enable volume snapshot backups

Make it possible to use horizon for backing
up snapshots.

 * Add snapshot column to backups table
 * Add snapshot information to backup detail
 * Fix wrong template path in create_backup.html
 * Add ChoiceField with snapshots belonging
   to the volume in create backup form
 * Add create backup option in snapshots table
 * Adjust tests and test data

When backing up from snapshots table the snapshot
ChoiceField is preset with the choosen snapshot
as the only option.
Implements: blueprint volume-snapshot-backups

Change-Id: I4b7707d95756501e0622460e3ddc4e3f7624f02e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/667703/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/backups/tables.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/backups/forms.py', 'openstack_dashboard/dashboards/project/backups/templates/backups/_detail_overview.html', 'openstack_dashboard/dashboards/project/snapshots/tables.py', 'openstack_dashboard/dashboards/project/backups/tests.py', 'openstack_dashboard/dashboards/project/backups/templates/backups/create_backup.html']",8,b2401552dafcb6f1563bcbc34a705707dfc01b28,bp/volume-snapshot-backups, {% include 'project/backups/_create_backup.html' %}, {% include 'project/volumes/backups/_create_backup.html' %},134,16
openstack%2Fmistral~master~I61fca207f375f3d43241da59d7c9213ac9401a21,openstack/mistral,master,I61fca207f375f3d43241da59d7c9213ac9401a21,Upgrade hacking,MERGED,2019-08-06 12:11:19.000000000,2019-08-07 12:57:06.000000000,2019-08-07 12:57:06.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 12:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/142b4ead6b3497ed487d6da478b7dfa1ae6d5cc3', 'message': 'Upgrade hacking\n\nAdded some pep exclusion to tox\nChange in test the import from pep8 to pycodestyle\nneeded by the new version of hacking\n\nChange-Id: I61fca207f375f3d43241da59d7c9213ac9401a21\n'}, {'number': 2, 'created': '2019-08-06 12:50:09.000000000', 'files': ['mistral/tests/unit/hacking/test_checks.py', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d8a127abe257cbecf19606608540a5820da15b8c', 'message': 'Upgrade hacking\n\nAdded some pep exclusion to tox\nChange in test the import from pep8 to pycodestyle\nneeded by the new version of hacking\n\nChange-Id: I61fca207f375f3d43241da59d7c9213ac9401a21\n'}]",0,674793,d8a127abe257cbecf19606608540a5820da15b8c,13,3,2,19134,,,0,"Upgrade hacking

Added some pep exclusion to tox
Change in test the import from pep8 to pycodestyle
needed by the new version of hacking

Change-Id: I61fca207f375f3d43241da59d7c9213ac9401a21
",git fetch https://review.opendev.org/openstack/mistral refs/changes/93/674793/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/hacking/test_checks.py', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",4,142b4ead6b3497ed487d6da478b7dfa1ae6d5cc3,eyalb/hacking,"ignore = D100,D101,D102,D103,D104,D105,D200,D203,D202,D204,D205,D208,D400,D401,E402,W503,E731","ignore = D100,D101,D102,D103,D104,D105,D200,D203,D202,D204,D205,D208,D400,D401",9,8
openstack%2Frpm-packaging~master~I9af246de6d5e07316e400adea4b99f9698899b79,openstack/rpm-packaging,master,I9af246de6d5e07316e400adea4b99f9698899b79,networking-generic-switch: switch to python3,ABANDONED,2019-07-18 10:53:36.000000000,2019-08-07 12:56:33.000000000,,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27532}]","[{'number': 1, 'created': '2019-07-18 10:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8c732b0a5c00866fbbcabc2d398294844f48e1ea', 'message': 'networking-generic-switch: switch to python3\n\nChange-Id: I9af246de6d5e07316e400adea4b99f9698899b79\n'}, {'number': 2, 'created': '2019-07-18 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8826cae4e05a9e456cc6ce64069583e34751a115', 'message': 'networking-generic-switch: switch to python3\n\nChange-Id: I9af246de6d5e07316e400adea4b99f9698899b79\n'}, {'number': 3, 'created': '2019-07-19 08:48:32.000000000', 'files': ['openstack/networking-generic-switch/networking-generic-switch.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/958a27e6b0252c466b4ea6f69e25e68035b6c6d1', 'message': 'networking-generic-switch: switch to python3\n\nChange-Id: I9af246de6d5e07316e400adea4b99f9698899b79\n'}]",0,671455,958a27e6b0252c466b4ea6f69e25e68035b6c6d1,18,5,3,27532,,,0,"networking-generic-switch: switch to python3

Change-Id: I9af246de6d5e07316e400adea4b99f9698899b79
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/55/671455/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/networking-generic-switch/networking-generic-switch.spec.j2'],1,8c732b0a5c00866fbbcabc2d398294844f48e1ea,,Name: {{ py2name(py_versions='py3') }}BuildRequires: python3-neutron BuildRequires: {{ py3('netmiko') }} BuildRequires: {{ py3('neutron-lib') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.db') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.middleware') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('tenacity') }} BuildRequires: {{ py3('testresources') }} BuildRequires: {{ py3('testtools') }} BuildRequires: {{ py3('tooz') }} Requires: python3-neutron Requires: {{ py3('netmiko') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.db') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.middleware') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} Requires: {{ py3('tenacity') }} Requires: {{ py3('tooz') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build}%{py3_install} %fdupes %{buildroot}%{python3_sitelib}%{__python3} -m stestr.cli run %files -n python3-{{ pypi_name }}%{python3_sitelib}/networking_generic_switch %{python3_sitelib}/networking_generic_switch*egg-info,Name: {{ py2name() }}BuildRequires: {{ py2pkg('neutron') }} BuildRequires: {{ py2pkg('netmiko') }} BuildRequires: {{ py2pkg('neutron-lib') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.db') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.middleware') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('six') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('stevedore') }} BuildRequires: {{ py2pkg('tenacity') }} BuildRequires: {{ py2pkg('testresources') }} BuildRequires: {{ py2pkg('testtools') }} BuildRequires: {{ py2pkg('tooz') }} Requires: {{ py2pkg('neutron') }} Requires: {{ py2pkg('netmiko') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.db') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.middleware') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }} Requires: {{ py2pkg('tenacity') }} Requires: {{ py2pkg('tooz') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%{py2_build}%{py2_install} %fdupes %{buildroot}%{python2_sitelib}%{__python2} -m stestr.cli run %files -n python-{{ pypi_name }}%{python2_sitelib}/networking_generic_switch %{python2_sitelib}/networking_generic_switch*egg-info,37,37
openstack%2Fopenstack-ansible-os_nova~master~I0f8f5e3beaf9eca9127f1a37ffa93e0a5dac2974,openstack/openstack-ansible-os_nova,master,I0f8f5e3beaf9eca9127f1a37ffa93e0a5dac2974,config: disable notifications by default,MERGED,2019-07-31 17:07:47.000000000,2019-08-07 12:49:32.000000000,2019-08-01 22:18:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-31 17:07:47.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/edde66b9a0dae24a9288da240455890c2f100282', 'message': ""config: disable notifications by default\n\nWe are currently pushing out notifications even if Ceilometer is\nnot enabled resulting in huge queues.  Let's not do that.\n\nChange-Id: I0f8f5e3beaf9eca9127f1a37ffa93e0a5dac2974\n""}]",0,673878,edde66b9a0dae24a9288da240455890c2f100282,13,3,1,1004,,,0,"config: disable notifications by default

We are currently pushing out notifications even if Ceilometer is
not enabled resulting in huge queues.  Let's not do that.

Change-Id: I0f8f5e3beaf9eca9127f1a37ffa93e0a5dac2974
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/78/673878/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,edde66b9a0dae24a9288da240455890c2f100282,,"driver = {{ (nova_ceilometer_enabled | bool) | ternary('messagingv2', 'noop') }}",driver = messagingv2,1,1
openstack%2Fopenstack-ansible-os_neutron~master~Id4a70270d4032ff1c3f0089360e897e5c82c394b,openstack/openstack-ansible-os_neutron,master,Id4a70270d4032ff1c3f0089360e897e5c82c394b,config: disable notifications by default,MERGED,2019-07-31 17:17:17.000000000,2019-08-07 12:49:24.000000000,2019-08-01 20:03:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-31 17:17:17.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/752f261ab6dc986ca1e9b0f16189f20d7ab8a15d', 'message': ""config: disable notifications by default\n\nWe are currently pushing out notifications even if Ceilometer is\nnot enabled resulting in huge queues.  Let's not do that.\n\nChange-Id: Id4a70270d4032ff1c3f0089360e897e5c82c394b\n""}]",0,673882,752f261ab6dc986ca1e9b0f16189f20d7ab8a15d,13,3,1,1004,,,0,"config: disable notifications by default

We are currently pushing out notifications even if Ceilometer is
not enabled resulting in huge queues.  Let's not do that.

Change-Id: Id4a70270d4032ff1c3f0089360e897e5c82c394b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/82/673882/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,752f261ab6dc986ca1e9b0f16189f20d7ab8a15d,,"driver = {{ (neutron_ceilometer_enabled | bool) | ternary('messagingv2', 'noop') }}",driver = messagingv2,1,1
openstack%2Fmonasca-common~master~I488d6c99e2f2ad857d44b471c5b62e549062a46e,openstack/monasca-common,master,I488d6c99e2f2ad857d44b471c5b62e549062a46e,Fix Confluent Kafka consumer topics subscription,MERGED,2019-08-06 12:56:23.000000000,2019-08-07 12:41:48.000000000,2019-08-07 12:41:47.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 12:56:23.000000000', 'files': ['monasca_common/confluent_kafka/consumer.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/875c233fd70d3c83413d9ee80e363174e79bde0e', 'message': 'Fix Confluent Kafka consumer topics subscription\n\nThe change fixes:\n\n`TypeError: on_revoke expects a callable`\n\nwhen `repartition_callback` is not set.\n\nChange-Id: I488d6c99e2f2ad857d44b471c5b62e549062a46e\nStory: 2003705\nTask: 36093\n'}]",0,674804,875c233fd70d3c83413d9ee80e363174e79bde0e,10,4,1,16222,,,0,"Fix Confluent Kafka consumer topics subscription

The change fixes:

`TypeError: on_revoke expects a callable`

when `repartition_callback` is not set.

Change-Id: I488d6c99e2f2ad857d44b471c5b62e549062a46e
Story: 2003705
Task: 36093
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/04/674804/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_common/confluent_kafka/consumer.py'],1,875c233fd70d3c83413d9ee80e363174e79bde0e,confluent_kafka," if repartition_callback: self._consumer.subscribe([topic], on_revoke=repartition_callback) else: self._consumer.subscribe([topic])"," self._consumer.subscribe([topic], on_revoke=repartition_callback)",4,1
openstack%2Fmonasca-persister~master~Iea4d74dffb28c3315761de464840e8c4cda57c0a,openstack/monasca-persister,master,Iea4d74dffb28c3315761de464840e8c4cda57c0a,Add tests for influxdb/metrics_repository.py,MERGED,2019-04-12 13:15:39.000000000,2019-08-07 12:41:41.000000000,2019-08-07 12:41:41.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 30221}]","[{'number': 1, 'created': '2019-04-12 13:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/1c1321e00a1d80cf69133d5ec8ba74d2875a0e05', 'message': 'Add tests for influxdb/metrics_repository.py\n\nChange-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a\n'}, {'number': 2, 'created': '2019-04-12 13:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/360448336095c175649e6de771e9cd9c52159254', 'message': 'Add tests for influxdb/metrics_repository.py\n\nChange-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a\n'}, {'number': 3, 'created': '2019-04-18 08:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/bbc5ebb551ad7f42b8ec745548d6c09875631120', 'message': 'Add tests for influxdb/metrics_repository.py\n\nChange-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a\n'}, {'number': 4, 'created': '2019-04-25 07:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/33021da3c42d7ee7e15356a0923c2443af3599ce', 'message': 'Add tests for influxdb/metrics_repository.py\n\nChange-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a\n'}, {'number': 5, 'created': '2019-06-05 14:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/5b21ddbb375c25095b6f6cb08e1cc039b4b71cd1', 'message': 'Add tests for influxdb/metrics_repository.py\n\nChange-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a\n'}, {'number': 6, 'created': '2019-06-05 14:20:57.000000000', 'files': ['monasca_persister/tests/test_influxdb_metrics_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/8f1d672f2315502befe2f83212b54bc6eff5dd7f', 'message': 'Add tests for influxdb/metrics_repository.py\n\nChange-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a\n'}]",2,652070,8f1d672f2315502befe2f83212b54bc6eff5dd7f,23,5,6,30221,,,0,"Add tests for influxdb/metrics_repository.py

Change-Id: Iea4d74dffb28c3315761de464840e8c4cda57c0a
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/70/652070/6 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/tests/test_influxdb_metrics_repository.py'],1,1c1321e00a1d80cf69133d5ec8ba74d2875a0e05,test_repo_influxdb,"# (C) Copyright 2016-2017 Hewlett Packard Enterprise Development LP # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from monasca_persister.repositories.influxdb import metrics_repository from mock import Mock from oslotest import base from six import string_types class TestMetricInfluxdbRepository(base.BaseTestCase): def setUp(self): super(TestMetricInfluxdbRepository, self).setUp() self.influx_db_repo = metrics_repository self.metric = None def tearDown(self): super(TestMetricInfluxdbRepository, self).tearDown() def test_process_message(self): self.metric = self._get_metric() retrieve_data = metrics_repository.MetricInfluxdbRepository.process_message self.assertTrue(isinstance(retrieve_data(self.metric), string_types)) def _get_metric(self): metric = ''' { ""metric"": { ""timestamp"":1554725987408.1049804688, ""name"":""process.cpu_perc"", ""dimensions"": { ""process_name"":""persister"", ""hostname"":""devstack"", ""service"":""persister"" }, ""value"":7.5, ""value_meta"":null}, ""meta"": { ""region"":""RegionOne"", ""tenantId"":""df4c002353de4399b92fa79d8374819b"" }, ""creation_time"":1554725988 } ''' return Mock(message=Mock(value=metric)) ",,59,0
openstack%2Fnetworking-ovn~master~I0bd8591a42a7f32b3ea9a6af8a74613367c58d61,openstack/networking-ovn,master,I0bd8591a42a7f32b3ea9a6af8a74613367c58d61,Delay metadata port creation/update,ABANDONED,2018-12-18 14:04:29.000000000,2019-08-07 12:32:33.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-12-18 14:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c7401d44759f7a45da8e8e67fe82fd3b5122f797', 'message': 'Delay metadata port creation/update\n\nIn order to match the ml2/ovs behavior and also speed up the API request\nreponses when creating/updating networks and subnets this patch is\nchanging the ml2/ovn driver to perform the metadata port create/update\nasynchronously.\n\nChange-Id: I0bd8591a42a7f32b3ea9a6af8a74613367c58d61\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2018-12-20 11:42:35.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bae2e15e996b751fb3a365854d456cc371823070', 'message': 'Delay metadata port creation/update\n\nIn order to match the ml2/ovs behavior and also speed up the API request\nreponses when creating/updating networks and subnets this patch is\nchanging the ml2/ovn driver to perform the metadata port create/update\nasynchronously.\n\nChange-Id: I0bd8591a42a7f32b3ea9a6af8a74613367c58d61\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,625921,bae2e15e996b751fb3a365854d456cc371823070,7,3,2,6773,,,0,"Delay metadata port creation/update

In order to match the ml2/ovs behavior and also speed up the API request
reponses when creating/updating networks and subnets this patch is
changing the ml2/ovn driver to perform the metadata port create/update
asynchronously.

Change-Id: I0bd8591a42a7f32b3ea9a6af8a74613367c58d61
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/21/625921/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/ovsdb/ovsdb_monitor.py']",3,c7401d44759f7a45da8e8e67fe82fd3b5122f797,metadata-port-delay,"from neutron_lib import constants as n_const from neutron_lib import context as n_contextfrom neutron_lib.plugins import utils as p_utilsfrom networking_ovn.common import exceptions as ovn_excdef _get_metadata_ports(plugin, context, network_id): return plugin.get_ports(context, filters=dict( network_id=[network_id], device_owner=[n_const.DEVICE_OWNER_DHCP])) def create_metadata_port(plugin, context, network): md_port = None metadata_ports = _get_metadata_ports(plugin, context, network['id']) if not metadata_ports: # Create a neutron port for DHCP/metadata services port = {'port': {'network_id': network['id'], 'tenant_id': network['project_id'], 'device_owner': n_const.DEVICE_OWNER_DHCP, 'device_id': 'ovnmeta-%s' % network['id']}} # TODO(boden): rehome create_port into neutron-lib md_port = p_utils.create_port(plugin, context, port) elif len(metadata_ports) > 1: raise ovn_exc.DuplicatedMetadataPort(network_id=network['id']) else: md_port = metadata_ports[0] return md_port def handle_metadata_port(plugin, subnet_id): """"""Update metadata port. This function will allocate an IP address for the metadata port of the given network in all its IPv4 subnets. """""" context = n_context.get_admin_context() subnet = plugin.get_subnet(context, subnet_id) network = plugin.get_network(context, subnet['network_id']) metadata_port = create_metadata_port(plugin, context, network) # Retrieve all subnets in this network subnets = plugin.get_subnets(context, filters=dict( network_id=[network['id']], ip_version=[4])) subnet_ids = set(s['id'] for s in subnets) port_subnet_ids = set(ip['subnet_id'] for ip in metadata_port['fixed_ips']) # Find all subnets where metadata port doesn't have an IP in and # allocate one. if subnet_ids != port_subnet_ids: wanted_fixed_ips = [] for fixed_ip in metadata_port['fixed_ips']: wanted_fixed_ips.append( {'subnet_id': fixed_ip['subnet_id'], 'ip_address': fixed_ip['ip_address']}) wanted_fixed_ips.extend( dict(subnet_id=s) for s in subnet_ids - port_subnet_ids) port = {'id': metadata_port['id'], 'port': {'network_id': network['id'], 'fixed_ips': wanted_fixed_ips}} plugin.update_port(n_context.get_admin_context(), metadata_port['id'], port) class DHCPOptionsEvent(row_event.RowEvent): """"""Row create event - Logical_Switch_Port 'up' = False On connection, we get a dump of all ports, so if there is a neutron port that is up that has since been deactivated, we'll catch it here. This event will not be generated for new ports getting created. """""" def __init__(self, driver): self.driver = driver table = 'DHCP_Options' events = (self.ROW_CREATE, self.ROW_UPDATE) super(DHCPOptionsEvent, self).__init__(events, table, None) self.event_name = 'DHCPOptionsEvent' def run(self, event, row, old): if not ovn_config.is_ovn_metadata_enabled(): return subnet_id = row.external_ids.get('subnet_id', None) # TODO(lucasagomes): check if subnet_id was found handle_metadata_port(self.driver._plugin, subnet_id) self._dhcp_options_event = DHCPOptionsEvent(driver) self._fip_create_delete_event, self._dhcp_options_event])", self._fip_create_delete_event]),100,77
openstack%2Fnetworking-ovn~stable%2Frocky~I0f57a1706d41836b35ffd33bb154af6a5667b7cd,openstack/networking-ovn,stable/rocky,I0f57a1706d41836b35ffd33bb154af6a5667b7cd,Replace httplib2 with requests in metadata agent,MERGED,2019-07-30 12:40:32.000000000,2019-08-07 12:29:56.000000000,2019-08-07 12:29:56.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-30 12:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f9ac3ac9547b1ec06dbeaf6eea62f6696a24ea54', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}, {'number': 2, 'created': '2019-07-31 08:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9b61348941615ccc9cd0d1b2ba3954ee86b3d14a', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}, {'number': 3, 'created': '2019-08-01 09:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cc85d7160747dbd1f5dbcdc20f6f26a9d58647b0', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}, {'number': 4, 'created': '2019-08-05 08:00:33.000000000', 'files': ['networking_ovn/agent/metadata/server.py', 'requirements.txt', 'networking_ovn/tests/unit/agent/metadata/test_server.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cded136f5096d91c8da5b85e000d2c692464e2e0', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}]",0,673503,cded136f5096d91c8da5b85e000d2c692464e2e0,27,4,4,24791,,,0,"Replace httplib2 with requests in metadata agent

httplib2 uses PROTOCOL_TLSv1 which in fact restricts
connection to TLS v1.0 only.
This patch moves to use requests library that uses
PROTOCOL_TLS, that supports all versions supported
SSL library.
Same change was made a while ago in neutron [0].

[0] https://review.opendev.org/#/c/593641/

Co-Authored-By: James Page <james.page@ubuntu.com>

Change-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd
Closes-Bug: #1837870
(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/03/673503/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/server.py', 'requirements.txt', 'networking_ovn/tests/unit/agent/metadata/test_server.py', 'lower-constraints.txt']",4,f9ac3ac9547b1ec06dbeaf6eea62f6696a24ea54,bug/1837870,,httplib2==0.9.1,55,55
openstack%2Fkolla~stable%2Fstein~I67e1d77d34a7198321d170d8ffacff9b39308170,openstack/kolla,stable/stein,I67e1d77d34a7198321d170d8ffacff9b39308170,Stein-only: update packages,MERGED,2019-08-07 08:53:13.000000000,2019-08-07 12:29:47.000000000,2019-08-07 12:29:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-07 08:53:13.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd4d4b37be3ad75d23a48fd58a550ff08684e270', 'message': 'Stein-only: update packages\n\nChange-Id: I67e1d77d34a7198321d170d8ffacff9b39308170\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,675062,cd4d4b37be3ad75d23a48fd58a550ff08684e270,8,4,1,30491,,,0,"Stein-only: update packages

Change-Id: I67e1d77d34a7198321d170d8ffacff9b39308170
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/675062/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,cd4d4b37be3ad75d23a48fd58a550ff08684e270,auto-update," 'cinder-14.0.1.tar.gz')}, 'ironic-inspector-8.2.3.tar.gz')}, 'manila-8.0.1.tar.gz')}, 'openstack-placement-1.1.0.tar.gz')}, 'manila-tempest-plugin-0.3.0.tar.gz')},"," 'cinder-14.0.0.tar.gz')}, 'ironic-inspector-8.2.2.tar.gz')}, 'manila-8.0.0.tar.gz')}, 'openstack-placement-1.0.0.tar.gz')}, 'manila-tempest-plugin-0.2.0.tar.gz')},",5,5
openstack%2Fkolla~stable%2Frocky~I1822a8c610db72654bbacc7148e25a837090b680,openstack/kolla,stable/rocky,I1822a8c610db72654bbacc7148e25a837090b680,ceph mds cap 'allow *' in extend_start,MERGED,2019-08-07 07:17:27.000000000,2019-08-07 12:29:46.000000000,2019-08-07 12:29:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-07 07:17:27.000000000', 'files': ['docker/ceph/ceph-mon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/97b004af90dcf36ba67137917290614015eba8fc', 'message': ""ceph mds cap 'allow *' in extend_start\n\nThis applies the fix made in kolla-ansible (see [1])\nto kolla ceph mon image directly.\n\n[1] https://review.opendev.org/670035\n\nChange-Id: I1822a8c610db72654bbacc7148e25a837090b680\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit b1d4ed51f41721c86a33d766fdfd80aaccf1df60)\n(cherry picked from commit 2f45d6810e341cd89a20d5fceff0179cde768acc)\n""}]",0,675042,97b004af90dcf36ba67137917290614015eba8fc,9,4,1,30491,,,0,"ceph mds cap 'allow *' in extend_start

This applies the fix made in kolla-ansible (see [1])
to kolla ceph mon image directly.

[1] https://review.opendev.org/670035

Change-Id: I1822a8c610db72654bbacc7148e25a837090b680
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit b1d4ed51f41721c86a33d766fdfd80aaccf1df60)
(cherry picked from commit 2f45d6810e341cd89a20d5fceff0179cde768acc)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/675042/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/extend_start.sh'],1,97b004af90dcf36ba67137917290614015eba8fc,," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --set-uid=0 --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow *' --cap mgr 'allow *'"," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --set-uid=0 --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow' --cap mgr 'allow *'",1,1
openstack%2Fkolla-ansible~stable%2Fqueens~Iaf7862be1affab390f811fc485fd0eb6879fd583,openstack/kolla-ansible,stable/queens,Iaf7862be1affab390f811fc485fd0eb6879fd583,Fixes for MariaDB bootstrap and recovery,MERGED,2019-07-08 15:32:28.000000000,2019-08-07 12:29:45.000000000,2019-08-07 12:29:45.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-08 15:32:28.000000000', 'files': ['ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ec00c24eb09bc7bc6ab533022f56837b7505253', 'message': ""Fixes for MariaDB bootstrap and recovery\n\n* Fix wsrep sequence number detection. Log message format is\n  'WSREP: Recovered position: <UUID>:<seqno>' but we were picking out\n  the UUID rather than the sequence number. This is as good as random.\n\n* Add become: true to log file reading and removal since\n  I4a5ebcedaccb9261dbc958ec67e8077d7980e496 added become: true to the\n  'docker cp' command which creates it.\n\n* Don't run handlers during recovery. If the config files change we\n  would end up restarting the cluster twice.\n\n* Wait for wsrep recovery container completion (don't detach). This\n  avoids a potential race between wsrep recovery and the subsequent\n  'stop_container'.\n\n* Finally, we now wait for the bootstrap host to report that it is in\n  an OPERATIONAL state. Without this we can see errors where the\n  MariaDB cluster is not ready when used by other services.\n\nChange-Id: Iaf7862be1affab390f811fc485fd0eb6879fd583\nCloses-Bug: #1834467\n(cherry picked from commit 86f373a198620a7082db8e243644fd8d53802c73)\n""}]",0,669703,9ec00c24eb09bc7bc6ab533022f56837b7505253,8,3,1,14826,,,0,"Fixes for MariaDB bootstrap and recovery

* Fix wsrep sequence number detection. Log message format is
  'WSREP: Recovered position: <UUID>:<seqno>' but we were picking out
  the UUID rather than the sequence number. This is as good as random.

* Add become: true to log file reading and removal since
  I4a5ebcedaccb9261dbc958ec67e8077d7980e496 added become: true to the
  'docker cp' command which creates it.

* Don't run handlers during recovery. If the config files change we
  would end up restarting the cluster twice.

* Wait for wsrep recovery container completion (don't detach). This
  avoids a potential race between wsrep recovery and the subsequent
  'stop_container'.

* Finally, we now wait for the bootstrap host to report that it is in
  an OPERATIONAL state. Without this we can see errors where the
  MariaDB cluster is not ready when used by other services.

Change-Id: Iaf7862be1affab390f811fc485fd0eb6879fd583
Closes-Bug: #1834467
(cherry picked from commit 86f373a198620a7082db8e243644fd8d53802c73)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/669703/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml']",2,9ec00c24eb09bc7bc6ab533022f56837b7505253,bug/1834467," - name: Stop MariaDB containers become: true kolla_docker: name: ""{{ mariadb_service.container_name }}"" action: ""stop_container"" # Run wsrep recovery with detach=false to block until completion. Use a # different container name to avoid the mariadb container being removed. - name: Run MariaDB wsrep recovery become: true kolla_docker: action: ""start_container"" common_options: ""{{ docker_common_options }}"" detach: false environment: KOLLA_CONFIG_STRATEGY: ""{{ config_strategy }}"" BOOTSTRAP_ARGS: ""--wsrep-recover"" image: ""{{ mariadb_service.image }}"" labels: BOOTSTRAP: name: mariadb_wsrep_recovery restart_policy: ""never"" volumes: ""{{ mariadb_service.volumes }}"" - name: Copying MariaDB log file to /tmp shell: ""docker cp {{ mariadb_service.container_name }}:/var/log/kolla/mariadb/mariadb.log /tmp/mariadb_tmp.log"" # Look for sequence number in logs. Format is: # WSREP: Recovered position: <UUID>:<seqno>. - name: Get MariaDB wsrep recovery seqno become: true shell: tail -n 200 /tmp/mariadb_tmp.log | awk -F"" "" '$0~/Recovered position/{print $NF;exit;}' | awk -F"":"" '{print $2}' register: wsrep_recovery_seqno - name: Removing MariaDB log file from /tmp become: true file: path: /tmp/mariadb_tmp.log state: absent changed_when: false check_mode: no - name: Registering MariaDB seqno variable set_fact: seqno: ""{{ wsrep_recovery_seqno.stdout_lines[0] }}"" changed_when: false - name: Comparing seqno value on all mariadb hosts shell: cmd: | if [[ ! -z {{ hostvars[inventory_hostname]['seqno'] }} && ! -z {{ hostvars[item]['seqno'] }} && {{ hostvars[inventory_hostname]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[inventory_hostname]['seqno'] }} -lt {{ hostvars[item]['seqno'] }} ]]; then echo {{ hostvars[item]['seqno'] }}; fi with_items: ""{{ groups['mariadb'] }}"" register: seqno_compare args: executable: /bin/bash changed_when: false - name: Writing hostname of host with the largest seqno to temp file local_action: copy content={{ inventory_hostname }} dest=/tmp/kolla_mariadb_recover_inventory_name mode=0644 changed_when: false when: seqno_compare.results | map(attribute='stdout') | join('') == """" - name: Registering mariadb_recover_inventory_name from temp file set_fact: mariadb_recover_inventory_name: ""{{ lookup('file', '/tmp/kolla_mariadb_recover_inventory_name') }}"" become: true- name: Wait for MariaDB to become operational become: true command: >- docker exec {{ mariadb_service.container_name }} mysql -uroot -p{{ database_password }} --silent --skip-column-names -e 'SHOW STATUS LIKE ""wsrep_evs_state""' changed_when: false register: result until: '""OPERATIONAL"" in result.stdout' retries: 10 delay: 6 no_log: true when: - bootstrap_host is defined - bootstrap_host == inventory_hostname "," - name: Stop MariaDB containers kolla_docker: name: ""{{ mariadb_service.container_name }}"" action: ""stop_container"" - name: Run MariaDB wsrep recovery kolla_docker: action: ""start_container"" common_options: ""{{ docker_common_options }}"" environment: KOLLA_CONFIG_STRATEGY: ""{{ config_strategy }}"" BOOTSTRAP_ARGS: ""--wsrep-recover"" image: ""{{ mariadb_service.image }}"" labels: BOOTSTRAP: name: ""{{ mariadb_service.container_name }}"" restart_policy: ""never"" volumes: ""{{ mariadb_service.volumes }}"" - name: Stop MariaDB containers kolla_docker: name: ""{{ mariadb_service.container_name }}"" action: ""stop_container"" - name: Copying MariaDB log file to /tmp shell: ""docker cp {{ mariadb_service.container_name }}:/var/log/kolla/mariadb/mariadb.log /tmp/mariadb_tmp.log"" - name: Get MariaDB wsrep recovery seqno shell: tail -n 200 /tmp/mariadb_tmp.log | awk -F"" "" '$0~/Recovered position/{print $NF;exit;}' | awk -F"":"" '{print $1}' register: wsrep_recovery_seqno - name: Removing MariaDB log file from /tmp file: path=/tmp/mariadb_tmp.log state=absent changed_when: false check_mode: no - name: Registering MariaDB seqno variable set_fact: seqno: ""{{ wsrep_recovery_seqno.stdout_lines[0] }}"" changed_when: false - name: Comparing seqno value on all mariadb hosts shell: cmd: | if [[ ! -z {{ hostvars[inventory_hostname]['seqno'] }} && ! -z {{ hostvars[item]['seqno'] }} && {{ hostvars[inventory_hostname]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[inventory_hostname]['seqno'] }} -lt {{ hostvars[item]['seqno'] }} ]]; then echo {{ hostvars[item]['seqno'] }}; fi with_items: ""{{ groups['mariadb'] }}"" register: seqno_compare args: executable: /bin/bash changed_when: false - name: Writing hostname of host with the largest seqno to temp file local_action: copy content={{ inventory_hostname }} dest=/tmp/kolla_mariadb_recover_inventory_name mode=0644 changed_when: false when: seqno_compare.results | map(attribute='stdout') | join('') == """" - name: Registering mariadb_recover_inventory_name from temp file set_fact: mariadb_recover_inventory_name: ""{{ lookup('file', '/tmp/kolla_mariadb_recover_inventory_name') }}""",99,53
openstack%2Fkolla-ansible~stable%2Frocky~I1cf0ad10b80552f503898e723f0c4bd00a38f143,openstack/kolla-ansible,stable/rocky,I1cf0ad10b80552f503898e723f0c4bd00a38f143,ceph: fixes to deployment and upgrade,MERGED,2019-08-06 17:51:51.000000000,2019-08-07 12:29:44.000000000,2019-08-07 12:29:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-06 17:51:51.000000000', 'files': ['tests/get_logs.sh', 'ansible/roles/ceph/tasks/start_nfss.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/roles/ceph/templates/ganesha.conf.j2', 'ansible/library/kolla_ceph_keyring.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93df0e86da901959f227e8d25b0fb59e41d936d2', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n5) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n6) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n7) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 826f6850d06afbbad95727bdf6cf53fb986b7cf8)\n(cherry picked from commit b26f397bfebfd2d2d70608855178017653f33d26)\n'}]",0,674889,93df0e86da901959f227e8d25b0fb59e41d936d2,7,3,1,30491,,,0,"ceph: fixes to deployment and upgrade

1) ceph-nfs (ganesha-ceph) - use NFSv4 only
This is recommended upstream.
v3 and UDP require portmapper (aka rpcbind) which we
do not want, except where Ubuntu ganesha version (2.6)
forces it by requiring enabled UDP, see [1].
The issue has been fixed in 2.8, included in CentOS.
Additionally disable v3 helper protocols and kerberos
to avoid meaningless warnings.

2) ceph-nfs (ganesha-ceph) - do not export host dbus
It is not in use. This avoids the temptation to try
handling it on host.

3) Properly handle ceph services deploy and upgrade
Upgrade runs deploy.
The order has been corrected - nfs goes after mds.
Additionally upgrade takes care of rgw for keystone
(for swift emulation).

4) Enhance ceph keyring module with error detection
Now it does not blindly try to create a keyring after
any failure. This used to hide real issue.

5) Retry ceph admin keyring update until cluster works
Reordering deployment caused issue with ceph cluster not being
fully operational before taking actions on it.

6) CI: Remove osd df from collected logs as it may hang CI
Hangs are caused by healthy MON and no healthy MGR.
A descriptive note is left in its place.

7) CI: Add 5s timeout to ceph informational commands
This decreases the timeout from the default 300s.

[1] https://review.opendev.org/669315

Change-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 826f6850d06afbbad95727bdf6cf53fb986b7cf8)
(cherry picked from commit b26f397bfebfd2d2d70608855178017653f33d26)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/674889/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/get_logs.sh', 'ansible/roles/ceph/tasks/start_nfss.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/roles/ceph/templates/ganesha.conf.j2', 'ansible/library/kolla_ceph_keyring.py']",6,93df0e86da901959f227e8d25b0fb59e41d936d2,,"import re mds: 'allow *'enoent_re = re.compile(r""\bENOENT\b"") except subprocess.CalledProcessError as e: if e.returncode != 2 or not enoent_re.search(e.output): # this is not a missing keyring case raise", mds: 'allow' except subprocess.CalledProcessError:,47,52
openstack%2Fglance~master~I82e0438de5aaed2ef1975a5aa61062637e32a69e,openstack/glance,master,I82e0438de5aaed2ef1975a5aa61062637e32a69e,Do not use glance_store 0.29.0,MERGED,2019-06-27 07:37:49.000000000,2019-08-07 12:22:35.000000000,2019-08-07 12:22:35.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 07:37:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/f6a938660bc6e8108b0e7ec70a4c8b1879abf9d6', 'message': 'Do not use glance_store 0.29.0\n\nglance_store 0.29.0 introduced backwards incompatible change\nbreaking multi-store feature that was supposed to be included in\n1.0.0 release without any mention in release notes. Revert is in\nprocess and 0.29.1 will be released after. 0.29.0 should not be\nused.\n\nChange-Id: I82e0438de5aaed2ef1975a5aa61062637e32a69e\n'}]",0,667799,f6a938660bc6e8108b0e7ec70a4c8b1879abf9d6,7,3,1,27822,,,0,"Do not use glance_store 0.29.0

glance_store 0.29.0 introduced backwards incompatible change
breaking multi-store feature that was supposed to be included in
1.0.0 release without any mention in release notes. Revert is in
process and 0.29.1 will be released after. 0.29.0 should not be
used.

Change-Id: I82e0438de5aaed2ef1975a5aa61062637e32a69e
",git fetch https://review.opendev.org/openstack/glance refs/changes/99/667799/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f6a938660bc6e8108b0e7ec70a4c8b1879abf9d6,glance-store,"glance-store!=0.29.0,>=0.26.1 # Apache-2.0",glance-store>=0.26.1 # Apache-2.0,1,1
openstack%2Fglance~master~I641f6bb61e545617b9ad971b1215294cf335adbc,openstack/glance,master,I641f6bb61e545617b9ad971b1215294cf335adbc,Modify the url of upper_constraints_file,MERGED,2019-06-19 04:38:43.000000000,2019-08-07 12:20:29.000000000,2019-08-07 12:20:29.000000000,"[{'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 04:38:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/5cab93f8c3917bb3042b36e5c94282652edad3d8', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I641f6bb61e545617b9ad971b1215294cf335adbc\n'}]",1,666215,5cab93f8c3917bb3042b36e5c94282652edad3d8,7,6,1,27822,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I641f6bb61e545617b9ad971b1215294cf335adbc
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/666215/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5cab93f8c3917bb3042b36e5c94282652edad3d8,Bug#4,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fkolla-ansible~stable%2Frocky~I47587cbeb8be0e782c13ba7f40367409e2daa8a8,openstack/kolla-ansible,stable/rocky,I47587cbeb8be0e782c13ba7f40367409e2daa8a8,Add 'allow *' to getting ceph mds keyring,MERGED,2019-08-07 07:13:50.000000000,2019-08-07 12:19:29.000000000,2019-08-07 12:19:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-07 07:13:50.000000000', 'files': ['ansible/roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de34995bd6106efd9103e269ec862122bc3e2fbb', 'message': ""Add 'allow *' to getting ceph mds keyring\n\n* Sometimes getting/creating ceph mds keyring fails, similar to https://tracker.ceph.com/issues/16255\n\nChange-Id: I47587cbeb8be0e782c13ba7f40367409e2daa8a8\n(cherry picked from commit 4e3054b5dac2f0a0f7b128377231b112b4818700)\n(cherry picked from commit a579e19b460662cb5ef26e04e31f0462ae54639c)\n""}]",0,675040,de34995bd6106efd9103e269ec862122bc3e2fbb,7,3,1,30491,,,0,"Add 'allow *' to getting ceph mds keyring

* Sometimes getting/creating ceph mds keyring fails, similar to https://tracker.ceph.com/issues/16255

Change-Id: I47587cbeb8be0e782c13ba7f40367409e2daa8a8
(cherry picked from commit 4e3054b5dac2f0a0f7b128377231b112b4818700)
(cherry picked from commit a579e19b460662cb5ef26e04e31f0462ae54639c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/675040/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/defaults/main.yml'],1,de34995bd6106efd9103e269ec862122bc3e2fbb,bug/ceph_mds_allow-stable/stein-stable/rocky," mds: ""allow *"" mds: 'allow *'"," mds: ""allow"" mds: 'allow '",2,2
openstack%2Fkolla-ansible~stable%2Fstein~Ia4801d09ff1165c44561fd286fc57e903da2c602,openstack/kolla-ansible,stable/stein,Ia4801d09ff1165c44561fd286fc57e903da2c602,Add mon address to ceph release version check,MERGED,2019-08-06 17:52:35.000000000,2019-08-07 12:19:28.000000000,2019-08-07 12:19:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-06 17:52:35.000000000', 'files': ['ansible/roles/ceph/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2085a9c98eee37d1bb7c7477ba689611d7653f91', 'message': 'Add mon address to ceph release version check\n\nChange-Id: Ia4801d09ff1165c44561fd286fc57e903da2c602\n(cherry picked from commit b2c17d60515bbbe283f534d7d0c9034e57589929)\n'}]",0,674891,2085a9c98eee37d1bb7c7477ba689611d7653f91,7,3,1,30491,,,0,"Add mon address to ceph release version check

Change-Id: Ia4801d09ff1165c44561fd286fc57e903da2c602
(cherry picked from commit b2c17d60515bbbe283f534d7d0c9034e57589929)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/674891/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/upgrade.yml'],1,2085a9c98eee37d1bb7c7477ba689611d7653f91,bug/ceph_upgrade-stable/stein," command: ""docker exec ceph_mon ceph -m {{ hostvars[inventory_hostname]['ansible_' + storage_interface]['ipv4']['address'] }} versions"" command: ""docker exec ceph_mon ceph -m {{ hostvars[inventory_hostname]['ansible_' + storage_interface]['ipv4']['address'] }} osd require-osd-release {{ ((ceph_release_command.stdout|from_json).mon | string).split(' ')[4] }}""", shell: docker exec ceph_mon ceph version | cut -d' ' -f5 command: docker exec ceph_mon ceph osd require-osd-release {{ ceph_release_command.stdout }},2,2
openstack%2Fmonasca-notification~master~I111e9923ceb12f364febf33c0b59bdbdac53d5fe,openstack/monasca-notification,master,I111e9923ceb12f364febf33c0b59bdbdac53d5fe,Add PagerDuty notification plugin documentation,MERGED,2019-05-02 08:53:17.000000000,2019-08-07 12:13:46.000000000,2019-08-07 12:13:46.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2019-05-02 08:53:17.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/48ca39876e9296a23e6dd51b7abd0ee34880583f', 'message': 'Add PagerDuty notification plugin documentation\n\nStory: 2005551\nTask: 30699\nChange-Id: I111e9923ceb12f364febf33c0b59bdbdac53d5fe\n'}]",0,656750,48ca39876e9296a23e6dd51b7abd0ee34880583f,21,5,1,17669,,,0,"Add PagerDuty notification plugin documentation

Story: 2005551
Task: 30699
Change-Id: I111e9923ceb12f364febf33c0b59bdbdac53d5fe
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/50/656750/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,48ca39876e9296a23e6dd51b7abd0ee34880583f,,"- PagerDutyPagerDuty plugin ---------------- The PagerDuty plugin supports the PagerDuty v1 Events API. The first step is to `configure`_ a service in PagerDuty which uses this API. Once configured, the service will be assigned an integration key. This key should be used as the `ADDRESS` field when creating the notification type, for example: :: monasca notification-create pd_notification pagerduty a30d5560c5ce4239a6f52a01a15850ca The default settings for the plugin, including the v1 Events API URL should be sufficient to get started, but it is worth checking that the PagerDuty Events v1 API URL matches that provided in the example Monasca Notification config file. .. _configure: https://support.pagerduty.com/docs/services-and-integrations#section-events-api-v1",- Pagerduty,20,1
openstack%2Fcharm-glance~master~I2ba0066e1b296ad61837f94c7f44014293963166,openstack/charm-glance,master,I2ba0066e1b296ad61837f94c7f44014293963166,[WIP] Add HTTPS tests,ABANDONED,2018-07-31 14:18:27.000000000,2019-08-07 12:08:24.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 14:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/25f1447ae893efca0df88cd25d051e465f00907a', 'message': 'Add HTTPS tests\n\nTest that the services are still available and usable after a change of\nconfiguration that enables HTTPS.\n\nChange-Id: I2ba0066e1b296ad61837f94c7f44014293963166\nRelated-Bug: #1477137\n'}, {'number': 2, 'created': '2018-07-31 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/360b7341e5639f008f129d76a646dd94db891b60', 'message': '[WIP] Add HTTPS tests\n\nTest that the services are still available and usable after a change of\nconfiguration that enables HTTPS.\n\nChange-Id: I2ba0066e1b296ad61837f94c7f44014293963166\nRelated-Bug: #1477137\n'}, {'number': 3, 'created': '2018-11-08 05:23:11.000000000', 'files': ['ssl.yaml', 'tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ca8178b7b88b650e091ca196b4ab67ea392a4722', 'message': '[WIP] Add HTTPS tests\n\nTest that the services are still available and usable after a change of\nconfiguration that enables HTTPS.\n\nChange-Id: I2ba0066e1b296ad61837f94c7f44014293963166\nRelated-Bug: #1477137\n'}]",0,587481,ca8178b7b88b650e091ca196b4ab67ea392a4722,9,2,3,28608,,,0,"[WIP] Add HTTPS tests

Test that the services are still available and usable after a change of
configuration that enables HTTPS.

Change-Id: I2ba0066e1b296ad61837f94c7f44014293963166
Related-Bug: #1477137
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/81/587481/1 && git format-patch -1 --stdout FETCH_HEAD,"['ssl.yaml', 'tests/basic_deployment.py']",2,25f1447ae893efca0df88cd25d051e465f00907a,bug/1477137,"import yaml def test_902_enable_https_create_delete_image(self): """"""Enable https in the config and create/delete image"""""" juju_service = 'glance' u.log.debug('Enabling HTTPS...') with open('ssl.yaml') as f: ssl_config = yaml.safe_load(f) self.d.configure(juju_service, ssl_config) u.log.debug('Creating, checking and deleting glance image...') img_new = u.create_cirros_image(self.glance, ""cirros-image-2"") img_id = img_new.id u.delete_resource(self.glance.images, img_id, msg=""glance image"")",,500,0
openstack%2Fmonasca-notification~master~Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef,openstack/monasca-notification,master,Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef,Templates for Slack notifications,MERGED,2017-11-14 12:09:55.000000000,2019-08-07 12:04:51.000000000,2019-08-07 12:04:50.000000000,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-14 12:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/cc07d60236a04061a345ed3ca1eaa66b5dd4839d', 'message': 'Templates for Slack notifications\n\nThis change adds an optional, user configurable template which\nmay be used to format the text contained in Slack notifications.\n\nImplements: blueprint templates-for-slack-notifications\nChange-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef\n'}, {'number': 2, 'created': '2017-11-14 12:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/67e63112d940d46a742dac9eb9bdff58f166c7d1', 'message': 'Templates for Slack notifications\n\nThis change adds an optional, user configurable template which\nmay be used to format the text contained in Slack notifications.\n\nImplements: blueprint templates-for-slack-notifications\nChange-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef\n'}, {'number': 3, 'created': '2017-11-22 15:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/0ca4c1f4f111d10a0a18c92f55baae4584a4026e', 'message': 'Templates for Slack notifications\n\nThis change adds an optional, user configurable template which\nmay be used to format the text contained in Slack notifications.\n\nStory: 2001308\nChange-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef\n'}, {'number': 4, 'created': '2019-04-30 12:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/b3a54534f03302e942213d8d524fd4b217fd6b51', 'message': 'Templates for Slack notifications\n\nThis change adds an optional, user configurable template which\nmay be used to format the text contained in Slack notifications.\n\nStory: 2001308\nChange-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef\n'}, {'number': 5, 'created': '2019-05-01 13:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/82fe17787b64cf8dd0317a85f91fb5d6249fc447', 'message': 'Templates for Slack notifications\n\nThis change adds an optional, user configurable template which\nmay be used to format the text contained in Slack notifications.\n\nStory: 2001308\nChange-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef\n'}, {'number': 6, 'created': '2019-05-01 14:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/4acca504c652f5704b20b1a55f2fbe57d3d7acb9', 'message': 'Templates for Slack notifications\n\nThis change adds an optional, user configurable template which\nmay be used to format the text contained in Slack notifications.\n\nStory: 2001308\nChange-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef\n'}, {'number': 7, 'created': '2019-05-02 08:53:17.000000000', 'files': ['README.rst', 'tests/resources/test_slackformat.template', 'monasca_notification/plugins/slack_notifier.py', 'tests/test_slack_notification.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/39a906b8fba280707e457052224210022407e140', 'message': 'Templates for Slack notifications\n\nThis change adds an optional, user configurable template which\nmay be used to format the text contained in Slack notifications.\n\nStory: 2001308\nTask: 5859\nChange-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef\n'}]",3,519630,39a906b8fba280707e457052224210022407e140,26,6,7,17669,,,0,"Templates for Slack notifications

This change adds an optional, user configurable template which
may be used to format the text contained in Slack notifications.

Story: 2001308
Task: 5859
Change-Id: Id936c3dc8b4f3e2430de20c8b69d0e703b1cf9ef
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/30/519630/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/resources/test_slackformat.template', 'monasca_notification/plugins/slack_notifier.py', 'tests/test_slack_notification.py']",3,cc07d60236a04061a345ed3ca1eaa66b5dd4839d,bp/templates-for-slack-notifications," self._validate_post_args_base(post_args) def _validate_templated_post_args(self, post_args, data_format, expected_slack_text): self.assertEqual(expected_slack_text, post_args.get(data_format).get('text')) self._validate_post_args_base(post_args) def _validate_post_args_base(self, post_args): def test_templated_slack_webhook_success(self): """"""A templated message is successfully sent as json """""" self.conf_override( message_template='tests/resources/test_slackformat.template', group='slack_notifier' ) response_list = [RequestsResponse(200, 'ok', {'Content-Type': 'application/text'})] mock_method, result = self._notify(response_list) self.assertTrue(result) mock_method.assert_called_once() expected_text = 'test Alarm has gone off on host foo1, service bar1.' self._validate_templated_post_args(mock_method.call_args_list[0][1], 'json', expected_text) self.assertEqual([], slack_notifier.SlackNotifier._raw_data_url_caches) ",,42,2
openstack%2Ftripleo-ci~master~I3577433ada3a9166fac16cfaaba60c01bff6420d,openstack/tripleo-ci,master,I3577433ada3a9166fac16cfaaba60c01bff6420d,Use podman as default container CLI for RHEL,MERGED,2019-08-06 16:36:15.000000000,2019-08-07 11:48:58.000000000,2019-08-07 11:48:57.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 16:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/684c8d92f4540a68fef74d9861dd343771a1bae2', 'message': 'Use podman as default container CLI for RHEL\n\nChange-Id: I3577433ada3a9166fac16cfaaba60c01bff6420d\n'}, {'number': 2, 'created': '2019-08-06 20:22:32.000000000', 'files': ['toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5047ed026c593ac23f93a8c1590e32f5f3a8427f', 'message': 'Use podman as default container CLI for RHEL\n\nChange-Id: I3577433ada3a9166fac16cfaaba60c01bff6420d\n'}]",5,674866,5047ed026c593ac23f93a8c1590e32f5f3a8427f,14,6,2,10969,,,0,"Use podman as default container CLI for RHEL

Change-Id: I3577433ada3a9166fac16cfaaba60c01bff6420d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/66/674866/2 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb.yml'],1,684c8d92f4540a68fef74d9861dd343771a1bae2,ovb8,"overcloud_container_cli: >- {%- if ansible_distribution == ""RedHat"" %}podman {%- else %}docker{% endif -%}",overcloud_container_cli: docker,3,1
openstack%2Foctavia~master~I3be0fa18578c7c1552f24842a09e18c01e34358a,openstack/octavia,master,I3be0fa18578c7c1552f24842a09e18c01e34358a,Fix wrong package names or versions for centos-minimal images,MERGED,2019-08-01 16:36:28.000000000,2019-08-07 11:48:04.000000000,2019-08-07 11:48:04.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-01 16:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8f84a1878174d7c6fb7b8f36ab1226d9a9c73e35', 'message': 'Fix wrong package names or versions for centos-minimal images\n\nSince centos-minimal is used as base for centos image, dib installs\nhaproxy 1.5.x instead of haproxy 1.8.x, and dhcp client is missing\n(dhclient package).\n\nStory: 2006323\nTask: 36056\n\nChange-Id: I3be0fa18578c7c1552f24842a09e18c01e34358a\n'}, {'number': 2, 'created': '2019-08-01 16:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/413a4de3db9146ea5defcfe43093e8a053073e6c', 'message': 'Fix wrong package names or versions for centos-minimal images\n\nSince centos-minimal is used as base for centos image, dib installs\nhaproxy 1.5.x instead of haproxy 1.8.x, and dhcp client is missing\n(dhclient package).\n\nDepends-On: https://review.opendev.org/#/c/673172/\n\nStory: 2006323\nTask: 36056\n\nChange-Id: I3be0fa18578c7c1552f24842a09e18c01e34358a\n'}, {'number': 3, 'created': '2019-08-06 15:39:59.000000000', 'files': ['elements/amphora-agent/pkg-map', 'elements/haproxy-octavia/pkg-map', 'elements/haproxy-octavia/pre-install.d/01-backports'], 'web_link': 'https://opendev.org/openstack/octavia/commit/50c168e860b0947b33109dd4d94beea44400f671', 'message': 'Fix wrong package names or versions for centos-minimal images\n\nSince centos-minimal is used as base for centos image, dib installs\nhaproxy 1.5.x instead of haproxy 1.8.x, and dhcp client is missing\n(dhclient package).\n\nDepends-On: https://review.opendev.org/#/c/673172/\n\nStory: 2006323\nTask: 36056\n\nChange-Id: I3be0fa18578c7c1552f24842a09e18c01e34358a\n'}]",2,674087,50c168e860b0947b33109dd4d94beea44400f671,26,6,3,29244,,,0,"Fix wrong package names or versions for centos-minimal images

Since centos-minimal is used as base for centos image, dib installs
haproxy 1.5.x instead of haproxy 1.8.x, and dhcp client is missing
(dhclient package).

Depends-On: https://review.opendev.org/#/c/673172/

Story: 2006323
Task: 36056

Change-Id: I3be0fa18578c7c1552f24842a09e18c01e34358a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/674087/3 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/pkg-map', 'elements/haproxy-octavia/pkg-map', 'elements/haproxy-octavia/pre-install.d/01-backports']",3,8f84a1878174d7c6fb7b8f36ab1226d9a9c73e35,,"elif [ ""$DISTRO_NAME"" == ""centos"" ] && [ ""$DIB_RELEASE"" == ""7"" ]; then","elif [ ""$DISTRO_NAME"" == ""centos7"" ]; then",15,5
openstack%2Fpython-tripleoclient~stable%2Fstein~I27e3f209f948b4c7c04e7994fc4dc7489f28f720,openstack/python-tripleoclient,stable/stein,I27e3f209f948b4c7c04e7994fc4dc7489f28f720,Additional resource cleanup,MERGED,2019-08-06 18:39:29.000000000,2019-08-07 11:31:08.000000000,2019-08-07 11:31:07.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 18:39:29.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_config.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_roles.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd7f4ec14acad2757b0fd4c5ab4f74a83545042c', 'message': 'Additional resource cleanup\n\nThese resources were previously not properly closed when leading to\nResourceWarnings being printed to the end user.\n\nChange-Id: I27e3f209f948b4c7c04e7994fc4dc7489f28f720\nRelated-Bug: #1837393\n(cherry picked from commit 6e13179ecd5ff56df746cb0926cfd16f41ac75e4)\n'}]",0,674905,fd7f4ec14acad2757b0fd4c5ab4f74a83545042c,7,3,1,14985,,,0,"Additional resource cleanup

These resources were previously not properly closed when leading to
ResourceWarnings being printed to the end user.

Change-Id: I27e3f209f948b4c7c04e7994fc4dc7489f28f720
Related-Bug: #1837393
(cherry picked from commit 6e13179ecd5ff56df746cb0926cfd16f41ac75e4)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/05/674905/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/v1/overcloud_config.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_roles.py']",7,fd7f4ec14acad2757b0fd4c5ab4f74a83545042c,bug/1837393," def _stop_capture_output(self, filename=None): """"""Stop capturing stdout to a file if provided"""""" if filename is not None: sys.stdout.close() self._stop_capture_output(parsed_args.output_file)",,44,12
openstack%2Fkolla-ansible~master~I347107bc33733061ad043bffe38ecc1d16770afc,openstack/kolla-ansible,master,I347107bc33733061ad043bffe38ecc1d16770afc,repair ceph_nfs container start failed,MERGED,2019-01-13 13:59:24.000000000,2019-08-07 11:29:44.000000000,2019-01-23 07:21:51.000000000,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 26285}]","[{'number': 1, 'created': '2019-01-13 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f04ec4ebb6d8d23f8caba3bbb354d50f8eddb958', 'message': ""repair ceph_nfs container start failed\n\nwhen enable ceph_nfs,it deploy failed, because no ganesha config\nfile, and the 'ganesha.nfs' command need root privilege to run.\ni will modify ceph_nfs dockerfile,please review. thanks\n\nChange-Id: I347107bc33733061ad043bffe38ecc1d16770afc\nCloses-Bug: #1811581\n""}, {'number': 2, 'created': '2019-01-13 15:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57590fb50046c735a8abc9b00741f352fefcb7b3', 'message': ""repair ceph_nfs container start failed\n\nwhen enable ceph_nfs,it deploy failed, because no ganesha config\nfile, and the 'ganesha.nfs' command need root privilege to run.\ni will modify ceph_nfs dockerfile,please review. thanks\n\nhttps://review.openstack.org/#/c/630510/\n\nChange-Id: I347107bc33733061ad043bffe38ecc1d16770afc\nCloses-Bug: #1811581\n""}, {'number': 3, 'created': '2019-01-17 03:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f69a75ceb2f13ebd3a82c93e370a5729b8c23960', 'message': ""repair ceph_nfs container start failed\n\nwhen enable ceph_nfs,it deploy failed, because no ganesha config\nfile, and the 'ganesha.nfs' command need root privilege to run.\ni will modify ceph_nfs dockerfile,please review. thanks\n\nhttps://review.openstack.org/#/c/630510/\n\nChange-Id: I347107bc33733061ad043bffe38ecc1d16770afc\nCloses-Bug: #1811581\n""}, {'number': 4, 'created': '2019-01-17 15:43:22.000000000', 'files': ['ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/roles/ceph/templates/ceph-nfs.json.j2', 'ansible/roles/ceph/templates/ganesha.conf.j2', 'ansible/roles/ceph/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d35f9a4b706f10bfc1add7fa36dad2b334348afb', 'message': ""repair ceph_nfs container start failed\n\nwhen enable ceph_nfs,it deploy failed, because no ganesha config\nfile, and the 'ganesha.nfs' command need root privilege to run.\ni will modify ceph_nfs dockerfile,please review. thanks\n\nhttps://review.openstack.org/#/c/630510/\n\nChange-Id: I347107bc33733061ad043bffe38ecc1d16770afc\nCloses-Bug: #1811581\n""}]",2,630509,d35f9a4b706f10bfc1add7fa36dad2b334348afb,21,6,4,26285,,,0,"repair ceph_nfs container start failed

when enable ceph_nfs,it deploy failed, because no ganesha config
file, and the 'ganesha.nfs' command need root privilege to run.
i will modify ceph_nfs dockerfile,please review. thanks

https://review.openstack.org/#/c/630510/

Change-Id: I347107bc33733061ad043bffe38ecc1d16770afc
Closes-Bug: #1811581
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/630509/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/roles/ceph/templates/ceph-nfs.json.j2', 'ansible/roles/ceph/tasks/config.yml', 'ansible/roles/ceph/templates/ganesha.conf.j2']",4,f04ec4ebb6d8d23f8caba3bbb354d50f8eddb958,bug/1811581,," User_Id = ""admin"";",26,2
openstack%2Fironic~stable%2Fstein~Id35dcf8ddc209bb8318433d6bf26aba848e074ee,openstack/ironic,stable/stein,Id35dcf8ddc209bb8318433d6bf26aba848e074ee,Ansible module: fix deployment for private and/or shared images,MERGED,2019-07-29 12:28:30.000000000,2019-08-07 11:26:19.000000000,2019-08-07 11:26:19.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15064}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-29 12:28:30.000000000', 'files': ['ironic/drivers/modules/ansible/deploy.py', 'releasenotes/notes/bug-35702-25da234580ca0c31.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9dbec70d7c7e33c67c2091dc829f6a5f768b990c', 'message': 'Ansible module: fix deployment for private and/or shared images\n\nThe ansible module deployment was broken for private/shared images\nbecause the original request context was not available anymore\nat the time the image informations were fetched\n\nChange-Id: Id35dcf8ddc209bb8318433d6bf26aba848e074ee\nStory: #2006178\nTask: #35702\n(cherry picked from commit d0c31d748d3e6ccc05a0452bac5eb67eaca19763)\n'}]",0,673283,9dbec70d7c7e33c67c2091dc829f6a5f768b990c,40,8,1,15064,,,0,"Ansible module: fix deployment for private and/or shared images

The ansible module deployment was broken for private/shared images
because the original request context was not available anymore
at the time the image informations were fetched

Change-Id: Id35dcf8ddc209bb8318433d6bf26aba848e074ee
Story: #2006178
Task: #35702
(cherry picked from commit d0c31d748d3e6ccc05a0452bac5eb67eaca19763)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/673283/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ansible/deploy.py', 'releasenotes/notes/bug-35702-25da234580ca0c31.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py']",3,9dbec70d7c7e33c67c2091dc829f6a5f768b990c,ansible_early_glance_info_preload-stable/stein," def test__prepare_variables(self): i_info = self.node.instance_info i_info['image_mem_req'] = 3000 i_info['image_whatever'] = 'hello' self.node.instance_info = i_info self.node.save() ""mem_req"": 3000, ""checksum"": ""md5:checksum"", ""whatever"": ""hello""}} def test__prepare_variables_root_device_hints(self): def test__prepare_variables_insecure_activated(self): def test__prepare_variables_configdrive_url(self): def test__prepare_variables_configdrive_file(self): @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test_deploy(self, power_mock, mem_req_mock): mem_req_mock.assert_called_once_with(task) i_info = task.node.instance_info self.assertEqual(i_info['image_mem_req'], 2000)"," @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables(self, mem_req_mock): ""mem_req"": 2000, ""checksum"": ""md5:checksum""}} @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_root_device_hints(self, mem_req_mock): ""mem_req"": 2000, @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_noglance(self, mem_req_mock): ""mem_req"": 2000, @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_configdrive_url(self, mem_req_mock): ""mem_req"": 2000, @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_configdrive_file(self, mem_req_mock): ""mem_req"": 2000, def test_deploy(self, power_mock):",42,23
openstack%2Fopenstack-ansible-os_ceilometer~master~I14f040c7549fabfe88882dc609f62cd08ab130db,openstack/openstack-ansible-os_ceilometer,master,I14f040c7549fabfe88882dc609f62cd08ab130db,Change default username for oslo from designate to designate-rpc,MERGED,2019-08-06 11:14:17.000000000,2019-08-07 10:44:52.000000000,2019-08-07 08:02:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-06 11:14:17.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/1e17662057d55392284b765ac9367179d98ba096', 'message': ""Change default username for oslo from designate to designate-rpc\n\nIn designate ansible role the default username for oslo is designate-rpc.\nIf ceilometer is used for designate, ceilometer configuration is generated incorrectly\nand it doesn't start, returning ACCESS_REFUSED\n\nChange-Id: I14f040c7549fabfe88882dc609f62cd08ab130db\n""}]",0,674780,1e17662057d55392284b765ac9367179d98ba096,8,3,1,22018,,,0,"Change default username for oslo from designate to designate-rpc

In designate ansible role the default username for oslo is designate-rpc.
If ceilometer is used for designate, ceilometer configuration is generated incorrectly
and it doesn't start, returning ACCESS_REFUSED

Change-Id: I14f040c7549fabfe88882dc609f62cd08ab130db
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/80/674780/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1e17662057d55392284b765ac9367179d98ba096,,"designate_oslomsg_notify_userid: ""{{ designate_oslomsg_rpc_userid | default('designate-rpc') }}""","designate_oslomsg_notify_userid: ""{{ designate_oslomsg_rpc_userid | default('designate') }}""",1,1
openstack%2Fironic-prometheus-exporter~master~I3f897e0dab56500c18bb01ce35b7071a7df9bad1,openstack/ironic-prometheus-exporter,master,I3f897e0dab56500c18bb01ce35b7071a7df9bad1,Release note for Flask Application,MERGED,2019-08-06 14:37:02.000000000,2019-08-07 10:40:15.000000000,2019-08-07 10:40:15.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-06 14:37:02.000000000', 'files': ['releasenotes/notes/flask_application-b827dd37aacdc4ee.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/458bc25deb4c651f6b550083ac83051b0b13520b', 'message': 'Release note for Flask Application\n\nChange-Id: I3f897e0dab56500c18bb01ce35b7071a7df9bad1\n'}]",0,674818,458bc25deb4c651f6b550083ac83051b0b13520b,7,3,1,15519,,,0,"Release note for Flask Application

Change-Id: I3f897e0dab56500c18bb01ce35b7071a7df9bad1
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/18/674818/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/flask_application-b827dd37aacdc4ee.yaml'],1,458bc25deb4c651f6b550083ac83051b0b13520b,releasenote_flask,--- features: - | Adds a Flask Application that can accept requests under `/metrics`. The response to requests have `text/plain` type and the content is always the aggregation of all files stored in `[oslo_messaging_notifications]/location` in the `ironic.conf`. To run the application you can use any Web Server Gateway and set the application to `ironic_prometheus_exporter.app.wsgi:application`. ,,9,0
openstack%2Fhorizon~master~Iab6be5ed94d794ff5ef6a201671165aaba89f3ec,openstack/horizon,master,Iab6be5ed94d794ff5ef6a201671165aaba89f3ec,Correct error messages on detach volume form under instance panel,MERGED,2019-04-10 07:00:22.000000000,2019-08-07 10:32:23.000000000,2019-08-07 10:32:23.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 27838}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-10 07:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a604733f1474b92f4181c4643491a19ffea8c2a6', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 2, 'created': '2019-04-10 07:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/88ba5a960efbd50ede1d32dba7e80c70aee762c0', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 3, 'created': '2019-04-10 08:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1132ad78071a0f5a1fad8c037ecd5f153a4bbcb8', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 4, 'created': '2019-04-10 09:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/20eb3378b3795eff5d9fc2ed67f103da081e45de', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 5, 'created': '2019-04-11 07:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9a0aa3feaaa4aebf07b20c51993431e8ceed0279', 'message': 'Hide the root device volume on Detach Volume form\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nthe root device volume cannot be Detach.\nThis patch hide the root device volume.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 6, 'created': '2019-04-11 07:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/272f0f5d08676dfeb9b1420fe53f6f1859906f94', 'message': 'Hide the root device volume on Detach Volume form\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nthe root device volume cannot be Detach.\nThis patch hide the root device volume.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 7, 'created': '2019-04-11 09:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/27d4aebd60cc46470bd952535ec004ee6c05376c', 'message': 'Hide the root device volume on Detach Volume form\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nthe root device volume cannot be Detach.\nThis patch hide the root device volume.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 8, 'created': '2019-04-15 02:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0b891552eb59e49d6ec7410f7eb4a237ef7ca4b2', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 9, 'created': '2019-07-31 06:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d8aac652697581083b2ccc91a39a0687c3ce8b11', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 10, 'created': '2019-07-31 07:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d8ce922d301bc83f547f46d772345d8fd5e79a3c', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nCo-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 11, 'created': '2019-07-31 07:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ab315040776ff0d44281d2b71e26578d0fc0e3b4', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nCo-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}, {'number': 12, 'created': '2019-07-31 08:24:31.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/26c5c8c34392124a5c81859ef0acfffd371e6743', 'message': 'Correct error messages on detach volume form under instance panel\n\nOn instance panel，if the volume is the root device volume,\nthe detached volume will fail,\nbut the error message does not explain the cause of the error.\nThis patch corrects the error message.\n\nCo-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>\n\nChange-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec\nCloses-Bug: #1824076\n'}]",10,651445,26c5c8c34392124a5c81859ef0acfffd371e6743,36,6,12,27822,,,0,"Correct error messages on detach volume form under instance panel

On instance panel，if the volume is the root device volume,
the detached volume will fail,
but the error message does not explain the cause of the error.
This patch corrects the error message.

Co-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>

Change-Id: Iab6be5ed94d794ff5ef6a201671165aaba89f3ec
Closes-Bug: #1824076
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/651445/12 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/forms.py'],1,a604733f1474b92f4181c4643491a19ffea8c2a6,bug/1824076,"from novaclient import exceptions as nova_exceptions import pdb;pdb.set_trace() except nova_exceptions.BadRequest as exc: exceptions.handle(request, exc.message)",,5,0
openstack%2Fpython-ironic-inspector-client~master~Ibf9315a6e786c56d2c0cda5d7e9444692986169d,openstack/python-ironic-inspector-client,master,Ibf9315a6e786c56d2c0cda5d7e9444692986169d,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-08-02 06:10:28.000000000,2019-08-07 10:30:50.000000000,2019-08-07 10:30:50.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-02 06:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/4dee47619ff3aaf5f6d5fa2fa35871fb2f4f1b8a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ibf9315a6e786c56d2c0cda5d7e9444692986169d\n'}, {'number': 2, 'created': '2019-08-07 07:28:26.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/2cd0a230a65482fa138b3a9aa1af880f867986a0', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ibf9315a6e786c56d2c0cda5d7e9444692986169d\n'}]",0,674185,2cd0a230a65482fa138b3a9aa1af880f867986a0,12,3,2,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ibf9315a6e786c56d2c0cda5d7e9444692986169d
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/85/674185/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4dee47619ff3aaf5f6d5fa2fa35871fb2f4f1b8a,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fkarbor~master~If548e667f44f671278b2b13c19f97a15d867d905,openstack/karbor,master,If548e667f44f671278b2b13c19f97a15d867d905,Add support for image boot server backup with data,MERGED,2019-07-28 02:04:36.000000000,2019-08-07 10:07:57.000000000,2019-08-07 10:07:57.000000000,"[{'_account_id': 16006}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-07-28 02:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/af937960d42d69075827e8915e253e94c3145f16', 'message': ""Add support for image boot server backup with data\n\nThis patch added support for image boot server backup with\ndata. If the image's parent resource is server type, and\nthe option 'enable_server_backup' is True, it will take\nsnapshot at first, then backup the new created image by\ndoing snapshot.\n\nChange-Id: If548e667f44f671278b2b13c19f97a15d867d905\nStory: 1712059\nTask: 33997\n""}, {'number': 2, 'created': '2019-07-28 03:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/81979ad3df167c0710afa31462b18c0924364fb9', 'message': ""Add support for image boot server backup with data\n\nThis patch added support for image boot server backup with\ndata. If the image's parent resource is server type, and\nthe option 'enable_server_backup' is True, it will take\nsnapshot at first, then backup the new created image by\ndoing snapshot.\n\nChange-Id: If548e667f44f671278b2b13c19f97a15d867d905\nStory: 1712059\nTask: 33997\n""}, {'number': 3, 'created': '2019-08-07 03:15:36.000000000', 'files': ['karbor/tests/unit/protection/test_glance_protection_plugin.py', 'karbor/services/protection/protection_plugins/image/image_protection_plugin.py', 'karbor/services/protection/protectable_plugins/image.py', 'karbor/tests/unit/plugins/test_image_protectable_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/68afbfea71434ad34b8bc0c473d36f1a04e74290', 'message': ""Add support for image boot server backup with data\n\nThis patch added support for image boot server backup with\ndata. If the image's parent resource is server type, and\nthe option 'enable_server_backup' is True, it will take\nsnapshot at first, then backup the new created image by\ndoing snapshot.\n\nChange-Id: If548e667f44f671278b2b13c19f97a15d867d905\nStory: 1712059\nTask: 33997\n""}]",0,673157,68afbfea71434ad34b8bc0c473d36f1a04e74290,13,4,3,21224,,,0,"Add support for image boot server backup with data

This patch added support for image boot server backup with
data. If the image's parent resource is server type, and
the option 'enable_server_backup' is True, it will take
snapshot at first, then backup the new created image by
doing snapshot.

Change-Id: If548e667f44f671278b2b13c19f97a15d867d905
Story: 1712059
Task: 33997
",git fetch https://review.opendev.org/openstack/karbor refs/changes/57/673157/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/unit/protection/test_glance_protection_plugin.py', 'karbor/services/protection/protection_plugins/image/image_protection_plugin.py', 'karbor/services/protection/protectable_plugins/image.py', 'karbor/tests/unit/plugins/test_image_protectable_plugin.py']",4,af937960d42d69075827e8915e253e94c3145f16,image-boot-server-backup," [resource.Resource( type=constants.IMAGE_RESOURCE_TYPE, id='123', name='name123', extra_info={'server_id': 'server1'})])"," [resource.Resource(type=constants.IMAGE_RESOURCE_TYPE, id='123', name='name123')])",191,46
openstack%2Fmetalsmith~master~I40bbf155421cd2b382f8262eb38393c3300478cd,openstack/metalsmith,master,I40bbf155421cd2b382f8262eb38393c3300478cd,Set instance_info.display_name to the hostname,MERGED,2019-08-06 22:54:10.000000000,2019-08-07 10:04:56.000000000,2019-08-07 10:04:56.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 22:54:10.000000000', 'files': ['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/6f316bbad4e8a82ab1d77e0ee2fcc7fbe7f0c476', 'message': 'Set instance_info.display_name to the hostname\n\nThis makes metalsmith consistent with what the nova ironic driver\ndoes, and provides a way of discovering the hostname for a node\nwithout needing to query the allocation API.\n\nChange-Id: I40bbf155421cd2b382f8262eb38393c3300478cd\n'}]",0,674952,6f316bbad4e8a82ab1d77e0ee2fcc7fbe7f0c476,6,2,1,4571,,,0,"Set instance_info.display_name to the hostname

This makes metalsmith consistent with what the nova ironic driver
does, and provides a way of discovering the hostname for a node
without needing to query the allocation API.

Change-Id: I40bbf155421cd2b382f8262eb38393c3300478cd
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/52/674952/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py']",2,6f316bbad4e8a82ab1d77e0ee2fcc7fbe7f0c476,display_name, if hostname: instance_info['display_name'] = hostname,,5,0
openstack%2Fplacement~master~I8120b30271ecdaf7f557a965102d03f67b6fce85,openstack/placement,master,I8120b30271ecdaf7f557a965102d03f67b6fce85,Further optimize _build_provider_summaries,MERGED,2019-08-02 16:34:37.000000000,2019-08-07 09:45:08.000000000,2019-08-07 09:45:08.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-08-02 16:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/70a0fbf4e66d34865716a38e10cb234a5a819121', 'message': ""Further optimize _build_provider_summaries\n\nSince usages don't change per operation, if we enter\n_build_provider_summaries having already created a summary for a given\nresource provider, we can skip processing all the usages for that\nresource provider.\n\nChange-Id: I8120b30271ecdaf7f557a965102d03f67b6fce85\n""}, {'number': 2, 'created': '2019-08-05 14:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4d6b0418ad1361b2db2173e90802043afce22823', 'message': ""Further optimize _build_provider_summaries\n\nSince usages don't change per operation, if we enter\n_build_provider_summaries having already created a summary for a given\nresource provider, we can skip processing all the usages for that\nresource provider.\n\nChange-Id: I8120b30271ecdaf7f557a965102d03f67b6fce85\n""}, {'number': 3, 'created': '2019-08-05 14:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e2e128c505124370b096ec4f8444cbba30fb0f41', 'message': ""Further optimize _build_provider_summaries\n\nSince usages don't change per operation, if we enter\n_build_provider_summaries having already created a summary for a given\nresource provider, we can skip processing all the usages for that\nresource provider.\n\nAnd, if we have no rp_ids left over, we can skip the method\nentirely.\n\nChange-Id: I8120b30271ecdaf7f557a965102d03f67b6fce85\n""}, {'number': 4, 'created': '2019-08-06 08:33:13.000000000', 'files': ['placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/0386f5340787091970ebb0c4b96535635a7f405b', 'message': ""Further optimize _build_provider_summaries\n\nSince usages don't change per operation, if we enter\n_build_provider_summaries having already created a summary for a given\nresource provider, we can skip processing all the usages for that\nresource provider.\n\nAnd, if we have no rp_ids left over, we can skip the method\nentirely.\n\nChange-Id: I8120b30271ecdaf7f557a965102d03f67b6fce85\n""}]",1,674349,0386f5340787091970ebb0c4b96535635a7f405b,17,4,4,14070,,,0,"Further optimize _build_provider_summaries

Since usages don't change per operation, if we enter
_build_provider_summaries having already created a summary for a given
resource provider, we can skip processing all the usages for that
resource provider.

And, if we have no rp_ids left over, we can skip the method
entirely.

Change-Id: I8120b30271ecdaf7f557a965102d03f67b6fce85
",git fetch https://review.opendev.org/openstack/placement refs/changes/49/674349/3 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/allocation_candidate.py'],1,70a0fbf4e66d34865716a38e10cb234a5a819121,optimize-_build_provider_summaries, # Create a pared-down list of usages we care about -- only those for which # we haven't already created summaries pared_usages = [] rp_ids = set() for usage in usages: rp_id = usage['resource_provider_id'] if rp_id not in rw_ctx.summaries_by_id: pared_usages.append(usage) rp_ids.add(rp_id) for usage in pared_usages: summary.traits = prov_traits[rp_id], rp_ids = set(usage['resource_provider_id'] for usage in usages) for usage in usages: summary.traits = prov_traits[rp_id] ,12,4
openstack%2Fplacement~master~I43ae1118421366336b4e96738c2981e07caebec8,openstack/placement,master,I43ae1118421366336b4e96738c2981e07caebec8,Add RequestWideSearchContext.summaries_by_id,MERGED,2019-08-02 10:06:46.000000000,2019-08-07 09:45:07.000000000,2019-08-07 09:45:07.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-08-02 10:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/49b2e0964f6f92a0c7941a7d5801282f2895ca2f', 'message': ""Add RequestWideSearchContext.summaries_by_id\n\nWhen making a GET /allocation_candidates request, ProviderSummaries\nare created for each request group. This can lead to duplicate calls\nto creating the ProviderSummary objects and the ResourceProvider\nobject each contains.\n\nThe usage info is fixed for the duration of the request so there is\nno difference between ProviderSummaries with the same id\n\nTherefore a summaries_by_id dict is added to the\nRequestWideSearchContext to operate as a single-request-wide cache of\nProviderSummary objects so that we don't need to create duplicates.\n\nIn testing using a large number of providers modeled after an\nenhanced nested perfload topology [1], adding the cache more than\nhalfed the number of ProviderSummary and ResourceProvider objects\ncreated. Since creating objects in Python is expensive, this is a\na win.\n\n[1] I67d8091b464cd7b875b37766f52818a5a2faa780\n\nChange-Id: I43ae1118421366336b4e96738c2981e07caebec8\n""}, {'number': 2, 'created': '2019-08-02 14:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/154a46a147a4848557877a51b9deca2241c7c9b4', 'message': ""Add RequestWideSearchContext.summaries_by_id\n\nWhen making a GET /allocation_candidates request, ProviderSummaries\nare created for each request group. This can lead to duplicate calls\nto creating the ProviderSummary objects and the ResourceProvider\nobject each contains.\n\nThe usage info is fixed for the duration of the request so there is\nno difference between ProviderSummaries with the same id\n\nTherefore a summaries_by_id dict is added to the\nRequestWideSearchContext to operate as a single-request-wide cache of\nProviderSummary objects so that we don't need to create duplicates.\n\nIn testing using a large number of providers modeled after an\nenhanced nested perfload topology [1], adding the cache more than\nhalfed the number of ProviderSummary and ResourceProvider objects\ncreated. Since creating objects in Python is expensive, this is a\na win.\n\n[1] I67d8091b464cd7b875b37766f52818a5a2faa780\n\nChange-Id: I43ae1118421366336b4e96738c2981e07caebec8\n""}, {'number': 3, 'created': '2019-08-05 14:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/dff83d155bf909bf5814ebd5522173a6878f7b92', 'message': ""Add RequestWideSearchContext.summaries_by_id\n\nWhen making a GET /allocation_candidates request, ProviderSummaries\nare created for each request group. This can lead to duplicate calls\nto creating the ProviderSummary objects and the ResourceProvider\nobject each contains.\n\nThe usage info is fixed for the duration of the request so there is\nno difference between ProviderSummaries with the same id\n\nTherefore a summaries_by_id dict is added to the\nRequestWideSearchContext to operate as a single-request-wide cache of\nProviderSummary objects so that we don't need to create duplicates.\n\nIn testing using a large number of providers modeled after an\nenhanced nested perfload topology [1], adding the cache more than\nhalfed the number of ProviderSummary and ResourceProvider objects\ncreated. Since creating objects in Python is expensive, this is a\na win.\n\n[1] I67d8091b464cd7b875b37766f52818a5a2faa780\n\nChange-Id: I43ae1118421366336b4e96738c2981e07caebec8\n""}, {'number': 4, 'created': '2019-08-06 08:33:13.000000000', 'files': ['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/6ef820c98272d20b1d153ab35873536c64a0e4ae', 'message': ""Add RequestWideSearchContext.summaries_by_id\n\nWhen making a GET /allocation_candidates request, ProviderSummaries\nare created for each request group. This can lead to duplicate calls\nto creating the ProviderSummary objects and the ResourceProvider\nobject each contains.\n\nThe usage info is fixed for the duration of the request so there is\nno difference between ProviderSummaries with the same id\n\nTherefore a summaries_by_id dict is added to the\nRequestWideSearchContext to operate as a single-request-wide cache of\nProviderSummary objects so that we don't need to create duplicates.\n\nIn testing using a large number of providers modeled after an\nenhanced nested perfload topology [1], adding the cache more than\nhalfed the number of ProviderSummary and ResourceProvider objects\ncreated. Since creating objects in Python is expensive, this is a\na win.\n\n[1] I67d8091b464cd7b875b37766f52818a5a2faa780\n\nChange-Id: I43ae1118421366336b4e96738c2981e07caebec8\n""}]",6,674254,6ef820c98272d20b1d153ab35873536c64a0e4ae,18,4,4,11564,,,0,"Add RequestWideSearchContext.summaries_by_id

When making a GET /allocation_candidates request, ProviderSummaries
are created for each request group. This can lead to duplicate calls
to creating the ProviderSummary objects and the ResourceProvider
object each contains.

The usage info is fixed for the duration of the request so there is
no difference between ProviderSummaries with the same id

Therefore a summaries_by_id dict is added to the
RequestWideSearchContext to operate as a single-request-wide cache of
ProviderSummary objects so that we don't need to create duplicates.

In testing using a large number of providers modeled after an
enhanced nested perfload topology [1], adding the cache more than
halfed the number of ProviderSummary and ResourceProvider objects
created. Since creating objects in Python is expensive, this is a
a win.

[1] I67d8091b464cd7b875b37766f52818a5a2faa780

Change-Id: I43ae1118421366336b4e96738c2981e07caebec8
",git fetch https://review.opendev.org/openstack/placement refs/changes/54/674254/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py']",2,49b2e0964f6f92a0c7941a7d5801282f2895ca2f,optimize-_build_provider_summaries," return _alloc_candidates_multiple_providers( rg_ctx, rw_ctx, rp_candidates)def _alloc_candidates_multiple_providers(rg_ctx, rw_ctx, rp_candidates): :param rw_ctx: RequestWideSearchContext # Extend rw_ctx.summaries_by_id dict, keyed by resource provider internal # ID, of ProviderSummary objects for all providers _build_provider_summaries(rg_ctx.context, rw_ctx, usages, prov_traits) rp_summary = rw_ctx.summaries_by_id[rp.id] root_summary = rw_ctx.summaries_by_id[root_id] res_requests, rw_ctx.summaries_by_id, return list(alloc_requests), list(rw_ctx.summaries_by_id.values()) # Extend rw_ctx.summaries_by_id dict, keyed by resource provider internal # ID, of ProviderSummary objects for all providers _build_provider_summaries(rg_ctx.context, rw_ctx, usages, prov_traits) rp_summary = rw_ctx.summaries_by_id[rp_id] return alloc_requests, list(rw_ctx.summaries_by_id.values())def _build_provider_summaries(context, rw_ctx, usages, prov_traits): Warning: This is side-effecty: It is extending the rw_ctx.summaries_by_id dict. Nothing is returned. :param rw_ctx: placement.research_context.RequestWideSearchContext summary = rw_ctx.summaries_by_id.get(rp_id) rw_ctx.summaries_by_id[rp_id] = summary"," return _alloc_candidates_multiple_providers(rg_ctx, rp_candidates)def _alloc_candidates_multiple_providers(rg_ctx, rp_candidates): # Get a dict, keyed by resource provider internal ID, of ProviderSummary # objects for all providers summaries = _build_provider_summaries(rg_ctx.context, usages, prov_traits) rp_summary = summaries[rp.id] root_summary = summaries[root_id] res_requests, summaries, return list(alloc_requests), list(summaries.values()) # Get a dict, keyed by resource provider internal ID, of ProviderSummary # objects for all providers summaries = _build_provider_summaries(rg_ctx.context, usages, prov_traits) rp_summary = summaries[rp_id] return alloc_requests, list(summaries.values())def _build_provider_summaries(context, usages, prov_traits): summaries = {} summary = summaries.get(rp_id) summaries[rp_id] = summary return summaries",27,19
openstack%2Fneutron~master~Ib6bd097ec5fc55a3447b5406d5e4c5e3976b48ab,openstack/neutron,master,Ib6bd097ec5fc55a3447b5406d5e4c5e3976b48ab,Remove default getattr values in RouterFipRateLimitMaps,MERGED,2019-08-05 15:20:46.000000000,2019-08-07 09:45:05.000000000,2019-08-07 09:45:05.000000000,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-08-05 15:20:46.000000000', 'files': ['neutron/agent/l3/extensions/qos/fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6da30d3ae2f8f27719ae6978ea2872b70689336d', 'message': 'Remove default getattr values in RouterFipRateLimitMaps\n\nWhen retrieving the class attributes, used as cache variables, the\ngetattr function should always return a class member and not a default\nvalue, raising an exception if the attribute does not exist.\n\nIn case of using the default value, the data could be stored in a\ntemporary variable not stored in the class.\n\nTrivialFix\n\nChange-Id: Ib6bd097ec5fc55a3447b5406d5e4c5e3976b48ab\n'}]",0,674634,6da30d3ae2f8f27719ae6978ea2872b70689336d,16,9,1,16688,,,0,"Remove default getattr values in RouterFipRateLimitMaps

When retrieving the class attributes, used as cache variables, the
getattr function should always return a class member and not a default
value, raising an exception if the attribute does not exist.

In case of using the default value, the data could be stored in a
temporary variable not stored in the class.

TrivialFix

Change-Id: Ib6bd097ec5fc55a3447b5406d5e4c5e3976b48ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/674634/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/extensions/qos/fip.py'],1,6da30d3ae2f8f27719ae6978ea2872b70689336d,trivial_fix," rate_limits = getattr(self, direction + ""_ratelimits"") rate_limits = getattr(self, direction + ""_ratelimits"") rate_limits = getattr(self, direction + ""_ratelimits"")"," rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self, rate_limits_direction, {}) rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self, rate_limits_direction, {}) rate_limits_direction = direction + ""_ratelimits"" rate_limits = getattr(self, rate_limits_direction, {})",3,6
openstack%2Fkolla-ansible~stable%2Fstein~I6946290cd890f74c59ed5394e8382a8b75c0c4cd,openstack/kolla-ansible,stable/stein,I6946290cd890f74c59ed5394e8382a8b75c0c4cd,Add ceph-mds/rgw/nfs to gate,MERGED,2019-07-29 14:35:10.000000000,2019-08-07 09:10:18.000000000,2019-08-07 09:10:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-29 14:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf0593db93b1b277808294b70edeb301f3b99693', 'message': 'Add ceph-mds/rgw/nfs to gate\n\nDepends-On: https://review.opendev.org/669315\nChange-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd\n(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)\n'}, {'number': 2, 'created': '2019-07-29 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e453e456a60af84e9a8435787e81d1f27c14462d', 'message': 'Add ceph-mds/rgw/nfs to gate\n\nDepends-On: https://review.opendev.org/669315\nDepends-On: https://review.opendev.org/673320\nChange-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd\n(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)\n'}, {'number': 3, 'created': '2019-08-02 15:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a35c890ae3e4a64e078e8cda2da5f034f93a6abd', 'message': 'Add ceph-mds/rgw/nfs to gate\n\nDepends-On: https://review.opendev.org/674279\nChange-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd\n(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)\n'}, {'number': 4, 'created': '2019-08-06 17:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68e713a045e90991ead938be02640a2eb010811a', 'message': 'Add ceph-mds/rgw/nfs to gate\n\nChange-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd\n(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)\n'}, {'number': 5, 'created': '2019-08-06 17:55:44.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5cbc52f9c21c4b1e4cd2b95d65677655777c76a7', 'message': 'Add ceph-mds/rgw/nfs to gate\n\nChange-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd\n(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)\n'}]",0,673302,5cbc52f9c21c4b1e4cd2b95d65677655777c76a7,17,5,5,30491,,,0,"Add ceph-mds/rgw/nfs to gate

Change-Id: I6946290cd890f74c59ed5394e8382a8b75c0c4cd
(cherry picked from commit a77b0f624ea3d7a1640cf4aefbee007422806690)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/673302/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,bf0593db93b1b277808294b70edeb301f3b99693,feature/ceph-ci-nfs-stable/stein,"enable_ceph_mds: ""yes"" enable_ceph_rgw: ""yes"" enable_ceph_rgw_keystone: ""yes"" enable_ceph_nfs: ""yes""",,4,0
openstack%2Fnetworking-ovn~master~I9e83989f400652476a9fd24cdad450aa3b10215e,openstack/networking-ovn,master,I9e83989f400652476a9fd24cdad450aa3b10215e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-25 09:18:02.000000000,2019-08-07 09:05:34.000000000,2019-08-07 09:05:33.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 09:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/68b482be9b4bfe92e1997659564ea6213868b9c6', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I9e83989f400652476a9fd24cdad450aa3b10215e\n'}, {'number': 2, 'created': '2019-07-29 03:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cc61d74e3b45153ee5d0821aa1a87a219a60852a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I9e83989f400652476a9fd24cdad450aa3b10215e\n'}, {'number': 3, 'created': '2019-07-30 08:56:57.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/012eebf40e50d0edb526e5de82576fcf3df0bf30', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I9e83989f400652476a9fd24cdad450aa3b10215e\n'}]",1,672672,012eebf40e50d0edb526e5de82576fcf3df0bf30,16,5,3,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I9e83989f400652476a9fd24cdad450aa3b10215e
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/72/672672/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,68b482be9b4bfe92e1997659564ea6213868b9c6,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,!=2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fmistral~master~I2a6b99aeb3db3b45e0a4c76f1ea4af3b798de73d,openstack/mistral,master,I2a6b99aeb3db3b45e0a4c76f1ea4af3b798de73d,Use raw strings in all pattern matching strings,MERGED,2019-08-06 14:58:27.000000000,2019-08-07 09:01:34.000000000,2019-08-07 09:01:34.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 14:58:27.000000000', 'files': ['mistral/lang/v2/tasks.py', 'mistral/lang/base.py', 'mistral/lang/v2/workflows.py', 'mistral/lang/v2/on_clause.py', 'mistral/lang/v2/workbook.py', 'mistral/cmd/launch.py', 'mistral/lang/types.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9b576aec7c2ecc56d7c105b80cee3e2ad3dc66e4', 'message': 'Use raw strings in all pattern matching strings\n\nThis removes some of the deprecation warnings on\nunsupported escape sequence for python3.6 and up\n\nChange-Id: I2a6b99aeb3db3b45e0a4c76f1ea4af3b798de73d\n'}]",0,674824,9b576aec7c2ecc56d7c105b80cee3e2ad3dc66e4,7,2,1,19134,,,0,"Use raw strings in all pattern matching strings

This removes some of the deprecation warnings on
unsupported escape sequence for python3.6 and up

Change-Id: I2a6b99aeb3db3b45e0a4c76f1ea4af3b798de73d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/24/674824/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/lang/v2/tasks.py', 'mistral/lang/base.py', 'mistral/lang/v2/workflows.py', 'mistral/lang/v2/on_clause.py', 'mistral/lang/v2/workbook.py', 'mistral/cmd/launch.py', 'mistral/lang/types.py']",7,9b576aec7c2ecc56d7c105b80cee3e2ad3dc66e4,eyalb/raw_string," r""^\w+$"": EXPRESSION r""^\w+$"": ANY_NULLABLE r""^\w+$"": ANY_NULLABLE"," ""^\w+$"": EXPRESSION ""^\w+$"": ANY_NULLABLE ""^\w+$"": ANY_NULLABLE",17,17
openstack%2Fmonasca-log-api~master~I6c551573e053785a0983cf72eab802aa240f89de,openstack/monasca-log-api,master,I6c551573e053785a0983cf72eab802aa240f89de,[WIP] Upgrade Elkstack,ABANDONED,2019-07-29 14:19:39.000000000,2019-08-07 08:52:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-29 14:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/0039490845ed776d934f41404b957a1ddcd3bd61', 'message': '[WIP] Upgrade Elkstack\n\nChange-Id: I6c551573e053785a0983cf72eab802aa240f89de\n'}, {'number': 2, 'created': '2019-08-05 13:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/9baef7a87c9a57e763bf440bc905c21b366b6b85', 'message': '[WIP] Upgrade Elkstack\n\nChange-Id: I6c551573e053785a0983cf72eab802aa240f89de\n'}, {'number': 3, 'created': '2019-08-07 08:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/0d518b1d5182e1b7eff2f6d922c871f56051c1c5', 'message': '[WIP] Upgrade Elkstack\n\nChange-Id: I6c551573e053785a0983cf72eab802aa240f89de\n'}, {'number': 4, 'created': '2019-08-07 08:38:33.000000000', 'files': ['devstack/files/monasca-log-transformer/transformer.conf', 'devstack/files/monasca-agent/http_check.yaml', 'devstack/files/monasca-log-metrics/log-metrics.conf', 'devstack/files/monasca-agent/elastic.yaml', 'devstack/Vagrantfile', 'devstack/files/monasca-log-agent/agent.conf', 'devstack/plugin.sh', 'devstack/files/monasca-log-persister/persister.conf', 'devstack/files/kibana/kibana.yml', 'devstack/files/elasticsearch/elasticsearch.yml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/b9dbb18134e6eb845fa955de517effcd6fb018db', 'message': '[WIP] Upgrade Elkstack\n\nChange-Id: I6c551573e053785a0983cf72eab802aa240f89de\n'}]",0,673297,b9dbb18134e6eb845fa955de517effcd6fb018db,9,1,4,30221,,,0,"[WIP] Upgrade Elkstack

Change-Id: I6c551573e053785a0983cf72eab802aa240f89de
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/97/673297/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/monasca-log-transformer/transformer.conf', 'devstack/files/monasca-agent/http_check.yaml', 'devstack/files/monasca-log-metrics/log-metrics.conf', 'devstack/files/monasca-agent/elastic.yaml', 'devstack/Vagrantfile', 'devstack/files/monasca-log-agent/agent.conf', 'devstack/plugin.sh', 'devstack/files/monasca-log-persister/persister.conf', 'devstack/files/kibana/kibana.yml', 'devstack/files/elasticsearch/elasticsearch.yml', 'devstack/settings']",11,0039490845ed776d934f41404b957a1ddcd3bd61,upgrade_elkstack,"KIBANA_VERSION=${KIBANA_VERSION:-7.1.1-linux-x86_64} LOGSTASH_VERSION=${LOGSTASH_VERSION:-7.1.1} ELASTICSEARCH_VERSION=${ELASTICSEARCH_VERSION:-7.1.1} GRAFANA_REPO=""https://github.com/monasca/grafana"" ",KIBANA_VERSION=${KIBANA_VERSION:-4.6.3-linux-x86_64} LOGSTASH_VERSION=${LOGSTASH_VERSION:-2.4.1} ELASTICSEARCH_VERSION=${ELASTICSEARCH_VERSION:-2.4.6},113,87
openstack%2Fironic-prometheus-exporter~master~Ibe7207e4ac75c70e0478b25d2e51650a2aebb994,openstack/ironic-prometheus-exporter,master,Ibe7207e4ac75c70e0478b25d2e51650a2aebb994,Release note for initial ipmi support,MERGED,2019-08-06 13:04:22.000000000,2019-08-07 08:39:41.000000000,2019-08-07 08:39:41.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-06 13:04:22.000000000', 'files': ['releasenotes/notes/ipmi-initial-support-7af5c694f2bb4cb0.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/573c2e6144c6a3ac637b3a9c1212feff31445038', 'message': 'Release note for initial ipmi support\n\nThis patch adds a release note about the initial payloads\nfrom ipmi that were converted into metrics.\n\nChange-Id: Ibe7207e4ac75c70e0478b25d2e51650a2aebb994\n'}]",0,674809,573c2e6144c6a3ac637b3a9c1212feff31445038,7,3,1,15519,,,0,"Release note for initial ipmi support

This patch adds a release note about the initial payloads
from ipmi that were converted into metrics.

Change-Id: Ibe7207e4ac75c70e0478b25d2e51650a2aebb994
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/09/674809/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ipmi-initial-support-7af5c694f2bb4cb0.yaml'],1,573c2e6144c6a3ac637b3a9c1212feff31445038,release_info,"--- features: - | Adds the initial support to parse ipmi metrics based on the following payloads: `Management`, `Temperature`, `System`, `Current`, `Version`, `Memory`, `Power`, `Watchdog2` and `Fan`. The metrics are generated in a format that is valid to be consumed by Prometheus by using the `prometheus client`. ",,8,0
openstack%2Fironic-prometheus-exporter~master~Iec81269baffa34f5db256be9c40f363e7609d462,openstack/ironic-prometheus-exporter,master,Iec81269baffa34f5db256be9c40f363e7609d462,Move metric creation logic from messaging module,MERGED,2019-07-31 15:58:27.000000000,2019-08-07 08:39:41.000000000,2019-08-07 08:39:40.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-31 15:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/53b0403a6b9ec915121a44c160ecf86751e7a7da', 'message': 'Fixes for ironic_prometheus_exporter\n\nThis patch moves the logic to create each metric from the messaging\nmodule to the ipmi module.\n- Updated parameters in ipmi to work with the dictionary of parameters,\ninstead of hardcoded positional arguments.\n- Updated tests to match the changes.\n- Changed `instance_uuid` field in the json data to be more close to\nOpenStack deployments.\n\nChange-Id: Iec81269baffa34f5db256be9c40f363e7609d462\n'}, {'number': 2, 'created': '2019-08-01 11:01:43.000000000', 'files': ['ironic_prometheus_exporter/tests/test_ipmi_parser.py', 'ironic_prometheus_exporter/parsers/ipmi.py', 'ironic_prometheus_exporter/messaging.py'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/b2e391653bda65b2e0b9218e0c5fef87c37ff476', 'message': 'Move metric creation logic from messaging module\n\nThis patch moves the logic to create each metric from the messaging\nmodule to the ipmi module.\n\n- Updated parameters in ipmi to work with the dictionary of parameters,\ninstead of hardcoded positional arguments.\n- Updated tests to match the changes.\n\nChange-Id: Iec81269baffa34f5db256be9c40f363e7609d462\n'}]",0,673861,b2e391653bda65b2e0b9218e0c5fef87c37ff476,11,4,2,15519,,,0,"Move metric creation logic from messaging module

This patch moves the logic to create each metric from the messaging
module to the ipmi module.

- Updated parameters in ipmi to work with the dictionary of parameters,
instead of hardcoded positional arguments.
- Updated tests to match the changes.

Change-Id: Iec81269baffa34f5db256be9c40f363e7609d462
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/61/673861/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_prometheus_exporter/tests/test_ipmi_parser.py', 'ironic_prometheus_exporter/parsers/ipmi.py', 'ironic_prometheus_exporter/tests/data2.json', 'ironic_prometheus_exporter/messaging.py', 'ironic_prometheus_exporter/tests/data.json']",5,53b0403a6b9ec915121a44c160ecf86751e7a7da,minor-fixes," ""instance_uuid"": ""764a6879-6b78-415f-bde6-79449fceb022"","," ""instance_uuid"": ""ac2aa2fd-6e1a-41c8-a114-2084c8705228"",",160,170
openstack%2Ftripleo-validations~master~I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5,openstack/tripleo-validations,master,I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5,Make xfs-check-ftype molecule test voting again,ABANDONED,2019-08-06 10:52:34.000000000,2019-08-07 08:39:05.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-06 10:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d948a20f07e4fb3c44b5db998dd756f785c7b57a', 'message': 'Make xfs-check-ftype molecule test voting again\n\nChange-Id: I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-08-06 12:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8767dd10738d44bc38dd1d1fe2e232c5d07b5b91', 'message': 'Make xfs-check-ftype molecule test voting again\n\nChange-Id: I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-08-06 13:21:43.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/af69944822f95d3a55e7cc9d71bfc4e4157e762c', 'message': 'Make xfs-check-ftype molecule test voting again\n\nChange-Id: I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,674774,af69944822f95d3a55e7cc9d71bfc4e4157e762c,5,3,3,11491,,,0,"Make xfs-check-ftype molecule test voting again

Change-Id: I1f21ac212b62ec440b3a55cd26d4f8255e5d98a5
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/74/674774/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,d948a20f07e4fb3c44b5db998dd756f785c7b57a,bp/validation-framework-infra,, voting: false,0,1
openstack%2Fcookbook-openstack-block-storage~stable%2Fqueens~I225a30379820e6e033bcea987fbf1a4db33dbd3a,openstack/cookbook-openstack-block-storage,stable/queens,I225a30379820e6e033bcea987fbf1a4db33dbd3a,api: prevent installation of invalid apache2 conf file,MERGED,2019-08-06 16:39:12.000000000,2019-08-07 08:22:02.000000000,2019-08-07 08:22:02.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 16:39:12.000000000', 'files': ['recipes/api.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/f662bc35fddad1ba718106dc96c1a0f612b1797b', 'message': 'api: prevent installation of invalid apache2 conf file\n\nIf apache is (re)starting while the chef-client installs the cinder-api\npackage, it may pick up the package-supplied cinder-wsgi apache2 conf\nfile before chef-client gets around to disabling it which may result in\napache2 failing due to a non-working configuration.\n\nThis changeset eliminates the race by creating an empty configuration\nfile before installing the software. The solution is based on the\nassumption that no reasonably configured package manager will overwrite\nan existing, user-created configuration file. The empty configuration\nfile is left in place to avoid its creation and removal during every\nrecipe run.\n\nbackport: queens\n\nChange-Id: I225a30379820e6e033bcea987fbf1a4db33dbd3a\n(cherry picked from commit 8c0d728d13dffeed1c6a9f51d0422230f2a24671)\n'}]",0,674868,f662bc35fddad1ba718106dc96c1a0f612b1797b,7,3,1,11109,,,0,"api: prevent installation of invalid apache2 conf file

If apache is (re)starting while the chef-client installs the cinder-api
package, it may pick up the package-supplied cinder-wsgi apache2 conf
file before chef-client gets around to disabling it which may result in
apache2 failing due to a non-working configuration.

This changeset eliminates the race by creating an empty configuration
file before installing the software. The solution is based on the
assumption that no reasonably configured package manager will overwrite
an existing, user-created configuration file. The empty configuration
file is left in place to avoid its creation and removal during every
recipe run.

backport: queens

Change-Id: I225a30379820e6e033bcea987fbf1a4db33dbd3a
(cherry picked from commit 8c0d728d13dffeed1c6a9f51d0422230f2a24671)
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/68/674868/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.rb', 'recipes/api.rb']",2,f662bc35fddad1ba718106dc96c1a0f612b1797b,prevent_vanilla_conf_queens,# create file to prevent installation of non-working configuration file '/etc/apache2/conf-available/cinder-wsgi.conf' do owner 'root' group 'www-data' mode '0640' action :create content '# Chef openstack-block-storage: file to block config from package' only_if { platform_family? 'debian' } end ,,11,1
openstack%2Fceilometer~master~Id583cd0d9dcc30b59d2d70391ea5b1e6483decda,openstack/ceilometer,master,Id583cd0d9dcc30b59d2d70391ea5b1e6483decda,Get output for processutils.execute impi command,MERGED,2019-08-07 05:29:07.000000000,2019-08-07 08:00:38.000000000,2019-08-07 07:59:52.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-08-07 05:29:07.000000000', 'files': ['ceilometer/privsep/ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d8ae0e96bbb62adff3a82878d882e5a7e5b55051', 'message': 'Get output for processutils.execute impi command\n\nWithout return will ony execute the command, but impi command need\na output to parse, so this commit add a return for command execute.\n\nChange-Id: Id583cd0d9dcc30b59d2d70391ea5b1e6483decda\n'}]",0,675029,d8ae0e96bbb62adff3a82878d882e5a7e5b55051,7,2,1,14107,,,0,"Get output for processutils.execute impi command

Without return will ony execute the command, but impi command need
a output to parse, so this commit add a return for command execute.

Change-Id: Id583cd0d9dcc30b59d2d70391ea5b1e6483decda
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/29/675029/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/privsep/ipmitool.py'],1,d8ae0e96bbb62adff3a82878d882e5a7e5b55051,, return processutils.execute(*cmd), processutils.execute(*cmd),1,1
openstack%2Ftempest~master~I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4,openstack/tempest,master,I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4,Add unit test for backup of volume,ABANDONED,2019-08-06 06:38:55.000000000,2019-08-07 08:00:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-06 06:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1457e540a459ec27522caa27b04f44f8c53924e1', 'message': 'Add unit test for backup of volume\n\nThis commit Add unit test for backup of volume for volume Api V3, include the following API:\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#create-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#restore-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#delete-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#show-backup-detail\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#export-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#import-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#reset-a-backup-s-status\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4\n'}, {'number': 2, 'created': '2019-08-06 06:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ac8b1189c5dace697d5b99544756ee4e64d08f2', 'message': 'Add unit test for backup of volume\n\nThis commit Add unit test for backup of volume for volume Api V3, include the following API:\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#create-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#restore-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#delete-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#show-backup-detail\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#export-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#import-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#reset-a-backup-s-status\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4\n'}, {'number': 3, 'created': '2019-08-07 00:57:01.000000000', 'files': ['tempest/api/volume/admin/test_volumes_backup.py', 'tempest/lib/services/volume/v3/backups_client.py', 'tempest/tests/lib/services/volume/v3/test_backups_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/29ad265b300de1cca3b91620ab60ec05b2a7c71f', 'message': 'Add unit test for backup of volume\n\nThis commit Add unit test for backup of volume for volume Api V3, include the following API:\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#create-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#restore-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#delete-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#show-backup-detail\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#export-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#import-a-backup\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html#reset-a-backup-s-status\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup\n\nChange-Id: I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4\n'}]",0,674737,29ad265b300de1cca3b91620ab60ec05b2a7c71f,6,1,3,30643,,,0,"Add unit test for backup of volume

This commit Add unit test for backup of volume for volume Api V3, include the following API:
https://docs.openstack.org/api-ref/block-storage/v3/index.html#create-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#restore-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#delete-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#show-backup-detail
https://docs.openstack.org/api-ref/block-storage/v3/index.html#export-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#import-a-backup
https://docs.openstack.org/api-ref/block-storage/v3/index.html#reset-a-backup-s-status
https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=#force-delete-a-backup

Change-Id: I8ccd26ad5c49009699dc9fdf65f773c0edc92ec4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/674737/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/backups_client.py', 'tempest/tests/lib/services/volume/v3/test_backups_client.py']",2,1457e540a459ec27522caa27b04f44f8c53924e1,," FAKE_BACKUP_CREATE = { ""backup"": { ""id"": ""deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""bookmark"" } ], ""name"": ""backup001"", ""metadata"": {} } } FAKE_BACKUP_RESTORE = { ""restore"": { ""backup_id"": ""2ef47aee-8844-490c-804d-2a8efe561c65"", ""volume_id"": ""795114e8-7489-40be-a978-83797f2c1dd3"", ""volume_name"": ""volume01"" } } FAKE_BACKUP_SHOW = { ""backup"": { ""availability_zone"": ""az1"", ""container"": ""volumebackups"", ""created_at"": ""2013-04-02T10:35:27.000000"", ""description"": None, ""fail_reason"": None, ""id"": ""2ef47aee-8844-490c-804d-2a8efe561c65"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/2ef47aee-8844-490c-804d-2a8efe561c65"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/2ef47aee-8844-490c-804d-2a8efe561c65"", ""rel"": ""bookmark"" } ], ""name"": ""backup001"", ""object_count"": 22, ""os-backup-project-attr:project_id"": ""2c67a14be9314c5dae2ee6c4ec90cf0b"", ""user_id"": ""515ba0dd59f84f25a6a084a45d8d93b2"", ""size"": 1, ""updated_at"": ""2013-04-20T05:30:19.000000"", ""data_timestamp"": ""2013-04-20T05:30:19.000000"", ""snapshot_id"": None, ""status"": ""available"", ""volume_id"": ""e5185058-943a-4cb4-96d9-72c184c337d6"", ""is_incremental"": True, ""has_dependent_backups"": False, ""metadata"": { ""key"": ""value"" } } } FAKE_BACKUP_EXPORT= { ""backup-record"": { ""backup_service"": ""cinder.backup.drivers.swift"", ""backup_url"": ""eyJzdGF0"" } } FAKE_BACKUP_IMPORT = { ""backup"": { ""id"": ""deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""links"": [ { ""href"": ""http://localhost:8776/v3/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""self"" }, { ""href"": ""http://localhost:8776/c95fc3e4afe248a49a28828f286a7b38/backups/deac8b8c-35c9-4c71-acaa-889c2d5d5c8e"", ""rel"": ""bookmark"" } ], ""name"": None } } def _test_create_backup(self, bytes_body=False): self.check_service_client_function( self.client.create_backup, 'tempest.lib.common.rest_client.RestClient.post', self.FAKE_BACKUP_CREATE, bytes_body, status=202) def test_create_backup_with_str_body(self): self._test_create_backup() def test_create_backup_with_bytes_body(self): self._test_create_backup(bytes_body=True) def _test_restore_backup(self, bytes_body=False): self.check_service_client_function( self.client.restore_backup, 'tempest.lib.common.rest_client.RestClient.post', self.FAKE_BACKUP_RESTORE, bytes_body, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_restore_backup_with_str_body(self): self._test_restore_backup() def test_restore_backup_with_bytes_body(self): self._test_restore_backup(bytes_body=True) def test_delete_backup(self): self.check_service_client_function( self.client.delete_backup, 'tempest.lib.common.rest_client.RestClient.delete', {}, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def _test_show_backup(self, bytes_body=False): self.check_service_client_function( self.client.show_backup, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_BACKUP_SHOW, bytes_body, status=200) def test_show_backup_with_str_body(self): self._test_show_backup() def test_show_backup_with_bytes_body(self): self._test_show_backup(bytes_body=True) def _test_export_backup(self, bytes_body=False): self.check_service_client_function( self.client.export_backup, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_BACKUP_EXPORT, bytes_body, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_export_backup_with_str_body(self): self._test_export_backup() def test_export_backup_with_bytes_body(self): self._test_export_backup(bytes_body=True) def _test_import_backup(self, bytes_body=False): self.check_service_client_function( self.client.import_backup, 'tempest.lib.common.rest_client.RestClient.post', self.FAKE_BACKUP_IMPORT, bytes_body, status=201, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_import_backup_with_str_body(self): self._test_import_backup() def test_import_backup_with_bytes_body(self): self._test_import_backup(bytes_body=True) def test_reset_backup_status(self): self.check_service_client_function( self.client.reset_backup_status, 'tempest.lib.common.rest_client.RestClient.post', {}, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7') def test_force_delete_backup(self): self.check_service_client_function( self.client.force_delete_backup, 'tempest.lib.common.rest_client.RestClient.post', {}, status=202, backup_id='4c65c15f-a5c5-464b-b92a-90e4c04636a7')",,222,8
openstack%2Fpython-cinderclient~master~I9c13afc35e0c5f129865a9c88e078ad59f4a0c6e,openstack/python-cinderclient,master,I9c13afc35e0c5f129865a9c88e078ad59f4a0c6e,Update api-ref location,MERGED,2019-07-25 16:10:00.000000000,2019-08-07 07:39:14.000000000,2019-08-07 07:39:14.000000000,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-25 16:10:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1b8d5c20fb94eb21a8611b045778f80256b0b4ac', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I9c13afc35e0c5f129865a9c88e078ad59f4a0c6e\n""}]",0,672770,1b8d5c20fb94eb21a8611b045778f80256b0b4ac,8,4,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I9c13afc35e0c5f129865a9c88e078ad59f4a0c6e
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/70/672770/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1b8d5c20fb94eb21a8611b045778f80256b0b4ac,retire-api-site,.. _OpenStack API documentation: https://docs.openstack.org/api-quick-start/,.. _OpenStack API documentation: https://developer.openstack.org/api-guide/quick-start/,1,1
openstack%2Foctavia~master~I6dc4a7626cd5244b445893b96a7d7351ca528dc1,openstack/octavia,master,I6dc4a7626cd5244b445893b96a7d7351ca528dc1,Add missing lib dependencies to requirements.txt,MERGED,2019-07-29 19:54:43.000000000,2019-08-07 07:30:42.000000000,2019-08-07 07:30:42.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 19:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d7523d82e5eaef5dda5b032b3481e0bf91ab64ce', 'message': 'Add missing lib dependencies to requirements.txt\n\nSome Python libraries were missing in requirements.txt. This patch adds\nthem to the list of dependencies.\n\nChange-Id: I6dc4a7626cd5244b445893b96a7d7351ca528dc1\n'}, {'number': 2, 'created': '2019-08-06 15:42:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/262a89c7ed5d3da113e4f1c62130efe12b8defb8', 'message': 'Add missing lib dependencies to requirements.txt\n\nSome Python libraries were missing in requirements.txt. This patch adds\nthem to the list of dependencies.\n\nChange-Id: I6dc4a7626cd5244b445893b96a7d7351ca528dc1\n'}]",0,673359,262a89c7ed5d3da113e4f1c62130efe12b8defb8,19,3,2,6469,,,0,"Add missing lib dependencies to requirements.txt

Some Python libraries were missing in requirements.txt. This patch adds
them to the list of dependencies.

Change-Id: I6dc4a7626cd5244b445893b96a7d7351ca528dc1
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/673359/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d7523d82e5eaef5dda5b032b3481e0bf91ab64ce,,netaddr>=0.7.19 # BSD simplejson>=3.13.2 # MITWerkzeug>=0.14.1 # BSD License,,3,0
openstack%2Fneutron~master~Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5,openstack/neutron,master,Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5,add .idea to .gitignore,ABANDONED,2019-08-05 06:37:08.000000000,2019-08-07 07:29:07.000000000,,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30380}]","[{'number': 1, 'created': '2019-08-05 06:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c57596b58cd1e5b841336e43922ef28e9a03d4aa', 'message': ""add .idea to .gitignore\n\nThe .idea folder is used to save the compiler's project configuration\ninformation, should be added to .gitignore.\n\nChange-Id: Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5\n""}, {'number': 2, 'created': '2019-08-06 02:31:42.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00ddde3c2d8b7f883e832bd1a83505ce3ee09f6d', 'message': ""add .idea to .gitignore\n\nThe .idea folder is used to save the compiler's project configuration\ninformation, should be added to .gitignore.\n\nChange-Id: Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5\n""}]",2,674535,00ddde3c2d8b7f883e832bd1a83505ce3ee09f6d,27,7,2,30380,,,0,"add .idea to .gitignore

The .idea folder is used to save the compiler's project configuration
information, should be added to .gitignore.

Change-Id: Ic189ee18ccbb6c11c65e95d18eb47431e10dadc5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/674535/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,c57596b58cd1e5b841336e43922ef28e9a03d4aa,, # Compiler project configuration information .idea,,3,0
openstack%2Fkolla-ansible~stable%2Fstein~I47587cbeb8be0e782c13ba7f40367409e2daa8a8,openstack/kolla-ansible,stable/stein,I47587cbeb8be0e782c13ba7f40367409e2daa8a8,Add 'allow *' to getting ceph mds keyring,MERGED,2019-07-29 15:54:57.000000000,2019-08-07 07:13:50.000000000,2019-08-02 08:10:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-29 15:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ac745dc416fae933b9efa801b57643d918f90fc', 'message': ""Add 'allow *' to getting ceph mds keyring\n\n* Sometimes getting/creating ceph mds keyring fails, similar to https://tracker.ceph.com/issues/16255\n\nChange-Id: I47587cbeb8be0e782c13ba7f40367409e2daa8a8\n(cherry picked from commit 4e3054b5dac2f0a0f7b128377231b112b4818700)\n""}, {'number': 2, 'created': '2019-08-01 16:30:50.000000000', 'files': ['ansible/roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a579e19b460662cb5ef26e04e31f0462ae54639c', 'message': ""Add 'allow *' to getting ceph mds keyring\n\n* Sometimes getting/creating ceph mds keyring fails, similar to https://tracker.ceph.com/issues/16255\n\nChange-Id: I47587cbeb8be0e782c13ba7f40367409e2daa8a8\n(cherry picked from commit 4e3054b5dac2f0a0f7b128377231b112b4818700)\n""}]",0,673320,a579e19b460662cb5ef26e04e31f0462ae54639c,12,5,2,30491,,,0,"Add 'allow *' to getting ceph mds keyring

* Sometimes getting/creating ceph mds keyring fails, similar to https://tracker.ceph.com/issues/16255

Change-Id: I47587cbeb8be0e782c13ba7f40367409e2daa8a8
(cherry picked from commit 4e3054b5dac2f0a0f7b128377231b112b4818700)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/673320/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/defaults/main.yml'],1,9ac745dc416fae933b9efa801b57643d918f90fc,bug/ceph_mds_allow-stable/stein," mds: ""allow *"" mds: 'allow *'"," mds: ""allow"" mds: 'allow '",2,2
openstack%2Fpython-cyborgclient~master~I4c2ebfc809dd037ad1388ed5fe6398859ab0915b,openstack/python-cyborgclient,master,I4c2ebfc809dd037ad1388ed5fe6398859ab0915b,Update api-ref location,MERGED,2019-07-25 16:10:45.000000000,2019-08-07 06:57:59.000000000,2019-08-07 06:57:59.000000000,"[{'_account_id': 11878}, {'_account_id': 13629}, {'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 21672}, {'_account_id': 22306}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 25847}, {'_account_id': 27458}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-25 16:10:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/6e0c821b4d34f16afc2d8f5dcfaee21cef66ac22', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I4c2ebfc809dd037ad1388ed5fe6398859ab0915b\n""}]",0,672771,6e0c821b4d34f16afc2d8f5dcfaee21cef66ac22,7,13,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I4c2ebfc809dd037ad1388ed5fe6398859ab0915b
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/71/672771/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6e0c821b4d34f16afc2d8f5dcfaee21cef66ac22,retire-api-site,.. _OpenStack API documentation: https://docs.openstack.org/api-quick-start/,.. _OpenStack API documentation: https://developer.openstack.org/api-guide/quick-start/,1,1
openstack%2Fopenstack-ansible~master~I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0,openstack/openstack-ansible,master,I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0,Update links,MERGED,2019-08-04 14:20:37.000000000,2019-08-07 06:25:57.000000000,2019-08-07 06:25:57.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-08-04 14:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0451dcee53a08a47f9517a87a4b9553ab3e652f', 'message': 'Update links\n\nReplace moved networking-guide with current location.\nReplace non-existing anchor in https://galeracluster.com with page link.\nReplace some more moved pages with new location.\nFix many places to use https instead of http.\n\nUse internal RST link that can be verified instead of external one\nfor /user/security/index.html.\n\nChecked with:\nsphinx-build -a -E -W -d doc/build/doctrees -b linkcheck doc/source doc/build/html\n\nChange-Id: I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0\n'}, {'number': 2, 'created': '2019-08-04 14:50:10.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/reference/inventory/inventory.rst', 'doc/source/user/ceph/full-deploy.rst', 'doc/source/user/security/hardening.rst', 'doc/source/conf.py', 'deploy-guide/source/conf.py', 'doc/source/admin/maintenance-tasks/ansible-modules.rst', 'doc/source/contributor/contribute.rst', 'doc/source/user/security/index.rst', 'doc/source/contributor/code-rules.rst', 'doc/source/user/prod/gnocchi_redis.rst', 'doc/source/user/security/ssl-certificates.rst', 'doc/source/reference/architecture/storage-arch.rst', 'doc/source/reference/architecture/container-networking.rst', 'doc/source/reference/inventory/manage-inventory.rst', 'doc/source/admin/troubleshooting.rst', 'doc/source/reference/architecture/manifesto.rst', 'doc/source/reference/architecture/security.rst', 'doc/source/admin/maintenance-tasks/galera.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/96c6635a1596184fb982f8c599196c52101b6d05', 'message': 'Update links\n\nReplace moved networking-guide with current location.\nReplace non-existing anchor in https://galeracluster.com with page link.\nReplace some more moved pages with new location.\nFix many places to use https instead of http.\n\nUse internal RST link that can be verified instead of external one\nfor /user/security/index.html.\n\nChecked with:\nsphinx-build -a -E -W -d doc/build/doctrees -b linkcheck doc/source doc/build/html\n\nChange-Id: I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0\n'}]",0,674495,96c6635a1596184fb982f8c599196c52101b6d05,9,3,2,6547,,,0,"Update links

Replace moved networking-guide with current location.
Replace non-existing anchor in https://galeracluster.com with page link.
Replace some more moved pages with new location.
Fix many places to use https instead of http.

Use internal RST link that can be verified instead of external one
for /user/security/index.html.

Checked with:
sphinx-build -a -E -W -d doc/build/doctrees -b linkcheck doc/source doc/build/html

Change-Id: I0368e509ba6702e0da1a9c96f7cee76a6d35b3e0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/674495/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'doc/source/reference/inventory/inventory.rst', 'doc/source/user/ceph/full-deploy.rst', 'doc/source/user/security/hardening.rst', 'doc/source/conf.py', 'deploy-guide/source/conf.py', 'doc/source/admin/maintenance-tasks/ansible-modules.rst', 'doc/source/contributor/contribute.rst', 'doc/source/user/security/index.rst', 'doc/source/contributor/code-rules.rst', 'doc/source/user/prod/gnocchi_redis.rst', 'doc/source/user/security/ssl-certificates.rst', 'doc/source/reference/architecture/storage-arch.rst', 'doc/source/reference/architecture/container-networking.rst', 'doc/source/reference/inventory/manage-inventory.rst', 'doc/source/admin/troubleshooting.rst', 'doc/source/reference/architecture/manifesto.rst', 'doc/source/reference/architecture/security.rst', 'doc/source/admin/maintenance-tasks/galera.rst']",19,d0451dcee53a08a47f9517a87a4b9553ab3e652f,fix-links, Please also have a look at `upstream starting a cluster page <https://galeracluster.com/documentation-webpages/startingcluster.html>`_.. _restarting the cluster: https://galeracluster.com/library/training/tutorials/restarting-cluster.html .. _recovering the primary component: https://galeracluster.com/documentation-webpages/pcrecovery.html `rebootstrap <https://galeracluster.com/documentation-webpages/quorumreset.html>`_, Please also have a look at `upstream starting a cluster page <http://galeracluster.com/documentation-webpages/startingcluster.html>`_.. _restarting the cluster: http://galeracluster.com/documentation-webpages/restartingcluster.html .. _recovering the primary component: http://galeracluster.com/documentation-webpages/pcrecovery.html `rebootstrap <http://galeracluster.com/documentation-webpages/quorumreset.html#id1>`_,43,40
openstack%2Fnova~master~Id70be2f547b089d3f7c63a75145ded5f80238e8a,openstack/nova,master,Id70be2f547b089d3f7c63a75145ded5f80238e8a,db: Add vpmems to instance_extra,MERGED,2019-06-03 07:46:48.000000000,2019-08-07 06:19:33.000000000,2019-07-10 16:48:07.000000000,"[{'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-03 07:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00792fefa5a62e829a75071412e1aefcc9e07f87', 'message': 'db: Add vpmems to instance_extra\n\nThis change adds a vpmems deferred-load column to\ninstance_extras, which stores a list of vpmem for a given instance\nin the form of a JSON blob.\n\nChange-Id: Id70be2f547b089d3f7c63a75145ded5f80238e8a\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-07-04 03:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e539884c1a989b902f86e72cd86ce94296b7ab4a', 'message': 'db: Add vpmems to instance_extra\n\nThis change adds a vpmems deferred-load column to\ninstance_extras, which stores a list of vpmem for a given instance\nin the form of a JSON blob.\n\nChange-Id: Id70be2f547b089d3f7c63a75145ded5f80238e8a\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-07-04 03:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05657790c171af149679caccb283ae0c200f8461', 'message': 'db: Add vpmems to instance_extra\n\nThis change adds a vpmems deferred-load column to\ninstance_extras, which stores a list of vpmem for a given instance\nin the form of a JSON blob.\n\nChange-Id: Id70be2f547b089d3f7c63a75145ded5f80238e8a\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-07-09 07:39:51.000000000', 'files': ['nova/db/sqlalchemy/migrate_repo/versions/398_add_vpmems.py', 'nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/041285d76a6db9d9fe6fe00c56f7e981e160d4cd', 'message': 'db: Add vpmems to instance_extra\n\nThis change adds a vpmems deferred-load column to\ninstance_extras, which stores a list of vpmem for a given instance\nin the form of a JSON blob.\n\nChange-Id: Id70be2f547b089d3f7c63a75145ded5f80238e8a\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",4,662697,041285d76a6db9d9fe6fe00c56f7e981e160d4cd,41,17,4,23598,,,0,"db: Add vpmems to instance_extra

This change adds a vpmems deferred-load column to
instance_extras, which stores a list of vpmem for a given instance
in the form of a JSON blob.

Change-Id: Id70be2f547b089d3f7c63a75145ded5f80238e8a
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/662697/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/397_add_vpmems.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,00792fefa5a62e829a75071412e1aefcc9e07f87,bp/virtual-persistent-memory," 'vpmems': None, 'trusted_certs', 'vpmems', 'migration_context']"," 'trusted_certs', 'migration_context']",41,1
openstack%2Fironic~stable%2Fstein~Ia1dcc68d7e75a931e01829ce23da36c978a70765,openstack/ironic,stable/stein,Ia1dcc68d7e75a931e01829ce23da36c978a70765,Direct bridge to be setup,MERGED,2019-08-06 12:00:29.000000000,2019-08-07 06:04:11.000000000,2019-08-07 05:43:30.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-08-06 12:00:29.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'playbooks/ci-workarounds/pre.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ab940a2ea93d874ec1df76d575f0dc165db78bc', 'message': 'Direct bridge to be setup\n\nThe multinode jobs are failing because the br-infra bridge\nis not being setup. It is not being setup because somewhere\nin the infra, the multi-node-bridge role is never established\nas a requirement. Realistically, only ironic does this, but\nwe need to ensure it is present.\n\nChange-Id: Ia1dcc68d7e75a931e01829ce23da36c978a70765\n(cherry picked from commit bda02c43fb022a155157402764cd5a74478b8cf1)\n'}]",0,674790,1ab940a2ea93d874ec1df76d575f0dc165db78bc,17,8,1,11655,,,0,"Direct bridge to be setup

The multinode jobs are failing because the br-infra bridge
is not being setup. It is not being setup because somewhere
in the infra, the multi-node-bridge role is never established
as a requirement. Realistically, only ironic does this, but
we need to ensure it is present.

Change-Id: Ia1dcc68d7e75a931e01829ce23da36c978a70765
(cherry picked from commit bda02c43fb022a155157402764cd5a74478b8cf1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/674790/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'playbooks/ci-workarounds/pre.yaml']",2,1ab940a2ea93d874ec1df76d575f0dc165db78bc,, name: Pre-setup tasks roles: - multi-node-bridge, name: Copy ssh keys from too ~stack,6,2
openstack%2Fneutron~stable%2Fstein~I26115932ef4775f157297be1637ee26a4fca4666,openstack/neutron,stable/stein,I26115932ef4775f157297be1637ee26a4fca4666,Fix default RPC worker count,MERGED,2019-08-02 08:46:25.000000000,2019-08-07 05:46:33.000000000,2019-08-07 05:46:33.000000000,"[{'_account_id': 1131}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-08-02 08:46:25.000000000', 'files': ['neutron/service.py', 'neutron/tests/unit/test_service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e7dd4db88a37726ed71e3e9215b7392a1aa9c42', 'message': 'Fix default RPC worker count\n\nThe help for the rpc_workers config option is:\n\n    Number of RPC worker processes for service.  If not specified, the\n    default is equal to half the number of API workers.\n\nHowever, this does not accurately describe the current behaviour,\nwhich is to default to half the _default_ number of API workers.  This\ncan make a big difference; for example on a 256-CPU machine with 256GB\nof RAM which has api_workers configured to 8 but rpc_workers not\nconfigured to anything, this will result in 64 RPC workers, which is 8\nfor every API worker!\n\nTherefore tweak the default to rely on the actual value of\napi_workers, which may be different than the default value.\n\nChange-Id: I26115932ef4775f157297be1637ee26a4fca4666\nRelated-Bug: #1838688\nCloses-Bug: #1838689\n(cherry picked from commit 61d149c0123997accc5c48994d7a4d1514eb49c9)\n'}]",0,674227,2e7dd4db88a37726ed71e3e9215b7392a1aa9c42,22,7,1,2394,,,0,"Fix default RPC worker count

The help for the rpc_workers config option is:

    Number of RPC worker processes for service.  If not specified, the
    default is equal to half the number of API workers.

However, this does not accurately describe the current behaviour,
which is to default to half the _default_ number of API workers.  This
can make a big difference; for example on a 256-CPU machine with 256GB
of RAM which has api_workers configured to 8 but rpc_workers not
configured to anything, this will result in 64 RPC workers, which is 8
for every API worker!

Therefore tweak the default to rely on the actual value of
api_workers, which may be different than the default value.

Change-Id: I26115932ef4775f157297be1637ee26a4fca4666
Related-Bug: #1838688
Closes-Bug: #1838689
(cherry picked from commit 61d149c0123997accc5c48994d7a4d1514eb49c9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/674227/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/service.py', 'neutron/tests/unit/test_service.py']",2,2e7dd4db88a37726ed71e3e9215b7392a1aa9c42,fix-rpc-workers-default," def test_rpc_workers_default_api_workers_default(self): def test_rpc_workers_default_api_workers_set(self): cfg.CONF.set_override('api_workers', 18) self._test_rpc_workers(None, 9) ", def test_rpc_workers_default(self):,6,2
openstack%2Ftripleo-heat-templates~master~I0ada9fc8e7e919a763ef4f524449265963264fc0,openstack/tripleo-heat-templates,master,I0ada9fc8e7e919a763ef4f524449265963264fc0,Enable service token in nova and cinder,MERGED,2019-06-21 00:49:06.000000000,2019-08-07 04:27:22.000000000,2019-08-07 04:27:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-06-21 00:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c873c8bcc93d872576fa5376722f3b9fe8b2c25', 'message': 'WIP: test service token in nova\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}, {'number': 2, 'created': '2019-06-21 00:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9263936fc4a69674e5474742ad107059e4bc999d', 'message': 'WIP: test service token in nova\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}, {'number': 3, 'created': '2019-06-21 01:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b60da9516011acf363dcd9714cc70cbd4b099a55', 'message': 'WIP: test service token in nova and cinder\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}, {'number': 4, 'created': '2019-06-21 01:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/113951f86f16cfbcd3da5eb8f4988478ecd583e6', 'message': 'WIP: test service token in nova and cinder\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}, {'number': 5, 'created': '2019-06-24 00:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76aec708fd2d7867128664279ffadd5b6d4e9a20', 'message': 'Enable service token in nova and cinder\n\nThis patch enables service token feature in nova and cinder, which\ncan be used to avoid problems in inter-component request caused by\ntoken expiration for long running tasks.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}, {'number': 6, 'created': '2019-06-24 08:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9d95efb6379827ab83163341d34136547bdf696', 'message': 'Enable service token in nova and cinder\n\nThis patch enables service token feature in nova and cinder, which\ncan be used to avoid problems in inter-component request caused by\ntoken expiration for long running tasks.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}, {'number': 7, 'created': '2019-07-12 01:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/230c778d626e398d2c457468454dc9081d250a62', 'message': 'Enable service token in nova and cinder\n\nThis patch enables service token feature in nova and cinder, which\ncan be used to avoid problems in inter-component request caused by\ntoken expiration for long running tasks.\n\nDepends-on: https://review.opendev.org/#/c/670424/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}, {'number': 8, 'created': '2019-07-12 01:38:19.000000000', 'files': ['deployment/cinder/cinder-base.yaml', 'deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9dfdc9ef692d891550dfd4101cca9522a29e340e', 'message': 'Enable service token in nova and cinder\n\nThis patch enables service token feature in nova and cinder, which\ncan be used to avoid problems in inter-component request caused by\ntoken expiration for long running tasks.\n\nDepends-on: https://review.opendev.org/#/c/666467/\nDepends-on: https://review.opendev.org/#/c/666471/\nDepends-on: https://review.opendev.org/#/c/666746/\nDepends-on: https://review.opendev.org/#/c/670424/\nChange-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0\n'}]",4,666744,9dfdc9ef692d891550dfd4101cca9522a29e340e,67,8,8,9816,,,0,"Enable service token in nova and cinder

This patch enables service token feature in nova and cinder, which
can be used to avoid problems in inter-component request caused by
token expiration for long running tasks.

Depends-on: https://review.opendev.org/#/c/666467/
Depends-on: https://review.opendev.org/#/c/666471/
Depends-on: https://review.opendev.org/#/c/666746/
Depends-on: https://review.opendev.org/#/c/670424/
Change-Id: I0ada9fc8e7e919a763ef4f524449265963264fc0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/666744/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-base-puppet.yaml'],1,3c873c8bcc93d872576fa5376722f3b9fe8b2c25,service_token," nova::keystone::service_token::send_service_user_token: true nova::keystone::service_token::password: {get_param: NovaPassword} nova::keystone::service_token::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} nova::keystone::service_token::region_name: {get_param: KeystoneRegion}",,4,0
openstack%2Fpython-tripleoclient~master~I53eab2c41c80f5dafff9824bf3086e1d9a369e22,openstack/python-tripleoclient,master,I53eab2c41c80f5dafff9824bf3086e1d9a369e22,Disable telemetry if it's not enabled,MERGED,2019-08-05 15:50:59.000000000,2019-08-07 03:25:49.000000000,2019-08-07 03:25:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-05 15:50:59.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0faa33a6b07f711054ebd8deeaad34a1704745b6', 'message': ""Disable telemetry if it's not enabled\n\nThe disable-telemetry.yaml environment is used to disable all the\ntelemetry services and to disable the notification drivers. Since we\ndidn't have this by default, notifications were still being sent to\nthe undercloud rabbitmq and never consumed.\n\nChange-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22\nCloses-Bug: #1838828\n""}]",0,674639,0faa33a6b07f711054ebd8deeaad34a1704745b6,14,6,1,14985,,,0,"Disable telemetry if it's not enabled

The disable-telemetry.yaml environment is used to disable all the
telemetry services and to disable the notification drivers. Since we
didn't have this by default, notifications were still being sent to
the undercloud rabbitmq and never consumed.

Change-Id: I53eab2c41c80f5dafff9824bf3086e1d9a369e22
Closes-Bug: #1838828
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/674639/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,0faa33a6b07f711054ebd8deeaad34a1704745b6,bug/1838828," 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' '/usertht/environments/' 'disable-telemetry.yaml', '-e', 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/'",,25,0
openstack%2Fpuppet-watcher~master~I6da8ab2d259079449747c19c624a0a3d260b0f78,openstack/puppet-watcher,master,I6da8ab2d259079449747c19c624a0a3d260b0f78,Sync Sphinx requirement,MERGED,2019-08-07 01:13:41.000000000,2019-08-07 02:56:30.000000000,2019-08-07 02:56:29.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:41.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/e209101ea78e17f91b3aafdf607260235c7af6e0', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I6da8ab2d259079449747c19c624a0a3d260b0f78\n'}]",0,674981,e209101ea78e17f91b3aafdf607260235c7af6e0,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I6da8ab2d259079449747c19c624a0a3d260b0f78
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/81/674981/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e209101ea78e17f91b3aafdf607260235c7af6e0,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-aodh~master~I86587072a7489fc250603c8730f3e8946995bada,openstack/puppet-aodh,master,I86587072a7489fc250603c8730f3e8946995bada,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:54:14.000000000,2019-08-07 02:54:14.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/37e640aa58e6da16acb965a6fc6b3ef8afe57dbd', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I86587072a7489fc250603c8730f3e8946995bada\n'}]",0,674975,37e640aa58e6da16acb965a6fc6b3ef8afe57dbd,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I86587072a7489fc250603c8730f3e8946995bada
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/75/674975/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,37e640aa58e6da16acb965a6fc6b3ef8afe57dbd,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-panko~master~I97aefadedc7b8ac5e06014bd985344f2e5ec9592,openstack/puppet-panko,master,I97aefadedc7b8ac5e06014bd985344f2e5ec9592,Sync Sphinx requirement,MERGED,2019-08-07 01:13:42.000000000,2019-08-07 02:52:19.000000000,2019-08-07 02:52:19.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:42.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/96ad098bed3f67a2f5a4efa0e39728418bd396f2', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I97aefadedc7b8ac5e06014bd985344f2e5ec9592\n'}]",0,674982,96ad098bed3f67a2f5a4efa0e39728418bd396f2,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I97aefadedc7b8ac5e06014bd985344f2e5ec9592
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/82/674982/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,96ad098bed3f67a2f5a4efa0e39728418bd396f2,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-oslo~master~I7151639e8955770185913d922b1517a8f5aa2ffd,openstack/puppet-oslo,master,I7151639e8955770185913d922b1517a8f5aa2ffd,Sync Sphinx requirement,MERGED,2019-08-07 01:13:41.000000000,2019-08-07 02:51:23.000000000,2019-08-07 02:51:23.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:41.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/e69e317002222a372d1e2afb2b969d3d17122ac7', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I7151639e8955770185913d922b1517a8f5aa2ffd\n'}]",0,674980,e69e317002222a372d1e2afb2b969d3d17122ac7,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I7151639e8955770185913d922b1517a8f5aa2ffd
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/80/674980/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e69e317002222a372d1e2afb2b969d3d17122ac7,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-neutron~master~I51dc3789c4aa6db7d2958d7056511a9164b1ebaa,openstack/puppet-neutron,master,I51dc3789c4aa6db7d2958d7056511a9164b1ebaa,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:38:42.000000000,2019-08-07 02:38:41.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c820e3f8ec3dbfe53bfaee2557e392cac9774350', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I51dc3789c4aa6db7d2958d7056511a9164b1ebaa\n'}]",0,674996,c820e3f8ec3dbfe53bfaee2557e392cac9774350,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I51dc3789c4aa6db7d2958d7056511a9164b1ebaa
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/96/674996/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c820e3f8ec3dbfe53bfaee2557e392cac9774350,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Foctavia-tempest-plugin~master~Ic3f620dcf02c756395da760f8b73874b40318cb6,openstack/octavia-tempest-plugin,master,Ic3f620dcf02c756395da760f8b73874b40318cb6,Sync enabled_provider_drivers config help message,MERGED,2019-07-25 17:35:13.000000000,2019-08-07 02:34:58.000000000,2019-08-07 02:34:58.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 17:35:13.000000000', 'files': ['octavia_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/decfc35aa862128228196c1113923b54d57ceb96', 'message': 'Sync enabled_provider_drivers config help message\n\nUpdate the help message to match the same help message in octavia.conf.\nUsers were confused because the example was in Python dictionary format.\n\nChange-Id: Ic3f620dcf02c756395da760f8b73874b40318cb6\n'}]",1,672799,decfc35aa862128228196c1113923b54d57ceb96,9,4,1,6469,,,0,"Sync enabled_provider_drivers config help message

Update the help message to match the same help message in octavia.conf.
Users were confused because the example was in Python dictionary format.

Change-Id: Ic3f620dcf02c756395da760f8b73874b40318cb6
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/99/672799/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/config.py'],1,decfc35aa862128228196c1113923b54d57ceb96,," help=('A comma separated list of dictionaries of the ' 'enabled provider driver names and descriptions. ' 'Must match the driver name in the ' 'amphora:The Octavia Amphora driver.,' 'octavia:Deprecated alias of the Octavia ' 'Amphora driver.'),"," help=('List of enabled provider drivers and description ' 'dictionaries. Must match the driver name in the ' '{\'amphora\': \'The Octavia Amphora driver.\', ' '\'octavia\': \'Deprecated alias of the Octavia ' 'Amphora driver.\'}'),",6,5
openstack%2Fpuppet-gnocchi~master~I62ba78166e2fdf7c963689a09786ba7e795b04da,openstack/puppet-gnocchi,master,I62ba78166e2fdf7c963689a09786ba7e795b04da,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:32:05.000000000,2019-08-07 02:32:05.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/614643b6b3b8e05e439573cfb4195bd863e53149', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I62ba78166e2fdf7c963689a09786ba7e795b04da\n'}]",0,675001,614643b6b3b8e05e439573cfb4195bd863e53149,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I62ba78166e2fdf7c963689a09786ba7e795b04da
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/01/675001/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,614643b6b3b8e05e439573cfb4195bd863e53149,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-swift~master~Ifa007810bc904d13a0dbd6531e6e8799896c0916,openstack/puppet-swift,master,Ifa007810bc904d13a0dbd6531e6e8799896c0916,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:31:33.000000000,2019-08-07 02:31:33.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/573d1ca67ae8ecf60320da97c86343ea09eee65f', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ifa007810bc904d13a0dbd6531e6e8799896c0916\n'}]",0,674997,573d1ca67ae8ecf60320da97c86343ea09eee65f,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ifa007810bc904d13a0dbd6531e6e8799896c0916
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/97/674997/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,573d1ca67ae8ecf60320da97c86343ea09eee65f,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-tacker~master~I30ca8f02cef62bb3ba859096fb5e068547aecb3a,openstack/puppet-tacker,master,I30ca8f02cef62bb3ba859096fb5e068547aecb3a,Sync Sphinx requirement,MERGED,2019-08-07 01:13:47.000000000,2019-08-07 02:31:11.000000000,2019-08-07 02:31:11.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:47.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/f0bdaf19b326b97f1c3b58973a2d6132fa607187', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I30ca8f02cef62bb3ba859096fb5e068547aecb3a\n'}]",0,674985,f0bdaf19b326b97f1c3b58973a2d6132fa607187,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I30ca8f02cef62bb3ba859096fb5e068547aecb3a
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/85/674985/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f0bdaf19b326b97f1c3b58973a2d6132fa607187,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-zaqar~master~I27e1c465cf0addaf2c4199a28e17c430a29a5334,openstack/puppet-zaqar,master,I27e1c465cf0addaf2c4199a28e17c430a29a5334,Sync Sphinx requirement,MERGED,2019-08-07 01:13:58.000000000,2019-08-07 02:30:51.000000000,2019-08-07 02:30:50.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:58.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/015989f10daecbc9ef2d693d6f50857cccce0aef', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I27e1c465cf0addaf2c4199a28e17c430a29a5334\n'}]",0,675012,015989f10daecbc9ef2d693d6f50857cccce0aef,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I27e1c465cf0addaf2c4199a28e17c430a29a5334
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/12/675012/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,015989f10daecbc9ef2d693d6f50857cccce0aef,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-murano~master~I6b1a478f0fe628f00a0ecaf20c4c19f5d63c689e,openstack/puppet-murano,master,I6b1a478f0fe628f00a0ecaf20c4c19f5d63c689e,Sync Sphinx requirement,MERGED,2019-08-07 01:13:45.000000000,2019-08-07 02:29:41.000000000,2019-08-07 02:29:41.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:45.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/a132c26abb4a018763fc945177fe4f59cf943155', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I6b1a478f0fe628f00a0ecaf20c4c19f5d63c689e\n'}]",0,674984,a132c26abb4a018763fc945177fe4f59cf943155,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I6b1a478f0fe628f00a0ecaf20c4c19f5d63c689e
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/84/674984/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a132c26abb4a018763fc945177fe4f59cf943155,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-placement~master~Ife13841a285fc311e9f67c446ace699776a1a31d,openstack/puppet-placement,master,Ife13841a285fc311e9f67c446ace699776a1a31d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:28:51.000000000,2019-08-07 02:28:51.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/9d05a5eb75fdb07d5124d3348320624021af6359', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ife13841a285fc311e9f67c446ace699776a1a31d\n'}]",0,674993,9d05a5eb75fdb07d5124d3348320624021af6359,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ife13841a285fc311e9f67c446ace699776a1a31d
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/93/674993/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,9d05a5eb75fdb07d5124d3348320624021af6359,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-octavia~master~Ia6a86f42d9973a74059c237ea1e624cd1ac9cca7,openstack/puppet-octavia,master,Ia6a86f42d9973a74059c237ea1e624cd1ac9cca7,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:28:35.000000000,2019-08-07 02:28:35.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/4b2bb2ff0efa5f751359b3449da8bf63524ca035', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ia6a86f42d9973a74059c237ea1e624cd1ac9cca7\n'}]",0,674999,4b2bb2ff0efa5f751359b3449da8bf63524ca035,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ia6a86f42d9973a74059c237ea1e624cd1ac9cca7
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/99/674999/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4b2bb2ff0efa5f751359b3449da8bf63524ca035,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-ceph~master~Id9ba7eb2efe6d550ce41f28cd48fccab6a64a3a1,openstack/puppet-ceph,master,Id9ba7eb2efe6d550ce41f28cd48fccab6a64a3a1,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:28:12.000000000,2019-08-07 02:28:12.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:40.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/63a275df89ff3eacc5e5a83c03eac28795bf23eb', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Id9ba7eb2efe6d550ce41f28cd48fccab6a64a3a1\n'}]",0,674978,63a275df89ff3eacc5e5a83c03eac28795bf23eb,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id9ba7eb2efe6d550ce41f28cd48fccab6a64a3a1
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/78/674978/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,63a275df89ff3eacc5e5a83c03eac28795bf23eb,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-congress~master~Iffddd8d88a553bc78b4ed7c95ba4e7ceb5e68928,openstack/puppet-congress,master,Iffddd8d88a553bc78b4ed7c95ba4e7ceb5e68928,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:27:17.000000000,2019-08-07 02:27:17.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/f704c71c1cee55d1962a815e3fd775c0799939a0', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Iffddd8d88a553bc78b4ed7c95ba4e7ceb5e68928\n'}]",0,674974,f704c71c1cee55d1962a815e3fd775c0799939a0,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Iffddd8d88a553bc78b4ed7c95ba4e7ceb5e68928
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/74/674974/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f704c71c1cee55d1962a815e3fd775c0799939a0,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-designate~master~Iaa7cb6befdca1816dea643dc2ee0de5e06447a6b,openstack/puppet-designate,master,Iaa7cb6befdca1816dea643dc2ee0de5e06447a6b,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:27:13.000000000,2019-08-07 02:27:12.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/026fa9c4f544b841130e8eb9c3e1a12397c541cb', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Iaa7cb6befdca1816dea643dc2ee0de5e06447a6b\n'}]",0,675003,026fa9c4f544b841130e8eb9c3e1a12397c541cb,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Iaa7cb6befdca1816dea643dc2ee0de5e06447a6b
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/03/675003/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,026fa9c4f544b841130e8eb9c3e1a12397c541cb,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-rally~master~I2e2441d83141dbbb00d29ca9bec9e3726a2db0b5,openstack/puppet-rally,master,I2e2441d83141dbbb00d29ca9bec9e3726a2db0b5,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:27:02.000000000,2019-08-07 02:27:02.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/6db60b1e949ae894b48f6f2c776301dde836d557', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I2e2441d83141dbbb00d29ca9bec9e3726a2db0b5\n'}]",0,675004,6db60b1e949ae894b48f6f2c776301dde836d557,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I2e2441d83141dbbb00d29ca9bec9e3726a2db0b5
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/04/675004/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6db60b1e949ae894b48f6f2c776301dde836d557,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-freezer~master~I3b6ac418c007e3e79ce8dd2928676c39b3c6a541,openstack/puppet-freezer,master,I3b6ac418c007e3e79ce8dd2928676c39b3c6a541,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:26:40.000000000,2019-08-07 02:26:40.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:40.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/656bd5df9069da3a572485208ce6e28f68e5f99f', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I3b6ac418c007e3e79ce8dd2928676c39b3c6a541\n'}]",0,674976,656bd5df9069da3a572485208ce6e28f68e5f99f,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I3b6ac418c007e3e79ce8dd2928676c39b3c6a541
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/76/674976/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,656bd5df9069da3a572485208ce6e28f68e5f99f,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-ceilometer~master~Ia2fdfd2e99f0528c1322c08a745b651fbf5b1f73,openstack/puppet-ceilometer,master,Ia2fdfd2e99f0528c1322c08a745b651fbf5b1f73,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:24:55.000000000,2019-08-07 02:24:55.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:40.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6f69b2b9245da2995d0e63be8f2067c20a849766', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ia2fdfd2e99f0528c1322c08a745b651fbf5b1f73\n'}]",0,674979,6f69b2b9245da2995d0e63be8f2067c20a849766,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ia2fdfd2e99f0528c1322c08a745b651fbf5b1f73
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/79/674979/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6f69b2b9245da2995d0e63be8f2067c20a849766,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-keystone~master~I70a14b036f37f3bb8950a61d9282fea980fa393d,openstack/puppet-keystone,master,I70a14b036f37f3bb8950a61d9282fea980fa393d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:24:41.000000000,2019-08-07 02:24:41.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f6530c918a9c48a83c63e31fc269eec05246b055', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I70a14b036f37f3bb8950a61d9282fea980fa393d\n'}]",0,675002,f6530c918a9c48a83c63e31fc269eec05246b055,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I70a14b036f37f3bb8950a61d9282fea980fa393d
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/02/675002/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f6530c918a9c48a83c63e31fc269eec05246b055,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-monasca~master~I4256b8a55b5209fa11f737d5d27b29c2b3380997,openstack/puppet-monasca,master,I4256b8a55b5209fa11f737d5d27b29c2b3380997,Sync Sphinx requirement,MERGED,2019-08-07 01:13:40.000000000,2019-08-07 02:21:00.000000000,2019-08-07 02:21:00.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:40.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/0dcbb05883e508a5e1c4eb90905894178964afeb', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I4256b8a55b5209fa11f737d5d27b29c2b3380997\n'}]",0,674977,0dcbb05883e508a5e1c4eb90905894178964afeb,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4256b8a55b5209fa11f737d5d27b29c2b3380997
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/77/674977/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0dcbb05883e508a5e1c4eb90905894178964afeb,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-horizon~master~Id3459aab4bad0909217da87671a0bb25c8a8a9b0,openstack/puppet-horizon,master,Id3459aab4bad0909217da87671a0bb25c8a8a9b0,Sync Sphinx requirement,MERGED,2019-08-07 01:13:42.000000000,2019-08-07 02:20:33.000000000,2019-08-07 02:20:33.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:42.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/26b6f38c60af5f677964c73e1f4e115b0eec2d24', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Id3459aab4bad0909217da87671a0bb25c8a8a9b0\n'}]",0,674983,26b6f38c60af5f677964c73e1f4e115b0eec2d24,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id3459aab4bad0909217da87671a0bb25c8a8a9b0
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/83/674983/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,26b6f38c60af5f677964c73e1f4e115b0eec2d24,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fnetworking-ovn~stable%2Fstein~I229b01f88d97cadfd8d3acff94e01fed87671d79,openstack/networking-ovn,stable/stein,I229b01f88d97cadfd8d3acff94e01fed87671d79,Only initialize the ovsdb connection on first start,MERGED,2019-07-25 07:20:29.000000000,2019-08-07 02:16:52.000000000,2019-08-07 02:16:52.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9f5ebdf8bc702ff6f3a27acec6f2d045d1c4597a', 'message': ""Only initialize the ovsdb connection on first start\n\nCache the ovsdb connection on the first driver start so that we don't\npull in the whole DB with every single update to the octavia driver.\n\nStory: 2006196\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n(cherry picked from commit 35044ae5a8ac12892b638e297302efc0276d80c6)\n""}, {'number': 2, 'created': '2019-07-31 09:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a7b1bb2318b0906faa4a8ea7a6abb28c480ad988', 'message': ""Only initialize the ovsdb connection on first start\n\nCache the ovsdb connection on the first driver start so that we don't\npull in the whole DB with every single update to the octavia driver.\n\nStory: 2006196\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n(cherry picked from commit 35044ae5a8ac12892b638e297302efc0276d80c6)\n""}, {'number': 3, 'created': '2019-07-31 09:18:13.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/aefa80f0ddb15e1fc420f934417654f3bfda39d0', 'message': ""Only initialize the ovsdb connection on first start\n\nCache the ovsdb connection on the first driver start so that we don't\npull in the whole DB with every single update to the octavia driver.\n\nStory: 2006196\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n(cherry picked from commit 35044ae5a8ac12892b638e297302efc0276d80c6)\n""}]",0,672648,aefa80f0ddb15e1fc420f934417654f3bfda39d0,16,5,3,24791,,,0,"Only initialize the ovsdb connection on first start

Cache the ovsdb connection on the first driver start so that we don't
pull in the whole DB with every single update to the octavia driver.

Story: 2006196
Change-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79
(cherry picked from commit 35044ae5a8ac12892b638e297302efc0276d80c6)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/48/672648/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,9f5ebdf8bc702ff6f3a27acec6f2d045d1c4597a,ovn_driver_stein_cherry_picks," def test_single_ovsdb_connection(self): prov_helper1 = ovn_driver.OvnProviderHelper() prov_helper2 = ovn_driver.OvnProviderHelper() self.assertIs(prov_helper1.ovn_nbdb_api, prov_helper2.ovn_nbdb_api) prov_helper2.shutdown() prov_helper1.shutdown()",,13,5
openstack%2Fpuppet-cloudkitty~master~I14d5de3a11588d236de5351bdf71e1f3c296e757,openstack/puppet-cloudkitty,master,I14d5de3a11588d236de5351bdf71e1f3c296e757,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:13:10.000000000,2019-08-07 02:13:09.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/c5dbebf0a153adf8716b29ed403465de946bc9d1', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I14d5de3a11588d236de5351bdf71e1f3c296e757\n'}]",0,674972,c5dbebf0a153adf8716b29ed403465de946bc9d1,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I14d5de3a11588d236de5351bdf71e1f3c296e757
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/72/674972/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c5dbebf0a153adf8716b29ed403465de946bc9d1,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-tempest~master~I5203c7fb211747ffd7f386db5950c02e3d4549e9,openstack/puppet-tempest,master,I5203c7fb211747ffd7f386db5950c02e3d4549e9,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:12:01.000000000,2019-08-07 02:12:01.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/483805f5e8c3d6b16010f143f16a77f90e65df7f', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I5203c7fb211747ffd7f386db5950c02e3d4549e9\n'}]",0,674995,483805f5e8c3d6b16010f143f16a77f90e65df7f,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I5203c7fb211747ffd7f386db5950c02e3d4549e9
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/95/674995/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,483805f5e8c3d6b16010f143f16a77f90e65df7f,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-glance~master~I7a65118e9c5d12555a58c2a2f12638e2f02968f1,openstack/puppet-glance,master,I7a65118e9c5d12555a58c2a2f12638e2f02968f1,Sync Sphinx requirement,MERGED,2019-08-07 01:13:52.000000000,2019-08-07 02:08:26.000000000,2019-08-07 02:08:26.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:52.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/22eab9f31ca7c6fc11a8b50a8e0f92574764f4c6', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I7a65118e9c5d12555a58c2a2f12638e2f02968f1\n'}]",0,674988,22eab9f31ca7c6fc11a8b50a8e0f92574764f4c6,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I7a65118e9c5d12555a58c2a2f12638e2f02968f1
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/88/674988/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,22eab9f31ca7c6fc11a8b50a8e0f92574764f4c6,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-vitrage~master~Ic17c1533571cc1d5f15a36a55ccdf7c3ec422318,openstack/puppet-vitrage,master,Ic17c1533571cc1d5f15a36a55ccdf7c3ec422318,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 02:08:24.000000000,2019-08-07 02:08:24.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/df9c408363df120fc6cbbca3155ff075711ececd', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ic17c1533571cc1d5f15a36a55ccdf7c3ec422318\n'}]",0,674998,df9c408363df120fc6cbbca3155ff075711ececd,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic17c1533571cc1d5f15a36a55ccdf7c3ec422318
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/98/674998/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,df9c408363df120fc6cbbca3155ff075711ececd,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-glare~master~I9f2ce84523e08c9e8c0849874a098bd750a4fb0c,openstack/puppet-glare,master,I9f2ce84523e08c9e8c0849874a098bd750a4fb0c,Sync Sphinx requirement,MERGED,2019-08-07 01:13:39.000000000,2019-08-07 02:07:04.000000000,2019-08-07 02:07:04.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/6514505bee0e237def913cb2234bc2a58b6f9490', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I9f2ce84523e08c9e8c0849874a098bd750a4fb0c\n'}]",0,674973,6514505bee0e237def913cb2234bc2a58b6f9490,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I9f2ce84523e08c9e8c0849874a098bd750a4fb0c
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/73/674973/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6514505bee0e237def913cb2234bc2a58b6f9490,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-heat~master~I21e65c659533f407581653b5fa7a6233fc56ef44,openstack/puppet-heat,master,I21e65c659533f407581653b5fa7a6233fc56ef44,Sync Sphinx requirement,MERGED,2019-08-07 01:14:13.000000000,2019-08-07 02:02:31.000000000,2019-08-07 02:02:30.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:14:13.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/734f083417376fe97d7983918e7e2370d85e4dc0', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I21e65c659533f407581653b5fa7a6233fc56ef44\n'}]",0,675013,734f083417376fe97d7983918e7e2370d85e4dc0,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I21e65c659533f407581653b5fa7a6233fc56ef44
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/13/675013/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,734f083417376fe97d7983918e7e2370d85e4dc0,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-trove~master~Idbdc701d619d0a29f2642d77af95d600cf6254db,openstack/puppet-trove,master,Idbdc701d619d0a29f2642d77af95d600cf6254db,Sync Sphinx requirement,MERGED,2019-08-07 01:13:57.000000000,2019-08-07 02:02:30.000000000,2019-08-07 02:02:30.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:57.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/88392fb6a4e70fcf2e6da2ddeb0ae1d55a043aa6', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Idbdc701d619d0a29f2642d77af95d600cf6254db\n'}]",0,675011,88392fb6a4e70fcf2e6da2ddeb0ae1d55a043aa6,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Idbdc701d619d0a29f2642d77af95d600cf6254db
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/11/675011/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,88392fb6a4e70fcf2e6da2ddeb0ae1d55a043aa6,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-openstack-cookiecutter~master~Ic5a70a7e7bada1bbd13ebaf3d188e0fdabdebc64,openstack/puppet-openstack-cookiecutter,master,Ic5a70a7e7bada1bbd13ebaf3d188e0fdabdebc64,Sync Sphinx requirement,MERGED,2019-08-07 01:13:53.000000000,2019-08-07 02:01:25.000000000,2019-08-07 02:01:24.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:53.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/e515faad5d539ec0ffceccb6d737c745f3780e3f', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ic5a70a7e7bada1bbd13ebaf3d188e0fdabdebc64\n'}]",0,674992,e515faad5d539ec0ffceccb6d737c745f3780e3f,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic5a70a7e7bada1bbd13ebaf3d188e0fdabdebc64
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/92/674992/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/doc/requirements.txt'],1,e515faad5d539ec0ffceccb6d737c745f3780e3f,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-openstack-specs~master~Id6bf855311e0a360da996c03c1378812642d03a4,openstack/puppet-openstack-specs,master,Id6bf855311e0a360da996c03c1378812642d03a4,Sync Sphinx requirement,MERGED,2019-08-07 01:34:28.000000000,2019-08-07 02:01:24.000000000,2019-08-07 02:01:24.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:34:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-specs/commit/22072a17f3b1b866aa1c9debb73150e1daa56d32', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Id6bf855311e0a360da996c03c1378812642d03a4\n'}]",0,675018,22072a17f3b1b866aa1c9debb73150e1daa56d32,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id6bf855311e0a360da996c03c1378812642d03a4
",git fetch https://review.opendev.org/openstack/puppet-openstack-specs refs/changes/18/675018/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,22072a17f3b1b866aa1c9debb73150e1daa56d32,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fpuppet-openstack_spec_helper~master~I4cb098cc276718d270f59596ba48f096fb744684,openstack/puppet-openstack_spec_helper,master,I4cb098cc276718d270f59596ba48f096fb744684,Sync Sphinx requirement,MERGED,2019-08-07 01:13:47.000000000,2019-08-07 02:01:07.000000000,2019-08-07 02:01:07.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:47.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/4a00016fd5a22cdb26b960e4725c5bffa62ea038', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I4cb098cc276718d270f59596ba48f096fb744684\n'}]",0,674986,4a00016fd5a22cdb26b960e4725c5bffa62ea038,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4cb098cc276718d270f59596ba48f096fb744684
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/86/674986/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4a00016fd5a22cdb26b960e4725c5bffa62ea038,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-ec2api~master~Ic7cd2ed8ab74665a63327a31a862d25299a0a604,openstack/puppet-ec2api,master,Ic7cd2ed8ab74665a63327a31a862d25299a0a604,Sync Sphinx requirement,MERGED,2019-08-07 01:13:52.000000000,2019-08-07 02:00:47.000000000,2019-08-07 02:00:47.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:52.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/70aa7cb339311366e870e5ab24d1a902674a1096', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ic7cd2ed8ab74665a63327a31a862d25299a0a604\n'}]",0,674989,70aa7cb339311366e870e5ab24d1a902674a1096,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic7cd2ed8ab74665a63327a31a862d25299a0a604
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/89/674989/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,70aa7cb339311366e870e5ab24d1a902674a1096,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-mistral~master~I978599639072da42f8ecbb9b9eb73c90f7a7aa1f,openstack/puppet-mistral,master,I978599639072da42f8ecbb9b9eb73c90f7a7aa1f,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 02:00:29.000000000,2019-08-07 02:00:29.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/14963c5c0a6a979405deaada5ebd4c9129069d7e', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I978599639072da42f8ecbb9b9eb73c90f7a7aa1f\n'}]",0,675005,14963c5c0a6a979405deaada5ebd4c9129069d7e,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I978599639072da42f8ecbb9b9eb73c90f7a7aa1f
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/05/675005/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,14963c5c0a6a979405deaada5ebd4c9129069d7e,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-openstack_extras~master~Ie5223b8853fb329ed3aaa84a83efca538055d16d,openstack/puppet-openstack_extras,master,Ie5223b8853fb329ed3aaa84a83efca538055d16d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 01:59:44.000000000,2019-08-07 01:59:44.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/4dc0d827334280c97a0a37fb5ec9d0e3f87ae609', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ie5223b8853fb329ed3aaa84a83efca538055d16d\n'}]",0,675006,4dc0d827334280c97a0a37fb5ec9d0e3f87ae609,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ie5223b8853fb329ed3aaa84a83efca538055d16d
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/06/675006/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4dc0d827334280c97a0a37fb5ec9d0e3f87ae609,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-vswitch~master~I06295c4d26f47b50390e27ffda72e1ef0e0a234c,openstack/puppet-vswitch,master,I06295c4d26f47b50390e27ffda72e1ef0e0a234c,Sync Sphinx requirement,MERGED,2019-08-07 01:13:56.000000000,2019-08-07 01:59:30.000000000,2019-08-07 01:59:30.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:56.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/44b66ca9038538c981c474333d682eed467ba6c9', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I06295c4d26f47b50390e27ffda72e1ef0e0a234c\n'}]",0,675010,44b66ca9038538c981c474333d682eed467ba6c9,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I06295c4d26f47b50390e27ffda72e1ef0e0a234c
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/10/675010/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,44b66ca9038538c981c474333d682eed467ba6c9,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-barbican~master~I4ab7a2b508820f5fb4416009203dad37e1c3663d,openstack/puppet-barbican,master,I4ab7a2b508820f5fb4416009203dad37e1c3663d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 01:59:08.000000000,2019-08-07 01:59:08.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/0b456c73e12e90bffc1b988acfdcbdec8f26d040', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I4ab7a2b508820f5fb4416009203dad37e1c3663d\n'}]",0,675008,0b456c73e12e90bffc1b988acfdcbdec8f26d040,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4ab7a2b508820f5fb4416009203dad37e1c3663d
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/08/675008/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0b456c73e12e90bffc1b988acfdcbdec8f26d040,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-ironic~master~Ic04efcdfd9a617748873f9de18a9452c3a3f1c5c,openstack/puppet-ironic,master,Ic04efcdfd9a617748873f9de18a9452c3a3f1c5c,Sync Sphinx requirement,MERGED,2019-08-07 01:13:52.000000000,2019-08-07 01:59:06.000000000,2019-08-07 01:59:06.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:52.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/eb9f7146f3d4c6eb4f6f41a3a474e57693f5fce8', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ic04efcdfd9a617748873f9de18a9452c3a3f1c5c\n'}]",0,674987,eb9f7146f3d4c6eb4f6f41a3a474e57693f5fce8,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic04efcdfd9a617748873f9de18a9452c3a3f1c5c
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/87/674987/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,eb9f7146f3d4c6eb4f6f41a3a474e57693f5fce8,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-qdr~master~I946686cd36bb8ebf607ee53df77d26846841e27e,openstack/puppet-qdr,master,I946686cd36bb8ebf607ee53df77d26846841e27e,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 01:59:00.000000000,2019-08-07 01:58:59.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/3fc3c04ba480f4e3ac03887afc7e979bd3ee3e98', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I946686cd36bb8ebf607ee53df77d26846841e27e\n'}]",0,675000,3fc3c04ba480f4e3ac03887afc7e979bd3ee3e98,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I946686cd36bb8ebf607ee53df77d26846841e27e
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/00/675000/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3fc3c04ba480f4e3ac03887afc7e979bd3ee3e98,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-magnum~master~Id96d80ca2bf2e8126cdb2f0dfa8004c762ffabac,openstack/puppet-magnum,master,Id96d80ca2bf2e8126cdb2f0dfa8004c762ffabac,Sync Sphinx requirement,MERGED,2019-08-07 01:33:45.000000000,2019-08-07 01:58:55.000000000,2019-08-07 01:58:55.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:33:45.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/6d9a4f16a96d34a87a65cda1927a876d8fc5d9c1', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Id96d80ca2bf2e8126cdb2f0dfa8004c762ffabac\n'}]",0,675016,6d9a4f16a96d34a87a65cda1927a876d8fc5d9c1,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id96d80ca2bf2e8126cdb2f0dfa8004c762ffabac
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/16/675016/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6d9a4f16a96d34a87a65cda1927a876d8fc5d9c1,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-openstacklib~master~I1115e2eb6d15af3ea69ef561fa6dc57d198922ab,openstack/puppet-openstacklib,master,I1115e2eb6d15af3ea69ef561fa6dc57d198922ab,Sync Sphinx requirement,MERGED,2019-08-07 01:13:56.000000000,2019-08-07 01:58:47.000000000,2019-08-07 01:58:46.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:56.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/39a2ddbcce4e95fa4a55ecb7c9261a44ffeae3f1', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I1115e2eb6d15af3ea69ef561fa6dc57d198922ab\n'}]",0,675009,39a2ddbcce4e95fa4a55ecb7c9261a44ffeae3f1,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I1115e2eb6d15af3ea69ef561fa6dc57d198922ab
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/09/675009/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,39a2ddbcce4e95fa4a55ecb7c9261a44ffeae3f1,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-sahara~master~I25b8928dc4727845a6b55b24fe0f3f56c9fbc3c7,openstack/puppet-sahara,master,I25b8928dc4727845a6b55b24fe0f3f56c9fbc3c7,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 01:58:25.000000000,2019-08-07 01:58:25.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/d221c5b312063edda14bc3cd044ececf80e8b619', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I25b8928dc4727845a6b55b24fe0f3f56c9fbc3c7\n'}]",0,674990,d221c5b312063edda14bc3cd044ececf80e8b619,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I25b8928dc4727845a6b55b24fe0f3f56c9fbc3c7
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/90/674990/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,d221c5b312063edda14bc3cd044ececf80e8b619,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-manila~master~I4abbbe7f74c57bb49e24620199277624d23bc27d,openstack/puppet-manila,master,I4abbbe7f74c57bb49e24620199277624d23bc27d,Sync Sphinx requirement,MERGED,2019-08-07 01:13:55.000000000,2019-08-07 01:58:14.000000000,2019-08-07 01:58:14.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/90137b342064b5b39523430c5a0f5d03631bea75', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I4abbbe7f74c57bb49e24620199277624d23bc27d\n'}]",0,675007,90137b342064b5b39523430c5a0f5d03631bea75,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I4abbbe7f74c57bb49e24620199277624d23bc27d
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/07/675007/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,90137b342064b5b39523430c5a0f5d03631bea75,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-senlin~master~I12369c6a8a4875ec394287baaf0471261a0d8739,openstack/puppet-senlin,master,I12369c6a8a4875ec394287baaf0471261a0d8739,Sync Sphinx requirement,MERGED,2019-08-07 01:13:54.000000000,2019-08-07 01:58:09.000000000,2019-08-07 01:58:09.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/1071192e98adaec308dfb42a4ad393bc1136da65', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I12369c6a8a4875ec394287baaf0471261a0d8739\n'}]",0,674994,1071192e98adaec308dfb42a4ad393bc1136da65,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I12369c6a8a4875ec394287baaf0471261a0d8739
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/94/674994/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,1071192e98adaec308dfb42a4ad393bc1136da65,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-cinder~master~I66118675cabafe475eb6647534f3a69c3ebd9b28,openstack/puppet-cinder,master,I66118675cabafe475eb6647534f3a69c3ebd9b28,Sync Sphinx requirement,MERGED,2019-08-07 01:34:03.000000000,2019-08-07 01:57:32.000000000,2019-08-07 01:57:31.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:34:03.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/40c0d79ebcad9f626f91d5d2c7984f7a5e51b80a', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I66118675cabafe475eb6647534f3a69c3ebd9b28\n'}]",0,675017,40c0d79ebcad9f626f91d5d2c7984f7a5e51b80a,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I66118675cabafe475eb6647534f3a69c3ebd9b28
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/17/675017/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,40c0d79ebcad9f626f91d5d2c7984f7a5e51b80a,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-nova~master~Ifb49b0e4f60c3cc536973f0cdb5b5d147fe52a01,openstack/puppet-nova,master,Ifb49b0e4f60c3cc536973f0cdb5b5d147fe52a01,Sync Sphinx requirement,MERGED,2019-08-07 01:25:24.000000000,2019-08-07 01:45:38.000000000,2019-08-07 01:45:38.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:25:24.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/33385ce1909e8baf5b0000522da2ba566ce59ecc', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ifb49b0e4f60c3cc536973f0cdb5b5d147fe52a01\n'}]",0,675015,33385ce1909e8baf5b0000522da2ba566ce59ecc,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ifb49b0e4f60c3cc536973f0cdb5b5d147fe52a01
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/15/675015/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,33385ce1909e8baf5b0000522da2ba566ce59ecc,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fpuppet-openstack-guide~master~I301306f3d83f5ea7378204ee81773629c9aec757,openstack/puppet-openstack-guide,master,I301306f3d83f5ea7378204ee81773629c9aec757,Sync Sphinx requirement,MERGED,2019-08-07 01:13:53.000000000,2019-08-07 01:42:15.000000000,2019-08-07 01:42:15.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-07 01:13:53.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/04ae879a5c4dcaaf338743fdccf50e97b013e312', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I301306f3d83f5ea7378204ee81773629c9aec757\n'}]",0,674991,04ae879a5c4dcaaf338743fdccf50e97b013e312,6,2,1,9414,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I301306f3d83f5ea7378204ee81773629c9aec757
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/91/674991/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,04ae879a5c4dcaaf338743fdccf50e97b013e312,fix-sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Ftacker-specs~master~I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea,openstack/tacker-specs,master,I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea,Minor update on force-delete resources spec,MERGED,2019-02-14 11:04:47.000000000,2019-08-07 01:23:21.000000000,2019-08-07 01:23:21.000000000,"[{'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26297}, {'_account_id': 26588}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-02-14 11:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/456193bd3fec7e0f5177e990cf1df5b49776a11b', 'message': 'Minor update on force-delete resources spec\n\n- Minor update to clarify the spec.\n- Add myself as a other contributor.\n\nblueprint force-delete-resources\n\nChange-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea\n'}, {'number': 2, 'created': '2019-02-14 11:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/039336a6ff2a98e361c25b5432b2b88c00b294e1', 'message': 'Minor update on force-delete resources spec\n\n- Minor update to clarify the spec.\n- Add myself as a other contributor.\n\nblueprint force-delete-resources\n\nChange-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea\n'}, {'number': 3, 'created': '2019-02-15 05:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1c0b0c00107225417a49dcc02c689d8cd804224e', 'message': 'Minor update on force-delete resources spec\n\n- Minor update to clarify the spec.\n- Add myself as a other contributor.\n\nblueprint force-delete-resources\n\nChange-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea\n'}, {'number': 4, 'created': '2019-02-15 05:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/21ffa42b880e52f7e71b03b85cc8b08f51fd3732', 'message': 'Minor update on force-delete resources spec\n\n- Minor update to clarify the spec.\n- Add myself as a other contributor.\n\nblueprint force-delete-resources\n\nChange-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea\n'}, {'number': 5, 'created': '2019-05-13 06:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/af49e5e83acb1c839406df76b864f49befd637f6', 'message': 'Minor update on force-delete resources spec\n\n- Minor update to clarify the spec.\n- Add myself as a other contributor.\n\nblueprint force-delete-resources\n\nChange-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea\n'}, {'number': 6, 'created': '2019-07-13 03:18:56.000000000', 'files': ['specs/stein/support-force-delete.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fa1f7e506e7e3623ea77c567de90b820c1e509bb', 'message': 'Minor update on force-delete resources spec\n\n- Minor update to clarify the spec.\n- Add myself as a other contributor.\n\nblueprint force-delete-resources\n\nChange-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea\n'}]",0,636922,fa1f7e506e7e3623ea77c567de90b820c1e509bb,24,10,6,27153,,,0,"Minor update on force-delete resources spec

- Minor update to clarify the spec.
- Add myself as a other contributor.

blueprint force-delete-resources

Change-Id: I5e85d70dac2c8f2f9b509f0f41d8fd50e19f21ea
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/22/636922/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/support-force-delete.rst'],1,456193bd3fec7e0f5177e990cf1df5b49776a11b,bp/force-delete-resources,"Provide support to force delete resources being stuck in some states such as pending, error, etc..In the current implementation, if any resource (i.e., VNFs) stuck in an abnormal state, we don't have a mechanism to clean them. It is required to clean those resource from the database even if somehow deletion from backend got failed. For example, when the VNFs are failed to delete due to underlying system or software error, those VNFs goes into PENDING_DELETE state. As a result, vnf-delete on these PENDING_DELETE VNFs doesn't work and these VNFs are stuck forever. We need to provide some mechanism for admin to ""force"" the deletion ofAdd a new parameter --force in delete command for resources (i.e., VNF, NS & VNFFG) and corresponding support in the server will be added to force delete these resources.not further usable and stuck in ERROR or PENDING_* state.* This feature will be required to clean Tacker DB for the cases when normal delete workflow is failed. To avoid the chances of accident and any inconsistency, we will keep it as an admin-only operation. So that admin can verify/debug the issue and can take suitable action on the backend. * A success message will have some information that resource has been deleted with --force. For example:After login to Tacker database, we can use the SQL commands to list the resources which are stuck in PENDING_* state and then remove them manually from the database. Keep in mind that we also need to update other related tables too. Nguyen Hai <nguyentrihai93@gmail.com> <nguyentrihai@ssu.ac.kr>Tacker documentation will need to be updated to show this new feature and how to use it.","Provide support to force delete resources being stucked in some state like pending, error etc..In the current implementation, if resources(i.e. VNFs) stuck in any abnormal state, we don't have mechanism to clean them. It is required to clean those resource from database even if somehow deletion from backend got failed. Like, when VNF delete fails due to underlying system or software error, those VNFs goes into PENDING_DELETE state. Now, vnf-delete on these PENDING_DELETE VNFs doesn't work and these VNFs are stuck forever. We need to provide some mechanism for admin to ""force"" the deletion ofAdd New parameter --force in delete command for resources(i.e. VNF, NS & VNFFG) and corresponding support in server will be added to force delete these resources.not further usable, and stuck in ERROR or PENDING_* state.* This feature will be required to clean Tacker db for the cases when normal delete workflow get failed. So to avoid the chances of accident and any inconsistency, we will keep it as an admin-only operation. so that admin can verify/debug the issue and can take suitable action on backend. * Success message will have some information that resource has been deleted with --force. Ex:Login to Tacker database, use the sql commands to list the resources which are stuck in PENDING_* state, and then remove them manually from the database. Keep in mind to update other related tables too.Tacker documentation will need to be updated to reflect this new support.",24,23
openstack%2Fswift~master~I668b11251a3d1192d42dfe914010d089df413da7,openstack/swift,master,I668b11251a3d1192d42dfe914010d089df413da7,Use `is` to compare against sentinel object,MERGED,2019-08-06 17:15:05.000000000,2019-08-07 00:34:20.000000000,2019-08-07 00:32:53.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 17:15:05.000000000', 'files': ['swift/common/utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a10d936ee57c5eb331b56965fa79779e77978c84', 'message': 'Use `is` to compare against sentinel object\n\n...since `==` can have repercussions by way of __eq__()\n\nChange-Id: I668b11251a3d1192d42dfe914010d089df413da7\n'}]",0,674883,a10d936ee57c5eb331b56965fa79779e77978c84,7,2,1,15343,,,0,"Use `is` to compare against sentinel object

...since `==` can have repercussions by way of __eq__()

Change-Id: I668b11251a3d1192d42dfe914010d089df413da7
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/674883/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils.py'],1,a10d936ee57c5eb331b56965fa79779e77978c84,, if rv is DEAD:, if rv == DEAD:,1,1
openstack%2Ftripleo-heat-templates~master~Ia1dd8eb26a2645a65854dfb97e99c711fc1d3b95,openstack/tripleo-heat-templates,master,Ia1dd8eb26a2645a65854dfb97e99c711fc1d3b95,scenario007: re-enabled Tacker service testing,ABANDONED,2019-08-06 16:26:48.000000000,2019-08-07 00:31:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 16:26:48.000000000', 'files': ['ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario007-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac19aa489745c176aa59d426464f98b36977c378', 'message': ""scenario007: re-enabled Tacker service testing\n\nTacker doesn't seem to be WIP anymore, let's test it.\n\nChange-Id: Ia1dd8eb26a2645a65854dfb97e99c711fc1d3b95\n""}]",0,674864,ac19aa489745c176aa59d426464f98b36977c378,4,2,1,3153,,,0,"scenario007: re-enabled Tacker service testing

Tacker doesn't seem to be WIP anymore, let's test it.

Change-Id: Ia1dd8eb26a2645a65854dfb97e99c711fc1d3b95
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/674864/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario007-standalone.yaml']",2,ac19aa489745c176aa59d426464f98b36977c378,tacker, OS::TripleO::Services::Tacker: ../../deployment/tacker/tacker-container-puppet.yaml, # TODO(mandre) fix the tacker service - https://bugs.launchpad.net/tripleo/+bug/1714270 # OS::TripleO::Services::Tacker: ../../docker/services/tacker.yaml # TODO tacker still wip https://bugs.launchpad.net/tripleo/+bug/1714270 # OS::TripleO::Services::Tacker: ../../deployment/tacker/tacker-container-puppet.yaml,2,8
openstack%2Fsushy~master~Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3,openstack/sushy,master,Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3,Make message registries available to all resources,MERGED,2019-07-12 14:59:10.000000000,2019-08-06 23:42:07.000000000,2019-07-26 09:13:56.000000000,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-07-12 14:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/151d1b9c6158611e540391336f7b215d2a6a8c43', 'message': 'Make message registries available to all resources\n\nThis patch makes parsed message registries accessible to all sushy\nresource objects for consumption. Prior to that, only System resource\nhad access to message registries what proved insufficient.\n\nChange-Id: Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3\nCo-Authored-By: Richard.Pioso@dell.com\n'}, {'number': 2, 'created': '2019-07-15 09:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b5c25e2ca443a1d84e29bf2cec84732e82a32e18', 'message': 'Make message registries available to all resources\n\nThis patch makes parsed message registries accessible to all sushy\nresource objects for consumption. Prior to that, only System resource\nhad access to message registries what proved insufficient.\n\nChange-Id: Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3\nCo-Authored-By: Richard.Pioso@dell.com\n'}, {'number': 3, 'created': '2019-07-22 07:56:56.000000000', 'files': ['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/tests/unit/resources/compositionservice/test_resourceblock.py', 'sushy/tests/unit/resources/sessionservice/test_session.py', 'sushy/tests/unit/test_main.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/resources/updateservice/softwareinventory.py', 'sushy/resources/system/bios.py', 'sushy/tests/unit/resources/compositionservice/test_resourcezone.py', 'sushy/tests/unit/resources/system/test_simple_storage.py', 'sushy/tests/unit/resources/chassis/test_chassis.py', 'sushy/resources/sessionservice/session.py', 'sushy/resources/manager/manager.py', 'sushy/resources/compositionservice/resourceblock.py', 'sushy/main.py', 'sushy/resources/chassis/chassis.py', 'sushy/tests/unit/resources/fabric/test_fabric.py', 'sushy/tests/unit/resources/system/test_ethernet_interfaces.py', 'sushy/tests/unit/resources/system/test_processor.py', 'sushy/resources/system/storage/storage.py', 'sushy/resources/fabric/fabric.py', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_manager.py', 'sushy/resources/compositionservice/compositionservice.py', 'sushy/resources/system/system.py', 'sushy/tests/unit/resources/test_base.py', 'sushy/resources/compositionservice/resourcezone.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/tests/unit/resources/updateservice/test_softwareinventory.py', 'sushy/resources/system/processor.py', 'sushy/resources/updateservice/updateservice.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/9351999582e396bf60d286ea25dc67b57687cb5e', 'message': 'Make message registries available to all resources\n\nThis patch makes parsed message registries accessible to all sushy\nresource objects for consumption. Prior to that, only System resource\nhad access to message registries what proved insufficient.\n\nChange-Id: Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3\nCo-Authored-By: Richard.Pioso@dell.com\n'}]",13,670579,9351999582e396bf60d286ea25dc67b57687cb5e,14,8,3,26340,,,0,"Make message registries available to all resources

This patch makes parsed message registries accessible to all sushy
resource objects for consumption. Prior to that, only System resource
had access to message registries what proved insufficient.

Change-Id: Ib1e24ea0b2ab81a4dad207ef8f76f1cef3a799c3
Co-Authored-By: Richard.Pioso@dell.com
",git fetch https://review.opendev.org/openstack/sushy refs/changes/79/670579/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/tests/unit/resources/compositionservice/test_resourceblock.py', 'sushy/tests/unit/resources/sessionservice/test_session.py', 'sushy/tests/unit/test_main.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/resources/updateservice/softwareinventory.py', 'sushy/resources/system/bios.py', 'sushy/tests/unit/resources/compositionservice/test_resourcezone.py', 'sushy/tests/unit/resources/system/test_simple_storage.py', 'sushy/tests/unit/resources/chassis/test_chassis.py', 'sushy/resources/sessionservice/session.py', 'sushy/resources/manager/manager.py', 'sushy/resources/compositionservice/resourceblock.py', 'sushy/main.py', 'sushy/resources/chassis/chassis.py', 'sushy/tests/unit/resources/fabric/test_fabric.py', 'sushy/tests/unit/resources/system/test_ethernet_interfaces.py', 'sushy/tests/unit/resources/system/test_processor.py', 'sushy/resources/system/storage/storage.py', 'sushy/resources/fabric/fabric.py', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_manager.py', 'sushy/resources/compositionservice/compositionservice.py', 'sushy/resources/system/system.py', 'sushy/tests/unit/resources/test_base.py', 'sushy/resources/compositionservice/resourcezone.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/tests/unit/resources/updateservice/test_softwareinventory.py', 'sushy/resources/system/processor.py', 'sushy/resources/updateservice/updateservice.py']",32,151d1b9c6158611e540391336f7b215d2a6a8c43,01-shared-message-registries," def __init__(self, connector, identity, redfish_version=None, registries=None): :param registries: Dict of Redfish Message Registry objects to be used in any resource that needs registries to parse messages connector, identity, redfish_version, registries) redfish_version=self.redfish_version, registries=self.registries) redfish_version=self.redfish_version, registries=self.registries)"," def __init__(self, connector, identity, redfish_version=None): connector, identity, redfish_version) redfish_version=self.redfish_version) redfish_version=self.redfish_version)",278,183
openstack%2Foctavia~master~I426255f587f36b415eb999a9eb28cf0f91de94b0,openstack/octavia,master,I426255f587f36b415eb999a9eb28cf0f91de94b0,Fix listener deletion in ACTIVE/STANDBY topology,MERGED,2019-08-02 08:53:16.000000000,2019-08-06 23:16:35.000000000,2019-08-06 23:16:35.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-02 08:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4aa73c84e68f7afb033acb7c2aef27da3d495c2f', 'message': ""Fix listener deletion in ACTIVE/STANDBY topology\n\nWhen removing listeners, listeners are removed from the load balancer's\nlistener list just before reconfiguring each amphora.\nIn case of ACTIVE/STANDBY topology, the code is performed on both\namphorae, so the listener is removed twice from the list.\nThis commit ensures that we don't remove an already removed listener.\n\nStory: 2006329\nTask: 36065\n\nChange-Id: I426255f587f36b415eb999a9eb28cf0f91de94b0\n""}, {'number': 2, 'created': '2019-08-06 15:38:30.000000000', 'files': ['octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b1a4758f583badf996be2fc4c405efb4cb533e5a', 'message': ""Fix listener deletion in ACTIVE/STANDBY topology\n\nWhen removing listeners, listeners are removed from the load balancer's\nlistener list just before reconfiguring each amphora.\nIn case of ACTIVE/STANDBY topology, the code is performed on both\namphorae, so the listener is removed twice from the list.\nThis commit ensures that we don't remove an already removed listener.\n\nStory: 2006329\nTask: 36065\n\nChange-Id: I426255f587f36b415eb999a9eb28cf0f91de94b0\n""}]",0,674229,b1a4758f583badf996be2fc4c405efb4cb533e5a,19,5,2,29244,,,0,"Fix listener deletion in ACTIVE/STANDBY topology

When removing listeners, listeners are removed from the load balancer's
listener list just before reconfiguring each amphora.
In case of ACTIVE/STANDBY topology, the code is performed on both
amphorae, so the listener is removed twice from the list.
This commit ensures that we don't remove an already removed listener.

Story: 2006329
Task: 36065

Change-Id: I426255f587f36b415eb999a9eb28cf0f91de94b0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/29/674229/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",2,4aa73c84e68f7afb033acb7c2aef27da3d495c2f,," @mock.patch('octavia.amphorae.drivers.haproxy.rest_api_driver.' 'HaproxyAmphoraLoadBalancerDriver._process_secret') @mock.patch('octavia.common.tls_utils.cert_parser.load_certificates_data') @mock.patch('octavia.common.tls_utils.cert_parser.get_host_names') def test_delete_second_listener_active_standby(self, mock_cert, mock_load_crt, mock_secret): self.driver.clients[ API_VERSION].delete_listener.__name__ = 'delete_listener' sl = sample_configs_combined.sample_listener_tuple( tls=True, sni=True, client_ca_cert=True, client_crl_cert=True, recursive_nest=True, topology=constants.TOPOLOGY_ACTIVE_STANDBY) sl2 = sample_configs_combined.sample_listener_tuple( id='sample_listener_id_2', topology=constants.TOPOLOGY_ACTIVE_STANDBY) sl.load_balancer.listeners.append(sl2) mock_cert.return_value = {'cn': sample_certs.X509_CERT_CN} mock_secret.side_effect = ['filename.pem', 'crl-filename.pem', 'filename.pem', 'crl-filename.pem'] sconts = [] for sni_container in self.sl.sni_containers: sconts.append(sni_container.tls_container) mock_load_crt.side_effect = [{ 'tls_cert': self.sl.default_tls_container, 'sni_certs': sconts}, {'tls_cert': None, 'sni_certs': []}, {'tls_cert': None, 'sni_certs': []}, {'tls_cert': None, 'sni_certs': []}] self.driver.jinja_combo.build_config.side_effect = [ 'fake_config', 'fake_config'] # Execute driver method self.driver.delete(sl) amp1 = sl.load_balancer.amphorae[0] amp2 = sl.load_balancer.amphorae[1] # All of the pem files should be removed (using amp1 or amp2) dcp_calls_list = [ [ mock.call(amp1, sl.load_balancer.id, sl.default_tls_container.id + '.pem'), mock.call(amp2, sl.load_balancer.id, sl.default_tls_container.id + '.pem') ], [ mock.call(amp1, sl.load_balancer.id, sconts[0].id + '.pem'), mock.call(amp2, sl.load_balancer.id, sconts[0].id + '.pem') ], [ mock.call(amp1, sl.load_balancer.id, sconts[1].id + '.pem'), mock.call(amp2, sl.load_balancer.id, sconts[1].id + '.pem') ] ] mock_calls = ( self.driver.clients[API_VERSION].delete_cert_pem.mock_calls) for dcp_calls in dcp_calls_list: # Ensure that at least one call in each pair has been seen if (dcp_calls[0] not in mock_calls and dcp_calls[1] not in mock_calls): raise Exception(""%s not found in %s"" % (dcp_calls, mock_calls)) # Now just make sure we did an update and not a delete self.driver.clients[API_VERSION].delete_listener.assert_not_called() upload_config_calls = [ mock.call(amp1, sl.load_balancer.id, 'fake_config', timeout_dict=None), mock.call(amp2, sl.load_balancer.id, 'fake_config', timeout_dict=None) ] self.driver.clients[API_VERSION].upload_config.assert_has_calls( upload_config_calls, any_order=True) # start should be called once per amp reload_listener_calls = [ mock.call(amp1, sl.load_balancer.id, timeout_dict=None), mock.call(amp2, sl.load_balancer.id, timeout_dict=None) ] self.driver.clients[ API_VERSION].reload_listener.assert_has_calls( reload_listener_calls, any_order=True) ",,84,1
openstack%2Foctavia~master~Iaa0f763005529cc394d3b95ce07f2be71e9b3778,openstack/octavia,master,Iaa0f763005529cc394d3b95ce07f2be71e9b3778,Install missing packages in nodepool instance,MERGED,2019-08-02 10:43:43.000000000,2019-08-06 23:16:34.000000000,2019-08-06 23:16:34.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 10:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c50115e7caee105d5ae562d6c931f897a49e8dbe', 'message': ""WIP: Install missing packages in nodepool instance\n\nThe 'rpm' and 'bc' tools do not come installed in the Ubuntu nodepool\nimage. We need 'rpm' to build centos-minimal amphora images and 'bc' for\nchecking minimum supported Ubuntu version in diskimage-create.sh\n\nThis patch also adds octavia-lib to the required projects.\n\nChange-Id: Iaa0f763005529cc394d3b95ce07f2be71e9b3778\n""}, {'number': 2, 'created': '2019-08-02 11:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1f90d825604717057a7fdf4d8ec0a60def5d6426', 'message': ""WIP: Install missing packages in nodepool instance\n\nThe 'rpm' and 'bc' tools do not come installed in the Ubuntu nodepool\nimage. We need 'rpm' to build centos-minimal amphora images and 'bc' for\nchecking minimum supported Ubuntu version in diskimage-create.sh\n\nThis patch also adds octavia-lib to the required projects.\n\nChange-Id: Iaa0f763005529cc394d3b95ce07f2be71e9b3778\n""}, {'number': 3, 'created': '2019-08-02 12:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/22cfe365366189549165adfd4fe8d7731c737070', 'message': ""Install missing packages in nodepool instance\n\nThe 'rpm', 'yumdownloader' and 'bc' tools do not come installed in the\nUbuntu nodepool image. We need 'rpm' and 'yumdownloader' to build\ncentos-minimal amphora images and 'bc' for checking minimum supported\nUbuntu version in diskimage-create.sh\n\nThis patch also adds octavia-lib to the required projects.\n\nChange-Id: Iaa0f763005529cc394d3b95ce07f2be71e9b3778\n""}, {'number': 4, 'created': '2019-08-05 17:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0c30ffdb814148e7fb82817a187a25b2a0676c97', 'message': ""Install missing packages in nodepool instance\n\nThe 'rpm', 'yumdownloader' and 'bc' tools do not come installed in the\nUbuntu nodepool image. We need 'rpm' and 'yumdownloader' to build\ncentos-minimal amphora images and 'bc' for checking minimum supported\nUbuntu version in diskimage-create.sh\n\nThis patch also adds octavia-lib to the required projects.\n\nChange-Id: Iaa0f763005529cc394d3b95ce07f2be71e9b3778\n""}, {'number': 5, 'created': '2019-08-06 15:39:12.000000000', 'files': ['playbooks/image-build/run.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e57e6fd3d046ad55d39535c2493cce997b54380', 'message': ""Install missing packages in nodepool instance\n\nThe 'rpm', 'yumdownloader' and 'bc' tools do not come installed in the\nUbuntu nodepool image. We need 'rpm' and 'yumdownloader' to build\ncentos-minimal amphora images and 'bc' for checking minimum supported\nUbuntu version in diskimage-create.sh\n\nThis patch also adds octavia-lib to the required projects.\n\nChange-Id: Iaa0f763005529cc394d3b95ce07f2be71e9b3778\n""}]",2,674259,6e57e6fd3d046ad55d39535c2493cce997b54380,26,4,5,6469,,,0,"Install missing packages in nodepool instance

The 'rpm', 'yumdownloader' and 'bc' tools do not come installed in the
Ubuntu nodepool image. We need 'rpm' and 'yumdownloader' to build
centos-minimal amphora images and 'bc' for checking minimum supported
Ubuntu version in diskimage-create.sh

This patch also adds octavia-lib to the required projects.

Change-Id: Iaa0f763005529cc394d3b95ce07f2be71e9b3778
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/674259/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/image-build/run.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",3,c50115e7caee105d5ae562d6c931f897a49e8dbe,, #parent: publish-openstack-artifacts - openstack/octavia-lib, parent: publish-openstack-artifacts,63,58
openstack%2Fnetworking-ovn~stable%2Fstein~Ibb958ea5acaaf07af8ebed5d9552036db9469346,openstack/networking-ovn,stable/stein,Ibb958ea5acaaf07af8ebed5d9552036db9469346,Handle FIP for Loadbalancer VIP,MERGED,2019-07-25 07:20:29.000000000,2019-08-06 23:06:29.000000000,2019-08-06 23:06:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58078024ba6348e1ee518b19acc93c2ff575bff0', 'message': 'Handle FIP for Loadbalancer VIP\n\nIf a floating IP is associated to Loadbalancer VIP\nthen given floating IP should be added as vip under\nloadbalancer external_ids column.\n\nCloses-Bug: #1834453\n\nChange-Id: Ibb958ea5acaaf07af8ebed5d9552036db9469346\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 01b0b572c7e9ce8a3530f4e73d04a2f7a43e2e7c)\n'}, {'number': 2, 'created': '2019-07-31 09:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3b69aae3d81b562aa1db0ed1b9f1dcbe45b6c162', 'message': 'Handle FIP for Loadbalancer VIP\n\nIf a floating IP is associated to Loadbalancer VIP\nthen given floating IP should be added as vip under\nloadbalancer external_ids column.\n\nCloses-Bug: #1834453\n\nChange-Id: Ibb958ea5acaaf07af8ebed5d9552036db9469346\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 01b0b572c7e9ce8a3530f4e73d04a2f7a43e2e7c)\n'}, {'number': 3, 'created': '2019-07-31 09:18:13.000000000', 'files': ['networking_ovn/common/constants.py', 'networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/36e8146d99d76fadec37e1dda39b35f263cd33dd', 'message': 'Handle FIP for Loadbalancer VIP\n\nIf a floating IP is associated to Loadbalancer VIP\nthen given floating IP should be added as vip under\nloadbalancer external_ids column.\n\nCloses-Bug: #1834453\n\nChange-Id: Ibb958ea5acaaf07af8ebed5d9552036db9469346\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 01b0b572c7e9ce8a3530f4e73d04a2f7a43e2e7c)\n'}]",0,672647,36e8146d99d76fadec37e1dda39b35f263cd33dd,15,5,3,24791,,,0,"Handle FIP for Loadbalancer VIP

If a floating IP is associated to Loadbalancer VIP
then given floating IP should be added as vip under
loadbalancer external_ids column.

Closes-Bug: #1834453

Change-Id: Ibb958ea5acaaf07af8ebed5d9552036db9469346
Signed-off-by: Numan Siddique <nusiddiq@redhat.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
(cherry picked from commit 01b0b572c7e9ce8a3530f4e73d04a2f7a43e2e7c)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/47/672647/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/constants.py', 'networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py']",4,58078024ba6348e1ee518b19acc93c2ff575bff0,ovn_driver_stein_cherry_picks,"from networking_ovn.common import constants as ovn_const vip_port_id=None, if vip_port_id: lb.vip_port_id = vip_port_id vip_port_id=net_info[3], name = '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, lb_data['model'].loadbalancer_id) self.driver.update_port( self.context, net_info[3], {'port': {'name': name}}) def test_fip_on_lb_vip(self): """"""This test checks if FIP on LB VIP is configured. This test validates if Load_Balancer VIP field consist Floating IP address that is configured on LB VIP port. """""" # Create LB lb_data = self._create_load_balancer_and_validate( {'vip_network': 'vip_network', 'cidr': '10.0.0.0/24'}) # Create a pool self._create_pool_and_validate(lb_data, ""p1"") pool_id = lb_data['pools'][0].pool_id # Create listener self._create_listener_and_validate(lb_data, pool_id, 80) # Create Member-1 and associate it with lb_data self._create_member_and_validate( lb_data, pool_id, lb_data['vip_net_info'][1], lb_data['vip_net_info'][0], '10.0.0.10') # Create provider network. e1, e1_s1 = self._create_provider_network() # Configure external_gateway for router router_id = lb_data['lr_ref'][8::] self.l3_plugin.update_router( self.context, router_id, {'router': { 'id': router_id, 'external_gateway_info': { 'enable_snat': True, 'network_id': e1['network']['id'], 'external_fixed_ips': [ {'ip_address': '100.0.0.2', 'subnet_id': e1_s1['subnet']['id']}]}}}) # Create floating IP on LB VIP port vip_port_id = lb_data['model'].vip_port_id vip_port = self.core_plugin.get_ports( self.context, filters={'id': [vip_port_id]})[0] self.l3_plugin.create_floatingip( self.context, {'floatingip': { 'tenant_id': self._tenant_id, 'floating_network_id': e1['network']['id'], 'subnet_id': None, 'floating_ip_address': '100.0.0.20', 'port_id': vip_port['id']}}) # Validate if FIP is stored as VIP in LB lbs = self._get_loadbalancers() expected_vips = { '%s:80' % vip_port['fixed_ips'][0]['ip_address']: '10.0.0.10:80', '100.0.0.20:80': '10.0.0.10:80'} self.assertDictEqual(expected_vips, lbs[0].get('vips')) provider_net = 'neutron-%s' % e1['network']['id'] tenant_net = 'neutron-%s' % lb_data['model'].vip_network_id for ls in self.nb_api.tables['Logical_Switch'].rows.values(): if ls.name == tenant_net: # Make sure that LB1 is added to tenant network self.assertIn( lb_data['model'].loadbalancer_id, [lb.name for lb in ls.load_balancer]) elif ls.name == provider_net: # Make sure that LB1 is not added to provider net - e1 LS self.assertListEqual([], ls.load_balancer)",,291,2
openstack%2Fcinderlib~master~I2c184af9e48c3b2f4af7182fb000272f9e162be4,openstack/cinderlib,master,I2c184af9e48c3b2f4af7182fb000272f9e162be4,Add validation and validated documentation,MERGED,2019-04-11 17:06:04.000000000,2019-08-06 22:01:31.000000000,2019-08-06 22:01:30.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-04-11 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/7f0b0013bc3c206d70fe5e45f42fbb317be60e15', 'message': 'Add validation and validated documentation\n\nThis patch adds documentation related to the validation of Cinder\ndrivers for cinderlib usage.\n\nWith a guide on how to manually validate a driver using DevStack, and\nhow to add cinderlib functional tests to gate jobs.\n\nAlso presents a list of cinderlib validated drivers with their\nconfiguration to serve as a reference for developers.\n\nChange-Id: I2c184af9e48c3b2f4af7182fb000272f9e162be4\n'}, {'number': 2, 'created': '2019-04-11 17:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/2066b9a499a9fa18c8c0d72ca5fcaeee80654c9a', 'message': 'Add validation and validated documentation\n\nThis patch adds documentation related to the validation of Cinder\ndrivers for cinderlib usage.\n\nWith a guide on how to manually validate a driver using DevStack, and\nhow to add cinderlib functional tests to gate jobs.\n\nAlso presents a list of cinderlib validated drivers with their\nconfiguration to serve as a reference for developers.\n\nDepends-On: I25c19cf1f7da6881807e729a326cd94d07b4c42d\nDepends-On: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\nChange-Id: I2c184af9e48c3b2f4af7182fb000272f9e162be4\n'}, {'number': 3, 'created': '2019-04-12 10:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/6157c9c5c5a197800abc0faddca5a88ed1afaedd', 'message': 'Add validation and validated documentation\n\nThis patch adds documentation related to the validation of Cinder\ndrivers for cinderlib usage.\n\nWith a guide on how to manually validate a driver using DevStack, and\nhow to add cinderlib functional tests to gate jobs.\n\nAlso presents a list of cinderlib validated drivers with their\nconfiguration to serve as a reference for developers.\n\nDepends-On: I25c19cf1f7da6881807e729a326cd94d07b4c42d\nDepends-On: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\nChange-Id: I2c184af9e48c3b2f4af7182fb000272f9e162be4\n'}, {'number': 4, 'created': '2019-08-06 15:51:48.000000000', 'files': ['doc/source/index.rst', 'doc/source/topics/backends.rst', 'doc/source/validated.rst', 'doc/source/validating.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/bee4135ee9778e1ed380f02cbfc86842d842b37a', 'message': 'Add validation and validated documentation\n\nThis patch adds documentation related to the validation of Cinder\ndrivers for cinderlib usage.\n\nWith a guide on how to manually validate a driver using DevStack, and\nhow to add cinderlib functional tests to gate jobs.\n\nAlso presents a list of cinderlib validated drivers with their\nconfiguration to serve as a reference for developers.\n\nDepends-On: I25c19cf1f7da6881807e729a326cd94d07b4c42d\nDepends-On: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0\nChange-Id: I2c184af9e48c3b2f4af7182fb000272f9e162be4\n'}]",12,651880,bee4135ee9778e1ed380f02cbfc86842d842b37a,12,3,4,9535,,,0,"Add validation and validated documentation

This patch adds documentation related to the validation of Cinder
drivers for cinderlib usage.

With a guide on how to manually validate a driver using DevStack, and
how to add cinderlib functional tests to gate jobs.

Also presents a list of cinderlib validated drivers with their
configuration to serve as a reference for developers.

Depends-On: I25c19cf1f7da6881807e729a326cd94d07b4c42d
Depends-On: Ia532b3fcfbecee7c6dc7aa302e6d90a8067b7ff0
Change-Id: I2c184af9e48c3b2f4af7182fb000272f9e162be4
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/80/651880/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/validated.rst', 'doc/source/validating.rst']",3,7f0b0013bc3c206d70fe5e45f42fbb317be60e15,update-docs-validation,"=================== Validating a driver =================== This is a guide for *Cinder* driver maintainers to validate that their drivers are fully supported by *cinderlib* and therefore by projects like Ember-CSI_ and oVirt_ that rely on it for storage backend management. Validation steps include initial manual validation as well as automatic testing at the gate as part of *Cinder*'s 3rd party CI jobs. With DevStack ------------- There are many ways we can install *cinderlib* for the initial validation phase, such as using pip from master repositories or PyPi or using packaged versions of the project, but the official recommendation is to use DevStack_. We believe that, as a *Cinder* driver maintainer, you will be already familiar with DevStack_ and know how to configure and use it to work with your storage backend, so this will most likely be the easiest way for you to do an initial validation of the driver. *Cinderlib* has a `DevStack plugin`_ that automatically installs the library as during the stacking process when running the ``./stach.sh`` script, so we will be adding this plugin to our ``local.conf`` file. To use *cinderlib*'s master code we will add the line ``enable_plugin cinderlib https://git.openstack.org/openstack/cinderlib`` after the ``[[local|localrc]]`` header the in our normal ``local.conf`` file that already configures our backend. The result will look like this:: [[local|localrc]] enable_plugin cinderlib https://git.openstack.org/openstack/cinderlib After adding this we can proceed to run the ``stack.sh`` script. Once the script has finished executing we will have *cinderlib* installed from Git in our system and we will also have sample Python code of how to use our backend in *cinderlib* using the same backend configuration that exists in our ``cinder.conf``. The sample Python code is generated in file ``cinderlib.py`` in the same directory as our ``cinder.conf`` file. The tool generating the ``cinderlib.py`` file supports ``cinder.conf`` files with multiple backends, so there's no need to make any additional changes to your ``local.conf`` if you usually deploy DevStack_ with multiple backends. The generation of the sample code runs at the very end of the stacking process (the ``extra`` stage), so we can use other DevStack storage plugins, such as the Ceph plugin, and the sample code will still be properly generated. For the LVM default backend the contents of the ``cinderlib.py`` file are: .. code-block:: shell $ cat /etc/cinder/cinderlib.py import cinderlib as cl lvmdriver_1 = cl.Backend(volume_clear=""zero"", lvm_type=""auto"", volume_backend_name=""lvmdriver-1"", target_helper=""lioadm"", volume_driver=""cinder.volume.drivers.lvm.LVMVolumeDriver"", image_volume_cache_enabled=True, volume_group=""stack-volumes-lvmdriver-1"") To confirm that this automatically generated configuration is correct we can do: .. code-block:: shell $ cd /etc/cinder $ mv cinderlib.py example.py $ python [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)] on linux2 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> from pprint import pprint as pp >>> import cinderlib >>> pp(example.lvmdriver_1.stats()) {'driver_version': '3.0.0', 'pools': [{'QoS_support': False, 'backend_state': 'up', 'filter_function': None, 'free_capacity_gb': 4.75, 'goodness_function': None, 'location_info': 'LVMVolumeDriver:localhost.localdomain:stack-volumes-lvmdriver-1:thin:0', 'max_over_subscription_ratio': '20.0', 'multiattach': True, 'pool_name': 'lvmdriver-1', 'provisioned_capacity_gb': 0.0, 'reserved_percentage': 0, 'thick_provisioning_support': False, 'thin_provisioning_support': True, 'total_capacity_gb': 4.75, 'total_volumes': 1}], 'shared_targets': False, 'sparse_copy_volume': True, 'storage_protocol': 'iSCSI', 'vendor_name': 'Open Source', 'volume_backend_name': 'lvmdriver-1'} >>> Here the name of the variable is `lvmdriver_1`, but in your case the name will be different, as it uses the ``volume_backend_name`` from the different driver section in the ``cinder.conf`` file. One way to see the backends that have been initialized by importing the example code is looking into the `example.cl.Backend.backends` dictionary. Some people deploy DevStack_ with the default backend and then manually modify the ``cinder.conf`` file afterwards and restart the *Cinder* services to use their configuration. This is fine as well, as you can easily recreate the Python code to include you backend using the `cinder-cfg-to-cinderlib-code` tool that's installed with *cinderlib*. Generating the example code manually can be done like this:: $ cinder-cfg-to-cinderlib-code /etc/cinder/cinder.conf example.py Now that we know that *cinderlib* can access our backend we will proceed to run *cinderlib*'s functional tests to confirm that all the operations work as expected. The functional tests use the contents of the existing ``/etc/cinder/cinder.conf`` file to get the backend configuration. The functional test runner also supports ``cinder.conf`` files with multiple backends. Test methods have meaningful names ending in the backend name as per the ``volume_backend_name`` values in the configuration file. The functional tests are quite fast, as they usually take about 1 minute to run: .. code-block:: shell $ python -m unittest2 discover -v cinderlib.tests.functional test_attach_detach_volume_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_attach_detach_volume_via_attachment_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_attach_volume_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_clone_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_create_delete_snapshot_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_create_delete_volume_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_create_snapshot_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_create_volume_from_snapshot_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_create_volume_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_disk_io_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_extend_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_stats_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok test_stats_with_creation_on_lvmdriver-1 (cinderlib.tests.functional.test_basic.BackendFunctBasic) ... ok ---------------------------------------------------------------------- Ran 13 tests in 54.179s OK There are a couple of interesting options we can use when the running functional tests using environmental variables: - ``CL_FTEST_LOGGING``: If set it will enable the *Cinder* code to log to stdout during the testing. Undefined by default, which means no output. - ``CL_FTEST_PRECISION``: Integer value describing how much precision we must use when comparing volume sizes. Due to cylinder sizes some storage arrays don't abide 100% to the requested size of the volume. With this option we can define how many decimals will be correct when testing sizes. A value of 2 means that the backend could create a 1.0015869140625GB volume when we request a 1GB volume and the tests wouldn't fail. Default is zero, which means that it must be perfect or it will fail. - ``CL_FTEST_CFG```: Location of the configuration file. Defaults to ``/etc/cinder/cinder.conf``. If we encounter problems while running the functional tests, but the *Cinder* service is running just fine, we can go to the #openstack-cinder IRC channel in Freenode, or send an email to the `discuss-openstack mailing list`_ starting the subject with *[cinderlib]*. Cinder 3rd party CI ------------------- Once we have been able to successfully run the functional tests it's time to make the CI jobs run them on every patch submitted to *Cinder* to ensure the driver keeps being compatible. There are multiples ways we can accomplish this: 1. Create a 3rd party CI job listening to *cinderlib* patches 2. Create an additional 3rd party CI job in *Cinder*, similar to the one we already have. 3. Reusing our existing 3rd party CI job making it also run the *cinderlib* functional tests. Options #1 and #2 require more work, as we have to create new jobs, but they make it easier to know that our driver is compatible with *cinderlib*. Option #3 is the opposite, it is easy to setup, but it doesn't make it so obvious that our driver is supported by *cinderlib*. Configuration ^^^^^^^^^^^^^ When reusing existing 3rd party CI jobs, the normal setup will generate a valid configuration file on ``/etc/cinder/cinder.conf`` and *cinderlib* functional tests will use it by default, so we don't have to do anything, but when running a custom CI job we will have to write the configuration ourselves. Though we don't have to do this dynamically. We can write it once and use it in all the *cinderlib* jobs. To get our backend configuration file for the functional tests we can: - Use the ``cinder.conf`` file from one of your `DevStack`_ deployments. - Manually create a minimal ``cinder.conf`` file. - Create a custom YAML file. We can create the minimal ``cinder.conf`` file using one generated by `DevStack`_. Having a minimal configuration has the advantage of being easy to read. For an LVM backend could look like this:: [DEFAULT] enabled_backends = lvm [lvm] volume_clear = none target_helper = lioadm volume_group = cinder-volumes volume_driver = cinder.volume.drivers.lvm.LVMVolumeDriver volume_backend_name = lvm Besides the *INI* style configuration files, we can also use YAML configuration files for the functional tests. The YAML file has 3 key-value pairs that are of interest to us. Only one of them is mandatory, the other 2 are optional. - ``logs``: Boolean value defining whether we want the *Cinder* code to log to stdout during the testing. Defaults to ``false``. Takes precedence over environmental variable ``CL_TESTING_LOGGING``. - `size_precision`: Integer value describing how much precision we must use when comparing volume sizes. Due to cylinder sizes some storage arrays don't abide 100% to the requested size of the volume. With this option we can define how many decimals will be correct when testing sizes. A value of 2 means that the backend could create a 1.0015869140625GB volume when we request a 1GB volume and the tests wouldn't fail. Default is zero, which for us means that it must be perfect or it will fail. Takes precedence over environmental variable ``CL_FTEST_PRECISION``. - `backends`: This is a list of dictionaries, each with the configuration parameters that are set in the backend section of the ``cinder.conf`` file in *Cinder*. This is a mandatory field. The same configuration we presented for the LVM backend as a minimal ``cinder.conf`` file would look like this in the YAML format: .. code-block:: yaml logs: false venv_sudo: false backends: - volume_backend_name: lvm volume_driver: cinder.volume.drivers.lvm.LVMVolumeDriver volume_group: cinder-volumes target_helper: lioadm volume_clear: none To pass the location of the configuration file to the functional test runner we must use the ``CL_FTEST_CFG`` environmental variable to point to the location of our file. If we are using a ``cinder.conf`` file and we save it in ``etc/cinder`` then we don't need to pass it to the tests runner, since that's the default location. Use independent job ^^^^^^^^^^^^^^^^^^^ Creating new jobs is mostly identical to `what you already did for the Cinder job<https://docs.openstack.org/infra/system-config/third_party.html>`_ with the difference that here we don't need to do a full DevStack_ installation, as it would take too long. We only need the *cinderlib*, *Cinder*, and *OS-Brick* projects from master and then run *cinderlib*'s functional tests. As an example here's the Ceph job in the *cinderlib* project that takes approximately 8 minutes to run at the gate. In the ``pre-run`` phase it starts a the Ceph demo container to run a Ceph toy cluster as the backend. Then provides a custom configuration YAML file with the backend configuration:: - job: name: cinderlib-ceph-functional parent: openstack-tox-functional-with-sudo required-projects: - openstack/os-brick - openstack/cinder pre-run: playbooks/setup-ceph.yaml nodeset: centos-7 vars: tox_environment: CL_FTEST_CFG: ""cinderlib/tests/functional/ceph.yaml"" CL_FTEST_ROOT_HELPER: sudo # These come from great-great-grandparent tox job NOSE_WITH_HTML_OUTPUT: 1 NOSE_HTML_OUT_FILE: nose_results.html NOSE_WITH_XUNIT: 1 For jobs in the *cinderlib* project you can use the ``openstack-tox-functional-with-sudo`` parent, but for jobs in the *Cinder* project you'll have to call this yourself by calling tox or using the same command we used during our manual testing: ``python -m unittest2 discover -v cinderlib.tests.functional``. Use existing job ^^^^^^^^^^^^^^^^ The easiest way to run the *cinderlib* functional tests is is to reuse an existing *Cinder* CI job, since we don't need to setup anything. We just need to modify our job to run an additional command at the end. Running the *cinderlib* functional tests after tempest will only add about 1 minute to the job's current runtime. You will need to add ``openstack/cinderlib`` to the ``required-projects`` configuration of the Zuul job. This will ensure not only that *cinderlib* is installed, but also that is using the right patch when a patch has cross-repository dependencies. For example, the LVM lio job called ``cinder-tempest-dsvm-lvm-lio-barbican`` has the following required projects:: required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/cinderlib - openstack/python-barbicanclient - openstack/tempest - openstack/os-brick To facilitate running the *cinderlib* functional tests in existing CI jobs the *Cinder* project includes 2 playbooks: - ``playbooks/tempest-and-cinderlib-run.yaml`` - ``playbooks/cinderlib-run.yaml`` These 2 playbooks support the ``cinderlib_ignore_errors`` boolean variable to allow CI jobs to run the functional tests and ignore the results so that *cinderlib* failures won't block patches. You can think of it as running the *cinderlib* tests as non voting. We don't recommend setting it, as it would defeat the purpose of running the jobs at the gate and the *cinderlib* tests a very consistent and reliable and don't raise false failures. Which one of these 2 playbook to use depends on how we are defining our CI job. For example the LVM job uses the ``cinderlib-run.yaml`` job in it's `run.yaml file <http://git.openstack.org/cgit/openstack/cinder/tree/playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml>`_, and the Ceph job uses the ``tempest-and-cinderlib-run.yaml`` as its `run job command<http://git.openstack.org/cgit/openstack/cinder/tree/.zuul.yaml>`_. If you are running tempest tests using a custom script you can also add the running of the *cinderlib* tests at the end. Notes ----- Additional features ^^^^^^^^^^^^^^^^^^^ The validation process we've discussed tests the basic functionality, but some *Cinder* drivers have additional functionality such as backend QoS, multi-pool support, and support for extra specs parameters that modify advanced volume characteristics -such as compression, deduplication, and thin/thick provisioning- on a per volume basis. *Cinderlib* supports these features, but since they are driver specific, there is no automated testing in *cinderlib*'s functional tests; but we can test them them manually ourselves using the ``extra_specs``, ``qos_specs``, and ``pool_name`` parameters in the ``create_volume`` and ``clone`` methods. We can see the list of available pools in multi-pool drivers on the ``pool_names`` property in the Backend instance. Configuration options ^^^^^^^^^^^^^^^^^^^^^ One of the difficulties in the *Cinder* project is determining which options are valid for a specific driver on a specific release. This is usually handled by users checking the *OpenStack* or vendor documentation, which makes it impossible to automate. There was a recent addition to the *Cinder* driver interface that allowed drivers to report exactly which configuration options were relevant for them via the ``get_driver_options`` method. On the initial patch some basic values were added to the drivers, but we urge all driver maintainers to have a careful look at the values currently being returned and make sure they are returning all relevant options, because this will not only be useful for some *Cinder* installers, but also for projects using *cinderlib*, as they will be able to automatically build GUIs to configure backends and to validate provided parameters. Having incorrect or missing values there will result in undesired behavior in those systems. Reporting results ----------------- Once you have completed the process described in this guide you will have a *Cinder* driver that is supported not only in *OpenStack*, but also by *cinderlib* and its related projects, and it is time to make it visible. For this you just need to submit a patch to the *cinderlib* project modifying the ``doc/source/validated.rst`` file with the information from your backend. The information that must be added to the documentation is: - *Storage*: The make and model of the hardware used. - *Versions*: Firmware versions used for the manual testing. - *Connection type*: iSCSI, FC, RBD, etc. Can add multiple types on the same line. - *Requirements*: Required packages, Python libraries, configuration files, etc. for the driver to work. - *Automated testing*: Accepted values are: - No - On *cinderlib* jobs. - On *cinder* jobs. - On *cinderlib* and *Cinder* jobs. - *Notes*: Any additional information relevant for *cinderlib* usage. - *Configuration*: The contents of the YAML file or the driver section in the ``cinder.conf``, with masked sensitive data. .. _Ember-CSI: https://ember-csi.io .. _oVirt: https://ovirt.org .. _DevStack: https://docs.openstack.org/devstack .. _DevStack plugin: http://git.openstack.org/cgit/openstack/cinderlib/tree/devstack .. _discuss-openstack mailing list: http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss ",,717,0
openstack%2Fnova~master~I9095c1be65b127d40f5bbe7af5d63fefedb73d33,openstack/nova,master,I9095c1be65b127d40f5bbe7af5d63fefedb73d33,Pass migration to finish_revert_migration(),MERGED,2019-07-02 08:17:31.000000000,2019-08-06 22:01:18.000000000,2019-08-06 22:01:17.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2019-07-02 08:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be804687c31ad3dd83b6fd37f9fe08ae7da9473b', 'message': 'Remove finish_revert_migration() signature try/catch\n\nIn the previous patch we wrapped a driver.finish_revert_migration()\nmethod signature change in a try/catch to allow for backportability.\nAs this is not needed on master, remove it.\n\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 2, 'created': '2019-07-04 08:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29bf7381def8dc6c27330c24845b25a67c894cc1', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously, this object was\nobtained with a database lookup. This was done to avoid modifying the\nvirt driver interface, thus making the fix backportable. This patch\nmakes the compute manager pass the migration object to the virt driver\nin order to avoid a needless database query.\n\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 3, 'created': '2019-07-04 13:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/799f664f7347fc7bf9193dfaf514052a492e7505', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously, this object was\nobtained with a database lookup. This was done to avoid modifying the\nvirt driver interface, thus making the fix backportable. This patch\nmakes the compute manager pass the migration object to the virt driver\nin order to avoid a needless database query.\n\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 4, 'created': '2019-07-10 16:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c71df61f35224c943ec3724be5f0c24ab4a9beef', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously, this object was\nobtained with a database lookup. This was done to avoid modifying the\nvirt driver interface, thus making the fix backportable. This patch\nmakes the compute manager pass the migration object to the virt driver\nin order to avoid a needless database query.\n\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 5, 'created': '2019-07-11 00:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f90d38266c784603f0b0cfc49255751da53aef91', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously, this object was\nobtained with a database lookup. This was done to avoid modifying the\nvirt driver interface, thus making the fix backportable. This patch\nmakes the compute manager pass the migration object to the virt driver\nin order to avoid a needless database query.\n\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 6, 'created': '2019-07-12 17:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b0d6d93f56c042f5256fe375f876bcc0a50461c', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously, this object was\nobtained with a database lookup. This was done to avoid modifying the\nvirt driver interface, thus making the fix backportable. This patch\nmakes the compute manager pass the migration object to the virt driver\nin order to avoid a needless database query.\n\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 7, 'created': '2019-07-14 14:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93dde703d833d030b0ee1aa0f2d010473d0c280b', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously, this object was\nobtained with a database lookup. This was done to avoid modifying the\nvirt driver interface, thus making the fix backportable. This patch\nmakes the compute manager pass the migration object to the virt driver\nin order to avoid a needless database query.\n\nDepends-on: https://review.opendev.org/670725\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 8, 'created': '2019-07-22 14:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6bb76f12bbfd5ae7fcd8576d22c8a19cf848411', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously, this object was\nobtained with a database lookup. This was done to avoid modifying the\nvirt driver interface, thus making the fix backportable. This patch\nmakes the compute manager pass the migration object to the virt driver\nin order to avoid a needless database query.\n\nDepends-on: https://review.opendev.org/670725\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}, {'number': 9, 'created': '2019-07-22 20:53:45.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/78a08d44ea68b31e27ce344f452756886ad309bd', 'message': 'Pass migration to finish_revert_migration()\n\nIn order to obtain plug-time events, the libvirt driver needs to pass\na Migration object to the network model. Previously [1], this object\nwas obtained with a database lookup. This was done to avoid modifying\nthe virt driver interface, thus making the fix backportable. This\npatch makes the compute manager pass the migration object to the virt\ndriver in order to avoid a needless database query.\n\n[1] https://review.opendev.org/#/c/667177/\n\nChange-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33\n'}]",18,668631,78a08d44ea68b31e27ce344f452756886ad309bd,111,16,9,8864,,,0,"Pass migration to finish_revert_migration()

In order to obtain plug-time events, the libvirt driver needs to pass
a Migration object to the network model. Previously [1], this object
was obtained with a database lookup. This was done to avoid modifying
the virt driver interface, thus making the fix backportable. This
patch makes the compute manager pass the migration object to the virt
driver in order to avoid a needless database query.

[1] https://review.opendev.org/#/c/667177/

Change-Id: I9095c1be65b127d40f5bbe7af5d63fefedb73d33
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/668631/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,be804687c31ad3dd83b6fd37f9fe08ae7da9473b,bug/1836369," self.driver.finish_revert_migration( context, instance, network_info, block_device_info, power_on, migration)"," try: self.driver.finish_revert_migration( context, instance, network_info, block_device_info, power_on, migration) except TypeError: LOG.warning(""Your virt driver appears to not support the "" ""'migration' parameter to the "" ""'finish_revert_migration' method; "" ""please update your virt driver."") self.driver.finish_revert_migration( context, instance, network_info, block_device_info, power_on)",3,49
openstack%2Fheat~master~I76b8dc215352d1dffa9b36c8f00b2aecbcf6400d,openstack/heat,master,I76b8dc215352d1dffa9b36c8f00b2aecbcf6400d,Fix broken RST link,MERGED,2019-07-26 07:22:04.000000000,2019-08-06 21:46:54.000000000,2019-08-06 21:46:54.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 07:22:04.000000000', 'files': ['doc/source/admin/auth-model.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/b31af77e1d4ec9674b1d489766e810d5a0e3f245', 'message': 'Fix broken RST link\n\nLinks are of the form\n.. _name: http://\n\nIf you use ""<http://>"" instead, the ""<"" and "">"" will be part of the URL\nand break, see the link on https://docs.openstack.org/heat/latest/admin/auth-model.html\n\nFix this.\n\nChange-Id: I76b8dc215352d1dffa9b36c8f00b2aecbcf6400d\n'}]",0,672897,b31af77e1d4ec9674b1d489766e810d5a0e3f245,6,2,1,6547,,,0,"Fix broken RST link

Links are of the form
.. _name: http://

If you use ""<http://>"" instead, the ""<"" and "">"" will be part of the URL
and break, see the link on https://docs.openstack.org/heat/latest/admin/auth-model.html

Fix this.

Change-Id: I76b8dc215352d1dffa9b36c8f00b2aecbcf6400d
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/672897/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/auth-model.rst'],1,b31af77e1d4ec9674b1d489766e810d5a0e3f245,link,.. _Identity management trusts: https://docs.openstack.org/keystone/latest/admin/identity-use-trusts.html,.. _Identity management trusts: <https://docs.openstack.org/keystone/latest/admin/identity-use-trusts.html>,1,1
openstack%2Fopenstack-helm-infra~master~If18a18949f8093747b3f9ba819e036778c40b84e,openstack/openstack-helm-infra,master,If18a18949f8093747b3f9ba819e036778c40b84e,Grafana: Code for Calico Dashboard,MERGED,2019-07-31 20:51:20.000000000,2019-08-06 21:39:48.000000000,2019-08-06 21:39:47.000000000,"[{'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28719}, {'_account_id': 28849}, {'_account_id': 30010}]","[{'number': 1, 'created': '2019-07-31 20:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c9e7bbff389c33871a4d8caf3729086e90f4d0e', 'message': 'Grafana: Code for Calico Dashboard\n\nAppend the code that will add the calico dashboard to the Grafana. This will\ndisplay the felix metrics which are collected by the prometheus.\n\nChange-Id: If18a18949f8093747b3f9ba819e036778c40b84e\n'}, {'number': 2, 'created': '2019-07-31 20:54:18.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a37925c7e8a643495e9c1aebf8f24a5cc24e1ef6', 'message': 'Grafana: Code for Calico Dashboard\n\nAppended the code that will add the calico dashboard to the Grafana. This will\ndisplay the felix metrics which are collected by the prometheus.\n\nChange-Id: If18a18949f8093747b3f9ba819e036778c40b84e\n'}]",0,673911,a37925c7e8a643495e9c1aebf8f24a5cc24e1ef6,11,9,2,30582,,,0,"Grafana: Code for Calico Dashboard

Appended the code that will add the calico dashboard to the Grafana. This will
display the felix metrics which are collected by the prometheus.

Change-Id: If18a18949f8093747b3f9ba819e036778c40b84e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/673911/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,5c9e7bbff389c33871a4d8caf3729086e90f4d0e,calico-dashboard," Kubernetes_Calico: __inputs: - name: prometheus label: Prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 5.0.0 - type: panel id: graph name: Graph version: '' - type: datasource id: prometheus name: Prometheus version: 1.0.0 annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard description: Calico cluster monitoring dashboard editable: false gnetId: 3244 graphTooltip: 0 id: links: [] panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 0 id: 15 panels: [] repeat: title: Felix type: row - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 0 y: 1 id: 1 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_active_local_endpoints format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Active Local Endpoints tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 12 y: 1 id: 3 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_active_local_policies format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Active Local Policies tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 0 y: 8 id: 2 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_active_local_selectors format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Active Local Selectors tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 12 y: 8 id: 4 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_active_local_tags format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Active Local Tags tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 0 y: 15 id: 5 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_cluster_num_host_endpoints format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Cluster Host Endpoints tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 12 y: 15 id: 6 legend: alignAsTable: true avg: false current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_cluster_num_workload_endpoints format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Cluster Workload Endpoints tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 0 y: 22 id: 7 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_cluster_num_hosts format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Clusters Hosts tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 12 y: 22 id: 8 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_ipsets_calico format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Active IP Sets tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 0 y: 29 id: 9 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_iptables_chains format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Active IP Tables Chains tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 12 y: 29 id: 10 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_ipset_errors format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: IP Set Command Failures tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 0 y: 36 id: 11 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_iptables_save_errors format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: IP Tables Save Errors tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 12 y: 36 id: 12 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_iptables_restore_errors format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: IP Tables Restore Errors tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 0 y: 43 id: 13 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_resyncs_started format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Felix Resyncing Datastore tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 7 w: 12 x: 12 y: 43 id: 14 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: felix_int_dataplane_failures format: time_series intervalFactor: 2 legendFormat: ""{{instance}}"" refId: A step: 20 thresholds: [] timeFrom: timeShift: title: Dataplane failed updates tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true refresh: 5m schemaVersion: 16 style: dark tags: - calico templating: list: [] time: from: now-1h to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: utc title: Kubernetes Calico version: 2",,1035,0
openstack%2Foslo.policy~master~Ibf184d03620c294806938d06247776081efee36b,openstack/oslo.policy,master,Ibf184d03620c294806938d06247776081efee36b,(WIP) Batch deprecation warnings,ABANDONED,2019-08-05 23:29:58.000000000,2019-08-06 21:21:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-05 23:29:58.000000000', 'files': ['oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/794d1e5d75e4b9ff577477cf64a8deaaf35581c6', 'message': '(WIP) Batch deprecation warnings\n\nRather than log a warning for each deprecated rule, collect all of them\nand log the deprecation warning all at once. This makes the format of\nthe changed policies a little prettier and easier to understand, as well\nas reduces the number of total logs emitted which makes filtering them\nmore manageable.\n\nRelated-bug: #1836568\n\nChange-Id: Ibf184d03620c294806938d06247776081efee36b\n'}]",0,674711,794d1e5d75e4b9ff577477cf64a8deaaf35581c6,3,1,1,8482,,,0,"(WIP) Batch deprecation warnings

Rather than log a warning for each deprecated rule, collect all of them
and log the deprecation warning all at once. This makes the format of
the changed policies a little prettier and easier to understand, as well
as reduces the number of total logs emitted which makes filtering them
more manageable.

Related-bug: #1836568

Change-Id: Ibf184d03620c294806938d06247776081efee36b
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/11/674711/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,794d1e5d75e4b9ff577477cf64a8deaaf35581c6,batch-deprecation-warnings," deprecated_rules = [] if self._handle_deprecated_rule(default): deprecated_rules.append(default) self._log_deprecation_warnings(deprecated_rules) def _log_deprecation_warnings(self, defaults): rule_changes = '' for default in defaults: deprecated_rule = default.deprecated_rule rule_changes += ( '""%(old_name)s"":""%(old_check_str)s"" -> ' '""%(name)s"":""%(check_str)s"" ' '(since: %(release)s, reason: %(reason)s)\n' % { 'old_name': deprecated_rule.name, 'old_check_str': deprecated_rule.check_str, 'release': default.deprecated_since, 'name': default.name, 'check_str': default.check_str, 'reason': default.deprecated_reason } ) deprecated_msg = ( 'The following policies have changed names or have changed their ' 'default check strings: \n%(rule_changes)s\n' 'Either ensure your deployment is ready for the new defaults or ' 'copy/paste the deprecated policies into your file and maintain ' 'it manually. Check the release notes for details.' % { 'rule_changes': rule_changes } ) warnings.warn(deprecated_msg) :returns: Boolean, True if rule name or check string has been deprecated name_or_check_str_changed = False deprecated_rule = default.deprecated_rule name_or_check_str_changed = True name_or_check_str_changed = True return name_or_check_str_changed"," self._handle_deprecated_rule(default) deprecated_rule = default.deprecated_rule deprecated_msg = ( 'Policy ""%(old_name)s"":""%(old_check_str)s"" was deprecated in ' '%(release)s in favor of ""%(name)s"":""%(check_str)s"". Reason: ' '%(reason)s. Either ensure your deployment is ready for the new ' 'default or copy/paste the deprecated policy into your policy ' 'file and maintain it manually.' % { 'old_name': deprecated_rule.name, 'old_check_str': deprecated_rule.check_str, 'release': default.deprecated_since, 'name': default.name, 'check_str': default.check_str, 'reason': default.deprecated_reason } ) warnings.warn(deprecated_msg) warnings.warn(deprecated_msg)",39,18
openstack%2Ftripleo-common~stable%2Fstein~I3743b7212d5c5f0d4496ffb4134a1891587de01a,openstack/tripleo-common,stable/stein,I3743b7212d5c5f0d4496ffb4134a1891587de01a,Add reauthentication to sessions,MERGED,2019-08-05 18:53:03.000000000,2019-08-06 21:00:17.000000000,2019-08-06 21:00:17.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 18:53:03.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/edb1c3e4b067dfbe00e45499e9b417127aa0d179', 'message': ""Add reauthentication to sessions\n\nThis change allows a session to reauthenticate as needed. To accomplish this\na function object for authentication is set within the session which will\nallow any method estabilishing a session to authenticate using the existing\ncredentials as needed. To ensure we're not breaking our workflow or\nexisting retry logic, conditions have been added to check for a 401 status\ncode. If a 401 is found, the session will now reauthenticate and raise an\nHTTPError exception. This will allow our tenacity retry decorators to\nprovide for task retries, in the same way they have been, and to ensure\nthe way requests exceptions are raised are identical.\n\nChange-Id: I3743b7212d5c5f0d4496ffb4134a1891587de01a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 0775e8d13024b7578f90ecd893ba1fe869fee045)\n""}]",0,674672,edb1c3e4b067dfbe00e45499e9b417127aa0d179,8,4,1,7353,,,0,"Add reauthentication to sessions

This change allows a session to reauthenticate as needed. To accomplish this
a function object for authentication is set within the session which will
allow any method estabilishing a session to authenticate using the existing
credentials as needed. To ensure we're not breaking our workflow or
existing retry logic, conditions have been added to check for a 401 status
code. If a 401 is found, the session will now reauthenticate and raise an
HTTPError exception. This will allow our tenacity retry decorators to
provide for task retries, in the same way they have been, and to ensure
the way requests exceptions are raised are identical.

Change-Id: I3743b7212d5c5f0d4496ffb4134a1891587de01a
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 0775e8d13024b7578f90ecd893ba1fe869fee045)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/674672/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,edb1c3e4b067dfbe00e45499e9b417127aa0d179,," def authenticate(self, image_url, username=None, password=None, session=None): setattr(session, 'reauthenticate', self.authenticate) setattr( session, 'auth_args', dict( image_url=image_url, username=username, password=password, session=session ) ) @staticmethod def check_status(session, request): if hasattr(session, 'reauthenticate'): if request.status_code == 401: session.reauthenticate(**session.auth_args) if hasattr(request, 'text'): raise requests.exceptions.HTTPError(request.text) else: raise SystemError() request.raise_for_status() cls.check_status(session=session, request=manifest_r) tags_r = tags_f.result() cls.check_status(session=session, request=tags_r) cls.check_status(session=session, request=config_r) cls.check_status(session=session, request=r) def _delete(self, image_url, session=None): insecure = self.is_insecure_registry(registry_host=image_url.netloc) cls.check_status(session=session, request=r) cls.check_status(session=session, request=r) cls.check_status(session=session, request=r) cls.check_status(session=session, request=blob_req) cls.check_status(session=target_session, request=r) cls.check_status(session=target_session, request=r) cls.check_status(session=session, request=upload_resp) cls.check_status(session=session, request=upload_resp)"," def authenticate(self, image_url, username=None, password=None): tags_r = tags_f.result() manifest_r.raise_for_status() tags_r.raise_for_status() config_r.raise_for_status() r.raise_for_status() @classmethod def _delete(cls, image_url, session=None): insecure = cls.is_insecure_registry(image_url.netloc) r.raise_for_status() r.raise_for_status() r.raise_for_status() blob_req.raise_for_status() r.raise_for_status(), r.raise_for_status() upload_resp.raise_for_status() upload_resp.raise_for_status()",40,18
openstack%2Ftripleo-ansible~master~I4c36c5058c901cb4ead5f781082e5f97014221cb,openstack/tripleo-ansible,master,I4c36c5058c901cb4ead5f781082e5f97014221cb,Create a time role,MERGED,2019-07-16 22:45:18.000000000,2019-08-06 20:52:01.000000000,2019-07-30 03:26:15.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-16 22:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f6402baeaf7c17a1d518ef8a384a8b9f1cf7ad8', 'message': 'Create a time role\n\nThis change creates a role using the time content from\nTHT[0]. This role will run through all of the tasks found\nwithin the THT file, and implements molecule tests coving\nthe functionality.\n\nTest Matrix:\n    - default - Runs through the role top to bottom,\n                installing and configuring ptp.\n    - ntp_stop - Sets up an environment and ensures we\n                 properly stop ntpd when directed to.\n\n[0] - https://github.com/openstack/tripleo-heat-templates/tree/master/deployment/time\n\nStory: 2006028\nTask: 34653\nTask: 34655\nTask: 34656\nChange-Id: I4c36c5058c901cb4ead5f781082e5f97014221cb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-07-18 15:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45f1944d0669c15bfb59f4e57ac12aa73bc13908', 'message': 'Create a time role\n\nThis change creates a role using the time content from\nTHT[0]. This role will run through all of the tasks found\nwithin the THT file, and implements molecule tests coving\nthe functionality.\n\nTest Matrix:\n    - default - Runs through the role top to bottom,\n                installing and configuring ptp.\n    - ntp_stop - Sets up an environment and ensures we\n                 properly stop ntpd when directed to.\n\n[0] - https://github.com/openstack/tripleo-heat-templates/tree/master/deployment/time\n\nStory: 2006028\nTask: 34653\nTask: 34655\nTask: 34656\nChange-Id: I4c36c5058c901cb4ead5f781082e5f97014221cb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-07-24 15:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c1ecf7c8ea9f899e33872e11293cdf6fa422d80', 'message': 'Create a time role\n\nThis change creates a role using the time content from\nTHT[0]. This role will run through all of the tasks found\nwithin the THT file, and implements molecule tests coving\nthe functionality.\n\nTest Matrix:\n    - default - Runs through the role top to bottom,\n                installing and configuring ptp.\n    - ntp_stop - Sets up an environment and ensures we\n                 properly stop ntpd when directed to.\n\n[0] - https://github.com/openstack/tripleo-heat-templates/tree/master/deployment/time\n\nStory: 2006028\nTask: 34653\nTask: 34655\nTask: 34656\nChange-Id: I4c36c5058c901cb4ead5f781082e5f97014221cb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-07-29 22:06:28.000000000', 'files': ['doc/source/roles/role-tripleo-time.rst', 'tripleo_ansible/roles/tripleo-time/defaults/main.yml', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo-time/templates/ptp4l.conf.j2', 'tripleo_ansible/roles/tripleo-time/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/prepare.yml', 'tripleo_ansible/roles/tripleo-time/meta/main.yml', 'tripleo_ansible/roles/tripleo-time/tasks/tripleo_ntp_stop.yml', 'tripleo_ansible/roles/tripleo-time/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo-time/tasks/tripleo_phc2sys.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-time/tasks/main.yml', 'tripleo_ansible/roles/tripleo-time/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-time/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/Dockerfile', 'tripleo_ansible/roles/tripleo-time/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-time/handlers/main.yml', 'tripleo_ansible/roles/tripleo-time/tasks/tripleo_ptp.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1e098de6d8e3936e379bc82215338fdc715e5dd', 'message': 'Create a time role\n\nThis change creates a role using the time content from\nTHT[0]. This role will run through all of the tasks found\nwithin the THT file, and implements molecule tests coving\nthe functionality.\n\nTest Matrix:\n    - default - Runs through the role top to bottom,\n                installing and configuring ptp.\n    - ntp_stop - Sets up an environment and ensures we\n                 properly stop ntpd when directed to.\n\n[0] - https://github.com/openstack/tripleo-heat-templates/tree/master/deployment/time\n\nStory: 2006028\nTask: 34653\nTask: 34655\nTask: 34656\nChange-Id: I4c36c5058c901cb4ead5f781082e5f97014221cb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",7,671165,c1e098de6d8e3936e379bc82215338fdc715e5dd,25,6,4,7353,,,0,"Create a time role

This change creates a role using the time content from
THT[0]. This role will run through all of the tasks found
within the THT file, and implements molecule tests coving
the functionality.

Test Matrix:
    - default - Runs through the role top to bottom,
                installing and configuring ptp.
    - ntp_stop - Sets up an environment and ensures we
                 properly stop ntpd when directed to.

[0] - https://github.com/openstack/tripleo-heat-templates/tree/master/deployment/time

Story: 2006028
Task: 34653
Task: 34655
Task: 34656
Change-Id: I4c36c5058c901cb4ead5f781082e5f97014221cb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/671165/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-time.rst', 'tripleo_ansible/roles/tripleo-time/defaults/main.yml', 'tripleo_ansible/roles/tripleo-time/files/.gitkeep', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/playbook.yml', 'tripleo_ansible/roles/tripleo-time/templates/ptp4l.conf.j2', 'tripleo_ansible/roles/tripleo-time/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/prepare.yml', 'tripleo_ansible/roles/tripleo-time/meta/main.yml', 'tripleo_ansible/roles/tripleo-time/tasks/tripleo_ntp_stop.yml', 'tripleo_ansible/roles/tripleo-time/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo-time/tasks/tripleo_phc2sys.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-time/tasks/main.yml', 'tripleo_ansible/roles/tripleo-time/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-time/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-time/molecule/ntp_stop/Dockerfile', 'tripleo_ansible/roles/tripleo-time/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-time/handlers/main.yml', 'tripleo_ansible/roles/tripleo-time/tasks/tripleo_ptp.yml']",20,7f6402baeaf7c17a1d518ef8a384a8b9f1cf7ad8,THT2TA,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Install ptp packages package: name: ""{{ tripleo_ptp_packages }}"" state: present notify: - Enable and start the ptp service - name: Collect only facts returned by facter setup: gather_subset: - network - name: Enable multi-nic ptp when: - (tripleo_ptp_interfaces | length) > 1 block: - name: Relax rp filter sysctl: name: ""net.ipv4.conf.{{ item }}.rp_filter"" value: 2 sysctl_set: true sysctl_file: /etc/sysctl.d/99-tripleo-ptp.conf state: present reload: true with_items: ""{{ tripleo_ptp_interfaces }}"" - name: Check for hardware capabilities command: ""ethtool -T {{ item }}"" changed_when: false failed_when: false with_items: ""{{ tripleo_ptp_interfaces }}"" register: device_capabilities - name: Validate hardware offload set_fact: tripleo_ptp_hardware_offload: ""{{ (device_capabilities.results | map(attribute='rc') | list | sum) == 0 }}"" - name: Create ptp config template: src: ""ptp4l.conf.j2"" dest: /etc/ptp4l.conf notify: - Enable and start the ptp service - name: Create ptp service config copy: content: |- OPTIONS=""-f /etc/ptp4l.conf"" dest: /etc/sysconfig/ptp4l notify: - Enable and start the ptp service ",,647,0
openstack%2Fopenstack-chef~master~Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd,openstack/openstack-chef,master,Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd,Refactor and update test-kitchen suites,MERGED,2019-07-07 23:50:23.000000000,2019-08-06 20:43:26.000000000,2019-08-06 20:43:26.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-07 23:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/28a99c7d6625e0f4641dab6672a7c58c5a50badb', 'message': ""Refactor and update test-kitchen suites\n\nThis provides a large collection of updates and refactoring to improve\nthe development environment for the cookbooks using test-kitchen.\n\nThe primary change this provides is the addition of the 'minimal' suite\nwhich replicates what the integration test jobs run in Zuul. This is\nuseful for testing and debugging issues that might be found during CI\njobs.\n\n- Switch run_list to using roles to better match how the zuul jobs work\n- Update to using Ubuntu 18.04 instead of 16.04\n- Move all attributes from .kitchen.yml files to environments\n- Update multi-node and dokken test-kitchen\n- Use MariaDB 10.1 by default as 10.0 has been deprecated upstream for\n  ubuntu 18.04. Also use OSUOSL mirror as it's more stable than\n  upstream\n- Don't disable EPEL on RHEL systems\n- Synchronize attributes (within reason) between test-kitchen files\n- Update roles run_list\n- Create openstack_test cookbook and update /etc/apt/sources.list to\n  OSUOSL mirrors to improve stability on Ubuntu\n\nChange-Id: Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2019-08-06 10:55:57.000000000', 'files': ['.gitignore', 'roles/multinode-controller.json', 'environments/allinone.json', '.kitchen.multi.yml', 'Berksfile', 'test/cookbooks/openstack_test/recipes/default.rb', '.kitchen.dokken.yml', 'roles/allinone.json', 'environments/integration.json', 'environments/multinode.json', '.kitchen.yml', 'test/cookbooks/openstack_test/metadata.rb'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/5280706daa5929ff51f0fa1eac164201d3f7bbd1', 'message': ""Refactor and update test-kitchen suites\n\nThis provides a large collection of updates and refactoring to improve\nthe development environment for the cookbooks using test-kitchen.\n\nThe primary change this provides is the addition of the 'minimal' suite\nwhich replicates what the integration test jobs run in Zuul. This is\nuseful for testing and debugging issues that might be found during CI\njobs.\n\n- Switch run_list to using roles to better match how the zuul jobs work\n- Update to using Ubuntu 18.04 instead of 16.04\n- Move all attributes from .kitchen.yml files to environments\n- Update multi-node and dokken test-kitchen\n- Use MariaDB 10.1 by default as 10.0 has been deprecated upstream for\n  ubuntu 18.04. Also use OSUOSL mirror as it's more stable than\n  upstream\n- Don't disable EPEL on RHEL systems\n- Synchronize attributes (within reason) between test-kitchen files\n- Update roles run_list\n- Create openstack_test cookbook and update /etc/apt/sources.list to\n  OSUOSL mirrors to improve stability on Ubuntu\n\nChange-Id: Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",4,669581,5280706daa5929ff51f0fa1eac164201d3f7bbd1,13,4,2,21961,,,0,"Refactor and update test-kitchen suites

This provides a large collection of updates and refactoring to improve
the development environment for the cookbooks using test-kitchen.

The primary change this provides is the addition of the 'minimal' suite
which replicates what the integration test jobs run in Zuul. This is
useful for testing and debugging issues that might be found during CI
jobs.

- Switch run_list to using roles to better match how the zuul jobs work
- Update to using Ubuntu 18.04 instead of 16.04
- Move all attributes from .kitchen.yml files to environments
- Update multi-node and dokken test-kitchen
- Use MariaDB 10.1 by default as 10.0 has been deprecated upstream for
  ubuntu 18.04. Also use OSUOSL mirror as it's more stable than
  upstream
- Don't disable EPEL on RHEL systems
- Synchronize attributes (within reason) between test-kitchen files
- Update roles run_list
- Create openstack_test cookbook and update /etc/apt/sources.list to
  OSUOSL mirrors to improve stability on Ubuntu

Change-Id: Ie6d7b56a78f7fadbd28e6d27a46446a46c3c5ebd
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/81/669581/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'roles/multinode-controller.json', 'environments/allinone.json', '.kitchen.multi.yml', 'Berksfile', 'test/cookbooks/openstack_test/recipes/default.rb', '.kitchen.dokken.yml', 'roles/allinone.json', 'environments/integration.json', 'environments/multinode.json', '.kitchen.yml', 'test/cookbooks/openstack_test/metadata.rb']",12,28a99c7d6625e0f4641dab6672a7c58c5a50badb,dokkenandocken,name 'openstack_test' version '0.1.0' ,,149,472
openstack%2Fsenlin~master~I78bbcc0eba298d3905d3702c8397a90449a81e1d,openstack/senlin,master,I78bbcc0eba298d3905d3702c8397a90449a81e1d,Cap sphinx for py2 to match global requirements,ABANDONED,2019-05-17 08:52:39.000000000,2019-08-06 20:43:24.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 30077}]","[{'number': 1, 'created': '2019-05-17 08:52:39.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ada0ab9560af0913b876b99d50c99945eca0c563', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I78bbcc0eba298d3905d3702c8397a90449a81e1d\n'}]",1,659752,ada0ab9560af0913b876b99d50c99945eca0c563,8,5,1,30077,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I78bbcc0eba298d3905d3702c8397a90449a81e1d
",git fetch https://review.opendev.org/openstack/senlin refs/changes/52/659752/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ada0ab9560af0913b876b99d50c99945eca0c563,,"sphinx!=1.6.6,!=1.6.7,>=1.6.3,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.3;python_version>='3.4' #BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsenlin~master~I8bb297c4497b83e06d558a812219d2a56c2e1ee1,openstack/senlin,master,I8bb297c4497b83e06d558a812219d2a56c2e1ee1,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-06 09:21:10.000000000,2019-08-06 20:42:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-06-06 09:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/05a7b5c38aebe8c9b054a4c0bb5f2e72ebff2216', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I8bb297c4497b83e06d558a812219d2a56c2e1ee1\n'}, {'number': 2, 'created': '2019-07-14 15:23:43.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/c331dda25f5b1536702d0ecc237097bcb23ad376', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I8bb297c4497b83e06d558a812219d2a56c2e1ee1\n'}]",0,663556,c331dda25f5b1536702d0ecc237097bcb23ad376,7,3,2,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I8bb297c4497b83e06d558a812219d2a56c2e1ee1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/56/663556/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,05a7b5c38aebe8c9b054a4c0bb5f2e72ebff2216,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Ftripleo-validations~master~I14bdbbea58dce26993c98f959320dbf063406268,openstack/tripleo-validations,master,I14bdbbea58dce26993c98f959320dbf063406268,"Revert ""Improve Ceph health checks to work with custom cluster names""",MERGED,2019-08-06 10:36:25.000000000,2019-08-06 20:22:00.000000000,2019-08-06 20:22:00.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-06 10:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/db4d4726d9f6a632df27426c73c093bb4271e9e8', 'message': 'Revert ""Improve Ceph health checks to work with custom cluster names""\n\nBreaking validations\n\nThis reverts commit ff4d7ceec5a24e0b53d0b2effc2e7d23cb895344.\n\nChange-Id: I14bdbbea58dce26993c98f959320dbf063406268\n'}, {'number': 2, 'created': '2019-08-06 11:12:06.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e19638c93e352970b27ae556faac70baabac73ea', 'message': 'Revert ""Improve Ceph health checks to work with custom cluster names""\n\nBreaking validations\n\nThis reverts commit ff4d7ceec5a24e0b53d0b2effc2e7d23cb895344.\n\nChange-Id: I14bdbbea58dce26993c98f959320dbf063406268\n'}]",0,674771,e19638c93e352970b27ae556faac70baabac73ea,12,7,2,6796,,,0,"Revert ""Improve Ceph health checks to work with custom cluster names""

Breaking validations

This reverts commit ff4d7ceec5a24e0b53d0b2effc2e7d23cb895344.

Change-Id: I14bdbbea58dce26993c98f959320dbf063406268
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/71/674771/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,db4d4726d9f6a632df27426c73c093bb4271e9e8,," shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph health | awk '{print $1}'"" shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph osd stat -f json | jq '{{ jq_osd_percentage_filter }}'"""," - name: Set ceph cluster name become: true shell: find /etc/ceph -name '*.conf' -exec basename -s .conf {} \; 2>/dev/null | head -n1 ignore_errors: true register: ceph_cluster_name changed_when: False shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph --cluster {{ ceph_cluster_name }} health | awk '{print $1}'"" shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph --cluster {{ ceph_cluster_name }} osd stat -f json | jq '{{ jq_osd_percentage_filter }}'""",2,9
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7b5f6e0a2c8ba77fd575cf1a1003a1553f96efff,openstack/tripleo-heat-templates,stable/queens,I7b5f6e0a2c8ba77fd575cf1a1003a1553f96efff,Update mysql url for cell0 in step3,MERGED,2019-08-02 18:32:13.000000000,2019-08-06 20:21:59.000000000,2019-08-06 20:21:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 18:32:13.000000000', 'files': ['docker/services/nova-api.yaml', 'releasenotes/notes/update-cell0-db-entry-in-step3-7484135b65c72f7b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a6be5798f1654c883ed09e4086df53ffb236971', 'message': 'Update mysql url for cell0 in step3\n\nWhen doing a TLS brown field deployment (ie. updating a previously\ndeployed system without internal TLS to using internal TLS), the\ndatabase endpoint stored in the db for the default cell and cell0\nmust be changed in step3.\n\nLogic already exists in step 3 to change the default cell, and the\nFFU group added logic to update cell0 in step 5.  We just need to\nmove that logic to step 3.\n\nNote that this is not a problem in stein+ because we have already\nadded logic to set the db endpoint for both cells using\ntemplated values for both cells in step 3.\n\nCloses-Bug: 1838804\n\nChange-Id: I7b5f6e0a2c8ba77fd575cf1a1003a1553f96efff\n'}]",1,674402,9a6be5798f1654c883ed09e4086df53ffb236971,19,9,1,9914,,,0,"Update mysql url for cell0 in step3

When doing a TLS brown field deployment (ie. updating a previously
deployed system without internal TLS to using internal TLS), the
database endpoint stored in the db for the default cell and cell0
must be changed in step3.

Logic already exists in step 3 to change the default cell, and the
FFU group added logic to update cell0 in step 5.  We just need to
move that logic to step 3.

Note that this is not a problem in stein+ because we have already
added logic to set the db endpoint for both cells using
templated values for both cells in step 3.

Closes-Bug: 1838804

Change-Id: I7b5f6e0a2c8ba77fd575cf1a1003a1553f96efff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/674402/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-api.yaml', 'releasenotes/notes/update-cell0-db-entry-in-step3-7484135b65c72f7b.yaml']",2,9a6be5798f1654c883ed09e4086df53ffb236971,,--- fixes: - Fixes an issue whereby TLS Everywhere brownfield deployments were timing out because the db entry for cell0 in the database was not being updated in step 3. This entry is now updated in step 3. ,,20,15
openstack%2Fironic~stable%2Fstein~Ib1b1e32bc60d7ec271098dcd17086f79518c09df,openstack/ironic,stable/stein,Ib1b1e32bc60d7ec271098dcd17086f79518c09df,CI: stop using pyghmi from git master,MERGED,2019-07-30 08:27:23.000000000,2019-08-06 20:20:28.000000000,2019-08-06 17:22:33.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-30 08:27:23.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c401536466e039b76f4c4cf4fe44bf0a21b8f93', 'message': ""CI: stop using pyghmi from git master\n\nIt's just a library we consume, there is no reason to use its\ngit head. Currently 1.4.0 is breaking us.\n\nStory: #2006301\nTask: #36014\nChange-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df\n(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)\n""}]",0,673446,8c401536466e039b76f4c4cf4fe44bf0a21b8f93,53,11,1,10239,,,0,"CI: stop using pyghmi from git master

It's just a library we consume, there is no reason to use its
git head. Currently 1.4.0 is breaking us.

Story: #2006301
Task: #36014
Change-Id: Ib1b1e32bc60d7ec271098dcd17086f79518c09df
(cherry picked from commit 3dfce5f2de6377d74632bb2a7fe3d382ccc629b0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/673446/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml']",4,8c401536466e039b76f4c4cf4fe44bf0a21b8f93,gate-stable/stein,," export PROJECTS=""x/pyghmi $PROJECTS""",0,8
openstack%2Fkolla-ansible~stable%2Fstein~I1cf0ad10b80552f503898e723f0c4bd00a38f143,openstack/kolla-ansible,stable/stein,I1cf0ad10b80552f503898e723f0c4bd00a38f143,ceph: fixes to deployment and upgrade,MERGED,2019-08-03 08:11:34.000000000,2019-08-06 20:11:00.000000000,2019-08-06 20:11:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-03 08:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c0a3e5ac524dda1f18a4c0d34ce23d462b0e43c', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n5) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n6) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n7) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673302\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-08-06 14:28:03.000000000', 'files': ['tests/get_logs.sh', 'ansible/roles/ceph/tasks/start_nfss.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/roles/ceph/templates/ganesha.conf.j2', 'ansible/library/kolla_ceph_keyring.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b26f397bfebfd2d2d70608855178017653f33d26', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n5) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n6) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n7) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 826f6850d06afbbad95727bdf6cf53fb986b7cf8)\n'}]",0,674443,b26f397bfebfd2d2d70608855178017653f33d26,13,4,2,30491,,,0,"ceph: fixes to deployment and upgrade

1) ceph-nfs (ganesha-ceph) - use NFSv4 only
This is recommended upstream.
v3 and UDP require portmapper (aka rpcbind) which we
do not want, except where Ubuntu ganesha version (2.6)
forces it by requiring enabled UDP, see [1].
The issue has been fixed in 2.8, included in CentOS.
Additionally disable v3 helper protocols and kerberos
to avoid meaningless warnings.

2) ceph-nfs (ganesha-ceph) - do not export host dbus
It is not in use. This avoids the temptation to try
handling it on host.

3) Properly handle ceph services deploy and upgrade
Upgrade runs deploy.
The order has been corrected - nfs goes after mds.
Additionally upgrade takes care of rgw for keystone
(for swift emulation).

4) Enhance ceph keyring module with error detection
Now it does not blindly try to create a keyring after
any failure. This used to hide real issue.

5) Retry ceph admin keyring update until cluster works
Reordering deployment caused issue with ceph cluster not being
fully operational before taking actions on it.

6) CI: Remove osd df from collected logs as it may hang CI
Hangs are caused by healthy MON and no healthy MGR.
A descriptive note is left in its place.

7) CI: Add 5s timeout to ceph informational commands
This decreases the timeout from the default 300s.

[1] https://review.opendev.org/669315

Change-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 826f6850d06afbbad95727bdf6cf53fb986b7cf8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/674443/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/get_logs.sh', 'ansible/roles/ceph/tasks/start_nfss.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/roles/ceph/templates/ganesha.conf.j2', 'ansible/library/kolla_ceph_keyring.py']",6,9c0a3e5ac524dda1f18a4c0d34ce23d462b0e43c,fix-ceph-very-much-stable/stein,"import re mds: 'allow *'enoent_re = re.compile(r""\bENOENT\b"") except subprocess.CalledProcessError as e: if e.returncode != 2 or not enoent_re.search(e.output): # this is not a missing keyring case raise", mds: 'allow' except subprocess.CalledProcessError:,48,54
openstack%2Fnova~master~I25e5b3bfe2c6a2a0ee506350730071711a368f6f,openstack/nova,master,I25e5b3bfe2c6a2a0ee506350730071711a368f6f,Change the response to migrations of Show Migration Details API,ABANDONED,2019-08-06 15:00:00.000000000,2019-08-06 20:09:47.000000000,,"[{'_account_id': 6873}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-08-06 15:00:00.000000000', 'files': ['doc/api_samples/server-migrations/v2.59/migrations-get.json', 'nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.23/migrations-get.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.59/migrations-get.json.tpl', 'nova/api/openstack/compute/server_migrations.py', 'doc/api_samples/server-migrations/v2.23/migrations-get.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e1831987196fd135f54f91192b8d6ddada70fcf', 'message': 'Change the response to migrations of Show Migration Details API\n\nSince the server\'s migration record is generally >=1, returning\n{\'migrations"":{}} is more appropriate than returning {\'migration\':{}}.\n\nRelated-on: https://review.opendev.org/#/c/674243/\nChange-Id: I25e5b3bfe2c6a2a0ee506350730071711a368f6f\n'}]",0,674825,5e1831987196fd135f54f91192b8d6ddada70fcf,6,5,1,26458,,,0,"Change the response to migrations of Show Migration Details API

Since the server's migration record is generally >=1, returning
{'migrations"":{}} is more appropriate than returning {'migration':{}}.

Related-on: https://review.opendev.org/#/c/674243/
Change-Id: I25e5b3bfe2c6a2a0ee506350730071711a368f6f
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/674825/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/server-migrations/v2.59/migrations-get.json', 'nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.23/migrations-get.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.59/migrations-get.json.tpl', 'nova/api/openstack/compute/server_migrations.py', 'doc/api_samples/server-migrations/v2.23/migrations-get.json']",6,5e1831987196fd135f54f91192b8d6ddada70fcf,," ""migrations"": {"," ""migration"": {",6,6
openstack%2Fossa~master~I22c4b17a0ad1b6197a97c6b2670fe5d1a6a7406f,openstack/ossa,master,I22c4b17a0ad1b6197a97c6b2670fe5d1a6a7406f,Add OSSA-2019-003 (CVE-2019-14433),MERGED,2019-08-06 18:41:55.000000000,2019-08-06 19:58:47.000000000,2019-08-06 19:58:47.000000000,"[{'_account_id': 1004}, {'_account_id': 2903}, {'_account_id': 6873}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 18:41:55.000000000', 'files': ['ossa/OSSA-2019-003.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/6b0b3a50e69e0a8f6f3207ed15a2aaaa30391580', 'message': 'Add OSSA-2019-003 (CVE-2019-14433)\n\nChange-Id: I22c4b17a0ad1b6197a97c6b2670fe5d1a6a7406f\nRelated-Bug: #1837877\n'}]",0,674909,6b0b3a50e69e0a8f6f3207ed15a2aaaa30391580,10,5,1,5263,,,0,"Add OSSA-2019-003 (CVE-2019-14433)

Change-Id: I22c4b17a0ad1b6197a97c6b2670fe5d1a6a7406f
Related-Bug: #1837877
",git fetch https://review.opendev.org/openstack/ossa refs/changes/09/674909/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2019-003.yaml'],1,6b0b3a50e69e0a8f6f3207ed15a2aaaa30391580,ossa-2019-003,"date: 2019-08-06 id: OSSA-2019-003 title: Nova Server Resource Faults Leak External Exception Details description: > Donny Davis with Intel reported a vulnerability in Nova Compute resource fault handling. If an API request from an authenticated user ends in a fault condition due to an external exception, details of the underlying environment may be leaked in the response and could include sensitive configuration or other data. affected-products: - product: Nova version: '<17.0.12,>=18.0.0<18.2.2,>=19.0.0<19.0.2' vulnerabilities: - cve-id: CVE-2019-14433 reporters: - name: Donny Davis affiliation: Intel reported: - CVE-2019-14433 issues: links: - https://launchpad.net/bugs/1837877 reviews: train: - https://review.openstack.org/674821 stein: - https://review.openstack.org/674828 rocky: - https://review.openstack.org/674848 queens: - https://review.openstack.org/674859 pike: - https://review.openstack.org/674877 ocata: - https://review.openstack.org/674908 type: gerrit notes: - The stable/ocata and stable/pike branches are under extended maintenance and will receive no new point releases, but patches for them are provided as a courtesy. ",,60,0
openstack%2Ftripleo-docs~master~I08ba71dbc437102b4d53d65a7c357cfc026ffe33,openstack/tripleo-docs,master,I08ba71dbc437102b4d53d65a7c357cfc026ffe33,Include SSH key in manual config-download Ceph example,MERGED,2019-06-26 18:59:41.000000000,2019-08-06 19:55:00.000000000,2019-08-06 19:55:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-26 18:59:41.000000000', 'files': ['doc/source/install/advanced_deployment/ansible_config_download.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/999cd5b0580b1e854ba553d2bf8b87b1f0302602', 'message': 'Include SSH key in manual config-download Ceph example\n\nExample from Ibe2e2302b47efea1c747c0166d552fab4feb31c8\nwas missing ANSIBLE_PRIVATE_KEY_FILE which will likely\nalso be needed with CephAnsibleEnvironmentVariables.\n\nChange-Id: I08ba71dbc437102b4d53d65a7c357cfc026ffe33\n'}]",4,667708,999cd5b0580b1e854ba553d2bf8b87b1f0302602,13,5,1,18002,,,0,"Include SSH key in manual config-download Ceph example

Example from Ibe2e2302b47efea1c747c0166d552fab4feb31c8
was missing ANSIBLE_PRIVATE_KEY_FILE which will likely
also be needed with CephAnsibleEnvironmentVariables.

Change-Id: I08ba71dbc437102b4d53d65a7c357cfc026ffe33
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/08/667708/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ansible_config_download.rst'],1,999cd5b0580b1e854ba553d2bf8b87b1f0302602,ceph_ansible_config_download_key, ANSIBLE_PRIVATE_KEY_FILE: '/home/stack/.ssh/id_rsa',,1,0
openstack%2Fironic-python-agent~master~Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322,openstack/ironic-python-agent,master,Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322,Adds software raid creation support on nvme drives.,MERGED,2019-08-06 09:27:58.000000000,2019-08-06 19:47:42.000000000,2019-08-06 19:47:42.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 15064}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 09:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/43f6f32f83f1ae22328aa3fda8905aef7bc698e7', 'message': '[WIP] Fix software raid creation on nvme holders\n\nChange-Id: Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322\n'}, {'number': 2, 'created': '2019-08-06 09:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a97a9365b97b42ecb9d781a0f7ed91ac6386d93b', 'message': '[WIP] Fix software raid creation on nvme holders\n\nChange-Id: Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322\nStory: #2006341\nTask: #36091\n'}, {'number': 3, 'created': '2019-08-06 09:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dad8255526d0f9357e4a43c3fa86cc367a86e505', 'message': '[WIP] Fix software raid creation on nvme holders\n\nChange-Id: Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322\nStory: #2006341\nTask: #36091\n'}, {'number': 4, 'created': '2019-08-06 11:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/22d2f1cdebb2ac2cfc04a9de6965fed570379a97', 'message': 'Adds software raid creation support on nvme drives.\n\nChange-Id: Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322\nStory: #2006341\nTask: #36091\n'}, {'number': 5, 'created': '2019-08-06 11:23:18.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/softraid-creation-on-nvme-a2fd4c531d200904.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/570584f9abc5216b5fdea8e9923758cc3def2816', 'message': 'Adds software raid creation support on nvme drives.\n\nChange-Id: Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322\nStory: #2006341\nTask: #36091\n'}]",4,674767,570584f9abc5216b5fdea8e9923758cc3def2816,19,5,5,15064,,,0,"Adds software raid creation support on nvme drives.

Change-Id: Ia725fcaee6018255af3dd7ff0eb2fb1cfbd2b322
Story: #2006341
Task: #36091
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/67/674767/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,43f6f32f83f1ae22328aa3fda8905aef7bc698e7,softraid_fix_nvme,"P_DELIMITER_PATTERN = re.compile(r'^(?:/dev/)?nvme.*$') # Necessary, if we want to avoid hitting # an error when creating the mdadm array below # 'mdadm: cannot open /dev/nvme1n1p1: No such file # or directory'. # The real difference between partx and partprobe is # unclear, but note that partprobe does not seem to # work synchronously for nvme drives... utils.execute(""partx"", ""-u"", device.name, check_exit_code=False) component_devices = [] for device in block_devices: # The partition delimiter for all common harddrives (sd[a-z]+) part_delimiter = '' if P_DELIMITER_PATTERN.match(device.name): part_delimiter = 'p' component_devices.append( device.name + part_delimiter + str(index + 1))", component_devices = [device.name + str(index + 1) for device in block_devices],18,2
openstack%2Frpm-packaging~stable%2Fstein~Ie58ad13cab219926af5a633027f50372d81ddabd,openstack/rpm-packaging,stable/stein,Ie58ad13cab219926af5a633027f50372d81ddabd,os-faults: Fix doc group,MERGED,2019-08-06 17:09:15.000000000,2019-08-06 19:44:52.000000000,2019-08-06 19:44:52.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 17:09:15.000000000', 'files': ['openstack/os-faults/os-faults.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e9e4bb24f2e5b04fd53c631d136cc2c7ebd8b5a9', 'message': 'os-faults: Fix doc group\n\nChange-Id: Ie58ad13cab219926af5a633027f50372d81ddabd\n(cherry picked from commit d7d4512d3a7c4fb4e6cb66c2ba053f14d8938c26)\n'}]",0,674880,e9e4bb24f2e5b04fd53c631d136cc2c7ebd8b5a9,8,4,1,6593,,,0,"os-faults: Fix doc group

Change-Id: Ie58ad13cab219926af5a633027f50372d81ddabd
(cherry picked from commit d7d4512d3a7c4fb4e6cb66c2ba053f14d8938c26)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/674880/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-faults/os-faults.spec.j2'],1,e9e4bb24f2e5b04fd53c631d136cc2c7ebd8b5a9,,Group: Documentation/HTML,Group: Documentation,1,1
openstack%2Fossa~master~Iac7072dc2b67327b320ec89158ba5e2c4c22c263,openstack/ossa,master,Iac7072dc2b67327b320ec89158ba5e2c4c22c263,"Update documentation on finding OSSA rst ""source""",MERGED,2019-03-18 17:28:49.000000000,2019-08-06 19:37:07.000000000,2019-08-06 19:37:07.000000000,"[{'_account_id': 9311}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 17:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/2e835a1a656233e6bd923bb09ba153557dd8ff39', 'message': 'Update documentation on finding OSSA rst ""source""\n\nWith the semi-recent switch in Sphinx themes, there is no longer a\n""Show Source"" button or link on rendered HTML pages. Instead\ndocument how to alter the URL to find the generated reStructuredText\n""source"" files.\n\nChange-Id: Iac7072dc2b67327b320ec89158ba5e2c4c22c263\n'}, {'number': 2, 'created': '2019-08-06 19:00:44.000000000', 'files': ['doc/source/vmt-process.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/3b09898b2cdf40e77449c94984a9d34a3004fcfb', 'message': 'Update documentation on finding OSSA rst ""source""\n\nWith the semi-recent switch in Sphinx themes, there is no longer a\n""Show Source"" button or link on rendered HTML pages. Instead\ndocument how to alter the URL to find the generated reStructuredText\n""source"" files.\n\nChange-Id: Iac7072dc2b67327b320ec89158ba5e2c4c22c263\n'}]",0,644370,3b09898b2cdf40e77449c94984a9d34a3004fcfb,12,3,2,5263,,,0,"Update documentation on finding OSSA rst ""source""

With the semi-recent switch in Sphinx themes, there is no longer a
""Show Source"" button or link on rendered HTML pages. Instead
document how to alter the URL to find the generated reStructuredText
""source"" files.

Change-Id: Iac7072dc2b67327b320ec89158ba5e2c4c22c263
",git fetch https://review.opendev.org/openstack/ossa refs/changes/70/644370/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/vmt-process.rst'],1,2e835a1a656233e6bd923bb09ba153557dd8ff39,sphinx-theme,"Once approved, view the gate-ossa-docs output and browse to the rendered HTML advisory, then alter the URL to insert ``_source/`` before the first path component and change the file extension to ``rst`` to get the generated RST document. We send two separate emails, to avoid off-topic replies to oss-security list:","Once approved, use the 'Show Source' button from the gate-ossa-docs output to get the generated RST document. We send two separate emails, to avoid off-topic replies to oss-security list:",5,3
openstack%2Fnova~master~Ib5760da617182f7153ccfc7c47b50d45bcb8c064,openstack/nova,master,Ib5760da617182f7153ccfc7c47b50d45bcb8c064,Poison context usage in periodic tasks,NEW,2018-02-09 15:35:59.000000000,2019-08-06 19:27:47.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-09 15:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97078f7c499e2a0dd099fa40145e33be20d672c3', 'message': ""Poison context usage in periodic tasks\n\nThe pervious patch introduced an admin context to the service object\nwith the intention that every periodic task should use that context\ninstead of creating a new one.\n\nThis patch poisons the context calls inside periodic tasks in the test\nenvironments.\n\nIdeally we should simply wrap the run_periodic_tasks from oslo and make\nsure that everything that runs from it sees a poisoned nova.context\nmodule. Unfortunately nova doesn't have any unit or functional tests\nthat enables periodic tasks [1] so this approach doesn't work.\nIn the other hand we have tests that call the periodic task functions\ndirectly e.g.: [2]. As those functions are decorated with the\nperiodic_task decorator we have a chance to poison these direct calls\nas well by dynamically wrapping the fuction during the decoration.\n\nSo this patch redirects the periodic_task decorator. As decoration\nhappens at import time this patch needs to do the instrumentation\nat the module level of the nova.test module to be able to redirect\nthe decorator early enough. The new decorator applies the original\ndecoration first to allow future test to turn on periodic tasks\nby enabling the related config in test [1].\nThen it wraps the result of the original decoration in yet another\nfunction and that extra layer is used to set up the poisoning.\n\n[1]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/unit/conf_fixture.py#L47\n[2]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/functional/test_servers.py#L1605\n\nChange-Id: Ib5760da617182f7153ccfc7c47b50d45bcb8c064\n""}, {'number': 2, 'created': '2018-02-09 15:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3af9ac44807b15d2848c860e6a7eb6473ad7ff7', 'message': ""Poison context usage in periodic tasks\n\nThe pervious patch introduced an admin context to the service object\nwith the intention that every periodic task should use that context\ninstead of creating a new one.\n\nThis patch poisons the context calls inside periodic tasks in the test\nenvironments.\n\nIdeally we should simply wrap the run_periodic_tasks from oslo and make\nsure that everything that runs from it sees a poisoned nova.context\nmodule. Unfortunately nova doesn't have any unit or functional tests\nthat enables periodic tasks [1] so this approach doesn't work.\nIn the other hand we have tests that call the periodic task functions\ndirectly e.g.: [2]. As those functions are decorated with the\nperiodic_task decorator we have a chance to poison these direct calls\nas well by dynamically wrapping the fuction during the decoration.\n\nSo this patch redirects the periodic_task decorator. As decoration\nhappens at import time this patch needs to do the instrumentation\nat the module level of the nova.test module to be able to redirect\nthe decorator early enough. The new decorator applies the original\ndecoration first to allow future test to turn on periodic tasks\nby enabling the related config in test [1].\nThen it wraps the result of the original decoration in yet another\nfunction and that extra layer is used to set up the poisoning.\n\n[1]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/unit/conf_fixture.py#L47\n[2]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/functional/test_servers.py#L1605\n\nChange-Id: Ib5760da617182f7153ccfc7c47b50d45bcb8c064\n""}, {'number': 3, 'created': '2019-07-31 22:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/752d90d0d5779d128f4f987e42146e49cb6c1530', 'message': ""Poison context usage in periodic tasks\n\nThe pervious patch introduced an admin context to the service object\nwith the intention that every periodic task should use that context\ninstead of creating a new one.\n\nThis patch poisons the context calls inside periodic tasks in the test\nenvironments.\n\nIdeally we should simply wrap the run_periodic_tasks from oslo and make\nsure that everything that runs from it sees a poisoned nova.context\nmodule. Unfortunately nova doesn't have any unit or functional tests\nthat enables periodic tasks [1] so this approach doesn't work.\nIn the other hand we have tests that call the periodic task functions\ndirectly e.g.: [2]. As those functions are decorated with the\nperiodic_task decorator we have a chance to poison these direct calls\nas well by dynamically wrapping the fuction during the decoration.\n\nSo this patch redirects the periodic_task decorator. As decoration\nhappens at import time this patch needs to do the instrumentation\nat the module level of the nova.test module to be able to redirect\nthe decorator early enough. The new decorator applies the original\ndecoration first to allow future test to turn on periodic tasks\nby enabling the related config in test [1].\nThen it wraps the result of the original decoration in yet another\nfunction and that extra layer is used to set up the poisoning.\n\n[1]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/unit/conf_fixture.py#L47\n[2]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/functional/test_servers.py#L1605\n\nChange-Id: Ib5760da617182f7153ccfc7c47b50d45bcb8c064\n""}, {'number': 4, 'created': '2019-08-01 19:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0b6c8c017aad81404e8619737854054aa61820e', 'message': ""Poison context usage in periodic tasks\n\nThe pervious patch introduced an admin context to the service object\nwith the intention that every periodic task should use that context\ninstead of creating a new one.\n\nThis patch poisons the context calls inside periodic tasks in the test\nenvironments.\n\nIdeally we should simply wrap the run_periodic_tasks from oslo and make\nsure that everything that runs from it sees a poisoned nova.context\nmodule. Unfortunately nova doesn't have any unit or functional tests\nthat enables periodic tasks [1] so this approach doesn't work.\nIn the other hand we have tests that call the periodic task functions\ndirectly e.g.: [2]. As those functions are decorated with the\nperiodic_task decorator we have a chance to poison these direct calls\nas well by dynamically wrapping the fuction during the decoration.\n\nSo this patch redirects the periodic_task decorator. As decoration\nhappens at import time this patch needs to do the instrumentation\nat the module level of the nova.test module to be able to redirect\nthe decorator early enough. The new decorator applies the original\ndecoration first to allow future test to turn on periodic tasks\nby enabling the related config in test [1].\nThen it wraps the result of the original decoration in yet another\nfunction and that extra layer is used to set up the poisoning.\n\n[1]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/unit/conf_fixture.py#L47\n[2]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/functional/test_servers.py#L1605\n\nChange-Id: Ib5760da617182f7153ccfc7c47b50d45bcb8c064\n""}, {'number': 5, 'created': '2019-08-06 09:59:50.000000000', 'files': ['nova/test.py', 'nova/tests/unit/test_test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d1123581e9dc693695f401727b2d727261acfe7', 'message': ""Poison context usage in periodic tasks\n\nThe pervious patch introduced an admin context to the service object\nwith the intention that every periodic task should use that context\ninstead of creating a new one.\n\nThis patch poisons the context calls inside periodic tasks in the test\nenvironments.\n\nIdeally we should simply wrap the run_periodic_tasks from oslo and make\nsure that everything that runs from it sees a poisoned nova.context\nmodule. Unfortunately nova doesn't have any unit or functional tests\nthat enables periodic tasks [1] so this approach doesn't work.\nIn the other hand we have tests that call the periodic task functions\ndirectly e.g.: [2]. As those functions are decorated with the\nperiodic_task decorator we have a chance to poison these direct calls\nas well by dynamically wrapping the fuction during the decoration.\n\nSo this patch redirects the periodic_task decorator. As decoration\nhappens at import time this patch needs to do the instrumentation\nat the module level of the nova.test module to be able to redirect\nthe decorator early enough. The new decorator applies the original\ndecoration first to allow future test to turn on periodic tasks\nby enabling the related config in test [1].\nThen it wraps the result of the original decoration in yet another\nfunction and that extra layer is used to set up the poisoning.\n\n[1]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/unit/conf_fixture.py#L47\n[2]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/functional/test_servers.py#L1605\n\nChange-Id: Ib5760da617182f7153ccfc7c47b50d45bcb8c064\n""}]",2,542891,4d1123581e9dc693695f401727b2d727261acfe7,42,15,5,9708,,,0,"Poison context usage in periodic tasks

The pervious patch introduced an admin context to the service object
with the intention that every periodic task should use that context
instead of creating a new one.

This patch poisons the context calls inside periodic tasks in the test
environments.

Ideally we should simply wrap the run_periodic_tasks from oslo and make
sure that everything that runs from it sees a poisoned nova.context
module. Unfortunately nova doesn't have any unit or functional tests
that enables periodic tasks [1] so this approach doesn't work.
In the other hand we have tests that call the periodic task functions
directly e.g.: [2]. As those functions are decorated with the
periodic_task decorator we have a chance to poison these direct calls
as well by dynamically wrapping the fuction during the decoration.

So this patch redirects the periodic_task decorator. As decoration
happens at import time this patch needs to do the instrumentation
at the module level of the nova.test module to be able to redirect
the decorator early enough. The new decorator applies the original
decoration first to allow future test to turn on periodic tasks
by enabling the related config in test [1].
Then it wraps the result of the original decoration in yet another
function and that extra layer is used to set up the poisoning.

[1]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/unit/conf_fixture.py#L47
[2]https://github.com/openstack/nova/blob/2c1874a0ecdd1b5ce7670cdfc42396e90e3a55aa/nova/tests/functional/test_servers.py#L1605

Change-Id: Ib5760da617182f7153ccfc7c47b50d45bcb8c064
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/542891/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/compute/manager.py', 'nova/tests/unit/test_test.py']",3,97078f7c499e2a0dd099fa40145e33be20d672c3,,"from oslo_service import periodic_taskfrom nova import context class PoisonContextInPeriodicTaskTestCase(test.NoDBTestCase): @periodic_task.periodic_task def call_get_context(self): context.get_context() @periodic_task.periodic_task def call_get_admin_context(self): context.get_admin_context() @periodic_task.periodic_task(run_immediately=True) def call_get_context_parameterized(self): context.get_context() @periodic_task.periodic_task(run_immediately=True) def call_get_admin_context_parameterized(self): context.get_admin_context() def test_non_periodic_context_calls_are_not_poisoned(self): context.get_context() context.get_admin_context() def test_poisoning_decorator_without_param(self): self.assertRaises(AssertionError, self.call_get_context) self.assertRaises(AssertionError, self.call_get_admin_context) def test_poisoning_decorator_with_param(self): self.assertRaises(AssertionError, self.call_get_context_parameterized) self.assertRaises(AssertionError, self.call_get_admin_context_parameterized)",,90,1
openstack%2Fnova~master~I222301c6a6e6faeb524154c30a35ad228f93aa21,openstack/nova,master,I222301c6a6e6faeb524154c30a35ad228f93aa21,WIP: Generate and log global_request_id properly,ABANDONED,2019-07-31 22:10:52.000000000,2019-08-06 18:46:35.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-31 22:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6673363e88670e8b05cf79a0197104a51e74f900', 'message': 'WIP: Generate and log global_request_id properly\n\nChange-Id: I222301c6a6e6faeb524154c30a35ad228f93aa21\n'}, {'number': 2, 'created': '2019-08-01 19:14:22.000000000', 'files': ['nova/scheduler/client/report.py', 'nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb7eeffef28344a28a07b5978fba67c7d7648ba8', 'message': 'WIP: Generate and log global_request_id properly\n\nChange-Id: I222301c6a6e6faeb524154c30a35ad228f93aa21\n'}]",3,673924,bb7eeffef28344a28a07b5978fba67c7d7648ba8,22,11,2,14070,,,0,"WIP: Generate and log global_request_id properly

Change-Id: I222301c6a6e6faeb524154c30a35ad228f93aa21
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/673924/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/report.py', 'nova/context.py']",2,6673363e88670e8b05cf79a0197104a51e74f900,log-global_request_id," Note that overwrite is True here so this context will update the overwrite=True, global_request_id=context.generate_request_id()) overwrite=True, global_request_id=context.generate_request_id())", Note that overwrite is False here so this context will not update the overwrite=False) overwrite=False),6,3
openstack%2Fos-net-config~master~I36d28270744c6eb17bf3b9484b33f0dff70cfff4,openstack/os-net-config,master,I36d28270744c6eb17bf3b9484b33f0dff70cfff4,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-31 08:33:59.000000000,2019-08-06 18:29:21.000000000,2019-08-06 18:29:21.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 08:33:59.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f9c3e08bd05553ce7fcead14338a8b41b585db7a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I36d28270744c6eb17bf3b9484b33f0dff70cfff4\n'}]",0,673755,f9c3e08bd05553ce7fcead14338a8b41b585db7a,7,3,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I36d28270744c6eb17bf3b9484b33f0dff70cfff4
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/55/673755/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f9c3e08bd05553ce7fcead14338a8b41b585db7a,sphinx,"sphinx>=1.6.2,!=1.6.6,!=1.6.7,!=2.1.0;python_version>='3.4' # BSD","sphinx>=1.6.2,!=1.6.6,!=1.6.7;python_version>='3.4' # BSD",1,1
openstack%2Fpython-tripleoclient~master~I27e3f209f948b4c7c04e7994fc4dc7489f28f720,openstack/python-tripleoclient,master,I27e3f209f948b4c7c04e7994fc4dc7489f28f720,Additional resource cleanup,MERGED,2019-08-02 16:10:10.000000000,2019-08-06 18:29:19.000000000,2019-08-06 18:29:18.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 16:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/932642e6926b607f928ff7a1e4b1f7c9f4f3170f', 'message': 'Additional resource cleanup\n\nThese resources were previously not properly closed when leading to\nResourceWarnings being printed to the end user.\n\nChange-Id: I27e3f209f948b4c7c04e7994fc4dc7489f28f720\nRelated-Bug: #1837393\n'}, {'number': 2, 'created': '2019-08-02 18:34:46.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_config.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_roles.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e13179ecd5ff56df746cb0926cfd16f41ac75e4', 'message': 'Additional resource cleanup\n\nThese resources were previously not properly closed when leading to\nResourceWarnings being printed to the end user.\n\nChange-Id: I27e3f209f948b4c7c04e7994fc4dc7489f28f720\nRelated-Bug: #1837393\n'}]",0,674343,6e13179ecd5ff56df746cb0926cfd16f41ac75e4,13,5,2,14985,,,0,"Additional resource cleanup

These resources were previously not properly closed when leading to
ResourceWarnings being printed to the end user.

Change-Id: I27e3f209f948b4c7c04e7994fc4dc7489f28f720
Related-Bug: #1837393
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/674343/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/v1/overcloud_config.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_roles.py']",7,932642e6926b607f928ff7a1e4b1f7c9f4f3170f,bug/1837393," def _stop_capture_output(self, filename=None): """"""Stop capturing stdout to a file if provided"""""" if filename is not None: sys.stdout.close() self._stop_capture_output(parsed_args.output_file)",,42,12
openstack%2Fkeystone~master~Id423f8a304abffbe0c7814ab2ab4458e6a403bb1,openstack/keystone,master,Id423f8a304abffbe0c7814ab2ab4458e6a403bb1,Fix websso auth loop,MERGED,2019-08-01 19:42:01.000000000,2019-08-06 18:22:45.000000000,2019-08-06 18:22:45.000000000,"[{'_account_id': 1916}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-01 19:42:01.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py', 'keystone/api/auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d8f3ba0429c535cdc9dbde83d948b816ae7d760b', 'message': 'Fix websso auth loop\n\nIn bf67b3c8[1] we introduced an error whereby trying to use WebSSO to\nauthenticate with one protocol would fail with an uncaught HTTP 404 if\nan IdP was found that did not use that protocol. This patch fixes the\nissue by ensuring that during the search for an IdP that matches the\ngiven protocol, we ignore invalid IdPs.\n\nThis is tested by the existing WebSSOTests unit test class simply by\ninserting a dummy IdP and protocol combination into the test data during\nsetup, since the problem arises when the protocol you are *not* trying\nto authenticate with is indexed first in the database.\n\nSince the breaking change was not released yet, this bugfix does not\nneed a release note.\n\n[1] https://review.opendev.org/637305\n\nChange-Id: Id423f8a304abffbe0c7814ab2ab4458e6a403bb1\nCloses-bug: #1838592\n'}]",0,674122,d8f3ba0429c535cdc9dbde83d948b816ae7d760b,8,4,1,8482,,,0,"Fix websso auth loop

In bf67b3c8[1] we introduced an error whereby trying to use WebSSO to
authenticate with one protocol would fail with an uncaught HTTP 404 if
an IdP was found that did not use that protocol. This patch fixes the
issue by ensuring that during the search for an IdP that matches the
given protocol, we ignore invalid IdPs.

This is tested by the existing WebSSOTests unit test class simply by
inserting a dummy IdP and protocol combination into the test data during
setup, since the problem arises when the protocol you are *not* trying
to authenticate with is indexed first in the database.

Since the breaking change was not released yet, this bugfix does not
need a release note.

[1] https://review.opendev.org/637305

Change-Id: Id423f8a304abffbe0c7814ab2ab4458e6a403bb1
Closes-bug: #1838592
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/674122/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_federation.py', 'keystone/api/auth.py']",2,d8f3ba0429c535cdc9dbde83d948b816ae7d760b,fix-websso," try: remote_id_name = federation_utils.get_remote_id_parameter( idp, protocol_id) except exception.FederatedProtocolNotFound: # no protocol for this IdP, so this can't be the IdP we're # looking for continue"," remote_id_name = federation_utils.get_remote_id_parameter( idp, protocol_id)",17,2
openstack%2Fneutron~master~Ida9212f45ec5219fcd40787bbc94320056bd702a,openstack/neutron,master,Ida9212f45ec5219fcd40787bbc94320056bd702a,[DOC] Add info about new CI job to jobs list,MERGED,2019-08-02 11:17:56.000000000,2019-08-06 18:22:41.000000000,2019-08-06 18:22:41.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-08-02 11:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d66f3e8aa1f1bfbd245947eb2af9d75b20d9edb9', 'message': '[DOC] Add info about new CI job to jobs list\n\nIn Patch [1] we are adding new scenario job:\n""neutron-tempest-plugin-scenario-openvswitch"" which will be run\nin check and gate queue in Neutron.\n\nThis patch adds info about this new job to the document with list\nof CI scenario and Grenade jobs.\n\nChange-Id: Ida9212f45ec5219fcd40787bbc94320056bd702a\n'}, {'number': 2, 'created': '2019-08-02 11:34:12.000000000', 'files': ['doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5e8d1123a4c42d614b3b645bbf7536917305a77', 'message': '[DOC] Add info about new CI job to jobs list\n\nIn patches [1] and [2]  we are adding new scenario job:\n""neutron-tempest-plugin-scenario-openvswitch"" and\n""neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid""\nwhich will be run in check and gate queue in Neutron.\n\nThis patch adds info about those new jobs to the document with list\nof CI scenario and Grenade jobs.\n\n[1] https://review.opendev.org/#/c/670738/\n[2] https://review.opendev.org/#/c/674274/\n\nDepends-On: https://review.opendev.org/#/c/670738/\nDepends-On: https://review.opendev.org/#/c/674274/\n\nChange-Id: Ida9212f45ec5219fcd40787bbc94320056bd702a\n'}]",0,674272,c5e8d1123a4c42d614b3b645bbf7536917305a77,15,7,2,11975,,,0,"[DOC] Add info about new CI job to jobs list

In patches [1] and [2]  we are adding new scenario job:
""neutron-tempest-plugin-scenario-openvswitch"" and
""neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid""
which will be run in check and gate queue in Neutron.

This patch adds info about those new jobs to the document with list
of CI scenario and Grenade jobs.

[1] https://review.opendev.org/#/c/670738/
[2] https://review.opendev.org/#/c/674274/

Depends-On: https://review.opendev.org/#/c/670738/
Depends-On: https://review.opendev.org/#/c/674274/

Change-Id: Ida9212f45ec5219fcd40787bbc94320056bd702a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/674272/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing/ci_scenario_jobs.rst'],1,d66f3e8aa1f1bfbd245947eb2af9d75b20d9edb9,new-ovs-scenario-job, |neutron-tempest-plugin-scenario-openvswitch |neutron_tempest_plugin.scenario | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | False | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+,,2,0
openstack%2Fneutron-tempest-plugin~master~I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f,openstack/neutron-tempest-plugin,master,I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f,Add new job neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid,MERGED,2019-08-02 11:28:11.000000000,2019-08-06 18:22:39.000000000,2019-08-06 18:22:39.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-08-02 11:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/42b30e94347d5a1fd2ddf1bcf1242b7635810718', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\n\nThis new scenario job is single node job which will run\nneutron-tempest-plugin scenario tests with openvswitch agent and\niptables_hybrid firewall driver.\nSince in Rocky we switched default fw driver in devstack to be\n""openvswitch"" we are didn\'t have any job which would run\nneutron-tempest-plugin tests on openvswitch agent with iptables_hybrid\ndriver. And it\'s necessary to have such job.\n\nThis patch don\'t add such job for Queens release because in Queens\niptables_hybrid was default driver so\n""neutron-tempest-plugin-scenario-openvswitch"" job will cover this\ncase for this release.\n\nChange-Id: I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f\n'}, {'number': 2, 'created': '2019-08-02 11:34:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9f868d1c7fa1ba7a909b6a8d7184203e4e80dad7', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\n\nThis new scenario job is single node job which will run\nneutron-tempest-plugin scenario tests with openvswitch agent and\niptables_hybrid firewall driver.\nSince in Rocky we switched default fw driver in devstack to be\n""openvswitch"" we are didn\'t have any job which would run\nneutron-tempest-plugin tests on openvswitch agent with iptables_hybrid\ndriver. And it\'s necessary to have such job.\n\nThis patch don\'t add such job for Queens release because in Queens\niptables_hybrid was default driver so\n""neutron-tempest-plugin-scenario-openvswitch"" job will cover this\ncase for this release.\n\nChange-Id: I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f\n'}]",1,674274,9f868d1c7fa1ba7a909b6a8d7184203e4e80dad7,14,5,2,11975,,,0,"Add new job neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid

This new scenario job is single node job which will run
neutron-tempest-plugin scenario tests with openvswitch agent and
iptables_hybrid firewall driver.
Since in Rocky we switched default fw driver in devstack to be
""openvswitch"" we are didn't have any job which would run
neutron-tempest-plugin tests on openvswitch agent with iptables_hybrid
driver. And it's necessary to have such job.

This patch don't add such job for Queens release because in Queens
iptables_hybrid was default driver so
""neutron-tempest-plugin-scenario-openvswitch"" job will cover this
case for this release.

Change-Id: I37c43e0fbb434a53f1b971895dd3d6e9ab7b617f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/74/674274/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,42b30e94347d5a1fd2ddf1bcf1242b7635810718,new-ovs-scenario-job," name: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid parent: neutron-tempest-plugin-scenario timeout: 10000 vars: network_api_extensions: *api_extensions_master # TODO(slaweq): remove trunks subport_connectivity test from blacklist # when bug https://bugs.launchpad.net/neutron/+bug/1838760 will be fixed tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity)"" devstack_localrc: Q_AGENT: openvswitch NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: enable_dvr: false # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: agent: tunnel_types: vxlan,gre ovs: tunnel_bridge: br-tun bridge_mappings: public:br-ex securitygroup: firewall_driver: iptables_hybrid test-config: $TEMPEST_CONFIG: neutron_plugin_options: available_type_drivers: flat,vlan,local,vxlan - job: name: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky parent: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid nodeset: openstack-single-node-xenial override-checkout: stable/rocky vars: branch_override: stable/rocky network_api_extensions: *api_extensions_rocky devstack_localrc: USE_PYTHON3: false NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" TEMPEST_PLUGINS: /opt/stack/neutron-tempest-plugin - job: name: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein parent: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid override-checkout: stable/stein vars: branch_override: stable/stein network_api_extensions: *api_extensions_stein devstack_localrc: NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" - job: - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky - neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein",,60,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f,openstack/tripleo-heat-templates,stable/stein,Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f,Stop services for unupgraded controllers,MERGED,2019-07-08 09:32:30.000000000,2019-08-06 18:18:57.000000000,2019-08-06 18:18:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-08 09:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/035d88981ece33606065c10ad0cfe44f7862068a', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 2, 'created': '2019-07-08 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/318fab8eefbd7e3514eadd24681b773470973240', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 3, 'created': '2019-07-08 12:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/478d38a0e88c3fca028833b9405efea94e89e89d', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 4, 'created': '2019-07-08 16:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9aa9888809007df7dfc81515fc729982f676b23c', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 5, 'created': '2019-07-08 16:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b2c34d5a5df6f081c43a49d524897a08ee4bc42', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 6, 'created': '2019-07-11 11:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f581b1a45d711ceaa0e44b4a901eabb90a0cf12', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 7, 'created': '2019-07-11 11:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7ddd6c5258fa7d8523eb75199e208631f3f061e', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 8, 'created': '2019-07-11 12:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccf88c1d84bb186b430b9f50d062330b6160a60f', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 9, 'created': '2019-07-11 13:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4b84a02137a03afc4ebb76fff05f458f4d64ab4', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 10, 'created': '2019-07-12 11:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99a2ac68be6c113a548fda02e7e0a098b79fcd40', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 11, 'created': '2019-07-15 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c673cfe10f1ed8ec35a93f9469d2d216bf54594c', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 12, 'created': '2019-07-15 17:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54c56d43522c5cd6db963f4a543ae911886251e7', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 13, 'created': '2019-07-15 18:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39be0dd1e93d28050cf61b126567e517cffc3763', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 14, 'created': '2019-07-15 19:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76d29815ebac35f16a3d58f5e8a5d12adc5cd225', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 15, 'created': '2019-07-16 08:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd0a8131ff367498421a54a8cecfd519e300e03f', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 16, 'created': '2019-07-16 08:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/044ff7a782abf7ed221e4ceac309980309ff57c6', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 17, 'created': '2019-07-16 12:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac2ab4b1040f044454f7566e1365196e149b82a3', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}, {'number': 18, 'created': '2019-07-16 13:24:14.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/deprecated/nova/nova-placement-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'puppet/services/pacemaker.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a9e8ae528c1077a2a3940cd909ae5a084636c23', 'message': 'Stop services for unupgraded controllers\n\nBefore we start services on upgraded bootstrap\ncontroller (usually controller-0), we need to\nstop services on unupgraded controllers\n(usually controller-1 and controller-2).\n\nAlso we need to move the mysql data transfer\nto the step 2 as we need to first stop the\nservices.\n\nDepends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\nChange-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f\n(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)\n'}]",1,669628,8a9e8ae528c1077a2a3940cd909ae5a084636c23,58,9,18,20775,,,0,"Stop services for unupgraded controllers

Before we start services on upgraded bootstrap
controller (usually controller-0), we need to
stop services on unupgraded controllers
(usually controller-1 and controller-2).

Also we need to move the mysql data transfer
to the step 2 as we need to first stop the
services.

Depends-On: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee
Change-Id: Ib4af5b4a92b3b516b8e2fc1ae12c8d5abe40327f
(cherry picked from commit 08d1156fccc6c94d6f065e2be5a7699a0285ef1f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/669628/18 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml']",28,035d88981ece33606065c10ad0cfe44f7862068a,stop-pre-upgrade," ContainerCli: type: string default: 'podman' description: CLI tool used to manage containers. constraints: - allowed_values: ['docker', 'podman'] external_upgrade_tasks: - when: - step|int == 1 tags: - never - system_upgrade_transfer_data - system_upgrade_stop_services block: - name: Stop memcached container delegate_to: ""{{item}}"" with_items: ""{{ groups['memcached'] | default([]) }}"" import_role: name: tripleo-container-stop vars: container_cli: {get_param: ContainerCli} containers_to_stop: - memcached",,648,10
openstack%2Fopenstack-helm-infra~master~I14610ab66b72ddd5e6e45f57b56968e462416234,openstack/openstack-helm-infra,master,I14610ab66b72ddd5e6e45f57b56968e462416234,Generate CA crt and key if needed,MERGED,2019-06-26 16:47:59.000000000,2019-08-06 18:14:08.000000000,2019-08-06 18:14:08.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 26449}, {'_account_id': 26628}, {'_account_id': 27715}, {'_account_id': 28208}, {'_account_id': 28664}, {'_account_id': 28718}, {'_account_id': 28778}]","[{'number': 1, 'created': '2019-06-26 16:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97a8524fe8b7ca8bc59773f661508fdd01811b8f', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 2, 'created': '2019-06-26 19:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a228f0acbf41bd5a5c67bfb3c89e770a55db78f', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 3, 'created': '2019-06-26 21:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adadab9f2b2fc82bb45fa1f2fe995760a02dfdba', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 4, 'created': '2019-06-26 21:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/207328fb9a3150489696092bc09f6d7a6357ec90', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 5, 'created': '2019-07-03 18:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e0def4f08a0e822c2c422da75297876b5bc0d5a', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 6, 'created': '2019-07-03 19:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adebaff67838c2fd5302d73c0fd9667adccdc76f', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 7, 'created': '2019-07-07 20:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed7c1c5741736e6bc802e962d3792c75b3aab276', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 8, 'created': '2019-07-07 22:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d34faf1c0408e402f08ecf68a8e33d367dc33e2c', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 9, 'created': '2019-07-08 21:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8ff92cef40f588e4694d1e41599c78b963ac9e3', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 10, 'created': '2019-07-11 16:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2573b942404d9ad63248ccec5a6f6ff547384083', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 11, 'created': '2019-07-30 16:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e1b2518d232668f53a11dd1bc5573ef242f6547', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}, {'number': 12, 'created': '2019-07-30 19:44:43.000000000', 'files': ['helm-toolkit/templates/tls/_tls_generate_certs.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db164a29255d19dd37318fec3b4c4e6dde8d23ac', 'message': 'Generate CA crt and key if needed\n\nGenerate CA cert and CA key, if they are not present in\nthe values.\n\nChange-Id: I14610ab66b72ddd5e6e45f57b56968e462416234\n'}]",9,667681,db164a29255d19dd37318fec3b4c4e6dde8d23ac,48,14,12,28664,,,0,"Generate CA crt and key if needed

Generate CA cert and CA key, if they are not present in
the values.

Change-Id: I14610ab66b72ddd5e6e45f57b56968e462416234
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/81/667681/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/tls/_tls_generate_certs.tpl'],1,97a8524fe8b7ca8bc59773f661508fdd01811b8f,psql-replication-tls," commonName: barbican.openstackhelm.example{{- $ca := genCA $params.commonName (int $params.life) }} {{- if $params.ca }} {{- if and (hasKey $params.ca ""crt"") (hasKey $params.ca ""key"") }}{{- end }} {{- end }}{{- $_ := b64enc $ca.Cert | set $certificate ""ca"" -}}{{- $_ := set $certificate ""ca"" $ca.Cert -}}","{{- $_ := b64enc $params.ca.crt | set $certificate ""ca"" -}}{{- $_ := set $certificate ""ca"" $params.ca.crt -}}",8,2
openstack%2Fbarbican~master~I0a372d28a2be787ca850702a8a381f0c41d9a557,openstack/barbican,master,I0a372d28a2be787ca850702a8a381f0c41d9a557,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 16:00:51.000000000,2019-08-06 17:53:47.000000000,,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28743}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-07-01 16:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ecc7c6a0627b13c60e50b59a67b0da9ada296eb1', 'message': 'Force to use markdown to prevent pypi issue\n\nhttps://github.com/pypa/warehouse/issues/5890#issuecomment-494868157\n\nChange-Id: I0a372d28a2be787ca850702a8a381f0c41d9a557\n'}, {'number': 2, 'created': '2019-07-02 12:47:46.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/bcc287da16ec83f34afafa544c9247d7e9d06ddd', 'message': 'Force to use markdown to prevent pypi issue\n\nhttps://github.com/pypa/warehouse/issues/5890#issuecomment-494868157\n\nChange-Id: I0a372d28a2be787ca850702a8a381f0c41d9a557\n'}]",5,668502,bcc287da16ec83f34afafa544c9247d7e9d06ddd,17,6,2,28522,,,0,"Force to use markdown to prevent pypi issue

https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: I0a372d28a2be787ca850702a8a381f0c41d9a557
",git fetch https://review.opendev.org/openstack/barbican refs/changes/02/668502/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,ecc7c6a0627b13c60e50b59a67b0da9ada296eb1,Bug#pep8," pbr=True, long_description_content_type='text/markdown')", pbr=True),2,1
openstack%2Fkolla-ansible~master~Ia4801d09ff1165c44561fd286fc57e903da2c602,openstack/kolla-ansible,master,Ia4801d09ff1165c44561fd286fc57e903da2c602,Add mon address to ceph release version check,MERGED,2019-07-05 06:53:17.000000000,2019-08-06 17:52:35.000000000,2019-08-06 17:04:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-05 06:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ba9870e1e3bb00b85e24b1126dfac7954478be6', 'message': 'Add mon address to ceph release version check\n\nChange-Id: Ia4801d09ff1165c44561fd286fc57e903da2c602\n'}, {'number': 2, 'created': '2019-07-05 07:04:36.000000000', 'files': ['ansible/roles/ceph/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2c17d60515bbbe283f534d7d0c9034e57589929', 'message': 'Add mon address to ceph release version check\n\nChange-Id: Ia4801d09ff1165c44561fd286fc57e903da2c602\n'}]",3,669269,b2c17d60515bbbe283f534d7d0c9034e57589929,16,4,2,22629,,,0,"Add mon address to ceph release version check

Change-Id: Ia4801d09ff1165c44561fd286fc57e903da2c602
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/669269/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/upgrade.yml'],1,9ba9870e1e3bb00b85e24b1126dfac7954478be6,bug/ceph_upgrade," shell: ""docker exec ceph_mon ceph -m {{ hostvars[inventory_hostname]['ansible_' + storage_interface]['ipv4']['address'] }} versions"" command: ""docker exec ceph_mon ceph osd require-osd-release {{ ((ceph_release_command.stdout|from_json).mon | string).split(' ')[4] }}""", shell: docker exec ceph_mon ceph version | cut -d' ' -f5 command: docker exec ceph_mon ceph osd require-osd-release {{ ceph_release_command.stdout }},2,2
openstack%2Fsenlin~master~Ia34415e18f3c3c10ba3c669967cf4f5ab0e6ad11,openstack/senlin,master,Ia34415e18f3c3c10ba3c669967cf4f5ab0e6ad11,Sync Sphinx requirement,MERGED,2019-08-01 09:11:25.000000000,2019-08-06 17:49:12.000000000,2019-08-06 17:49:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-08-01 09:11:25.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/179a4a4ab08e7b47cbe69807f9b6ae63d19586f2', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ia34415e18f3c3c10ba3c669967cf4f5ab0e6ad11\n'}]",0,673966,179a4a4ab08e7b47cbe69807f9b6ae63d19586f2,7,3,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ia34415e18f3c3c10ba3c669967cf4f5ab0e6ad11
",git fetch https://review.opendev.org/openstack/senlin refs/changes/66/673966/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,179a4a4ab08e7b47cbe69807f9b6ae63d19586f2,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.5,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.5;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fhorizon~master~I17469f7f710a0ea6c72a0b265e6f42698c57b602,openstack/horizon,master,I17469f7f710a0ea6c72a0b265e6f42698c57b602,Imported Translations from Zanata,MERGED,2019-08-06 09:39:10.000000000,2019-08-06 17:40:06.000000000,2019-08-06 17:40:05.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-06 09:39:10.000000000', 'files': ['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d109135367b12f752c0dda5ff3fd43d9ca29c435', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I17469f7f710a0ea6c72a0b265e6f42698c57b602\n'}]",0,674768,d109135367b12f752c0dda5ff3fd43d9ca29c435,11,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I17469f7f710a0ea6c72a0b265e6f42698c57b602
",git fetch https://review.opendev.org/openstack/horizon refs/changes/68/674768/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/djangojs.po']",3,d109135367b12f752c0dda5ff3fd43d9ca29c435,zanata/translations,"# Roman Gorshunov <roman.gorshunov@att.com>, 2019. #zanata""POT-Creation-Date: 2019-08-05 06:15+0000\n""""PO-Revision-Date: 2019-08-05 01:29+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n""""<strong>Heads up!</strong>\n"" "" This\n"" "" <a href=\""#\"" class=\""alert-link\"">alert needs your attention</"" ""a>,\n"" "" but it's not super important."" msgstr """" ""<strong>Внимание!</strong>\n"" "" Это\n"" "" <a href=\""#\"" class=\""alert-link\"">уведомление требует вашего "" ""внимания</a>,\n"" "" но на самом деле оно не очень важно."" msgid """" ""<strong>Oh snap!</strong>\n"" "" <a href=\""#\"" class=\""alert-link\"">Change a few things up</a>\n"" "" and try submitting again."" msgstr """" ""<strong>Ой, ошибка!</strong>\n"" "" <a href=\""#\"" class=\""alert-link\"">Исправьте что-нибудь</a>\n"" "" и попробуйте отправить форму снова."" msgid """" ""<strong>Well done!</strong>\n"" "" You successfully read\n"" "" <a href=\""#\"" class=\""alert-link\"">this important alert message</"" ""a>."" msgstr """" ""<strong>Отлично!</strong>\n"" "" Вы успешно прочли\n"" "" <a href=\""#\"" class=\""alert-link\"">это важное тревожное сообщение</"" ""a>."" msgid ""A Confirmation Dialog"" msgstr ""Диалог подтверждения"" msgid """"""Публичный (общедоступный) контейнер открывает доступ к объектам в контейнере "" ""любому пользователю, которому известен публичный URL.""""Контейнер - это способ хранения и организации ваших данных.\n"" "" Контейнеры аналогичны папкам в Windows или каталогам в UNIX®.\n"" "" Основное отличие между контейнером и другими типами файловых\n"" "" систем заключается в том, что контейнеры не могут быть вложенными\n"" "" друг в друга. С другой стороны, вы можете создать неограниченное\n"" "" количество контейнеров для своей учётной записи. Данные сохраняются\n"" "" внутри контейнера, поэтому необходимо создать хотя бы один контейнер\n"" "" перед тем, как загружать данные.""msgid """" ""A volume description less than {$createVolumeCtrl.validationRules."" ""fieldMaxLength + 1$} characters is required."" msgstr """" ""Описание образа диска (тома) должно быть короче {$createVolumeCtrl."" ""validationRules.fieldMaxLength + 1$} знаков."" msgid """" ""A volume name less than {$createVolumeCtrl.validationRules.fieldMaxLength + "" ""1$} characters is required."" msgstr """" ""Имя образа диска (тома) должно быть короче {$createVolumeCtrl."" ""validationRules.fieldMaxLength + 1$} знаков."" msgid ""Add Ons, Required and Feedback"" msgstr ""Дополнения, обязательные элементы и отзывы"" msgid ""Admin Password"" msgstr ""Пароль администратора"" msgid ""Affinity"" msgstr ""Аффинность"" msgid """" ""Also note that segmentation details may be mandatory\n"" "" or optional depending on the backend. Notably Ironic may provide\n"" "" segmentation details instead of the user."" msgstr """" ""Обратите внимание, что настройки сегментации могут быть\n"" "" обязательными или опциональными, в зависимости от\n"" "" используемого backend'а. В частности, Ironic может сам\n"" "" заполнять настройки сегментации."" msgid """" ""An arbitrary amount (0, 1, 2, ...) of regular Neutron\n"" "" ports with segmentation details (ie. type and ID). May be provided\n"" "" when the trunk is created. Also may be attached or detached later\n"" "" during the trunk's (and the instance's) life."" msgstr """" ""Некоторое число (0, 1, 2, ...) обычных портов Neutron\n"" "" с деталями сегментации (напр. тип и ID). Детали могут быть\n"" "" заданы в процессе создания транка. Так же вы можете\n"" "" подключать и отключать порты пока этот транк (или этот\n"" "" инстанс) существует."" msgid ""An arbitrary description for the trunk."" msgstr ""Произвольное описание транка."" msgid ""An arbitrary name for the trunk. May not be unique."" msgstr ""Произвольное имя транка (не обязательно уникальное)."" msgid ""Anti Affinity"" msgstr ""Анти-аффинность"" msgid ""Bare Metal"" msgstr ""Bare Metal"" msgid ""Build"" msgstr ""Создается"" msgid ""Change user's password. We highly recommend you create a strong one."" msgstr """" ""Изменение пароля пользователя. Мы настоятельно рекомендуем использовать "" ""сложный пароль."" msgid ""Community"" msgstr ""Объединение"" msgid ""Confirm Delete Domain"" msgid_plural ""Confirm Delete Domains"" msgstr[0] ""Подтвердить удаление домена"" msgstr[1] ""Подтвердить удаление доменов"" msgstr[2] ""Подтвердить удаление доменов"" msgid ""Confirm Delete Flavor"" msgid_plural ""Confirm Delete Flavors"" msgstr[0] ""Подтвердить удаление типа инстансов"" msgstr[1] ""Подтвердить удаление типов инстансов"" msgstr[2] ""Подтвердить удаление типов инстансов"" msgid ""Confirm Delete Policy"" msgid_plural ""Confirm Delete Policies"" msgstr[0] ""Подтвердить удаление политики"" msgstr[1] ""Подтвердить удаление политик"" msgstr[2] ""Подтвердить удаление политик"" msgid ""Confirm Delete Trunk"" msgid_plural ""Confirm Delete Trunks"" msgstr[0] ""Подтвердить удаление транка"" msgstr[1] ""Подтвердить удаление транков"" msgstr[2] ""Подтвердить удаление транков"" msgid ""Confirm Delete User"" msgid_plural ""Confirm Delete Users"" msgstr[0] ""Подтвердить удаление пользователя"" msgstr[1] ""Подтвердить удаление пользователей"" msgstr[2] ""Подтвердить удаление пользователей"" msgid ""Confirm Password"" msgstr ""Подтвердите пароль"" msgid ""Copy Object: {$ ctrl.model.container $}/{$ ctrl.model.path $}"" msgstr ""Скопировать объект: {$ ctrl.model.container $}/{$ ctrl.model.path $}"" msgid ""Copy Private Key to Clipboard"" msgstr ""Скопировать закрытый ключ в буфер обмена"" msgid ""Create Trunk"" msgstr ""Создать транк"" msgid ""Create User"" msgstr ""Создать пользователя"" msgid """" ""Create a new user and set related properties including the Primary Project "" ""and Role."" msgstr """" ""Создайте нового пользователя и задайте соответствующие свойства, в том числе "" ""основной проект и роль"" msgid ""Created at"" msgstr ""Создано"" #, python-format msgid ""Creating volume %s"" msgstr ""Создаю диск %s"" msgid ""Customization Script"" msgstr ""Скрипт настройки"" msgid ""DSCP Mark"" msgstr ""DSCP метка"" msgid ""Datepicker"" msgstr ""Календарик"" msgid ""Default: Empty string"" msgstr ""По умолчанию - пустая строка"" msgid ""Default: Enabled"" msgstr ""По умолчанию - разрешено"" msgid ""Degraded"" msgstr ""Деградировавший"" msgid ""Delete Flavor"" msgid_plural ""Delete Flavors"" msgstr[0] ""Удалить тип инстансов"" msgstr[1] ""Удалить типы инстансов"" msgstr[2] ""Удалить типы инстансов"" msgid ""Delete Flavors"" msgstr ""Удалить типы инстансов"" msgid ""Delete Policies"" msgstr ""Удалить политики"" msgid ""Delete Policy"" msgid_plural ""Delete Policies"" msgstr[0] ""Удалить политику"" msgstr[1] ""Удалить политики"" msgstr[2] ""Удалить политики"" msgid ""Delete Trunk"" msgid_plural ""Delete Trunks"" msgstr[0] ""Удалить транк"" msgstr[1] ""Удалить транки"" msgstr[2] ""Удалить транки"" msgid ""Delete Trunks"" msgstr ""Удалить транки"" msgid ""Deleted Flavor: %s."" msgid_plural ""Deleted Flavors: %s."" msgstr[0] ""Удалённый тип инстанса: %s."" msgstr[1] ""Удалённые типы инстансов: %s."" msgstr[2] ""Удалённые типы инстансов: %s."" #, python-formatmsgid ""Deleted Role: %s."" msgid_plural ""Deleted Roles: %s."" msgstr[0] ""Удалена роль: %s."" msgstr[1] ""Удалены роли: %s."" msgstr[2] ""Удалены роли: %s."" #, python-formatmsgid ""Deleted Trunk: %s."" msgid_plural ""Deleted Trunks: %s."" msgstr[0] ""Удаленный транк: %s."" msgstr[1] ""Удаленный транки: %s."" msgstr[2] ""Удаленный транки: %s."" #, python-format msgid ""Deleted User: %s."" msgid_plural ""Deleted Users: %s."" msgstr[0] ""Удален пользователь: %s."" msgstr[1] ""Удалены пользователи: %s."" msgstr[2] ""Удалены пользователи: %s."" #, python-format#, python-format msgid ""Deleted policy: %s."" msgid_plural ""Deleted policies: %s."" msgstr[0] ""Удаленная политика: %s."" msgstr[1] ""Удаленные политики: %s."" msgstr[2] ""Удаленные политики: %s."" msgid ""Destination Container"" msgstr ""Конечный контейнер"" msgid ""Destination Object"" msgstr ""Конечный объект"" msgid ""Device ID"" msgstr ""ID устройства"" msgid ""Device Owner"" msgstr ""Владелец устройства"" msgid ""Direct Physical"" msgstr ""Direct Physical"" #, python-format msgid ""Domain %s was successfully created."" msgstr ""Домен %s создан успешно."" msgid ""Domain Id"" msgstr ""ID домена"" msgid ""Done"" msgstr ""Готово"" msgid ""Edit Trunk"" msgstr ""Редактировать транк"" msgid ""Edit the user's details, including the Primary Project."" msgstr ""Изменение данных пользователя, включая его основной проект."" msgid ""Enable/Disable subport addition, removal and trunk delete."" msgstr """" ""Разрешить/запретить добавление и удаление дочерних портов, а так же удаление "" ""транка."" msgid """" ""Exactly one regular Neutron port. Has to be provided when\n"" "" the trunk is created. Cannot be changed during the trunk's life."" msgstr """" ""Только один обычный порт Neutron. Вы должны его указать,\n"" "" когда создаёте транк. Этот порт не может быть изменён, пока\n"" "" этот транк существует."" msgid """" ""For ports on provider networks you may choose the special\n"" "" segmentation type <em>inherit</em>. Then the subport's segmentation\n"" "" type and ID will be automagically inherited from the provider network's\n"" "" segmentation type and ID. This is useful when the switch is incapable of\n"" "" remapping (tag pop-push) for example as usual for Ironic instances."" msgstr """" ""Для портов в провайдерских сетях вы можете выбрать специальный\n"" "" тип сегментации - <em>унаследовать</em>. В таком случае, тип\n"" "" и ID сегментации дочерних портов будут автоматически\n"" "" наследованы с типа и ID сегментации провайдерских сетей.\n"" "" Это полезно в случаях, когда коммутатор не может\n"" "" переопределять (tag pop-push) теги. Например, это типично для\n"" "" инстансов Ironic."" msgid ""Form"" msgstr ""Форма"" msgid ""Form Output"" msgstr ""Вывод формы"" msgstr ""Горизонтальный список определений""msgstr ""ID хоста""msgid ""Image from Other Project - Non-Public"" msgstr ""Образ из другого проекта - непубичный"" msgid """" ""Inside the instance a particular subport's network will\n"" "" be presented as tagged frames transmitted and received on the vNIC\n"" "" belonging to the parent port. The cloud user may control the tagging\n"" "" by setting the <em>segmentation type</em> and <em>segmentation ID</em>\n"" "" of the subport."" msgstr """" ""Внутри инстанса конкретная сеть дочернего порта будет\n"" "" видна как тегированные фреймы, принимаемые и передающиеся\n"" "" на виртуальной сетевой карте, принадлежащей родительскому порту.\n"" "" Пользователь облака может управлять тегированием, устанавливая\n"" "" <em>тип сегментации</em> и <em>ID сегментации</em> на дочернем\n"" "" порту."" msgid """" ""Inside the instance the parent port's network will always\n"" "" be presented as the untagged network. It will be available early from\n"" "" the moment of bootup."" msgstr """" ""Внутри инстанса сеть родительского порта всегда будет\n"" "" представлена как нетегированная сеть. Она будет доступна\n"" "" сразу же в процессе старта загрузки."" msgid ""Instance ID"" msgstr ""ID инстанса"" msgid ""Key Type"" msgstr ""Тип ключа"" msgstr ""Большое всплывающее окно""msgid ""Live Edit Schema Form Examples"" msgstr ""Редактирование примеров форм \""вживую\"""" msgid ""Loading ports... Please Wait"" msgstr ""Загружаем информацию о портах... Пожалуйста подождите"" msgid ""Loading trunk... Please Wait"" msgstr ""Загружаем информацию о транке... Пожалуйста подождите"" msgid ""MAC Address"" msgstr ""MAC адрес"" msgid ""Max Burst Kbits"" msgstr ""Макс. пик. (кбит/с)"" msgid ""Max Kbps"" msgstr ""Макс. (кбит/с)"" msgid ""Min Kbps"" msgstr ""Мин. (кбит/с)"" msgstr ""Всплывающие диалоги"" msgid ""Model"" msgstr ""Модель""msgid """" ""Must not be the parent or a subport of any other\n"" "" trunks."" msgstr """" ""Этот порт не может быть родительским или дочерним портом\n"" "" какого-либо другого транка."" msgid ""Name/ID"" msgstr ""Имя/ID"" msgstr ""ID сети""msgid """" ""Networks of subports may become available later than the\n"" "" moment of bootup. But they will be available after the trunk reached\n"" "" the <em>ACTIVE</em> status."" msgstr """" ""Сети дочерних портов могут стать доступными позже момента\n"" "" загрузки. Они станут полностью доступны тогда, когда транк перейдёт\n"" "" в статус <em>АКТИВЕН</em>."" msgid ""No items to display."" msgstr ""Нет элементов для отображения."" msgid """" ""No subport can be the parent or a subport of any other\n"" "" trunks."" msgstr """" ""Дочерний порт не может быть родительским портом\n"" "" какого-либо транка."" ""Note that most guest operating systems will not\n"" "" automatically configure and bring up the VLAN subinterfaces belonging\n"" "" to subports. You may have to do that yourself. For example:"" msgstr """" ""Обратите внимание, что большинство гостевых операционных\n"" "" систем не смогут автоматически сконфигурировать и поднять\n"" "" дочерние VLAN интерфейсы. Вам придётся сделать это самим.\n"" "" Например, так:"" msgid """" ""Note that some Neutron backends (notably the Open vSwitch\n"" "" based backend) only allow trunk creation before an instance is launched\n"" "" on the parent port. Other backends may allow trunk creation at any\n"" "" time during the life of a port."" msgstr """" ""Обратите внимание, что некоторые backend'ы Neutron'а\n"" "" (в частности, основанные на Open vSwitch) позволяют создавать\n"" "" транки только до создания инстанса, использующего\n"" "" родительский порт транка. Другие backend'ы могут разрешать\n"" "" создавать транки в любое время, пока порт существует."" msgid """"#, python-format msgid ""Object %(path)s has copied."" msgstr ""Объект %(path)s скопирован."" msgstr ""Одно большое содержимое…""msgstr ""Одно маленькое содержимое...""msgstr ""Одно супер большое содержимое…""msgstr ""Одно очень маленькое содержимое...""msgid ""Ownership"" msgstr ""Владелец"" msgstr ""Разбиение на страницы""msgid ""Parent Port"" msgstr ""Родительский порт"" msgid ""Parent port"" msgstr ""Родительский порт"" msgid ""Please Wait"" msgstr ""Пожалуйста подождите"" msgid ""Policy Details"" msgstr ""Информация о политике"" msgid ""Policy ID"" msgstr ""ID политики"" msgid ""Policy Name"" msgstr ""Имя политики"" msgid ""Port ID"" msgstr ""ID порта"" msgid ""Prefix"" msgstr ""Префикс"" msgid ""Primary Project"" msgstr ""Основной проект"" msgid ""Private Key"" msgstr ""Закрытый ключ"" msgid ""Provide basic properties of the trunk to be created. All optional."" msgstr """" ""Выберите основные свойства транка, который будет создан. Это не обязательно."" msgid ""QoS Policies"" msgstr ""Политики QoS"" msgid ""QoS Policy"" msgstr ""Политика QoS"" msgid ""Radios, Checkboxes and Select"" msgstr ""Радиокнопки, флажки и выбор из вариантов"" msgid ""Revision Number"" msgstr ""Номер ревизии"" msgid ""Rule ID"" msgstr ""ID правила"" msgid ""Rules"" msgstr ""Правила"" msgid ""SSH Key"" msgstr ""Ключ SSH"" #, python-format msgid ""Scheduled creation of %s instance."" msgid_plural ""Scheduled creation of %s instances."" msgstr[0] ""Запланировано создание %s инстанса."" msgstr[1] ""Запланировано создание %s инстансов."" msgstr[2] ""Запланировано создание %s инстансов."" msgid ""Schema"" msgstr ""Схема"" msgid ""Sections and Fieldsets"" msgstr ""Выбор и наборы полей"" msgid ""Segmentation Id"" msgstr ""ID сегмента"" msgid ""Segmentation Type"" msgstr ""Тип сегментации"" msgid """" ""Select <em>exactly one port</em> as the parent port of the trunk to\n"" "" be created. Mandatory."" msgstr """" ""Выберите один единственный порт, который станет родительским\n"" "" портом в создаваемом транке. Это обязательный параметр."" msgid ""Select Example"" msgstr ""Выберите пример"" msgstr ""Выберите заголовок""msgid """" ""Select an <em>arbitrary amount of ports (0, 1, 2, ...)</em> and their\n"" "" segmentation details as the subports of the trunk to be created.\n"" "" Optional."" msgstr """" ""Выберите <em>некоторое число портов (0, 1, 2, ...)</em> и настройки их\n"" "" сегментации в процессе создания дочерних портов транка.\n"" "" Это не обязательно."" msgid ""Select from the list of available ports below."" msgstr ""Выберите из списка портов, перечисленных ниже."" msgid ""Select items from Available items below"" msgstr ""Выберите элемент из доступных ниже"" msgid ""Select many"" msgstr ""Выберите несколько"" msgstr ""Выберите доступные зоны из выпадающего меню.""msgstr ""Отправить приглашение""msgid ""Server Group Members"" msgstr ""Состав группы серверов"" msgid ""Size (GiB)"" msgstr ""Размер (ГиБ)"" msgstr ""Маленькое всплывающее окно""msgid ""Soft Affinity"" msgstr ""Не жёсткая аффинность"" msgid ""Soft Anti Affinity"" msgstr ""Не жёсткая анти-аффинность"" msgid ""Something wrong to change password."" msgstr ""При попытке изменить пароль что-то пошло не так."" msgstr ""Стандартное всплывающее окно""msgid ""Subport Count"" msgstr ""Количество дочерних портов"" msgid ""Subports"" msgstr ""Дочерние порты"" msgid ""Tab Array"" msgstr ""Список вкладок"" msgid ""Tenant ID"" msgstr ""ID арендатора"" msgid ""The admin password is incorrect."" msgstr ""Неверный пароль администратора."" msgid """" ""The parent port is the port you have to add to the instance\n"" "" at launch. Do not try to add the trunk or any of the subports to the\n"" "" instance directly."" msgstr """" ""Родительский порт - это порт, который вы должны добавить\n"" "" инстансу в процессе создания. Не пытайтесь добавить транк\n"" "" или другие дочерние порты инстансу напрямую."" msgid """" ""The segmentation type and ID are decoupled (and\n"" "" therefore independent) from Neutron's network virtualization\n"" "" implementation. Different segmentation types will be remapped as frames\n"" "" leave/enter the instance."" msgstr """" ""Тип сегментации и ID - это отдельные независимые сущности.\n"" "" Это, в частности, значит, что они не зависят от используемой\n"" "" реализации виртуальной сети Neutron. Разные типы сегментации\n"" "" будут переопределяться в момент доставки в инстанс или\n"" "" выхода из инстанса."" msgid """" ""The segmentation type, ID tuples of subports must be unique\n"" "" (in the scope of a trunk), otherwise networks of subports could not\n"" "" be distinguished inside the instance."" msgstr """" ""Тип сегментации и пары ID дочерних портов должны быть\n"" "" уникальны (в одном транке), в противном случае сети дочерних\n"" "" портов не смогут быть достоверно определены внутри инстанса."" ""There are no allowed boot\n"" "" sources. If you think this is wrong please contact your administrator."" msgstr """" ""Нет доступного загрузочного устройства или источника.\n"" "" Если вы считаете, что тут что-то не так, пожалуйста, свяжитесь с вашим "" ""администратором."" msgid """"""This JavaScript object contains your new form and can be used with "" ""<code>horizon.framework.widgets.form.ModalFormService</code>"" msgstr """" ""Этот JavaScript объект хранит в себе описание вашей новой формы и может быть "" ""использован с <code>horizon.framework.widgets.form.ModalFormService</code>"" msgid """" ""This can be simplified by reusing the parent's MAC address\n"" "" for all subports of the trunk earlier at port creation. Eg.:"" msgstr """" ""Так можно упростить процесс, переиспользуя родительский MAC\n"" "" адрес для всех дочерних портов транка в процессе создания\n"" "" порта, например:"" msgid """"msgid """" ""This page contains examples of the different fields provided by Schema Form "" ""in Horizon. The <code>Schema</code> and <code>Form</code> sections below can "" ""be edited inline to customise the form output. For further documentation on "" ""Schema Form, see <a href=\""http://schemaform.io/\"">http://schemaform.io/</a>."" msgstr """" ""На этой странице есть примеры различных полей, которые предоставляет схема "" ""форм (Schema Form) интерфейса Horizon. Для изменения вида форм, вы можете "" ""напрямую редактировать секции <code>Schema</code> и <code>Form</code> ниже. "" ""Вы можете найти дополнительную документацию по Schema Form по этой ссылке: "" ""<a href=\""http://schemaform.io/\"">http://schemaform.io/</a>."" msgid ""Total Volume Storage"" msgstr ""Общий объем дисков"" msgid ""Total Volumes"" msgstr ""Всего дисков"" msgid ""Trunk"" msgstr ""Транк"" #, python-format msgid ""Trunk %s was successfully created."" msgstr ""Транк %s успешно создан."" #, python-format msgid ""Trunk %s was successfully edited."" msgstr ""Транк %s успешно изменён."" msgid ""Trunks"" msgstr ""Транки"" msgid ""Unable to check the Nova service feature."" msgstr ""Не удалось получить характеристику сервисв Nova."" msgid ""Unable to create the group."" msgstr ""Не удалось создать группу."" msgid ""Unable to create the trunk."" msgstr ""Не удалось создать транк."" msgid ""Unable to delete Flavor: %s."" msgid_plural ""Unable to delete Flavors: %s."" msgstr[0] ""Не удалось удалить тип инстанса: %s."" msgstr[1] ""Не удалось удалить типы инстансов: %s."" msgstr[2] ""Не удалось удалить типы инстансов: %s."" #, python-formatmsgid ""Unable to delete Role: %s."" msgid_plural ""Unable to delete Roles: %s."" msgstr[0] ""Не удалось удалить роль: %s."" msgstr[1] ""Не удалось удалить роли: %s."" msgstr[2] ""Не удалось удалить роли: %s."" #, python-formatmsgid ""Unable to delete Trunk: %s."" msgid_plural ""Unable to delete Trunks: %s."" msgstr[0] ""Не удалось удалить транк: %s."" msgstr[1] ""Не удалось удалить транки: %s."" msgstr[2] ""Не удалось удалить транки: %s."" #, python-format msgid ""Unable to delete User: %s."" msgid_plural ""Unable to delete Users: %s."" msgstr[0] ""Не удалось удалить пользователя: %s."" msgstr[1] ""Не удалось удалить пользователей: %s."" msgstr[2] ""Не удалось удалить пользователей: %s."" #, python-format#, python-format msgid ""Unable to delete policy: %s."" msgid_plural ""Unable to delete policies: %s."" msgstr[0] ""Не удалось удалить политику: %s."" msgstr[1] ""Не удалось удалить политики: %s."" msgstr[2] ""Не удалось удалить политики: %s."" #, python-format msgid ""Unable to delete qos policy %(id)s"" msgstr ""Не удалось удалить политику QoS %(id)s"" msgid ""Unable to delete the group."" msgstr ""Не удалось удалить группу."" #, python-format msgid ""Unable to delete the keypair with name: %(name)s"" msgstr ""Не удалось удалить пару ключей с именем %(name)s"" #, python-format msgid ""Unable to delete trunk: %(id)s"" msgstr ""Не удаётся удалить транк: %(id)s"" msgid ""Unable to edit the group."" msgstr ""Не удалось изменить группу."" msgid ""Unable to retrieve the group."" msgstr ""Не удалось получить группу."" msgid ""Unable to retrieve the keypair."" msgstr ""Не удалось импортировать пару ключей."" #, python-format msgid ""Unable to retrieve the policy with ID %(id)s"" msgstr ""Не удалось получить политику с ID %(id)s"" msgstr ""Не удалось получить проекты."" msgid ""Unable to retrieve the qos policies."" msgstr ""Не удалось получить политики QoS.""#, python-format msgid ""Unable to retrieve the trunk with id: %(id)s"" msgstr ""Ну удалось получить детали транка с ID %(id)s"" msgid ""Unable to retrieve the trunks."" msgstr ""Не удалось получить транки."" msgid ""Unable to retrieve the volume availability zones."" msgstr ""Не удалось получить зоны доступности томов."" msgid ""Unable to update the trunk."" msgstr ""Не удалось обновить транк."" msgid ""Updated at"" msgstr ""Обновлено"" msgid """" ""Use the form to set titles, descriptions and choose specific UI element "" ""types for each schema item. In the form builder, the form must be JSON, but "" ""you can use JavaScript in production code, such as <code>gettext</code> for "" ""translation."" msgstr """" ""Используйте форму, чтобы задать заголовки и описания, а так же выберите "" ""конкретные элементы графического интерфейса для каждого элемента схемы. "" ""Описание формы в конструкторе форм должно быть в формате JSON, но в коде для "" ""промышленной эксплуатации вы можете использовать JavaScript, например "" ""<code>gettext</code>для переводов."" msgid """" ""Use the schema to describe the data model and valid input patterns. A schema "" ""is always JSON. NOTE: A schema element is not needed for items that have no "" ""data model, like sections and fieldsets."" msgstr """" ""Используйте схему, чтобы описать модель данных и допустимые параметры ввода. "" ""Схема всегда должна быть в формате JSON.\n"" ""Внимание: не требуется указывать элементы схемы, которых нет в модели "" ""данных, например, таких как секции и наборы полей."" #, python-format msgid ""User %s was successfully created."" msgstr ""Пользователь %s успешно создан."" #, python-format msgid ""User %s was successfully disabled."" msgstr ""Пользователь %s успешно деактивирован."" #, python-format msgid ""User %s was successfully enabled."" msgstr ""Пользователь %s успешно активирован."" #, python-format msgid ""User %s was successfully updated."" msgstr ""Пользователь %s успешно обновлен."" msgid ""User password has been updated successfully."" msgstr ""Пароль пользователя успешно обновлён."" msgid ""View As Modal"" msgstr ""Просмотр в модальном виде"" msgid ""View Form JSON"" msgstr ""Просмотр в JSON"" msgid ""Virtio Forwarder"" msgstr ""Virtio Forwarder"" msgid ""Volume Size (GB)"" msgstr ""Размер диска (ГБ)"" msgid ""Volume and Snapshot Quota (GiB)"" msgstr ""Квота томов и моментальных копий (ГиБ)"" msgid ""Volume size is required and must be positive integer"" msgstr ""Размер диска (тома) должен быть целым положительным числом."" ""Тома (образы дисков) - это блочные устройства, которые могут быть подключены "" ""к инстансам.""msgid ""X509 Certificate"" msgstr ""Сертификат x509"" msgstr ""Огромное всплывающее окно""msgid ""You are not allowed to delete domains: %s"" msgstr ""Вам не разрешено удалять домены: %s"" #, python-format""You can copy objects. You have to create destination container prior to copy."" msgstr """" ""Вы можете копировать объекты, но сначала должны создать конечный контейнер "" ""назначения."" msgid """"""You can specify folder by using '/' at destination object field.\n"" "" For example, if you want to copy object under the folder named "" ""'folder1', you need to specify destination object like 'folder1/[your object "" ""name]'."" msgstr """" ""Вы можете задать папку, используя '/' в поле объекта назначения.\n"" "" Например, если вы хотите скопировать объект в папку с названием "" ""'folder1', укажите конечный объект назначения как 'folder1/[your object "" ""name]'."" msgid """"msgid ""You have selected \""%s\"". Deleted Trunk is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted Trunks are not recoverable."" msgstr[0] ""Вы выбрали \""%s\"". Удалённый транк не восстановим."" msgstr[1] ""Вы выбрали \""%s\"". Удалённые транки не восстановимы."" msgstr[2] ""Вы выбрали \""%s\"". Удалённые транки не восстановимы."" #, python-formatmsgid ""You have selected \""%s\"". Deleted flavor is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted flavors are not recoverable."" msgstr[0] ""Вы выбрали \""%s\"". Удаление типа инстанса не обратимо."" msgstr[1] ""Вы выбрали \""%s\"". Удаление типов инстансов не обратимо."" msgstr[2] ""Вы выбрали \""%s\"". Удаление типов инстансов не обратимо."" #, python-format#, python-format msgid ""You have selected \""%s\"". Deleted policy is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted policies are not recoverable."" msgstr[0] ""Вы выбрали \""%s\"". Удалённая политика не восстановима."" msgstr[1] ""Вы выбрали \""%s\"". Удалённые политики не восстановимы."" msgstr[2] ""Вы выбрали \""%s\"". Удалённые политики не восстановимы."" #, python-format msgid ""You have selected \""%s\"". Deleted role is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted roles are not recoverable."" msgstr[0] ""Вы выбрали \""%s\"". Удаленная роль не восстановима."" msgstr[1] ""Вы выбрали \""%s\"". Удаленные роли не восстановимы."" msgstr[2] ""Вы выбрали \""%s\"". Удаленные роли не восстановимы."" #, python-format msgid ""You have selected \""%s\"". Deleted user is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted users are not recoverable."" msgstr[0] ""Вы выбрали \""%s\"". Удаление пользователя не обратимо."" msgstr[1] ""Вы выбрали \""%s\"". Удаление пользователей не обратимо."" msgstr[2] ""Вы выбрали \""%s\"". Удаление пользователей не обратимо."" msgid ""Your Form as JavaScript"" msgstr ""Ваша форма в JavaScript"" msgid ""inherit"" msgstr ""унаследовать"" msgid ""min disk is required and must be an integer not less than 0"" msgstr ""Требуется указать размер диска в виде целого числа больше нуля."" msgid ""min ram is required and must be an integer not less than 0"" msgstr ""Требуется указать размер ОЗУ в виде целого числа больше нуля."" msgid ""volume"" msgstr ""диск"" msgid ""{$ address $} on subnet {$ subnet $}"" msgstr ""{$ address $} в подсети {$ subnet $}"" ","""POT-Creation-Date: 2019-05-29 17:58+0000\n""""PO-Revision-Date: 2019-04-04 12:21+0000\n"" ""Last-Translator: Dmitriy Rabotyagov <noonedeadpunk@ya.ru>\n""""Общедоступный контейнер открывает доступ к объектам в контейнере любому "" ""пользователю, которому известен общедоступный URL.""""Контейнер - это способ хранения и организации данных. Контейнеры\n"" "" аналогичны папкам в Windows или каталогам в UNIX®. Основное\n"" "" отличие между контейнером и указанными объектами файловых\n"" "" систем заключается в том, что контейнеры не могут быть вложенными.\n"" "" Можно создать неограниченное количество контейнеров для учётной\n"" "" записи. Данные сохраняются внутри контейнера, поэтому необходимо\n"" "" создать хотя бы один контейнер перед тем, как загружать данные.""msgstr ""Горизонтальный Список Определений""msgstr ""ИД хоста""msgstr ""Большая модель""msgstr ""Модальные диалоги""msgstr ""ИД сети""msgstr ""Одно большое тело…""msgstr ""Одно маленькое тело...""msgstr ""Одно супер большое тело…""msgstr ""Одно очень маленькое тело...""msgstr ""Пагинация""msgstr ""Выберете Название""msgstr ""Выберете доступные зоны из выпадающего меню.""msgstr ""Послать приглашение""msgstr ""Маленькая модель""msgstr ""Стандартная модель""msgstr ""Не удалось получить проекты""""Тома - это блочные устройства, которые могут быть подключены к экземплярам.""msgstr ""Очень большая модель""",1355,46
openstack%2Fdesignate~master~Iddb4a46ab1c22e84212932342b80c19194adcf3e,openstack/designate,master,Iddb4a46ab1c22e84212932342b80c19194adcf3e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-08-01 09:21:45.000000000,2019-08-06 17:36:21.000000000,2019-08-06 17:36:20.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 09:21:45.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/7ea925553960e5a4380c21f8102245e766e85b08', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Iddb4a46ab1c22e84212932342b80c19194adcf3e\n'}]",0,673971,7ea925553960e5a4380c21f8102245e766e85b08,6,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Iddb4a46ab1c22e84212932342b80c19194adcf3e
",git fetch https://review.opendev.org/openstack/designate refs/changes/71/673971/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,7ea925553960e5a4380c21f8102245e766e85b08,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fdesignate~master~I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d,openstack/designate,master,I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d,Use zone.tenant_id as tenant if context.project_id is None,MERGED,2019-07-30 08:45:02.000000000,2019-08-06 17:36:19.000000000,2019-08-06 17:36:19.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22078}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-07-30 08:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e52ec8a1bc84847e759ea9c5b39f1d452de52b44', 'message': ""Use zone.tenant_id as tenant if context.project_id is None\n\nWhen enable multi-tenant in infoblox integration, designate infoblox\nplugin need to get dns view. The input of this function is project_id in\ncontext. But when do periodic recovery job, the context is generated via\ninit DesignateContext. We don't set project_id in it. So use\nzone.tenant_id instead on this situation.\n\nChange-Id: I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d\nCloses-Bug: #1838379\n""}, {'number': 2, 'created': '2019-07-30 08:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/471b3e1fdb9b9c1ddc7c71f44b25562c04cd5c5b', 'message': ""Use zone.tenant_id as tenant if context.project_id is None\n\nWhen enable multi-tenant in infoblox integration, designate infoblox\nplugin need to get dns view. The input of this function is project_id in\ncontext. But when do periodic recovery job, the context is generated via\ninit DesignateContext. We don't set project_id in it. So use\nzone.tenant_id instead on this situation.\n\nCloses-Bug: #1838379\n\nChange-Id: I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d\n""}, {'number': 3, 'created': '2019-07-31 03:05:58.000000000', 'files': ['designate/backend/impl_infoblox/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1ac2c8db9af6941be4ca936b3b6c53f051dff6c7', 'message': ""Use zone.tenant_id as tenant if context.project_id is None\n\nWhen enable multi-tenant in infoblox integration, designate infoblox\nplugin need to get dns view. The input of this function is project_id in\ncontext. But when do periodic recovery job, the context is generated via\ninit DesignateContext. We don't set project_id in it. So use\nzone.tenant_id instead on this situation.\n\nCloses-Bug: #1838379\n\nChange-Id: I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d\n""}]",2,673452,1ac2c8db9af6941be4ca936b3b6c53f051dff6c7,20,5,3,22078,,,0,"Use zone.tenant_id as tenant if context.project_id is None

When enable multi-tenant in infoblox integration, designate infoblox
plugin need to get dns view. The input of this function is project_id in
context. But when do periodic recovery job, the context is generated via
init DesignateContext. We don't set project_id in it. So use
zone.tenant_id instead on this situation.

Closes-Bug: #1838379

Change-Id: I7e657d9fa4502621f48c6e40a7a2eb5e48a3ac3d
",git fetch https://review.opendev.org/openstack/designate refs/changes/52/673452/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/backend/impl_infoblox/__init__.py'],1,e52ec8a1bc84847e759ea9c5b39f1d452de52b44,, tenant = context.project_id or zone.tenant_id dns_net_view = self.infoblox.get_dns_view(tenant, dns_net_view = self.infoblox.get_dns_view(context.project_id),2,1
openstack%2Fhorizon~master~Ia14806c8bc256ff37f288f00302dbf9a1dda8f04,openstack/horizon,master,Ia14806c8bc256ff37f288f00302dbf9a1dda8f04,"Show username and user ID on ""User Credentials Details"" popup",MERGED,2019-08-02 09:34:32.000000000,2019-08-06 17:34:49.000000000,2019-08-06 17:34:49.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-02 09:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a5019fb11f15c8e180b4833e3324fbd55d4027b0', 'message': 'Show username and user ID on ""User Credentials Details"" popup\n\nChange-Id: Ia14806c8bc256ff37f288f00302dbf9a1dda8f04\nCloses-Bug: #1838749\n'}, {'number': 2, 'created': '2019-08-05 08:52:53.000000000', 'files': ['openstack_dashboard/dashboards/project/api_access/templates/api_access/_credentials.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d86b940192dd409ff67ca567afeb8fb8f059f02e', 'message': 'Show username and user ID on ""User Credentials Details"" popup\n\nChange-Id: Ia14806c8bc256ff37f288f00302dbf9a1dda8f04\nCloses-Bug: #1838749\n'}]",1,674242,d86b940192dd409ff67ca567afeb8fb8f059f02e,12,5,2,1736,,,0,"Show username and user ID on ""User Credentials Details"" popup

Change-Id: Ia14806c8bc256ff37f288f00302dbf9a1dda8f04
Closes-Bug: #1838749
",git fetch https://review.opendev.org/openstack/horizon refs/changes/42/674242/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/api_access/templates/api_access/_credentials.html'],1,a5019fb11f15c8e180b4833e3324fbd55d4027b0,bug/1838749," <input type=""text"" class=""form-control"" id=""openrc-user"" readonly value=""{{ openrc_creds.user.username }}""> </div> <div class=""form-group""> <label for=""openrc-user"">{% trans ""User ID"" %}</label> <input type=""text"" class=""form-control"" id=""openrc-user"" readonly value=""{{ openrc_creds.user.id }}"">"," <input type=""text"" class=""form-control"" id=""openrc-user"" readonly value=""{{ openrc_creds.user }}"">",5,1
openstack%2Fbarbican-tempest-plugin~master~I49d3790c3f649a3d84e9d31f00b3f15a5dbaa36f,openstack/barbican-tempest-plugin,master,I49d3790c3f649a3d84e9d31f00b3f15a5dbaa36f,Remove Manager class,MERGED,2019-02-04 06:57:51.000000000,2019-08-06 17:31:43.000000000,2019-08-06 17:31:43.000000000,"[{'_account_id': 1091}, {'_account_id': 6167}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-04 06:57:51.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'barbican_tempest_plugin/clients.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/488fd6157e199815169f0f81347945bf3b39a811', 'message': 'Remove Manager class\n\nThis commit removes Manager class which is unused now.\n\nChange-Id: I49d3790c3f649a3d84e9d31f00b3f15a5dbaa36f\n'}]",0,634631,488fd6157e199815169f0f81347945bf3b39a811,9,12,1,5689,,,0,"Remove Manager class

This commit removes Manager class which is unused now.

Change-Id: I49d3790c3f649a3d84e9d31f00b3f15a5dbaa36f
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/31/634631/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/scenario/barbican_manager.py', 'barbican_tempest_plugin/clients.py']",2,488fd6157e199815169f0f81347945bf3b39a811,tempest-sanity-gate,,"from tempest import clients from tempest.common import credentials_factory as common_credsADMIN_CREDS = common_creds.get_configured_admin_credentials() class Manager(clients.Manager): def __init__(self, credentials=ADMIN_CREDS): super(Manager, self).__init__(credentials) ",0,11
openstack%2Fbarbican~master~I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2,openstack/barbican,master,I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2,Update Castellan minimum version,MERGED,2019-04-05 18:26:55.000000000,2019-08-06 17:31:38.000000000,2019-08-06 17:31:38.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-05 18:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/aef1b8cd4400487cb947d6008ef31717b0495607', 'message': 'Update Castellan minimum version\n\nBarbican added support for AppRole in the Vault backend\nfor Stein.  It requires at least version 1.2.1 to work.\n\nChange-Id: I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2\nStory: 2005359\nTask: 30329\n'}, {'number': 2, 'created': '2019-08-05 16:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2cb161f9bbd5ed16bb66e3229891cd3925b68041', 'message': 'Update Castellan minimum version\n\nBarbican added support for AppRole in the Vault backend\nfor Stein.  It requires at least version 1.2.1 to work.\n\nChange-Id: I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2\nStory: 2005359\nTask: 30329\n'}, {'number': 3, 'created': '2019-08-05 16:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/32b34908d8dbab2f011d562991e99968d6315aad', 'message': 'Update Castellan minimum version\n\nBarbican added support for AppRole in the Vault backend\nfor Stein.  It requires at least version 1.2.1 to work.\n\nChange-Id: I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2\nStory: 2005359\nTask: 30329\n'}, {'number': 4, 'created': '2019-08-05 16:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f8ace1fd1c53a3f7b165e863d7f250576e4a52a3', 'message': 'Update Castellan minimum version\n\nBarbican added support for AppRole in the Vault backend\nfor Stein.  It requires at least version 1.2.1 to work.\n\nChange-Id: I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2\nStory: 2005359\nTask: 30329\n'}, {'number': 5, 'created': '2019-08-06 07:43:59.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a5c1ae6acee17fee3b056e5280a699a6e80164d4', 'message': 'Update Castellan minimum version\n\nBarbican added support for AppRole in the Vault backend\nfor Stein.  It requires at least version 1.2.1 to work.\n\nChange-Id: I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2\nStory: 2005359\nTask: 30329\n'}]",0,650414,a5c1ae6acee17fee3b056e5280a699a6e80164d4,17,4,5,7973,,,0,"Update Castellan minimum version

Barbican added support for AppRole in the Vault backend
for Stein.  It requires at least version 1.2.1 to work.

Change-Id: I40f2a4932eaafa61fcdc3884c0d7e3f3470788c2
Story: 2005359
Task: 30329
",git fetch https://review.opendev.org/openstack/barbican refs/changes/14/650414/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,aef1b8cd4400487cb947d6008ef31717b0495607,650415,castellan >= 1.2.1 # Apache-2.0,castellan >= 0.17 # Apache-2.0,1,1
openstack%2Fnetworking-ovn~stable%2Fqueens~I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,openstack/networking-ovn,stable/queens,I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,Maintenance task: Enhance debug logging,MERGED,2019-07-26 15:06:49.000000000,2019-08-06 17:28:31.000000000,2019-08-06 17:28:31.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-26 15:06:49.000000000', 'files': ['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5fed25fdef377207a2a2240d6385ae187a8ee384', 'message': 'Maintenance task: Enhance debug logging\n\nThis patch is enhancing the maintenance task debug logs by:\n\n* Logging a summary with the number of failures on each resource type\n* Logging the UUID and type of the resource being fixed at that time\n* Changing the prefix of the maintenance logs for easy grepping\n\nConflicts:\n\tnetworking_ovn/common/maintenance.py\n\nCloses-Bug: #1837003\nChange-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)\n'}]",0,673003,5fed25fdef377207a2a2240d6385ae187a8ee384,12,4,1,6773,,,0,"Maintenance task: Enhance debug logging

This patch is enhancing the maintenance task debug logs by:

* Logging a summary with the number of failures on each resource type
* Logging the UUID and type of the resource being fixed at that time
* Changing the prefix of the maintenance logs for easy grepping

Conflicts:
	networking_ovn/common/maintenance.py

Closes-Bug: #1837003
Change-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/03/673003/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py']",2,5fed25fdef377207a2a2240d6385ae187a8ee384,bug/1837003,"from networking_ovn.common import config as ovn_config @mock.patch.object(maintenance.LOG, 'debug') def test__log_maintenance_inconsistencies(self, mock_log): ovn_config.cfg.CONF.set_override('debug', True) # Create fake inconsistencies: 2 networks, 4 subnets and 8 ports incst = [] incst += [mock.Mock(resource_type=constants.TYPE_NETWORKS)] * 2 incst += [mock.Mock(resource_type=constants.TYPE_SUBNETS)] * 4 incst += [mock.Mock(resource_type=constants.TYPE_PORTS)] * 8 # Create fake inconsistencies for delete: 3 routers and 6 router ports incst_del = [] incst_del += [mock.Mock(resource_type=constants.TYPE_ROUTERS)] * 3 incst_del += [mock.Mock(resource_type=constants.TYPE_ROUTER_PORTS)] * 6 self.periodic._log_maintenance_inconsistencies(incst, incst_del) # Assert LOG.debug was called twice self.assertEqual(2, len(mock_log.call_args_list)) # Assert the log matches the number of inconsistencies fail_str_create_update = mock_log.call_args_list[0][0][1]['fail_str'] self.assertIn('networks=2', fail_str_create_update) self.assertIn('subnets=4', fail_str_create_update) self.assertIn('ports=8', fail_str_create_update) fail_str_delete = mock_log.call_args_list[1][0][1]['fail_str'] self.assertIn('routers=3', fail_str_delete) self.assertIn('router_ports=6', fail_str_delete) @mock.patch.object(maintenance.LOG, 'debug') def test__log_maintenance_inconsistencies_debug_disabled(self, mock_log): ovn_config.cfg.CONF.set_override('debug', False) incst = [mock.Mock(resource_type=constants.TYPE_NETWORKS)] * 2 self.periodic._log_maintenance_inconsistencies(incst, []) self.assertFalse(mock_log.called)",,86,6
openstack%2Fnetworking-ovn~stable%2Fstein~Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096,openstack/networking-ovn,stable/stein,Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096,Store the FIP associated to a port in the OVN Northbound db.,MERGED,2019-07-25 07:20:29.000000000,2019-08-06 17:28:29.000000000,2019-08-06 17:28:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/07c101fce8203b2147a985f7ecdda30da9579123', 'message': 'Store the FIP associated to a port in the OVN Northbound db.\n\nIf a floating ip is associated to a port, it will be stored as\nLogical_Switch_Port.external_ids:neutron:port_fip=FIP\n\nOVN octavia driver will use this information to associate the floating ip\nto the load balancer vip if the port is a virtual ip port created by\nOVN octavia driver.\n\nChange-Id: Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit c8e8cdbb4b38afe70ff1d36044bab05e30ddc7e5)\n'}, {'number': 2, 'created': '2019-07-31 09:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/283db775dab46193564bed44c32adff2c387162b', 'message': 'Store the FIP associated to a port in the OVN Northbound db.\n\nIf a floating ip is associated to a port, it will be stored as\nLogical_Switch_Port.external_ids:neutron:port_fip=FIP\n\nOVN octavia driver will use this information to associate the floating ip\nto the load balancer vip if the port is a virtual ip port created by\nOVN octavia driver.\n\nChange-Id: Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit c8e8cdbb4b38afe70ff1d36044bab05e30ddc7e5)\n'}, {'number': 3, 'created': '2019-07-31 09:18:13.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3e90354f11a3e5b4499499ba8cedd33721a6c011', 'message': 'Store the FIP associated to a port in the OVN Northbound db.\n\nIf a floating ip is associated to a port, it will be stored as\nLogical_Switch_Port.external_ids:neutron:port_fip=FIP\n\nOVN octavia driver will use this information to associate the floating ip\nto the load balancer vip if the port is a virtual ip port created by\nOVN octavia driver.\n\nChange-Id: Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit c8e8cdbb4b38afe70ff1d36044bab05e30ddc7e5)\n'}]",0,672646,3e90354f11a3e5b4499499ba8cedd33721a6c011,15,7,3,24791,,,0,"Store the FIP associated to a port in the OVN Northbound db.

If a floating ip is associated to a port, it will be stored as
Logical_Switch_Port.external_ids:neutron:port_fip=FIP

OVN octavia driver will use this information to associate the floating ip
to the load balancer vip if the port is a virtual ip port created by
OVN octavia driver.

Change-Id: Ia63a375e360fb7b1ee31e4d9f96b38d9f31f4096
Signed-off-by: Numan Siddique <nusiddiq@redhat.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
(cherry picked from commit c8e8cdbb4b38afe70ff1d36044bab05e30ddc7e5)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/672646/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py']",4,07c101fce8203b2147a985f7ecdda30da9579123,ovn_driver_stein_cherry_picks, self.get_lswitch_port = mock.Mock() self.get_lswitch_port.return_value = fake_ovs_row self.db_remove = mock.Mock(),,78,0
openstack%2Fneutron~master~Iacd9e2d00838b402c8ab385044a7e294831a1ddc,openstack/neutron,master,Iacd9e2d00838b402c8ab385044a7e294831a1ddc,use payloads for ROUTER_GATEWAY events,MERGED,2019-02-20 21:37:28.000000000,2019-08-06 17:27:44.000000000,2019-08-06 17:27:44.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-02-20 21:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/184dac21a95185fbae1ef2f311af1fcf03776780', 'message': ""use payloads for ROUTER_GATEWAY events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT ROUTER_GATEWAY events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. Finally the patch\nnormalizes the passing of gateway IPs which are currently referred to\nas 'gw_ips' and 'gateway_ips' depending on the event; now all events use\n'gateway_ips'.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Iacd9e2d00838b402c8ab385044a7e294831a1ddc\n""}, {'number': 2, 'created': '2019-03-05 17:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1091fc485f117fb9ef992be0d6ce4186fb02ee23', 'message': ""use payloads for ROUTER_GATEWAY events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT ROUTER_GATEWAY events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. Finally the patch\nnormalizes the passing of gateway IPs which are currently referred to\nas 'gw_ips' and 'gateway_ips' depending on the event; now all events use\n'gateway_ips'.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Iacd9e2d00838b402c8ab385044a7e294831a1ddc\n""}, {'number': 3, 'created': '2019-07-31 07:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e52430d65990f1ec5f786d39ec369812d22d7ce4', 'message': ""use payloads for ROUTER_GATEWAY events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT ROUTER_GATEWAY events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. Finally the patch\nnormalizes the passing of gateway IPs which are currently referred to\nas 'gw_ips' and 'gateway_ips' depending on the event; now all events use\n'gateway_ips'.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Iacd9e2d00838b402c8ab385044a7e294831a1ddc\n""}, {'number': 4, 'created': '2019-08-04 10:23:24.000000000', 'files': ['neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/42c4b1e0874652d629afda118da59265a9eb5590', 'message': ""use payloads for ROUTER_GATEWAY events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor PORT ROUTER_GATEWAY events for those that are not using them yet.\nThe unit tests are also updated where needed to account for the\npayload style callbacks and publish() method. Finally the patch\nnormalizes the passing of gateway IPs which are currently referred to\nas 'gw_ips' and 'gateway_ips' depending on the event; now all events use\n'gateway_ips'.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: Iacd9e2d00838b402c8ab385044a7e294831a1ddc\n""}]",0,638274,42c4b1e0874652d629afda118da59265a9eb5590,52,15,4,5367,,,0,"use payloads for ROUTER_GATEWAY events

This patch switches the code over to the payload style of callbacks [1]
for PORT ROUTER_GATEWAY events for those that are not using them yet.
The unit tests are also updated where needed to account for the
payload style callbacks and publish() method. Finally the patch
normalizes the passing of gateway IPs which are currently referred to
as 'gw_ips' and 'gateway_ips' depending on the event; now all events use
'gateway_ips'.

NeutronLibImpact

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: Iacd9e2d00838b402c8ab385044a7e294831a1ddc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/638274/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py']",4,184dac21a95185fbae1ef2f311af1fcf03776780,use-callback-payloads," mock.patch.object(l3_db.registry, 'publish') as mock_notify: self.db._create_gw_port, payload=mock.ANY) cb_payload = mock_notify.mock_calls[1][2]['payload'] self.assertEqual(ctx, cb_payload.context) self.assertEqual(expected_gw_ips, cb_payload.metadata.get('gateway_ips')) self.assertEqual(new_network_id, cb_payload.metadata.get('network_id')) self.assertEqual(router_id, cb_payload.resource_id)"," mock.patch.object(l3_db.registry, 'notify') as mock_notify: self.db._create_gw_port, context=ctx, gw_ips=expected_gw_ips, network_id=new_network_id, router_id=router_id )",61,45
openstack%2Frpm-packaging~master~I034e59d2d88771ee5e71837bbd0fb0e1fe611de7,openstack/rpm-packaging,master,I034e59d2d88771ee5e71837bbd0fb0e1fe611de7,monasca-api: add new requests-mock test dependency,MERGED,2019-08-05 18:43:07.000000000,2019-08-06 17:21:01.000000000,2019-08-06 17:21:01.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 18:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ecc2c2ee76900955d7063098fd149b445e2adf55', 'message': 'monasca-api: add new requests-mock test dependency\n\nChange-Id: I034e59d2d88771ee5e71837bbd0fb0e1fe611de7\n'}, {'number': 2, 'created': '2019-08-06 11:19:50.000000000', 'files': ['openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4c6f98f917a4f90c2dc95016a73bfc24501ebf0d', 'message': 'monasca-api: add new requests-mock test dependency\n\nChange-Id: I034e59d2d88771ee5e71837bbd0fb0e1fe611de7\n'}]",0,674671,4c6f98f917a4f90c2dc95016a73bfc24501ebf0d,13,5,2,6593,,,0,"monasca-api: add new requests-mock test dependency

Change-Id: I034e59d2d88771ee5e71837bbd0fb0e1fe611de7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/71/674671/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-api/monasca-api.spec.j2'],1,ecc2c2ee76900955d7063098fd149b445e2adf55,,BuildRequires: {{ py2pkg('requests-mock') }},,1,0
openstack%2Ftripleo-common~stable%2Fstein~I3c0580893aed5bda46d9104ffcee0f00cbabd9ee,openstack/tripleo-common,stable/stein,I3c0580893aed5bda46d9104ffcee0f00cbabd9ee,Add playbook to stop containers (stein only),MERGED,2019-07-05 12:17:23.000000000,2019-08-06 17:16:23.000000000,2019-08-06 17:16:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-05 12:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1dffd383f6b4b6d2d4d42fed082e694e677fda8', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n(cherry picked from commit 8be70c7adb2eaba960ee222886382f06746761f5)\n'}, {'number': 2, 'created': '2019-07-11 08:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3bb316fd13191087beb1d1b944c05747e6b31ca0', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to ve modev to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 3, 'created': '2019-07-11 12:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b51a5263edc0b55267739498501c31ede724be20', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to ve modev to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 4, 'created': '2019-07-11 13:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3b91b6579ad1545e3eae0c40ff6efab90a5beb9', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to ve modev to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 5, 'created': '2019-07-15 19:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/febd352298f05ecbfe553c3e9643832416e9ab61', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to ve modev to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 6, 'created': '2019-07-16 07:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/35a6baf33e9100ef63b4484fd54ef6e30bc0850f', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to ve modev to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 7, 'created': '2019-07-16 08:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a5327e969b9eec86701c53ba9a76e975db6dfe20', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to ve modev to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 8, 'created': '2019-07-16 11:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/63af004713385730291df9a26c7c72e683f23367', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to ve modev to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 9, 'created': '2019-07-17 15:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b5bb16182185dda4396e1a2b270ef030f46b0413', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to be moved to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 10, 'created': '2019-07-18 12:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b42236c109ddbde2aea3d1e6d466fdac9fe92999', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to be moved to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}, {'number': 11, 'created': '2019-07-19 09:49:14.000000000', 'files': ['roles/tripleo-container-stop/README.md', 'roles/tripleo-container-stop/defaults/main.yaml', 'roles/tripleo-container-stop/tasks/main.yaml', 'roles/tripleo-container-stop/tasks/container_stop.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/14244253ea1eccc7935f86e1e2a1fa18449d09a9', 'message': 'Add playbook to stop containers (stein only)\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nThe submission is proposed for tripleo-common only for\nstable/stein, the master patch needs to be moved to the\ntripleo-ansible repository as all the Ansible automation\nis moved to that new repository.\n\nChange-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee\n'}]",6,669345,14244253ea1eccc7935f86e1e2a1fa18449d09a9,60,8,11,20775,,,0,"Add playbook to stop containers (stein only)

We need to stop several containers on the upgrades workflow.

This submission allows to reduce the duplicated code in THT.
It also handles the case in which we have podman as the CLI
but the containers running with docker.

The submission is proposed for tripleo-common only for
stable/stein, the master patch needs to be moved to the
tripleo-ansible repository as all the Ansible automation
is moved to that new repository.

Change-Id: I3c0580893aed5bda46d9104ffcee0f00cbabd9ee
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/669345/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-container-stop/README.md', 'roles/tripleo-container-stop/defaults/main.yaml', 'roles/tripleo-container-stop/tasks/main.yaml', 'roles/tripleo-container-stop/tasks/container_stop.yaml']",4,d1dffd383f6b4b6d2d4d42fed082e694e677fda8,stop-pre-upgrade,--- - name: Make sure the container is stopped even if container_cli do not match shell: | # We need to make sure that containers are stopped # as we might have different CLIs to interact with # them. I.e the container_cli might be setted to be podman # but we might have the containers running with docker. set -eu if type {{ container_cli }} &> /dev/null && {{ container_cli }} exec {{ container }} /bin/true; then {{ container_cli }} stop {{ container }} elif type docker &> /dev/null && docker exec {{ container }} /bin/true; then docker stop {{ container }} fi ,,55,0
openstack%2Ftripleo-common~stable%2Frocky~I260501e6061c0d6652b22504e7284940b2c64709,openstack/tripleo-common,stable/rocky,I260501e6061c0d6652b22504e7284940b2c64709,Fix expensive api call to get deployment_name,MERGED,2019-08-05 12:09:07.000000000,2019-08-06 17:16:17.000000000,2019-08-06 17:16:17.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 12:09:07.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/652aad411fe217247b5612b533a9a5a1ff1aa013', 'message': ""Fix expensive api call to get deployment_name\n\nWe filter all resources for overcloud root stack with a\nnon-indexed field 'physical_resource_id' (nova_instance).\nThis is very inefficient.\n\nWith this patch, though there would still be making heat api\ncalls for every deployment, it won't be so expensive.\n\nChange-Id: I260501e6061c0d6652b22504e7284940b2c64709\nCloses-Bug: #1838861\n(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)\n""}]",0,674583,652aad411fe217247b5612b533a9a5a1ff1aa013,10,5,1,3153,,,0,"Fix expensive api call to get deployment_name

We filter all resources for overcloud root stack with a
non-indexed field 'physical_resource_id' (nova_instance).
This is very inefficient.

With this patch, though there would still be making heat api
calls for every deployment, it won't be so expensive.

Change-Id: I260501e6061c0d6652b22504e7284940b2c64709
Closes-Bug: #1838861
(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/674583/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,652aad411fe217247b5612b533a9a5a1ff1aa013,," grandparent_stack = self.client.stacks.get( parent_stack, resolve_outputs=False).parent grandparent_stack,"," name, nested_depth=constants.NESTED_DEPTH,",3,2
openstack%2Frpm-packaging~master~Ie58ad13cab219926af5a633027f50372d81ddabd,openstack/rpm-packaging,master,Ie58ad13cab219926af5a633027f50372d81ddabd,os-faults: Fix doc group,MERGED,2019-08-06 06:22:50.000000000,2019-08-06 17:09:15.000000000,2019-08-06 16:55:02.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 06:22:50.000000000', 'files': ['openstack/os-faults/os-faults.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d7d4512d3a7c4fb4e6cb66c2ba053f14d8938c26', 'message': 'os-faults: Fix doc group\n\nChange-Id: Ie58ad13cab219926af5a633027f50372d81ddabd\n'}]",0,674733,d7d4512d3a7c4fb4e6cb66c2ba053f14d8938c26,10,5,1,7102,,,0,"os-faults: Fix doc group

Change-Id: Ie58ad13cab219926af5a633027f50372d81ddabd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/33/674733/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-faults/os-faults.spec.j2'],1,d7d4512d3a7c4fb4e6cb66c2ba053f14d8938c26,,Group: Documentation/HTML,Group: Documentation,1,1
openstack%2Ftripleo-quickstart-extras~master~I11f88eefce4ee3f22551c09bd5b8a812ac25808e,openstack/tripleo-quickstart-extras,master,I11f88eefce4ee3f22551c09bd5b8a812ac25808e,DNM: install openvswitch,ABANDONED,2019-08-05 11:14:16.000000000,2019-08-06 17:01:16.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 11:14:16.000000000', 'files': ['roles/undercloud-setup/templates/install_packages.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68629566525bb011f5d8aec6bafd8deafb2b7775', 'message': 'DNM: install openvswitch\n\nChange-Id: I11f88eefce4ee3f22551c09bd5b8a812ac25808e\n'}]",0,674576,68629566525bb011f5d8aec6bafd8deafb2b7775,5,3,1,10969,,,0,"DNM: install openvswitch

Change-Id: I11f88eefce4ee3f22551c09bd5b8a812ac25808e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/674576/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-setup/templates/install_packages.sh.j2'],1,68629566525bb011f5d8aec6bafd8deafb2b7775,,sudo $(command -v dnf || command -v yum) update -y openvswitch || sudo $(command -v dnf || command -v yum) install -y openvswitch,,1,0
openstack%2Fhorizon~master~If767cbc6c027060d564bdc2839bf6e61f6425d01,openstack/horizon,master,If767cbc6c027060d564bdc2839bf6e61f6425d01,Set log devel to DEBUG in local_settings.py.example,MERGED,2019-08-06 12:08:18.000000000,2019-08-06 17:01:00.000000000,2019-08-06 17:01:00.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-06 12:08:18.000000000', 'files': ['openstack_dashboard/local/local_settings.py.example'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3e12c2cc48e3657f1ea4ab5271d5d22b6a503d21', 'message': ""Set log devel to DEBUG in local_settings.py.example\n\nLog level 'DEBUG' is useful to debug our CI.\nlocal_settings.py.example is used as a template of local_settings.py\nin our CI and it is not easy to change the log level in\nlocal_settings.py using a shell script.\nThis commit sets the log level of 'console' to 'DEBUG'\nwhen DEBUG settings is true.\n\nNote that this does not mean the change of the default value.\n\nChange-Id: If767cbc6c027060d564bdc2839bf6e61f6425d01\n""}]",0,674792,3e12c2cc48e3657f1ea4ab5271d5d22b6a503d21,9,3,1,841,,,0,"Set log devel to DEBUG in local_settings.py.example

Log level 'DEBUG' is useful to debug our CI.
local_settings.py.example is used as a template of local_settings.py
in our CI and it is not easy to change the log level in
local_settings.py using a shell script.
This commit sets the log level of 'console' to 'DEBUG'
when DEBUG settings is true.

Note that this does not mean the change of the default value.

Change-Id: If767cbc6c027060d564bdc2839bf6e61f6425d01
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/674792/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/local/local_settings.py.example'],1,3e12c2cc48e3657f1ea4ab5271d5d22b6a503d21,log-level-example," 'level': 'DEBUG' if DEBUG else 'INFO',"," 'level': 'INFO',",1,1
openstack%2Fmonasca-tempest-plugin~master~I5d405167c73b6e2409d6673e116475c67b18b96e,openstack/monasca-tempest-plugin,master,I5d405167c73b6e2409d6673e116475c67b18b96e,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-29 07:09:57.000000000,2019-08-06 16:58:38.000000000,2019-08-06 16:58:38.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 07:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/6a0a181a555447dc1ed1ace411b1ca806561074e', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I5d405167c73b6e2409d6673e116475c67b18b96e\n'}, {'number': 2, 'created': '2019-07-30 08:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/7df06cf03271e538758aa4dfc975d4bb630c8a98', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I5d405167c73b6e2409d6673e116475c67b18b96e\n'}, {'number': 3, 'created': '2019-08-01 02:38:57.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/e8db39351c75898f5c88619c3bad5e8b9f744947', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I5d405167c73b6e2409d6673e116475c67b18b96e\n'}]",0,673215,e8db39351c75898f5c88619c3bad5e8b9f744947,14,2,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I5d405167c73b6e2409d6673e116475c67b18b96e
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/15/673215/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,6a0a181a555447dc1ed1ace411b1ca806561074e,openstackdocstheme,,"project = u'monasca_tempest_plugin Release Notes'# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,24
openstack%2Ftripleo-common~stable%2Fstein~I260501e6061c0d6652b22504e7284940b2c64709,openstack/tripleo-common,stable/stein,I260501e6061c0d6652b22504e7284940b2c64709,Fix expensive api call to get deployment_name,MERGED,2019-08-05 12:08:49.000000000,2019-08-06 16:48:23.000000000,2019-08-06 16:48:23.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 12:08:49.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/142ae92f8ba20e1dfca811182d92f74553cb546d', 'message': ""Fix expensive api call to get deployment_name\n\nWe filter all resources for overcloud root stack with a\nnon-indexed field 'physical_resource_id' (nova_instance).\nThis is very inefficient.\n\nWith this patch, though there would still be making heat api\ncalls for every deployment, it won't be so expensive.\n\nChange-Id: I260501e6061c0d6652b22504e7284940b2c64709\nCloses-Bug: #1838861\n(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)\n""}]",0,674582,142ae92f8ba20e1dfca811182d92f74553cb546d,13,5,1,3153,,,0,"Fix expensive api call to get deployment_name

We filter all resources for overcloud root stack with a
non-indexed field 'physical_resource_id' (nova_instance).
This is very inefficient.

With this patch, though there would still be making heat api
calls for every deployment, it won't be so expensive.

Change-Id: I260501e6061c0d6652b22504e7284940b2c64709
Closes-Bug: #1838861
(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/674582/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,142ae92f8ba20e1dfca811182d92f74553cb546d,," grandparent_stack = self.client.stacks.get( parent_stack, resolve_outputs=False).parent grandparent_stack,"," name, nested_depth=constants.NESTED_DEPTH,",3,2
openstack%2Ftripleo-common~stable%2Fqueens~I260501e6061c0d6652b22504e7284940b2c64709,openstack/tripleo-common,stable/queens,I260501e6061c0d6652b22504e7284940b2c64709,Fix expensive api call to get deployment_name,MERGED,2019-08-05 12:09:20.000000000,2019-08-06 16:41:54.000000000,2019-08-06 16:41:54.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 12:09:20.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3ca555245cf2a6eec22d3473a3ea2dc4538bbb6', 'message': ""Fix expensive api call to get deployment_name\n\nWe filter all resources for overcloud root stack with a\nnon-indexed field 'physical_resource_id' (nova_instance).\nThis is very inefficient.\n\nWith this patch, though there would still be making heat api\ncalls for every deployment, it won't be so expensive.\n\nChange-Id: I260501e6061c0d6652b22504e7284940b2c64709\nCloses-Bug: #1838861\n(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)\n""}]",0,674584,e3ca555245cf2a6eec22d3473a3ea2dc4538bbb6,14,5,1,3153,,,0,"Fix expensive api call to get deployment_name

We filter all resources for overcloud root stack with a
non-indexed field 'physical_resource_id' (nova_instance).
This is very inefficient.

With this patch, though there would still be making heat api
calls for every deployment, it won't be so expensive.

Change-Id: I260501e6061c0d6652b22504e7284940b2c64709
Closes-Bug: #1838861
(cherry picked from commit 3df3719e82bedb0a167d5b981668403e2bd4e316)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/674584/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,e3ca555245cf2a6eec22d3473a3ea2dc4538bbb6,," grandparent_stack = self.client.stacks.get( parent_stack, resolve_outputs=False).parent grandparent_stack,"," name, nested_depth=constants.NESTED_DEPTH,",3,2
openstack%2Fmonasca-notification~master~I8e2775a283b4670a8979541602a3f245c18e5d35,openstack/monasca-notification,master,I8e2775a283b4670a8979541602a3f245c18e5d35,Fix python3 json loads error,MERGED,2019-08-02 00:42:38.000000000,2019-08-06 16:30:35.000000000,2019-08-06 16:30:35.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 00:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/8e3ee830b87d5fb61b1ead1b85411fce128ba2e2', 'message': 'Fix python3 json loads error\n\n`oslo_serialization.jsonutils.loads` is a more appropriate solution\nTask: 35991\nStory: 2006285\n\nChange-Id: I8e2775a283b4670a8979541602a3f245c18e5d35\n'}, {'number': 2, 'created': '2019-08-03 00:58:03.000000000', 'files': ['monasca_notification/retry_engine.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3db7b179ef531e18e5e3b17c54838147ddf3411c', 'message': 'Fix python3 json loads error\n\n`oslo_serialization.jsonutils.loads` is a more appropriate solution\nTask: 36071\nStory: 2006285\n\nChange-Id: I8e2775a283b4670a8979541602a3f245c18e5d35\n'}]",1,674146,3db7b179ef531e18e5e3b17c54838147ddf3411c,10,2,2,29970,,,0,"Fix python3 json loads error

`oslo_serialization.jsonutils.loads` is a more appropriate solution
Task: 36071
Story: 2006285

Change-Id: I8e2775a283b4670a8979541602a3f245c18e5d35
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/46/674146/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/retry_engine.py'],1,8e3ee830b87d5fb61b1ead1b85411fce128ba2e2,fix-python3-json-loads-bug,from oslo_serialization import jsonutils notification_data = jsonutils.loads(message),import jsonfrom six import PY3 message = message.decode('UTF-8') if PY3 else message notification_data = json.loads(message),2,5
openstack%2Ftripleo-common~stable%2Fstein~I169b07553b171fcacb532bf58acc4200e270bfbb,openstack/tripleo-common,stable/stein,I169b07553b171fcacb532bf58acc4200e270bfbb,Fix swift-proxy healthcheck,MERGED,2019-08-02 22:09:28.000000000,2019-08-06 16:09:52.000000000,2019-08-06 16:09:52.000000000,"[{'_account_id': 6968}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 22:09:28.000000000', 'files': ['healthcheck/swift-proxy'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2c5deba1d1fce3c9001364f51aa09565223aee3', 'message': ""Fix swift-proxy healthcheck\n\nWith the current swift-proxy healthcheck the container status is\nunhealty even the service is up.\n\nThe used ps/grep won't return the swift proxy processes as the\noutput gets truncated:\n\n()[root@overcloud-controller-0 /]$ ps -e\n    PID TTY          TIME CMD\n      1 ?        00:00:00 dumb-init\n      6 ?        00:02:52 swift-proxy-ser\n     28 ?        00:00:25 swift-proxy-ser\n   4753 pts/1    00:00:00 sh\n   4797 pts/1    00:00:00 ps\n\nAs a result we end up in the else, checking the cache.\n\nThis moves the if to use pgrep instead.\n\nChange-Id: I169b07553b171fcacb532bf58acc4200e270bfbb\n(cherry picked from commit 3ddb77e34096a095909ea4dc5a18d478eeb93cab)\n""}]",0,674431,e2c5deba1d1fce3c9001364f51aa09565223aee3,19,6,1,17216,,,0,"Fix swift-proxy healthcheck

With the current swift-proxy healthcheck the container status is
unhealty even the service is up.

The used ps/grep won't return the swift proxy processes as the
output gets truncated:

()[root@overcloud-controller-0 /]$ ps -e
    PID TTY          TIME CMD
      1 ?        00:00:00 dumb-init
      6 ?        00:02:52 swift-proxy-ser
     28 ?        00:00:25 swift-proxy-ser
   4753 pts/1    00:00:00 sh
   4797 pts/1    00:00:00 ps

As a result we end up in the else, checking the cache.

This moves the if to use pgrep instead.

Change-Id: I169b07553b171fcacb532bf58acc4200e270bfbb
(cherry picked from commit 3ddb77e34096a095909ea4dc5a18d478eeb93cab)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/674431/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/swift-proxy'],1,e2c5deba1d1fce3c9001364f51aa09565223aee3,swift-proxy-healthcheck-stable/stein,if pgrep -f swift-proxy-server; then,if ps -e | grep --quiet swift-proxy-server; then,1,1
openstack%2Fsushy~stable%2Fqueens~I721c6284b938d5a47dbe0b298467c15ca4bd1517,openstack/sushy,stable/queens,I721c6284b938d5a47dbe0b298467c15ca4bd1517,Disable HTTP connection pooling,MERGED,2019-08-05 19:34:49.000000000,2019-08-06 15:54:28.000000000,2019-08-06 15:54:28.000000000,"[{'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-08-05 19:34:49.000000000', 'files': ['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/efadfc76208ca0aebd140c633995f755b4cb4202', 'message': 'Disable HTTP connection pooling\n\nDisable HTTP connection pooling by asking HTTP server to close our\nconnection right upon use. The rationale is that some BMC observed in\nthe wild seem to close persistent connections abruptly upon eventual\nre-use failing completely unrelated operation. So in ``sushy`` we\njust try not to maintain persistent connections with BMC at all.\n\nStory: 2006336\nTask: 36084\n\nChange-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517\n(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)\n'}]",0,674684,efadfc76208ca0aebd140c633995f755b4cb4202,8,5,1,11655,,,0,"Disable HTTP connection pooling

Disable HTTP connection pooling by asking HTTP server to close our
connection right upon use. The rationale is that some BMC observed in
the wild seem to close persistent connections abruptly upon eventual
re-use failing completely unrelated operation. So in ``sushy`` we
just try not to maintain persistent connections with BMC at all.

Story: 2006336
Task: 36084

Change-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517
(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/84/674684/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py']",2,efadfc76208ca0aebd140c633995f755b4cb4202,disable-connection-pooling-stable/stein-stable/rocky-stable/queens," # NOTE(etingof): field studies reveal that some BMCs choke at # long-running persistent HTTP connections (or TCP connections). # By default, we ask HTTP server to shut down HTTP connection we've # just used. self._session.headers['Connection'] = 'close' ",,15,0
openstack%2Fsushy~stable%2Frocky~I721c6284b938d5a47dbe0b298467c15ca4bd1517,openstack/sushy,stable/rocky,I721c6284b938d5a47dbe0b298467c15ca4bd1517,Disable HTTP connection pooling,MERGED,2019-08-05 19:34:34.000000000,2019-08-06 15:54:17.000000000,2019-08-06 15:54:17.000000000,"[{'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-08-05 19:34:34.000000000', 'files': ['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/e534332c1acf749d962bfa2015b16d9464f8dfbb', 'message': 'Disable HTTP connection pooling\n\nDisable HTTP connection pooling by asking HTTP server to close our\nconnection right upon use. The rationale is that some BMC observed in\nthe wild seem to close persistent connections abruptly upon eventual\nre-use failing completely unrelated operation. So in ``sushy`` we\njust try not to maintain persistent connections with BMC at all.\n\nStory: 2006336\nTask: 36084\n\nChange-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517\n(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)\n'}]",0,674683,e534332c1acf749d962bfa2015b16d9464f8dfbb,9,5,1,11655,,,0,"Disable HTTP connection pooling

Disable HTTP connection pooling by asking HTTP server to close our
connection right upon use. The rationale is that some BMC observed in
the wild seem to close persistent connections abruptly upon eventual
re-use failing completely unrelated operation. So in ``sushy`` we
just try not to maintain persistent connections with BMC at all.

Story: 2006336
Task: 36084

Change-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517
(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/83/674683/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py']",2,e534332c1acf749d962bfa2015b16d9464f8dfbb,disable-connection-pooling-stable/stein-stable/rocky," # NOTE(etingof): field studies reveal that some BMCs choke at # long-running persistent HTTP connections (or TCP connections). # By default, we ask HTTP server to shut down HTTP connection we've # just used. self._session.headers['Connection'] = 'close' ",,15,0
openstack%2Ftripleo-validations~stable%2Fstein~I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,openstack/tripleo-validations,stable/stein,I8abe0b2fc8b3619c227da01d145355c2d8d1d15d,Add molecule testing on undercloud-debug role,MERGED,2019-08-01 11:03:33.000000000,2019-08-06 15:54:05.000000000,2019-08-06 15:54:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 11:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8b8888988904bc281fd7c11b9d47a9db43a9dbb7', 'message': 'Add molecule testing on undercloud-debug role\n\nChange-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d\n(cherry picked from commit 95e9eabaa6d4218550278f4b05116bf2de7629d7)\n'}, {'number': 2, 'created': '2019-08-01 12:52:18.000000000', 'files': ['roles/undercloud-debug/molecule/default/playbook.yml', 'roles/undercloud-debug/molecule/default/Dockerfile.j2', 'roles/undercloud-debug/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3e513ca2a04823d65d2529eb8802b52bf44b4105', 'message': 'Add molecule testing on undercloud-debug role\n\nDepends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nChange-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d\n(cherry picked from commit 95e9eabaa6d4218550278f4b05116bf2de7629d7)\n'}]",0,673996,3e513ca2a04823d65d2529eb8802b52bf44b4105,8,6,2,11491,,,0,"Add molecule testing on undercloud-debug role

Depends-On: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Change-Id: I8abe0b2fc8b3619c227da01d145355c2d8d1d15d
(cherry picked from commit 95e9eabaa6d4218550278f4b05116bf2de7629d7)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/96/673996/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-debug/molecule/default/playbook.yml', 'roles/undercloud-debug/molecule/default/Dockerfile.j2', 'roles/undercloud-debug/molecule/default/molecule.yml']",3,8b8888988904bc281fd7c11b9d47a9db43a9dbb7,molecule/undercloud-debug-stable/stein,"--- driver: name: docker log: true platforms: - name: centos7 hostname: centos7 image: centos:7 pkg_extras: python-setuptools python-enum34 easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" - name: fedora28 hostname: fedora28 image: fedora:28 pkg_extras: python*-setuptools python*-enum environment: <<: *env provisioner: name: ansible log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""../../../../library"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy lint: enabled: false verifier: name: testinfra lint: name: flake8 ",,142,0
openstack%2Ftripleo-validations~stable%2Fstein~Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,openstack/tripleo-validations,stable/stein,Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed,Enable fact gathering for needed validations,MERGED,2019-08-01 10:34:06.000000000,2019-08-06 15:48:08.000000000,2019-08-06 15:48:08.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-01 10:34:06.000000000', 'files': ['playbooks/undercloud-ram.yaml', 'playbooks/undercloud-cpu.yaml', 'playbooks/undercloud-selinux-mode.yaml', 'playbooks/repos.yaml', 'playbooks/check-latest-minor-version.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/000718fa93aced3beea549ee0c810572a1836168', 'message': 'Enable fact gathering for needed validations\n\nImplicit fact gathering is disabled since\nhttps://review.opendev.org/672278\n\nThis means, for some validations, we must explicitly enable fact\ngathering.\n\nDepends-On: https://review.opendev.org/672278\nChange-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed\n(cherry picked from commit 2affbb11f82afcdfcd77c282f718c92595cad291)\n'}]",0,673994,000718fa93aced3beea549ee0c810572a1836168,9,5,1,11491,,,0,"Enable fact gathering for needed validations

Implicit fact gathering is disabled since
https://review.opendev.org/672278

This means, for some validations, we must explicitly enable fact
gathering.

Depends-On: https://review.opendev.org/672278
Change-Id: Iaf4e8f3f1bf31293f18aedf2d0ab253c04d83bed
(cherry picked from commit 2affbb11f82afcdfcd77c282f718c92595cad291)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/94/673994/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/undercloud-ram.yaml', 'playbooks/undercloud-cpu.yaml', 'playbooks/undercloud-selinux-mode.yaml', 'playbooks/repos.yaml', 'playbooks/check-latest-minor-version.yaml']",5,000718fa93aced3beea549ee0c810572a1836168,optimization/no-fact-gathering-stable/stein, gather_facts: yes,,5,0
openstack%2Fos-apply-config~master~I4379a60f3e6a511b714a4df1502d068bc1aaf6a3,openstack/os-apply-config,master,I4379a60f3e6a511b714a4df1502d068bc1aaf6a3,Add Python 3 Train unit tests,MERGED,2019-07-12 20:40:52.000000000,2019-08-06 15:47:56.000000000,2019-08-06 15:47:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-12 20:40:52.000000000', 'files': ['zuul.d/layout.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/d9df1dbd367d42430aa9abfe90d5aec572ec152b', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I4379a60f3e6a511b714a4df1502d068bc1aaf6a3\nStory: #2005924\nTask: #34253\n'}]",0,670661,d9df1dbd367d42430aa9abfe90d5aec572ec152b,20,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I4379a60f3e6a511b714a4df1502d068bc1aaf6a3
Story: #2005924
Task: #34253
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/61/670661/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'setup.cfg', 'tox.ini']",3,d9df1dbd367d42430aa9abfe90d5aec572ec152b,python3-train,"envlist = py27,py37,pep8","envlist = py27,pep8",7,3
openstack%2Fproject-config~master~Ifb440750c18aef96b42080cc50799e5ed8703619,openstack/project-config,master,Ifb440750c18aef96b42080cc50799e5ed8703619,Default zuul tenant to use ansible 2.8 for jobs,MERGED,2019-07-29 14:40:18.000000000,2019-08-06 15:47:43.000000000,2019-08-06 15:47:43.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 16068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 14:40:18.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9fdebd38e34cab742a718c775b5774ce37304131', 'message': ""Default zuul tenant to use ansible 2.8 for jobs\n\nAfter some basic testing of jobs in the zuul tenant, we don't appear to\nhave any issues using ansible 2.8. With that in mind, switch the default\nfor all jobs to ansible 2.8. We also only do this on the zuul tenant, to\nensure this tenant works properly before moving to other tenants.\n\nChange-Id: Ifb440750c18aef96b42080cc50799e5ed8703619\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,673304,9fdebd38e34cab742a718c775b5774ce37304131,8,4,1,4162,,,0,"Default zuul tenant to use ansible 2.8 for jobs

After some basic testing of jobs in the zuul tenant, we don't appear to
have any issues using ansible 2.8. With that in mind, switch the default
for all jobs to ansible 2.8. We also only do this on the zuul tenant, to
ensure this tenant works properly before moving to other tenants.

Change-Id: Ifb440750c18aef96b42080cc50799e5ed8703619
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/673304/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,9fdebd38e34cab742a718c775b5774ce37304131,, default-ansible-version: 2.8,,1,0
openstack%2Fmistral~master~Ibb0daac0f5f155f4aa7458ab81044fa097c0ea29,openstack/mistral,master,Ibb0daac0f5f155f4aa7458ab81044fa097c0ea29,"Provide better docs for the ""target"" task attribute",MERGED,2019-08-02 08:36:32.000000000,2019-08-06 15:45:40.000000000,2019-08-06 15:45:40.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-08-02 08:36:32.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'mistral/config.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/7ae3ec0caf7b0778d1e4cb0e3c0783d711d317b7', 'message': 'Provide better docs for the ""target"" task attribute\n\nChange-Id: Ibb0daac0f5f155f4aa7458ab81044fa097c0ea29\nCloses-Bug: #1781556\n'}]",0,674224,7ae3ec0caf7b0778d1e4cb0e3c0783d711d317b7,18,4,1,8731,,,0,"Provide better docs for the ""target"" task attribute

Change-Id: Ibb0daac0f5f155f4aa7458ab81044fa097c0ea29
Closes-Bug: #1781556
",git fetch https://review.opendev.org/openstack/mistral refs/changes/24/674224/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/wf_lang_v2.rst', 'mistral/config.py']",2,7ae3ec0caf7b0778d1e4cb0e3c0783d711d317b7,bug/1781556," help=_('Name of the executor node. This can be an any string ' 'name/identifier. It is not necessarily a hostname, ' 'FQDN, or IP address. It is also related to the ""target"" ' 'attribute of tasks defined in a workflow text. If ""target"" ' 'is defined for a task then the action of the task will be ' 'sent to one of the executors that have the same value in the ' '""host"" property.')"," help=_('Name of the executor node. This can be an opaque ' 'identifier. It is not necessarily a hostname, ' 'FQDN, or IP address.')",13,6
openstack%2Fironic~stable%2Frocky~I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,openstack/ironic,stable/rocky,I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,Filter security group list on the ID's we expect,MERGED,2019-07-30 10:45:52.000000000,2019-08-06 15:45:11.000000000,2019-08-06 15:45:11.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-30 10:45:52.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1939909563e51d7a917226ee597ac696a58fc7e2', 'message': ""Filter security group list on the ID's we expect\n\nFilter the list of security groups based on the security\ngroup IDs we plan on using for the network. Also only\nget the id field as this is all we need to compare.\n\nFixes an issue where deployment fail on systems with a\nhigh number of security groups.\n\nStory: 2006256\nTask: 35871\nChange-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f\n(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)\n""}]",0,673474,1939909563e51d7a917226ee597ac696a58fc7e2,24,9,1,10239,,,0,"Filter security group list on the ID's we expect

Filter the list of security groups based on the security
group IDs we plan on using for the network. Also only
get the id field as this is all we need to compare.

Fixes an issue where deployment fail on systems with a
high number of security groups.

Story: 2006256
Task: 35871
Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f
(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/673474/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py']",3,1939909563e51d7a917226ee597ac696a58fc7e2,story/2006256-stable/rocky," client.list_security_groups(id=security_groups, fields='id').get( 'security_groups', [])) if set(security_groups).issubset(x['id'] for x in neutron_sec_groups): return missing_sec_groups = set(security_groups).difference( x['id'] for x in neutron_sec_groups) msg = (_('Could not find these security groups (specified via ironic ' 'config) in neutron: %(ir-sg)s') % {'ir-sg': list(missing_sec_groups)}) LOG.error(msg) raise exception.NetworkError(msg)"," client.list_security_groups().get('security_groups', [])) existing_sec_groups = [sec_group['id'] for sec_group in neutron_sec_groups] missing_sec_groups = set(security_groups) - set(existing_sec_groups) if missing_sec_groups: msg = (_('Could not find these security groups (specified via ironic ' 'config) in neutron: %(ir-sg)s') % {'ir-sg': list(missing_sec_groups)}) LOG.error(msg) raise exception.NetworkError(msg)",32,17
openstack%2Fcharm-nova-cloud-controller~master~I062acd8c403a6805a1b33fad5b45accb1270aa0e,openstack/charm-nova-cloud-controller,master,I062acd8c403a6805a1b33fad5b45accb1270aa0e,Add SSH knownhosts caching info to README,MERGED,2019-08-02 15:42:09.000000000,2019-08-06 15:43:24.000000000,2019-08-06 15:43:24.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-08-02 15:42:09.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1bcc17fe6a05d6973b091ede2599b8ab49fa687b', 'message': 'Add SSH knownhosts caching info to README\n\nChange-Id: I062acd8c403a6805a1b33fad5b45accb1270aa0e\n'}]",4,674332,1bcc17fe6a05d6973b091ede2599b8ab49fa687b,10,5,1,20870,,,0,"Add SSH knownhosts caching info to README

Change-Id: I062acd8c403a6805a1b33fad5b45accb1270aa0e
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/32/674332/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,1bcc17fe6a05d6973b091ede2599b8ab49fa687b,improve-ssh-key-management," ## EXPERIMENTAL: SSH knownhosts caching This section covers an EXPERIMENTAL option involving the caching of SSH host lookups (knownhosts) on each nova-compute unit. There is a new Boolean configuration key `cache-known-hosts` that ensures that any given host lookup to be performed just once. The default is `false` which effectively means that caching is not performed. **Note**: A cloud can be deployed with the `cache-known-hosts` key set to `false`, and be set to `true` post-deployment. At that point the hosts will have been cached. The key only controls whether the cache is used or not. If the above key is set, a new Juju action `clear-unit-knownhost-cache` is provided to clear the cache. This can be applied to a unit, service, or an entire nova-cloud-controller application. This would be needed if DNS resolution had changed in an existing cloud or during a cloud deployment. Not clearing the cache in such cases could result in an inconsistent set of knownhosts files. This action will cause DNS resolution to be performed (for unit/service/application), thus potentially triggering a relation-set on the nova-cloud-controller unit(s) and subsequent changed hook on the related nova-compute units. The action is used as follows, based on unit, service, or application, respectively: ``` juju run-action nova-cloud-controller/0 clear-unit-knownhost-cache target=nova-compute/2 juju run-action nova-cloud-controller/0 clear-unit-knownhost-cache target=nova-compute juju run-action nova-cloud-controller/0 clear-unit-knownhost-cache ``` In a high-availability setup, the action must be run on all `nova-cloud-controller` units.",,38,0
openstack%2Fsushy~stable%2Fstein~I721c6284b938d5a47dbe0b298467c15ca4bd1517,openstack/sushy,stable/stein,I721c6284b938d5a47dbe0b298467c15ca4bd1517,Disable HTTP connection pooling,MERGED,2019-08-05 19:34:17.000000000,2019-08-06 15:39:44.000000000,2019-08-06 15:39:44.000000000,"[{'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-08-05 19:34:17.000000000', 'files': ['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/a738cd7ec13c191a479f8fa4dcc3857eb92f5951', 'message': 'Disable HTTP connection pooling\n\nDisable HTTP connection pooling by asking HTTP server to close our\nconnection right upon use. The rationale is that some BMC observed in\nthe wild seem to close persistent connections abruptly upon eventual\nre-use failing completely unrelated operation. So in ``sushy`` we\njust try not to maintain persistent connections with BMC at all.\n\nStory: 2006336\nTask: 36084\n\nChange-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517\n(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)\n'}]",0,674681,a738cd7ec13c191a479f8fa4dcc3857eb92f5951,9,5,1,11655,,,0,"Disable HTTP connection pooling

Disable HTTP connection pooling by asking HTTP server to close our
connection right upon use. The rationale is that some BMC observed in
the wild seem to close persistent connections abruptly upon eventual
re-use failing completely unrelated operation. So in ``sushy`` we
just try not to maintain persistent connections with BMC at all.

Story: 2006336
Task: 36084

Change-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517
(cherry picked from commit 84e085f9a2460218bf52315a21ee4dcf8365e3e1)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/81/674681/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py']",2,a738cd7ec13c191a479f8fa4dcc3857eb92f5951,disable-connection-pooling-stable/stein," # NOTE(etingof): field studies reveal that some BMCs choke at # long-running persistent HTTP connections (or TCP connections). # By default, we ask HTTP server to shut down HTTP connection we've # just used. self._session.headers['Connection'] = 'close' ",,15,0
openstack%2Fironic~stable%2Frocky~Id35dcf8ddc209bb8318433d6bf26aba848e074ee,openstack/ironic,stable/rocky,Id35dcf8ddc209bb8318433d6bf26aba848e074ee,Ansible module: fix deployment for private and/or shared images,MERGED,2019-07-29 12:29:45.000000000,2019-08-06 15:37:04.000000000,2019-08-06 15:37:04.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-29 12:29:45.000000000', 'files': ['ironic/drivers/modules/ansible/deploy.py', 'releasenotes/notes/bug-35702-25da234580ca0c31.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/11911e0d7e636852fa6c269f552c10254ed0aa91', 'message': 'Ansible module: fix deployment for private and/or shared images\n\nThe ansible module deployment was broken for private/shared images\nbecause the original request context was not available anymore\nat the time the image informations were fetched\n\nChange-Id: Id35dcf8ddc209bb8318433d6bf26aba848e074ee\nStory: #2006178\nTask: #35702\n(cherry picked from commit d0c31d748d3e6ccc05a0452bac5eb67eaca19763)\n'}]",0,673284,11911e0d7e636852fa6c269f552c10254ed0aa91,15,8,1,15064,,,0,"Ansible module: fix deployment for private and/or shared images

The ansible module deployment was broken for private/shared images
because the original request context was not available anymore
at the time the image informations were fetched

Change-Id: Id35dcf8ddc209bb8318433d6bf26aba848e074ee
Story: #2006178
Task: #35702
(cherry picked from commit d0c31d748d3e6ccc05a0452bac5eb67eaca19763)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/673284/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ansible/deploy.py', 'releasenotes/notes/bug-35702-25da234580ca0c31.yaml', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py']",3,11911e0d7e636852fa6c269f552c10254ed0aa91,ansible_early_glance_info_preload-stable/rocky," def test__prepare_variables(self): i_info = self.node.instance_info i_info['image_mem_req'] = 3000 i_info['image_whatever'] = 'hello' self.node.instance_info = i_info self.node.save() ""mem_req"": 3000, ""checksum"": ""md5:checksum"", ""whatever"": ""hello""}} def test__prepare_variables_root_device_hints(self): def test__prepare_variables_insecure_activated(self): def test__prepare_variables_configdrive_url(self): def test__prepare_variables_configdrive_file(self): @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test_deploy(self, power_mock, mem_req_mock): mem_req_mock.assert_called_once_with(task) i_info = task.node.instance_info self.assertEqual(i_info['image_mem_req'], 2000)"," @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables(self, mem_req_mock): ""mem_req"": 2000, ""checksum"": ""md5:checksum""}} @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_root_device_hints(self, mem_req_mock): ""mem_req"": 2000, @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_noglance(self, mem_req_mock): ""mem_req"": 2000, @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_configdrive_url(self, mem_req_mock): ""mem_req"": 2000, @mock.patch.object(ansible_deploy, '_calculate_memory_req', autospec=True, return_value=2000) def test__prepare_variables_configdrive_file(self, mem_req_mock): ""mem_req"": 2000, def test_deploy(self, power_mock):",42,23
openstack%2Fansible-role-container-registry~master~I860fbb39e0da6fce20cc8d42132a7e005a28aeda,openstack/ansible-role-container-registry,master,I860fbb39e0da6fce20cc8d42132a7e005a28aeda,Ensure /etc/docker exists before write,ABANDONED,2019-08-04 09:15:57.000000000,2019-08-06 15:31:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-04 09:15:57.000000000', 'files': ['tasks/docker.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/5450767b75b4ff2b0c904af00b744efa8701c7c6', 'message': 'Ensure /etc/docker exists before write\n\nChange-Id: I860fbb39e0da6fce20cc8d42132a7e005a28aeda\n'}]",1,674480,5450767b75b4ff2b0c904af00b744efa8701c7c6,8,6,1,10969,,,0,"Ensure /etc/docker exists before write

Change-Id: I860fbb39e0da6fce20cc8d42132a7e005a28aeda
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/80/674480/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/docker.yml'],1,5450767b75b4ff2b0c904af00b744efa8701c7c6,, - name: Create /etc/docker if not exist file: path: /etc/docker state: directory ,,5,0
openstack%2Fcookbook-openstack-block-storage~master~I225a30379820e6e033bcea987fbf1a4db33dbd3a,openstack/cookbook-openstack-block-storage,master,I225a30379820e6e033bcea987fbf1a4db33dbd3a,api: prevent installation of invalid apache2 conf file,MERGED,2019-07-25 07:44:08.000000000,2019-08-06 15:31:18.000000000,2019-08-06 15:31:18.000000000,"[{'_account_id': 11109}, {'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 07:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/860d2c5d894bb28a10acef8108489e3a615e5046', 'message': 'api: prevent installation of invalid apache2 conf file\n\nIf apache is (re)starting while the chef-client installs the cinder-api\npackage, it may pick up the package-supplied cinder-wsgi apache2 conf\nfile before chef-client gets around to disabling it which may result in\napache2 failing due to a non-working configuration.\n\nThis changeset eliminates the race by creating an empty configuration\nfile before installing the software. The solution is based on the\nassumption that no reasonably configured package manager will overwrite\nan existing, user-created configuration file. The empty configuration\nfile is removed after package installation.\n\nbackport: queens\n\nChange-Id: I225a30379820e6e033bcea987fbf1a4db33dbd3a\n'}, {'number': 2, 'created': '2019-08-06 11:16:58.000000000', 'files': ['recipes/api.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/8c0d728d13dffeed1c6a9f51d0422230f2a24671', 'message': 'api: prevent installation of invalid apache2 conf file\n\nIf apache is (re)starting while the chef-client installs the cinder-api\npackage, it may pick up the package-supplied cinder-wsgi apache2 conf\nfile before chef-client gets around to disabling it which may result in\napache2 failing due to a non-working configuration.\n\nThis changeset eliminates the race by creating an empty configuration\nfile before installing the software. The solution is based on the\nassumption that no reasonably configured package manager will overwrite\nan existing, user-created configuration file. The empty configuration\nfile is left in place to avoid its creation and removal during every\nrecipe run.\n\nbackport: queens\n\nChange-Id: I225a30379820e6e033bcea987fbf1a4db33dbd3a\n'}]",4,672653,8c0d728d13dffeed1c6a9f51d0422230f2a24671,14,4,2,11109,,,0,"api: prevent installation of invalid apache2 conf file

If apache is (re)starting while the chef-client installs the cinder-api
package, it may pick up the package-supplied cinder-wsgi apache2 conf
file before chef-client gets around to disabling it which may result in
apache2 failing due to a non-working configuration.

This changeset eliminates the race by creating an empty configuration
file before installing the software. The solution is based on the
assumption that no reasonably configured package manager will overwrite
an existing, user-created configuration file. The empty configuration
file is left in place to avoid its creation and removal during every
recipe run.

backport: queens

Change-Id: I225a30379820e6e033bcea987fbf1a4db33dbd3a
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/53/672653/2 && git format-patch -1 --stdout FETCH_HEAD,['recipes/api.rb'],1,860d2c5d894bb28a10acef8108489e3a615e5046,prevent_vanilla_conf,# create empty file to prevent non-working config from getting installed file '/etc/apache2/conf-available/cinder-wsgi.conf' do owner 'root' group 'www-data' mode '0640' action :create content 'Chef openstack-block-storage: tmp file to block config from package' only_if { platform_family? 'debian' } end # remove empty file file '/etc/apache2/conf-available/cinder-wsgi.conf' do action :delete end ,,15,0
openstack%2Fcharm-guide~master~I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8,openstack/charm-guide,master,I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8,Update 19.07 release notes draft,MERGED,2019-08-01 06:19:15.000000000,2019-08-06 15:25:51.000000000,2019-08-06 15:25:51.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 24504}]","[{'number': 1, 'created': '2019-08-01 06:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/448b6825a76b2b105153d985d4e35ab7e00e325c', 'message': 'Update 19.07 release notes draft\n\nChange-Id: I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8\n'}, {'number': 2, 'created': '2019-08-02 11:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ea4fdafa5d8f7a24c940de1ef74c3af48c72ee6d', 'message': 'Update 19.07 release notes draft\n\nChange-Id: I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8\n'}, {'number': 3, 'created': '2019-08-02 12:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ea2743c19264091b9c93cdab7b68a0a22ebac79f', 'message': 'Update 19.07 release notes draft\n\nChange-Id: I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8\n'}, {'number': 4, 'created': '2019-08-02 14:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8f7eb4e1630205b7d6928e33f512e9c4d73f71ff', 'message': 'Update 19.07 release notes draft\n\nChange-Id: I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8\n'}, {'number': 5, 'created': '2019-08-02 15:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4daed9452812462c1baa5894bfb421ce982e2aa1', 'message': 'Update 19.07 release notes draft\n\nChange-Id: I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8\n'}, {'number': 6, 'created': '2019-08-02 15:51:51.000000000', 'files': ['doc/source/1907.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2caa2eac4403eae727988bf52abbd729d0b60d78', 'message': 'Update 19.07 release notes draft\n\nChange-Id: I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8\n'}]",6,673944,2caa2eac4403eae727988bf52abbd729d0b60d78,16,3,6,20635,,,0,"Update 19.07 release notes draft

Change-Id: I1a1b2fda88dc0e6df12fe13b3e6c09e6306556c8
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/44/673944/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/1907.rst'],1,448b6825a76b2b105153d985d4e35ab7e00e325c,19.07-release-notes,"Percona Cluster Cold Start ~~~~~~~~~~~~~~~~~~~~~~~~~~ The charm now contains new logic and actions to assist with operational tasks surrounding a database down scenario. Human interaction is still required in the event of a full database shutdown or restart. TODO: expand on this and add a link to the other docs (readme, deploy guide, etc). DVR SNAT ~~~~~~~~ TODO: Writeme. Octavia Image Lifecycle Management ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ TODO: expand on this and add a link to the other docs (readme, deploy guide, etc). Nova Live Migration: Streamline SSH Host Key HandlingVault-Keystone Cross-Model Relations ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ TODO: Writeme. DVR SNAT ~~~~~~~~ TODO: Writeme. The nova lxd subordinate charm is deprecated with this release. Git repos and branches, as well as charm store historical revisions remain in place for community efforts and existing users. The OpenStack Charms team will no longer focus on backports or bug fixes to the nova lxd driver or the corresponding charm. The purpose of the nova lxd charm was to provide nova api access to lxd hypervisors, in place or alongside kvm hypervisors. This has no bearing on the lxd project itself, which has its own healthy ecosystem with an aggressive feature roadmap, and is under active development.Percona-Cluster Charm Trusty Series Removed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Percona-Cluster Charm has had the Trusty series removed. This, and future releases of the Percona-Cluster Charm will no longer function on Trusty. The git branches and charm store revisions remain in place for those who need to remain on Trusty for this database charm. The main driver for this decision was the lack of a Python 3.4 mysqldb module on 14.04. With the widespread upstream and distro Python3-only efforts well underway, the Percona-Cluster charm now supports (and requires) a Python3-only runtime. Octavia Load Balancer in conjunction with DVR ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ There are currently a few outstanding upstream issues with connecting a Octavia loadbalancer to the outside world through a Floating IP when used in conjunction with Neutron DVR. As such, use of Octavia with DVR is not currently recommended. Although there are some fixes provided in the referenced material, the current implementation still show issues and appearas to limit how we can model a DVR deployment. An approach to work around this is to create a separate non-distributed network for hosting the load balancer VIP and connecting it to a FIP. The payload- and loadbalancer- instances can stay in a distributed network, only the VIP must be in a non-distributed network. although the actual hosting of said router can be on a compute host acting as a ""centralized"" snat router in a DVR deployment.) https://www.openstack.org/assets/presentation-media/Neutron-Port-Binding-and-Impact-of-unbound-ports-on-DVR-Routers-with-FloatingIP.pdf https://bugs.launchpad.net/neutron/+bug/1583694 https://bugs.launchpad.net/neutron/+bug/1667877 https://review.opendev.org/#/c/437970/ https://review.opendev.org/#/c/437986/ https://review.opendev.org/#/c/466434/ ",Feature 1 ~~~~~~~~~ Feature description... nova-cloud-controller: improved SSH host key handlingPreview Feature 1 ~~~~~~~~~~~~~~~~~ Feature description...New Bundle Features ===================The nova lxd subordinate charm is deprecated with this release.Issue ~~~~~ .. warning:: Something important. Issue details...,82,15
openstack%2Fpuppet-ovn~master~Id3f2428e6b2471ba4da5ce328f5748474744f5d8,openstack/puppet-ovn,master,Id3f2428e6b2471ba4da5ce328f5748474744f5d8,Sync Sphinx requirement,MERGED,2019-08-02 06:40:38.000000000,2019-08-06 15:23:22.000000000,2019-08-06 15:23:22.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 06:40:38.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/5df782dd3fde83a00dd1dbf1226fa2c8a2ecb902', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Id3f2428e6b2471ba4da5ce328f5748474744f5d8\n'}]",0,674201,5df782dd3fde83a00dd1dbf1226fa2c8a2ecb902,7,3,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Id3f2428e6b2471ba4da5ce328f5748474744f5d8
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/01/674201/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,5df782dd3fde83a00dd1dbf1226fa2c8a2ecb902,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx # BSD,2,1
openstack%2Fnetworking-ovn~stable%2Fqueens~I0f57a1706d41836b35ffd33bb154af6a5667b7cd,openstack/networking-ovn,stable/queens,I0f57a1706d41836b35ffd33bb154af6a5667b7cd,Replace httplib2 with requests in metadata agent,MERGED,2019-07-30 12:45:45.000000000,2019-08-06 15:20:18.000000000,2019-08-06 15:20:18.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-30 12:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/17f9a8c5fd634ea8745437bd4cd1a6682c989be2', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}, {'number': 2, 'created': '2019-07-31 08:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f62a1b96a219f2b8cc6b6bca3a3fa8f4304e4431', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}, {'number': 3, 'created': '2019-08-02 07:51:35.000000000', 'files': ['networking_ovn/agent/metadata/server.py', 'requirements.txt', 'networking_ovn/tests/unit/agent/metadata/test_server.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/64122cdc6865d9552dd0b015349d3b4998e511b2', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}]",0,673504,64122cdc6865d9552dd0b015349d3b4998e511b2,13,4,3,24791,,,0,"Replace httplib2 with requests in metadata agent

httplib2 uses PROTOCOL_TLSv1 which in fact restricts
connection to TLS v1.0 only.
This patch moves to use requests library that uses
PROTOCOL_TLS, that supports all versions supported
SSL library.
Same change was made a while ago in neutron [0].

[0] https://review.opendev.org/#/c/593641/

Co-Authored-By: James Page <james.page@ubuntu.com>

Change-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd
Closes-Bug: #1837870
(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/673504/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/server.py', 'requirements.txt', 'networking_ovn/tests/unit/agent/metadata/test_server.py']",3,17f9a8c5fd634ea8745437bd4cd1a6682c989be2,bug/1837870," resp = mock.MagicMock(status_code=response_code) resp.status.__str__.side_effect = AttributeError resp.content = 'content' with mock.patch('requests.request') as mock_request: resp.headers = {'content-type': 'text/plain'} mock_request.return_value = resp mock_request.assert_called_once_with( method=method, url='http://9.9.9.9:8775/the_path', headers={ 'X-Forwarded-For': '8.8.8.8', 'X-Instance-ID-Signature': 'signed', 'X-Instance-ID': 'the_id', 'X-Tenant-ID': 'tenant_id' }, data=body, cert=(self.fake_conf.nova_client_cert, self.fake_conf.nova_client_priv_key), verify=False)"," resp = mock.MagicMock(status=response_code) with mock.patch('httplib2.Http') as mock_http: resp.__getitem__.return_value = ""text/plain"" mock_http.return_value.request.return_value = (resp, 'content') mock_http.assert_called_once_with( ca_certs=None, disable_ssl_certificate_validation=True) mock_http.assert_has_calls([ mock.call().add_certificate( self.fake_conf.nova_client_priv_key, self.fake_conf.nova_client_cert, ""%s:%s"" % (self.fake_conf.nova_metadata_host, self.fake_conf.nova_metadata_port) ), mock.call().request( 'http://9.9.9.9:8775/the_path', method=method, headers={ 'X-Forwarded-For': '8.8.8.8', 'X-Instance-ID-Signature': 'signed', 'X-Instance-ID': 'the_id', 'X-Tenant-ID': 'tenant_id' }, body=body )] )",55,54
openstack%2Foctavia~master~Ife93834654385430d6a333d3d6ee67b719b6c37e,openstack/octavia,master,Ife93834654385430d6a333d3d6ee67b719b6c37e,Fix a unit test for new octavia-lib,MERGED,2019-07-30 20:52:38.000000000,2019-08-06 15:18:57.000000000,2019-08-06 15:18:57.000000000,"[{'_account_id': 6469}, {'_account_id': 6547}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 20:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/21f4f6b850154fd1a90c2f91f7daabd98612745d', 'message': 'Fix a unit test for new octavia-lib\n\nA patch[1] introduced a startup check for the socket paths that\nimpacted a unit test checking debtcollector is finding the new\noctavia-lib location of the DriverLibrary.\nThis patch correctly mocks out this check for this unit test.\n\n[1] https://review.opendev.org/#/c/665027/\n\nChange-Id: Ife93834654385430d6a333d3d6ee67b719b6c37e\n'}, {'number': 2, 'created': '2019-08-02 00:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd4a8b9261de635cb4f6da6cc377330a5be2ca39', 'message': 'Fix a unit test for new octavia-lib\n\nA patch[1] introduced a startup check for the socket paths that\nimpacted a unit test checking debtcollector is finding the new\noctavia-lib location of the DriverLibrary.\nThis patch correctly mocks out this check for this unit test.\n\n[1] https://review.opendev.org/#/c/665027/\n\nChange-Id: Ife93834654385430d6a333d3d6ee67b719b6c37e\n'}, {'number': 3, 'created': '2019-08-03 13:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/179f9558c9cc40d02acc0f7ea64c3625523b3edc', 'message': 'Fix a unit test for new octavia-lib\n\nA patch[1] introduced a startup check for the socket paths that\nimpacted a unit test checking debtcollector is finding the new\noctavia-lib location of the DriverLibrary.\nThis patch correctly mocks out this check for this unit test.\n\n[1] https://review.opendev.org/#/c/665027/\n\nChange-Id: Ife93834654385430d6a333d3d6ee67b719b6c37e\n'}, {'number': 4, 'created': '2019-08-03 14:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c58ef30d291f679ea2aac0b4f24cf1afe48f82eb', 'message': 'Fix a unit test for new octavia-lib\n\nA patch[1] introduced a startup check for the socket paths that\nimpacted a unit test checking debtcollector is finding the new\noctavia-lib location of the DriverLibrary.\nThis patch correctly mocks out this check for this unit test.\n\n[1] https://review.opendev.org/#/c/665027/\n\nChange-Id: Ife93834654385430d6a333d3d6ee67b719b6c37e\n'}, {'number': 5, 'created': '2019-08-03 14:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fb5d7d1120e3d92b5a52f53fcac9e0c30f3b0ddc', 'message': 'Fix a unit test for new octavia-lib\n\nA patch[1] introduced a startup check for the socket paths that\nimpacted a unit test checking debtcollector is finding the new\noctavia-lib location of the DriverLibrary.\nThis patch correctly mocks out this check for this unit test.\n\n[1] https://review.opendev.org/#/c/665027/\n\nChange-Id: Ife93834654385430d6a333d3d6ee67b719b6c37e\n'}, {'number': 6, 'created': '2019-08-05 15:27:57.000000000', 'files': ['octavia/tests/unit/api/drivers/test_driver_lib.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b32064cdf2d5c70140a84e2497931941c4ee6887', 'message': 'Fix a unit test for new octavia-lib\n\nA patch[1] introduced a startup check for the socket paths that\nimpacted a unit test checking debtcollector is finding the new\noctavia-lib location of the DriverLibrary.\nThis patch correctly mocks out this check for this unit test.\n\n[1] https://review.opendev.org/#/c/665027/\n\nChange-Id: Ife93834654385430d6a333d3d6ee67b719b6c37e\n'}]",0,673687,b32064cdf2d5c70140a84e2497931941c4ee6887,31,4,6,11628,,,0,"Fix a unit test for new octavia-lib

A patch[1] introduced a startup check for the socket paths that
impacted a unit test checking debtcollector is finding the new
octavia-lib location of the DriverLibrary.
This patch correctly mocks out this check for this unit test.

[1] https://review.opendev.org/#/c/665027/

Change-Id: Ife93834654385430d6a333d3d6ee67b719b6c37e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/673687/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/unit/api/drivers/test_driver_lib.py'],1,21f4f6b850154fd1a90c2f91f7daabd98612745d,lib-get,"import mock @mock.patch('octavia_lib.api.drivers.driver_lib.DriverLibrary.' '_check_for_socket_ready') def test_driver_lib_exists(self, mock_ready):", def test_driver_lib_exists(self):,5,1
openstack%2Fpython-tripleoclient~master~Ie6f06361ed15bab4d24536a9da88e9c92097771e,openstack/python-tripleoclient,master,Ie6f06361ed15bab4d24536a9da88e9c92097771e,Use logger module instead print.,MERGED,2019-08-02 15:05:30.000000000,2019-08-06 15:18:31.000000000,2019-08-06 15:18:31.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-08-02 15:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/239565f2279f7378fbb59370b9e9c9e5969d4982', 'message': ""Use logger module instead print.\n\nUse logger module instead print when it's necessary like to display a\nwarning message. Fix also a pep8 error in the workflows base file.\n\nChange-Id: Ie6f06361ed15bab4d24536a9da88e9c92097771e\nCloses-Bug: #1713539\n""}, {'number': 2, 'created': '2019-08-03 09:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9bc5604c995339a1dddff0ab52d58a1006ce390c', 'message': ""Use logger module instead print.\n\nUse logger module instead print when it's necessary like to display a\nwarning message. Fix also a pep8 error in the workflows base file.\n\nChange-Id: Ie6f06361ed15bab4d24536a9da88e9c92097771e\nCloses-Bug: #1713539\n""}, {'number': 3, 'created': '2019-08-03 09:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e111c3a45d48d8d823da9ca3f64810b9dbd53737', 'message': ""Use logger module instead print.\n\nUse logger module instead print when it's necessary like to display a\nwarning message. Fix also a pep8 error in the workflows base file.\n\nChange-Id: Ie6f06361ed15bab4d24536a9da88e9c92097771e\nCloses-Bug: #1713539\n""}, {'number': 4, 'created': '2019-08-05 09:51:40.000000000', 'files': ['tripleoclient/workflows/base.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6b920419caaec25cb7cf71c7b00636ddea82938', 'message': ""Use logger module instead print.\n\nUse logger module instead print when it's necessary like to display a\nwarning message. Fix also a pep8 error in the workflows base file.\n\nChange-Id: Ie6f06361ed15bab4d24536a9da88e9c92097771e\nCloses-Bug: #1713539\n""}]",1,674327,a6b920419caaec25cb7cf71c7b00636ddea82938,28,7,4,29222,,,0,"Use logger module instead print.

Use logger module instead print when it's necessary like to display a
warning message. Fix also a pep8 error in the workflows base file.

Change-Id: Ie6f06361ed15bab4d24536a9da88e9c92097771e
Closes-Bug: #1713539
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/674327/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/base.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/workflows/parameters.py']",3,239565f2279f7378fbb59370b9e9c9e5969d4982,,"import loggingLOG = logging.getLogger(__name__) deprecated_join = ', '.join( ['{param}'.format(param=param) for param in deprecated_params]) LOG.warning( 'WARNING: Following parameter(s) are deprecated and still ' 'defined. Deprecated parameters will be removed soon!' ' {deprecated_join}'.format( deprecated_join=deprecated_join)) unused_join = ', '.join( ['{param}'.format(param=param) for param in unused_params]) LOG.warning( 'WARNING: Following parameter(s) are defined but not used ' 'currently not used.' ' {unused_join}'.format(unused_join=unused_join)) invalid_join = ', '.join( ['{param}'.format( param) for param in invalid_role_specific_params]) LOG.warning( 'WARNING: Following parameter(s) are not supported as ' 'role-specific inputs. {invalid_join}'.join( invalid_join=invalid_join))", print('WARNING: Following parameter(s) are deprecated and still ' 'defined. Deprecated parameters will be removed soon!') print('\n'.join([' {}'.format(param) for param in deprecated_params])) print('WARNING: Following parameter(s) are defined but not used ' 'currently not used.') print('\n'.join([' {}'.format(param) for param in unused_params])) print('WARNING: Following parameter(s) are not supported as ' 'role-specific inputs.') print('\n'.join([' {}'.format(param) for param in invalid_role_specific_params])),39,47
openstack%2Fpuppet-pacemaker~stable%2F0.7.x~If5baef83c739c7ccdbe346c75401f232ab092d20,openstack/puppet-pacemaker,stable/0.7.x,If5baef83c739c7ccdbe346c75401f232ab092d20,Scale up logic with extra IP addresses for pcs 0.10,MERGED,2019-07-19 13:03:52.000000000,2019-08-06 14:54:46.000000000,2019-08-06 14:54:46.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-07-19 13:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/d7e869fd30eba8309e35343f9d7e98e527d81c77', 'message': 'Scale up logic with extra IP addresses for pcs 0.10\n\nNowadays we can provide IP addresses when adding a host into a\npacemaker cluster. The pcmk_cluster_setup function for initial setup\nof the cluster has this already implemented, but it was still missing\nfrom the pcmk_nodes_added function and the scale-up logic. Support for\nscaling up with pcs 0.10 and the explicitly provided IP addresses is\nbeing added in this commit.\n\nChange-Id: If5baef83c739c7ccdbe346c75401f232ab092d20\nCloses-Bug: #1835217\nRelated-Bug: #1831690\n(cherry picked from commit d0b394d8f64d779c4866386f11f2c4c48f299ce5)\n'}, {'number': 2, 'created': '2019-07-26 11:08:28.000000000', 'files': ['lib/puppet/parser/functions/pcmk_nodes_added.rb', 'manifests/corosync.pp', 'spec/functions/pcmk_nodes_added_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/107e02f0b21131fcf3b42ec59c271fbd80f37b0f', 'message': 'Scale up logic with extra IP addresses for pcs 0.10\n\nNowadays we can provide IP addresses when adding a host into a\npacemaker cluster. The pcmk_cluster_setup function for initial setup\nof the cluster has this already implemented, but it was still missing\nfrom the pcmk_nodes_added function and the scale-up logic. Support for\nscaling up with pcs 0.10 and the explicitly provided IP addresses is\nbeing added in this commit.\n\nChange-Id: If5baef83c739c7ccdbe346c75401f232ab092d20\nCloses-Bug: #1835217\nRelated-Bug: #1831690\n(cherry picked from commit d0b394d8f64d779c4866386f11f2c4c48f299ce5)\n'}]",0,671718,107e02f0b21131fcf3b42ec59c271fbd80f37b0f,28,13,2,11090,,,0,"Scale up logic with extra IP addresses for pcs 0.10

Nowadays we can provide IP addresses when adding a host into a
pacemaker cluster. The pcmk_cluster_setup function for initial setup
of the cluster has this already implemented, but it was still missing
from the pcmk_nodes_added function and the scale-up logic. Support for
scaling up with pcs 0.10 and the explicitly provided IP addresses is
being added in this commit.

Change-Id: If5baef83c739c7ccdbe346c75401f232ab092d20
Closes-Bug: #1835217
Related-Bug: #1831690
(cherry picked from commit d0b394d8f64d779c4866386f11f2c4c48f299ce5)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/18/671718/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/parser/functions/pcmk_nodes_added.rb', 'manifests/corosync.pp', 'spec/functions/pcmk_nodes_added_spec.rb']",3,d7e869fd30eba8309e35343f9d7e98e527d81c77,pcs-010-node-add-stable/0.7.x,"shared_examples_for 'pcmk_nodes_added without addrs' do |pcs_version| is_expected.to run.with_params('foo', [], pcs_version, '').and_return([]) is_expected.to run.with_params('foo bar', [], pcs_version, '').and_return([]) is_expected.to run.with_params('', [], pcs_version, '').and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2', [], pcs_version, crm_out).and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2 ctr-3', [], pcs_version, crm_out).and_return(['ctr-3']) is_expected.to run.with_params('ctr-1 ctr-3 ctr-2', [], pcs_version, crm_out).and_return(['ctr-3']) is_expected.to run.with_params('', [], pcs_version, crm_out).and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2', [], pcs_version, crm_out).and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2 ctr-3', [], pcs_version, crm_out).and_return(['ctr-3']) is_expected.to run.with_params('ctr-1 ctr-3 ctr-2', [], pcs_version, crm_out).and_return(['ctr-3']) is_expected.to run.with_params('', [], pcs_version, crm_out).and_return([]) end end describe 'pcmk_nodes_added' do context 'interface' do it { is_expected.not_to eq(nil) } it { is_expected.to run.with_params(1).and_raise_error(Puppet::Error, /Got unsupported nodes input data/) } it { is_expected.to run.with_params('foo', 'bar').and_raise_error(Puppet::Error, /Got unsupported addr_list input data/) } it { is_expected.to run.with_params('foo bar', ['1.2.3.4']).and_raise_error(Puppet::Error, /should be of the same size/) } it { is_expected.to run.with_params('foo', [], '0.9', []).and_raise_error(Puppet::Error, /Got unsupported crm_node_list/) } end context 'with pcs 0.9' do include_examples 'pcmk_nodes_added without addrs', '0.9' end context 'with pcs 0.10, without addr list' do include_examples 'pcmk_nodes_added without addrs', '0.10' end context 'with pcs 0.10 and addr list' do let (:pcs_version) { '0.10' } let (:nodes_1) { 'ctr-0' } let (:nodes_2) { 'ctr-0 ctr-1' } let (:nodes_3) { 'ctr-0 ctr-1 ctr-2' } let (:nodes_4) { 'ctr-0 ctr-1 ctr-2 ctr-3' } let (:nodes_4_alt) { 'ctr-3 ctr-0 ctr-2 ctr-1' } let (:addrs_1) { ['1.2.3.4'] } let (:addrs_2) { ['1.2.3.4', ['1.2.3.5', '1.2.3.6']] } let (:addrs_3) { ['1.2.3.4', ['1.2.3.5', '1.2.3.6'], '1.2.3.7'] } let (:addrs_4) { ['1.2.3.4', ['1.2.3.5', '1.2.3.6'], '1.2.3.7', ['1.2.3.8', '1.2.3.9']] } let (:addrs_4_alt) { ['1.2.3.8', '1.2.3.4', '1.2.3.7', ['1.2.3.5', '1.2.3.6']] } it 'returns no added nodes because cluster is not set up' do is_expected.to run.with_params(nodes_1, addrs_1, pcs_version, '').and_return([]) is_expected.to run.with_params(nodes_2, addrs_2, pcs_version, '').and_return([]) is_expected.to run.with_params('', [], pcs_version, '').and_return([]) end it 'returns added nodes when cluster is fully up' do crm_out = ""\n3 ctr-2 member\n2 ctr-1 member\n1 ctr-0 member\n"" is_expected.to run.with_params(nodes_3, addrs_3, pcs_version, crm_out).and_return([]) is_expected.to run.with_params(nodes_4, addrs_4, pcs_version, crm_out).and_return(['ctr-3 addr=1.2.3.8 addr=1.2.3.9']) is_expected.to run.with_params(nodes_4_alt, addrs_4_alt, pcs_version, crm_out).and_return(['ctr-3 addr=1.2.3.8']) is_expected.to run.with_params('', [], pcs_version, crm_out).and_return([]) end it 'returns multiple added nodes' do crm_out = ""\n1 ctr-0 member\n"" is_expected.to run.with_params(nodes_4, addrs_4, pcs_version, crm_out).and_return(['ctr-1 addr=1.2.3.5 addr=1.2.3.6', 'ctr-2 addr=1.2.3.7', 'ctr-3 addr=1.2.3.8 addr=1.2.3.9']) end it 'returns added nodes when cluster is not fully up' do crm_out = ""\n3 ctr-2 lost\n2 ctr-1 member\n1 ctr-0 member\n"" is_expected.to run.with_params(nodes_3, addrs_3, pcs_version, crm_out).and_return([]) is_expected.to run.with_params(nodes_4, addrs_4, pcs_version, crm_out).and_return(['ctr-3 addr=1.2.3.8 addr=1.2.3.9']) is_expected.to run.with_params('', [], pcs_version, crm_out).and_return([]) end","describe 'pcmk_nodes_added' do context 'interface' do it { is_expected.not_to eq(nil) } it { is_expected.to run.with_params(1).and_raise_error(Puppet::Error, /Got unsupported nodes input data/) } it { is_expected.to run.with_params('foo', []).and_raise_error(Puppet::Error, /Got unsupported crm_node_list/) } end is_expected.to run.with_params('foo', '').and_return([]) is_expected.to run.with_params('foo bar', '').and_return([]) is_expected.to run.with_params('', '').and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2', crm_out).and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2 ctr-3', crm_out).and_return(['ctr-3']) is_expected.to run.with_params('ctr-1 ctr-3 ctr-2', crm_out).and_return(['ctr-3']) is_expected.to run.with_params('', crm_out).and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2', crm_out).and_return([]) is_expected.to run.with_params('ctr-0 ctr-1 ctr-2 ctr-3', crm_out).and_return(['ctr-3']) is_expected.to run.with_params('ctr-1 ctr-3 ctr-2', crm_out).and_return(['ctr-3']) is_expected.to run.with_params('', crm_out).and_return([])",136,31
openstack%2Ftripleo-common~master~Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10,openstack/tripleo-common,master,Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10,Add ceph-ansible support to tripleo-ansible-inventory,MERGED,2019-06-06 01:34:47.000000000,2019-08-06 14:52:22.000000000,2019-06-11 18:21:38.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-06 01:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eda89bdddeec757b96b51ee2ababca26944298cc', 'message': 'Add ceph-ansible support to tripleo-ansible-inventory\n\nThe tripleo-ansible-inventory command produces an inventory\nwhich works with TripleO but not with ceph-ansible. TripleO\nceph-ansible integration then creates its own inventory for\nthe ceph-ansible playbook run. This patch makes generating\na separate inventory for ceph-ansible no longer necessary.\n\nTripleO services already map to the same inventory groups\nused by ceph-ansible, e.g. ceph_clients:clients, ceph_mons:\nmons, ceph_osds:osds, etc. This patch maps the names of the\nTripleO inventory Ceph groups to the names of the inventory\ngroups used by ceph-ansible and creates a duplicate group\nentry in the inventory, but with the names that ceph-ansible\nexpects.\n\nChange-Id: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\n'}, {'number': 2, 'created': '2019-06-06 02:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/45bfa4bdb9a1088c066307704b605f2b8d58b867', 'message': 'Add ceph-ansible support to tripleo-ansible-inventory\n\nThe tripleo-ansible-inventory command produces an inventory\nwhich works with TripleO but not with ceph-ansible. TripleO\nceph-ansible integration then creates its own inventory for\nthe ceph-ansible playbook run. This patch makes generating\na separate inventory for ceph-ansible no longer necessary.\n\nTripleO services already map to the same inventory groups\nused by ceph-ansible, e.g. ceph_clients:clients, ceph_mons:\nmons, ceph_osds:osds, etc. This patch maps the names of the\nTripleO inventory Ceph groups to the names of the inventory\ngroups used by ceph-ansible and creates a duplicate group\nentry in the inventory, but with the names that ceph-ansible\nexpects.\n\nChange-Id: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\n'}, {'number': 3, 'created': '2019-06-10 14:14:27.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f48630791f5051b97afba1365d8f5defb797951', 'message': 'Add ceph-ansible support to tripleo-ansible-inventory\n\nThe tripleo-ansible-inventory command produces an inventory\nwhich works with TripleO but not with ceph-ansible. TripleO\nceph-ansible integration then creates its own inventory for\nthe ceph-ansible playbook run. This patch makes generating\na separate inventory for ceph-ansible no longer necessary.\n\nTripleO services already map to the same inventory groups\nused by ceph-ansible, e.g. ceph_clients:clients, ceph_mons:\nmons, ceph_osds:osds, etc. This patch maps the names of the\nTripleO inventory Ceph groups to the names of the inventory\ngroups used by ceph-ansible and creates a duplicate group\nentry in the inventory, but with the names that ceph-ansible\nexpects.\n\nChange-Id: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10\n'}]",7,663466,3f48630791f5051b97afba1365d8f5defb797951,28,9,3,18002,,,0,"Add ceph-ansible support to tripleo-ansible-inventory

The tripleo-ansible-inventory command produces an inventory
which works with TripleO but not with ceph-ansible. TripleO
ceph-ansible integration then creates its own inventory for
the ceph-ansible playbook run. This patch makes generating
a separate inventory for ceph-ansible no longer necessary.

TripleO services already map to the same inventory groups
used by ceph-ansible, e.g. ceph_clients:clients, ceph_mons:
mons, ceph_osds:osds, etc. This patch maps the names of the
TripleO inventory Ceph groups to the names of the inventory
groups used by ceph-ansible and creates a duplicate group
entry in the inventory, but with the names that ceph-ansible
expects.

Change-Id: Ie9880d7b6702b3c5f0e407e4ffe6f297912a1d10
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/663466/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,eda89bdddeec757b96b51ee2ababca26944298cc,ceph-ansible-inventory," ""tripleo_packages"", ""ceph_client"" 'Compute': ['sd', 'se', 'ceph_client'], 'ceph_client': ['Compute'], 'ceph_client': { 'children': ['Compute'], 'vars': { 'ansible_ssh_user': 'heat-admin'}}, 'Undercloud': { 'ceph_client': {'children': {'Compute': {}}, 'vars': {'ansible_ssh_user': 'heat-admin'}}, 'clients': {'children': {'Compute': {}}, 'vars': {'ansible_ssh_user': 'heat-admin'}},"," ""tripleo_packages"" 'Compute': ['sd', 'se'], 'Undercloud': {",34,3
openstack%2Fkolla-cli~master~Iee3394453be0e16daf7ea3486e951ce758da3b66,openstack/kolla-cli,master,Iee3394453be0e16daf7ea3486e951ce758da3b66,Update kolla command to kolla-cli action command,MERGED,2019-08-06 13:01:30.000000000,2019-08-06 14:43:15.000000000,2019-08-06 14:43:15.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-08-06 13:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/da05c344fe73f649c5bd282f4469ef1ca0ab372a', 'message': 'Update kolla command to kolla-cli action command\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 2, 'created': '2019-08-06 13:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/5c4ae0a253f1ebfb062a6276bbcdaeeeded914db', 'message': 'Update kolla command to kolla-cli action command\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 3, 'created': '2019-08-06 13:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/dff0c23354da3b292701a6a03771745e4f4474c0', 'message': 'Update kolla command to kolla-cli action command\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 4, 'created': '2019-08-06 13:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ebb6fa4c7eb6e7df31c5a9cc30225e51e3ece2b9', 'message': 'Update kolla command to kolla-cli action command\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 5, 'created': '2019-08-06 13:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a402e8fa52fd2535f275ef49a8fa113a0e48c4c1', 'message': 'Update kolla command to kolla-cli action command\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 6, 'created': '2019-08-06 13:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d32e51a604c7748658d67f6179b5df379f01ebde', 'message': 'Update kolla command to kolla-cli action command\n\nto keep the kolla-ansile action by alphabet\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 7, 'created': '2019-08-06 13:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/bdf8bea29972097d965dea94e0746517ced69d25', 'message': 'Update kolla command to kolla-cli action command\n\nto keep the kolla-ansile action by alphabet\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 8, 'created': '2019-08-06 13:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/c0a7845a2effead70e38b4e161881dd3aa53502e', 'message': 'Update kolla command to kolla-cli action command\n\nto keep the kolla-ansile action by alphabet\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}, {'number': 9, 'created': '2019-08-06 14:07:35.000000000', 'files': ['kolla_cli/tests/unit/test_deploy_cmd.py', 'kolla_cli/tests/functional/test_deploy.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ce489ad25251b0bdc145f126b5a9dd0d978e5af2', 'message': 'Update kolla command to kolla-cli action command\n\nto keep the kolla-ansile action by alphabet\n\nChange-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66\n'}]",2,674806,ce489ad25251b0bdc145f126b5a9dd0d978e5af2,21,3,9,30356,,,0,"Update kolla command to kolla-cli action command

to keep the kolla-ansile action by alphabet

Change-Id: Iee3394453be0e16daf7ea3486e951ce758da3b66
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/06/674806/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/index.rst', 'kolla_cli/tests/unit/test_deploy_cmd.py', 'releasenotes/Makefile', 'source/index.rst', 'Makefile', 'releasenotes/notes/slug-goes-here-d8018f13662395de.yaml', 'source/conf.py', 'kolla_cli/tests/functional/test_deploy.py', 'setup.cfg', 'releasenotes/conf.py', 'releasenotes/make.bat']",11,da05c344fe73f649c5bd282f4469ef1ca0ab372a,,"@ECHO OFF pushd %~dp0 REM Command file for Sphinx documentation if ""%SPHINXBUILD%"" == """" ( set SPHINXBUILD=sphinx-build ) set SOURCEDIR=. set BUILDDIR=_build if ""%1"" == """" goto help %SPHINXBUILD% >NUL 2>NUL if errorlevel 9009 ( echo. echo.The 'sphinx-build' command was not found. Make sure you have Sphinx echo.installed, then set the SPHINXBUILD environment variable to point echo.to the full path of the 'sphinx-build' executable. Alternatively you echo.may add the Sphinx directory to PATH. echo. echo.If you don't have Sphinx installed, grab it from echo.http://sphinx-doc.org/ exit /b 1 ) %SPHINXBUILD% -M %1 %SOURCEDIR% %BUILDDIR% %SPHINXOPTS% goto end :help %SPHINXBUILD% -M help %SOURCEDIR% %BUILDDIR% %SPHINXOPTS% :end popd ",,532,9
openstack%2Fpuppet-openstack-integration~master~Iaf70c646f29a326d39471e562c61d553121fa3ff,openstack/puppet-openstack-integration,master,Iaf70c646f29a326d39471e562c61d553121fa3ff,Start nova services after keystone endpoints are created,MERGED,2019-08-06 08:22:44.000000000,2019-08-06 14:23:58.000000000,2019-08-06 14:23:57.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-06 08:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/15d93bef9cf1b3e5165e13a7e143b794fe4e3c85', 'message': ""Start nova-conductor after keystone endpoints are created\n\nnova-conductor needs to discover placement service when it starts so\nlet's make sure endopints are discoverable before starting the nova\nconductor service.\n\nChange-Id: Iaf70c646f29a326d39471e562c61d553121fa3ff\n""}, {'number': 2, 'created': '2019-08-06 10:56:22.000000000', 'files': ['manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d22e2f1e81a99c950fcfcd5a9dd6de8e3abedbd0', 'message': ""Start nova services after keystone endpoints are created\n\nnova conductor and scheduler need to discover placement service when it\nstarts so let's make sure endopints are discoverable before starting the nova\nconductor and scheduler services.\n\nChange-Id: Iaf70c646f29a326d39471e562c61d553121fa3ff\n""}]",1,674753,d22e2f1e81a99c950fcfcd5a9dd6de8e3abedbd0,12,6,2,16312,,,0,"Start nova services after keystone endpoints are created

nova conductor and scheduler need to discover placement service when it
starts so let's make sure endopints are discoverable before starting the nova
conductor and scheduler services.

Change-Id: Iaf70c646f29a326d39471e562c61d553121fa3ff
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/53/674753/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/nova.pp'],1,15d93bef9cf1b3e5165e13a7e143b794fe4e3c85,, Keystone_endpoint <||> -> Service['nova-conductor'] Keystone_service <||> -> Service['nova-conductor'],,3,0
openstack%2Ffreezer-api~master~I111561b6081306ef5069140a6d00252ee04c7efb,openstack/freezer-api,master,I111561b6081306ef5069140a6d00252ee04c7efb,Update api-ref location,MERGED,2019-07-30 07:39:42.000000000,2019-08-06 14:19:01.000000000,2019-08-06 14:19:01.000000000,"[{'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-30 07:39:42.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c119b995e1ab90cdd97be59b24f109139e7911e4', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I111561b6081306ef5069140a6d00252ee04c7efb\n""}]",0,673419,c119b995e1ab90cdd97be59b24f109139e7911e4,8,13,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I111561b6081306ef5069140a6d00252ee04c7efb
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/19/673419/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c119b995e1ab90cdd97be59b24f109139e7911e4,retire-api-site,- `Backup API Reference <https://docs.openstack.org/api-ref/backup/>`__,- `Backup API Reference <https://developer.openstack.org/api-ref/backup/>`__,1,1
openstack%2Fheat-dashboard~master~I1ed230aa424a6f18d8b92440617447e038d546e7,openstack/heat-dashboard,master,I1ed230aa424a6f18d8b92440617447e038d546e7,Imported Translations from Zanata,MERGED,2019-08-06 10:46:43.000000000,2019-08-06 14:15:23.000000000,2019-08-06 14:15:22.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-06 10:46:43.000000000', 'files': ['heat_dashboard/locale/ru/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'heat_dashboard/locale/ru/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/06e39a1b26d66837ddde5ca1688a0675d08b38bb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1ed230aa424a6f18d8b92440617447e038d546e7\n'}]",0,674773,06e39a1b26d66837ddde5ca1688a0675d08b38bb,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1ed230aa424a6f18d8b92440617447e038d546e7
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/73/674773/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_dashboard/locale/ru/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'heat_dashboard/locale/ru/LC_MESSAGES/django.po']",3,06e39a1b26d66837ddde5ca1688a0675d08b38bb,zanata/translations,"""POT-Creation-Date: 2019-08-05 13:28+0000\n""""PO-Revision-Date: 2019-08-05 09:50+0000\n""msgid """" ""A template is used to automate the deployment of infrastructure, services, "" ""and applications."" msgstr """" ""Шаблон используется для автоматизации развёртывания инфраструктуры, сервисов "" ""и приложений."" msgid ""Clear Canvas"" msgstr ""Очистить поле"" msgid ""Create a new stack with the provided values."" msgstr ""Создать новый стек с предоставленными параметрами."" msgid ""Description:"" msgstr ""Описание:"" msgid ""Export Draft"" msgstr ""Экспортировать черновик"" msgid ""ID"" msgstr ""ID"" msgid ""Import Draft"" msgstr ""Импортировать черновик"" msgid ""Load Draft"" msgstr ""Загрузить черновик"" msgid ""Manage Drafts"" msgstr ""Управление черновиками"" msgid ""Name"" msgstr ""Имя"" msgid """" ""Please drag and drop resource icons into center canvas to define resource "" ""for template."" msgstr """" ""Пожалуйста, перетащите мышкой иконки ресурсов в центр поля, чтобы задать "" ""ресурсы для шаблона."" msgid ""Referenced Files"" msgstr ""Связанные файлы"" msgid ""Save Draft"" msgstr ""Сохранить черновик"" msgid ""Stack updating timeout in minutes."" msgstr ""Таймаут обновления стека в минутах."" msgid ""Template Version"" msgstr ""Версия шаблона"" msgstr ""raw содержимое файла среды. ""msgid ""Updating Timeout (minutes)"" msgstr ""Обновление таймаута (в минутах)"" msgid """" ""Use one of the available template source options to specify the template to "" ""be used in changing this stack."" msgstr """" ""Используйте одну из доступных опций источника шаблона для выбора шаблона, "" ""который будет использоваться при изменении этого стека."" ","""POT-Creation-Date: 2019-08-05 05:22+0000\n""""PO-Revision-Date: 2019-08-05 09:10+0000\n""msgstr ""raw содержание файла среды. """,275,6
openstack%2Ftripleo-heat-templates~master~Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a,openstack/tripleo-heat-templates,master,Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a,deploy-steps.j2: cleanup .yaml extension for deployment files,ABANDONED,2019-06-25 12:07:16.000000000,2019-08-06 14:14:59.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-25 12:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4878a8c30f3d43ade375275b4ec49c192aced0e1', 'message': 'deploy-steps.j2: cleanup .yaml extension for deployment files\n\nSince I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can\nnow remove the extentions in the deployment files which are generated\nper role.\n\nblueprint reduce-deployment-resources\n\nChange-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a\n'}, {'number': 2, 'created': '2019-06-25 12:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99d049c27895543460b03d79383d187f37fa3a48', 'message': 'deploy-steps.j2: cleanup .yaml extension for deployment files\n\nSince I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can\nnow remove the extentions in the deployment files which are generated\nper role.\n\nblueprint reduce-deployment-resources\nCloses-Bug: #1834041\nChange-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a\n'}, {'number': 3, 'created': '2019-06-26 13:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57b3f1ffa096584f3a2e670e895bfa532c5d4aeb', 'message': 'deploy-steps.j2: cleanup .yaml extension for deployment files\n\nSince I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can\nnow remove the extentions in the deployment files which are generated\nper role.\n\nblueprint reduce-deployment-resources\nCloses-Bug: #1834041\nChange-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a\n'}, {'number': 4, 'created': '2019-06-28 12:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/589aa9c7545f87e87661619671e29fb0768363b6', 'message': 'deploy-steps.j2: cleanup .yaml extension for deployment files\n\nSince I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can\nnow remove the extentions in the deployment files which are generated\nper role.\n\nblueprint reduce-deployment-resources\nCloses-Bug: #1834041\nChange-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a\n'}, {'number': 5, 'created': '2019-07-02 12:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4106b5460a5d6e0dbdae0095c13fe7604076563f', 'message': 'deploy-steps.j2: cleanup .yaml extension for deployment files\n\nSince I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can\nnow remove the extentions in the deployment files which are generated\nper role.\n\nblueprint reduce-deployment-resources\nCloses-Bug: #1834041\nChange-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a\n'}, {'number': 6, 'created': '2019-08-02 12:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff204466d8deff71a074cd1d9cd55fd7674bf56e', 'message': 'deploy-steps.j2: cleanup .yaml extension for deployment files\n\nSince I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can\nnow remove the extentions in the deployment files which are generated\nper role.\n\nblueprint reduce-deployment-resources\nCloses-Bug: #1834041\nChange-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a\n'}, {'number': 7, 'created': '2019-08-02 12:10:05.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9748eec9b91e5b8b65ac3e317b4a8bbb2c62958c', 'message': 'deploy-steps.j2: cleanup .yaml extension for deployment files\n\nSince I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can\nnow remove the extentions in the deployment files which are generated\nper role.\n\nblueprint reduce-deployment-resources\nCloses-Bug: #1834041\nChange-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a\n'}]",0,667344,9748eec9b91e5b8b65ac3e317b4a8bbb2c62958c,25,7,7,3153,,,0,"deploy-steps.j2: cleanup .yaml extension for deployment files

Since I0b3188ef45dc379f83c36561616b422418845b66 has been merged, we can
now remove the extentions in the deployment files which are generated
per role.

blueprint reduce-deployment-resources
Closes-Bug: #1834041
Change-Id: Ibcf6d7e8513281b8e4c245d7331f2ad2cb35472a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/667344/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,4878a8c30f3d43ade375275b4ec49c192aced0e1,bug/1834041, {{role.name}}/all-nodes-deployment-hieradata.j2: {get_param: {{role.name}}AllNodesDeploymentHieradata} {{role.name}}/deployment-hieradata.j2: {get_param: {{role.name}}DeploymentHieradata} {{role.name}}/deployment-hierarchy: {get_param: {{role.name}}DeploymentHierarchy} {{role.name}}/per-host-hieradata.j2: {get_param: {{role.name}}PerHostHieradata}," # TODO (slagle): temporarily write the path with a .yaml extension until # https://review.opendev.org/#/c/663736 merges. Once merged, this can be # removed. {{role.name}}/all-nodes-deployment-hieradata.j2.yaml: {get_param: {{role.name}}AllNodesDeploymentHieradata} {{role.name}}/deployment-hieradata.j2.yaml: {get_param: {{role.name}}DeploymentHieradata} {{role.name}}/deployment-hierarchy.yaml: {get_param: {{role.name}}DeploymentHierarchy} {{role.name}}/per-host-hieradata.j2.yaml: {get_param: {{role.name}}PerHostHieradata}",4,7
openstack%2Fbarbican~master~I41d024ca6e282140d7986aa4403b175c3c986311,openstack/barbican,master,I41d024ca6e282140d7986aa4403b175c3c986311,Imported Translations from Zanata,MERGED,2019-05-14 06:52:23.000000000,2019-08-06 14:07:09.000000000,2019-08-06 14:07:08.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-05-14 06:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0b5695f8bbf7843835e310c2a7f6691282e613ce', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I41d024ca6e282140d7986aa4403b175c3c986311\n'}, {'number': 2, 'created': '2019-05-15 16:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fe9673649552da55291406135daae9d5f4dddfc1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I41d024ca6e282140d7986aa4403b175c3c986311\n'}, {'number': 3, 'created': '2019-05-17 09:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1178bbf6f169c6ee6f0da652c5962542f7fabdc9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I41d024ca6e282140d7986aa4403b175c3c986311\n'}, {'number': 4, 'created': '2019-08-06 08:45:40.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2c72ed8ee29e8d8b9f1e666d9983e7559da21d45', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I41d024ca6e282140d7986aa4403b175c3c986311\n'}]",0,658970,2c72ed8ee29e8d8b9f1e666d9983e7559da21d45,24,4,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I41d024ca6e282140d7986aa4403b175c3c986311
",git fetch https://review.opendev.org/openstack/barbican refs/changes/70/658970/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,0b5695f8bbf7843835e310c2a7f6691282e613ce,zanata/translations,"""POT-Creation-Date: 2019-05-13 21:30+0000\n""""PO-Revision-Date: 2018-11-14 05:34+0000\n""msgid """" ""Added two new subcommands to `barbican-manage hsm` that can query the HSM to "" ""check if a MKEK or HMAC key with the given label already exists. See "" ""`barbican-manage hsm check_mkek --help` and `barbican-manage hsm check_hmac "" ""--help` for details."" msgstr """" ""Added two new subcommands to `barbican-manage hsm` that can query the HSM to "" ""check if a MKEK or HMAC key with the given label already exists. See "" ""`barbican-manage hsm check_mkek --help` and `barbican-manage hsm check_hmac "" ""--help` for details."" msgid """" ""Port existing policy RuleDefault objects to the newer, more verbose "" ""DocumentedRuleDefaults."" msgstr """" ""Port existing policy RuleDefault objects to the newer, more verbose "" ""DocumentedRuleDefaults."" ","""POT-Creation-Date: 2019-04-12 15:01+0000\n""""PO-Revision-Date: 2018-09-12 09:02+0000\n""msgid ""7.0.0-11"" msgstr ""7.0.0-11"" ",20,5
openstack%2Fkolla-ansible~master~I22bef72dcd8fc8bcd391ae30e4643520250fd556,openstack/kolla-ansible,master,I22bef72dcd8fc8bcd391ae30e4643520250fd556,Support mon and osd to be named with hostname,MERGED,2019-04-22 10:20:48.000000000,2019-08-06 13:59:08.000000000,2019-08-06 13:59:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 24250}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-04-22 10:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79f97550900950e837c9db6d1188f995fa61239d', 'message': 'Support mon and osd to be named with hostname\n\nIn the current deployment of ceph, the node name of osd and the name\nof mon are both IP, and other daemons use hostname.\n\nThis commit adds support for naming mon and osd nodes using hostname,\nand does not change the default ip-named way.\n\nChange-Id: I22bef72dcd8fc8bcd391ae30e4643520250fd556\n'}, {'number': 2, 'created': '2019-06-27 02:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f971e6cda9e69be272fee0ef2e00380d67dab2d', 'message': 'Support mon and osd to be named with hostname\n\nIn the current deployment of ceph, the node name of osd and the name\nof mon are both IP, and other daemons use hostname.\n\nThis commit adds support for naming mon and osd nodes using hostname,\nand does not change the default ip-named way.\n\nChange-Id: I22bef72dcd8fc8bcd391ae30e4643520250fd556\n'}, {'number': 3, 'created': '2019-07-02 06:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45ce99f05a30d0729f9fe90bbce9d80892ec96ba', 'message': 'Support mon and osd to be named with hostname\n\nIn the current deployment of ceph, the node name of osd and the name\nof mon are both IP, and other daemons use hostname.\n\nThis commit adds support for naming mon and osd nodes using hostname,\nand does not change the default ip-named way.\n\nChange-Id: I22bef72dcd8fc8bcd391ae30e4643520250fd556\n'}, {'number': 4, 'created': '2019-07-04 07:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41c3a0b0dddb468c55705235b30df6fce187d500', 'message': 'Support mon and osd to be named with hostname\n\nIn the current deployment of ceph, the node name of osd and the name\nof mon are both IP, and other daemons use hostname.\n\nThis commit adds support for naming mon and osd nodes using hostname,\nand does not change the default ip-named way.\n\nChange-Id: I22bef72dcd8fc8bcd391ae30e4643520250fd556\n'}, {'number': 5, 'created': '2019-08-05 08:54:01.000000000', 'files': ['ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/ceph/tasks/start_mons.yml', 'ansible/roles/ceph/templates/ceph-osd.json.j2', 'ansible/roles/ceph/tasks/generate_cluster.yml', 'ansible/roles/ceph/templates/ceph-mgr.json.j2', 'ansible/roles/ceph/tasks/start_mdss.yml', 'ansible/roles/ceph/tasks/start_mgrs.yml', 'ansible/roles/ceph/templates/ceph.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/ceph/templates/ceph-mon.json.j2', 'ansible/roles/ceph/templates/ceph-mds.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd519db139347faaff2b0037c00785d507a1fa02', 'message': 'Support mon and osd to be named with hostname\n\nIn the current deployment of ceph, the node name of osd and the name\nof mon are both IP, and other daemons use hostname.\n\nThis commit adds support for naming mon and osd nodes using hostname,\nand does not change the default ip-named way.\n\nChange-Id: I22bef72dcd8fc8bcd391ae30e4643520250fd556\n'}]",29,654417,cd519db139347faaff2b0037c00785d507a1fa02,43,7,5,24250,,,0,"Support mon and osd to be named with hostname

In the current deployment of ceph, the node name of osd and the name
of mon are both IP, and other daemons use hostname.

This commit adds support for naming mon and osd nodes using hostname,
and does not change the default ip-named way.

Change-Id: I22bef72dcd8fc8bcd391ae30e4643520250fd556
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/654417/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/ceph/tasks/start_mons.yml', 'ansible/roles/ceph/templates/ceph.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/ceph/tasks/generate_cluster.yml', 'ansible/roles/ceph/templates/ceph-mon.json.j2']",6,79f97550900950e837c9db6d1188f995fa61239d,feature/support-mon-hostname,"{%- if ceph_mon_host_type != 'HOSTNAME' %}{%- else %} ""command"": ""/usr/bin/ceph-mon -f {% if ceph_debug %}-d{% endif %} -i {{ inventory_hostname }} --public-addr {{ hostvars[inventory_hostname]['ansible_' + storage_interface]['ipv4']['address'] }}:6789"", {%- endif %}",,23,4
openstack%2Fkolla-ansible~master~I1cf0ad10b80552f503898e723f0c4bd00a38f143,openstack/kolla-ansible,master,I1cf0ad10b80552f503898e723f0c4bd00a38f143,ceph: fixes to deployment and upgrade,MERGED,2019-07-28 09:52:34.000000000,2019-08-06 13:59:06.000000000,2019-08-06 13:59:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-28 09:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac1dc0ac0e9112d7a8d872377ab18e5c3ef129c9', 'message': 'ceph-nfs: Fix ganesha-nfs to only use v4\n\nv4 is recommended and v3 requires portmapper\n(aka rpcbind) which we do not handle well\n(and do not want to).\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-07-28 11:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79c352af0e281b85b90c9c25b33dc7c2401fb23d', 'message': 'ceph-nfs: Fix ganesha-nfs to only use v4\n\nv4 is recommended and v3 requires portmapper\n(aka rpcbind) which we do not handle well\n(and do not want to).\n\nDepends-On: https://review.opendev.org/673006\nDepends-On: https://review.opendev.org/673167\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-07-28 12:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49dd7c432dbeba7b2209253c6712962e2d82363a', 'message': 'WIP: ceph-nfs: Fix ganesha-nfs to only use v4\n\nv4 is recommended and v3 requires portmapper\n(aka rpcbind) which we do not handle well\n(and do not want to).\n\nincludes TMP changes to failure check to wait for fails\n\nDepends-On: https://review.opendev.org/673006\nDepends-On: https://review.opendev.org/673167\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-07-28 15:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/755343abf327731cb89e31268edbe96bbc08819d', 'message': 'ceph-nfs: Fix ganesha-nfs to only use v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us,\nsee [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 5, 'created': '2019-07-28 15:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3dce324220a99480e379bb4c3711e92ea0959118', 'message': 'ceph-nfs: Fix ganesha-nfs to use only v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us,\nsee [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 6, 'created': '2019-07-28 16:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/117848b5446261375a8d5960c556e70cf3dd6fb4', 'message': 'ceph-nfs: Fix ganesha-nfs to use only v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us,\nsee [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\nNot exporting host dbus because not required.\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 7, 'created': '2019-07-29 07:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ffea81e9618d07bc0bf6b21bb1334bde3fbc6702', 'message': 'ceph-nfs: Fix ganesha-nfs to use only v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us,\nsee [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\nNot exporting host dbus because not required.\n\nTMP: DEBUG to check the odd upgrade cases\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 8, 'created': '2019-07-29 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ee9bb061835be83ef4e40492dfd620d8daf4e45', 'message': 'ceph-nfs: Fix ganesha-nfs to use only v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us,\nsee [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\nNot exporting host dbus because not required.\n\nTMP: DEBUG to check the odd upgrade cases\nTMP: extend upgrade with deployment step (should not be necessary but the nfs distribution is conditional...)\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 9, 'created': '2019-07-29 14:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9cc23454b1de3aa97514e66b0b24e9b4e77fab05', 'message': 'ceph-nfs: Fix ganesha-nfs to use only v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us,\nsee [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\nNot exporting host dbus because not required.\n\nTMP: DEBUG to check the odd upgrade cases\nTMP: check when stein does its full deployment (probably faulty because unfixed)\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nDepends-On: https://review.opendev.org/673302\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 10, 'created': '2019-07-29 18:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7eed2c58b86257d4c970427d73a90f08047872f', 'message': 'ceph-nfs: Fix ganesha-nfs to use only v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us,\nsee [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\nNot exporting host dbus because not required.\n\nTMP: DEBUG to check the odd upgrade cases\nTMP: upgrade and deploy are revamped\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 11, 'created': '2019-07-30 09:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9910d245706b5b773092b75c915c1494f1d738a', 'message': 'ceph-nfs: Fix ganesha-nfs to use only v4 and TCP\n\nv4 is recommended upstream.\nAlso, v3 and UDP require portmapper (aka rpcbind)\nwhich we do not want (except where Ubuntu forces it on us\nby requiring enabled UDP, see [1]).\n\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\nNot exporting host dbus because not required.\n\nTMP: DEBUG to check the odd upgrade cases\nTMP: upgrade and deploy are revamped\nTMP: re-bootstrap on upgrade (to ensure Ubuntu rpcbind is installed)\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673006\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 12, 'created': '2019-07-30 11:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab3a601a072645e78d7e7993e91db6e7ba5ab515', 'message': 'ceph: Fix issues with ganesha-nfs\n\n1) Use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind)\nwhich we do not want, except where Ubuntu version\nforces it by requiring enabled UDP, see [1].\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) Do not export host dbus\nIt is not in use.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade does deploy now as it is meant to be idempotent.\nThe order has been corrected - nfs should go after mds.\nAdditionally upgrade now takes care of rgw for keystone (swift).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nThis also adds a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 13, 'created': '2019-07-31 12:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/daa6890af0fcec38ae39e76b65dff22d61ce3e53', 'message': 'DNM: ceph: Fix issues with ganesha-nfs\n\nDNM: temporary change\n\n1) Use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind)\nwhich we do not want, except where Ubuntu version\nforces it by requiring enabled UDP, see [1].\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) Do not export host dbus\nIt is not in use.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade does deploy now as it is meant to be idempotent.\nThe order has been corrected - nfs should go after mds.\nAdditionally upgrade now takes care of rgw for keystone (swift).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nThis also adds a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 14, 'created': '2019-08-01 06:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c04592de539028db9faa4ed849305a8b29c63a79', 'message': 'DNM: ceph: Fix issues with ganesha-nfs\n\nDNM: temporary change\nDNM: broken module on purpose to see the first error\n\n1) Use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind)\nwhich we do not want, except where Ubuntu version\nforces it by requiring enabled UDP, see [1].\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) Do not export host dbus\nIt is not in use.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade does deploy now as it is meant to be idempotent.\nThe order has been corrected - nfs should go after mds.\nAdditionally upgrade now takes care of rgw for keystone (swift).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nThis also adds a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 15, 'created': '2019-08-01 08:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4029fd0afef8fbc2e305d652390aebd82f24371', 'message': 'DNM: ceph: Fix issues with ganesha-nfs\n\nDNM: temporary changes in place\n\n1) Use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind)\nwhich we do not want, except where Ubuntu version\nforces it by requiring enabled UDP, see [1].\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) Do not export host dbus\nIt is not in use.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade does deploy now as it is meant to be idempotent.\nThe order has been corrected - nfs should go after mds.\nAdditionally upgrade now takes care of rgw for keystone (swift).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nThis also adds a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Ceph keyring module is enhanced\nNow it does not blindly try to create a keyring after\nany failure hiding the real issue.\n\n6) Ceph admin keyring update is retried until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) CI post ceph status collection guarded against failed cluster\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 16, 'created': '2019-08-01 09:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b0c7d9e1f46ad5b2f0e9e9abc4f4eb079bc3a85', 'message': 'DNM: ceph: Fix issues with ganesha-nfs\n\nDNM: temporary changes in place\n\n1) Use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind)\nwhich we do not want, except where Ubuntu version\nforces it by requiring enabled UDP, see [1].\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) Do not export host dbus\nIt is not in use.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade does deploy now as it is meant to be idempotent.\nThe order has been corrected - nfs should go after mds.\nAdditionally upgrade now takes care of rgw for keystone (swift).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nThis also adds a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Ceph keyring module is enhanced\nNow it does not blindly try to create a keyring after\nany failure hiding the real issue.\n\n6) Ceph admin keyring update is retried until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) CI post ceph status collection guarded against failed cluster\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 17, 'created': '2019-08-01 10:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/869173dc951c8e1f678d1c0e1254e503b0f92c9a', 'message': 'DNM: ceph: Fix issues with ganesha-nfs\n\nDNM: temporary changes in place\n\n1) Use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind)\nwhich we do not want, except where Ubuntu version\nforces it by requiring enabled UDP, see [1].\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) Do not export host dbus\nIt is not in use.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade does deploy now as it is meant to be idempotent.\nThe order has been corrected - nfs should go after mds.\nAdditionally upgrade now takes care of rgw for keystone (swift).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nThis also adds a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Ceph keyring module is enhanced\nNow it does not blindly try to create a keyring after\nany failure hiding the real issue.\n\n6) Ceph admin keyring update is retried until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) CI post ceph status collection guarded against failed cluster\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 18, 'created': '2019-08-01 11:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a1bfeb178ff8d41ad734183fe594ddf2b6dd4fb', 'message': 'DNM: ceph: Fix issues with ganesha-nfs\n\nDNM: temporary changes in place\n\n1) Use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind)\nwhich we do not want, except where Ubuntu version\nforces it by requiring enabled UDP, see [1].\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) Do not export host dbus\nIt is not in use.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade does deploy now as it is meant to be idempotent.\nThe order has been corrected - nfs should go after mds.\nAdditionally upgrade now takes care of rgw for keystone (swift).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nThis also adds a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Ceph keyring module is enhanced\nNow it does not blindly try to create a keyring after\nany failure hiding the real issue.\n\n6) Ceph admin keyring update is retried until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) CI post ceph status collection guarded against failed cluster\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 19, 'created': '2019-08-01 16:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28a9b8a573ec80b622d93c3e1ea0bb989b695a0b', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nAdded a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n6) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 20, 'created': '2019-08-01 17:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba04dd8307ccd548b9c877732349839d4e3a2c46', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nAdded a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n6) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n8) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 21, 'created': '2019-08-02 06:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c42cd35e96d3c0adf2ed4244f5ba0165206bf18', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nAdded a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n6) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n8) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 22, 'created': '2019-08-02 15:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6e26d8f49f4878cd466e0bbbf6b2f21db23fd3a', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Re-bootstrap on upgrade\nTo ensure Ubuntu rpcbind is installed.\nAdded a note to docs which allows us to\nenhance our bootstrapping procedure between releases.\n\n5) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n6) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n7) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n8) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673302\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 23, 'created': '2019-08-03 08:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e6b55969dca6acdd1a828f2b066e9a016955ae6', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n5) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n6) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n7) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/673302\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 24, 'created': '2019-08-03 08:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7125eb59c1ec6a4ff18e873fe7a8981b45dfea8e', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n5) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n6) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n7) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nDepends-On: https://review.opendev.org/674443\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 25, 'created': '2019-08-05 06:26:29.000000000', 'files': ['tests/get_logs.sh', 'ansible/roles/ceph/tasks/start_nfss.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/roles/ceph/templates/ganesha.conf.j2', 'ansible/library/kolla_ceph_keyring.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/826f6850d06afbbad95727bdf6cf53fb986b7cf8', 'message': 'ceph: fixes to deployment and upgrade\n\n1) ceph-nfs (ganesha-ceph) - use NFSv4 only\nThis is recommended upstream.\nv3 and UDP require portmapper (aka rpcbind) which we\ndo not want, except where Ubuntu ganesha version (2.6)\nforces it by requiring enabled UDP, see [1].\nThe issue has been fixed in 2.8, included in CentOS.\nAdditionally disable v3 helper protocols and kerberos\nto avoid meaningless warnings.\n\n2) ceph-nfs (ganesha-ceph) - do not export host dbus\nIt is not in use. This avoids the temptation to try\nhandling it on host.\n\n3) Properly handle ceph services deploy and upgrade\nUpgrade runs deploy.\nThe order has been corrected - nfs goes after mds.\nAdditionally upgrade takes care of rgw for keystone\n(for swift emulation).\n\n4) Enhance ceph keyring module with error detection\nNow it does not blindly try to create a keyring after\nany failure. This used to hide real issue.\n\n5) Retry ceph admin keyring update until cluster works\nReordering deployment caused issue with ceph cluster not being\nfully operational before taking actions on it.\n\n6) CI: Remove osd df from collected logs as it may hang CI\nHangs are caused by healthy MON and no healthy MGR.\nA descriptive note is left in its place.\n\n7) CI: Add 5s timeout to ceph informational commands\nThis decreases the timeout from the default 300s.\n\n[1] https://review.opendev.org/669315\n\nChange-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",9,673165,826f6850d06afbbad95727bdf6cf53fb986b7cf8,93,5,25,30491,,,0,"ceph: fixes to deployment and upgrade

1) ceph-nfs (ganesha-ceph) - use NFSv4 only
This is recommended upstream.
v3 and UDP require portmapper (aka rpcbind) which we
do not want, except where Ubuntu ganesha version (2.6)
forces it by requiring enabled UDP, see [1].
The issue has been fixed in 2.8, included in CentOS.
Additionally disable v3 helper protocols and kerberos
to avoid meaningless warnings.

2) ceph-nfs (ganesha-ceph) - do not export host dbus
It is not in use. This avoids the temptation to try
handling it on host.

3) Properly handle ceph services deploy and upgrade
Upgrade runs deploy.
The order has been corrected - nfs goes after mds.
Additionally upgrade takes care of rgw for keystone
(for swift emulation).

4) Enhance ceph keyring module with error detection
Now it does not blindly try to create a keyring after
any failure. This used to hide real issue.

5) Retry ceph admin keyring update until cluster works
Reordering deployment caused issue with ceph cluster not being
fully operational before taking actions on it.

6) CI: Remove osd df from collected logs as it may hang CI
Hangs are caused by healthy MON and no healthy MGR.
A descriptive note is left in its place.

7) CI: Add 5s timeout to ceph informational commands
This decreases the timeout from the default 300s.

[1] https://review.opendev.org/669315

Change-Id: I1cf0ad10b80552f503898e723f0c4bd00a38f143
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/673165/6 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/templates/ganesha.conf.j2'],1,ac1dc0ac0e9112d7a8d872377ab18e5c3ef129c9,fix-ceph-very-much,NFS_CORE_PARAM { Protocols = 4; } ,,5,0
openstack%2Fnova~master~Ibd4a02b63bab668b07a46ca9836fc9492f5acb8e,openstack/nova,master,Ibd4a02b63bab668b07a46ca9836fc9492f5acb8e,Add context param to get_available_resource,NEW,2019-08-01 19:14:22.000000000,2019-08-06 13:51:23.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-01 19:14:22.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py', 'nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/zvm/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/zvm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac37c77cfcd151acecef82bbb0de13a505bc4be6', 'message': ""Add context param to get_available_resource\n\nPer [1], periodic tasks should be reusing the service's RequestContext\nrather than creating a new one via get_[admin_]context(). Since\nget_available_resource is called from periodic, and a context is needed\nfrom within that method for the LibvirtDriver [2],\nget_available_resource needs a way of accessing that context.\n\nSo this commit adds a `context` param to the\nComputeDriver.get_available_resource signature and all its overrides.\n\nA subsequent patch will percolate the context down to where it's needed\nin LibvirtDriver so we can get rid of the get_admin_context() there.\n\nAnd a patch after that will enact a test fixture to poison future\nattempts to create new contexts from within periodics.\n\n[1] https://review.opendev.org/#/c/524306/\n[2] https://opendev.org/openstack/nova/src/commit/877a78a63b13dc6599aed7c152b26b25501a52e8/nova/virt/libvirt/driver.py#L8738\n\nChange-Id: Ibd4a02b63bab668b07a46ca9836fc9492f5acb8e\n""}]",2,674112,ac37c77cfcd151acecef82bbb0de13a505bc4be6,12,11,1,14070,,,0,"Add context param to get_available_resource

Per [1], periodic tasks should be reusing the service's RequestContext
rather than creating a new one via get_[admin_]context(). Since
get_available_resource is called from periodic, and a context is needed
from within that method for the LibvirtDriver [2],
get_available_resource needs a way of accessing that context.

So this commit adds a `context` param to the
ComputeDriver.get_available_resource signature and all its overrides.

A subsequent patch will percolate the context down to where it's needed
in LibvirtDriver so we can get rid of the get_admin_context() there.

And a patch after that will enact a test fixture to poison future
attempts to create new contexts from within periodics.

[1] https://review.opendev.org/#/c/524306/
[2] https://opendev.org/openstack/nova/src/commit/877a78a63b13dc6599aed7c152b26b25501a52e8/nova/virt/libvirt/driver.py#L8738

Change-Id: Ibd4a02b63bab668b07a46ca9836fc9492f5acb8e
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/674112/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py', 'nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/zvm/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/compute/resource_tracker.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/zvm/test_driver.py']",20,ac37c77cfcd151acecef82bbb0de13a505bc4be6,," results = self._driver.get_available_resource('ctx', None)", results = self._driver.get_available_resource(),39,29
openstack%2Fmetalsmith~master~I1da92c8ba3af2923d4ac8e16b787a9cdfc92fe4e,openstack/metalsmith,master,I1da92c8ba3af2923d4ac8e16b787a9cdfc92fe4e,Remove deprecations from 0.13,MERGED,2019-08-02 12:25:10.000000000,2019-08-06 13:41:03.000000000,2019-08-06 13:41:02.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 12:25:10.000000000', 'files': ['metalsmith/__init__.py', 'metalsmith/instance_config.py', 'releasenotes/notes/deprecations-14-4292eaa456564782.yaml', 'metalsmith/test/test_instance_config.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/70acccc489a36e89c8b3cc4252a0a55092fd31d9', 'message': 'Remove deprecations from 0.13\n\nChange-Id: I1da92c8ba3af2923d4ac8e16b787a9cdfc92fe4e\n'}]",0,674292,70acccc489a36e89c8b3cc4252a0a55092fd31d9,10,2,1,10239,,,0,"Remove deprecations from 0.13

Change-Id: I1da92c8ba3af2923d4ac8e16b787a9cdfc92fe4e
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/92/674292/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/__init__.py', 'metalsmith/instance_config.py', 'releasenotes/notes/deprecations-14-4292eaa456564782.yaml', 'metalsmith/test/test_instance_config.py']",4,70acccc489a36e89c8b3cc4252a0a55092fd31d9,deprecations," result = config.generate(self.node, hostname) self.assertEqual(expected_m, result['meta_data']) user_data = result['user_data']","from openstack.baremetal import configdriveimport metalsmith with mock.patch.object(configdrive, 'build', autospec=True) as mb: result = config.build_configdrive(self.node, hostname) mb.assert_called_once_with(expected_m, mock.ANY) self.assertIs(result, mb.return_value) user_data = mb.call_args[1].get('user_data') user_data = user_data.decode('utf-8') class TestDeprecatedInstanceConfig(TestCloudInitConfig): CLASS = metalsmith.InstanceConfig",11,50
openstack%2Fheat-dashboard~master~I3c9b6e806a5a219fbd6580e5d8a201b8bdf10913,openstack/heat-dashboard,master,I3c9b6e806a5a219fbd6580e5d8a201b8bdf10913,Changes the data field used to populate the E.N. select,NEW,2019-02-25 14:28:12.000000000,2019-08-06 13:34:07.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 12404}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26546}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-02-25 14:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/0e4a5a804d9a13bef4dee9b264c6d87ad0770ac6', 'message': 'Changes the data field used to populate the E.N. select\n\nNetworks are split into two lists (floating_networks and networks)\nserver side based on the value of the ""router:external"" field. This\npatch switches which group is used to populate the External Network\nselect to the one actually housing external networks.\n\nChange-Id: I3c9b6e806a5a219fbd6580e5d8a201b8bdf10913\nStory: 2005084\nTask: 29668\n'}, {'number': 2, 'created': '2019-02-26 07:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/19e675702fbb4ab5c877d02d1ecec96861ab2b62', 'message': 'Changes the data field used to populate the E.N. select\n\nNetworks are split into two lists (floating_networks and networks)\nserver side based on the value of the ""router:external"" field. This\npatch switches which group is used to populate the External Network\nselect to the one actually housing external networks.\n\nChange-Id: I3c9b6e806a5a219fbd6580e5d8a201b8bdf10913\nStory: 2005084\nTask: 29668\n'}, {'number': 3, 'created': '2019-05-29 05:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/f173c3a93fa9a245cfe27109956cbe03c11f28c8', 'message': 'Changes the data field used to populate the E.N. select\n\nNetworks are split into two lists (floating_networks and networks)\nserver side based on the value of the ""router:external"" field. This\npatch switches which group is used to populate the External Network\nselect to the one actually housing external networks.\n\nChange-Id: I3c9b6e806a5a219fbd6580e5d8a201b8bdf10913\nStory: 2005084\nTask: 29668\n'}, {'number': 4, 'created': '2019-08-06 12:50:25.000000000', 'files': ['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__neutron__router/os__neutron__router.spec.js', 'heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__neutron__router/os__neutron__router.js'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/6a6aef59eb84333f2eb0a7ff5c7af28d6f875540', 'message': 'Changes the data field used to populate the E.N. select\n\nNetworks are split into two lists (floating_networks and networks)\nserver side based on the value of the ""router:external"" field. This\npatch switches which group is used to populate the External Network\nselect to the one actually housing external networks.\n\nChange-Id: I3c9b6e806a5a219fbd6580e5d8a201b8bdf10913\nStory: 2005084\nTask: 29668\n'}]",3,639105,6a6aef59eb84333f2eb0a7ff5c7af28d6f875540,17,9,4,26546,,,0,"Changes the data field used to populate the E.N. select

Networks are split into two lists (floating_networks and networks)
server side based on the value of the ""router:external"" field. This
patch switches which group is used to populate the External Network
select to the one actually housing external networks.

Change-Id: I3c9b6e806a5a219fbd6580e5d8a201b8bdf10913
Story: 2005084
Task: 29668
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/05/639105/4 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/static/dashboard/project/heat_dashboard/template_generator/js/resources/os__neutron__router/os__neutron__router.js'],1,0e4a5a804d9a13bef4dee9b264c6d87ad0770ac6,devel-TG-external-networks, return $scope.options.floating_networks.concat(resource_networks); } return $scope.options.floating_networks;, return $scope.options.networks.concat(resource_networks); } return $scope.options.networks;,2,2
openstack%2Fcookbook-openstack-compute~stable%2Fqueens~Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b,openstack/cookbook-openstack-compute,stable/queens,Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b,placement_api: create valid apache config before installing package,MERGED,2019-08-02 12:00:33.000000000,2019-08-06 13:05:14.000000000,2019-08-06 13:05:14.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 12:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/475ddd6936a562e319d4b0c1e0296222b96d0eea', 'message': 'placement_api: create valid apache config before installing package\n\nIf apache is (re)starting while the chef-client installs the\nnova-placement-api package, it may pick up the vanilla apache2 conf file\nbefore chef-client gets around to fixing it which may result in apache2\nfailing due to a non-working configuration.\n\nThis changeset eliminates the race by creating a valid configuration\nbefore installing the software. The solution is based on the assumption\nthat no reasonably configured package manager will overwrite an\nexisting, user-created configuration file.\n\nbackport: queens\n\nChange-Id: Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b\n(cherry picked from commit ff074af903390c07e07514df7ffc00a6bfc1475e)\n'}, {'number': 2, 'created': '2019-08-02 21:40:22.000000000', 'files': ['recipes/placement_api.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/33aa18a008d0f35cd628edc3dceaf2a17712fb52', 'message': 'placement_api: create valid apache config before installing package\n\nIf apache is (re)starting while the chef-client installs the\nnova-placement-api package, it may pick up the vanilla apache2 conf file\nbefore chef-client gets around to fixing it which may result in apache2\nfailing due to a non-working configuration.\n\nThis changeset eliminates the race by creating a valid configuration\nbefore installing the software. The solution is based on the assumption\nthat no reasonably configured package manager will overwrite an\nexisting, user-created configuration file.\n\nbackport: queens\n\nChange-Id: Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b\n(cherry picked from commit ff074af903390c07e07514df7ffc00a6bfc1475e)\n'}]",0,674283,33aa18a008d0f35cd628edc3dceaf2a17712fb52,9,3,2,11109,,,0,"placement_api: create valid apache config before installing package

If apache is (re)starting while the chef-client installs the
nova-placement-api package, it may pick up the vanilla apache2 conf file
before chef-client gets around to fixing it which may result in apache2
failing due to a non-working configuration.

This changeset eliminates the race by creating a valid configuration
before installing the software. The solution is based on the assumption
that no reasonably configured package manager will overwrite an
existing, user-created configuration file.

backport: queens

Change-Id: Id9f1d165411fc5b3cc73b29a36840cf4dc63d81b
(cherry picked from commit ff074af903390c07e07514df7ffc00a6bfc1475e)
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/83/674283/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/placement_api.rb', 'metadata.rb']",2,475ddd6936a562e319d4b0c1e0296222b96d0eea,disable_vanilla_placement_queens,version '17.1.0',version '17.0.1',27,26
openstack%2Fneutron-fwaas-dashboard~master~I02c57c1f57708c608cd14962088df68e4f6a2bf6,openstack/neutron-fwaas-dashboard,master,I02c57c1f57708c608cd14962088df68e4f6a2bf6,Imported Translations from Zanata,MERGED,2019-07-05 08:40:07.000000000,2019-08-06 12:53:10.000000000,2019-08-06 12:53:09.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-05 08:40:07.000000000', 'files': ['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/cdededdd664c6eb7c272ea1fd8384c8a1414ee12', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I02c57c1f57708c608cd14962088df68e4f6a2bf6\n'}]",0,669294,cdededdd664c6eb7c272ea1fd8384c8a1414ee12,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I02c57c1f57708c608cd14962088df68e4f6a2bf6
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/94/669294/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'],1,cdededdd664c6eb7c272ea1fd8384c8a1414ee12,zanata/translations,"# Robert Simai <robert.simai@suse.com>, 2019. #zanata""POT-Creation-Date: 2019-05-11 06:37+0000\n""""PO-Revision-Date: 2019-07-04 11:58+0000\n""msgid """" ""\""Add Router\"" and \""Remove Router\"" operations are now controlled by "" ""``update_firewall`` rule in the policy.json file. Previously they were "" ""controlled by ``get_firewall`` rule and non-existing rules like "" ""``add_router`` and ``remove_router``. If operators define their custom "" ""policy rules for ``add_router`` and ``remove_router``, such policy rules "" ""need to updated accordingly. [`bug 1703952 <https://bugs.launchpad.net/"" ""neutron-fwaas-dashboard/+bug/1703952>`__]"" msgstr """" ""Die \""Router hinzufügen\"" und \""Router Entfernen\"" Operationen werden jetzt "" ""durch die ``update_firewall`` Regel in der policy.json Datei gesteuert. "" ""Zuvor wurden sie durch die ``get_firewall`` Regel gesteuert, sowie durch "" ""nicht vorhandene Regeln wie ``add_router`` und ``remove_router``. Wenn "" ""Betreiber ihre eigenen Richtlinien für ``add_router`` und ``remove_router`` "" ""anlegen, müssen solche Richtlinienregeln entsprechend aktualisiert werden. "" ""[`bug 1703952 <https://bugs.launchpad.net/neutron-fwaas-dashboard/"" ""+bug/1703952>`__]"" msgid ""2.0.0"" msgstr ""2.0.0"" msgid """" ""FWaaS v1 support was dropped. FWaaS v1 has been deprecated in neutron-fwaas "" ""and was dropped in Stein release. Along with neutron-fwaas, neutron-fwaas-"" ""dashboard dropped its support."" msgstr """" ""FWaaS v1 Unterstützung beendet. FWaaS v1 wurde in neutron-fwaas obsolet und "" ""im Stein Release fallen gelassen. Zusammen mit neutron-fwaas hat auch "" ""neutron-fwaas-dashboard die Unterstützung aufgegeben."" msgid """" ""Handling a shared rule or policy is now controlled by the policy mechanism. "" ""Only admin users (by default) can set ``shared`` attribute when creating or "" ""updating a firewall rule or policy. The checkbox on ``shared`` attribute is "" ""now disabled if a user has no sufficient permission. [`bug 1699717 <https://"" ""bugs.launchpad.net/neutron-fwaas-dashboard/+bug/1699717>`__]"" msgstr """" ""Eine geteilte Regel oder Richtlinie wird jetzt über den "" ""Richtlinienmechanismus gesteuert. Nur Administratoren (Standard) können ein "" ""``shared`` Attribute setzen, wenn sie eine Firewall Regel oder Richtlinie "" ""erstellen oder aktualisieren. Die Checkbox für das ``shared`` Attribut ist "" ""inaktiv, wenn dem Benutzer entsprechende Rechte fehlen. [`bug 1699717 "" ""<https://bugs.launchpad.net/neutron-fwaas-dashboard/+bug/1699717>`__]"" ""separate package ``neutron-fwaas-dashboard``. You need to install ``neutron-"" ""fwaas-dashboard`` after upgrading the OpenStack Dashboard to Pike release "" ""and add ``enabled`` file for Neutron FWaaS dashboard. For detail "" ""information, see https://docs.openstack.org/neutron-fwaas-dashboard/latest/."" msgstr """" ""Neutron FWaaS Unterstützung im OpenStack Dashboard ist jetzt in ein "" ""separates Paket ``neutron-fwaas-dashboard`` ausgelagert. Sie müssen "" ""``neutron-fwaas-dashboard`` nach dem Upgrade des Dashboards zu Pike, und "" ""eine ``enabled`` Datei für das Neutron FWaaS Dashboard anlegen. Weitere "" ""Informationen finden Sie unter https://docs.openstack.org/neutron-fwaas-"" ""dashboard/latest/."" msgid """" ""Neutron FWaaS support in the OpenStack Dashboard is now split out into a "" msgid ""Stein Series Release Notes"" msgstr ""Stein Serie Releasenotes"" msgid ""Upgrade Notes"" msgstr ""Aktualisierungsnotizen""","""POT-Creation-Date: 2018-09-14 20:05+0000\n""""PO-Revision-Date: 2018-09-17 01:16+0000\n""",67,2
openstack%2Fdesignate~master~I945c51330dae39f6d7d8384412ed7dc63abd46c1,openstack/designate,master,I945c51330dae39f6d7d8384412ed7dc63abd46c1,Cleaned up mdns handler and added better test coverage,MERGED,2019-07-22 04:12:59.000000000,2019-08-06 12:42:39.000000000,2019-08-06 12:42:39.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 04:12:59.000000000', 'files': ['designate/mdns/handler.py', 'designate/tests/unit/mdns/test_handler.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5e0e4c194bf8ccb17e57c081e061ad580e6d800b', 'message': 'Cleaned up mdns handler and added better test coverage\n\n- Added additional tests.\n- Fixed minor bug with notify log line.\n- Re-factored handle_axfr.\n\nChange-Id: I945c51330dae39f6d7d8384412ed7dc63abd46c1\n'}]",0,671954,5e0e4c194bf8ccb17e57c081e061ad580e6d800b,7,3,1,22623,,,0,"Cleaned up mdns handler and added better test coverage

- Added additional tests.
- Fixed minor bug with notify log line.
- Re-factored handle_axfr.

Change-Id: I945c51330dae39f6d7d8384412ed7dc63abd46c1
",git fetch https://review.opendev.org/openstack/designate refs/changes/54/671954/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/mdns/handler.py', 'designate/tests/unit/mdns/test_handler.py']",2,5e0e4c194bf8ccb17e57c081e061ad580e6d800b,,"from oslo_config import cfg from oslo_config import fixture as cfg_fixturefrom designate.tests import fixtures CONF = cfg.CONF class MdnsHandleTest(oslotest.base.BaseTestCase): def setUp(self): super(MdnsHandleTest, self).setUp() self.stdlog = fixtures.StandardLogging() self.useFixture(self.stdlog) self.useFixture(cfg_fixture.Config(CONF)) self.context = mock.Mock() self.storage = mock.Mock() self.tg = mock.Mock() self.handler = handler.RequestHandler(self.storage, self.tg) @mock.patch.object(dns.resolver.Resolver, 'query') def test_notify(self, mock_query): self.storage.find_zone.return_value = objects.Zone( id='e2bed4dc-9d01-11e4-89d3-123b93f75cba', serial=2, masters=objects.ZoneMasterList.from_list([ {'host': '1.0.0.0', 'port': 53}, ]) ) mock_query.return_value = [ mock.Mock(serial=1) ] request = dns.message.make_query( 'www.example.org.', dns.rdatatype.SOA ) request.environ = dict(addr=['1.0.0.0'], context=self.context) response = self.handler._handle_notify(request) self.assertEqual(dns.rcode.NOERROR, tuple(response)[0].rcode()) self.assertIn( 'Scheduling AXFR for e2bed4dc-9d01-11e4-89d3-123b93f75cba ' 'from 1.0.0.0:53', self.stdlog.logger.output ) @mock.patch.object(dns.resolver.Resolver, 'query') def test_notify_same_serial(self, mock_query): self.storage.find_zone.return_value = objects.Zone( id='e2bed4dc-9d01-11e4-89d3-123b93f75cba', serial=1, masters=objects.ZoneMasterList.from_list([ {'host': '1.0.0.0', 'port': 53}, ]) ) mock_query.return_value = [ mock.Mock(serial=1) ] request = dns.message.make_query( 'www.example.org.', dns.rdatatype.SOA ) request.environ = dict(addr=['1.0.0.0'], context=self.context) response = self.handler._handle_notify(request) self.assertEqual(dns.rcode.NOERROR, tuple(response)[0].rcode()) self.assertIn( 'Serial 1 is the same for master and us for ' 'e2bed4dc-9d01-11e4-89d3-123b93f75cba', self.stdlog.logger.output ) def test_notify_no_questions(self): request = dns.message.make_query( 'www.example.org.', dns.rdatatype.SOA ) request.environ = dict(context=self.context) request.question = [] response = self.handler._handle_notify(request) self.assertEqual(dns.rcode.FORMERR, tuple(response)[0].rcode()) def test_notify_zone_not_found(self): self.storage.find_zone.side_effect = exceptions.ZoneNotFound request = dns.message.make_query( 'www.example.org.', dns.rdatatype.SOA ) request.environ = dict(context=self.context) response = self.handler._handle_notify(request) self.assertEqual(dns.rcode.NOTAUTH, tuple(response)[0].rcode()) def test_notify_no_master_addr(self): self.storage.find_zone.return_value = objects.Zone( masters=objects.ZoneMasterList.from_list([ {'host': '1.0.0.0', 'port': 53}, ]) ) request = dns.message.make_query( 'www.example.org.', dns.rdatatype.SOA ) request.environ = dict(addr=['127.0.0.1', 53], context=self.context) response = self.handler._handle_notify(request) self.assertEqual(dns.rcode.REFUSED, tuple(response)[0].rcode()) self.assertIn( 'NOTIFY for None from non-master server 127.0.0.1, refusing.', self.stdlog.logger.output ) def test_axfr_zone_not_found(self): self.storage.find_zone.side_effect = exceptions.ZoneNotFound request = dns.message.make_query( 'www.example.org.', dns.rdatatype.AXFR ) request.environ = dict(context=self.context) response = tuple(self.handler._handle_axfr(request)) self.assertEqual(dns.rcode.REFUSED, response[0].rcode()) self.assertIn( 'ZoneNotFound while handling axfr request. ' 'Question was www.example.org. IN AXFR', self.stdlog.logger.output ) def test_axfr_forbidden(self): self.storage.find_zone.side_effect = exceptions.Forbidden request = dns.message.make_query( 'www.example.org.', dns.rdatatype.AXFR ) request.environ = dict(context=self.context) response = tuple(self.handler._handle_axfr(request)) self.assertEqual(dns.rcode.REFUSED, response[0].rcode()) self.assertIn( 'Forbidden while handling axfr request. ' 'Question was www.example.org. IN AXFR', self.stdlog.logger.output ) def test_get_max_message_size(self): CONF.set_override('max_message_size', 32768, 'service:mdns') self.assertEqual( 32768, self.handler._get_max_message_size(had_tsig=False) ) def test_get_max_message_size_larger_than_allowed(self): CONF.set_override('max_message_size', 65535 * 2, 'service:mdns') self.assertEqual( 65535, self.handler._get_max_message_size(had_tsig=False) ) self.assertIn( 'MDNS max message size must not be greater than 65535', self.stdlog.logger.output ) def test_get_max_message_with_tsig(self): CONF.set_override('max_message_size', 65535, 'service:mdns') self.assertEqual( 65300, self.handler._get_max_message_size(had_tsig=True) )",,334,132
openstack%2Fdesignate~stable%2Frocky~I26d36c15406436bb3b733d44c490a14e5ece39a6,openstack/designate,stable/rocky,I26d36c15406436bb3b733d44c490a14e5ece39a6,Improve log message for better understanding,MERGED,2019-07-30 03:19:10.000000000,2019-08-06 12:39:58.000000000,2019-08-06 12:39:58.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-07-30 03:19:10.000000000', 'files': ['designate/manage/pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/eb6abf7dbd077fa539fab1de6c8532f1729dc725', 'message': 'Improve log message for better understanding\n\nSometimes designate central could not update the Pool configuration.\nVery limited information is logged into the designate central logs\nthrough which we can not find the root cause of failure.\nThis patch adds some more information into the log for better\nunderstanding.\n\nChange-Id: I26d36c15406436bb3b733d44c490a14e5ece39a6\nCloses-Bug: 1835407\n(cherry picked from commit e70af61dac1794ecd858c875c44d6b2ab0d59206)\n'}]",0,673394,eb6abf7dbd077fa539fab1de6c8532f1729dc725,9,3,1,28140,,,0,"Improve log message for better understanding

Sometimes designate central could not update the Pool configuration.
Very limited information is logged into the designate central logs
through which we can not find the root cause of failure.
This patch adds some more information into the log for better
understanding.

Change-Id: I26d36c15406436bb3b733d44c490a14e5ece39a6
Closes-Bug: 1835407
(cherry picked from commit e70af61dac1794ecd858c875c44d6b2ab0d59206)
",git fetch https://review.opendev.org/openstack/designate refs/changes/94/673394/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/manage/pool.py'],1,eb6abf7dbd077fa539fab1de6c8532f1729dc725,bug/1835407-stable/rocky," except Exception as e: msg = (""Bad ID Supplied for pool. pool_id: "" ""%(pool)s message: %(res)s"") LOG.critical(msg, {'pool': xpool['id'], 'res': e})"," except Exception: LOG.critical(""Bad ID Supplied for pool %s"", xpool['name'])",4,3
openstack%2Fdesignate~stable%2Fstein~I26d36c15406436bb3b733d44c490a14e5ece39a6,openstack/designate,stable/stein,I26d36c15406436bb3b733d44c490a14e5ece39a6,Improve log message for better understanding,MERGED,2019-07-30 03:18:55.000000000,2019-08-06 12:39:55.000000000,2019-08-06 12:39:55.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-07-30 03:18:55.000000000', 'files': ['designate/manage/pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/756dcbb4afe937d2de0df60b8ddf3219ebf2dc76', 'message': 'Improve log message for better understanding\n\nSometimes designate central could not update the Pool configuration.\nVery limited information is logged into the designate central logs\nthrough which we can not find the root cause of failure.\nThis patch adds some more information into the log for better\nunderstanding.\n\nChange-Id: I26d36c15406436bb3b733d44c490a14e5ece39a6\nCloses-Bug: 1835407\n(cherry picked from commit e70af61dac1794ecd858c875c44d6b2ab0d59206)\n'}]",0,673393,756dcbb4afe937d2de0df60b8ddf3219ebf2dc76,7,3,1,28140,,,0,"Improve log message for better understanding

Sometimes designate central could not update the Pool configuration.
Very limited information is logged into the designate central logs
through which we can not find the root cause of failure.
This patch adds some more information into the log for better
understanding.

Change-Id: I26d36c15406436bb3b733d44c490a14e5ece39a6
Closes-Bug: 1835407
(cherry picked from commit e70af61dac1794ecd858c875c44d6b2ab0d59206)
",git fetch https://review.opendev.org/openstack/designate refs/changes/93/673393/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/manage/pool.py'],1,756dcbb4afe937d2de0df60b8ddf3219ebf2dc76,bug/1835407-stable/stein," except Exception as e: msg = (""Bad ID Supplied for pool. pool_id: "" ""%(pool)s message: %(res)s"") LOG.critical(msg, {'pool': xpool['id'], 'res': e})"," except Exception: LOG.critical(""Bad ID Supplied for pool %s"", xpool['name'])",4,3
openstack%2Fkolla-ansible~stable%2Fstein~I10552e256edbddd5b1f8a8a7f8805262e72ce8d8,openstack/kolla-ansible,stable/stein,I10552e256edbddd5b1f8a8a7f8805262e72ce8d8,CI: fix checks for upgrade and multinode jobs,MERGED,2019-08-01 09:53:24.000000000,2019-08-06 12:36:19.000000000,2019-08-06 12:36:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-01 09:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9faca57180a582480eb12d2801c9ad403d4e499', 'message': 'CI: fix checks for upgrade and multinode jobs\n\nMultinode jobs did not run sanity checks for all the hosts,\nonly primary. Now they check all.\n\nAdditionally upgrades are now checked using the proper\n(pre-upgrade) scripts (not that it matters too much as they\nare the same atm) and both checks are done, not only failures,\nbut also config.\n\nChange-Id: I10552e256edbddd5b1f8a8a7f8805262e72ce8d8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 93ac16ae6bca01424fe2aebbacfb58cfa005c2ea)\n'}, {'number': 2, 'created': '2019-08-04 09:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/902a0cdd91e005ada3ed265c3538310f3ab817d2', 'message': 'CI: fix checks for upgrade and multinode jobs\n\nMultinode jobs did not run sanity checks for all the hosts,\nonly primary. Now they check all.\n\nAdditionally pre-upgrade both checks are done,\nnot only failures, but also config.\n\nAdapted for Stein due to Rocky being pre-""testing revolution"".\nStein still uses its own scripts to check pre-upgrade env\nas they are missing from Rocky.\n\nChange-Id: I10552e256edbddd5b1f8a8a7f8805262e72ce8d8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 93ac16ae6bca01424fe2aebbacfb58cfa005c2ea)\n'}, {'number': 3, 'created': '2019-08-05 08:51:01.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70b0ac3b96e62975bfb42affa8bb3ec1329124c5', 'message': 'CI: fix checks for upgrade and multinode jobs\n\nMultinode jobs did not run sanity checks for all the hosts,\nonly primary. Now they check all.\n\nAdditionally pre-upgrade both checks are done,\nnot only failures, but also config.\n\nAdapted for Stein due to Rocky being pre-""testing revolution"".\nStein still uses its own scripts to check pre-upgrade env\nas they are missing from Rocky.\n\nChange-Id: I10552e256edbddd5b1f8a8a7f8805262e72ce8d8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 93ac16ae6bca01424fe2aebbacfb58cfa005c2ea)\n'}]",0,673989,70b0ac3b96e62975bfb42affa8bb3ec1329124c5,18,5,3,30491,,,0,"CI: fix checks for upgrade and multinode jobs

Multinode jobs did not run sanity checks for all the hosts,
only primary. Now they check all.

Additionally pre-upgrade both checks are done,
not only failures, but also config.

Adapted for Stein due to Rocky being pre-""testing revolution"".
Stein still uses its own scripts to check pre-upgrade env
as they are missing from Rocky.

Change-Id: I10552e256edbddd5b1f8a8a7f8805262e72ce8d8
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 93ac16ae6bca01424fe2aebbacfb58cfa005c2ea)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/673989/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,c9faca57180a582480eb12d2801c9ad403d4e499,ci-fix-checks-stable/stein," tasks: # NOTE(yoctozepto): setting vars as facts for all to have them around in all the plays - set_fact: kolla_inventory_path: ""/etc/kolla/inventory"" logs_dir: ""/tmp/logs"" kolla_ansible_src_dir: ""{{ ansible_env.PWD }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" need_build_image: false build_image_tag: ""change_{{ zuul.change | default('none') }}"" is_upgrade: ""{{ 'upgrade' in scenario }}"" is_ceph: ""{{ 'ceph' in scenario }}"" # NOTE(yoctozepto): each host checks itself - hosts: all tasks: - name: Pre-upgrade sanity checks block: - name: Run pre-upgrade check-failure.sh script shell: cmd: tests/check-failure.sh - name: Run pre-upgrade check-config.sh script shell: cmd: tests/check-config.sh executable: /bin/bash chdir: ""{{ kolla_ansible_src_dir }}"" when: is_upgrade - hosts: primary tasks: # Upgrade: update config. - block:# NOTE(yoctozepto): each host checks itself - hosts: all tasks:"," vars: kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" is_ceph: ""{{ 'ceph' in scenario }}"" tasks: vars: kolla_inventory_path: ""/etc/kolla/inventory"" logs_dir: ""/tmp/logs"" kolla_ansible_src_dir: ""{{ ansible_env.PWD }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" need_build_image: false build_image_tag: ""change_{{ zuul.change | default('none') }}"" is_upgrade: ""{{ 'upgrade' in scenario }}"" is_ceph: ""{{ 'ceph' in scenario }}"" # Upgrade: update config. - block: - name: Run check-failure.sh script script: cmd: check-failure.sh",33,17
openstack%2Fnetworking-ovn~stable%2Fstein~If10016325517e4a1fc5f7cfac7f7bd58deb09b54,openstack/networking-ovn,stable/stein,If10016325517e4a1fc5f7cfac7f7bd58deb09b54,Add a new Event Handler for Octavia,MERGED,2019-07-25 07:20:29.000000000,2019-08-06 12:06:22.000000000,2019-08-06 12:06:22.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-25 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/47f16d48a387ccd1f94782751dba187dede049aa', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\n- Add network UUID to LRP external_ids\n\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n\nChange-Id: If10016325517e4a1fc5f7cfac7f7bd58deb09b54\nCloses-Bug: #1794260\n(cherry picked from commit aa4268a09470aea28f4a8c9f1062f32f057cb151)\n'}, {'number': 2, 'created': '2019-07-31 08:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/64fceff449bf783a0a0447bb2199675f38cb66c3', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\n- Add network UUID to LRP external_ids\n\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n\nChange-Id: If10016325517e4a1fc5f7cfac7f7bd58deb09b54\nCloses-Bug: #1794260\n(cherry picked from commit aa4268a09470aea28f4a8c9f1062f32f057cb151)\n'}, {'number': 3, 'created': '2019-07-31 08:34:18.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/common/constants.py', 'networking_ovn/octavia/ovn_driver.py', 'doc/source/contributor/design/loadbalancer.rst', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c5169327ec13e7fb02ee2346a70f8666c725ab2a', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\n- Add network UUID to LRP external_ids\n\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n\nChange-Id: If10016325517e4a1fc5f7cfac7f7bd58deb09b54\nCloses-Bug: #1794260\n(cherry picked from commit aa4268a09470aea28f4a8c9f1062f32f057cb151)\n'}]",0,672645,c5169327ec13e7fb02ee2346a70f8666c725ab2a,21,4,3,24791,,,0,"Add a new Event Handler for Octavia

This patch adds a new event handler for Octavia so that in
the event that a network is added to a router, the loadbalancer
on the network are also applied to the router and vice versa.

The process involves:
- Adding a new connection class for Octavia to communicate with
  OVN NB DB, setting up the connection and communicating with
  the IDL.
- Setting up events for Router interface addition and deletion
- Updating Loadbalancer tables and Router/Switch tables based
  upon the generated events.
- Add network UUID to LRP external_ids

Co-Authored-By: Terry Wilson <twilson@redhat.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>

Change-Id: If10016325517e4a1fc5f7cfac7f7bd58deb09b54
Closes-Bug: #1794260
(cherry picked from commit aa4268a09470aea28f4a8c9f1062f32f057cb151)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/45/672645/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/common/constants.py', 'networking_ovn/octavia/ovn_driver.py', 'doc/source/contributor/design/loadbalancer.rst', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",8,47f16d48a387ccd1f94782751dba187dede049aa,ovn_driver_stein_cherry_picks," ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(self.fake_network['id'])}} ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(self.fake_network['id'])}, 'mac_address': 'aa:aa:aa:aa:aa:aa', 'network_id': 'network-id1' ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(self.fake_network['id'])})"," ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'}} ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'}, 'mac_address': 'aa:aa:aa:aa:aa:aa' ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'})",1045,232
openstack%2Fmetalsmith~master~I43339686a42644877dbe40d1116db1585a8a0800,openstack/metalsmith,master,I43339686a42644877dbe40d1116db1585a8a0800,Clean up exceptions metalsmith raises,MERGED,2019-08-02 09:42:52.000000000,2019-08-06 12:03:12.000000000,2019-08-06 12:03:12.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 09:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3cea898b234a2a478135e3289cac74110b1cf229', 'message': '[WIP] Clean up exceptions metalsmith raises\n\nChange-Id: I43339686a42644877dbe40d1116db1585a8a0800\n'}, {'number': 2, 'created': '2019-08-02 12:00:50.000000000', 'files': ['metalsmith/_utils.py', 'metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py', 'releasenotes/notes/exceptions-395ae4f1ad4de6da.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/97311ce7fbad8d4db72760c15e35da5e2b6a130f', 'message': 'Clean up exceptions metalsmith raises\n\nThis change switches from a mix of metalsmith and SDK exceptions\nto consistently using metalsmith exceptions.\n\nChange-Id: I43339686a42644877dbe40d1116db1585a8a0800\n'}]",0,674247,97311ce7fbad8d4db72760c15e35da5e2b6a130f,8,2,2,10239,,,0,"Clean up exceptions metalsmith raises

This change switches from a mix of metalsmith and SDK exceptions
to consistently using metalsmith exceptions.

Change-Id: I43339686a42644877dbe40d1116db1585a8a0800
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/47/674247/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'metalsmith/_utils.py', 'lower-constraints.txt', 'metalsmith/_provisioner.py', 'metalsmith/exceptions.py']",5,3cea898b234a2a478135e3289cac74110b1cf229,exceptions," """"""Deployment failed."""""" class DeploymentTimeout(DeploymentFailure): """"""Timeout during deployment.""""""","class TraitsNotFound(ReservationFailed): """"""DEPRECATED."""""" def __init__(self, message, traits): self.requested_traits = traits super(TraitsNotFound, self).__init__(message) class ValidationFailed(ReservationFailed): """"""Validation failed for all requested nodes."""""" class NoNodesReserved(ReservationFailed): """"""DEPRECATED."""""" def __init__(self, nodes): self.nodes = nodes message = ('All the candidate nodes are already reserved ' 'or failed validation') super(NoNodesReserved, self).__init__(message) """"""DEPRECATED."""""" def __init__(self, message, nodes): self.nodes = nodes super(DeploymentFailure, self).__init__(message)",105,76
openstack%2Fbarbican~master~I4926a4c8b4c3fd7e0e94808db7b00b253ed29afe,openstack/barbican,master,I4926a4c8b4c3fd7e0e94808db7b00b253ed29afe,DNM - Testing openstack/nova I41b7c1653c6a887ee4b08e588c5d422409aebfba,ABANDONED,2019-07-04 09:51:02.000000000,2019-08-06 12:01:01.000000000,,"[{'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-04 09:51:02.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f60b933d2110a2c1b6d28684644b66119ed3e415', 'message': 'DNM - Testing openstack/nova I41b7c1653c6a887ee4b08e588c5d422409aebfba\n\nDepends-On: https://review.opendev.org/#/c/669121/\nChange-Id: I4926a4c8b4c3fd7e0e94808db7b00b253ed29afe\n'}]",0,669125,f60b933d2110a2c1b6d28684644b66119ed3e415,12,3,1,10135,,,0,"DNM - Testing openstack/nova I41b7c1653c6a887ee4b08e588c5d422409aebfba

Depends-On: https://review.opendev.org/#/c/669121/
Change-Id: I4926a4c8b4c3fd7e0e94808db7b00b253ed29afe
",git fetch https://review.opendev.org/openstack/barbican refs/changes/25/669125/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,f60b933d2110a2c1b6d28684644b66119ed3e415,,,,0,0
openstack%2Fironic~master~Ia1dcc68d7e75a931e01829ce23da36c978a70765,openstack/ironic,master,Ia1dcc68d7e75a931e01829ce23da36c978a70765,Direct bridge to be setup,MERGED,2019-04-22 22:04:59.000000000,2019-08-06 12:00:29.000000000,2019-04-29 12:45:48.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28429}]","[{'number': 1, 'created': '2019-04-22 22:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d581f21a77b2ba33266ecdb9d412fe1d4ca11c3e', 'message': 'Diret bridge to be setup\n\nThe multinode jobs are failing because the br-infra bridge\nis not being setup. It is not being setup because somewhere\nin the infra, the multi-node-bridge role is never established\nas a requirement. Realistically, only ironic does this, but\nwe need to ensure it is present.\n\nChange-Id: Ia1dcc68d7e75a931e01829ce23da36c978a70765\n'}, {'number': 2, 'created': '2019-04-23 03:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4f3f82c54ab728e686b66f155e479e798a4a3c9', 'message': 'Diret bridge to be setup\n\nThe multinode jobs are failing because the br-infra bridge\nis not being setup. It is not being setup because somewhere\nin the infra, the multi-node-bridge role is never established\nas a requirement. Realistically, only ironic does this, but\nwe need to ensure it is present.\n\nChange-Id: Ia1dcc68d7e75a931e01829ce23da36c978a70765\n'}, {'number': 3, 'created': '2019-04-23 16:47:28.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'playbooks/ci-workarounds/pre.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bda02c43fb022a155157402764cd5a74478b8cf1', 'message': 'Direct bridge to be setup\n\nThe multinode jobs are failing because the br-infra bridge\nis not being setup. It is not being setup because somewhere\nin the infra, the multi-node-bridge role is never established\nas a requirement. Realistically, only ironic does this, but\nwe need to ensure it is present.\n\nChange-Id: Ia1dcc68d7e75a931e01829ce23da36c978a70765\n'}]",4,654636,bda02c43fb022a155157402764cd5a74478b8cf1,51,9,3,11655,,,0,"Direct bridge to be setup

The multinode jobs are failing because the br-infra bridge
is not being setup. It is not being setup because somewhere
in the infra, the multi-node-bridge role is never established
as a requirement. Realistically, only ironic does this, but
we need to ensure it is present.

Change-Id: Ia1dcc68d7e75a931e01829ce23da36c978a70765
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/654636/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'playbooks/ci-workarounds/pre.yaml']",2,d581f21a77b2ba33266ecdb9d412fe1d4ca11c3e,, name: Pre-setup tasks roles: - multi-node-bridge, name: Copy ssh keys from too ~stack,6,2
openstack%2Ftripleo-quickstart-extras~master~Iacd6e9860b7aabff65b6c2d383d488903a9a0287,openstack/tripleo-quickstart-extras,master,Iacd6e9860b7aabff65b6c2d383d488903a9a0287,Configure minion hostname,MERGED,2019-08-05 20:06:11.000000000,2019-08-06 11:33:11.000000000,2019-08-06 11:33:11.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 20:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4dd69216e158df375cee3dbb2bbe672de458bb61', 'message': 'Configure minion hostname\n\nWe should set the minion_hostname in the minion.conf similar to what we\ndo for the undercloud.\n\nChange-Id: Iacd6e9860b7aabff65b6c2d383d488903a9a0287\n'}, {'number': 2, 'created': '2019-08-05 20:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/90a08e0c6146e10bcb210cafb95e2033fa34b664', 'message': 'Configure minion hostname\n\nWe should set the minion_hostname in the minion.conf similar to what we\ndo for the undercloud.\n\nChange-Id: Iacd6e9860b7aabff65b6c2d383d488903a9a0287\nCloses-Bug: #1839025\n'}, {'number': 3, 'created': '2019-08-05 20:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ccd257f40fddc7cd1c533f1257f1609d02b09ba', 'message': 'Configure minion hostname\n\nWe should set the minion_hostname in the minion.conf similar to what we\ndo for the undercloud.\n\nChange-Id: Iacd6e9860b7aabff65b6c2d383d488903a9a0287\nCloses-Bug: #1839025\n'}, {'number': 4, 'created': '2019-08-05 20:24:58.000000000', 'files': ['roles/undercloud-minion-deploy/defaults/main.yml', 'roles/undercloud-minion-deploy/templates/minion.conf.j2', 'playbooks/multinode-undercloud-minion.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5071d16ceae42338ab92da28178a6b6c5eb55329', 'message': 'Configure minion hostname\n\nWe should set the minion_hostname in the minion.conf similar to what we\ndo for the undercloud.\n\nChange-Id: Iacd6e9860b7aabff65b6c2d383d488903a9a0287\nCloses-Bug: #1839025\n'}]",0,674686,5071d16ceae42338ab92da28178a6b6c5eb55329,16,5,4,14985,,,0,"Configure minion hostname

We should set the minion_hostname in the minion.conf similar to what we
do for the undercloud.

Change-Id: Iacd6e9860b7aabff65b6c2d383d488903a9a0287
Closes-Bug: #1839025
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/86/674686/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-minion-deploy/defaults/main.yml', 'roles/undercloud-minion-deploy/templates/minion.conf.j2', 'playbooks/multinode-undercloud-minion.yml']",3,4dd69216e158df375cee3dbb2bbe672de458bb61,bug/1839025, vars:, - name: Include hostname tasks include_role: name: undercloud-setup tasks_from: hostname when: hostname_correction|default(false)|bool or step_set_undercloud_hostname|default(false)|bool,3,5
openstack%2Ftripleo-quickstart-extras~master~I3be1be596d07542d538897f29321db68f153cd46,openstack/tripleo-quickstart-extras,master,I3be1be596d07542d538897f29321db68f153cd46,Copy rh-cloud.repo to RHEL-8 mock config,MERGED,2019-07-31 08:35:56.000000000,2019-08-06 11:33:10.000000000,2019-08-06 11:33:09.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13294}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 08:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f3c822f1590b77ccad38cce5697ea31a795a38c7', 'message': '[RHEL8] Add rhui repo to mock config\n\nCurrently RHUI repos are not added to dlrn mock config leading\nto failure in building packages, enabling and adding it fixes the\nissue.\n\nChange-Id: I3be1be596d07542d538897f29321db68f153cd46\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-31 09:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e79fd693d613ce184ba1ac190938c6fa63591d7', 'message': '[RHEL8] Add rhui repo to mock config\n\nCurrently RHUI repos are not added to dlrn mock config leading\nto failure in building packages, enabling and adding it fixes the\nissue.\n\nChange-Id: I3be1be596d07542d538897f29321db68f153cd46\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-08-05 09:57:14.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/08b28732f62589272f8a2dec6ae2fd71b951e3ff', 'message': 'Copy rh-cloud.repo to RHEL-8 mock config\n\nCurrently RHUI repos are not added to dlrn mock config leading\nto failure in building packages, enabling and adding it fixes the\nissue.\n\nChange-Id: I3be1be596d07542d538897f29321db68f153cd46\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",2,673757,08b28732f62589272f8a2dec6ae2fd71b951e3ff,18,10,3,12393,,,0,"Copy rh-cloud.repo to RHEL-8 mock config

Currently RHUI repos are not added to dlrn mock config leading
to failure in building packages, enabling and adding it fixes the
issue.

Change-Id: I3be1be596d07542d538897f29321db68f153cd46
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/57/673757/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,f3c822f1590b77ccad38cce5697ea31a795a38c7,rhel8," {% if ansible_distribution|lower == ""redhat"" and ansible_distribution_major_version == ""8"" %} find /etc/yum.repos.d -name ""rhui-*.repo"" -exec sed 's/enabled=.*/enabled=1/g' {} \; >> {{ build_repo_dir }}/DLRN/scripts/{{ ansible_distribution | lower }}-local.cfg; {% endif %}",,4,0
openstack%2Fnova~master~Ia9282325441ec42af6b03cda704b1cc7bac8d9f4,openstack/nova,master,Ia9282325441ec42af6b03cda704b1cc7bac8d9f4,doc: fix physets typo,MERGED,2019-08-05 18:09:03.000000000,2019-08-06 11:23:04.000000000,2019-08-06 11:23:04.000000000,"[{'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-05 18:09:03.000000000', 'files': ['doc/source/admin/networking.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d780216c6ad288fd06e9fc631fb4998e571c9f4c', 'message': ""doc: fix physets typo\n\nI'm pretty sure this was meant to be physnets given the\ncontext and this was added with Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\nwhich is about provider physical network affinity to NUMA nodes.\n\nChange-Id: Ia9282325441ec42af6b03cda704b1cc7bac8d9f4\n""}]",3,674667,d780216c6ad288fd06e9fc631fb4998e571c9f4c,13,9,1,6873,,,0,"doc: fix physets typo

I'm pretty sure this was meant to be physnets given the
context and this was added with Ide262733ffd7714fdc702b31c61bdd42dbf7acc3
which is about provider physical network affinity to NUMA nodes.

Change-Id: Ia9282325441ec42af6b03cda704b1cc7bac8d9f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/674667/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/networking.rst'],1,d780216c6ad288fd06e9fc631fb4998e571c9f4c,doc-typo-physnets," <admin/deploy-lb-selfservice.html>`, *physnets* are mapped to interfaces"," <admin/deploy-lb-selfservice.html>`, *physets* are mapped to interfaces",1,1
openstack%2Fnova~master~I2dcb5c1e8289eaf7977b38a3d26e74183823c42b,openstack/nova,master,I2dcb5c1e8289eaf7977b38a3d26e74183823c42b,Add nova-osprofiler-redis job to experimental queue,MERGED,2019-08-02 14:58:19.000000000,2019-08-06 11:22:56.000000000,2019-08-06 11:22:55.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-02 14:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/544f510c24df7176611383fab7f18623d7324013', 'message': ""Add nova-osprofiler-redis job to experimental queue\n\nThis adds a nova-specific variant of the\ntempest-smoke-py3-osprofiler-redis job to nova's\nexperimental queue. This could be useful in comparing\nbefore and after results on nova changes that are\nrelated to performance, although that's admittedly\nhard in a CI environment where we could be running on\ndifferent node providers (we could pin that though?)\nand differing levels of noisy neighbors during each\njob run.\n\nChange-Id: I2dcb5c1e8289eaf7977b38a3d26e74183823c42b\n""}, {'number': 2, 'created': '2019-08-02 17:31:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8823280724385ef76973e9e54b1a05bc1123786d', 'message': ""Add nova-osprofiler-redis job to experimental queue\n\nThis adds a nova-specific variant of the\ntempest-smoke-py3-osprofiler-redis job to nova's\nexperimental queue. This could be useful in comparing\nbefore and after results on nova changes that are\nrelated to performance, although that's admittedly\nhard in a CI environment where we could be running on\ndifferent node providers (we could pin that though?)\nand differing levels of noisy neighbors during each\njob run.\n\nChange-Id: I2dcb5c1e8289eaf7977b38a3d26e74183823c42b\n""}]",1,674326,8823280724385ef76973e9e54b1a05bc1123786d,40,12,2,6873,,,0,"Add nova-osprofiler-redis job to experimental queue

This adds a nova-specific variant of the
tempest-smoke-py3-osprofiler-redis job to nova's
experimental queue. This could be useful in comparing
before and after results on nova changes that are
related to performance, although that's admittedly
hard in a CI environment where we could be running on
different node providers (we could pin that though?)
and differing levels of noisy neighbors during each
job run.

Change-Id: I2dcb5c1e8289eaf7977b38a3d26e74183823c42b
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/674326/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,544f510c24df7176611383fab7f18623d7324013,osprofiler-ci,- job: name: nova-osprofiler-redis parent: tempest-smoke-py3-osprofiler-redis description: | Runs osprofiler with the Redis collector on a subset of compute-specific tempest-full-py3 smoke tests. irrelevant-files: *dsvm-irrelevant-files required-projects: - openstack/nova vars: # Run compute API and only the test_server_basic_ops scenario smoke test. tempest_test_regex: ^tempest\.(scenario\.test_server_basic_ops|(api\.compute)) - nova-osprofiler-redis,,14,0
openstack%2Fcharm-neutron-api~master~Ib96880659403a0163654ea1fc26f43718ff65232,openstack/charm-neutron-api,master,Ib96880659403a0163654ea1fc26f43718ff65232,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 02:53:33.000000000,2019-08-06 11:19:18.000000000,2019-08-06 10:33:20.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 02:53:33.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'templates/ocata/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/d12413ffad3c0f523d82133257d298bbf465e79b', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: Ib96880659403a0163654ea1fc26f43718ff65232\nCloses-Bug: #1838696\n'}]",0,674159,d12413ffad3c0f523d82133257d298bbf465e79b,20,5,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: Ib96880659403a0163654ea1fc26f43718ff65232
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/59/674159/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'templates/ocata/neutron.conf']",4,d12413ffad3c0f523d82133257d298bbf465e79b,bug/1838696,"{% include ""section-oslo-messaging-rabbit-ocata"" %}","{% include ""section-oslo-messaging-rabbit"" %}",64,15
openstack%2Ftripleo-heat-templates~master~I06ec8d1245e391b1ec4ddb3b737bd4db24df0b81,openstack/tripleo-heat-templates,master,I06ec8d1245e391b1ec4ddb3b737bd4db24df0b81,Add geneve into NeutronTypeDrivers for scenario007 standalone job,ABANDONED,2019-08-05 10:04:13.000000000,2019-08-06 10:59:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 10:04:13.000000000', 'files': ['ci/environments/scenario007-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc9696106fe397e9e571359814a36013e0005d9e', 'message': ""Add geneve into NeutronTypeDrivers for scenario007 standalone job\n\nIn [1] which depends on this change, we are trying to move the\nscenario007 standalone job to os-tempest. It is currently failing\non BadRequestException for network_type value 'geneve' not\nsupported during the os-tempest run as can be seen at v2 of [1]\n\n[1] https://review.opendev.org/#/c/674228/\n\nChange-Id: I06ec8d1245e391b1ec4ddb3b737bd4db24df0b81\n""}]",0,674563,bc9696106fe397e9e571359814a36013e0005d9e,18,7,1,8449,,,0,"Add geneve into NeutronTypeDrivers for scenario007 standalone job

In [1] which depends on this change, we are trying to move the
scenario007 standalone job to os-tempest. It is currently failing
on BadRequestException for network_type value 'geneve' not
supported during the os-tempest run as can be seen at v2 of [1]

[1] https://review.opendev.org/#/c/674228/

Change-Id: I06ec8d1245e391b1ec4ddb3b737bd4db24df0b81
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/674563/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario007-standalone.yaml'],1,bc9696106fe397e9e571359814a36013e0005d9e,," NeutronTypeDrivers: 'vxlan,vlan,flat,gre,geneve'"," NeutronTypeDrivers: 'vxlan,vlan,flat,gre'",1,1
openstack%2Fnetworking-ovn~stable%2Fqueens~I607126a2b0d22613550b655ea19bc232f6ace020,openstack/networking-ovn,stable/queens,I607126a2b0d22613550b655ea19bc232f6ace020,Maintenance: Log how long the synchronization took,MERGED,2019-07-26 15:06:49.000000000,2019-08-06 10:44:20.000000000,2019-08-06 10:44:20.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-26 15:06:49.000000000', 'files': ['networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6e8e5b2e80f7c2d792e5de619f7e7e84671f9a58', 'message': 'Maintenance: Log how long the synchronization took\n\nTo help with debug, this patch is adding a debug log indicating how long\nthe maintenance task took to run.\n\nChange-Id: I607126a2b0d22613550b655ea19bc232f6ace020\n(cherry picked from commit e593cb4fc6512ff9f66909c490aedde326b73bcf)\n'}]",0,673002,6e8e5b2e80f7c2d792e5de619f7e7e84671f9a58,8,4,1,6773,,,0,"Maintenance: Log how long the synchronization took

To help with debug, this patch is adding a debug log indicating how long
the maintenance task took to run.

Change-Id: I607126a2b0d22613550b655ea19bc232f6ace020
(cherry picked from commit e593cb4fc6512ff9f66909c490aedde326b73bcf)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/02/673002/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/maintenance.py'],1,6e8e5b2e80f7c2d792e5de619f7e7e84671f9a58,bug/1837003,"from oslo_utils import timeutils self._sync_timer = timeutils.StopWatch() self._sync_timer.restart() LOG.info('Maintenance thread synchronization finished ' '(took %.2f seconds)', self._sync_timer.elapsed()) self._sync_timer.stop() ",,7,0
openstack%2Frpm-packaging~master~Ifd5b4f2bc31cf141d9c86d74571ccedb756cb168,openstack/rpm-packaging,master,Ifd5b4f2bc31cf141d9c86d74571ccedb756cb168,monasca-common: Switch to singlespec,MERGED,2019-08-05 19:00:32.000000000,2019-08-06 10:37:18.000000000,2019-08-06 10:37:17.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 19:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7b84fc9f869dfea7a3cace49353b0e5a10f91020', 'message': 'monasca-common: Switch to singlespec\n\nChange-Id: Ifd5b4f2bc31cf141d9c86d74571ccedb756cb168\n'}, {'number': 2, 'created': '2019-08-06 06:57:56.000000000', 'files': ['openstack/monasca-common/monasca-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/75fbd2c140b9e75b53a0422e2e1ccb2ebb2cbf99', 'message': 'monasca-common: Switch to singlespec\n\nChange-Id: Ifd5b4f2bc31cf141d9c86d74571ccedb756cb168\n'}]",0,674674,75fbd2c140b9e75b53a0422e2e1ccb2ebb2cbf99,13,4,2,6593,,,0,"monasca-common: Switch to singlespec

Change-Id: Ifd5b4f2bc31cf141d9c86d74571ccedb756cb168
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/674674/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-common/monasca-common.spec.j2'],1,7b84fc9f869dfea7a3cace49353b0e5a10f91020,,"BuildRequires: {{ py2pkg('PyMySQL', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('kazoo', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.policy', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pyparsing', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('ujson', py_versions=['py2', 'py3']) }}BuildRequires: {{ py2pkg('confluent-kafka', py_versions=['py2', 'py3']) }}%python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run%files %{python_files}%{python_sitelib}/monasca_common %{python_sitelib}/*.egg-info",BuildRequires: {{ py2pkg('PyMySQL') }} BuildRequires: {{ py2pkg('kazoo') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.context') }} BuildRequires: {{ py2pkg('oslo.policy') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('pyparsing') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('six') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('ujson') }}BuildRequires: {{ py2pkg('confluent-kafka') }}%{py2_build}%{py2_install}stestr run%files%{python2_sitelib}/monasca_common %{python2_sitelib}/*.egg-info,22,21
openstack%2Ftripleo-validations~master~Ic17307efc2b4907cc21df8289a2e0c84d2f30b48,openstack/tripleo-validations,master,Ic17307efc2b4907cc21df8289a2e0c84d2f30b48,Improve Ceph health checks to work with custom cluster names,MERGED,2019-08-02 08:09:09.000000000,2019-08-06 10:36:25.000000000,2019-08-05 20:19:06.000000000,"[{'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-02 08:09:09.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ff4d7ceec5a24e0b53d0b2effc2e7d23cb895344', 'message': 'Improve Ceph health checks to work with custom cluster names\n\nWhen the Ceph cluster name is customized the ceph commands need\nto be told the custom cluster name.\n\nChange-Id: Ic17307efc2b4907cc21df8289a2e0c84d2f30b48\n'}]",0,674217,ff4d7ceec5a24e0b53d0b2effc2e7d23cb895344,9,4,1,6796,,,0,"Improve Ceph health checks to work with custom cluster names

When the Ceph cluster name is customized the ceph commands need
to be told the custom cluster name.

Change-Id: Ic17307efc2b4907cc21df8289a2e0c84d2f30b48
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/17/674217/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,ff4d7ceec5a24e0b53d0b2effc2e7d23cb895344,," - name: Set ceph cluster name become: true shell: find /etc/ceph -name '*.conf' -exec basename -s .conf {} \; 2>/dev/null | head -n1 ignore_errors: true register: ceph_cluster_name changed_when: False shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph --cluster {{ ceph_cluster_name }} health | awk '{print $1}'"" shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph --cluster {{ ceph_cluster_name }} osd stat -f json | jq '{{ jq_osd_percentage_filter }}'"""," shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph health | awk '{print $1}'"" shell: ""{{ container_cli }} exec {{ ceph_mon_container.stdout }} ceph osd stat -f json | jq '{{ jq_osd_percentage_filter }}'""",9,2
openstack%2Ffreezer-dr~master~I64073e3e4cd07c45fd65bad9101693b795ec1afc,openstack/freezer-dr,master,I64073e3e4cd07c45fd65bad9101693b795ec1afc,Update hacking,MERGED,2019-08-03 09:38:47.000000000,2019-08-06 10:30:45.000000000,2019-08-06 10:30:45.000000000,"[{'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-08-03 09:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/fe81250488436744cc3b4a60fed4ce5bc1826de2', 'message': 'Update hacking\n\nRemove requirements for flake8, mccabe, pyflakes since hacking pins them\nalready - and the pins of hacking are different versions.\n\nUpdate hacking to current release.\n\nChange-Id: I64073e3e4cd07c45fd65bad9101693b795ec1afc\n'}, {'number': 2, 'created': '2019-08-03 09:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/7ebea6e3ecba342e830f7ea3c60c42a628c2d4ed', 'message': 'Update hacking\n\nRemove requirements for flake8, mccabe, pyflakes since hacking pins them\nalready - and the pins of hacking are different versions.\n\nUpdate hacking to current release.\n\nDepends-On: https://review.opendev.org/666034\nChange-Id: I64073e3e4cd07c45fd65bad9101693b795ec1afc\n'}, {'number': 3, 'created': '2019-08-03 09:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/760d913c7364742389cfe962cb7866e6fd259438', 'message': 'Update hacking\n\nRemove requirements for flake8, mccabe, pyflakes since hacking pins them\nalready - and the pins of hacking are different versions.\n\nUpdate hacking to current release.\n\nDepends-On: https://review.opendev.org/666034\nChange-Id: I64073e3e4cd07c45fd65bad9101693b795ec1afc\n'}, {'number': 4, 'created': '2019-08-03 09:55:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/e4396f16d318b1a2ebc690b2fcafd87d64d4c17c', 'message': 'Update hacking\n\nRemove requirements for flake8, mccabe, pyflakes since hacking pins them\nalready - and the pins of hacking are different versions.\n\nUpdate hacking to current release.\n\nChange-Id: I64073e3e4cd07c45fd65bad9101693b795ec1afc\n'}]",0,674447,e4396f16d318b1a2ebc690b2fcafd87d64d4c17c,12,12,4,6547,,,0,"Update hacking

Remove requirements for flake8, mccabe, pyflakes since hacking pins them
already - and the pins of hacking are different versions.

Update hacking to current release.

Change-Id: I64073e3e4cd07c45fd65bad9101693b795ec1afc
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/47/674447/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fe81250488436744cc3b4a60fed4ce5bc1826de2,bindep," # hacking pins flake8 etc hacking>=1.1.0,<1.2.0 # Apache-2.0","flake8>=2.5.4,<2.6.0 # MIT hacking>=0.12.0,!=0.13.0,<0.14 # Apache-2.0mccabe==0.4.0 # MIT Licensepyflakes==1.0.0",3,4
openstack%2Ffreezer-dr~master~I74bfead9b1962ad9c5e9eb2f7ab79022566085c9,openstack/freezer-dr,master,I74bfead9b1962ad9c5e9eb2f7ab79022566085c9,Sync Sphinx requirement,MERGED,2019-06-18 15:59:28.000000000,2019-08-06 10:30:29.000000000,2019-08-06 10:30:29.000000000,"[{'_account_id': 6547}, {'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-18 15:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/7d05bcbb49591b97f0a83865600492985bf85cf6', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n4. Update the ncessary ""==""\n\nChange-Id: I74bfead9b1962ad9c5e9eb2f7ab79022566085c9\n'}, {'number': 2, 'created': '2019-06-18 16:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/5cd923b2b0c46ee443af8f1660434ee3a66c6fed', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n4. Update the ncessary ""==""\n\nChange-Id: I74bfead9b1962ad9c5e9eb2f7ab79022566085c9\n'}, {'number': 3, 'created': '2019-08-02 01:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/15c318fdd6d62dba2a49bf169bf5287e90ae5ae6', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n4. Update the ncessary ""==""\n\nChange-Id: I74bfead9b1962ad9c5e9eb2f7ab79022566085c9\n'}, {'number': 4, 'created': '2019-08-03 09:54:33.000000000', 'files': ['test-requirements.txt', 'README.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/a3ba38b2f839c7342018d0212cf34e1c62f0217e', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Fix RST syntax in HACKING.rst\n3. Update moved URLs in README.rst\n\nChange-Id: I74bfead9b1962ad9c5e9eb2f7ab79022566085c9\n'}]",1,666034,a3ba38b2f839c7342018d0212cf34e1c62f0217e,16,14,4,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Fix RST syntax in HACKING.rst
3. Update moved URLs in README.rst

Change-Id: I74bfead9b1962ad9c5e9eb2f7ab79022566085c9
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/34/666034/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'HACKING.rst']",2,7d05bcbb49591b97f0a83865600492985bf85cf6,bindep,=============================--------------------------------to add new required arguments. It's also more explicit and easier to read. ,===========================------------------------------to add new required arguments. It's also more explicit and easier to read.,6,4
openstack%2Fironic~master~If4b1757e29d316f462d70883e6a84a48be9c2cad,openstack/ironic,master,If4b1757e29d316f462d70883e6a84a48be9c2cad,Update docs for troubleshooting with maintainance mode,ABANDONED,2018-07-24 04:13:24.000000000,2019-08-06 10:27:40.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 18320}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 25254}, {'_account_id': 28950}]","[{'number': 1, 'created': '2018-07-24 04:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b7b5b0447998243cb3934a234d49fe21caea086f', 'message': 'Update docs for troubleshooting with maintainance mode\n\nThis changes will add maintainance mode along with\nsome cases. This will indicate some issues & some status\nduring boot instances.\n\nChange-Id: If4b1757e29d316f462d70883e6a84a48be9c2cad\n'}, {'number': 2, 'created': '2018-07-30 02:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9edcbd042d70efcfc76929ac5cbebbd6785e3fe6', 'message': 'Update docs for troubleshooting with maintainance mode\n\nThis changes will explain for operator about what are\nperiodic tasks means during maintainance mode.\n\nChange-Id: If4b1757e29d316f462d70883e6a84a48be9c2cad\n'}, {'number': 3, 'created': '2018-08-10 01:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/124735383f2332017eba58a7d5afd282c8a19581', 'message': 'Update docs for troubleshooting with maintainance mode\n\nThis changes will explain for operator about what are\nperiodic tasks means during maintainance mode.\n\nChange-Id: If4b1757e29d316f462d70883e6a84a48be9c2cad\n'}, {'number': 4, 'created': '2018-09-07 09:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e911c678157c5b8049e2b4f12a1d099059245ef', 'message': 'Update docs for troubleshooting with maintainance mode\n\nThis changes will explain for operator remove node in the\nmaintainance mode. And remove old sentence about executing\nperiodic tasks during maintainance mode.\n\nChange-Id: If4b1757e29d316f462d70883e6a84a48be9c2cad\n'}, {'number': 5, 'created': '2018-09-24 04:00:08.000000000', 'files': ['doc/source/install/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf66027a0897ca3df11dc7a2489eab44de448b08', 'message': 'Update docs for troubleshooting with maintainance mode\n\nThis changes will remove old sentence about executing\nperiodic tasks during maintainance mode. The periodic tasks still\nworks normal in maintainance mode.\n\nChange-Id: If4b1757e29d316f462d70883e6a84a48be9c2cad\n'}]",24,585126,cf66027a0897ca3df11dc7a2489eab44de448b08,36,11,5,25254,,,0,"Update docs for troubleshooting with maintainance mode

This changes will remove old sentence about executing
periodic tasks during maintainance mode. The periodic tasks still
works normal in maintainance mode.

Change-Id: If4b1757e29d316f462d70883e6a84a48be9c2cad
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/585126/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/troubleshooting.rst'],1,b7b5b0447998243cb3934a234d49fe21caea086f,update_maintainance_docs,"move to forwarding mode as soon as the link is established. An example on how to do that for a Cisco Nexus switch is: Maintainance Mode ================= Thought to maintainance mode, we will mention to ``Provision State`` and ``Maintainance`` columns in ``Node`` list. This is node info when we perform `openstack barmetal node list` command: .. code-block:: bash $ Openstack baremetal node list +--------------------------------------+------+---------------+-------------+-----------------+-------------+ | UUID | Name | Instance UUID | Power State | Provision State | Maintenance | +--------------------------------------+------+---------------+-------------+-----------------+-------------+ | 2c453f6b-7378-44c8-a0ad-57de57d9c57f | None | None | power off | available | True | +--------------------------------------+------+---------------+-------------+-----------------+-------------+ After successfully creating node, the node will have `enroll` status in ``Provision State``, and then `verifying` until `manageable` in there. During provision instances, we have meet some following issues: * If the node shows empty table or ``Maintenance`` is `True`, or ``Provision State`` is `manageable` or `enroll`, there was a problem during node enrolling and introspection. Let check the actual cause using the following command: .. code-block:: bash $ openstack baremetal node show <UUID> -f value -c maintenance_reason * To allow an instance boot to bare metal, then we need to move provision state into `available` and unset maintainance is `false` before via following commands: .. code-block:: bash $ openstack baremetal node provide <NODE_NAME> $ openstack baremetal node maintenance unset <NODE_UUID> * To change into ready node for new instance from `clean failed` status, we need to perform following commands: .. code-block:: bash $ openstack baremetal node manage <NODE_NAME> $ openstack baremetal node provide <NODE_NAME> * If ``Provision State`` is `wait call-back` or `clean wait`, then bare metal deployment is not finished for this node yet. We may want to wait until the status changes. * To remove old node which still operate under `clean wait` status, we need to perform some following commands: .. code-block:: bash $ sudo systemctl restart devstack@ir-* $ openstack baremetal node maintenance set <NODE_UUID> $ openstack baremetal node delete <NODE_NAME> * If maintainance is `True` then we cannot perform provision any instances, thus we need to change into `False`: .. code-block:: bash $ openstack baremetal node maintenance unset <NODE_NAME> * If ``Provision State`` is `clean failed`, then bare metal deployment has failed for this node. Look at the last_error field via following command: .. code-block:: bash $ openstack baremetal node show <NODE_NAME> -f value -c last_error * If ``Provision State`` is `active` and ``Maintenance`` is `True`, then bare metal deployment has finished successfully. Check node status via command: .. code-block:: bash $ openstack baremetal node show <NODE_NAME>",move to forwarding mode as soon as the link is established. An example on how to do that for a Cisco Nexus switch is:,87,2
openstack%2Fbarbican~master~If528c06d9d5ff84d9d7df8ce946a46012d148417,openstack/barbican,master,If528c06d9d5ff84d9d7df8ce946a46012d148417,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 08:55:54.000000000,2019-08-06 10:26:13.000000000,2019-08-06 10:26:13.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 27781}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 08:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0d4aeeb34f3ff23329a0aa9f8fcd09d0327c8b76', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If528c06d9d5ff84d9d7df8ce946a46012d148417\n'}, {'number': 2, 'created': '2019-05-07 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8e4bd264cadf779704ddcfe5627ff46714b2ca19', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If528c06d9d5ff84d9d7df8ce946a46012d148417\n'}, {'number': 3, 'created': '2019-05-23 04:50:23.000000000', 'files': ['doc/source/contributor/devstack.rst', 'doc/source/configuration/plugin_backends.rst', 'apiary.apib', 'devstack/barbican-vagrant/install_devstack.sh', 'doc/source/configuration/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2b99217219756d472a0e4dd1fe805daa8a91145c', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If528c06d9d5ff84d9d7df8ce946a46012d148417\n'}]",1,654863,2b99217219756d472a0e4dd1fe805daa8a91145c,30,10,3,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: If528c06d9d5ff84d9d7df8ce946a46012d148417
",git fetch https://review.opendev.org/openstack/barbican refs/changes/63/654863/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/getting_involved.rst', 'doc/source/contributor/dependencies.rst', 'tox.ini']",3,0d4aeeb34f3ff23329a0aa9f8fcd09d0327c8b76,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},3,3
openstack%2Fopenstacksdk~master~I3f92f9a98c86c1366cd4bc43c48615605ad2f1b4,openstack/openstacksdk,master,I3f92f9a98c86c1366cd4bc43c48615605ad2f1b4,Add Python 3 Train unit tests,MERGED,2019-06-26 02:34:51.000000000,2019-08-06 10:22:17.000000000,2019-08-06 10:22:17.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 970}, {'_account_id': 986}, {'_account_id': 2472}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 8246}, {'_account_id': 10239}, {'_account_id': 10420}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-06-26 02:34:51.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/acda2ce62d7aad3fefb1a269ee4f36d2521403a6', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I3f92f9a98c86c1366cd4bc43c48615605ad2f1b4\n'}]",0,667494,acda2ce62d7aad3fefb1a269ee4f36d2521403a6,10,18,1,27822,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I3f92f9a98c86c1366cd4bc43c48615605ad2f1b4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/667494/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,acda2ce62d7aad3fefb1a269ee4f36d2521403a6,Bug#1, Programming Language :: Python :: 3.7, Programming Language :: Python :: 3.5,2,3
openstack%2Fopenstacksdk~master~If068f0fa8fa2cd545c4f245adc83ad567f9d16ed,openstack/openstacksdk,master,If068f0fa8fa2cd545c4f245adc83ad567f9d16ed,Update betacloud vendor entry,MERGED,2019-08-05 23:53:44.000000000,2019-08-06 10:22:16.000000000,2019-08-06 10:22:16.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-08-05 23:53:44.000000000', 'files': ['openstack/config/vendors/betacloud.json', 'doc/source/user/config/vendor-support.rst', 'releasenotes/notes/vendor-update-betacloud-37dac22d8d91a3c5.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/31bab62b398d0aee225569606180ed477157679b', 'message': 'Update betacloud vendor entry\n\n* new auth_url\n* new location\n\nChange-Id: If068f0fa8fa2cd545c4f245adc83ad567f9d16ed\n'}]",0,674715,31bab62b398d0aee225569606180ed477157679b,7,3,1,167,,,0,"Update betacloud vendor entry

* new auth_url
* new location

Change-Id: If068f0fa8fa2cd545c4f245adc83ad567f9d16ed
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/15/674715/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/vendors/betacloud.json', 'doc/source/user/config/vendor-support.rst', 'releasenotes/notes/vendor-update-betacloud-37dac22d8d91a3c5.yaml']",3,31bab62b398d0aee225569606180ed477157679b,update-betacloud,--- other: - Update betacloud region for Germany ,,6,3
openstack%2Fbarbican~master~If9b22f6fea2f16350ba0997d02c6aba33fafcc7d,openstack/barbican,master,If9b22f6fea2f16350ba0997d02c6aba33fafcc7d,Rename README.md to README.rst,MERGED,2019-08-05 15:17:00.000000000,2019-08-06 10:13:36.000000000,2019-08-06 10:13:36.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 15:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5b22b9eede2eb049f2f4b4d91c9f47064fc1c558', 'message': ""Rename README.md to README.rst\n\nThis repo uses RST files everywhere, let's be consistent and write the\nREADME using RST as well.\n\nThis also fixes a PyPI upload issue where PyPI expects RST and cannot\nhandle markdown (unless we tell it is markdown). The alternative\nsolution is https://review.opendev.org/668502.\n\nChange-Id: If9b22f6fea2f16350ba0997d02c6aba33fafcc7d\n""}, {'number': 2, 'created': '2019-08-05 16:02:18.000000000', 'files': ['README.rst', 'setup.cfg', 'README.md'], 'web_link': 'https://opendev.org/openstack/barbican/commit/89b31921e1b895e4d415a73271a3c42843cde06c', 'message': ""Rename README.md to README.rst\n\nThis repo uses RST files everywhere, let's be consistent and write the\nREADME using RST as well.\n\nThis also fixes a PyPI upload issue where PyPI expects RST and cannot\nhandle markdown (unless we tell it is markdown). The alternative\nsolution is https://review.opendev.org/668502.\n\nChange-Id: If9b22f6fea2f16350ba0997d02c6aba33fafcc7d\n""}]",0,674632,89b31921e1b895e4d415a73271a3c42843cde06c,13,3,2,6547,,,0,"Rename README.md to README.rst

This repo uses RST files everywhere, let's be consistent and write the
README using RST as well.

This also fixes a PyPI upload issue where PyPI expects RST and cannot
handle markdown (unless we tell it is markdown). The alternative
solution is https://review.opendev.org/668502.

Change-Id: If9b22f6fea2f16350ba0997d02c6aba33fafcc7d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/32/674632/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'setup.cfg', 'README.md']",3,5b22b9eede2eb049f2f4b4d91c9f47064fc1c558,fix-builds,,"Team and repository tags ======================== [![Team and repository tags](https://governance.openstack.org/tc/badges/barbican.svg)](https://governance.openstack.org/tc/reference/tags/index.html) <!-- Change things from this point on --> # Barbican Barbican is a REST API designed for the secure storage, provisioning and management of secrets. It is aimed at being useful for all environments, including large ephemeral Clouds. Barbican is an OpenStack project developed by the [Barbican Project Team ](https://wiki.openstack.org/wiki/Barbican) with support from [Rackspace Hosting](http://www.rackspace.com/), EMC, Ericsson, Johns Hopkins University, HP, Red Hat, Cisco Systems, and many more. The full documentation can be found on the [Barbican Developer Documentation Site](https://docs.openstack.org/barbican/latest/). If you have a technical question, you can ask it at [Ask OpenStack]( https://ask.openstack.org/en/questions/) with the `barbican` tag, or you can send an email to the [OpenStack General mailing list]( http://lists.openstack.org/pipermail/openstack/) at `openstack@lists.openstack.org` with the prefix `[barbican]` in the subject. To file a bug, use our bug tracker on [OpenStack Storyboard]( https://storyboard.openstack.org/#!/project/980). Release notes for the project can be found at( https://docs.openstack.org/releasenotes/barbican). For development questions or discussion, hop on the [OpenStack-dev mailing list ](http://lists.openstack.org/pipermail/openstack-dev/) at `openstack-dev@lists.openstack.org` and let us know what you think, just add `[barbican]` to the subject. You can also join our IRC channel `#openstack-barbican` on Freenode. Barbican began as part of a set of applications that make up the CloudKeep ecosystem. The other systems are: * [Postern](https://github.com/cloudkeep/postern) - Go based agent that provides access to secrets from the Barbican API. * [Palisade](https://github.com/cloudkeep/palisade) - AngularJS based web ui for the Barbican API. * [Python-barbicanclient](https://github.com/openstack/python-barbicanclient) - A convenient Python-based library to interact with the Barbican API. ## Getting Started Please visit our [Users, Developers and Operators documentation ](https://docs.openstack.org/barbican/latest/) for details. ## Why Should You Use Barbican? The current state of key management is atrocious. While Windows does have some decent options through the use of the Data Protection API (DPAPI) and Active Directory, Linux lacks a cohesive story around how to manage keys for application use. Barbican was designed to solve this problem. The system was motivated by internal Rackspace needs, requirements from [OpenStack](http://www.openstack.org/) and a realization that the current state of the art could use some help. Barbican will handle many types of secrets, including: * **Symmetric Keys** - Used to perform reversible encryption of data at rest, typically using the AES algorithm set. This type of key is required to enable features like [encrypted Swift containers and Cinder volumes](http://www.openstack.org/software/openstack-storage/), [encrypted Cloud Backups](http://www.rackspace.com/cloud/backup/), etc. * **Asymmetric Keys** - Asymmetric key pairs (sometimes referred to as [public / private keys](http://en.wikipedia.org/wiki/Public-key_cryptography)) are used in many scenarios where communication between untrusted parties is desired. The most common case is with SSL/TLS certificates, but also is used in solutions like SSH keys, S/MIME (mail) encryption and digital signatures. * **Raw Secrets** - Barbican stores secrets as a base64 encoded block of data (encrypted, naturally). Clients can use the API to store any secrets in any format they desire. The [Postern](https://github.com/cloudkeep/postern) agent is capable of presenting these secrets in various formats to ease integration. For the symmetric and asymmetric key types, Barbican supports full life cycle management including provisioning, expiration, reporting, etc. A plugin system allows for multiple certificate authority support (including public and private CAs). ## Design Goals 1. Provide a central secret-store capable of distributing secret / keying material to all types of deployments including ephemeral Cloud instances. 2. Support reasonable compliance regimes through reporting and auditability. 3. Application adoption costs should be minimal or non-existent. 4. Build a community and ecosystem by being open-source and extensible. 5. Improve security through sane defaults and centralized management of [policies for all secrets](https://github.com/cloudkeep/barbican/wiki/Policies). 6. Provide an out of band communication mechanism to notify and protect sensitive assets. ",112,103
openstack%2Fnetworking-ovn~stable%2Frocky~I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,openstack/networking-ovn,stable/rocky,I0faa19ef48f2dc5591c0337ae5a0599abc2e4168,Maintenance task: Enhance debug logging,MERGED,2019-07-26 15:06:35.000000000,2019-08-06 10:12:09.000000000,2019-08-06 10:12:08.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-26 15:06:35.000000000', 'files': ['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6570ffa52f30ebc208a4564d45fd92b389298e14', 'message': 'Maintenance task: Enhance debug logging\n\nThis patch is enhancing the maintenance task debug logs by:\n\n* Logging a summary with the number of failures on each resource type\n* Logging the UUID and type of the resource being fixed at that time\n* Changing the prefix of the maintenance logs for easy grepping\n\nConflicts:\n\tnetworking_ovn/common/maintenance.py\n\nCloses-Bug: #1837003\nChange-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)\n'}]",0,673001,6570ffa52f30ebc208a4564d45fd92b389298e14,10,4,1,6773,,,0,"Maintenance task: Enhance debug logging

This patch is enhancing the maintenance task debug logs by:

* Logging a summary with the number of failures on each resource type
* Logging the UUID and type of the resource being fixed at that time
* Changing the prefix of the maintenance logs for easy grepping

Conflicts:
	networking_ovn/common/maintenance.py

Closes-Bug: #1837003
Change-Id: I0faa19ef48f2dc5591c0337ae5a0599abc2e4168
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit f59acf38968ce9c6129f1a1bffd277af8406a2d0)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/01/673001/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py']",2,6570ffa52f30ebc208a4564d45fd92b389298e14,bug/1837003,"from networking_ovn.common import config as ovn_config @mock.patch.object(maintenance.LOG, 'debug') def test__log_maintenance_inconsistencies(self, mock_log): ovn_config.cfg.CONF.set_override('debug', True) # Create fake inconsistencies: 2 networks, 4 subnets and 8 ports incst = [] incst += [mock.Mock(resource_type=constants.TYPE_NETWORKS)] * 2 incst += [mock.Mock(resource_type=constants.TYPE_SUBNETS)] * 4 incst += [mock.Mock(resource_type=constants.TYPE_PORTS)] * 8 # Create fake inconsistencies for delete: 3 routers and 6 router ports incst_del = [] incst_del += [mock.Mock(resource_type=constants.TYPE_ROUTERS)] * 3 incst_del += [mock.Mock(resource_type=constants.TYPE_ROUTER_PORTS)] * 6 self.periodic._log_maintenance_inconsistencies(incst, incst_del) # Assert LOG.debug was called twice self.assertEqual(2, len(mock_log.call_args_list)) # Assert the log matches the number of inconsistencies fail_str_create_update = mock_log.call_args_list[0][0][1]['fail_str'] self.assertIn('networks=2', fail_str_create_update) self.assertIn('subnets=4', fail_str_create_update) self.assertIn('ports=8', fail_str_create_update) fail_str_delete = mock_log.call_args_list[1][0][1]['fail_str'] self.assertIn('routers=3', fail_str_delete) self.assertIn('router_ports=6', fail_str_delete) @mock.patch.object(maintenance.LOG, 'debug') def test__log_maintenance_inconsistencies_debug_disabled(self, mock_log): ovn_config.cfg.CONF.set_override('debug', False) incst = [mock.Mock(resource_type=constants.TYPE_NETWORKS)] * 2 self.periodic._log_maintenance_inconsistencies(incst, []) self.assertFalse(mock_log.called)",,84,5
openstack%2Fnetworking-ovn~stable%2Fstein~I0f57a1706d41836b35ffd33bb154af6a5667b7cd,openstack/networking-ovn,stable/stein,I0f57a1706d41836b35ffd33bb154af6a5667b7cd,Replace httplib2 with requests in metadata agent,MERGED,2019-07-30 12:36:35.000000000,2019-08-06 10:11:43.000000000,2019-08-06 10:11:43.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-30 12:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0c6b31364bb68f524cd4e4e64e2495825c6bcc9c', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}, {'number': 2, 'created': '2019-08-05 07:59:35.000000000', 'files': ['networking_ovn/agent/metadata/server.py', 'requirements.txt', 'networking_ovn/tests/unit/agent/metadata/test_server.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/075f07b118674065b504824280e1c1024d6f2525', 'message': 'Replace httplib2 with requests in metadata agent\n\nhttplib2 uses PROTOCOL_TLSv1 which in fact restricts\nconnection to TLS v1.0 only.\nThis patch moves to use requests library that uses\nPROTOCOL_TLS, that supports all versions supported\nSSL library.\nSame change was made a while ago in neutron [0].\n\n[0] https://review.opendev.org/#/c/593641/\n\nCo-Authored-By: James Page <james.page@ubuntu.com>\n\nChange-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd\nCloses-Bug: #1837870\n(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)\n'}]",2,673499,075f07b118674065b504824280e1c1024d6f2525,22,7,2,24791,,,0,"Replace httplib2 with requests in metadata agent

httplib2 uses PROTOCOL_TLSv1 which in fact restricts
connection to TLS v1.0 only.
This patch moves to use requests library that uses
PROTOCOL_TLS, that supports all versions supported
SSL library.
Same change was made a while ago in neutron [0].

[0] https://review.opendev.org/#/c/593641/

Co-Authored-By: James Page <james.page@ubuntu.com>

Change-Id: I0f57a1706d41836b35ffd33bb154af6a5667b7cd
Closes-Bug: #1837870
(cherry picked from commit c3b9cdccd6422d22f904e6594b392131fff7ed98)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/99/673499/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/server.py', 'requirements.txt', 'networking_ovn/tests/unit/agent/metadata/test_server.py', 'lower-constraints.txt']",4,0c6b31364bb68f524cd4e4e64e2495825c6bcc9c,bug/1837870,,httplib2==0.9.1,54,54
openstack%2Fneutron-lbaas~stable%2Fqueens~I7c79271998d839c6afbeb6d92f888f6acd67704e,openstack/neutron-lbaas,stable/queens,I7c79271998d839c6afbeb6d92f888f6acd67704e,Fix memory leak in the haproxy provider driver,MERGED,2019-06-14 14:38:57.000000000,2019-08-06 10:06:42.000000000,2019-06-15 00:05:36.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 14:38:57.000000000', 'files': ['neutron_lbaas/drivers/haproxy/namespace_driver.py', 'neutron_lbaas/tests/unit/drivers/haproxy/test_namespace_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/40457e2573282243846655d993fae1ddbd671729', 'message': 'Fix memory leak in the haproxy provider driver\n\nThe haproxy provider driver uses a dict for caching load balancer\nresources (including children resources). That alone already increases\nmemory consumption. A neutron-server restart solves this.\n\nBut the real issue is that the driver leaves some data behind when a LB\nis deleted without freeing it up (unless neutron-server is restart)\nhence the memory leak.\n\nStory: 2003802\nTask: 26534\n\nChange-Id: I7c79271998d839c6afbeb6d92f888f6acd67704e\n(cherry picked from commit 111d0b285200961fa796532688ae65d4ca801ce8)\n'}]",0,665411,40457e2573282243846655d993fae1ddbd671729,10,4,1,6469,,,0,"Fix memory leak in the haproxy provider driver

The haproxy provider driver uses a dict for caching load balancer
resources (including children resources). That alone already increases
memory consumption. A neutron-server restart solves this.

But the real issue is that the driver leaves some data behind when a LB
is deleted without freeing it up (unless neutron-server is restart)
hence the memory leak.

Story: 2003802
Task: 26534

Change-Id: I7c79271998d839c6afbeb6d92f888f6acd67704e
(cherry picked from commit 111d0b285200961fa796532688ae65d4ca801ce8)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/11/665411/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/drivers/haproxy/namespace_driver.py', 'neutron_lbaas/tests/unit/drivers/haproxy/test_namespace_driver.py']",2,40457e2573282243846655d993fae1ddbd671729,story/2003802-stable/rocky-stable/queens," self.assertDictEqual(self.driver.deployed_loadbalancers, {})",,4,0
openstack%2Fnova~master~Ie76464ae6739a02580f67dcfeeb447d6a5927a6c,openstack/nova,master,Ie76464ae6739a02580f67dcfeeb447d6a5927a6c,Store a RequestContext on service to reuse for periodic tasks,NEW,2017-11-30 18:13:01.000000000,2019-08-06 10:00:31.000000000,,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-30 18:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/101db1cff584d64c563a748c13bf0c2e58bb4323', 'message': 'WIP Store a RequestContext on service to reuse for periodic tasks\n\nChange-Id: Ie76464ae6739a02580f67dcfeeb447d6a5927a6c\n'}, {'number': 2, 'created': '2018-02-06 01:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/682aac175c8a10cbf7223fbb4bcf756a16306f2e', 'message': 'Store a RequestContext on service to reuse for periodic tasks\n\nWe should use a consistent RequestContext to call database methods\nfrom a service, which includes querying for a service record and\nrunning periodic tasks.\n\nThis also bans calls of get_admin_context() and get_context() in\nperiodic task methods to ensure they use the RequestContext passed\nto them by the service, instead.\n\nChange-Id: Ie76464ae6739a02580f67dcfeeb447d6a5927a6c\n'}, {'number': 3, 'created': '2019-07-31 22:05:51.000000000', 'files': ['nova/service.py', 'nova/tests/fixtures.py', 'nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/036b7b61c577749b93ab50827dbafab581fc81ad', 'message': 'Store a RequestContext on service to reuse for periodic tasks\n\nWe should use a consistent RequestContext to call database methods\nfrom a service, which includes querying for a service record and\nrunning periodic tasks.\n\nThis also bans calls of get_admin_context() and get_context() in\nperiodic task methods to ensure they use the RequestContext passed\nto them by the service, instead.\n\nChange-Id: Ie76464ae6739a02580f67dcfeeb447d6a5927a6c\n'}]",5,524306,036b7b61c577749b93ab50827dbafab581fc81ad,45,17,3,4690,,,0,"Store a RequestContext on service to reuse for periodic tasks

We should use a consistent RequestContext to call database methods
from a service, which includes querying for a service record and
running periodic tasks.

This also bans calls of get_admin_context() and get_context() in
periodic task methods to ensure they use the RequestContext passed
to them by the service, instead.

Change-Id: Ie76464ae6739a02580f67dcfeeb447d6a5927a6c
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/524306/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/service.py'],1,101db1cff584d64c563a748c13bf0c2e58bb4323,improve-celldatabases," # Store a RequestContext on the service to be reused for things like # periodic tasks. This helps with functional testing with multiple # cells. self.ctxt = None self.ctxt = context.get_admin_context() self.ctxt, self.host, self.binary) self.service_ref = _create_service_ref(self, self.ctxt) self.ctxt, self.host, self.binary) return self.manager.periodic_tasks(self.ctxt, raise_on_error=raise_on_error)"," ctxt = context.get_admin_context() ctxt, self.host, self.binary) self.service_ref = _create_service_ref(self, ctxt) ctxt, self.host, self.binary) ctxt = context.get_admin_context() return self.manager.periodic_tasks(ctxt, raise_on_error=raise_on_error)",10,6
openstack%2Fopenstack-chef~master~I2be43a81c5c8d4e36253b740affe7223f7a54acd,openstack/openstack-chef,master,I2be43a81c5c8d4e36253b740affe7223f7a54acd,Add CentOS 7 for integration check and gate jobs,MERGED,2019-07-08 05:00:08.000000000,2019-08-06 09:59:20.000000000,2019-08-06 09:59:20.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 05:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/35b1805c276c38b2b77ae8c053a2714d98d08d93', 'message': ""Add CentOS 7 for integration check and gate jobs\n\nI'd really like to re-enable integration tests for CentOS since we use\nit quite a bit. This should also hopefully catch any issues that might\nbe missed.\n\nChange-Id: I2be43a81c5c8d4e36253b740affe7223f7a54acd\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}, {'number': 2, 'created': '2019-07-08 05:14:11.000000000', 'files': ['Rakefile', '.zuul.yaml', 'environments/integration.json'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/d3a307d9179867ad50bc4c63494a712eb04c094e', 'message': ""Add CentOS 7 for integration check and gate jobs\n\nI'd really like to re-enable integration tests for CentOS since we use\nit quite a bit. This should also hopefully catch any issues that might\nbe missed.\n\nChange-Id: I2be43a81c5c8d4e36253b740affe7223f7a54acd\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",1,669601,d3a307d9179867ad50bc4c63494a712eb04c094e,8,3,2,21961,,,0,"Add CentOS 7 for integration check and gate jobs

I'd really like to re-enable integration tests for CentOS since we use
it quite a bit. This should also hopefully catch any issues that might
be missed.

Change-Id: I2be43a81c5c8d4e36253b740affe7223f7a54acd
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/01/669601/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,35b1805c276c38b2b77ae8c053a2714d98d08d93,openstack-chef-integration-centos, name: openstack-chef-integration-ubuntu nodeset: ubuntu-bionic- job: name: openstack-chef-integration-centos parent: base nodeset: centos-7 description: Run integration tests with openstack-chef on CentOS 7 required-projects: openstack/openstack-chef pre-run: playbooks/pre-integration.yaml run: playbooks/integration.yaml post-run: playbooks/post.yaml timeout: 5400 - openstack-chef-integration-ubuntu - openstack-chef-integration-centos - openstack-chef-integration-ubuntu - openstack-chef-integration-centos, name: openstack-chef-integration - openstack-chef-integration - openstack-chef-integration,17,3
openstack%2Fpython-ironic-inspector-client~master~I020d115300048d17b9e9f646675e488132a40b07,openstack/python-ironic-inspector-client,master,I020d115300048d17b9e9f646675e488132a40b07,Bump the openstackdocstheme extension to 1.20,MERGED,2019-08-02 06:14:15.000000000,2019-08-06 09:50:00.000000000,2019-08-06 09:50:00.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-02 06:14:15.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/f502d73cdadc1df44dbfa58d852a26221ade16b4', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I020d115300048d17b9e9f646675e488132a40b07\n'}]",0,674186,f502d73cdadc1df44dbfa58d852a26221ade16b4,8,4,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I020d115300048d17b9e9f646675e488132a40b07
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/86/674186/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,f502d73cdadc1df44dbfa58d852a26221ade16b4,openstackdocstheme,,"project = u'Ironic Inspector Client Release Notes'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,26
openstack%2Fironic~master~Ib00b56305785083a2400fb428b1bcf3c47e027ed,openstack/ironic,master,Ib00b56305785083a2400fb428b1bcf3c47e027ed,DRAC : Fix issue for RAID-0 creation for multiple disks for PERC H740P controller in Ironic,ABANDONED,2019-08-06 08:53:22.000000000,2019-08-06 09:30:34.000000000,,[],"[{'number': 1, 'created': '2019-08-06 08:53:22.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/fix_raid0_creation_for_multiple_disks-f47957754fca0312.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a389960a2e8f310552797d4baafaaeff73bd0073', 'message': 'DRAC : Fix issue for RAID-0 creation for multiple disks for\nPERC H740P controller in Ironic\n\nChange-Id: Ib00b56305785083a2400fb428b1bcf3c47e027ed\nStory: 2005364\nBug: 36089\n'}]",0,674756,a389960a2e8f310552797d4baafaaeff73bd0073,4,0,1,29834,,,0,"DRAC : Fix issue for RAID-0 creation for multiple disks for
PERC H740P controller in Ironic

Change-Id: Ib00b56305785083a2400fb428b1bcf3c47e027ed
Story: 2005364
Bug: 36089
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/674756/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/fix_raid0_creation_for_multiple_disks-f47957754fca0312.yaml']",3,a389960a2e8f310552797d4baafaaeff73bd0073,bug/36089,"--- fixes: - | Fixed a bug when executes ``create_configuration`` cleaning step for disks of PERC H740P controller, first disks gets created and then controller doesn't allow to create next couple disks because controller is getting busy at one time. ",,14,6
openstack%2Fmistral~master~I69c32f1a6fc34cd3c0c843e847cb190c2fa53010,openstack/mistral,master,I69c32f1a6fc34cd3c0c843e847cb190c2fa53010,Improve error message when sync actions timeout,MERGED,2019-07-29 14:22:02.000000000,2019-08-06 09:29:20.000000000,2019-08-06 09:29:20.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 18955}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-07-29 14:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4c3742b0425ab96515601ae4bd8279d4d7d1e05f', 'message': 'Improve error message when sync actions timeout\n\nWrap the exception in case of a MessageTimeout to\nsomething more clear\n\nChange-Id: I69c32f1a6fc34cd3c0c843e847cb190c2fa53010\nCloses-bug: #1721571\n'}, {'number': 2, 'created': '2019-08-01 12:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8267718affa6b8f55dbc70a0c0c6f519bf43eb12', 'message': 'Improve error message when sync actions timeout\n\nMake the exception in case of a MessageTimeout to\nbe something more clear\n\nChange-Id: I69c32f1a6fc34cd3c0c843e847cb190c2fa53010\nCloses-bug: #1721571\n'}, {'number': 3, 'created': '2019-08-01 13:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6a7154e04a3c1e674458066195695f24d0ee8aef', 'message': 'Improve error message when sync actions timeout\n\nMake the exception in case of a MessageTimeout to\nbe something more clear\n\nChange-Id: I69c32f1a6fc34cd3c0c843e847cb190c2fa53010\nCloses-bug: #1721571\n'}, {'number': 4, 'created': '2019-08-01 13:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/51b8b07ab1cbca3d631da8d7ba16e03a495dc8ae', 'message': 'Improve error message when sync actions timeout\n\nMake the exception in case of a MessageTimeout to\nbe something more clear\n\nChange-Id: I69c32f1a6fc34cd3c0c843e847cb190c2fa53010\nCloses-bug: #1721571\n'}, {'number': 5, 'created': '2019-08-04 11:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f1803fa39cb6bc7eb972a105bd94b4e7cdef4d28', 'message': 'Improve error message when sync actions timeout\n\nMake the exception in case of a MessageTimeout to\nbe something more clear\n\nChange-Id: I69c32f1a6fc34cd3c0c843e847cb190c2fa53010\nCloses-bug: #1721571\n'}, {'number': 6, 'created': '2019-08-05 11:15:25.000000000', 'files': ['mistral/rpc/base.py', 'mistral/tests/unit/api/v2/test_action_executions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/babcd0d6831b4596ce3f392990aecefc60ae7193', 'message': 'Improve error message when sync actions timeout\n\nMake the exception in case of a MessageTimeout to\nbe something more clear\n\nChange-Id: I69c32f1a6fc34cd3c0c843e847cb190c2fa53010\nCloses-bug: #1721571\n'}]",13,673298,babcd0d6831b4596ce3f392990aecefc60ae7193,27,7,6,19134,,,0,"Improve error message when sync actions timeout

Make the exception in case of a MessageTimeout to
be something more clear

Change-Id: I69c32f1a6fc34cd3c0c843e847cb190c2fa53010
Closes-bug: #1721571
",git fetch https://review.opendev.org/openstack/mistral refs/changes/98/673298/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/rpc/base.py', 'mistral/rpc/clients.py', 'mistral/tests/unit/api/v2/test_action_executions.py']",3,4c3742b0425ab96515601ae4bd8279d4d7d1e05f,bug/1721571,"from oslo_messaging.exceptions import MessagingTimeout def test_post_timeout(self): mocked = mock.Mock() mocked.sync_call.side_effect = MessagingTimeout() rpc_clients.get_engine_client()._client = mocked resp = self.app.post_json( '/v2/action_executions', { 'name': 'std.sleep', 'input': {'seconds': 120} }, expect_errors=True ) error_msg = resp.json['faultstring'] self.assertEqual(error_msg, ""This sync call took longer then configured"") ",,40,0
openstack%2Fironic-inspector-specs~master~I7c09548b1e601039ca149e08659cd1a3d42adc97,openstack/ironic-inspector-specs,master,I7c09548b1e601039ca149e08659cd1a3d42adc97,Update the etcd spec,MERGED,2019-08-05 05:46:50.000000000,2019-08-06 09:29:14.000000000,2019-08-06 09:29:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-05 05:46:50.000000000', 'files': ['specs/tooz-coordination.rst', 'specs/etcd-coordination.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector-specs/commit/f91684c79189fce8d34d0b1b11e1c3ea341bcd34', 'message': ""Update the etcd spec\n\nThe original spec focused on the etcd service, while tooz supports\nmultiple backend via drivers, we are actually introducing a\ncoordination mechanism via tooz, which is not specific to etcd itself.\n\nAlso, there are limitations on configuration options proposed in the\nspec, e.g., authentication is not achievable by current tooz version,\nwhich is removed from the spec. Reduced proposed new configuration\noptions, for they actually don't provide much value.\n\nAbove all, the patch updates the spec to reflect current implementation.\n\nChange-Id: I7c09548b1e601039ca149e08659cd1a3d42adc97\n""}]",0,674532,f91684c79189fce8d34d0b1b11e1c3ea341bcd34,7,3,1,24828,,,0,"Update the etcd spec

The original spec focused on the etcd service, while tooz supports
multiple backend via drivers, we are actually introducing a
coordination mechanism via tooz, which is not specific to etcd itself.

Also, there are limitations on configuration options proposed in the
spec, e.g., authentication is not achievable by current tooz version,
which is removed from the spec. Reduced proposed new configuration
options, for they actually don't provide much value.

Above all, the patch updates the spec to reflect current implementation.

Change-Id: I7c09548b1e601039ca149e08659cd1a3d42adc97
",git fetch https://review.opendev.org/openstack/ironic-inspector-specs refs/changes/32/674532/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/tooz-coordination.rst', 'specs/etcd-coordination.rst']",2,f91684c79189fce8d34d0b1b11e1c3ea341bcd34,update-etcd-spec,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Incorporate ETCD as service coordination ======================================== https://storyboard.openstack.org/#!/story/2001842 This spec is part of the ironic-inspector HA work. To further split the inspector service, this spec proposes to introduce etcd as the base service for the coordination between ironic-inspector API and conductor services. Problem description =================== Based on the previous work, the single process ironic-inspector is logically splitted into two services both running under ``oslo.service``, namely ``ironic_inspector`` and ``ironic-inspector-conductor``. Currently the functional test uses fake messaging driver which only works within a single process, To split two services into two processes, we need to address it before we can split two services into respective executables. we can either add rabbitmq support for functional test environment or introduce another messaging mechanism like ``json-rpc``. Since etcd is already an OpenStack base service, the community has a preference on the later one. Even when services are splitted, we are facing the challenge of service coordination, for multiple inspector conductor services, we need a way to prevent racing of concurrent operation on the same node, or choosing which inspector conductor should the request be delivered to. Proposed change =============== etcd [#]_ is a distributed key value store that provides a reliable way to store data across a cluster of machines. As etcd is already a base service for the OpenStack platform [#]_, the spec proposes to add ``python-etcd3`` and ``tooz`` [#]_ as project requirements for the service coordination. ``tooz`` provides several feature encapsulations like group management, locking, etc. Group management is only implemented for ETCD API v3, thus ``python-etcd3`` is required. All proposed work is implemented via ``tooz`` interfaces. Each service will create a coordinator and keep heartbeating, the example workflow for ironic-inspector API service is listed below: #. Create a coordinator with hostname #. Create a predefined group, bypass if the group already exists. By default, the group name is ``ironic-inspector-service-group``. #. Upon each API request, the API service will query members from the group, randomly pick one conductor and deliver the request to it through rpc mechanism. The example workflow for ironic-inspector conductor service is listed below: #. Create a coordinator with hostname #. Join the predefined group as a member, the group name is ``ironic-inspector-service-group`` by default. If the group does not exist, it will be created. #. Leave group when service is shutdown. The spec will add two console scripts to support executing API and conductor services separately, namely ``ironic-inspector-api`` and ``ironic-inspector-conductor``. To keep backwards compatibility, ``ironic-inspector`` continues to serve the single process mode, and sticks to use the fake messaging driver. It will be removed when gets obsolete. Adds a configuration option ``[DEFAULT]rpc_transport`` to specify the rpc backend, values can be ``fake`` (the default) or ``oslo``. This option will be used to determine current execution mode for three console scripts mentioned above. ``ironic-inspector`` only runs when the rpc transport is ``fake``, while ``ironic-inspector-api`` and ``ironic-inspector-conductor`` only run when it's not ``fake``. We expect to add ``json-rpc`` in the future. There is no distributed locking support for ironic-inspector, this spec will introduce an abstract lock layer, and implement locking support based on tooz. After the spec is implemented, there will be two kind of locks: internal and etcd. The using of different locking types is decided internally and not exposed to end users at the moment. ironic-inspector running as a single process will adopt semaphore based internal locking, otherwise etcd locking will be used. Alternatives ------------ Though it's totally workable to utilize database as the coordination source just like ironic, it would be much lighter if implemented with tooz. tooz also supports multiple backends, which brings more possibilities in deployement. Data model impact ----------------- None. HTTP API impact --------------- None. Client (CLI) impact ------------------- None. Ironic python agent impact -------------------------- None. Ironic impact ------------- None. Performance and scalability impact ---------------------------------- There should be no obvious performance and scalability impact before services are actually splitted. Security impact --------------- None. Deployer impact --------------- A new configuration section ``etcd`` with following options will be added to support etcd operation: * ``host`` and ``port``: specify the etcd service endpoint. * ``ca_cert``, ``cert_key`` and ``cert_cert``: specify SSL related authentication. * ``timeout``: connection timeout per request. * ``user`` and ``password``: the username and password if etcd authentication is required. * ``group_path``: the name of service group used to coordinate inspector services, it can be a key path, a key prefix or both. By default, the value will be ``/openstack/ironic-inspector/service-group``. * ``lock_prefix``: a string prefix for a lock name, for example, locking a node ``fake-node-uuid`` with prefix ``ironic-inspector`` will have a lock name of ``ironic-inspector.fake-node-uuid`` passed to tooz. The configuration option ``[DEFAULT]rpc_transport`` defaults to ``fake`` which has no impact on the single process ``ironic-inspector``. New options introduced in this spec only needs to be configured when ironic inspector service is running distributedly. Developer impact ---------------- None. Upgrades and Backwards Compatibility ------------------------------------ The single process ``ironic-inspector`` service is unchanged. However, for installations adopt distributed ironic-inspector services, the etcd v3 will be a mandatory requirement, and necessary configuration options will be required. Implementation ============== Assignee(s) ----------- Primary assignee: kaifeng - kaifeng.w@gmail.com Other contributors: None Work Items ---------- Implement proposed work. Dependencies ============ ``python-etcd3`` and ``tooz`` are required library support for ironic-inspector running as separated services. There should be a etcd v3 service running in the same cloud. Testing ======= Will be covered by unittest and bifrost. References ========== .. [#] https://coreos.com/etcd/ .. [#] https://governance.openstack.org/tc/reference/base-services.html#current-list-of-base-services .. [#] https://docs.openstack.org/tooz/latest/user/index.html ",195,209
openstack%2Fkuryr-kubernetes~master~Ie9173a48ff6dde52d0578e4dca75f3176d07ea6c,openstack/kuryr-kubernetes,master,Ie9173a48ff6dde52d0578e4dca75f3176d07ea6c,Unset --admission-control when starting K8s API,MERGED,2019-07-31 13:54:37.000000000,2019-08-06 09:21:05.000000000,2019-08-06 09:21:05.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-07-31 13:54:37.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6bc7a424b7fc4215b40d544d7e57144058adb3e0', 'message': ""Unset --admission-control when starting K8s API\n\nI don't really know why we put --admission-control flag with some\narbitrary plugins in there, but this commit removes it due to two\nreasons:\n1. It's a deprecated flag.\n2. We don't rely on admission control plugins at all in DevStack.\n\nChange-Id: Ie9173a48ff6dde52d0578e4dca75f3176d07ea6c\n""}]",0,673819,6bc7a424b7fc4215b40d544d7e57144058adb3e0,8,5,1,11600,,,0,"Unset --admission-control when starting K8s API

I don't really know why we put --admission-control flag with some
arbitrary plugins in there, but this commit removes it due to two
reasons:
1. It's a deprecated flag.
2. We don't rely on admission control plugins at all in DevStack.

Change-Id: Ie9173a48ff6dde52d0578e4dca75f3176d07ea6c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/19/673819/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6bc7a424b7fc4215b40d544d7e57144058adb3e0,remove-admission,," --admission-control=NamespaceLifecycle,LimitRanger,ServiceAccount,ResourceQuota",0,1
openstack%2Fcookbook-openstack-dns~master~I5d6f13d420b761ad14cda546119fda7ee4e9f8a3,openstack/cookbook-openstack-dns,master,I5d6f13d420b761ad14cda546119fda7ee4e9f8a3,Fixes to support fog-openstack-1.x,MERGED,2019-07-06 20:38:03.000000000,2019-08-06 09:15:01.000000000,2019-08-06 09:15:01.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-06 20:38:03.000000000', 'files': ['recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/a6ec2075616b8f880a2199490b31f23b5b59345b', 'message': 'Fixes to support fog-openstack-1.x\n\nfog-openstack-1.x already appends ""auth/tokens"" so we no longer need to\ndo that.\n\nChange-Id: I5d6f13d420b761ad14cda546119fda7ee4e9f8a3\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,669555,a6ec2075616b8f880a2199490b31f23b5b59345b,7,3,1,21961,,,0,"Fixes to support fog-openstack-1.x

fog-openstack-1.x already appends ""auth/tokens"" so we no longer need to
do that.

Change-Id: I5d6f13d420b761ad14cda546119fda7ee4e9f8a3
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dns refs/changes/55/669555/1 && git format-patch -1 --stdout FETCH_HEAD,['recipes/identity_registration.rb'],1,a6ec2075616b8f880a2199490b31f23b5b59345b,fix-fog-openstack," openstack_auth_url: auth_url,"," openstack_auth_url: ""#{auth_url}/auth/tokens"",",1,1
openstack%2Fbarbican~master~I58b934d7d4dc0f5e0928af89b48320799dac9eed,openstack/barbican,master,I58b934d7d4dc0f5e0928af89b48320799dac9eed,Added section for Utimaco HSM in documentation.,MERGED,2019-03-08 12:51:49.000000000,2019-08-06 09:01:33.000000000,2019-08-06 09:01:32.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 28543}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-03-08 12:51:49.000000000', 'files': ['doc/source/install/barbican-backend.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/83affb82b2c2670a093c28a990442cfed9afdd0a', 'message': 'Added section for Utimaco HSM in documentation.\n\nThis is to address concerns which were made in a previous patch\n(see https://review.openstack.org/635736).\n\nChange-Id: I58b934d7d4dc0f5e0928af89b48320799dac9eed\n'}]",0,642004,83affb82b2c2670a093c28a990442cfed9afdd0a,35,7,1,29891,,,0,"Added section for Utimaco HSM in documentation.

This is to address concerns which were made in a previous patch
(see https://review.openstack.org/635736).

Change-Id: I58b934d7d4dc0f5e0928af89b48320799dac9eed
",git fetch https://review.opendev.org/openstack/barbican refs/changes/04/642004/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/barbican-backend.rst'],1,83affb82b2c2670a093c28a990442cfed9afdd0a,configurable-HMAC-mechanism-DocUpdate,"Utimaco +++++++ The PKCS#11 plugin configuration looks like: .. code-block:: ini # ================= Secret Store Plugin =================== [secretstore] .. enabled_secretstore_plugins = store_crypto [p11_crypto_plugin] # Path to vendor PKCS11 library (string value) library_path = '/opt/utimaco/lib/libcs_pkcs11_R2.so' # Password to login to PKCS11 session (string value) login = '$up3r$e<retP4ssw0rd' # Master KEK label (as stored in the HSM) (string value) mkek_label = 'my_mkek' # Master KEK length in bytes. (integer value) #mkek_length = <None> # Master HMAC Key label (as stored in the HSM) (string value) hmac_label = 'my_hmac_key' # HSM Slot ID (integer value) slot_id = 0 # Flag for Read/Write Sessions (boolean value) #rw_session = true # Project KEK length in bytes. (integer value) #pkek_length = 32 # Project KEK Cache Time To Live, in seconds (integer value) #pkek_cache_ttl = 900 # Project KEK Cache Item Limit (integer value) #pkek_cache_limit = 100 # Secret encryption mechanism (string value) # Deprecated group/name - [p11_crypto_plugin]/algorithm encryption_mechanism = CKM_AES_CBC # HMAC Key Type (string value) #hmac_key_type = CKK_AES # HMAC Key Generation Algorithm (string value) #hmac_keygen_mechanism = CKM_AES_KEY_GEN # File to pull entropy for seeding RNG (string value) #seed_file = # Amount of data to read from file for seed (integer value) #seed_length = 32 # User friendly plugin name (string value) #plugin_name = PKCS11 HSM # Generate IVs for CKM_AES_GCM mechanism. (boolean value) # Deprecated group/name - [p11_crypto_plugin]/generate_iv #aes_gcm_generate_iv = true # HMAC key wrap mechanism hmac_keywrap_mechanism = CKM_AES_MAC The HMAC and MKEK keys can be generated as follows: .. code-block:: ini barbican-manage hsm gen_mkek --library-path \ /opt/utimaco/lib/libcs_pkcs11_R2.so --passphrase XXX \ --slot-id 0 --label 'my_mkek' .. code-block:: ini barbican-manage hsm gen_hmac --library-path \ /opt/utimaco/lib/libcs_pkcs11_R2.so --passphrase XXX \ --slot-id 0 --label 'my_hmac_key' ",,84,0
openstack%2Fcinder~master~I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a,openstack/cinder,master,I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a,Compress images uploaded to Glance,MERGED,2019-07-03 15:55:09.000000000,2019-08-06 08:52:16.000000000,2019-08-04 20:26:09.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-03 15:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c2a223d39733fe660ce48490d4c6fd29b1d3bf8', 'message': 'Compress images uploaded to Glance\n\nWhen possible (based on the image format), compress\nimages that are uploaded to Glance.  For now, this is\ndone for the qcow2 format, but can be expanded to\nother formats as needed.\n\nThis should be a performance win for some deployments,\nconsuming less network/storage at the expense of CPU.\nAn ""image_compress_on_upload"" option is provided to\ndisable this behavior for deployments that want to\nprioritize minimal CPU usage, etc.\n\nCloses-Bug: #1824821\nChange-Id: I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a\n'}, {'number': 2, 'created': '2019-07-08 18:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9dad4cf89cf7a4c4cff855db634ea0cba649d49', 'message': 'Compress images uploaded to Glance\n\nWhen possible (based on the image format), compress\nimages that are uploaded to Glance.  For now, this is\ndone for the qcow2 format, but can be expanded to\nother formats as needed.\n\nThis should be a performance win for some deployments,\nconsuming less network/storage at the expense of CPU.\nAn ""image_compress_on_upload"" option is provided to\ndisable this behavior for deployments that want to\nprioritize minimal CPU usage, etc.\n\nCloses-Bug: #1824821\nChange-Id: I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a\n'}, {'number': 3, 'created': '2019-07-16 23:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ae08d2d985986eed7a390114f60ee84c91f2267', 'message': 'Compress images uploaded to Glance\n\nWhen possible (based on the image format), compress\nimages that are uploaded to Glance.  For now, this is\ndone for the qcow2 format, but can be expanded to\nother formats as needed.\n\nThis should be a performance win for some deployments,\nconsuming less network/storage at the expense of CPU.\nAn ""image_compress_on_upload"" option is provided to\ndisable this behavior for deployments that want to\nprioritize minimal CPU usage, etc.\n\nCloses-Bug: #1824821\nChange-Id: I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a\n'}, {'number': 4, 'created': '2019-07-17 12:10:00.000000000', 'files': ['cinder/volume/driver.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/compress-images-fed3e354d94b0845.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e74f318d68c131948dcad566ac11034bcef49ab', 'message': 'Compress images uploaded to Glance\n\nWhen possible (based on the image format), compress\nimages that are uploaded to Glance.  For now, this is\ndone for the qcow2 format, but can be expanded to\nother formats as needed.\n\nThis should be a performance win for some deployments,\nconsuming less network/storage at the expense of CPU.\nAn ""image_compress_on_upload"" option is provided to\ndisable this behavior for deployments that want to\nprioritize minimal CPU usage, etc.\n\nCloses-Bug: #1824821\nChange-Id: I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a\n'}]",9,668943,1e74f318d68c131948dcad566ac11034bcef49ab,103,35,4,4523,,,0,"Compress images uploaded to Glance

When possible (based on the image format), compress
images that are uploaded to Glance.  For now, this is
done for the qcow2 format, but can be expanded to
other formats as needed.

This should be a performance win for some deployments,
consuming less network/storage at the expense of CPU.
An ""image_compress_on_upload"" option is provided to
disable this behavior for deployments that want to
prioritize minimal CPU usage, etc.

Closes-Bug: #1824821
Change-Id: I22bd2be6653bdc4e755ea8a9d8780e8e67b4485a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/668943/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",3,1c2a223d39733fe660ce48490d4c6fd29b1d3bf8,bug/1824821," @mock.patch('cinder.image.image_utils.qemu_img_info') @mock.patch('cinder.utils.execute') @mock.patch('cinder.utils.is_blk_device', return_value=False) def test_convert_to_qcow2(self, mock_isblk, mock_exec, mock_info): source = mock.sentinel.source dest = mock.sentinel.dest out_format = 'qcow2' mock_info.return_value.virtual_size = 1048576 output = image_utils.convert_image(source, dest, out_format, compress=True) mock_exec.assert_called_once_with('qemu-img', 'convert', '-O', 'qcow2', '-c', source, dest, run_as_root=True) run_as_root=True, compress=True) run_as_root=True, compress=True)", run_as_root=True) run_as_root=True),61,11
openstack%2Fosc-placement~master~I530fcaba664cd21e46ddf8011919954281a04865,openstack/osc-placement,master,I530fcaba664cd21e46ddf8011919954281a04865,Add Python 3 Train unit tests,MERGED,2019-07-05 19:43:06.000000000,2019-08-06 08:46:23.000000000,2019-08-06 08:46:23.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 19:43:06.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/75f2480427258f0175fae85627c4e5eb79430ceb', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I530fcaba664cd21e46ddf8011919954281a04865\nStory: #2005924\nTask: #34236\n'}]",0,669478,75f2480427258f0175fae85627c4e5eb79430ceb,8,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I530fcaba664cd21e46ddf8011919954281a04865
Story: #2005924
Task: #34236
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/78/669478/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,75f2480427258f0175fae85627c4e5eb79430ceb,python3-train,"envlist = py27,py37,functional,functional-py36,pep8","envlist = py{27,36},functional,functional-py36,pep8",3,3
openstack%2Fcookbook-openstack-integration-test~stable%2Fqueens~I6991581056d6037eb269a6753b1af7e5c2ba7d90,openstack/cookbook-openstack-integration-test,stable/queens,I6991581056d6037eb269a6753b1af7e5c2ba7d90,Drop poise-python in favor of directly installing python packages,MERGED,2019-07-06 19:59:25.000000000,2019-08-06 08:37:18.000000000,2019-08-06 08:37:18.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-06 19:59:25.000000000', 'files': ['recipes/setup.rb', 'spec/setup_spec.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/6ad56fc95e93f37caabb10824974ab46ea0d8f7b', 'message': 'Drop poise-python in favor of directly installing python packages\n\nThe poise-python cookbook is no longer maintained by the upstream maintainer and\nis causing lots of issues for the testing pipeline. Instead, install tempest\ndirectly using pip via an execute resource.\n\nChange-Id: I6991581056d6037eb269a6753b1af7e5c2ba7d90\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,669552,6ad56fc95e93f37caabb10824974ab46ea0d8f7b,7,3,1,21961,,,0,"Drop poise-python in favor of directly installing python packages

The poise-python cookbook is no longer maintained by the upstream maintainer and
is causing lots of issues for the testing pipeline. Instead, install tempest
directly using pip via an execute resource.

Change-Id: I6991581056d6037eb269a6753b1af7e5c2ba7d90
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/52/669552/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/setup.rb', 'spec/setup_spec.rb', 'metadata.rb']",3,6ad56fc95e93f37caabb10824974ab46ea0d8f7b,,,depends 'poise-python' ,23,8
openstack%2Fkolla-cli~master~Ie80cbe5ee84c5dd780938a3464a08e01268cb53f,openstack/kolla-cli,master,Ie80cbe5ee84c5dd780938a3464a08e01268cb53f,Add reno for release notes management,MERGED,2019-08-06 06:21:59.000000000,2019-08-06 08:32:23.000000000,2019-08-06 08:32:23.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-08-06 06:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/efcd1c025eccf358123c77fdbfde8832f0c06085', 'message': 'Add reno for release notes management\n\nChange-Id: Ie80cbe5ee84c5dd780938a3464a08e01268cb53f\n'}, {'number': 2, 'created': '2019-08-06 06:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/beb248edc354a5d8e9413d189de904785d79ca74', 'message': 'Add reno for release notes management\n\nChange-Id: Ie80cbe5ee84c5dd780938a3464a08e01268cb53f\n'}, {'number': 3, 'created': '2019-08-06 06:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/6ca2668de830bb55a223ab23051c285a8f3c90b7', 'message': 'Add reno for release notes management\n\nChange-Id: Ie80cbe5ee84c5dd780938a3464a08e01268cb53f\n'}, {'number': 4, 'created': '2019-08-06 07:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/f2c8a3104b741e3f27eec0abad498d223ee7035c', 'message': 'Add reno for release notes management\n\nChange-Id: Ie80cbe5ee84c5dd780938a3464a08e01268cb53f\n'}, {'number': 5, 'created': '2019-08-06 07:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/2c00e2c5b41a067e18fb076b27e03b948e574c06', 'message': 'Add reno for release notes management\n\nChange-Id: Ie80cbe5ee84c5dd780938a3464a08e01268cb53f\n'}, {'number': 6, 'created': '2019-08-06 07:44:59.000000000', 'files': ['releasenotes/source/unreleased.rst', 'releasenotes/notes/add-reno-f5e9ff4d9ccfa716.yaml', 'releasenotes/source/index.rst', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/55963d94f65bf7e02d23766d423f11a48f4a3469', 'message': 'Add reno for release notes management\n\nChange-Id: Ie80cbe5ee84c5dd780938a3464a08e01268cb53f\n'}]",0,674732,55963d94f65bf7e02d23766d423f11a48f4a3469,14,3,6,28614,,,0,"Add reno for release notes management

Change-Id: Ie80cbe5ee84c5dd780938a3464a08e01268cb53f
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/32/674732/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/unreleased.rst', '.gitignore', 'releasenotes/notes/add-reno-f5e9ff4d9ccfa716.yaml', 'doc/requirements.txt', 'releasenotes/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py']",7,efcd1c025eccf358123c77fdbfde8832f0c06085,,"# -*- coding: utf-8 -*- # # Configuration file for the Sphinx documentation builder. # # This file does only contain a selection of the most common options. For a # full list see the documentation: # http://www.sphinx-doc.org/en/master/config # -- Path setup -------------------------------------------------------------- # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # # import os # import sys # sys.path.insert(0, os.path.abspath('.')) # -- Project information ----------------------------------------------------- project = u'kolla' copyright = u'2019, Kolla developers' author = u'Kolla developers' # The short X.Y version version = u'' # The full version, including alpha/beta/rc tags release = u'' # -- General configuration --------------------------------------------------- # If your documentation needs a minimal Sphinx version, state it here. # # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix(es) of source filenames. # You can specify multiple suffix as a list of string: # # source_suffix = ['.rst', '.md'] source_suffix = '.rst' # The master toctree document. master_doc = 'index' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # # This is also used if you do content translation via gettext catalogs. # Usually you set ""language"" from the command line for these cases. language = None # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. # This pattern also affects html_static_path and html_extra_path. exclude_patterns = [] # The name of the Pygments (syntax highlighting) style to use. pygments_style = None # -- Options for HTML output ------------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. # html_theme = 'alabaster' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # # html_theme_options = {} # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Custom sidebar templates, must be a dictionary that maps document names # to template names. # # The default sidebars (for documents that don't match any pattern) are # defined by theme itself. Builtin themes are using these templates by # default: ``['localtoc.html', 'relations.html', 'sourcelink.html', # 'searchbox.html']``. # # html_sidebars = {} # -- Options for HTMLHelp output --------------------------------------------- # Output file base name for HTML help builder. htmlhelp_basename = 'kolladoc' # -- Options for LaTeX output ------------------------------------------------ latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ (master_doc, 'kolla.tex', u'kolla Documentation', u'Kolla developers', 'manual'), ] # -- Options for manual page output ------------------------------------------ # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ (master_doc, 'kolla', u'kolla Documentation', [author], 1) ] # -- Options for Texinfo output ---------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ (master_doc, 'kolla', u'kolla Documentation', author, 'kolla', 'One line description of project.', 'Miscellaneous'), ] # -- Options for Epub output ------------------------------------------------- # Bibliographic Dublin Core info. epub_title = project # The unique identifier of the text. This can be a ISBN number # or the project homepage. # # epub_identifier = '' # A unique identification for the text. # # epub_uid = '' # A list of files that should not be packed into the epub file. epub_exclude_files = ['search.html'] # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,219,0
openstack%2Fbarbican~master~I88ae4f77be18146b31d5f2b935896b593f9a40c0,openstack/barbican,master,I88ae4f77be18146b31d5f2b935896b593f9a40c0,Fix barbican B105 issues,MERGED,2019-08-05 14:35:41.000000000,2019-08-06 08:28:26.000000000,2019-08-06 08:28:26.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 14:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3698d992a2ff33043fb36df1d2d6e6b8655f9d1c', 'message': 'Fix barbican B105 issues\n\nThose are all false positives, add ""nosec"" to them and\nenable the test again.\n\nChange-Id: I88ae4f77be18146b31d5f2b935896b593f9a40c0\n'}, {'number': 2, 'created': '2019-08-05 14:36:49.000000000', 'files': ['barbican/common/utils.py', 'barbican/cmd/barbican_manage.py', 'barbican/plugin/interface/secret_store.py', 'tox.ini', 'barbican/plugin/dogtag.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a10ccf6cf32dc4e2817ddbf67bc84feebb930916', 'message': 'Fix barbican B105 issues\n\nThose are all false positives, add ""nosec"" to them and\nenable the test again.\n\nChange-Id: I88ae4f77be18146b31d5f2b935896b593f9a40c0\n'}]",0,674621,a10ccf6cf32dc4e2817ddbf67bc84feebb930916,13,3,2,6547,,,0,"Fix barbican B105 issues

Those are all false positives, add ""nosec"" to them and
enable the test again.

Change-Id: I88ae4f77be18146b31d5f2b935896b593f9a40c0
",git fetch https://review.opendev.org/openstack/barbican refs/changes/21/674621/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/utils.py', 'barbican/cmd/barbican_manage.py', 'barbican/plugin/interface/secret_store.py', 'tox.ini', 'barbican/plugin/dogtag.py']",5,3698d992a2ff33043fb36df1d2d6e6b8655f9d1c,fix-builds," SECRET_MODE = ""secret_mode"" # nosec PASSPHRASE_KEY_ID = ""passphrase_key_id"" # nosec"," SECRET_MODE = ""secret_mode"" PASSPHRASE_KEY_ID = ""passphrase_key_id""",7,7
openstack%2Fceilometer~stable%2Fstein~Id50bf64e2a69f7d5152040a6784b914dadf8d8d6,openstack/ceilometer,stable/stein,Id50bf64e2a69f7d5152040a6784b914dadf8d8d6,Unit field missing in snmp data,MERGED,2019-08-05 20:48:05.000000000,2019-08-06 08:25:16.000000000,2019-08-06 08:25:16.000000000,"[{'_account_id': 6547}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-08-05 20:48:05.000000000', 'files': ['ceilometer/hardware/pollsters/data/snmp.yaml', 'ceilometer/tests/unit/hardware/pollsters/test_generic.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/fd4d6af82e1aa9b579f6d45466f63bd2377b2260', 'message': 'Unit field missing in snmp data\n\nUnit field is missing in snmp.yaml for hardware.cpu.*\nmetrics as result it is throwing Missing field unit\nin the log files. Added unit as tick from looking\nat the telemetry-measurements doc upstream.\n\nStory: #2006287\nTask: #35996\nChange-Id: Id50bf64e2a69f7d5152040a6784b914dadf8d8d6\n(cherry picked from commit 815726623df742e7f9cefa9c677da13c2ed3a54a)\n'}]",0,674692,fd4d6af82e1aa9b579f6d45466f63bd2377b2260,14,5,1,28504,,,0,"Unit field missing in snmp data

Unit field is missing in snmp.yaml for hardware.cpu.*
metrics as result it is throwing Missing field unit
in the log files. Added unit as tick from looking
at the telemetry-measurements doc upstream.

Story: #2006287
Task: #35996
Change-Id: Id50bf64e2a69f7d5152040a6784b914dadf8d8d6
(cherry picked from commit 815726623df742e7f9cefa9c677da13c2ed3a54a)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/92/674692/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/hardware/pollsters/data/snmp.yaml', 'ceilometer/tests/unit/hardware/pollsters/test_generic.py']",2,fd4d6af82e1aa9b579f6d45466f63bd2377b2260,," def test_config_missing_unit_field(self): cfg = dict(name='hardware.cpu.user', snmp_inspector={""matching_type"": ""type_exact"", ""oid"": ""1.3.6.1.4.1.2021.11.50.0"", ""type"": ""int""}) try: generic.MeterDefinition(cfg) except declarative.MeterDefinitionException as e: self.assertEqual(""Missing field unit"", e.brief_message) ",,18,0
openstack%2Ftripleo-ha-utils~master~I509ee3f405ed5adfbbb0b678650303a6b4829fcd,openstack/tripleo-ha-utils,master,I509ee3f405ed5adfbbb0b678650303a6b4829fcd,Replace '-' with '_' in fence_compute options.,MERGED,2019-08-06 07:39:29.000000000,2019-08-06 08:13:04.000000000,2019-08-06 08:13:03.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-06 07:39:29.000000000', 'files': ['roles/instance-ha/tasks/apply.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ha-utils/commit/8bb060b864baa79d50d411683b4ad75c96de34b8', 'message': ""Replace '-' with '_' in fence_compute options.\n\nauth-url, tenant-name and read-only are defined in fence_compute as\nauth_url, tenant_name and read_only. This commit replaces '-' with '_'\nin those 3 options.\n\nCloses-Bug: #1839063\nChange-Id: I509ee3f405ed5adfbbb0b678650303a6b4829fcd\n""}]",0,674745,8bb060b864baa79d50d411683b4ad75c96de34b8,7,2,1,25613,,,0,"Replace '-' with '_' in fence_compute options.

auth-url, tenant-name and read-only are defined in fence_compute as
auth_url, tenant_name and read_only. This commit replaces '-' with '_'
in those 3 options.

Closes-Bug: #1839063
Change-Id: I509ee3f405ed5adfbbb0b678650303a6b4829fcd
",git fetch https://review.opendev.org/openstack/tripleo-ha-utils refs/changes/45/674745/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/instance-ha/tasks/apply.yml'],1,8bb060b864baa79d50d411683b4ad75c96de34b8,bug/1839063," shell: ""pcs stonith create fence-nova fence_compute auth_url=$OS_AUTH_URL login=$OS_USERNAME passwd=$OS_PASSWORD tenant_name=$OS_TENANT_NAME domain={{ overcloud_domain }} record_only=1 {{ pcs_fence_compute_no_shared_storage_opts }} --force"" shell: ""pcs stonith create fence-nova fence_compute auth_url=$OS_AUTH_URL login=$OS_USERNAME passwd=$OS_PASSWORD tenant_name=$OS_TENANT_NAME domain={{ overcloud_domain }} record_only=1 {{ pcs_fence_compute_no_shared_storage_opts }} meta provides=unfencing --force"""," shell: ""pcs stonith create fence-nova fence_compute auth-url=$OS_AUTH_URL login=$OS_USERNAME passwd=$OS_PASSWORD tenant-name=$OS_TENANT_NAME domain={{ overcloud_domain }} record-only=1 {{ pcs_fence_compute_no_shared_storage_opts }} --force"" shell: ""pcs stonith create fence-nova fence_compute auth-url=$OS_AUTH_URL login=$OS_USERNAME passwd=$OS_PASSWORD tenant-name=$OS_TENANT_NAME domain={{ overcloud_domain }} record-only=1 {{ pcs_fence_compute_no_shared_storage_opts }} meta provides=unfencing --force""",2,2
openstack%2Ffreezer-dr~master~Ia643f9d691215d06cdd81fd111460fb42d6b1e7f,openstack/freezer-dr,master,Ia643f9d691215d06cdd81fd111460fb42d6b1e7f,Add Python 3 Train unit tests,MERGED,2019-06-24 13:25:18.000000000,2019-08-06 08:07:32.000000000,2019-08-06 08:07:32.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-06-24 13:25:18.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/564991450412996c539d608fde87bd470b6b6539', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ia643f9d691215d06cdd81fd111460fb42d6b1e7f\nStory: #2005924\nTask: #34207\n'}]",0,667095,564991450412996c539d608fde87bd470b6b6539,14,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ia643f9d691215d06cdd81fd111460fb42d6b1e7f
Story: #2005924
Task: #34207
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/95/667095/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,564991450412996c539d608fde87bd470b6b6539,python3-train,"envlist = py27,py37,pep8,pylint,docs","envlist = py27,py36,py37,pep8,pylint,docs",2,3
openstack%2Fsushy-tools~master~I575e018e51a8f8ca79257c8def768e0c5f66c0d9,openstack/sushy-tools,master,I575e018e51a8f8ca79257c8def768e0c5f66c0d9,Add Thermal resource emulation,MERGED,2019-06-20 20:18:45.000000000,2019-08-06 08:05:18.000000000,2019-08-06 08:05:18.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-06-20 20:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5c12460d466056669c8c503f2df09bb0dca87031', 'message': 'Add Thermal resource emulation\n\nAdds basic Thermal resource emulation under Chassis resource.\n\nChange-Id: I575e018e51a8f8ca79257c8def768e0c5f66c0d9\nStory: 2005878\nTask: 34260\n'}, {'number': 2, 'created': '2019-07-01 10:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8057914af93f29f996854db1522aed72a95d510b', 'message': 'Add Thermal resource emulation\n\nAdds basic Thermal resource emulation under Chassis resource.\n\nChange-Id: I575e018e51a8f8ca79257c8def768e0c5f66c0d9\nStory: 2005878\nTask: 34260\n'}, {'number': 3, 'created': '2019-07-01 17:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/809b2d56161490800d9533b3beccad217658e836', 'message': 'Add Thermal resource emulation\n\nAdds basic Thermal resource emulation under Chassis resource.\n\nChange-Id: I575e018e51a8f8ca79257c8def768e0c5f66c0d9\nStory: 2005878\nTask: 34260\n'}, {'number': 4, 'created': '2019-07-02 13:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9618ae6db90fd17c4bf941d84a82d6bf24808602', 'message': 'Add Thermal resource emulation\n\nAdds basic Thermal resource emulation under Chassis resource.\n\nChange-Id: I575e018e51a8f8ca79257c8def768e0c5f66c0d9\nStory: 2005878\nTask: 34260\n'}, {'number': 5, 'created': '2019-07-02 14:13:22.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/thermal.json', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/templates/chassis.json', 'releasenotes/notes/add-thermal-resource-8623543795643123.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/578f058f18e864e6251cf472517ed83e22ba07fe', 'message': 'Add Thermal resource emulation\n\nAdds basic Thermal resource emulation under Chassis resource.\n\nChange-Id: I575e018e51a8f8ca79257c8def768e0c5f66c0d9\nStory: 2005878\nTask: 34260\n'}]",0,666727,578f058f18e864e6251cf472517ed83e22ba07fe,17,4,5,26340,,,0,"Add Thermal resource emulation

Adds basic Thermal resource emulation under Chassis resource.

Change-Id: I575e018e51a8f8ca79257c8def768e0c5f66c0d9
Story: 2005878
Task: 34260
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/27/666727/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'releasenotes/notes/Users/ilya/src/rh/sushy-tools/releasenotes/notes/add-thermal-resource-8623543795643123.yaml', 'sushy_tools/emulator/templates/thermal.json', 'sushy_tools/emulator/templates/chassis.json', 'sushy_tools/tests/unit/emulator/test_main.py']",5,5c12460d466056669c8c503f2df09bb0dca87031,12-add-thermal-resource," self.assertEqual( {'@odata.id': '/redfish/v1/Chassis/xxxx-yyyy-zzzz/Thermal'}, response.json['Thermal']) def test_chassis_thermal(self, resources_mock): resources_mock = resources_mock.return_value.__enter__.return_value chassis_mock = resources_mock.chassis chassis_mock.chassis = [self.uuid] chassis_mock.uuid.return_value = self.uuid systems_mock = resources_mock.systems systems_mock.systems = ['sys1'] response = self.app.get('/redfish/v1/Chassis/xxxx-yyyy-zzzz/Thermal') self.assertEqual(200, response.status_code) self.assertEqual('Thermal', response.json['Id']) self.assertEqual( '/redfish/v1/Chassis/xxxx-yyyy-zzzz/Thermal#/Temperatures/0', response.json['Temperatures'][0]['@odata.id']) self.assertEqual( {'@odata.id': '/redfish/v1/Systems/sys1/Processors/CPU'}, response.json['Temperatures'][0]['RelatedItem'][0]) self.assertEqual( '/redfish/v1/Chassis/xxxx-yyyy-zzzz/Thermal#/Fans/0', response.json['Fans'][0]['@odata.id']) self.assertEqual( {'@odata.id': '/redfish/v1/Chassis/xxxx-yyyy-zzzz'}, response.json['Fans'][0]['RelatedItem'][0]) ",,193,0
openstack%2Fsushy-tools~master~I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb,openstack/sushy-tools,master,I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb,Add `get/set_boot_image` to libvirt driver,MERGED,2019-05-03 09:39:02.000000000,2019-08-06 08:05:15.000000000,2019-08-06 08:05:14.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 30013}]","[{'number': 1, 'created': '2019-05-03 09:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8f80198ca264d4b6a7ed9466e3910ca82e17a05f', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media support.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 2, 'created': '2019-05-03 12:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/cf427ab12fe2d69657c4206b44fa287f5ea208d1', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 3, 'created': '2019-05-04 08:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f6fec8a3d56c90f1b7969acd0ea5dffc2798dcc4', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 4, 'created': '2019-05-04 15:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/122f09f45e822998f9df145ef5ebf8c3602b00a2', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 5, 'created': '2019-05-04 20:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ca06276a39255bb7f5ef01522d72f3f1f9b2c36e', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 6, 'created': '2019-05-05 08:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/849eb568dce6e069a5447bd94ca17eadb10f9da0', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 7, 'created': '2019-05-06 10:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8e1ac348e6ea13a7a1aef913d1ec1361cfef4af9', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 8, 'created': '2019-05-07 14:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8f150f8dce23c0e3a39fe48d48f5c5b71e5ba870', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 9, 'created': '2019-05-07 18:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b3e27dab42e18929d0b406ebde0cc1cd2b7636f0', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* ISO images can be Inserted, Ejected and inspected\n* libvirt domains can be booted off the inserted ISO images\n\nThe limitations:\n\n* Image download from URI down to Redfish emulator it not\n  yet implemented. However existing images on the hypervisor\n  can be referred to via file:// URI schema\n\n* Even if ISO image download is implemented, it is not yet\n  clear how to transfer those images to the remote hypervisor\n  (in other words, this is the case of libvirt and libvirtd\n  running on different machines).\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 10, 'created': '2019-05-10 08:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9fcf4114cfe42445bc08eef897c8542121669c53', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* libvirt domains can be booted off the ISO images inserted\n  into virtual media devices\n\nThe limitations:\n\n* Boot image transfer to a remote libvirtd hypervisor is not yet\n  implemented. Thus it is a requirement to run sushy emulator\n  on the same machine with libvirtd for virtual media boot to\n  function.\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 11, 'created': '2019-05-14 17:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c7cf7f0ffe2c3b2999ebbd518d81c54ee7b13dca', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* libvirt domains can be booted off the ISO images inserted\n  into virtual media devices\n\nThe limitations:\n\n* Boot image transfer to a remote libvirtd hypervisor is not yet\n  implemented. Thus it is a requirement to run sushy emulator\n  on the same machine with libvirtd for virtual media boot to\n  function.\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 12, 'created': '2019-05-16 13:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/813b323005e1569e61afac3375f6186c63f28f46', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* libvirt domains can be booted off the ISO images inserted\n  into virtual media devices\n\nThe limitations:\n\n* Boot image transfer to a remote libvirtd hypervisor is not yet\n  implemented. Thus it is a requirement to run sushy emulator\n  on the same machine with libvirtd for virtual media boot to\n  function.\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 13, 'created': '2019-05-16 14:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6a8fe152521dbaa95c5b0e158edfedbdd4d86797', 'message': ""Add `get/set_boot_image` to libvirt driver\n\nThis change introduces semi-functional Virtual Media emulation.\nWhat's working:\n\n* libvirt domains can be booted off the ISO images inserted\n  into virtual media devices\n\nThe limitations:\n\n* Boot image transfer to a remote libvirtd hypervisor is not yet\n  implemented. Thus it is a requirement to run sushy emulator\n  on the same machine with libvirtd for virtual media boot to\n  function.\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n""}, {'number': 14, 'created': '2019-05-16 16:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9f190e1d2a0d1b02b59a3a992c12ebc08ed68868', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 15, 'created': '2019-05-20 17:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1d02b756377db96c21db70c9dba1afc751eaa90c', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 16, 'created': '2019-05-23 12:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6fd02d36c4b5a15327659f3c6c9d8ac726bb28c1', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 17, 'created': '2019-05-23 13:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3d85e89614f8dd5211e2a068fa1a0822c8225b7a', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 18, 'created': '2019-05-27 08:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/90c435c868f889aa96828ca5eaf8f87d9593ac68', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 19, 'created': '2019-06-11 10:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a4f87ed060eb7a3843ff1a3b1c9a91c31ba57fd9', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 20, 'created': '2019-06-12 09:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/bb6ce54d77f99d3346d2b4aeae3b90b2f3b3b724', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 21, 'created': '2019-06-12 14:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6293d15139b4655d5d6e27d3599f7fa466782fef', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 22, 'created': '2019-06-13 10:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4d1bca1f02ab6066cabb02163ea3191fa985f235', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 23, 'created': '2019-06-19 15:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c8e5fcad1574eae15b5773a3af8a44998938b59b', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 24, 'created': '2019-06-20 09:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/00b5f0f6dd86ac8b686fefe3039a9149fa871607', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 25, 'created': '2019-06-20 12:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ac3b564992e489da76cd9a835e21e338a6cac868', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 26, 'created': '2019-07-01 10:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/349582d80865eb0a02d8d9e30ff5ae9cae1f3565', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 27, 'created': '2019-07-01 17:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/12f49aa4a03538e826ba3af137ab0b3bed764cce', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}, {'number': 28, 'created': '2019-07-02 14:13:11.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/error.py', 'sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/emulator/resources/systems/novadriver.py', 'sushy_tools/tests/unit/emulator/pool.xml', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py', 'doc/source/user/dynamic-emulator.rst'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/9e0eaf43222fc1a5af42d1bd3a5196d8008be94f', 'message': 'Add `get/set_boot_image` to libvirt driver\n\nThis change introduces fully-functional Virtual Media emulation.\nLibvirt domains can be booted off the ISO image inserted into\nthe virtual media device.\n\nStory: 2005149\nTask: 29858\nChange-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb\n'}]",12,656938,9e0eaf43222fc1a5af42d1bd3a5196d8008be94f,66,5,28,26340,,,0,"Add `get/set_boot_image` to libvirt driver

This change introduces fully-functional Virtual Media emulation.
Libvirt domains can be booted off the ISO image inserted into
the virtual media device.

Story: 2005149
Task: 29858
Change-Id: I8880dd9ae545d963e7bacf9aa78e4c5ea6b769cb
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/38/656938/18 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py']",3,8f80198ca264d4b6a7ed9466e3910ca82e17a05f,11-add-libvirt-image-mgmt," def test_get_boot_image(self, libvirt_mock): with open('sushy_tools/tests/unit/emulator/domain.xml', 'r') as f: data = f.read() conn_mock = libvirt_mock.return_value domain_mock = conn_mock.lookupByUUID.return_value domain_mock.XMLDesc.return_value = data image_info = self.test_driver.get_boot_image(self.uuid, 'Cd') expected = '/home/user/boot.iso', False, False self.assertEqual(expected, image_info) @mock.patch('libvirt.open', autospec=True) @mock.patch('libvirt.openReadOnly', autospec=True) def test_set_boot_image(self, libvirt_mock, libvirt_rw_mock): with open('sushy_tools/tests/unit/emulator/domain.xml', 'r') as f: data = f.read() conn_mock = libvirt_rw_mock.return_value domain_mock = conn_mock.lookupByUUID.return_value domain_mock.XMLDesc.return_value = data self.test_driver.set_boot_image(self.uuid, 'Cd', 'image.iso') conn_mock = libvirt_rw_mock.return_value conn_mock.defineXML.assert_called_once_with(mock.ANY) @mock.patch('libvirt.openReadOnly', autospec=True)",,144,2
openstack%2Ftripleo-common~master~I56a64e7bdfd82ad51caaf9ab5f5b605aedc463d8,openstack/tripleo-common,master,I56a64e7bdfd82ad51caaf9ab5f5b605aedc463d8,Remove unused function _images_match,ABANDONED,2019-08-01 13:45:41.000000000,2019-08-06 07:54:07.000000000,,[],"[{'number': 1, 'created': '2019-08-01 13:45:41.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3e41b6ca92ec0baad015dcf2de32d24d8c33bbd', 'message': 'Remove unused function _images_match\n\nChange-Id: I56a64e7bdfd82ad51caaf9ab5f5b605aedc463d8\n'}]",2,674035,b3e41b6ca92ec0baad015dcf2de32d24d8c33bbd,4,0,1,9712,,,0,"Remove unused function _images_match

Change-Id: I56a64e7bdfd82ad51caaf9ab5f5b605aedc463d8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/674035/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,b3e41b6ca92ec0baad015dcf2de32d24d8c33bbd,,," def _images_match(cls, image1, image2, session1=None): try: image1_digest = cls._image_digest(image1, session=session1) except Exception: return False try: image2_digest = cls._image_digest(image2) except Exception: return False # missing digest, no way to know if they match if not image1_digest or not image2_digest: return False return image1_digest == image2_digest @classmethod",1,41
openstack%2Fwatcher~master~I7104c1a6752ad0b8c9837a643e51b0a13194a81b,openstack/watcher,master,I7104c1a6752ad0b8c9837a643e51b0a13194a81b,Remove stale comment in method execute(),MERGED,2019-08-02 08:32:53.000000000,2019-08-06 07:52:17.000000000,2019-08-06 07:52:16.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-08-02 08:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/38e50acf8bc88f2b260d7585b4a2bc81bd17d0f4', 'message': 'Remove stale comment in method execute()\n\nThe code associated with virtual a has been removed\nbefore, and the relevant comments should be removed here.\n\nChange-Id: I7104c1a6752ad0b8c9837a643e51b0a13194a81b\n'}, {'number': 2, 'created': '2019-08-05 01:11:25.000000000', 'files': ['watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/251ad35c8bec06360d66997227594449b82bd8e9', 'message': 'Remove stale comment in method execute()\n\nThe code associated with virtual has been removed before,\nand the relevant comments should be removed here.\n\nChange-Id: I7104c1a6752ad0b8c9837a643e51b0a13194a81b\n'}]",0,674223,251ad35c8bec06360d66997227594449b82bd8e9,10,4,2,28748,,,0,"Remove stale comment in method execute()

The code associated with virtual has been removed before,
and the relevant comments should be removed here.

Change-Id: I7104c1a6752ad0b8c9837a643e51b0a13194a81b
",git fetch https://review.opendev.org/openstack/watcher refs/changes/23/674223/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/model/collector/nova.py'],1,38e50acf8bc88f2b260d7585b4a2bc81bd17d0f4,remove_stale_comment," """"""Instantiates the graph with the openstack cluster data."""""" "," """"""Instantiates the graph with the openstack cluster data. The graph is populated along 2 layers: virtual and physical. As each new layer is built connections are made back to previous layers. """"""",1,4
openstack%2Fsearchlight-ui~master~I2ef73bb2e11a19a2b162f2348f50eb017534b5c1,openstack/searchlight-ui,master,I2ef73bb2e11a19a2b162f2348f50eb017534b5c1,Imported Translations from Zanata,MERGED,2019-08-06 07:10:36.000000000,2019-08-06 07:51:00.000000000,2019-08-06 07:51:00.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-08-06 07:10:36.000000000', 'files': ['searchlight_ui/locale/ru/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/27accd33e62689fb76bc1505c386b2cf8d475bc3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2ef73bb2e11a19a2b162f2348f50eb017534b5c1\n'}]",0,674743,27accd33e62689fb76bc1505c386b2cf8d475bc3,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2ef73bb2e11a19a2b162f2348f50eb017534b5c1
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/43/674743/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight_ui/locale/ru/LC_MESSAGES/djangojs.po'],1,27accd33e62689fb76bc1505c386b2cf8d475bc3,zanata/translations,"# Roman Gorshunov <roman.gorshunov@att.com>, 2019. #zanata""POT-Creation-Date: 2019-07-18 09:46+0000\n""""PO-Revision-Date: 2019-08-05 01:14+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n""msgid ""A name is required for your favorite."" msgstr ""Требуется указать имя закладки."" msgid ""Add"" msgstr ""Добавить"" msgid ""Add Favorite"" msgstr ""Добавить закладку"" msgid ""Add Favorite Query"" msgstr ""Добавить запрос в закладки"" msgid ""Address"" msgstr ""Адрес"" msgid ""Chassis UUID"" msgstr ""UUID шасси"" msgid ""Console Enabled?"" msgstr ""Консоль активирована?"" msgid ""Delete favorite"" msgstr ""Удалить закладку"" msgid ""Done"" msgstr ""Готово"" msgid ""Down for Maintenance?"" msgstr ""Отлючен для техобслуживания?"" msgid ""Filter Options"" msgstr ""Настройки фильтра"" msgid ""Instance UUID"" msgstr ""UUID инстанса"" msgid ""Ironic Chassis"" msgstr ""Шасси Ironic"" msgid ""Ironic Node"" msgstr ""Нода Ironic"" msgid ""Ironic Nodes"" msgstr ""Ноды Ironic"" msgid ""Ironic Port"" msgstr ""Порт Ironic"" msgid ""Ironic Ports"" msgstr ""Порты Ironic"" msgid ""Last Error"" msgstr ""Последняя ошибка"" msgid ""Maintenance Reason"" msgstr ""Причина технического обслуживания"" msgid ""Manage Favorite Queries"" msgstr ""Управление закладками запросов"" msgid ""Manage Favorites"" msgstr ""Управление закладками"" msgid ""Name must not contain \""/\""."" msgstr ""Имя не может содержать \""/\""."" msgid ""Network Interface"" msgstr ""Сетевой интерфейс"" msgid ""No"" msgstr ""Нет"" msgid ""No favorites"" msgstr ""Нет закладок"" msgid ""Node UUID"" msgstr ""UUID ноды"" msgid ""Off"" msgstr ""Выключен"" msgid ""On"" msgstr ""Включен"" msgid ""PXE Enabled?"" msgstr ""Включен PXE?"" msgid ""Periodically update search results"" msgstr ""Обновлять результаты поиска"" msgid ""Provisioning State"" msgstr ""Статус развертывания"" msgid ""Queries"" msgstr ""Запросы"" msgid ""Rebooting"" msgstr ""Перезагрузка"" msgid ""Resource Type"" msgstr ""Тип ресурса"" msgid ""Select sort"" msgstr ""Отсортировать"" msgid ""Show reason for search result"" msgstr ""Показать настройку поиска"" msgid ""Target Power State"" msgstr ""Целевое состояние"" msgid ""Target Provisioning State"" msgstr ""Целевой статус развертывания"" msgid ""UUID"" msgstr ""UUID"" msgid ""Yes"" msgstr ""Да"" ","""POT-Creation-Date: 2018-11-07 07:24+0000\n""""PO-Revision-Date: 2016-10-12 02:57+0000\n"" ""Last-Translator: Aleksey Alekseenko <9118250541@mail.ru>\n""",124,3
openstack%2Fopenstacksdk~master~I43c05bd6c3eb49306ed1282dadde071c41aab3ab,openstack/openstacksdk,master,I43c05bd6c3eb49306ed1282dadde071c41aab3ab,Sort output of functional test trait,ABANDONED,2019-08-02 15:05:40.000000000,2019-08-06 07:50:01.000000000,,"[{'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-02 15:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1a9a98f431f6fd32034ed5cd7a9b1b871df2789a', 'message': ""Sort output of functional test trait\n\nWe don't really care about ordering in this case as far as the elements\nare the same.\nWe can just sort the real output, which is the same as using\nassertItemsEqual or assertCountEqual.\n\nChange-Id: I43c05bd6c3eb49306ed1282dadde071c41aab3ab\n""}, {'number': 2, 'created': '2019-08-02 15:28:38.000000000', 'files': ['openstack/tests/functional/baremetal/test_baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6ddace9a0787e18272edcce35aab2f1f7d203a2f', 'message': ""Sort output of functional test trait\n\nWe don't really care about ordering in this case as far as the elements\nare the same.\nWe can just sort the real output, which is the same as using\nassertItemsEqual or assertCountEqual.\n\nChange-Id: I43c05bd6c3eb49306ed1282dadde071c41aab3ab\n""}]",4,674328,6ddace9a0787e18272edcce35aab2f1f7d203a2f,10,4,2,23851,,,0,"Sort output of functional test trait

We don't really care about ordering in this case as far as the elements
are the same.
We can just sort the real output, which is the same as using
assertItemsEqual or assertCountEqual.

Change-Id: I43c05bd6c3eb49306ed1282dadde071c41aab3ab
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/674328/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/baremetal/test_baremetal_node.py'],1,1a9a98f431f6fd32034ed5cd7a9b1b871df2789a,sort-test-output," self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], sorted(self.node.traits)) self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], sorted(node.traits))"," self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], self.node.traits) self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], node.traits)",3,2
openstack%2Ffreezer-dr~master~I0906666b179b1b2f66c489eb862cac068a413377,openstack/freezer-dr,master,I0906666b179b1b2f66c489eb862cac068a413377,Add bindep to fix py37 tests,MERGED,2019-08-03 09:17:53.000000000,2019-08-06 07:32:07.000000000,2019-08-06 07:32:07.000000000,"[{'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-08-03 09:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/7c1fea7628368e7abf6e24d32318270f41a5282e', 'message': 'Add bindep to fix py37 tests\n\nThe py37 job needs pkgconfig to build some packages, add those\nvia bindep file.\n\nChange-Id: I0906666b179b1b2f66c489eb862cac068a413377\n'}, {'number': 2, 'created': '2019-08-03 09:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/6cf56e9b4452f7aee1ac8f09b3d3ea73ff932eca', 'message': 'Add bindep to fix py37 tests\n\nThe py37 job needs some extra packages to build some wheels, add those\nvia bindep file.\n\nChange-Id: I0906666b179b1b2f66c489eb862cac068a413377\n'}, {'number': 3, 'created': '2019-08-03 09:38:47.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/d6e4db4d0f0962e95d2c394d2d486c8c214fa09c', 'message': 'Add bindep to fix py37 tests\n\nThe py37 job needs some extra packages to build some wheels, add those\nvia bindep file.\n\nChange-Id: I0906666b179b1b2f66c489eb862cac068a413377\n'}]",0,674445,d6e4db4d0f0962e95d2c394d2d486c8c214fa09c,11,12,3,6547,,,0,"Add bindep to fix py37 tests

The py37 job needs some extra packages to build some wheels, add those
via bindep file.

Change-Id: I0906666b179b1b2f66c489eb862cac068a413377
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/45/674445/3 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,7c1fea7628368e7abf6e24d32318270f41a5282e,bindep,pkg-config [platform:dpkg platform:suse] pkgconfig [platform:redhat] ,,2,0
openstack%2Fproject-config~master~I990a16067c7f93bfd255dbca36a814d349dfdc35,openstack/project-config,master,I990a16067c7f93bfd255dbca36a814d349dfdc35,Normalize projects.yaml,MERGED,2019-08-06 06:09:09.000000000,2019-08-06 07:27:09.000000000,2019-08-06 07:27:09.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-08-06 06:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e69994cadd43cd6a651a1e4c13464e1aa6df392f', 'message': 'Normalize projects.yaml\n\nChange-Id: I990a16067c7f93bfd255dbca36a814d349dfdc35\n'}, {'number': 2, 'created': '2019-08-06 06:41:43.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e78411b9cbed0ff659e16c8e620274d895813bb3', 'message': 'Normalize projects.yaml\n\nChange-Id: I990a16067c7f93bfd255dbca36a814d349dfdc35\n'}]",0,674730,e78411b9cbed0ff659e16c8e620274d895813bb3,7,3,2,11131,,,0,"Normalize projects.yaml

Change-Id: I990a16067c7f93bfd255dbca36a814d349dfdc35
",git fetch https://review.opendev.org/openstack/project-config refs/changes/30/674730/2 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,e69994cadd43cd6a651a1e4c13464e1aa6df392f,project-yaml-normalization,, upstream: https://github.com/mattmceuen/kubernetes-entrypoint.git upstream: https://github.com/att-comdev/porthole.git,0,2
openstack%2Fsushy-tools~master~I32c7926865a4817363a5846f155b01b88ea3383c,openstack/sushy-tools,master,I32c7926865a4817363a5846f155b01b88ea3383c,Add Virtual Media support,MERGED,2019-05-02 15:07:34.000000000,2019-08-06 07:07:45.000000000,2019-08-06 07:07:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-05-02 15:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d445451753dbd235ab39624b9d67cb18f3923fe2', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 2, 'created': '2019-05-02 17:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/769354b7ed5b5f895ae459fc3097caac141dc650', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 3, 'created': '2019-05-02 18:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d9c5fbd76e4c6b0527b7e4bb0ee91298476c89d3', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 4, 'created': '2019-05-03 09:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2703654d171205927dc058ffd0e50e4300f81af4', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 5, 'created': '2019-05-03 12:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7ca273d1e790821d3b895c53c2ae9a9c003ef0c9', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just volatile mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 6, 'created': '2019-05-04 08:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c0e5d0b111176a3de822f27dc3d5cb2a4be7603f', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 7, 'created': '2019-05-04 15:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ff211fae7e634493f40a4ef1cdcda81ebd1cbe02', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 8, 'created': '2019-05-04 20:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/71928c3faa821ad11ce33644d0472743a9b5aafc', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 9, 'created': '2019-05-05 08:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0cab8e19f043e21bc832cdf891f431accf863751', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 10, 'created': '2019-05-05 18:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d88918138bd23a219e2a100b096faa2301b920c3', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 11, 'created': '2019-05-06 09:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1072b68b10988880da9051eab9e3abfcdec6bb63', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 12, 'created': '2019-05-07 10:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5c8602e61bdd412a32c15788c34ee7871d925074', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 13, 'created': '2019-05-07 14:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1d8bfce594636455febf0b2d6e9b8709d08a927f', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 14, 'created': '2019-05-07 18:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/35028de8f3efd25ff3d54f20bdc2c6378afb1508', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 15, 'created': '2019-05-14 17:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d67838bcd2864ad3fea175a0c72498448b6ee1bb', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 16, 'created': '2019-05-20 17:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/3c3f7e567e2ee33703d084110b45db09a64999ed', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 17, 'created': '2019-05-23 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/481509696643d4594c4a85ef0f2433cbfe9ce8c0', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 18, 'created': '2019-06-11 10:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5701729fbea3a6866266f67bc7cd2ae2400d2959', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 19, 'created': '2019-06-12 09:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/5a59b2b2e3b0d054570db7c70a13448f4be83931', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 20, 'created': '2019-06-12 14:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f5e9ede7dea2617e1444e6618e6757c0a04ccc7e', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 21, 'created': '2019-06-13 10:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6f6384cf6dfd9bb69110a9380f12a54dbe8fc454', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 22, 'created': '2019-06-19 15:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/62c2a5bdd1814e44835398acd083d0ffb8630fa2', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 23, 'created': '2019-06-20 09:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8f61537ce7da0e483d9721dd4a4fc5d404ebda21', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 24, 'created': '2019-06-20 12:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b601fbd220ef9c862a472c9bc4a8c2ace48f5449', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 25, 'created': '2019-07-01 10:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4da070b3be3acb587d0d17688e1c55cdb9affd05', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}, {'number': 26, 'created': '2019-07-02 14:13:00.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/emulator/resources/vmedia/__init__.py', 'sushy_tools/emulator/resources/systems/novadriver.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/templates/virtual_media_collection.json', 'sushy_tools/emulator/constants.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/__init__.py', 'doc/source/user/dynamic-emulator.rst', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/resources/vmedia/staticdriver.py', 'sushy_tools/emulator/templates/virtual_media.json', 'sushy_tools/tests/unit/emulator/resources/managers/test_static.py', 'sushy_tools/emulator/resources/systems/base.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e1c844dfa75b5f94b033e5d1c9b896375407f06c', 'message': 'Add Virtual Media support\n\nThis patch introduces VirtualMedia resource.\n\nThis change implements Insert/Eject actions against the VirtualMedia\nresource. Although all changes are just persistent mocks - virtual media\nemulation is not yet backed by virtualization drivers yet.\n\nThe upcoming patches will convey virtual media calls to systems\ndrivers (e.g. libvirt and/or nova) to make VMs bootable from the\ninserted images.\n\nStory: 2005149\nTask: 29857\nChange-Id: I32c7926865a4817363a5846f155b01b88ea3383c\n'}]",15,656792,e1c844dfa75b5f94b033e5d1c9b896375407f06c,64,5,26,26340,,,0,"Add Virtual Media support

This patch introduces VirtualMedia resource.

This change implements Insert/Eject actions against the VirtualMedia
resource. Although all changes are just persistent mocks - virtual media
emulation is not yet backed by virtualization drivers yet.

The upcoming patches will convey virtual media calls to systems
drivers (e.g. libvirt and/or nova) to make VMs bootable from the
inserted images.

Story: 2005149
Task: 29857
Change-Id: I32c7926865a4817363a5846f155b01b88ea3383c
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/92/656792/16 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/emulator/resources/managers/staticdriver.py', 'releasenotes/notes/add-virtual-media-4a137a5fb5017031.yaml', 'sushy_tools/emulator/resources/vmedia/__init__.py', 'sushy_tools/emulator/resources/systems/novadriver.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/templates/virtual_media_collection.json', 'sushy_tools/emulator/constants.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/__init__.py', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/resources/vmedia/staticdriver.py', 'sushy_tools/emulator/templates/virtual_media.json', 'sushy_tools/tests/unit/emulator/resources/managers/test_static.py', 'sushy_tools/emulator/resources/systems/base.py', 'sushy_tools/tests/unit/emulator/resources/vmedia/test_static.py']",17,d445451753dbd235ab39624b9d67cb18f3923fe2,10-add-vmedia-resource,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from sushy_tools.emulator.resources.vmedia.staticdriver import StaticDriver from sushy_tools import error from oslotest import base class StaticDriverTestCase(base.BaseTestCase): def setUp(self): self.vmedia = { ""CD"": { ""Name"": ""Virtual CD"", ""MediaTypes"": [ ""CD"", ""DVD"" ] }, ""Floppy"": { ""Name"": ""Virtual Removable Media"", ""MediaTypes"": [ ""Floppy"", ""USBStick"" ] } } test_driver = StaticDriver.initialize( {'SUSHY_EMULATOR_VMEDIA_DEVICES': self.vmedia}) self.test_driver = test_driver() super(StaticDriverTestCase, self).setUp() def test_get_devices(self): devices = self.test_driver.devices self.assertEqual(['CD', 'Floppy'], devices) def test_get_device_name(self): device_name = self.test_driver.get_device_name('CD') self.assertEqual('Virtual CD', device_name) def test_get_device_media_types(self): media_types = self.test_driver.get_device_media_types('CD') self.assertEqual(['CD', 'DVD'], media_types) def test_get_device_image_info(self): dev_info = self.test_driver.get_device_image_info('CD') expected = (None, None, False, False) self.assertEqual(expected, dev_info) def test_insert_image(self): dev_info = self.test_driver.get_device_image_info('CD') expected = (None, None, False, False) self.assertEqual(expected, dev_info) self.test_driver.insert_image( 'CD', 'http://fish.it/red.iso', inserted=True, write_protected=False) dev_info = self.test_driver.get_device_image_info('CD') expected = (None, 'http://fish.it/red.iso', True, False) self.assertEqual(expected, dev_info) def test_eject_image(self): dev_info = self.test_driver.get_device_image_info('CD') expected = (None, None, False, False) self.assertEqual(expected, dev_info) self.test_driver.eject_image('CD') dev_info = self.test_driver.get_device_image_info('CD') expected = ('', '', False, False) self.assertEqual(expected, dev_info) ",,651,25
openstack%2Fsushy-tools~master~I42cb4cd753c4841571d2cfee454bfd28eb236a42,openstack/sushy-tools,master,I42cb4cd753c4841571d2cfee454bfd28eb236a42,Add Indicator LED resource emulation,MERGED,2019-04-26 16:16:35.000000000,2019-08-06 07:07:41.000000000,2019-08-06 07:07:41.000000000,"[{'_account_id': 11655}, {'_account_id': 16635}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-04-26 16:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/235bc6675997159a88bafebfc6782f6c46d508e2', 'message': 'WIP: Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 2, 'created': '2019-04-29 10:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/db95d7ef8db63eca3186ec5ed41b399e8e7924a7', 'message': 'WIP: Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 3, 'created': '2019-04-29 13:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/06abc830d2974c71b380d1fe59d7d185121f4a02', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 4, 'created': '2019-04-29 14:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/90cd6f42bf2102c7cd6d31edee63eb2fff0d8bee', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 5, 'created': '2019-05-03 12:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1b7287afd0b3d76098a0b2fb70787b44e77a7c5c', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 6, 'created': '2019-05-04 08:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6dcefdb665205db84317920d0a50e587a81f07df', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 7, 'created': '2019-05-04 15:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ca7d63a82782f4082b1938b564cd4368d33328cb', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 8, 'created': '2019-05-04 19:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/313d08ce85548a8382056afcf374729e11a1bea8', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 9, 'created': '2019-05-05 06:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/df5fadde49d1ca85d492325ce677ea91b64dc474', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 10, 'created': '2019-05-07 09:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b598f43a941031f56ea384a921add7222d898e0b', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 11, 'created': '2019-05-20 17:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/109a10a013fd217b3ae3a0696d04312331a5d620', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 12, 'created': '2019-06-11 10:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/fc2a84797d3a21494db187f31927d32f1e81d1c7', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 13, 'created': '2019-06-12 09:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/bc85fdc1d4769ec5baba327c92b0661d1b54be7c', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 14, 'created': '2019-06-12 14:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4610922ba9885a0f834e0913783eaa601086980d', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 15, 'created': '2019-06-12 16:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7a4568fd4741652f3e5bb1978d2c8df6fe6e1201', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 16, 'created': '2019-06-13 08:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b8ff8ae6e02ba8760411510632de5422ec00b54e', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 17, 'created': '2019-06-13 09:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/6b67fc67cbc39a0db41f5b3bbd60aa1b78de5276', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 18, 'created': '2019-06-19 15:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/92c86531d7fcdea3d6ba1ccf390d18b5ba8d6f12', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 19, 'created': '2019-06-20 09:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c0c5dac83ef788f3995ea70174ac9852a05f5ddd', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 20, 'created': '2019-06-20 11:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e862a2a834e3f4d347625494683f57029b8ffa3f', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 21, 'created': '2019-07-01 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/13f3bccf37d7257820f6748863480c1c21edb133', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}, {'number': 22, 'created': '2019-07-02 13:44:20.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/tests/unit/emulator/resources/indicators/__init__.py', 'sushy_tools/emulator/resources/indicators/staticdriver.py', 'sushy_tools/tests/unit/emulator/resources/indicators/test_static.py', 'sushy_tools/emulator/memoize.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/emulator/templates/chassis.json', 'doc/source/admin/emulator.conf', 'releasenotes/notes/add-indicator-led-resource-672255319e6c3421.yaml', 'sushy_tools/emulator/resources/indicators/__init__.py', 'doc/source/user/dynamic-emulator.rst'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/155fed1aeb4d1b50dc95a46f1cb771e2b74b8394', 'message': 'Add Indicator LED resource emulation\n\nAdds generic Indicator LED resource emulation, adds `IndicatorLED`\nproperty to Chassis and System resources.\n\nStory: 2005342\nTask: 30290\nChange-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42\n'}]",6,655936,155fed1aeb4d1b50dc95a46f1cb771e2b74b8394,56,5,22,26340,,,0,"Add Indicator LED resource emulation

Adds generic Indicator LED resource emulation, adds `IndicatorLED`
property to Chassis and System resources.

Story: 2005342
Task: 30290
Change-Id: I42cb4cd753c4841571d2cfee454bfd28eb236a42
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/36/655936/19 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/chassis.json', 'releasenotes/notes/add-indicator-led-resource-672255319e6c3421.yaml', 'sushy_tools/emulator/resources/indicators.py']",4,235bc6675997159a88bafebfc6782f6c46d508e2,09-add-indicator-led-resource,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from sushy_tools.emulator.resources.base import DriverBase from sushy_tools import error logger = logging.getLogger(__name__) class IndicatorDriver(DriverBase): """"""Redfish indicator LED simulator Maintain indicators states in memory. Does not light up anything. """""" @classmethod def initialize(cls, config): cls._config = config cls._indicators = cls._config.get('SUSHY_EMULATOR_INDICATORS', {}) @property def driver(self): """"""Return human-friendly driver information :returns: driver information as `str` """""" return '<static-indicators>' @property def indicators(self): """"""Return available Redfish indicators :returns: list of UUIDs representing the indicators """""" return list(self._indicators) def get_indicator_state(self, identity): """"""Get indicator state :param identity: indicator identity :returns: indicator state as one of *Lit*, *Blinking*, *Off* or None if indicator state can't be determined """""" return self._indicators.get(identity) def set_indicator_state(self, identity, state): """"""Set indicator state :param identity: indicator identity :param state: indicator state as one of *Lit*, *Blinking*, *Off* :raises: `error.FishyError` if desired state can't be set """""" if state not in ('Lit', 'Off', 'Blinking'): raise error.FishyError( 'Unknown indicator state %s, ID %s' % (state, identity)) self._indicators[identity] = state ",,98,3
openstack%2Fbifrost~master~I10ce74a1c1a7355837b283c372737c9b06ae2e85,openstack/bifrost,master,I10ce74a1c1a7355837b283c372737c9b06ae2e85,Fix troubleshooting docs - SSH access to CoreOS,MERGED,2019-05-29 17:52:27.000000000,2019-08-06 06:56:16.000000000,2019-08-06 06:56:16.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-05-29 17:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/815f189d39e063e4ce4cbe90c3295deca2020452', 'message': 'Fix troubleshooting docs - SSH access to CoreOS\n\nDeprecated setting was used and the second step was unclear.\nI fixed the wording a bit as well.\n\nChange-Id: I10ce74a1c1a7355837b283c372737c9b06ae2e85\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-05-31 08:31:56.000000000', 'files': ['doc/source/user/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c4847323bf66aea8c44d175df264e53e0ef2ff76', 'message': 'Fix troubleshooting docs - SSH access to CoreOS\n\nRemoved setting was used and the second step was unclear.\nI updated the procedure to match current state.\n\nChange-Id: I10ce74a1c1a7355837b283c372737c9b06ae2e85\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",11,662057,c4847323bf66aea8c44d175df264e53e0ef2ff76,24,6,2,30491,,,0,"Fix troubleshooting docs - SSH access to CoreOS

Removed setting was used and the second step was unclear.
I updated the procedure to match current state.

Change-Id: I10ce74a1c1a7355837b283c372737c9b06ae2e85
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/57/662057/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/troubleshooting.rst'],1,815f189d39e063e4ce4cbe90c3295deca2020452,fix-troubleshoot-ssh-docs,"If you wish to SSH into the node, you need to do the following: 1) Add ``sshkey=""ssh-rsa AAAA...""`` to ``pxe_append_params`` setting in ``[pxe]`` section of ``/etc/ironic/ironic.conf`` config file. 2) Restart the ironic-conductor service. 3) ``ssh core@<ip-address-of-node>``","If you wish to SSH into the node in order to perform any sort of post-mortem, you will need to do the following: 1) Set an ``sshkey=""ssh-rsa AAAA.....""`` value on the ``agent_pxe_append_params`` setting in ``/etc/ironic/ironic.conf`` 2) You will need to short circuit the ironic conductor process. An ideal place to do so is in ``ironic/drivers/modules/agent.py`` in the reboot_to_instance method. Temporarily short circuiting this step will force you to edit the MySQL database if you wish to re-deploy the node, but the node should stay online after IPA has completed deployment. 3) ``ssh -l core <ip-address-of-node>``",5,11
openstack%2Fcyborg~master~I5ae38d24a4746006a24f93222ecccc58896bedce,openstack/cyborg,master,I5ae38d24a4746006a24f93222ecccc58896bedce,TEST,ABANDONED,2019-08-02 07:12:30.000000000,2019-08-06 06:28:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 24872}]","[{'number': 1, 'created': '2019-08-02 07:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2374cc141acb8115270c5aa914ea591f00187f16', 'message': 'TEST\n\nChange-Id: I5ae38d24a4746006a24f93222ecccc58896bedce\n'}, {'number': 2, 'created': '2019-08-02 07:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/de876322c2090b48f035894da76bf7759bc3b039', 'message': 'TEST\n\nChange-Id: I5ae38d24a4746006a24f93222ecccc58896bedce\n'}, {'number': 3, 'created': '2019-08-02 07:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/604ac96e5f3694190bab08d0510814af27b2399a', 'message': 'TEST\n\nChange-Id: I5ae38d24a4746006a24f93222ecccc58896bedce\n'}, {'number': 4, 'created': '2019-08-02 08:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/427005b795d57d4d614336450eb072d6b8825c08', 'message': 'TEST\n\nChange-Id: I5ae38d24a4746006a24f93222ecccc58896bedce\n'}, {'number': 5, 'created': '2019-08-02 08:51:10.000000000', 'files': ['cyborg/privsep/lsgpu.py', 'devstack/lib/cyborg', 'cyborg/common/utils.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'etc/cyborg/rootwrap.d/acceleration.filters', 'requirements.txt', 'cyborg/accelerator/drivers/gpu/utils.py', 'cyborg/common/service.py', 'releasenotes/notes/switch_to_oslo_privsep-4fc6e15360c92772.yaml', 'cyborg/accelerator/drivers/gpu/nvidia/sysinfo.py', 'cyborg/privsep/__init__.py', 'setup.cfg', 'cyborg/conf/default.py', 'cyborg/cmd/agent.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c9742e46bbeb0c5e0fe182ed3bb44e185d443313', 'message': 'TEST\n\nChange-Id: I5ae38d24a4746006a24f93222ecccc58896bedce\n'}]",0,674212,c9742e46bbeb0c5e0fe182ed3bb44e185d443313,11,2,5,24872,,,0,"TEST

Change-Id: I5ae38d24a4746006a24f93222ecccc58896bedce
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/12/674212/5 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/privsep/lsgpu.py', 'devstack/lib/cyborg', 'cyborg/common/utils.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'etc/cyborg/rootwrap.d/acceleration.filters', 'requirements.txt', 'cyborg/accelerator/drivers/gpu/utils.py', 'cyborg/common/service.py', 'releasenotes/notes/switch_to_oslo_privsep-4fc6e15360c92772.yaml', 'cyborg/accelerator/drivers/gpu/nvidia/sysinfo.py', 'cyborg/privsep/__init__.py', 'cyborg/conf/default.py', 'cyborg/cmd/agent.py']",13,2374cc141acb8115270c5aa914ea591f00187f16,,import shlexfrom oslo_privsep import priv_contextfrom cyborg.common import utils priv_context.init(root_helper=shlex.split(utils._get_root_helper())),,138,34
openstack%2Fkolla-ansible~stable%2Fpike~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,stable/pike,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),ABANDONED,2019-06-28 07:31:45.000000000,2019-08-06 06:24:20.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-28 07:31:45.000000000', 'files': ['ansible/roles/nova/tasks/simple_cell_setup.yml', 'ansible/roles/nova/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4f60f20b36aaf3afca751a0cd3deefda563f7f7', 'message': 'Avoid parallel discover_hosts (nova-related race condition)\n\nIn a rare event both kolla-ansible and nova-scheduler try to do\nthe mapping at the same time and one of them fails.\nSince kolla-ansible runs host discovery on each deployment,\nthere is no need to change the default of no periodic host discovery.\n\nI added some notes for future. They are not critical.\nI made the decision explicit in the comments.\nI changed the task name to satisfy recommendations.\nI removed the variable because it is not used (to avoid future doubts).\n\nCloses-Bug: #1832987\nChange-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)\n(cherry picked from commit ed3d1e37ffa3c513957e184693d5ae7e451e92d8)\n(cherry picked from commit 73747860dc943661deca4260342d90b25dadd9f7)\n'}]",0,668106,b4f60f20b36aaf3afca751a0cd3deefda563f7f7,13,4,1,30491,,,0,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987
Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ce680bcfe2208f19a23630ee3feff4b9bd40c595)
(cherry picked from commit ed3d1e37ffa3c513957e184693d5ae7e451e92d8)
(cherry picked from commit 73747860dc943661deca4260342d90b25dadd9f7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/668106/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/simple_cell_setup.yml', 'ansible/roles/nova/templates/nova.conf.j2']",2,b4f60f20b36aaf3afca751a0cd3deefda563f7f7,bug/1832987-pike,# NOTE(yoctozepto): kolla-ansible handles cell mapping by itself on each deploy # periodic run must be disabled to avoid random failures (where both try to map) # -1 is default and means periodic discovery is disabled discover_hosts_in_cells_interval = -1,discover_hosts_in_cells_interval = 60,5,2
openstack%2Fcinder~master~I37343f734593295fd1e1fbb6fbba147b605db078,openstack/cinder,master,I37343f734593295fd1e1fbb6fbba147b605db078,Update Veritas Access in Support Matrix,MERGED,2019-08-05 17:01:01.000000000,2019-08-06 05:48:37.000000000,2019-08-06 05:48:37.000000000,"[{'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2019-08-05 17:01:01.000000000', 'files': ['doc/source/reference/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9844b469a67af6c5431882023f8ec5d718e27e29', 'message': 'Update Veritas Access in Support Matrix\n\nIt appears when the Veritas Access driver was marked\nunsupported the update to the support matrix was\nmissed.  This updates the support matrix to show it is\nunsupported.\n\nChange-Id: I37343f734593295fd1e1fbb6fbba147b605db078\n'}]",0,674654,9844b469a67af6c5431882023f8ec5d718e27e29,28,23,1,7198,,,0,"Update Veritas Access in Support Matrix

It appears when the Veritas Access driver was marked
unsupported the update to the support matrix was
missed.  This updates the support matrix to show it is
unsupported.

Change-Id: I37343f734593295fd1e1fbb6fbba147b605db078
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/674654/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.ini'],1,9844b469a67af6c5431882023f8ec5d718e27e29,ci_unsupported,driver.vrtsaccess=missing,driver.vrtsaccess=complete,1,1
openstack%2Fplacement~master~Iaa20e5e92e793b75f7773f86407cdedfb6584dab,openstack/placement,master,Iaa20e5e92e793b75f7773f86407cdedfb6584dab,Use TraitCache for Trait.get_by_name,MERGED,2019-07-31 07:59:58.000000000,2019-08-06 05:48:35.000000000,2019-08-06 05:48:35.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-07-31 07:59:58.000000000', 'files': ['placement/objects/trait.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/a0e2c0273fe7ea6e04c65f96728cc74b5f1815ac', 'message': 'Use TraitCache for Trait.get_by_name\n\nChange Trait.get_by_name to access the TraitCache. This was\nsomething that was intended to be done in the patch that added\nthe cache [1] but was left out.\n\nFor most uses of get_by_name this has little impact: the cache\nwill be cold when the method is called, warmed to satisfy the\nrequest. However, this makes Trait.get_by_name consistent with\nResourceClass.get_by_name.\n\n[1] Ia19ea2b4ecdde25323579edf60ad6269d05e75a2\n\nChange-Id: Iaa20e5e92e793b75f7773f86407cdedfb6584dab\n'}]",1,673750,a0e2c0273fe7ea6e04c65f96728cc74b5f1815ac,7,3,1,11564,,,0,"Use TraitCache for Trait.get_by_name

Change Trait.get_by_name to access the TraitCache. This was
something that was intended to be done in the patch that added
the cache [1] but was left out.

For most uses of get_by_name this has little impact: the cache
will be cold when the method is called, warmed to satisfy the
request. However, this makes Trait.get_by_name consistent with
ResourceClass.get_by_name.

[1] Ia19ea2b4ecdde25323579edf60ad6269d05e75a2

Change-Id: Iaa20e5e92e793b75f7773f86407cdedfb6584dab
",git fetch https://review.opendev.org/openstack/placement refs/changes/50/673750/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/trait.py'],1,a0e2c0273fe7ea6e04c65f96728cc74b5f1815ac,cd/trait-cache-fup, db_trait = context.trait_cache.all_from_string(name)," @staticmethod @db_api.placement_context_manager.reader def _get_by_name_from_db(context, name): result = context.session.query(models.Trait).filter_by( name=name).first() if not result: raise exception.TraitNotFound(name=name) return result db_trait = cls._get_by_name_from_db(context, six.text_type(name))",1,10
openstack%2Fcyborg~master~I2ab509a8430cb3e7d297bd4303a492c21d59a7f3,openstack/cyborg,master,I2ab509a8430cb3e7d297bd4303a492c21d59a7f3,Sync Sphinx requirement,MERGED,2019-06-11 10:02:42.000000000,2019-08-06 01:35:36.000000000,2019-08-06 01:35:36.000000000,"[{'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 27822}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-11 10:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/26a0a08863b02e1516bdbf7aec967b2d588677f1', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I2ab509a8430cb3e7d297bd4303a492c21d59a7f3\n'}, {'number': 2, 'created': '2019-06-11 10:04:40.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b8103b439491e74b7bbbcae20df47cdc0ef178ef', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n\nChange-Id: I2ab509a8430cb3e7d297bd4303a492c21d59a7f3\n'}]",0,664548,b8103b439491e74b7bbbcae20df47cdc0ef178ef,10,5,2,28743,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest

Change-Id: I2ab509a8430cb3e7d297bd4303a492c21d59a7f3
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/48/664548/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'releasenotes/source/conf.py']",2,26a0a08863b02e1516bdbf7aec967b2d588677f1,,# refs: https://alabaster.readthedocs.io/en/latest/installation.html#sidebars,# refs: http://alabaster.readthedocs.io/en/latest/installation.html#sidebars,7,2
openstack%2Fcharm-heat~master~I41da24f87cfdc66f6061426913f0d64b7dbb8398,openstack/charm-heat,master,I41da24f87cfdc66f6061426913f0d64b7dbb8398,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 03:03:12.000000000,2019-08-06 01:27:32.000000000,2019-08-06 01:27:32.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a5dfabc1e04624e98c4de91adb4288d8d62bd8fb', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I41da24f87cfdc66f6061426913f0d64b7dbb8398\nCloses-Bug: #1838696\n'}, {'number': 2, 'created': '2019-08-05 10:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a0aaefee50111b9500536bfa599439c461bcc7b5', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I41da24f87cfdc66f6061426913f0d64b7dbb8398\nCloses-Bug: #1838696\n'}, {'number': 3, 'created': '2019-08-05 10:47:47.000000000', 'files': ['tests/basic_deployment.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'templates/ocata/heat.conf', 'hooks/charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/3099142117edce9d6c5f6578a124c1b82a88debd', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I41da24f87cfdc66f6061426913f0d64b7dbb8398\nCloses-Bug: #1838696\n'}]",0,674168,3099142117edce9d6c5f6578a124c1b82a88debd,17,5,3,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I41da24f87cfdc66f6061426913f0d64b7dbb8398
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/68/674168/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'templates/ocata/heat.conf', 'hooks/charmhelpers/contrib/openstack/ha/utils.py']",3,a5dfabc1e04624e98c4de91adb4288d8d62bd8fb,bug/1838696,"def generate_ha_relation_data(service, extra_settings=None, haproxy_enabled=True): _relation_data = {'resources': {}, 'resource_params': {}} if haproxy_enabled: _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data['resources'] = {_haproxy_res: 'lsb:haproxy'} _relation_data['resource_params'] = { } _relation_data['init_services'] = {_haproxy_res: 'haproxy'} _relation_data['clones'] = { }","def generate_ha_relation_data(service, extra_settings=None): _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data = { 'resources': { _haproxy_res: 'lsb:haproxy', }, 'resource_params': { }, 'init_services': { _haproxy_res: 'haproxy' }, 'clones': { }, }",24,15
openstack%2Frally-openstack~master~I5ca75cd85fa469cdaa869baa71726498e9d11e0b,openstack/rally-openstack,master,I5ca75cd85fa469cdaa869baa71726498e9d11e0b,Add python3 functional gate,MERGED,2019-02-13 15:15:06.000000000,2019-08-06 00:44:11.000000000,2019-08-06 00:44:11.000000000,"[{'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 22348}, {'_account_id': 26109}]","[{'number': 1, 'created': '2019-02-13 15:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ef16ae03720e608c632a9a4628b58713f346e184', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2019-02-13 15:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e2b1f58bba0cc015e7a10d30359da2e56f7ad260', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2019-02-13 16:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/866c7cafe7140d59835c225c35823d520d3152a2', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 4, 'created': '2019-07-08 13:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cb1205abd777fae25c702fc779ef4627c90d9ca3', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 5, 'created': '2019-07-08 13:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/83ee2182e9945e2c56bdc765e7df3c51a37033b8', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 6, 'created': '2019-07-11 14:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/08fea0848bfdb060c612e98c504940859eda7837', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 7, 'created': '2019-07-11 19:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/aa8b514554f643f23a7b874f711fe39fe9de0922', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 8, 'created': '2019-07-12 14:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d04ce0256516d3435db6614f28f589e1f3e5a99c', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 9, 'created': '2019-07-12 17:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4926176060c7afeeaf4b235981a2419b5cbc9341', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 10, 'created': '2019-07-15 13:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ec7730cc03f55ec7ce59470b6566a52002fb2427', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 11, 'created': '2019-07-15 17:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4248be3d8fcd1f7588078903b72e62ae5005b7a9', 'message': 'WIP: Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 12, 'created': '2019-07-16 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d84b7cb9a8dd44a6e9b6e994c064a193a4fdde06', 'message': 'WIP: Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 13, 'created': '2019-07-16 15:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a3aeca689c11bd23bfaf227f46ce631f4684566f', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 14, 'created': '2019-07-16 19:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0200d27ff300555aaf742965f437d5db98630ee1', 'message': 'WIP: Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 15, 'created': '2019-07-17 17:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e2bd0986ddc1f5787220461aeb93d85ab8d93686', 'message': 'WIP: Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 16, 'created': '2019-07-24 15:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/eab0f052e0c352199c436bb52c95844c1f2a7a73', 'message': 'WIP: Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 17, 'created': '2019-07-24 17:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c539f3e0e5d074fa92d4f6812d0b5300e94a624a', 'message': 'WIP: Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 18, 'created': '2019-07-29 13:12:28.000000000', 'files': ['tests/functional/test_cli_env.py', '.zuul.d/rally-tox-functional.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1a4614167144d8a393bd54350b029939b78a1038', 'message': 'Add python3 functional gate\n\nAdd a python3 functional gate that is non-voting.\n\nCo-Authored-By: Lucas H. Xu <hanxu@redhat.com>\n\nChange-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b\nSigned-off-by: Charles Short <chucks@redhat.com>\n               Lucas H. Xu <hanxu@redhat.com>\n'}]",5,636649,1a4614167144d8a393bd54350b029939b78a1038,57,4,18,24,,,0,"Add python3 functional gate

Add a python3 functional gate that is non-voting.

Co-Authored-By: Lucas H. Xu <hanxu@redhat.com>

Change-Id: I5ca75cd85fa469cdaa869baa71726498e9d11e0b
Signed-off-by: Charles Short <chucks@redhat.com>
               Lucas H. Xu <hanxu@redhat.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/49/636649/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/zuul.yaml'],1,ef16ae03720e608c632a9a4628b58713f346e184,add-py3-func-gate, - rally-dsvm-tox-functional-py3 voting: false - rally-dsvm-tox-functional-py3 voting: false,,4,0
openstack%2Ftripleo-docs~master~I4f742ed182c9377ae66998934c145ead9295a724,openstack/tripleo-docs,master,I4f742ed182c9377ae66998934c145ead9295a724,Document using AllNodesExtraMapData from config-download,MERGED,2019-07-24 20:58:40.000000000,2019-08-06 00:02:46.000000000,2019-08-06 00:02:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-24 20:58:40.000000000', 'files': ['doc/source/install/advanced_deployment/distributed_compute_node.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6c9a95260051e12f8fdd32b3a9d00c7cba2ea61b', 'message': 'Document using AllNodesExtraMapData from config-download\n\nAs the all_nodes.json data is now rendered by Ansible, we need to use\nthe data from the config-download directory instead of using the Heat\nstack output.\n\nChange-Id: I4f742ed182c9377ae66998934c145ead9295a724\nDepends-On: Ib3838d404b45ae6684ef7e0aa211cb8015271866\n'}]",1,672596,6c9a95260051e12f8fdd32b3a9d00c7cba2ea61b,9,6,1,7144,,,0,"Document using AllNodesExtraMapData from config-download

As the all_nodes.json data is now rendered by Ansible, we need to use
the data from the config-download directory instead of using the Heat
stack output.

Change-Id: I4f742ed182c9377ae66998934c145ead9295a724
Depends-On: Ib3838d404b45ae6684ef7e0aa211cb8015271866
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/96/672596/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/distributed_compute_node.rst'],1,6c9a95260051e12f8fdd32b3a9d00c7cba2ea61b,,"Save the hieradata from the stack for input into the compute stacks: .. code-block:: bash # AllNodesConfig: Node specific hieradata (hostnames, etc) set on all nodes cat /var/lib/mistral/control-plane/group_vars/overcloud.json \ | jq '{""parameter_defaults"": {""AllNodesExtraMapData"": .}}' \ > all-nodes-extra-map-data.json # AllNodesConfig: Node specific hieradata (hostnames, etc) set on all nodes cat /var/lib/mistral/control-plane/group_vars/overcloud.json \ | jq '{""parameter_defaults"": {""AllNodesExtraMapData"": .}}' \ > all-nodes-extra-map-data.json "," # AllNodesConfig: Node specific hieradata (hostnames, etc) set on all nodes openstack stack output show control-plane AllNodesConfig --format json \ | jq '{""parameter_defaults"": {""AllNodesExtraMapData"": .output_value}}' \ > all-nodes-extra-map-data.json # AllNodesConfig: Node specific hieradata (hostnames, etc) set on all nodes openstack stack output show control-plane AllNodesConfig --format json \ | jq '{""parameter_defaults"": {""AllNodesExtraMapData"": .output_value}}' \ > all-nodes-extra-map-data.json ",14,10
openstack%2Ftripleo-docs~master~I18ff11126a3608a736cbee08c746d91906477c31,openstack/tripleo-docs,master,I18ff11126a3608a736cbee08c746d91906477c31,Fix some links,MERGED,2019-08-04 14:38:39.000000000,2019-08-06 00:02:45.000000000,2019-08-06 00:02:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-04 14:38:39.000000000', 'files': ['doc/source/developer/release.rst', 'doc/source/install/advanced_deployment/deploy_swift.rst', 'doc/source/install/introduction/components.rst', 'doc/source/install/environments/virtual.rst', 'doc/source/validations/index.rst', 'doc/source/install/troubleshooting/troubleshooting-nodes.rst', 'doc/source/install/mistral-api/mistral-api.rst', 'doc/source/install/advanced_deployment/root_device.rst', 'doc/source/install/advanced_deployment/tls_everywhere.rst', 'doc/source/install/advanced_deployment/deploy_manila.rst', 'doc/source/install/advanced_deployment/node_discovery.rst', 'doc/source/install/containers_deployment/overcloud.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/install/advanced_deployment/extra_config.rst', 'doc/source/install/advanced_deployment/node_states.rst', 'doc/source/install/advanced_deployment/profile_matching.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7e80d907965087a7f28fe647b6027aa9b983480b', 'message': 'Fix some links\n\n* Remove section on tripleo-incubator, this repo is retired.\n* Replace docs.openstack.org/developer/X with current link\n  docs.openstack.org/X, use https where missing.\n\nChange-Id: I18ff11126a3608a736cbee08c746d91906477c31\n'}]",0,674497,7e80d907965087a7f28fe647b6027aa9b983480b,7,3,1,6547,,,0,"Fix some links

* Remove section on tripleo-incubator, this repo is retired.
* Replace docs.openstack.org/developer/X with current link
  docs.openstack.org/X, use https where missing.

Change-Id: I18ff11126a3608a736cbee08c746d91906477c31
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/97/674497/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/release.rst', 'doc/source/install/advanced_deployment/deploy_swift.rst', 'doc/source/install/introduction/components.rst', 'doc/source/install/environments/virtual.rst', 'doc/source/validations/index.rst', 'doc/source/install/troubleshooting/troubleshooting-nodes.rst', 'doc/source/install/mistral-api/mistral-api.rst', 'doc/source/install/advanced_deployment/root_device.rst', 'doc/source/install/advanced_deployment/tls_everywhere.rst', 'doc/source/install/advanced_deployment/deploy_manila.rst', 'doc/source/install/advanced_deployment/node_discovery.rst', 'doc/source/install/containers_deployment/overcloud.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/install/advanced_deployment/extra_config.rst', 'doc/source/install/advanced_deployment/node_states.rst', 'doc/source/install/advanced_deployment/profile_matching.rst']",16,7e80d907965087a7f28fe647b6027aa9b983480b,links,.. _Introspection rules: https://docs.openstack.org/ironic-inspector/usage.html#introspection-rules,.. _Introspection rules: http://docs.openstack.org/developer/ironic-inspector/usage.html#introspection-rules,37,54
openstack%2Ftripleo-docs~master~I3f37375b77aaf2f652a69d396a2bc22fb7a7ee40,openstack/tripleo-docs,master,I3f37375b77aaf2f652a69d396a2bc22fb7a7ee40,"Use ""modern"" way of building docs",MERGED,2019-08-04 14:56:00.000000000,2019-08-06 00:02:33.000000000,2019-08-06 00:02:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-04 14:56:00.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/source/conf.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/aacc95087f58e425aa8fbb5f3a3d6ad4329fe3f8', 'message': 'Use ""modern"" way of building docs\n\nWe don\'t use python build_sphinx anymore, replace with sphinx-build\naccording to PTI. Remove related configuration from setup.cfg.\n\nThis repo builds only docs, so no need for a separate\ndoc/requirements.txt file, remove its usage.\n\nCleanup requirements files, we need only requirements for building docs.\n\nUpdate conf.py for newer openstackdocstheme.\n\nChange-Id: I3f37375b77aaf2f652a69d396a2bc22fb7a7ee40\n'}]",0,674498,aacc95087f58e425aa8fbb5f3a3d6ad4329fe3f8,7,3,1,6547,,,0,"Use ""modern"" way of building docs

We don't use python build_sphinx anymore, replace with sphinx-build
according to PTI. Remove related configuration from setup.cfg.

This repo builds only docs, so no need for a separate
doc/requirements.txt file, remove its usage.

Cleanup requirements files, we need only requirements for building docs.

Update conf.py for newer openstackdocstheme.

Change-Id: I3f37375b77aaf2f652a69d396a2bc22fb7a7ee40
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/98/674498/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/source/conf.py', 'setup.cfg', 'tox.ini']",5,aacc95087f58e425aa8fbb5f3a3d6ad4329fe3f8,sphinx-building, sphinx-build -a -E -W -d doc/build/doctrees -b html doc/source doc/build/html, pip install -r {toxinidir}/doc/requirements.txt python setup.py build_sphinx,7,34
openstack%2Ftripleo-quickstart~master~I6f12c263899bc96a5daa1d108d4b8fade77baaf6,openstack/tripleo-quickstart,master,I6f12c263899bc96a5daa1d108d4b8fade77baaf6,[RHEL8]Fix release file for DLRN package builds,MERGED,2019-07-30 13:22:44.000000000,2019-08-05 23:57:08.000000000,2019-08-05 23:57:08.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-30 13:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1ca87974b6c3438ca2becbfee975fa8fed91351c', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-30 13:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0c65c0ce9f30317b82477647effd44c923944a30', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-07-30 14:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e74ef0d10132e1a16071baf4893d7dc1ff20e73e', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-07-30 18:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/747930e3b89997b03adb7723087af6de47e3e044', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n* Added workaround for building packages using DLRN for rhel8\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-07-31 06:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6532ade7fcdd716b46e1e065a97e345887799a8b', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n* Added workaround for building packages using DLRN for rhel8\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-07-31 10:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0982f61d7749c623b3f8324b97db5ca2b969b85d', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n* Added workaround for building packages using DLRN for rhel8\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-07-31 11:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/61f9a91788da67fff9a09a29a0f03ccfb67c3fb9', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n* Added workaround for building packages using DLRN for rhel8\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-07-31 12:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/97e4bb30df274d8089ef518769a8ed6e0924bc36', 'message': '[RHEL8]Fix release file for dlrn\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock is needed by dlrn for building packages, now avaailble\n  through rhui, included in release file.\n* Added workaround for building packages using DLRN for rhel8\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2019-08-05 09:54:40.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/12e4abeaac7060d309ab405f65346c465f9547e0', 'message': '[RHEL8]Fix release file for DLRN package builds\n\n* https://softwarefactory-project.io/r/#/c/15950/ sets the\n  dlrn_target to redhat and same is updated in release file.\n* Mock and systemd-container is needed by dlrn for building packages,\n  now availble through rhui, included in release file.\n* Added /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT file needed for\n  RHEL-8 mock cfg.\n\nChange-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",5,673517,12e4abeaac7060d309ab405f65346c465f9547e0,29,12,9,12393,,,0,"[RHEL8]Fix release file for DLRN package builds

* https://softwarefactory-project.io/r/#/c/15950/ sets the
  dlrn_target to redhat and same is updated in release file.
* Mock and systemd-container is needed by dlrn for building packages,
  now availble through rhui, included in release file.
* Added /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT file needed for
  RHEL-8 mock cfg.

Change-Id: I6f12c263899bc96a5daa1d108d4b8fade77baaf6
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/17/673517/9 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml']",2,1ca87974b6c3438ca2becbfee975fa8fed91351c,, sudo dnf install -y mock;,,3,4
openstack%2Ftripleo-quickstart-extras~master~I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53,openstack/tripleo-quickstart-extras,master,I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53,Fix OpenSSL installation,MERGED,2019-08-02 23:20:29.000000000,2019-08-05 23:57:07.000000000,2019-08-05 23:57:07.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 23:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c782400339b77f2e8dd5d790dcc03211947da362', 'message': 'Fix OpenSSL installation\n\nChange-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53\n'}, {'number': 2, 'created': '2019-08-03 00:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5d744e826b9e39a4e47d32c93e19725e557b9572', 'message': 'Fix OpenSSL installation\n\nChange-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53\n'}, {'number': 3, 'created': '2019-08-03 02:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f571993e28951add054b34780d462976960b9f5', 'message': 'Fix OpenSSL installation\n\nChange-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53\n'}, {'number': 4, 'created': '2019-08-03 10:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b540171705b15eb320593f51de85feca91f901ba', 'message': 'Fix OpenSSL installation\n\nChange-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53\n'}, {'number': 5, 'created': '2019-08-03 13:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a7c2d0633974cc094817355839dfbbe45b3394bd', 'message': 'Fix OpenSSL installation\n\nChange-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53\n'}, {'number': 6, 'created': '2019-08-03 14:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4b840203af830500ed995bbd4bcc4d95adb0e87a', 'message': 'Fix OpenSSL installation\n\nChange-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53\n'}, {'number': 7, 'created': '2019-08-05 08:50:15.000000000', 'files': ['roles/overcloud-ssl/library/tls_tht.py', 'roles/overcloud-ssl/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/706b9f697c04a89387de2f0d0f3f714c038c47fe', 'message': 'Fix OpenSSL installation\n\nMake SSL python script to work with python3, and add become\nto install packages.\nChange-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53\n'}]",6,674433,706b9f697c04a89387de2f0d0f3f714c038c47fe,42,9,7,10969,,,0,"Fix OpenSSL installation

Make SSL python script to work with python3, and add become
to install packages.
Change-Id: I854a02ab76ee7f273d8f4592a3d3dfe1d7dcdf53
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/33/674433/6 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-ssl/tasks/main.yml'],1,c782400339b77f2e8dd5d790dcc03211947da362,ara, - name: Ensure rpm requirements for ssl and heat template are installed become: true package: name: - openssl - openstack-tripleo-heat-templates state: latest, - name: Ensure rpm requirements for ssl are installed yum: name={{ item }} state=latest with_items: - openssl - name: Ensure tripleo heat template rpm requirements for ssl are installed yum: name={{ item }} state=latest with_items: - openstack-tripleo-heat-templates,7,9
openstack%2Fswift~master~Ia31912828d416d84c39782222e4636a97a8bfe44,openstack/swift,master,Ia31912828d416d84c39782222e4636a97a8bfe44,Increase node_timeout for real sever unittests,MERGED,2019-08-05 20:44:56.000000000,2019-08-05 23:56:06.000000000,2019-08-05 23:54:53.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 20:44:56.000000000', 'files': ['test/unit/helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ab192415347223cfb49af7a62e124ef6f35779a6', 'message': 'Increase node_timeout for real sever unittests\n\nI saw an encryption test fail with 10s node timeout when the py36\nunittests ran in the gate.  I believe there is an outsized potential for\na beneficial increase in test reliability when run in the gate compared\nto relatively small chance of any negative side-effect in test failure\nresponsiveness.\n\nChange-Id: Ia31912828d416d84c39782222e4636a97a8bfe44\n'}]",0,674691,ab192415347223cfb49af7a62e124ef6f35779a6,11,2,1,1179,,,0,"Increase node_timeout for real sever unittests

I saw an encryption test fail with 10s node timeout when the py36
unittests ran in the gate.  I believe there is an outsized potential for
a beneficial increase in test reliability when run in the gate compared
to relatively small chance of any negative side-effect in test failure
responsiveness.

Change-Id: Ia31912828d416d84c39782222e4636a97a8bfe44
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/674691/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/helpers.py'],1,ab192415347223cfb49af7a62e124ef6f35779a6,," 'allow_versions': 't', 'node_timeout': 20}", 'allow_versions': 't'},1,1
openstack%2Foctavia-tempest-plugin~master~Ifea51c1f927947588ac2ed82f25fa35ee56c98f7,openstack/octavia-tempest-plugin,master,Ifea51c1f927947588ac2ed82f25fa35ee56c98f7,Support skipping APP_COOKIE and HTTP_COOKIE,MERGED,2019-03-22 07:57:24.000000000,2019-08-05 23:34:19.000000000,2019-08-05 23:34:19.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-03-22 07:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/01e7f36cc0f544dde5df6ffa7e9b70fc3fff01e2', 'message': 'Support skipping SESSION_PERSISTENCE if L7 Protocol is disabled\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 2, 'created': '2019-03-22 08:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c938abbcae79954f43b9e85ed6507dfd3beaf2c9', 'message': 'Support skipping SESSION_PERSISTENCE if L7 Protocol is disabled\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 3, 'created': '2019-03-26 05:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ba1bc595e2cd9a49884889116e94452f44453d04', 'message': 'Support skipping SESSION_PERSISTENCE if L7 Protocol is disabled\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 4, 'created': '2019-04-11 14:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/59a03d98bbe58fd3d829942ee1e96a873cfc4039', 'message': 'Support skipping APP_COOKIE and HTTP_COOKIE if L7 Protocol is disabled\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 5, 'created': '2019-04-24 07:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/337f80941fffdba5faa9f4361cc8a0036a792d65', 'message': 'Support skipping APP_COOKIE and HTTP_COOKIE\n\nNot all provider drivers may support APP_COOKIE/HTTP_COOKIE,\nso this patch modifies the test to reflect the same.\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 6, 'created': '2019-05-17 06:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/17799d31eefab1368a5757e2de5b19ad7283fc49', 'message': 'Support skipping APP_COOKIE and HTTP_COOKIE\n\nNot all provider drivers may support APP_COOKIE/HTTP_COOKIE,\nso this patch modifies the test to reflect the same.\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 7, 'created': '2019-05-20 08:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bf3d7c0867670cf0bc18965a0539de0fe5677fc3', 'message': 'Support skipping APP_COOKIE and HTTP_COOKIE\n\nNot all provider drivers may support APP_COOKIE/HTTP_COOKIE,\nso this patch modifies the test to reflect the same.\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 8, 'created': '2019-05-20 12:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a82dffe7a31ac0fc159f3df4660bcc8daf230a63', 'message': 'Support skipping APP_COOKIE and HTTP_COOKIE\n\nNot all provider drivers may support APP_COOKIE/HTTP_COOKIE,\nso this patch modifies the test to reflect the same.\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 9, 'created': '2019-05-21 04:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e8289f4476b106bd658f9b919a68cc9dfe33c628', 'message': 'Support skipping APP_COOKIE and HTTP_COOKIE\n\nNot all provider drivers may support APP_COOKIE/HTTP_COOKIE,\nso this patch modifies the test to reflect the same.\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}, {'number': 10, 'created': '2019-07-22 10:09:49.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_pool.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2bb585dc6bfb08e71568e58e252e37fad536ce61', 'message': 'Support skipping APP_COOKIE and HTTP_COOKIE\n\nNot all provider drivers may support APP_COOKIE/HTTP_COOKIE,\nso this patch modifies the test to reflect the same.\n\nChange-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7\n'}]",11,645495,2bb585dc6bfb08e71568e58e252e37fad536ce61,44,8,10,17776,,,0,"Support skipping APP_COOKIE and HTTP_COOKIE

Not all provider drivers may support APP_COOKIE/HTTP_COOKIE,
so this patch modifies the test to reflect the same.

Change-Id: Ifea51c1f927947588ac2ed82f25fa35ee56c98f7
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/95/645495/8 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_pool.py'],1,01e7f36cc0f544dde5df6ffa7e9b70fc3fff01e2,source_ip_port_octavia_ovn," if self.protocol == const.HTTP: self.assertIsNotNone(pool.get(const.SESSION_PERSISTENCE)) self.assertEqual(const.SESSION_PERSISTENCE_APP_COOKIE, pool[const.SESSION_PERSISTENCE][const.TYPE]) self.assertEqual(pool_sp_cookie_name, pool[const.SESSION_PERSISTENCE][const.COOKIE_NAME]) if self.protocol == const.HTTP: self.assertIsNotNone(pool.get(const.SESSION_PERSISTENCE))"," self.assertIsNotNone(pool.get(const.SESSION_PERSISTENCE)) self.assertEqual(const.SESSION_PERSISTENCE_APP_COOKIE, pool[const.SESSION_PERSISTENCE][const.TYPE]) self.assertEqual(pool_sp_cookie_name, pool[const.SESSION_PERSISTENCE][const.COOKIE_NAME]) self.assertIsNotNone(pool.get(const.SESSION_PERSISTENCE)) if self.protocol == const.HTTP:",7,6
openstack%2Fbarbican~master~I16af26b25e36ab1281f109cd5765db1ead9f3df6,openstack/barbican,master,I16af26b25e36ab1281f109cd5765db1ead9f3df6,Update api-ref location,MERGED,2019-07-22 16:48:20.000000000,2019-08-05 23:31:04.000000000,2019-08-05 23:31:04.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/00e1d55954f66d337be5bf31115577819c2c25d5', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I16af26b25e36ab1281f109cd5765db1ead9f3df6\n""}, {'number': 2, 'created': '2019-07-22 18:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9a85f44f3d137141dfdac4fa7ac4df92699c05b1', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFix api-guide building: Use docs requirements.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I16af26b25e36ab1281f109cd5765db1ead9f3df6\n""}, {'number': 3, 'created': '2019-08-05 15:58:36.000000000', 'files': ['doc/source/api/index.rst', 'doc/source/index.rst', 'doc/source/admin/access_control.rst', 'api-guide/source/acls.rst', 'tox.ini', 'doc/source/api/reference/acls.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6e193a308e3f1a71249150dbb054addce3c47857', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFix api-guide building: Use docs requirements.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I16af26b25e36ab1281f109cd5765db1ead9f3df6\n""}]",0,672100,6e193a308e3f1a71249150dbb054addce3c47857,10,2,3,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

Fix api-guide building: Use docs requirements.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I16af26b25e36ab1281f109cd5765db1ead9f3df6
",git fetch https://review.opendev.org/openstack/barbican refs/changes/00/672100/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/index.rst', 'doc/source/index.rst', 'doc/source/admin/access_control.rst', 'api-guide/source/acls.rst', 'tox.ini', 'doc/source/api/reference/acls.rst']",6,00e1d55954f66d337be5bf31115577819c2c25d5,fix-builds,`Default ACL <https://docs.openstack.org/api-guide/key-manager/acls.html#default-acl>`__`Default ACL <https://docs.openstack.org/api-guide/key-manager/acls.html#default-acl>`__,`Default ACL <https://developer.openstack.org/api-guide/key-manager/acls.html#default-acl>`__`Default ACL <https://developer.openstack.org/api-guide/key-manager/acls.html#default-acl>`__,7,7
openstack%2Fbarbican~master~If8e7d6fbb7730705432fb9cc0d5d7a8b06bbe6c1,openstack/barbican,master,If8e7d6fbb7730705432fb9cc0d5d7a8b06bbe6c1,Add Python 3 Train unit tests,MERGED,2019-06-21 21:11:02.000000000,2019-08-05 23:31:00.000000000,2019-08-05 23:31:00.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28471}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-06-21 21:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a9279afcef24529133170a81d0d5e16e66fa7dda', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: If8e7d6fbb7730705432fb9cc0d5d7a8b06bbe6c1\nStory: #2005924\nTask: #34198\n'}, {'number': 2, 'created': '2019-08-05 16:04:50.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6982e9707fac6baab4a409f2182aae7532369299', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: If8e7d6fbb7730705432fb9cc0d5d7a8b06bbe6c1\nStory: #2005924\nTask: #34198\n'}]",0,666923,6982e9707fac6baab4a409f2182aae7532369299,15,7,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: If8e7d6fbb7730705432fb9cc0d5d7a8b06bbe6c1
Story: #2005924
Task: #34198
",git fetch https://review.opendev.org/openstack/barbican refs/changes/23/666923/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,a9279afcef24529133170a81d0d5e16e66fa7dda,python3-train,"envlist = py27,py36,py37,pep8,docs","envlist = py36,py27,pep8,docs",3,3
openstack%2Ftripleo-common~master~Icbc66dc91b03adf329ad0c3680a343e64373eaf2,openstack/tripleo-common,master,Icbc66dc91b03adf329ad0c3680a343e64373eaf2,Add service_configs template to tripleo-hieradata,MERGED,2019-07-31 05:05:48.000000000,2019-08-05 22:40:44.000000000,2019-08-05 22:40:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 05:05:48.000000000', 'files': ['roles/tripleo-hieradata/templates/service_configs.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3fca9e164d76b0f1f120a73280785ca78ef6132', 'message': 'Add service_configs template to tripleo-hieradata\n\nChange-Id: Icbc66dc91b03adf329ad0c3680a343e64373eaf2\n'}]",0,673727,e3fca9e164d76b0f1f120a73280785ca78ef6132,12,6,1,8833,,,0,"Add service_configs template to tripleo-hieradata

Change-Id: Icbc66dc91b03adf329ad0c3680a343e64373eaf2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/673727/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-hieradata/templates/service_configs.j2'],1,e3fca9e164d76b0f1f120a73280785ca78ef6132,bp/reduce-deployment-resources,{{ service_configs | to_nice_json }} ,,1,0
openstack%2Fbarbican~master~Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50,openstack/barbican,master,Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50,Fix the bug of pep8 and building api-guide,MERGED,2019-06-25 03:42:06.000000000,2019-08-05 22:36:57.000000000,2019-08-05 22:36:57.000000000,"[{'_account_id': 1091}, {'_account_id': 6547}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 27822}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-06-25 03:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a47d3e7d6e96b15f9adbead384ea3b45abf318ce', 'message': 'fix the Bug of pep8\n\nChange-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50\n'}, {'number': 2, 'created': '2019-06-25 06:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5fb788b20598e705b5fc3c2a0d5782f681031d17', 'message': 'fix the Bug of pep8\n\nChange-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50\n'}, {'number': 3, 'created': '2019-06-27 02:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/63d7ece28de02734888d9ce3b1887e027cbb100f', 'message': 'Fix the bug of pep8 and building api-guide\n\n`sphinx-build` command is not found in test-env.\n\nChange-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50\n'}, {'number': 4, 'created': '2019-08-05 14:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/69b6cb3f917ca763ddb8f1ab3cbf95f3c79bd42f', 'message': 'Fix the bug of pep8 and building api-guide\n\n`sphinx-build` command is not found in test-env.\n\nChange-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50\n'}, {'number': 5, 'created': '2019-08-05 14:36:49.000000000', 'files': ['barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/plugin/util/test_multiple_backends.py', 'functionaltests/api/v1/functional/test_secretstores.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/plugin/util/multiple_backends.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/common/test_validators.py', 'tox.ini', 'barbican/plugin/util/translations.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/bf95c37b84688c99bda0849230508d955fc62f82', 'message': 'Fix the bug of pep8 and building api-guide\n\n`sphinx-build` command is not found in test-env.\n\nTo fix pep8, also blacklist the new bandit warning B105, this will\nbe fixed in a followup.\n\nChange-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50\n'}]",2,667260,bf95c37b84688c99bda0849230508d955fc62f82,27,17,5,27822,,,0,"Fix the bug of pep8 and building api-guide

`sphinx-build` command is not found in test-env.

To fix pep8, also blacklist the new bandit warning B105, this will
be fixed in a followup.

Change-Id: Ic1b8c3a4bfd67fff082297b881df66ffb9ca2c50
",git fetch https://review.opendev.org/openstack/barbican refs/changes/60/667260/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/plugin/util/test_multiple_backends.py', 'functionaltests/api/v1/functional/test_secretstores.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/plugin/util/multiple_backends.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/common/test_validators.py', 'barbican/plugin/util/translations.py']",8,a47d3e7d6e96b15f9adbead384ea3b45abf318ce,fix-builds, ) ) ) ) ) ) ) ), ) ) ) ) ) ) ) ),27,27
openstack%2Ftripleo-heat-templates~master~I39dca3d5ec1f0c0b35ec182ada8c4aadd6842216,openstack/tripleo-heat-templates,master,I39dca3d5ec1f0c0b35ec182ada8c4aadd6842216,Remove {{role.name}}MergedConfigSettings resource,MERGED,2019-07-31 05:14:41.000000000,2019-08-05 22:30:55.000000000,2019-08-05 22:30:55.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 05:14:41.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/331d1c19435a3bbecb4a4f26d8eb2d378d898f3e', 'message': 'Remove {{role.name}}MergedConfigSettings resource\n\nDoes not seem to be used.\n\nChange-Id: I39dca3d5ec1f0c0b35ec182ada8c4aadd6842216\n'}]",0,673729,331d1c19435a3bbecb4a4f26d8eb2d378d898f3e,11,5,1,8833,,,0,"Remove {{role.name}}MergedConfigSettings resource

Does not seem to be used.

Change-Id: I39dca3d5ec1f0c0b35ec182ada8c4aadd6842216
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/673729/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,331d1c19435a3bbecb4a4f26d8eb2d378d898f3e,bp/reduce-deployment-resources," {{role.name}}: {get_attr: [{{role.name}}ServiceChainRoleData, value]} {{role.name}}: {get_attr: [{{role.name}}ServiceChainRoleData, value]}"," {{role.name}}MergedConfigSettings: type: OS::Heat::Value properties: type: json value: config_settings: {} global_config_settings: {} service_config_settings: {} merged_config_settings: map_merge: - get_attr: [{{role.name}}ServiceConfigSettings, value] - get_param: ExtraConfig {%- if role.deprecated_param_extraconfig is defined %} - get_param: {{role.deprecated_param_extraconfig}} {%- endif %} - get_param: {{role.name}}ExtraConfig {{role.name}}: map_merge: - {get_attr: [{{role.name}}ServiceChainRoleData, value]} - {get_attr: [{{role.name}}MergedConfigSettings, value]} {{role.name}}: map_merge: - {get_attr: [{{role.name}}ServiceChainRoleData, value]} - {get_attr: [{{role.name}}MergedConfigSettings, value]}",2,25
openstack%2Fnova~master~I83bc056e35d3f3b93a58fb615db596166fb9ad57,openstack/nova,master,I83bc056e35d3f3b93a58fb615db596166fb9ad57,Add functional test coverage for bug 1724172,MERGED,2017-10-17 09:09:53.000000000,2019-08-05 22:11:56.000000000,2019-08-05 22:11:56.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6125}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27679}, {'_account_id': 27696}]","[{'number': 1, 'created': '2017-10-17 09:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7c38ec40e4c7ea80a62b43e2cefb27972b5c170', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproducing bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 2, 'created': '2017-10-17 13:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3cde96ccf3f1e1dba6ca0ebd7eed443344af076', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproducing bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 3, 'created': '2017-10-17 15:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/683426b4cb0fdaa45f26aeec7a14daf2f279300f', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproducing bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 4, 'created': '2018-01-29 16:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f7e9ac7a38d277e9fea248c9b964f0bfe68493f', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 5, 'created': '2018-01-30 08:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efa8ebcf6b87cff4ce53f1c89c5acfa79dcf5451', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 6, 'created': '2018-03-07 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/745a7e3d4b8d0d6f9c78e8ca8239c178682307ff', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 7, 'created': '2018-04-25 13:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de593940a34b4ec2472913e994790c0337136220', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 8, 'created': '2018-04-26 08:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52c4f4c822e37ebbe7ea9a9a61f08f822e7273af', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 9, 'created': '2018-07-03 12:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2327bdabc7c8c18bfcb82bb3d71cec2af3f9c84f', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 10, 'created': '2018-07-16 13:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2900ff5003144b5a40e5ef9d8b3ba8e3c3964e04', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 11, 'created': '2018-07-30 11:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a6fb2ba9f3c25ad32d5ffe7e1a650d09b1ee1d1', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 12, 'created': '2019-05-01 22:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5a64af5ab0548a4f571b98e029e287d8dff858f', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 13, 'created': '2019-05-23 10:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77ccde3fc5347a042d8165831b9f37c70f9a6df9', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 14, 'created': '2019-05-23 10:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a56fe8f81b51fc1ee74a5577b6e5018a6936ffa', 'message': 'Reproduce bug 1724172 in the functional test env\n\nTo reproduce bug 1721652 the functional test env was enhanced to\nsupport a more realistic compute service restart. During that code\nreview a follow up was suggested to further enhance and generalize\nthe service restart. This work was proposed in previous patches\nand those patches revealed another bug in the resource cleanup\nof evacuated instances. This patch adds a regression test that\nreproduces the bug.\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 15, 'created': '2019-05-28 16:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14eaf4340a4fb1dd2fcb32187411682e4a2bf179', 'message': 'Add functional test coverage for bug 1724172\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 16, 'created': '2019-05-30 07:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb4367188f8512017df865fb066fd5892aafb204', 'message': 'Add functional test coverage for bug 1724172\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 17, 'created': '2019-06-05 14:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edce47fea8ad4e2b0e3326124fa57aefd6384a0f', 'message': 'Add functional test coverage for bug 1724172\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 18, 'created': '2019-06-20 09:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f04253078188df3629485512a6e2bc3de95c625', 'message': 'Add functional test coverage for bug 1724172\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}, {'number': 19, 'created': '2019-06-25 16:11:20.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4deab182ba59ee4112c28213f922c051179ba948', 'message': 'Add functional test coverage for bug 1724172\n\nChange-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57\nRelated-Bug: #1724172\n'}]",20,512553,4deab182ba59ee4112c28213f922c051179ba948,191,22,19,9708,,,0,"Add functional test coverage for bug 1724172

Change-Id: I83bc056e35d3f3b93a58fb615db596166fb9ad57
Related-Bug: #1724172
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/512553/18 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,f7c38ec40e4c7ea80a62b43e2cefb27972b5c170,bug/1724172," def _test_evacuate(self, clean_hypervisor): self.compute1 = self.restart_compute_service( self.compute1, keep_hypervisor_state=(not clean_hypervisor)) def test_evacuate_instance_kept_on_the_hypervisor(self): self._test_evacuate(clean_hypervisor=False) def test_evacuate_clean_hypervisor(self): # The _test_evacuate call is inlined here to reproduce bug 1724172. # After that bug is solved this whole function body should be replaced # with a simple call: # self._test_evacuate(clean_hypervisor=True) source_hostname = self.compute1.host dest_hostname = self.compute2.host server = self._boot_and_check_allocations( self.flavor1, source_hostname) source_compute_id = self.admin_api.get_services( host=source_hostname, binary='nova-compute')[0]['id'] self.compute1.stop() # force it down to avoid waiting for the service group to time out self.admin_api.put_service( source_compute_id, {'forced_down': 'true'}) # evacuate the server post = {'evacuate': {}} self.api.post_server_action( server['id'], post) expected_params = {'OS-EXT-SRV-ATTR:host': dest_hostname, 'status': 'ACTIVE'} server = self._wait_for_server_parameter(self.api, server, expected_params) # Expect to have allocation and usages on both computes as the # source compute is still down source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) dest_rp_uuid = self._get_provider_uuid_by_host(dest_hostname) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(2, len(allocations)) source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # restart the source compute self.compute1 = self.restart_compute_service( self.compute1, keep_hypervisor_state=False) self.admin_api.put_service( source_compute_id, {'forced_down': 'false'}) source_usages = self._get_provider_usages(source_rp_uuid) # This is bug 1724172 as the allocation is not removed from the source # host during the startup of the compute service. self.assertFlavorMatchesAllocation(self.flavor1, source_usages) dest_usages = self._get_provider_usages(dest_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) allocations = self._get_allocations_by_server_uuid(server['id']) # This is bug 1724172 self.assertEqual(2, len(allocations)) dest_allocation = allocations[dest_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, dest_allocation) # This is bug 1724172 source_allocation = allocations[source_rp_uuid]['resources'] self.assertFlavorMatchesAllocation(self.flavor1, source_allocation) self._delete_and_check_allocations( server, source_rp_uuid, dest_rp_uuid) ", def test_evacuate(self): self.compute1 = self.restart_compute_service(self.compute1),79,2
openstack%2Fneutron~master~I20cfa1cf5281198079f5e0dbf195755abc919581,openstack/neutron,master,I20cfa1cf5281198079f5e0dbf195755abc919581,Refactor the L3 agent batch notifier,MERGED,2019-07-24 14:04:07.000000000,2019-08-05 22:11:51.000000000,2019-08-05 22:11:51.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-07-24 14:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fde7512c321179db4817386c825e054e7cbeec1', 'message': 'Refactor the L3 agent batch notifier\n\nThis patch is the first one of a series of patches improving how the L3\nagents update the router HA state to the Neutron server.\n\nThis patch reverts the previous patch [1]. When the batch notifier sends\nevents, it calls the callback method passed during the initialization, in\nthis case AgentMixin.notify_server. The batch notifier spawns a new\nthread in charge of sending the notifications and then wait the\nspecified ""batch_interval"" time. If the callback method is not\nsynchronous with the notify thread execution (what [1] implemented),\nthe thread can finish while the RPC client is still sending the\nHA router states. If another HA state update is received, then both\nupdates can be executed at the same time. It is possible then that a new\nrouter state can be overwritten with an old one still not sent or\nprocessed.\n\nThe batch notifier is refactored, to improve what initally was\nimplemented [2] and then updated [3]. Currently, each new event thread\ncan update the ""pending_events"" list. Then, a new thread is spawned to\nprocess this event list. This thread decouples the current execution\nfrom the calling thread, making the event processing a non-blocking\nprocess.\n\nBut with the current implementation, each new process will spawn a new\nthread, synchronized with the previous and new ones (using a\nsynchronized decorator). That means, during the batch interval time, the\nsystem can have as many threads waiting as new events received. Those\nthreads will end secuentially when the previous threads end the batch\ninterval sleep time.\n\nInstead of this, this patch receives and enqueue each new event and\nallows only one thread to be alive while processing the event list. If\nat the end of the processing loop new events are stored, the thread will\nprocess then.\n\n[1] I3f555a0c78fbc02d8214f12b62c37d140bc71da1\n[2] I2f8cf261f48bdb632ac0bd643a337290b5297fce\n[3] I82f403441564955345f47877151e0c457712dd2f\n\nPartial-Bug: #1837635\n\nChange-Id: I20cfa1cf5281198079f5e0dbf195755abc919581\n'}, {'number': 2, 'created': '2019-07-25 13:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/197afb735a73401a767d50e8270d6af433875649', 'message': 'Refactor the L3 agent batch notifier\n\nThis patch is the first one of a series of patches improving how the L3\nagents update the router HA state to the Neutron server.\n\nThis patch reverts the previous patch [1]. When the batch notifier sends\nevents, it calls the callback method passed during the initialization, in\nthis case AgentMixin.notify_server. The batch notifier spawns a new\nthread in charge of sending the notifications and then wait the\nspecified ""batch_interval"" time. If the callback method is not\nsynchronous with the notify thread execution (what [1] implemented),\nthe thread can finish while the RPC client is still sending the\nHA router states. If another HA state update is received, then both\nupdates can be executed at the same time. It is possible then that a new\nrouter state can be overwritten with an old one still not sent or\nprocessed.\n\nThe batch notifier is refactored, to improve what initally was\nimplemented [2] and then updated [3]. Currently, each new event thread\ncan update the ""pending_events"" list. Then, a new thread is spawned to\nprocess this event list. This thread decouples the current execution\nfrom the calling thread, making the event processing a non-blocking\nprocess.\n\nBut with the current implementation, each new process will spawn a new\nthread, synchronized with the previous and new ones (using a\nsynchronized decorator). That means, during the batch interval time, the\nsystem can have as many threads waiting as new events received. Those\nthreads will end secuentially when the previous threads end the batch\ninterval sleep time.\n\nInstead of this, this patch receives and enqueue each new event and\nallows only one thread to be alive while processing the event list. If\nat the end of the processing loop new events are stored, the thread will\nprocess then.\n\n[1] I3f555a0c78fbc02d8214f12b62c37d140bc71da1\n[2] I2f8cf261f48bdb632ac0bd643a337290b5297fce\n[3] I82f403441564955345f47877151e0c457712dd2f\n\nPartial-Bug: #1837635\n\nChange-Id: I20cfa1cf5281198079f5e0dbf195755abc919581\n'}, {'number': 3, 'created': '2019-08-01 17:11:12.000000000', 'files': ['neutron/notifiers/batch_notifier.py', 'neutron/tests/unit/notifiers/test_ironic.py', 'neutron/tests/unit/notifiers/test_batch_notifier.py', 'neutron/agent/l3/ha.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b7d2c8a93fdf69a828f14bd527d8f132b27bc6e', 'message': 'Refactor the L3 agent batch notifier\n\nThis patch is the first one of a series of patches improving how the L3\nagents update the router HA state to the Neutron server.\n\nThis patch partially reverts the previous patch [1]. When the batch\nnotifier sends events, it calls the callback method passed during the\ninitialization, in this case AgentMixin.notify_server. The batch\nnotifier spawns a new thread in charge of sending the notifications and\nthen wait the specified ""batch_interval"" time. If the callback method is\nnot synchronous with the notify thread execution (what [1] implemented),\nthe thread can finish while the RPC client is still sending the\nHA router states. If another HA state update is received, then both\nupdates can be executed at the same time. It is possible then that a new\nrouter state can be overwritten with an old one still not sent or\nprocessed.\n\nThe batch notifier is refactored, to improve what initally was\nimplemented [2] and then updated [3]. Currently, each new event thread\ncan update the ""pending_events"" list. Then, a new thread is spawned to\nprocess this event list. This thread decouples the current execution\nfrom the calling thread, making the event processing a non-blocking\nprocess.\n\nBut with the current implementation, each new process will spawn a new\nthread, synchronized with the previous and new ones (using a\nsynchronized decorator). That means, during the batch interval time, the\nsystem can have as many threads waiting as new events received. Those\nthreads will end secuentially when the previous threads end the batch\ninterval sleep time.\n\nInstead of this, this patch receives and enqueue each new event and\nallows only one thread to be alive while processing the event list. If\nat the end of the processing loop new events are stored, the thread will\nprocess then.\n\n[1] I3f555a0c78fbc02d8214f12b62c37d140bc71da1\n[2] I2f8cf261f48bdb632ac0bd643a337290b5297fce\n[3] I82f403441564955345f47877151e0c457712dd2f\n\nPartial-Bug: #1837635\n\nChange-Id: I20cfa1cf5281198079f5e0dbf195755abc919581\n'}]",11,672533,8b7d2c8a93fdf69a828f14bd527d8f132b27bc6e,35,11,3,16688,,,0,"Refactor the L3 agent batch notifier

This patch is the first one of a series of patches improving how the L3
agents update the router HA state to the Neutron server.

This patch partially reverts the previous patch [1]. When the batch
notifier sends events, it calls the callback method passed during the
initialization, in this case AgentMixin.notify_server. The batch
notifier spawns a new thread in charge of sending the notifications and
then wait the specified ""batch_interval"" time. If the callback method is
not synchronous with the notify thread execution (what [1] implemented),
the thread can finish while the RPC client is still sending the
HA router states. If another HA state update is received, then both
updates can be executed at the same time. It is possible then that a new
router state can be overwritten with an old one still not sent or
processed.

The batch notifier is refactored, to improve what initally was
implemented [2] and then updated [3]. Currently, each new event thread
can update the ""pending_events"" list. Then, a new thread is spawned to
process this event list. This thread decouples the current execution
from the calling thread, making the event processing a non-blocking
process.

But with the current implementation, each new process will spawn a new
thread, synchronized with the previous and new ones (using a
synchronized decorator). That means, during the batch interval time, the
system can have as many threads waiting as new events received. Those
threads will end secuentially when the previous threads end the batch
interval sleep time.

Instead of this, this patch receives and enqueue each new event and
allows only one thread to be alive while processing the event list. If
at the end of the processing loop new events are stored, the thread will
process then.

[1] I3f555a0c78fbc02d8214f12b62c37d140bc71da1
[2] I2f8cf261f48bdb632ac0bd643a337290b5297fce
[3] I82f403441564955345f47877151e0c457712dd2f

Partial-Bug: #1837635

Change-Id: I20cfa1cf5281198079f5e0dbf195755abc919581
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/672533/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/batch_notifier.py', 'neutron/agent/l3/agent.py', 'neutron/tests/unit/notifiers/test_batch_notifier.py', 'neutron/agent/l3/ha.py']",4,1fde7512c321179db4817386c825e054e7cbeec1,bug/1837635,," eventlet.spawn_n(self._notify_server, batched_events) def _notify_server(self, batched_events):",64,50
openstack%2Foslo.policy~master~Ic37be88445f7cbb9bde77c0dd704e43d7b9b2e88,openstack/oslo.policy,master,Ic37be88445f7cbb9bde77c0dd704e43d7b9b2e88,Add test for aliasing behavior when rule names match,ABANDONED,2019-07-25 16:38:49.000000000,2019-08-05 21:52:42.000000000,,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 16:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/702153c8a7167994765e019a1c2eb56cc909cf75', 'message': 'Add test for aliasing behavior when rule names match\n\nChange-Id: Ic37be88445f7cbb9bde77c0dd704e43d7b9b2e88\n'}, {'number': 2, 'created': '2019-07-25 16:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/abc6fde4966c2e456caa12f6644fe2b7f0e202c2', 'message': 'Add test for aliasing behavior when rule names match\n\nChange-Id: Ic37be88445f7cbb9bde77c0dd704e43d7b9b2e88\n'}, {'number': 3, 'created': '2019-07-25 17:12:41.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5e855aa486959c841476887a24d4f14b8836acb4', 'message': 'Add test for aliasing behavior when rule names match\n\nChange-Id: Ic37be88445f7cbb9bde77c0dd704e43d7b9b2e88\n'}]",0,672783,5e855aa486959c841476887a24d4f14b8836acb4,7,2,3,6928,,,0,"Add test for aliasing behavior when rule names match

Change-Id: Ic37be88445f7cbb9bde77c0dd704e43d7b9b2e88
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/83/672783/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py']",2,702153c8a7167994765e019a1c2eb56cc909cf75,smart-alias, '%(text)s%(deprecated_text)s\n', '%(text)s%(deprecated_text)s',44,2
openstack%2Fopenstacksdk~master~Ib4e8820494deee0c11fe785abf420196989f389b,openstack/openstacksdk,master,Ib4e8820494deee0c11fe785abf420196989f389b,Fix bm tests: sort lists being compared,MERGED,2019-08-05 15:55:35.000000000,2019-08-05 21:43:20.000000000,2019-08-05 21:43:20.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 15:55:35.000000000', 'files': ['openstack/tests/functional/baremetal/test_baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e81fe82fce18f2600bf865d1c4961596d90e25ad', 'message': 'Fix bm tests: sort lists being compared\n\nThese tests were randomly failing because they are not being\nsorted before being compared.\n\nChange-Id: Ib4e8820494deee0c11fe785abf420196989f389b\n'}]",0,674640,e81fe82fce18f2600bf865d1c4961596d90e25ad,7,3,1,3099,,,0,"Fix bm tests: sort lists being compared

These tests were randomly failing because they are not being
sorted before being compared.

Change-Id: Ib4e8820494deee0c11fe785abf420196989f389b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/40/674640/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/baremetal/test_baremetal_node.py'],1,e81fe82fce18f2600bf865d1c4961596d90e25ad,bm-fix," self.assertEqual(sorted(['CUSTOM_FAKE', 'CUSTOM_REAL']), sorted(self.node.traits)) self.assertEqual(sorted(['CUSTOM_FAKE', 'CUSTOM_REAL']), sorted(node.traits)) self.assertEqual(sorted(traits1), sorted(self.node.traits)) self.assertEqual(sorted(traits1), sorted(node.traits))"," self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], self.node.traits) self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], node.traits) self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], self.node.traits) self.assertEqual(['CUSTOM_FAKE', 'CUSTOM_REAL'], node.traits)",6,4
openstack%2Fcharm-neutron-dynamic-routing~master~I420382f3d5251da5ab17050cd58820ca9d678292,openstack/charm-neutron-dynamic-routing,master,I420382f3d5251da5ab17050cd58820ca9d678292,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:56:37.000000000,2019-08-05 21:30:54.000000000,2019-08-05 21:30:54.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:56:37.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/30d0b953134e653791ad8de9534ab255355c9ae2', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: I420382f3d5251da5ab17050cd58820ca9d678292\nPartial-Bug: #1838783\n'}]",0,674387,30d0b953134e653791ad8de9534ab255355c9ae2,15,5,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: I420382f3d5251da5ab17050cd58820ca9d678292
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/87/674387/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,30d0b953134e653791ad8de9534ab255355c9ae2,bug/1838783,6a4e8d66-b54e-11e9-9e21-27ae1864b062,120650ec-5aab-11e9-a87e-fbc92e9be59b,1,1
openstack%2Fproject-team-guide~master~Ia0c205e0ff38177ad2ac92aa68645b3229030812,openstack/project-team-guide,master,Ia0c205e0ff38177ad2ac92aa68645b3229030812,"Update ""Documentation for developers""",MERGED,2019-07-30 18:02:40.000000000,2019-08-05 21:27:24.000000000,2019-08-05 21:27:24.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 18:02:40.000000000', 'files': ['doc/source/documentation.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/4bc37dc0851b7570e4acad7cc03bc24ba9236e05', 'message': 'Update ""Documentation for developers""\n\nThere\'s no content in WADL or swagger - and everything is now published\nto docs.o.o. Update the section to reflect current state.\n\nChange-Id: Ia0c205e0ff38177ad2ac92aa68645b3229030812\n'}]",1,673606,4bc37dc0851b7570e4acad7cc03bc24ba9236e05,10,4,1,6547,,,0,"Update ""Documentation for developers""

There's no content in WADL or swagger - and everything is now published
to docs.o.o. Update the section to reflect current state.

Change-Id: Ia0c205e0ff38177ad2ac92aa68645b3229030812
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/06/673606/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/documentation.rst'],1,4bc37dc0851b7570e4acad7cc03bc24ba9236e05,retire-api-site,typically written in RST using the `os-api-ref <https://docs.openstack.org/os-api-ref/>`_ tool and published to `docs.openstack.org <https://docs.openstack.org>`_. The API working group has published `guidelines for OpenStack APIs <https://specs.openstack.org/openstack/api-wg/#guidelines>`_.,typically written in an REST API reference format such as WADL or Swagger and published to `developer.openstack.org <http://developer.openstack.org>`_. The API working group has published `guidelines for OpenStack APIs <http://specs.openstack.org/openstack/api-wg/#guidelines>`_.,5,3
openstack%2Fcharm-pacemaker-remote~master~Ib67604032d8f3ab1e44fa3384e67b20b996fa54c,openstack/charm-pacemaker-remote,master,Ib67604032d8f3ab1e44fa3384e67b20b996fa54c,Rebuild for sync charms.openstack,MERGED,2019-08-02 17:57:24.000000000,2019-08-05 21:10:33.000000000,2019-08-05 21:10:33.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 17:57:24.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/a15592b6c57d61463f2aec1cb71a19a20231e673', 'message': 'Rebuild for sync charms.openstack\n\nChange-Id: Ib67604032d8f3ab1e44fa3384e67b20b996fa54c\nPartial-Bug: #1838783\n'}]",0,674392,a15592b6c57d61463f2aec1cb71a19a20231e673,11,5,1,20805,,,0,"Rebuild for sync charms.openstack

Change-Id: Ib67604032d8f3ab1e44fa3384e67b20b996fa54c
Partial-Bug: #1838783
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/92/674392/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a15592b6c57d61463f2aec1cb71a19a20231e673,bug/1838783,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 6a4e8d66-b54e-11e9-9e21-27ae1864b062 ",,5,0
openstack%2Fcharm-ceilometer~master~I6a5143fb1cef99033f9d6b1959b23adfdf096e8b,openstack/charm-ceilometer,master,I6a5143fb1cef99033f9d6b1959b23adfdf096e8b,Update for Python 3 execution,ABANDONED,2017-11-16 23:42:02.000000000,2019-08-05 21:06:23.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-16 23:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9d3d11428f2d9bc91dfc371e84183496ae0caa92', 'message': 'Update for Python 3 execution\n\nCharm helpers sync\nChange-Id: I6a5143fb1cef99033f9d6b1959b23adfdf096e8b\n'}, {'number': 2, 'created': '2017-11-17 23:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/8a2ba4023d33cae1c84be8c723692319cab75a33', 'message': 'Update for Python 3 execution\n\nRemove symlink imports and replace with absolute path imports\nCharm helpers sync\nChange-Id: I6a5143fb1cef99033f9d6b1959b23adfdf096e8b\n'}, {'number': 3, 'created': '2017-11-21 20:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/84ad614db7375d61b12d502c6988b24e6d7355af', 'message': 'Update for Python 3 execution\n\nRemove symlink imports and replace with absolute path imports\nCharm helpers sync\nChange-Id: I6a5143fb1cef99033f9d6b1959b23adfdf096e8b\n'}, {'number': 4, 'created': '2017-11-21 21:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/7a456c1b567035a5d423e73ce692edea8ad88471', 'message': 'Update for Python 3 execution\n\nRemove symlink imports and replace with absolute path imports\nCharm helpers sync\nChange-Id: I6a5143fb1cef99033f9d6b1959b23adfdf096e8b\n'}, {'number': 5, 'created': '2017-12-12 23:34:25.000000000', 'files': ['actions/ceilometer_contexts.py', '.gitignore', 'lib/ceilometer_utils.py', 'test-requirements.txt', 'hooks/ceilometer_hooks.py', 'actions/ceilometer_hooks.py', 'hooks/ceilometer_contexts.py', 'charm-helpers-hooks.yaml', 'actions/actions.py', 'actions/openstack_upgrade.py', 'unit_tests/test_utils.py', 'unit_tests/test_ceilometer_utils.py', 'hooks/install', 'lib/ceilometer_contexts.py', '.stestr.conf', 'actions/charmhelpers', 'unit_tests/__init__.py', 'hooks/ceilometer_utils.py', 'hooks/charmhelpers', 'actions/ceilometer_utils.py', 'unit_tests/test_ceilometer_contexts.py', 'tests/basic_deployment.py', 'unit_tests/test_ceilometer_hooks.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/87d328b3c653bbe608db33e747d964642973fe96', 'message': 'Update for Python 3 execution\n\nRemove symlink imports and replace with absolute path imports\nCharm helpers sync\nChange-Id: I6a5143fb1cef99033f9d6b1959b23adfdf096e8b\n'}]",0,520836,87d328b3c653bbe608db33e747d964642973fe96,27,3,5,20805,,,0,"Update for Python 3 execution

Remove symlink imports and replace with absolute path imports
Charm helpers sync
Change-Id: I6a5143fb1cef99033f9d6b1959b23adfdf096e8b
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/36/520836/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'lib/ceilometer_utils.py', 'test-requirements.txt', 'charmhelpers/core/hookenv.py', 'hooks/ceilometer_hooks.py', 'charmhelpers/fetch/snap.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'charmhelpers/contrib/openstack/templates/ceph.conf', 'charmhelpers/core/strutils.py', 'actions/actions.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'actions/openstack_upgrade.py', 'unit_tests/test_utils.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/core/unitdata.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/context.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/network/ip.py', 'unit_tests/test_ceilometer_utils.py', 'hooks/install', 'charmhelpers/contrib/openstack/neutron.py', '.stestr.conf', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/storage/linux/lvm.py', 'unit_tests/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/contrib/openstack/files/check_haproxy.sh', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/core/host.py', 'unit_tests/test_ceilometer_contexts.py', 'charmhelpers/contrib/openstack/alternatives.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'unit_tests/test_ceilometer_hooks.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/openstack/templating.py', 'tests/charmhelpers/core/unitdata.py', 'tox.ini', 'charmhelpers/contrib/openstack/templates/section-oslo-cache']",46,9d3d11428f2d9bc91dfc371e84183496ae0caa92,ensure-py3,[cache] {% if memcache_url %} enabled = true backend = oslo_cache.memcache_pool memcache_servers = {{ memcache_url }} {% endif %} ,,705,215
openstack%2Fcharm-nova-cell-controller~master~If3264c1d31dbeda965287c1d70316f8c98b7bfde,openstack/charm-nova-cell-controller,master,If3264c1d31dbeda965287c1d70316f8c98b7bfde,"Revert back to using ""rabbit_use_ssl"" for ocata",MERGED,2019-08-05 14:22:02.000000000,2019-08-05 21:00:32.000000000,2019-08-05 21:00:32.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 14:22:02.000000000', 'files': ['src/templates/pike/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/f456038d4b39c83b1ff3e00bd066fea49b87f4bd', 'message': 'Revert back to using ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nThis is fixed by using section-oslo-messaging-rabbit for pike and\nabove rather than ocata and above, thus reverting back to using\nsection-rabbitmq-oslo for ocata.\n\nChange-Id: If3264c1d31dbeda965287c1d70316f8c98b7bfde\nCloses-Bug: #1838696\n'}]",0,674619,f456038d4b39c83b1ff3e00bd066fea49b87f4bd,11,4,1,11805,,,0,"Revert back to using ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

This is fixed by using section-oslo-messaging-rabbit for pike and
above rather than ocata and above, thus reverting back to using
section-rabbitmq-oslo for ocata.

Change-Id: If3264c1d31dbeda965287c1d70316f8c98b7bfde
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/19/674619/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/pike/nova.conf'],1,f456038d4b39c83b1ff3e00bd066fea49b87f4bd,bug/1838696,,,0,0
openstack%2Fheat~stable%2Fqueens~I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,openstack/heat,stable/queens,I04e7ad90944c2d03ce0e59ba16af9d60d6e01222,Allow update of previously-replaced resources,MERGED,2019-07-29 03:11:34.000000000,2019-08-05 20:49:52.000000000,2019-08-05 20:49:52.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-07-29 03:11:34.000000000', 'files': ['heat/engine/check_resource.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7a7d9d70bacbce33964b38c2abfa143d65511333', 'message': ""Allow update of previously-replaced resources\n\nThe convergence prototype ignored checks of resources that had previously\nbeen replaced by another resource. However, it turns out that this was\nunnecessary in the final version of the prototype:\n\nhttps://github.com/zaneb/heat-convergence-prototype/commit/e9d2f833a53de1ab09e7d936a4826d36ed7bb68d\n\nKeeping this limitation prevents us from allowing users to roll back to a\npreviously-existing resource if creating the replacement fails, other than\nby using the automated rollback mechanism (which is special-cased).\n\nSince the graph for the traversal is calculated at the start of the update,\nthere's no need to limit which nodes are allowed to be checked. Only the\nselected resource will have an is_update=True node in the traversal graph.\nRemoving this additional restriction allows us to improve the algorithm\nthat chooses which resource to update. Since a new traversal ID is stored\nbefore we calculate the traversal graph, we can guarantee that no new\nresource checks will start (though some may still be happening) while the\nalgorithm is choosing, so there's no danger of it picking a resource that\nlater gets replaced.\n\nSince we're no longer treating automatic rollback as a special case, reset\nthe replaced_by field whenever we update a previously-replaced resource.\n\nChange-Id: I04e7ad90944c2d03ce0e59ba16af9d60d6e01222\nStory: #2003579\nTask: 26197\n(cherry picked from commit e34da892901dbba709d3854f8979eee32594d916)\n""}]",0,673199,7a7d9d70bacbce33964b38c2abfa143d65511333,22,4,1,8833,,,0,"Allow update of previously-replaced resources

The convergence prototype ignored checks of resources that had previously
been replaced by another resource. However, it turns out that this was
unnecessary in the final version of the prototype:

https://github.com/zaneb/heat-convergence-prototype/commit/e9d2f833a53de1ab09e7d936a4826d36ed7bb68d

Keeping this limitation prevents us from allowing users to roll back to a
previously-existing resource if creating the replacement fails, other than
by using the automated rollback mechanism (which is special-cased).

Since the graph for the traversal is calculated at the start of the update,
there's no need to limit which nodes are allowed to be checked. Only the
selected resource will have an is_update=True node in the traversal graph.
Removing this additional restriction allows us to improve the algorithm
that chooses which resource to update. Since a new traversal ID is stored
before we calculate the traversal graph, we can guarantee that no new
resource checks will start (though some may still be happening) while the
algorithm is choosing, so there's no danger of it picking a resource that
later gets replaced.

Since we're no longer treating automatic rollback as a special case, reset
the replaced_by field whenever we update a previously-replaced resource.

Change-Id: I04e7ad90944c2d03ce0e59ba16af9d60d6e01222
Story: #2003579
Task: 26197
(cherry picked from commit e34da892901dbba709d3854f8979eee32594d916)
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/673199/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/check_resource.py', 'heat/engine/resource.py']",2,7a7d9d70bacbce33964b38c2abfa143d65511333,, self.replaced_by = None, self.replaced_by = None,1,9
openstack%2Fironic-tempest-plugin~master~I1d794ae8c3058b3e2c1ffd27fde4ddbe69edd5f7,openstack/ironic-tempest-plugin,master,I1d794ae8c3058b3e2c1ffd27fde4ddbe69edd5f7,Update api-ref location,MERGED,2019-07-30 17:49:36.000000000,2019-08-05 20:48:02.000000000,2019-08-05 20:48:02.000000000,"[{'_account_id': 6547}, {'_account_id': 11655}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-30 17:49:36.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9432fd6c79b87bbe7c9721417e024f0f309f2600', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I1d794ae8c3058b3e2c1ffd27fde4ddbe69edd5f7\n""}]",0,673594,9432fd6c79b87bbe7c9721417e024f0f309f2600,12,5,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I1d794ae8c3058b3e2c1ffd27fde4ddbe69edd5f7
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/94/673594/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'],1,9432fd6c79b87bbe7c9721417e024f0f309f2600,retire-api-site, https://docs.openstack.org/api-ref/network/v2/index.html#create-port, http://developer.openstack.org/api-ref/networking/v2/index.html#create-port,1,1
openstack%2Fneutron-tempest-plugin~master~I977176d3e90cb864cde628d23f24bf38836121ef,openstack/neutron-tempest-plugin,master,I977176d3e90cb864cde628d23f24bf38836121ef,Add new job neutron-tempest-plugin-scenario-openvswitch,MERGED,2019-07-14 20:33:24.000000000,2019-08-05 20:45:37.000000000,2019-08-05 20:45:37.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-07-14 20:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/180bbba339b845fba09e3a03e5fa8b716d2f4ef1', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch\n\nThere was missing simle, single node scenario job with\nopenvswitch agent in neutron-tempest-plugin. We have such jobs\ndefined in neutron and tempest repos but those jobs are running\ntempest tests.\nThis patch proposes similar job but to run tests defined\nin neutron_tempest_plugin repo.\n\nChange-Id: I977176d3e90cb864cde628d23f24bf38836121ef\n'}, {'number': 2, 'created': '2019-07-15 07:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d3f8c26618586ba00338496fbb1428f1e4170190', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch\n\nThere was missing simle, single node scenario job with\nopenvswitch agent in neutron-tempest-plugin. We have such jobs\ndefined in neutron and tempest repos but those jobs are running\ntempest tests.\nThis patch proposes similar job but to run tests defined\nin neutron_tempest_plugin repo.\n\nChange-Id: I977176d3e90cb864cde628d23f24bf38836121ef\n'}, {'number': 3, 'created': '2019-07-15 12:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fe79b9da50209811817d12c88c25764bc08a4fbd', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch\n\nThere was missing simle, single node scenario job with\nopenvswitch agent in neutron-tempest-plugin. We have such jobs\ndefined in neutron and tempest repos but those jobs are running\ntempest tests.\nThis patch proposes similar job but to run tests defined\nin neutron_tempest_plugin repo.\n\nChange-Id: I977176d3e90cb864cde628d23f24bf38836121ef\n'}, {'number': 4, 'created': '2019-07-16 09:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9e4ff5779e18275d3bd76cf4401c4b15f5047900', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch\n\nThere was missing simle, single node scenario job with\nopenvswitch agent in neutron-tempest-plugin. We have such jobs\ndefined in neutron and tempest repos but those jobs are running\ntempest tests.\nThis patch proposes similar job but to run tests defined\nin neutron_tempest_plugin repo.\n\nChange-Id: I977176d3e90cb864cde628d23f24bf38836121ef\n'}, {'number': 5, 'created': '2019-08-02 11:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6bffaae5d51b0dbecdf80bae1a5ed117a81fad11', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch\n\nThere was missing simle, single node scenario job with\nopenvswitch agent in neutron-tempest-plugin. We have such jobs\ndefined in neutron and tempest repos but those jobs are running\ntempest tests.\nThis patch proposes similar job but to run tests defined\nin neutron_tempest_plugin repo.\n\nChange-Id: I977176d3e90cb864cde628d23f24bf38836121ef\n'}, {'number': 6, 'created': '2019-08-02 11:34:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e5b4350eb43fef727f8ad03dd078302dcd370ad7', 'message': 'Add new job neutron-tempest-plugin-scenario-openvswitch\n\nThere was missing simple, single node scenario job with\nopenvswitch agent in neutron-tempest-plugin. We have such jobs\ndefined in neutron and tempest repos but those jobs are running\ntempest tests.\nThis patch proposes similar job but to run tests defined\nin neutron_tempest_plugin repo.\n\nChange-Id: I977176d3e90cb864cde628d23f24bf38836121ef\n'}]",2,670738,e5b4350eb43fef727f8ad03dd078302dcd370ad7,21,5,6,11975,,,0,"Add new job neutron-tempest-plugin-scenario-openvswitch

There was missing simple, single node scenario job with
openvswitch agent in neutron-tempest-plugin. We have such jobs
defined in neutron and tempest repos but those jobs are running
tempest tests.
This patch proposes similar job but to run tests defined
in neutron_tempest_plugin repo.

Change-Id: I977176d3e90cb864cde628d23f24bf38836121ef
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/38/670738/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,180bbba339b845fba09e3a03e5fa8b716d2f4ef1,new-ovs-scenario-job," name: neutron-tempest-plugin-scenario-openvswitch parent: neutron-tempest-plugin-scenario timeout: 10000 vars: network_api_extensions: *api_extensions_master devstack_localrc: Q_AGENT: openvswitch NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: enable_dvr: false # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: ml2: type_drivers: flat,vlan,local,vxlan test-config: $TEMPEST_CONFIG: neutron_plugin_options: available_type_drivers: flat,vlan,local,vxlan - job: name: neutron-tempest-plugin-scenario-openvswitch-queens parent: neutron-tempest-plugin-scenario-openvswitch nodeset: openstack-single-node-xenial override-checkout: stable/queens vars: branch_override: stable/queens network_api_extensions: *api_extensions_queens devstack_localrc: USE_PYTHON3: false NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" TEMPEST_PLUGINS: /opt/stack/neutron-tempest-plugin - job: name: neutron-tempest-plugin-scenario-openvswitch-rocky parent: neutron-tempest-plugin-scenario-openvswitch nodeset: openstack-single-node-xenial override-checkout: stable/rocky vars: branch_override: stable/rocky network_api_extensions: *api_extensions_rocky devstack_localrc: USE_PYTHON3: false NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" TEMPEST_PLUGINS: /opt/stack/neutron-tempest-plugin - job: name: neutron-tempest-plugin-scenario-openvswitch-stein parent: neutron-tempest-plugin-scenario-openvswitch override-checkout: stable/stein vars: branch_override: stable/stein network_api_extensions: *api_extensions_stein devstack_localrc: NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" - job: - neutron-tempest-plugin-scenario-openvswitch - neutron-tempest-plugin-scenario-openvswitch - neutron-tempest-plugin-scenario-openvswitch-queens - neutron-tempest-plugin-scenario-openvswitch-rocky - neutron-tempest-plugin-scenario-openvswitch-stein",,66,0
openstack%2Fkuryr~master~I95aa4478756873eec5f7480ba3ac0e5e4eea0a43,openstack/kuryr,master,I95aa4478756873eec5f7480ba3ac0e5e4eea0a43,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-26 06:50:20.000000000,2019-08-05 20:25:25.000000000,2019-08-05 20:25:25.000000000,"[{'_account_id': 6598}, {'_account_id': 11343}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 06:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/4d85b50ac29d1d00cff62ec62e3493622b6a61fd', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I95aa4478756873eec5f7480ba3ac0e5e4eea0a43\n'}, {'number': 2, 'created': '2019-08-01 02:35:48.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/adb807609485083dc34c89da1710079f6a3998a5', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I95aa4478756873eec5f7480ba3ac0e5e4eea0a43\n'}]",0,672886,adb807609485083dc34c89da1710079f6a3998a5,11,6,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I95aa4478756873eec5f7480ba3ac0e5e4eea0a43
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/86/672886/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,4d85b50ac29d1d00cff62ec62e3493622b6a61fd,openstackdocstheme,,"project = u'kuryr'html_last_updated_fmt = '%Y-%m-%d %H:%M' # Release notes do not need a version number in the title, they # cover multiple releases. # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = ''latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp', } ",5,34
openstack%2Ftripleo-common~stable%2Fstein~Ie41ba6de1170a9c9ffc94889e47bce9ef1200521,openstack/tripleo-common,stable/stein,Ie41ba6de1170a9c9ffc94889e47bce9ef1200521,Fix ansible-generate-inventory action,MERGED,2019-08-02 12:25:29.000000000,2019-08-05 20:06:47.000000000,2019-08-05 20:06:47.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-02 12:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2bf761f2e8530166f35a9f55be4a547b597cb6d8', 'message': ""Fix ansible-generate-inventory action\n\nansible-generate-inventory action raises Exception\nwhen 'ansible_python_interpreter' input is passed to it.\n\nThis patch fixes it and also update unit test to cover\nmissing part.\n\nCloses-Bug: #1838536\nChange-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521\n(cherry picked from commit 6a35576e9e6154a33e64413750e9da01603b7722)\n""}, {'number': 2, 'created': '2019-08-05 03:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dd0d43a0032aa3041c91a58f816d916d14c1474b', 'message': ""Fix ansible-generate-inventory action\n\nansible-generate-inventory action raises Exception\nwhen 'ansible_python_interpreter' input is passed to it.\n\nThis patch fixes it and also update unit test to cover\nmissing part.\n\nAdjusts Unit test for stable/stein as [1] is not in\nstable/stein.\n\n[1] https://review.opendev.org/#/c/663466/\n\nCloses-Bug: #1838536\nChange-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521\n(cherry picked from commit 6a35576e9e6154a33e64413750e9da01603b7722)\n""}, {'number': 3, 'created': '2019-08-05 05:26:58.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df8f0243d0cb52806a05a8aff6dfdd9c875f02d9', 'message': ""Fix ansible-generate-inventory action\n\nansible-generate-inventory action raises Exception\nwhen 'ansible_python_interpreter' input is passed to it.\n\nThis patch fixes it and also update unit test to cover\nmissing part.\n\nAdjusts Unit test for stable/stein as [1] is not in\nstable/stein.\n\n[1] https://review.opendev.org/#/c/663466/\n\nCloses-Bug: #1838536\nDepends-On: https://review.opendev.org/#/c/674530/\nChange-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521\n(cherry picked from commit 6a35576e9e6154a33e64413750e9da01603b7722)\n""}]",0,674293,df8f0243d0cb52806a05a8aff6dfdd9c875f02d9,15,7,3,3153,,,0,"Fix ansible-generate-inventory action

ansible-generate-inventory action raises Exception
when 'ansible_python_interpreter' input is passed to it.

This patch fixes it and also update unit test to cover
missing part.

Adjusts Unit test for stable/stein as [1] is not in
stable/stein.

[1] https://review.opendev.org/#/c/663466/

Closes-Bug: #1838536
Depends-On: https://review.opendev.org/#/c/674530/
Change-Id: Ie41ba6de1170a9c9ffc94889e47bce9ef1200521
(cherry picked from commit 6a35576e9e6154a33e64413750e9da01603b7722)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/674293/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,2bf761f2e8530166f35a9f55be4a547b597cb6d8,bug/1838536-stable/stein," 'sa': {'children': ['Controller'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sb': {'children': ['Controller'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sd': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'se': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'ceph_client': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'clients': {'children': ['Compute'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sg': {'children': ['CustomRole'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}}, 'sh': {'children': ['CustomRole'], 'vars': {'ansible_ssh_user': 'my-custom-admin', 'ansible_python_interpreter': 'foo'}},",,27,2
openstack%2Ftripleo-heat-templates~master~I2e88dc34fa59624523de4c52a1873438c78e972f,openstack/tripleo-heat-templates,master,I2e88dc34fa59624523de4c52a1873438c78e972f,Pacemaker resource upgrade tasks compatible with staged upgrade,MERGED,2019-07-30 08:59:00.000000000,2019-08-05 19:56:46.000000000,2019-08-05 19:56:46.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-07-30 08:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4acd96012dcf6b8c0baf9d279668467ff5648576', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 2, 'created': '2019-07-30 09:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/272276548947301868f99a5239252a730c90c5a2', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 3, 'created': '2019-07-30 09:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8aa0391a57eee3400d419c36fd6960f77ef3cfc', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 4, 'created': '2019-07-31 10:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/841df6bfe9e47c28298eec956f5e0dccd4112a48', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 5, 'created': '2019-08-01 09:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd6fc7efea50c659af984a339d33755cc41ff549', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 6, 'created': '2019-08-01 09:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ac885dbc6852e500964d658bf8ed13c7daa997b', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 7, 'created': '2019-08-01 14:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/292471705b02b3b2825b3e013cf1b00fb9de7225', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 8, 'created': '2019-08-05 07:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d8a3f8e311cb09b43dec51a7da97e611d52da44', 'message': 'Pacemaker resource upgrade tasks compatible with staged upgrade\n\nWIP\n\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n'}, {'number': 9, 'created': '2019-08-05 11:39:57.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8827e4f7f10d71027d9be4fbe650f9d1beccedeb', 'message': ""Pacemaker resource upgrade tasks compatible with staged upgrade\n\nAdd better idempotency checks on editing the pacemaker resources and\nfetching and re-tagging new images, which prevents the upgrade from\nfailing. The latest status after staged upgrade looks like this:\n\nOnline: [ controller-0 controller-1 controller-2 ]\nGuestOnline: [ galera-bundle-0@controller-0 galera-bundle-1@controller-1 galera-bundle-2@controller-2 rabbitmq-bundle-0@controller-0 rabbitmq-bundle-1@controller-1 redis-bundle-0@controller-0 redis-bundle-1@controller-1 ]\n\nFull list of resources:\n\n podman container set: galera-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-mariadb:pcmklatest]\n   galera-bundle-0      (ocf::heartbeat:galera):        Master controller-0\n   galera-bundle-1      (ocf::heartbeat:galera):        Master controller-1\n   galera-bundle-2      (ocf::heartbeat:galera):        Master controller-2\n podman container set: rabbitmq-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-rabbitmq:pcmklatest]\n   rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started controller-0\n   rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started controller-1\n podman container set: redis-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-redis:pcmklatest]\n   redis-bundle-0       (ocf::heartbeat:redis): Master controller-0\n   redis-bundle-1       (ocf::heartbeat:redis): Slave controller-1\n ip-192.168.24.8        (ocf::heartbeat:IPaddr2):       Started controller-0\n ip-10.0.0.106  (ocf::heartbeat:IPaddr2):       Started controller-0\n ip-172.17.1.16 (ocf::heartbeat:IPaddr2):       Started controller-0\n ip-172.17.1.23 (ocf::heartbeat:IPaddr2):       Started controller-0\n ip-172.17.3.11 (ocf::heartbeat:IPaddr2):       Started controller-0\n ip-172.17.4.25 (ocf::heartbeat:IPaddr2):       Started controller-0\n podman container set: haproxy-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-haproxy:pcmklatest]\n   haproxy-bundle-podman-0      (ocf::heartbeat:podman):        Started controller-0\n   haproxy-bundle-podman-1      (ocf::heartbeat:podman):        Started controller-1\n   haproxy-bundle-podman-2      (ocf::heartbeat:podman):        Stopped\n podman container: openstack-cinder-volume [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-cinder-volume:pcmklatest]\n   openstack-cinder-volume-podman-0     (ocf::heartbeat:podman):        Started controller-1\n\nFailed Resource Actions:\n* rabbitmq_monitor_10000 on rabbitmq-bundle-0 'unknown error' (1): call=4861, status=Timed Out, exitreason='',\n    last-rc-change='Mon Aug  5 10:37:51 2019', queued=0ms, exec=0ms\n* rabbitmq_monitor_10000 on rabbitmq-bundle-1 'unknown error' (1): call=42, status=Timed Out, exitreason='',\n    last-rc-change='Mon Aug  5 10:15:55 2019', queued=0ms, exec=0ms\n\nThis indicates that there are still issues we'll need to solve, but at\nleast the upgrade passes now and we can keep solving the follow-up\nissues while the critical upgrade path is unblocked.\n\nCloses-Bug: #1838971\nChange-Id: I2e88dc34fa59624523de4c52a1873438c78e972f\n""}]",4,673456,8827e4f7f10d71027d9be4fbe650f9d1beccedeb,37,9,9,8042,,,0,"Pacemaker resource upgrade tasks compatible with staged upgrade

Add better idempotency checks on editing the pacemaker resources and
fetching and re-tagging new images, which prevents the upgrade from
failing. The latest status after staged upgrade looks like this:

Online: [ controller-0 controller-1 controller-2 ]
GuestOnline: [ galera-bundle-0@controller-0 galera-bundle-1@controller-1 galera-bundle-2@controller-2 rabbitmq-bundle-0@controller-0 rabbitmq-bundle-1@controller-1 redis-bundle-0@controller-0 redis-bundle-1@controller-1 ]

Full list of resources:

 podman container set: galera-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-mariadb:pcmklatest]
   galera-bundle-0      (ocf::heartbeat:galera):        Master controller-0
   galera-bundle-1      (ocf::heartbeat:galera):        Master controller-1
   galera-bundle-2      (ocf::heartbeat:galera):        Master controller-2
 podman container set: rabbitmq-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-rabbitmq:pcmklatest]
   rabbitmq-bundle-0    (ocf::heartbeat:rabbitmq-cluster):      Started controller-0
   rabbitmq-bundle-1    (ocf::heartbeat:rabbitmq-cluster):      Started controller-1
 podman container set: redis-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-redis:pcmklatest]
   redis-bundle-0       (ocf::heartbeat:redis): Master controller-0
   redis-bundle-1       (ocf::heartbeat:redis): Slave controller-1
 ip-192.168.24.8        (ocf::heartbeat:IPaddr2):       Started controller-0
 ip-10.0.0.106  (ocf::heartbeat:IPaddr2):       Started controller-0
 ip-172.17.1.16 (ocf::heartbeat:IPaddr2):       Started controller-0
 ip-172.17.1.23 (ocf::heartbeat:IPaddr2):       Started controller-0
 ip-172.17.3.11 (ocf::heartbeat:IPaddr2):       Started controller-0
 ip-172.17.4.25 (ocf::heartbeat:IPaddr2):       Started controller-0
 podman container set: haproxy-bundle [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-haproxy:pcmklatest]
   haproxy-bundle-podman-0      (ocf::heartbeat:podman):        Started controller-0
   haproxy-bundle-podman-1      (ocf::heartbeat:podman):        Started controller-1
   haproxy-bundle-podman-2      (ocf::heartbeat:podman):        Stopped
 podman container: openstack-cinder-volume [brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888/rhosp15/openstack-cinder-volume:pcmklatest]
   openstack-cinder-volume-podman-0     (ocf::heartbeat:podman):        Started controller-1

Failed Resource Actions:
* rabbitmq_monitor_10000 on rabbitmq-bundle-0 'unknown error' (1): call=4861, status=Timed Out, exitreason='',
    last-rc-change='Mon Aug  5 10:37:51 2019', queued=0ms, exec=0ms
* rabbitmq_monitor_10000 on rabbitmq-bundle-1 'unknown error' (1): call=42, status=Timed Out, exitreason='',
    last-rc-change='Mon Aug  5 10:15:55 2019', queued=0ms, exec=0ms

This indicates that there are still issues we'll need to solve, but at
least the upgrade passes now and we can keep solving the follow-up
issues while the critical upgrade path is unblocked.

Closes-Bug: #1838971
Change-Id: I2e88dc34fa59624523de4c52a1873438c78e972f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/673456/9 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-pacemaker-puppet.yaml'],1,4acd96012dcf6b8c0baf9d279668467ff5648576,leapp," - name: Pull latest Cinder-Volume images command: ""{{container_cli}} pull {{docker_image}}"" shell: ""{{container_cli}} inspect --format '{{.Id}}' {{docker_image_latest}}"" register: old_cinder_volume_image_id failed_when: false - name: Get new Cinder-Volume image id shell: ""{{container_cli}} inspect --format '{{.Id}}' {{docker_image_latest}}"" register: new_cinder_volume_image_id shell: ""{{container_cli}} ps -a -q -f 'ancestor={{old_cinder_volume_image_id.stdout}}'"" shell: ""{{container_cli}} rmi -f {{old_cinder_volume_image_id.stdout}}"" when: - old_cinder_volume_image_id.stdout != '' - old_cinder_volume_image_id.stdout != new_cinder_volume_image_id.stdout cinder_volume_image_latest: *cinder_volume_image_pcmklatest shell: ""pcs resource config openstack-cinder-volume | grep -Eo 'image=[^ ]+' | awk -F= '{print $2;}'"" register: cinder_volume_pcmk_image failed_when: false container_image: ""{{cinder_volume_pcmk_image.stdout}}"" container_image_latest: ""{{cinder_volume_image_latest}}"" when: - cinder_volume_pcmk_image.stdout != '' - cinder_volume_pcmk_image.stdout != cinder_volume_image_latest - cinder_volume_pcmk_image.stdout != cinder_volume_image_latest command: ""pcs resource bundle update openstack-cinder-volume container image={{cinder_volume_image_latest}}"""," shell: ""{{container_cli}} images | awk '/cinder-volume.* pcmklatest/{print $3}' | uniq"" register: cinder_volume_image_id shell: ""{{container_cli}} ps -a -q -f 'ancestor={{cinder_volume_image_id.stdout}}'"" shell: ""{{container_cli}} rmi -f {{cinder_volume_image_id.stdout}}"" when: - cinder_volume_image_id.stdout != '' - name: Pull latest Cinder-Volume images command: ""{{container_cli}} pull {{docker_image}}"" cinder_volume_docker_image_latest: *cinder_volume_image_pcmklatest shell: ""{{container_cli}} images | awk '/cinder-volume.* pcmklatest/{print $3}' | uniq"" register: cinder_volume_current_pcmklatest_id container_image: ""{{cinder_volume_current_pcmklatest_id.stdout}}"" container_image_latest: ""{{cinder_volume_docker_image_latest}}"" when: cinder_volume_current_pcmklatest_id.stdout != '' command: ""pcs resource bundle update openstack-cinder-volume container image={{cinder_volume_docker_image_latest}}""",23,14
openstack%2Fproject-config~master~If259ab21a5a5336bbd53330cda3e74297c4cdce6,openstack/project-config,master,If259ab21a5a5336bbd53330cda3e74297c4cdce6,New project request: airship/kubernetes-entrypoint,MERGED,2019-07-31 19:45:41.000000000,2019-08-05 19:54:20.000000000,2019-08-05 19:54:20.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-07-31 19:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7f9b5b7461d124d2c8c1a77fd4e59c93e0522293', 'message': 'New project request: airship/kubernetes-entrypoint\n\nThis change migrates the kubernetes-entrypoint project from\nthe Stackanetes namespace into Airship.  Stackanetes is no longer\nactively maintaining the project; however, Airship and OpenStack-Helm\nare active consumers and contributors to it.  This move has been\nsocialized with the Stackanetes team, and they are supportive.\n\nChange-Id: If259ab21a5a5336bbd53330cda3e74297c4cdce6\n'}, {'number': 2, 'created': '2019-08-01 18:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/749f946ae4611dc256b3cd91edf798569e860b29', 'message': 'New project request: airship/kubernetes-entrypoint\n\nThis change migrates the kubernetes-entrypoint project from\nthe Stackanetes namespace into Airship.  Stackanetes is no longer\nactively maintaining the project; however, Airship and OpenStack-Helm\nare active consumers and contributors to it.  This move has been\nsocialized with the Stackanetes team, and they are supportive.\n\nChange-Id: If259ab21a5a5336bbd53330cda3e74297c4cdce6\n'}, {'number': 3, 'created': '2019-08-05 19:13:37.000000000', 'files': ['gerrit/acls/airship/kubernetes-entrypoint.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0339e2fe4fb5d2452420c70de098aa09a40a4727', 'message': 'New project request: airship/kubernetes-entrypoint\n\nThis change migrates the kubernetes-entrypoint project from\nthe Stackanetes namespace into Airship.  Stackanetes is no longer\nactively maintaining the project; however, Airship and OpenStack-Helm\nare active consumers and contributors to it.  This move has been\nsocialized with the Stackanetes team, and they are supportive.\n\nChange-Id: If259ab21a5a5336bbd53330cda3e74297c4cdce6\n'}]",5,673900,0339e2fe4fb5d2452420c70de098aa09a40a4727,21,6,3,22477,,,0,"New project request: airship/kubernetes-entrypoint

This change migrates the kubernetes-entrypoint project from
the Stackanetes namespace into Airship.  Stackanetes is no longer
actively maintaining the project; however, Airship and OpenStack-Helm
are active consumers and contributors to it.  This move has been
socialized with the Stackanetes team, and they are supportive.

Change-Id: If259ab21a5a5336bbd53330cda3e74297c4cdce6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/673900/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/airship/kubernetes-entrypoint.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,7f9b5b7461d124d2c8c1a77fd4e59c93e0522293,new-project, - airship/kubernetes-entrypoint,,23,0
openstack%2Fkuryr-kubernetes~master~I7953bc1122a77e5ed5f0cfd21ca81b1ac2d731a1,openstack/kuryr-kubernetes,master,I7953bc1122a77e5ed5f0cfd21ca81b1ac2d731a1,Ensure tags are used to recover/clean ports,MERGED,2019-08-05 10:27:51.000000000,2019-08-05 19:53:28.000000000,2019-08-05 19:53:28.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-08-05 10:27:51.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/046e4b31c72249387fd8480a8d486ad5d42d49d2', 'message': 'Ensure tags are used to recover/clean ports\n\nThis patch ensures that, if tags are used, only the ports with the\ngiven tags are considered for recovering/cleanup\n\nChange-Id: I7953bc1122a77e5ed5f0cfd21ca81b1ac2d731a1\n'}]",0,674569,046e4b31c72249387fd8480a8d486ad5d42d49d2,11,4,1,23567,,,0,"Ensure tags are used to recover/clean ports

This patch ensures that, if tags are used, only the ports with the
given tags are considered for recovering/cleanup

Change-Id: I7953bc1122a77e5ed5f0cfd21ca81b1ac2d731a1
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/69/674569/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,046e4b31c72249387fd8480a8d486ad5d42d49d2,pools-with-tags," attrs = {'status': 'ACTIVE'} tags = config.CONF.neutron_defaults.resource_tags if tags: attrs['tags'] = tags all_active_ports = self._get_ports_by_attrs(**attrs) attrs = {'device_owner': kl_const.DEVICE_OWNER} tags = config.CONF.neutron_defaults.resource_tags if tags: attrs['tags'] = tags kuryr_ports = self._get_ports_by_attrs(**attrs) attrs = {'device_owner': kl_const.DEVICE_OWNER} tags = config.CONF.neutron_defaults.resource_tags if tags: attrs['tags'] = tags if config.CONF.kubernetes.port_debug: attrs['name'] = constants.KURYR_PORT_NAME available_ports = self._get_ports_by_attrs(**attrs) else: kuryr_ports = self._get_ports_by_attrs(**attrs) attrs = {'device_owner': ['trunk:subport', kl_const.DEVICE_OWNER]} tags = config.CONF.neutron_defaults.resource_tags if tags: attrs['tags'] = tags kuryr_subports = self._get_ports_by_attrs(**attrs)"," all_active_ports = self._get_ports_by_attrs(status='ACTIVE') kuryr_ports = self._get_ports_by_attrs( device_owner=kl_const.DEVICE_OWNER) if config.CONF.kubernetes.port_debug: available_ports = self._get_ports_by_attrs( name=constants.KURYR_PORT_NAME, device_owner=[ kl_const.DEVICE_OWNER]) else: kuryr_ports = self._get_ports_by_attrs( device_owner=kl_const.DEVICE_OWNER) kuryr_subports = self._get_ports_by_attrs( device_owner=['trunk:subport', kl_const.DEVICE_OWNER])",23,10
openstack%2Fsushy~master~I721c6284b938d5a47dbe0b298467c15ca4bd1517,openstack/sushy,master,I721c6284b938d5a47dbe0b298467c15ca4bd1517,Disable HTTP connection pooling,MERGED,2019-07-29 15:24:57.000000000,2019-08-05 19:34:17.000000000,2019-07-30 09:02:24.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-29 15:24:57.000000000', 'files': ['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/84e085f9a2460218bf52315a21ee4dcf8365e3e1', 'message': 'Disable HTTP connection pooling\n\nDisable HTTP connection pooling by asking HTTP server to close our\nconnection right upon use. The rationale is that some BMC observed in\nthe wild seem to close persistent connections abruptly upon eventual\nre-use failing completely unrelated operation. So in ``sushy`` we\njust try not to maintain persistent connections with BMC at all.\n\nChange-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517\n'}]",0,673312,84e085f9a2460218bf52315a21ee4dcf8365e3e1,8,3,1,26340,,,0,"Disable HTTP connection pooling

Disable HTTP connection pooling by asking HTTP server to close our
connection right upon use. The rationale is that some BMC observed in
the wild seem to close persistent connections abruptly upon eventual
re-use failing completely unrelated operation. So in ``sushy`` we
just try not to maintain persistent connections with BMC at all.

Change-Id: I721c6284b938d5a47dbe0b298467c15ca4bd1517
",git fetch https://review.opendev.org/openstack/sushy refs/changes/12/673312/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-conn-pooling-3456782afe56ac94.yaml', 'sushy/connector.py']",2,84e085f9a2460218bf52315a21ee4dcf8365e3e1,disable-connection-pooling," # NOTE(etingof): field studies reveal that some BMCs choke at # long-running persistent HTTP connections (or TCP connections). # By default, we ask HTTP server to shut down HTTP connection we've # just used. self._session.headers['Connection'] = 'close' ",,15,0
openstack%2Fcharm-manila~master~I6162d77232c3377f42bc7e0c736365d96832a21c,openstack/charm-manila,master,I6162d77232c3377f42bc7e0c736365d96832a21c,"Revert back to using ""rabbit_use_ssl"" for ocata",MERGED,2019-08-05 14:05:36.000000000,2019-08-05 19:18:31.000000000,2019-08-05 19:18:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 14:05:36.000000000', 'files': ['src/templates/pike/manila.conf'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/e6c9c54303a856ff474c077c82a02877f4f36aad', 'message': 'Revert back to using ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nThis is fixed by using section-oslo-messaging-rabbit for pike and\nabove rather than ocata and above, thus reverting back to using\nsection-rabbitmq-oslo for ocata.\n\nChange-Id: I6162d77232c3377f42bc7e0c736365d96832a21c\nCloses-Bug: #1838696\n'}]",0,674617,e6c9c54303a856ff474c077c82a02877f4f36aad,10,4,1,11805,,,0,"Revert back to using ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

This is fixed by using section-oslo-messaging-rabbit for pike and
above rather than ocata and above, thus reverting back to using
section-rabbitmq-oslo for ocata.

Change-Id: I6162d77232c3377f42bc7e0c736365d96832a21c
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/17/674617/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/pike/manila.conf'],1,e6c9c54303a856ff474c077c82a02877f4f36aad,bug/1838696,,,0,0
openstack%2Frpm-packaging~master~I2ee3730bd8fb78a8c88a032654fb4569081bd677,openstack/rpm-packaging,master,I2ee3730bd8fb78a8c88a032654fb4569081bd677,Update to the current oslo.* library version releases,MERGED,2019-07-26 11:08:16.000000000,2019-08-05 19:11:17.000000000,2019-08-05 19:11:17.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-26 11:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/db996ff1169eea2eebf314bc2dfe2ee912b6b29a', 'message': 'Latest oslo fun\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}, {'number': 2, 'created': '2019-07-26 12:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/88c358cf81479318d42a3a1b10dd73c1f0b99f05', 'message': 'Latest oslo fun\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}, {'number': 3, 'created': '2019-08-01 11:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d1c0b88652a5245b170eb790deb718a23d8151ed', 'message': 'Update to the current oslo.* library version releases\n\nos-api-ref: Drop upstreamed patches that are present\nin new release\nos-win: convert to using stestr\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}, {'number': 4, 'created': '2019-08-01 15:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5edf909a7669355209a1a231100ebc0fc49beabd', 'message': 'Update to the current oslo.* library version releases\n\nos-api-ref: Drop upstreamed patches that are present\nin new release\nos-win: convert to using stestr\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}, {'number': 5, 'created': '2019-08-01 18:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7bca2135f710f0c7329c78e316376a84de0a8ad5', 'message': 'Update to the current oslo.* library version releases\n\nos-api-ref: Drop upstreamed patches that are present\nin new release\nos-win: convert to using stestr\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}, {'number': 6, 'created': '2019-08-02 11:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6f34dbe3385bcd37280fc13c4730158ee38809b9', 'message': 'Update to the current oslo.* library version releases\n\nos-api-ref: Drop upstreamed patches that are present\nin new release\nos-win: convert to using stestr\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}, {'number': 7, 'created': '2019-08-02 14:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/705cca44689d9ffdcc9b782ad400f5232abf802d', 'message': 'Update to the current oslo.* library version releases\n\nos-api-ref: Drop upstreamed patches that are present\nin new release\nos-win: convert to using stestr\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}, {'number': 8, 'created': '2019-08-02 20:40:25.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/os-api-ref/0001-Add-support-for-Sphinx-v2.1.patch', 'openstack/os-api-ref/os-api-ref.spec.j2', 'openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2', 'openstack/os-api-ref/0001-Add-support-for-Sphinx-2.0.patch', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/os-win/os-win.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fe3b9c6f037d111bded3644621f0b108a5ebfcd1', 'message': 'Update to the current oslo.* library version releases\n\nos-api-ref: Drop upstreamed patches that are present\nin new release\nos-win: convert to using stestr\n\nChange-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677\n'}]",1,672951,fe3b9c6f037d111bded3644621f0b108a5ebfcd1,38,5,8,6593,,,0,"Update to the current oslo.* library version releases

os-api-ref: Drop upstreamed patches that are present
in new release
os-win: convert to using stestr

Change-Id: I2ee3730bd8fb78a8c88a032654fb4569081bd677
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/672951/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/os-api-ref/os-api-ref.spec.j2', 'openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/os-win/os-win.spec.j2']",6,db996ff1169eea2eebf314bc2dfe2ee912b6b29a,,{% set upstream_version = upstream_version('4.3.0') %},{% set upstream_version = upstream_version('4.2.0') %},6,6
openstack%2Fcharm-ceilometer~stable%2F19.04~I9dfdfc366fb64e50f0209e85072f66998a69f0ac,openstack/charm-ceilometer,stable/19.04,I9dfdfc366fb64e50f0209e85072f66998a69f0ac,Disable haproxy in ocata and beyond,ABANDONED,2019-08-05 19:06:17.000000000,2019-08-05 19:09:58.000000000,,[{'_account_id': 30603}],"[{'number': 1, 'created': '2019-08-05 19:06:17.000000000', 'files': ['hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py', 'charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/90e9d4e797e857ac9220d5f3ece61e37726471f4', 'message': 'Disable haproxy in ocata and beyond\n\nAlso take care to remove haproxy in case of upgrades.\n\nChange-Id: I9dfdfc366fb64e50f0209e85072f66998a69f0ac\nCloses-Bug: #1773894\n'}]",0,674676,90e9d4e797e857ac9220d5f3ece61e37726471f4,2,1,1,29805,,,0,"Disable haproxy in ocata and beyond

Also take care to remove haproxy in case of upgrades.

Change-Id: I9dfdfc366fb64e50f0209e85072f66998a69f0ac
Closes-Bug: #1773894
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/76/674676/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py', 'charmhelpers/contrib/openstack/ha/utils.py']",3,90e9d4e797e857ac9220d5f3ece61e37726471f4,bug/1773894,"def generate_ha_relation_data(service, extra_settings=None, haproxy_enabled=True): _relation_data = {'resources': {}, 'resource_params': {}} if haproxy_enabled: _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data['resources'] = {_haproxy_res: 'lsb:haproxy'} _relation_data['resource_params'] = { } _relation_data['init_services'] = {_haproxy_res: 'haproxy'} _relation_data['clones'] = { }","def generate_ha_relation_data(service, extra_settings=None): _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data = { 'resources': { _haproxy_res: 'lsb:haproxy', }, 'resource_params': { }, 'init_services': { _haproxy_res: 'haproxy' }, 'clones': { }, }",53,14
openstack%2Fcharm-cinder~master~I070b8bbebed4e53fa524047599c71f73dc1c79fc,openstack/charm-cinder,master,I070b8bbebed4e53fa524047599c71f73dc1c79fc,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 03:00:17.000000000,2019-08-05 19:07:43.000000000,2019-08-05 19:07:43.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:00:17.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'templates/ocata/cinder.conf', 'charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b5d20a0718c4b5cc5537a5efe6be5bd277f85389', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I070b8bbebed4e53fa524047599c71f73dc1c79fc\nCloses-Bug: #1838696\n'}]",0,674165,b5d20a0718c4b5cc5537a5efe6be5bd277f85389,11,5,1,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I070b8bbebed4e53fa524047599c71f73dc1c79fc
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/65/674165/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'templates/ocata/cinder.conf', 'charmhelpers/contrib/openstack/ha/utils.py']",3,b5d20a0718c4b5cc5537a5efe6be5bd277f85389,bug/1838696,"def generate_ha_relation_data(service, extra_settings=None, haproxy_enabled=True): _relation_data = {'resources': {}, 'resource_params': {}} if haproxy_enabled: _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data['resources'] = {_haproxy_res: 'lsb:haproxy'} _relation_data['resource_params'] = { } _relation_data['init_services'] = {_haproxy_res: 'haproxy'} _relation_data['clones'] = { }","def generate_ha_relation_data(service, extra_settings=None): _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data = { 'resources': { _haproxy_res: 'lsb:haproxy', }, 'resource_params': { }, 'init_services': { _haproxy_res: 'haproxy' }, 'clones': { }, }",24,15
openstack%2Fcharm-glance~master~I192396dbd1ef96cab95e3958ae06fd86aa54ab46,openstack/charm-glance,master,I192396dbd1ef96cab95e3958ae06fd86aa54ab46,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-02 03:01:50.000000000,2019-08-05 19:07:11.000000000,2019-08-05 19:07:11.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 03:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/c7359f37c8b68041f45c63a5387109bd8e1a8b95', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I192396dbd1ef96cab95e3958ae06fd86aa54ab46\nCloses-Bug: #1838696\n'}, {'number': 2, 'created': '2019-08-05 10:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f202915668d22e04b576fce23238086468f7e25c', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I192396dbd1ef96cab95e3958ae06fd86aa54ab46\nCloses-Bug: #1838696\n'}, {'number': 3, 'created': '2019-08-05 10:48:20.000000000', 'files': ['tests/basic_deployment.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'templates/ocata/glance-api.conf', 'charmhelpers/contrib/openstack/ha/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/557566e9d976bfc2156fe30471b53da50232d7c3', 'message': 'Sync charm-helpers and use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nChange-Id: I192396dbd1ef96cab95e3958ae06fd86aa54ab46\nCloses-Bug: #1838696\n'}]",0,674167,557566e9d976bfc2156fe30471b53da50232d7c3,15,5,3,11805,,,0,"Sync charm-helpers and use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

Change-Id: I192396dbd1ef96cab95e3958ae06fd86aa54ab46
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/67/674167/3 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'templates/ocata/glance-api.conf', 'charmhelpers/contrib/openstack/ha/utils.py']",3,c7359f37c8b68041f45c63a5387109bd8e1a8b95,bug/1838696,"def generate_ha_relation_data(service, extra_settings=None, haproxy_enabled=True): _relation_data = {'resources': {}, 'resource_params': {}} if haproxy_enabled: _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data['resources'] = {_haproxy_res: 'lsb:haproxy'} _relation_data['resource_params'] = { } _relation_data['init_services'] = {_haproxy_res: 'haproxy'} _relation_data['clones'] = { }","def generate_ha_relation_data(service, extra_settings=None): _haproxy_res = 'res_{}_haproxy'.format(service) _relation_data = { 'resources': { _haproxy_res: 'lsb:haproxy', }, 'resource_params': { }, 'init_services': { _haproxy_res: 'haproxy' }, 'clones': { }, }",24,15
openstack%2Fironic~stable%2Fstein~I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,openstack/ironic,stable/stein,I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f,Filter security group list on the ID's we expect,MERGED,2019-07-30 10:45:34.000000000,2019-08-05 18:18:14.000000000,2019-08-05 18:18:13.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-30 10:45:34.000000000', 'files': ['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7caf22fe0b30c233b4022dcbf6b05aaed4e4b955', 'message': ""Filter security group list on the ID's we expect\n\nFilter the list of security groups based on the security\ngroup IDs we plan on using for the network. Also only\nget the id field as this is all we need to compare.\n\nFixes an issue where deployment fail on systems with a\nhigh number of security groups.\n\nStory: 2006256\nTask: 35871\nChange-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f\n(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)\n""}]",0,673473,7caf22fe0b30c233b4022dcbf6b05aaed4e4b955,22,8,1,10239,,,0,"Filter security group list on the ID's we expect

Filter the list of security groups based on the security
group IDs we plan on using for the network. Also only
get the id field as this is all we need to compare.

Fixes an issue where deployment fail on systems with a
high number of security groups.

Story: 2006256
Task: 35871
Change-Id: I83bbd3c77f13aaab0912354c3ec9cdd5e1123d0f
(cherry picked from commit 59787768cbf1d757611be27406777a088fb16659)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/673473/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/fix-security-group-list-add-query-filters-f72cfcefa1e093d2.yaml', 'ironic/common/neutron.py']",3,7caf22fe0b30c233b4022dcbf6b05aaed4e4b955,story/2006256-stable/stein," client.list_security_groups(id=security_groups, fields='id').get( 'security_groups', [])) if set(security_groups).issubset(x['id'] for x in neutron_sec_groups): return missing_sec_groups = set(security_groups).difference( x['id'] for x in neutron_sec_groups) msg = (_('Could not find these security groups (specified via ironic ' 'config) in neutron: %(ir-sg)s') % {'ir-sg': list(missing_sec_groups)}) LOG.error(msg) raise exception.NetworkError(msg)"," client.list_security_groups().get('security_groups', [])) existing_sec_groups = [sec_group['id'] for sec_group in neutron_sec_groups] missing_sec_groups = set(security_groups) - set(existing_sec_groups) if missing_sec_groups: msg = (_('Could not find these security groups (specified via ironic ' 'config) in neutron: %(ir-sg)s') % {'ir-sg': list(missing_sec_groups)}) LOG.error(msg) raise exception.NetworkError(msg)",32,17
openstack%2Frpm-packaging~master~If5929a1e0bd7bb6a9f53863c6befde26a9417d9d,openstack/rpm-packaging,master,If5929a1e0bd7bb6a9f53863c6befde26a9417d9d,nova: update to sphinx-build macro,MERGED,2018-07-26 05:44:48.000000000,2019-08-05 18:10:18.000000000,2019-08-05 18:10:17.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-26 05:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/16277b7bc4a04bc33d2112b06a1d25e742d119ea', 'message': 'nova: update to sphinx-build\n\nChange-Id: If5929a1e0bd7bb6a9f53863c6befde26a9417d9d\n'}, {'number': 2, 'created': '2019-03-05 09:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d29d7b5c450e5d5b7acb33599843fdf18f1573f8', 'message': 'nova: update to sphinx-build\n\nChange-Id: If5929a1e0bd7bb6a9f53863c6befde26a9417d9d\n'}, {'number': 3, 'created': '2019-04-12 18:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b1021fcaf82f390712db9028992b83dc012eaaff', 'message': 'nova: update to sphinx-build\n\nChange-Id: If5929a1e0bd7bb6a9f53863c6befde26a9417d9d\n'}, {'number': 4, 'created': '2019-08-02 20:34:42.000000000', 'files': ['openstack/nova/nova.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2648fbaf1f1cd4110ce4141c628ab411f6500541', 'message': 'nova: update to sphinx-build macro\n\nChange-Id: If5929a1e0bd7bb6a9f53863c6befde26a9417d9d\n'}]",1,585954,2648fbaf1f1cd4110ce4141c628ab411f6500541,22,5,4,6593,,,0,"nova: update to sphinx-build macro

Change-Id: If5929a1e0bd7bb6a9f53863c6befde26a9417d9d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/585954/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/nova/nova.spec.j2'],1,16277b7bc4a04bc33d2112b06a1d25e742d119ea,nova,PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html,"%{__python2} setup.py build_sphinx --builder=html,man",1,1
openstack%2Foctavia-tempest-plugin~master~Ib304cc12fcca51aab30f6dbe78ae412a8c358717,openstack/octavia-tempest-plugin,master,Ib304cc12fcca51aab30f6dbe78ae412a8c358717,Increase connection_max_retries to 480 secs on CentOS jobs,MERGED,2019-07-28 14:17:25.000000000,2019-08-05 17:56:08.000000000,2019-08-05 17:56:08.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-28 14:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cda52aab7476dda4109402fdcd23faa236c72c40', 'message': 'Increase check_timeout to 120 on CentOS jobs\n\nJobs run on non-nested virtualization environments (TCG) which\nsignificantly slows down amphorae instances at boot. CentOS-based\namphora seem to take even longer for unknown reasons on TCG\nenvironments. This patch increases check_timeout from default 60 seconds\nto 120 seconds on CentOS jobs.\n\nChange-Id: Ib304cc12fcca51aab30f6dbe78ae412a8c358717\n'}, {'number': 2, 'created': '2019-07-28 20:46:35.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cd8f602ff0fabf6d035ce43ef564ac5dc2bde32e', 'message': 'Increase connection_max_retries to 480 secs on CentOS jobs\n\nJobs run on non-nested virtualization environments (TCG) which\nsignificantly slows down amphora instances at boot. CentOS-based\namphorae seem to take even longer for unknown reasons on TCG\nenvironments. This patch increases connection_max_retries from default\n300 seconds to 480 seconds on CentOS jobs.\n\nChange-Id: Ib304cc12fcca51aab30f6dbe78ae412a8c358717\n'}]",0,673172,cd8f602ff0fabf6d035ce43ef564ac5dc2bde32e,18,4,2,6469,,,0,"Increase connection_max_retries to 480 secs on CentOS jobs

Jobs run on non-nested virtualization environments (TCG) which
significantly slows down amphora instances at boot. CentOS-based
amphorae seem to take even longer for unknown reasons on TCG
environments. This patch increases connection_max_retries from default
300 seconds to 480 seconds on CentOS jobs.

Change-Id: Ib304cc12fcca51aab30f6dbe78ae412a8c358717
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/72/673172/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,cda52aab7476dda4109402fdcd23faa236c72c40,," devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": load_balancer: check_timeout: 120",,5,0
openstack%2Fcharm-neutron-dynamic-routing~master~I9209a3cdc9b52a918621ad2c328e67aa616f18d6,openstack/charm-neutron-dynamic-routing,master,I9209a3cdc9b52a918621ad2c328e67aa616f18d6,"Use ""rabbit_use_ssl"" for ocata",MERGED,2019-08-05 14:19:23.000000000,2019-08-05 17:53:15.000000000,2019-08-05 17:53:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 14:19:23.000000000', 'files': ['src/templates/pike/neutron.conf', 'src/templates/neutron.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/35ddec55cf03d2d634d56d1fb3657dfbb3b77637', 'message': 'Use ""rabbit_use_ssl"" for ocata\n\nEnsure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]\nconfig section instead of ""ssl"" for Ocata, since ""ssl"" was not yet\nintroduced.\n\nThis is fixed by using section-oslo-messaging-rabbit for pike and\nabove rather than ocata and above, and using section-rabbitmq-oslo\nfor ocata.\n\nChange-Id: I9209a3cdc9b52a918621ad2c328e67aa616f18d6\nCloses-Bug: #1838696\n'}]",0,674618,35ddec55cf03d2d634d56d1fb3657dfbb3b77637,8,4,1,11805,,,0,"Use ""rabbit_use_ssl"" for ocata

Ensure ""rabbit_use_ssl"" is specified in the [oslo_messaging_rabbit]
config section instead of ""ssl"" for Ocata, since ""ssl"" was not yet
introduced.

This is fixed by using section-oslo-messaging-rabbit for pike and
above rather than ocata and above, and using section-rabbitmq-oslo
for ocata.

Change-Id: I9209a3cdc9b52a918621ad2c328e67aa616f18d6
Closes-Bug: #1838696
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/18/674618/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/pike/neutron.conf', 'src/templates/neutron.conf']",2,35ddec55cf03d2d634d56d1fb3657dfbb3b77637,bug/1838696,"{% include ""parts/section-rabbitmq-oslo"" %}","# Transport URL must be in the [DEFAULT] section {% include ""parts/section-transport-url"" %} {% include ""parts/section-oslo-messaging-rabbit"" %}",20,4
openstack%2Fswift~master~Ib121d6c52601488647fd16dfd4f49bb4492c7a2f,openstack/swift,master,Ib121d6c52601488647fd16dfd4f49bb4492c7a2f,Make backport releases conform to existing CHANGELOG formatting,MERGED,2019-07-26 22:59:49.000000000,2019-08-05 17:36:43.000000000,2019-08-05 17:35:38.000000000,"[{'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 22:59:49.000000000', 'files': ['CHANGELOG'], 'web_link': 'https://opendev.org/openstack/swift/commit/8635e8cc867a5f44f6269b1f85b2a3d360a35561', 'message': 'Make backport releases conform to existing CHANGELOG formatting\n\nChange-Id: Ib121d6c52601488647fd16dfd4f49bb4492c7a2f\n'}]",0,673118,8635e8cc867a5f44f6269b1f85b2a3d360a35561,11,2,1,15343,,,0,"Make backport releases conform to existing CHANGELOG formatting

Change-Id: Ib121d6c52601488647fd16dfd4f49bb4492c7a2f
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/673118/1 && git format-patch -1 --stdout FETCH_HEAD,['CHANGELOG'],1,8635e8cc867a5f44f6269b1f85b2a3d360a35561,,"swift (2.19.1, rocky stable backports)swift (2.17.1, queens stable backports)swift (2.15.2, pike stable backports)",2.19.1 (rocky stable backports)2.17.1 (queens stable backports)2.15.2 (pike stable backports),3,3
openstack%2Ftripleo-heat-templates~stable%2Frocky~I3a0bc2ba62c9c0a2f4860a5b362f59251e858fcb,openstack/tripleo-heat-templates,stable/rocky,I3a0bc2ba62c9c0a2f4860a5b362f59251e858fcb,Update mysql url for cell0 in step3,MERGED,2019-08-02 18:13:59.000000000,2019-08-05 17:36:18.000000000,2019-08-05 17:36:18.000000000,"[{'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 18:13:59.000000000', 'files': ['releasenotes/notes/update-cell0-db-entry-in-step3-9af22193c34e7edd.yaml', 'docker/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4efdeb4e69f3b254282f42a9d0c740cc42af0475', 'message': 'Update mysql url for cell0 in step3\n\nWhen doing a TLS brown field deployment (ie. updating a previously\ndeployed system without internal TLS to using internal TLS), the\ndatabase endpoint stored in the db for the default cell and cell0\nmust be changed in step3.\n\nLogic already exists in step 3 to change the default cell.  Logic\nhas been added to change cell0.\n\nNote that this is not a problem in stein+ because we have already\nadded logic to set the db endpoint for both cells using\ntemplated values for both cells in step 3.\n\nCloses-Bug: 1838804\nChange-Id: I3a0bc2ba62c9c0a2f4860a5b362f59251e858fcb\n'}]",0,674400,4efdeb4e69f3b254282f42a9d0c740cc42af0475,9,7,1,9914,,,0,"Update mysql url for cell0 in step3

When doing a TLS brown field deployment (ie. updating a previously
deployed system without internal TLS to using internal TLS), the
database endpoint stored in the db for the default cell and cell0
must be changed in step3.

Logic already exists in step 3 to change the default cell.  Logic
has been added to change cell0.

Note that this is not a problem in stein+ because we have already
added logic to set the db endpoint for both cells using
templated values for both cells in step 3.

Closes-Bug: 1838804
Change-Id: I3a0bc2ba62c9c0a2f4860a5b362f59251e858fcb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/674400/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/update-cell0-db-entry-in-step3-9af22193c34e7edd.yaml', 'docker/services/nova-api.yaml']",2,4efdeb4e69f3b254282f42a9d0c740cc42af0475,," nova_api_ensure_cell0_database_url.sh: mode: ""0700"" content: str_replace: template: su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells --verbose | grep 'CELL' || nova-manage cell_v2 update_cell --cell_uuid 00000000-0000-0000-0000-000000000000 --transport-url 'none:///' --database_connection='CELL'"" params: CELL: {get_attr: [NovaApiBase, role_data, config_settings, ""nova::cell0_database_connection""]} nova_api_ensure_cell0_database_url: volumes: list_concat: - *nova_api_bootstrap_volumes - - /var/log/containers/nova:/var/log/nova - /var/lib/config-data/puppet-generated/nova/:/var/lib/kolla/config_files/src:ro - /var/lib/docker-config-scripts/nova_api_ensure_cell0_database_url.sh:/nova_api_ensure_cell0_database_url.sh:ro user: root command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_ensure_cell0_database_url.sh"" nova_db_sync: start_order: 4 image: *nova_api_image net: host detach: false", nova_db_sync:,27,1
openstack%2Fcinder~master~I4797724d7b55709f0903d522b0233242b867146d,openstack/cinder,master,I4797724d7b55709f0903d522b0233242b867146d,Fix get_driver_options,MERGED,2019-07-30 10:27:26.000000000,2019-08-05 17:32:10.000000000,2019-08-05 17:32:10.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-07-30 10:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c05ed02c9d6fe6275ac8aadf9eb37cb7b6b5ec66', 'message': 'Fix get_driver_options\n\nAny new Cinder driver we add that doesn\'t have the ""get_driver_options""\nmethod defined will break the driver list generation tools.\n\nThe reason why it breaks them is because this method must be static, yet\nour base driver class doesn\'t define it as static.\n\nThis patch:\n\n- Sets the base method as static to prevent new drivers from breaking\n  the tools.\n\n- Documents the existence of this method for driver developers.\n\n- Adds get_driver_options method for drivers that are missing it.\n\nCloses-Bug: #1838225\nChange-Id: I4797724d7b55709f0903d522b0233242b867146d\n'}, {'number': 2, 'created': '2019-07-30 15:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b4836e5b702fb4588bd43c76b2d42dea1c4f5bd', 'message': 'Fix get_driver_options\n\nAny new Cinder driver we add that doesn\'t have the ""get_driver_options""\nmethod defined will break the driver list generation tools.\n\nThe reason why it breaks them is because this method must be static, yet\nour base driver class doesn\'t define it as static.\n\nThis patch:\n\n- Sets the base method as static to prevent new drivers from breaking\n  the tools.\n\n- Documents the existence of this method for driver developers.\n\n- Adds get_driver_options method for drivers that are missing it.\n\nCloses-Bug: #1838225\nChange-Id: I4797724d7b55709f0903d522b0233242b867146d\n'}, {'number': 3, 'created': '2019-07-31 18:26:51.000000000', 'files': ['doc/source/contributor/drivers.rst', 'cinder/volume/driver.py', 'cinder/volume/drivers/macrosan/config.py', 'cinder/tests/unit/test_interface.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/volume/drivers/infortrend/infortrend_iscsi_cli.py', 'cinder/volume/drivers/infortrend/infortrend_fc_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f0bd74604efe7f21823cba53b0a27f0ccc7ea12', 'message': 'Fix get_driver_options\n\nAny new Cinder driver we add that doesn\'t have the ""get_driver_options""\nmethod defined will break the driver list generation tools.\n\nThe reason why it breaks them is because this method must be static, yet\nour base driver class doesn\'t define it as static.\n\nThis patch:\n\n- Sets the base method as static to prevent new drivers from breaking\n  the tools.\n\n- Documents the existence of this method for driver developers.\n\n- Adds get_driver_options method for drivers that are missing it.\n\n- Fix macrosan_client help message that breaks the doc building process.\n\nCloses-Bug: #1838225\nChange-Id: I4797724d7b55709f0903d522b0233242b867146d\n'}]",2,673467,2f0bd74604efe7f21823cba53b0a27f0ccc7ea12,82,32,3,9535,,,0,"Fix get_driver_options

Any new Cinder driver we add that doesn't have the ""get_driver_options""
method defined will break the driver list generation tools.

The reason why it breaks them is because this method must be static, yet
our base driver class doesn't define it as static.

This patch:

- Sets the base method as static to prevent new drivers from breaking
  the tools.

- Documents the existence of this method for driver developers.

- Adds get_driver_options method for drivers that are missing it.

- Fix macrosan_client help message that breaks the doc building process.

Closes-Bug: #1838225
Change-Id: I4797724d7b55709f0903d522b0233242b867146d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/673467/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/drivers.rst', 'cinder/volume/driver.py', 'cinder/tests/unit/test_interface.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/volume/drivers/infortrend/infortrend_iscsi_cli.py', 'cinder/volume/drivers/infortrend/infortrend_fc_cli.py']",6,c05ed02c9d6fe6275ac8aadf9eb37cb7b6b5ec66,bug/1838225," @staticmethod def get_driver_options(): """"""Return the oslo_config options specific to the driver."""""" return common_cli.infortrend_opts ",,93,0
openstack%2Frequirements~master~I740213f6ea8e4fe468bc3f260e4c8ee8e00261bc,openstack/requirements,master,I740213f6ea8e4fe468bc3f260e4c8ee8e00261bc,update constraint for pbr to new release 5.4.2,MERGED,2019-08-05 09:40:33.000000000,2019-08-05 17:32:08.000000000,2019-08-05 17:32:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 09:40:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dbcc22596e39166584d1fb4d0b934612f1987805', 'message': 'update constraint for pbr to new release 5.4.2\n\nChange-Id: I740213f6ea8e4fe468bc3f260e4c8ee8e00261bc\nmeta:version: 5.4.2\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,674561,dbcc22596e39166584d1fb4d0b934612f1987805,7,2,1,11131,,,0,"update constraint for pbr to new release 5.4.2

Change-Id: I740213f6ea8e4fe468bc3f260e4c8ee8e00261bc
meta:version: 5.4.2
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/674561/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dbcc22596e39166584d1fb4d0b934612f1987805,new-release,pbr===5.4.2,pbr===5.4.1,1,1
openstack%2Fheat~stable%2Fqueens~I8765aceee09ada3086abc704b7f73ce240e21847,openstack/heat,stable/queens,I8765aceee09ada3086abc704b7f73ce240e21847,Use no-op drivers for Octavia in gate,MERGED,2019-08-04 15:14:23.000000000,2019-08-05 17:32:03.000000000,2019-08-05 17:32:03.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-04 15:14:23.000000000', 'files': ['playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'playbooks/get_amphora_tarball.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/58b3325c7d19d570cd286743f9991754278d8c0f', 'message': ""Use no-op drivers for Octavia in gate\n\nContinue to test Heat's interaction with the Octavia API without relying on\nOctavia's interaction with Nova, Neutron &c. which is known to be unstable.\n\nChange-Id: I8765aceee09ada3086abc704b7f73ce240e21847\n(cherry picked from commit 866864f7e5973053edcd9de59caab05790729964\n and 82e30159b59d719b1654c7f138f4e52fe8fee1c6)\n""}]",0,674499,58b3325c7d19d570cd286743f9991754278d8c0f,7,3,1,8833,,,0,"Use no-op drivers for Octavia in gate

Continue to test Heat's interaction with the Octavia API without relying on
Octavia's interaction with Nova, Neutron &c. which is known to be unstable.

Change-Id: I8765aceee09ada3086abc704b7f73ce240e21847
(cherry picked from commit 866864f7e5973053edcd9de59caab05790729964
 and 82e30159b59d719b1654c7f138f4e52fe8fee1c6)
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/674499/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'playbooks/get_amphora_tarball.yaml']",3,58b3325c7d19d570cd286743f9991754278d8c0f,,,"- hosts: primary tasks: - name: Download amphora tarball get_url: url: ""https://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2"" dest: /tmp/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2 ",4,7
openstack%2Ftripleo-quickstart~master~I08269bdceadc2798a4046b6e7d35d5033ad0c81b,openstack/tripleo-quickstart,master,I08269bdceadc2798a4046b6e7d35d5033ad0c81b,Include paunch-services in delorean-current repo,MERGED,2019-08-05 05:25:40.000000000,2019-08-05 17:27:54.000000000,2019-08-05 17:27:54.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 05:25:40.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/Fedora-28/master.yml', 'config/release/tripleo-ci/Fedora-28/stein.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6bd6de44fa99a6d78a6c6def56a83b8cfd589ff4', 'message': 'Include paunch-services in delorean-current repo\n\npaunch-services is subpackage(exists since stein) of\npaunch package, so it should be used from same repo\nas paunch is used.\n\nCloses-Bug: #1838814\nChange-Id: I08269bdceadc2798a4046b6e7d35d5033ad0c81b\n'}]",1,674530,6bd6de44fa99a6d78a6c6def56a83b8cfd589ff4,12,8,1,13861,,,0,"Include paunch-services in delorean-current repo

paunch-services is subpackage(exists since stein) of
paunch package, so it should be used from same repo
as paunch is used.

Closes-Bug: #1838814
Change-Id: I08269bdceadc2798a4046b6e7d35d5033ad0c81b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/674530/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/Fedora-28/master.yml', 'config/release/tripleo-ci/Fedora-28/stein.yml']",5,6bd6de44fa99a6d78a6c6def56a83b8cfd589ff4,bug/1838814, - paunch-services,,5,0
openstack%2Fneutron-fwaas~stable%2Fstein~I9742207e98c07f0a4632631631288d9ada8cf8c7,openstack/neutron-fwaas,stable/stein,I9742207e98c07f0a4632631631288d9ada8cf8c7,netfilter_log: Correctly decode binary type prefix,MERGED,2019-06-11 07:40:23.000000000,2019-08-05 17:26:33.000000000,2019-08-05 17:26:33.000000000,"[{'_account_id': 935}, {'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-11 07:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/80f1a9a174eeb8e2606443ec03d5d5b4aeacfb0f', 'message': ""netfilter_log: Correct decode binary types\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information avaliable in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)\n""}, {'number': 2, 'created': '2019-06-11 07:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/99adb905be3cc72dcc29bc6d46178852d172fe6f', 'message': ""netfilter_log: Correctly decode binary type prefix\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information available in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)\n""}, {'number': 3, 'created': '2019-06-11 13:34:24.000000000', 'files': ['neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2f2c08a8c3fe2f78c6658b0050417c72f01b20be', 'message': ""netfilter_log: Correctly decode binary type prefix\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information available in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)\n""}]",0,664515,2f2c08a8c3fe2f78c6658b0050417c72f01b20be,14,7,3,935,,,0,"netfilter_log: Correctly decode binary type prefix

Under Python 3, firewall log prefixes are incorrectly decoded
resulting in a mismatch between the stringy-fied 'prefix' value
and the information available in the prefixes data.

Use oslo.utils safe_decode function to ensure that data is
correctly decoded.

Change-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7
Closes-Bug: 1832210
(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/15/664515/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py'],1,80f1a9a174eeb8e2606443ec03d5d5b4aeacfb0f,bug/1832210,"from oslo_utils import encodeutils return {'prefix': encodeutils.safe_decode(prefix), 'msg': encodeutils.safe_decode(msg)}"," return {'prefix': str(prefix), 'msg': str(msg)}",3,1
openstack%2Fopenstacksdk~master~I60dec9ba26176efc5b8ad8378b0ef414754a857c,openstack/openstacksdk,master,I60dec9ba26176efc5b8ad8378b0ef414754a857c,Enable ansible module test for keypair to check return data,MERGED,2019-08-02 15:43:52.000000000,2019-08-05 17:24:53.000000000,2019-08-05 17:24:53.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 15:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa6a904a9fae9706801c4263067d3b9401ae74ed', 'message': 'Enable ansible module test for keypair to check return data\n\nWith a change in cloud layer to use proxy/resource layer for keypair\nAnsible got borked and is not capable in resolving data we return it\nback. Add test for it searching for the cause.\n\nChange-Id: I60dec9ba26176efc5b8ad8378b0ef414754a857c\n'}, {'number': 2, 'created': '2019-08-03 07:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/105edd89c92ac4fba2451c5779887020cb3791e2', 'message': 'Enable ansible module test for keypair to check return data\n\nWith a change in cloud layer to use proxy/resource layer for keypair\nAnsible got borked and is not capable in resolving data we return it\nback. Add test for it searching for the cause.\n\nChange-Id: I60dec9ba26176efc5b8ad8378b0ef414754a857c\n'}, {'number': 3, 'created': '2019-08-03 18:59:53.000000000', 'files': ['openstack/tests/ansible/roles/keypair/tasks/main.yml', 'openstack/tests/unit/test_resource.py', 'openstack/resource.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4c0071916dea9031721bcb84cf87c202e269a424', 'message': 'Enable ansible module test for keypair to check return data\n\nWith a change in cloud layer to use proxy/resource layer for keypair\nAnsible got borked and is not capable in resolving data we return it\nback. Add test for it searching for the cause.\nInvestigation resulted in the fact, that when invoked by Ansible native\nimplementation of the Resoure.items was not suddifient under Py3, while\nunder Py2 it is fine. An attempt to integrate all invoked functions into SDK\nfrom Ansible has not brought any success.\n\nChange-Id: I60dec9ba26176efc5b8ad8378b0ef414754a857c\n'}]",0,674333,4c0071916dea9031721bcb84cf87c202e269a424,11,3,3,27900,,,0,"Enable ansible module test for keypair to check return data

With a change in cloud layer to use proxy/resource layer for keypair
Ansible got borked and is not capable in resolving data we return it
back. Add test for it searching for the cause.
Investigation resulted in the fact, that when invoked by Ansible native
implementation of the Resoure.items was not suddifient under Py3, while
under Py2 it is fine. An attempt to integrate all invoked functions into SDK
from Ansible has not brought any success.

Change-Id: I60dec9ba26176efc5b8ad8378b0ef414754a857c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/674333/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/ansible/roles/keypair/tasks/main.yml'],1,fa6a904a9fae9706801c4263067d3b9401ae74ed,, register: keypair - name: Ensure private key is returned assert: that: - keypair.key.private_key is defined and keypair.key.private_key,,7,0
openstack%2Fkolla-cli~master~Id99f39dd41beaa7d997270a44b355fe184d137b5,openstack/kolla-cli,master,Id99f39dd41beaa7d997270a44b355fe184d137b5,Move doc related modules to doc/requirements.txt,MERGED,2019-08-05 16:08:47.000000000,2019-08-05 17:10:58.000000000,2019-08-05 17:10:58.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-08-05 16:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/025b4c9e0b7daf1a2cf63eb73618ee6b56c846b1', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Id99f39dd41beaa7d997270a44b355fe184d137b5\n'}, {'number': 2, 'created': '2019-08-05 16:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/39c1351d15867a1a6930ab888d8817487cdd583c', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Id99f39dd41beaa7d997270a44b355fe184d137b5\n'}, {'number': 3, 'created': '2019-08-05 16:29:52.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ba7c6121017a94a2aabf148aa36610d2e97de4a8', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Id99f39dd41beaa7d997270a44b355fe184d137b5\n'}]",2,674644,ba7c6121017a94a2aabf148aa36610d2e97de4a8,13,3,3,30356,,,0,"Move doc related modules to doc/requirements.txt

Change-Id: Id99f39dd41beaa7d997270a44b355fe184d137b5
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/44/674644/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,025b4c9e0b7daf1a2cf63eb73618ee6b56c846b1,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/test-requirements.txt,9,5
openstack%2Fproject-config~master~I40c4c40292bbb9543cbcbd560731d89610f9a99d,openstack/project-config,master,I40c4c40292bbb9543cbcbd560731d89610f9a99d,New project request: airship/porthole,MERGED,2019-07-31 19:37:53.000000000,2019-08-05 16:48:24.000000000,2019-08-05 16:48:24.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-07-31 19:37:53.000000000', 'files': ['gerrit/acls/airship/porthole.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d3590fcc5921555fa9e6858649bbad7ad661be1f', 'message': 'New project request: airship/porthole\n\nThis moves the Porthole project, which has been incubating in\ngithub, into the Airship namespace.  Porthole is a project that\nprovides a collection of utility containers which can be used\nto access various Airship and OpenStack-Helm component CLIs\n(e.g. etcdctl, psql...), and can be configured for enterprise\nuse cases that require fine-grained RBAC controls.\n\nChange-Id: I40c4c40292bbb9543cbcbd560731d89610f9a99d\n'}]",0,673898,d3590fcc5921555fa9e6858649bbad7ad661be1f,11,6,1,22477,,,0,"New project request: airship/porthole

This moves the Porthole project, which has been incubating in
github, into the Airship namespace.  Porthole is a project that
provides a collection of utility containers which can be used
to access various Airship and OpenStack-Helm component CLIs
(e.g. etcdctl, psql...), and can be configured for enterprise
use cases that require fine-grained RBAC controls.

Change-Id: I40c4c40292bbb9543cbcbd560731d89610f9a99d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/673898/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/airship/porthole.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,d3590fcc5921555fa9e6858649bbad7ad661be1f,new-project, - airship/porthole,,23,0
openstack%2Fproject-config~master~If4d7048aee18f74e81d1455334028fc65a67087f,openstack/project-config,master,If4d7048aee18f74e81d1455334028fc65a67087f,Allow registered users to vote for backport candidates,MERGED,2019-07-31 08:57:33.000000000,2019-08-05 16:35:45.000000000,2019-08-05 16:35:45.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 6547}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 08:57:33.000000000', 'files': ['gerrit/acls/openstack/octavia-dashboard.config', 'gerrit/acls/openstack/octavia.config', 'gerrit/acls/openstack/python-octaviaclient.config', 'gerrit/acls/openstack/octavia-lib.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2707fa6e0b252649f2659f72d280ad069bfe29dc', 'message': 'Allow registered users to vote for backport candidates\n\nRegistered users do not have ACL rights to -1..+1 on the\nBackport-Candidate label. This patch grants them voting rights.\n\nChange-Id: If4d7048aee18f74e81d1455334028fc65a67087f\n'}]",0,673764,2707fa6e0b252649f2659f72d280ad069bfe29dc,12,7,1,6469,,,0,"Allow registered users to vote for backport candidates

Registered users do not have ACL rights to -1..+1 on the
Backport-Candidate label. This patch grants them voting rights.

Change-Id: If4d7048aee18f74e81d1455334028fc65a67087f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/673764/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/octavia-dashboard.config', 'gerrit/acls/openstack/octavia.config', 'gerrit/acls/openstack/python-octaviaclient.config', 'gerrit/acls/openstack/octavia-lib.config']",4,2707fa6e0b252649f2659f72d280ad069bfe29dc,,label-Backport-Candidate = -1..+1 group Registered Users,,4,0
openstack%2Fswift~master~Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537,openstack/swift,master,Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537,Give ECAppIter greenthreads a chance to wrap up,MERGED,2019-06-17 22:32:32.000000000,2019-08-05 16:31:40.000000000,2019-08-05 16:30:22.000000000,"[{'_account_id': 7233}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 22:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9dd4eef5b53e27e93478acb5896f4954636ad1af', 'message': 'Give ECAppIter greenthreads a chance to wrap up\n\nOtherwise, we can hit a ""generator already executing"" error in\ntest/functional/test_slo.py:TestSlo.test_slo_multi_ranged_get\n\nChange-Id: Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537\n'}, {'number': 2, 'created': '2019-06-18 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1f47d0011b5cbe95a049095915b23287c7ff1061', 'message': 'Give ECAppIter greenthreads a chance to wrap up\n\nOtherwise, we can hit a ""generator already executing"" error in\ntest/functional/test_slo.py:TestSlo.test_slo_multi_ranged_get\n\nChange-Id: Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537\n'}, {'number': 3, 'created': '2019-06-27 18:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2eb5951e6f8119d9b8d21866aa5fe68a56daf724', 'message': 'Give ECAppIter greenthreads a chance to wrap up\n\nOtherwise, we can hit a ""generator already executing"" error in\ntest/functional/test_slo.py:TestSlo.test_slo_multi_ranged_get\n\nChange-Id: Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537\n'}, {'number': 4, 'created': '2019-07-18 00:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d7342a760a0a1391e4699267e5c62df0f25e4d6f', 'message': 'Give ECAppIter greenthreads a chance to wrap up\n\nOtherwise, we can hit a ""generator already executing"" error in\ntest/functional/test_slo.py:TestSlo.test_slo_multi_ranged_get\n\nAlso, set a *slightly* newer lower-bound for greenlet (from 2011 instead\nof 2010) so the sleep() doesn\'t cause us to lose exception state.\n\nChange-Id: Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537\n'}, {'number': 5, 'created': '2019-07-18 01:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8ba741e9f42b47776eac61f39ddb914b51caac4e', 'message': 'Give ECAppIter greenthreads a chance to wrap up\n\nOtherwise, we can hit a ""generator already executing"" error in\ntest/functional/test_slo.py:TestSlo.test_slo_multi_ranged_get\n\nAlso, set a *slightly* newer lower-bound for greenlet (from 2011 instead\nof 2010) so the sleep() doesn\'t cause us to lose exception state.\n\nChange-Id: Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537\n'}, {'number': 6, 'created': '2019-07-29 19:11:48.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c19d09f60b2d501698b741a123cc6b8203969016', 'message': 'Give ECAppIter greenthreads a chance to wrap up\n\nOtherwise, we can hit a ""generator already executing"" error in\ntest/functional/test_slo.py:TestSlo.test_slo_multi_ranged_get\n\nAlso, set a *slightly* newer lower-bound for greenlet (from 2011 instead\nof 2010) so the sleep() doesn\'t cause us to lose exception state.\n\nChange-Id: Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537\n'}]",1,665773,c19d09f60b2d501698b741a123cc6b8203969016,35,4,6,15343,,,0,"Give ECAppIter greenthreads a chance to wrap up

Otherwise, we can hit a ""generator already executing"" error in
test/functional/test_slo.py:TestSlo.test_slo_multi_ranged_get

Also, set a *slightly* newer lower-bound for greenlet (from 2011 instead
of 2010) so the sleep() doesn't cause us to lose exception state.

Change-Id: Id458fc0a43fd71aab9f6edbacc1f0b370c9f7537
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/665773/6 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/obj.py'],1,9dd4eef5b53e27e93478acb5896f4954636ad1af,py3-eventlet,"from eventlet import GreenPile, sleep sleep() # Give the per-frag threads a chance to clean up",from eventlet import GreenPile,2,1
openstack%2Fcinderlib~master~I717865505bd5802befcafbac6963ea5ddabc0eeb,openstack/cinderlib,master,I717865505bd5802befcafbac6963ea5ddabc0eeb,[DOC]:Correct variable name kv,MERGED,2019-07-29 10:19:52.000000000,2019-08-05 16:30:24.000000000,2019-08-05 16:30:24.000000000,"[{'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 10:19:52.000000000', 'files': ['doc/source/topics/connections.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/0b27b64e35106a9c0929ed3c7e41ce61a09f0973', 'message': '[DOC]:Correct variable name kv\n\nChange-Id: I717865505bd5802befcafbac6963ea5ddabc0eeb\n'}]",0,673262,0b27b64e35106a9c0929ed3c7e41ce61a09f0973,6,2,1,27615,,,0,"[DOC]:Correct variable name kv

Change-Id: I717865505bd5802befcafbac6963ea5ddabc0eeb
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/62/673262/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/topics/connections.rst'],1,0b27b64e35106a9c0929ed3c7e41ce61a09f0973,, if not kv:, if not kw:,1,1
openstack%2Fproject-config~master~I425a346b6afd31a7a6e3a07f7ec8e06c1a8d6f05,openstack/project-config,master,I425a346b6afd31a7a6e3a07f7ec8e06c1a8d6f05,Fix ACL for compute-hyperv,MERGED,2019-08-01 09:47:09.000000000,2019-08-05 16:28:39.000000000,2019-08-05 16:28:38.000000000,"[{'_account_id': 3185}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8213}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 09:47:09.000000000', 'files': ['gerrit/acls/openstack/compute-hyperv.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/abc75b7218565e780d1fcd69f5d728afc957dda7', 'message': 'Fix ACL for compute-hyperv\n\ncompute-hyperv was recently added as an official deliverable.\nIts ACL file still reflects the previous situation, where the\nrelease management team would not be in charge of tagging\nreleases. This fixes the situation by removing the extra rights,\nas per releasemanagement team policy.\n\nChange-Id: I425a346b6afd31a7a6e3a07f7ec8e06c1a8d6f05\n'}]",0,673988,abc75b7218565e780d1fcd69f5d728afc957dda7,8,6,1,308,,,0,"Fix ACL for compute-hyperv

compute-hyperv was recently added as an official deliverable.
Its ACL file still reflects the previous situation, where the
release management team would not be in charge of tagging
releases. This fixes the situation by removing the extra rights,
as per releasemanagement team policy.

Change-Id: I425a346b6afd31a7a6e3a07f7ec8e06c1a8d6f05
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/673988/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/compute-hyperv.config'],1,abc75b7218565e780d1fcd69f5d728afc957dda7,acl-updates,,"create = group compute-hyperv-core[access ""refs/tags/*""] pushSignedTag = group compute-hyperv-release ",0,4
openstack%2Fcharm-ceph-rbd-mirror~master~Iebf54bccbb0cbb802590697f46a0f00a5db94de9,openstack/charm-ceph-rbd-mirror,master,Iebf54bccbb0cbb802590697f46a0f00a5db94de9,rewrite README file,MERGED,2019-08-03 03:34:19.000000000,2019-08-05 16:26:48.000000000,2019-08-05 16:26:47.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 03:34:19.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/eeb06e616f1858f32aef0fad03156bad26b71ca8', 'message': 'rewrite README file\n\nChange-Id: Iebf54bccbb0cbb802590697f46a0f00a5db94de9\n'}]",0,674436,eeb06e616f1858f32aef0fad03156bad26b71ca8,17,3,1,30561,,,0,"rewrite README file

Change-Id: Iebf54bccbb0cbb802590697f46a0f00a5db94de9
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/36/674436/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,eeb06e616f1858f32aef0fad03156bad26b71ca8,rewrite-overview-and-deployment-section-of-readme,"The `ceph-rbd-mirror` charm deploys the Ceph `rbd-mirror` daemon and helps automate remote creation and configuration of mirroring for Ceph pools used for hosting RBD images. Actions for operator driven failover and fallback of the RBD image pools are also provided. > **Note**: The `ceph-rbd-mirror` charm addresses only one specific element in datacentre redundancy. Refer to [Ceph RADOS Gateway Multisite Replication][ceph-multisite-replication] and other work to arrive at a complete solution. For more information on charms and RBD mirroring see the [Ceph RBD Mirroring][ceph-rbd-mirroring] appendix in the [OpenStack Charms Deployment Guide][charms-deploy-guide]. # Functionality The charm has the following major features: - Support for a maximum of two Ceph clusters. The clusters may reside within a single model or be contained within two separate models. - Specifically written for two-way replication. This provides the ability to fail over and fall back to/from a single secondary site. Ceph does have support for mirroring to any number of clusters but the charm does not support this. - Automatically creates and configures (for mirroring) pools in the remote cluster based on any pools in the local cluster that are labelled with the 'rbd' tag. - Mirroring of whole pools only. Ceph itself has support for the mirroring of individual images but the charm does not support this. - Network space aware. The mirror daemon can be informed about network configuration by binding the `public` and `cluster` endpoints. The daemon will use the network associated with the `cluster` endpoint for mirroring traffic. Other notes on RBD mirroring: - Supports multiple running instances of the mirror daemon in each cluster. Doing so allows for the dynamic re-distribution of the mirroring load amongst the daemons. This addresses both high availability and performance concerns. Leverage this feature by scaling out the `ceph-rbd-mirror` application (i.e. add more units). - Requires that every RBD image within each pool is created with the `journaling` and `exclusive-lock` image features enabled. The charm enables these features by default and the `ceph-mon` charm will announce them over the `client` relation when it has units connected to its `rbd-mirror` endpoint. - The feature first appeared in Ceph `v.12.2` (Luminous).It is assumed that the two Ceph clusters have been set up (i.e. `ceph-mon` and `ceph-osd` charms are deployed and relations added). > **Note**: Minimal two-cluster test bundles can be found in the `src/tests/bundles` subdirectory where both the one-model and two-model scenarios are featured. ## Using one model Deploy the charm for each cluster, giving each application a name to distinguish one from the other (site 'a' and site 'b'): juju deploy ceph-rbd-mirror ceph-rbd-mirror-a juju deploy ceph-rbd-mirror ceph-rbd-mirror-b Add a relation between the 'ceph-mon' of site 'a' and both the local (site 'a') and remote (site 'b') units of 'ceph-rbd-mirror': juju add-relation ceph-mon-a ceph-rbd-mirror-a:ceph-local juju add-relation ceph-mon-a ceph-rbd-mirror-b:ceph-remote Perform the analogous procedure for the 'ceph-mon' of site 'b': juju add-relation ceph-mon-b ceph-rbd-mirror-b:ceph-local juju add-relation ceph-mon-b ceph-rbd-mirror-a:ceph-remote ## Using two models In model 'site-a', deploy the charm and add the local relation: juju deploy ceph-rbd-mirror ceph-rbd-mirror-a juju add-relation ceph-mon-a ceph-rbd-mirror-a:ceph-local To create the inter-site relation one must export one of the application endpoints from the model by means of an ""offer"". Here, we make an offer for 'ceph-rbd-mirror': juju offer ceph-rbd-mirror-a:ceph-remote Application ""ceph-rbd-mirror-a"" endpoints [ceph-remote] available at ""admin/site-a.ceph-rbd-mirror-a"" Perform the analogous procedure in the other model ('site-b'): juju deploy ceph-rbd-mirror ceph-rbd-mirror-b juju add-relation ceph-mon-b ceph-rbd-mirror-b:ceph-local juju offer ceph-rbd-mirror-b:ceph-remote application ""ceph-rbd-mirror-b"" endpoints [ceph-remote] available at ""admin/site-b.ceph-rbd-mirror-b"" Add the *cross model relations* by referring to the offer URLs (included in the output above) as if they were application endpoints in each respective model. For site 'a': juju add-relation ceph-mon-a admin/site-b.ceph-rbd-mirror-b For site 'b': juju add-relation ceph-mon-b admin/site-a.ceph-rbd-mirror-aUsage procedures covered here touch upon pool creation, failover & fallback, and recovery. In all cases we presuppose that each cluster resides within a separate model. As of the 19.04 OpenStack Charms release, due to Ceph Luminous, any pool associated with the RBD application during its creation will automatically be labelled with the 'rbd' tag. The following occurs together: Pool creation ==> RBD application-association ==> 'rbd' tag RBD pools can be created by either a supporting charm (through the Ceph broker protocol) or manually by the operator: 1. A charm-created pool (e.g. via `glance`) will automatically be detected and acted upon (i.e. a remote pool will be set up). 1. A manually-created pool, whether done via the `ceph-mon` application or through Ceph directly, will require an action to be run on the `ceph-rbd-mirror` application leader in order for the remote pool to come online. For example, a pool is created manually in site 'a' via `ceph-mon` and then `ceph-rbd-mirror` (of site 'a') is informed about it: juju run-action -m site-a ceph-mon-a/leader --wait create-pool name=mypool app-name=rbd juju run-action -m site-a ceph-rbd-mirror-a/leader --wait refresh-pools ## Failover and fallback To manage failover and fallback, the `demote` and `promote` actions are applied to the `ceph-rbd-mirror` application leader. Here, we fail over from site 'a' to site 'b' by demoting site 'a' and promoting site 'b'. The rest of the commands are status checks: juju run-action -m site-a ceph-rbd-mirror-a/leader --wait status verbose=True juju run-action -m site-b ceph-rbd-mirror-b/leader --wait status verbose=True juju run-action -m site-a ceph-rbd-mirror-a/leader --wait demote juju run-action -m site-a ceph-rbd-mirror-a/leader --wait status verbose=True juju run-action -m site-b ceph-rbd-mirror-b/leader --wait status verbose=True juju run-action -m site-b ceph-rbd-mirror-b/leader --wait promote To fall back to site 'a': juju run-action -m site-b ceph-rbd-mirror-b/leader --wait demote juju run-action -m site-a ceph-rbd-mirror-a/leader --wait promote > **Note**: When using Ceph Luminous, the mirror status information may not be accurate. Specifically, the `entries_behind_master` counter may never get to `0` even though the image has been fully synchronised.It is possible that an abrupt shutdown and/or an interruption to communication channels may lead to a ""split-brain"" condition. This may cause the mirroring daemon in each cluster to claim to be the primary. In such cases, the operator must make a call as to which daemon is correct. Generally speaking, this means deciding which cluster has the most recent data. Elect a primary by applying the `demote` and `promote` actions to the appropriate `ceph-rbd-mirror` leader. After doing so, the `resync-pools` action must be run on the secondary cluster leader. The `promote` action may require a force option. Here, we make site 'a' be the primary by demoting site 'b' and promoting site 'a':> **Note**: When using Ceph Luminous, the mirror state information will not be accurate after recovering from unclean shutdown. Regardless of the output of the status information, you will be able to write to images after a forced promote.Please report bugs for the `ceph-rbd-mirror` charm on [Launchpad][charm-ceph-rbd-mirror-bugs]. For general questions, refer to the [OpenStack Charm Guide][charms-guide]. <!-- LINKS --> [ceph-multisite-replication]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-rgw-multisite.html [ceph-rbd-mirroring]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ceph-rbd-mirror.html [charms-deploy-guide]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/index.html [charm-ceph-rbd-mirror-bugs]: https://bugs.launchpad.net/charm-ceph-rbd-mirror/+filebug [charms-guide]: https://docs.openstack.org/charm-guide/latest/","The ``ceph-rbd-mirror`` charm supports deployment of the Ceph RBD Mirror daemon and helps automate remote creation and configuration of mirroring for Ceph pools used to host RBD images. Actions for operator driven failover and fallback for the pools used for RBD images is also provided. Data center redundancy is a large topic and this work addresses a very specific piece in the puzzle related to Ceph RBD images. You need to combine this with `Ceph RADOS Gateway Multisite replication`_ and other work to get a complete solution. .. _Ceph RADOS Gateway Multisite replication: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-rgw-multisite.html This is supported both for multiple distinct Ceph clusters within a single Juju model and between different models with help from cross-model relations. When the charm is related to a local and a remote Ceph cluster it will automatically create pools eligible for mirroring on the remote cluster and enable mirroring. Eligible pools are selected on the basis of Ceph pool tagging and all pools with the application ``rbd`` enabled on them will be selected. As of the 19.04 charm release charms will automatically have newly created pools for use with RBD tagged with the ``rbd`` tag. Only mirroring of whole pools is supported by the charm. A prerequisite for RBD Mirroring is that every RBD image within each pool is created with the ``journaling`` and ``exclusive-lock`` image features enabled. To support this the ``ceph-mon`` charm will announce these image features over the ``client`` relation when it has units connected to its ``rbd-mirror`` endpoint. This will ensure that images created in the deployment get the appropriate features to support mirroring. RBD Mirroring is only supported when deployed with Ceph Luminous or later. The Ceph RBD Mirror feature supports running multiple instances of the daemon. Having multiple daemons will cause the mirroring load to automatically be (re-)distributed between the daemons. This addresses both High Availability and performance concerns. You can make use of this feature by increasing the number of ``ceph-rbd-mirror`` units in your deployment. The charm is written for Two-way Replication, which gives you the ability to fail over and fall back to/from a secondary site. Ceph does have support for mirroring to any number of slave clusters but this is not implemented nor supported by the charm. The charm is aware of network spaces and you will be able to tell the RBD Mirror daemon about network configuration by binding the ``public`` and ``cluster`` endpoints. The RBD Mirror daemon will use the network associated with the ``cluster`` endpoint for mirroring traffic when available. For more information on charms and RBD Mirroring see the [Ceph RBD Mirroring][ceph-rbd-mirroring] section of the [OpenStack Charms Deployment Guide][charms-deploy-guide]. [ceph-rbd-mirroring]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ceph-rbd-mirror.html [charms-deploy-guide]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/index.html Example bundles with a minimal test configuration can be found in the ``tests/bundles`` subdirectory of the ``ceph-rbd-mirror`` charm. Both examples of two Ceph clusters deployed in one model and Ceph clusters deployed in separate models are available. To make use of cross model relations you must first set up an offer to export a application endpoint from a model. In this example we use the model names ``site-a`` and ``site-b``. juju offer ceph-mon:rbd-mirror site-a-rbd-mirror juju offer ceph-mon:rbd-mirror site-b-rbd-mirror After creating the offers we can import the remote offer to a model and add a relation between applications just like we normally would do in a single-model deployment. juju consume admin/site-b.site-b-rbd-mirror juju add-relation ceph-rbd-mirror:ceph-remote site-b-rbd-mirror juju consume admin/site-a.site-a-rbd-mirror juju add-relation ceph-rbd-mirror:ceph-remote site-a-rbd-mirrorPools created by other charms through the Ceph broker protocol will automatically be detected and acted upon. Pools tagged with the ``rbd`` application will be selected for mirroring. If you manually create a pool, either through actions on the ``ceph-mon`` charm or by talking to Ceph directly, you must inform the ``ceph-rbd-mirror`` charm about them. This is accomplished by executing the ``refresh-pools`` action. juju run-action -m site-a ceph-mon/leader --wait create-pool name=mypool \ app-name=rbd juju run-action -m site-a ceph-rbd-mirror/leader --wait refresh-pools ## Failover and Fallback Controlled failover and fallback juju run-action -m site-a ceph-rbd-mirror/leader --wait status verbose=True juju run-action -m site-b ceph-rbd-mirror/leader --wait status verbose=True juju run-action -m site-a ceph-rbd-mirror/leader --wait demote juju run-action -m site-a ceph-rbd-mirror/leader --wait status verbose=True juju run-action -m site-b ceph-rbd-mirror/leader --wait status verbose=True juju run-action -m site-b ceph-rbd-mirror/leader --wait promote __NOTE__ When using Ceph Luminous, the mirror status information may not be accurate. Specifically the ``entries_behind_master`` counter may never get to ``0`` even though the image is fully synchronized.There exist failure scenarios where abrupt shutdown and/or interruptions to communication may lead to a split-brain situation where the RBD Mirroring process in both Ceph clusters claim to be the primary. In such a situation the operator must decide which cluster has the most recent data and should be elected primary by using the ``demote`` and ``promote`` (optionally with force parameter) actions. After making this decision the secondary cluster must be resynced to track the promoted master, this is done by running the ``resync-pools`` action on the non-master cluster.__NOTE__ When using Ceph Luminous, the mirror state information will not be accurate after recovering from unclean shutdown. Regardless of the output of the status information you will be able to write to images after a forced promote.Please report bugs on [Launchpad](https://bugs.launchpad.net/charm-ceph-rbd-mirror/+filebug). For general questions please refer to the OpenStack [Charm Guide](https://docs.openstack.org/charm-guide/latest/).",155,104
openstack%2Ftripleo-ansible~master~Ib13f367b23126df35902a260ab25f99adc898245,openstack/tripleo-ansible,master,Ib13f367b23126df35902a260ab25f99adc898245,Improve local_ceph_ansible_fetch_directory_backup error msg,MERGED,2019-07-31 21:45:44.000000000,2019-08-05 16:24:59.000000000,2019-08-05 16:24:59.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-31 21:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2c0284bc2f2aa811fac9d3925c2d3d64780dccb', 'message': 'Improve local_ceph_ansible_fetch_directory_backup error msg\n\nImprove error handling if deployer sets the variable for\nlocal_ceph_ansible_fetch_directory_backup to a directory\nwhich ansible cannot write to.\n\nInstead of failing the deployment with a message that the\nobject has no attribute stat, fail with a message explaining\nwhat happened and how to fix.\n\nChange-Id: Ib13f367b23126df35902a260ab25f99adc898245\n'}, {'number': 2, 'created': '2019-07-31 21:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc6629a02000231ef429f5dc652b8bd85b59263b', 'message': 'Improve local_ceph_ansible_fetch_directory_backup error msg\n\nImprove error handling if deployer sets the variable for\nlocal_ceph_ansible_fetch_directory_backup to a directory\nwhich ansible cannot write to.\n\nInstead of failing the deployment with a message that the\nobject has no attribute stat, fail with a message explaining\nwhat happened and how to fix.\n\nChange-Id: Ib13f367b23126df35902a260ab25f99adc898245\n'}, {'number': 3, 'created': '2019-08-01 13:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4ececc3b9228cd44abf9e5738930d96f4c88174', 'message': 'Improve local_ceph_ansible_fetch_directory_backup error msg\n\nImprove error handling if deployer sets the variable for\nlocal_ceph_ansible_fetch_directory_backup to a directory\nwhich ansible cannot write to.\n\nInstead of failing the deployment with a message that the\nobject has no attribute stat, fail with a message explaining\nwhat happened and how to fix.\n\nChange-Id: Ib13f367b23126df35902a260ab25f99adc898245\n'}, {'number': 4, 'created': '2019-08-01 13:01:19.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3d2d6393ea8b5762d40c3638087cebf05a9e3017', 'message': 'Improve local_ceph_ansible_fetch_directory_backup error msg\n\nImprove error handling if deployer sets the variable for\nlocal_ceph_ansible_fetch_directory_backup to a directory\nwhich ansible cannot write to.\n\nInstead of failing the deployment with a message that the\nobject has no attribute stat, fail with a message explaining\nwhat happened and how to fix.\n\nChange-Id: Ib13f367b23126df35902a260ab25f99adc898245\n'}]",4,673920,3d2d6393ea8b5762d40c3638087cebf05a9e3017,24,6,4,18002,,,0,"Improve local_ceph_ansible_fetch_directory_backup error msg

Improve error handling if deployer sets the variable for
local_ceph_ansible_fetch_directory_backup to a directory
which ansible cannot write to.

Instead of failing the deployment with a message that the
object has no attribute stat, fail with a message explaining
what happened and how to fix.

Change-Id: Ib13f367b23126df35902a260ab25f99adc898245
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/673920/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/create.yml'],1,f2c0284bc2f2aa811fac9d3925c2d3d64780dccb,no_stat_fetch_dir," - name: fail if ansible does not have necessary permissions on local_backup_directory fail: msg: >- The user running Ansible needs to be able to read and write to the '{{ local_ceph_ansible_fetch_directory_backup }}' directory. Please update LocalCephAnsibleFetchDirectoryBackup in Heat or local_ceph_ansible_fetch_directory_backup in Ansible to a directory the user '{{ lookup('env','USER') }}' can read and write to. when: (local_backup_directory.msg is defined and local_backup_directory.msg == ""Permission denied"") or (local_backup_directory.stat is defined and local_backup_directory.stat.exists and not local_backup_directory.stat.writeable) when: - local_backup_directory.stat is defined - not local_backup_directory.stat.exists when: - local_backup_file.stat is defined - local_backup_file.stat.exists", when: not local_backup_directory.stat.exists when: local_backup_file.stat.exists,21,2
openstack%2Fpython-heatclient~master~I4428097140e0391a77679f5c69e00966f249efd7,openstack/python-heatclient,master,I4428097140e0391a77679f5c69e00966f249efd7,Update stack_id clearify for heat client functions,MERGED,2019-08-02 16:49:05.000000000,2019-08-05 16:16:26.000000000,2019-08-05 16:16:25.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 16:49:05.000000000', 'files': ['heatclient/v1/stacks.py', 'heatclient/v1/resources.py', 'heatclient/v1/events.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/82c842f3d95583a54f3fb919cbc95cbb0e60a62f', 'message': ""Update stack_id clearify for heat client functions\n\nmost of our client major function require stack_id. We should\nprovide more specific information (at lest in function description)\nto clearify that it's allowed to feed in stack name to `stack_id`\ntoo. For example, both `heat.stacks.get($Stack_UUID)` and\n`heat.stacks.get($Stack_Name)` works.\n\nChange-Id: I4428097140e0391a77679f5c69e00966f249efd7\n""}]",0,674352,82c842f3d95583a54f3fb919cbc95cbb0e60a62f,6,2,1,12404,,,0,"Update stack_id clearify for heat client functions

most of our client major function require stack_id. We should
provide more specific information (at lest in function description)
to clearify that it's allowed to feed in stack name to `stack_id`
too. For example, both `heat.stacks.get($Stack_UUID)` and
`heat.stacks.get($Stack_Name)` works.

Change-Id: I4428097140e0391a77679f5c69e00966f249efd7
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/52/674352/1 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/v1/stacks.py', 'heatclient/v1/resources.py', 'heatclient/v1/events.py']",3,82c842f3d95583a54f3fb919cbc95cbb0e60a62f,update-heat-client-doc, :param stack_id: ID or name of stack the events belong to :param stack_id: ID or name of stack containing the event, :param stack_id: ID of stack the events belong to :param stack_id: ID of stack containing the event,34,16
openstack%2Fcinder~master~Id5cb6f0adb62a5120b8dd2676beb52c9265cc1ad,openstack/cinder,master,Id5cb6f0adb62a5120b8dd2676beb52c9265cc1ad,Mark Huawei Drivers Unsupported,ABANDONED,2019-06-03 20:09:08.000000000,2019-08-05 16:06:38.000000000,,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17499}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29217}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-03 20:09:08.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/huawei/common.py', 'releasenotes/notes/unsupport-huawei-e2d49ce5b666d611.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae7a7966d1f6052f4b94139df40e964a86d13cbe', 'message': ""Mark Huawei Drivers Unsupported\n\nThe 3rd Party CI for Huawei's storage systems has not\nreported in 60 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nTrain release and should be removed in the 'U' release if\nthe problems are not resolved.\n\nChange-Id: Id5cb6f0adb62a5120b8dd2676beb52c9265cc1ad\n""}]",0,662848,ae7a7966d1f6052f4b94139df40e964a86d13cbe,132,41,1,7198,,,0,"Mark Huawei Drivers Unsupported

The 3rd Party CI for Huawei's storage systems has not
reported in 60 days.  This does not meet the requirements
for Cinder's 3rd Party CI requirements.

As a result the driver is being marked unsupported in the
Train release and should be removed in the 'U' release if
the problems are not resolved.

Change-Id: Id5cb6f0adb62a5120b8dd2676beb52c9265cc1ad
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/662848/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/huawei/common.py', 'releasenotes/notes/unsupport-huawei-e2d49ce5b666d611.yaml']",3,ae7a7966d1f6052f4b94139df40e964a86d13cbe,ci_unsupported,"--- upgrade: - | The driver for Huawei's Storage Systems has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. deprecations: - | The driver for Huawei's Storage Systems has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. If its support status does not change, it will be removed in the 'U' development cycle. ",,25,8
openstack%2Fcinder~master~Ia8c52b35cdb3be5b1947ab1ad3306b78140f4a96,openstack/cinder,master,Ia8c52b35cdb3be5b1947ab1ad3306b78140f4a96,Mark Huawei FusionStorage Driver Unsupported,ABANDONED,2019-06-03 19:32:34.000000000,2019-08-05 16:06:14.000000000,,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25257}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29217}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-03 19:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a496040df256a40d8a0a4641a9f4048bc6541f7d', 'message': ""Mark Huawei FusionStorage Driver Unsupported\n\nThe Huawei FusionStorage  Driver 3rd Pary CI hasn't\nreported in 60 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nTrain release and should be removed in the 'U' release if\nthe problems are not resolved.\n\nChange-Id: Ia8c52b35cdb3be5b1947ab1ad3306b78140f4a96\n""}, {'number': 2, 'created': '2019-06-04 03:14:26.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/unsupport-huawei-fusionstorage-2bb8cc51d7044ab0.yaml', 'cinder/volume/drivers/fusionstorage/dsware.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0a29e4585f9859ba1a131d641bfebc9743def3a', 'message': ""Mark Huawei FusionStorage Driver Unsupported\n\nThe Huawei FusionStorage  Driver 3rd Party CI hasn't\nreported in 60 days.  This does not meet the requirements\nfor Cinder's 3rd Party CI requirements.\n\nAs a result the driver is being marked unsupported in the\nTrain release and should be removed in the 'U' release if\nthe problems are not resolved.\n\nChange-Id: Ia8c52b35cdb3be5b1947ab1ad3306b78140f4a96\n""}]",0,662837,e0a29e4585f9859ba1a131d641bfebc9743def3a,116,38,2,7198,,,0,"Mark Huawei FusionStorage Driver Unsupported

The Huawei FusionStorage  Driver 3rd Party CI hasn't
reported in 60 days.  This does not meet the requirements
for Cinder's 3rd Party CI requirements.

As a result the driver is being marked unsupported in the
Train release and should be removed in the 'U' release if
the problems are not resolved.

Change-Id: Ia8c52b35cdb3be5b1947ab1ad3306b78140f4a96
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/662837/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/unsupport-huawei-fusionstorage-2bb8cc51d7044ab0.yaml', 'cinder/volume/drivers/fusionstorage/dsware.py']",3,a496040df256a40d8a0a4641a9f4048bc6541f7d,ci_unsupported, # TODO(jsbryant) Remove driver in the 'U' release if CI is not fixed. SUPPORTED = False ,,18,1
openstack%2Fpuppet-nova~master~I00021bac80d09258bf1c1c040adb835b4294df19,openstack/puppet-nova,master,I00021bac80d09258bf1c1c040adb835b4294df19,Customize roles assigned to nova user,MERGED,2019-06-24 23:57:11.000000000,2019-08-05 15:55:30.000000000,2019-08-05 15:55:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 23:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1a819b87a4a12672dec7dafa1f6c77d331511b78', 'message': 'Customized roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 2, 'created': '2019-06-24 23:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/752717b09df07a7125ef0c7bb1333b06a4ce07ea', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 3, 'created': '2019-06-25 00:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1806853ef058fc894c12c802ab3c5575a1e0985d', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 4, 'created': '2019-06-25 00:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4a44d9ce9f276b489c9656eafc67ea8556e9db4e', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 5, 'created': '2019-06-25 01:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c2e9f8003eafcd21f54e82bbe36abc2a0468dba2', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 6, 'created': '2019-06-25 01:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cb589f80c06a4128d0832fc3cc872cae44530e1d', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 7, 'created': '2019-07-12 01:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cf574eb0d8838e4f98a9eecc1d51a8bd43a90a75', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 8, 'created': '2019-07-16 10:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4f1a0bf5070c7ae5bc8f2396f6f77cd63cbca9e4', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 9, 'created': '2019-07-16 12:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6426a87201ee4790748f4b480382318c7d634d6b', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 10, 'created': '2019-08-02 00:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9b1bc8313ff90038d9b0b9cfbd26ce26f0ae3342', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 11, 'created': '2019-08-02 00:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/28017ece88befee4bcbfd36ef258578131e5af36', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}, {'number': 12, 'created': '2019-08-02 01:58:57.000000000', 'files': ['releasenotes/notes/keystone_authtoken-service_token_roles-12dbba5484efb7c6.yaml', 'spec/classes/nova_keystone_auth_spec.rb', 'spec/classes/nova_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d6d55616a0c88656939ee38b517afa8f4783545a', 'message': 'Customize roles assigned to nova user\n\nThis patch introduces a new hieradata nova::keystone::auth::roles,\nto configure customized role assigned to nova user.\n\nThis is required to configure service token feature, as it requires\nspecial role is assigned to the user who uses the feature.\n\nChange-Id: I00021bac80d09258bf1c1c040adb835b4294df19\n'}]",0,667251,d6d55616a0c88656939ee38b517afa8f4783545a,32,5,12,9816,,,0,"Customize roles assigned to nova user

This patch introduces a new hieradata nova::keystone::auth::roles,
to configure customized role assigned to nova user.

This is required to configure service token feature, as it requires
special role is assigned to the user who uses the feature.

Change-Id: I00021bac80d09258bf1c1c040adb835b4294df19
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/51/667251/9 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_keystone_auth_spec.rb', 'manifests/keystone/auth.pp']",2,1a819b87a4a12672dec7dafa1f6c77d331511b78,customized-user-role,"# [*roles*] # List of roles; # string; optional: default to ['admin'] # $roles = ['admin'],",,18,0
openstack%2Foslo.messaging~master~I9e86d43ad934c1f82dc3dcf93d317538f9d2568e,openstack/oslo.messaging,master,I9e86d43ad934c1f82dc3dcf93d317538f9d2568e,Support kafka message compression,MERGED,2019-05-28 08:21:18.000000000,2019-08-05 15:53:35.000000000,2019-08-05 15:53:34.000000000,"[{'_account_id': 15334}, {'_account_id': 20100}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29364}]","[{'number': 1, 'created': '2019-05-28 08:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/fab5dcb8c1c623cb3f98322c1ebe1e18ef30186b', 'message': 'Support kafka message compression\n\nWhen the message is large, in order to improve the efficiency of\nkafka, we need to compress the message before send it, so we need to\nsupport kafka message compression.\n\nChange-Id: I9e86d43ad934c1f82dc3dcf93d317538f9d2568e\nImplements: blueprint support-kafka-compression\n'}, {'number': 2, 'created': '2019-05-28 11:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/cf51f2a371550c4a9cead79316e5addb08e4deea', 'message': 'Support kafka message compression\n\nWhen the message is large, in order to improve the efficiency of\nkafka, we need to compress the message before send it, so we need to\nsupport kafka message compression.\n\nChange-Id: I9e86d43ad934c1f82dc3dcf93d317538f9d2568e\nImplements: blueprint support-kafka-compression\n'}, {'number': 3, 'created': '2019-06-06 04:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f9c61bc533be8c6a6388b72dbde2b0c8f98fa6bd', 'message': 'Support kafka message compression\n\nWhen the message is large, in order to improve the efficiency of\nkafka, we need to compress the message before send it, so we need to\nsupport kafka message compression.\n\nChange-Id: I9e86d43ad934c1f82dc3dcf93d317538f9d2568e\nImplements: blueprint support-kafka-compression\n'}, {'number': 4, 'created': '2019-06-18 11:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/64fd4351aadaa10f644956d793e9d488996aa7b9', 'message': 'Support kafka message compression\n\nWhen the message is large, in order to improve the efficiency of\nkafka, we need to compress the message before send it, so we need to\nsupport kafka message compression.\n\nChange-Id: I9e86d43ad934c1f82dc3dcf93d317538f9d2568e\nImplements: blueprint support-kafka-compression\n'}, {'number': 5, 'created': '2019-06-20 03:19:52.000000000', 'files': ['oslo_messaging/tests/functional/test_functional.py', 'oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/_drivers/kafka_driver/kafka_options.py', 'doc/source/admin/kafka.rst', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9a752862e2cf5a9d7b011b9815c77c38a14cb756', 'message': 'Support kafka message compression\n\nWhen the message is large, in order to improve the efficiency of\nkafka, we need to compress the message before send it, so we need to\nsupport kafka message compression.\n\nChange-Id: I9e86d43ad934c1f82dc3dcf93d317538f9d2568e\nImplements: blueprint support-kafka-compression\n'}]",12,661698,9a752862e2cf5a9d7b011b9815c77c38a14cb756,34,6,5,20100,,,0,"Support kafka message compression

When the message is large, in order to improve the efficiency of
kafka, we need to compress the message before send it, so we need to
support kafka message compression.

Change-Id: I9e86d43ad934c1f82dc3dcf93d317538f9d2568e
Implements: blueprint support-kafka-compression
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/98/661698/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/_drivers/kafka_driver/kafka_options.py', 'doc/source/admin/kafka.rst']",3,fab5dcb8c1c623cb3f98322c1ebe1e18ef30186b,bp/support-kafka-compression,compression_type The compression type for all data generated by the producer ,,10,0
openstack%2Fpuppet-ovn~stable%2Fstein~If8684927b17fc9f7ee4cca277b8b0ca9c4d8b5e1,openstack/puppet-ovn,stable/stein,If8684927b17fc9f7ee4cca277b8b0ca9c4d8b5e1,Add the ability to configure ovn-remote-probe-interval,MERGED,2019-07-29 15:09:38.000000000,2019-08-05 15:34:01.000000000,2019-08-05 15:34:01.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 15:09:38.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_remote_probe_interval-b0603007d844984d.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/2d401a869fd5ba264533f3046c8de5e585b48be6', 'message': 'Add the ability to configure ovn-remote-probe-interval\n\nThis parameter sets inactive probe interval of the JSON\nsession from ovn-controller to the OVN SB database.\nBy default this it is 5s which not be sufficient in\nloaded systems or during high control-plane activity spikes,\nleading to unnecessary reconnections to OVSDB server.\nNow it is extended by default to 1 min and it\nis configurable.\n\nChange-Id: If8684927b17fc9f7ee4cca277b8b0ca9c4d8b5e1\nPartial-Bug: #1836604\n(cherry picked from commit 058b8e1cbd595faf05c513af2acd71fcbafc0fcd)\n'}]",0,673308,2d401a869fd5ba264533f3046c8de5e585b48be6,13,3,1,11082,,,0,"Add the ability to configure ovn-remote-probe-interval

This parameter sets inactive probe interval of the JSON
session from ovn-controller to the OVN SB database.
By default this it is 5s which not be sufficient in
loaded systems or during high control-plane activity spikes,
leading to unnecessary reconnections to OVSDB server.
Now it is extended by default to 1 min and it
is configurable.

Change-Id: If8684927b17fc9f7ee4cca277b8b0ca9c4d8b5e1
Partial-Bug: #1836604
(cherry picked from commit 058b8e1cbd595faf05c513af2acd71fcbafc0fcd)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/08/673308/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_remote_probe_interval-b0603007d844984d.yaml', 'manifests/controller.pp']",3,2d401a869fd5ba264533f3046c8de5e585b48be6,,"# [*ovn_remote_probe_interval*] # (optional) Set probe interval, based on user configuration, value is in ms # Defaults to 60000 # $ovn_remote_probe_interval = 60000, 'external_ids:ovn-remote' => { 'value' => $ovn_remote }, 'external_ids:ovn-encap-type' => { 'value' => $ovn_encap_type }, 'external_ids:ovn-encap-ip' => { 'value' => $ovn_encap_ip }, 'external_ids:hostname' => { 'value' => $hostname }, 'external_ids:ovn-bridge' => { 'value' => $ovn_bridge }, 'external_ids:ovn-remote-probe-interval' => { 'value' => ""${ovn_remote_probe_interval}"" },"," 'external_ids:ovn-remote' => { 'value' => $ovn_remote }, 'external_ids:ovn-encap-type' => { 'value' => $ovn_encap_type }, 'external_ids:ovn-encap-ip' => { 'value' => $ovn_encap_ip }, 'external_ids:hostname' => { 'value' => $hostname }, 'external_ids:ovn-bridge' => { 'value' => $ovn_bridge },",25,6
openstack%2Fcinder~master~I38a930d1e8ceef25db0f5b0b26b6402192dc8322,openstack/cinder,master,I38a930d1e8ceef25db0f5b0b26b6402192dc8322,"Replace ""integrated-gate-py3"" template with new ""integrated-gate-storage""",MERGED,2019-07-18 18:57:55.000000000,2019-08-05 15:31:46.000000000,2019-08-05 15:31:46.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-18 18:57:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d32652e8f6572df7c285e0d84561de0df249456a', 'message': 'Replace ""integrated-gate-py3"" template with new ""integrated-gate-storage""\n\ntempest-full-py3 job run all services API and scenario tests (non slow)\nand this job is part of Integrated-gate-py3 gate template which run on\nmultiple services (nova, neutron, cinder, glance, placement, swift, keystone)\ncheck and gate pipeline.\nDue to all services tests run in single tempest-full-py3 job, it has\nbeen not so stable. Many times unrelated service test break other\nproject gate.\n\nBut not all those services are dependent of Glance. Dependent in term of\nboth way, not all services used by Cinder or use Cinder. Cinder gate\ndoes not need to run all those independent services tests. It can run only\nCinder, Glance, Swift and Nova related tests.\n\nIdea here is to make integrated-gate testing more stable without losing\nthe test coverage.\n\nTempest has new ""integrated-gate-storage"" template which will run only\nCinder, Glance, Swift and Nova related tests[1].\n\nThis commit replaces the ""integrated-gate-py3"" template with new\n""integrated-gate-storage"".\n\nML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/.zuul.yaml#L626\n\nChange-Id: I38a930d1e8ceef25db0f5b0b26b6402192dc8322\n'}]",0,671549,d32652e8f6572df7c285e0d84561de0df249456a,29,25,1,8556,,,0,"Replace ""integrated-gate-py3"" template with new ""integrated-gate-storage""

tempest-full-py3 job run all services API and scenario tests (non slow)
and this job is part of Integrated-gate-py3 gate template which run on
multiple services (nova, neutron, cinder, glance, placement, swift, keystone)
check and gate pipeline.
Due to all services tests run in single tempest-full-py3 job, it has
been not so stable. Many times unrelated service test break other
project gate.

But not all those services are dependent of Glance. Dependent in term of
both way, not all services used by Cinder or use Cinder. Cinder gate
does not need to run all those independent services tests. It can run only
Cinder, Glance, Swift and Nova related tests.

Idea here is to make integrated-gate testing more stable without losing
the test coverage.

Tempest has new ""integrated-gate-storage"" template which will run only
Cinder, Glance, Swift and Nova related tests[1].

This commit replaces the ""integrated-gate-py3"" template with new
""integrated-gate-storage"".

ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html

[1] https://opendev.org/openstack/tempest/src/branch/master/.zuul.yaml#L626

Change-Id: I38a930d1e8ceef25db0f5b0b26b6402192dc8322
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/671549/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d32652e8f6572df7c285e0d84561de0df249456a,refactor-integrated-gate-testing, - integrated-gate-storage - tempest-integrated-storage: - tempest-integrated-storage:, - integrated-gate-py3 - tempest-full-py3: - tempest-full-py3:,3,3
openstack%2Frequirements~master~I8f7e79c80db1d51a9705e808ec80288c440945ab,openstack/requirements,master,I8f7e79c80db1d51a9705e808ec80288c440945ab,update constraint for oslo.middleware to new release 3.38.1,MERGED,2019-08-05 09:38:59.000000000,2019-08-05 15:31:44.000000000,2019-08-05 15:31:44.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 09:38:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eb8fd94ced1b866ed6f2171a1c54d02444703c5e', 'message': 'update constraint for oslo.middleware to new release 3.38.1\n\nChange-Id: I8f7e79c80db1d51a9705e808ec80288c440945ab\nmeta:version: 3.38.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,674560,eb8fd94ced1b866ed6f2171a1c54d02444703c5e,6,2,1,11131,,,0,"update constraint for oslo.middleware to new release 3.38.1

Change-Id: I8f7e79c80db1d51a9705e808ec80288c440945ab
meta:version: 3.38.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/674560/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eb8fd94ced1b866ed6f2171a1c54d02444703c5e,new-release,oslo.middleware===3.38.1,oslo.middleware===3.38.0,1,1
openstack%2Fstorlets~master~I24bd054d078f33f6e6a4aa2263f26757a28c877f,openstack/storlets,master,I24bd054d078f33f6e6a4aa2263f26757a28c877f,Record stdout/stderr output using logger,ABANDONED,2016-09-30 12:13:20.000000000,2019-08-05 15:30:58.000000000,,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 11317}]","[{'number': 1, 'created': '2016-09-30 12:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/59304f4a804b220dc4c81d19f8191ff7b478eb82', 'message': 'Get rid of logger process to capture stdout/stderr\n\nPreviously we use independent logger process to capture stdout\nand stderr from storelt daemon, but it is not efficient, and\ncauses some log records which is recorded based on the different\nlog settings.\n\nThis patch makes daemon factory to use its logger to log stdout\nstderr messages from storlet daemon, to make the things more\nsimple.\n\nChange-Id: I24bd054d078f33f6e6a4aa2263f26757a28c877f\n'}, {'number': 2, 'created': '2016-09-30 12:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/21fd04703cbfb4207f73427d4ee994a4bc9fdd12', 'message': 'Get rid of logger process to capture stdout/stderr\n\nPreviously we use independent logger process to capture stdout\nand stderr from storelt daemon, but it is not efficient, and\ncauses some log records which is recorded based on the different\nlog settings.\n\nThis patch makes daemon factory to use its logger to log stdout\nstderr messages from storlet daemon, to make the things more\nsimple.\n\nChange-Id: I24bd054d078f33f6e6a4aa2263f26757a28c877f\n'}, {'number': 3, 'created': '2016-09-30 13:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/79eb0a280b28897a41f6b1e8ca6c0268670125f0', 'message': 'Get rid of logger process to capture stdout/stderr\n\nPreviously we use independent logger process to capture stdout\nand stderr from storelt daemon, but it is not efficient, and\ncauses some log records which is recorded based on the different\nlog settings.\n\nThis patch makes daemon factory to use its logger to log stdout\nstderr messages from storlet daemon, to make the things more\nsimple.\n\nChange-Id: I24bd054d078f33f6e6a4aa2263f26757a28c877f\n'}, {'number': 4, 'created': '2016-09-30 14:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1b854fb130c216af9a740bdb9fd8e945184bd6d6', 'message': 'Get rid of logger process to capture stdout/stderr\n\nPreviously we use independent logger process to capture stdout\nand stderr from storelt daemon, but it is not efficient, and\ncauses some log records which is recorded based on the different\nlog settings.\n\nThis patch makes daemon factory to use its logger to log stdout\nstderr messages from storlet daemon, to make the things more\nsimple.\n\nChange-Id: I24bd054d078f33f6e6a4aa2263f26757a28c877f\n'}, {'number': 5, 'created': '2016-09-30 14:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c3ffe34e6c471fbd55fbc7515a5d3cb79226ddae', 'message': 'Record stdout/stderr output using logger\n\nThis patch makes daemon factory and storlet daemon (NOTE: only\npython written on) record their output to stdout/stderr using\ntheir logger, to gather all log records and output into one log\nfile.\n\nChange-Id: I24bd054d078f33f6e6a4aa2263f26757a28c877f\n'}, {'number': 6, 'created': '2016-10-04 07:17:10.000000000', 'files': ['tests/unit/agent/storlet_daemon_factory/test_daemon_factory.py', 'tests/unit/swift/__init__.py', 'Engine/agent/storlet_daemon/daemon.py', 'Engine/agent/storlet_daemon_factory/daemon_factory.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/dfb6d78981faaa3fe9d647e8a422b1a3f647076a', 'message': 'Record stdout/stderr output using logger\n\nThis patch makes daemon factory and storlet daemon (NOTE: only\npython written on) record their output to stdout/stderr using\ntheir logger, to gather all log records and output into one log\nfile.\n\nChange-Id: I24bd054d078f33f6e6a4aa2263f26757a28c877f\n'}]",3,380207,dfb6d78981faaa3fe9d647e8a422b1a3f647076a,19,3,6,9816,,,0,"Record stdout/stderr output using logger

This patch makes daemon factory and storlet daemon (NOTE: only
python written on) record their output to stdout/stderr using
their logger, to gather all log records and output into one log
file.

Change-Id: I24bd054d078f33f6e6a4aa2263f26757a28c877f
",git fetch https://review.opendev.org/openstack/storlets refs/changes/07/380207/6 && git format-patch -1 --stdout FETCH_HEAD,['Engine/agent/storlet_daemon_factory/daemon_factory.py'],1,59304f4a804b220dc4c81d19f8191ff7b478eb82,lambda,"class LoggerFileObject(object): def __init__(self, logger, log_type='STDOUT', target=None): self.logger = logger self.log_type = log_type self.target = target def _create_msg(self, value): msg = '%(type)s: %(value)s' % {'type': self.log_type, 'value': value} if self.target: msg = '%(target) %(msg)' % {'target': self.target, 'msg': msg} return msg def write(self, value): msg = self._create_msg(value) self.logger.error(msg) def writelines(self, valies): msg = self._create_msg('#012'.join(values)) self.logger.error(msg) def close(self): pass def flush(self): pass def __iter__(self): return self def next(self): raise IOError(errno.EBADF, 'Bad file descriptor') __next__ = next def read(self, size=-1): raise IOError(errno.EBADF, 'Bad file descriptor') def readline(self, size=-1): raise IOError(errno.EBADF, 'Bad file descriptor') def tell(self): return 0 def xreadlines(self): return self stdout_logfile = LoggerFileObject(self.logger, 'STDOUT', storlet_name) stderr_logfile = LoggerFileObject(self.logger, 'STDERR', storlet_name) pargs, stdout=strout_logfile, stderr=stderr_logfile, sys.stdout = LoggerFileObject(logger) sys.stderr = LoggerFileObject(logger, 'STDERR') "," dn = open(os.devnull, 'w') pargs, stdout=dn, stderr=subprocess.PIPE, logger_p = subprocess.Popen( 'logger', stdin=daemon_p.stderr, stdout=dn, stderr=dn, close_fds=True, shell=False) self.logger.debug('Logger process ID is: {0}'.format(logger_p.pid))",54,6
openstack%2Fstorlets~master~I32566605dfefdb60738c1fb2935c5dd2ecc257b7,openstack/storlets,master,I32566605dfefdb60738c1fb2935c5dd2ecc257b7,Set timeout for sbus listening in python agents,ABANDONED,2016-12-13 16:20:15.000000000,2019-08-05 15:29:03.000000000,,"[{'_account_id': 9816}, {'_account_id': 11317}]","[{'number': 1, 'created': '2016-12-13 16:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/fb612508cc539c3b1b7bc8be73079b05230a2a32', 'message': 'Add timeout to sbus listening\n\nChange-Id: I32566605dfefdb60738c1fb2935c5dd2ecc257b7\n'}, {'number': 2, 'created': '2016-12-14 13:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0e1e6ed23ce30da10e1f4d85378f107dc9f45b15', 'message': 'Add timeout to sbus listening\n\nChange-Id: I32566605dfefdb60738c1fb2935c5dd2ecc257b7\n'}, {'number': 3, 'created': '2017-01-31 18:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/72faf777734c3a6803449d2a03f14db9dd26e5b8', 'message': ""Set timeout for sbus listening in python agents\n\nDaemon factory and storlet daemon are server processes\nwhich is invoked for client request, but these invoked\nprocess does not shutdown automatically, which causes\nunused containers/processes keep running on hosts.\n\nThis patch adds timeout for sbus listening, and makes\nthese processes shutdown autonatically after it does\nnot get requrest for a while (1 hour).\n\nNote 1:\nThe timeout value should be confirable, but as we don't\nhave good mechanism to pass parameters to agent processes\nrunning in docker cotnainer, it is addressed in future.\n\nNote 2:\nThis patch only deals with python written agents. (daemon\nfactory and storlet daemon for python written storlets)\nThe similar thing should be done for Java storlet daemon,\nbut it will be done in another patch.\n\nChange-Id: I32566605dfefdb60738c1fb2935c5dd2ecc257b7\n""}, {'number': 4, 'created': '2017-02-04 16:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4ada36058338ca0d4bb6e269d291a96c42d13d36', 'message': ""Set timeout for sbus listening in python agents\n\nDaemon factory and storlet daemon are server processes\nwhich is invoked for client request, but these invoked\nprocess does not shutdown automatically, which causes\nunused containers/processes keep running on hosts.\n\nThis patch adds timeout for sbus listening, and makes\nthese processes shutdown autonatically after it does\nnot get requrest for a while (1 hour).\n\nNote 1:\nThe timeout value should be confirable, but as we don't\nhave good mechanism to pass parameters to agent processes\nrunning in docker cotnainer, it is addressed in future.\n\nNote 2:\nThis patch only deals with python written agents. (daemon\nfactory and storlet daemon for python written storlets)\nThe similar thing should be done for Java storlet daemon,\nbut it will be done in another patch.\n\nChange-Id: I32566605dfefdb60738c1fb2935c5dd2ecc257b7\n""}, {'number': 5, 'created': '2017-02-06 13:12:12.000000000', 'files': ['storlets/agent/common/server.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/1c79f5cd15cd25a37c4b19b39e4e46647216a5aa', 'message': ""Set timeout for sbus listening in python agents\n\nDaemon factory and storlet daemon are server processes\nwhich is invoked for client request, but these invoked\nprocess does not shutdown automatically, which causes\nunused containers/processes keep running on hosts.\n\nThis patch adds timeout for sbus listening, and makes\nthese processes shutdown autonatically after it does\nnot get requrest for a while (1 hour).\n\nNote 1:\nThe timeout value should be confirable, but as we don't\nhave good mechanism to pass parameters to agent processes\nrunning in docker cotnainer, it is addressed in future.\n\nNote 2:\nThis patch only deals with python written agents. (daemon\nfactory and storlet daemon for python written storlets)\nThe similar thing should be done for Java storlet daemon,\nbut it will be done in another patch.\n\nChange-Id: I32566605dfefdb60738c1fb2935c5dd2ecc257b7\n""}]",0,410296,1c79f5cd15cd25a37c4b19b39e4e46647216a5aa,27,2,5,9816,,,0,"Set timeout for sbus listening in python agents

Daemon factory and storlet daemon are server processes
which is invoked for client request, but these invoked
process does not shutdown automatically, which causes
unused containers/processes keep running on hosts.

This patch adds timeout for sbus listening, and makes
these processes shutdown autonatically after it does
not get requrest for a while (1 hour).

Note 1:
The timeout value should be confirable, but as we don't
have good mechanism to pass parameters to agent processes
running in docker cotnainer, it is addressed in future.

Note 2:
This patch only deals with python written agents. (daemon
factory and storlet daemon for python written storlets)
The similar thing should be done for Java storlet daemon,
but it will be done in another patch.

Change-Id: I32566605dfefdb60738c1fb2935c5dd2ecc257b7
",git fetch https://review.opendev.org/openstack/storlets refs/changes/96/410296/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/agent/daemon_factory/test_manager.py', 'storlets/agent/daemon_factory/manager.py', 'storlets/agent/common/manager.py']",3,fb612508cc539c3b1b7bc8be73079b05230a2a32,listen,"import eventlet from eventlet import Timeouteventlet.monkey_patch() self.listen_timeout = 3600 try: with Timeout(self.listen_timeout): rc = sbus.listen(fd) if rc < 0: self.logger.error(""Failed to wait on SBus. exiting."") return EXIT_FAILURE except Timeout: self.logger.info(""Timed out for listening on sbus (%d s)"" % self.listen_timeout) break"," rc = sbus.listen(fd) if rc < 0: self.logger.error(""Failed to wait on SBus. exiting."") return EXIT_FAILURE",27,15
openstack%2Frequirements~master~If96a9dd173f00cf18e37938a1da8b888de8d4a4b,openstack/requirements,master,If96a9dd173f00cf18e37938a1da8b888de8d4a4b,update constraint for oslo.cache to new release 1.37.0,MERGED,2019-08-05 09:37:29.000000000,2019-08-05 15:27:16.000000000,2019-08-05 15:27:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-05 09:37:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a2308562526eb9bc99809958479a12e19269d9ef', 'message': 'update constraint for oslo.cache to new release 1.37.0\n\nChange-Id: If96a9dd173f00cf18e37938a1da8b888de8d4a4b\nmeta:version: 1.37.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,674559,a2308562526eb9bc99809958479a12e19269d9ef,6,2,1,11131,,,0,"update constraint for oslo.cache to new release 1.37.0

Change-Id: If96a9dd173f00cf18e37938a1da8b888de8d4a4b
meta:version: 1.37.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: If6af2137272cc18bf2d01f26c0bab65b803ae281
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/674559/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a2308562526eb9bc99809958479a12e19269d9ef,new-release,oslo.cache===1.37.0,oslo.cache===1.36.0,1,1
openstack%2Fstorlets~master~Idd2afccad4fc5c2139b9327336a09ba56bb9ce0e,openstack/storlets,master,Idd2afccad4fc5c2139b9327336a09ba56bb9ce0e,WIP: Remove suid binary files,ABANDONED,2019-07-16 10:53:12.000000000,2019-08-05 15:26:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-16 10:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6c92c15933c5091f08d7cf0ece0559d885665c7a', 'message': 'WIP: Remove suid binary files\n\nChange-Id: Idd2afccad4fc5c2139b9327336a09ba56bb9ce0e\n'}, {'number': 2, 'created': '2019-07-16 12:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f7b19fb730fca2b3a8acd7be2e7e404c48f92eac', 'message': 'WIP: Remove suid binary files\n\nChange-Id: Idd2afccad4fc5c2139b9327336a09ba56bb9ce0e\n'}, {'number': 3, 'created': '2019-07-16 12:50:29.000000000', 'files': ['requirements.txt', 'scripts/Makefile', 'devstack/plugin.sh', 'storlets/gateway/gateways/docker/runtime.py', 'scripts/restart_docker_container.c', 'install_libs.sh', 'scripts/send_halt_cmd_to_daemon_factory.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d3ffc4f40625aa894ee2b49c71845e838a5b03fe', 'message': 'WIP: Remove suid binary files\n\nChange-Id: Idd2afccad4fc5c2139b9327336a09ba56bb9ce0e\n'}]",0,671007,d3ffc4f40625aa894ee2b49c71845e838a5b03fe,7,1,3,9816,,,0,"WIP: Remove suid binary files

Change-Id: Idd2afccad4fc5c2139b9327336a09ba56bb9ce0e
",git fetch https://review.opendev.org/openstack/storlets refs/changes/07/671007/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6c92c15933c5091f08d7cf0ece0559d885665c7a,remove-suid," sudo chmod 0755 ""$STORLETS_DOCKER_DEVICE""/scripts/restart_docker_container sudo chown ""$STORLETS_SWIFT_RUNTIME_USER"":""$STORLETS_SWIFT_RUNTIME_GROUP"" ""$STORLETS_DOCKER_DEVICE""/scripts/restart_docker_container sudo usermod -aG docker $STORLETS_SWIFT_RUNTIME_USER"," sudo cp scripts/send_halt_cmd_to_daemon_factory.py ""$STORLETS_DOCKER_DEVICE""/scripts/ sudo chmod 04755 ""$STORLETS_DOCKER_DEVICE""/scripts/restart_docker_container sudo chown root:root ""$STORLETS_DOCKER_DEVICE""/scripts/restart_docker_container sudo chmod 04755 ""$STORLETS_DOCKER_DEVICE""/scripts/send_halt_cmd_to_daemon_factory.py sudo chown root:root ""$STORLETS_DOCKER_DEVICE""/scripts/send_halt_cmd_to_daemon_factory.py",5,5
openstack%2Fironic~master~I866330c5fc98b1c5bc042c296c3b6e76ed9fd57d,openstack/ironic,master,I866330c5fc98b1c5bc042c296c3b6e76ed9fd57d,iLO firmware update fails with 'update_firmware_sum' clean step,MERGED,2019-07-16 05:09:32.000000000,2019-08-05 15:23:42.000000000,2019-08-05 15:23:42.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-16 05:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/704a74a9d66ab05f2b57e2ad8e23c9c7531a039c', 'message': ""iLO firmware update fails with 'update_firmware_sum' clean step\n\nFirmware update using 'update_firmware_sum' clean step fails with\nan error stating that unable to connect to iLO address due to\nauthentication failure.\nThe 'update_firmware_sum' is an inband clean step wherein the\nfirmware ISO was inserted from IPA ramdisk. As part of security\nfix to ironic the BMC credentials are no more passed to the IPA\nramdisk. The attempt to connect to iLO from IPA ramdisk fails.\nThe fix has been made to insert the firmware ISO from the\nconductor.\n\nChange-Id: I866330c5fc98b1c5bc042c296c3b6e76ed9fd57d\nStory: 2006223\nTask: 35821\n""}, {'number': 2, 'created': '2019-07-16 09:15:14.000000000', 'files': ['ironic/drivers/modules/ilo/management.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'releasenotes/notes/story-2006223-ilo-hpsum-firmware-update-fails-622883e4785313c1.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/50bfd9067fdeebcc89117ddab4fdd1573dba565e', 'message': ""iLO firmware update fails with 'update_firmware_sum' clean step\n\nFirmware update using 'update_firmware_sum' clean step fails with\nan error stating that unable to connect to iLO address due to\nauthentication failure.\nThe 'update_firmware_sum' is an inband clean step wherein the\nfirmware ISO was inserted from IPA ramdisk. As part of security\nfix to ironic the BMC credentials are no more passed to the IPA\nramdisk. The attempt to connect to iLO from IPA ramdisk fails.\nThe fix has been made to insert the firmware ISO from the\nconductor.\n\nChange-Id: I866330c5fc98b1c5bc042c296c3b6e76ed9fd57d\nStory: 2006223\nTask: 35821\n""}]",0,670949,50bfd9067fdeebcc89117ddab4fdd1573dba565e,19,8,2,11076,,,0,"iLO firmware update fails with 'update_firmware_sum' clean step

Firmware update using 'update_firmware_sum' clean step fails with
an error stating that unable to connect to iLO address due to
authentication failure.
The 'update_firmware_sum' is an inband clean step wherein the
firmware ISO was inserted from IPA ramdisk. As part of security
fix to ironic the BMC credentials are no more passed to the IPA
ramdisk. The attempt to connect to iLO from IPA ramdisk fails.
The fix has been made to insert the firmware ISO from the
conductor.

Change-Id: I866330c5fc98b1c5bc042c296c3b6e76ed9fd57d
Story: 2006223
Task: 35821
",git fetch https://review.opendev.org/openstack/ironic refs/changes/49/670949/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/management.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'releasenotes/notes/story-2006223-ilo-hpsum-firmware-update-fails-622883e4785313c1.yaml']",3,704a74a9d66ab05f2b57e2ad8e23c9c7531a039c,story_2006223,--- fixes: - | Fixes an issue in updating firmware using ``update_firmware_sum`` clean step from management interface of ``ilo`` hardware type with an error stating that unable to connect to iLO address due to authentication failure. See `story 2006223 <https://storyboard.openstack.org/#!/story/2006223>`__ for details. ,,54,4
openstack%2Frpm-packaging~stable%2Fstein~Id43e2ab305da66d6d80825bdd5e4a3aa8a1098c4,openstack/rpm-packaging,stable/stein,Id43e2ab305da66d6d80825bdd5e4a3aa8a1098c4,tripleo-common: update to 10.6.0,MERGED,2019-08-04 15:39:30.000000000,2019-08-05 15:21:00.000000000,2019-08-05 15:21:00.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-04 15:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/92d9fbfa421518c4929145f3ed7fd30a04bc4394', 'message': 'tripleo-common: update to 10.6.0\n\nChange-Id: Id43e2ab305da66d6d80825bdd5e4a3aa8a1098c4\n(cherry picked from commit 22806ce369a6fa79298e2191d47fcd95fe6c45fb)\n'}, {'number': 2, 'created': '2019-08-04 16:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/133ac56b9d9abf10d18645fab1a4e941e2e1b692', 'message': 'tripleo-common: update to 10.6.0\n\nChange-Id: Id43e2ab305da66d6d80825bdd5e4a3aa8a1098c4\n(cherry picked from commit 22806ce369a6fa79298e2191d47fcd95fe6c45fb)\n'}, {'number': 3, 'created': '2019-08-04 17:50:59.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4b9e8fe4ae0867cbd91c2d69bed41223a32c2625', 'message': 'tripleo-common: update to 10.6.0\n\nChange-Id: Id43e2ab305da66d6d80825bdd5e4a3aa8a1098c4\n(cherry picked from commit 22806ce369a6fa79298e2191d47fcd95fe6c45fb)\n'}]",0,674502,4b9e8fe4ae0867cbd91c2d69bed41223a32c2625,16,5,3,6593,,,0,"tripleo-common: update to 10.6.0

Change-Id: Id43e2ab305da66d6d80825bdd5e4a3aa8a1098c4
(cherry picked from commit 22806ce369a6fa79298e2191d47fcd95fe6c45fb)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/674502/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,92d9fbfa421518c4929145f3ed7fd30a04bc4394,,{% set pypi_name = 'tripleo-common' %} {% set upstream_version = upstream_version('10.6.0') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://launchpad.net/tripleo-common Source0: {{ source }}BuildRequires: {{ py2pkg('eventlet') }}BuildRequires: {{ py2pkg('metalsmith') }}BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('stestr') }}Requires: {{ py2pkg('eventlet') }}Requires: {{ py2pkg('metalsmith') }}%autosetup -n {{ pypi_name }}-%{version} %py_req_cleanup%{__python2} -m stestr.cli run%{_bindir}/tripleo-deploy-openshift %{_datadir}/tripleo-common,%global sname tripleo-common Name: {{ py2name('tripleo-common') }} Version: 9.3.0 Release: 0URL: https://launchpad.net/%{sname} Source0: https://files.pythonhosted.org/packages/source/t/%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('devel') }}BuildRequires: {{ py2pkg('testrepository') }}%autosetup -n %{sname}-%{version}%{__python2} setup.py testr%{_bindir}/create_freeipa_enroll_envfile.py%{_datadir}/%{sname},22,12
openstack%2Frpm-packaging~stable%2Fstein~Ifeedca52b8297b576017d7aec88cb4e71cd6b0e9,openstack/rpm-packaging,stable/stein,Ifeedca52b8297b576017d7aec88cb4e71cd6b0e9,metalsmith/openstacksdk: Fix Requires for genisoimage/mkisofs,MERGED,2019-08-04 17:50:59.000000000,2019-08-05 15:19:54.000000000,2019-08-05 15:19:54.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-04 17:50:59.000000000', 'files': ['openstack/metalsmith/metalsmith.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bd34efb0b021e7f30793221611e6c00a844ec31b', 'message': 'metalsmith/openstacksdk: Fix Requires for genisoimage/mkisofs\n\nmetalsmith does not require genisoimage - it is openstacksdk which\nuses that binary so add the Requires there.\nAlso do not use genisoimage on openSUSE/SLES. It is not available.\nInstead use mkisofs.\n\nNote: This requires https://review.openstack.org/#/c/651193/ in\nopenstacksdk to work on openSUSE/SLES.\n\nChange-Id: Ifeedca52b8297b576017d7aec88cb4e71cd6b0e9\n(cherry picked from commit 640e991db7fa15159934c92692893c712483fabd)\n'}]",0,674504,bd34efb0b021e7f30793221611e6c00a844ec31b,8,4,1,6593,,,0,"metalsmith/openstacksdk: Fix Requires for genisoimage/mkisofs

metalsmith does not require genisoimage - it is openstacksdk which
uses that binary so add the Requires there.
Also do not use genisoimage on openSUSE/SLES. It is not available.
Instead use mkisofs.

Note: This requires https://review.openstack.org/#/c/651193/ in
openstacksdk to work on openSUSE/SLES.

Change-Id: Ifeedca52b8297b576017d7aec88cb4e71cd6b0e9
(cherry picked from commit 640e991db7fa15159934c92692893c712483fabd)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/674504/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/metalsmith/metalsmith.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2']",2,bd34efb0b021e7f30793221611e6c00a844ec31b,,%if 0%{?sle_version} >= 150000 Requires: mkisofsRequires: genisoimage %endif %else Requires: genisoimage,,6,1
openstack%2Frpm-packaging~stable%2Fstein~Ia49e077b666f70b22572ddc343ef1e590b1267c6,openstack/rpm-packaging,stable/stein,Ia49e077b666f70b22572ddc343ef1e590b1267c6,ironic-lib: Update to 2.16.3,MERGED,2019-08-04 15:39:30.000000000,2019-08-05 15:19:53.000000000,2019-08-05 15:19:53.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-04 15:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f2530ac48189317ab54f969a1b3556763506e078', 'message': 'ironic-lib: Update to 2.16.3\n\nChange-Id: Ia49e077b666f70b22572ddc343ef1e590b1267c6\n'}, {'number': 2, 'created': '2019-08-04 16:07:04.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3f1507d79b31a5b72965f54349837f04cb263b2b', 'message': 'ironic-lib: Update to 2.16.3\n\nChange-Id: Ia49e077b666f70b22572ddc343ef1e590b1267c6\n'}]",0,674501,3f1507d79b31a5b72965f54349837f04cb263b2b,12,5,2,6593,,,0,"ironic-lib: Update to 2.16.3

Change-Id: Ia49e077b666f70b22572ddc343ef1e590b1267c6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/01/674501/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ironic-lib/ironic-lib.spec.j2'],1,f2530ac48189317ab54f969a1b3556763506e078,,Version: 2.16.3,Version: 2.16.2,1,1
