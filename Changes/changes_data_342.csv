id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fnova~master~I0886c9a1de72bb8beb105c6d67fd369d8b7edcb5,openstack/nova,master,I0886c9a1de72bb8beb105c6d67fd369d8b7edcb5,Use defusedxml.ElementTree function instead of lxml.etree,ABANDONED,2017-11-13 10:09:26.000000000,2019-10-07 16:46:12.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 19853}, {'_account_id': 21797}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-13 10:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f87b81131bf7a80d0406e196671acfc9c6b56c3', 'message': '[WIP]Use defusedxml function instead of lxml.etree.parse\n\nDue to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b313-b320-xml,\nwe should use defusedxml function instead of lxml.etree.parse to prevent XML attacks.\n\nChange-Id: I0886c9a1de72bb8beb105c6d67fd369d8b7edcb5\nCloses-Bug: #1731865\n'}, {'number': 2, 'created': '2017-11-15 07:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/853f5ce320a9649894b19ad6e99f3cc0e58c476a', 'message': 'Use defusedxml.ElementTree function instead of lxml.etree\n\nDue to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b313-b320-xml,\nwe should use defusedxml.ElementTree function instead of lxml.etree to prevent XML attacks.\n\nCloses-Bug: #1731865\nChange-Id: I0886c9a1de72bb8beb105c6d67fd369d8b7edcb5\n'}, {'number': 3, 'created': '2017-11-15 09:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31b570d65538242aaef0c9d776ba97633f3c4dda', 'message': 'Use defusedxml.ElementTree function instead of lxml.etree\n\nDue to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b313-b320-xml,\nwe should use defusedxml.ElementTree function instead of lxml.etree to prevent XML attacks.\n\nCloses-Bug: #1731865\nChange-Id: I0886c9a1de72bb8beb105c6d67fd369d8b7edcb5\n'}, {'number': 4, 'created': '2018-01-29 03:02:21.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/test_exception.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/libvirt/firewall.py', 'nova/tests/unit/virt/libvirt/test_firewall.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/matchers.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/virt/vmwareapi/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b44d065c40a6cc8a1d8ea2acdcf7041b0b94c1c8', 'message': 'Use defusedxml.ElementTree function instead of lxml.etree\n\nDue to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b313-b320-xml,\nwe should use defusedxml.ElementTree function instead of lxml.etree to prevent XML attacks.\n\nCloses-Bug: #1731865\nChange-Id: I0886c9a1de72bb8beb105c6d67fd369d8b7edcb5\n'}]",1,519291,b44d065c40a6cc8a1d8ea2acdcf7041b0b94c1c8,56,15,4,22056,,,0,"Use defusedxml.ElementTree function instead of lxml.etree

Due to https://docs.openstack.org/bandit/latest/blacklists/blacklist_calls.html#b313-b320-xml,
we should use defusedxml.ElementTree function instead of lxml.etree to prevent XML attacks.

Closes-Bug: #1731865
Change-Id: I0886c9a1de72bb8beb105c6d67fd369d8b7edcb5
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/519291/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/matchers.py'],1,2f87b81131bf7a80d0406e196671acfc9c6b56c3,bug/1731865,"import defusedxml.ElementTree SKIP_TAGS = (defusedxml.ElementTree.Comment, defusedxml.ElementTree.ProcessingInstruction) parser = defusedxml.ElementTree.XMLParser(encoding=""UTF-8"") return defusedxml.ElementTree.parse(six.BytesIO(text_or_bytes), parser)","from lxml import etree SKIP_TAGS = (etree.Comment, etree.ProcessingInstruction) parser = etree.XMLParser(encoding=""UTF-8"") return etree.parse(six.BytesIO(text_or_bytes), parser)",6,4
openstack%2Fnetworking-ovn~stable%2Frocky~I8a5e6ad2e98b79a140977ce003609ed5b21e3499,openstack/networking-ovn,stable/rocky,I8a5e6ad2e98b79a140977ce003609ed5b21e3499,Fix evacuation when host dies uncleanly,MERGED,2019-08-23 14:24:01.000000000,2019-10-07 16:45:52.000000000,2019-10-07 16:45:52.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-23 14:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f1486367c4529cd55bd84efb02ab6f29036ef2b9', 'message': ""Fix evacuation when host dies uncleanly\n\nIf a host crashes and ovn-controller doesn't clean up the\nPort_Binding chassis column, the Logical_Switch_Port is never set\nto DOWN, so we do not detect the up->down transition and update the\nport status with the driver. This patch watches for Port_Binding\nchassis column changes and if the port is up goes ahead and updates\nthe driver.\n\nChange-Id: I8a5e6ad2e98b79a140977ce003609ed5b21e3499\nCloses-Bug: #1840876\n""}, {'number': 2, 'created': '2019-09-11 11:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6c8b02f1e8be00518e079e074ed4bb203c8c7910', 'message': ""Fix evacuation when host dies uncleanly\n\nIf a host crashes and ovn-controller doesn't clean up the\nPort_Binding chassis column, the Logical_Switch_Port is never set\nto DOWN, so we do not detect the up->down transition and update the\nport status with the driver. This patch watches for Port_Binding\nchassis column changes and if the port is up goes ahead and updates\nthe driver.\n\nChange-Id: I8a5e6ad2e98b79a140977ce003609ed5b21e3499\nCloses-Bug: #1840876\n(cherry picked from commit 4f73c0f016ddda50e25fe7592bb67435384e38f2)\n""}, {'number': 3, 'created': '2019-09-18 16:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2c7469d4bd3f0d2f646e8685e4773f9ef0758014', 'message': ""Fix evacuation when host dies uncleanly\n\nIf a host crashes and ovn-controller doesn't clean up the\nPort_Binding chassis column, the Logical_Switch_Port is never set\nto DOWN, so we do not detect the up->down transition and update the\nport status with the driver. This patch watches for Port_Binding\nchassis column changes and if the port is up goes ahead and updates\nthe driver.\n\nChange-Id: I8a5e6ad2e98b79a140977ce003609ed5b21e3499\nCloses-Bug: #1840876\n(cherry picked from commit 4f73c0f016ddda50e25fe7592bb67435384e38f2)\n""}, {'number': 4, 'created': '2019-09-24 12:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d1b0f5e0580560c4ed249cf6aa62956ce77bed8a', 'message': ""Fix evacuation when host dies uncleanly\n\nThis is a squashed backport of fix and relevant test\n\n1.  Fix evacuation when host dies uncleanly\n\nIf a host crashes and ovn-controller doesn't clean up the\nPort_Binding chassis column, the Logical_Switch_Port is never set\nto DOWN, so we do not detect the up->down transition and update the\nport status with the driver. This patch watches for Port_Binding\nchassis column changes and if the port is up goes ahead and updates\nthe driver.\n\nConflicts:\n        networking_ovn/ovsdb/ovsdb_monitor.py\n\n(cherry picked from commit 4f73c0f016ddda50e25fe7592bb67435384e38f2)\n\n2. Test PortBindingChassisUpdateEvent\n\nWhile other tests cover what happens when a Port_Binding is updated\nwhen this event doesn't match, there was no test that covered the\ncase when it does. This test does test primarily implementation\ndetails, but will have to do until we can test the actual use case\nwhich involves uncleanly killing a compute server and doing a\n'host evacuate' from it.\n\nConflicts:\n        networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py\n\n(cherry picked from commit f234deba187e8b56c574aa0d6a24cf69cbbd7cb1)\n\nChange-Id: I8a5e6ad2e98b79a140977ce003609ed5b21e3499\nCloses-Bug: #1840876\n(cherry picked from commit 36f06a32bbfc34d8e4e49d2a3f5fd385e4b4f863)\n""}, {'number': 5, 'created': '2019-09-24 16:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/562f50798bfeb325de2f2b1d443bba05d6b8cb6d', 'message': ""Fix evacuation when host dies uncleanly\n\nThis is a squashed backport of fix and relevant test\n\n1.  Fix evacuation when host dies uncleanly\n\nIf a host crashes and ovn-controller doesn't clean up the\nPort_Binding chassis column, the Logical_Switch_Port is never set\nto DOWN, so we do not detect the up->down transition and update the\nport status with the driver. This patch watches for Port_Binding\nchassis column changes and if the port is up goes ahead and updates\nthe driver.\n\nConflicts:\n        networking_ovn/ovsdb/ovsdb_monitor.py\n\n(cherry picked from commit 4f73c0f016ddda50e25fe7592bb67435384e38f2)\n\n2. Test PortBindingChassisUpdateEvent\n\nWhile other tests cover what happens when a Port_Binding is updated\nwhen this event doesn't match, there was no test that covered the\ncase when it does. This test does test primarily implementation\ndetails, but will have to do until we can test the actual use case\nwhich involves uncleanly killing a compute server and doing a\n'host evacuate' from it.\n\nConflicts:\n        networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py\n\n(cherry picked from commit f234deba187e8b56c574aa0d6a24cf69cbbd7cb1)\n\nChange-Id: I8a5e6ad2e98b79a140977ce003609ed5b21e3499\nCloses-Bug: #1840876\n(cherry picked from commit 36f06a32bbfc34d8e4e49d2a3f5fd385e4b4f863)\n""}, {'number': 6, 'created': '2019-10-04 16:15:26.000000000', 'files': ['networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/964205b2a927e460ea5fa76ed4c6a052c979e741', 'message': ""Fix evacuation when host dies uncleanly\n\nThis is a squashed backport of fix and relevant test\n\n1.  Fix evacuation when host dies uncleanly\n\nIf a host crashes and ovn-controller doesn't clean up the\nPort_Binding chassis column, the Logical_Switch_Port is never set\nto DOWN, so we do not detect the up->down transition and update the\nport status with the driver. This patch watches for Port_Binding\nchassis column changes and if the port is up goes ahead and updates\nthe driver.\n\nConflicts:\n        networking_ovn/ovsdb/ovsdb_monitor.py\n\n(cherry picked from commit 4f73c0f016ddda50e25fe7592bb67435384e38f2)\n\n2. Test PortBindingChassisUpdateEvent\n\nWhile other tests cover what happens when a Port_Binding is updated\nwhen this event doesn't match, there was no test that covered the\ncase when it does. This test does test primarily implementation\ndetails, but will have to do until we can test the actual use case\nwhich involves uncleanly killing a compute server and doing a\n'host evacuate' from it.\n\nConflicts:\n        networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py\n\n(cherry picked from commit f234deba187e8b56c574aa0d6a24cf69cbbd7cb1)\n\nChange-Id: I8a5e6ad2e98b79a140977ce003609ed5b21e3499\nCloses-Bug: #1840876\n(cherry picked from commit 36f06a32bbfc34d8e4e49d2a3f5fd385e4b4f863)\n""}]",0,678240,964205b2a927e460ea5fa76ed4c6a052c979e741,23,4,6,5756,,,0,"Fix evacuation when host dies uncleanly

This is a squashed backport of fix and relevant test

1.  Fix evacuation when host dies uncleanly

If a host crashes and ovn-controller doesn't clean up the
Port_Binding chassis column, the Logical_Switch_Port is never set
to DOWN, so we do not detect the up->down transition and update the
port status with the driver. This patch watches for Port_Binding
chassis column changes and if the port is up goes ahead and updates
the driver.

Conflicts:
        networking_ovn/ovsdb/ovsdb_monitor.py

(cherry picked from commit 4f73c0f016ddda50e25fe7592bb67435384e38f2)

2. Test PortBindingChassisUpdateEvent

While other tests cover what happens when a Port_Binding is updated
when this event doesn't match, there was no test that covered the
case when it does. This test does test primarily implementation
details, but will have to do until we can test the actual use case
which involves uncleanly killing a compute server and doing a
'host evacuate' from it.

Conflicts:
        networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py

(cherry picked from commit f234deba187e8b56c574aa0d6a24cf69cbbd7cb1)

Change-Id: I8a5e6ad2e98b79a140977ce003609ed5b21e3499
Closes-Bug: #1840876
(cherry picked from commit 36f06a32bbfc34d8e4e49d2a3f5fd385e4b4f863)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/40/678240/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/ovsdb_monitor.py'],1,f1486367c4529cd55bd84efb02ab6f29036ef2b9,678240,"class PortBindingChassisUpdateEvent(row_event.RowEvent): """"""Event for matching a port moving chassis If the LSP is up and the Port_Binding chassis has just changed, there is a good chance the host died without cleaning up the chassis column on the Port_Binding, so the port never goes down and we won't see update the driver with the LogicalSwitchPortUpdateUpEvent. """""" def __init__(self, driver): self.driver = driver table = 'Port_Binding' events = (self.ROW_UPDATE,) super(PortBindingChassisUpdateEvent, self).__init__( events, table, None) self.event_name = self.__class__.__name__ def match_fn(self, event, row, old=None): # NOTE(twilson) ROW_UPDATE events always pass old if not row.chassis or row.chassis == old.chassis: return False if row.type == ovn_const.OVN_CHASSIS_REDIRECT: return False try: lsp = self.driver._nb_ovn.lookup('Logical_Switch_Port', row.logical_port) except idlutils.RowNotFound: LOG.warning(""Logical Switch Port %(port)s not found for "" ""Port_Binding %(binding)s"", {'port': row.logical_port, 'binding': row.uuid}) return False return bool(lsp.up) def run(self, event, row, old=None): self.driver.set_port_status_up(row.logical_port) self.notify_handler.watch_events( [self._chassis_event, self._portbinding_event, PortBindingChassisUpdateEvent(self.driver)])"," self.notify_handler.watch_events([self._chassis_event, self._portbinding_event])",41,2
openstack%2Ftripleo-ansible~master~Id6e85099d6867eb873aa3bcefc1148e081812f68,openstack/tripleo-ansible,master,Id6e85099d6867eb873aa3bcefc1148e081812f68,Change parameters processing to class based,MERGED,2019-10-06 22:55:45.000000000,2019-10-07 16:36:19.000000000,2019-10-07 16:36:19.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-06 22:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56c8647e964f500cc64b916599770ed118b0a3ad', 'message': 'Change parameters processing to class based\n\nAlso change parameters to what they should be accordint to podman\nspecs. Add defaults for booleans in description.\nChange-Id: Id6e85099d6867eb873aa3bcefc1148e081812f68\n'}, {'number': 2, 'created': '2019-10-06 23:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f32c848cd6871f3c245c2a396d40c6ebe94bc5ca', 'message': 'Change parameters processing to class based\n\nAlso change parameters to what they should be accordint to podman\nspecs. Add defaults for booleans in description.\nChange-Id: Id6e85099d6867eb873aa3bcefc1148e081812f68\n'}, {'number': 3, 'created': '2019-10-06 23:21:47.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/playbooks/podman_tests.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ea76fb87b9a7c7635178755e634f819fe4d156c7', 'message': 'Change parameters processing to class based\n\nAlso change parameters to what they should be according to podman\nspecs. Add defaults for booleans in description. Improve module\ndocs and other stuff.\nChange-Id: Id6e85099d6867eb873aa3bcefc1148e081812f68\n'}]",0,686953,ea76fb87b9a7c7635178755e634f819fe4d156c7,12,5,3,10969,,,0,"Change parameters processing to class based

Also change parameters to what they should be according to podman
specs. Add defaults for booleans in description. Improve module
docs and other stuff.
Change-Id: Id6e85099d6867eb873aa3bcefc1148e081812f68
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/686953/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/playbooks/podman_tests.yml']",2,56c8647e964f500cc64b916599770ed118b0a3ad,podmancont_next," - ansible_facts.distribution in ['RedHat', 'Fedora', 'CentOS'] block: - name: Delete all container leftovers from tests podman_container: name: ""{{ item }}"" state: absent loop: - ""alpine:3.7"" - ""container"" - ""container2"" - >- (test.ansible_facts.podman_container['HostConfig']['Dns'] is defined and test.ansible_facts.podman_container['HostConfig']['Dns'] == ['1.1.1.1', '8.8.4.4']) or (test.ansible_facts.podman_container['HostConfig']['DNS'] is defined and test.ansible_facts.podman_container['HostConfig']['DNS'] == ['1.1.1.1', '8.8.4.4']) - >- (test.ansible_facts.podman_container['HostConfig']['DnsSearch'] is defined and test.ansible_facts.podman_container['HostConfig']['DnsSearch'] == ['example.com']) or (test.ansible_facts.podman_container['HostConfig']['DNSSearch'] is defined and test.ansible_facts.podman_container['HostConfig']['DNSSearch'] == ['example.com']) # test mounts (test.ansible_facts.podman_container['Mounts'][0]['Destination'] is defined and '/data' in test.ansible_facts.podman_container['Mounts'] | map(attribute='Destination') | list) or (test.ansible_facts.podman_container['Mounts'][0]['destination'] is defined and '/data' in test.ansible_facts.podman_container['Mounts'] | map(attribute='destination') | list) (test.ansible_facts.podman_container['Mounts'][0]['Source'] is defined and '/tmp' in test.ansible_facts.podman_container['Mounts'] | map(attribute='Source') | list) or (test.ansible_facts.podman_container['Mounts'][0]['source'] is defined and '/tmp' in test.ansible_facts.podman_container['Mounts'] | map(attribute='source') | list) always: - name: Delete all container leftovers from tests podman_container: name: ""{{ item }}"" state: absent loop: - ""alpine:3.7"" - ""container"" - ""container2"""," block: - test.ansible_facts.podman_container['HostConfig']['Dns'] is defined - test.ansible_facts.podman_container['HostConfig']['Dns'] == ['1.1.1.1', '8.8.4.4'] - test.ansible_facts.podman_container['HostConfig']['DnsSearch'] == ['example.com'] # test mounts, in some of podman versions ""source"" and ""destination"" could be with different case # that's totally bizarre, but that's what it is test.ansible_facts.podman_container['Mounts'][0]['destination'] is defined and '/data' in test.ansible_facts.podman_container['Mounts'] | map(attribute='destination') | list or test.ansible_facts.podman_container['Mounts'][0]['Destination'] is defined and '/data' in test.ansible_facts.podman_container['Mounts'] | map(attribute='Destination') | list test.ansible_facts.podman_container['Mounts'][0]['source'] is defined and '/tmp' in test.ansible_facts.podman_container['Mounts'] | map(attribute='source') | list or test.ansible_facts.podman_container['Mounts'][0]['Source'] is defined and '/tmp' in test.ansible_facts.podman_container['Mounts'] | map(attribute='Source') | list",353,269
openstack%2Fnova~master~Ib992f285dcf1ed46aaded839be55b48bfb7961da,openstack/nova,master,Ib992f285dcf1ed46aaded839be55b48bfb7961da,Placement api: add tox check for webob wsgify decorator,ABANDONED,2017-02-21 20:54:37.000000000,2019-10-07 16:35:25.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18335}, {'_account_id': 18602}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-21 20:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c480f80a8f0a6c94af4ffb8222fc43c9fe87a26', 'message': 'Placement api: add tox check for webob wsgify decorator\n\nwe have added wrapper for webob wsgify in placement api in\norder to set custom json error formatter.\n\nHence, placement api resource handlers should use wsgi_wrapper.PlacementWsgify\nas a decorator instead of webob.dec.wsgify\n\nThis changes addresses tox check within placement handlers so as to\navoid use of webob wsgify decorator.\n\nChange-Id: Ib992f285dcf1ed46aaded839be55b48bfb7961da\nRelated-Bug: #1635182\n'}, {'number': 2, 'created': '2017-03-20 13:35:44.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/286151857f7c8e6a104c7a46ece250d3c778323b', 'message': 'Placement api: add tox check for webob wsgify decorator\n\nwe have added wrapper for webob wsgify in placement api in\norder to set custom json error formatter.\n\nHence, placement api resource handlers should use wsgi_wrapper.PlacementWsgify\nas a decorator instead of webob.dec.wsgify\n\nThis changes addresses tox check within placement handlers so as to\navoid use of webob wsgify decorator.\n\nChange-Id: Ib992f285dcf1ed46aaded839be55b48bfb7961da\nRelated-Bug: #1635182\n'}]",5,436671,286151857f7c8e6a104c7a46ece250d3c778323b,26,12,2,18335,,,0,"Placement api: add tox check for webob wsgify decorator

we have added wrapper for webob wsgify in placement api in
order to set custom json error formatter.

Hence, placement api resource handlers should use wsgi_wrapper.PlacementWsgify
as a decorator instead of webob.dec.wsgify

This changes addresses tox check within placement handlers so as to
avoid use of webob wsgify decorator.

Change-Id: Ib992f285dcf1ed46aaded839be55b48bfb7961da
Related-Bug: #1635182
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/436671/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst']",3,1c480f80a8f0a6c94af4ffb8222fc43c9fe87a26,bug/1635182,- [N359] Ensure that wsgi_wrapper.PlacementWsgify decorator must be used instead of webob.dec.wsgify for placement API handlers.,,34,0
openstack%2Fnova~stable%2Frocky~Iac2911a7a305a9d14bc6dadb364998f3ecb9ce42,openstack/nova,stable/rocky,Iac2911a7a305a9d14bc6dadb364998f3ecb9ce42,Add useful error log when _determine_version_cap raises DBNotAllowed,MERGED,2019-08-30 13:41:18.000000000,2019-10-07 16:33:09.000000000,2019-10-07 16:33:09.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-30 13:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14dd1d4d0f7ca3791025808cd5f7c65371bb2dc', 'message': 'Add useful error log when _determine_version_cap raises DBNotAllowed\n\nChange Icddbe4760eaff30e4e13c1e8d3d5d3f489dac3c4 was intended for the\nAPI service to check all cells for the minimum nova-compute service\nversion when [upgrade_levels]/compute=auto.\n\nThat worked in the gate with devstack because we don\'t configure\nnova-compute with access to the database and run nova-compute with\na separate nova-cpu.conf so even if nova-compute is on the same\nhost as the nova-api service, they aren\'t using the same config\nfile (nova-api runs with nova.conf which has access to the API DB\nobviously).\n\nThe problem is when nova-compute is configured with\n[upgrade_levels]/compute=auto and an [api_database]/connection,\nthere are flows that can try to hit the API database directly\nbecause of the _determine_version_cap method. For example, the\n_sync_power_states periodic task trying to stop an instance,\nor even simple inter-compute communication over RPC like during\na resize.\n\nThis change simply catches the DBNotAllowed exception, logs a more\nuseful error message, and re-raises the exception. In addition,\nthe config help for the [api_database] group and ""configuration""\noption specifically are updated to mention they should not be set\non the nova-compute service.\n\nNOTE(mriedem): The test was modified to set the LAST_VERSION\nglobal to None since change I48109d5e32a2e9635c240da1c77f7f6cc7e3c76d\nis not in Stein.\n\nChange-Id: Iac2911a7a305a9d14bc6dadb364998f3ecb9ce42\nRelated-Bug: #1807044\nCloses-Bug: #1839360\n(cherry picked from commit 7d7d58509d5e60ec19c6310931dc62eeff033595)\n(cherry picked from commit bd03723a0c1a16d67433658fb486a84bb1bddf02)\n'}, {'number': 2, 'created': '2019-08-30 13:41:37.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/compute/rpcapi.py', 'nova/conf/database.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7732f0e6f3691025a06f2abfc5a57c71d83e5e72', 'message': 'Add useful error log when _determine_version_cap raises DBNotAllowed\n\nChange Icddbe4760eaff30e4e13c1e8d3d5d3f489dac3c4 was intended for the\nAPI service to check all cells for the minimum nova-compute service\nversion when [upgrade_levels]/compute=auto.\n\nThat worked in the gate with devstack because we don\'t configure\nnova-compute with access to the database and run nova-compute with\na separate nova-cpu.conf so even if nova-compute is on the same\nhost as the nova-api service, they aren\'t using the same config\nfile (nova-api runs with nova.conf which has access to the API DB\nobviously).\n\nThe problem is when nova-compute is configured with\n[upgrade_levels]/compute=auto and an [api_database]/connection,\nthere are flows that can try to hit the API database directly\nbecause of the _determine_version_cap method. For example, the\n_sync_power_states periodic task trying to stop an instance,\nor even simple inter-compute communication over RPC like during\na resize.\n\nThis change simply catches the DBNotAllowed exception, logs a more\nuseful error message, and re-raises the exception. In addition,\nthe config help for the [api_database] group and ""configuration""\noption specifically are updated to mention they should not be set\non the nova-compute service.\n\nChange-Id: Iac2911a7a305a9d14bc6dadb364998f3ecb9ce42\nRelated-Bug: #1807044\nCloses-Bug: #1839360\n(cherry picked from commit 7d7d58509d5e60ec19c6310931dc62eeff033595)\n(cherry picked from commit bd03723a0c1a16d67433658fb486a84bb1bddf02)\n'}]",0,679449,7732f0e6f3691025a06f2abfc5a57c71d83e5e72,13,7,2,6873,,,0,"Add useful error log when _determine_version_cap raises DBNotAllowed

Change Icddbe4760eaff30e4e13c1e8d3d5d3f489dac3c4 was intended for the
API service to check all cells for the minimum nova-compute service
version when [upgrade_levels]/compute=auto.

That worked in the gate with devstack because we don't configure
nova-compute with access to the database and run nova-compute with
a separate nova-cpu.conf so even if nova-compute is on the same
host as the nova-api service, they aren't using the same config
file (nova-api runs with nova.conf which has access to the API DB
obviously).

The problem is when nova-compute is configured with
[upgrade_levels]/compute=auto and an [api_database]/connection,
there are flows that can try to hit the API database directly
because of the _determine_version_cap method. For example, the
_sync_power_states periodic task trying to stop an instance,
or even simple inter-compute communication over RPC like during
a resize.

This change simply catches the DBNotAllowed exception, logs a more
useful error message, and re-raises the exception. In addition,
the config help for the [api_database] group and ""configuration""
option specifically are updated to mention they should not be set
on the nova-compute service.

Change-Id: Iac2911a7a305a9d14bc6dadb364998f3ecb9ce42
Related-Bug: #1807044
Closes-Bug: #1839360
(cherry picked from commit 7d7d58509d5e60ec19c6310931dc62eeff033595)
(cherry picked from commit bd03723a0c1a16d67433658fb486a84bb1bddf02)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/679449/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/compute/rpcapi.py', 'nova/conf/database.py']",3,e14dd1d4d0f7ca3791025808cd5f7c65371bb2dc,bug/1839360," This group should **not** be configured for the ``nova-compute`` service. # This help gets appended to the oslo.db help so prefix with a space. help=' Do not set this for the ``nova-compute`` service.'),"," help=''),",47,3
openstack%2Fnova~master~Ic6926eecda1f9dd7183d66c67f04f308f6a1799d,openstack/nova,master,Ic6926eecda1f9dd7183d66c67f04f308f6a1799d,Add functional regression test for migrate part of bug 1781286,MERGED,2019-10-01 17:33:48.000000000,2019-10-07 16:33:07.000000000,2019-10-03 09:35:56.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 17:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef27997a54b076dacc09a79873cf02537a0a3681', 'message': 'Add functional regression test for migrate part of bug 1781286\n\nThis is similar to I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nexcept it covers a reschedule during a cold migration rather\nthan an initial server create.\n\nChange-Id: Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nRelated-Bug: #1781286\n'}, {'number': 2, 'created': '2019-10-01 21:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d40023235f5d6fac646f3e535b7afe1f03c832df', 'message': 'Add functional regression test for migrate part of bug 1781286\n\nThis is similar to I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nexcept it covers a reschedule during a cold migration rather\nthan an initial server create.\n\nChange-Id: Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nRelated-Bug: #1781286\n'}, {'number': 3, 'created': '2019-10-02 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0d74c9e75202131ef315f2dca70c2e6573989de', 'message': 'Add functional regression test for migrate part of bug 1781286\n\nThis is similar to I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nexcept it covers a reschedule during a cold migration rather\nthan an initial server create.\n\nChange-Id: Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nRelated-Bug: #1781286\n'}, {'number': 4, 'created': '2019-10-02 17:44:28.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1781286.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f07697ebff31daa5ee8c8b3a29b55403522ba445', 'message': 'Add functional regression test for migrate part of bug 1781286\n\nThis is similar to I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nexcept it covers a reschedule during a cold migration rather\nthan an initial server create.\n\nChange-Id: Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nRelated-Bug: #1781286\n'}]",10,686017,f07697ebff31daa5ee8c8b3a29b55403522ba445,51,11,4,6873,,,0,"Add functional regression test for migrate part of bug 1781286

This is similar to I62179d6b93ea1a23c4906477ee19b422bfcb72a2
except it covers a reschedule during a cold migration rather
than an initial server create.

Change-Id: Ic6926eecda1f9dd7183d66c67f04f308f6a1799d
Related-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/686017/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1781286.py'],1,ef27997a54b076dacc09a79873cf02537a0a3681,bug/1781286,"from nova import exception class RescheduleMigrateAvailabilityZoneUpCall( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""This is a regression test for the resize/cold migrate aspect of bug 1781286 where the cell conductor does not have access to the API DB. """""" def setUp(self): super(RescheduleMigrateAvailabilityZoneUpCall, self).setUp() # Use the standard fixtures. self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Start controller services. self.api = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')).admin_api self.start_service('conductor') self.start_service('scheduler') # We need three hosts for this test, one is the initial host on which # the server is built, and the others are for the migration where the # first will fail and the second is an alternate. self.start_service('compute', host='host1') self.start_service('compute', host='host2') self.start_service('compute', host='host3') # Listen for notifications. fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) def test_migrate_reschedule_blocked_az_up_call(self): # We need to stub out the call to get_host_availability_zone to blow # up once we have gone to the compute service. def wrap_prep_resize(*args, **kwargs): # Poison the AZ query to blow up as if the cell conductor does not # have access to the API DB. self.useFixture( fixtures.MockPatch( 'nova.objects.AggregateList.get_by_host', side_effect=oslo_db_exc.CantStartEngineError)) # Trigger a reschedule. raise exception.ComputeResourcesUnavailable( reason='test_migrate_reschedule_blocked_az_up_call') self.stub_out('nova.compute.manager.ComputeManager._prep_resize', wrap_prep_resize) server = self._build_minimal_create_server_request( self.api, 'test_migrate_reschedule_blocked_az_up_call') server = self.api.post_server({'server': server}) server = self._wait_for_state_change(self.api, server, 'ACTIVE') original_host = server['OS-EXT-SRV-ATTR:host'] # Now cold migrate the server to the other host. self.api.post_server_action(server['id'], {'migrate': None}) # FIXME(mriedem): This is bug 1781286 where we reschedule from the # first selected host to conductor which will try to get the AZ for the # alternate host selection which will fail since it cannot access the # API DB. fake_notifier.wait_for_versioned_notifications( 'compute_task.migrate_server.error') server = self._wait_for_server_parameter( self.api, server, {'status': 'ERROR', 'OS-EXT-SRV-ATTR:host': original_host, 'OS-EXT-STS:task_state': None}) # Assert there is a fault injected on the server. This is a bit # annoying in that we would expect to see CantStartEngineError but # because of how ComputeManager._reschedule_resize_or_reraise works. # the reschedule call to conductor is an RPC call so that exception # comes back to compute which injects a fault but then re-raises the # ComputeResourcesUnavailable exception which gets recorded as the most # recent fault which is what shows up in the API. self.assertIn('Insufficient compute resources', server['fault']['message'])",,76,0
openstack%2Fnova~master~Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9,openstack/nova,master,Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9,Prevent using blank volume as boot device,ABANDONED,2015-04-09 09:43:56.000000000,2019-10-07 16:25:15.000000000,,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6742}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 8247}, {'_account_id': 8412}, {'_account_id': 8846}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 12175}, {'_account_id': 12604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17160}, {'_account_id': 17292}, {'_account_id': 17920}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2015-04-09 09:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/920a3a94c8413c0d7c07cef2c66dde735d472288', 'message': 'Allow bdm boot_index=1 when creating vm from image\n\nIf create vm from image and with bdm args like:\nsource=blank,dest=volume,device=vdb,bootindex=1,size=1,\nallow nova to create vm using image as bootable disk and\nusing blank volume as data disk.\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n'}, {'number': 2, 'created': '2015-04-10 03:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13ecf5b12f8ebf36aefdc8444e080c1a49b1e770', 'message': 'Allow bdm boot_index=1 when creating vm from image\n\nIf create vm from image and with bdm args like:\nsource=blank,dest=volume,device=vdb,bootindex=1,size=1,\nallow nova to create vm using image as bootable disk and\nusing blank volume as data disk.\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n'}, {'number': 3, 'created': '2015-04-14 08:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a860fdd8bc0900886d927b8d74ea4ad7997234a', 'message': 'Allow bdm boot_index=1 when creating vm from image\n\nIn the case of booting from image, this patch allows nova\nto create vm with blank bdm argument boot_index=1.\nNow python-novaclient has supported this function like this:\n\nnova boot --image 0c466b13-163c-4f2f-adfd-cde58d79b33c --flavor\nwanghaotype --nic net-id=b8708653-66e4-4f33-91a7-97eb0c65b54e\n--block-device source=blank,dest=volume,device=vdb,bootindex=0,size=1\nwanghao\n\nBut in nova side, we should allow user to specify bdm parameters\nlike mentioned above when not use novaclient.\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n'}, {'number': 4, 'created': '2015-05-06 03:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/720cc0d573a11eada6cbda2958c966fca70015a8', 'message': 'Allow bdm boot_index=1 when creating vm from image\n\nIf create vm from image and with bdm args like:\nsource=blank,dest=volume,device=vdb,bootindex=1,size=1,\nallow nova to create vm using image as bootable disk and\nusing blank volume as data disk.\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n'}, {'number': 5, 'created': '2015-05-07 02:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58c732a081a6714596e9f20a9a5395302bb52342', 'message': 'Allow bdm boot_index=1 when creating vm from image\n\nThis change will allow user create vm from image and with\nbdm args by REST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=1,size=1.\n\nThat will make nova to create vm using image as bootable disk and\nusing blank volume as data disk.\n\nThis change relates to bdm v2 only and affects all other values\nof boot_index(except 0).\n\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n'}, {'number': 6, 'created': '2015-05-12 02:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b7bd92727231f86c0013e6f9914a9240fdbd11', 'message': 'Allow bdm boot_index=1 when creating vm from image\n\nThis change will allow user create vm from image and with\nbdm args by REST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=1,size=1.\n\nThat will make nova to create vm using image as bootable disk and\nusing blank volume as data disk.\n\nThis change relates to bdm v2 only and affects all other values\nof boot_index(except 0).\n\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n'}, {'number': 7, 'created': '2015-07-07 06:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e62964619f30a8aecbcdcee070edf1e9d854c6ca', 'message': ""Image/block device mapping combination is not valid\n\nThis change will forbid user create vm from image and with\nbdm args by REST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\n\nThat will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n""}, {'number': 8, 'created': '2015-07-14 03:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbdbaac3ac68e5eadeb43f871986e47142cab512', 'message': ""Image/block device mapping combination is not valid\n\nThis change will forbid user create vm from image and with\nbdm args by REST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\n\nThat will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n""}, {'number': 9, 'created': '2015-07-16 04:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/971c614c37e974bc8583b60d76636acfc385a5de', 'message': ""Image/block device mapping combination is not valid\n\nThis change will forbid user create vm from image and with\nother boot_index=0 bdm args by REST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\n\nThis exmple will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n""}, {'number': 10, 'created': '2015-07-22 02:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/882fa9ffbf3de92fb0e1f16b9b2d765cda7d392b', 'message': ""Image/block device mapping combination is not valid\n\nThis change will forbid user create vm from image and with\nother boot_index=0 bdm args by REST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\n\nThis exmple will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\n""}, {'number': 11, 'created': '2015-08-05 01:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ced68169cf7c95b01659b979a4348589e653cd30', 'message': ""Image&block device mapping combination isn't valid\n\nCase 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nCase 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 12, 'created': '2015-08-20 07:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f98248883a9558a2710e116d00a9965d9fe658b7', 'message': ""Image&block device mapping combination isn't valid\n\nCase 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nCase 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 13, 'created': '2015-11-11 04:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66b949ad79409b91611347fb418a6df649c53611', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 14, 'created': '2015-12-03 01:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f9b97cf0a4e76aec4cfa426a09fdc4cced06626', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 15, 'created': '2015-12-17 08:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d63a894330464e3ebc96adfc14ac7b6ee08f3bdd', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 16, 'created': '2016-05-20 02:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3349163dcd7d0f2f9a0a16642e11d9edb3cbc4c', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 17, 'created': '2016-08-29 01:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7485d45cb3da4653b83fb1ceb4208d9f6b38e199', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 18, 'created': '2016-08-29 03:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44da42f2c64859abd23cb2a397594fbff6d90938', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 19, 'created': '2017-12-09 07:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3d21766d800ee4c3897f0f4a95a125b30dccbe4', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 20, 'created': '2017-12-09 07:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b8a2cebea4e458b6b8a1c9b6a2d92865896166b', 'message': ""Fix invalid Image&block device mapping combination\n\nIssue Case 1:\nUser create vm from image and with other boot_index=0 bdm args by\nREST API call like this:\nsource=blank,dest=volume,device=vdb,bootindex=0,size=1.\nThis will make nova to create vm only with a blank volume as disk.\nIt's weird and novaclient has forbidden this kind of combination.\n\nIssue Case 2:\nIf booting an instance with block_device_mapping_v2 with follow\ncommand:\n--block-device source=blank,dest=volume,device=vda,size=2\nnova will only create one block device as boot device without local\ntemporary disk, even we can see from the request body we pass 2 block\ndevice mapping:\n{u'source_type': u'image', u'destination_type': u'local', u'boot_index':\n0,...}\n{u'source_type': u'blank', u'destination_type': u'volume', ...\n u'device_name': u'vda'}\nSo this command line is incorrect which should be refused.\n\nFIX: Add combination check in comput/api.py to avoid those\ncases.\n\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nDocImpact\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}, {'number': 21, 'created': '2019-10-07 14:14:32.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/746782df587899fea98effa1f2114016fe2373e5', 'message': ""Prevent using blank volume as boot device\n\nThere are two issues here:\n\n1. User create vm from image and with other boot_index=0 bdm args by\n   REST API call like this:\n\n     source=blank,dest=volume,device=vdb,bootindex=0,size=1.\n\n   This will make nova to create vm only with a blank volume as disk.\n   It's weird and novaclient has forbidden this kind of combination.\n\n2. If booting an instance with block_device_mapping_v2 with follow\n   command:\n\n     --block-device source=blank,dest=volume,device=vda,size=2\n\n   nova will only create one block device as boot device without local\n   temporary disk, even we can see from the request body we pass 2 block\n   device mapping:\n\n     {u'source_type': u'image', u'destination_type': u'local',\n      u'boot_index': 0,...}\n     {u'source_type': u'blank', u'destination_type': u'volume', ...\n      u'device_name': u'vda'}\n\n   So this command line is incorrect which should be refused.\n\nThe fix for both is the same: add checks to the API to prevent the\ncombinations.\n\nChange-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9\nCo-Authored-By: Eli Qiao <qiaoliyong@gmail.com>\nCloses-bug: #1441990\nCloses-bug: #1449858\n""}]",64,171984,746782df587899fea98effa1f2114016fe2373e5,294,42,21,8846,,,0,"Prevent using blank volume as boot device

There are two issues here:

1. User create vm from image and with other boot_index=0 bdm args by
   REST API call like this:

     source=blank,dest=volume,device=vdb,bootindex=0,size=1.

   This will make nova to create vm only with a blank volume as disk.
   It's weird and novaclient has forbidden this kind of combination.

2. If booting an instance with block_device_mapping_v2 with follow
   command:

     --block-device source=blank,dest=volume,device=vda,size=2

   nova will only create one block device as boot device without local
   temporary disk, even we can see from the request body we pass 2 block
   device mapping:

     {u'source_type': u'image', u'destination_type': u'local',
      u'boot_index': 0,...}
     {u'source_type': u'blank', u'destination_type': u'volume', ...
      u'device_name': u'vda'}

   So this command line is incorrect which should be refused.

The fix for both is the same: add checks to the API to prevent the
combinations.

Change-Id: Id2a5282b1b5a269d0012b140485e8e2f4ef8c7d9
Co-Authored-By: Eli Qiao <qiaoliyong@gmail.com>
Closes-bug: #1441990
Closes-bug: #1449858
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/171984/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,920a3a94c8413c0d7c07cef2c66dde735d472288,bug/1441990," if instance.image_ref and 0 not in boot_indexes: boot_indexes.insert(0,0) ",,20,0
openstack%2Fnova~master~I9ff116de8b63c0fbfb880008718b1386178b1d1a,openstack/nova,master,I9ff116de8b63c0fbfb880008718b1386178b1d1a,Update cells v2 up-call caveats doc,MERGED,2019-10-01 21:46:12.000000000,2019-10-07 16:24:41.000000000,2019-10-04 23:38:40.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-01 21:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7be902a8d9427cb7964d70a37ccdd06378d8552f', 'message': 'Update cells v2 up-call caveats doc\n\nWith the fix for bug 1781286 for reschedules during server\ncreate and resize/migrate, we can update the cells v2 docs\nsaying the up-call issue for that big is now fixed.\n\nChange-Id: I9ff116de8b63c0fbfb880008718b1386178b1d1a\nRelated-Bug: #1781286\n'}, {'number': 2, 'created': '2019-10-02 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc9281edcc0fce84a2ba3e67890900bb71dfd3fc', 'message': 'Update cells v2 up-call caveats doc\n\nWith the fix for bug 1781286 for reschedules during server\ncreate and resize/migrate, we can update the cells v2 docs\nsaying the up-call issue for that big is now fixed.\n\nChange-Id: I9ff116de8b63c0fbfb880008718b1386178b1d1a\nRelated-Bug: #1781286\n'}, {'number': 3, 'created': '2019-10-02 17:44:28.000000000', 'files': ['doc/source/user/cellsv2-layout.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a87fbdda9d74949fa149d73c8ad821399d817c50', 'message': 'Update cells v2 up-call caveats doc\n\nWith the fix for bug 1781286 for reschedules during server\ncreate and resize/migrate, we can update the cells v2 docs\nsaying the up-call issue for that big is now fixed.\n\nChange-Id: I9ff116de8b63c0fbfb880008718b1386178b1d1a\nRelated-Bug: #1781286\n'}]",0,686053,a87fbdda9d74949fa149d73c8ad821399d817c50,38,11,3,6873,,,0,"Update cells v2 up-call caveats doc

With the fix for bug 1781286 for reschedules during server
create and resize/migrate, we can update the cells v2 docs
saying the up-call issue for that big is now fixed.

Change-Id: I9ff116de8b63c0fbfb880008718b1386178b1d1a
Related-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/686053/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cellsv2-layout.rst'],1,7be902a8d9427cb7964d70a37ccdd06378d8552f,bug/1781286, .. note:: This has been resolved in the Ussuri release [#]_ [#]_. .. [#] https://review.opendev.org/686047/ .. [#] https://review.opendev.org/686050/,,4,0
openstack%2Fossa~master~If8f83974881740d6b5f2eefb83ce215b1dce3461,openstack/ossa,master,If8f83974881740d6b5f2eefb83ce215b1dce3461,Add OSSA-2019-005 (CVE-2019-17134),MERGED,2019-10-04 13:41:33.000000000,2019-10-07 16:19:53.000000000,2019-10-07 16:18:35.000000000,"[{'_account_id': 5263}, {'_account_id': 6469}, {'_account_id': 9311}, {'_account_id': 10273}, {'_account_id': 14288}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27316}]","[{'number': 1, 'created': '2019-10-04 13:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/918415b94f644e27b146e2a870c121b93e2002c3', 'message': 'Add OSSA-2019-005 (CVE-2019-17134)\n\nChange-Id: If8f83974881740d6b5f2eefb83ce215b1dce3461\n'}, {'number': 2, 'created': '2019-10-05 07:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/fb5294b51544c07f1aa643e736705c71300948b1', 'message': 'Add OSSA-2019-005 (CVE-2019-17134)\n\nChange-Id: If8f83974881740d6b5f2eefb83ce215b1dce3461\n'}, {'number': 3, 'created': '2019-10-07 15:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ossa/commit/cfb32d221c1bce4fad0747eb486c39fbed7759c0', 'message': 'Add OSSA-2019-005 (CVE-2019-17134)\n\nChange-Id: If8f83974881740d6b5f2eefb83ce215b1dce3461\n'}, {'number': 4, 'created': '2019-10-07 15:25:21.000000000', 'files': ['ossa/OSSA-2019-005.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/fd57202868a8651f2c39b1d39dff1ba3fd37ac6e', 'message': 'Add OSSA-2019-005 (CVE-2019-17134)\n\nChange-Id: If8f83974881740d6b5f2eefb83ce215b1dce3461\n'}]",13,686724,fd57202868a8651f2c39b1d39dff1ba3fd37ac6e,29,8,4,27316,,,0,"Add OSSA-2019-005 (CVE-2019-17134)

Change-Id: If8f83974881740d6b5f2eefb83ce215b1dce3461
",git fetch https://review.opendev.org/openstack/ossa refs/changes/24/686724/4 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2019-005.yaml'],1,918415b94f644e27b146e2a870c121b93e2002c3,686724,date: 2019-10-04 id: OSSA-2019-005 title: 'Octavia Amphora-Agent not requiring Client-Certificate' description: > Amphora Images in OpenStack Octavia versions from 0.10.0 allow unauthenticated access to the Amphora Agent from the management network. This leads to information disclosure and also allows changes to the configuration of the Amphora via simple HTTP requests because cmd/agent.py gunicorn cert_reqs option is falsely set to True instead of ssl.CERT_REQUIRED. affected-products: - product: 'octavia' version: '>=0.10.0' vulnerabilities: - cve-id: CVE-2019-17134 reporters: - name: 'Daniel Preussker' reported: - CVE-2019-17134 issues: links: - https://storyboard.openstack.org/#!/story/2006660 reviews: master: - https://review.opendev.org/686540 train: - https://review.opendev.org/686541 stein: - https://review.opendev.org/686543 rocky: - https://review.opendev.org/686544 queens: - https://review.opendev.org/686545 pike: - https://review.opendev.org/686546 ocata: - https://review.opendev.org/686547 type: gerrit ,,58,0
openstack%2Fnova~master~I103d5023d3a3a7c367c7eea7fb103cb8ec52accf,openstack/nova,master,I103d5023d3a3a7c367c7eea7fb103cb8ec52accf,Set Instance AZ from Selection AZ during migrate reschedule,MERGED,2019-10-01 21:33:02.000000000,2019-10-07 16:18:16.000000000,2019-10-04 23:38:35.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 21:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd6b69cc1bdb195889e27c2a0ea86f367a5e7344', 'message': 'Set Instance AZ from Selection AZ during migrate reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring a resize or cold migrate so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that RPC is pinned during a rolling upgrade and the\navailability_zone field is not in the Selection object, there are\nexisting unit tests in nova.tests.unit.conductor.tasks.test_migrate\nwhich will make sure we are not unconditionally trying to access\nthe Selection.availability_zone field.\n\nChange-Id: I103d5023d3a3a7c367c7eea7fb103cb8ec52accf\nCloses-Bug: #1781286\n'}, {'number': 2, 'created': '2019-10-01 21:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf87eb4859fd6bb5f7d514042ec31f8b3a3de2fc', 'message': 'Set Instance AZ from Selection AZ during migrate reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring a resize or cold migrate so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that RPC is pinned during a rolling upgrade and the\navailability_zone field is not in the Selection object, there are\nexisting unit tests in nova.tests.unit.conductor.tasks.test_migrate\nwhich will make sure we are not unconditionally trying to access\nthe Selection.availability_zone field.\n\nChange-Id: I103d5023d3a3a7c367c7eea7fb103cb8ec52accf\nCloses-Bug: #1781286\n'}, {'number': 3, 'created': '2019-10-02 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6daecdc6d7a59378968f7cec988facfe20895d46', 'message': 'Set Instance AZ from Selection AZ during migrate reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring a resize or cold migrate so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that RPC is pinned during a rolling upgrade and the\navailability_zone field is not in the Selection object, there are\nexisting unit tests in nova.tests.unit.conductor.tasks.test_migrate\nwhich will make sure we are not unconditionally trying to access\nthe Selection.availability_zone field.\n\nChange-Id: I103d5023d3a3a7c367c7eea7fb103cb8ec52accf\nCloses-Bug: #1781286\n'}, {'number': 4, 'created': '2019-10-02 17:44:28.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1781286.py', 'nova/conductor/tasks/migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac85b76178017b4bda30502a6ebb9c990435ec72', 'message': 'Set Instance AZ from Selection AZ during migrate reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring a resize or cold migrate so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in Ic6926eecda1f9dd7183d66c67f04f308f6a1799d\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that the availability_zone field is not in the Selection\nobject, there are existing unit tests in\nnova.tests.unit.conductor.tasks.test_migrate which will make sure we\nare not unconditionally trying to access the Selection.availability_zone\nfield.\n\nChange-Id: I103d5023d3a3a7c367c7eea7fb103cb8ec52accf\nCloses-Bug: #1781286\n'}]",10,686050,ac85b76178017b4bda30502a6ebb9c990435ec72,77,14,4,6873,,,0,"Set Instance AZ from Selection AZ during migrate reschedule

This builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8
to use the Selection.availability_zone value when rescheduling
during a resize or cold migrate so that the cell conductor does not
have to make an up-call to the aggregates table in the API DB
which will fail if the cell conductor is not configured to use
the API DB.

The functional test added in Ic6926eecda1f9dd7183d66c67f04f308f6a1799d
is updated to show the failure is gone and we get the AZ from the
Selection object during the reschedule.

For the case that the availability_zone field is not in the Selection
object, there are existing unit tests in
nova.tests.unit.conductor.tasks.test_migrate which will make sure we
are not unconditionally trying to access the Selection.availability_zone
field.

Change-Id: I103d5023d3a3a7c367c7eea7fb103cb8ec52accf
Closes-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/686050/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1781286.py', 'nova/conductor/tasks/migrate.py']",2,fd6b69cc1bdb195889e27c2a0ea86f367a5e7344,bug/1781286," # If the Selection object has the AZ set use that. Note that the # field might not be set if RPC is pinned to an older version # during a rolling upgrade. if 'availability_zone' in selection: self.instance.availability_zone = selection.availability_zone else: self.instance.availability_zone = ( availability_zones.get_host_availability_zone( self.context, host))"," self.instance.availability_zone = ( availability_zones.get_host_availability_zone( self.context, host))",36,26
openstack%2Fnova~master~I4e2e12b15a0ce8acb0f09d9940543ab6d44190a9,openstack/nova,master,I4e2e12b15a0ce8acb0f09d9940543ab6d44190a9,nova-net: Remove explicit 'USE_NEUTRON = True',MERGED,2019-10-01 11:13:09.000000000,2019-10-07 16:16:35.000000000,2019-10-03 19:44:43.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 11:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8b11867603e436593a693e4fcb7d8b1084770c9', 'message': ""nova-net: Remove explicit 'USE_NEUTRON = True'\n\nThese are no longer necessary since this is the default.\n\nChange-Id: I4e2e12b15a0ce8acb0f09d9940543ab6d44190a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-02 15:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/564101db8dcabf46c1de319e57d55d66377835ec', 'message': ""nova-net: Remove explicit 'USE_NEUTRON = True'\n\nThese are no longer necessary since this is the default.\n\nChange-Id: I4e2e12b15a0ce8acb0f09d9940543ab6d44190a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-10-02 15:14:01.000000000', 'files': ['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/functional/api_sample_tests/test_multinic.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/api_sample_tests/test_evacuate.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/api_sample_tests/test_shelve.py', 'nova/tests/functional/api_sample_tests/test_security_groups.py', 'nova/tests/functional/regressions/test_bug_1669054.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/60f8c50b6fb43559d9720dc3a7e076e1ba82ae5c', 'message': ""nova-net: Remove explicit 'USE_NEUTRON = True'\n\nThese are no longer necessary since this is the default.\n\nChange-Id: I4e2e12b15a0ce8acb0f09d9940543ab6d44190a9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,685937,60f8c50b6fb43559d9720dc3a7e076e1ba82ae5c,34,11,3,15334,,,0,"nova-net: Remove explicit 'USE_NEUTRON = True'

These are no longer necessary since this is the default.

Change-Id: I4e2e12b15a0ce8acb0f09d9940543ab6d44190a9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/685937/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/functional/api_sample_tests/test_multinic.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/api_sample_tests/test_evacuate.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/api_sample_tests/test_shelve.py', 'nova/tests/functional/api_sample_tests/test_security_groups.py', 'nova/tests/functional/regressions/test_bug_1669054.py']",12,a8b11867603e436593a693e4fcb7d8b1084770c9,bp/remove-nova-network-ussuri,, USE_NEUTRON = True,0,17
openstack%2Fnova~master~I1f1c25cb4de924a1d6c3a979b758efd736bdbff0,openstack/nova,master,I1f1c25cb4de924a1d6c3a979b758efd736bdbff0,Set Instance AZ from Selection AZ during build reschedule,MERGED,2019-10-01 21:03:38.000000000,2019-10-07 16:12:54.000000000,2019-10-04 23:38:28.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 21:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/373c05eb52e919f40ce73980982d1062888ed3bf', 'message': 'Set Instance AZ from Selection AZ during build reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring initial server create so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that RPC is pinned during a rolling upgrade and the\navailability_zone field is not in the Selection object, test\ntest_build_reschedule_get_az_error still covers that.\n\nChange-Id: I1f1c25cb4de924a1d6c3a979b758efd736bdbff0\nPartial-Bug: #1781286\n'}, {'number': 2, 'created': '2019-10-01 21:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf9c7102dd6e087bacefc5ae8095007ceba19c53', 'message': 'Set Instance AZ from Selection AZ during build reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring initial server create so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that RPC is pinned during a rolling upgrade and the\navailability_zone field is not in the Selection object, test\ntest_build_reschedule_get_az_error still covers that.\n\nChange-Id: I1f1c25cb4de924a1d6c3a979b758efd736bdbff0\nPartial-Bug: #1781286\n'}, {'number': 3, 'created': '2019-10-02 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e508b85324520e85e3d9d36b17f1535b0fa12aa4', 'message': 'Set Instance AZ from Selection AZ during build reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring initial server create so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that RPC is pinned during a rolling upgrade and the\navailability_zone field is not in the Selection object, test\ntest_build_reschedule_get_az_error still covers that.\n\nChange-Id: I1f1c25cb4de924a1d6c3a979b758efd736bdbff0\nPartial-Bug: #1781286\n'}, {'number': 4, 'created': '2019-10-02 17:44:28.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1781286.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1ad0b13e8f8296739f75b11e257a6fef2cc538c', 'message': 'Set Instance AZ from Selection AZ during build reschedule\n\nThis builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nto use the Selection.availability_zone value when rescheduling\nduring initial server create so that the cell conductor does not\nhave to make an up-call to the aggregates table in the API DB\nwhich will fail if the cell conductor is not configured to use\nthe API DB.\n\nThe functional test added in I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nis updated to show the failure is gone and we get the AZ from the\nSelection object during the reschedule.\n\nFor the case that the availability_zone field is not in the Selection\nobject, test_build_reschedule_get_az_error still covers that.\n\nChange-Id: I1f1c25cb4de924a1d6c3a979b758efd736bdbff0\nPartial-Bug: #1781286\n'}]",5,686047,f1ad0b13e8f8296739f75b11e257a6fef2cc538c,58,13,4,6873,,,0,"Set Instance AZ from Selection AZ during build reschedule

This builds on change Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8
to use the Selection.availability_zone value when rescheduling
during initial server create so that the cell conductor does not
have to make an up-call to the aggregates table in the API DB
which will fail if the cell conductor is not configured to use
the API DB.

The functional test added in I62179d6b93ea1a23c4906477ee19b422bfcb72a2
is updated to show the failure is gone and we get the AZ from the
Selection object during the reschedule.

For the case that the availability_zone field is not in the Selection
object, test_build_reschedule_get_az_error still covers that.

Change-Id: I1f1c25cb4de924a1d6c3a979b758efd736bdbff0
Partial-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/686047/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1781286.py', 'nova/conductor/manager.py']",2,373c05eb52e919f40ce73980982d1062888ed3bf,bug/1781286," # If the Selection object has the AZ set use that. Note that the # field might not be set if RPC is pinned to an older version # during a rolling upgrade. if 'availability_zone' in host: instance.availability_zone = host.availability_zone else: try: instance.availability_zone = ( availability_zones.get_host_availability_zone(context, host.service_host)) except Exception as exc: # Put the instance into ERROR state, set task_state to # None, inject a fault, etc. self._cleanup_when_reschedule_fails( context, instance, exc, legacy_request_spec, requested_networks) continue"," try: instance.availability_zone = ( availability_zones.get_host_availability_zone(context, host.service_host)) except Exception as exc: # Put the instance into ERROR state, set task_state to None, # inject a fault, etc. self._cleanup_when_reschedule_fails( context, instance, exc, legacy_request_spec, requested_networks) continue",29,27
openstack%2Freleases~master~I7412f580d27f759bae5eda23ca5ec67f0053c1e8,openstack/releases,master,I7412f580d27f759bae5eda23ca5ec67f0053c1e8,Tag Chef OpenStack repos with newton-eol,ABANDONED,2019-04-04 08:47:23.000000000,2019-10-07 16:05:07.000000000,,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 08:47:23.000000000', 'files': ['deliverables/newton/openstack-chef.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3951e3b057b2c9be5deaf7e92d739f7f6300b188', 'message': 'Tag Chef OpenStack repos with newton-eol\n\nChange-Id: I7412f580d27f759bae5eda23ca5ec67f0053c1e8\n'}]",1,649945,3951e3b057b2c9be5deaf7e92d739f7f6300b188,7,3,1,13252,,,0,"Tag Chef OpenStack repos with newton-eol

Change-Id: I7412f580d27f759bae5eda23ca5ec67f0053c1e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/649945/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/openstack-chef.yaml'],1,3951e3b057b2c9be5deaf7e92d739f7f6300b188,chef-newton-eol,--- launchpad: openstack-chef team: Chef OpenStack type: other release-model: untagged branches: - name: stable/newton location: non-existing releases: - projects: - hash: c8852009c15464fb122f3ea82247f72c40e1d561 repo: openstack/cookbook-openstack-block-storage - hash: 57e59b64e445ed0d15e3fd542d7031c253823fcc repo: openstack/cookbook-openstackclient - hash: 28ef3e2fe5fb24415b345644b5771c7f03d7fe36 repo: openstack/cookbook-openstack-common - hash: af5ae27d07c5f75d115e4397d1fb661d6ad0c629 repo: openstack/cookbook-openstack-compute - hash: cfa0e4be916104e1987d35af900aa51eb5dd02a4 repo: openstack/cookbook-openstack-dashboard - hash: c4d2d3cc0fbba38d6ded64360dcd7c0ca7d4aa50 repo: openstack/cookbook-openstack-identity - hash: a9001b6f159b0f23b0291153b63925b2a31bd165 repo: openstack/cookbook-openstack-image - hash: b9e2bd31aeef7440de3f119bc037f0bdaedf9454 repo: openstack/cookbook-openstack-integration-test - hash: 0af323852fee9333dcaee66f3a1bb2e690b53ae2 repo: openstack/cookbook-openstack-network - hash: bb9950c1949701a744da7c8feed133528a6c8c12 repo: openstack/cookbook-openstack-ops-database - hash: 1bca4784cd000a97f0aa0f2aa0844425522fe22c repo: openstack/cookbook-openstack-ops-messaging - hash: 95a25518dd8a916bbe2c40d0bc6b1dcb4b904d50 repo: openstack/cookbook-openstack-orchestration - hash: c6c07811d849af1bd9891b53e78de5ee787422a0 repo: openstack/cookbook-openstack-telemetry - hash: cc408453c0a623f26ffe94dcee143ba1008be672 repo: openstack/openstack-chef version: newton-eol repository-settings: openstack/cookbook-openstack-block-storage: {} openstack/cookbook-openstackclient: {} openstack/cookbook-openstack-common: {} openstack/cookbook-openstack-compute: {} openstack/cookbook-openstack-dashboard: {} openstack/cookbook-openstack-identity: {} openstack/cookbook-openstack-image: {} openstack/cookbook-openstack-integration-test: {} openstack/cookbook-openstack-network: {} openstack/cookbook-openstack-ops-database: {} openstack/cookbook-openstack-ops-messaging: {} openstack/cookbook-openstack-orchestration: {} openstack/cookbook-openstack-telemetry: {} openstack/openstack-chef: {} ,,54,0
openstack%2Ftripleo-ci~master~I4eabef8b1d7a20d8474c70091960c8001c3a746a,openstack/tripleo-ci,master,I4eabef8b1d7a20d8474c70091960c8001c3a746a,Fallback to public IPv4 when there is no priv. IP,MERGED,2019-09-13 15:40:00.000000000,2019-10-07 16:01:59.000000000,2019-10-07 16:01:59.000000000,"[{'_account_id': 4162}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 15:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e8639c6df502e21082848c5eda9216ef6cc48e23', 'message': 'Fallback to public IPv4 when there is no priv. IP\n\nSimilarly to I139272746129213994f298a4a9178b4441d439af and\nI32fb17bae98f13f735da4d5b9a6a01e948f21678, fallback to\npublic IPv4, when populating the nodepool files important to be\nset up for the pre-deployment zuul stages.\n\nIn particular, this allows the multi-node CI reproducer with\nstatic/libvirt nodepool provider to always have the overcloud group\ndefined, even if it consists of subnodes running with a single IP.\n\nChange-Id: I4eabef8b1d7a20d8474c70091960c8001c3a746a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-09-13 15:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0af3c289474b18df93769af67e5200f82b12d816', 'message': 'Fallback to public IPv4 when there is no priv. IP\n\nSimilarly to I139272746129213994f298a4a9178b4441d439af and\nI32fb17bae98f13f735da4d5b9a6a01e948f21678, fallback to\npublic IPv4, when populating the nodepool files important to be\nset up for the pre-deployment zuul stages.\n\nIn particular, this allows the multi-node CI reproducer with\nstatic/libvirt nodepool provider to always have the overcloud group\ndefined, even if it consists of subnodes running with a single IP.\n\nChange-Id: I4eabef8b1d7a20d8474c70091960c8001c3a746a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-09-16 09:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb265daa27ef88070f4477632d8be68a2ff03807', 'message': 'Fallback to public IPv4 when there is no priv. IP\n\nSimilarly to I139272746129213994f298a4a9178b4441d439af and\nI32fb17bae98f13f735da4d5b9a6a01e948f21678, fallback to\npublic IPv4, when populating the nodepool files important to be\nset up for the pre-deployment zuul stages.\n\nIn particular, this allows the multi-node CI reproducer with\nstatic/libvirt nodepool provider to always have the overcloud group\ndefined, even if it consists of subnodes running with a single IP.\n\nChange-Id: I4eabef8b1d7a20d8474c70091960c8001c3a746a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-09-16 09:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8d91cca135ab90fb69b2ebc307b80f319de6c08', 'message': 'Fallback to public IPv4 when there is no priv. IP\n\nSimilarly to I139272746129213994f298a4a9178b4441d439af and\nI32fb17bae98f13f735da4d5b9a6a01e948f21678, fallback to\npublic IPv4, when populating the nodepool files important to be\nset up for the pre-deployment zuul stages.\n\nIn particular, this allows the multi-node CI reproducer with\nstatic/libvirt nodepool provider to always have the overcloud group\ndefined, even if it consists of subnodes running with a single IP.\n\nChange-Id: I4eabef8b1d7a20d8474c70091960c8001c3a746a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2019-09-24 08:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d1c0331e38147ef333a6e9417ac5fd42d9b18c5', 'message': 'Fallback to public IPv4 when there is no priv. IP\n\nSimilarly to I139272746129213994f298a4a9178b4441d439af and\nI32fb17bae98f13f735da4d5b9a6a01e948f21678, fallback to\npublic IPv4, when populating the nodepool files important to be\nset up for the pre-deployment zuul stages.\n\nIn particular, this allows the multi-node CI reproducer with\nstatic/libvirt nodepool provider to always have the overcloud group\ndefined, even if it consists of subnodes running with a single IP.\n\nChange-Id: I4eabef8b1d7a20d8474c70091960c8001c3a746a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2019-10-02 15:25:16.000000000', 'files': ['playbooks/openstack-zuul-jobs/legacy/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/85f7e64373f2b6383d49505599ad795bd5d266b6', 'message': 'Fallback to public IPv4 when there is no priv. IP\n\nSimilarly to I139272746129213994f298a4a9178b4441d439af and\nI32fb17bae98f13f735da4d5b9a6a01e948f21678, fallback to\npublic IPv4, when populating the nodepool files important to be\nset up for the pre-deployment zuul stages.\n\nIn particular, this allows the multi-node CI reproducer with\nstatic/libvirt nodepool provider to always have the overcloud group\ndefined, even if it consists of subnodes running with a single IP.\n\nChange-Id: I4eabef8b1d7a20d8474c70091960c8001c3a746a\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",7,682092,85f7e64373f2b6383d49505599ad795bd5d266b6,65,11,6,6926,,,0,"Fallback to public IPv4 when there is no priv. IP

Similarly to I139272746129213994f298a4a9178b4441d439af and
I32fb17bae98f13f735da4d5b9a6a01e948f21678, fallback to
public IPv4, when populating the nodepool files important to be
set up for the pre-deployment zuul stages.

In particular, this allows the multi-node CI reproducer with
static/libvirt nodepool provider to always have the overcloud group
defined, even if it consists of subnodes running with a single IP.

Change-Id: I4eabef8b1d7a20d8474c70091960c8001c3a746a
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/682092/5 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openstack-zuul-jobs/legacy/pre.yaml'],1,e8639c6df502e21082848c5eda9216ef6cc48e23,ci-repro," - name: Set IP addresses for the nodes missing private IPs block: - set_fact: nodepool_ip: ""{{ nodepool.public_ipv4 }}"" delegate_to: ""{{ item }}"" delegate_facts: true with_inventory_hostnames: - subnodes when: not ( nodepool.private_ipv4 | ipv4) - set_fact: nodepool_ip: ""{{ nodepool.private_ipv4 | default(nodepool.public_ipv4) }}"" delegate_to: ""{{ item }}"" delegate_facts: true with_inventory_hostnames: - subnodes when: nodepool_ip is not defined - name: Populate nodepool sub_nodes file lineinfile: path: /etc/nodepool/sub_nodes line: ""{{ hostvars[item]['nodepool']['public_ipv4'] }}"" with_items: ""{{ groups['subnodes'] }}"" - name: Populate nodepool sub_nodes_private file lineinfile: path: /etc/nodepool/sub_nodes_private line: ""{{ hostvars[item]['nodepool_ip'] }}"" insertafter: EOF with_items: ""{{ groups['subnodes'] }}"" content: ""{{ hostvars['primary']['nodepool_ip'] }}"" content: ""{{ nodepool_ip | default(nodepool.private_ipv4) }}"""," - name: Populate nodepool sub_nodes file lineinfile: path: /etc/nodepool/sub_nodes line: ""{{ hostvars[item]['nodepool']['public_ipv4'] }}"" with_items: ""{{ groups['subnodes'] }}"" - name: Populate nodepool sub_nodes_private file lineinfile: path: /etc/nodepool/sub_nodes_private line: ""{{ hostvars[item]['nodepool']['private_ipv4'] }}"" insertafter: EOF with_items: ""{{ groups['subnodes'] }}"" when: groups['subnodes'] is defined content: ""{{ hostvars['primary']['nodepool']['private_ipv4'] }}"" content: ""{{ nodepool.private_ipv4 }}""",31,14
openstack%2Fpython-tripleoclient~master~I11f500165026455d8d41fd07901357fc91d8a359,openstack/python-tripleoclient,master,I11f500165026455d8d41fd07901357fc91d8a359,Don't look for execution in payload,MERGED,2019-06-12 12:23:36.000000000,2019-10-07 15:59:07.000000000,2019-06-18 05:55:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30105}]","[{'number': 1, 'created': '2019-06-12 12:23:36.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7bd6a5206612f6d4818c891860e58d2281d0f27a', 'message': ""Don't look for execution in payload\n\nWe don't seem to send the execution object anymore after\nhttps://review.opendev.org/#/c/630291/. Though we've\nexecution_id, it probably does not make sense to make\nmistral api call to get the created/updated timestamps.\n\nChange-Id: I11f500165026455d8d41fd07901357fc91d8a359\nCloses-Bug: #1832511\n""}]",3,664871,7bd6a5206612f6d4818c891860e58d2281d0f27a,21,10,1,8833,,,0,"Don't look for execution in payload

We don't seem to send the execution object anymore after
https://review.opendev.org/#/c/630291/. Though we've
execution_id, it probably does not make sense to make
mistral api call to get the created/updated timestamps.

Change-Id: I11f500165026455d8d41fd07901357fc91d8a359
Closes-Bug: #1832511
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/664871/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,7bd6a5206612f6d4818c891860e58d2281d0f27a,bug/1832511," ['Plan Name', 'Deployment Status'])"," execution = payload['execution'] ['Plan Name', 'Created', 'Updated', 'Deployment Status']) execution['created_at'], execution['updated_at'],",6,13
openstack%2Fnova~master~I993c9661c37da012cc975ee8c04daa0eb9216744,openstack/nova,master,I993c9661c37da012cc975ee8c04daa0eb9216744,Test heal port allocations in nova-next,MERGED,2019-07-09 14:10:17.000000000,2019-10-07 15:52:46.000000000,2019-10-03 03:28:30.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-09 14:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f694308c086de99a140a835587ee9a372679db0', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for heal_allocations\nto test the recently implemented port allocation healing functionality\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 2, 'created': '2019-07-24 13:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07da6e86470c0a6f9151d4fe4f50bbc2507a206b', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 3, 'created': '2019-07-24 14:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f7ecb1d6558e70177e03bf26790b2211f11b8d9', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 4, 'created': '2019-08-08 11:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/426b4d924751eed5e16d11fe70ed712135b5ee83', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 5, 'created': '2019-08-09 09:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9786091c7c7d588cf489dacdcf2766c93061316', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 6, 'created': '2019-08-09 12:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad4b12d1a57d2afa7c9fac613d90455486b15e90', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 7, 'created': '2019-08-11 08:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2ce72a72a3932541c1d65262b4e68db0802343b', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 8, 'created': '2019-08-11 15:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92c61a5d750b02af4dc48f7c6be3583b58621358', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 9, 'created': '2019-08-15 15:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36f1dbf5b2ffa768077047c7d0dcb327a9f137e6', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 10, 'created': '2019-08-29 19:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/838f989b0229d4d657b960902c2e3c6cb48a88a5', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 11, 'created': '2019-09-17 13:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87711ec4913438ea0b4f9c54088dc260c827b719', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}, {'number': 12, 'created': '2019-10-02 09:17:59.000000000', 'files': ['.zuul.yaml', 'gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/0044702e0dd51814be38818144c675cc8a7617ca', 'message': 'Test heal port allocations in nova-next\n\nThis patch extends the existing integration test for\nheal_allocations to test the recently implemented port\nallocation healing functionality.\n\nChange-Id: I993c9661c37da012cc975ee8c04daa0eb9216744\nRelated-Bug: #1819923\n'}]",33,669879,0044702e0dd51814be38818144c675cc8a7617ca,174,19,12,9708,,,0,"Test heal port allocations in nova-next

This patch extends the existing integration test for
heal_allocations to test the recently implemented port
allocation healing functionality.

Change-Id: I993c9661c37da012cc975ee8c04daa0eb9216744
Related-Bug: #1819923
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/669879/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'gate/post_test_hook.sh']",2,2f694308c086de99a140a835587ee9a372679db0,bug/1819923,"echo ""Creating port with bandwidth request for heal_allocations testing"" openstack network create net0 \ --provider-network-type vlan \ --provider-physical-network public \ --provider-segment 100 \ openstack subnet create subnet0 \ --network net0 \ --subnet-range 10.0.4.0/24 \ openstack network qos policy create qp0 openstack network qos rule create qp0 \ --type minimum-bandwidth \ --min-kbps 1000 \ --egress \ openstack network qos rule create qp0 \ --type minimum-bandwidth \ --min-kbps 1000 \ --ingress \ openstack port create port-normal-qos \ --network net0 \ --vnic-type normal \ --qos-policy qp0 \ # microversion 2.72 introduced the support for bandwidth aware ports openstack --os-compute-api-version 2.72 \ server create --image ${image_id} --flavor ${flavor_id} \ --nic net-id=${network_id} --nic- port-id port-normal-qos \ --wait heal-allocations-test# Make sure that the binding:profile.allocation key is updated rp_uuid=$(openstack port show port-normal-qos -f json -c binding_profile \ | jq .binding_profile.allocation) if [[ ""$rp_uuid"" == ""null"" ]]; then echo ""No allocation found for the bandwidth aware port."" exit 2 fi echo ""Deleting allocation key from the binding:profile of the bandwidth aware port"" openstack port unset --binding-profile allocation port-normal-qos # Make sure that the binding:profile.allocation key is gone rp_uuid=$(openstack port show port-normal-qos -f json -c binding_profile \ | jq .binding_profile.allocation) if [[ ""$rp_uuid"" != ""null"" ]]; then echo ""Binding profile not updated for the bandwidth aware port."" exit 2 fi # Make sure that the allocations contains bandwidth as well bandwidth_allocations=$(echo allocations | grep NET_BW_EGR_KILOBIT_PER_SEC) if [[ ""$bandwidth_allocations"" == """" ]]; then echo ""Failed to heal port allocations."" exit 2 fi # Make sure that the binding:profile.allocation key healed back healed_rp_uuid=$(openstack port show port-normal-qos -f json \ -c binding_profile \ | jq .binding_profile.allocation) if [[ ""$rp_uuid"" != ""$healed_rp_uuid"" ]]; then echo ""The value of the allocation key of the bandwidth aware port does not match."" echo ""expected: $rp_uuid actual: $healed_rp_uuid."" exit 2 fi",openstack server create --image ${image_id} --flavor ${flavor_id} \ --nic net-id=${network_id} --wait heal-allocations-test,79,2
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I6669dd1e4186b9e32231d31427642c515a3162f7,openstack/puppet-openstack_spec_helper,stable/stein,I6669dd1e4186b9e32231d31427642c515a3162f7,Pin minitest,ABANDONED,2019-10-06 13:32:35.000000000,2019-10-07 15:44:59.000000000,,"[{'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 13:32:35.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d1640623e43d83e85cab5f1a97031926eaa8ba03', 'message': 'Pin minitest\n\nminitest 5.12.1[1] requires ruby ~>2.3.\n\n[1] https://rubygems.org/gems/minitest/versions/5.12.1\n\nChange-Id: I6669dd1e4186b9e32231d31427642c515a3162f7\nCloses-Bug: #1845785\n(cherry picked from commit 574c5bfd3bb645edd6b180e6d36b44e9beb10d77)\n'}]",0,686936,d1640623e43d83e85cab5f1a97031926eaa8ba03,4,3,1,17216,,,0,"Pin minitest

minitest 5.12.1[1] requires ruby ~>2.3.

[1] https://rubygems.org/gems/minitest/versions/5.12.1

Change-Id: I6669dd1e4186b9e32231d31427642c515a3162f7
Closes-Bug: #1845785
(cherry picked from commit 574c5bfd3bb645edd6b180e6d36b44e9beb10d77)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/36/686936/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,d1640623e43d83e85cab5f1a97031926eaa8ba03,1845785-stein," # NOTE(tkajinam): minitest 5.12.1 requires ruby > 2.3 minitest_version = RUBY_VERSION < '2.3.0' ? ['< 5.12.1'] : ['>= 5.12.1'] spec.add_dependency 'minitest', minitest_version",,3,0
openstack%2Fnova~master~Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8,openstack/nova,master,Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8,Add Selection.availability_zone field,MERGED,2019-09-30 21:59:06.000000000,2019-10-07 15:35:55.000000000,2019-10-04 17:24:56.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-30 21:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf00732768483876da25747a2caaa38955ebe9da', 'message': 'WIP: Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}, {'number': 2, 'created': '2019-10-01 13:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a39c1dc188c300be53dbf48b8bb8207ebe06e70a', 'message': 'Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}, {'number': 3, 'created': '2019-10-01 14:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9f060e70cdd1e1d0ec9a7fa99568211505fc2ee', 'message': 'Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nNote that the field is nullable because a host can not be in any\nAZ and CONF.default_availability_zone can technically be set to\nNone though it defaults to ""nova"".\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}, {'number': 4, 'created': '2019-10-01 16:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af69b64adcf7f7c767edd392e3ae34b9e4c0d32a', 'message': 'Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nNote that the field is nullable because a host can not be in any\nAZ and CONF.default_availability_zone can technically be set to\nNone though it defaults to ""nova"".\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}, {'number': 5, 'created': '2019-10-01 17:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7014f6449bac2c9546708415addacb851994870f', 'message': 'Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nNote that the field is nullable because a host can not be in any\nAZ and CONF.default_availability_zone can technically be set to\nNone though it defaults to ""nova"".\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}, {'number': 6, 'created': '2019-10-01 21:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f4950cd8df3f9ffe1dfaca5a2c32c0e84453089', 'message': 'Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nNote that the field is nullable because a host can not be in any\nAZ and CONF.default_availability_zone can technically be set to\nNone though it defaults to ""nova"".\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}, {'number': 7, 'created': '2019-10-02 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4688c0e7c35468337ac80fa11ca149c6df86f7b8', 'message': 'Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nNote that the field is nullable because a host can not be in any\nAZ and CONF.default_availability_zone can technically be set to\nNone though it defaults to ""nova"".\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}, {'number': 8, 'created': '2019-10-02 17:44:28.000000000', 'files': ['nova/objects/selection.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_selection.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bcd4584a7c6a8d6b91a6db2fe8b38671494ff9c1', 'message': 'Add Selection.availability_zone field\n\nThis adds an availability_zone field to the Selection object,\nusing the same type and nullable value as the same field in the\nInstance object. This will be used to store the service_host\nAZ to pass from the superconductor layer to the compute and cell\nconductor layer to avoid an up-call to get the host AZ information\nfrom the API DB during a reschedule.\n\nNote that the field is nullable because a host may not be in an\nAZ and CONF.default_availability_zone can technically be set to\nNone though it defaults to ""nova"".\n\nChange-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8\nRelated-Bug: #1781286\n'}]",11,685807,bcd4584a7c6a8d6b91a6db2fe8b38671494ff9c1,109,15,8,6873,,,0,"Add Selection.availability_zone field

This adds an availability_zone field to the Selection object,
using the same type and nullable value as the same field in the
Instance object. This will be used to store the service_host
AZ to pass from the superconductor layer to the compute and cell
conductor layer to avoid an up-call to get the host AZ information
from the API DB during a reschedule.

Note that the field is nullable because a host may not be in an
AZ and CONF.default_availability_zone can technically be set to
None though it defaults to ""nova"".

Change-Id: Ia50c5f4dd2204f1cafa669097d1e744479c4d8c8
Related-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/685807/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/selection.py', 'nova/tests/unit/objects/test_objects.py']",2,bf00732768483876da25747a2caaa38955ebe9da,bug/1781286," 'Selection': '1.1-548e3c2f04da2a61ceaf9c4e1589f264',"," 'Selection': '1.0-7f5c065097371fe527dd1245f1530653',",29,3
openstack%2Fnova~master~I6bfa6fa767403fb936a6ae340b8687eb161732fc,openstack/nova,master,I6bfa6fa767403fb936a6ae340b8687eb161732fc,Handle get_host_availability_zone error during reschedule,MERGED,2019-10-01 16:12:33.000000000,2019-10-07 15:33:09.000000000,2019-10-02 17:54:15.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 16:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/549a7f6e387dfbbf12ec6b0432bbf7e26bc712d2', 'message': 'Handle get_host_availability_zone error during reschedule\n\nIf a build fails and reschedules to a cell conductor which does\nnot have access to the API DB, the call to get_host_availability_zone\nwill fail with a CantStartEngineError because it\'s trying to do an\n""up-call"" to the API DB for host aggregate info. The reschedule\nfails and the instance is stuck in BUILD status without a fault\ninjected for determining what went wrong.\n\nThis change simply handles the failure and cleans up so the instance\nis put into a terminal (ERROR) state.\n\nChange-Id: I6bfa6fa767403fb936a6ae340b8687eb161732fc\nPartial-Bug: #1781286\n'}, {'number': 2, 'created': '2019-10-01 17:33:48.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/38fb7f82abd7fffc00ebc050ee5230f1137e76d8', 'message': 'Handle get_host_availability_zone error during reschedule\n\nIf a build fails and reschedules to a cell conductor which does\nnot have access to the API DB, the call to get_host_availability_zone\nwill fail with a CantStartEngineError because it\'s trying to do an\n""up-call"" to the API DB for host aggregate info. The reschedule\nfails and the instance is stuck in BUILD status without a fault\ninjected for determining what went wrong.\n\nThis change simply handles the failure and cleans up so the instance\nis put into a terminal (ERROR) state.\n\nChange-Id: I6bfa6fa767403fb936a6ae340b8687eb161732fc\nPartial-Bug: #1781286\n'}]",6,685997,38fb7f82abd7fffc00ebc050ee5230f1137e76d8,24,13,2,6873,,,0,"Handle get_host_availability_zone error during reschedule

If a build fails and reschedules to a cell conductor which does
not have access to the API DB, the call to get_host_availability_zone
will fail with a CantStartEngineError because it's trying to do an
""up-call"" to the API DB for host aggregate info. The reschedule
fails and the instance is stuck in BUILD status without a fault
injected for determining what went wrong.

This change simply handles the failure and cleans up so the instance
is put into a terminal (ERROR) state.

Change-Id: I6bfa6fa767403fb936a6ae340b8687eb161732fc
Partial-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/685997/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,549a7f6e387dfbbf12ec6b0432bbf7e26bc712d2,bug/1781286," try: instance.availability_zone = ( availability_zones.get_host_availability_zone(context, host.service_host)) except Exception as exc: # Put the instance into ERROR state, set task_state to None, # inject a fault, etc. self._cleanup_when_reschedule_fails( context, instance, exc, legacy_request_spec, requested_networks) continue "," instance.availability_zone = ( availability_zones.get_host_availability_zone(context, host.service_host))",53,3
openstack%2Fcharm-swift-storage~master~I60b1c5949a0e03e1effd4fb2d229a2c7b13fb656,openstack/charm-swift-storage,master,I60b1c5949a0e03e1effd4fb2d229a2c7b13fb656,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:50.000000000,2019-10-07 15:29:58.000000000,2019-10-07 15:29:58.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/4fc4ade4443db47c57771e43dbfd5657c8e6bad5', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I60b1c5949a0e03e1effd4fb2d229a2c7b13fb656\n'}, {'number': 2, 'created': '2019-10-01 02:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/f8f0ec2190188e22a9f3a3eb8e554828f6ad2623', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I60b1c5949a0e03e1effd4fb2d229a2c7b13fb656\n'}, {'number': 3, 'created': '2019-10-01 03:42:08.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/2fc678dcee225338ff7727ad873964101d7c0d5d', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I60b1c5949a0e03e1effd4fb2d229a2c7b13fb656\n'}]",0,685853,2fc678dcee225338ff7727ad873964101d7c0d5d,15,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I60b1c5949a0e03e1effd4fb2d229a2c7b13fb656
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/53/685853/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",14,4fc4ade4443db47c57771e43dbfd5657c8e6bad5,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37skip_missing_interpreters = Truecommands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7 commands = /bin/truecommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1205,91
openstack%2Fopenstack-ansible~master~I23163676420498bb3fd3d0e411554ca34dfbe318,openstack/openstack-ansible,master,I23163676420498bb3fd3d0e411554ca34dfbe318,Temporary overwrite of the infra mirror for debian security repo,MERGED,2019-10-03 08:23:52.000000000,2019-10-07 15:29:46.000000000,2019-10-07 15:27:52.000000000,"[{'_account_id': 1004}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-03 08:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a753e4075d3922bca56abcb1c52ae3843cc014b7', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nChange-Id: I23163676420498bb3fd3d0e411554ca34dfbe318\n'}, {'number': 2, 'created': '2019-10-03 08:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/19c754a2db16fac3e3b9ac0bdaf07b1e15781adc', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nChange-Id: I23163676420498bb3fd3d0e411554ca34dfbe318\n'}, {'number': 3, 'created': '2019-10-03 09:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/42e4ec60dfd283f9fca9627003feed6c867337c2', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nChange-Id: I23163676420498bb3fd3d0e411554ca34dfbe318\n'}, {'number': 4, 'created': '2019-10-03 13:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dcd5b1b11ddffd38bf72d3c516fb4afa5ba16f84', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nDepends-On: https://review.opendev.org/#/c/686104/\nChange-Id: I23163676420498bb3fd3d0e411554ca34dfbe318\n'}, {'number': 5, 'created': '2019-10-04 18:49:32.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9987d90b06855356c4cb5f971d8e74e30c7da8d6', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nDepends-On: https://review.opendev.org/686825\nChange-Id: I23163676420498bb3fd3d0e411554ca34dfbe318\n'}]",0,686348,9987d90b06855356c4cb5f971d8e74e30c7da8d6,24,5,5,25023,,,0,"Temporary overwrite of the infra mirror for debian security repo

Depends-On: https://review.opendev.org/686825
Change-Id: I23163676420498bb3fd3d0e411554ca34dfbe318
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/48/686348/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,a753e4075d3922bca56abcb1c52ae3843cc014b7,," # NOTE(jrosser) remove this once infra debian images point to the upstream security repo if `/bin/grep -q ""stretch"" /etc/os-release` && [ -f ""/etc/apt/sources.list.d/security.list"" ] echo ""deb http://security.debian.org stretch/updates main contrib"" > /etc/apt/sources.list.d/security.list echo ""deb src http://security.debian.org stretch/updates main contrib"" >> /etc/apt/sources.list.d/security.list fi",,5,0
openstack%2Frpm-packaging~master~I06de1da5415479e5f8f96247dba691f83bc24716,openstack/rpm-packaging,master,I06de1da5415479e5f8f96247dba691f83bc24716,python-scciclient: Switch to python3,MERGED,2019-10-07 13:08:48.000000000,2019-10-07 15:28:39.000000000,2019-10-07 15:28:39.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 13:08:48.000000000', 'files': ['openstack/python-scciclient/0001-Switch-from-oslosphinx-to-openstackdocstheme.patch', 'openstack/python-scciclient/python-scciclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a083f3b99d57e4b953a6ae5b395cc1e61a1cf334', 'message': 'python-scciclient: Switch to python3\n\nChange-Id: I06de1da5415479e5f8f96247dba691f83bc24716\n'}]",0,687026,a083f3b99d57e4b953a6ae5b395cc1e61a1cf334,9,5,1,7102,,,0,"python-scciclient: Switch to python3

Change-Id: I06de1da5415479e5f8f96247dba691f83bc24716
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/26/687026/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-scciclient/0001-Switch-from-oslosphinx-to-openstackdocstheme.patch', 'openstack/python-scciclient/python-scciclient.spec.j2']",2,a083f3b99d57e4b953a6ae5b395cc1e61a1cf334,,"{% set pypi_name = 'python-scciclient' %} {% set upstream_version = upstream_version('0.8.1') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}Source0: {{ source }} # https://review.opendev.org/687023 Patch0: 0001-Switch-from-oslosphinx-to-openstackdocstheme.patchBuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('pyghmi') }} BuildRequires: {{ py3('pysnmp') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} Requires: {{ py3('Babel') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('pyghmi') }} Requires: {{ py3('pysnmp') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%autosetup -p1 -n %{name}-%{version}%py3_buildPBR_VERSION=%{version} %sphinx_build -b html doc/source doc/build/html rm -rf doc/build/html/.{doctrees,buildinfo}%py3_install%{__python3} -m stestr.cli run%{python3_sitelib}/scciclient %{python3_sitelib}/*.egg-info","Name: {{ py2name('python-scciclient') }} Version: 0.8.1 Release: 0Source0: https://files.pythonhosted.org/packages/source/p/%{name}/%{name}-%{version}.tar.gzBuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.serialization') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('pyghmi') }} BuildRequires: {{ py2pkg('pysnmp') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('pyghmi') }} Requires: {{ py2pkg('pysnmp') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }}%autosetup -n %{name}-%{version}%py2_build%{__python2} setup.py build_sphinx rm -rf html/.{doctrees,buildinfo}%py2_install%{__python2} -m stestr.cli run%{python2_sitelib}/scciclient %{python2_sitelib}/*.egg-info",112,36
openstack%2Fcharm-ceph-osd~master~I7a2ebaa43184420812b6f348039dd37de47d2488,openstack/charm-ceph-osd,master,I7a2ebaa43184420812b6f348039dd37de47d2488,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:23.000000000,2019-10-07 15:27:29.000000000,2019-10-07 15:27:29.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/639e3f3d4fa990babe9989ed1e696cc4c213cc07', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I7a2ebaa43184420812b6f348039dd37de47d2488\n'}, {'number': 2, 'created': '2019-10-01 02:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/f9bff0f9c957c194932092c7954135ee9c29d17c', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I7a2ebaa43184420812b6f348039dd37de47d2488\n'}, {'number': 3, 'created': '2019-10-01 03:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/7ec7ccecd6e9983b5298273bd0de438f971d3b2c', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I7a2ebaa43184420812b6f348039dd37de47d2488\n'}, {'number': 4, 'created': '2019-10-02 16:49:06.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4c21a984c6969734b46595c1174d8693200a00f5', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I7a2ebaa43184420812b6f348039dd37de47d2488\n'}]",0,685817,4c21a984c6969734b46595c1174d8693200a00f5,20,4,4,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I7a2ebaa43184420812b6f348039dd37de47d2488
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/17/685817/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'lib/ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'lib/ceph/crush_utils.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",17,639e3f3d4fa990babe9989ed1e696cc4c213cc07,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = False PYTHONHASHSEED=0commands = stestr run --slowest {posargs}passenv = HOME TERM CS_* OS_* TEST_*[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt stestr run --slowest {posargs}[testenv:func-noop] basepython = python3 commands = functest-run-suite --help ","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37skip_missing_interpreters = True AMULET_SETUP_TIMEOUT=5400commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_*[testenv:py27] # ceph charms are Python3-only, but py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true deps = stestr run {posargs}",1352,186
openstack%2Fcharm-rabbitmq-server~master~I1bd9db2cefcdefc6e04d0740967696552465d00f,openstack/charm-rabbitmq-server,master,I1bd9db2cefcdefc6e04d0740967696552465d00f,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:42.000000000,2019-10-07 15:27:16.000000000,2019-10-07 15:27:16.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/8b70c3211028a95ce2267235db1f06761a078296', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1bd9db2cefcdefc6e04d0740967696552465d00f\n'}, {'number': 2, 'created': '2019-10-01 02:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/6951510358b6bcbfc280012e112bd810bc13a9cc', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1bd9db2cefcdefc6e04d0740967696552465d00f\n'}, {'number': 3, 'created': '2019-10-01 03:42:02.000000000', 'files': ['tests/test-requirements.txt', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/d07161c9a9404023f96e9ab434e97980073bb440', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1bd9db2cefcdefc6e04d0740967696552465d00f\n'}]",0,685851,d07161c9a9404023f96e9ab434e97980073bb440,14,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I1bd9db2cefcdefc6e04d0740967696552465d00f
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/51/685851/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",14,8b70c3211028a95ce2267235db1f06761a078296,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7commands = /bin/true stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1202,89
openstack%2Fkolla~master~Icc68b404d8713a9fcf0026374378d1645fe30d52,openstack/kolla,master,Icc68b404d8713a9fcf0026374378d1645fe30d52,build: enable Octavia for Ubuntu/binary,MERGED,2019-09-17 15:09:02.000000000,2019-10-07 15:27:01.000000000,2019-09-18 18:11:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-09-17 15:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b8afe76a6413fa50468384bf5b5e58e0e065455', 'message': 'build: enable Octavia for Ubuntu/binary\n\nChange-Id: Icc68b404d8713a9fcf0026374378d1645fe30d52\n'}, {'number': 2, 'created': '2019-09-18 11:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/643c093076879ad8c388c3c815f20709747fb36e', 'message': 'build: enable Octavia for Ubuntu/binary\n\nChange-Id: Icc68b404d8713a9fcf0026374378d1645fe30d52\n'}, {'number': 3, 'created': '2019-09-18 11:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9b6db2c1e1e658268abdd3984fe6658e715c2b1', 'message': 'build: enable Octavia for Ubuntu/binary\n\nChange-Id: Icc68b404d8713a9fcf0026374378d1645fe30d52\n'}, {'number': 4, 'created': '2019-09-18 12:03:37.000000000', 'files': ['kolla/image/build.py', 'docker/octavia/octavia-base/Dockerfile.j2', 'docker/octavia/octavia-health-manager/Dockerfile.j2', 'docker/octavia/octavia-worker/Dockerfile.j2', 'docker/octavia/octavia-api/Dockerfile.j2', 'docker/octavia/octavia-housekeeping/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9ce38472300ce8462a53ef1cdfd89feabfa7abe4', 'message': 'build: enable Octavia for Ubuntu/binary\n\nChange-Id: Icc68b404d8713a9fcf0026374378d1645fe30d52\n'}]",0,682671,9ce38472300ce8462a53ef1cdfd89feabfa7abe4,20,5,4,24072,,,0,"build: enable Octavia for Ubuntu/binary

Change-Id: Icc68b404d8713a9fcf0026374378d1645fe30d52
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/682671/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,0b8afe76a6413fa50468384bf5b5e58e0e065455,,," ""octavia-base"",",0,1
openstack%2Fcharm-barbican-vault~master~I396744698a7f246cb388c726290504cbf7245a4b,openstack/charm-barbican-vault,master,I396744698a7f246cb388c726290504cbf7245a4b,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:03.000000000,2019-10-07 15:24:52.000000000,2019-10-07 15:24:52.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/a9d748a5b8d8fba7009fc2bbfc78f618c0b7ad0c', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I396744698a7f246cb388c726290504cbf7245a4b\n'}, {'number': 2, 'created': '2019-10-01 01:59:14.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/c8b24309e2dffa61f060ab0e34204a779bf6348a', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I396744698a7f246cb388c726290504cbf7245a4b\n'}]",0,685812,c8b24309e2dffa61f060ab0e34204a779bf6348a,13,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I396744698a7f246cb388c726290504cbf7245a4b
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/12/685812/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,a9d748a5b8d8fba7009fc2bbfc78f618c0b7ad0c,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters. INTERFACE_PATH={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYcommands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATHcommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",50,32
openstack%2Fcharm-ceilometer~master~If80125036375ebd526dd26c3922a12e98859ba64,openstack/charm-ceilometer,master,If80125036375ebd526dd26c3922a12e98859ba64,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:07.000000000,2019-10-07 15:23:45.000000000,2019-10-07 15:23:45.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/212270866e080ffcb7a331be9b63e226eeb8d45a', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If80125036375ebd526dd26c3922a12e98859ba64\n'}, {'number': 2, 'created': '2019-10-01 02:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/1ce9f802a8b91dddce29fd543a2b73a1a9afbb71', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If80125036375ebd526dd26c3922a12e98859ba64\n'}, {'number': 3, 'created': '2019-10-01 03:41:30.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/47f2c27993a015dd37dd1926cb0a4576ff3a07af', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If80125036375ebd526dd26c3922a12e98859ba64\n'}]",0,685813,47f2c27993a015dd37dd1926cb0a4576ff3a07af,15,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: If80125036375ebd526dd26c3922a12e98859ba64
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/13/685813/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",14,212270866e080ffcb7a331be9b63e226eeb8d45a,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = flake8 {posargs} hooks unit_tests tests actions lib files[testenv:cover] # Technique based heavily upon # https://github.com/openstack/nova/blob/master/tox.ini basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run --slowest {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report [coverage:run] branch = True concurrency = multiprocessing parallel = True source = . omit = .tox/* */charmhelpers/* unit_tests/* [testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_*commands = flake8 {posargs} hooks unit_tests tests actions lib[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1208,74
openstack%2Fcharm-nova-compute~master~I9fecb63e7997099cb54737aa9fecc7777e67365f,openstack/charm-nova-compute,master,I9fecb63e7997099cb54737aa9fecc7777e67365f,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:13.000000000,2019-10-07 15:23:31.000000000,2019-10-07 15:23:31.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f1975204c4a97c4156c7d9a64e45fc27f6f7a933', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I9fecb63e7997099cb54737aa9fecc7777e67365f\n'}, {'number': 2, 'created': '2019-10-01 02:43:41.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/99a9cf63ba134cc5c9e17d2092d8b80a977f32ed', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I9fecb63e7997099cb54737aa9fecc7777e67365f\n'}]",0,685844,99a9cf63ba134cc5c9e17d2092d8b80a977f32ed,13,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I9fecb63e7997099cb54737aa9fecc7777e67365f
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/44/685844/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",13,f1975204c4a97c4156c7d9a64e45fc27f6f7a933,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37skip_missing_interpreters = Truecommands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* OS_* [testenv:py27] basepython = python2.7commands = /bin/truecommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1180,77
openstack%2Fcharm-designate-bind~master~Ibe1505641a4983c046a3893fad9554a88c9beee9,openstack/charm-designate-bind,master,Ibe1505641a4983c046a3893fad9554a88c9beee9,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:57.000000000,2019-10-07 15:23:25.000000000,2019-10-07 15:23:25.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/2f62f589e554a2ac46f3cc76bd1e6f3ee7343743', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibe1505641a4983c046a3893fad9554a88c9beee9\n'}, {'number': 2, 'created': '2019-10-01 03:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/43d027fc315ae3358738d42e7b8a4891098b381a', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibe1505641a4983c046a3893fad9554a88c9beee9\n'}, {'number': 3, 'created': '2019-10-01 17:58:07.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/c0a11631c5e1aa8f0f9a39bf730248f677f39d46', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibe1505641a4983c046a3893fad9554a88c9beee9\n'}]",0,685825,c0a11631c5e1aa8f0f9a39bf730248f677f39d46,16,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ibe1505641a4983c046a3893fad9554a88c9beee9
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/25/685825/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,2f62f589e554a2ac46f3cc76bd1e6f3ee7343743,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. https://governance.openstack.org/tc/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",31,38
openstack%2Fcharm-octavia-diskimage-retrofit~master~Ibffb9a06f997649d75af7edc1f6db4a8c725025b,openstack/charm-octavia-diskimage-retrofit,master,Ibffb9a06f997649d75af7edc1f6db4a8c725025b,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:25.000000000,2019-10-07 15:22:56.000000000,2019-10-07 15:22:56.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/ee67c4da9f43c935eb115dc84b5ab66fb2e8830e', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibffb9a06f997649d75af7edc1f6db4a8c725025b\n'}, {'number': 2, 'created': '2019-10-01 01:59:37.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/e687cb703105af20ef90cd036378bf8f49b551e5', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibffb9a06f997649d75af7edc1f6db4a8c725025b\n'}]",0,685847,e687cb703105af20ef90cd036378bf8f49b551e5,13,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ibffb9a06f997649d75af7edc1f6db4a8c725025b
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/47/685847/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,ee67c4da9f43c935eb115dc84b5ab66fb2e8830e,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY[testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}basepython = python3ignore = E402,W504",# within individual charm repos.passenv = http_proxy https_proxycommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} [testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run {posargs} stestr run {posargs}ignore = E402,62,30
openstack%2Fcharm-manila~master~I7623e044a6ef74f8444cc3fa232385fcf78e8380,openstack/charm-manila,master,I7623e044a6ef74f8444cc3fa232385fcf78e8380,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:41.000000000,2019-10-07 15:22:16.000000000,2019-10-07 15:22:16.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:41.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/94841ed705cec20a635574476b33cbb1e9f3d719', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I7623e044a6ef74f8444cc3fa232385fcf78e8380\n'}]",0,685836,94841ed705cec20a635574476b33cbb1e9f3d719,10,4,1,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I7623e044a6ef74f8444cc3fa232385fcf78e8380
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/36/685836/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,94841ed705cec20a635574476b33cbb1e9f3d719,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. https://governance.openstack.org/tc/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",31,38
openstack%2Fcharm-pacemaker-remote~master~Ie0d347c14d179046ce5596bf6aee727335903a1e,openstack/charm-pacemaker-remote,master,Ie0d347c14d179046ce5596bf6aee727335903a1e,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:29.000000000,2019-10-07 15:22:14.000000000,2019-10-07 15:22:13.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/bfeb7ecd53f979b4691515c3c87fb715e430e6ae', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ie0d347c14d179046ce5596bf6aee727335903a1e\n'}, {'number': 2, 'created': '2019-10-01 01:59:40.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/182daf068bfde014a467bff9545eec93ea4e56cf', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ie0d347c14d179046ce5596bf6aee727335903a1e\n'}]",0,685848,182daf068bfde014a467bff9545eec93ea4e56cf,13,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ie0d347c14d179046ce5596bf6aee727335903a1e
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/48/685848/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,bfeb7ecd53f979b4691515c3c87fb715e430e6ae,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy CHARM_INTERFACES_DIRbasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. https://governance.openstack.org/tc/reference/cti/python_cti.html whitelist_externals = true commands = truecommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",62,29
openstack%2Fcharm-ceilometer-agent~master~I37e8e54738c66afe66505514ac460d6a7a7c5997,openstack/charm-ceilometer-agent,master,I37e8e54738c66afe66505514ac460d6a7a7c5997,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:11.000000000,2019-10-07 15:21:34.000000000,2019-10-07 15:21:34.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/13ce344739ce3f37369fe7a5b9ec236e40eed333', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I37e8e54738c66afe66505514ac460d6a7a7c5997\n'}, {'number': 2, 'created': '2019-10-01 02:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/0f2b7869dcef1080c3ebb61d896d24d6d0a0ea61', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I37e8e54738c66afe66505514ac460d6a7a7c5997\n'}, {'number': 3, 'created': '2019-10-01 03:41:32.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/b7526d1b6c03fc4c345b444b4e0ca53f41c9ccbe', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I37e8e54738c66afe66505514ac460d6a7a7c5997\n'}]",0,685814,b7526d1b6c03fc4c345b444b4e0ca53f41c9ccbe,15,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I37e8e54738c66afe66505514ac460d6a7a7c5997
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/14/685814/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",13,13ce344739ce3f37369fe7a5b9ec236e40eed333,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = flake8 {posargs} hooks unit_tests tests actions lib files[testenv:cover] # Technique based heavily upon # https://github.com/openstack/nova/blob/master/tox.ini basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run --slowest {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report [coverage:run] branch = True concurrency = multiprocessing parallel = True source = . omit = .tox/* */charmhelpers/* unit_tests/* [testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_*commands = flake8 {posargs} hooks unit_tests tests actions lib[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1207,73
openstack%2Frequirements~master~I354c5ba7f58c952e626463677605a9f5fdc0ddc9,openstack/requirements,master,I354c5ba7f58c952e626463677605a9f5fdc0ddc9,update constraint for tempest to new release 22.0.0,ABANDONED,2019-10-07 15:19:15.000000000,2019-10-07 15:21:09.000000000,,[{'_account_id': 11131}],"[{'number': 1, 'created': '2019-10-07 15:19:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/54f0fca00cc20e383f53acddedb6da9149bee61e', 'message': 'update constraint for tempest to new release 22.0.0\n\nmeta:version: 22.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Change-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d\nmeta:release:Code-Review+1: Douglas Viroel <viroel@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n\n(cherry picked from commit 0873d3da3db3ad877151228ef55e3cce24e2193e)\n\nChange-Id: I354c5ba7f58c952e626463677605a9f5fdc0ddc9\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,687079,54f0fca00cc20e383f53acddedb6da9149bee61e,2,1,1,14288,,,0,"update constraint for tempest to new release 22.0.0

meta:version: 22.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Change-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d
meta:release:Code-Review+1: Douglas Viroel <viroel@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>

(cherry picked from commit 0873d3da3db3ad877151228ef55e3cce24e2193e)

Change-Id: I354c5ba7f58c952e626463677605a9f5fdc0ddc9
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/687079/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,54f0fca00cc20e383f53acddedb6da9149bee61e,stable/train,tempest===22.0.0,tempest===21.0.0,1,1
openstack%2Fcharm-ceph-fs~master~I1be6d121b470729c150f060d4e970f58d28fc13d,openstack/charm-ceph-fs,master,I1be6d121b470729c150f060d4e970f58d28fc13d,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:15.000000000,2019-10-07 15:20:07.000000000,2019-10-07 15:20:07.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/7b3128a283f8964e5b176f0ad103450c26c7fd1e', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1be6d121b470729c150f060d4e970f58d28fc13d\n'}, {'number': 2, 'created': '2019-10-01 02:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/f01d584aa286f281ffa0365091ec50f04acc656d', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1be6d121b470729c150f060d4e970f58d28fc13d\n'}, {'number': 3, 'created': '2019-10-01 03:41:35.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', '.zuul.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/ec4bdb67d5d10be88d7eec41db31a020cfe07823', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1be6d121b470729c150f060d4e970f58d28fc13d\n'}]",0,685815,ec4bdb67d5d10be88d7eec41db31a020cfe07823,15,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I1be6d121b470729c150f060d4e970f58d28fc13d
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/15/685815/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,7b3128a283f8964e5b176f0ad103450c26c7fd1e,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html deps = whitelist_externals = true commands = truecommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",32,35
openstack%2Fcharm-heat~master~I1ed7854fe42faa2090c085735eea0c4cac2f0acc,openstack/charm-heat,master,I1ed7854fe42faa2090c085735eea0c4cac2f0acc,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:17.000000000,2019-10-07 15:20:06.000000000,2019-10-07 15:20:06.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/dce5aca9d7dc6b00ece954ff2f4b3928403a35a7', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1ed7854fe42faa2090c085735eea0c4cac2f0acc\n'}, {'number': 2, 'created': '2019-10-01 02:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/9c0fe10bf26cb43dda03ed90f11cd038021cbc55', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1ed7854fe42faa2090c085735eea0c4cac2f0acc\n'}, {'number': 3, 'created': '2019-10-01 03:41:51.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'files/.gitkeep', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/83bd9aa5adb255cc29f7c7cfc014e91e25c837f7', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I1ed7854fe42faa2090c085735eea0c4cac2f0acc\n'}]",0,685830,83bd9aa5adb255cc29f7c7cfc014e91e25c837f7,17,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I1ed7854fe42faa2090c085735eea0c4cac2f0acc
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/30/685830/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'files/.gitkeep', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",14,dce5aca9d7dc6b00ece954ff2f4b3928403a35a7,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* OS_* [testenv:py27] basepython = python2.7commands = /bin/truecommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1178,78
openstack%2Fcharm-octavia-dashboard~master~Ie2d9438b1d4f772007bdf96cde81b1b89164e94c,openstack/charm-octavia-dashboard,master,Ie2d9438b1d4f772007bdf96cde81b1b89164e94c,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:21.000000000,2019-10-07 15:19:03.000000000,2019-10-07 15:19:03.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/f53e883608f944ddd71cf6cf04be5b919bc76e6e', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ie2d9438b1d4f772007bdf96cde81b1b89164e94c\n'}, {'number': 2, 'created': '2019-10-01 01:59:35.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/1397777b056db84a113543d9de6f79402ea5e410', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ie2d9438b1d4f772007bdf96cde81b1b89164e94c\n'}]",0,685846,1397777b056db84a113543d9de6f79402ea5e410,13,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ie2d9438b1d4f772007bdf96cde81b1b89164e94c
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/46/685846/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,f53e883608f944ddd71cf6cf04be5b919bc76e6e,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY[testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}basepython = python3ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxycommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} [testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run {posargs} stestr run {posargs}ignore = E402",60,36
openstack%2Fswift~master~I37dd8e8ac24e2b0bb196758449a1d91a769b2e96,openstack/swift,master,I37dd8e8ac24e2b0bb196758449a1d91a769b2e96,Add commands to ring-builder to change region / zone,MERGED,2016-03-12 06:39:28.000000000,2019-10-07 15:19:00.000000000,2019-10-07 15:16:37.000000000,"[{'_account_id': 3}, {'_account_id': 9625}, {'_account_id': 9816}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-03-12 06:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0904e935a1ec045d51f086e51eb3e8fd0e127486', 'message': 'Add commands to ring-builder to change region / zone\n\nCurrently one has to remove and re-add devices when the region or zone needs to\nbe changed. Adding the subcommands set_region and set_zone simplifies this, now\nit is possible to change the region and/or zone easily. Note that there is no\nchange to the required rebalancing; it is likely that data still needs to be\nmoved within the cluster.\n\nThis is mostly copy-n-paste of the existing set_weight subcommand and adopting\ntests accordingly. Some duplicated code in the tests has been aggregated as\nwell.\n\nChange-Id: I37dd8e8ac24e2b0bb196758449a1d91a769b2e96\n'}, {'number': 2, 'created': '2016-06-09 07:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3322e40daaf6dcdb45da63ee8435468c0cdba994', 'message': 'Add commands to ring-builder to change region / zone\n\nCurrently one has to remove and re-add devices when the region or zone needs to\nbe changed. Adding the subcommands set_region and set_zone simplifies this, now\nit is possible to change the region and/or zone easily. Note that there is no\nchange to the required rebalancing; it is likely that data still needs to be\nmoved within the cluster.\n\nThis is mostly copy-n-paste of the existing set_weight subcommand and adopting\ntests accordingly. Some duplicated code in the tests has been aggregated as\nwell.\n\nChange-Id: I37dd8e8ac24e2b0bb196758449a1d91a769b2e96\n'}, {'number': 3, 'created': '2017-04-03 18:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0d8291471a732f4a6f22a48b19f4b9bda80891d', 'message': 'Add commands to ring-builder to change region / zone\n\nCurrently one has to remove and re-add devices when the region or zone needs to\nbe changed. Adding the subcommands set_region and set_zone simplifies this, now\nit is possible to change the region and/or zone easily. Note that there is no\nchange to the required rebalancing; it is likely that data still needs to be\nmoved within the cluster.\n\nThis is mostly copy-n-paste of the existing set_weight subcommand and adopting\ntests accordingly. Some duplicated code in the tests has been aggregated as\nwell.\n\nChange-Id: I37dd8e8ac24e2b0bb196758449a1d91a769b2e96\n'}, {'number': 4, 'created': '2017-06-12 07:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ce9ce70613e92cbbbe520449b3ed4fe1f5ccf6cb', 'message': 'Add commands to ring-builder to change region / zone\n\nCurrently one has to remove and re-add devices when the region or zone needs to\nbe changed. Adding the subcommands set_region and set_zone simplifies this, now\nit is possible to change the region and/or zone easily. Note that there is no\nchange to the required rebalancing; it is likely that data still needs to be\nmoved within the cluster.\n\nThis is mostly copy-n-paste of the existing set_weight subcommand and adopting\ntests accordingly. Some duplicated code in the tests has been aggregated as\nwell.\n\nChange-Id: I37dd8e8ac24e2b0bb196758449a1d91a769b2e96\n'}, {'number': 5, 'created': '2019-10-05 04:57:43.000000000', 'files': ['swift/common/ring/builder.py', 'swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/98f9781096f4f8f989e11f52fee0ec145fb5a173', 'message': 'Add commands to ring-builder to change region / zone\n\nCurrently one has to remove and re-add devices when the region or zone needs to\nbe changed. Adding the subcommands set_region and set_zone simplifies this, now\nit is possible to change the region and/or zone easily. Note that there is no\nchange to the required rebalancing; it is likely that data still needs to be\nmoved within the cluster.\n\nThis is mostly copy-n-paste of the existing set_weight subcommand and adopting\ntests accordingly. Some duplicated code in the tests has been aggregated as\nwell.\n\nChange-Id: I37dd8e8ac24e2b0bb196758449a1d91a769b2e96\n'}]",15,291990,98f9781096f4f8f989e11f52fee0ec145fb5a173,33,6,5,6968,,,0,"Add commands to ring-builder to change region / zone

Currently one has to remove and re-add devices when the region or zone needs to
be changed. Adding the subcommands set_region and set_zone simplifies this, now
it is possible to change the region and/or zone easily. Note that there is no
change to the required rebalancing; it is likely that data still needs to be
moved within the cluster.

This is mostly copy-n-paste of the existing set_weight subcommand and adopting
tests accordingly. Some duplicated code in the tests has been aggregated as
well.

Change-Id: I37dd8e8ac24e2b0bb196758449a1d91a769b2e96
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/291990/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py']",3,0904e935a1ec045d51f086e51eb3e8fd0e127486,ringbuilder-change-region-zone," def test_set_region_values_no_devices(self): # Test no devices err = None try: ringbuilder._set_region_values([], 100) except SystemExit as e: err = e self.assertEqual(err.code, 2) def test_parse_set_region_values_number_of_arguments(self): # Test Number of arguments abnormal argv = [""r1"", ""100"", ""r2""] err = None try: ringbuilder._parse_set_region_values(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) argv = [""--region"", ""2""] err = None try: ringbuilder._parse_set_region_values(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) def test_set_zone_values_no_devices(self): # Test no devices err = None try: ringbuilder._set_zone_values([], 100) except SystemExit as e: err = e self.assertEqual(err.code, 2) def test_parse_set_zone_values_number_of_arguments(self): # Test Number of arguments abnormal argv = [""r1"", ""100"", ""r2""] err = None try: ringbuilder._parse_set_zone_values(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) argv = [""--region"", ""2""] err = None try: ringbuilder._parse_set_zone_values(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) def _check_region(self, ring, dev_id, expected_region): for dev in ring.devs: if dev['id'] != dev_id: self.assertFalse(dev['region'] == expected_region) else: self.assertEqual(dev['region'], expected_region) # Final check, rebalance and check ring is ok ring.rebalance() self.assertTrue(ring.validate()) def test_set_region(self): for search_value in self.search_values: self.create_sample_ring() argv = ["""", self.tmpfile, ""set_region"", search_value, ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_region(ring, 0, 314) def test_set_region_ipv4_old_format(self): self.create_sample_ring() # Test ipv4(old format) argv = ["""", self.tmpfile, ""set_region"", ""d0r0z0-127.0.0.1:6000R127.0.0.1:6000/sda1_some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_region(ring, 0, 314) def test_set_region_ipv6_old_format(self): self.create_sample_ring() # add IPV6 argv = \ ["""", self.tmpfile, ""add"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""[2001:0000:1234:0000:0000:C1C0:ABCD:0876]"", ""--port"", ""6000"", ""--replication-ip"", ""[2::10]"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""--weight"", ""100""] self.assertRaises(SystemExit, ringbuilder.main, argv) # Test ipv6(old format) argv = ["""", self.tmpfile, ""set_region"", ""d4r2z3-[2001:0000:1234:0000:0000:C1C0:ABCD:0876]:6000"" ""R[2::10]:7000/sda3_some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_region(ring, 4, 314) def test_set_region_ipv4_new_format(self): self.create_sample_ring() # Test ipv4(new format) argv = \ ["""", self.tmpfile, ""set_region"", ""--id"", ""0"", ""--region"", ""0"", ""--zone"", ""0"", ""--ip"", ""127.0.0.1"", ""--port"", ""6000"", ""--replication-ip"", ""127.0.0.1"", ""--replication-port"", ""6000"", ""--device"", ""sda1"", ""--meta"", ""some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_region(ring, 0, 314) def test_set_region_ipv6_new_format(self): self.create_sample_ring() # add IPV6 argv = \ ["""", self.tmpfile, ""add"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""[2001:0000:1234:0000:0000:C1C0:ABCD:0876]"", ""--port"", ""6000"", ""--replication-ip"", ""[2::10]"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""--weight"", ""100""] self.assertRaises(SystemExit, ringbuilder.main, argv) # Test ipv6(new format) argv = \ ["""", self.tmpfile, ""set_region"", ""--id"", ""4"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""[2001:0000:1234:0000:0000:C1C0:ABCD:0876]"", ""--port"", ""6000"", ""--replication-ip"", ""[2::10]"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_region(ring, 4, 314) def test_set_region_domain_new_format(self): self.create_sample_ring() # add domain name argv = \ ["""", self.tmpfile, ""add"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""test.test.com"", ""--port"", ""6000"", ""--replication-ip"", ""r.test.com"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""--weight"", ""100""] self.assertRaises(SystemExit, ringbuilder.main, argv) # Test domain name argv = \ ["""", self.tmpfile, ""set_region"", ""--id"", ""4"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""test.test.com"", ""--port"", ""6000"", ""--replication-ip"", ""r.test.com"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_region(ring, 4, 314) def test_set_region_number_of_arguments(self): self.create_sample_ring() # Test Number of arguments abnormal argv = ["""", self.tmpfile, ""set_region""] err = None try: ringbuilder.main(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) def test_set_region_no_matching(self): self.create_sample_ring() # Test No matching devices argv = ["""", self.tmpfile, ""set_region"", ""--ip"", ""unknown""] err = None try: ringbuilder.main(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) def test_set_zone(self): for search_value in self.search_values: self.create_sample_ring() argv = ["""", self.tmpfile, ""set_zone"", search_value, ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_zone(ring, 0, 314) def test_set_zone_ipv4_old_format(self): self.create_sample_ring() # Test ipv4(old format) argv = ["""", self.tmpfile, ""set_zone"", ""d0r0z0-127.0.0.1:6000R127.0.0.1:6000/sda1_some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_zone(ring, 0, 314) def _check_zone(self, ring, dev_id, expected_zone): for dev in ring.devs: if dev['id'] != dev_id: self.assertFalse(dev['zone'] == expected_zone) else: self.assertEqual(dev['zone'], expected_zone) # Final check, rebalance and check ring is ok ring.rebalance() self.assertTrue(ring.validate()) def test_set_zone_ipv6_old_format(self): self.create_sample_ring() # add IPV6 argv = \ ["""", self.tmpfile, ""add"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""[2001:0000:1234:0000:0000:C1C0:ABCD:0876]"", ""--port"", ""6000"", ""--replication-ip"", ""[2::10]"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""--weight"", ""100""] self.assertRaises(SystemExit, ringbuilder.main, argv) # Test ipv6(old format) argv = ["""", self.tmpfile, ""set_zone"", ""d4r2z3-[2001:0000:1234:0000:0000:C1C0:ABCD:0876]:6000"" ""R[2::10]:7000/sda3_some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_zone(ring, 4, 314) def test_set_zone_ipv4_new_format(self): self.create_sample_ring() # Test ipv4(new format) argv = \ ["""", self.tmpfile, ""set_zone"", ""--id"", ""0"", ""--region"", ""0"", ""--zone"", ""0"", ""--ip"", ""127.0.0.1"", ""--port"", ""6000"", ""--replication-ip"", ""127.0.0.1"", ""--replication-port"", ""6000"", ""--device"", ""sda1"", ""--meta"", ""some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_zone(ring, 0, 314) def test_set_zone_ipv6_new_format(self): self.create_sample_ring() # add IPV6 argv = \ ["""", self.tmpfile, ""add"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""[2001:0000:1234:0000:0000:C1C0:ABCD:0876]"", ""--port"", ""6000"", ""--replication-ip"", ""[2::10]"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""--weight"", ""100""] self.assertRaises(SystemExit, ringbuilder.main, argv) # Test ipv6(new format) argv = \ ["""", self.tmpfile, ""set_zone"", ""--id"", ""4"", ""--region"", ""2"", ""--ip"", ""[2001:0000:1234:0000:0000:C1C0:ABCD:0876]"", ""--port"", ""6000"", ""--replication-ip"", ""[2::10]"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_zone(ring, 4, 314) def test_set_zone_domain_new_format(self): self.create_sample_ring() # add domain name argv = \ ["""", self.tmpfile, ""add"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""test.test.com"", ""--port"", ""6000"", ""--replication-ip"", ""r.test.com"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""--weight"", ""100""] self.assertRaises(SystemExit, ringbuilder.main, argv) # Test domain name argv = \ ["""", self.tmpfile, ""set_zone"", ""--id"", ""4"", ""--region"", ""2"", ""--zone"", ""3"", ""--ip"", ""test.test.com"", ""--port"", ""6000"", ""--replication-ip"", ""r.test.com"", ""--replication-port"", ""7000"", ""--device"", ""sda3"", ""--meta"", ""some meta data"", ""314""] self.assertRaises(SystemExit, ringbuilder.main, argv) ring = RingBuilder.load(self.tmpfile) self._check_zone(ring, 4, 314) def test_set_zone_number_of_arguments(self): self.create_sample_ring() # Test Number of arguments abnormal argv = ["""", self.tmpfile, ""set_zone""] err = None try: ringbuilder.main(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) def test_set_zone_no_matching(self): self.create_sample_ring() # Test No matching devices argv = ["""", self.tmpfile, ""set_zone"", ""--ip"", ""unknown""] err = None try: ringbuilder.main(argv) except SystemExit as e: err = e self.assertEqual(err.code, 2) ",,574,0
openstack%2Fcharm-cinder-backup~master~I25dd883c61f6261901a76800d17ad982cb23177e,openstack/charm-cinder-backup,master,I25dd883c61f6261901a76800d17ad982cb23177e,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:45.000000000,2019-10-07 15:18:58.000000000,2019-10-07 15:18:58.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/ceeaf1c4426ba864be90d33cf9d3037ee0c63cd7', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I25dd883c61f6261901a76800d17ad982cb23177e\n'}, {'number': 2, 'created': '2019-10-01 02:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/d133d9de6f8c4651cd71433e72c20e3fc63f82bc', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I25dd883c61f6261901a76800d17ad982cb23177e\n'}, {'number': 3, 'created': '2019-10-01 03:41:38.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py', 'files/.gitkeep', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/99da41166c1c74acf2ba78200b90d2fb5e213345', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I25dd883c61f6261901a76800d17ad982cb23177e\n'}]",0,685822,99da41166c1c74acf2ba78200b90d2fb5e213345,16,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I25dd883c61f6261901a76800d17ad982cb23177e
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/22/685822/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'files/.gitkeep', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",14,ceeaf1c4426ba864be90d33cf9d3037ee0c63cd7,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7commands = /bin/truecommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1202,89
openstack%2Frequirements~master~I3e13ae30001d2d7da512bd16deab77547007b065,openstack/requirements,master,I3e13ae30001d2d7da512bd16deab77547007b065,update constraint for tempest to new release 22.0.0,ABANDONED,2019-10-07 15:17:18.000000000,2019-10-07 15:18:32.000000000,,[{'_account_id': 11131}],"[{'number': 1, 'created': '2019-10-07 15:17:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb1672b6cb389fa82de8b9b31f271b951e36e87d', 'message': 'update constraint for tempest to new release 22.0.0\n\nmeta:version: 22.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Change-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d\nmeta:release:Code-Review+1: Douglas Viroel <viroel@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n\n(cherry picked from commit 0873d3da3db3ad877151228ef55e3cce24e2193e)\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n\nChange-Id: I3e13ae30001d2d7da512bd16deab77547007b065\n'}]",0,687077,cb1672b6cb389fa82de8b9b31f271b951e36e87d,2,1,1,14288,,,0,"update constraint for tempest to new release 22.0.0

meta:version: 22.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Change-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d
meta:release:Code-Review+1: Douglas Viroel <viroel@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>

(cherry picked from commit 0873d3da3db3ad877151228ef55e3cce24e2193e)
Signed-off-by: Matthew Thode <mthode@mthode.org>

Change-Id: I3e13ae30001d2d7da512bd16deab77547007b065
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/687077/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cb1672b6cb389fa82de8b9b31f271b951e36e87d,stable/train,tempest===22.0.0,tempest===21.0.0,1,1
openstack%2Fcharm-hacluster~master~I4b121d65211622a8a1ff36c553376d1cc5ad89d7,openstack/charm-hacluster,master,I4b121d65211622a8a1ff36c553376d1cc5ad89d7,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:13.000000000,2019-10-07 15:17:42.000000000,2019-10-07 15:17:42.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6dc7b07f7ce5f58c8e2aced4b2e6a1661d167cda', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I4b121d65211622a8a1ff36c553376d1cc5ad89d7\n'}, {'number': 2, 'created': '2019-10-01 02:43:21.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'tox.ini', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/66d5bfb2d25d6f9b95be50f7d3a95a4ec1062e40', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I4b121d65211622a8a1ff36c553376d1cc5ad89d7\n'}]",0,685829,66d5bfb2d25d6f9b95be50f7d3a95a4ec1062e40,13,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I4b121d65211622a8a1ff36c553376d1cc5ad89d7
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/29/685829/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'tox.ini']",9,6dc7b07f7ce5f58c8e2aced4b2e6a1661d167cda,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt[testenv:cover] # Technique based heavily upon # https://github.com/openstack/nova/blob/master/tox.ini basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run --slowest {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report [coverage:run] branch = True concurrency = multiprocessing parallel = True source = . omit = .tox/* */charmhelpers/* unit_tests/* [testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_*[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",492,82
openstack%2Fcharm-aodh~master~Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f,openstack/charm-aodh,master,Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:06:50.000000000,2019-10-07 15:17:37.000000000,2019-10-07 15:17:37.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/360ab690d7faa029720777be477573776d63412f', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f\n'}, {'number': 2, 'created': '2019-10-01 02:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/f4d945ed2ddfe808db36dc45d2fa18e9b41be0db', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f\n'}, {'number': 3, 'created': '2019-10-01 03:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/7753e245ff2f51b1f18b568660ff96af7a4c5bc0', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f\n'}, {'number': 4, 'created': '2019-10-04 16:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/819cb798027ea65bc4b13979f182ed0c2f00e0ac', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f\n'}, {'number': 5, 'created': '2019-10-04 16:49:12.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', '.zuul.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/b0d6fb8eb0d51b122c9be972e5e95806739c1b01', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f\n'}]",0,685809,b0d6fb8eb0d51b122c9be972e5e95806739c1b01,19,4,5,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ibaa8c4dbcb2a484f7dd4d71a0aec78161c6d230f
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/09/685809/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,360ab690d7faa029720777be477573776d63412f,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. https://governance.openstack.org/tc/reference/cti/python_cti.html deps = whitelist_externals = true commands = truecommands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",36,34
openstack%2Fcharm-tempest~master~I2d69a0b69eaf518b3bc0630cfc196d2bc6c3e7da,openstack/charm-tempest,master,I2d69a0b69eaf518b3bc0630cfc196d2bc6c3e7da,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:54.000000000,2019-10-07 15:17:27.000000000,2019-10-07 15:17:27.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/f4d7618a6655f236e2acef6a090c249d16f59f7b', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I2d69a0b69eaf518b3bc0630cfc196d2bc6c3e7da\n'}, {'number': 2, 'created': '2019-10-01 03:42:10.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/65e767eac321ce7bafbdbf4c9a844daa30555b9c', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I2d69a0b69eaf518b3bc0630cfc196d2bc6c3e7da\n'}]",0,685854,65e767eac321ce7bafbdbf4c9a844daa30555b9c,14,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I2d69a0b69eaf518b3bc0630cfc196d2bc6c3e7da
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/54/685854/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,f4d7618a6655f236e2acef6a090c249d16f59f7b,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",31,38
openstack%2Fos-brick~stable%2Frocky~I9d3a9dac13dcd585330e7b891c61b2626e5aabec,openstack/os-brick,stable/rocky,I9d3a9dac13dcd585330e7b891c61b2626e5aabec,Check path alive before get scsi wwn,MERGED,2019-08-14 14:59:22.000000000,2019-10-07 15:17:18.000000000,2019-10-07 15:17:18.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-08-14 14:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6ba44977278750e115331453abef62e27bc61906', 'message': 'Check path alive before get scsi wwn\n\nIn FC environment, when disconnect volume,\nif the first path in the loop is failed,\nit will lead get scsi wwn to failure.\nSo I think we need to add path validity check\nbefore get scsi wwn\n\nChange-Id: I9d3a9dac13dcd585330e7b891c61b2626e5aabec\nCloses-Bug: 1831621\n'}, {'number': 2, 'created': '2019-09-04 15:23:22.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/22765cb4aac2c960b86399199dd95bb644bad717', 'message': 'Check path alive before get scsi wwn\n\nIn FC environment, when disconnect volume,\nif the first path in the loop is failed,\nit will lead get scsi wwn to failure.\nSo I think we need to add path validity check\nbefore get scsi wwn\n\nChange-Id: I9d3a9dac13dcd585330e7b891c61b2626e5aabec\nCloses-Bug: 1831621\n(cherry picked from commit 3b8d5b7886b9a45df6b666ef594f4a337914856d)\n'}]",0,676434,22765cb4aac2c960b86399199dd95bb644bad717,32,14,2,9236,,,0,"Check path alive before get scsi wwn

In FC environment, when disconnect volume,
if the first path in the loop is failed,
it will lead get scsi wwn to failure.
So I think we need to add path validity check
before get scsi wwn

Change-Id: I9d3a9dac13dcd585330e7b891c61b2626e5aabec
Closes-Bug: 1831621
(cherry picked from commit 3b8d5b7886b9a45df6b666ef594f4a337914856d)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/34/676434/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py']",2,6ba44977278750e115331453abef62e27bc61906,, if (self.use_multipath and not mpath_path and self.check_valid_device(path)):, if self.use_multipath and not mpath_path:,64,1
openstack%2Fcharm-manila-generic~master~Ifaa9d3e554af21c51dbd081dbf8f7d0574183633,openstack/charm-manila-generic,master,Ifaa9d3e554af21c51dbd081dbf8f7d0574183633,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:45.000000000,2019-10-07 15:16:21.000000000,2019-10-07 15:16:21.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/265e0ca5090e5f5c4083beaa0c7713dd47a9907e', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ifaa9d3e554af21c51dbd081dbf8f7d0574183633\n'}, {'number': 2, 'created': '2019-10-01 03:41:56.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/12d9c42efc6c4d9a555992b1c5b701245d3d65ce', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ifaa9d3e554af21c51dbd081dbf8f7d0574183633\n'}]",0,685837,12d9c42efc6c4d9a555992b1c5b701245d3d65ce,14,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ifaa9d3e554af21c51dbd081dbf8f7d0574183633
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/37/685837/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,265e0ca5090e5f5c4083beaa0c7713dd47a9907e,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",31,38
openstack%2Fcharm-keystone-ldap~master~I694431b985a0fb8d7c6a945d7f11f6fea1164574,openstack/charm-keystone-ldap,master,I694431b985a0fb8d7c6a945d7f11f6fea1164574,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:25.000000000,2019-10-07 15:15:11.000000000,2019-10-07 15:15:11.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/8cbadb76c19240029f596e7b16af8cb63a4d2a33', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I694431b985a0fb8d7c6a945d7f11f6fea1164574\n'}, {'number': 2, 'created': '2019-10-01 03:41:53.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/cb32d0a740b1d8eab39ac66c601f571e24e08bbe', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I694431b985a0fb8d7c6a945d7f11f6fea1164574\n'}]",0,685832,cb32d0a740b1d8eab39ac66c601f571e24e08bbe,14,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I694431b985a0fb8d7c6a945d7f11f6fea1164574
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/32/685832/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,8cbadb76c19240029f596e7b16af8cb63a4d2a33,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs} [testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 skip_missing_interpreters = Truepassenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}deps = -r{toxinidir}/test-requirements.txt stestr run {posargs}ignore = E402",41,35
openstack%2Fcinder~stable%2Focata~Iadf537521af93bbd28452a54e0e70e7ed18f606c,openstack/cinder,stable/ocata,Iadf537521af93bbd28452a54e0e70e7ed18f606c,Fix NFS volume retype with migrate,MERGED,2019-09-11 13:37:11.000000000,2019-10-07 15:03:50.000000000,2019-10-07 15:03:50.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-09-11 13:37:11.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/936a4aef6e02b6f8d96cb3510ca94c2b17eb73cd', 'message': ""Fix NFS volume retype with migrate\n\nWhen migrating a volume to an NFS backend, don't rename the associated\nvolume file if the original source volume was on the same backend (same\nprovider_location). Volume migration always deletes the source volume,\nso the volume file should *not* be renamed to the original.\n\nCloses-Bug: #1798468\nChange-Id: Iadf537521af93bbd28452a54e0e70e7ed18f606c\n(cherry picked from commit 33a3a4bf6fe72b093702922e2e5f102d06249375)\n(cherry picked from commit 6f3bec3c64e27f7daac830e62de935b2d5ffa20f)\n(cherry picked from commit 058700edc93a5815bedc8c7f53cccd672618019c)\n(cherry picked from commit f3639046cbdc5202340ffd7a691c21ce3b6cc1bf)\n(cherry picked from commit 01d3d2ee242f265ce9639349a8353891284c8142)\n""}]",0,681477,936a4aef6e02b6f8d96cb3510ca94c2b17eb73cd,32,20,1,21129,,,0,"Fix NFS volume retype with migrate

When migrating a volume to an NFS backend, don't rename the associated
volume file if the original source volume was on the same backend (same
provider_location). Volume migration always deletes the source volume,
so the volume file should *not* be renamed to the original.

Closes-Bug: #1798468
Change-Id: Iadf537521af93bbd28452a54e0e70e7ed18f606c
(cherry picked from commit 33a3a4bf6fe72b093702922e2e5f102d06249375)
(cherry picked from commit 6f3bec3c64e27f7daac830e62de935b2d5ffa20f)
(cherry picked from commit 058700edc93a5815bedc8c7f53cccd672618019c)
(cherry picked from commit f3639046cbdc5202340ffd7a691c21ce3b6cc1bf)
(cherry picked from commit 01d3d2ee242f265ce9639349a8353891284c8142)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/681477/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py']",2,936a4aef6e02b6f8d96cb3510ca94c2b17eb73cd,bug/1798468, if (original_volume_status == 'available' and volume.provider_location != new_volume.provider_location):, if original_volume_status == 'available':,64,70
openstack%2Fcinder~stable%2Frocky~I31bdcfc12e3b8b54d5b5a6664f88df3b7dcd4fc0,openstack/cinder,stable/rocky,I31bdcfc12e3b8b54d5b5a6664f88df3b7dcd4fc0,Extend timeout for database migration tests,MERGED,2019-09-26 15:15:50.000000000,2019-10-07 15:03:47.000000000,2019-10-07 15:03:47.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-09-26 15:15:50.000000000', 'files': ['cinder/tests/unit/utils.py', 'cinder/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a5fe0d2208ea5041a9f53e13ef08773239194b7', 'message': ""Extend timeout for database migration tests\n\nDatabase migration tests (specifically test_walk_versions\nand test_mysql_innodb) are failing due to multiple reasons\nfrom oslo.db side mentioned in the code comments.\nIncreasing the timeout will allow the tests to execute\nsuccessfully on slower nodes.\nThis solution is adopted from manila [1] and also implemented\nin neutron [2] for the same and hopefully they're not facing the\nissue currently.\n\n[1] https://review.openstack.org/#/c/291397/\n[2] https://review.openstack.org/#/c/610003/\n\nChange-Id: I31bdcfc12e3b8b54d5b5a6664f88df3b7dcd4fc0\n(cherry picked from commit ad0b6691e2a85d4b36978d02953dca2c289a82e6)\nConflicts:\n\tcinder/tests/unit/db/test_migrations.py\n""}]",0,685113,0a5fe0d2208ea5041a9f53e13ef08773239194b7,17,14,1,4523,,,0,"Extend timeout for database migration tests

Database migration tests (specifically test_walk_versions
and test_mysql_innodb) are failing due to multiple reasons
from oslo.db side mentioned in the code comments.
Increasing the timeout will allow the tests to execute
successfully on slower nodes.
This solution is adopted from manila [1] and also implemented
in neutron [2] for the same and hopefully they're not facing the
issue currently.

[1] https://review.openstack.org/#/c/291397/
[2] https://review.openstack.org/#/c/610003/

Change-Id: I31bdcfc12e3b8b54d5b5a6664f88df3b7dcd4fc0
(cherry picked from commit ad0b6691e2a85d4b36978d02953dca2c289a82e6)
Conflicts:
	cinder/tests/unit/db/test_migrations.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/685113/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/utils.py', 'cinder/tests/unit/db/test_migrations.py']",2,0a5fe0d2208ea5041a9f53e13ef08773239194b7,,from cinder.tests.unit import utils as test_utils # NOTE: this test becomes slower with each addition of new DB migration. # 'pymysql' works much slower on slow nodes than 'psycopg2'. And such # timeout mostly required for testing of 'mysql' backend. @test_utils.set_timeout(300) @test_utils.set_timeout(300),,28,0
openstack%2Fec2-api~master~I46e7cfe55bd5cfbca90177bc4a970c726872bab4,openstack/ec2-api,master,I46e7cfe55bd5cfbca90177bc4a970c726872bab4,Update json module to jsonutils,MERGED,2019-03-01 17:07:15.000000000,2019-10-07 14:59:51.000000000,2019-10-07 14:58:38.000000000,"[{'_account_id': 10234}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-01 17:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/6a199b4d52166689744d5f3d73e1848ec82ef669', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ec2api use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/ec2-api/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I46e7cfe55bd5cfbca90177bc4a970c726872bab4\n'}, {'number': 2, 'created': '2019-04-15 16:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/40d4eca9f06018faa757c14e67d3ee5cddacf0f0', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ec2api use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for consistency.\n\n[1]: https://github.com/openstack/ec2-api/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I46e7cfe55bd5cfbca90177bc4a970c726872bab4\n'}, {'number': 3, 'created': '2019-06-06 09:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2d56a7ecda20556f6e1e119679f70edbe1f76d48', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ec2api use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for consistency.\n\n[1]: https://github.com/openstack/ec2-api/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I46e7cfe55bd5cfbca90177bc4a970c726872bab4\n'}, {'number': 4, 'created': '2019-09-13 02:00:39.000000000', 'files': ['ec2api/api/image.py', 'ec2api/db/sqlalchemy/api.py', 'ec2api/tests/unit/fakes.py', 'ec2api/api/ec2utils.py', 'ec2api/tests/unit/test_image.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c27a8c4eaecd3afe1e09edd629706517d5048426', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and ec2api use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for consistency.\n\n[1]: https://github.com/openstack/ec2-api/search?q=jsonutils&unscoped_q=jsonutils\n\nChange-Id: I46e7cfe55bd5cfbca90177bc4a970c726872bab4\n'}]",0,640443,c27a8c4eaecd3afe1e09edd629706517d5048426,46,9,4,28614,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and ec2api use it in many place[1],
this PS to update the remained json module to oslo jsonutils for consistency.

[1]: https://github.com/openstack/ec2-api/search?q=jsonutils&unscoped_q=jsonutils

Change-Id: I46e7cfe55bd5cfbca90177bc4a970c726872bab4
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/43/640443/4 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/image.py', 'ec2api/db/sqlalchemy/api.py', 'ec2api/tests/unit/fakes.py', 'ec2api/api/ec2utils.py', 'ec2api/tests/unit/test_image.py']",5,6a199b4d52166689744d5f3d73e1848ec82ef669,,from oslo_serialization import jsonutils jsonutils.loads(bdm)),import json json.loads(bdm)),11,11
openstack%2Fovsdbapp~master~I427f5c87058de04db21b23b26d5f1070b2efeb61,openstack/ovsdbapp,master,I427f5c87058de04db21b23b26d5f1070b2efeb61,Handle unset OVN_SRCDIR,MERGED,2019-10-04 22:43:07.000000000,2019-10-07 14:59:40.000000000,2019-10-07 14:58:32.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 22:43:07.000000000', 'files': ['ovsdbapp/venv.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0e3d9743c06ce1112a96bf54d08090365fedf9b9', 'message': ""Handle unset OVN_SRCDIR\n\nAllow the usage of system-installed OVN. This will allow tests that\nuse ovsdbapp's venv.py in networking-ovn to pass.\n\nChange-Id: I427f5c87058de04db21b23b26d5f1070b2efeb61\n""}]",3,686849,0e3d9743c06ce1112a96bf54d08090365fedf9b9,13,5,1,5756,,,0,"Handle unset OVN_SRCDIR

Allow the usage of system-installed OVN. This will allow tests that
use ovsdbapp's venv.py in networking-ovn to pass.

Change-Id: I427f5c87058de04db21b23b26d5f1070b2efeb61
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/49/686849/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/venv.py'],1,0e3d9743c06ce1112a96bf54d08090365fedf9b9,, self.ovndir = kwargs.pop('ovndir') or '/usr/local/share/ovn', self.ovndir = kwargs.pop('ovndir'),1,1
openstack%2Ftripleo-common~stable%2Fqueens~Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,openstack/tripleo-common,stable/queens,Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,Implement Ansible fact cache for Mistral executor,MERGED,2019-10-04 09:25:37.000000000,2019-10-07 14:52:14.000000000,2019-10-07 14:52:14.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 09:25:37.000000000', 'files': ['tripleo_common/actions/ansible.py', 'scripts/run-validation'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0dc6284324cd194fb25c73b0a7f0aec90835ac48', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThe validations are run using the 'validations' user, it cannot share the\nsame fact cache because the /var/tmp/ansible_fact_cache folder will be owned\nby the 'mistral' user, and is therefore not writable by the 'validations'\nuser. We therefore set the validations to use a different path.\n\nThis should cut down the deployment time a bit, which saves a little time in\nCI and saves a lot of time in production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n(cherry picked from commit bbc0d767bbd87f10d69c71b35652d65bb631ba6c)\n""}]",0,686557,0dc6284324cd194fb25c73b0a7f0aec90835ac48,11,7,1,16515,,,0,"Implement Ansible fact cache for Mistral executor

Most of the playbooks executed by Mistral gather facts which, by default,
are stored in memory until the conclusion of the playbook execution. This
means that for every new playbook run the facts for each host are gathered
again. Fact gathering can take a long time, especially when the target host
has a lot of devices, which is often the case for compute hosts (many
network devices and many storage devices) and for controller hosts (many
network devices).

To optimise fact gathering, we set the default behaviour for Mistral's
Ansible execution to store gathered facts using the jsonfile format in a
temporary location, and we tell it to use smart gathering so that it will
only gather new facts when a new playbook executes.

The validations are run using the 'validations' user, it cannot share the
same fact cache because the /var/tmp/ansible_fact_cache folder will be owned
by the 'mistral' user, and is therefore not writable by the 'validations'
user. We therefore set the validations to use a different path.

This should cut down the deployment time a bit, which saves a little time in
CI and saves a lot of time in production environments.

Related: rhbz#1749406
Change-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5
(cherry picked from commit bbc0d767bbd87f10d69c71b35652d65bb631ba6c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/686557/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'scripts/run-validation']",2,0dc6284324cd194fb25c73b0a7f0aec90835ac48,,# Use a fact cache to improve performance # The defaults from tripleo_common/actions/ansible.py cannot be used # beause they will clash with the 'mistral' user owning the fact cache # path. export ANSIBLE_GATHERING=smart export ANSIBLE_CACHE_PLUGIN=jsonfile export ANSIBLE_CACHE_PLUGIN_CONNECTION=~/ansible_fact_cache export ANSIBLE_GATHER_TIMEOUT=7200 # 7200s = 2h,,17,0
openstack%2Ftripleo-common~stable%2Frocky~Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,openstack/tripleo-common,stable/rocky,Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,Implement Ansible fact cache for Mistral executor,MERGED,2019-10-04 09:24:10.000000000,2019-10-07 14:52:13.000000000,2019-10-07 14:52:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 09:24:10.000000000', 'files': ['tripleo_common/actions/ansible.py', 'scripts/run-validation'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e8630e4cc1d286ff67f988d50897e675ae9e115', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThe validations are run using the 'validations' user, it cannot share the\nsame fact cache because the /var/tmp/ansible_fact_cache folder will be owned\nby the 'mistral' user, and is therefore not writable by the 'validations'\nuser. We therefore set the validations to use a different path.\n\nThis should cut down the deployment time a bit, which saves a little time in\nCI and saves a lot of time in production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n(cherry picked from commit bbc0d767bbd87f10d69c71b35652d65bb631ba6c)\n""}]",0,686556,2e8630e4cc1d286ff67f988d50897e675ae9e115,12,7,1,16515,,,0,"Implement Ansible fact cache for Mistral executor

Most of the playbooks executed by Mistral gather facts which, by default,
are stored in memory until the conclusion of the playbook execution. This
means that for every new playbook run the facts for each host are gathered
again. Fact gathering can take a long time, especially when the target host
has a lot of devices, which is often the case for compute hosts (many
network devices and many storage devices) and for controller hosts (many
network devices).

To optimise fact gathering, we set the default behaviour for Mistral's
Ansible execution to store gathered facts using the jsonfile format in a
temporary location, and we tell it to use smart gathering so that it will
only gather new facts when a new playbook executes.

The validations are run using the 'validations' user, it cannot share the
same fact cache because the /var/tmp/ansible_fact_cache folder will be owned
by the 'mistral' user, and is therefore not writable by the 'validations'
user. We therefore set the validations to use a different path.

This should cut down the deployment time a bit, which saves a little time in
CI and saves a lot of time in production environments.

Related: rhbz#1749406
Change-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5
(cherry picked from commit bbc0d767bbd87f10d69c71b35652d65bb631ba6c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/686556/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'scripts/run-validation']",2,2e8630e4cc1d286ff67f988d50897e675ae9e115,,# Use a fact cache to improve performance # The defaults from tripleo_common/actions/ansible.py cannot be used # beause they will clash with the 'mistral' user owning the fact cache # path. export ANSIBLE_GATHERING=smart export ANSIBLE_CACHE_PLUGIN=jsonfile export ANSIBLE_CACHE_PLUGIN_CONNECTION=~/ansible_fact_cache export ANSIBLE_GATHER_TIMEOUT=7200 # 7200s = 2h,,17,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~If81b1ce9ef381ff102a6ce71fa4603424deca01d,openstack/tripleo-heat-templates,stable/stein,If81b1ce9ef381ff102a6ce71fa4603424deca01d,Prevent running mysql data transfer twice by accident,MERGED,2019-09-27 08:23:13.000000000,2019-10-07 14:52:02.000000000,2019-10-07 14:52:02.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-27 08:23:13.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/603ae5d3e47297c21df69c57cbc7c2354bbc9f70', 'message': 'Prevent running mysql data transfer twice by accident\n\nProviding the tripleo_transfer_flag_file parameter means the data\ntransfer would stop (fail intentionally) if it has been already run\npreviously.\n\nChange-Id: If81b1ce9ef381ff102a6ce71fa4603424deca01d\nPartial-Bug: #1831690\n(cherry-picked from 60b0359b83adc8cd6d7391ceab3bb6c2a4e346d7)\n'}]",0,685229,603ae5d3e47297c21df69c57cbc7c2354bbc9f70,9,4,1,8042,,,0,"Prevent running mysql data transfer twice by accident

Providing the tripleo_transfer_flag_file parameter means the data
transfer would stop (fail intentionally) if it has been already run
previously.

Change-Id: If81b1ce9ef381ff102a6ce71fa4603424deca01d
Partial-Bug: #1831690
(cherry-picked from 60b0359b83adc8cd6d7391ceab3bb6c2a4e346d7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/685229/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,603ae5d3e47297c21df69c57cbc7c2354bbc9f70,tripleo-transfer-flag-stable/stein, tripleo_transfer_flag_file: /var/lib/tripleo/transfer-flags/var-lib-mysql,,1,0
openstack%2Frpm-packaging~master~I9350c5fe4dc945c9fb9193176380b300f3f76cf0,openstack/rpm-packaging,master,I9350c5fe4dc945c9fb9193176380b300f3f76cf0,freezer-tempest-plugin: Switch to python3,MERGED,2019-10-07 13:54:22.000000000,2019-10-07 14:51:47.000000000,2019-10-07 14:51:47.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 13:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/14aa7f46091290fd59378191e9d43d79845a4cbd', 'message': 'freezer-tempest-plugin: Switch to python3\n\nAlso drop the doc package. There is no useful doc available.\n\nChange-Id: I9350c5fe4dc945c9fb9193176380b300f3f76cf0\n'}, {'number': 2, 'created': '2019-10-07 14:00:06.000000000', 'files': ['openstack/freezer-tempest-plugin/freezer-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e99f431a2766a859f93e7dbb33e40d7506420e0c', 'message': 'freezer-tempest-plugin: Switch to python3\n\nAlso drop the doc package. There is no useful doc available.\n\nChange-Id: I9350c5fe4dc945c9fb9193176380b300f3f76cf0\n'}]",2,687055,e99f431a2766a859f93e7dbb33e40d7506420e0c,12,6,2,7102,,,0,"freezer-tempest-plugin: Switch to python3

Also drop the doc package. There is no useful doc available.

Change-Id: I9350c5fe4dc945c9fb9193176380b300f3f76cf0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/55/687055/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/freezer-tempest-plugin/freezer-tempest-plugin.spec.j2'],1,14aa7f46091290fd59378191e9d43d79845a4cbd,,BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} Requires: {{ py2pkg('tempest') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('paramiko') }} Requires: {{ py3('pbr') }} Requires: {{ py3('six') }}This package contains Tempest tests to cover the freezer project. Additionally it provides a plugin to automatically load these tests into Tempest.%autosetup -p1 -n %{sname}-{{ upstream_version }}%{py3_build}%{py3_install}%{python3_sitelib}/freezer_tempest_plugin %{python3_sitelib}/*.egg-info,"%global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the freezer project. \ Additionally it provides a plugin to automatically load these tests into Tempest.BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('paramiko') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }}%{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for freezer tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the freezer tempest tests. %endif%autosetup -n %{sname}-{{ upstream_version }}# Remove bundled egg-info rm -rf %{module}.egg-info%{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif%{py2_install}%{python2_sitelib}/freezer_tempest_plugin %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif",15,43
openstack%2Fpython-tripleoclient~master~Ia556e09b7e92ed16e50061ccfbd002af61252092,openstack/python-tripleoclient,master,Ia556e09b7e92ed16e50061ccfbd002af61252092,Removed references to bm-deploy images,MERGED,2019-10-01 22:09:25.000000000,2019-10-07 14:49:14.000000000,2019-10-07 14:47:54.000000000,"[{'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-10-01 22:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ddc0a739b412564219e2a6a25f9f53bc11e37df', 'message': 'Removed references to bm-deploy images\n\nPreviously, kernel and ramdisk images had been\nremoved from glance in favor of using them directly from the\nfilesystem. However, some references to these images remained in a\ncouple of test scripts and also for node discovery where they were\nbeing used as the default. The images being used were\nbm-deploy-kernel and bm-deploy-ramdisk.\n\nThe change requiring this update was made in commit 7ad1b812fc and\ncan be found at review https://review.opendev.org/#/c/663897/\n\nIn tripleoclient/v1/overcloud_node.py, replaced the default kernel and\nramdisk image names with paths to the current default locations, and\nadjusted tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py\nto use these paths in the test.\n\nIn tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py,\nremoved mentions of these images in the image list as they no longer\nappear as available images in a live setup. This rule change would\nhave correctly caused test failures for missing images before\novercloud_node.py was updated.\n\nChange-Id: Ia556e09b7e92ed16e50061ccfbd002af61252092\nCloses-Bug: #1845698\n'}, {'number': 2, 'created': '2019-10-02 14:46:41.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f5ddb8fb4029b0a57ab9461595a1de002f232f5', 'message': 'Removed references to bm-deploy images\n\nPreviously, kernel and ramdisk images had been\nremoved from glance in favor of using them directly from the\nfilesystem. However, some references to these images remained in a\ncouple of test scripts and also for node discovery where they were\nbeing used as the default. The images being used were\nbm-deploy-kernel and bm-deploy-ramdisk.\n\nThe change requiring this update was made in commit 7ad1b812fc and\ncan be found at review https://review.opendev.org/#/c/663897/\n\nIn tripleoclient/v1/overcloud_node.py, replaced the default kernel and\nramdisk image names with paths to the current default locations, and\nadjusted tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py\nto use these paths in the test.\n\nIn tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py,\nremoved mentions of these images in the image list as they no longer\nappear as available images in a live setup. This rule change would\nhave correctly caused test failures for missing images before\novercloud_node.py was updated.\n\nCloses-Bug: #1845698\nChange-Id: Ia556e09b7e92ed16e50061ccfbd002af61252092\n'}]",0,686064,3f5ddb8fb4029b0a57ab9461595a1de002f232f5,16,8,2,31031,,,0,"Removed references to bm-deploy images

Previously, kernel and ramdisk images had been
removed from glance in favor of using them directly from the
filesystem. However, some references to these images remained in a
couple of test scripts and also for node discovery where they were
being used as the default. The images being used were
bm-deploy-kernel and bm-deploy-ramdisk.

The change requiring this update was made in commit 7ad1b812fc and
can be found at review https://review.opendev.org/#/c/663897/

In tripleoclient/v1/overcloud_node.py, replaced the default kernel and
ramdisk image names with paths to the current default locations, and
adjusted tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py
to use these paths in the test.

In tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py,
removed mentions of these images in the image list as they no longer
appear as available images in a live setup. This rule change would
have correctly caused test failures for missing images before
overcloud_node.py was updated.

Closes-Bug: #1845698
Change-Id: Ia556e09b7e92ed16e50061ccfbd002af61252092
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/64/686064/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/v1/overcloud_node.py']",3,8ddc0a739b412564219e2a6a25f9f53bc11e37df,bug/1845698, deploy_kernel = 'file://{}/agent.kernel'.format( constants.IRONIC_HTTP_BOOT_BIND_MOUNT ) deploy_ramdisk = 'file://{}/agent.ramdisk'.format( constants.IRONIC_HTTP_BOOT_BIND_MOUNT ), deploy_kernel = 'bm-deploy-kernel' deploy_ramdisk = 'bm-deploy-ramdisk',12,14
openstack%2Ftripleo-upgrade~stable%2Frocky~Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83,openstack/tripleo-upgrade,stable/rocky,Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83,Handle when ceph_osds is a dictionary or a list.,MERGED,2019-09-27 08:23:55.000000000,2019-10-07 14:47:56.000000000,2019-10-07 14:47:56.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-09-27 08:23:55.000000000', 'files': ['tasks/common/convert_ceph_params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/997ab864cd841d76d5c28948309f618da5cfa4ac', 'message': ""Handle when ceph_osds is a dictionary or a list.\n\nThe ceph_osds variable is obtained from the ceph configuration\nand it seems it can be a dictionary formed by the osds directories\nas keys, example {'/dev/vdc': {}, '/dev/vdb': {}, '/dev/vdf': {},\n'/dev/vde': {}, '/dev/vdd': {}} .\nFor that reason, we need to differentiate when the variable is\na list or a dictionary, as otherwise the loop variable won't be\nable to iterate over the values.\n\nChange-Id: Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83\nCloses-Bug: #1844974\n(cherry picked from commit 75290252d7bd22540a10a47ba6f5477d85c5a542)\n(cherry picked from commit b70b3e0a2b5596dc51fc4d5a342ae424af93d27f)\n""}]",0,685231,997ab864cd841d76d5c28948309f618da5cfa4ac,10,7,1,26343,,,0,"Handle when ceph_osds is a dictionary or a list.

The ceph_osds variable is obtained from the ceph configuration
and it seems it can be a dictionary formed by the osds directories
as keys, example {'/dev/vdc': {}, '/dev/vdb': {}, '/dev/vdf': {},
'/dev/vde': {}, '/dev/vdd': {}} .
For that reason, we need to differentiate when the variable is
a list or a dictionary, as otherwise the loop variable won't be
able to iterate over the values.

Change-Id: Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83
Closes-Bug: #1844974
(cherry picked from commit 75290252d7bd22540a10a47ba6f5477d85c5a542)
(cherry picked from commit b70b3e0a2b5596dc51fc4d5a342ae424af93d27f)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/31/685231/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/convert_ceph_params.yaml'],1,997ab864cd841d76d5c28948309f618da5cfa4ac,," vars: ceph_yaml: ""{{ (ceph_puppet.stdout | from_yaml).parameter_defaults }}"" ceph_osds_var: ""{{ ceph_yaml.ExtraConfig['ceph::profile::params::osds']}}"" set_fact: ceph_osds: ""{{ (ceph_osds_var.keys()|list if ceph_osds_var | type_debug == 'dict' else ceph_osds_var) | default([]) }}"""," set_fact: ceph_osds: ""{{ (ceph_puppet.stdout | from_yaml).parameter_defaults.ExtraConfig['ceph::profile::params::osds'] | default([]) }}""",4,1
openstack%2Fnova~master~I1b6e340775379964ff149227355a049ecfa73f0e,openstack/nova,master,I1b6e340775379964ff149227355a049ecfa73f0e,nova-net: Use nova-net explicitly in functional tests,MERGED,2019-09-24 13:53:00.000000000,2019-10-07 14:46:00.000000000,2019-10-03 18:59:48.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-24 13:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/886a46d3adbd3f13c8da2d47c767e22fbb2d97c7', 'message': ""nova-net: Use nova-net explicitly in '_IntegratedTestBase' subclasses\n\nRather than set it on the base class and override where we need to, set\nthe value on the remaining test cases instead. This should make it\neasier to identify the functional tests that need updating.\n\nExisting 'USE_NEUTRON = True' statements are not removed as that can be\ndone when we remove 'USE_NEUTRON' entirely. Similarly, whether or not\nall these 'USE_NEUTRON = False' entries are necessary is a matter left\nfor later patches.\n\nChange-Id: I1b6e340775379964ff149227355a049ecfa73f0e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-09-30 15:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fe7eb1f0f5db083994de35b70d2626913703c7c', 'message': ""nova-net: Use nova-net explicitly in '_IntegratedTestBase' subclasses\n\nRather than set it on the base class and override where we need to, set\nthe value on the remaining test cases instead. This should make it\neasier to identify the functional tests that need updating.\n\nExisting 'USE_NEUTRON = True' statements are not removed as that can be\ndone when we remove 'USE_NEUTRON' entirely. However, any tests that work\nwithout the explicit 'USE_NEUTRON' do not have one added.\n\nChange-Id: I1b6e340775379964ff149227355a049ecfa73f0e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-09-30 16:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d3a2c481bd3dd7eede76808b2f654da2824cfd', 'message': ""nova-net: Use nova-net explicitly in functional tests\n\nRather than set it on the base class and override where we need to, set\nthe value on the individual test cases instead. This should make it\neasier to identify the functional tests that need updating.\n\nExisting 'USE_NEUTRON = True' statements are removed as they are now\nunnecessary In addition, any tests that work without the explicit\n'USE_NEUTRON' do not have one added.\n\nChange-Id: I1b6e340775379964ff149227355a049ecfa73f0e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-09-30 16:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1753625d9a6a84a12b919aaff24b30c70930263d', 'message': ""nova-net: Use nova-net explicitly in functional tests\n\nRather than set it on the base class and override where we need to, set\nthe value on the individual test cases instead. This should make it\neasier to identify the functional tests that need updating.\n\nExisting 'USE_NEUTRON = True' statements are removed as they are now\nunnecessary In addition, any tests that work without the explicit\n'USE_NEUTRON' do not have one added.\n\nChange-Id: I1b6e340775379964ff149227355a049ecfa73f0e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-10-01 11:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc006197c199fc07f415cd145a2aba8bcc46e2bd', 'message': ""nova-net: Use nova-net explicitly in functional tests\n\nRather than set it on the base class and override where we need to, set\nthe value on the individual test cases instead. This should make it\neasier to identify the functional tests that need updating.\n\nExisting 'USE_NEUTRON = True' statements are removed as they are now\nunnecessary In addition, any tests that work without the explicit\n'USE_NEUTRON' do not have one added.\n\nChange-Id: I1b6e340775379964ff149227355a049ecfa73f0e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-10-02 12:38:43.000000000', 'files': ['nova/tests/functional/api_sample_tests/test_hosts.py', 'nova/tests/functional/api_sample_tests/test_security_group_default_rules.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_sample_tests/test_networks_associate.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/api_sample_tests/test_attach_interfaces.py', 'nova/tests/functional/api_sample_tests/test_floating_ip_pools.py', 'nova/tests/functional/api_sample_tests/test_floating_ips.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/tests/functional/api_sample_tests/test_server_tags.py', 'nova/tests/functional/api_sample_tests/test_quota_sets.py', 'nova/tests/functional/api_sample_tests/test_availability_zone.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/functional/api_sample_tests/test_tenant_networks.py', 'nova/tests/functional/api_sample_tests/test_rescue.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/300b677a3d608671a9fdbd1efe8d2450b5a17846', 'message': 'nova-net: Use nova-net explicitly in functional tests\n\nRather than set it on the base class and override where we need to, set\nthe value on the individual test cases instead. This should make it\neasier to identify the functional tests that need updating.\n\nChange-Id: I1b6e340775379964ff149227355a049ecfa73f0e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",20,684326,300b677a3d608671a9fdbd1efe8d2450b5a17846,62,13,6,15334,,,0,"nova-net: Use nova-net explicitly in functional tests

Rather than set it on the base class and override where we need to, set
the value on the individual test cases instead. This should make it
easier to identify the functional tests that need updating.

Change-Id: I1b6e340775379964ff149227355a049ecfa73f0e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/684326/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/functional/regressions/test_bug_1732947.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/test_login.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/test_aggregates.py']",8,886a46d3adbd3f13c8da2d47c767e22fbb2d97c7,bp/remove-nova-network-ussuri, USE_NEUTRON = False,,11,5
openstack%2Fmonasca-persister~stable%2Ftrain~I857b0396dc8578ebba2fbc8d90bbf6f4ff3fc05a,openstack/monasca-persister,stable/train,I857b0396dc8578ebba2fbc8d90bbf6f4ff3fc05a,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-27 18:16:44.000000000,2019-10-07 14:45:41.000000000,2019-10-07 14:44:15.000000000,"[{'_account_id': 11904}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 18:16:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/929c5e9fe35fd03893f0a12c53c5008e5f10086d', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I857b0396dc8578ebba2fbc8d90bbf6f4ff3fc05a\n'}]",0,685451,929c5e9fe35fd03893f0a12c53c5008e5f10086d,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I857b0396dc8578ebba2fbc8d90bbf6f4ff3fc05a
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/51/685451/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,929c5e9fe35fd03893f0a12c53c5008e5f10086d,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fmonasca-persister~stable%2Ftrain~Ib03b00f384ebcabd97c17cbe18590f6b860e8be6,openstack/monasca-persister,stable/train,Ib03b00f384ebcabd97c17cbe18590f6b860e8be6,Update .gitreview for stable/train,MERGED,2019-09-27 18:16:42.000000000,2019-10-07 14:44:14.000000000,2019-10-07 14:44:14.000000000,"[{'_account_id': 11904}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 18:16:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/0256e7cb641274328fd9f868e32878596b0a14d1', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ib03b00f384ebcabd97c17cbe18590f6b860e8be6\n'}]",0,685450,0256e7cb641274328fd9f868e32878596b0a14d1,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ib03b00f384ebcabd97c17cbe18590f6b860e8be6
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/50/685450/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0256e7cb641274328fd9f868e32878596b0a14d1,create-train,defaultbranch=stable/train,,1,0
openstack%2Freleases~master~Ie6cba2853d23534c8bd10767f75899b16db51e60,openstack/releases,master,Ie6cba2853d23534c8bd10767f75899b16db51e60,Update designate liaison email,MERGED,2019-09-23 20:42:35.000000000,2019-10-07 14:44:06.000000000,2019-10-07 14:44:06.000000000,"[{'_account_id': 308}, {'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 20:42:35.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/564b4e7e25f0bddd23faa612ee787c8808a8f5cb', 'message': 'Update designate liaison email\n\nChange-Id: Ie6cba2853d23534c8bd10767f75899b16db51e60\n'}]",0,684130,564b4e7e25f0bddd23faa612ee787c8808a8f5cb,9,4,1,17068,,,0,"Update designate liaison email

Change-Id: Ie6cba2853d23534c8bd10767f75899b16db51e60
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/684130/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,564b4e7e25f0bddd23faa612ee787c8808a8f5cb,fix_email, email: gr@ham.ie, email: graham+designateci@hayes.ie,1,1
openstack%2Fdevstack~stable%2Ftrain~I06cc37e97b83fb9b84834af3a5b7f22940af1f54,openstack/devstack,stable/train,I06cc37e97b83fb9b84834af3a5b7f22940af1f54,Update .gitreview for stable/train,MERGED,2019-10-07 09:04:42.000000000,2019-10-07 14:43:13.000000000,2019-10-07 14:40:53.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 09:04:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5102106c4d0c94bb56ff998d3f34d62645e21a34', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I06cc37e97b83fb9b84834af3a5b7f22940af1f54\n'}]",0,686983,5102106c4d0c94bb56ff998d3f34d62645e21a34,7,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I06cc37e97b83fb9b84834af3a5b7f22940af1f54
",git fetch https://review.opendev.org/openstack/devstack refs/changes/83/686983/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5102106c4d0c94bb56ff998d3f34d62645e21a34,create-train,defaultbranch=stable/train,,1,0
openstack%2Ftraining-guides~master~I703d9d526339fa2ac5302a156cd290000aa337a7,openstack/training-guides,master,I703d9d526339fa2ac5302a156cd290000aa337a7,Add bindep.txt for publishing translated pages,MERGED,2019-10-07 13:43:52.000000000,2019-10-07 14:41:25.000000000,2019-10-07 14:39:22.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:43:52.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/401cbfe85edf2bfa0aac86d0bcad8b87bf45e57f', 'message': 'Add bindep.txt for publishing translated pages\n\nThis addition intends to solve the following error messages\nexecuting build-tox-manuals-publishdocs job:\n - msgmerge: command not found\n - msgfmt: command not found\n\nChange-Id: I703d9d526339fa2ac5302a156cd290000aa337a7\n'}]",0,687053,401cbfe85edf2bfa0aac86d0bcad8b87bf45e57f,9,3,1,14482,,,0,"Add bindep.txt for publishing translated pages

This addition intends to solve the following error messages
executing build-tox-manuals-publishdocs job:
 - msgmerge: command not found
 - msgfmt: command not found

Change-Id: I703d9d526339fa2ac5302a156cd290000aa337a7
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/53/687053/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,401cbfe85edf2bfa0aac86d0bcad8b87bf45e57f,bindep-gettext,# This is a cross-platform list tracking distribution packages needed by tests; # see https://docs.openstack.org/infra/bindep/ for additional information. gettext ,,4,0
openstack%2Freleases~master~I3f4dae48cc3e7025a1e7e1cf98c572e7b61aa0ab,openstack/releases,master,I3f4dae48cc3e7025a1e7e1cf98c572e7b61aa0ab,Update Murano/Solum release liaison,MERGED,2019-09-20 02:34:28.000000000,2019-10-07 14:37:03.000000000,2019-10-07 14:37:03.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 02:34:28.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9b641d5952004af132c7ec3c6741e8ce91bc288c', 'message': 'Update Murano/Solum release liaison\n\nChange-Id: I3f4dae48cc3e7025a1e7e1cf98c572e7b61aa0ab\n'}]",2,683266,9b641d5952004af132c7ec3c6741e8ce91bc288c,8,4,1,14107,,,0,"Update Murano/Solum release liaison

Change-Id: I3f4dae48cc3e7025a1e7e1cf98c572e7b61aa0ab
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/683266/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,9b641d5952004af132c7ec3c6741e8ce91bc288c,, - name: 'Rong Zhu' irc: zhurong email: aaronzhu1121@gmail.com - name: 'Rong Zhu' irc: zhurong email: aaronzhu1121@gmail.com, - name: 'Felipe Monteiro' irc: felipemonteiro email: felipe.monteiro@att.com - name: 'Devdatta Kulkarni' irc: devkulkarni email: kulkarni.devdatta@gmail.com,6,6
openstack%2Fneutron-fwaas~master~I67c0691e98e2e105e60ac11521977d528f82f571,openstack/neutron-fwaas,master,I67c0691e98e2e105e60ac11521977d528f82f571,Test check,ABANDONED,2019-10-07 11:00:22.000000000,2019-10-07 14:32:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-07 11:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1be3a335f509d0cb5a2fa398850f0ad471aae7ed', 'message': 'Test check\n\nChange-Id: I67c0691e98e2e105e60ac11521977d528f82f571\n'}, {'number': 2, 'created': '2019-10-07 13:15:55.000000000', 'files': ['neutron_fwaas/version.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7f485cfc5b8a1d0e6726de3c9efe399fc13063d0', 'message': 'Test check\n\nChange-Id: I67c0691e98e2e105e60ac11521977d528f82f571\n'}]",0,686999,7f485cfc5b8a1d0e6726de3c9efe399fc13063d0,5,1,2,935,,,0,"Test check

Change-Id: I67c0691e98e2e105e60ac11521977d528f82f571
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/99/686999/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1be3a335f509d0cb5a2fa398850f0ad471aae7ed,wip-test-check,# DONOTLAND ,,2,0
openstack%2Fnova~master~I96d9e7e88dff1b3002709873088d6908f8627d94,openstack/nova,master,I96d9e7e88dff1b3002709873088d6908f8627d94,Added Overbooking DB quota driver,ABANDONED,2017-07-17 12:44:42.000000000,2019-10-07 14:30:34.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 23382}, {'_account_id': 23871}, {'_account_id': 23896}]","[{'number': 1, 'created': '2017-07-17 12:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f09febb47723aa42c63ca8a899d6073fad145339', 'message': ""Added Oberbooking quota driver\n\nAdded new quota driver: OverbookingDbQuotaDriver, that's based on\nexisting one: DbQuotaDriver.\nNew driver adds additional checking of aggregated resources usage\nby all projects related to the same domain and do enforcing of\ndomain quotas against summary resources usage in this domain.\n\nThe driver can be enabled in nova config file:\n\n    quota_driver=nova.quota.OverbookingDbQuotaDriver\n\nAfter that nova-api service should be restarted.\n\nChange-Id: I96d9e7e88dff1b3002709873088d6908f8627d94\n""}, {'number': 2, 'created': '2017-07-27 11:54:02.000000000', 'files': ['nova/tests/unit/test_quota.py', 'nova/quota.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e8411d506e5b28155558da7839afad2bf0a0c564', 'message': ""Added Overbooking DB quota driver\n\nAdded new quota driver: OverbookingDbQuotaDriver, that's based on\nexisting one: DbQuotaDriver.\nNew driver adds additional checking of aggregated resources usage\nby all projects related to the same domain and do enforcing of\ndomain quotas against summary resources usage in this domain.\n\nThe driver can be enabled in nova config file:\n\n    quota_driver=nova.quota.OverbookingDbQuotaDriver\n\nAfter that nova-api service should be restarted.\n\nChange-Id: I96d9e7e88dff1b3002709873088d6908f8627d94\n""}]",0,484359,e8411d506e5b28155558da7839afad2bf0a0c564,25,13,2,23815,,,0,"Added Overbooking DB quota driver

Added new quota driver: OverbookingDbQuotaDriver, that's based on
existing one: DbQuotaDriver.
New driver adds additional checking of aggregated resources usage
by all projects related to the same domain and do enforcing of
domain quotas against summary resources usage in this domain.

The driver can be enabled in nova config file:

    quota_driver=nova.quota.OverbookingDbQuotaDriver

After that nova-api service should be restarted.

Change-Id: I96d9e7e88dff1b3002709873088d6908f8627d94
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/484359/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_quota.py', 'nova/quota.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,f09febb47723aa42c63ca8a899d6073fad145339,,"def _get_quota_usages_aggregate(context, project_ids): rows = model_query( context, models.QuotaUsage, args=(models.QuotaUsage.resource, func.sum(models.QuotaUsage.in_use).label('in_use'), func.sum(models.QuotaUsage.reserved).label('reserved')), read_deleted=""no"").\ filter(models.QuotaUsage.project_id.in_(project_ids)).\ group_by(models.QuotaUsage.resource).with_lockmode('update').all() for row in rows: LOG.debug(""Found the following aggregated resource usage:"" ""resource = %(resource)s, in_use = %(in_use)s,"" ""reserved = %(reserved)s"", {'resource': row.resource, 'in_use': row.in_use, 'reserved': row.reserved}) return {row.resource: {'in_use': row.in_use, 'reserved': row.reserved} for row in rows} @require_context @oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True) @main_context_manager.reader def quota_domain_usage_check(context, quotas, deltas, domain_id, neighbours_ids): """"""Checks if resources usage go over domain quotas."""""" LOG.debug(""Getting usage information for %s"", domain_id) domain_usages = _get_quota_usages_aggregate(context, neighbours_ids) LOG.debug(""Checking quota usage for domain: quotas = %(quotas)s,"" ""domain id = %(domain_id)s"", {'quotas': quotas, 'domain_id': domain_id}) for resource, value in deltas.items(): if resource not in quotas: continue domain_resource_limit = quotas[resource] if resource not in domain_usages: continue domain_resource_usage = domain_usages[resource]['in_use'] + \ domain_usages[resource]['reserved'] if domain_resource_usage + value > domain_resource_limit: LOG.warning(_LW(""Estimated domain resources usage is over "" ""quota limits"")) raise exception.OverQuota(overs=sorted([resource]), quotas=quotas, usages=domain_usages) LOG.debug(""Estimated resources usage for domain %s "" ""does not exceed quota limits"", domain_id) ",,537,91
openstack%2Fnova~master~I62179d6b93ea1a23c4906477ee19b422bfcb72a2,openstack/nova,master,I62179d6b93ea1a23c4906477ee19b422bfcb72a2,Add functional regression test for build part of bug 1781286,MERGED,2019-10-01 16:12:33.000000000,2019-10-07 14:29:48.000000000,2019-10-03 09:29:49.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 16:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13dc504f968a8576f912ee18e55fa1b8c412c93f', 'message': 'Add functional regression test for bug 1781286\n\nThis adds a functional regression test to recreate bug 1781286\nwhere rescheduling from a build failure where the cell conductor\ndoes not have access to the API DB fails when trying to get\navailability zone information about a selected alternate host.\nThe test is a bit tricky in that it has to stub out the AZ query\nto fail but only after we hit the compute service and then remove\nthat stub so we can use the API again.\n\nNote that change I6bfa6fa767403fb936a6ae340b8687eb161732fc handles\nthe error in conductor and puts the instance into ERROR state. The\nbug is not yet resolved though since we should be able to avoid\nthe up-call by stashing the alternate host availability zone on the\nSelection object during scheduling and use that later during the\nreschedule. Once that is working the functional test will be updated.\n\nChange-Id: I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nRelated-Bug: #1781286\n'}, {'number': 2, 'created': '2019-10-01 17:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10aaa7e2d8f87f0982b73cc0e5391938b3cf267f', 'message': 'Add functional regression test for build part of bug 1781286\n\nThis adds a functional regression test to recreate bug 1781286\nwhere rescheduling from a build failure where the cell conductor\ndoes not have access to the API DB fails when trying to get\navailability zone information about a selected alternate host.\nThe test is a bit tricky in that it has to stub out the AZ query\nto fail but only after we hit the compute service and then remove\nthat stub so we can use the API again.\n\nNote that change I6bfa6fa767403fb936a6ae340b8687eb161732fc handles\nthe error in conductor and puts the instance into ERROR state. The\nbug is not yet resolved though since we should be able to avoid\nthe up-call by stashing the alternate host availability zone on the\nSelection object during scheduling and use that later during the\nreschedule. Once that is working the functional test will be updated.\n\nChange-Id: I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nRelated-Bug: #1781286\n'}, {'number': 3, 'created': '2019-10-01 21:03:38.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1781286.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c332c4dd79f8bb5fdc5f6722a80c9a117ff52c4', 'message': 'Add functional regression test for build part of bug 1781286\n\nThis adds a functional regression test to recreate bug 1781286\nwhere rescheduling from a build failure where the cell conductor\ndoes not have access to the API DB fails when trying to get\navailability zone information about a selected alternate host.\nThe test is a bit tricky in that it has to stub out the AZ query\nto fail but only after we hit the compute service and then remove\nthat stub so we can use the API again.\n\nNote that change I6bfa6fa767403fb936a6ae340b8687eb161732fc handles\nthe error in conductor and puts the instance into ERROR state. The\nbug is not yet resolved though since we should be able to avoid\nthe up-call by stashing the alternate host availability zone on the\nSelection object during scheduling and use that later during the\nreschedule. Once that is working the functional test will be updated.\n\nChange-Id: I62179d6b93ea1a23c4906477ee19b422bfcb72a2\nRelated-Bug: #1781286\n'}]",10,685998,8c332c4dd79f8bb5fdc5f6722a80c9a117ff52c4,37,12,3,6873,,,0,"Add functional regression test for build part of bug 1781286

This adds a functional regression test to recreate bug 1781286
where rescheduling from a build failure where the cell conductor
does not have access to the API DB fails when trying to get
availability zone information about a selected alternate host.
The test is a bit tricky in that it has to stub out the AZ query
to fail but only after we hit the compute service and then remove
that stub so we can use the API again.

Note that change I6bfa6fa767403fb936a6ae340b8687eb161732fc handles
the error in conductor and puts the instance into ERROR state. The
bug is not yet resolved though since we should be able to avoid
the up-call by stashing the alternate host availability zone on the
Selection object during scheduling and use that later during the
reschedule. Once that is working the functional test will be updated.

Change-Id: I62179d6b93ea1a23c4906477ee19b422bfcb72a2
Related-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/685998/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1781286.py'],1,13dc504f968a8576f912ee18e55fa1b8c412c93f,bug/1781286,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures from oslo_db import exception as oslo_db_exc from nova.compute import manager as compute_manager from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova.tests.unit.image import fake as fake_image from nova.tests.unit import policy_fixture class RescheduleAvailabilityZoneUpCall( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""This is a regression test for bug 1781286 which was introduced with a change in Pike to set the instance availability_zone in conductor once a host is selected from the scheduler. The regression in the initial server build case is when a reschedule is triggered, and the cell conductor does not have access to the API DB, it fails with a CantStartEngineError trying to connect to the API DB to get availability zone (aggregate) info about the alternate host selection. """""" def setUp(self): super(RescheduleAvailabilityZoneUpCall, self).setUp() # Use the standard fixtures. self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Start controller services. self.api = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')).admin_api self.start_service('conductor') self.start_service('scheduler') # Start two computes with the fake reschedule driver. self.flags(compute_driver='fake.FakeRescheduleDriver') self.start_service('compute', host='host1') self.start_service('compute', host='host2') # Listen for notifications. fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) def test_server_create_reschedule_blocked_az_up_call(self): # We need to stub out the call to get_host_availability_zone to blow # up once we have gone to the compute service. With the way out # RPC/DB fixtures are setup it's non-trivial to try and separate a # superconductor from a cell conductor so we can configure the cell # conductor from not having access to the API DB but that would be a # a nice thing to have at some point. original_bari = compute_manager.ComputeManager.build_and_run_instance def wrap_bari(*args, **kwargs): # Poison the AZ query to blow up as if the cell conductor does not # have access to the API DB. self.az_mock = self.useFixture( fixtures.MockPatch( 'nova.objects.AggregateList.get_by_host', side_effect=oslo_db_exc.CantStartEngineError)).mock return original_bari(*args, **kwargs) self.stub_out('nova.compute.manager.ComputeManager.' 'build_and_run_instance', wrap_bari) server = self._build_minimal_create_server_request( self.api, 'test_server_create_reschedule_blocked_az_up_call') server = self.api.post_server({'server': server}) # FIXME(mriedem): This is bug 1781286 where we reschedule from the # first failed host to conductor which will try to get the AZ for the # alternate host selection which will fail since it cannot access the # API DB. # Since we stubbed AggregateList.get_by_host to raise an error, we # cannot hit the API until the instance host value is gone, so instead # we listen for the fault notification and then stop the mock so we # can use the API. fake_notifier.wait_for_versioned_notifications( 'compute_task.build_instances.error') self.az_mock.stop() server = self._wait_for_server_parameter( self.api, server, {'status': 'ERROR', 'OS-EXT-SRV-ATTR:host': None, 'OS-EXT-STS:task_state': None}) # Assert there is a fault injected on the server for the error we # expect. self.assertIn('CantStartEngineError', server['fault']['message']) ",,97,0
openstack%2Fnova~master~I2dec02972b8d92eaf9ad14577b764a9f4ca4c49b,openstack/nova,master,I2dec02972b8d92eaf9ad14577b764a9f4ca4c49b,Do not print default dicts during heal_allocations,MERGED,2019-10-01 16:26:41.000000000,2019-10-07 14:28:51.000000000,2019-10-02 16:04:36.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 16:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d5469a30f6b11ce978f09e9bb07a9979e941315', 'message': 'Do not print default dicts during heal_allocations\n\nThe verbose output of nova-manage placement heal_allocations --dry-run\ncontains nested default dicts. This makes the output hard to read.\n\nThis patch makes sure that such dicts are json dumped first to get rid\nof the implementation specific default dict outputs.\n\nChange-Id: I2dec02972b8d92eaf9ad14577b764a9f4ca4c49b\n'}, {'number': 2, 'created': '2019-10-02 09:17:59.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/65847e3e66c87bbb7b33e0176ff961f91f5286b4', 'message': 'Do not print default dicts during heal_allocations\n\nThe verbose output of nova-manage placement heal_allocations --dry-run\ncontains nested default dicts. This makes the output hard to read.\n\nThis patch makes sure that such dicts are json dumped first to get rid\nof the implementation specific default dict outputs.\n\nChange-Id: I2dec02972b8d92eaf9ad14577b764a9f4ca4c49b\n'}]",0,686001,65847e3e66c87bbb7b33e0176ff961f91f5286b4,28,12,2,9708,,,0,"Do not print default dicts during heal_allocations

The verbose output of nova-manage placement heal_allocations --dry-run
contains nested default dicts. This makes the output hard to read.

This patch makes sure that such dicts are json dumped first to get rid
of the implementation specific default dict outputs.

Change-Id: I2dec02972b8d92eaf9ad14577b764a9f4ca4c49b
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/686001/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/cmd/manage.py']",2,5d5469a30f6b11ce978f09e9bb07a9979e941315,bug/1819923,from oslo_serialization import jsonutils # json dump the allocation dict as it contains nested default # dicts that is pretty hard to read in the verbose output alloc = jsonutils.dumps(allocations) 'allocations': alloc}) 'allocations': alloc}), 'allocations': allocations}) 'allocations': allocations}),25,2
openstack%2Freleases~master~If9ad1e5e9198b3eb1663f704185a6d258a206e94,openstack/releases,master,If9ad1e5e9198b3eb1663f704185a6d258a206e94,Remove unused RC templates,MERGED,2019-09-23 16:05:44.000000000,2019-10-07 14:24:37.000000000,2019-10-07 14:24:37.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 16:05:44.000000000', 'files': ['templates/rc1.txt', 'templates/rcn.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc499907e8a06af5e18815c12af136592e567fab', 'message': ""Remove unused RC templates\n\nRC announcements are generated from release_notes.py, so keeping unused\ntemplates around just wastes everyone's time when debugging an issue.\n\nChange-Id: If9ad1e5e9198b3eb1663f704185a6d258a206e94\n""}]",0,683991,fc499907e8a06af5e18815c12af136592e567fab,7,3,1,308,,,0,"Remove unused RC templates

RC announcements are generated from release_notes.py, so keeping unused
templates around just wastes everyone's time when debugging an issue.

Change-Id: If9ad1e5e9198b3eb1663f704185a6d258a206e94
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/683991/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/rc1.txt', 'templates/rcn.txt']",2,fc499907e8a06af5e18815c12af136592e567fab,fix_rc_template,,"To: openstack-discuss@lists.openstack.org Subject: [release][PROJECT] PROJECT SERIES release candidate available Hello everyone, A new release candidate for PROJECT for the end of the Newton cycle is available. You can find the source code tarball download link at https://releases.openstack.org/SERIES/index.html Unless release-critical issues are found that warrant a release candidate respin, this candidate will be formally released as the final Newton release on DATE. You are therefore strongly encouraged to test and validate this tarball! Alternatively, you can directly test the stable/SERIES release branch at http://git.openstack.org/cgit/openstack/PROJECT/log/?h=stable/SERIES If you find an issue that could be considered release-critical, please file it at https://bugs.launchpad.net/PROJECT/+filebug and tag it *SERIES-rc-potential* to bring it to the PROJECT release crew's attention. Thanks, ",0,61
openstack%2Freleases~master~I9ba636a8a3147466a1e661c074a050ff14a6d394,openstack/releases,master,I9ba636a8a3147466a1e661c074a050ff14a6d394,Clarify release-test purpose,MERGED,2019-09-20 15:15:07.000000000,2019-10-07 14:24:36.000000000,2019-10-07 14:24:36.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 15:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7295673acee9214e413b98023ce18cafe2a09e23', 'message': 'Clarify release-test purpose\n\nThis is not clear what release-test is for.\nI expected the repo to be used for trying to release, as a canary\ntest, but only got a confirmation through IRC (as this was not\nwritten in the process, until the section with the final release).\n\nThis should clarify things on _when_ release-test start to matter.\n\nChange-Id: I9ba636a8a3147466a1e661c074a050ff14a6d394\n'}, {'number': 2, 'created': '2019-09-20 15:17:29.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/a0e9fb43816a2f4091f77964785c94eb287dfce1', 'message': 'Clarify release-test purpose\n\nThis is not clear what release-test is for.\n\nI expected the repo to be used for final release, as a canary\ntest. I expected things had to done with it beforehand.\nBut I only got a confirmation through IRC (as this is not yet documented\nin the process), that it only serves during RC/final release time.\n\nThis should clarify it.\n\nChange-Id: I9ba636a8a3147466a1e661c074a050ff14a6d394\n'}]",0,683422,a0e9fb43816a2f4091f77964785c94eb287dfce1,8,3,2,17068,,,0,"Clarify release-test purpose

This is not clear what release-test is for.

I expected the repo to be used for final release, as a canary
test. I expected things had to done with it beforehand.
But I only got a confirmation through IRC (as this is not yet documented
in the process), that it only serves during RC/final release time.

This should clarify it.

Change-Id: I9ba636a8a3147466a1e661c074a050ff14a6d394
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/683422/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,7295673acee9214e413b98023ce18cafe2a09e23,document_release-test_purpose, Keep in mind you can use `release-test` as a canary test. `release-test` needs to have a RC1 anyway for preparing the final release. ,,3,0
openstack%2Fnova~master~Iaf5378a429171ce35f98f20765dba4af6c87b1a1,openstack/nova,master,Iaf5378a429171ce35f98f20765dba4af6c87b1a1,Add a periodic task to destroy ReqSpecs of deleted instances,ABANDONED,2017-07-18 09:37:57.000000000,2019-10-07 14:19:54.000000000,,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 19737}, {'_account_id': 20040}, {'_account_id': 23417}, {'_account_id': 26150}, {'_account_id': 26157}]","[{'number': 1, 'created': '2017-07-18 09:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c51bee1ffe5abd619d44c59df5fd6a242774f1c5', 'message': 'Destroy the ReqSpec object of deleted instance\n\nAdd a periodic task to find out and clean up\nall ReqSpec objects with no instances associated.\n\nChange-Id: Iaf5378a429171ce35f98f20765dba4af6c87b1a1\nCloses-Bug: #1678056\n'}, {'number': 2, 'created': '2017-07-18 10:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68924107d40590dc2df1b5da21ecdc28f408c097', 'message': 'Destroy the ReqSpec object of deleted instance\n\nAdd a periodic task to find out and clean up\nall ReqSpec objects with no instances associated.\n\nChange-Id: Iaf5378a429171ce35f98f20765dba4af6c87b1a1\nCloses-Bug: #1678056\n'}, {'number': 3, 'created': '2017-07-26 10:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b335f41e9e1c059529dd3160c53ab58992671cad', 'message': 'Add a periodic task to destroy ReqSpecs of deleted instances\n\nAdd a periodic task to find out and clean up all ReqSpec objects\nwith deleted instances associated. This task will do following\nthings(finish just one of these steps every time the periodic task\ncalled):\n\n1. get all cells;\n2. get uuids of deleted instances of each cell;\n3. get and destroy Request_specs associated with deleted instances.\n\nChange-Id: Iaf5378a429171ce35f98f20765dba4af6c87b1a1\nRelated-Bug: #1678056\n'}, {'number': 4, 'created': '2017-07-26 10:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3a55620f28aa02c0adb337971452112de753e29', 'message': 'Add a periodic task to destroy ReqSpecs of deleted instances\n\nAdd a periodic task to find out and clean up all ReqSpec objects\nwith deleted instances associated. This task will do following\nthings(finish just one of these steps every time the periodic task\ncalled):\n\n1. get all cells;\n2. get uuids of deleted instances of each cell;\n3. get and destroy Request_specs associated with deleted instances.\n\nChange-Id: Iaf5378a429171ce35f98f20765dba4af6c87b1a1\nRelated-Bug: #1678056\n'}, {'number': 5, 'created': '2017-07-27 00:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e967e8ab1adce4cb67dbcb04ba29b35c5a317dba', 'message': 'Add a periodic task to destroy ReqSpecs of deleted instances\n\nAdd a periodic task to find out and clean up all ReqSpec objects\nwith deleted instances associated. This task will do following\nthings(destroy ReqSpecs of one cell every time this periodic task\ncalled):\n\n1. get all cells if nedded;\n2. get uuids of deleted instances of one cell;\n3. get and destroy Request_specs associated with deleted instances.\n\nChange-Id: Iaf5378a429171ce35f98f20765dba4af6c87b1a1\nRelated-Bug: #1678056\n'}, {'number': 6, 'created': '2017-07-27 04:22:47.000000000', 'files': ['nova/scheduler/manager.py', 'nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc055006251c37f61a1390ade6b2efeb39f3dc5', 'message': 'Add a periodic task to destroy ReqSpecs of deleted instances\n\nAdd a periodic task to find out and clean up all ReqSpec objects\nwith deleted instances associated. This task will do following\nthings(destroy ReqSpecs of one cell every time this periodic task\ncalled):\n\n1. get all cells if nedded;\n2. get uuids of deleted instances of one cell;\n3. get and destroy Request_specs associated with deleted instances.\n\nChange-Id: Iaf5378a429171ce35f98f20765dba4af6c87b1a1\nRelated-Bug: #1678056\n'}]",9,484694,0cc055006251c37f61a1390ade6b2efeb39f3dc5,58,17,6,23417,,,0,"Add a periodic task to destroy ReqSpecs of deleted instances

Add a periodic task to find out and clean up all ReqSpec objects
with deleted instances associated. This task will do following
things(destroy ReqSpecs of one cell every time this periodic task
called):

1. get all cells if nedded;
2. get uuids of deleted instances of one cell;
3. get and destroy Request_specs associated with deleted instances.

Change-Id: Iaf5378a429171ce35f98f20765dba4af6c87b1a1
Related-Bug: #1678056
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/484694/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/scheduler/manager.py', 'nova/tests/unit/objects/test_objects.py', 'nova/conf/scheduler.py']",4,c51bee1ffe5abd619d44c59df5fd6a242774f1c5,bug/1678056," cfg.IntOpt(""request_spec_cleanup_interval"", default=-1, min=-1, help="""""" Periodic task interval. This value controls how often (in seconds) the scheduler should attempt to clean up request spec with no instance associated in database. Possible values: * 0: run at the default rate. * -1: disable * Any other value """"""),",,50,0
openstack%2Freleases~master~I83aa445329f41c9c2f081483fcc283c6d4c4fb3d,openstack/releases,master,I83aa445329f41c9c2f081483fcc283c6d4c4fb3d,Release Tempest 22.0.0 for Train,MERGED,2019-09-27 17:02:08.000000000,2019-10-07 14:19:01.000000000,2019-10-07 14:19:00.000000000,"[{'_account_id': 308}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-09-27 17:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6cb8a4929f26c62f413c2bd61325bf42dfc7522e', 'message': 'Release Tempest 22.0.0 for Train\n\nTempest 22.0.0 is the mark the Train release.\n\nChange-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d\n'}, {'number': 2, 'created': '2019-10-01 20:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fb549670fa4d283560a494bfb62419b58a340551', 'message': 'Release Tempest 22.0.0 for Train\n\nTempest 22.0.0 is the mark the Train release.\n\nChange-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d\n'}, {'number': 3, 'created': '2019-10-04 19:22:45.000000000', 'files': ['deliverables/train/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4fd66bdbca6c1248b2ab1f5474f317544c49d5e7', 'message': 'Release Tempest 22.0.0 for Train\n\nTempest 22.0.0 is the mark the Train release.\n\nChange-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d\n'}]",2,685406,4fd66bdbca6c1248b2ab1f5474f317544c49d5e7,20,7,3,8556,,,0,"Release Tempest 22.0.0 for Train

Tempest 22.0.0 is the mark the Train release.

Change-Id: I83aa445329f41c9c2f081483fcc283c6d4c4fb3d
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/685406/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/tempest.yaml'],1,6cb8a4929f26c62f413c2bd61325bf42dfc7522e,qa-train-release, - projects: - repo: openstack/tempest hash: 158f6b4b06b1a31cd70c597b2e8c5bd7b85f7410 version: 22.0.0,,4,0
openstack%2Freleases~master~I8eaf53ec04c2007e68fcb2245a1d17bea4e5150e,openstack/releases,master,I8eaf53ec04c2007e68fcb2245a1d17bea4e5150e,Release Cinder Train RC-2,MERGED,2019-10-05 19:02:06.000000000,2019-10-07 14:19:00.000000000,2019-10-07 14:18:59.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 19:02:06.000000000', 'files': ['deliverables/train/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/70f14b882b42b623bb3bcf4f58a0c9bdb0797347', 'message': 'Release Cinder Train RC-2\n\nChange-Id: I8eaf53ec04c2007e68fcb2245a1d17bea4e5150e\n'}]",0,686902,70f14b882b42b623bb3bcf4f58a0c9bdb0797347,8,4,1,5314,,,0,"Release Cinder Train RC-2

Change-Id: I8eaf53ec04c2007e68fcb2245a1d17bea4e5150e
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/686902/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/cinder.yaml'],1,70f14b882b42b623bb3bcf4f58a0c9bdb0797347,train-rc2, - version: 15.0.0.0rc2 projects: - repo: openstack/cinder hash: d879e76ff05f78aa042c4fe5f79a69699ccaa997,,4,0
openstack%2Fnova~master~I0a608db971b4a48c642e8a14789cfaa08fe78a01,openstack/nova,master,I0a608db971b4a48c642e8a14789cfaa08fe78a01,No scsi unit information in instance XML,ABANDONED,2017-08-21 08:18:25.000000000,2019-10-07 14:19:00.000000000,,"[{'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 21284}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-21 08:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bdd0f12273f00bf5a2ff1d5f0b5539cedcb57b8', 'message': ""No scsi unit information in instance XML\n\nWhen working with containers in virt_type 'parallels'.\nThis function doesn't make sense for containers\n(there's no actual bus, scsi is just a convenience value)\n\nChange-Id: I0a608db971b4a48c642e8a14789cfaa08fe78a01\n""}, {'number': 2, 'created': '2017-08-24 17:54:38.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/db0c465f165b1e3da7e3baf00fc1e514953c6cfe', 'message': ""No scsi unit information in instance XML\n\nWhen working with containers in virt_type 'parallels'.\nThis function doesn't make sense for containers\n(there's no actual bus, scsi is just a convenience value)\n\nCloses-Bug: #1712801\nChange-Id: I0a608db971b4a48c642e8a14789cfaa08fe78a01\n""}]",0,495756,db0c465f165b1e3da7e3baf00fc1e514953c6cfe,39,16,2,13431,,,0,"No scsi unit information in instance XML

When working with containers in virt_type 'parallels'.
This function doesn't make sense for containers
(there's no actual bus, scsi is just a convenience value)

Closes-Bug: #1712801
Change-Id: I0a608db971b4a48c642e8a14789cfaa08fe78a01
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/495756/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,7bdd0f12273f00bf5a2ff1d5f0b5539cedcb57b8,," no_scsi_xml_info = (CONF.libvirt.virt_type == ""parallels"" and instance.vm_mode == fields.VMMode.EXE) if disk_info['bus'] == 'scsi' and not no_scsi_xml_info:", if disk_info['bus'] == 'scsi':,4,1
openstack%2Fnova~master~Idfbc7edeb072f0f27b584fc7d13f75b7d6e8dfa7,openstack/nova,master,Idfbc7edeb072f0f27b584fc7d13f75b7d6e8dfa7,Fixing: Bug #1722409 vmware network matches wrong substring from vSphere,ABANDONED,2017-10-09 21:50:05.000000000,2019-10-07 14:18:33.000000000,,"[{'_account_id': 9172}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-09 21:50:05.000000000', 'files': ['nova/virt/vmwareapi/network_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/16a7f22fbc2aa5d6c2cf260a1f23db92a4f27bf6', 'message': 'Fixing: Bug #1722409 vmware network matches wrong substring from vSphere\n\nChange-Id: Idfbc7edeb072f0f27b584fc7d13f75b7d6e8dfa7\n'}]",0,510702,16a7f22fbc2aa5d6c2cf260a1f23db92a4f27bf6,11,6,1,25874,,,0,"Fixing: Bug #1722409 vmware network matches wrong substring from vSphere

Change-Id: Idfbc7edeb072f0f27b584fc7d13f75b7d6e8dfa7
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/510702/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/network_util.py'],1,16a7f22fbc2aa5d6c2cf260a1f23db92a4f27bf6,bug/1722409, if network_name == props.name:, if network_name in props.name:,1,1
openstack%2Fnova~master~I1aa7087645a301dda0e1d069be861d2964d90468,openstack/nova,master,I1aa7087645a301dda0e1d069be861d2964d90468,Fixing: Bug #1722409 vmware network matches,ABANDONED,2017-10-09 21:51:36.000000000,2019-10-07 14:18:24.000000000,,"[{'_account_id': 1653}, {'_account_id': 9172}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-09 21:51:36.000000000', 'files': ['nova/virt/vmwareapi/network_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4fc88633c91e2b60fc2a55a067474241ee8382', 'message': 'Fixing: Bug #1722409 vmware network matches\n\nvmware network matches wrong substring from vSphere\n\nChange-Id: I1aa7087645a301dda0e1d069be861d2964d90468\n'}]",1,510703,5b4fc88633c91e2b60fc2a55a067474241ee8382,12,8,1,25874,,,0,"Fixing: Bug #1722409 vmware network matches

vmware network matches wrong substring from vSphere

Change-Id: I1aa7087645a301dda0e1d069be861d2964d90468
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/510703/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/network_util.py'],1,5b4fc88633c91e2b60fc2a55a067474241ee8382,bug/1722409, if network_name == props.name:, if network_name in props.name:,1,1
openstack%2Fnova~master~I8a698f974c973f7abf2e49e9c03bb97fdfc422c7,openstack/nova,master,I8a698f974c973f7abf2e49e9c03bb97fdfc422c7,conf: deprecate key_manager.fixed _key opt,ABANDONED,2017-02-03 19:19:59.000000000,2019-10-07 14:16:27.000000000,,"[{'_account_id': 782}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19590}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-03 19:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4c1c98d2413a12a2b660338cf046229cc049900', 'message': ""conf: deprecate key_manager.fixed _key opt\n\nkey_manager.fixed_key opt has been moved from Nova to the Castellan library,\nand can be removed from the Nova's configuration.\n\nChange-Id: I8a698f974c973f7abf2e49e9c03bb97fdfc422c7\nImplements: bp centralize-config-options-ocata\n""}, {'number': 2, 'created': '2017-02-03 21:26:48.000000000', 'files': ['nova/conf/key_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/66535cb190ac8fe1ea179f3e735c5d6301df94a7', 'message': ""conf: deprecate key_manager.fixed _key opt\n\nkey_manager.fixed_key opt has been moved from Nova to the Castellan library,\nand can be removed from the Nova's configuration.\n\nChange-Id: I8a698f974c973f7abf2e49e9c03bb97fdfc422c7\nImplements: bp centralize-config-options-pike\n""}]",1,428992,66535cb190ac8fe1ea179f3e735c5d6301df94a7,28,12,2,14511,,,0,"conf: deprecate key_manager.fixed _key opt

key_manager.fixed_key opt has been moved from Nova to the Castellan library,
and can be removed from the Nova's configuration.

Change-Id: I8a698f974c973f7abf2e49e9c03bb97fdfc422c7
Implements: bp centralize-config-options-pike
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/428992/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/key_manager.py'],1,b4c1c98d2413a12a2b660338cf046229cc049900,bp/centralize-config-options-pike," deprecated_for_removal=True, deprecated_reason="""""" This option has been moved to the Castellan library and can be removed from Nova's configuration. """""",", # TODO(raj_singh): Deprecate or move this option to The Castellan library,5,1
openstack%2Fnova~master~I59594bea936f02051d79b5c0f4a38fddc4857e7a,openstack/nova,master,I59594bea936f02051d79b5c0f4a38fddc4857e7a,WIP: XenAPI: device tagging joint test,ABANDONED,2016-09-26 02:26:00.000000000,2019-10-07 14:16:00.000000000,,"[{'_account_id': 5170}, {'_account_id': 6735}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17169}]","[{'number': 1, 'created': '2016-09-26 02:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e54984ab223f0d6b1bb9de10f80751ff64e9e39b', 'message': 'DNM: XenAPI: device tagging\n\nChange-Id: I59594bea936f02051d79b5c0f4a38fddc4857e7a\nDepends-On: Ica92b771fc04891ad231967470f8b0ade7d2dead\n'}, {'number': 2, 'created': '2016-09-26 08:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eedc7dac2f9aae89b159182115f6d86b563b85a', 'message': 'DNM: XenAPI: device tagging\n\nChange-Id: I59594bea936f02051d79b5c0f4a38fddc4857e7a\nDepends-On: Ica92b771fc04891ad231967470f8b0ade7d2dead\n'}, {'number': 3, 'created': '2016-09-26 08:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4667a138ac0773321fee0456d9071ec1d070bf3', 'message': 'WIP: XenAPI: device tagging joint test\n\nChange-Id: I59594bea936f02051d79b5c0f4a38fddc4857e7a\nDepends-On: Ica92b771fc04891ad231967470f8b0ade7d2dead\n'}]",0,376078,a4667a138ac0773321fee0456d9071ec1d070bf3,36,11,3,17169,,,0,"WIP: XenAPI: device tagging joint test

Change-Id: I59594bea936f02051d79b5c0f4a38fddc4857e7a
Depends-On: Ica92b771fc04891ad231967470f8b0ade7d2dead
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/376078/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,e54984ab223f0d6b1bb9de10f80751ff64e9e39b,bp/virt-device-role-tagging-xenapi,,,0,0
openstack%2Fnova~master~Ie9e9cf496273591701a1a81be8fff8440ccd2790,openstack/nova,master,Ie9e9cf496273591701a1a81be8fff8440ccd2790,[WIP] Driver function call to enable attach volume for nova-dpm,ABANDONED,2017-01-25 06:25:26.000000000,2019-10-07 14:15:49.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11433}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 23367}, {'_account_id': 24257}]","[{'number': 1, 'created': '2017-01-25 06:25:26.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/24c59b6d70801f2c6409011df170eb3639f023a0', 'message': '[WIP] Driver function call to enable attach volume for nova-dpm\n\nIn the case of System z PR/SM hypervisor in DPM mode [1]),\nin order to launch an instance and boot it from an image stored in an\nFCP volume, a HBA (host bus adapter) needs to be created before the\nspawn call, which results in the creation of a host WWPN (World Wide\nPort Name) for the instance.  During the spawn call, this host WWPN\nthen gets mapped to a target WWPN, and LUN of the respective FCP volume\n(which is fetched using block_device_info_get_mapping()). This\nnecessitates the following function call in manager.py and a default\ndriver function\n\n[1] https://github.com/openstack/nova-dpm\n\nChange-Id: Ie9e9cf496273591701a1a81be8fff8440ccd2790\nSigned-off-by: Sreeram Vancheeswaran <sreeram.vancheeswaran@in.ibm.com>\n'}]",2,424996,24c59b6d70801f2c6409011df170eb3639f023a0,13,11,1,16618,,,0,"[WIP] Driver function call to enable attach volume for nova-dpm

In the case of System z PR/SM hypervisor in DPM mode [1]),
in order to launch an instance and boot it from an image stored in an
FCP volume, a HBA (host bus adapter) needs to be created before the
spawn call, which results in the creation of a host WWPN (World Wide
Port Name) for the instance.  During the spawn call, this host WWPN
then gets mapped to a target WWPN, and LUN of the respective FCP volume
(which is fetched using block_device_info_get_mapping()). This
necessitates the following function call in manager.py and a default
driver function

[1] https://github.com/openstack/nova-dpm

Change-Id: Ie9e9cf496273591701a1a81be8fff8440ccd2790
Signed-off-by: Sreeram Vancheeswaran <sreeram.vancheeswaran@in.ibm.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/424996/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,24c59b6d70801f2c6409011df170eb3639f023a0,bp/prep_spawn_zDPM," self.driver.prep_for_spawn(context, instance)",,1,0
openstack%2Fpycadf~master~I4d7aeed21a13cbd6510a5af8f71c5a924f24ae90,openstack/pycadf,master,I4d7aeed21a13cbd6510a5af8f71c5a924f24ae90,Update source link in readme,MERGED,2019-10-06 07:19:06.000000000,2019-10-07 14:05:34.000000000,2019-10-07 14:03:42.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 07:19:06.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/fc7d8debee781f457aca1860196e86a81a8eb329', 'message': 'Update source link in readme\n\nChange-Id: I4d7aeed21a13cbd6510a5af8f71c5a924f24ae90\n'}]",0,686922,fc7d8debee781f457aca1860196e86a81a8eb329,7,2,1,30092,,,0,"Update source link in readme

Change-Id: I4d7aeed21a13cbd6510a5af8f71c5a924f24ae90
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/22/686922/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,fc7d8debee781f457aca1860196e86a81a8eb329,,.. _Source: https://opendev.org/openstack/pycadf,.. _Source: https://git.openstack.org/cgit/openstack/pycadf,1,1
openstack%2Fnova~master~I82a141a77c4568177f1bdfb05dc86d8b189092cb,openstack/nova,master,I82a141a77c4568177f1bdfb05dc86d8b189092cb,WIP: Add the reaper entry point,ABANDONED,2018-02-23 14:45:07.000000000,2019-10-07 14:04:37.000000000,,"[{'_account_id': 136}, {'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27057}]","[{'number': 1, 'created': '2018-02-23 14:45:07.000000000', 'files': ['nova/scheduler/manager.py', 'nova/scheduler/reaper_client.py', 'nova/conf/scheduler.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/458a3658ebfd9d3ab490ffc50e55a33008e72554', 'message': 'WIP: Add the reaper entry point\n\nThis adds the entry point for the Reaper Service. In the scope of\nsupporting Preemptible Instances, we need this entry point to trigger\nthe Reaper service as soon as the placement returns no valid hosts for\nthe spawinging server. If the connection to Placement is successful\nand no valid hosts were returned, then the Scheduler will request\nfrom the Reaper to free up the resources, needed the creation of the\nnew server(s), by terminating Preemptible Instances.\n\nThe client will extract the required information from the spec_obj and\nmake a call out to the Reaper service. This can be done by an API call\nalso.\n\nImplements: blueprint preemptible-instances\n\nReferences:\n- https://etherpad.openstack.org/p/preemtable-servers\n- https://review.openstack.org/#/c/438640/\n- http://openstack-in-production.blogspot.ch/2018/02/maximizing-resource-utilization-with.html\n\nChange-Id: I82a141a77c4568177f1bdfb05dc86d8b189092cb\n'}]",1,547450,458a3658ebfd9d3ab490ffc50e55a33008e72554,14,15,1,27057,,,0,"WIP: Add the reaper entry point

This adds the entry point for the Reaper Service. In the scope of
supporting Preemptible Instances, we need this entry point to trigger
the Reaper service as soon as the placement returns no valid hosts for
the spawinging server. If the connection to Placement is successful
and no valid hosts were returned, then the Scheduler will request
from the Reaper to free up the resources, needed the creation of the
new server(s), by terminating Preemptible Instances.

The client will extract the required information from the spec_obj and
make a call out to the Reaper service. This can be done by an API call
also.

Implements: blueprint preemptible-instances

References:
- https://etherpad.openstack.org/p/preemtable-servers
- https://review.openstack.org/#/c/438640/
- http://openstack-in-production.blogspot.ch/2018/02/maximizing-resource-utilization-with.html

Change-Id: I82a141a77c4568177f1bdfb05dc86d8b189092cb
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/547450/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/scheduler/reaper_client.py', 'nova/conf/scheduler.py', 'setup.cfg']",4,458a3658ebfd9d3ab490ffc50e55a33008e72554,bp/preemptible-instances,nova.scheduler.reaper_client = noop_client = nova.scheduler.reaper_client:ReaperClient ,,77,0
openstack%2Ffuturist~master~I98b34059525b6afe7a61488c84d9fab5e53dfde3,openstack/futurist,master,I98b34059525b6afe7a61488c84d9fab5e53dfde3,Add release notes link to README,MERGED,2019-10-06 01:30:58.000000000,2019-10-07 14:04:22.000000000,2019-10-07 14:02:48.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 01:30:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/futurist/commit/5d3fd0d3d016ce61ac354f5a3abc6ad6304ffaf3', 'message': 'Add release notes link to README\n\nChange-Id: I98b34059525b6afe7a61488c84d9fab5e53dfde3\n'}]",0,686908,5d3fd0d3d016ce61ac354f5a3abc6ad6304ffaf3,7,2,1,27190,,,0,"Add release notes link to README

Change-Id: I98b34059525b6afe7a61488c84d9fab5e53dfde3
",git fetch https://review.opendev.org/openstack/futurist refs/changes/08/686908/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5d3fd0d3d016ce61ac354f5a3abc6ad6304ffaf3,,* Release notes: https://docs.openstack.org/releasenotes/futurist,,1,0
openstack%2Fnova~master~I88c637d96c0e6d185b385a34df07814bc5e29634,openstack/nova,master,I88c637d96c0e6d185b385a34df07814bc5e29634,WIP - Combine the two auth.py files,ABANDONED,2017-03-10 22:39:34.000000000,2019-10-07 14:03:52.000000000,,"[{'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-10 22:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/affc1a2eabc72c821d243ca148aab7bde8b89619', 'message': ""WIP - Combine the two auth.py files\n\nBoth nova/api and nova/api/openstack have files named 'auth.py', so the\nfirst step in moving the contents of nova/api/openstack into nova/api is\nto combine these two files.\n\nThe majority of the modified files are search/replace for the new path\nfor auth.py.\n\nChange-Id: I88c637d96c0e6d185b385a34df07814bc5e29634\nBlueprint: remove-openstack-api-directory\n""}, {'number': 2, 'created': '2017-03-14 22:27:44.000000000', 'files': ['nova/tests/functional/api_paste_fixture.py', 'nova/api/auth.py', 'nova/api/openstack/auth.py', 'etc/nova/api-paste.ini', 'nova/tests/unit/api/openstack/compute/test_auth.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/159df115d7e82f9b496e7508fb7d23a970b28179', 'message': ""WIP - Combine the two auth.py files\n\nBoth nova/api and nova/api/openstack have files named 'auth.py', so the\nfirst step in moving the contents of nova/api/openstack into nova/api is\nto combine these two files.\n\nThe majority of the modified files are search/replace for the new path\nfor auth.py.\n\nChange-Id: I88c637d96c0e6d185b385a34df07814bc5e29634\nBlueprint: remove-openstack-api-directory\n""}]",1,444521,159df115d7e82f9b496e7508fb7d23a970b28179,30,14,2,1063,,,0,"WIP - Combine the two auth.py files

Both nova/api and nova/api/openstack have files named 'auth.py', so the
first step in moving the contents of nova/api/openstack into nova/api is
to combine these two files.

The majority of the modified files are search/replace for the new path
for auth.py.

Change-Id: I88c637d96c0e6d185b385a34df07814bc5e29634
Blueprint: remove-openstack-api-directory
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/444521/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_paste_fixture.py', 'nova/api/auth.py', 'nova/api/openstack/auth.py', 'etc/nova/api-paste.ini', 'nova/tests/unit/api/openstack/compute/test_auth.py']",5,affc1a2eabc72c821d243ca148aab7bde8b89619,bp/remove-openstack-api-directory,from nova.api import auth,from nova.api.openstack import auth,66,90
openstack%2Fnova~master~I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725,openstack/nova,master,I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725,Add flag to make glance image verification optional,ABANDONED,2017-12-14 17:37:05.000000000,2019-10-07 14:03:50.000000000,,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9914}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-14 17:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76fb0b29212db73979465a8ae38fd5039bcec151', 'message': 'Add flag to make glance image verification optional\n\nThis flag permits deployers to enable image signature verification\nfor images that are signed, while permitting those that are not\nsigned to be booted.  This allows deployers time to ensure that\nall images are properly signed before requiring signature verification.\n\nIt also allows deployers time to modify any tempest tests used to\nvalidate the deployment to be modified to be tempest aware.\n\nWIP - I still need to add tests and a release note.\n\nChange-Id: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725\n'}, {'number': 2, 'created': '2017-12-14 19:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5925ba2851ffd4cbe8d57c642915df5859867b4', 'message': 'Add flag to make glance image verification optional\n\nThis flag permits deployers to enable image signature verification\nfor images that are signed, while permitting those that are not\nsigned to be booted.  This allows deployers time to ensure that\nall images are properly signed before requiring signature verification.\n\nIt also allows deployers time to modify any tempest tests used to\nvalidate the deployment to be modified to be tempest aware.\n\nWIP - I still need to add tests and a release note.\n\nChange-Id: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725\n'}, {'number': 3, 'created': '2017-12-15 19:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ae1d57b0f66ad8dbd92940dbc49f3e7b15d97cd', 'message': 'Add flag to make glance image verification optional\n\nThis flag permits deployers to enable image signature verification\nfor images that are signed, while permitting those that are not\nsigned to be booted.  This allows deployers time to ensure that\nall images are properly signed before requiring signature verification.\n\nIt also allows deployers time to modify any tempest tests used to\nvalidate the deployment to be modified to be tempest aware.\n\nWIP - I still need to add tests.\n\nChange-Id: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725\n'}, {'number': 4, 'created': '2017-12-17 07:43:54.000000000', 'files': ['releasenotes/notes/add-param-to-allow-unsigned-images-018174392c250557.yaml', 'nova/image/glance.py', 'nova/conf/glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2df09e9bb4cda7491f5ee8bf35e84975b03af88', 'message': 'Add flag to make glance image verification optional\n\nThis flag permits deployers to enable image signature verification\nfor images that are signed, while permitting those that are not\nsigned to be booted.  This allows deployers time to ensure that\nall images are properly signed before requiring signature verification.\n\nIt also allows deployers time to modify any tempest tests used to\nvalidate the deployment to be modified to be tempest aware.\n\nWIP - I still need to add tests.\n\nChange-Id: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725\n'}]",1,528017,e2df09e9bb4cda7491f5ee8bf35e84975b03af88,63,16,4,9914,,,0,"Add flag to make glance image verification optional

This flag permits deployers to enable image signature verification
for images that are signed, while permitting those that are not
signed to be booted.  This allows deployers time to ensure that
all images are properly signed before requiring signature verification.

It also allows deployers time to modify any tempest tests used to
validate the deployment to be modified to be tempest aware.

WIP - I still need to add tests.

Change-Id: I8d8e31ebe08edc3720e7ed4eb1a407dbf5509725
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/528017/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/conf/glance.py']",2,76fb0b29212db73979465a8ae38fd5039bcec151,add_optional_signature_verification," cfg.BoolOpt('signatures_optional', default=False, help="""""" Allow unsigned images to boot. When signature_optional is False, images do not have image signature metadata available will not boot. When this parameter is set to True, nova will be able to boot, with a warning about the missing signature recorded in the log. This setting is expected to be set temporarily by the deployer, to allow time for images to be properly signed, and system tests to be updated. """"""),",,16,0
openstack%2Fnova~master~I7189cc6ffd7c3e32ef27333e1bc3f95919247872,openstack/nova,master,I7189cc6ffd7c3e32ef27333e1bc3f95919247872,[WIP] Expose vlan trunking in metadata/configdrive,ABANDONED,2017-06-07 17:48:20.000000000,2019-10-07 14:03:48.000000000,,"[{'_account_id': 6685}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-06-07 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0db259875006fe82ce96fdf93e0b6dbf62c1699', 'message': '[WIP] Expose vlan trunking in metadata/configdrive\n\nThe blueprint is still undergoing discussion, thus the nature of this\npatch is a WIP.  However, this is a working patch\n\nChange-Id: I7189cc6ffd7c3e32ef27333e1bc3f95919247872\nImplements: bp/expose-vlan-trunking\n'}, {'number': 2, 'created': '2017-06-07 17:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e90e617a24232690a8ffe6ce23db99081cb008c', 'message': '[WIP] Expose vlan trunking in metadata/configdrive\n\nThe blueprint is still undergoing discussion, thus the nature of this\npatch is a WIP.  However, this is a working patch\n\nChange-Id: I7189cc6ffd7c3e32ef27333e1bc3f95919247872\nImplements: blueprint expose-vlan-trunking\n'}, {'number': 3, 'created': '2017-06-16 15:20:21.000000000', 'files': ['nova/conf/network.py', 'nova/network/neutronv2/api.py', 'nova/network/model.py', 'nova/network/neutronv2/constants.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a96d0b59b44fdc098b42460aa89aafebb775a77a', 'message': '[WIP] Expose vlan trunking in metadata/configdrive\n\nThe blueprint is still undergoing discussion, thus the nature of this\npatch is a WIP.  However, this is a working patch\n\nChange-Id: I7189cc6ffd7c3e32ef27333e1bc3f95919247872\nImplements: blueprint expose-vlan-trunking\n'}]",0,471874,a96d0b59b44fdc098b42460aa89aafebb775a77a,26,9,3,6685,,,0,"[WIP] Expose vlan trunking in metadata/configdrive

The blueprint is still undergoing discussion, thus the nature of this
patch is a WIP.  However, this is a working patch

Change-Id: I7189cc6ffd7c3e32ef27333e1bc3f95919247872
Implements: blueprint expose-vlan-trunking
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/471874/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/network.py', 'nova/network/neutronv2/api.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/network/neutronv2/constants.py', 'nova/network/os_vif_util.py', 'nova/virt/netutils.py']",9,c0db259875006fe82ce96fdf93e0b6dbf62c1699,bp/is," subports_parent_link = {} link = _get_eth_link(vif, ifc_num, subports_parent_link) subport_ids = vif.get_meta('subport_ids', '').split(',') for subport_id in subport_ids: subports_parent_link[subport_id] = linkdef _get_eth_link(vif, ifc_num, subports_parent_link): elif vif.get('type') == 'trunk_subport': nic_type = 'vlan' if nic_type == 'vlan': link = { 'id': link_id, 'vif_id': vif['id'], 'type': nic_type, 'mtu': vif['network']['meta'].get('mtu'), 'vlan_mac_address': vif.get('address'), 'vlan_link': subports_parent_link[vif['id']]['id'], 'vlan_id': vif.get_meta('segmentation_id'), } else: link = { 'id': link_id, 'vif_id': vif['id'], 'type': nic_type, 'mtu': vif['network']['meta'].get('mtu'), 'ethernet_mac_address': vif.get('address'), }"," link = _get_eth_link(vif, ifc_num)def _get_eth_link(vif, ifc_num): link = { 'id': link_id, 'vif_id': vif['id'], 'type': nic_type, 'mtu': vif['network']['meta'].get('mtu'), 'ethernet_mac_address': vif.get('address'), }",147,15
openstack%2Fnova~master~Ifde6440c95f1f6134a2eddcaf5816c209522bc31,openstack/nova,master,Ifde6440c95f1f6134a2eddcaf5816c209522bc31,Remove legacy fault-loading routines,ABANDONED,2017-09-20 01:19:15.000000000,2019-10-07 14:03:47.000000000,,"[{'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-20 01:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71cd33c1c85dbca7404416a3b602a077e11b5696', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 2, 'created': '2017-09-20 02:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64c636724789038c2ebdef8c1a5447ef4d76438b', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 3, 'created': '2017-09-20 14:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e99e58e7bfe104bb6198d8277f101e53194a6bd', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 4, 'created': '2017-09-20 23:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42cd7c8b0b551fa0f25634c5f564db37d8eff336', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 5, 'created': '2017-09-21 14:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e84da0cb52cc655cd6cb59dce0f9733250b2613f', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 7, 'created': '2017-09-21 15:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99f8aeb83240f6c5b94164ed874d9fa8bc0f1809', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 8, 'created': '2017-09-21 23:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e99a486f2fa83fc75e65f489d98a51228cbbf276', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 9, 'created': '2017-09-22 20:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89e888207c780727803db1797cc4d8998707cbd1', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}, {'number': 10, 'created': '2017-09-25 16:11:44.000000000', 'files': ['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca117735a21fd8cb8cb06fcde37c88948041582f', 'message': 'Remove legacy fault-loading routines\n\nNow that we query faults out with the instances themselves, we no longer\nneed the complex legacy fault handling code in the API.\n\nThis requires minimal test change because this behavior is not well\ncovered by unit tests and because the old code would avoid the load\nif the fault was already on the instance, which it always is now.\n\nChange-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31\n'}]",0,505456,ca117735a21fd8cb8cb06fcde37c88948041582f,69,14,9,4393,,,0,"Remove legacy fault-loading routines

Now that we query faults out with the instances themselves, we no longer
need the complex legacy fault handling code in the API.

This requires minimal test change because this behavior is not well
covered by unit tests and because the old code would avoid the load
if the fault was already on the instance, which it always is now.

Change-Id: Ifde6440c95f1f6134a2eddcaf5816c209522bc31
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/505456/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']",3,71cd33c1c85dbca7404416a3b602a077e11b5696,instance-list, expected_attrs.append('fault'), instance_list._context = context instance_list.fill_faults(),2,33
openstack%2Frpm-packaging~master~I80deedc7d9b00e754be0d49894f0fc91a70eba96,openstack/rpm-packaging,master,I80deedc7d9b00e754be0d49894f0fc91a70eba96,Add missing build dependencies,MERGED,2019-10-07 13:20:31.000000000,2019-10-07 14:03:13.000000000,2019-10-07 14:03:13.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 13:20:31.000000000', 'files': ['openstack/cyborg/cyborg.spec.j2', 'openstack/barbican/barbican.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/22df88ed0806ba22ccedb362dbac5a995de52fa0', 'message': 'Add missing build dependencies\n\nBarbican and Cyborg are now needing addtional packages for building\nthe documentation\n\nChange-Id: I80deedc7d9b00e754be0d49894f0fc91a70eba96\n'}]",0,687029,22df88ed0806ba22ccedb362dbac5a995de52fa0,10,5,1,2062,,,0,"Add missing build dependencies

Barbican and Cyborg are now needing addtional packages for building
the documentation

Change-Id: I80deedc7d9b00e754be0d49894f0fc91a70eba96
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/29/687029/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cyborg/cyborg.spec.j2', 'openstack/barbican/barbican.spec.j2']",2,22df88ed0806ba22ccedb362dbac5a995de52fa0,,BuildRequires: {{ py3('sphinxcontrib-svg2pdfconverter') }},,2,0
openstack%2Ftripleo-validations~stable%2Fstein~I23a883827581a81c222e960dee7735ae350a177c,openstack/tripleo-validations,stable/stein,I23a883827581a81c222e960dee7735ae350a177c,Add new healthcheck-service-status validation,MERGED,2019-10-03 09:09:04.000000000,2019-10-07 14:02:29.000000000,2019-10-07 14:00:19.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-03 09:09:04.000000000', 'files': ['roles/healthcheck-service-status/vars/main.yml', 'roles/healthcheck-service-status/defaults/main.yml', 'doc/source/roles/role-healthcheck-service-status.rst', 'roles/healthcheck-service-status/tasks/main.yml', 'playbooks/healthcheck-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ca40566e874b948167a4e3b70b99227b59ba0e88', 'message': 'Add new healthcheck-service-status validation\n\nChange-Id: I23a883827581a81c222e960dee7735ae350a177c\nCo-Authored-By: ratailor@redhat.com\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit a0a122dae89107f2b63c91d6a99d6778f2035b91)\n'}]",0,686359,ca40566e874b948167a4e3b70b99227b59ba0e88,18,5,1,11491,,,0,"Add new healthcheck-service-status validation

Change-Id: I23a883827581a81c222e960dee7735ae350a177c
Co-Authored-By: ratailor@redhat.com
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit a0a122dae89107f2b63c91d6a99d6778f2035b91)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/59/686359/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/healthcheck-service-status/defaults/main.yml', 'roles/healthcheck-service-status/vars/main.yml', 'doc/source/roles/role-healthcheck-service-status.rst', 'roles/healthcheck-service-status/tasks/main.yml', 'playbooks/healthcheck-service-status.yaml']",5,ca40566e874b948167a4e3b70b99227b59ba0e88,healthcheck-service-status-stable/stein,"--- - hosts: undercloud, overcloud vars: metadata: name: Healthcheck systemd services Check description: > Check for failed healthcheck systemd services. groups: - post-deployment retries_number: 1 delay_number: 1 inflight_healthcheck_services: [] roles: - healthcheck-service-status ",,69,0
openstack%2Fnova~master~Ia0f303df01d684dab9f994ebc7845fb792189f65,openstack/nova,master,Ia0f303df01d684dab9f994ebc7845fb792189f65,Race condition between audit and migrate/resize revert,ABANDONED,2016-11-22 23:04:04.000000000,2019-10-07 14:02:17.000000000,,"[{'_account_id': 5170}, {'_account_id': 8768}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17973}, {'_account_id': 20040}, {'_account_id': 21784}, {'_account_id': 22348}, {'_account_id': 24777}, {'_account_id': 26477}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-11-22 23:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb34557e6840eac7b5efae7f8381cbe74e6e08c7', 'message': ""PCI: Race condition between audit and migrate/resize revert\n\nThere was a race condition where an instance was being reverted and the\nmigration was marked 'reverted' on the destination node but the instance was\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node was then not seeing any\nmigration in progress neither the instance running, which caused\nresource usage to be wrong (in this particular case the PCI devices we're\ngetting freed).\n\nThis fix introduce a new migration status of 'reverting' in\nrevert_resize() and the migration is now set in 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}, {'number': 2, 'created': '2016-11-23 20:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07a046105263ca7857fe72cfeff927f142939373', 'message': ""PCI: Race condition between audit and migrate/resize revert\n\nThere is a race condition where an instance is being reverted and the\nmigration is marked 'reverted' on the destination node but the instance was\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node was then not seeing any\nmigration in progress neither the instance running, which caused\nresource usage to be wrong (see\nMigrationList.get_in_progress_by_host_and_node()).  In the case where the\nguest had PCI devices, those we're getting freed.\n\nThis fix introduce a new migration status for 'reverting' in\nrevert_resize() and the migration is now set in 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}, {'number': 3, 'created': '2016-11-30 23:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b66cb7352ea5d9a9fd2d08fd430afeb8c65e2710', 'message': ""Race condition between audit and migrate/resize revert\n\nThere is a race condition where an instance is being reverted and the\nmigration is marked 'reverted' on the destination node but the instance was\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node was then not seeing any\nmigration in progress neither the instance running, which caused\nresource usage to be wrong (see\nMigrationList.get_in_progress_by_host_and_node()).  In the case where the\nguest had PCI devices, those we're getting freed.\n\nThis fix introduce a new migration status for 'reverting' in\nrevert_resize() and the migration is now set in 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}, {'number': 4, 'created': '2016-12-15 19:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0a86fab111ccfe3d68a8783614174ad71fe65c7', 'message': ""Race condition between audit and migrate/resize revert\n\nThere is a race condition where an instance is being reverted and the\nmigration is marked 'reverted' on the destination node but the instance was\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node was then not seeing any\nmigration in progress neither the instance running, which caused\nresource usage to be wrong (see\nMigrationList.get_in_progress_by_host_and_node()).  In the case where the\nguest had PCI devices, those we're getting freed.\n\nThis fix introduce a new migration status for 'reverting' in\nrevert_resize() and the migration is now set in 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}, {'number': 5, 'created': '2017-04-12 21:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95a00cf3e942ff855bee70a63022f03078633980', 'message': ""Race condition between audit and migrate/resize revert\n\nThere is a race condition where an instance is being reverted and the\nmigration is marked 'reverted' on the destination node but the instance was\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node was then not seeing any\nmigration in progress neither the instance running, which caused\nresource usage to be wrong (see\nMigrationList.get_in_progress_by_host_and_node()).  In the case where the\nguest had PCI devices, those we're getting freed.\n\nThis fix introduce a new migration status for 'reverting' in\nrevert_resize() and the migration is now set in 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nCo-Authored-By: Steven Webster <steven.webster@windriver.com>\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}, {'number': 6, 'created': '2017-04-26 02:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d5d2c0b7750161640852ededd4718ba24573779', 'message': ""Race condition between audit and migrate/resize revert\n\nThere is a race condition where an instance is being reverted and the\nmigration is marked 'reverted' on the destination node but the instance was\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node was then not seeing any\nmigration in progress neither the instance running, which caused\nresource usage to be wrong (see\nMigrationList.get_in_progress_by_host_and_node()).  In the case where the\nguest had PCI devices, those we're getting freed.\n\nThis fix introduce a new migration status for 'reverting' in\nrevert_resize() and the migration is now set in 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nCo-Authored-By: Steven Webster <steven.webster@windriver.com>\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}, {'number': 7, 'created': '2017-06-26 22:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67bcd2aaab2ccfbe52c0a7a13b17181be1e1f917', 'message': ""Race condition between audit and migrate/resize revert\n\nThere is a race condition where an instance is being reverted and the\nmigration is marked 'reverted' on the destination node but the instance was\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node was then not seeing any\nmigration in progress neither the instance running, which caused\nresource usage to be wrong (see\nMigrationList.get_in_progress_by_host_and_node()).  In the case where the\nguest had PCI devices, those we're getting freed.\n\nThis fix introduce a new migration status for 'reverting' in\nrevert_resize() and the migration is now set in 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nCo-Authored-By: Steven Webster <steven.webster@windriver.com>\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}, {'number': 8, 'created': '2017-09-26 03:06:16.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/085e5f3881de237263e8de2a539f71414a091368', 'message': ""Race condition between audit and migrate/resize revert\n\nThere is a potential race condition in instance revert that can occur when a\nmigration is marked 'reverted' on the destination node but the instance is\nnot yet re-spawned on the original source node.\n\nThe resource tracker on the source node may then not see any\nmigration in progress, and have no instance running. This causes the\nresource usage to be wrong (see\nMigrationList.get_in_progress_by_host_and_node()).  In the case where the\nguest had PCI devices, those were getting freed.\n\nThis fix introduces a new migration status for 'reverting' in\nrevert_resize() and the migration is now set to 'reverted' in\nfinish_revert_resize().  Therefore a reverted migration will only be\nreported as in progress until it is being reverted on the source node.\n\nCo-Authored-By: Steven Webster <steven.webster@windriver.com>\nChange-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65\nCloses-Bug: #1644042\n""}]",8,400995,085e5f3881de237263e8de2a539f71414a091368,153,26,8,17973,,,0,"Race condition between audit and migrate/resize revert

There is a potential race condition in instance revert that can occur when a
migration is marked 'reverted' on the destination node but the instance is
not yet re-spawned on the original source node.

The resource tracker on the source node may then not see any
migration in progress, and have no instance running. This causes the
resource usage to be wrong (see
MigrationList.get_in_progress_by_host_and_node()).  In the case where the
guest had PCI devices, those were getting freed.

This fix introduces a new migration status for 'reverting' in
revert_resize() and the migration is now set to 'reverted' in
finish_revert_resize().  Therefore a reverted migration will only be
reported as in progress until it is being reverted on the source node.

Co-Authored-By: Steven Webster <steven.webster@windriver.com>
Change-Id: Ia0f303df01d684dab9f994ebc7845fb792189f65
Closes-Bug: #1644042
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/400995/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,bb34557e6840eac7b5efae7f8381cbe74e6e08c7,bug/1644042, migration.status = 'reverting' migration.status = 'reverted' with migration.obj_as_admin(): migration.save() , migration.status = 'reverted',5,1
openstack%2Fnova~master~If4b5d325843690eef15be8d4eca2f9059b887d08,openstack/nova,master,If4b5d325843690eef15be8d4eca2f9059b887d08,Use actual availability zone rather than original value,ABANDONED,2017-12-04 03:23:06.000000000,2019-10-07 14:01:00.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23419}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-04 03:23:06.000000000', 'files': ['nova/conductor/tasks/migrate.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27f1ccc12556c77142d373b68e07c6bb985467b0', 'message': 'Use actual availability zone rather than original value\n\nIt will use original availability zone to shecduler a host for\nmigration. While the original value might be invalid due to\nunchecked action in boot process.\nIn this solustion,it will use the actual availability zone which\nis the same as OS-EXT-AZ:availability_zone.\n\nChange-Id: If4b5d325843690eef15be8d4eca2f9059b887d08\nCloses-Bug: #1735406\n'}]",0,525034,27f1ccc12556c77142d373b68e07c6bb985467b0,16,12,1,23419,,,0,"Use actual availability zone rather than original value

It will use original availability zone to shecduler a host for
migration. While the original value might be invalid due to
unchecked action in boot process.
In this solustion,it will use the actual availability zone which
is the same as OS-EXT-AZ:availability_zone.

Change-Id: If4b5d325843690eef15be8d4eca2f9059b887d08
Closes-Bug: #1735406
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/525034/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/migrate.py', 'nova/compute/api.py']",2,27f1ccc12556c77142d373b68e07c6bb985467b0,bug/1735406," request_spec.availability_zone = ( availability_zones.get_instance_availability_zone( context,instance))",,4,3
openstack%2Fnova~stable%2Frocky~Ia5a23ce1123a68608ee2ec6f2ac5dca02da67c59,openstack/nova,stable/rocky,Ia5a23ce1123a68608ee2ec6f2ac5dca02da67c59,Fixes multi-registry config in Quobyte driver,MERGED,2019-06-03 07:42:32.000000000,2019-10-07 14:00:02.000000000,2019-06-13 19:38:24.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 13915}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-03 07:42:32.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/volume/quobyte.py', 'nova/tests/unit/virt/libvirt/volume/test_quobyte.py', 'releasenotes/notes/qb-bug-1730933-6695470ebaee0fbd.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/c958ad8a68ea9a8ea465d9e3dd889248d9f42481', 'message': 'Fixes multi-registry config in Quobyte driver\n\nThis closes a bug concerning multi-registry configurations\nfor Quobyte volumes due to no longer using the is_mounted()\nmethod that failed in that case.\nBesides, this adds exception handling for the unmount call that\nis issued on trying to mount an already mounted volume.\n\nNOTE: The original commit also added a new feature (fs type\nbased validation) which is omitted in this backport.\n\nCloses-Bug: #1737131\n\nChange-Id: Ia5a23ce1123a68608ee2ec6f2ac5dca02da67c59\n(cherry picked from commit 05a73c0f3a9f8edf9024f9870279bc6fb7bba2e7)\n(cherry picked from commit 656aa1cd40570154df606484d31616989b5296aa)\n'}]",0,662695,c958ad8a68ea9a8ea465d9e3dd889248d9f42481,34,11,1,13915,,,0,"Fixes multi-registry config in Quobyte driver

This closes a bug concerning multi-registry configurations
for Quobyte volumes due to no longer using the is_mounted()
method that failed in that case.
Besides, this adds exception handling for the unmount call that
is issued on trying to mount an already mounted volume.

NOTE: The original commit also added a new feature (fs type
based validation) which is omitted in this backport.

Closes-Bug: #1737131

Change-Id: Ia5a23ce1123a68608ee2ec6f2ac5dca02da67c59
(cherry picked from commit 05a73c0f3a9f8edf9024f9870279bc6fb7bba2e7)
(cherry picked from commit 656aa1cd40570154df606484d31616989b5296aa)
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/662695/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/volume/quobyte.py', 'nova/tests/unit/virt/libvirt/volume/test_quobyte.py', 'releasenotes/notes/qb-bug-1730933-6695470ebaee0fbd.yaml']",4,c958ad8a68ea9a8ea465d9e3dd889248d9f42481,bug/1737131-stable/rocky,--- fixes: - | Fixes a bug that caused Nova to fail on mounting Quobyte volumes whose volume URL contained multiple registries. ,,59,38
openstack%2Fnova~master~Ic17bdcf286205efabd978ec8413742e0aedb6206,openstack/nova,master,Ic17bdcf286205efabd978ec8413742e0aedb6206,Add method for verify multiple versioned notifications,ABANDONED,2017-05-17 11:53:16.000000000,2019-10-07 13:59:57.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18599}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 21239}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-05-17 11:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb590992044a796bd8fa847cc245fb6a1dbc094b', 'message': 'Add method for verify multiple notifications\n\nThis patch allows the multiple notifications\nverify as simply.\n\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 2, 'created': '2017-05-17 11:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd68a1b64b695d7b3bd5000802520135ba1025c1', 'message': 'Add method for verify multiple notifications\n\nThis patch allows the multiple notifications\nverify as simply. Using this the verifies looks\nmore transparent with full list of the expected\nnotifications.\n\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 3, 'created': '2017-05-17 12:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e06bc81bea892d7d9224d8aad0480cde4aad9f8b', 'message': 'Add method for verify multiple notifications\n\nThis patch allows the multiple notifications\nverify as simply. Using this the verifies looks\nmore transparent with full list of the expected\nnotifications.\n\nDemo:\nhttps://review.openstack.org/#/c/403660/\n\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 4, 'created': '2017-05-18 21:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cfc2524404fcb9a95dc5b08934780821c85421c', 'message': 'Add method for verify multiple notifications\n\nThis patch allows the multiple notifications\nverify as simply. Using this the verifies looks\nmore transparent with full list of the expected\nnotifications.\n\nDemo for usage:\nhttps://review.openstack.org/#/c/403660/\n\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 5, 'created': '2017-05-18 21:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9eb01c8e6ae172874eb3e3399e23578dd60fb649', 'message': ""Add method for verify multiple notifications\n\nThis patch allows the multiple notifications\nverify as simply. Using this the verifies looks\nmore transparent with full list of the expected\nnotifications.\n\nDemo for usage:\nhttps://review.openstack.org/#/c/403660/\n\nDemo code:\nexpected_notifications = [\n    #if unimportant notification\n    [None],\n    #if important notification, and we want\n    #use the default replacements\n    ['instance-create-end'],\n    #if important notification, and we want\n    #use custom replacements\n    ['instance-exists', {\n        'reservation_id': server['reservation_id'],\n        'uuid': server['id']\n    }],\n]\nself._verify_notifications(\n    expected_notifications = expected_notifications,\n    #the default replacements. This use, if dont have\n    #custom replacements for one expected notification.\n    replacements={\n        'reservation_id': server['reservation_id'],\n        'uuid': server['id']\n    }\n)\n\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n""}, {'number': 6, 'created': '2017-05-19 13:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24211eaf2b4a3ff9fb4cd717386787e8756cf16d', 'message': ""Add method for verify multiple notifications\n\nThis patch allows the multiple notifications\nverify as simply. Using this the verifies looks\nmore transparent with full list of the expected\nnotifications.\n\nDemo for usage:\nhttps://review.openstack.org/#/c/403660/\n\nDemo code:\nexpected_notifications = [\n    #if unimportant notification\n    [None],\n    #if important notification, and we want\n    #use the default replacements\n    ['instance-create-end'],\n    #if important notification, and we want\n    #use custom replacements\n    ['instance-exists', {\n        'reservation_id': server['reservation_id'],\n        'uuid': server['id']\n    }],\n]\nself._verify_notifications(\n    expected_notifications = expected_notifications,\n    #the default replacements. This use, if dont have\n    #custom replacements for one expected notification.\n    replacements={\n        'reservation_id': server['reservation_id'],\n        'uuid': server['id']\n    }\n)\n\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n""}, {'number': 7, 'created': '2017-05-19 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acea3d185899cfb9ef78099dd5b7336c6f92c4a6', 'message': 'Add method for verify multiple notifications\n\nThis patch allows the multiple notifications\nverify as simply. Using this the verifies looks\nmore transparent with full list of the expected\nnotifications.\n\nDemo for usage:\nhttps://review.openstack.org/#/c/403660/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 8, 'created': '2017-06-01 14:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1799aa00ab77d285bbd447151a42ea81f214b26', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample useage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 9, 'created': '2017-06-01 14:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66234500490dba405798759ae6f4700371295c11', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample useage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 10, 'created': '2017-06-01 18:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e388fa2fc5cbeada665eb89841764cebc6e091e4', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample useage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 11, 'created': '2017-06-02 12:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69d2b3945954206dd87060649c54612f90a36a46', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample useage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 12, 'created': '2017-06-02 12:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da9e72d65544be7d20323160ee361000ddb331d3', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 13, 'created': '2017-06-08 13:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f598b1fef416f33181382445e0cc4c7779e8f07a', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 14, 'created': '2017-06-11 22:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38fcba8176af4904e8399d3305fda87c877b5814', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 15, 'created': '2017-06-19 10:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3baeef00a01c2143eb766c40e55c00536b9684fd', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 16, 'created': '2017-07-06 11:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3182abc8adce1598f7edbd38e551795e0135a95c', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 17, 'created': '2017-07-13 09:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddc747310461da0925c2a42ca5b32de7430e6159', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 18, 'created': '2017-07-18 12:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b1135f29b541c226896d09bee81fa98c05d48b8', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 19, 'created': '2017-07-20 12:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91b62a9a3249d3a0c6de6960d8c53f338f6db0bd', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 20, 'created': '2017-07-26 08:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23a3f34ad89326ef16ae2891d94fd745adf32a43', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 21, 'created': '2017-07-26 09:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8486c2c5d777a2716023b002a442d6f610a309b', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 22, 'created': '2017-08-28 12:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32421d3775d5a740758ff2b45b811ddbbbbfe05c', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-queens\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}, {'number': 23, 'created': '2017-08-28 12:32:01.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d3e04eeb10f15a468475f8971ae7b4d30ad1c974', 'message': 'Add method for verify multiple versioned notifications\n\nThis patch allows us to simply verify multiple\nversioned notifications in a more readable\nand more transparent way than we have now.\nThe new method uses a list with the expected\nnotifications ""event_type"" field, which makes\nthe verifying process easily readable\nand understandable.\n\nExample usage can be found:\n[1]: https://review.openstack.org/#/c/403660/\n[2]: https://review.openstack.org/#/c/466296/\n\nImplements: bp versioned-notification-transformation-queens\nChange-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206\n'}]",14,465526,d3e04eeb10f15a468475f8971ae7b4d30ad1c974,151,15,23,21239,,,0,"Add method for verify multiple versioned notifications

This patch allows us to simply verify multiple
versioned notifications in a more readable
and more transparent way than we have now.
The new method uses a list with the expected
notifications ""event_type"" field, which makes
the verifying process easily readable
and understandable.

Example usage can be found:
[1]: https://review.openstack.org/#/c/403660/
[2]: https://review.openstack.org/#/c/466296/

Implements: bp versioned-notification-transformation-queens
Change-Id: Ic17bdcf286205efabd978ec8413742e0aedb6206
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/465526/18 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/notification_sample_base.py'],1,bb590992044a796bd8fa847cc245fb6a1dbc094b,bp/versioned-notification-transformation-queens," def _verify_notifications(self, notifications, expected_notifications=None, replacements=None): """""" This facilitate the multiple notifications. :param notifications: The notifications list, which we'd verify :param expected_notifications: The expected list of notifications :param replacements: Same as verify_notification """""" self.assertEqual( len(expected_notifications), len(notifications) ) for idx, notification in enumerate(expected_notifications): if (notification is None): continue self._verify_notification( notification, replacements=replacements, actual=notifications[idx]) ",,20,0
openstack%2Fnova~master~I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2,openstack/nova,master,I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2,Refactor create_delete_server_with_instance_update,ABANDONED,2017-05-19 14:16:06.000000000,2019-10-07 13:59:51.000000000,,"[{'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 18599}, {'_account_id': 18602}, {'_account_id': 18603}, {'_account_id': 20040}, {'_account_id': 21239}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-05-19 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b951ab86f8ebc078cf2a0cc2c6fd0321687988c', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test.\n\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 2, 'created': '2017-05-19 14:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ed4583bbb52a101cc925fc2729e4465081e039b', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 3, 'created': '2017-06-01 14:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a799ba72dbe816b506f82dadbee2a7bd37cbe0ce', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 4, 'created': '2017-06-01 18:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc19da0a8112d6f77a5c169431e005c7e867b7a0', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 5, 'created': '2017-06-01 18:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d196e997fd803271b30cc3ea1f8264c781f9766', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 6, 'created': '2017-06-08 15:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e955db72e1a0d1c4c1ce44e8bb2d20a3371fccc2', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 7, 'created': '2017-06-08 16:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9df704b492097b98f2eb18659b2fab6db7e0dcc0', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 8, 'created': '2017-06-13 16:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09ed436d63aa6f68fbf76c52496a05bc7abf9d1b', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nDepends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 9, 'created': '2017-06-19 09:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4573980afa47f29a54833bfb3c1eccf24f1e651', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nDepends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 10, 'created': '2017-06-19 10:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c04bd8593b34e906fbae2a1eccfa7ffc61f555d8', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nDepends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 11, 'created': '2017-07-13 16:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/819bb6c67c6bb0b9b3278a3238289eef3e38ef1b', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nDepends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 12, 'created': '2017-07-18 14:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a02e94e3fe784dfeef5249fac056e82969bac42b', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nDepends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 13, 'created': '2017-08-30 11:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bee33b7109b7aafcab9333211d68c88b7866d7b6', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-pike\nDepends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}, {'number': 14, 'created': '2017-08-30 11:15:12.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/badde233d3476dd7297677a48bb6e9d44ae0392b', 'message': 'Refactor create_delete_server_with_instance_update\n\nThis patch refactor the\ncreate_delete_server_with_instance_update\nfunctional test. Unify the verify of multiple\nnotifications.\n\nImplements: bp versioned-notification-transformation-queens\nDepends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206\nChange-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2\n'}]",8,466296,badde233d3476dd7297677a48bb6e9d44ae0392b,100,15,14,21239,,,0,"Refactor create_delete_server_with_instance_update

This patch refactor the
create_delete_server_with_instance_update
functional test. Unify the verify of multiple
notifications.

Implements: bp versioned-notification-transformation-queens
Depends-On: Ic17bdcf286205efabd978ec8413742e0aedb6206
Change-Id: I49b532cfa4ec9c2a1f0f1fe52befad643e72dbd2
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/466296/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,2b951ab86f8ebc078cf2a0cc2c6fd0321687988c,bp/versioned-notification-transformation-queens,"import copy notifications = self._wait_for_notifications('instance.update', 7) replacements = {} def verify_instance_with_steps(self, notifications, steps): """"""This inherited function helps the verification of multiple notifications. Create a list of expected notifications from steps and verify the notifications. """""" expected_notifications = [] for i, step in enumerate(steps): replacements.update(step) expected_notifications.append( ['instance-update', copy.deepcopy(replacements)] ) self._verify_notifications(expected_notifications, notifications=notifications) notifications[0]['publisher_id']) notifications[0]['publisher_id'] = 'nova-compute:fake-mini' 'state_update.new_task_state': None, 'state_update.old_task_state': 'scheduling', 'task_state': None}, }, verify_instance_with_steps(self, notifications, create_steps) notifications = self._get_notifications('instance.update') }, }, verify_instance_with_steps(self, notifications, delete_steps)"," def _verify_instance_update_steps(self, steps, notifications, initial=None): replacements = {} if initial: replacements = initial for i, step in enumerate(steps): replacements.update(step) self._verify_notification( 'instance-update', replacements=replacements, actual=notifications[i]) return replacements instance_updates = self._wait_for_notifications('instance.update', 7) instance_updates[0]['publisher_id']) instance_updates[0]['publisher_id'] = 'nova-compute:fake-mini' 'state_update.new_task_state': None, 'state_update.old_task_state': 'scheduling', 'task_state': None}, }, replacements = self._verify_instance_update_steps( create_steps, instance_updates) instance_updates = self._get_notifications('instance.update') self.assertEqual(2, len(instance_updates)) }, }, self._verify_instance_update_steps(delete_steps, instance_updates, initial=replacements)",28,30
openstack%2Ftripleo-heat-templates~master~Ic2ee08782d95c75862aabb22c93f591bbcb04ae7,openstack/tripleo-heat-templates,master,Ic2ee08782d95c75862aabb22c93f591bbcb04ae7,Enable kernel bridge capabilities.,ABANDONED,2019-10-07 13:57:38.000000000,2019-10-07 13:59:18.000000000,,[],"[{'number': 1, 'created': '2019-10-07 13:57:38.000000000', 'files': ['deployment/kernel/kernel-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df766d3d6a28f503de364b64c43c7e168afab5e5', 'message': 'Enable kernel bridge capabilities.\n\nThese parameters are required to use features in Neutron such\nas cross tenant traffic and having multiple security groups.\n\nChange-Id: Ic2ee08782d95c75862aabb22c93f591bbcb04ae7\nCloses-Bug: #1843259\nResolves: rhbz#1758012\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}]",0,687057,df766d3d6a28f503de364b64c43c7e168afab5e5,2,0,1,25877,,,0,"Enable kernel bridge capabilities.

These parameters are required to use features in Neutron such
as cross tenant traffic and having multiple security groups.

Change-Id: Ic2ee08782d95c75862aabb22c93f591bbcb04ae7
Closes-Bug: #1843259
Resolves: rhbz#1758012
Signed-off-by: ekultails <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/687057/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-baremetal-ansible.yaml'],1,df766d3d6a28f503de364b64c43c7e168afab5e5,, BridgeNfCallArptables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-arptables key type: number BridgeNfCallIp6tables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-ip6tables key type: number BridgeNfCallIptables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-iptables key type: number net.bridge.bridge-nf-call-arptables: value: {get_param: BridgeNfCallArptables} net.bridge.bridge-nf-call-ip6tables: value: {get_param: BridgeNfCallIp6tables} net.bridge.bridge-nf-call-iptables: value: {get_param: BridgeNfCallIptables},,18,0
openstack%2Fmonasca-persister~master~Ib6318da71d263bf9ec6c58b8b49aaa3a511a013d,openstack/monasca-persister,master,Ib6318da71d263bf9ec6c58b8b49aaa3a511a013d,Update master for stable/train,MERGED,2019-09-27 18:16:47.000000000,2019-10-07 13:57:35.000000000,2019-10-07 13:56:21.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 18:16:47.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/935413228477b5cdcf16b39fc2c7b269e155ac38', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ib6318da71d263bf9ec6c58b8b49aaa3a511a013d\nSem-Ver: feature\n'}]",0,685452,935413228477b5cdcf16b39fc2c7b269e155ac38,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ib6318da71d263bf9ec6c58b8b49aaa3a511a013d
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/52/685452/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,935413228477b5cdcf16b39fc2c7b269e155ac38,reno-train, train,,7,0
openstack%2Fmonasca-api~master~Icb01df7c2e47179d23385d64f18b6a3301415140,openstack/monasca-api,master,Icb01df7c2e47179d23385d64f18b6a3301415140,Update master for stable/train,MERGED,2019-09-27 20:40:19.000000000,2019-10-07 13:55:04.000000000,2019-10-07 13:53:45.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 20:40:19.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/82808b9396a24449fd5850acc10b79d4826f3586', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Icb01df7c2e47179d23385d64f18b6a3301415140\nSem-Ver: feature\n'}]",0,685482,82808b9396a24449fd5850acc10b79d4826f3586,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Icb01df7c2e47179d23385d64f18b6a3301415140
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/82/685482/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,82808b9396a24449fd5850acc10b79d4826f3586,reno-train, train,,7,0
openstack%2Fnova~master~I8e7e3861c971d8571096600414869f374741e7b8,openstack/nova,master,I8e7e3861c971d8571096600414869f374741e7b8,Guard against overwriting a deleting task state,ABANDONED,2016-03-05 20:15:57.000000000,2019-10-07 13:54:08.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6450}, {'_account_id': 8276}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18339}, {'_account_id': 20040}, {'_account_id': 20066}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-03-05 20:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5974d3521ce49d9e4e745a7a09c7c2e7d61e2b73', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 2, 'created': '2016-03-05 22:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d07cca56a24b89167001a1eca2cbcbf45e9e1d1b', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 3, 'created': '2016-03-05 23:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a588dd1a12c1122697c726dbb63e30a4fefa1259', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 4, 'created': '2016-06-22 08:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1ab0a4df189b248cf1229bdf332c6b339c21bee', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 5, 'created': '2016-06-22 08:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d20a8a6fbc184788bfdec6ba6a9f43c2b68a8be', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 6, 'created': '2016-07-15 17:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e70f613397237576a1f292b1fc155d8ec65f921f', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 7, 'created': '2016-09-28 19:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf2f97f7de76e3ba254cc90cbdb0b327b2065513', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 8, 'created': '2016-12-21 09:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44e2d0c27647600d0c1c2cfb1e988a945ec3cd0d', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}, {'number': 9, 'created': '2017-11-22 11:07:51.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/32e7bc4bf685b69e484c513e54719e7505be0123', 'message': 'Guard against overwriting a deleting task state\n\nThe following reviews try to fix bugs where a deleting task state\ngets overwritten due to racing instance.save() operations in the\nongoing task being interrupted by a instance delete operation.\n\nhttps://review.openstack.org/245038\nhttps://review.openstack.org/276783\n\nThe same race conditon exist in many other places where task_state\nis being updated without setting expected_task_state to guard against\nthese bad state changes.\n\nA way to solve this is to enforce some rules in the db api to not\nallow certain task state changes when a deleting state is involved.\n\nA positive side-effect of this is that instance deletes are detected\nfaster by running tasks due to the UnexpectedDeletingTaskStateError\nexception being raised.\n\nChange-Id: I8e7e3861c971d8571096600414869f374741e7b8\nCloses-Bug: #1512563\nCloses-Bug: #1542039\n'}]",7,288933,32e7bc4bf685b69e484c513e54719e7505be0123,123,28,9,6450,,,0,"Guard against overwriting a deleting task state

The following reviews try to fix bugs where a deleting task state
gets overwritten due to racing instance.save() operations in the
ongoing task being interrupted by a instance delete operation.

https://review.openstack.org/245038
https://review.openstack.org/276783

The same race conditon exist in many other places where task_state
is being updated without setting expected_task_state to guard against
these bad state changes.

A way to solve this is to enforce some rules in the db api to not
allow certain task state changes when a deleting state is involved.

A positive side-effect of this is that instance deletes are detected
faster by running tasks due to the UnexpectedDeletingTaskStateError
exception being raised.

Change-Id: I8e7e3861c971d8571096600414869f374741e7b8
Closes-Bug: #1512563
Closes-Bug: #1542039
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/288933/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,5974d3521ce49d9e4e745a7a09c7c2e7d61e2b73,bug/1512563," query = model_query(context, models.Instance, project_only=True) # Make sure we do not accidentically overwrite a deleting task state. # Setting vm_state to DELETED or ERROR however is always allowed. if values.get('vm_state') not in (vm_states.DELETED, vm_states.ERROR): if 'task_state' in values and 'task_state' not in expected: query = query.filter(or_( models.Instance.task_state != task_states.DELETING, models.Instance.task_state == null())) try: instance_ref = query.update_on_match(compare, 'uuid', values) if original.task_state == task_states.DELETING: conflicts_actual['task_state'] = original.task_state "," try: instance_ref = model_query(context, models.Instance, project_only=True).\ update_on_match(compare, 'uuid', values)",32,5
openstack%2Fnova~master~I19c053530f359afb074c5d03391a5ce27c83af23,openstack/nova,master,I19c053530f359afb074c5d03391a5ce27c83af23,Remove translation of log messages,ABANDONED,2017-05-23 03:21:59.000000000,2019-10-07 13:53:30.000000000,,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25720}, {'_account_id': 26072}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-05-23 03:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3070fc0bb82c63f273289b3b2117715176b2064d', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup, and nova/virt\nother paths will be fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 2, 'created': '2017-05-23 07:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d677a85b5ce250e649d711d5707890f3546e2ecb', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup, and nova/virt\nother paths will be fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 3, 'created': '2017-05-25 07:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/073326d52405c0b8ed9ba1cfce55a99f7eaa106f', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler and nova/servicegroup other paths will\nbe fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 4, 'created': '2017-05-25 09:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf57820094705612f5467336a34195f79a28bada', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/virt other paths will be fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 5, 'created': '2017-05-25 09:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/773f42ce1f0c76604f1a4ecae5965ff0dd321c83', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup other paths will\nbe fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 6, 'created': '2017-05-29 06:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77f1f4cd1a50fdd1e601afd2ff9fb76fdb8626e1', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup other paths will\nbe fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 7, 'created': '2017-06-13 01:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e840edf98e9ee0aa114bf203baaf4d7c8e5b212', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup other paths will\nbe fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 8, 'created': '2017-07-07 03:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/436026396b379e4ed50bad6edb7c316e38473da5', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup other paths will\nbe fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 9, 'created': '2017-07-25 04:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4044e063599c158951c28b27ce92ca0394d5075f', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup other paths will\nbe fixed on next commits\n\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}, {'number': 10, 'created': '2017-11-21 08:53:07.000000000', 'files': ['nova/scheduler/filters/io_ops_filter.py', 'nova/scheduler/manager.py', 'nova/scheduler/filters/utils.py', 'nova/scheduler/filters/disk_filter.py', 'nova/scheduler/utils.py', 'nova/servicegroup/drivers/db.py', 'nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/scheduler/filters/retry_filter.py', 'nova/scheduler/client/report.py', 'nova/scheduler/filters/compute_filter.py', 'nova/scheduler/filters/trusted_filter.py', 'nova/scheduler/filters/ram_filter.py', 'nova/servicegroup/drivers/mc.py', 'nova/scheduler/weights/affinity.py', 'nova/scheduler/filters/exact_core_filter.py', 'nova/scheduler/filters/core_filter.py', 'nova/scheduler/filters/num_instances_filter.py', 'nova/servicegroup/api.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f173d9ad1b66e7333c413d929b1d090372414d9', 'message': 'Remove translation of log messages\n\nThe i18n team has decided not to translate the logs because it\nseems like it not very useful; operators prefer to have them in\nEnglish so that they can search for those strings on the internet.\n\nPartially fix on nova/scheduler, nova/servicegroup other paths will\nbe fixed on next commits\n\nCo-Authored-By: Van Hung Pham <hungpv@vn.fujitsu.com>\nChange-Id: I19c053530f359afb074c5d03391a5ce27c83af23\n'}]",0,466995,1f173d9ad1b66e7333c413d929b1d090372414d9,125,24,10,25720,,,0,"Remove translation of log messages

The i18n team has decided not to translate the logs because it
seems like it not very useful; operators prefer to have them in
English so that they can search for those strings on the internet.

Partially fix on nova/scheduler, nova/servicegroup other paths will
be fixed on next commits

Co-Authored-By: Van Hung Pham <hungpv@vn.fujitsu.com>
Change-Id: I19c053530f359afb074c5d03391a5ce27c83af23
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/466995/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/virt/disk/mount/loop.py', 'nova/scheduler/utils.py', 'nova/virt/xenapi/vm_utils.py', 'nova/scheduler/filters/retry_filter.py', 'nova/virt/osinfo.py', 'nova/virt/disk/mount/nbd.py', 'nova/scheduler/filters/ram_filter.py', 'nova/servicegroup/drivers/mc.py', 'nova/virt/libvirt/guest.py', 'nova/scheduler/filters/exact_core_filter.py', 'nova/virt/hyperv/eventhandler.py', 'nova/virt/libvirt/storage/dmcrypt.py', 'nova/virt/xenapi/host.py', 'nova/virt/xenapi/pool.py', 'nova/virt/xenapi/image/bittorrent.py', 'nova/virt/vmwareapi/ds_util.py', 'nova/scheduler/filters/utils.py', 'nova/virt/libvirt/vif.py', 'nova/scheduler/filters/disk_filter.py', 'nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/virt/hyperv/imagecache.py', 'nova/virt/libvirt/compat.py', 'nova/scheduler/filters/compute_filter.py', 'nova/virt/hyperv/snapshotops.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/vmwareapi/vmops.py', 'nova/virt/hyperv/vmops.py', 'nova/virt/xenapi/agent.py', 'nova/virt/xenapi/driver.py', 'nova/virt/libvirt/volume/net.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/libvirt/volume/volume.py', 'nova/virt/hyperv/migrationops.py', 'nova/scheduler/filters/num_instances_filter.py', 'nova/virt/libvirt/volume/remotefs.py', 'nova/servicegroup/api.py', 'nova/scheduler/host_manager.py', 'nova/virt/libvirt/host.py', 'nova/virt/xenapi/vif.py', 'nova/virt/libvirt/volume/mount.py', 'nova/virt/disk/mount/api.py', 'nova/scheduler/client/report.py', 'nova/scheduler/filters/trusted_filter.py', 'nova/virt/hyperv/serialconsoleops.py', 'nova/virt/libvirt/utils.py', 'nova/virt/vmwareapi/host.py', 'nova/scheduler/weights/affinity.py', 'nova/virt/hyperv/serialconsolehandler.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/volumeops.py', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/xenapi/vmops.py', 'nova/scheduler/filters/core_filter.py', 'nova/virt/xenapi/volume_utils.py', 'nova/virt/vmwareapi/images.py', 'nova/scheduler/filters/io_ops_filter.py', 'nova/virt/fake.py', 'nova/servicegroup/drivers/db.py', 'nova/virt/vmwareapi/vif.py', 'nova/virt/driver.py', 'nova/virt/disk/vfs/api.py', 'nova/virt/hyperv/volumeops.py', 'nova/virt/disk/api.py', 'nova/virt/hyperv/driver.py', 'nova/virt/libvirt/volume/iscsi.py', 'nova/virt/hardware.py', 'nova/virt/libvirt/storage/lvm.py', 'nova/virt/libvirt/volume/glusterfs.py', 'nova/virt/firewall.py', 'nova/virt/libvirt/storage/rbd_utils.py']",72,3070fc0bb82c63f273289b3b2117715176b2064d,remove_log_translations," LOG.exception(""error opening rbd image %s"", name) LOG.warning('image %(volume)s in pool %(pool)s can not be ' 'found, failed to remove', LOG.error('image %(volume)s in pool %(pool)s has ' 'snapshots, failed to remove', {'volume': name, 'pool': self.pool}) LOG.warning('rbd remove %(volume)s in pool %(pool)s failed', {'volume': volume, 'pool': self.pool}) LOG.warning('snapshot(%(name)s) on rbd ' 'image(%(img)s) is protected, skipping', LOG.warning('no snapshot(%(name)s) found on rbd ' 'image(%(img)s)',","from nova.i18n import _LE from nova.i18n import _LW LOG.exception(_LE(""error opening rbd image %s""), name) LOG.warning(_LW('image %(volume)s in pool %(pool)s can not be ' 'found, failed to remove'), LOG.error(_LE('image %(volume)s in pool %(pool)s has ' 'snapshots, failed to remove'), {'volume': name, 'pool': self.pool}) LOG.warning(_LW('rbd remove %(volume)s in pool %(pool)s ' 'failed'), {'volume': volume, 'pool': self.pool}) LOG.warning(_LW('snapshot(%(name)s) on rbd ' 'image(%(img)s) is protected, ' 'skipping'), LOG.warning(_LW('no snapshot(%(name)s) found on rbd ' 'image(%(img)s)'),",927,1066
openstack%2Fmonasca-notification~master~Ie58e7483fd008273df76927ad0864548c75a98bf,openstack/monasca-notification,master,Ie58e7483fd008273df76927ad0864548c75a98bf,Update master for stable/train,MERGED,2019-09-27 09:38:23.000000000,2019-10-07 13:53:29.000000000,2019-10-07 13:52:09.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 09:38:23.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/e4bcb1f030dea473b92b64b779870d9ba05425fe', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ie58e7483fd008273df76927ad0864548c75a98bf\nSem-Ver: feature\n'}]",0,685292,e4bcb1f030dea473b92b64b779870d9ba05425fe,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ie58e7483fd008273df76927ad0864548c75a98bf
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/92/685292/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,e4bcb1f030dea473b92b64b779870d9ba05425fe,reno-train, train,,7,0
openstack%2Fnova~master~Ic56b161f59654ecde0aa2e608cc01cb1b83d01cc,openstack/nova,master,Ic56b161f59654ecde0aa2e608cc01cb1b83d01cc,Check for volume size,ABANDONED,2017-11-14 15:16:01.000000000,2019-10-07 13:53:17.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 19912}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-14 15:16:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_block_device_mapping.py', 'releasenotes/notes/bug-1465947-f145c243ae41fb05.yaml', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f167d5b3b3ea8c0d9342befe40d64389bfaa0ce', 'message': 'Check for volume size\n\nAdd check to ensure volume size specified by user\nis greater than the image size in the boot from volume. If this is not\nchecked upfront, the VM calls cinder to attach a volume with given OS\ninstalled which is not available because of the size constraint. So this\nVM goes into the error state. This check informs the user about the\nissue upfront and prevents the VM from going into error state.\nCloses-Bug: 1465947\n\nChange-Id: Ic56b161f59654ecde0aa2e608cc01cb1b83d01cc\n'}]",0,519666,2f167d5b3b3ea8c0d9342befe40d64389bfaa0ce,12,10,1,19912,,,0,"Check for volume size

Add check to ensure volume size specified by user
is greater than the image size in the boot from volume. If this is not
checked upfront, the VM calls cinder to attach a volume with given OS
installed which is not available because of the size constraint. So this
VM goes into the error state. This check informs the user about the
issue upfront and prevents the VM from going into error state.
Closes-Bug: 1465947

Change-Id: Ic56b161f59654ecde0aa2e608cc01cb1b83d01cc
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/519666/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_block_device_mapping.py', 'releasenotes/notes/bug-1465947-f145c243ae41fb05.yaml', 'nova/api/openstack/compute/servers.py']",5,2f167d5b3b3ea8c0d9342befe40d64389bfaa0ce,bug/1465947,"from oslo_utils import unitsimport nova.image self.image_api = nova.image.API() def _validate_volume_size_with_image_size(self, context, block_device_mapping): for bdm in block_device_mapping: try: image_uuid = bdm.get('image_id') if image_uuid is None: return image = self.image_api.get(context, image_uuid) size = image.get(""size"") vol_size = bdm.get('volume_size') try: vol_size = utils.validate_integer(vol_size, ""vol_size"") except exception.InvalidInput as e: raise exc.HTTPBadRequest(explanation=e.format_message()) if vol_size * units.Gi < int(size): msg = _(""Image size greater than volume size"") raise exc.HTTPBadRequest(explanation=msg) except (exception.NotFound, exception.InvalidImageRef): msg = _(""Image not found."") raise exc.HTTPNotFound(explanation=msg) if api_version_request.is_supported(req, min_version='2.54'): self._validate_volume_size_with_image_size(context, block_device_mapping)",,72,1
openstack%2Fnova~master~Id7a583f16ff8ec0739b537dc62860966cb5380aa,openstack/nova,master,Id7a583f16ff8ec0739b537dc62860966cb5380aa,POC: improved policy functional tests,ABANDONED,2017-02-17 15:18:42.000000000,2019-10-07 13:52:37.000000000,,"[{'_account_id': 782}, {'_account_id': 5046}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-02-17 15:18:42.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e1de82eb8a2e9d75e51867fb82694fb52436078d', 'message': 'POC: improved policy functional tests\n\nLets have a test that covers both the DB is_admin checks and the policy\nchecks, so we have coverage as we evolve both sides of the story.\n\nblueprint policy-remove-scope-checks\n\nChange-Id: Id7a583f16ff8ec0739b537dc62860966cb5380aa\n'}]",2,435484,e1de82eb8a2e9d75e51867fb82694fb52436078d,12,7,1,782,,,0,"POC: improved policy functional tests

Lets have a test that covers both the DB is_admin checks and the policy
checks, so we have coverage as we evolve both sides of the story.

blueprint policy-remove-scope-checks

Change-Id: Id7a583f16ff8ec0739b537dc62860966cb5380aa
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/435484/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_serversV21.py'],1,e1de82eb8a2e9d75e51867fb82694fb52436078d,bp/policy-remove-scope-checks," class PolicyTestBase(test.TestCase): url = ""/"" def setUp(self): super(PolicyTestBase, self).setUp() policy.reset() policy.init() self.project_id = 'fake_project' self.context = context.RequestContext('user', self.project_id) self.admin_project_id = 'admin_project' self.admin_context = context.RequestContext( 'admin', self.admin_project_id) self.admin_context = self.admin_context.elevated() self.user_req = fakes.HTTPRequest.blank(self.url, project_id=self.project_id, use_admin_context=False) self.admin_req = fakes.HTTPRequest.blank(self.url, project_id=self.admin_project_id, use_admin_context=True) self.other_project_req = fakes.HTTPRequest.blank(self.url, project_id=""other_project"", use_admin_context=False) def _check_admin_or_owner(self, expected_exception, func, *args, **kwargs): # user context and admin works func(self.user_req, *args, **kwargs) func(self.admin_req, *args, **kwargs) # other project raises self.assertRaises(expected_exception, func, self.other_project_req, *args, **kwargs) class ServersPolicyTest(PolicyTestBase): url = '/fake/servers/%s' % FAKE_UUID def setUp(self): super(ServersPolicyTest, self).setUp() ext_info = extension_info.LoadedExtensionInfo() self.controller = servers.ServersController(extension_info=ext_info) def _create_instance(self): flavor = objects.Flavor(context=self.context, name='fake_flavor', memory_mb=1024, vcpus=1, root_gb=100, ephemeral_gb=0, flavorid='abc', swap=0) flavor.create() instance = objects.Instance(context=self.context, project_id=self.project_id, uuid=FAKE_UUID, flavor=flavor) instance.create() return instance @mock.patch(""nova.compute.api.API.delete"") def test_delete(self, mock_delete): instance = self._create_instance() self._check_admin_or_owner( webob.exc.HTTPNotFound, self.controller.delete, instance.uuid) rules = {""os_compute_api:servers:delete"": ""user_id:asdf""} self.policy.set_rules(rules) self.assertRaises(exception.PolicyNotAuthorized, self.controller.delete, self.admin_req, instance.uuid) @mock.patch(""nova.api.openstack.common.get_networks_for_instance"") @mock.patch(""nova.compute.api.API.update_instance"") def test_update(self, mock_update, mock_gni): instance = self._create_instance() mock_update.return_value = instance request_body = {""server"": {""name"": ""foo""}} self._check_admin_or_owner( webob.exc.HTTPNotFound, self.controller.update, instance.uuid, body=request_body) rules = {""os_compute_api:servers:update"": ""user_id:asdf""} self.policy.set_rules(rules) self.assertRaises(exception.PolicyNotAuthorized, self.controller.update, self.admin_req, instance.uuid, body=request_body)",,90,0
openstack%2Fnova~master~I0bd494275d892b5b9b84caa6c919187f249ec207,openstack/nova,master,I0bd494275d892b5b9b84caa6c919187f249ec207,[WIP] PowerVM: implement instance_on_disk,ABANDONED,2018-09-20 20:06:26.000000000,2019-10-07 13:52:34.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-20 20:06:26.000000000', 'files': ['nova/tests/unit/virt/powervm/test_driver.py', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bdff6c60775c7bf5781b713e38e232c28fccc9b1', 'message': '[WIP] PowerVM: implement instance_on_disk\n\nThe default implementation of virt driver method instance_on_disk\nsimply returns False, causing evacuate to rebuild from scratch based\non the image. By implementing instance_on_disk, evacuation of\ninstances using shared storage can reuse the existing disks on the\nnew host.\n\nChange-Id: I0bd494275d892b5b9b84caa6c919187f249ec207\n'}]",0,604204,bdff6c60775c7bf5781b713e38e232c28fccc9b1,12,11,1,10608,,,0,"[WIP] PowerVM: implement instance_on_disk

The default implementation of virt driver method instance_on_disk
simply returns False, causing evacuate to rebuild from scratch based
on the image. By implementing instance_on_disk, evacuation of
instances using shared storage can reuse the existing disks on the
new host.

Change-Id: I0bd494275d892b5b9b84caa6c919187f249ec207
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/604204/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/powervm/test_driver.py', 'nova/virt/powervm/driver.py']",2,bdff6c60775c7bf5781b713e38e232c28fccc9b1,powervm_instance_on_disk," def instance_on_disk(self, instance): """"""Checks access of instance files on the host. :param instance: nova.objects.instance.Instance to lookup Returns True if files of an instance with the supplied ID accessible on the host, False otherwise. .. note:: Used in rebuild for HA implementation and required for validation of access to instance shared disk files """""" # TODO(edmondsw) should return True for boot-from-volume cases when # that is supported # If configured for shared storage, see if we can find the disks if self.disk_dvr.capabilities['shared_storage']: LOG.debug('Looking for disks on shared storage.', instance=instance) if self.disk_dvr.get_disk_ref(instance, disk_dvr.DiskType.BOOT): LOG.debug('Disks found on shared storage.', instance=instance) return True LOG.debug('Disks not found on this host.', instance=instance) return False",,44,0
openstack%2Fnova~master~Iad960a6f10925811d6fab01510fb21973bde117f,openstack/nova,master,Iad960a6f10925811d6fab01510fb21973bde117f,switch from filesystem to disk for parallels containers,ABANDONED,2017-09-22 15:13:08.000000000,2019-10-07 13:52:15.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 21284}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 26955}]","[{'number': 1, 'created': '2017-09-22 15:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fda431729e0766b2a0c39e82daf280819724ccf', 'message': 'switch from filesystem to disk for parallels containers\n\nFor avoid branching between parallels containers\nand qemu and libvirt driver, lets switch from\nfile system to disk for root device parallels\ncontainers.\n\nChange-Id: Iad960a6f10925811d6fab01510fb21973bde117f\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n'}, {'number': 2, 'created': '2017-09-26 12:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8075adeb5147fff98a83cd2e51778e26e62d3406', 'message': 'switch from filesystem to disk for parallels containers\n\nFor avoid branching between parallels containers\nand qemu and libvirt driver, lets switch from\nfile system to disk for root device parallels\ncontainers.\n\nChange-Id: Iad960a6f10925811d6fab01510fb21973bde117f\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n'}, {'number': 3, 'created': '2017-09-26 13:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f212fbb20c52b61eb4db0e08d89f02b7dd168a9c', 'message': 'switch from filesystem to disk for parallels containers\n\nFor avoid branching between parallels containers\nand qemu and libvirt driver, lets switch from\nfile system to disk for root device parallels\ncontainers.\n\nChange-Id: Iad960a6f10925811d6fab01510fb21973bde117f\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n'}, {'number': 4, 'created': '2017-09-28 12:48:39.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6659a89d352b34a97bd922fc9df1ac12334b52bb', 'message': 'switch from filesystem to disk for parallels containers\n\nFor avoid branching between parallels containers\nand qemu and libvirt driver, lets switch from\nfile system to disk for root device parallels\ncontainers.\n\nChange-Id: Iad960a6f10925811d6fab01510fb21973bde117f\nSigned-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>\n'}]",2,506687,6659a89d352b34a97bd922fc9df1ac12334b52bb,57,17,4,26955,,,0,"switch from filesystem to disk for parallels containers

For avoid branching between parallels containers
and qemu and libvirt driver, lets switch from
file system to disk for root device parallels
containers.

Change-Id: Iad960a6f10925811d6fab01510fb21973bde117f
Signed-off-by: Konstantin Neumoin <kneumoin@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/506687/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,9fda431729e0766b2a0c39e82daf280819724ccf,," else: config_name = 'disk.config.rescue' if rescue else 'disk.config' if (os_type == fields.VMMode.EXE and CONF.libvirt.virt_type == ""parallels""): if config_name in disk_mapping: dc_fs = self._get_guest_fs_config(instance, config_name) dc_fs.target_dir = ""/var/lib/cloud/seed/config_drive"" devices.append(dc_fs) else: if config_name in disk_mapping: diskconfig = self._get_guest_disk_config( instance, config_name, disk_mapping, inst_type, self._get_disk_config_image_type()) devices.append(diskconfig)"," elif (os_type == fields.VMMode.EXE and CONF.libvirt.virt_type == ""parallels""): if rescue: fsrescue = self._get_guest_fs_config(instance, ""disk.rescue"") devices.append(fsrescue) fsos = self._get_guest_fs_config(instance, ""disk"") fsos.target_dir = ""/mnt/rescue"" devices.append(fsos) else: if 'disk' in disk_mapping: fs = self._get_guest_fs_config(instance, ""disk"") devices.append(fs) devices = devices + _get_ephemeral_devices() else: config_name = 'disk.config.rescue' if rescue else 'disk.config' if config_name in disk_mapping: diskconfig = self._get_guest_disk_config( instance, config_name, disk_mapping, inst_type, self._get_disk_config_image_type()) devices.append(diskconfig)",14,21
openstack%2Fnova~master~I248d3659af999158d129ac20139ae36aa952994a,openstack/nova,master,I248d3659af999158d129ac20139ae36aa952994a,Wrong href link returned when providing non-existed version in GET version API,ABANDONED,2017-07-25 03:58:23.000000000,2019-10-07 13:51:49.000000000,,"[{'_account_id': 3}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17920}, {'_account_id': 20040}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-25 03:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bc39a20d5a33b03f5502b102716b3839d37185d', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When depoly with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned herf field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 2, 'created': '2017-07-25 06:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/586d974f5a5dd0f45c7920daddfdef23b8596943', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When depoly with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned herf field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 3, 'created': '2017-07-25 08:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73dd6f9b359aec283ae571d67aa189926e40db84', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When depoly with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned herf field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 4, 'created': '2017-07-25 13:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21d755075ea5c0dce9a4aed0c395a46a525779d1', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When depoly with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned herf field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 5, 'created': '2017-07-26 01:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f745ce10c1e90fca769d14bf12679bcedf8db83', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When deploy with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned href field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 6, 'created': '2017-07-26 07:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13d6370798d894b78096665b4aeaf0934d05cf34', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When deploy with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned href field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 7, 'created': '2018-07-18 01:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe4053a9cc0603f86e709428fbd928ddc10f6e3d', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When deploy with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned href field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 8, 'created': '2018-07-18 03:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18b10e03a1c52b87efe68c75e5f04b5cfe761d68', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When deploy with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned href field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 9, 'created': '2018-07-18 06:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c0d46152237ac207287fd64d5a627c314c57a65', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When deploy with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned href field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}, {'number': 10, 'created': '2018-07-18 06:36:14.000000000', 'files': ['nova/api/openstack/compute/views/versions.py', 'nova/tests/unit/api/openstack/compute/test_versions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2cfd34677f536c0183acc34eb35196f5b446197b', 'message': ""Wrong href link returned when providing non-existed version in GET version API\n\nWhen calling GET version API with a version that not exist,\nNova returned a list of correct choices, but the href link\nis incorrect. This is due to that Nova treated words in url\nafter localhost:port/ to be the 'path' and it was joined\nwith the base_url. When deploy with uwsgi or wrong version\ninfo was provided, those words will be duplicated in the\nreturned href field.\n\nThis patch strip the 'compute' and version info from the\npath when build href.\n\nChange-Id: I248d3659af999158d129ac20139ae36aa952994a\nCloses-Bug: #1705663\n""}]",15,486850,2cfd34677f536c0183acc34eb35196f5b446197b,121,26,10,15888,,,0,"Wrong href link returned when providing non-existed version in GET version API

When calling GET version API with a version that not exist,
Nova returned a list of correct choices, but the href link
is incorrect. This is due to that Nova treated words in url
after localhost:port/ to be the 'path' and it was joined
with the base_url. When deploy with uwsgi or wrong version
info was provided, those words will be duplicated in the
returned href field.

This patch strip the 'compute' and version info from the
path when build href.

Change-Id: I248d3659af999158d129ac20139ae36aa952994a
Closes-Bug: #1705663
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/486850/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/versions.py', 'nova/tests/unit/api/openstack/compute/test_versions.py']",2,6bc39a20d5a33b03f5502b102716b3839d37185d,bug/1705663," def test_multi_choice_with_prefix(self): """""" Test added for bug 1705663. This test tests that when providing incorrect url, available choices are returned. """""" # When deploy using uwsgi, the base_url contains both # 'compute' and version info. req = fakes.HTTPRequest.blank( '/images/1', base_url='http://localhost/compute/v2.0') req.accept = ""application/json"" res = req.get_response(self.wsgi_app) self.assertEqual(300, res.status_int) self.assertEqual(""application/json"", res.content_type) expected = { ""choices"": [ { ""id"": ""v2.0"", ""status"": ""SUPPORTED"", ""links"": [ { ""href"": ""http://localhost/compute/v2/images/1"", ""rel"": ""self"", }, ], ""media-types"": [ { ""base"": ""application/json"", ""type"": ""application/vnd.openstack.compute+json"" "";version=2"" }, ], }, { ""id"": ""v2.1"", ""status"": ""CURRENT"", ""links"": [ { ""href"": ""http://localhost/compute/v2.1/images/1"", ""rel"": ""self"", }, ], ""media-types"": [ { ""base"": ""application/json"", ""type"": ""application/vnd.openstack.compute+json;version=2.1"", } ], }, ], } self.assertThat(jsonutils.loads(res.body), matchers.DictMatches(expected)) ",,73,1
openstack%2Fnova~master~I6f69ca2ae9be4cc97c103e4e9bdac4e2361a7eb7,openstack/nova,master,I6f69ca2ae9be4cc97c103e4e9bdac4e2361a7eb7,WIP: add check for deleted flag,ABANDONED,2018-09-04 04:16:54.000000000,2019-10-07 13:48:08.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-09-04 04:16:54.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a941175d50686888ab60481c732a227ba4408539', 'message': 'WIP: add check for deleted flag\n\nChange-Id: I6f69ca2ae9be4cc97c103e4e9bdac4e2361a7eb7\nCloses-Bug: 1790114\n'}]",1,599492,a941175d50686888ab60481c732a227ba4408539,12,10,1,6062,,,0,"WIP: add check for deleted flag

Change-Id: I6f69ca2ae9be4cc97c103e4e9bdac4e2361a7eb7
Closes-Bug: 1790114
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/599492/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,a941175d50686888ab60481c732a227ba4408539,bug/1790114," def _check_search_opts_has_deleted(search_opts): vm_state = search_opts.get(""vm_state"") if isinstance(vm_state, six.string_types): return vm_state == 'deleted' if isinstance(vm_state, set): return 'deleted' in vm_state return False if _check_search_opts_has_deleted(search_opts):"," if search_opts.get(""vm_state"") == ['deleted']:",12,1
openstack%2Fnova~master~Id42dde17fd1cbd6e743c20919a6ea12b78a310e6,openstack/nova,master,Id42dde17fd1cbd6e743c20919a6ea12b78a310e6,[WIP]Forbidden non-admin user to list deleted instances,ABANDONED,2018-08-30 06:21:12.000000000,2019-10-07 13:48:05.000000000,,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26286}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-30 06:21:12.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4649279bfdbc414d88910eb21822957abbc287f2', 'message': '[WIP]Forbidden non-admin user to list deleted instances\n\nIt should raise exception like ""nova list --status=deleted"".\nA functional regression test also needed.\n\nChange-Id: Id42dde17fd1cbd6e743c20919a6ea12b78a310e6\nCloses-bug: #1552071\n'}]",3,598012,4649279bfdbc414d88910eb21822957abbc287f2,19,16,1,26286,,,0,"[WIP]Forbidden non-admin user to list deleted instances

It should raise exception like ""nova list --status=deleted"".
A functional regression test also needed.

Change-Id: Id42dde17fd1cbd6e743c20919a6ea12b78a310e6
Closes-bug: #1552071
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/598012/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,4649279bfdbc414d88910eb21822957abbc287f2,bug/1552071," if 'deleted' in search_opts and not context.is_admin: msg = _(""Only administrators may list deleted instances"") raise exc.HTTPForbidden(explanation=msg) ",,4,0
openstack%2Fnova~master~I592d7d6f415fbc004be19813201b06ce1e359364,openstack/nova,master,I592d7d6f415fbc004be19813201b06ce1e359364,WIP: Added a periodic task for network management.,ABANDONED,2018-09-03 10:00:15.000000000,2019-10-07 13:48:01.000000000,,"[{'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27738}, {'_account_id': 29032}]","[{'number': 1, 'created': '2018-09-03 10:00:15.000000000', 'files': ['nova/conf/compute.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6fad685329cda1e7c85c9790168073bbc4968c9c', 'message': ""WIP: Added a periodic task for network management.\n\nConfigured a new configuration variable 'network_management_interval'\nand registered a periodic task to do the cleanups required for stale\nhost-to-network connectivity. The task runs with a default frequency\nset to 2400 seconds.\n\nChange-Id: I592d7d6f415fbc004be19813201b06ce1e359364\n""}]",1,599338,6fad685329cda1e7c85c9790168073bbc4968c9c,18,16,1,29032,,,0,"WIP: Added a periodic task for network management.

Configured a new configuration variable 'network_management_interval'
and registered a periodic task to do the cleanups required for stale
host-to-network connectivity. The task runs with a default frequency
set to 2400 seconds.

Change-Id: I592d7d6f415fbc004be19813201b06ce1e359364
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/599338/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py']",4,6fad685329cda1e7c85c9790168073bbc4968c9c,sb/network-manage-periodic," @periodic_task.periodic_task(spacing=CONF.network_management_interval, external_process_ok=True) def _run_network_management(self, context): """"""Manage or cleanup host-network connectivity"""""" LOG.debug('Cleaning up host-network.') self.driver.manage_networks(context) ",,29,0
openstack%2Fnova~master~If80ebfb1f83d2f5a9ac87d951319f4a6edd20a48,openstack/nova,master,If80ebfb1f83d2f5a9ac87d951319f4a6edd20a48,vmware does't support VirtualSriovEthernetCard,ABANDONED,2018-07-03 09:26:06.000000000,2019-10-07 13:47:38.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 12356}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26355}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-03 09:26:06.000000000', 'files': ['nova/network/model.py', 'nova/objects/fields.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b13e09ab751046c2ef204847bc56dae9b94dae7', 'message': ""vmware does't support VirtualSriovEthernetCard\n\nCompute-driver: vmwareapi.VMwareVCDriver does not support\nVirtualSriovEthernetCard\n\nChange-Id: If80ebfb1f83d2f5a9ac87d951319f4a6edd20a48\nPartial-Bug: #1779781\n""}]",0,579828,8b13e09ab751046c2ef204847bc56dae9b94dae7,20,18,1,26355,,,0,"vmware does't support VirtualSriovEthernetCard

Compute-driver: vmwareapi.VMwareVCDriver does not support
VirtualSriovEthernetCard

Change-Id: If80ebfb1f83d2f5a9ac87d951319f4a6edd20a48
Partial-Bug: #1779781
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/579828/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/model.py', 'nova/objects/fields.py', 'nova/virt/vmwareapi/vm_util.py']",3,8b13e09ab751046c2ef204847bc56dae9b94dae7,bug/1779781,"# NOTE(yuqian): The current architecture does not support # the 'VirtualSriovEthernetCard' network card. 'VirtualPCNet32', 'VirtualVmxnet', 'VirtualVmxnet3']"," 'VirtualPCNet32', 'VirtualSriovEthernetCard', 'VirtualVmxnet', 'VirtualVmxnet3'] if name == network_model.VIF_MODEL_SRIOV: return 'VirtualSriovEthernetCard'",4,8
openstack%2Fnova~master~I0a0da0be3b94b883bdcd2af530646f7ef89b9852,openstack/nova,master,I0a0da0be3b94b883bdcd2af530646f7ef89b9852,Increase sleep time in ServerGroupTestV21 to avoid potential failure,ABANDONED,2018-07-26 07:30:59.000000000,2019-10-07 13:46:42.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-26 07:30:59.000000000', 'files': ['nova/tests/functional/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7fcc0868bf4f3ce60d4bc82adb507e4b409451dd', 'message': 'Increase sleep time in ServerGroupTestV21 to avoid potential failure\n\nServerGroupTestV21.test_evacuate_with_anti_affinity_no_valid_host\nintermittently fails with ""Instance compute service state on host2\nexpected to be down, but it was up.""\n\nAfter some investigation, one posibility is that as we set the\nsleep time to be equal to the service_down_time, this might leed\nto potential failure.\n\nThis patch increases the sleep time to be a little bit larger than\nthe service_down_time, so that we can avoid this potential failure.\n\nChange-Id: I0a0da0be3b94b883bdcd2af530646f7ef89b9852\nCloses-bug: #1783565\n'}]",2,585978,7fcc0868bf4f3ce60d4bc82adb507e4b409451dd,17,10,1,15888,,,0,"Increase sleep time in ServerGroupTestV21 to avoid potential failure

ServerGroupTestV21.test_evacuate_with_anti_affinity_no_valid_host
intermittently fails with ""Instance compute service state on host2
expected to be down, but it was up.""

After some investigation, one posibility is that as we set the
sleep time to be equal to the service_down_time, this might leed
to potential failure.

This patch increases the sleep time to be a little bit larger than
the service_down_time, so that we can avoid this potential failure.

Change-Id: I0a0da0be3b94b883bdcd2af530646f7ef89b9852
Closes-bug: #1783565
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/585978/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_server_group.py'],1,7fcc0868bf4f3ce60d4bc82adb507e4b409451dd,bug/1783565, # Add a backoff time to avoid potential conflict _backoff_time = 1 _sleep_time = _service_down_time + _backoff_time # Need to wait sleep amount of seconds to ensure time.sleep(self._sleep_time) # Need to wait sleep_time amount of seconds to ensure time.sleep(self._sleep_time) # Need to wait sleep amount of seconds to ensure time.sleep(self._sleep_time) # Need to wait sleep_time amount of seconds to ensure time.sleep(self._sleep_time) # Need to wait sleep_time amount of seconds to ensure time.sleep(self._sleep_time) # Need to wait sleep_time amount of seconds to ensure time.sleep(self._sleep_time), # Need to wait service_down_time amount of seconds to ensure time.sleep(self._service_down_time) # Need to wait service_down_time amount of seconds to ensure time.sleep(self._service_down_time) # Need to wait service_down_time amount of seconds to ensure time.sleep(self._service_down_time) # Need to wait service_down_time amount of seconds to ensure time.sleep(self._service_down_time) # Need to wait service_down_time amount of seconds to ensure time.sleep(self._service_down_time) # Need to wait service_down_time amount of seconds to ensure time.sleep(self._service_down_time),17,12
openstack%2Fpuppet-nova~master~I109b448a3826d4421043927072108ca91adec78a,openstack/puppet-nova,master,I109b448a3826d4421043927072108ca91adec78a,Fix apache_metadata api_port parameter description,MERGED,2019-09-25 10:28:25.000000000,2019-10-07 13:46:29.000000000,2019-10-07 13:46:29.000000000,"[{'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-09-25 10:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3c8a00853e1cfb4c22002c397faa3e34c164d9f7', 'message': 'Fix apache_metadata api_port parameter description\n\napacke_metadata api_port parameter description mentions port 8774\nwhile it is 8775.\n\nChange-Id: I109b448a3826d4421043927072108ca91adec78a\n'}, {'number': 2, 'created': '2019-10-01 06:33:58.000000000', 'files': ['manifests/wsgi/apache_metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e0134e27ff5201684811aa07a26c823ec7872ebe', 'message': 'Fix apache_metadata api_port parameter description\n\napacke_metadata api_port parameter description mentions port 8774\nwhile it is 8775.\n\nChange-Id: I109b448a3826d4421043927072108ca91adec78a\n'}]",0,684693,e0134e27ff5201684811aa07a26c823ec7872ebe,19,6,2,17216,,,0,"Fix apache_metadata api_port parameter description

apacke_metadata api_port parameter description mentions port 8774
while it is 8775.

Change-Id: I109b448a3826d4421043927072108ca91adec78a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/93/684693/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache_metadata.pp'],1,3c8a00853e1cfb4c22002c397faa3e34c164d9f7,fix_apache_metadata_port_desc,# Optional. Defaults to 8775,# Optional. Defaults to 8774,1,1
openstack%2Fnova~master~I418c29989127c3a68de85890bf49701977b1097f,openstack/nova,master,I418c29989127c3a68de85890bf49701977b1097f,No change in  field 'updated' in server,ABANDONED,2018-07-27 06:08:31.000000000,2019-10-07 13:45:56.000000000,,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 27615}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-07-27 06:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3897977a28a96301148152e635b550cf94806017', 'message': ""No change in  field 'updated' in server\n\nUpdated_at field on server not changed when\nassociated with security groups changes.\nThus while adding/Removing a security group\nupdate_instance of server is called to update\nthe field 'updated'.\n\nChange-Id: I418c29989127c3a68de85890bf49701977b1097f\nCloses-Bug: #1700684\n""}, {'number': 2, 'created': '2018-07-27 06:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/774ffe5ccffaa6cb96d68057218fb2be2359da47', 'message': ""No change in  field 'updated' in server\n\nUpdated_at field on server not changed when\nassociated with security groups changes.\nThus while adding/Removing a security group\nupdate_instance of server is called to update\nthe field 'updated'.\n\nChange-Id: I418c29989127c3a68de85890bf49701977b1097f\nCloses-Bug: #1700684\n""}, {'number': 3, 'created': '2018-07-27 07:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d337d475827aa59c251f0d96fb49d02e5aa89a6', 'message': ""No change in  field 'updated' in server\n\nUpdated_at field on server not changed when\nassociated with security groups changes.\nThus while adding/Removing a security group\nupdate_instance of server is called to update\nthe field 'updated'.\n\nChange-Id: I418c29989127c3a68de85890bf49701977b1097f\nCloses-Bug: #1700684\n""}, {'number': 4, 'created': '2018-07-27 08:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9c26546801148932bc3b6355647ee80b0cadaa6', 'message': ""No change in  field 'updated' in server\n\nUpdated_at field on server not changed when\nassociated with security groups changes.\nThus while adding/Removing a security group\nupdate_instance of server is called to update\nthe field 'updated'.\n\nChange-Id: I418c29989127c3a68de85890bf49701977b1097f\nCloses-Bug: #1700684\n""}, {'number': 5, 'created': '2018-08-03 03:03:41.000000000', 'files': ['nova/network/security_group/neutron_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7b7fa785c4a6ec901a992c4eb480fd53317d7fd', 'message': ""No change in  field 'updated' in server\n\nUpdated_at field on server not changed when\nassociated with security groups changes.\nThus while adding/Removing a security group\nupdate_instance of server is called to update\nthe field 'updated'.\n\nChange-Id: I418c29989127c3a68de85890bf49701977b1097f\nCloses-Bug: #1700684\n""}]",5,586446,d7b7fa785c4a6ec901a992c4eb480fd53317d7fd,67,18,5,27621,,,0,"No change in  field 'updated' in server

Updated_at field on server not changed when
associated with security groups changes.
Thus while adding/Removing a security group
update_instance of server is called to update
the field 'updated'.

Change-Id: I418c29989127c3a68de85890bf49701977b1097f
Closes-Bug: #1700684
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/586446/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/security_group/neutron_driver.py', 'nova/compute/api.py']",2,3897977a28a96301148152e635b550cf94806017,bug/1700684, if updates['updated_at']: instance.updated_at = updates['updated_at'] instance.save(),,13,0
openstack%2Fneutron~master~I46ac7e7bfc36a25d54c94e490b5b9217527b6e34,openstack/neutron,master,I46ac7e7bfc36a25d54c94e490b5b9217527b6e34,doc: Clean up authentication URI config options,ABANDONED,2019-09-27 09:22:37.000000000,2019-10-07 13:41:49.000000000,,"[{'_account_id': 8482}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-27 09:22:37.000000000', 'files': ['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-option2-obs.rst', 'doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c3634af7ae319384e67205ad0889b0987dc4f5c', 'message': 'doc: Clean up authentication URI config options\n\nIn our installation docs there was a historical mess of config options:\nauth_url, auth_uri, www_authentication_uri.\n\nTo my best understanding auth_url and auth_uri were deprecated and today\nonly www_authentication_uri should be used.\n\nFor auth_uri see this:\nhttps://github.com/openstack/keystonemiddleware/blob/80f1d6634ef4b259157c2fd2c95a33cab4153044/keystonemiddleware/auth_token/_opts.py#L51\n\nBut at the moment I cannot find the deprecation/removal notice for\nauth_url. Please help me out if you know where that is.\n\nSome places we had even two of them from the time when keystone had used\nports 5000 and 35357 too.\n\nChange-Id: I46ac7e7bfc36a25d54c94e490b5b9217527b6e34\nCloses-Bug: #1845575\n'}]",0,685267,9c3634af7ae319384e67205ad0889b0987dc4f5c,8,6,1,15554,,,0,"doc: Clean up authentication URI config options

In our installation docs there was a historical mess of config options:
auth_url, auth_uri, www_authentication_uri.

To my best understanding auth_url and auth_uri were deprecated and today
only www_authentication_uri should be used.

For auth_uri see this:
https://github.com/openstack/keystonemiddleware/blob/80f1d6634ef4b259157c2fd2c95a33cab4153044/keystonemiddleware/auth_token/_opts.py#L51

But at the moment I cannot find the deprecation/removal notice for
auth_url. Please help me out if you know where that is.

Some places we had even two of them from the time when keystone had used
ports 5000 and 35357 too.

Change-Id: I46ac7e7bfc36a25d54c94e490b5b9217527b6e34
Closes-Bug: #1845575
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/685267/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-option2-obs.rst', 'doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst']",12,9c3634af7ae319384e67205ad0889b0987dc4f5c,bug/1845575, www_authenticate_uri = http://controller:5000, auth_url = http://controller:5000 auth_url = http://controller:5000,12,21
openstack%2Frpm-packaging~master~I5cdcda8ff9ce35b99ea1f6b1d7512e0fd79959e6,openstack/rpm-packaging,master,I5cdcda8ff9ce35b99ea1f6b1d7512e0fd79959e6,python-dracclient: Update to 3.1.1 and switch to python3,MERGED,2019-10-07 12:30:38.000000000,2019-10-07 13:36:20.000000000,2019-10-07 13:36:20.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 12:30:38.000000000', 'files': ['openstack/python-dracclient/0001-Switch-from-oslosphinx-to-openstackdocstheme.patch', 'openstack/python-dracclient/python-dracclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/15ae7dda2fa3918bb95e0347fc0dccb577c5f266', 'message': 'python-dracclient: Update to 3.1.1 and switch to python3\n\nChange-Id: I5cdcda8ff9ce35b99ea1f6b1d7512e0fd79959e6\n'}]",0,687014,15ae7dda2fa3918bb95e0347fc0dccb577c5f266,9,5,1,7102,,,0,"python-dracclient: Update to 3.1.1 and switch to python3

Change-Id: I5cdcda8ff9ce35b99ea1f6b1d7512e0fd79959e6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/14/687014/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-dracclient/0001-Switch-from-oslosphinx-to-openstackdocstheme.patch', 'openstack/python-dracclient/python-dracclient.spec.j2']",2,15ae7dda2fa3918bb95e0347fc0dccb577c5f266,,{% set pypi_name = 'python-dracclient' %} {% set upstream_version = upstream_version('3.1.1') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}Source0: {{ source }} # https://review.opendev.org/687012 Patch0: 0001-Switch-from-oslosphinx-to-openstackdocstheme.patchBuildRequires: {{ py3('lxml') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('setuptools') }} Requires: {{ py3('lxml') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%autosetup -p1 -n {{ pypi_name }}-{{ upstream_version }}%{py3_build} PBR_VERSION=%{version} %sphinx_build -b html doc/source doc/build/html%{py3_install}export PYTHONPATH=.:%{buildroot}%{python3_sitelib} %{__python3} -m unittest discover dracclient.tests%{python3_sitelib}/dracclient %{python3_sitelib}/*.egg-info,"%global sname python-dracclient Name: {{ py2name('python-dracclient') }} Version: 3.0.0 Release: 0Source0: https://files.pythonhosted.org/packages/source/p/%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('coverage') }} BuildRequires: {{ py2pkg('lxml') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('requests') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('lxml') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} BuildRequires: {{ py2pkg('reno') }}%autosetup -n %{sname}-%{version}%{py2_build} %{__python2} setup.py build_sphinx # remove the sphinx-build leftovers%{py2_install}coverage run --branch --source dracclient --omit ""dracclient/tests*"" -m unittest discover dracclient.tests%{python2_sitelib}/dracclient %{python2_sitelib}/*.egg-info",105,26
openstack%2Frpm-packaging~master~Ib8443e82f24859508ef6a46f738f144916980605,openstack/rpm-packaging,master,Ib8443e82f24859508ef6a46f738f144916980605,Fix python_sitelib,MERGED,2019-10-07 12:32:00.000000000,2019-10-07 13:35:11.000000000,2019-10-07 13:35:11.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 12:32:00.000000000', 'files': ['openstack/python-keystoneclient/python-keystoneclient.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/952902f145342779a333ff8542a70577258ee04e', 'message': ""Fix python_sitelib\n\nFor singlespec packages, it's python_sitelib, not python2_sitelib\n\nChange-Id: Ib8443e82f24859508ef6a46f738f144916980605\n""}]",0,687015,952902f145342779a333ff8542a70577258ee04e,8,4,1,7102,,,0,"Fix python_sitelib

For singlespec packages, it's python_sitelib, not python2_sitelib

Change-Id: Ib8443e82f24859508ef6a46f738f144916980605
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/687015/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-keystoneclient/python-keystoneclient.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2']",3,952902f145342779a333ff8542a70577258ee04e,,%{python_sitelib}/oslo_vmware %{python_sitelib}/*.egg-info,%{python2_sitelib}/oslo_vmware %{python2_sitelib}/*.egg-info,6,6
openstack%2Frpm-packaging~master~I4dd5a2d7281a16f5dd693154ff3a7726563c02bf,openstack/rpm-packaging,master,I4dd5a2d7281a16f5dd693154ff3a7726563c02bf,python-oneviewclient: Switch to python3,MERGED,2019-10-07 12:57:27.000000000,2019-10-07 13:32:13.000000000,2019-10-07 13:32:13.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 12:57:27.000000000', 'files': ['openstack/python-oneviewclient/0001-Switch-from-oslosphinx-to-openstackdocstheme.patch', 'openstack/python-oneviewclient/python-oneviewclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/44a8eeebe5eabe3c2f43d4b1dea0908f1eb44d90', 'message': 'python-oneviewclient: Switch to python3\n\nChange-Id: I4dd5a2d7281a16f5dd693154ff3a7726563c02bf\n'}]",0,687020,44a8eeebe5eabe3c2f43d4b1dea0908f1eb44d90,11,6,1,7102,,,0,"python-oneviewclient: Switch to python3

Change-Id: I4dd5a2d7281a16f5dd693154ff3a7726563c02bf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/20/687020/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-oneviewclient/0001-Switch-from-oslosphinx-to-openstackdocstheme.patch', 'openstack/python-oneviewclient/python-oneviewclient.spec.j2']",2,44a8eeebe5eabe3c2f43d4b1dea0908f1eb44d90,,"{% set pypi_name = 'python-oneviewclient' %} {% set upstream_version = upstream_version('2.6.6') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}Source0: {{ source }} # https://review.opendev.org/687019 Patch0: 0001-Switch-from-oslosphinx-to-openstackdocstheme.patchBuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('retrying') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('testrepository') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} Requires: {{ py3('Babel') }} Requires: {{ py3('pbr') }} Requires: {{ py3('retrying') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%autosetup -p1 -n {{ pypi_name }}-{{ upstream_version }}%py3_buildPBR_VERSION=%{version} %sphinx_build -b html doc/source doc/build/html rm -rf doc/build/html/.{doctrees,buildinfo}%py3_installPYTHON=%{__python3} %{__python3} setup.py test%{python3_sitelib}/oneview_client %{python3_sitelib}/*.egg-info","Name: {{ py2name('python-oneviewclient') }} Version: 2.6.6 Release: 0Source0: https://files.pythonhosted.org/packages/source/p/%{name}/%{name}-%{version}.tar.gzBuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.serialization') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('retrying') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('testrepository') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('retrying') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }}%autosetup -n %{name}-%{version}%py2_build%{__python2} setup.py build_sphinx rm -rf html/.{doctrees,buildinfo}%py2_install%{__python2} setup.py testr%{python2_sitelib}/oneview_client %{python2_sitelib}/*.egg-info",111,28
openstack%2Fnova~master~Ibfdf5b78160d9514845fc4c9a409c839b79a2198,openstack/nova,master,Ibfdf5b78160d9514845fc4c9a409c839b79a2198,Change default video model from cirrus to vga,ABANDONED,2018-07-13 09:03:36.000000000,2019-10-07 13:30:47.000000000,,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-13 09:03:36.000000000', 'files': ['nova/virt/libvirt/config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7bd9cec7c6218f0ce92b3e7594c88a8fc527906c', 'message': 'Change default video model from cirrus to vga\n\nBecause of the bug of qemu[1], using cirrus video model\nis dangerous. To fix this problem, change the default\nvideo model, and disable cirrus forever.\n\n[1]: CVE-2017-2615 https://lists.gnu.org/archive/html/qemu-devel/2017-02/msg00015.html\n\nChange-Id: Ibfdf5b78160d9514845fc4c9a409c839b79a2198\nCloses-Bug: #1781558\n'}]",1,582471,7bd9cec7c6218f0ce92b3e7594c88a8fc527906c,21,15,1,26311,,,0,"Change default video model from cirrus to vga

Because of the bug of qemu[1], using cirrus video model
is dangerous. To fix this problem, change the default
video model, and disable cirrus forever.

[1]: CVE-2017-2615 https://lists.gnu.org/archive/html/qemu-devel/2017-02/msg00015.html

Change-Id: Ibfdf5b78160d9514845fc4c9a409c839b79a2198
Closes-Bug: #1781558
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/582471/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/config.py'],1,7bd9cec7c6218f0ce92b3e7594c88a8fc527906c,bug/1781558, # Change default value from cirrus to vga because of the bug # of qemu: # https://lists.gnu.org/archive/html/qemu-devel/2017-02/msg00015.html self.type = 'vga' # Disable cirrus even if we set hw_video_type=cirrus # in glance image metadata if 'cirrus' == self.type: self.type = 'vga', self.type = 'cirrus',8,1
openstack%2Freleases~master~Ie778cb4e731d6c99dfdbd01133e7c6c74561fb80,openstack/releases,master,Ie778cb4e731d6c99dfdbd01133e7c6c74561fb80,Release Train RC1 for Puppet modules - follow-up,MERGED,2019-10-04 17:24:51.000000000,2019-10-07 13:30:24.000000000,2019-10-07 13:30:24.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 17:24:51.000000000', 'files': ['deliverables/train/puppet-monasca.yaml', 'deliverables/train/puppet-senlin.yaml', 'deliverables/train/puppet-placement.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/train/puppet-freezer.yaml', 'deliverables/train/puppet-glare.yaml', 'deliverables/train/puppet-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ac213dd96ca575f9442ac4364c23989d1744449', 'message': 'Release Train RC1 for Puppet modules - follow-up\n\nFollow-up of https://review.opendev.org/#/c/686431/\n\nChange-Id: Ie778cb4e731d6c99dfdbd01133e7c6c74561fb80\n'}]",0,686778,9ac213dd96ca575f9442ac4364c23989d1744449,10,9,1,16312,,,0,"Release Train RC1 for Puppet modules - follow-up

Follow-up of https://review.opendev.org/#/c/686431/

Change-Id: Ie778cb4e731d6c99dfdbd01133e7c6c74561fb80
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/686778/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/puppet-monasca.yaml', 'deliverables/train/puppet-senlin.yaml', 'deliverables/train/puppet-placement.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/train/puppet-freezer.yaml', 'deliverables/train/puppet-glare.yaml', 'deliverables/train/puppet-qdr.yaml']",7,9ac213dd96ca575f9442ac4364c23989d1744449,train/rc1, - projects: - hash: c51ba07c7ccfaf81693021dfa9767b190f76cc5a repo: openstack/puppet-qdr version: 4.4.0 branches: - name: stable/train location: 4.4.0,,49,0
openstack%2Fhorizon~master~I9350a6d375edbbc8a47ce9cdeecf1c729b9993c0,openstack/horizon,master,I9350a6d375edbbc8a47ce9cdeecf1c729b9993c0,Imported Translations from Zanata,MERGED,2019-10-07 08:53:01.000000000,2019-10-07 13:26:37.000000000,2019-10-07 13:24:45.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 08:53:01.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/868ec0e24b50a92c8ebfb193dba0bd7ad9a89c92', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9350a6d375edbbc8a47ce9cdeecf1c729b9993c0\n'}]",0,686980,868ec0e24b50a92c8ebfb193dba0bd7ad9a89c92,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9350a6d375edbbc8a47ce9cdeecf1c729b9993c0
",git fetch https://review.opendev.org/openstack/horizon refs/changes/80/686980/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,868ec0e24b50a92c8ebfb193dba0bd7ad9a89c92,zanata/translations,"""POT-Creation-Date: 2019-10-06 11:04+0000\n""""PO-Revision-Date: 2019-10-06 02:18+0000\n""msgid ""13.0.2-3"" msgstr ""13.0.2-3"" msgid ""15.1.0-15"" msgstr ""15.1.0-15"" msgid ""16.0.0.0rc1-12"" msgstr ""16.0.0.0rc1-12"" ","""POT-Creation-Date: 2019-10-05 19:10+0000\n""""PO-Revision-Date: 2019-10-03 01:49+0000\n""",11,2
openstack%2Frpm-packaging~master~Ia843ae7be4443ab7b14cbce86a1ff40f364c421e,openstack/rpm-packaging,master,Ia843ae7be4443ab7b14cbce86a1ff40f364c421e,freezer-api: Switch to python3,MERGED,2019-10-07 12:01:16.000000000,2019-10-07 13:26:18.000000000,2019-10-07 13:26:18.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 12:01:16.000000000', 'files': ['openstack/freezer-api/freezer-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/91f561555c586b3bb3b97ee51d8f86abcebd45e7', 'message': 'freezer-api: Switch to python3\n\nChange-Id: Ia843ae7be4443ab7b14cbce86a1ff40f364c421e\n'}]",0,687009,91f561555c586b3bb3b97ee51d8f86abcebd45e7,9,5,1,7102,,,0,"freezer-api: Switch to python3

Change-Id: Ia843ae7be4443ab7b14cbce86a1ff40f364c421e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/09/687009/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/freezer-api/freezer-api.spec.j2'],1,91f561555c586b3bb3b97ee51d8f86abcebd45e7,,"BuildRequires: {{ py3('Paste') }} BuildRequires: {{ py3('PasteDeploy') }} BuildRequires: {{ py3('elasticsearch') }} BuildRequires: {{ py3('falcon') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('jsonschema') }} BuildRequires: {{ py3('keystonemiddleware') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.db') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.middleware') }} BuildRequires: {{ py3('oslo.policy') }} BuildRequires: {{ py3('oslo.upgradecheck') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('reno') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('testrepository') }} BuildRequires: {{ py3('testtools') }} Requires: python3-{{ pypi_name }} = %{version}-%{release}%package -n python3-{{ pypi_name }}Group: Development/Languages/Python Requires: {{ py3('Paste') }} Requires: {{ py3('PasteDeploy') }} Requires: {{ py3('elasticsearch') }} Requires: {{ py3('falcon') }} Requires: {{ py3('jsonschema') }} Requires: {{ py3('keystonemiddleware') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.db') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.middleware') }} Requires: {{ py3('oslo.policy') }} Requires: {{ py3('six') }} %description -n python3-{{ pypi_name }}BuildRequires: {{ py3('Sphinx') }} #BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('os-api-ref') }}%{py3_build} %{__python3} setup.py build_sphinx --builder=html,man%{py3_install}%fdupes %{buildroot}%{python3_sitelib}PYTHON=%{__python3} OS_PATH_TEST=./freezer_api/tests/unit %{__python3} setup.py test%files -n python3-{{ pypi_name }}%{python3_sitelib}/freezer_api/ %{python3_sitelib}/freezer_api*.egg-info","BuildRequires: {{ py2pkg('Paste') }} BuildRequires: {{ py2pkg('PasteDeploy') }} BuildRequires: {{ py2pkg('elasticsearch') }} BuildRequires: {{ py2pkg('falcon') }} BuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('jsonschema') }} BuildRequires: {{ py2pkg('keystonemiddleware') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.context') }} BuildRequires: {{ py2pkg('oslo.db') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.middleware') }} BuildRequires: {{ py2pkg('oslo.policy') }} BuildRequires: {{ py2pkg('oslo.upgradecheck') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('reno') }} BuildRequires: {{ py2pkg('six') }} BuildRequires: {{ py2pkg('testrepository') }} BuildRequires: {{ py2pkg('testtools') }} Requires: python-{{ pypi_name }} = %{version}-%{release}%package -n python-{{ pypi_name }}Group: Applications/System Requires: {{ py2pkg('Paste') }} Requires: {{ py2pkg('PasteDeploy') }} Requires: {{ py2pkg('elasticsearch') }} Requires: {{ py2pkg('falcon') }} Requires: {{ py2pkg('jsonschema') }} Requires: {{ py2pkg('keystonemiddleware') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.db') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.middleware') }} Requires: {{ py2pkg('oslo.policy') }} Requires: {{ py2pkg('six') }} %description -n python-{{ pypi_name }}BuildRequires: {{ py2pkg('Sphinx') }} #BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('os-api-ref') }} BuildRequires: {{ py2pkg('oslosphinx') }}sed -i 's/^warning-is-error.*/warning-is-error = 0/g' setup.cfg%{py2_build} %{__python2} setup.py build_sphinx --builder=html,man%{py2_install}%fdupes %{buildroot}%{python2_sitelib}OS_PATH_TEST=./freezer_api/tests/unit python setup.py test%files -n python-{{ pypi_name }}%{python2_sitelib}/freezer_api/ %{python2_sitelib}/freezer_api*.egg-info",50,52
openstack%2Fnova~master~Ia2a73636021f8ea0b4d0cadcf8cf5894f5758c4d,openstack/nova,master,Ia2a73636021f8ea0b4d0cadcf8cf5894f5758c4d,start self-study,ABANDONED,2017-09-03 04:56:22.000000000,2019-10-07 13:06:22.000000000,,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-03 04:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7cb8d5a2dbc9205e5f80d171926c9c7d6ff6a5a', 'message': 'start self-study\n\nChange-Id: Ia2a73636021f8ea0b4d0cadcf8cf5894f5758c4d\n'}]",0,500345,d7cb8d5a2dbc9205e5f80d171926c9c7d6ff6a5a,17,13,1,26814,,,0,"start self-study

Change-Id: Ia2a73636021f8ea0b4d0cadcf8cf5894f5758c4d
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/500345/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d7cb8d5a2dbc9205e5f80d171926c9c7d6ff6a5a,,,,0,0
openstack%2Fnova~master~I03ac64b088980b12b50fde28dd22105adbd3f53f,openstack/nova,master,I03ac64b088980b12b50fde28dd22105adbd3f53f,Recreate root volume for instance rebuild,ABANDONED,2017-06-28 01:04:12.000000000,2019-10-07 13:06:13.000000000,,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 23417}, {'_account_id': 26150}, {'_account_id': 26157}]","[{'number': 1, 'created': '2017-06-28 01:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b10e6ad88a0d299523ebaefd2c3391682415fe52', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 2, 'created': '2017-06-28 01:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f94d970425a62ca7ececec68341d3cee03ca20c', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 3, 'created': '2017-06-28 01:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9867a9134a7352cfcad8aa523cd1dd2ea4309eea', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nNote:\nIn method attach_block_devices, which is _prep_block_device\nmethod in class ComputeManager, if bdm provides no volume_id\nbut an image_id, a new volume would be created with the\nimage_id.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 4, 'created': '2017-06-28 01:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d335d622734900392c627c3b631ea88783501556', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nNote:\nIn method attach_block_devices, which is _prep_block_device\nmethod in class ComputeManager, if bdm provides no volume_id\nbut an image_id, a new volume would be created with the\nimage_id.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 5, 'created': '2017-06-28 02:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/225e34354331a5638a18fa88b10006b86dd5db24', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nNote:\nIn method attach_block_devices, which is _prep_block_device\nmethod in class ComputeManager, if bdm provides no volume_id\nbut an image_id, a new volume would be created with the\nimage_id.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 6, 'created': '2017-06-28 02:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b05e9643f614bf8698c60ee569ef015c0fa35bea', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nNote:\nIn method attach_block_devices, which is _prep_block_device\nmethod in class ComputeManager, if bdm provides no volume_id\nbut an image_id, a new volume would be created with the\nimage_id.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 7, 'created': '2017-06-28 05:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63530f79456a1deacb15adefa813941b5597d9f6', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nNote:\nIn method attach_block_devices, which is _prep_block_device\nmethod in class ComputeManager, if bdm provides no volume_id\nbut an image_id, a new volume would be created with the\nimage_id.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 8, 'created': '2017-07-12 09:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab058978f17dd1e39d3202a00c32f4cd8844284a', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nNote:\nIn method attach_block_devices, which is _prep_block_device\nmethod in class ComputeManager, if bdm provides no volume_id\nbut an image_id, a new volume would be created with the\nimage_id.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}, {'number': 9, 'created': '2017-07-12 10:27:03.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/17ec1fa35f876781942bda8307d8418b906fdce3', 'message': 'Recreate root volume for instance rebuild\n\nWhen rebuilding an instance, if compute driver does\nnot implement rebuild function, nova would use the\ndefault rebuild method where volumes associated with\nthe instance would just be detached and then attached.\nFor instance booted from volume, the root volume\ndevice should be recreated.\n\nThis patch adds a method _cleanup_root_volume_for_rebuild\nto delete the root volume. Later, when nova trys to\nattach the instance with associated block devices,\nthe root volume would be recreated with the given image.\n\nNote:\nIn method attach_block_devices, which is _prep_block_device\nmethod in class ComputeManager, if bdm provides no volume_id\nbut an image_id, a new volume would be created with the\nimage_id.\n\nChange-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f\nCloses-Bug: #1700863\n'}]",2,478330,17ec1fa35f876781942bda8307d8418b906fdce3,53,24,9,23417,,,0,"Recreate root volume for instance rebuild

When rebuilding an instance, if compute driver does
not implement rebuild function, nova would use the
default rebuild method where volumes associated with
the instance would just be detached and then attached.
For instance booted from volume, the root volume
device should be recreated.

This patch adds a method _cleanup_root_volume_for_rebuild
to delete the root volume. Later, when nova trys to
attach the instance with associated block devices,
the root volume would be recreated with the given image.

Note:
In method attach_block_devices, which is _prep_block_device
method in class ComputeManager, if bdm provides no volume_id
but an image_id, a new volume would be created with the
image_id.

Change-Id: I03ac64b088980b12b50fde28dd22105adbd3f53f
Closes-Bug: #1700863
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/478330/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,b10e6ad88a0d299523ebaefd2c3391682415fe52,bug/1700863," def _cleanup_root_volume_for_rebuild(self, context, instance, bdms): """"""Clean up root volume if exist, and prepare bdms for rebuild"""""" for bdm in bdms: i if bdm.volume_id and bdm.delete_on_termination and bdm.is_root: if not bdm.delete_on_termination: LOG.warning(_LW(""Root volume %s may not be recreated""), bdm.volume_id, instance=instance) continue LOG.debug(""Delete root volume."", instance=instance) try: self.volume_api.delete(context, bdm.volume_id) except Exception as exc: LOG.warning(_LW('Failed to remove volume: %(volume_id)s ' 'due to %(exc)s'), {'volume_id': bdm.volume_id, 'exc': exc}) bdm.volume_id = None bdm.connection_info = None bdm.image_id = instance.image_ref return bdms # delete root volume if exist bdms = self._cleanup_root_volume_for_rebuild( context, instance, bdms)",,28,0
openstack%2Fnova~master~I42172913bcee1788fe9624b78b34f87ab1957e30,openstack/nova,master,I42172913bcee1788fe9624b78b34f87ab1957e30,DNM: Extra logs for volume detach device tags cleanup,ABANDONED,2018-07-19 17:28:01.000000000,2019-10-07 13:05:53.000000000,,"[{'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-07-19 17:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f76013a0c288f72b0e9a9fcec9350ed3aad7bd9c', 'message': 'DNM: extra logging for 1775947\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nRelated-bug: 1775947\n'}, {'number': 2, 'created': '2018-07-19 20:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a9bc5bba6726fe624b22ee85ba7caf709bec889', 'message': 'DNM: extra logging for 1775947\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nRelated-bug: 1775947\n'}, {'number': 3, 'created': '2018-07-24 19:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a82da00a68c7312129b1435cfc5786a8ee7d98fe', 'message': 'Extra logs for volume detach device tags cleanup\n\nIn order to try and shed light on why volume device tags seem to\npersist after volume detach, this patch adds some debug logging.\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nRelated-bug: 1775947\n'}, {'number': 4, 'created': '2018-07-24 20:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/754b16123e22cadedc7822828abcc9eb1e9c63e9', 'message': 'Extra logs for volume detach device tags cleanup\n\nIn order to try and shed light on why volume device tags seem to\npersist after volume detach, this patch adds some debug logging.\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nRelated-bug: 1775947\n'}, {'number': 5, 'created': '2018-07-24 20:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5702e32760b517937966179501429ed172dd5aec', 'message': 'Extra logs for volume detach device tags cleanup\n\nIn order to try and shed light on why volume device tags seem to\npersist after volume detach, this patch adds some debug logging.\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nRelated-bug: 1775947\n'}, {'number': 6, 'created': '2018-07-26 02:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/803faf7a14f95b4cd83e5018c98b1904d4c365ee', 'message': ""DNM? Extra logs for volume detach device tags cleanup\n\nIn order to try and shed light on why volume device tags seem to\npersist after volume detach, this patch adds some debug logging.\n\nNOTE(artom): In attempting to merge a previous iteration of this\npatch, we hit the bug but none of the added logging appeared. In other\nwords, what didn't happen:\n* no serial in the DiskMetadata\n* serial in DiskMetadata not matching bdm\n* correctly cleaning up the metadata\nBy elimination, unless there's a bug in the cleanup code itself\n(unlikely, since it's identical to the NIC metadata cleanup code, and\nthat works), it means something is wrong with the device_metadata.\nThis new iteration just logs the whole thing.\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nRelated-bug: 1775947\n""}, {'number': 7, 'created': '2018-07-26 15:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe34dadf82235580c6ef181022d82d328a498b15', 'message': ""DNM? Extra logs for volume detach device tags cleanup\n\nIn order to try and shed light on why volume device tags seem to\npersist after volume detach, this patch adds some debug logging.\n\nNOTE(artom): In attempting to merge a previous iteration of this\npatch, we hit the bug but none of the added logging appeared. In other\nwords, what didn't happen:\n* no serial in the DiskMetadata\n* serial in DiskMetadata not matching bdm\n* correctly cleaning up the metadata\nBy elimination, unless there's a bug in the cleanup code itself\n(unlikely, since it's identical to the NIC metadata cleanup code, and\nthat works), it means something is wrong with the device_metadata.\nThis new iteration just logs the whole thing.\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nRelated-bug: 1775947\n""}, {'number': 8, 'created': '2018-07-27 20:03:39.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa82b0cc8153cc1decb0cc165befc8502e954563', 'message': ""DNM: Extra logs for volume detach device tags cleanup\n\nIn order to try and shed light on why volume device tags seem to\npersist after volume detach, this patch adds some debug logging.\n\nNOTE(artom): In attempting to merge a previous iteration of this\npatch, we hit the bug but none of the added logging appeared. In other\nwords, what didn't happen:\n* no serial in the DiskMetadata\n* serial in DiskMetadata not matching bdm\n* correctly cleaning up the metadata\nBy elimination, unless there's a bug in the cleanup code itself\n(unlikely, since it's identical to the NIC metadata cleanup code, and\nthat works), it means something is wrong with the device_metadata.\nThis new iteration just logs the whole thing.\n\nChange-Id: I42172913bcee1788fe9624b78b34f87ab1957e30\nDepends-on: I7446ff7054164ed646d198771760d61880df5d73\nRelated-bug: 1775947\n""}]",6,584032,fa82b0cc8153cc1decb0cc165befc8502e954563,166,19,8,8864,,,0,"DNM: Extra logs for volume detach device tags cleanup

In order to try and shed light on why volume device tags seem to
persist after volume detach, this patch adds some debug logging.

NOTE(artom): In attempting to merge a previous iteration of this
patch, we hit the bug but none of the added logging appeared. In other
words, what didn't happen:
* no serial in the DiskMetadata
* serial in DiskMetadata not matching bdm
* correctly cleaning up the metadata
By elimination, unless there's a bug in the cleanup code itself
(unlikely, since it's identical to the NIC metadata cleanup code, and
that works), it means something is wrong with the device_metadata.
This new iteration just logs the whole thing.

Change-Id: I42172913bcee1788fe9624b78b34f87ab1957e30
Depends-on: I7446ff7054164ed646d198771760d61880df5d73
Related-bug: 1775947
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/584032/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'tox.ini']",2,f76013a0c288f72b0e9a9fcec9350ed3aad7bd9c,bug/1775947,basepython = python35,basepython = python3,9,1
openstack%2Fnova~master~I47d9d0f41fc1f20d29e340c2b71ff6808e77e50f,openstack/nova,master,I47d9d0f41fc1f20d29e340c2b71ff6808e77e50f,Specify default update_resources_interval,ABANDONED,2018-06-20 13:44:18.000000000,2019-10-07 13:02:51.000000000,,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-06-20 13:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2743b72aec5f8a0b7722a5612a8c196b7399582e', 'message': 'Specify periodic task interval in configurations\n\nIf related configuration options are left unset, periodic tasks will\nrun at the default interval. But that specific default interval is\nnot told in the configurations. It will be more friendly to add that\ninterval value in the docs. The value comes from\nhttps://github.com/openstack/oslo.service/blob/master/oslo_service/periodic_task.py#L29\n\nChange-Id: I47d9d0f41fc1f20d29e340c2b71ff6808e77e50f\n'}, {'number': 2, 'created': '2018-06-21 02:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f02c7189f0b5987c19943bd07acba7678981e08', 'message': 'Specify default update_resources_interval\n\nThe default update_resources_interval is now set at 0, which is\nconfusing since it is not clear about the actual default interval.\nThis patch sets the default explictly at 60 according to the current\nsetup. The default value comes from\nhttps://github.com/openstack/oslo.service/blob/master/oslo_service/periodic_task.py#L29\n\nChange-Id: I47d9d0f41fc1f20d29e340c2b71ff6808e77e50f\n'}, {'number': 3, 'created': '2018-06-21 06:29:11.000000000', 'files': ['nova/conf/compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/11a776a167e4450d6d741453f6cfd3fa82e6caf1', 'message': 'Specify default update_resources_interval\n\nThe default update_resources_interval is now set at 0, which is\nconfusing since it is not clear about the actual default interval.\nThis patch sets the default explictly at 60 according to the current\nsetup. The default value comes from\nhttps://github.com/openstack/oslo.service/blob/master/oslo_service/periodic_task.py#L29\n\nChange-Id: I47d9d0f41fc1f20d29e340c2b71ff6808e77e50f\n'}]",10,576864,11a776a167e4450d6d741453f6cfd3fa82e6caf1,38,17,3,25562,,,0,"Specify default update_resources_interval

The default update_resources_interval is now set at 0, which is
confusing since it is not clear about the actual default interval.
This patch sets the default explictly at 60 according to the current
setup. The default value comes from
https://github.com/openstack/oslo.service/blob/master/oslo_service/periodic_task.py#L29

Change-Id: I47d9d0f41fc1f20d29e340c2b71ff6808e77e50f
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/576864/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/compute.py'],1,2743b72aec5f8a0b7722a5612a8c196b7399582e,specify_default_interval,* 0: Will run at the default periodic interval of 60 seconds.* 0: Will run at the default periodic interval of 60 seconds.* 0: Will run at the default periodic interval of 60 seconds.* 0: Will run at the default periodic interval of 60 seconds.* 0: Will run at the default periodic interval of 60 seconds.,* 0: Will run at the default periodic interval.* 0: Will run at the default periodic interval.* 0: Will run at the default periodic interval.* 0: Will run at the default periodic interval.* 0: Will run at the default periodic interval.,5,5
openstack%2Fnova~master~Ieabc8ea6edd7f9cbcddbf93e89be81f4750e742c,openstack/nova,master,Ieabc8ea6edd7f9cbcddbf93e89be81f4750e742c,WIP: Stop redirect of '' to '/' for version API,ABANDONED,2018-07-06 02:35:09.000000000,2019-10-07 13:02:14.000000000,,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-06 02:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6be94b9d2f59236d7bd82e0d0b7e38ad0c9f5b2f', 'message': 'WIP Support Relative URL for version API\n\nChange-Id: Ieabc8ea6edd7f9cbcddbf93e89be81f4750e742c\n'}, {'number': 2, 'created': '2018-07-06 02:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c09023b80ab5e9769b68148817851be01dd1351', 'message': 'WIP Support Relative URL for version API\n\nChange-Id: Ieabc8ea6edd7f9cbcddbf93e89be81f4750e742c\n'}, {'number': 3, 'created': '2018-07-06 02:47:46.000000000', 'files': ['nova/api/openstack/compute/routes.py', 'nova/tests/unit/api/openstack/compute/test_versions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b86406a297f96f9b15874a92a0c14e34d7f12dfb', 'message': ""WIP: Stop redirect of '' to '/' for version API\n\nChange-Id: Ieabc8ea6edd7f9cbcddbf93e89be81f4750e742c\n""}]",3,580544,b86406a297f96f9b15874a92a0c14e34d7f12dfb,19,12,3,8556,,,0,"WIP: Stop redirect of '' to '/' for version API

Change-Id: Ieabc8ea6edd7f9cbcddbf93e89be81f4750e742c
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/580544/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/routes.py', 'nova/tests/unit/api/openstack/compute/test_versions.py']",2,6be94b9d2f59236d7bd82e0d0b7e38ad0c9f5b2f,," def test_get_version_list_with_relative_path(self): req = fakes.HTTPRequest.blank('/v2.1', base_url='') self.assertEqual(200, res.status_int) self.assertEqual(""application/json"", res.content_type) version = jsonutils.loads(res.body) expected = { ""version"": { ""id"": ""v2.0"", ""status"": ""SUPPORTED"", ""version"": """", ""min_version"": """", ""updated"": ""2011-01-21T11:33:21Z"", ""links"": [ { ""rel"": ""self"", ""href"": ""http://localhost/v2.1/"", }, { ""rel"": ""describedby"", ""type"": ""text/html"", ""href"": EXP_LINKS['v2.0']['html'], }, ], ""media-types"": [ { ""base"": ""application/json"", ""type"": ""application/"" ""vnd.openstack.compute+json;version=2"", }, ], }, } self.assertEqual(expected, version)"," def test_get_version_list_302(self): req = fakes.HTTPRequest.blank('/v2') self.assertEqual(302, res.status_int) redirect_req = fakes.HTTPRequest.blank('/v2/') self.assertEqual(redirect_req.url, res.location)",36,6
openstack%2Fnova~master~I8bbc890a756cc043262982a801e93c899397b4eb,openstack/nova,master,I8bbc890a756cc043262982a801e93c899397b4eb,Allow dots in keypair filenames,ABANDONED,2017-09-08 08:49:53.000000000,2019-10-07 12:58:48.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-08 08:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a8860ccb69a272844570325a087a15bd1283ca8', 'message': 'Allow dots in keypair filenames\n\nThis is allowed at DigitalOcean and AWS, and it looks like there is no\nreason for this to be disallowed in Nova. The safechar restriction that\nwas introduced in 2013 seems to have imposed a very strict set of allowed\ncharacters because forward slashes broke key deletion through the API. Dots\nare probably just as safe as alphanumerics in this case so I think they can\nbe added in order to be more compatible with other clouds.\n\nAlso see:\nhttps://bugs.launchpad.net/nova/+bug/937408\nhttps://github.com/openstack/nova/commit/202415829afcbcb48827e15db725050d19eb1b84\n\nChange-Id: I8bbc890a756cc043262982a801e93c899397b4eb\n'}, {'number': 2, 'created': '2017-09-11 06:42:10.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e22a1bc51897b1bcfe054e5040eca1535bdfe12', 'message': 'Allow dots in keypair filenames\n\nThis is allowed at DigitalOcean and AWS, and it looks like there is no\nreason for this to be disallowed in Nova. The safechar restriction that\nwas introduced in 2013 seems to have imposed a very strict set of allowed\ncharacters because forward slashes broke key deletion through the API. Dots\nare probably just as safe as alphanumerics in this case so I think they can\nbe added in order to be more compatible with other clouds.\n\nAlso see:\nhttps://bugs.launchpad.net/nova/+bug/937408\nhttps://github.com/openstack/nova/commit/202415829afcbcb48827e15db725050d19eb1b84\n\nChange-Id: I8bbc890a756cc043262982a801e93c899397b4eb\n'}]",1,502000,6e22a1bc51897b1bcfe054e5040eca1535bdfe12,26,12,2,15808,,,0,"Allow dots in keypair filenames

This is allowed at DigitalOcean and AWS, and it looks like there is no
reason for this to be disallowed in Nova. The safechar restriction that
was introduced in 2013 seems to have imposed a very strict set of allowed
characters because forward slashes broke key deletion through the API. Dots
are probably just as safe as alphanumerics in this case so I think they can
be added in order to be more compatible with other clouds.

Also see:
https://bugs.launchpad.net/nova/+bug/937408
https://github.com/openstack/nova/commit/202415829afcbcb48827e15db725050d19eb1b84

Change-Id: I8bbc890a756cc043262982a801e93c899397b4eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/502000/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_keypairs.py', 'nova/compute/api.py']",2,4a8860ccb69a272844570325a087a15bd1283ca8,allow-dots-in-keypair-names," safe_chars = ""_- ."" + string.digits + string.ascii_letters"," safe_chars = ""_- "" + string.digits + string.ascii_letters",10,1
openstack%2Fnova~master~I6f8174af3dd86208de244f4862c83f090e42e9e6,openstack/nova,master,I6f8174af3dd86208de244f4862c83f090e42e9e6,libvirt: clear instance.root_device_name while ignoring user device name,ABANDONED,2015-08-18 19:42:28.000000000,2019-10-07 12:57:36.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 10842}, {'_account_id': 12408}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15847}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18723}, {'_account_id': 20040}]","[{'number': 1, 'created': '2015-08-18 19:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e745546a88c8d8f64f3c08a67bbdcc8573d2c8d0', 'message': ""libvirt: clear instance.root_device_name while ignoring user device name\n\nAfter change I3ce12563846b2c34ac778d44e7582eef930ae4b0 was merged,\nchange I76a7cfd995db6c04f7af48ff8c9acdd55750ed76 ceased to work for\nroot volume device name.\n\nNow we have a situation when we try to boot an instance from volume\nwith specified device name with libvirt driver , it will try to clear\nuser supplied device name and use driver default one but nothing will\nactually happen because instance.root_device_name is set based on user\nspecified device name in nova.compute.manager._default_block_device_names\nbefore driver's default_device_names_for_instance is called and user\ninput is cleared, while bdm in nova.virt.libvirt.blockinfo.get_disk_mapping\nare updated taking into account instance.root_device_name.\n\nThis patch restores behaviour when user supplied device names are not\nhonoured in libvirt driver for all devices.\n\nChange-Id: I6f8174af3dd86208de244f4862c83f090e42e9e6\nCloses-Bug: 1486204\n""}, {'number': 2, 'created': '2015-08-19 13:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdbba2c063baa778d128d606c6719dfc2195fddd', 'message': ""libvirt: clear instance.root_device_name while ignoring user device name\n\nAfter change I3ce12563846b2c34ac778d44e7582eef930ae4b0 was merged,\nchange I76a7cfd995db6c04f7af48ff8c9acdd55750ed76 ceased to work for\nroot volume device name.\n\nNow we have a situation when we try to boot an instance from volume\nwith specified device name with libvirt driver , it will try to clear\nuser supplied device name and use driver default one but nothing will\nactually happen because instance.root_device_name is set based on user\nspecified device name in nova.compute.manager._default_block_device_names\nbefore driver's default_device_names_for_instance is called and user\ninput is cleared, while bdm in nova.virt.libvirt.blockinfo.get_disk_mapping\nare updated taking into account instance.root_device_name.\n\nThis patch restores behaviour when user supplied device names are not\nhonoured in libvirt driver for all devices.\n\nChange-Id: I6f8174af3dd86208de244f4862c83f090e42e9e6\nCloses-Bug: 1486204\n""}, {'number': 3, 'created': '2016-01-15 14:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a01e3d3ea0d556f0b5957552c602cd3e3ce27ce', 'message': ""libvirt: clear instance.root_device_name while ignoring user device name\n\nAfter change I3ce12563846b2c34ac778d44e7582eef930ae4b0 was merged,\nchange I76a7cfd995db6c04f7af48ff8c9acdd55750ed76 ceased to work for\nroot volume device name.\n\nNow we have a situation when we try to boot an instance from volume\nwith specified device name with libvirt driver , it will try to clear\nuser supplied device name and use driver default one but nothing will\nactually happen because instance.root_device_name is set based on user\nspecified device name in nova.compute.manager._default_block_device_names\nbefore driver's default_device_names_for_instance is called and user\ninput is cleared, while bdm in nova.virt.libvirt.blockinfo.get_disk_mapping\nare updated taking into account instance.root_device_name.\n\nThis patch restores behaviour when user supplied device names are not\nhonoured in libvirt driver for all devices.\n\nChange-Id: I6f8174af3dd86208de244f4862c83f090e42e9e6\nCloses-Bug: 1486204\n""}, {'number': 4, 'created': '2016-02-03 08:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16d61498505d2d42d933fbf9eac1013cb8f5327e', 'message': ""libvirt: clear instance.root_device_name while ignoring user device name\n\nAfter change I3ce12563846b2c34ac778d44e7582eef930ae4b0 was merged,\nchange I76a7cfd995db6c04f7af48ff8c9acdd55750ed76 ceased to work for\nroot volume device name.\n\nNow we have a situation when we try to boot an instance from volume\nwith specified device name with libvirt driver , it will try to clear\nuser supplied device name and use driver default one but nothing will\nactually happen because instance.root_device_name is set based on user\nspecified device name in nova.compute.manager._default_block_device_names\nbefore driver's default_device_names_for_instance is called and user\ninput is cleared, while bdm in nova.virt.libvirt.blockinfo.get_disk_mapping\nare updated taking into account instance.root_device_name.\n\nThis patch restores behaviour when user supplied device names are not\nhonoured in libvirt driver for all devices.\n\nChange-Id: I6f8174af3dd86208de244f4862c83f090e42e9e6\nCloses-Bug: 1486204\n""}, {'number': 5, 'created': '2016-03-30 08:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea9fb12ec43655489220b36301aec89a5cf86696', 'message': ""libvirt: clear instance.root_device_name while ignoring user device name\n\nAfter change I3ce12563846b2c34ac778d44e7582eef930ae4b0 was merged,\nchange I76a7cfd995db6c04f7af48ff8c9acdd55750ed76 ceased to work for\nroot volume device name.\n\nNow we have a situation when we try to boot an instance from volume\nwith specified device name with libvirt driver , it will try to clear\nuser supplied device name and use driver default one but nothing will\nactually happen because instance.root_device_name is set based on user\nspecified device name in nova.compute.manager._default_block_device_names\nbefore driver's default_device_names_for_instance is called and user\ninput is cleared, while bdm in nova.virt.libvirt.blockinfo.get_disk_mapping\nare updated taking into account instance.root_device_name.\n\nThis patch restores behaviour when user supplied device names are not\nhonoured in libvirt driver for all devices.\n\nChange-Id: I6f8174af3dd86208de244f4862c83f090e42e9e6\nCloses-Bug: 1486204\n""}, {'number': 6, 'created': '2016-10-07 10:12:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d9df69ca3d5ccba09703f1a79621ba6678033e96', 'message': ""libvirt: clear instance.root_device_name while ignoring user device name\n\nAfter change I3ce12563846b2c34ac778d44e7582eef930ae4b0 was merged,\nchange I76a7cfd995db6c04f7af48ff8c9acdd55750ed76 ceased to work for\nroot volume device name.\n\nNow we have a situation when we try to boot an instance from volume\nwith specified device name with libvirt driver , it will try to clear\nuser supplied device name and use driver default one but nothing will\nactually happen because instance.root_device_name is set based on user\nspecified device name in nova.compute.manager._default_block_device_names\nbefore driver's default_device_names_for_instance is called and user\ninput is cleared, while bdm in nova.virt.libvirt.blockinfo.get_disk_mapping\nare updated taking into account instance.root_device_name.\n\nThis patch restores behaviour when user supplied device names are not\nhonoured in libvirt driver for all devices.\n\nChange-Id: I6f8174af3dd86208de244f4862c83f090e42e9e6\nCloses-Bug: 1486204\n""}]",6,214314,d9df69ca3d5ccba09703f1a79621ba6678033e96,91,22,6,12408,,,0,"libvirt: clear instance.root_device_name while ignoring user device name

After change I3ce12563846b2c34ac778d44e7582eef930ae4b0 was merged,
change I76a7cfd995db6c04f7af48ff8c9acdd55750ed76 ceased to work for
root volume device name.

Now we have a situation when we try to boot an instance from volume
with specified device name with libvirt driver , it will try to clear
user supplied device name and use driver default one but nothing will
actually happen because instance.root_device_name is set based on user
specified device name in nova.compute.manager._default_block_device_names
before driver's default_device_names_for_instance is called and user
input is cleared, while bdm in nova.virt.libvirt.blockinfo.get_disk_mapping
are updated taking into account instance.root_device_name.

This patch restores behaviour when user supplied device names are not
honoured in libvirt driver for all devices.

Change-Id: I6f8174af3dd86208de244f4862c83f090e42e9e6
Closes-Bug: 1486204
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/214314/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,e745546a88c8d8f64f3c08a67bbdcc8573d2c8d0,bug/1486204, if instance.root_device_name == bdm.device_name: instance.root_device_name = None,,2,0
openstack%2Fnova~master~I06e08a7d0788606143cb9d5a500ca6bb36c907a0,openstack/nova,master,I06e08a7d0788606143cb9d5a500ca6bb36c907a0,Enables MySQL Cluster Support for Nova,ABANDONED,2017-03-16 17:25:46.000000000,2019-10-07 12:54:23.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11536}, {'_account_id': 11816}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17386}, {'_account_id': 19283}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23479}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-03-16 17:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4c01ceab8d3116354de1789196b99fdc301f857', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNeutron to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 2, 'created': '2017-03-16 17:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a5b7183686c078b574a2618e990266d93cb3e46', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 3, 'created': '2017-04-05 23:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df7493d8c9bebc86e642b4bdede1d9c2a6c0c458', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 4, 'created': '2017-04-10 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c6abbb9e16af70aca7b54534360a1d64895f6d1', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 5, 'created': '2017-07-06 22:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/041e157395a64875cc99660b04e080078216c075', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 6, 'created': '2017-07-14 19:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52eda217676b36f19b1e35328c5a55bbf3b0a473', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy and Alembic scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 7, 'created': '2017-07-18 21:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7601ae88ad9c290993d033804cf5601cd7fa398', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 8, 'created': '2017-07-18 21:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/406c9956f9bd36a475e71552fa946e4f11802049', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 9, 'created': '2017-07-18 23:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e2bfad4ac522543bfcee8de2c43f535b5bae766', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 10, 'created': '2017-07-19 21:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88d41d2cf73adebf08e9209117588db6981defeb', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 11, 'created': '2017-08-24 18:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a69215696be32a0796887d88792fb6e8fdf8ea36', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 12, 'created': '2017-09-19 11:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8de9eebb047673de343146a5e3f155ead9a5e74', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 13, 'created': '2017-10-23 15:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8a6096087fc5a9e6d71a6857ee30f6c476a2dc0', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 14, 'created': '2017-10-23 16:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89159f129ae89b71eebb92274a505f877ce88dad', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 15, 'created': '2017-11-09 17:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/813ea590f38b7b1d6f0ea45417269c52adef8735', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 16, 'created': '2017-12-11 19:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9eee1aa18a79cca39c9c49fb555fa1351b7a12cb', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 17, 'created': '2018-02-14 23:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1b7845696d18367a9edf710d1d02f8c3a649f4b', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 18, 'created': '2018-02-27 11:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6de11ee34ed07b7f84f8c16b0e2b48bdf697de6', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 19, 'created': '2018-04-11 14:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eefbdae0a3bbe06b5ffba982121050288c2cd3e0', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}, {'number': 20, 'created': '2018-06-06 16:13:05.000000000', 'files': ['nova/db/sqlalchemy/migrate_repo/versions/249_remove_duplicate_index.py', 'nova/db/sqlalchemy/models.py', 'nova/db/sqlalchemy/migrate_repo/versions/267_instance_uuid_non_nullable.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'releasenotes/notes/bug-1564110-enables-mysql-cluster-support-0ca31d6eb2212685.yaml', 'nova/conf/database.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89737a42f08cb55e9eb0076c10eb76e0c220f50d', 'message': 'Enables MySQL Cluster Support for Nova\n\nImplements minor fixes to the SQL Alchemy migration scripts in\nNova to support the MySQL Cluster DB. This includes the usage\nof the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.\nThis allows operators to select from MySQL (InnoDB) or MySQL Cluster\n(NDB) as the storage engine backend. Additionally, this fixes the\napi.py, models.py, and database.py modules to support this enhancement.\n\nChange-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\n'}]",21,446643,89737a42f08cb55e9eb0076c10eb76e0c220f50d,221,25,20,19283,,,0,"Enables MySQL Cluster Support for Nova

Implements minor fixes to the SQL Alchemy migration scripts in
Nova to support the MySQL Cluster DB. This includes the usage
of the boolean mysql_enable_ndb setting from oslo.db from bug 1564110.
This allows operators to select from MySQL (InnoDB) or MySQL Cluster
(NDB) as the storage engine backend. Additionally, this fixes the
api.py, models.py, and database.py modules to support this enhancement.

Change-Id: I06e08a7d0788606143cb9d5a500ca6bb36c907a0
Implements: blueprint mysql-cluster-support
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/446643/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/migrate_repo/versions/249_remove_duplicate_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/267_instance_uuid_non_nullable.py', 'nova/db/sqlalchemy/migrate_repo/versions/216_havana.py', 'nova/conf/database.py', 'nova/db/sqlalchemy/api.py']",5,e4c01ceab8d3116354de1789196b99fdc301f857,bug/1564110," mysql_enable_ndb=conf_group.mysql_enable_ndb, if CONF.database.mysql_enable_ndb: else: with get_context_manager(context).writer.savepoint.using(context): if needs_create: info_cache.save(context.session) else: info_cache.update(values) if CONF.database.mysql_enable_ndb: else: with get_context_manager(context).writer.savepoint.using(context): security_group_ref.save(context.session) if CONF.database.mysql_enable_ndb: else: with get_context_manager(context).writer.savepoint.using( context): spec_ref.update({""value"": specs[key]}) if CONF.database.mysql_enable_ndb: else: with get_context_manager(context).writer.savepoint.using( context): spec_ref.update({""key"": key, ""value"": value, ""instance_type_id"": instance_type_id}) context.session.add(spec_ref) if CONF.database.mysql_enable_ndb: else: with get_context_manager(context).writer.savepoint.using(context): context.session.add(tag_ref)", with get_context_manager(context).writer.savepoint.using(context): with get_context_manager(context).writer.savepoint.using(context): with get_context_manager(context).writer.savepoint.using( context): with get_context_manager(context).writer.savepoint.using( context): with get_context_manager(context).writer.savepoint.using(context):,76,29
openstack%2Fnova~master~Id245b4e982aa87535f6add74f08fdc16a9a8f1f4,openstack/nova,master,Id245b4e982aa87535f6add74f08fdc16a9a8f1f4,WIP,ABANDONED,2018-05-31 13:14:19.000000000,2019-10-07 12:53:34.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-31 13:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdc41727183979fd65e39aebf88537c11b2b5efc', 'message': 'WIP\nCloses-Bug: #1449221\n\nChange-Id: Id245b4e982aa87535f6add74f08fdc16a9a8f1f4\n'}, {'number': 2, 'created': '2018-06-01 11:25:21.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/51623f1da326d44b742d72dff6762f2ec9aedf35', 'message': 'WIP\n\nCloses-Bug: #1449221\n\nChange-Id: Id245b4e982aa87535f6add74f08fdc16a9a8f1f4\n'}]",0,571472,51623f1da326d44b742d72dff6762f2ec9aedf35,22,10,2,25562,,,0,"WIP

Closes-Bug: #1449221

Change-Id: Id245b4e982aa87535f6add74f08fdc16a9a8f1f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/571472/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,cdc41727183979fd65e39aebf88537c11b2b5efc,bug/1449221," status_detaching = True for attempt in (1, 2, 3): volume = self._get_volume(context, volume_api, self.volume_id) if volume.get('attach_status') == ""detaching"": continue status_detaching = False if status_detaching: self.volume_api.roll_detaching(context, self.volume_id)",,8,0
openstack%2Fnova~master~I21a659babaf9250b357a13e0e0a8e6aa81c92de4,openstack/nova,master,I21a659babaf9250b357a13e0e0a8e6aa81c92de4,Test Compute API in multiple cells,ABANDONED,2018-02-23 05:26:25.000000000,2019-10-07 12:52:57.000000000,,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11704}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-23 05:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3793b68f26020742ab4a1510964456f1e465521', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd List Servers Detailed, Show Server Details, Update Server\nand List Compute Services\n\nChange-Id: I21a659babaf9250b357a13e0e0a8e6aa81c92de4\n'}, {'number': 2, 'created': '2018-06-01 14:03:06.000000000', 'files': ['nova/tests/functional/test_multiple_cell.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8bf91ce88d3378e0cba06da42c57761462160dc8', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd List Servers Detailed, Show Server Details, Update Server\nand List Compute Services\n\nChange-Id: I21a659babaf9250b357a13e0e0a8e6aa81c92de4\n'}]",0,547273,8bf91ce88d3378e0cba06da42c57761462160dc8,15,8,2,26716,,,0,"Test Compute API in multiple cells

Create two cells, two nodes and map one cell to one node.
in multiple cell Test various Compute APIs.

Add List Servers Detailed, Show Server Details, Update Server
and List Compute Services

Change-Id: I21a659babaf9250b357a13e0e0a8e6aa81c92de4
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/547273/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_multiple_cell.py'],1,d3793b68f26020742ab4a1510964456f1e465521,multiple_cell_test," # List Servers Detailed list_servers = self.api.get_servers(detail=True) for i in range(4): self.assertEqual(server_uuid[i], list_servers[i]['id']) self.assertEqual(server_name[i], list_servers[i]['name']) # Show Server Details for i in range(4): server = self.api.get_server(server_uuid[i]) self.assertEqual(server_uuid[i], server['id']) self.assertEqual(server_name[i], server['name']) # Update Server for i in range(4): server_name[i] = '%i-test' % (i) post = {""server"": {""name"": server_name[i]}} self.api.put_server(server_uuid[i], post) server = self.api.get_server(server_uuid[i]) self.assertEqual(server_uuid[i], server['id']) self.assertEqual(server_name[i], server['name']) def test_Compute_Services(self): binaries = ['nova-scheduler', 'nova-compute', 'nova-conductor', 'nova-cells', 'nova-compute', 'nova-conductor', 'nova-consoleauth', 'nova-network'] hosts = ['scheduler', 'compute', 'conductor', 'cells', 'compute2', 'conductor', 'consoleauth', 'network'] services = self.api.get_services() for i in range(7): self.assertEqual(hosts[i], services[i]['host']) self.assertEqual(binaries[i], services[i]['binary'])",,32,0
openstack%2Fnova~master~Ib85ea811c865b7f2aae9123c4b3173605aa087ba,openstack/nova,master,Ib85ea811c865b7f2aae9123c4b3173605aa087ba,Test Compute API in multiple cells,ABANDONED,2018-01-16 06:27:37.000000000,2019-10-07 12:52:55.000000000,,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11704}, {'_account_id': 14384}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26716}]","[{'number': 1, 'created': '2018-01-16 06:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5a4e1e3cbede08a38a51537a7177718933481ef', 'message': 'Test Compute API in multiple cell\n\nCreate two cells and two nodes and map one cell to one node.\nin multiple cel lTest various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 2, 'created': '2018-02-06 07:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7879095d8f3023311a52e4daad5275f5c8a58127', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 3, 'created': '2018-02-07 02:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21fc63c47091d258aa16be75f9bf6e6beddc1295', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 4, 'created': '2018-02-21 00:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df58b694e460df5396207cbbb6fdbe4c7ab334d9', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 5, 'created': '2018-03-08 02:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e33c14df5750ee6a25ee641045fc8f010a9b79fc', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 6, 'created': '2018-03-08 02:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47ccc08584f91ea2bc1c3b8e26a61914d4e3f9b1', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 7, 'created': '2018-03-08 02:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8121da886d9f4e8b9daf28f6cfc9c4be31dadc8', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 8, 'created': '2018-03-09 01:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/105b5b8f698ad11d8f82cb8951953b54349c68eb', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}, {'number': 9, 'created': '2018-05-17 01:08:21.000000000', 'files': ['nova/tests/functional/test_multiple_cell.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bfd79a9db4bafd0b3ade36e519a9c5698117517b', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Create Server, List Servers and Delete Server.\n\nChange-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba\n'}]",23,534116,bfd79a9db4bafd0b3ade36e519a9c5698117517b,74,13,9,26716,,,0,"Test Compute API in multiple cells

Create two cells, two nodes and map one cell to one node.
in multiple cell Test various Compute APIs.

Add Create Server, List Servers and Delete Server.

Change-Id: Ib85ea811c865b7f2aae9123c4b3173605aa087ba
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/534116/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_multiple_cell.py'],1,f5a4e1e3cbede08a38a51537a7177718933481ef,multiple_cell_test,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import test_servers from nova.tests.unit import fake_network from nova.virt import fake class MultipleCellTest(test_servers.ServersTestBase): def setUp(self): self.NUMBER_OF_CELLS = 2 super(MultipleCellTest, self).setUp() self.cells = self.start_service('cells', manager='nova.cells.manager.CellsManager') fake.set_nodes(['compute2']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='compute2', cell='cell2') fake_network.set_stub_network_methods(self) def test_server(self): server_name = [] server_uuid = [] for i in range(4): # Create Server(choice flavor[0]) image = self.api.get_images()[0] flavor = self.api.get_flavors()[0] name = 'test-%i' % (i) post = {""server"": {""name"": name, ""flavorRef"": flavor['id'], ""imageRef"": image['id']}} created_server = self.api.post_server(post) found_server = self._wait_for_state_change(created_server, 'BUILD') self.assertEqual('ACTIVE', found_server['status']) server_name.insert(0, name) server_uuid.insert(0, created_server['id']) # List Servers list_servers = self.api.get_servers(detail = False) for i in range(4): self.assertEqual(server_uuid[i], list_servers[i]['id']) self.assertEqual(server_name[i], list_servers[i]['name']) # Delete Server for i in range(4): self._delete_server(server_uuid[i]) list_servers = self.api.get_servers(detail = False) self.assertEqual(list_servers, []) ",,62,0
openstack%2Fnova~master~I2ba040d55efc4d04697cc0bad4dab958083c46c0,openstack/nova,master,I2ba040d55efc4d04697cc0bad4dab958083c46c0,Test Compute API in multiple cells,ABANDONED,2018-04-11 04:46:23.000000000,2019-10-07 12:52:36.000000000,,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11704}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26716}]","[{'number': 1, 'created': '2018-04-11 04:46:23.000000000', 'files': ['nova/tests/functional/test_multiple_cell.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7113d91d85ea44efad8a9ac4d856893bfcddaae', 'message': 'Test Compute API in multiple cells\n\nCreate two cells, two nodes and map one cell to one node.\nin multiple cell Test various Compute APIs.\n\nAdd Migrate Server and Live-Migrate Server\n\nChange-Id: I2ba040d55efc4d04697cc0bad4dab958083c46c0\n'}]",2,560260,d7113d91d85ea44efad8a9ac4d856893bfcddaae,16,11,1,26716,,,0,"Test Compute API in multiple cells

Create two cells, two nodes and map one cell to one node.
in multiple cell Test various Compute APIs.

Add Migrate Server and Live-Migrate Server

Change-Id: I2ba040d55efc4d04697cc0bad4dab958083c46c0
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/560260/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_multiple_cell.py'],1,d7113d91d85ea44efad8a9ac4d856893bfcddaae,multiple_cell_test,"from nova.tests.functional.api import client ADMIN_API = True NUMBER_OF_CELLS = 2 def test_Migrate(self): image = self.api.get_images()[0] flavor = self.api.get_flavors()[0] post = {""server"": {""name"": ""test"", ""flavorRef"": flavor['id'], ""imageRef"": image['id'], ""availability_zone"": ""nova:compute""}} created_server = self.api.post_server(post) found_server = self._wait_for_state_change(created_server, 'BUILD') self.assertEqual('ACTIVE', found_server['status']) self.assertEqual('compute', found_server['OS-EXT-SRV-ATTR:host']) post = {""os-stop"": {}} self.api.post_server_action(found_server['id'], post) found_server = self._wait_for_state_change(created_server, 'ACTIVE') self.assertEqual('SHUTOFF', found_server['status']) post = {""migrate"": {""host"": ""compute2""}} try: self.api.post_server_action(found_server['id'], post) except client.OpenStackApiException: server = self.api.get_server(found_server['id']) self.assertEqual('SHUTOFF', found_server['status']) self.assertEqual('compute', server['OS-EXT-SRV-ATTR:host']) self._delete_server(found_server['id']) def test_Live_Migrate(self): image = self.api.get_images()[0] flavor = self.api.get_flavors()[0] post = {""server"": {""name"": ""test"", ""flavorRef"": flavor['id'], ""imageRef"": image['id'], ""availability_zone"": ""nova:compute2""}} created_server = self.api.post_server(post) found_server = self._wait_for_state_change(created_server, 'BUILD') self.assertEqual('ACTIVE', found_server['status']) self.assertEqual('compute2', found_server['OS-EXT-SRV-ATTR:host']) post = {""os-migrateLive"": {""host"": ""compute"", ""block_migration"": True, ""disk_over_commit"": True}} try: self.api.post_server_action(found_server['id'], post) except client.OpenStackApiException: server = self.api.get_server(found_server['id']) self.assertEqual('ACTIVE', found_server['status']) self.assertEqual('compute2', server['OS-EXT-SRV-ATTR:host']) self._delete_server(found_server['id']) ",,50,0
openstack%2Fnova~master~I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9,openstack/nova,master,I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9,Set scope_types for admin password policies,ABANDONED,2018-03-15 21:16:35.000000000,2019-10-07 12:41:48.000000000,,"[{'_account_id': 7}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26580}]","[{'number': 1, 'created': '2018-03-15 21:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43c52f903cdfe98b9c3777ad2cd8b483bfd32308', 'message': ""Set scope_types for admin password policies\n\nThis commit sets the scope_types for admin password policies to be\n`system` and `project`. This is because a system administrator should\nbe able to reset instance passwords for any instance in the\ndeployment. But users who don't have any authorization on the\ndeployment system, and only have roles on projects, should also be\nable to execute this API with a project-scoped token.\n\nChange-Id: I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9\nRelated-Bug: 968696\n""}, {'number': 2, 'created': '2018-04-13 16:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0639656fe009fcc25cde5c3cf1d9b9ee82f8ae09', 'message': ""Set scope_types for admin password policies\n\nThis commit sets the scope_types for admin password policies to be\n`system` and `project`. This is because a system administrator should\nbe able to reset instance passwords for any instance in the\ndeployment. But users who don't have any authorization on the\ndeployment system, and only have roles on projects, should also be\nable to execute this API with a project-scoped token.\n\nChange-Id: I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9\nRelated-Bug: 968696\n""}, {'number': 3, 'created': '2018-04-16 20:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efb7e93bead3fa445d77adaa5a9658de94d989d3', 'message': ""Set scope_types for admin password policies\n\nThis commit sets the scope_types for admin password policies to be\n`system` and `project`. This is because a system administrator should\nbe able to reset instance passwords for any instance in the\ndeployment. But users who don't have any authorization on the\ndeployment system, and only have roles on projects, should also be\nable to execute this API with a project-scoped token.\n\nThis commit also attempts to setup testing scenarios for various\npersonas that may be executing the policies.\n\nDepends-On: https://review.openstack.org/#/c/530509/\nDepends-On: https://review.openstack.org/#/c/523973/\nRelated-Bug: 968696\n\nChange-Id: I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9\n""}, {'number': 4, 'created': '2018-04-20 21:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc1ca00b1f39d750f7fd7eb94b889eee94b007a6', 'message': ""Set scope_types for admin password policies\n\nThis commit sets the scope_types for admin password policies to be\n`system` and `project`. This is because a system administrator should\nbe able to reset instance passwords for any instance in the\ndeployment. But users who don't have any authorization on the\ndeployment system, and only have roles on projects, should also be\nable to execute this API with a project-scoped token.\n\nThis commit also attempts to setup testing scenarios for various\npersonas that may be executing the policies.\n\nDepends-On: https://review.openstack.org/#/c/530509/\nDepends-On: https://review.openstack.org/#/c/523973/\nRelated-Bug: 968696\n\nChange-Id: I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9\n""}, {'number': 5, 'created': '2018-04-23 18:51:56.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/policies/admin_password.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/19d60fb9f8c7d894322fe90080cbd858aace6999', 'message': ""Set scope_types for admin password policies\n\nThis commit sets the scope_types for admin password policies to be\n`system` and `project`. This is because a system administrator should\nbe able to reset instance passwords for any instance in the\ndeployment. But users who don't have any authorization on the\ndeployment system, and only have roles on projects, should also be\nable to execute this API with a project-scoped token.\n\nThis commit also attempts to setup testing scenarios for various\npersonas that may be executing the policies.\n\nDepends-On: https://review.openstack.org/#/c/530509/\nDepends-On: https://review.openstack.org/#/c/523973/\nRelated-Bug: 968696\n\nChange-Id: I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9\n""}]",9,553613,19d60fb9f8c7d894322fe90080cbd858aace6999,82,20,5,5046,,,0,"Set scope_types for admin password policies

This commit sets the scope_types for admin password policies to be
`system` and `project`. This is because a system administrator should
be able to reset instance passwords for any instance in the
deployment. But users who don't have any authorization on the
deployment system, and only have roles on projects, should also be
able to execute this API with a project-scoped token.

This commit also attempts to setup testing scenarios for various
personas that may be executing the policies.

Depends-On: https://review.openstack.org/#/c/530509/
Depends-On: https://review.openstack.org/#/c/523973/
Related-Bug: 968696

Change-Id: I45dd1c9b3c74ff646aa4ee32e75d2be7f7ea1fa9
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/553613/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/admin_password.py'],1,43c52f903cdfe98b9c3777ad2cd8b483bfd32308,bug/968696," ], # By setting scope_types to both `project` and `system`, we're saying # either a system administrator should be able to reset this with a # system-scoped token (they should be able to do this for any # instance). Or a user with a role on a project should be able to reset # the password if they are a member of that project. This might require # an addition check in nova to make sure the instance in question # belongs to the project from the token scope (e.g. prevent a user from # resetting the password on an instance they don't have access to). scope_types=['system', 'project'])", ]),10,1
openstack%2Fnova~master~I6e94150820bf31a8404ef257db2b64b0d2ee9763,openstack/nova,master,I6e94150820bf31a8404ef257db2b64b0d2ee9763,make virtual pmem feature compatible with python3,MERGED,2019-09-29 09:00:29.000000000,2019-10-07 12:39:54.000000000,2019-09-30 21:03:54.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11347}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-29 09:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfe74c76bfa47a0a88e34f298a0f602e59b615e6', 'message': 'make virtual pmem feature compatible with python3\n\nconvert floating-point number to integer when generating\nvpmem xml.\n\nChange-Id: I6e94150820bf31a8404ef257db2b64b0d2ee9763\n'}, {'number': 2, 'created': '2019-09-29 09:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90311a420ab361c557ecf6e282aecf367fef8425', 'message': 'make virtual pmem feature compatible with python3\n\nconvert floating-point number to integer when generating\nvpmem xml.\n\nChange-Id: I6e94150820bf31a8404ef257db2b64b0d2ee9763\n'}, {'number': 3, 'created': '2019-09-30 03:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/775804825d546c7a1daf67f53542ed22c5389b4f', 'message': 'make virtual pmem feature compatible with python3\n\nconvert floating-point number to integer when generating\nvpmem xml.\n\nChange-Id: I6e94150820bf31a8404ef257db2b64b0d2ee9763\n'}, {'number': 4, 'created': '2019-09-30 05:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e2d869903851351e39e4b28c06106d26ebd8df5', 'message': 'make virtual pmem feature compatible with python3\n\nconvert floating-point number to integer when generating\nvpmem xml.\n\nChange-Id: I6e94150820bf31a8404ef257db2b64b0d2ee9763\nCloses-Bug: 1845905\n'}, {'number': 5, 'created': '2019-09-30 15:34:27.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6d5fdb4ef4dc3e5f40298e751d966ca54b2ae902', 'message': 'make virtual pmem feature compatible with python3\n\nconvert floating-point number to integer when generating\nvpmem xml.\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I6e94150820bf31a8404ef257db2b64b0d2ee9763\nCloses-Bug: 1845905\n'}]",5,685593,6d5fdb4ef4dc3e5f40298e751d966ca54b2ae902,56,15,5,23598,,,0,"make virtual pmem feature compatible with python3

convert floating-point number to integer when generating
vpmem xml.

Co-Authored-By: Eric Fried <openstack@fried.cc>
Change-Id: I6e94150820bf31a8404ef257db2b64b0d2ee9763
Closes-Bug: 1845905
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/685593/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,dfe74c76bfa47a0a88e34f298a0f602e59b615e6,bug/1845905, size_kb = six.integer_types(vpmem.size / units.Ki) align_kb = six.integer_types(vpmem.align / units.Ki), size_kb = vpmem.size / units.Ki align_kb = vpmem.align / units.Ki,2,2
openstack%2Fopenstack-ansible-os_nova~master~I6160b53ccfb161b8b8a161971795fd4962d86201,openstack/openstack-ansible-os_nova,master,I6160b53ccfb161b8b8a161971795fd4962d86201,Ensure libxml2 is available,MERGED,2019-10-04 18:47:49.000000000,2019-10-07 12:35:23.000000000,2019-10-07 12:34:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-04 18:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/fc4936e3cddd07804d35e3fb4acc16684cf74dff', 'message': 'Ensure libxml2 is available\n\nIn [1] many spurious packages were removed, and libxml2 was probably dependancy of a removed package. Add libxml2 as an explicit requirement.\n\n[1] https://review.opendev.org/662585\n\nChange-Id: I6160b53ccfb161b8b8a161971795fd4962d86201\n'}, {'number': 2, 'created': '2019-10-05 06:56:46.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0841c1cd6fc6c7c0e0404cd5258c366850144f50', 'message': 'Ensure libxml2 is available\n\nIn [1] many spurious packages were removed, and libxml2 was probably\na dependancy of a removed package. Add libxml2 as an explicit\nrequirement.\n\n[1] https://review.opendev.org/662585\n\nChange-Id: I6160b53ccfb161b8b8a161971795fd4962d86201\n'}]",0,686825,0841c1cd6fc6c7c0e0404cd5258c366850144f50,10,3,2,25023,,,0,"Ensure libxml2 is available

In [1] many spurious packages were removed, and libxml2 was probably
a dependancy of a removed package. Add libxml2 as an explicit
requirement.

[1] https://review.opendev.org/662585

Change-Id: I6160b53ccfb161b8b8a161971795fd4962d86201
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/25/686825/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml']",3,fc4936e3cddd07804d35e3fb4acc16684cf74dff,, - libxml2,,3,0
openstack%2Fnova~master~Ib3a6add23f5eeaa4e12da71075dbd90d9fb0d0ea,openstack/nova,master,Ib3a6add23f5eeaa4e12da71075dbd90d9fb0d0ea,Set scope_types for admin_action policies,ABANDONED,2018-03-15 21:06:07.000000000,2019-10-07 12:27:40.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-15 21:06:07.000000000', 'files': ['nova/policies/admin_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa03e59ad8924ce615fcf9e74193bdfb0656e1ce', 'message': 'Set scope_types for admin_action policies\n\nThese policies seem to be specific to system administrators. This\ncommit helps enforce this by setting scope_types for these policies\nto `system`.\n\nChange-Id: Ib3a6add23f5eeaa4e12da71075dbd90d9fb0d0ea\nPartial-Bug: 968696\n'}]",1,553612,aa03e59ad8924ce615fcf9e74193bdfb0656e1ce,16,12,1,5046,,,0,"Set scope_types for admin_action policies

These policies seem to be specific to system administrators. This
commit helps enforce this by setting scope_types for these policies
to `system`.

Change-Id: Ib3a6add23f5eeaa4e12da71075dbd90d9fb0d0ea
Partial-Bug: 968696
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/553612/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/admin_actions.py'],1,aa03e59ad8924ce615fcf9e74193bdfb0656e1ce,bug/968696," ], # These APIs appear to be dedicated to system administrators. Setting # scope_types to `system` will allows them to be accessible via # system-scoped tokens, and prevent users who are project # administrators from being able to execute these APIs. scope_types=['system']), ], scope_types=['system']), ], scope_types=['system'])"," ]), ]), ])",10,3
openstack%2Fnova~master~I603212f2d3cbbd482a2a68cd835af0261a85c392,openstack/nova,master,I603212f2d3cbbd482a2a68cd835af0261a85c392,Replace 'fake' with a real project ID,MERGED,2019-09-30 05:43:29.000000000,2019-10-07 12:22:23.000000000,2019-10-02 19:26:41.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-30 05:43:29.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/api/openstack/compute/test_security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_networks.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/test_api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_certificates.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/api/openstack/compute/test_consoles.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/api/openstack/compute/test_cloudpipe.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ce6b3bb762100e8ae03ea5400269db93d0ae040', 'message': ""Replace 'fake' with a real project ID\n\nThis patch is a follow-up for I3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057.\nReplace 'fake' with a real project ID in URL paths and related places\nin unit tests.\n\nChange-Id: I603212f2d3cbbd482a2a68cd835af0261a85c392\n""}]",2,685645,9ce6b3bb762100e8ae03ea5400269db93d0ae040,16,10,1,7634,,,0,"Replace 'fake' with a real project ID

This patch is a follow-up for I3eac9ac0a2a698a3c72b4e646cdcaf293ec4b057.
Replace 'fake' with a real project ID in URL paths and related places
in unit tests.

Change-Id: I603212f2d3cbbd482a2a68cd835af0261a85c392
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/685645/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/api/openstack/compute/test_security_group_default_rules.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/test_networks.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/api/openstack/test_api_version_request.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/api/openstack/compute/test_certificates.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/api/openstack/compute/test_consoles.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/api/openstack/compute/test_cloudpipe.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py']",31,9ce6b3bb762100e8ae03ea5400269db93d0ae040,remove_deprecated_option," req_url = '/v2/%s/flavors/%s' % (fakes.FAKE_PROJECT_ID, url)", req_url = '/v2/fake/flavors/' + url,220,155
openstack%2Fplacement~stable%2Ftrain~Ia2a4b982d6146a275f433a73b6a8a13acab1e00a,openstack/placement,stable/train,Ia2a4b982d6146a275f433a73b6a8a13acab1e00a,Fix domain name in install doc,MERGED,2019-10-04 09:08:58.000000000,2019-10-07 12:07:04.000000000,2019-10-04 23:38:47.000000000,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 09:08:58.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/3f1a89c7dd34c53d5bc9f1190e48ac3a9320bc70', 'message': ""Fix domain name in install doc\n\nBased on the keystone install docs [1][2][3] the domain created by the\nbootstrap is named 'Default' (with the id 'default'). This patch fixes\nthe placement install docs accordingly.\n\n[1] https://docs.openstack.org/keystone/stein/install/keystone-install-obs.html#finalize-the-installation\n[2] https://docs.openstack.org/keystone/stein/install/keystone-install-rdo.html#finalize-the-installation\n[3] https://docs.openstack.org/keystone/stein/install/keystone-install-ubuntu.html#finalize-the-installation\n\nStory: #2006652\nTask: #36894\nChange-Id: Ia2a4b982d6146a275f433a73b6a8a13acab1e00a\n(cherry picked from commit dbd03867118ee059b39be7677b8881b0f1a0b9c8)\n""}]",0,686554,3f1a89c7dd34c53d5bc9f1190e48ac3a9320bc70,11,3,1,25625,,,0,"Fix domain name in install doc

Based on the keystone install docs [1][2][3] the domain created by the
bootstrap is named 'Default' (with the id 'default'). This patch fixes
the placement install docs accordingly.

[1] https://docs.openstack.org/keystone/stein/install/keystone-install-obs.html#finalize-the-installation
[2] https://docs.openstack.org/keystone/stein/install/keystone-install-rdo.html#finalize-the-installation
[3] https://docs.openstack.org/keystone/stein/install/keystone-install-ubuntu.html#finalize-the-installation

Story: #2006652
Task: #36894
Change-Id: Ia2a4b982d6146a275f433a73b6a8a13acab1e00a
(cherry picked from commit dbd03867118ee059b39be7677b8881b0f1a0b9c8)
",git fetch https://review.opendev.org/openstack/placement refs/changes/54/686554/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",3,3f1a89c7dd34c53d5bc9f1190e48ac3a9320bc70,story/2006652-stable/train," project_domain_name = Default user_domain_name = Default .. note:: The value of ``user_name``, ``password``, ``project_domain_name`` and ``user_domain_name`` need to be in sync with your keystone config. ", project_domain_name = default user_domain_name = default,21,6
openstack%2Fsahara-plugin-storm~stable%2Ftrain~I59f04eb4fc0c3182b8bef0342e7e21702bb94813,openstack/sahara-plugin-storm,stable/train,I59f04eb4fc0c3182b8bef0342e7e21702bb94813,Imported Translations from Zanata,MERGED,2019-10-07 09:51:11.000000000,2019-10-07 11:48:35.000000000,2019-10-07 11:47:23.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 09:51:11.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_plugin_storm/locale/id/LC_MESSAGES/sahara_plugin_storm.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/3c0331869c0df96c85b3f0066a9dd0aa987a28f7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I59f04eb4fc0c3182b8bef0342e7e21702bb94813\n'}]",0,686992,3c0331869c0df96c85b3f0066a9dd0aa987a28f7,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I59f04eb4fc0c3182b8bef0342e7e21702bb94813
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/92/686992/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_plugin_storm/locale/id/LC_MESSAGES/sahara_plugin_storm.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po']",4,3c0331869c0df96c85b3f0066a9dd0aa987a28f7,zanata/translations,,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-storm\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-23 14:26+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-08-02 04:40+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Current Series Release Notes"" msgstr ""   "" msgid ""Sahara Storm Plugin Release Notes"" msgstr ""Sahara Storm   "" msgid ""Stein Series Release Notes"" msgstr ""Stein Series  "" ",43,69
openstack%2Freleases~master~I72d53617bdc231e2c13e1ee6f758c3f06afd3357,openstack/releases,master,I72d53617bdc231e2c13e1ee6f758c3f06afd3357,"Releases for Octavia Queens, Rocky, Stein and Train",MERGED,2019-09-19 16:44:34.000000000,2019-10-07 11:46:20.000000000,2019-10-07 11:46:20.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 16:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aca7d0bd384cc9184135bf15acfea954fc763af4', 'message': 'Releases for Octavia Queens, Rocky and Stein\n\nRelease Queens 2.1.2 and Rocky 3.1.2 and Stein 4.0.2.\n\nChange-Id: I72d53617bdc231e2c13e1ee6f758c3f06afd3357\n'}, {'number': 2, 'created': '2019-09-23 06:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ee6f5fe8d83c61c6e65c46d36e9c2e35d2a0d1d0', 'message': 'Releases for Octavia Queens, Rocky and Stein\n\nRelease Queens 2.1.2 and Rocky 3.1.2 and Stein 4.0.2.\n\nChange-Id: I72d53617bdc231e2c13e1ee6f758c3f06afd3357\n'}, {'number': 3, 'created': '2019-10-04 16:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5abf52250cebfbb3c0a127c10ee2b48af1299c51', 'message': 'Releases for Octavia Queens, Rocky and Stein\n\nRelease Queens 2.1.2 and Rocky 3.2.0 and Stein 4.1.0.\n\nChange-Id: I72d53617bdc231e2c13e1ee6f758c3f06afd3357\n'}, {'number': 4, 'created': '2019-10-06 09:50:50.000000000', 'files': ['deliverables/queens/octavia.yaml', 'deliverables/train/octavia.yaml', 'deliverables/rocky/octavia.yaml', 'deliverables/stein/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f6e9fdd1f508fbf14397d7a002202d8a0046e668', 'message': 'Releases for Octavia Queens, Rocky, Stein and Train\n\nRelease Queens 2.1.2, Rocky 3.2.0, Stein 4.1.0 and Train 5.0.0.0rc1.\n\nChange-Id: I72d53617bdc231e2c13e1ee6f758c3f06afd3357\n'}]",6,683202,f6e9fdd1f508fbf14397d7a002202d8a0046e668,19,8,4,6469,,,0,"Releases for Octavia Queens, Rocky, Stein and Train

Release Queens 2.1.2, Rocky 3.2.0, Stein 4.1.0 and Train 5.0.0.0rc1.

Change-Id: I72d53617bdc231e2c13e1ee6f758c3f06afd3357
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/683202/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/octavia.yaml', 'deliverables/rocky/octavia.yaml', 'deliverables/stein/octavia.yaml']",3,aca7d0bd384cc9184135bf15acfea954fc763af4,," - Octavia now supports load balancer ""flavors"". This allows an operator creating a load balancer. - You can now enable TLS client authentication when using TERMINATED_HTTPS listeners. - Octavia now supports backend re-encryption of connections to member servers. - Metadata tags can now be assigned to the elements of an Octavia load balancer. - version: 4.0.2 projects: - repo: openstack/octavia hash: 304675cb4f0b596af42d959c74aace9de5b12a2a"," - 'Octavia now supports load balancer ""flavors"". This allows an operator creating a load balancer.' - 'You can now enable TLS client authentication when using TERMINATED_HTTPS listeners.' - 'Octavia now supports backend re-encryption of connections to member servers.' - 'Metadata tags can now be assigned to the elements of an Octavia load balancer.'",32,20
openstack%2Fmistral~master~I5843135fb8adbeb73d1e205cf81f4c60e8b5b306,openstack/mistral,master,I5843135fb8adbeb73d1e205cf81f4c60e8b5b306,Add a cookiecutter template to generate custom stuff,MERGED,2019-09-03 13:44:52.000000000,2019-10-07 11:45:01.000000000,2019-10-07 11:43:32.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-09-03 13:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d656bda9123cb2a7ebfa3568510941c65ab98f85', 'message': 'WIP: add a cookiecutter template for custom actions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}, {'number': 2, 'created': '2019-09-03 13:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/16d997b188510d62a0c67f814d5151129af9ee0a', 'message': 'WIP: add a cookiecutter template for custom actions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}, {'number': 3, 'created': '2019-09-03 14:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2641290b371078e7725a5e8f82531c2148a368d0', 'message': 'WIP: add a cookiecutter template for custom actions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}, {'number': 4, 'created': '2019-09-03 15:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6766c4f36b86758054bd16de86493f3165484fa5', 'message': 'WIP: add a cookiecutter template for custom actions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}, {'number': 5, 'created': '2019-09-04 08:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/166489b289b1cc97eaaca9c1a9a6bbda1754ac0a', 'message': 'Add a cookiecutter template to generate custom stuff\n\n* Custom actions and yaql expressions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}, {'number': 6, 'created': '2019-09-11 12:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5b2a95d7e0cbe4177eeb7cc3606cbcb4771768d2', 'message': 'Add a cookiecutter template to generate custom stuff\n\n* Custom actions and yaql expressions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}, {'number': 7, 'created': '2019-09-11 12:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/09cf3438d44fe5b4f745ef038ec89e1cfeacc9c0', 'message': 'Add a cookiecutter template to generate custom stuff\n\n* Custom actions and yaql expressions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}, {'number': 8, 'created': '2019-09-11 13:39:59.000000000', 'files': ['tools/cookiecutter-mistral-custom/README.rst', 'tools/cookiecutter-mistral-custom/cookiecutter.json', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/README.rst', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/LICENSE', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/tests/test_expressions.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/tests/__init__.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/requirements.txt', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/tox.ini', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/tests/test_action.py', 'tools/cookiecutter-mistral-custom/update_actions.sh', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/__init__.py', 'mistral/db/sqlalchemy/migration/cli.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/actions.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/expression_functions.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/setup.py', 'tools/cookiecutter-mistral-custom/run_cookiecutter.sh', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/setup.cfg', 'doc/source/contributor/extending_yaql.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0b8dd84b18ffac05085cf387ea445f15754cc2b3', 'message': 'Add a cookiecutter template to generate custom stuff\n\n* Custom actions and yaql expressions\n\nChange-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306\n'}]",8,679782,0b8dd84b18ffac05085cf387ea445f15754cc2b3,26,5,8,19134,,,0,"Add a cookiecutter template to generate custom stuff

* Custom actions and yaql expressions

Change-Id: I5843135fb8adbeb73d1e205cf81f4c60e8b5b306
",git fetch https://review.opendev.org/openstack/mistral refs/changes/82/679782/8 && git format-patch -1 --stdout FETCH_HEAD,"['tools/cookiecutter-mistral-custom/README.rst', 'tools/cookiecutter-mistral-custom/cookiecutter.json', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/README.rst', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/LICENSE', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/tests/__init__.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/tox.ini', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/tests/test_action.py', 'tools/cookiecutter-mistral-custom/hooks/post_gen_project.sh', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/__init__.py', 'mistral/db/sqlalchemy/migration/cli.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/{{cookiecutter.pkg_name}}/actions.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/setup.py', 'tools/cookiecutter-mistral-custom/{{cookiecutter.project_name}}/setup.cfg']",13,d656bda9123cb2a7ebfa3568510941c65ab98f85,eyalb/cookiecutter,[metadata] name = {{ cookiecutter.project_name }} license = Apache 2.0 summary = {{ cookiecutter.summery }} description-file = README.rst long_description_content_type = text/x-rst author = {{ cookiecutter.author }} author-email = {{ cookiecutter.email }} version = {{cookiecutter.version}} classifier = Intended Audience :: Developers License :: OSI Approved :: Apache Software License Programming Language :: Python Programming Language :: Python :: 2 Programming Language :: Python :: 2.7 Programming Language :: Python :: 3 Programming Language :: Python :: 3.5 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7 Topic :: Utilities [options] packages = {{ cookiecutter.pkg_name }} install_requires = mistral_lib>=1.2.0 [options.entry_points] mistral.actions = {{ cookiecutter.action }} = {{cookiecutter.pkg_name}}.actions:{{cookiecutter.action_class}} [wheel] universal = 1 [tool:pytest] filterwarnings = # Show any DeprecationWarnings once once::DeprecationWarning ,,416,0
openstack%2Freleases~master~I51bffb9109b6b874aef660932b7bfba87ac5c2ab,openstack/releases,master,I51bffb9109b6b874aef660932b7bfba87ac5c2ab,Release storlets rc2 for train,MERGED,2019-10-04 12:01:07.000000000,2019-10-07 11:44:17.000000000,2019-10-07 11:44:17.000000000,"[{'_account_id': 308}, {'_account_id': 4608}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 12:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/67718482d242b53a74d537ca1a6722457a805e05', 'message': 'Release storlets rc2 for train\n\nbecause rc1 was missing the release note for 4.0.0\nthe new hash for rc2 includes the release note change.\n\nChange-Id: I51bffb9109b6b874aef660932b7bfba87ac5c2ab\n'}, {'number': 2, 'created': '2019-10-04 12:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/63e44e77a03980381235ef72608a6ff72f464acb', 'message': 'Release storlets rc2 for train\n\nbecause rc1 was missing the release note for 4.0.0\nthe new hash for rc2 includes the release note change.\n\nChange-Id: I51bffb9109b6b874aef660932b7bfba87ac5c2ab\n'}, {'number': 3, 'created': '2019-10-04 15:51:12.000000000', 'files': ['deliverables/train/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/271f3fed095fb1f987d0386e78574f876b1d5497', 'message': 'Release storlets rc2 for train\n\nbecause rc1 was missing the release note for 4.0.0\nthe new hash for rc2 includes the release note change.\n\nChange-Id: I51bffb9109b6b874aef660932b7bfba87ac5c2ab\n'}]",0,686578,271f3fed095fb1f987d0386e78574f876b1d5497,15,4,3,4608,,,0,"Release storlets rc2 for train

because rc1 was missing the release note for 4.0.0
the new hash for rc2 includes the release note change.

Change-Id: I51bffb9109b6b874aef660932b7bfba87ac5c2ab
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/686578/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/storlets.yaml'],1,67718482d242b53a74d537ca1a6722457a805e05,storlets-train-rc2, - version: 4.0.0.0rc2 - repo: openstack/storlets hash: a543cd3396cd759d1bbf4dae10317d111deb824c,,3,0
openstack%2Frpm-packaging~master~Iee8775539958b8d15c6c8c3f8a9c73ec1f02488f,openstack/rpm-packaging,master,Iee8775539958b8d15c6c8c3f8a9c73ec1f02488f,monasca-agent: Switch to python3,MERGED,2019-10-07 08:45:41.000000000,2019-10-07 11:30:26.000000000,2019-10-07 11:30:26.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 08:45:41.000000000', 'files': ['openstack/monasca-agent/monasca-agent.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0d25368a2e5a8383fc0de1157e10af68c80acfac', 'message': 'monasca-agent: Switch to python3\n\nAlso do some cleanup\n\nChange-Id: Iee8775539958b8d15c6c8c3f8a9c73ec1f02488f\n'}]",0,686977,0d25368a2e5a8383fc0de1157e10af68c80acfac,10,6,1,7102,,,0,"monasca-agent: Switch to python3

Also do some cleanup

Change-Id: Iee8775539958b8d15c6c8c3f8a9c73ec1f02488f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/686977/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-agent/monasca-agent.spec.j2'],1,0d25368a2e5a8383fc0de1157e10af68c80acfac,,"BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('httplib2') }} BuildRequires: {{ py3('python-keystoneclient') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('monasca-common') }} BuildRequires: {{ py3('python-monascaclient') }} BuildRequires: {{ py3('netaddr') }} BuildRequires: {{ py3('ntplib') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.middleware') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslo.vmware') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('psutil') }} BuildRequires: {{ py3('pymongo') }} BuildRequires: {{ py3('python-memcached') }} BuildRequires: {{ py3('redis') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('testrepository') }} BuildRequires: {{ py3('tornado') }}Requires: python3-{{ pypi_name }} = %{version}-%{release}%package -n python3-{{ pypi_name }}Requires: {{ py3('PyYAML') }} Requires: {{ py3('eventlet') }} Requires: {{ py3('httplib2') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('python-keystoneclient') }} Requires: {{ py3('monasca-common') }} Requires: {{ py3('python-monascaclient') }} Requires: {{ py3('netaddr') }} Requires: {{ py3('python-neutronclient') }} Requires: {{ py3('python-novaclient') }} Requires: {{ py3('ntplib') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('oslo.vmware') }} Requires: {{ py3('psutil') }} Requires: {{ py3('pymongo') }} Requires: {{ py3('python-memcached') }} Requires: {{ py3('redis') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }}Requires: {{ py3('tornado') }}Requires: {{ py3('toml') }} Requires: {{ py3('tornado') }}%description -n python3-{{ pypi_name }}%autosetup -p1 -n {{ pypi_name }}-{{ upstream_version }}%{py3_build}%{py3_install}install -d -m 750 %{buildroot}%{_localstatedir}/log/{{ pypi_name }}%fdupes %{buildroot}%{python3_sitelib}python3 -m stestr.cli run%dir %attr(0750, %{username}, %{groupname}) %{_localstatedir}/log/{{ pypi_name }}%files -n python3-{{ pypi_name }}%{python3_sitelib}/monasca_agent %{python3_sitelib}/monasca_agent-*.egg-info %{python3_sitelib}/monasca_setup","%global sname {{ pypi_name }}BuildRequires: {{ py2pkg('PyYAML') }} BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('eventlet') }} BuildRequires: {{ py2pkg('futures') }} BuildRequires: {{ py2pkg('httplib2') }} BuildRequires: {{ py2pkg('python-keystoneclient') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('monasca-common') }} BuildRequires: {{ py2pkg('python-monascaclient') }} BuildRequires: {{ py2pkg('netaddr') }} BuildRequires: {{ py2pkg('ntplib') }} BuildRequires: {{ py2pkg('oslo.concurrency') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.middleware') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslo.vmware') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('psutil') }} BuildRequires: {{ py2pkg('pymongo') }} BuildRequires: {{ py2pkg('python-memcached') }} BuildRequires: {{ py2pkg('redis') }} BuildRequires: {{ py2pkg('requests') }} BuildRequires: {{ py2pkg('stevedore') }} BuildRequires: {{ py2pkg('testrepository') }} BuildRequires: {{ py2pkg('tornado') }}Requires: python-%{sname} = %{version}-%{release}%package -n python-%{sname}Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('eventlet') }} Requires: {{ py2pkg('futures') }} Requires: {{ py2pkg('httplib2') }} Requires: {{ py2pkg('python-keystoneclient') }} Requires: {{ py2pkg('monasca-common') }} Requires: {{ py2pkg('python-monascaclient') }} Requires: {{ py2pkg('netaddr') }} Requires: {{ py2pkg('python-neutronclient') }} Requires: {{ py2pkg('python-novaclient') }} Requires: {{ py2pkg('ntplib') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('oslo.vmware') }} Requires: {{ py2pkg('psutil') }} Requires: {{ py2pkg('pymongo') }} Requires: {{ py2pkg('python-memcached') }} Requires: {{ py2pkg('redis') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('stevedore') }}Requires: {{ py2pkg('tornado') }}Requires: {{ py2pkg('toml') }} Requires: {{ py2pkg('tornado') }}%description -n python-%{sname}%autosetup -n %{sname}-{{ upstream_version }}%py2_build%py2_installinstall -d -m 750 %{buildroot}%{_localstatedir}/log/%{sname}%fdupes %{buildroot}%{python2_sitelib}python setup.py test%dir %attr(0750, %{username}, %{groupname}) %{_localstatedir}/log/%{sname}%files -n python-%{sname}%{python2_sitelib}/monasca_agent %{python2_sitelib}/monasca_agent-*.egg-info %{python2_sitelib}/monasca_setup",64,66
openstack%2Frpm-packaging~master~I912fc9137df182a5cb5c2246d0ac6169e789b08f,openstack/rpm-packaging,master,I912fc9137df182a5cb5c2246d0ac6169e789b08f,Update congressclient for python3,MERGED,2019-10-05 03:09:14.000000000,2019-10-07 11:30:08.000000000,2019-10-07 11:30:08.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-05 03:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2a07e46d40766dec53063490db4b2c3f82432111', 'message': 'Update congressclient for python3\n\nChange-Id: I912fc9137df182a5cb5c2246d0ac6169e789b08f\n'}, {'number': 2, 'created': '2019-10-07 09:13:31.000000000', 'files': ['openstack/python-congressclient/python-congressclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/16f32dac21396222dd23969921139bdeaea43d76', 'message': 'Update congressclient for python3\n\nChange-Id: I912fc9137df182a5cb5c2246d0ac6169e789b08f\n'}]",2,686860,16f32dac21396222dd23969921139bdeaea43d76,16,5,2,28777,,,0,"Update congressclient for python3

Change-Id: I912fc9137df182a5cb5c2246d0ac6169e789b08f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/686860/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-congressclient/python-congressclient.spec.j2'],1,2a07e46d40766dec53063490db4b2c3f82432111,,Name: {{ py2name(py_versions='py3') }}URL: https://launchpad.net/{{ pypi_name }}BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('jsonpatch') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('osc-lib') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('sphinxcontrib-apidoc') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} Requires: {{ py3('Babel') }} Requires: {{ py3('cliff') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('reno') }}%autosetup -p1 -n {{ pypi_name }}-%{version}%{py3_build}%{py3_install}%{__python3} -m stestr.cli run%{python3_sitelib}/congressclient %{python3_sitelib}/*.egg-info,Name: {{ py2name() }}URL: https://launchpad.net/%{name}BuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('jsonpatch') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('osc-lib') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.serialization') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('sphinxcontrib-apidoc') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('cliff') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('reno') }}%autosetup -n %{name}-%{version}%{py2_build}%{py2_install}stestr run%{python2_sitelib}/congressclient %{python2_sitelib}/*.egg-info,35,36
openstack%2Fkolla~stable%2Fstein~Iad7ad20542a159469d95e990c20564633046b251,openstack/kolla,stable/stein,Iad7ad20542a159469d95e990c20564633046b251,Install rsync in swift-base containers on Debian/Ubuntu,MERGED,2019-10-02 08:40:52.000000000,2019-10-07 11:26:09.000000000,2019-10-07 11:24:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-10-02 08:40:52.000000000', 'files': ['docker/swift/swift-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f8a8d87af079fbe509d6654c42f0ae2ca8f9515c', 'message': 'Install rsync in swift-base containers on Debian/Ubuntu\n\nThis is used by the replicator services.\n\nChange-Id: Iad7ad20542a159469d95e990c20564633046b251\nCloses-Bug: #1846207\n(cherry picked from commit d61c54be9d281a024a448f783dbde037d5fd1cda)\n'}]",0,686106,f8a8d87af079fbe509d6654c42f0ae2ca8f9515c,8,3,1,14826,,,0,"Install rsync in swift-base containers on Debian/Ubuntu

This is used by the replicator services.

Change-Id: Iad7ad20542a159469d95e990c20564633046b251
Closes-Bug: #1846207
(cherry picked from commit d61c54be9d281a024a448f783dbde037d5fd1cda)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/686106/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/swift/swift-base/Dockerfile.j2'],1,f8a8d87af079fbe509d6654c42f0ae2ca8f9515c,bug/1846207-stable/stein," 'nmap-ncat', 'openstack-swift', ] %} 'netcat-openbsd', 'rsync', 'swift', ] %} {% set swift_base_packages = [ 'liberasurecode-devel', 'nmap-ncat', ] %} {% set swift_base_packages = [ 'liberasurecode-dev', 'netcat-openbsd', 'rsync', ] %}"," 'openstack-swift', 'nmap-ncat' ] %} 'swift', 'netcat-openbsd' ] %} {% set swift_base_packages = ['liberasurecode-devel','nmap-ncat'] %} {% set swift_base_packages = ['liberasurecode-dev','netcat-openbsd'] %}",16,10
openstack%2Fkolla~stable%2Frocky~Iad7ad20542a159469d95e990c20564633046b251,openstack/kolla,stable/rocky,Iad7ad20542a159469d95e990c20564633046b251,Install rsync in swift-base containers on Debian/Ubuntu,MERGED,2019-10-02 08:44:15.000000000,2019-10-07 11:24:47.000000000,2019-10-07 11:24:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-10-02 08:44:15.000000000', 'files': ['docker/swift/swift-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a27ca7a9c2d5777f771624ec823abdc935fa83d', 'message': 'Install rsync in swift-base containers on Debian/Ubuntu\n\nThis is used by the replicator services.\n\nChange-Id: Iad7ad20542a159469d95e990c20564633046b251\nCloses-Bug: #1846207\n(cherry picked from commit d61c54be9d281a024a448f783dbde037d5fd1cda)\n'}]",0,686108,5a27ca7a9c2d5777f771624ec823abdc935fa83d,7,3,1,14826,,,0,"Install rsync in swift-base containers on Debian/Ubuntu

This is used by the replicator services.

Change-Id: Iad7ad20542a159469d95e990c20564633046b251
Closes-Bug: #1846207
(cherry picked from commit d61c54be9d281a024a448f783dbde037d5fd1cda)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/686108/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/swift/swift-base/Dockerfile.j2'],1,5a27ca7a9c2d5777f771624ec823abdc935fa83d,bug/1846207," 'netcat-openbsd', 'rsync', 'swift', ] %} {% set swift_base_packages = ['liberasurecode-dev','netcat-openbsd', 'rsync'] %}"," 'swift', 'netcat-openbsd' ] %} {% set swift_base_packages = ['liberasurecode-dev','netcat-openbsd'] %}",5,5
openstack%2Fkolla~stable%2Fqueens~Iad7ad20542a159469d95e990c20564633046b251,openstack/kolla,stable/queens,Iad7ad20542a159469d95e990c20564633046b251,Install rsync in swift-base containers on Debian/Ubuntu,MERGED,2019-10-02 08:50:07.000000000,2019-10-07 11:24:45.000000000,2019-10-07 11:24:45.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-10-02 08:50:07.000000000', 'files': ['docker/swift/swift-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2b37f39126ddf40cafddb98ba038d28101da762a', 'message': 'Install rsync in swift-base containers on Debian/Ubuntu\n\nThis is used by the replicator services.\n\nChange-Id: Iad7ad20542a159469d95e990c20564633046b251\nCloses-Bug: #1846207\n(cherry picked from commit d61c54be9d281a024a448f783dbde037d5fd1cda)\n'}]",0,686109,2b37f39126ddf40cafddb98ba038d28101da762a,7,3,1,14826,,,0,"Install rsync in swift-base containers on Debian/Ubuntu

This is used by the replicator services.

Change-Id: Iad7ad20542a159469d95e990c20564633046b251
Closes-Bug: #1846207
(cherry picked from commit d61c54be9d281a024a448f783dbde037d5fd1cda)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/686109/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/swift/swift-base/Dockerfile.j2'],1,2b37f39126ddf40cafddb98ba038d28101da762a,bug/1846207," 'netcat-openbsd', 'rsync', 'swift', ] %} {% set swift_base_packages = ['liberasurecode-dev','netcat-openbsd', 'rsync'] %}"," 'swift', 'netcat-openbsd' ] %} {% set swift_base_packages = ['liberasurecode-dev','netcat-openbsd'] %}",5,5
openstack%2Fopenstack-ansible~master~I45ba2811c642aaea00f07cbcfe00f9e7e16d577d,openstack/openstack-ansible,master,I45ba2811c642aaea00f07cbcfe00f9e7e16d577d,Imported Translations from Zanata,MERGED,2019-10-07 07:57:48.000000000,2019-10-07 11:07:17.000000000,2019-10-07 11:04:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-07 07:57:48.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cec30bbead9d2acb41362ae1e6d3f6d72f13f7ec', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I45ba2811c642aaea00f07cbcfe00f9e7e16d577d\n'}]",0,686973,cec30bbead9d2acb41362ae1e6d3f6d72f13f7ec,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I45ba2811c642aaea00f07cbcfe00f9e7e16d577d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/686973/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,cec30bbead9d2acb41362ae1e6d3f6d72f13f7ec,zanata/translations,"""POT-Creation-Date: 2019-10-04 11:46+0000\n""""PO-Revision-Date: 2019-10-06 02:19+0000\n""msgid ""19.0.0.0rc1-172"" msgstr ""19.0.0.0rc1-172""","""POT-Creation-Date: 2019-10-01 16:46+0000\n""""PO-Revision-Date: 2019-10-03 01:57+0000\n""msgid ""19.0.0.0rc1-171"" msgstr ""19.0.0.0rc1-171""",4,4
openstack%2Frpm-packaging~master~I8d05d037aadeb1b524cad31f916ae2b550825ce1,openstack/rpm-packaging,master,I8d05d037aadeb1b524cad31f916ae2b550825ce1,monasca-notification: Switch to python3,MERGED,2019-10-07 08:52:11.000000000,2019-10-07 11:02:58.000000000,2019-10-07 11:02:57.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 08:52:11.000000000', 'files': ['openstack/monasca-notification/monasca-notification.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/94322c9796465be92898c1e5fb0ca56af48f4c00', 'message': 'monasca-notification: Switch to python3\n\nChange-Id: I8d05d037aadeb1b524cad31f916ae2b550825ce1\n'}]",0,686979,94322c9796465be92898c1e5fb0ca56af48f4c00,9,5,1,7102,,,0,"monasca-notification: Switch to python3

Change-Id: I8d05d037aadeb1b524cad31f916ae2b550825ce1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/686979/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-notification/monasca-notification.spec.j2'],1,94322c9796465be92898c1e5fb0ca56af48f4c00,,BuildRequires: {{ py3('Jinja2') }} BuildRequires: {{ py3('SQLAlchemy') }} BuildRequires: {{ py3('keystoneauth1') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('monasca-common') }} BuildRequires: {{ py3('monasca-statsd') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }}Requires: python3-%{sname} = %{version}-%{release}BuildRequires: {{ py3('jira') }}%package -n python3-%{sname}Requires: {{ py3('Jinja2') }} Requires: {{ py3('PyYAML') }} Requires: {{ py3('SQLAlchemy') }} Requires: {{ py3('debtcollector') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('monasca-common') }} Requires: {{ py3('monasca-statsd') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} %description -n python3-%{sname}%autosetup -p1 -n %{sname}-{{ upstream_version }}%py3_build%py3_install%fdupes %{buildroot}%{python3_sitelib}%{__python3} -m stestr.cli run%files -n python3-monasca-notification%{python3_sitelib}/monasca_notification %{python3_sitelib}/*.egg-info,BuildRequires: {{ py2pkg('Jinja2') }} BuildRequires: {{ py2pkg('SQLAlchemy') }} BuildRequires: {{ py2pkg('keystoneauth1') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('monasca-common') }} BuildRequires: {{ py2pkg('monasca-statsd') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('requests') }} BuildRequires: {{ py2pkg('six') }} BuildRequires: {{ py2pkg('stestr') }}Requires: python-%{sname} = %{version}-%{release}BuildRequires: {{ py2pkg('jira') }}%package -n python-%{sname}Requires: {{ py2pkg('Jinja2') }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('SQLAlchemy') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('monasca-common') }} Requires: {{ py2pkg('monasca-statsd') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} %description -n python-%{sname}%autosetup -n %{sname}-{{ upstream_version }}%py2_build%py2_install%fdupes %{buildroot}%{python2_sitelib}%{__python2} -m stestr.cli run%files -n python-monasca-notification%{python2_sitelib}/monasca_notification %{python2_sitelib}/*.egg-info,36,36
openstack%2Frpm-packaging~master~Ifdb3405bd2e385c814c62318636ff8e965aaf266,openstack/rpm-packaging,master,Ifdb3405bd2e385c814c62318636ff8e965aaf266,monasca-api: Fix fdupes call and cleanup %check,MERGED,2019-10-07 08:47:00.000000000,2019-10-07 11:02:57.000000000,2019-10-07 11:02:57.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 08:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/34b736c54ad39260675e4e112fed1e2b519c0c7b', 'message': 'monasca-api: Fix fdupes call\n\nWe switched to python3, so use the correct path.\n\nChange-Id: Ifdb3405bd2e385c814c62318636ff8e965aaf266\n'}, {'number': 2, 'created': '2019-10-07 08:49:30.000000000', 'files': ['openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2cf4285bfc2b0bb2bd103426a5c701b492f24763', 'message': 'monasca-api: Fix fdupes call and cleanup %check\n\n- We switched to python3, so use the correct path for fdupes\n- Simplify the stestr call. No need for an %if there\n\nChange-Id: Ifdb3405bd2e385c814c62318636ff8e965aaf266\n'}]",0,686978,2cf4285bfc2b0bb2bd103426a5c701b492f24763,10,5,2,7102,,,0,"monasca-api: Fix fdupes call and cleanup %check

- We switched to python3, so use the correct path for fdupes
- Simplify the stestr call. No need for an %if there

Change-Id: Ifdb3405bd2e385c814c62318636ff8e965aaf266
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/78/686978/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-api/monasca-api.spec.j2'],1,34b736c54ad39260675e4e112fed1e2b519c0c7b,,%fdupes %{buildroot}%{python3_sitelib}/monasca_api,%fdupes %{buildroot}%{python2_sitelib}/monasca_api,1,1
openstack%2Frpm-packaging~master~Idd29413ceee3c6c4611aec27959de6f858f0f6a4,openstack/rpm-packaging,master,Idd29413ceee3c6c4611aec27959de6f858f0f6a4,monasca-transform: Switch to python3,MERGED,2019-10-07 08:56:18.000000000,2019-10-07 11:02:56.000000000,2019-10-07 11:02:55.000000000,"[{'_account_id': 2062}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 08:56:18.000000000', 'files': ['openstack/monasca-transform/monasca-transform.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2866e7e0dd6d090f454fe36129a987fe2c290a9c', 'message': 'monasca-transform: Switch to python3\n\nChange-Id: Idd29413ceee3c6c4611aec27959de6f858f0f6a4\n'}]",0,686981,2866e7e0dd6d090f454fe36129a987fe2c290a9c,9,5,1,7102,,,0,"monasca-transform: Switch to python3

Change-Id: Idd29413ceee3c6c4611aec27959de6f858f0f6a4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/686981/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-transform/monasca-transform.spec.j2'],1,2866e7e0dd6d090f454fe36129a987fe2c290a9c,,BuildRequires: {{ py3('PyMySQL') }} BuildRequires: {{ py3('SQLAlchemy') }} BuildRequires: {{ py3('kazoo') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('monasca-common') }} BuildRequires: {{ py3('nose') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.service') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('psutil') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('tooz') }}Requires: python3-%{sname} = %{version}-%{release}%package -n python3-%{sname}Requires: {{ py3('PyMySQL') }} Requires: {{ py3('SQLAlchemy') }} Requires: {{ py3('kazoo') }} Requires: {{ py3('monasca-common') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} Requires: {{ py3('tooz') }}%description -n python3-%{sname}export LANG=en_US.UTF-8 %{py3_build}export LANG=en_US.UTF-8 %{py3_install}crudini --set %{mon_trans_conf} service spark_driver %{python3_sitelib}/monasca_transform/driver/mon_metrics_kafka.py%fdupes %{buildroot}%{python3_sitelib}python3 -m stestr.cli run%files -n python3-{{ pypi_name }}%{python3_sitelib}/monasca_transform %{python3_sitelib}/*.egg-info,BuildRequires: {{ py2pkg('PyMySQL') }} BuildRequires: {{ py2pkg('SQLAlchemy') }} BuildRequires: {{ py2pkg('kazoo') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('monasca-common') }} BuildRequires: {{ py2pkg('nose') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.service') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('psutil') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('six') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('stevedore') }} BuildRequires: {{ py2pkg('tooz') }}Requires: python-%{sname} = %{version}-%{release}%package -n python-%{sname}Requires: {{ py2pkg('PyMySQL') }} Requires: {{ py2pkg('SQLAlchemy') }} Requires: {{ py2pkg('kazoo') }} Requires: {{ py2pkg('monasca-common') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }} Requires: {{ py2pkg('tooz') }}%description -n python-%{sname}%{py2_build}%{py2_install}crudini --set %{mon_trans_conf} service spark_driver %{python2_sitelib}/monasca_transform/driver/mon_metrics_kafka.py%fdupes %{buildroot}%{python2_sitelib}python2 -m stestr.cli run%files -n python-{{ pypi_name }}%{python2_sitelib}/monasca_transform %{python2_sitelib}/*.egg-info,39,37
openstack%2Fnova~master~I99045c6108583dcfac0e97207ca8b3239c45ba4f,openstack/nova,master,I99045c6108583dcfac0e97207ca8b3239c45ba4f,WIP: VMware: implement get_serial_console,ABANDONED,2018-03-15 14:24:52.000000000,2019-10-07 11:01:38.000000000,,"[{'_account_id': 9172}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-15 14:24:52.000000000', 'files': ['nova/virt/vmwareapi/driver.py', 'nova/conf/vmware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff0c1ab573fbeaa66380cbd5b4db8709e262828a', 'message': 'WIP: VMware: implement get_serial_console\n\nWhen serial console is requested, query the VSPC admin interface for\nthe host and port which correspond to the given instance.\n\nChange-Id: I99045c6108583dcfac0e97207ca8b3239c45ba4f\n'}]",0,553411,ff0c1ab573fbeaa66380cbd5b4db8709e262828a,13,12,1,9172,,,0,"WIP: VMware: implement get_serial_console

When serial console is requested, query the VSPC admin interface for
the host and port which correspond to the given instance.

Change-Id: I99045c6108583dcfac0e97207ca8b3239c45ba4f
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/553411/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/driver.py', 'nova/conf/vmware.py']",2,ff0c1ab573fbeaa66380cbd5b4db8709e262828a,serial-console," cfg.StrOpt('vspc_admin_host', default='127.0.0.1', help=""VSPC admin host""), cfg.IntOpt('vspc_admin_port', default=13371, help=""VSPC admin port""),",,20,0
openstack%2Fnova~master~Ic8a7531a760f0af0e62f080868128b7b2fccc345,openstack/nova,master,Ic8a7531a760f0af0e62f080868128b7b2fccc345,Add allocation ratios to hypervisor api.,ABANDONED,2017-03-23 12:18:12.000000000,2019-10-07 11:00:58.000000000,,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-23 12:18:12.000000000', 'files': ['nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97a400a0d92dea85522b4c48097c7faa91d4b7a6', 'message': 'Add allocation ratios to hypervisor api.\n\nChange-Id: Ic8a7531a760f0af0e62f080868128b7b2fccc345\nCloses-bug: #1654487\n'}]",0,449107,97a400a0d92dea85522b4c48097c7faa91d4b7a6,19,13,1,24873,,,0,"Add allocation ratios to hypervisor api.

Change-Id: Ic8a7531a760f0af0e62f080868128b7b2fccc345
Closes-bug: #1654487
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/449107/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py']",2,97a400a0d92dea85522b4c48097c7faa91d4b7a6,bug/1654487," host_ip=netaddr.IPAddress('1.1.1.1'), cpu_allocation_ratio=1.5, ram_allocation_ratio=1.0, disk_allocation_ratio=0.9), host_ip=netaddr.IPAddress('2.2.2.2'), cpu_allocation_ratio=15.0, ram_allocation_ratio=1.5, disk_allocation_ratio=1.0)] 'vcpus_used': 2, 'cpu_allocation_ratio': 15.0, 'ram_allocation_ratio': 1.5, 'disk_allocation_ratio': 1.0}"," host_ip=netaddr.IPAddress('1.1.1.1')), host_ip=netaddr.IPAddress('2.2.2.2'))] 'vcpus_used': 2}",15,4
openstack%2Fnova~master~Ib643aba56f63250a341b3d3451b9064ce25da292,openstack/nova,master,Ib643aba56f63250a341b3d3451b9064ce25da292,fix bug/1619606 on https://bugs.launchpad.net/nova/+bug/1619606,ABANDONED,2018-03-13 06:48:42.000000000,2019-10-07 11:00:13.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10439}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-13 06:48:42.000000000', 'files': ['nova/compute/task_states.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9617daad196c3707823968f5f478985a31905916', 'message': 'fix bug/1619606 on https://bugs.launchpad.net/nova/+bug/1619606\n\nChange-Id: Ib643aba56f63250a341b3d3451b9064ce25da292\n'}]",3,552310,9617daad196c3707823968f5f478985a31905916,14,12,1,27487,,,0,"fix bug/1619606 on https://bugs.launchpad.net/nova/+bug/1619606

Change-Id: Ib643aba56f63250a341b3d3451b9064ce25da292
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/552310/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/task_states.py', 'nova/compute/api.py']",2,9617daad196c3707823968f5f478985a31905916,, instance.task_state = task_states.SNAPSHOT_VOLUME_BAKCED instance.save(expected_task_state=[None]) instance.task_state = None instance.save(expected_task_state=task_states.SNAPSHOT_VOLUME_BAKCED) ,,9,0
openstack%2Ftripleo-heat-templates~master~If81b1ce9ef381ff102a6ce71fa4603424deca01d,openstack/tripleo-heat-templates,master,If81b1ce9ef381ff102a6ce71fa4603424deca01d,Prevent running mysql data transfer twice by accident,MERGED,2019-09-27 08:21:54.000000000,2019-10-07 10:58:32.000000000,2019-10-07 10:58:32.000000000,"[{'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-27 08:21:54.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60b0359b83adc8cd6d7391ceab3bb6c2a4e346d7', 'message': 'Prevent running mysql data transfer twice by accident\n\nProviding the tripleo_transfer_flag_file parameter means the data\ntransfer would stop (fail intentionally) if it has been already run\npreviously.\n\nChange-Id: If81b1ce9ef381ff102a6ce71fa4603424deca01d\nPartial-Bug: #1831690\n'}]",2,685226,60b0359b83adc8cd6d7391ceab3bb6c2a4e346d7,12,6,1,8042,,,0,"Prevent running mysql data transfer twice by accident

Providing the tripleo_transfer_flag_file parameter means the data
transfer would stop (fail intentionally) if it has been already run
previously.

Change-Id: If81b1ce9ef381ff102a6ce71fa4603424deca01d
Partial-Bug: #1831690
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/685226/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,60b0359b83adc8cd6d7391ceab3bb6c2a4e346d7,tripleo-transfer-flag, tripleo_transfer_flag_file: /var/lib/tripleo/transfer-flags/var-lib-mysql,,1,0
openstack%2Fnova~master~I1f45318d480f1324f14ba23f56caf5dba7a12c13,openstack/nova,master,I1f45318d480f1324f14ba23f56caf5dba7a12c13,Fix a bug in libvirt driver,ABANDONED,2017-11-07 06:51:11.000000000,2019-10-07 10:58:20.000000000,,"[{'_account_id': 5754}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-07 06:51:11.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/521793443cb856e5aa01b5ea57b16a757f98368d', 'message': ""Fix a bug in libvirt driver\n\nWhen the vm booted from a volume, but it created failed and then we\nneeded to clean it up. But we cannot delete it for the bug in code.\n\nThe bug is that if the 'connection_info' is None and then we should\njudge it first.\n\nChange-Id: I1f45318d480f1324f14ba23f56caf5dba7a12c13\nCloses-Bug: 1730549\n""}]",0,518250,521793443cb856e5aa01b5ea57b16a757f98368d,12,11,1,17430,,,0,"Fix a bug in libvirt driver

When the vm booted from a volume, but it created failed and then we
needed to clean it up. But we cannot delete it for the bug in code.

The bug is that if the 'connection_info' is None and then we should
judge it first.

Change-Id: I1f45318d480f1324f14ba23f56caf5dba7a12c13
Closes-Bug: 1730549
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/518250/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,521793443cb856e5aa01b5ea57b16a757f98368d,bug/1730549, if (connection_info and 'data' in connection_info and, if ('data' in connection_info and,1,1
openstack%2Freleases~master~Ia1ee8d94fe12e881e0751a4f703d4583d70b45d9,openstack/releases,master,Ia1ee8d94fe12e881e0751a4f703d4583d70b45d9,Release and branch request for requirements train,MERGED,2019-09-23 17:37:59.000000000,2019-10-07 10:57:57.000000000,2019-10-07 10:57:57.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-23 17:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/596f2321b254443f648ade494282b86a737dac68', 'message': 'Auto release request for requirements\n\nChange-Id: Ia1ee8d94fe12e881e0751a4f703d4583d70b45d9\n'}, {'number': 2, 'created': '2019-10-04 15:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e8bd28755f006c17424189c692a4a9bb721d7fa8', 'message': 'Release and branch request for requirements train\n\nChange-Id: Ia1ee8d94fe12e881e0751a4f703d4583d70b45d9\n'}, {'number': 3, 'created': '2019-10-04 15:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5efd1a4b4284be742128c7fde102913690ae5519', 'message': 'Release and branch request for requirements train\n\nChange-Id: Ia1ee8d94fe12e881e0751a4f703d4583d70b45d9\n'}, {'number': 4, 'created': '2019-10-04 15:38:53.000000000', 'files': ['deliverables/train/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/90755d40485926b015c06905756c52b218bbad9a', 'message': 'Release and branch request for requirements train\n\nChange-Id: Ia1ee8d94fe12e881e0751a4f703d4583d70b45d9\n'}]",0,684039,90755d40485926b015c06905756c52b218bbad9a,28,6,4,17068,,,0,"Release and branch request for requirements train

Change-Id: Ia1ee8d94fe12e881e0751a4f703d4583d70b45d9
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/684039/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/requirements.yaml'],1,596f2321b254443f648ade494282b86a737dac68,rc1-autorelease,releases: - version: 1.5.0 projects: - repo: openstack/requirements hash: bf19087eac2578f85bc7f2ef09e9e88b0eb610c5 branches: - name: stable/train location: 1.5.0,,8,0
openstack%2Fdevstack~master~Ide23e4de819a2c751d887eeaa7f0b9d0437f8e2c,openstack/devstack,master,Ide23e4de819a2c751d887eeaa7f0b9d0437f8e2c,generate-devstack-plugins-list: Retry on opendev.org 500,MERGED,2019-09-24 22:32:53.000000000,2019-10-07 10:56:38.000000000,2019-10-07 10:55:13.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-24 22:32:53.000000000', 'files': ['tools/generate-devstack-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/893817d30af5edded6cae9005ac6f00712fd787d', 'message': 'generate-devstack-plugins-list: Retry on opendev.org 500\n\nA 500 error from gitea can occasionally show up as a project dropping\ntheir devstack plugin (I543faced83a685d48706d004ae49800abfb89dc5).\n\nTo avoid noise in the proposal jobs, implement a small retry loop for\n500 errors.\n\nChange-Id: Ide23e4de819a2c751d887eeaa7f0b9d0437f8e2c\n'}]",2,684434,893817d30af5edded6cae9005ac6f00712fd787d,10,3,1,7118,,,0,"generate-devstack-plugins-list: Retry on opendev.org 500

A 500 error from gitea can occasionally show up as a project dropping
their devstack plugin (I543faced83a685d48706d004ae49800abfb89dc5).

To avoid noise in the proposal jobs, implement a small retry loop for
500 errors.

Change-Id: Ide23e4de819a2c751d887eeaa7f0b9d0437f8e2c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/684434/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-devstack-plugins-list.py'],1,893817d30af5edded6cae9005ac6f00712fd787d,plugin-500,"from requests.adapters import HTTPAdapter from requests.packages.urllib3.util.retry import Retry # sometimes gitea gives us a 500 error; retry sanely # https://stackoverflow.com/a/35636367 retries = Retry(total=3, backoff_factor=1, status_forcelist=[ 500 ]) s.mount('https://', HTTPAdapter(max_retries=retries)) ",,9,0
openstack%2Fnova~master~Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240,openstack/nova,master,Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240,Merge build requests into the sortmaster 9000,ABANDONED,2017-09-29 19:16:11.000000000,2019-10-07 10:52:11.000000000,,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-29 19:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f24a69238f19201478bc7ffca9d037fb0e48e21', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 2, 'created': '2017-09-30 03:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c927bcf74d9ee331ae8a527f1d80f2f6e789ead9', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 3, 'created': '2017-10-05 14:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fad794cb655bc43328c42a82fe5ad0baa64f420e', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 4, 'created': '2017-10-07 02:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7d85371c958477096ceaf1542f227d7b6497756', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 5, 'created': '2017-10-07 14:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7c3895985e7ca018b7214b601fd91b996033a08', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 6, 'created': '2017-10-08 19:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/465349f4e245731d1c75597211217e172cc02ea5', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 7, 'created': '2017-10-09 14:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e56fb62d1a7ada1cd6de5f0429f32803d80651d2', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 8, 'created': '2017-10-11 18:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2901b70ccf37278aa1daca44668cba0e2e54c425', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}, {'number': 9, 'created': '2017-10-25 15:09:40.000000000', 'files': ['nova/compute/instance_list.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/compute/test_instance_list.py', 'nova/tests/unit/api/openstack/compute/test_fping.py', 'nova/objects/instance.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1797d18f0c18d311de9078a1c1e6f7fc873ae6a', 'message': ""Merge build requests into the sortmaster 9000\n\nThis makes get_instance_objects_sorted() include build requests as well.\nIt does this by replicating the merge sort process with a list of the\nbuildrequests, and also doing the dupe-filtering behavior we need (and\ncurrently have in compute/api) to return a consistent list. This doesn't\nactually introduce much additional overhead as the merge sorting process\nall happens in generators (at both levels) concurrently.\n\nThe reason for not pushing this down a layer is that we're sorting objects\nat the upper layer and db instances at the lower. Since it doesn't\nintroduce much overhead, it's simpler to do it this way.\n\nThis removes a couple of tests that ensures that build requests are included\nby the compute/api since that is now hidden by the instance_list module and\ntests of it validate that fact.\n\nChange-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240\n""}]",20,508595,d1797d18f0c18d311de9078a1c1e6f7fc873ae6a,163,20,9,4393,,,0,"Merge build requests into the sortmaster 9000

This makes get_instance_objects_sorted() include build requests as well.
It does this by replicating the merge sort process with a list of the
buildrequests, and also doing the dupe-filtering behavior we need (and
currently have in compute/api) to return a consistent list. This doesn't
actually introduce much additional overhead as the merge sorting process
all happens in generators (at both levels) concurrently.

The reason for not pushing this down a layer is that we're sorting objects
at the upper layer and db instances at the lower. Since it doesn't
introduce much overhead, it's simpler to do it this way.

This removes a couple of tests that ensures that build requests are included
by the compute/api since that is now hidden by the instance_list module and
tests of it validate that fact.

Change-Id: Ic5de1ef15aa6bed9b993862c8cfccdbaf7d9f240
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/508595/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/instance_list.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/compute/test_instance_list.py', 'nova/tests/unit/api/openstack/compute/test_fping.py', 'nova/objects/instance.py', 'nova/compute/api.py']",6,3f24a69238f19201478bc7ffca9d037fb0e48e21,instance-list," if CONF.cells.enable: # The ordering of instances for people running deprecated # and never-was-supported setups will be [sorted instances # with no host] + [sorted instances with host]. This # means BuildRequest first, then cell instances build_requests = objects.BuildRequestList.get_by_filters( context, filters, limit=limit, marker=marker, sort_keys=sort_keys, sort_dirs=sort_dirs) build_req_instances = objects.InstanceList( objects=[build_req.instance for build_req in build_requests]) # Only subtract from limit if it is not None limit = (limit - len(build_req_instances)) if limit else limit insts = self._do_old_style_instance_list_for_poor_cellsv1_users( context, filters, limit, marker, fields, sort_keys, sort_dirs) instances = objects.InstanceList(objects=list( filter(filter_method, build_req_instances.objects + insts.objects))) else: instances = instance_list.get_instance_objects_sorted( context, filters, limit, marker, fields, sort_keys, sort_dirs) limit = (limit - len(instances)) if limit else limit"," # The ordering of instances will be # [sorted instances with no host] + [sorted instances with host]. # This means BuildRequest and cell0 instances first, then cell # instances build_requests = objects.BuildRequestList.get_by_filters( context, filters, limit=limit, marker=marker, sort_keys=sort_keys, sort_dirs=sort_dirs) build_req_instances = objects.InstanceList( objects=[build_req.instance for build_req in build_requests]) # Only subtract from limit if it is not None limit = (limit - len(build_req_instances)) if limit else limit if CONF.cells.enable: insts = self._do_old_style_instance_list_for_poor_cellsv1_users( context, filters, limit, marker, fields, sort_keys, sort_dirs) else: insts = instance_list.get_instance_objects_sorted( context, filters, limit, marker, fields, sort_keys, sort_dirs) limit = (limit - len(insts)) if limit else limit # TODO(alaski): Clean up the objects concatenation when List objects # support it natively. instances = objects.InstanceList( objects=list(filter(filter_method, build_req_instances.objects + insts.objects)))",144,185
openstack%2Fironic~stable%2Ftrain~Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83,openstack/ironic,stable/train,Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83,Fix devstack installation failure,MERGED,2019-10-05 13:04:35.000000000,2019-10-07 10:51:43.000000000,2019-10-07 10:50:05.000000000,"[{'_account_id': 10118}, {'_account_id': 10250}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-05 13:04:35.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1abf8a69297f6497c30f1622d762c3323b10277', 'message': 'Fix devstack installation failure\n\nThis patch fixes an exception that occurs when deploying devstack with\nthe DIB ramdisk.\n\nChange-Id: Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83\nStory: #2006645\nTask: #36881\n(cherry picked from commit dab47f9ce143fa1d7fb7c51608bb69332464d914)\n'}]",0,686893,d1abf8a69297f6497c30f1622d762c3323b10277,10,6,1,10239,,,0,"Fix devstack installation failure

This patch fixes an exception that occurs when deploying devstack with
the DIB ramdisk.

Change-Id: Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83
Story: #2006645
Task: #36881
(cherry picked from commit dab47f9ce143fa1d7fb7c51608bb69332464d914)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/686893/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,d1abf8a69297f6497c30f1622d762c3323b10277,fix_devstack-stable/train, git_clone $IRONIC_PYTHON_AGENT_BUILDER_REPO $IRONIC_PYTHON_AGENT_BUILDER_DIR $IRONIC_PYTHON_AGENT_BUILDER_BRANCH, git_clone $IRONIC_PYTHON_AGENT_BUILDER_REPO $IRONIC_PYTHON_AGENT_BUILDER_DIR,1,1
openstack%2Fcharm-neutron-openvswitch~master~I1fa3dcd798c53a175c59605542fceaaf36c3c72e,openstack/charm-neutron-openvswitch,master,I1fa3dcd798c53a175c59605542fceaaf36c3c72e,Sync charm-helpers,ABANDONED,2019-10-06 17:26:34.000000000,2019-10-07 10:45:54.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 17:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/c6256fa069fae0f210efc2be2a8401d315ae0e8a', 'message': 'Sync charm-helpers\n\nChange-Id: I1fa3dcd798c53a175c59605542fceaaf36c3c72e\n'}, {'number': 2, 'created': '2019-10-07 08:14:17.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/bed93d0367a0405133e708e8bf63c2330bfef270', 'message': 'Sync charm-helpers\n\nChange-Id: I1fa3dcd798c53a175c59605542fceaaf36c3c72e\n'}]",0,686946,bed93d0367a0405133e708e8bf63c2330bfef270,7,2,2,24824,,,0,"Sync charm-helpers

Change-Id: I1fa3dcd798c53a175c59605542fceaaf36c3c72e
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/46/686946/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/fetch/ubuntu.py']",9,c6256fa069fae0f210efc2be2a8401d315ae0e8a,bug/1842353,"import sys import time from charmhelpers.core.host import get_distrib_codename, get_system_envfrom charmhelpers.fetch import ubuntu_apt_pkgdef apt_cache(*_, **__): """"""Shim returning an object simulating the apt_pkg Cache. :param _: Accept arguments for compability, not used. :type _: any :param __: Accept keyword arguments for compability, not used. :type __: any :returns:Object used to interrogate the system apt and dpkg databases. :rtype:ubuntu_apt_pkg.Cache """""" if 'apt_pkg' in sys.modules: # NOTE(fnordahl): When our consumer use the upstream ``apt_pkg`` module # in conjunction with the apt_cache helper function, they may expect us # to call ``apt_pkg.init()`` for them. # # Detect this situation, log a warning and make the call to # ``apt_pkg.init()`` to avoid the consumer Python interpreter from # crashing with a segmentation fault. log('Support for use of upstream ``apt_pkg`` module in conjunction' 'with charm-helpers is deprecated since 2019-06-25', level=WARNING) sys.modules['apt_pkg'].init() return ubuntu_apt_pkg.Cache() """"""Install one or more packages. :param packages: Package(s) to install :type packages: Option[str, List[str]] :param options: Options to pass on to apt-get :type options: Option[None, List[str]] :param fatal: Whether the command's output should be checked and retried. :type fatal: bool :raises: subprocess.CalledProcessError """""" """"""Upgrade all packages. :param options: Options to pass on to apt-get :type options: Option[None, List[str]] :param fatal: Whether the command's output should be checked and retried. :type fatal: bool :param dist: Whether ``dist-upgrade`` should be used over ``upgrade`` :type dist: bool :raises: subprocess.CalledProcessError """""" """"""Purge one or more packages. :param packages: Package(s) to install :type packages: Option[str, List[str]] :param fatal: Whether the command's output should be checked and retried. :type fatal: bool :raises: subprocess.CalledProcessError """""" """"""Purge one or more packages. :param purge: Whether the ``--purge`` option should be passed on or not. :type purge: bool :param fatal: Whether the command's output should be checked and retried. :type fatal: bool :raises: subprocess.CalledProcessError """""" :param cmd: The apt command to run. :type cmd: str :param max_retries: The number of retries to attempt on a fatal command. Defaults to CMD_RETRY_COUNT. :type max_retries: int :param retry_exitcodes: Optional additional exit codes to retry. Defaults to retry on exit code 1. :type retry_exitcodes: tuple :param retry_message: Optional log prefix emitted during retries. :type retry_message: str :param: cmd_env: Environment variables to add to the command run. :type cmd_env: Option[None, Dict[str, str]] env = get_apt_dpkg_env() if cmd_env: result = subprocess.check_call(cmd, env=env) :param cmd: The apt command to run. :type cmd: str :param fatal: Whether the command's output should be checked and retried. :type fatal: bool cmd, retry_exitcodes=(1, APT_NO_LOCK,), subprocess.call(cmd, env=get_apt_dpkg_env()) return ubuntu_apt_pkg.upstream_version(pkg.current_ver.ver_str) def get_apt_dpkg_env(): """"""Get environment suitable for execution of APT and DPKG tools. We keep this in a helper function instead of in a global constant to avoid execution on import of the library. :returns: Environment suitable for execution of APT and DPKG tools. :rtype: Dict[str, str] """""" # The fallback is used in the event of ``/etc/environment`` not containing # avalid PATH variable. return {'DEBIAN_FRONTEND': 'noninteractive', 'PATH': get_system_env('PATH', '/usr/sbin:/usr/bin:/sbin:/bin')}","import osimport time from charmhelpers.core.host import get_distrib_codenamedef apt_cache(in_memory=True, progress=None): """"""Build and return an apt cache."""""" from apt import apt_pkg apt_pkg.init() if in_memory: apt_pkg.config.set(""Dir::Cache::pkgcache"", """") apt_pkg.config.set(""Dir::Cache::srcpkgcache"", """") return apt_pkg.Cache(progress) """"""Install one or more packages."""""" """"""Upgrade all packages."""""" """"""Purge one or more packages."""""" """"""Purge one or more packages."""""" :param: cmd: str: The apt command to run. :param: max_retries: int: The number of retries to attempt on a fatal command. Defaults to CMD_RETRY_COUNT. :param: retry_exitcodes: tuple: Optional additional exit codes to retry. Defaults to retry on exit code 1. :param: retry_message: str: Optional log prefix emitted during retries. :param: cmd_env: dict: Environment variables to add to the command run. env = None kwargs = {} if cmd_env: env = os.environ.copy() kwargs['env'] = env # result = subprocess.check_call(cmd, env=env) result = subprocess.check_call(cmd, **kwargs) :param: cmd: str: The apt command to run. :param: fatal: bool: Whether the command's output should be checked and retried. # Provide DEBIAN_FRONTEND=noninteractive if not present in the environment. cmd_env = { 'DEBIAN_FRONTEND': os.environ.get('DEBIAN_FRONTEND', 'noninteractive')} cmd, cmd_env=cmd_env, retry_exitcodes=(1, APT_NO_LOCK,), env = os.environ.copy() env.update(cmd_env) subprocess.call(cmd, env=env) import apt_pkg return apt_pkg.upstream_version(pkg.current_ver.ver_str)",254,69
openstack%2Fopenstack-manuals~master~Ie1d25eb6afe606d75865542b3fdea5d48db4c46a,openstack/openstack-manuals,master,Ie1d25eb6afe606d75865542b3fdea5d48db4c46a,Fix etcd setup on Ubuntu 18.04,MERGED,2019-10-07 07:28:35.000000000,2019-10-07 10:42:45.000000000,2019-10-07 10:13:04.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 07:28:35.000000000', 'files': ['doc/install-guide/source/environment-etcd-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/49457f47ed2c8db8b508bbac309a666aab573121', 'message': 'Fix etcd setup on Ubuntu 18.04\n\nThe etcd service is enabled by default on Ubuntu 18.04, so it is already\nrunning after installing the package. We need to restart the service\ninstead of only starting it in order to pick up our new configuration.\n\nChange-Id: Ie1d25eb6afe606d75865542b3fdea5d48db4c46a\n'}]",0,686970,49457f47ed2c8db8b508bbac309a666aab573121,8,3,1,13252,,,0,"Fix etcd setup on Ubuntu 18.04

The etcd service is enabled by default on Ubuntu 18.04, so it is already
running after installing the package. We need to restart the service
instead of only starting it in order to pick up our new configuration.

Change-Id: Ie1d25eb6afe606d75865542b3fdea5d48db4c46a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/70/686970/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/environment-etcd-ubuntu.rst'],1,49457f47ed2c8db8b508bbac309a666aab573121,fix-ubuntu-etcd,#. Enable and restart the etcd service: # systemctl restart etcd,#. Enable and start the etcd service: # systemctl start etcd,2,2
openstack%2Fnova~master~Ib86652039c17afee04378b8956264f231dd8ae63,openstack/nova,master,Ib86652039c17afee04378b8956264f231dd8ae63,vif: look up 'ovs_interfaceid' in vif_details,ABANDONED,2017-12-22 14:00:34.000000000,2019-10-07 10:31:00.000000000,,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-12-22 14:00:34.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/network/model.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1be1676e87ccd7dabfe74af00ee5bb5683554b20', 'message': ""vif: look up 'ovs_interfaceid' in vif_details\n\nPassing OVS interface id from neutron to nova is intended in [1]. And\nthis patch makes nova to read new prameter 'ovs_interfaceid' in\n'vif_details' of portbinding API first. If it isn't set, then set port\nid in the same way as so far.\n\n[1] https://review.openstack.org/#/c/19121/\n\nDepends-On: I90d72293a81eb0e43f3509351c35dfca89a19841\nChange-Id: Ib86652039c17afee04378b8956264f231dd8ae63\nSigned-off-by: Ryota MIBU <r-mibu@cq.jp.nec.com>\n""}]",0,529831,1be1676e87ccd7dabfe74af00ee5bb5683554b20,13,11,1,1894,,,0,"vif: look up 'ovs_interfaceid' in vif_details

Passing OVS interface id from neutron to nova is intended in [1]. And
this patch makes nova to read new prameter 'ovs_interfaceid' in
'vif_details' of portbinding API first. If it isn't set, then set port
id in the same way as so far.

[1] https://review.openstack.org/#/c/19121/

Depends-On: I90d72293a81eb0e43f3509351c35dfca89a19841
Change-Id: Ib86652039c17afee04378b8956264f231dd8ae63
Signed-off-by: Ryota MIBU <r-mibu@cq.jp.nec.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/529831/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/network/model.py']",2,1be1676e87ccd7dabfe74af00ee5bb5683554b20,ovs_interfaceid,VIF_DETAILS_OVS_INTERFACEID = 'ovs_insterfaceid',,7,2
openstack%2Fnova~master~I7ce4f9918502d5f3d3b3501e0b6ca3b576198663,openstack/nova,master,I7ce4f9918502d5f3d3b3501e0b6ca3b576198663,Handle bdm save failure in attach,ABANDONED,2017-06-02 07:40:23.000000000,2019-10-07 10:19:57.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-06-02 07:40:23.000000000', 'files': ['nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4824146c609b5555b483f36af5c6fa93fe9dfca9', 'message': ""Handle bdm save failure in attach\n\nBdm save failure will leave disk attached\nto the VM at the hypervisor level. The configuration\non the storage backend won't be cleaned either.\n\nChange-Id: I7ce4f9918502d5f3d3b3501e0b6ca3b576198663\nClose-Bug: #1695187\n""}]",1,470181,4824146c609b5555b483f36af5c6fa93fe9dfca9,16,11,1,17527,,,0,"Handle bdm save failure in attach

Bdm save failure will leave disk attached
to the VM at the hypervisor level. The configuration
on the storage backend won't be cleaned either.

Change-Id: I7ce4f9918502d5f3d3b3501e0b6ca3b576198663
Close-Bug: #1695187
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/470181/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,4824146c609b5555b483f36af5c6fa93fe9dfca9,bug/1695187, try: self.save(), self.save() try:,1,1
openstack%2Fnova~master~Idffd42465e5f0b263766f1d638efb4be5476bf11,openstack/nova,master,Idffd42465e5f0b263766f1d638efb4be5476bf11,libvirt: Straighten resize condition in Image.cache,ABANDONED,2017-07-19 15:14:39.000000000,2019-10-07 10:14:03.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-07-19 15:14:39.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e2d3f346c48dcdcb3a894de450aa6dd8e1d98d9', 'message': 'libvirt: Straighten resize condition in Image.cache\n\nMethod Image.cache resizes disk if base image exists and its size is\nsmaller than requested size. This is very implicit condition, which does\nnot work if base image absents despite the disk exists and requires\nresizing.\n\nThis patch makes the condition more straightforward, checking requested\nsize against size of disk itself.\n\nChange-Id: Idffd42465e5f0b263766f1d638efb4be5476bf11\n'}]",0,485236,8e2d3f346c48dcdcb3a894de450aa6dd8e1d98d9,14,9,1,10224,,,0,"libvirt: Straighten resize condition in Image.cache

Method Image.cache resizes disk if base image exists and its size is
smaller than requested size. This is very implicit condition, which does
not work if base image absents despite the disk exists and requires
resizing.

This patch makes the condition more straightforward, checking requested
size against size of disk itself.

Change-Id: Idffd42465e5f0b263766f1d638efb4be5476bf11
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/485236/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py']",2,8e2d3f346c48dcdcb3a894de450aa6dd8e1d98d9,bp/scaleio-ephemeral-storage-backend," if size > self.get_disk_size(self.path): def get_disk_size(self, name): return lvm.get_volume_size(self.path) "," # create_image() only creates the base image if needed, so # we cannot rely on it to exist here if os.path.exists(base) and size > self.get_disk_size(base):",22,10
openstack%2Fnova~master~Ib6d9aaed3414014d4e02bebbe62c5b8b4b147ecc,openstack/nova,master,Ib6d9aaed3414014d4e02bebbe62c5b8b4b147ecc,vmware: Change the VM Create spec,ABANDONED,2017-03-10 06:55:32.000000000,2019-10-07 10:11:40.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-03-10 06:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc19d7293724fa6b1068f9fd31a82f23379a262', 'message': 'vmware: Change the VM Create spec\n\n* config_spec.name = instance.display_name\n\nChange-Id: Ib6d9aaed3414014d4e02bebbe62c5b8b4b147ecc\n'}, {'number': 2, 'created': '2017-03-15 02:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b80a317557d223cc9de6e1a26bb942ff454128e', 'message': 'vmware: Change the VM Create spec\n\n* config_spec.name = instance.display_name\n\nChange-Id: Ib6d9aaed3414014d4e02bebbe62c5b8b4b147ecc\n'}, {'number': 3, 'created': '2017-03-15 05:08:43.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ba9f149ab66783a56be90a41d857018d4a46446', 'message': 'vmware: Change the VM Create spec\n\n* config_spec.name = instance.display_name\n\nChange-Id: Ib6d9aaed3414014d4e02bebbe62c5b8b4b147ecc\n'}]",0,444119,1ba9f149ab66783a56be90a41d857018d4a46446,42,13,3,20663,,,0,"vmware: Change the VM Create spec

* config_spec.name = instance.display_name

Change-Id: Ib6d9aaed3414014d4e02bebbe62c5b8b4b147ecc
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/444119/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/vm_util.py'],1,0cc19d7293724fa6b1068f9fd31a82f23379a262,, config_spec.name = instance.display_name, config_spec.name = instance.uuid,1,1
openstack%2Fnova~master~Ibee891eb330501ba11908cd2a3b90bab158f66cd,openstack/nova,master,Ibee891eb330501ba11908cd2a3b90bab158f66cd,Cell_v2: unique constraint on database_connection mapping,ABANDONED,2017-11-29 09:29:10.000000000,2019-10-07 10:10:22.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2017-11-29 09:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a57c59ef157a2e22ed53666ebfec351f6ab2bb0e', 'message': ""Cell_v2: unique constraint on database_connection mapping\n\nI managed to get this wrong by accident with a deploy script, using the same\ndatabase for cell0 and cell1. And spent the next 3 days figuring out why horizon\nwould get locked in a loop hammering /v2.1/os-simple-tenant-usage/{project_id}\n\nI don't think there's a case for having the same database_connection across cell\nmappings. I belive it actually defeats the purpose of splitting cells on\nmultiple database servers to ease the load on a single box.\n\nThis constraint should prevent users from shooting themselves in the foot.\n\n(It won't totally rid the problem, as different users accessing the same\ndatabase would result in a unique connection, but you'll have to mess up a lot\nmore to get to that stage and not discover it by some other means.)\n\nChange-Id: Ibee891eb330501ba11908cd2a3b90bab158f66cd\n""}, {'number': 2, 'created': '2017-11-29 09:32:07.000000000', 'files': ['nova/db/sqlalchemy/api_models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c0a6c368e63ff9a06da77064da0ef4eea7b8ee6b', 'message': ""Cell_v2: unique constraint on database_connection mapping\n\nI managed to get this wrong by accident with a deploy script, using the\nsame database for cell0 and cell1. And spent the next 3 days figuring\nout why horizon would get locked in a loop hammering /v2.1/os-simple-tenant-usage/{project_id}\n\nI don't think there's a case for having the same database_connection\nacross cell mappings. I belive it actually defeats the purpose of\nsplitting cells on multiple database servers to ease the load on a\nsingle box.\n\nThis constraint should prevent users from shooting themselves in the\nfoot.\n\n(It won't totally rid the problem, as different users accessing the\nsame database would result in a unique connection, but you'll have to\nmess up a lot more to get to that stage and not discover it by some\nother means.)\n\nChange-Id: Ibee891eb330501ba11908cd2a3b90bab158f66cd\n""}]",2,523817,c0a6c368e63ff9a06da77064da0ef4eea7b8ee6b,16,12,2,25600,,,0,"Cell_v2: unique constraint on database_connection mapping

I managed to get this wrong by accident with a deploy script, using the
same database for cell0 and cell1. And spent the next 3 days figuring
out why horizon would get locked in a loop hammering /v2.1/os-simple-tenant-usage/{project_id}

I don't think there's a case for having the same database_connection
across cell mappings. I belive it actually defeats the purpose of
splitting cells on multiple database servers to ease the load on a
single box.

This constraint should prevent users from shooting themselves in the
foot.

(It won't totally rid the problem, as different users accessing the
same database would result in a unique connection, but you'll have to
mess up a lot more to get to that stage and not discover it by some
other means.)

Change-Id: Ibee891eb330501ba11908cd2a3b90bab158f66cd
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/523817/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api_models.py'],1,a57c59ef157a2e22ed53666ebfec351f6ab2bb0e,unique_database_connection," name='uniq_cell_mappings0uuid'), schema.UniqueConstraint('database_connection', name='uniq_cell_mappings0database_connection'))", name='uniq_cell_mappings0uuid')),3,1
openstack%2Fnova~master~Ic22d91e50c8349516f419b461a4cfd61450354ed,openstack/nova,master,Ic22d91e50c8349516f419b461a4cfd61450354ed,Fix list servers by hypervisor,ABANDONED,2017-11-09 10:14:39.000000000,2019-10-07 10:08:48.000000000,,"[{'_account_id': 6062}, {'_account_id': 6125}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11673}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-09 10:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97ef53d656c9233843afe97d90600b2d06f2058b', 'message': 'Fix list servers by hypervisor\n\nos-hypervisors REST resource enables to query information about\nhypervisors but inconsistently:\n\n* /os-hypervisors/<resource> returns information about an hypervisor\n  identified by its id\n* /os-hypervisors/<resource>/servers returns servers on hypervisor(s)\n  identified by a like search on hypervisor name\n\nThis change updates the implementation to search the hypervisor by its\nid. For backwards compatibility reason, the like search on hypervisor\nname is used if the id search found no hypervisor.\n\nCloses-Bug: #1730975\nChange-Id: Ic22d91e50c8349516f419b461a4cfd61450354ed\n'}, {'number': 2, 'created': '2017-11-22 09:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21e2412e147f229707d75d03ece89d25093de12b', 'message': 'Fix list servers by hypervisor\n\nos-hypervisors REST resource enables to query information about\nhypervisors but inconsistently:\n\n* /os-hypervisors/<resource> returns information about an hypervisor\n  identified by its id\n* /os-hypervisors/<resource>/servers returns servers on hypervisor(s)\n  identified by a like search on hypervisor name\n\nThis change updates the implementation to search the hypervisor by its\nid. For backwards compatibility reason, the like search on hypervisor\nname is used if the id search found no hypervisor.\n\nCloses-Bug: #1730975\nChange-Id: Ic22d91e50c8349516f419b461a4cfd61450354ed\n'}, {'number': 3, 'created': '2017-11-23 12:55:11.000000000', 'files': ['releasenotes/notes/bug-1730975-8c380451f939c205.yaml', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8185054adb406b812dcb081ae1b75c039a3da878', 'message': 'Fix list servers by hypervisor\n\nos-hypervisors REST resource enables to query information about\nhypervisors but inconsistently:\n\n* /os-hypervisors/<resource> returns information about an hypervisor\n  identified by its id\n* /os-hypervisors/<resource>/servers returns servers on hypervisor(s)\n  identified by a like search on hypervisor name\n\nThis change updates the implementation to search the hypervisor by its\nid. For backwards compatibility reason, the like search on hypervisor\nname is used if the id search found no hypervisor.\n\nCloses-Bug: #1730975\nChange-Id: Ic22d91e50c8349516f419b461a4cfd61450354ed\n'}]",0,518699,8185054adb406b812dcb081ae1b75c039a3da878,53,17,3,11673,,,0,"Fix list servers by hypervisor

os-hypervisors REST resource enables to query information about
hypervisors but inconsistently:

* /os-hypervisors/<resource> returns information about an hypervisor
  identified by its id
* /os-hypervisors/<resource>/servers returns servers on hypervisor(s)
  identified by a like search on hypervisor name

This change updates the implementation to search the hypervisor by its
id. For backwards compatibility reason, the like search on hypervisor
name is used if the id search found no hypervisor.

Closes-Bug: #1730975
Change-Id: Ic22d91e50c8349516f419b461a4cfd61450354ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/518699/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1730975-8c380451f939c205.yaml', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,97ef53d656c9233843afe97d90600b2d06f2058b,bug/1730975," result = None if hypervisor_match.isdigit(): result = (model_query(context, models.ComputeNode). filter_by(id=int(hypervisor_match)). all()) if not result: field = models.ComputeNode.hypervisor_hostname result = (model_query(context, models.ComputeNode). filter(field.like('%%%s%%' % hypervisor_match)). all()) return result"," field = models.ComputeNode.hypervisor_hostname return model_query(context, models.ComputeNode).\ filter(field.like('%%%s%%' % hypervisor_match)).\ all()",34,4
openstack%2Fmasakari~master~Id34e5b72320c3f2db58d7c7ff522457242b6fd32,openstack/masakari,master,Id34e5b72320c3f2db58d7c7ff522457242b6fd32,Added unit test case to raise KeyError,ABANDONED,2019-08-02 12:12:10.000000000,2019-10-07 09:53:25.000000000,,"[{'_account_id': 3085}, {'_account_id': 8988}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 27302}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-08-02 12:12:10.000000000', 'files': ['masakari/tests/unit/engine/drivers/taskflow/test_taskflow_driver.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/c7b62f7f90e8d08119af442d3b3d1bffbca92b21', 'message': ""Added unit test case to raise KeyError\n\nNotification task let's say 'StartInstanceTask' is in 'RUNNING' state\nand it raises KeyError while building 'NotificationProgressDetails'\nobject. Reported launchpad bug [1] for same.\nThis patch added unit test case to verify/confirm the same.\n\n[1]: https://bugs.launchpad.net/masakari/+bug/1838417\n\nChange-Id: Id34e5b72320c3f2db58d7c7ff522457242b6fd32\n""}]",0,674288,c7b62f7f90e8d08119af442d3b3d1bffbca92b21,9,6,1,27302,,,0,"Added unit test case to raise KeyError

Notification task let's say 'StartInstanceTask' is in 'RUNNING' state
and it raises KeyError while building 'NotificationProgressDetails'
object. Reported launchpad bug [1] for same.
This patch added unit test case to verify/confirm the same.

[1]: https://bugs.launchpad.net/masakari/+bug/1838417

Change-Id: Id34e5b72320c3f2db58d7c7ff522457242b6fd32
",git fetch https://review.opendev.org/openstack/masakari refs/changes/88/674288/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/tests/unit/engine/drivers/taskflow/test_taskflow_driver.py'],1,c7b62f7f90e8d08119af442d3b3d1bffbca92b21,bug/recovery_workflow_details_keyerror," @mock.patch.object(path_based.PathBasedConnection, 'get_atoms_for_flow') @mock.patch.object(path_based.PathBasedConnection, 'get_flows_for_book') def test_get_notification_recovery_workflow_details_raises_keyerror( self, mock_get_flows_for_book, mock_get_atoms_for_flow): notification = fakes.create_fake_notification( payload={ 'event': 'LIFECYCLE', 'instance_uuid': uuidsentinel.fake_ins, 'vir_domain_event': 'STOPPED_FAILED'}, source_host_uuid=uuidsentinel.fake_host, notification_uuid=uuidsentinel.fake_notification) fd = models.FlowDetail('test', uuid=notification.notification_uuid) atom1 = models.TaskDetail('StopInstanceTask', uuid=uuidsentinel.atom_id_1) atom1.meta = { 'progress': 1.0, 'progress_details': { 'at_progress': 1.0, 'details': { 'progress_details': [ {'timestamp': '2019-03-11 05:22:20.329171', 'message': 'Stopping instance: ' '87c8ebc3-2a70-49f0-9280-d34662dc203d', 'progress': 0.0}, {'timestamp': '2019-03-11 05:22:28.902665', 'message': ""Stopped instance: "" ""'87c8ebc3-2a70-49f0-9280-d34662dc203d'"", 'progress': 1.0}]}}} atom1.state = 'SUCCESS' atom2 = models.TaskDetail('ConfirmInstanceActiveTask', uuid=uuidsentinel.atom_id_2) atom2.meta = { 'progress': 1.0, 'progress_details': { 'at_progress': 1.0, 'details': { 'progress_details': [ {'timestamp': '2019-03-11 05:22:29.597303', 'message': ""Confirming instance "" ""'87c8ebc3-2a70-49f0-9280-d34662dc203d' "" ""vm_state is ACTIVE"", 'progress': 0.0}, {'timestamp': '2019-03-11 05:22:31.916620', 'message': ""Confirmed instance "" ""'87c8ebc3-2a70-49f0-9280-d34662dc203d'"" "" vm_state is ACTIVE"", 'progress': 1.0}] }}} atom2.state = 'SUCCESS' atom3 = models.TaskDetail('StartInstanceTask', uuid=uuidsentinel.atom_id_3) atom3.meta = {'progress': 0.1} atom3.state = 'RUNNING' def fd_generator(): yield fd def atom_detail_generator(): for atom in [atom1, atom2, atom3]: yield atom flow_details = fd_generator() atom_details = atom_detail_generator() mock_get_flows_for_book.return_value = flow_details mock_get_atoms_for_flow.return_value = atom_details driver.PERSISTENCE_BACKEND = 'memory://' # 'StartInstanceTask' is in 'RUNNING' state and so it will raise # KeyError while building 'NotificationProgressDetails' object. progress_details = ( self.taskflow_driver.get_notification_recovery_workflow_details( self.ctxt, 'auto', notification)) self.assertIsNotNone(progress_details)",,77,0
openstack%2Fglance~master~I65952f70f0216d227ca14d1098d264208913e4e5,openstack/glance,master,I65952f70f0216d227ca14d1098d264208913e4e5,Use `glance` as example in docs instead of osc,MERGED,2019-09-27 09:01:32.000000000,2019-10-07 09:36:34.000000000,2019-09-29 08:34:37.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 09:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/facc762b9787f5a8a6c5e42d4de5542c32e88654', 'message': 'Use `glance` as example in docs instead of osc\n\nthis patch also removes casua suggestion to turn on show multiple\nlocations. This feature has been idetified as vulnerability and\nwe should not advice turning it on without explaining the specific\nuse cases where it might be necessary.\n\nChange-Id: I65952f70f0216d227ca14d1098d264208913e4e5\n'}, {'number': 2, 'created': '2019-09-27 11:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18884acfd40f02fcc5ea24b1b086c364ca1eaeb4', 'message': 'Use `glance` as example in docs instead of osc\n\nthis patch also removes casua suggestion to turn on show multiple\nlocations. This feature has been idetified as vulnerability and\nwe should not advice turning it on without explaining the specific\nuse cases where it might be necessary.\n\nChange-Id: I65952f70f0216d227ca14d1098d264208913e4e5\n'}, {'number': 3, 'created': '2019-09-27 17:22:32.000000000', 'files': ['doc/source/install/verify.rst', 'doc/source/admin/manage-images.rst', 'doc/source/admin/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/82697983c0cbeead47dfb6df9789ad88a8995af7', 'message': 'Use `glance` as example in docs instead of osc\n\nThis patch also removes casual suggestion to turn on show multiple\nlocations. This feature has been idetified as vulnerability and\nwe should not advise turning it on without explaining the specific\nuse cases where it might be necessary.\n\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I65952f70f0216d227ca14d1098d264208913e4e5\n'}]",2,685247,82697983c0cbeead47dfb6df9789ad88a8995af7,14,4,3,5202,,,0,"Use `glance` as example in docs instead of osc

This patch also removes casual suggestion to turn on show multiple
locations. This feature has been idetified as vulnerability and
we should not advise turning it on without explaining the specific
use cases where it might be necessary.

Co-authored-by: Erno Kuvaja <jokke@usr.fi>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: I65952f70f0216d227ca14d1098d264208913e4e5
",git fetch https://review.opendev.org/openstack/glance refs/changes/47/685247/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/verify.rst', 'doc/source/admin/manage-images.rst', 'doc/source/admin/troubleshooting.rst']",3,facc762b9787f5a8a6c5e42d4de5542c32e88654,glanceclient_in_docs, $ glance image-list Automatically generated or user provided UUID of the image.Latest image management tools can be installed using the pip package manager: .. code-block:: console # pip install python-glanceclient This package provides you the :command:`glance` for managing all your images. $ glance image-create-via-import --container-format bare \ --disk-format qcow2 --property hw_firmware_type=uefi \ --file /tmp/cloud-uefi.qcow --name uefi, $ openstack image list Automatically generated UUID of the image. $ openstack image create --container-format bare --disk-format qcow2 \ --property hw_firmware_type=uefi --file /tmp/cloud-uefi.qcow --name uefi,47,70
openstack%2Fcharm-neutron-openvswitch~master~I13fec7796678e9217b60126c2f7486475b40db68,openstack/charm-neutron-openvswitch,master,I13fec7796678e9217b60126c2f7486475b40db68,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:02.000000000,2019-10-07 09:34:15.000000000,2019-10-07 09:34:15.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-09-30 22:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/190bd48f73e72a5d58cd160c2aa63be8be964283', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I13fec7796678e9217b60126c2f7486475b40db68\n'}, {'number': 2, 'created': '2019-10-01 02:43:35.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/2be1932dd0fa27122156d7b19eec25cf8bb84b98', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I13fec7796678e9217b60126c2f7486475b40db68\n'}]",0,685841,2be1932dd0fa27122156d7b19eec25cf8bb84b98,12,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I13fec7796678e9217b60126c2f7486475b40db68
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/41/685841/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",12,190bd48f73e72a5d58cd160c2aa63be8be964283,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7commands = /bin/true stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1176,76
openstack%2Fmonasca-api~master~I061e905bed06cc10c4d62201dcd945f715eb3a6e,openstack/monasca-api,master,I061e905bed06cc10c4d62201dcd945f715eb3a6e,Enable monasca-agent libvirt plugin,MERGED,2019-09-27 13:53:54.000000000,2019-10-07 09:32:56.000000000,2019-10-07 09:31:33.000000000,"[{'_account_id': 10311}, {'_account_id': 12404}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-09-27 13:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/46c535af1dc751b63128c2a59e6ed1a6944aae49', 'message': 'Enable monasca-agent libvirt plugin\n\nThe change configures and enables monasca-agent libvirt plugin in\nMonasca DevStack plugin. It will allow easier integration of Monasca\nwith other projects for use cases based on VM measurements.\n\nStory: 2005752\nTask: 36842\nChange-Id: I061e905bed06cc10c4d62201dcd945f715eb3a6e\n'}, {'number': 2, 'created': '2019-09-27 15:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/34024ee0299a771d723b64e5167267041aacb5dd', 'message': 'Enable monasca-agent libvirt plugin\n\nThe change configures and enables monasca-agent libvirt plugin in\nMonasca DevStack plugin. It will allow easier integration of Monasca\nwith other projects for use cases based on VM measurements.\n\nStory: 2005752\nTask: 36842\nChange-Id: I061e905bed06cc10c4d62201dcd945f715eb3a6e\n'}, {'number': 3, 'created': '2019-09-27 16:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/eb0f279507cb23b228c6496a238d7e614fcef9fb', 'message': 'Enable monasca-agent libvirt plugin\n\nThe change configures and enables monasca-agent libvirt plugin in\nMonasca DevStack plugin. It will allow easier integration of Monasca\nwith other projects for use cases based on VM measurements.\n\nStory: 2005752\nTask: 36842\nChange-Id: I061e905bed06cc10c4d62201dcd945f715eb3a6e\n'}, {'number': 4, 'created': '2019-09-30 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5d05767ba254f995894b0e2dfd87c149633d4917', 'message': 'Enable monasca-agent libvirt plugin\n\nThe change configures and enables monasca-agent libvirt plugin in\nMonasca DevStack plugin. It will allow easier integration of Monasca\nwith other projects for use cases based on VM measurements.\n\nStory: 2005752\nTask: 36842\nChange-Id: I061e905bed06cc10c4d62201dcd945f715eb3a6e\n'}, {'number': 5, 'created': '2019-10-02 10:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/58da844bd3792833e22660da1227f8eff5bbe2d0', 'message': 'Enable monasca-agent libvirt plugin\n\nThe change configures and enables monasca-agent libvirt plugin in\nMonasca DevStack plugin. It will allow easier integration of Monasca\nwith other projects for use cases based on VM measurements.\n\nStory: 2005752\nTask: 36842\nChange-Id: I061e905bed06cc10c4d62201dcd945f715eb3a6e\n'}, {'number': 6, 'created': '2019-10-02 11:28:06.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/91792de858a9802c23f085074f56b76a7a5019b5', 'message': 'Enable monasca-agent libvirt plugin\n\nThe change configures and enables monasca-agent libvirt plugin in\nMonasca DevStack plugin. It will allow easier integration of Monasca\nwith other projects for use cases based on VM measurements.\n\nStory: 2005752\nTask: 36842\nChange-Id: I061e905bed06cc10c4d62201dcd945f715eb3a6e\n'}]",0,685356,91792de858a9802c23f085074f56b76a7a5019b5,31,7,6,16222,,,0,"Enable monasca-agent libvirt plugin

The change configures and enables monasca-agent libvirt plugin in
Monasca DevStack plugin. It will allow easier integration of Monasca
with other projects for use cases based on VM measurements.

Story: 2005752
Task: 36842
Change-Id: I061e905bed06cc10c4d62201dcd945f715eb3a6e
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/56/685356/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,46c535af1dc751b63128c2a59e6ed1a6944aae49,libvirt," iniset ""$MONASCA_API_CONF"" security delegate_authorized_roles ""monasca-agent"" setup_install $MONASCA_AGENT_DIR kafka_plugin,libvirt sudo /opt/monasca-agent/bin/monasca-setup -d libvirt"," iniset ""$MONASCA_API_CONF"" security delegate_authorized_roles ""admin"" setup_install $MONASCA_AGENT_DIR kafka_plugin",4,2
openstack%2Fcharm-neutron-gateway~master~I443a084681d5788c89cdadf2ff999030f4b4d735,openstack/charm-neutron-gateway,master,I443a084681d5788c89cdadf2ff999030f4b4d735,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:57.000000000,2019-10-07 09:32:34.000000000,2019-10-07 09:32:34.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-09-30 22:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/746a94d0a9175f17a61c0a088d34e1a367e7645d', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I443a084681d5788c89cdadf2ff999030f4b4d735\n'}, {'number': 2, 'created': '2019-10-01 02:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/8f8e915ee363b70f618f3712703cf478453495a4', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I443a084681d5788c89cdadf2ff999030f4b4d735\n'}, {'number': 3, 'created': '2019-10-01 03:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/f504624154beae54f6b6133d96ebcb1633eeb729', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I443a084681d5788c89cdadf2ff999030f4b4d735\n'}, {'number': 4, 'created': '2019-10-01 14:11:47.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini', 'files/neutron-ha-monitor.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/07865bd62ca33ddca241e2d866725d68360d0428', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nAlso clean up pre-existing pep8 violations in the\nfiles/* dir which was previously not covered by lint testing.\n\nChange-Id: I443a084681d5788c89cdadf2ff999030f4b4d735\n'}]",0,685840,07865bd62ca33ddca241e2d866725d68360d0428,19,4,4,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Also clean up pre-existing pep8 violations in the
files/* dir which was previously not covered by lint testing.

Change-Id: I443a084681d5788c89cdadf2ff999030f4b4d735
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/40/685840/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",12,746a94d0a9175f17a61c0a088d34e1a367e7645d,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7commands = /bin/truecommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1155,78
openstack%2Fsahara-plugin-vanilla~stable%2Ftrain~I9e2845c1a3f8ec3d5ad60dca16f72b429576fe7b,openstack/sahara-plugin-vanilla,stable/train,I9e2845c1a3f8ec3d5ad60dca16f72b429576fe7b,Imported Translations from Zanata,MERGED,2019-10-07 09:03:52.000000000,2019-10-07 09:25:17.000000000,2019-10-07 09:24:15.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 09:03:52.000000000', 'files': ['sahara_plugin_vanilla/locale/id/LC_MESSAGES/sahara_plugin_vanilla.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/9fcba44db76227e324ccdf7682fe94d75738712e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9e2845c1a3f8ec3d5ad60dca16f72b429576fe7b\n'}]",0,686982,9fcba44db76227e324ccdf7682fe94d75738712e,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9e2845c1a3f8ec3d5ad60dca16f72b429576fe7b
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/82/686982/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_vanilla/locale/id/LC_MESSAGES/sahara_plugin_vanilla.po'],1,9fcba44db76227e324ccdf7682fe94d75738712e,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-vanilla VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-09-30 10:22+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-10-06 03:37+0000\n"" ""Last-Translator: suhartono <cloudsuhartono@gmail.com>\n"" ""Language-Team: Indonesian\n"" ""Language: id\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""0 or 1"" msgstr ""0 atau 1"" #, python-format msgid ""Await %s start up"" msgstr ""Tunggu %s start up (mulai)"" msgid ""Configure instances"" msgstr ""Konfigurasikan instance"" msgid ""Configure topology data"" msgstr ""Konfigurasikan data topologi"" #, python-format msgid ""Decommission %s"" msgstr ""Decommission %s"" msgid ""Number of datanodes must be not less than dfs.replication."" msgstr ""Jumlah datanoda harus tidak kurang dari dfs.replication."" msgid ""Number of zookeeper nodes should be odd."" msgstr ""Jumlah node zookeeper harus ganjil."" #, python-format msgid ""Refresh %s nodes"" msgstr ""Refresh %s nodes"" msgid ""Spark {base} or higher required to run {type} jobs"" msgstr """" ""Spark {base} atau lebih tinggi diperlukan untuk menjalankan jobs {type}"" msgid """" ""The Apache Vanilla plugin provides the ability to launch upstream Vanilla "" ""Apache Hadoop cluster without any management consoles. It can also deploy "" ""the Oozie component."" msgstr """" ""Plugin Apache Vanilla menyediakan kemampuan untuk meluncurkan cluster "" ""Vanilla Apache Hadoop hulu tanpa konsol manajemen. Itu juga dapat "" ""menggunakan komponen Oozie."" #, python-format msgid ""Unable to get parameter '%(name)s' from service %(service)s"" msgstr ""Tidak dapat memperoleh parameter '%(name)s' dari layanan %(service)s"" msgid ""Update include files"" msgstr ""Perbarui menyertakan file"" msgid """" ""Vanilla plugin cannot scale cluster because it must keep zookeeper service "" ""in odd."" msgstr """" ""Plugin vanilla tidak dapat mengukur cluster karena harus menjaga layanan "" ""zookeeper dalam keadaan odd."" msgid """" ""Vanilla plugin cannot scale node group with processes which have no master-"" ""processes run in cluster"" msgstr """" ""Plugin vanilla tidak dapat menskala node group dengan proses yang tidak "" ""memiliki proses master berjalan di cluster"" #, python-format msgid ""Vanilla plugin cannot scale nodegroup with processes: %s"" msgstr ""Plugin vanilla tidak dapat menskala nodegroup dengan proses: %s"" #, python-format msgid """" ""Vanilla plugin cannot shrink cluster because it would be not enough nodes "" ""for replicas (replication factor is %s)"" msgstr """" ""Plugin vanilla tidak dapat mengecilkan cluster karena tidak akan cukup node "" ""untuk replika (faktor replikasi adalah %s)"" msgid ""Wait for decommissioning"" msgstr ""Tunggu pembongkaran (decommissioning)"" #, python-format msgid ""Waiting on %s datanodes to start up"" msgstr ""Menunggu datanodes %s untuk memulai"" msgid ""Waiting on 1 datanodes to start up"" msgstr ""Menunggu 1 datanode untuk memulai"" msgid ""odd"" msgstr ""ganjil"" ",,101,0
openstack%2Freleases~master~I66085d37d8a602cc7163dccef9ced8f737f94474,openstack/releases,master,I66085d37d8a602cc7163dccef9ced8f737f94474,Create stable/train for grenade,MERGED,2019-10-04 16:52:38.000000000,2019-10-07 09:16:57.000000000,2019-10-07 09:16:57.000000000,"[{'_account_id': 308}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 16:52:38.000000000', 'files': ['deliverables/train/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/47de136cb19d2af8592955a3066932571981124e', 'message': 'Create stable/train for grenade\n\nThis commit cut the train branch for grenade\n\nNext step will be on grenade and devstack-gate side to complete\nthe step 9 mentioned in https://releases.openstack.org/reference/process.html#rc1-week\n\nChange-Id: I66085d37d8a602cc7163dccef9ced8f737f94474\n'}]",0,686771,47de136cb19d2af8592955a3066932571981124e,9,4,1,8556,,,0,"Create stable/train for grenade

This commit cut the train branch for grenade

Next step will be on grenade and devstack-gate side to complete
the step 9 mentioned in https://releases.openstack.org/reference/process.html#rc1-week

Change-Id: I66085d37d8a602cc7163dccef9ced8f737f94474
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/686771/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/grenade.yaml'],1,47de136cb19d2af8592955a3066932571981124e,qa-train-release,branches: - location: openstack/grenade: 6f5638da9e09b1588966f8e6dfb1266ec21cf68f name: stable/train,,4,0
openstack%2Fcharm-ceph-radosgw~master~Ibb199504764b139f0207e0bd2e40a199559e1e44,openstack/charm-ceph-radosgw,master,Ibb199504764b139f0207e0bd2e40a199559e1e44,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:32.000000000,2019-10-07 09:03:38.000000000,2019-10-07 09:03:38.000000000,"[{'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/6e4f73f3ae2a4f01d7de320a81b2cf5f40246212', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibb199504764b139f0207e0bd2e40a199559e1e44\n'}, {'number': 2, 'created': '2019-10-01 02:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b2472bd811e20de90c22c9f85883ebe3f6ee2c4b', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibb199504764b139f0207e0bd2e40a199559e1e44\n'}, {'number': 3, 'created': '2019-10-01 03:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/568b7eae9e338a93f54f76365e733c5aab7d9a92', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibb199504764b139f0207e0bd2e40a199559e1e44\n'}, {'number': 4, 'created': '2019-10-04 17:52:01.000000000', 'files': ['requirements.txt', 'lib/ceph/broker.py', 'test-requirements.txt', 'lib/ceph/utils.py', 'lib/ceph/crush_utils.py', 'tox.ini', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/dc456f91ed8c843c5a0611f74975f6e05a5c7cc1', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ibb199504764b139f0207e0bd2e40a199559e1e44\n'}]",0,685819,dc456f91ed8c843c5a0611f74975f6e05a5c7cc1,19,4,4,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ibb199504764b139f0207e0bd2e40a199559e1e44
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/19/685819/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'lib/ceph/broker.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'hooks/charmhelpers/fetch/__init__.py', 'lib/ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'lib/ceph/crush_utils.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",19,6e4f73f3ae2a4f01d7de320a81b2cf5f40246212,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = HOME TERM CS_* OS_* TEST_*[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = flake8 {posargs} hooks unit_tests tests actions lib files[testenv:cover] # Technique based heavily upon # https://github.com/openstack/nova/blob/master/tox.ini basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run --slowest {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report [coverage:run] branch = True concurrency = multiprocessing parallel = True source = . omit = .tox/* */charmhelpers/* unit_tests/* [testenv:func-noop] basepython = python3 commands = functest-run-suite --help ","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37 AMULET_SETUP_TIMEOUT=5400passenv = HOME TERM AMULET_* CS_API_*[testenv:py27] basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = flake8 {posargs} hooks unit_tests tests actions lib",1561,199
openstack%2Fsahara-plugin-ambari~stable%2Ftrain~Ibd1048ad56fb0f5da22e4ddac535841401195b0d,openstack/sahara-plugin-ambari,stable/train,Ibd1048ad56fb0f5da22e4ddac535841401195b0d,Imported Translations from Zanata,MERGED,2019-10-07 06:48:45.000000000,2019-10-07 08:59:03.000000000,2019-10-07 08:57:50.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 06:48:45.000000000', 'files': ['releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'sahara_plugin_ambari/locale/id/LC_MESSAGES/sahara_plugin_ambari.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/2fd443ec4374aa81bfb7aaad0697ba082acbad83', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibd1048ad56fb0f5da22e4ddac535841401195b0d\n'}]",0,686967,2fd443ec4374aa81bfb7aaad0697ba082acbad83,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibd1048ad56fb0f5da22e4ddac535841401195b0d
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/67/686967/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'sahara_plugin_ambari/locale/id/LC_MESSAGES/sahara_plugin_ambari.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po']",4,2fd443ec4374aa81bfb7aaad0697ba082acbad83,zanata/translations,,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-ambari\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-23 14:26+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-08-02 09:12+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""1.0.0"" msgstr "".."" msgid ""Bug Fixes"" msgstr "" "" msgid ""Current Series Release Notes"" msgstr ""Current Series  "" msgid """" ""Fixed several bugs which prevented sahara-image-pack from generating Ambari-"" ""based Ubuntu images."" msgstr """" ""     sahara-image-pack Ambari-based Ubuntu  "" ""  "" msgid ""Sahara Ambari Plugin Release Notes"" msgstr ""Sahara Ambari   "" msgid ""Stein Series Release Notes"" msgstr ""Stein Series  "" ",169,101
openstack%2Fnetworking-bgpvpn~master~Iafddd120e35bcec814be5a35d901b4102da5f8e2,openstack/networking-bgpvpn,master,Iafddd120e35bcec814be5a35d901b4102da5f8e2,fix tox python3 overrides,MERGED,2019-05-30 09:11:04.000000000,2019-10-07 08:57:38.000000000,2019-10-07 08:56:21.000000000,"[{'_account_id': 5367}, {'_account_id': 12021}, {'_account_id': 20147}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 09:11:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/735568bbeb932c05d3c920a967fd7a627fdbd800', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: Iafddd120e35bcec814be5a35d901b4102da5f8e2\n'}]",0,662166,735568bbeb932c05d3c920a967fd7a627fdbd800,11,4,1,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Iafddd120e35bcec814be5a35d901b4102da5f8e2
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/66/662166/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,735568bbeb932c05d3c920a967fd7a627fdbd800,,basepython = python3basepython = python3basepython = python3basepython = python3,,4,0
openstack%2Freleases~master~Ic89c4e6b520c0f0a3cb8cb8d3d3244a187824242,openstack/releases,master,Ic89c4e6b520c0f0a3cb8cb8d3d3244a187824242,Create stable/train for devstack,MERGED,2019-09-27 16:39:57.000000000,2019-10-07 08:56:37.000000000,2019-10-07 08:56:37.000000000,"[{'_account_id': 308}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 16:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/09667534cd06f9c98aaad1adc690478d4fe3611c', 'message': 'Create stable/train for devstack\n\nThis commit cut the train branch for devstack\n\nNext step will be on devstack side to complete\nthe step#7 onwards mentioned in https://releases.openstack.org/reference/process.html#rc1-week\n\nChange-Id: Ic89c4e6b520c0f0a3cb8cb8d3d3244a187824242\n'}, {'number': 2, 'created': '2019-09-27 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e6e00af3826eaeb92b251cb0d0ea69db74eebc3b', 'message': 'Create stable/train for devstack\n\nThis commit cut the train branch for devstack\n\nNext step will be on devstack side to complete\nthe step#7 onwards mentioned in https://releases.openstack.org/reference/process.html#rc1-week\n\nChange-Id: Ic89c4e6b520c0f0a3cb8cb8d3d3244a187824242\n'}, {'number': 3, 'created': '2019-10-04 14:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fdee4942c8d0b34a305111bac293eb523322954c', 'message': 'Create stable/train for devstack\n\nThis commit cut the train branch for devstack\n\nNext step will be on devstack side to complete\nthe step#7 onwards mentioned in https://releases.openstack.org/reference/process.html#rc1-week\n\nChange-Id: Ic89c4e6b520c0f0a3cb8cb8d3d3244a187824242\n'}, {'number': 4, 'created': '2019-10-04 14:43:56.000000000', 'files': ['deliverables/train/devstack.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/212f23ca6928c2a2e18d29d5514eacb45ed4d35a', 'message': 'Create stable/train for devstack\n\nThis commit cut the train branch for devstack\n\nNext step will be on devstack side to complete\nthe step#7 onwards mentioned in https://releases.openstack.org/reference/process.html#rc1-week\n\nChange-Id: Ic89c4e6b520c0f0a3cb8cb8d3d3244a187824242\n'}]",0,685400,212f23ca6928c2a2e18d29d5514eacb45ed4d35a,16,5,4,8556,,,0,"Create stable/train for devstack

This commit cut the train branch for devstack

Next step will be on devstack side to complete
the step#7 onwards mentioned in https://releases.openstack.org/reference/process.html#rc1-week

Change-Id: Ic89c4e6b520c0f0a3cb8cb8d3d3244a187824242
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/685400/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/devstack.yaml'],1,09667534cd06f9c98aaad1adc690478d4fe3611c,qa-train-release,branches: - location: openstack-dev/devstack: e3cd502252a52c10007a7a39b98359d97d9cc24a name: stable/train,,4,0
openstack%2Fmonasca-agent~master~Iaab5877ac2c4b005cfc18ec7a2d6a1be448dfe6c,openstack/monasca-agent,master,Iaab5877ac2c4b005cfc18ec7a2d6a1be448dfe6c,Add requirement for Prometheus plugin,MERGED,2019-09-30 12:03:45.000000000,2019-10-07 08:56:28.000000000,2019-10-07 08:56:28.000000000,"[{'_account_id': 10311}, {'_account_id': 13348}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-09-30 12:03:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/18b3098b1576bb8c4b910304c448d5e51985e8f2', 'message': 'Add requirement for Prometheus plugin\n\nMonasca-agent Prometheus plugin requires prometheus_client library. This\nchange adds it to extras section to simplify deploying the plugin\ntogether with its requirements.\n\nChange-Id: Iaab5877ac2c4b005cfc18ec7a2d6a1be448dfe6c\nStory: 2004268\nTask: 27807\n'}]",0,685695,18b3098b1576bb8c4b910304c448d5e51985e8f2,8,4,1,16222,,,0,"Add requirement for Prometheus plugin

Monasca-agent Prometheus plugin requires prometheus_client library. This
change adds it to extras section to simplify deploying the plugin
together with its requirements.

Change-Id: Iaab5877ac2c4b005cfc18ec7a2d6a1be448dfe6c
Story: 2004268
Task: 27807
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/95/685695/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,18b3098b1576bb8c4b910304c448d5e51985e8f2,prometheus,prometheus = prometheus_client # Apache-2.0,,2,0
openstack%2Fcharm-gnocchi~master~Iaf986d24f005bcc7c8f485cfc2eb1775e6dbbbdd,openstack/charm-gnocchi,master,Iaf986d24f005bcc7c8f485cfc2eb1775e6dbbbdd,Gate sending ceph pool creation request.,MERGED,2019-10-04 12:23:37.000000000,2019-10-07 07:54:56.000000000,2019-10-07 07:54:56.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/50b17c54ff3486c74574d05c9bca34d2e0d128ec', 'message': ""Gate sending cepg pool creation request.\n\nAdd new state ceph.create_pool.req.sent to gate sending the ceph\npool creation request. This fixes a problem where the changed\nmethod in requires of ceph-client interface raises the\n'{relation_name}.pools.available' state but the create_pool\nmethod then removes it again.\n\nChange-Id: Iaf986d24f005bcc7c8f485cfc2eb1775e6dbbbdd\nCloses-Bug: #1846480\n""}, {'number': 2, 'created': '2019-10-04 16:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/0881558d60187355c890b9303d4a6a8d7b9056fd', 'message': ""Gate sending cepg pool creation request.\n\nAdd new state ceph.create_pool.req.sent to gate sending the ceph\npool creation request. This fixes a problem where the changed\nmethod in requires of ceph-client interface raises the\n'{relation_name}.pools.available' state but the create_pool\nmethod then removes it again.\n\nAlso remove snap functional tests as they are no longer\nneeded since that install method via charms is not\nactively supported.\n\nChange-Id: Iaf986d24f005bcc7c8f485cfc2eb1775e6dbbbdd\nCloses-Bug: #1846480\n""}, {'number': 3, 'created': '2019-10-07 07:31:01.000000000', 'files': ['src/tests/gate-basic-snap-xenial-ocata', 'unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py', 'src/test-requirements.txt', 'src/tests/gate-basic-snap-xenial-pike'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/d0d2ac8864504b62a75f15de5824501152b0d7e0', 'message': ""Gate sending ceph pool creation request.\n\nAdd new state ceph.create_pool.req.sent to gate sending the ceph\npool creation request. This fixes a problem where the changed\nmethod in requires of ceph-client interface raises the\n'{relation_name}.pools.available' state but the create_pool\nmethod then removes it again.\n\nAlso remove snap functional tests as they are no longer\nneeded since that install method via charms is not\nactively supported.\n\nChange-Id: Iaf986d24f005bcc7c8f485cfc2eb1775e6dbbbdd\nCloses-Bug: #1846480\n""}]",1,686584,d0d2ac8864504b62a75f15de5824501152b0d7e0,20,4,3,12549,,,0,"Gate sending ceph pool creation request.

Add new state ceph.create_pool.req.sent to gate sending the ceph
pool creation request. This fixes a problem where the changed
method in requires of ceph-client interface raises the
'{relation_name}.pools.available' state but the create_pool
method then removes it again.

Also remove snap functional tests as they are no longer
needed since that install method via charms is not
actively supported.

Change-Id: Iaf986d24f005bcc7c8f485cfc2eb1775e6dbbbdd
Closes-Bug: #1846480
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/84/686584/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py', 'src/test-requirements.txt']",3,50b17c54ff3486c74574d05c9bca34d2e0d128ec,bug/1846480,"python-cinderclient>=1.4.0,<5.0.0",python-cinderclient>=1.4.0,6,1
openstack%2Fec2-api~stable%2Focata~I199b0f4f4febad4c23a0d8968f7858763bcbf00c,openstack/ec2-api,stable/ocata,I199b0f4f4febad4c23a0d8968f7858763bcbf00c,Using neutron engine in security groups describe.,ABANDONED,2017-08-17 16:19:22.000000000,2019-10-07 07:49:40.000000000,,[{'_account_id': 10234}],"[{'number': 1, 'created': '2017-08-17 16:19:22.000000000', 'files': ['ec2api/tests/unit/test_security_group.py', 'ec2api/api/security_group.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/0a98979229f8a83475b730f632c32b8f67dbd4f6', 'message': 'Using neutron engine in security groups describe.\n\nNova engine works incorrect in case when describe is using in metadata.\nSecurity-group-list in nova cannot be filtered by tenant,\nlisting all secgroups in case of big amount of groups can be slow\nand may have limitations in number.\n\nCo-Author: tikitavi <rtikitavi@gmail.com>\n\nChange-Id: I199b0f4f4febad4c23a0d8968f7858763bcbf00c\nCloses-Bug: #1660888\n(cherry picked from commit 6b3c283894c9ab3edbac80008ea80e1c437ff1b3)\n'}]",0,494630,0a98979229f8a83475b730f632c32b8f67dbd4f6,8,1,1,22595,,,0,"Using neutron engine in security groups describe.

Nova engine works incorrect in case when describe is using in metadata.
Security-group-list in nova cannot be filtered by tenant,
listing all secgroups in case of big amount of groups can be slow
and may have limitations in number.

Co-Author: tikitavi <rtikitavi@gmail.com>

Change-Id: I199b0f4f4febad4c23a0d8968f7858763bcbf00c
Closes-Bug: #1660888
(cherry picked from commit 6b3c283894c9ab3edbac80008ea80e1c437ff1b3)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/30/494630/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/unit/test_security_group.py', 'ec2api/api/security_group.py']",2,0a98979229f8a83475b730f632c32b8f67dbd4f6,bug/1660888," # Note(tikitavi): Using neutron engine in describing security groups. # Security-group-list in nova cannot be filtered by tenant, # listing all secgroups in case of big amount of groups can be slow # and may have limitations in number. try: groups = SecurityGroupEngineNeutron().get_os_groups(context) except Exception as ex: groups = [] LOG.warning(_(""Failed to get os groups."")) return groups"," nova = clients.nova(context) return self.convert_groups_to_neutron_format( context, nova.security_groups.list())",28,11
openstack%2Fec2-api~master~I1862e3a8d64411f554d0593013e847dba54f6a7c,openstack/ec2-api,master,I1862e3a8d64411f554d0593013e847dba54f6a7c,do not die in case of error while booting instance,ABANDONED,2018-08-16 11:18:02.000000000,2019-10-07 07:48:59.000000000,,"[{'_account_id': 10234}, {'_account_id': 19065}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-16 11:18:02.000000000', 'files': ['devstack/create_config'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9b319561d7cca777df7578f299d3370944649161', 'message': 'do not die in case of error while booting instance\n\nin case of rally tests with using fake virt driver the instance\n doesn\'t start due to ""Failed to bind port"" error\nDie was removed to give rally tests an opportunity to start\n\nChange-Id: I1862e3a8d64411f554d0593013e847dba54f6a7c\n'}]",0,592346,9b319561d7cca777df7578f299d3370944649161,10,3,1,19065,,,0,"do not die in case of error while booting instance

in case of rally tests with using fake virt driver the instance
 doesn't start due to ""Failed to bind port"" error
Die was removed to give rally tests an opportunity to start

Change-Id: I1862e3a8d64411f554d0593013e847dba54f6a7c
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/46/592346/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/create_config'],1,9b319561d7cca777df7578f299d3370944649161,," warn $LINENO 'Instance booting error' break if [[ ""$status"" == ""ACTIVE"" ]]; then image_name=""image-$(cat /dev/urandom | tr -cd 'a-f0-9' | head -c 8)"" nova $auth image-create $instance_name $image_name if [[ ""$?"" -ne ""0"" ]]; then die $LINENO ""Image creation from instance fails"" fi source ""$venv_dir/bin/activate"" ebs_image_id=`aws $AWS_PARAMS --profile user ec2 describe-images --filters Name=image-type,Values=machine Name=name,Values=$image_name --query 'Images[0].ImageId' --output text` deactivate nova $auth delete $instance_id"," die $LINENO 'Instance booting error' image_name=""image-$(cat /dev/urandom | tr -cd 'a-f0-9' | head -c 8)"" nova $auth image-create $instance_name $image_name if [[ ""$?"" -ne ""0"" ]]; then die $LINENO ""Image creation from instance fails"" source ""$venv_dir/bin/activate"" ebs_image_id=`aws $AWS_PARAMS --profile user ec2 describe-images --filters Name=image-type,Values=machine Name=name,Values=$image_name --query 'Images[0].ImageId' --output text` deactivate nova $auth delete $instance_id",12,9
openstack%2Fec2-api~master~I45465eaf7283c99009acea75a56d4d0458a5ba08,openstack/ec2-api,master,I45465eaf7283c99009acea75a56d4d0458a5ba08,Add check for similarity of cached results on aws-cli describe-images,ABANDONED,2019-08-16 09:55:29.000000000,2019-10-07 07:48:03.000000000,,"[{'_account_id': 10068}, {'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-16 09:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/86a7c58debec254a02d294de51dc3c6810bf7d32', 'message': 'Add check for similarity of cached results on aws-cli describe-images\n\nChange-Id: I45465eaf7283c99009acea75a56d4d0458a5ba08\n'}, {'number': 2, 'created': '2019-08-20 09:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/185ad2fc4379a7a2ba22c1dddac122797a7eb5d1', 'message': 'Add check for similarity of cached results on aws-cli describe-images\n\nDepends-On: Id00db3f303f45daf0e25be1f1bcf6a8834cb3ea7\nChange-Id: I45465eaf7283c99009acea75a56d4d0458a5ba08\n'}, {'number': 3, 'created': '2019-08-26 18:30:47.000000000', 'files': ['devstack/create_config'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a437d67a409387bcaec61e6851020d6a6a353c7b', 'message': 'Add check for similarity of cached results on aws-cli describe-images\n\nChange-Id: I45465eaf7283c99009acea75a56d4d0458a5ba08\n'}]",0,676894,a437d67a409387bcaec61e6851020d6a6a353c7b,8,3,3,30834,,,0,"Add check for similarity of cached results on aws-cli describe-images

Change-Id: I45465eaf7283c99009acea75a56d4d0458a5ba08
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/94/676894/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/create_config'],1,86a7c58debec254a02d294de51dc3c6810bf7d32,," echo ""start describe-images"" echo ""start loop for caching check on describe images"" number_of_try=0 max_number=10 while [[ true ]] ; do if ((number_of_try >= max_number)); then echo ""Max number of tries reached"" break fi echo ""attempt ""$number_of_try"" of ""$max_number ebs_image_id_new=`aws $AWS_PARAMS --profile user ec2 describe-images --filters Name=image-type,Values=machine Name=name,Values=$image_name --query 'Images[0].ImageId' --output text` echo ""ebs_image_id_new is ""$ebs_image_id_new if [[ ""$ebs_image_id_new"" != ""$ebs_image_id"" || -z ""$ebs_image_id_new"" ]]; then die $LINENO 'Unstable caching detected, returned results are not the same' fi sleep 30 ((++number_of_try)) done ",,20,0
openstack%2Fcharm-octavia~master~I6bec4c5a5dade1295414ff8eefc070e2e8127f37,openstack/charm-octavia,master,I6bec4c5a5dade1295414ff8eefc070e2e8127f37,Use hostname from ovs relation when available,MERGED,2019-10-01 11:41:57.000000000,2019-10-07 07:45:26.000000000,2019-10-07 07:45:26.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 11:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/39f992773e57aa80dd66bf2368fa3ec2250404f9', 'message': 'Use hostname from ovs relation when available\n\nWhen creating a Neutron port the value of ``binding:host_id`` needs\nto match the host identity of the Neutron OpenvSwitch subordinate.\n\nDepends-On: I3b11eec3f1c4b8a673ccb6f9e6320d79dbde8f7a\nChange-Id: I6bec4c5a5dade1295414ff8eefc070e2e8127f37\nCloses-Bug: #1845303\n'}, {'number': 2, 'created': '2019-10-02 14:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0cbaa8766358dfff9778a7c0e9278e799128e981', 'message': 'Use hostname from ovs relation when available\n\nWhen creating a Neutron port the value of ``binding:host_id`` needs\nto match the host identity of the Neutron OpenvSwitch subordinate.\n\nDepends-On: I3b11eec3f1c4b8a673ccb6f9e6320d79dbde8f7a\nChange-Id: I6bec4c5a5dade1295414ff8eefc070e2e8127f37\nCloses-Bug: #1845303\n'}, {'number': 3, 'created': '2019-10-02 16:21:29.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/901df0e1f17bd552f388898787958cbc15fc9e1e', 'message': 'Use hostname from ovs relation when available\n\nWhen creating a Neutron port the value of ``binding:host_id`` needs\nto match the host identity of the Neutron OpenvSwitch subordinate.\n\nDepends-On: I3b11eec3f1c4b8a673ccb6f9e6320d79dbde8f7a\nChange-Id: I6bec4c5a5dade1295414ff8eefc070e2e8127f37\nCloses-Bug: #1845303\n'}]",0,685942,901df0e1f17bd552f388898787958cbc15fc9e1e,36,4,3,13686,,,0,"Use hostname from ovs relation when available

When creating a Neutron port the value of ``binding:host_id`` needs
to match the host identity of the Neutron OpenvSwitch subordinate.

Depends-On: I3b11eec3f1c4b8a673ccb6f9e6320d79dbde8f7a
Change-Id: I6bec4c5a5dade1295414ff8eefc070e2e8127f37
Closes-Bug: #1845303
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/42/685942/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_api_crud.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py']",4,39f992773e57aa80dd66bf2368fa3ec2250404f9,bug/1845303,"def get_hm_port(identity_service, local_unit_name, local_unit_address, ovs_hostname=None): :param ovs_hostname: Hostname used by neutron-openvswitch :type ovs_hostname: Option[None,str] 'binding:host_id': (ovs_hostname or socket.gethostname()),def setup_hm_port(identity_service, octavia_charm, ovs_hostname=None): :param ovs_hostname: Hostname used by neutron-openvswitch :type ovs_hostname: Option[None,str] octavia_charm.local_address, ovs_hostname=ovs_hostname)","def get_hm_port(identity_service, local_unit_name, local_unit_address): 'binding:host_id': socket.gethostname(),def setup_hm_port(identity_service, octavia_charm): octavia_charm.local_address)",39,8
openstack%2Fsenlin-dashboard~master~I7f26acdff5c9c34b9819818c89b026baa184cd33,openstack/senlin-dashboard,master,I7f26acdff5c9c34b9819818c89b026baa184cd33,Use Horizon project template for django jobs,MERGED,2019-10-05 10:54:21.000000000,2019-10-07 07:44:28.000000000,2019-10-07 07:42:26.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-05 10:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/89ad4f06a9a4ef9a54d678e3f08d4dc01ce6da06', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I7f26acdff5c9c34b9819818c89b026baa184cd33\n""}, {'number': 2, 'created': '2019-10-05 12:50:06.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/8ce4e49a8ab6cb23970f7ae2d9d2abf1a6585286', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I7f26acdff5c9c34b9819818c89b026baa184cd33\n""}]",0,686889,8ce4e49a8ab6cb23970f7ae2d9d2abf1a6585286,11,3,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I7f26acdff5c9c34b9819818c89b026baa184cd33
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/89/686889/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,89ad4f06a9a4ef9a54d678e3f08d4dc01ce6da06,django22,"envlist = py37,pep8,py27-local,py36-local,py3-{dj111,dj22},eslint,karma-local,docs-local,releasenotes,lower-constraints-localcommands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test {posargs} --settings=senlin_dashboard.test.settings","envlist = py37,pep8,py27-local,py36-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-localcommands = python manage.py test {posargs} --settings=senlin_dashboard.test.settings[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands} [testenv:py3-dj111-local] basepython = python3 commands = {[testenv:hz-local]commands} pip install django>=1.11,<2 {[testenv]commands} ",6,19
openstack%2Fcharm-octavia~master~Iafdc810ac403243aaf2ae2380003d79fb6d96a40,openstack/charm-octavia,master,Iafdc810ac403243aaf2ae2380003d79fb6d96a40,Use a centralized network for the management network,MERGED,2019-09-17 10:37:49.000000000,2019-10-07 07:43:39.000000000,2019-10-07 07:43:39.000000000,"[{'_account_id': 6737}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 10:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4785c339c944958f83e0395b4d34c3c57c7f3978', 'message': 'Use a centralized network for the management network\n\nChange-Id: Iafdc810ac403243aaf2ae2380003d79fb6d96a40\nRelated-Bug: #1843557\n'}, {'number': 2, 'created': '2019-10-02 16:21:29.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/afd84ccbc013d1c1d7fa884ab1361987a348c2e5', 'message': 'Use a centralized network for the management network\n\nChange-Id: Iafdc810ac403243aaf2ae2380003d79fb6d96a40\nRelated-Bug: #1843557\n'}]",0,682603,afd84ccbc013d1c1d7fa884ab1361987a348c2e5,14,6,2,13686,,,0,"Use a centralized network for the management network

Change-Id: Iafdc810ac403243aaf2ae2380003d79fb6d96a40
Related-Bug: #1843557
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/03/682603/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/lib/charm/openstack/api_crud.py']",2,4785c339c944958f83e0395b4d34c3c57c7f3978,bug/1845303," 'distributed': False,",,3,0
openstack%2Fmagnum-ui~master~Ic25ac51fb1134b06a1db148026da17239f43beed,openstack/magnum-ui,master,Ic25ac51fb1134b06a1db148026da17239f43beed,Use Horizon project template for django jobs,MERGED,2019-10-05 10:15:19.000000000,2019-10-07 07:43:32.000000000,2019-10-07 07:41:31.000000000,"[{'_account_id': 6484}, {'_account_id': 16352}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-05 10:15:19.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c6a69f3d126bc677d1b217a7cfd720a042968bc5', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Ic25ac51fb1134b06a1db148026da17239f43beed\n""}]",0,686885,c6a69f3d126bc677d1b217a7cfd720a042968bc5,9,5,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: Ic25ac51fb1134b06a1db148026da17239f43beed
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/85/686885/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,c6a69f3d126bc677d1b217a7cfd720a042968bc5,django22,"envlist = pep8,py27-local,py3-{dj111,dj22},eslint,karma-local,docs-local,releasenotes,lower-constraints-local dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3","envlist = pep8,py27-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-local[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands} [testenv:py3-dj111-local] basepython = python3 commands = {[testenv:hz-local]commands} pip install django>=1.11,<2 {[testenv]commands} ",4,19
openstack%2Fui-cookiecutter~master~I70f79c2643202a53102f820b111faa7bd5b6f103,openstack/ui-cookiecutter,master,I70f79c2643202a53102f820b111faa7bd5b6f103,Use Horizon project template for django jobs,MERGED,2019-10-05 09:56:52.000000000,2019-10-07 07:31:34.000000000,2019-10-07 07:31:34.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 09:56:52.000000000', 'files': ['{{cookiecutter.repo_name}}/.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/f655ea66c81d5487b8c6698f1080ff3ce74ae420', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I70f79c2643202a53102f820b111faa7bd5b6f103\n""}]",0,686876,f655ea66c81d5487b8c6698f1080ff3ce74ae420,7,2,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I70f79c2643202a53102f820b111faa7bd5b6f103
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/76/686876/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/.zuul.yaml'],1,f655ea66c81d5487b8c6698f1080ff3ce74ae420,django22, - horizon-non-primary-django-jobs, check: jobs: - openstack-tox-py36: voting: false - horizon-openstack-tox-python3-django111 gate: jobs: - horizon-openstack-tox-python3-django111,1,8
openstack%2Fsenlin-dashboard~master~I19fbee0982642cb0f42e8df153c807a72284d3f7,openstack/senlin-dashboard,master,I19fbee0982642cb0f42e8df153c807a72284d3f7,Fix failed test for django22 support,MERGED,2019-10-05 12:13:07.000000000,2019-10-07 07:27:45.000000000,2019-10-07 07:26:37.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 12:13:07.000000000', 'files': ['senlin_dashboard/cluster/profiles/tests.py'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/39cff46c01bcb3853da82520b26ef4f9f72c0302', 'message': 'Fix failed test for django22 support\n\ntest_create_profile is failing [1]\nas None is passed in the test. This patch\nreplace None with an empty string.\n\nFor more information please refer [2].\n\n[1] https://zuul.opendev.org/t/openstack/build/374ca389cb9445f181846da0d7529ff7/log/job-output.txt#978\n[2] https://github.com/django/django/commit/6fe9c45b725\n\nChange-Id: I19fbee0982642cb0f42e8df153c807a72284d3f7\n'}]",0,686892,39cff46c01bcb3853da82520b26ef4f9f72c0302,8,2,1,29313,,,0,"Fix failed test for django22 support

test_create_profile is failing [1]
as None is passed in the test. This patch
replace None with an empty string.

For more information please refer [2].

[1] https://zuul.opendev.org/t/openstack/build/374ca389cb9445f181846da0d7529ff7/log/job-output.txt#978
[2] https://github.com/django/django/commit/6fe9c45b725

Change-Id: I19fbee0982642cb0f42e8df153c807a72284d3f7
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/92/686892/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin_dashboard/cluster/profiles/tests.py'],1,39cff46c01bcb3853da82520b26ef4f9f72c0302,django22, 'metadata': '', 'metadata': None,1,1
openstack%2Fzaqar-ui~master~I09a70fc9c54818f99578cddc9fd38f0faeea8c3f,openstack/zaqar-ui,master,I09a70fc9c54818f99578cddc9fd38f0faeea8c3f,Use Horizon project template for django jobs,MERGED,2019-10-05 09:57:00.000000000,2019-10-07 07:27:34.000000000,2019-10-07 07:25:36.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 09:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/96895b1f0f83d51598b51413ace100e404dde9ec', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I09a70fc9c54818f99578cddc9fd38f0faeea8c3f\n""}, {'number': 2, 'created': '2019-10-05 10:05:06.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/835eac405b9777e2ff20802b99c187de716995e6', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I09a70fc9c54818f99578cddc9fd38f0faeea8c3f\n""}]",0,686882,835eac405b9777e2ff20802b99c187de716995e6,9,2,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I09a70fc9c54818f99578cddc9fd38f0faeea8c3f
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/82/686882/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,96895b1f0f83d51598b51413ace100e404dde9ec,django22,"envlist = pep8,py27-local,py3-{dj111,dj22},eslint,karma-local,docs-local,releasenotes,lower-constraints-localcommands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test {posargs}","envlist = pep8,py27-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-localcommands = python manage.py test {posargs}[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands} [testenv:py3-dj111-local] basepython = python3 commands = {[testenv:hz-local]commands} pip install django>=1.11,<2 {[testenv]commands} ",6,19
openstack%2Fneutron~master~Ie7e03848fc5f1bb1425987d4413dd6c02045a879,openstack/neutron,master,Ie7e03848fc5f1bb1425987d4413dd6c02045a879,Switch neutron-tempest-postgres-full job definition to Zuul v3,MERGED,2019-09-10 09:59:08.000000000,2019-10-07 07:27:12.000000000,2019-10-07 07:24:29.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-10 09:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b6f4685621c7c89114abaaf9565a4da0b1f6e80', 'message': 'Switch neutron-tempest-postgres-full job definition to Zuul v3\n\nAnd also switch it to be inheriting from tempest-integrated-networking\nto run only neutron and nova related tests on it and make it faster.\n\nChange-Id: Ie7e03848fc5f1bb1425987d4413dd6c02045a879\n'}, {'number': 2, 'created': '2019-09-10 22:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3db64ffe0720d7366879b41b83a512abff89bb79', 'message': 'Switch neutron-tempest-postgres-full job definition to Zuul v3\n\nAnd also switch it to be inheriting from tempest-integrated-networking\nto run only neutron and nova related tests on it and make it faster.\n\nChange-Id: Ie7e03848fc5f1bb1425987d4413dd6c02045a879\n'}, {'number': 3, 'created': '2019-10-02 11:55:39.000000000', 'files': ['playbooks/legacy/neutron-tempest-postgres-full/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-tempest-postgres-full/post.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17706412e24aaf518f0891b08872d1035a809816', 'message': 'Switch neutron-tempest-postgres-full job definition to Zuul v3\n\nAnd also switch it to be inheriting from tempest-integrated-networking\nto run only neutron and nova related tests on it and make it faster.\n\nChange-Id: Ie7e03848fc5f1bb1425987d4413dd6c02045a879\n'}]",2,681200,17706412e24aaf518f0891b08872d1035a809816,40,9,3,11975,,,0,"Switch neutron-tempest-postgres-full job definition to Zuul v3

And also switch it to be inheriting from tempest-integrated-networking
to run only neutron and nova related tests on it and make it faster.

Change-Id: Ie7e03848fc5f1bb1425987d4413dd6c02045a879
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/681200/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-tempest-postgres-full/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-tempest-postgres-full/post.yaml']",3,6b6f4685621c7c89114abaaf9565a4da0b1f6e80,move-periodic-jobs-to-zuulv3,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,7,64
openstack%2Ftripleo-docs~master~If244106d318074e964d86cafadfa251dfdb04ca4,openstack/tripleo-docs,master,If244106d318074e964d86cafadfa251dfdb04ca4,Add note on ceph registry authentication,MERGED,2019-09-27 18:49:42.000000000,2019-10-07 07:24:30.000000000,2019-10-07 07:23:04.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-09-27 18:49:42.000000000', 'files': ['deploy-guide/source/deployment/container_image_prepare.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/007d8fdb367bbda98fe31db987a2f3155aa624d6', 'message': 'Add note on ceph registry authentication\n\nThis note is used to document the ability to\nextract the registry credentials and pass them\nto ceph-ansible when the credentials are defined\nfor a registry that matches the ceph_namespace.\n\nDepends-On: https://review.opendev.org/#/c/682015\nChange-Id: If244106d318074e964d86cafadfa251dfdb04ca4\n'}]",0,685456,007d8fdb367bbda98fe31db987a2f3155aa624d6,10,5,1,25402,,,0,"Add note on ceph registry authentication

This note is used to document the ability to
extract the registry credentials and pass them
to ceph-ansible when the credentials are defined
for a registry that matches the ceph_namespace.

Depends-On: https://review.opendev.org/#/c/682015
Change-Id: If244106d318074e964d86cafadfa251dfdb04ca4
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/56/685456/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/container_image_prepare.rst'],1,007d8fdb367bbda98fe31db987a2f3155aa624d6,ceph_ansible_auth,".. note:: If the `ContainerImageRegistryCredentials` contain the credentials for a registry whose name matches the `ceph_namespace` parameter, those credentials will be extracted and passed to ceph-ansible as the `ceph_docker_registry_username` and `ceph_docker_registry_password` parameters. ",,5,0
openstack%2Fironic~master~I150fa02c75f5e228b3e18c24e9a101c2e1eb0274,openstack/ironic,master,I150fa02c75f5e228b3e18c24e9a101c2e1eb0274,DRAC: Fix a bug for job creation when only required,MERGED,2019-09-16 14:47:33.000000000,2019-10-07 07:03:07.000000000,2019-10-02 11:15:40.000000000,"[{'_account_id': 7160}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 29405}]","[{'number': 1, 'created': '2019-09-16 14:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c336ba11924fcc1f27ed2d045f54e52e46b2d97c', 'message': '[WIP]DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\n'}, {'number': 2, 'created': '2019-09-17 10:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8fd16c1462ec0a0b63a3fe758b3698ae6e3391ce', 'message': '[WIP]DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\n'}, {'number': 3, 'created': '2019-09-17 10:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40b18b08204390c0c88408a16f36d08e84de5a15', 'message': 'DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\nStory: #2006562\nTask: #36659\n'}, {'number': 4, 'created': '2019-09-26 15:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a117232d55e6416baaccefaadde005c65bbddac', 'message': 'DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\nStory: #2006562\nTask: #36659\n'}, {'number': 5, 'created': '2019-09-27 10:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa17be71ec1ed3d44188def5e1fcea8b127ea015', 'message': 'DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\nStory: #2006562\nTask: #36659\n'}, {'number': 6, 'created': '2019-09-30 10:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/006e949634dbe64f52e2bbce073ea2e143da14ee', 'message': 'DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\nStory: #2006562\nTask: #36659\n'}, {'number': 7, 'created': '2019-10-01 13:27:29.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/fix-commit-to-controller-d26f083ac388a65e.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb83cfb76d2a83a6206fc7ea57d27e3ca08b9abd', 'message': 'DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\nStory: #2006562\nTask: #36659\n'}]",5,682376,fb83cfb76d2a83a6206fc7ea57d27e3ca08b9abd,59,14,7,29405,,,0,"DRAC: Fix a bug for job creation when only required

This patch fix a bug which creates configuration job on any
controller even if ``is_commit_required`` value is ``False``

Change-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274
Story: #2006562
Task: #36659
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/682376/6 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/drac/raid.py'],1,c336ba11924fcc1f27ed2d045f54e52e46b2d97c,," if controller['is_commit_required']: raid_controller = controller['raid_controller'] # Commit the configuration # The logic below will reboot the node if there is at least one # controller without real time support. In that case the reboot # is triggered when the configuration is committed to the last # controller. realtime = controller['is_reboot_required'] == optional all_realtime = all_realtime and realtime if controller == controllers[-1]: job_id = commit_config(node, raid_controller=raid_controller, reboot=not all_realtime, realtime=realtime) else: job_id = commit_config(node, raid_controller=raid_controller, reboot=False, realtime=realtime) LOG.info('Change has been committed to RAID controller ' '%(controller)s on node %(node)s. ' 'DRAC job id: %(job_id)s', {'controller': controller, 'node': node.uuid, 'job_id': job_id}) driver_internal_info['raid_config_job_ids'].append(job_id) if raid_controller not in driver_internal_info[ 'raid_config_parameters']: driver_internal_info['raid_config_parameters'].append( raid_controller) controller['is_commit_required'] = controller_cap[ 'is_commit_required'] controller[""is_commit_required""] = controller_cap[ ""is_commit_required""]"," raid_controller = controller['raid_controller'] # Commit the configuration # The logic below will reboot the node if there is at least one # controller without real time support. In that case the reboot # is triggered when the configuration is committed to the last # controller. realtime = controller['is_reboot_required'] == optional all_realtime = all_realtime and realtime if controller == controllers[-1]: job_id = commit_config(node, raid_controller=raid_controller, reboot=not all_realtime, realtime=realtime) else: job_id = commit_config(node, raid_controller=raid_controller, reboot=False, realtime=realtime) LOG.info('Change has been committed to RAID controller ' '%(controller)s on node %(node)s. ' 'DRAC job id: %(job_id)s', {'controller': controller, 'node': node.uuid, 'job_id': job_id}) driver_internal_info['raid_config_job_ids'].append(job_id) if raid_controller not in driver_internal_info[ 'raid_config_parameters']: driver_internal_info['raid_config_parameters'].append( raid_controller)",31,27
openstack%2Fneutron-fwaas~stable%2Frocky~I7ef193baba9447d0f09cd9544cce9d05a956b920,openstack/neutron-fwaas,stable/rocky,I7ef193baba9447d0f09cd9544cce9d05a956b920,FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host,MERGED,2019-10-01 19:06:01.000000000,2019-10-07 06:17:46.000000000,2019-10-04 17:55:24.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6876}, {'_account_id': 6995}, {'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 13770}, {'_account_id': 13995}, {'_account_id': 14892}, {'_account_id': 15736}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 19:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e296297440bcc4daec572c47b049d558e53b95ee', 'message': 'FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host\n\nWhen a firewall is created after the routers have been deployed,\nwe are supposed to manually do a firewall-update on specific routers\nwhere we wanted the firewall policy to be applied.\nBut in the case of DVR routers, we have seen the firewall-update\nfor routers that are deployed in the compute hosts are not getting\npropagated properly.\nThe reason is the firewall update, firewall delete and firewall\ncreate events are not notified to all the respective router hosts.\nThe original code only handled getting the host information from\nthe routers that are scheduled to the l3 agent, but in the case of\nDVR routers, the routers are only scheduled to the network node l3\nagents.\n\nThis patch fixes the problem described above by taking care of\ncollecting all the hosts involved with DVR routers and notifying\nthem.\n\nChange-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920\nCloses-Bug: #1845557\n'}, {'number': 2, 'created': '2019-10-01 22:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/97773b24d9b29fbf899493fbca3f3aeaf4603bb9', 'message': 'FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host\n\nWhen a firewall is created after the routers have been deployed,\nwe are supposed to manually do a firewall-update on specific routers\nwhere we wanted the firewall policy to be applied.\nBut in the case of DVR routers, we have seen the firewall-update\nfor routers that are deployed in the compute hosts are not getting\npropagated properly.\nThe reason is the firewall update, firewall delete and firewall\ncreate events are not notified to all the respective router hosts.\nThe original code only handled getting the host information from\nthe routers that are scheduled to the l3 agent, but in the case of\nDVR routers, the routers are only scheduled to the network node l3\nagents.\n\nThis patch fixes the problem described above by taking care of\ncollecting all the hosts involved with DVR routers and notifying\nthem.\n\nChange-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920\nCloses-Bug: #1845557\n'}, {'number': 3, 'created': '2019-10-01 23:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9c5aecb39ab10c01a0412312625fe9a528ef3632', 'message': 'FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host\n\nWhen a firewall is created after the routers have been deployed,\nwe are supposed to manually do a firewall-update on specific routers\nwhere we wanted the firewall policy to be applied.\nBut in the case of DVR routers, we have seen the firewall-update\nfor routers that are deployed in the compute hosts are not getting\npropagated properly.\nThe reason is the firewall update, firewall delete and firewall\ncreate events are not notified to all the respective router hosts.\nThe original code only handled getting the host information from\nthe routers that are scheduled to the l3 agent, but in the case of\nDVR routers, the routers are only scheduled to the network node l3\nagents.\n\nThis patch fixes the problem described above by taking care of\ncollecting all the hosts involved with DVR routers and notifying\nthem.\n\nChange-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920\nCloses-Bug: #1845557\n'}, {'number': 4, 'created': '2019-10-02 01:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f02be2f4ed4ae1aeceafcf7d5862be359d2612d2', 'message': 'FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host\n\nWhen a firewall is created after the routers have been deployed,\nwe are supposed to manually do a firewall-update on specific routers\nwhere we wanted the firewall policy to be applied.\nBut in the case of DVR routers, we have seen the firewall-update\nfor routers that are deployed in the compute hosts are not getting\npropagated properly.\nThe reason is the firewall update, firewall delete and firewall\ncreate events are not notified to all the respective router hosts.\nThe original code only handled getting the host information from\nthe routers that are scheduled to the l3 agent, but in the case of\nDVR routers, the routers are only scheduled to the network node l3\nagents.\n\nThis patch fixes the problem described above by taking care of\ncollecting all the hosts involved with DVR routers and notifying\nthem.\n\nChange-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920\nCloses-Bug: #1845557\n'}, {'number': 5, 'created': '2019-10-03 17:50:08.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/20fd02611674da5365e93d06f330d1f76fd71e3e', 'message': 'FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host\n\nWhen a firewall is created after the routers have been deployed,\nwe are supposed to manually do a firewall-update on specific routers\nwhere we wanted the firewall policy to be applied in the case of\nFWaaS-v1.\nBut in the case of DVR routers, we have seen the firewall-update\nfor routers that are deployed in the compute hosts are not getting\npropagated properly.\nThe reason is the firewall update, firewall delete and firewall\ncreate events are not notified to all the respective router hosts.\nThe original code only handles getting the host information from\nthe routers that are scheduled to the l3 agent, but in the case of\nDVR routers, the routers are only scheduled to the network node l3\nagents and the other distributed routers on compute are created\nbased on the service port binding.\n\nThis bug is applicable only for FWaaS-v1 and the patch should be\napplied for Rocky release and below, since FWaaS-v1 is not supported\nin Stein and Train release.\n\nThis patch fixes the problem described above by taking care of\ncollecting all the hosts involved with DVR routers and notifying\nthem.\n\nChange-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920\nCloses-Bug: #1845557\n'}]",0,686029,20fd02611674da5365e93d06f330d1f76fd71e3e,24,13,5,7016,,,0,"FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host

When a firewall is created after the routers have been deployed,
we are supposed to manually do a firewall-update on specific routers
where we wanted the firewall policy to be applied in the case of
FWaaS-v1.
But in the case of DVR routers, we have seen the firewall-update
for routers that are deployed in the compute hosts are not getting
propagated properly.
The reason is the firewall update, firewall delete and firewall
create events are not notified to all the respective router hosts.
The original code only handles getting the host information from
the routers that are scheduled to the l3 agent, but in the case of
DVR routers, the routers are only scheduled to the network node l3
agents and the other distributed routers on compute are created
based on the service port binding.

This bug is applicable only for FWaaS-v1 and the patch should be
applied for Rocky release and below, since FWaaS-v1 is not supported
in Stein and Train release.

This patch fixes the problem described above by taking care of
collecting all the hosts involved with DVR routers and notifying
them.

Change-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920
Closes-Bug: #1845557
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/29/686029/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/fwaas_plugin.py'],1,e296297440bcc4daec572c47b049d558e53b95ee,bug/1845557," # This call checks for all scheduled routers to the network node scheduled_rtr_hosts = [a.host for a in agents] # Now check for unscheduled DVR router on distributed compute hosts unscheduled_dvr_hosts = [] for router_id in router_ids: hosts = l3_plugin._get_dvr_hosts_for_router(context, router_id) unscheduled_dvr_hosts.append(hosts) total_hosts = scheduled_rtr_hosts + unscheduled_dvr_hosts return total_hosts", return [a.host for a in agents],9,1
openstack%2Fnetworking-baremetal~master~I9279d79f039177e150a59aefa5c660c568dd18b6,openstack/networking-baremetal,master,I9279d79f039177e150a59aefa5c660c568dd18b6,Fix unit tests with ironicclient >=3.0.0,MERGED,2019-09-15 23:14:46.000000000,2019-10-07 06:12:31.000000000,2019-09-16 18:36:05.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-15 23:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/0af8b4c4e48707ce485ecb173602555530fe11a8', 'message': 'Fix unit tests with ironicclient >=3.0.0\n\nMock ironicclient at the class level.\n\nWe need to mock all invocations of the ironic client,\notherwise we see failures with python-ironicclient 3.0.0.\n\nChange-Id: I9279d79f039177e150a59aefa5c660c568dd18b6\n'}, {'number': 2, 'created': '2019-09-15 23:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/743c34a742129af7fcc5669cda7e48cfc990faf8', 'message': 'Fix unit tests with ironicclient >=3.0.0\n\nMock ironicclient at the class level.\n\nWe need to mock all invocations of the ironic client,\notherwise we see failures with python-ironicclient 3.0.0.\n\nChange-Id: I9279d79f039177e150a59aefa5c660c568dd18b6\n'}, {'number': 3, 'created': '2019-09-15 23:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/8a77ee6f5156cc2caeb36249c22f7b1337c6df35', 'message': 'Fix unit tests with ironicclient >=3.0.0\n\nMock ironicclient at the class level.\n\nWe need to mock all invocations of the ironic client,\notherwise we see failures with python-ironicclient 3.0.0.\n\nChange-Id: I9279d79f039177e150a59aefa5c660c568dd18b6\n'}, {'number': 4, 'created': '2019-09-15 23:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/646a71ae8898efa0890ecae2ac1e45bcee1a312a', 'message': 'Fix unit tests with ironicclient >=3.0.0\n\nWe need to mock all invocations of the ironic client,\notherwise we see failures with python-ironicclient 3.0.0.\n\nChange-Id: I9279d79f039177e150a59aefa5c660c568dd18b6\n'}, {'number': 5, 'created': '2019-09-16 01:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/28cb09f14243e020976ccd4958cc717fb2a86e48', 'message': 'Fix unit tests with ironicclient >=3.0.0\n\nWe need to mock all invocations of the ironic client,\notherwise we see failures with python-ironicclient 3.0.0.\n\nChange-Id: I9279d79f039177e150a59aefa5c660c568dd18b6\n'}, {'number': 6, 'created': '2019-09-16 10:45:21.000000000', 'files': ['networking_baremetal/tests/unit/ironic_agent/test_ironic_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/66faa425b97c8be9ea1cfb0ac65f4e5ff3476997', 'message': 'Fix unit tests with ironicclient >=3.0.0\n\nWe need to mock all invocations of the ironic client,\notherwise we see failures with python-ironicclient 3.0.0.\n\nChange-Id: I9279d79f039177e150a59aefa5c660c568dd18b6\n'}]",1,682256,66faa425b97c8be9ea1cfb0ac65f4e5ff3476997,27,5,6,24245,,,0,"Fix unit tests with ironicclient >=3.0.0

We need to mock all invocations of the ironic client,
otherwise we see failures with python-ironicclient 3.0.0.

Change-Id: I9279d79f039177e150a59aefa5c660c568dd18b6
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/56/682256/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_baremetal/tests/unit/ironic_agent/test_ironic_agent.py'],1,0af8b4c4e48707ce485ecb173602555530fe11a8,fix-unit-tests-with-ironicclien-3.0.0," self.mock_client = mock.patch.object(client, 'Client', autospec=False).start() self.addCleanup(self.mock_client.stop) def test_report_state_one_node_one_port(self): self.agent.ironic_client = self.mock_client self.mock_client .port.list.return_value = [FakePort1()] def test_report_state_with_log_agent_heartbeats(self): self.agent.ironic_client = self.mock_client self.mock_client .port.list.return_value = [FakePort1()] def test_start_flag_false_on_update_no_config_change(self): self.agent.ironic_client = self.mock_client self.mock_client.port.list.return_value = [FakePort1()] def test_start_flag_true_on_update_after_config_change(self): self.agent.ironic_client = self.mock_client self.mock_client.port.list.return_value = [FakePort1()] self.mock_client.port.list.return_value = [FakePort1( def test_report_state_two_nodes_two_ports(self): self.agent.ironic_client = self.mock_client self.mock_client.port.list.return_value = [FakePort1(), FakePort2()] def test_ironic_port_list_fail(self, mock_log): self.agent.ironic_client = self.mock_client self.mock_client.port.list.side_effect = Exception() self.agent._report_state() self.assertEqual(1, mock_log.call_count) def test_state_rpc_report_state_fail(self, mock_report_state, mock_log): self.agent.ironic_client = self.mock_client self.mock_client.port.list.return_value = [FakePort1(), FakePort2()] def test_ironic_exceptions_stop_loopingcall(self, mock_log): self.agent.ironic_client = self.mock_client self.mock_client.port.list.side_effect = exc self.mock_client.reset_mock() self, mock_state_rpc, mock_log): self.agent.ironic_client = self.mock_client self.mock_client.port.list.return_value = [FakePort1(), FakePort2()]"," @mock.patch.object(client, 'Client', autospec=False) def test_report_state_one_node_one_port(self, mock_client): self.agent.ironic_client = mock_client mock_client.port.list.return_value = [FakePort1()] @mock.patch.object(client, 'Client', autospec=False) def test_report_state_with_log_agent_heartbeats(self, mock_client): self.agent.ironic_client = mock_client mock_client.port.list.return_value = [FakePort1()] @mock.patch.object(client, 'Client', autospec=False) def test_start_flag_false_on_update_no_config_change(self, mock_client): self.agent.ironic_client = mock_client mock_client.port.list.return_value = [FakePort1()] @mock.patch.object(client, 'Client', autospec=False) def test_start_flag_true_on_update_after_config_change(self, mock_client): self.agent.ironic_client = mock_client mock_client.port.list.return_value = [FakePort1()] mock_client.port.list.return_value = [FakePort1( @mock.patch.object(client, 'Client', autospec=False) def test_report_state_two_nodes_two_ports(self, mock_client): self.agent.ironic_client = mock_client mock_client.port.list.return_value = [FakePort1(), FakePort2()] @mock.patch.object(client, 'Client', autospec=False) def test_ironic_port_list_fail(self, mock_client, mock_log): self.agent.ironic_client = mock_client mock_client.port.list.side_effect = Exception() self.agent._report_state() self.assertEqual(1, mock_log.call_count) @mock.patch.object(client, 'Client', autospec=False) def test_state_rpc_report_state_fail(self, mock_report_state, mock_client, mock_log): self.agent.ironic_client = mock_client mock_client.port.list.return_value = [FakePort1(), FakePort2()] @mock.patch.object(client, 'Client', autospec=False) def test_ironic_exceptions_stop_loopingcall(self, mock_client, mock_log): self.agent.ironic_client = mock_client mock_client.port.list.side_effect = exc mock_client.reset_mock() @mock.patch.object(client, 'Client', autospec=False) self, mock_state_rpc, mock_client, mock_log): self.agent.ironic_client = mock_client mock_client.port.list.return_value = [FakePort1(), FakePort2()]",34,41
openstack%2Fkolla~master~I1e821a04d8637141ac7977937fddab6910c4eeaf,openstack/kolla,master,I1e821a04d8637141ac7977937fddab6910c4eeaf,Debian: publish images,MERGED,2019-10-02 12:15:22.000000000,2019-10-07 06:08:38.000000000,2019-10-03 15:48:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-02 12:15:22.000000000', 'files': ['.zuul.d/debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9b60e010f480472301a76418351cc80bf0efd719', 'message': 'Debian: publish images\n\nLet us publish Debian/source images periodically and at release time.\n\nDebian/binary images publish at release time as we may not have binary\npackages during development cycle.\n\nChange-Id: I1e821a04d8637141ac7977937fddab6910c4eeaf\n'}]",0,686143,9b60e010f480472301a76418351cc80bf0efd719,9,4,1,24072,,,0,"Debian: publish images

Let us publish Debian/source images periodically and at release time.

Debian/binary images publish at release time as we may not have binary
packages during development cycle.

Change-Id: I1e821a04d8637141ac7977937fddab6910c4eeaf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/686143/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/debian.yaml'],1,9b60e010f480472301a76418351cc80bf0efd719,, periodic: jobs: - kolla-publish-debian-source release: jobs: - kolla-publish-debian-source - kolla-publish-debian-binary - job: name: kolla-publish-debian-binary parent: kolla-build-debian-binary post-run: tests/playbooks/publish.yml vars: publisher: true secrets: - kolla_dockerhub_creds - job: name: kolla-publish-debian-source parent: kolla-build-debian-source post-run: tests/playbooks/publish.yml vars: publisher: true secrets: - kolla_dockerhub_creds,,25,0
openstack%2Fheat-tempest-plugin~master~I024ab088e50065472756cdd7afc0e2c196e0baa4,openstack/heat-tempest-plugin,master,I024ab088e50065472756cdd7afc0e2c196e0baa4,[WIP] Allow retry when wc_notify not successed,ABANDONED,2019-10-03 08:30:21.000000000,2019-10-07 05:44:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-03 08:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/08418ca7f408fe8445d278a342a0c20f7fd6502e', 'message': '[WIP] Allow retry when wc_notify not successed\n\nChange-Id: I024ab088e50065472756cdd7afc0e2c196e0baa4\n'}, {'number': 2, 'created': '2019-10-04 03:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/13a7fb314b592cb59cb9e4e32e5f106a0a9a5076', 'message': '[WIP] Allow retry when wc_notify not successed\n\nChange-Id: I024ab088e50065472756cdd7afc0e2c196e0baa4\n'}, {'number': 3, 'created': '2019-10-04 05:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/45abb518cf96bebaf3f3e3648f92af5a7dcde80a', 'message': '[WIP] Allow retry when wc_notify not successed\n\nChange-Id: I024ab088e50065472756cdd7afc0e2c196e0baa4\n'}, {'number': 4, 'created': '2019-10-05 09:16:50.000000000', 'files': ['heat_tempest_plugin/tests/functional/test_os_wait_condition.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/a620b7f1606a80848074752c2aaafbc5f7e9f7bf', 'message': '[WIP] Allow retry when wc_notify not successed\n\nDepends-On: https://review.opendev.org/#/c/592074/5\n\nChange-Id: I024ab088e50065472756cdd7afc0e2c196e0baa4\n'}]",0,686350,a620b7f1606a80848074752c2aaafbc5f7e9f7bf,9,1,4,12404,,,0,"[WIP] Allow retry when wc_notify not successed

Depends-On: https://review.opendev.org/#/c/592074/5

Change-Id: I024ab088e50065472756cdd7afc0e2c196e0baa4
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/50/686350/4 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/tests/functional/test_os_wait_condition.py'],1,08418ca7f408fe8445d278a342a0c20f7fd6502e,tests," send_notify(){ while true; do wc_notify --data-binary $1 if [ $? -eq 0 ]; then break fi sleep 1 done } send_notify '{""status"": ""SUCCESS""}' send_notify ''{""status"": ""SUCCESS"", ""reason"": ""signal2""}'' send_notify ''{""status"": ""SUCCESS"", ""reason"": send_notify ''{""status"": ""SUCCESS"", ""reason"": send_notify ''{""status"": ""SUCCESS"", ""id"": ""test5""}'' send_notify ''{""status"": ""SUCCESS"", ""id"": ""test5""}'' for i in `seq 1 20`; do send_notify ''{""status"":"," wc_notify --data-binary ''{""status"": ""SUCCESS""}'' wc_notify --data-binary ''{""status"": ""SUCCESS"", ""reason"": ""signal2""}'' wc_notify --data-binary ''{""status"": ""SUCCESS"", ""reason"": wc_notify --data-binary ''{""status"": ""SUCCESS"", ""reason"": wc_notify --data-binary ''{""status"": ""SUCCESS"", ""id"": ""test5""}'' wc_notify --data-binary ''{""status"": ""SUCCESS"", ""id"": ""test5""}'' for i in `seq 1 20`; do wc_notify --data-binary ''{""status"":",16,8
openstack%2Fnova-specs~master~I416f43b243b0e75118eb22fa16e8c4de5be09d41,openstack/nova-specs,master,I416f43b243b0e75118eb22fa16e8c4de5be09d41,Up load new blueprint snapshot-vms-with-state-of-processes,ABANDONED,2019-10-06 12:21:27.000000000,2019-10-07 04:05:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 30977}]","[{'number': 1, 'created': '2019-10-06 12:21:27.000000000', 'files': ['specs/pike/approved/snapshot-vms-with-state-of-processes.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b264fededb4b94d8a97931caca087fa61293f679', 'message': 'Up load new blueprint snapshot-vms-with-state-of-processes\n\nChange-Id: I416f43b243b0e75118eb22fa16e8c4de5be09d41\nSigned-off-by: SonPham <phamngocsonls@gmail.com>\n'}]",0,686934,b264fededb4b94d8a97931caca087fa61293f679,6,2,1,30977,,,0,"Up load new blueprint snapshot-vms-with-state-of-processes

Change-Id: I416f43b243b0e75118eb22fa16e8c4de5be09d41
Signed-off-by: SonPham <phamngocsonls@gmail.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/34/686934/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/snapshot-vms-with-state-of-processes.rst'],1,b264fededb4b94d8a97931caca087fa61293f679,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Live snapshot for VM with state of processes ============================================ https://blueprints.launchpad.net/nova/+spec/snapshot-vms-with-state-of-processes The aim of this feature is to let create a new type of live-snapshot with state of processes. Problem description =================== Openstack Snapshot is supported live-snapshot but a snapshot is a disk snapshot. When you want to use a snapshot, you must create new instance with image and volume created created earlier. There is no solution yet to keep running process of Instance in snapshot. Use Cases --------- As a user in an OpenStack, it's important that I can save my data with snapshot, reduce boot time of instance. Preserve all state of the instance at the time of snapshot creation. Proposed change =============== Add a configuration option to create new snapshot type( snapshot keep process). * A new snapshot type use libvirt for snapshot, revert snapshot and delete. * A new type of boot is required. After instance has been snapshotted, it is difficult to start instance. Because after snapshot, cinder will not manage instance storage. Instance disk type has been converted form RAW to QCOW2 and move instance disk to other directory. Start instance has new snapshot type will make it error, because instance is no longer booting from cinder volume. Action ""start"" like ""Hard reboot instance"", Nova will reload information from old xml file. ""Soft reboot"" does not make instance error but can't use soft reboot when instance status is ""Shutoff"" but we can fix it. A new type of boot is ""soft snapshot"" when shutoff (Please disable hard reboot when instance has been snapshotted. * Before delete instance, instance must be deleted all snapshot. Delete an instance"" action include delete snapshots. * Revert snapshot with input: domain name, snapshot name ( use libvirt for revert) example command: virsh snapshot-revert <domain-name> <snapshot-name> Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Updating ... Security impact --------------- Nova no longer needs to store the volume connection information Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Create and restore snapshot will make instance ""pause"" some minute depending on the size of the product. Create more snapshot on instance make the waiting time gets bigger. User can delete older snapshot, restart, change disk-cache type to unsafe to make faster. Other deployer impact --------------------- With Openstack multi-node system, Qcow2 volume disk( instance vloume and storage snapshot) is located at compute node. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Son Pham Ngoc (sonpn) Other contributors: Cloudrity Work Items ---------- #. Create/restore live-snapshot with state of processes via Libvirt #. Soft start for instance has new snapshot type #. Fix ``Delete instance`` to delete instance has new snapshot type #. Dashboard on Horizon to show more information about instance's snapshot #. Provide Nova API for Create snapshot, Revert to snapshot, Delete snapshot,etc Dependencies ============ * libvirt-python Testing ======= None Documentation Impact ==================== * API documentation will need to be updated * The documentation for ``new snapshot type`` References ========== None History ======= None .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,164,0
openstack%2Ftripleo-common~stable%2Fstein~Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,openstack/tripleo-common,stable/stein,Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,Implement Ansible fact cache for Mistral executor,MERGED,2019-10-04 07:45:48.000000000,2019-10-07 03:24:22.000000000,2019-10-07 03:23:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 07:45:48.000000000', 'files': ['tripleo_common/actions/ansible.py', 'scripts/run-validation'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6048a985a59e40a1dd7bb6dedda4293d2b8a885d', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThe validations are run using the 'validations' user, it cannot share the\nsame fact cache because the /var/tmp/ansible_fact_cache folder will be owned\nby the 'mistral' user, and is therefore not writable by the 'validations'\nuser. We therefore set the validations to use a different path.\n\nThis should cut down the deployment time a bit, which saves a little time in\nCI and saves a lot of time in production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n(cherry picked from commit bbc0d767bbd87f10d69c71b35652d65bb631ba6c)\n""}]",0,686535,6048a985a59e40a1dd7bb6dedda4293d2b8a885d,13,5,1,16515,,,0,"Implement Ansible fact cache for Mistral executor

Most of the playbooks executed by Mistral gather facts which, by default,
are stored in memory until the conclusion of the playbook execution. This
means that for every new playbook run the facts for each host are gathered
again. Fact gathering can take a long time, especially when the target host
has a lot of devices, which is often the case for compute hosts (many
network devices and many storage devices) and for controller hosts (many
network devices).

To optimise fact gathering, we set the default behaviour for Mistral's
Ansible execution to store gathered facts using the jsonfile format in a
temporary location, and we tell it to use smart gathering so that it will
only gather new facts when a new playbook executes.

The validations are run using the 'validations' user, it cannot share the
same fact cache because the /var/tmp/ansible_fact_cache folder will be owned
by the 'mistral' user, and is therefore not writable by the 'validations'
user. We therefore set the validations to use a different path.

This should cut down the deployment time a bit, which saves a little time in
CI and saves a lot of time in production environments.

Related: rhbz#1749406
Change-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5
(cherry picked from commit bbc0d767bbd87f10d69c71b35652d65bb631ba6c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/686535/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'scripts/run-validation']",2,6048a985a59e40a1dd7bb6dedda4293d2b8a885d,performance_improvements-stable/stein,# Use a fact cache to improve performance # The defaults from tripleo_common/actions/ansible.py cannot be used # beause they will clash with the 'mistral' user owning the fact cache # path. export ANSIBLE_GATHERING=smart export ANSIBLE_CACHE_PLUGIN=jsonfile export ANSIBLE_CACHE_PLUGIN_CONNECTION=~/ansible_fact_cache export ANSIBLE_GATHER_TIMEOUT=7200 # 7200s = 2h,,17,0
openstack%2Fnetworking-midonet~master~Ifdedfe83ca5ace09e7eff55658e9d2a79832babf,openstack/networking-midonet,master,Ifdedfe83ca5ace09e7eff55658e9d2a79832babf,Update master for stable/train,MERGED,2019-09-25 08:51:36.000000000,2019-10-07 03:04:17.000000000,2019-10-07 03:03:06.000000000,"[{'_account_id': 6854}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 08:51:36.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/722ae0813a843f3c802b46aae8b698f56e66458b', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ifdedfe83ca5ace09e7eff55658e9d2a79832babf\nSem-Ver: feature\n'}]",0,684617,722ae0813a843f3c802b46aae8b698f56e66458b,9,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ifdedfe83ca5ace09e7eff55658e9d2a79832babf
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/17/684617/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,722ae0813a843f3c802b46aae8b698f56e66458b,reno-train, train,,7,0
openstack%2Fnetworking-ovn~master~Icea01fe7e5f50a076add42d5b7d1ae96b058e867,openstack/networking-ovn,master,Icea01fe7e5f50a076add42d5b7d1ae96b058e867,Make .bash_profile source .bashrc,MERGED,2019-09-23 08:14:16.000000000,2019-10-07 00:38:49.000000000,2019-10-07 00:37:40.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-23 08:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4d59d597806461357e030fe9568de3e736f418c3', 'message': ""Make .bash_profile source .bashrc\n\nplugin.sh appends OVN_* variables to ~/.bash_profile.\nThe problem with this is that if there was no .bash_profile file\npreviously ~/.bashrc won't be sourced automatically.\nMy approach was to add the sourcing of .bashrc to the newly created\n.bash_profile file, to keep the user's .bashrc settings (aliases,\nenvironment vairables, etc.)\n\nChange-Id: Icea01fe7e5f50a076add42d5b7d1ae96b058e867\n""}, {'number': 2, 'created': '2019-09-24 11:19:32.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/07895a7c22f6fb650727789e46aa1163277eb319', 'message': ""Make .bash_profile source .bashrc\n\nplugin.sh appends OVN_* variables to ~/.bash_profile.\nThe problem with this is that if there was no .bash_profile file\npreviously ~/.bashrc won't be sourced automatically.\nMy approach was to add the sourcing of .bashrc to the newly created\n.bash_profile file, to keep the user's .bashrc settings (aliases,\nenvironment variables, etc.)\n\nChange-Id: Icea01fe7e5f50a076add42d5b7d1ae96b058e867\n""}]",4,683864,07895a7c22f6fb650727789e46aa1163277eb319,40,7,2,8313,,,0,"Make .bash_profile source .bashrc

plugin.sh appends OVN_* variables to ~/.bash_profile.
The problem with this is that if there was no .bash_profile file
previously ~/.bashrc won't be sourced automatically.
My approach was to add the sourcing of .bashrc to the newly created
.bash_profile file, to keep the user's .bashrc settings (aliases,
environment variables, etc.)

Change-Id: Icea01fe7e5f50a076add42d5b7d1ae96b058e867
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/64/683864/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,4d59d597806461357e030fe9568de3e736f418c3,bash_profile," if [[ -f ""$HOME/.bash_profile"" ]]; then # Assume that there was a .bash_profile file and # it sourced .bashrc, so append OVN_* lines grep -lq 'OVN' ~/.bash_profile || echo -e ""\n# Enable OVN commands from any node.\nexport OVN_NB_DB=$OVN_NB_REMOTE\nexport OVN_SB_DB=$OVN_SB_REMOTE"" >> ~/.bash_profile else # There was no .bash_profile file, so be sure that # it will source .bashrc echo -e ""if [ -f ~/.bashrc ]; then\nsource ~/.bashrc\nfi\n"" >> ~/.bash_profile echo -e ""\n# Enable OVN commands from any node.\nexport OVN_NB_DB=$OVN_NB_REMOTE\nexport OVN_SB_DB=$OVN_SB_REMOTE"" >> ~/.bash_profile fi "," grep -lq 'OVN' ~/.bash_profile || echo -e ""\n# Enable OVN commands from any node.\nexport OVN_NB_DB=$OVN_NB_REMOTE\nexport OVN_SB_DB=$OVN_SB_REMOTE"" >> ~/.bash_profile",11,1
openstack%2Fcharm-cinder~master~Ia983450e480ab6811a67034e5503ef3a476b6cbb,openstack/charm-cinder,master,Ia983450e480ab6811a67034e5503ef3a476b6cbb,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:40.000000000,2019-10-06 20:50:07.000000000,2019-10-06 20:50:07.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/8751faaf4c2bff3e391f72c7793bbc846aae9b90', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ia983450e480ab6811a67034e5503ef3a476b6cbb\n'}, {'number': 2, 'created': '2019-10-01 02:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/654e58a0aced6ddd7284cd41624548351c8e348d', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ia983450e480ab6811a67034e5503ef3a476b6cbb\n'}, {'number': 3, 'created': '2019-10-01 03:10:03.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/cbff05ee1a147a03c6ca5f0caa5d3cf0ef97d287', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ia983450e480ab6811a67034e5503ef3a476b6cbb\n'}]",0,685821,cbff05ee1a147a03c6ca5f0caa5d3cf0ef97d287,17,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Ia983450e480ab6811a67034e5503ef3a476b6cbb
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/21/685821/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",16,8751faaf4c2bff3e391f72c7793bbc846aae9b90,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = HOME TERM CS_* OS_* TEST_*[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop] basepython = python3 commands = functest-run-suite --help [testenv:func-target] basepython = python3 commands = functest-run-suite --keep-model --bundle {posargs} ","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py35,py36 AMULET_SETUP_TIMEOUT=5400passenv = HOME TERM AMULET_* CS_API_* OS_*[testenv:py27] basepython = python2.7 deps = commands = /bin/true commands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}",1218,94
openstack%2Fkolla~master~I79c9c678a140931f2470591c88e008b497a893cf,openstack/kolla,master,I79c9c678a140931f2470591c88e008b497a893cf,Add Debian/source kolla-ansible job,MERGED,2019-10-02 10:56:14.000000000,2019-10-06 19:23:54.000000000,2019-10-06 19:22:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-02 10:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/699dcae3614d3965916ab1bc1884385d2adc5f1a', 'message': 'Add Debian/source kolla-ansible job\n\nDepends-On: https://review.opendev.org/686133\n\nChange-Id: I79c9c678a140931f2470591c88e008b497a893cf\n'}, {'number': 2, 'created': '2019-10-02 11:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/db6cc636e3ba86454543f76b2605c51d6eefb511', 'message': 'Add Debian/source kolla-ansible job\n\nDepends-On: https://review.opendev.org/686133\n\nChange-Id: I79c9c678a140931f2470591c88e008b497a893cf\n'}, {'number': 3, 'created': '2019-10-03 16:02:41.000000000', 'files': ['.zuul.d/debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2a46d9ba78d13e61719c1ac883e51a0d9b7c417e', 'message': 'Add Debian/source kolla-ansible job\n\nDepends-On: https://review.opendev.org/686133\n\nChange-Id: I79c9c678a140931f2470591c88e008b497a893cf\n'}]",1,686134,2a46d9ba78d13e61719c1ac883e51a0d9b7c417e,18,5,3,24072,,,0,"Add Debian/source kolla-ansible job

Depends-On: https://review.opendev.org/686133

Change-Id: I79c9c678a140931f2470591c88e008b497a893cf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/686134/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/debian.yaml'],1,699dcae3614d3965916ab1bc1884385d2adc5f1a,686134, - kolla-ansible-build-debian-source,,1,0
openstack%2Foslo.utils~stable%2Ftrain~I1f316d6982c0def3296af4835484ad2d81a87fd4,openstack/oslo.utils,stable/train,I1f316d6982c0def3296af4835484ad2d81a87fd4,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later",MERGED,2019-10-03 19:27:06.000000000,2019-10-06 19:16:23.000000000,2019-10-04 10:03:00.000000000,"[{'_account_id': 6928}, {'_account_id': 8161}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 25089}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-03 19:27:06.000000000', 'files': ['oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/89bccdee95f81ddb54b427d6af172bb987fd7545', 'message': 'Support ""qemu-img info"" virtual size in QEMU 4.1 and later\n\nQEMU 4.0 and earlier have output like:\n\n    virtual size: 1.5M (1572864 bytes)\n\nQEMU 4.1 and later have output like:\n\n    virtual size: 1.5 MiB (1572864 bytes)\n\nAdjust the regular expression to allow for optional whitespace\nbetween the magnitude and the unit.\n\nAdjust the unit parsing to support the expanded ""MiB"" form.\n\nChange-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4\nCloses-Bug: 1844050\n(cherry picked from commit 5204dfcd6c5a8f75bb1fe3dc348cec82a6284eff)\n'}]",0,686472,89bccdee95f81ddb54b427d6af172bb987fd7545,11,6,1,5803,,,0,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later

QEMU 4.0 and earlier have output like:

    virtual size: 1.5M (1572864 bytes)

QEMU 4.1 and later have output like:

    virtual size: 1.5 MiB (1572864 bytes)

Adjust the regular expression to allow for optional whitespace
between the magnitude and the unit.

Adjust the unit parsing to support the expanded ""MiB"" form.

Change-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4
Closes-Bug: 1844050
(cherry picked from commit 5204dfcd6c5a8f75bb1fe3dc348cec82a6284eff)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/72/686472/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py']",2,89bccdee95f81ddb54b427d6af172bb987fd7545,bugs/1844050-stable/train," ('64_MiB_with_byte_hint', dict(virtual_size='64 MiB (67108844 bytes)', exp_virtual_size=67108844)), ('4.4_MiB_with_byte_hint', dict(virtual_size='4.4 MiB (4592640 bytes)', exp_virtual_size=4592640)), ('2_KiB_with_byte_hint', dict(virtual_size='2 KiB (2048 bytes)', exp_virtual_size=2048)), ('96_KiB', dict(disk_size='96 KiB', exp_disk_size=98304)), ('98304_B', dict(disk_size='98304 B', exp_disk_size=98304)), ('3.1_GiB', dict(disk_size='3.1 GiB', exp_disk_size=3328599655)),",,17,2
openstack%2Fcharm-openstack-dashboard~master~I25256dfc4e4029c99c0e612142ec857980f902c6,openstack/charm-openstack-dashboard,master,I25256dfc4e4029c99c0e612142ec857980f902c6,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:33.000000000,2019-10-06 18:01:01.000000000,2019-10-06 18:01:01.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/c10cbc76bfb82ed230e0afd4c79e75497fca3725', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I25256dfc4e4029c99c0e612142ec857980f902c6\n'}, {'number': 2, 'created': '2019-10-01 02:43:43.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e220d069b7ac768cda2716e6eb61da68daf8ff96', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I25256dfc4e4029c99c0e612142ec857980f902c6\n'}]",0,685849,e220d069b7ac768cda2716e6eb61da68daf8ff96,14,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I25256dfc4e4029c99c0e612142ec857980f902c6
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/49/685849/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",15,c10cbc76bfb82ed230e0afd4c79e75497fca3725,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37skip_missing_interpreters = Truecommands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] commands = /bin/truecommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1205,90
openstack%2Fcharm-neutron-api~master~I08d3837f2c25e62e6c0fa801e9bcd84c2596ccf3,openstack/charm-neutron-api,master,I08d3837f2c25e62e6c0fa801e9bcd84c2596ccf3,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:49.000000000,2019-10-06 16:25:16.000000000,2019-10-06 16:25:16.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/cded9e77ad09180aa17ae31066750692d7a03ddb', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I08d3837f2c25e62e6c0fa801e9bcd84c2596ccf3\n'}, {'number': 2, 'created': '2019-10-01 02:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/dbc2a81d78fa14cf1a6e28ad9f9956c878b6dbf5', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I08d3837f2c25e62e6c0fa801e9bcd84c2596ccf3\n'}, {'number': 3, 'created': '2019-10-01 03:10:14.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f2c9168d9ab50f1a01bbd1c0aca36d453283c397', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I08d3837f2c25e62e6c0fa801e9bcd84c2596ccf3\n'}]",0,685838,f2c9168d9ab50f1a01bbd1c0aca36d453283c397,13,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I08d3837f2c25e62e6c0fa801e9bcd84c2596ccf3
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/38/685838/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",15,cded9e77ad09180aa17ae31066750692d7a03ddb,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = flake8 {posargs} hooks unit_tests tests actions lib filesdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt stestr run --slowest {posargs}[testenv:func-noop] basepython = python3 commands = functest-run-suite --help ","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37 AMULET_SETUP_TIMEOUT=5400commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* OS_* deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}",1217,75
openstack%2Fcharm-glance~master~I798c3a2ecd7ef34951eea4f1e2c0f3adc31aa83d,openstack/charm-glance,master,I798c3a2ecd7ef34951eea4f1e2c0f3adc31aa83d,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:01.000000000,2019-10-06 16:24:42.000000000,2019-10-06 16:24:42.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/1668ee33da8d9cf5b20a1ba3b877ae3c10b07f74', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I798c3a2ecd7ef34951eea4f1e2c0f3adc31aa83d\n'}, {'number': 2, 'created': '2019-10-01 02:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/5792e19fde76a9fa3cedfb7b74e7af20392f241b', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I798c3a2ecd7ef34951eea4f1e2c0f3adc31aa83d\n'}, {'number': 3, 'created': '2019-10-01 03:10:05.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/a018795929cc5c4cc6dffb52e16eda61a317c1fb', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I798c3a2ecd7ef34951eea4f1e2c0f3adc31aa83d\n'}]",0,685826,a018795929cc5c4cc6dffb52e16eda61a317c1fb,15,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I798c3a2ecd7ef34951eea4f1e2c0f3adc31aa83d
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/26/685826/3 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",16,1668ee33da8d9cf5b20a1ba3b877ae3c10b07f74,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM CS_* OS_* TEST_*commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs} functest-run-suite --help","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM CS_API_* OS_*commands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs} /bin/true",1197,70
openstack%2Fcharm-nova-cloud-controller~master~If70d66e7f279e9052fbafaa55019cb4a1754bc95,openstack/charm-nova-cloud-controller,master,If70d66e7f279e9052fbafaa55019cb4a1754bc95,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:09.000000000,2019-10-06 16:24:13.000000000,2019-10-06 16:24:13.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/20d484bbfb6ab0fb77030eb00fe269fea800cded', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If70d66e7f279e9052fbafaa55019cb4a1754bc95\n'}, {'number': 2, 'created': '2019-10-01 02:43:38.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/cbf5b0bff88b48d5eb56443f7757e2d0364b35a8', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If70d66e7f279e9052fbafaa55019cb4a1754bc95\n'}]",0,685843,cbf5b0bff88b48d5eb56443f7757e2d0364b35a8,13,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: If70d66e7f279e9052fbafaa55019cb4a1754bc95
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/43/685843/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",13,20d484bbfb6ab0fb77030eb00fe269fea800cded,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]ignore = E402,E226","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* OS_*[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]ignore = E402,E226,W504",1182,81
openstack%2Fcharm-keystone~master~I6216604292a41c0a65509716d5ead0bb022247d2,openstack/charm-keystone,master,I6216604292a41c0a65509716d5ead0bb022247d2,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:21.000000000,2019-10-06 11:40:13.000000000,2019-10-06 11:40:13.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/c78d62fc520f8a88b67179d0814c0610553974c4', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I6216604292a41c0a65509716d5ead0bb022247d2\n'}, {'number': 2, 'created': '2019-10-01 02:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/94fd6c2a35611ceed4d2c3249c2ab3eebc884f46', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I6216604292a41c0a65509716d5ead0bb022247d2\n'}, {'number': 3, 'created': '2019-10-01 03:10:11.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/965aa3283ed82735b09a4b90b95fa12434eaa54b', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I6216604292a41c0a65509716d5ead0bb022247d2\n'}]",0,685831,965aa3283ed82735b09a4b90b95fa12434eaa54b,18,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I6216604292a41c0a65509716d5ead0bb022247d2
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/31/685831/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",17,c78d62fc520f8a88b67179d0814c0610553974c4,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM CS_* OS_* TEST_*commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop] basepython = python3 commands = functest-run-suite --help ","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM CS_API_* OS_*commands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}",1223,78
openstack%2Fhorizon~master~I09ecb6d29bd1b70221b47f1b45de32b823a7b3ac,openstack/horizon,master,I09ecb6d29bd1b70221b47f1b45de32b823a7b3ac,Imported Translations from Zanata,MERGED,2019-10-06 08:31:40.000000000,2019-10-06 10:55:42.000000000,2019-10-06 10:54:15.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 08:31:40.000000000', 'files': ['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'horizon/locale/eo/LC_MESSAGES/django.po', 'horizon/locale/eo/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/djangojs.po', 'openstack_auth/locale/eo/LC_MESSAGES/django.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5c3a402b7b8c62fd838ed8373b06ff0532584d5c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I09ecb6d29bd1b70221b47f1b45de32b823a7b3ac\n'}]",0,686925,5c3a402b7b8c62fd838ed8373b06ff0532584d5c,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I09ecb6d29bd1b70221b47f1b45de32b823a7b3ac
",git fetch https://review.opendev.org/openstack/horizon refs/changes/25/686925/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'horizon/locale/eo/LC_MESSAGES/django.po', 'horizon/locale/eo/LC_MESSAGES/djangojs.po', 'openstack_auth/locale/eo/LC_MESSAGES/django.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po']",10,5c3a402b7b8c62fd838ed8373b06ff0532584d5c,zanata/translations,"# Georg Hennemann <georg.hennemann@t-systems.com>, 2019. #zanata""POT-Creation-Date: 2019-10-05 19:12+0000\n""""PO-Revision-Date: 2019-10-05 09:16+0000\n"""" If a snapshot is specified here only the specified snapshot of the volume\n"" "" will be backed up.\n"" "" </p>\n"" "" "" msgstr """" ""\n"" ""Se savkopio estas specifita i tie nur la specifita savkopio de la volumo "" ""estos savita. \n"" "" </p>\n"" "" "" msgid """" ""\n""msgid ""%(role)s (through group %(group)s)"" msgstr ""%(role)s (per grupo %(group)s)"" #, python-formatmsgid ""(No IP address)"" msgstr ""(Neniu IP adreso)"" msgid ""1 (icmp) should be specified for IPv4 instead of 58."" msgstr ""1 (icmp) devus esti specifita anstatau ol IPv4 instead of 58."" msgid ""58 (ipv6-icmp) should be specified for IPv6 instead of 1."" msgstr ""58 (ipv6-icmp) devus esti specifity por IPv6 anstatau ol 1."" #, python-format msgid ""<span class='word-wrap'>Flavor Details: %(name)s</span>\"">%(name)s"" msgstr ""<span class='word-wrap'>Variao Detajloj: %(name)s</span>\"">%(name)s"" msgid ""Action and Object Type"" msgstr ""Ago kaj Objekto Tipo"" msgid ""Add Rule (Quota exceeded)"" msgstr ""Aldonu Regulon (Kvoto transpasita)"" msgid ""Age"" msgstr ""Ao"" msgid ""Age (Seconds)"" msgstr ""Ao (Sekundoj)"" msgid ""Awaiting Transfer"" msgstr ""Akceptanta Transigon"" msgid ""Back-End Example:"" msgstr ""Interna Ekzemplo:"" msgctxt ""Current status of a Volume""msgid ""Backup Snapshot"" msgstr ""Varma Savkopio"" ""By default, group type is created as public. To create a private group type, "" ""uncheck this field."" msgstr """" ""Defalte, grupo tipo estas kreita publike. Por krei privatan grupo tipon, "" ""malselektu tiun kampon."" msgid """"#, python-format msgid ""Cloning volume group \""%s\""."" msgstr ""Klonanta volumo grupo \""%s\""."" msgid ""Confirm"" msgstr ""Konfirmu"" msgid ""Create A RBAC Policy"" msgstr ""Kreu RBAC Regularo"" msgid ""Create Group Type"" msgstr ""Kreu Grupo Tipo"" msgid ""Create Group Type Spec"" msgstr ""Kreu Grupo Tipo Specifon"" msgctxt ""Action log of an instance"" msgid ""Create Image"" msgstr ""Kreu Bildon"" msgid ""Create RBAC Policy"" msgstr ""Kreu RBAC Regularo"" msgid ""Create a Group Type"" msgstr ""Kreu Grupo Tipo"" msgid ""Create a RBAC Policy"" msgstr ""Kreu RBAC Regularo"" msgid ""Create a new \""group type spec\"" key-value pair for a group type."" msgstr ""Kreu novan \""grupo tipo spec\"" klavo-valoro paron por grupo tipo."" #, python-format msgid """" ""Create a new \""spec\"" key-value pair for QoS Spec \""%(qos_spec_name)s\"". "" ""Valid key names are expected in the QoS specs. Refer to Cinder documentation "" ""for the supported front-end and back-end keys."" msgstr """" ""Kreu novan \""spec\"" losilo-valoro paron por QoS Spec \""%(qos_spec_name)s\"". "" ""Validaj losilaj nomoj estas atenditaj en la QoS specifoj. "" msgid ""Created group type spec \""%s\""."" msgstr ""Kreita grupo tipo specifon \""%s\""."" #, python-formatmsgid ""Delete Group Type"" msgid_plural ""Delete Group Types"" msgstr[0] ""Forigu Grupo Tipon"" msgstr[1] ""Forigu Grupo Tipojn"" msgid ""Delete RBAC Policy"" msgid_plural ""Delete RBAC Policies"" msgstr[0] ""Forigu RBAC Regularo"" msgstr[1] ""Forigu RBAC Regularoj"" msgid ""Deleted Group Type"" msgid_plural ""Deleted Group Types"" msgstr[0] ""Forigita Grupo Tipo"" msgstr[1] ""Forigita Grupo Tipoj"" msgid ""Deleted RBAC Policy"" msgid_plural ""Deleted RBAC Policies"" msgstr[0] ""Forigita RBAC Regularo"" msgstr[1] ""Forigitaj RBAC Regularoj"" msgid ""Deleted RBAC policy is not recoverable."" msgstr ""Forigita RBAC regularo ne estas restarebla."" msgctxt ""Current status of Volume Group"" msgid ""Deleting"" msgstr ""Foriganta"" msgid ""Deprecated Settings"" msgstr ""Evitinda Agordo"" msgid ""Deprecated settings: {}."" msgstr ""Evitinda Agordo: {}."" msgid ""Download kubeconfig file"" msgstr ""Eluti kubeconfig dosieron"" msgid ""Edit Group Type"" msgstr ""Agordu Grupo Tipon"" msgid ""Edit Group Type Spec"" msgstr ""Agordu Grupo Tipo Specifon"" #, python-format msgid ""Edit Group Type Spec Value: %s"" msgstr ""Redaktu Grupo Tipo Specifo Valoron: %s"" msgid ""Edit Policy"" msgstr ""Redaktu Regularon"" msgid ""Euca2ools state"" msgstr ""Euca2ools stato"" msgid ""Failed to create a rbac policy."" msgstr ""Malsukcesis krei rbac regularo ."" msgid ""Failed to create router."" msgstr ""Malsukcesis krei enkursigilo."" msgid ""Failed to update rbac policy %s"" msgstr ""Malsukcesis isdatigi rbac regularo %s"" #, python-formatmsgid ""From here you can create a rbac policy."" msgstr ""De i tie vi povas krei rbac regularo."" msgid ""Front-End Example:"" msgstr ""Fasada Ekzemplo:"" msgid ""Group \""%s\"" already exists."" msgstr ""Grupo \""%s\"" jam ekzistas."" #, python-formatmsgid ""Group Type Specs"" msgstr ""Grupo Tipo Specifoj"" #, python-format msgid ""Group Type: %(group_type_name)s"" msgstr ""Grupo Tipo: %(group_type_name)s"" #, python-format msgid ""Group Type: %(group_type_name)s "" msgstr ""Grupo Tipo: %(group_type_name)s"" msgid ""Group Types"" msgstr ""Grupo Tipoj"" ""Group type is a type or label that can be selected at group creation time in "" ""OpenStack. It usually maps to a set of capabilities of the storage back-end "" ""driver to be used for this group. Examples: \""Performance\"", \""SSD\"", "" ""\""Backup\"", etc. This is equivalent to the <tt>cinder type-create</tt> "" ""command. Once the group type gets created, click the \""View Specs\"" button "" ""to set up specs key-value pair(s) for that group type."" msgstr """" ""Grupo tipo estas tipo a etikedo kiu povas esti selektita je grupo kreanta "" ""tempo en OpenStack. i kutime mapigas al aro da kapabloj de la memoro back-"" ""end pelilo uzonta por tiun grupon. Ekzemploj: \""Rendimento\"", \""SSD\"", "" ""\""Sekurkopio\"", ktp. Tiu estas ekvivalenta al <tt>cinder tipo- krei</tt> "" ""komando. Kiam la grupo tipo estas kreita, kliku la \""Vidu Specifojn\"" klavon "" ""por agordi specifajn klava-valoro paro(j)n por tiu grupo tipo."" #, python-format msgid ""Group type name \""%s\"" already exists."" msgstr ""Grupo tipo nomo \""%s\"" jam ekzistas."" msgid ""Group type name can not be empty."" msgstr ""Grupo tipo nomo ne povas esti malplena."" msgid """"""IP address of Gateway (e.g. 192.168.0.254) If you do not want to use a "" ""gateway, check 'Disable Gateway' below."" msgstr """" ""IP adreso de kluzo (e.g. 192.168.0.254). Se vi ne volas uzi kluzon, agordu "" ""'Disable Gateway' sube."" msgid """"msgid ""If checked, the network will be enabled."" msgstr ""Se markita, la reto estos estos ebligita."" msgid ""If checked, the port will be enabled."" msgstr ""Se markita, la pordo estos ebligita."" msgid ""If checked, the router will be enabled."" msgstr ""Se markita, la enkursigilo estos ebligita."" msgid ""Image Type"" msgstr ""Bildo Tipo"" msgid ""Key Pair Type"" msgstr ""losil Paro Tipo"" msgid ""Key Type"" msgstr ""losilo Tipo"" msgid """" ""Key names can only contain alphanumeric characters, underscores, periods, "" ""colons and hyphens"" msgstr """" "" losilo nomoj nur enhavus literciferajn signojn, substrekojn, punktojn, "" ""dupunktojn kaj dividstrekojn."" #, python-format msgid """" ""Key with name \""%s\"" already exists. Use Edit to update the value, else "" ""create key with different name."" msgstr """" ""losilo kun nomo \""%s\"" jam ekzistas. Uzu Agordo por isdatigi la valoron, "" ""a kreu losilon kun alia nomo."" msgid ""Key: burstIOPS and Value: 5000 (number value bigger than minIOPS)"" msgstr ""losilo: maxIOPS kaj Valoro: 5000 (nombro pli granda ol minIOPS)"" msgid ""Key: maxIOPS and Value: 5000 (number value bigger than minIOPS)"" msgstr ""losilo: maxIOPS kaj Valoro: 5000 (nombro pli granda ol minIOPS)"" msgid ""Key: minIOPS and Value: 20 (number value less than maxIOPS)"" msgstr ""losilo: minIOPS kaj Valoro:20 (numera valoro malpli ol maxIOPS)"" msgid ""Key: size_iops_sec and Value: 16"" msgstr ""losilo: grando_iops_sek kaj Valoro:16"" msgid ""Key: total_bytes_sec_max and Value: 512000"" msgstr ""losilo: total_bajtoj_sek_maks kaj Valoro: 512000"" msgid ""Key: total_iops_sec and Value: 5000"" msgstr ""losilo: total_iops_sec kaj Valoro: 5000"" msgid ""Kubernetes Namespace"" msgstr ""Kubernetes Nomspaco"" msgctxt ""Action log of an instance"" msgid ""Lock"" msgstr ""losi"" msgctxt ""Action log of an instance"" msgid ""Migrate"" msgstr ""Migri"" msgid ""Missing required settings: {}."" msgstr ""Mankanta bezonata agordo: {}."" msgid ""Modify group type name, description, and public status."" msgstr ""Modifu grupo tipo nomon, priskribon, kaj publikan staton."" msgid ""New name conflicts with another group type."" msgstr ""Nova nomo konfliktas kun alia grupo tipo."" msgid ""No snapshot for this volume"" msgstr ""Neniu savkopio por i tiu volumo"" msgid ""Object"" msgstr ""Objekto"" msgid ""Object ID"" msgstr ""Objekto ID"" msgid ""Object Type"" msgstr ""Objekto Tipo"" msgid ""OpenStack RC File"" msgstr ""OpenStack RC Dosiero"" msgid ""Password Expires At"" msgstr ""Pasvorto Senvalidias je"" msgid ""Perform a check to see if the application is ready for upgrade."" msgstr ""Faru kontrolon por vidi u la aplikao pretas por isdatigo."" msgid ""QoS Policy"" msgstr ""QOS Regularo"" #, python-format msgid ""RBAC Policy %s was successfully updated."" msgstr ""RBAC Regularo %s sukcese isdatigita."" msgid ""RBAC Policy Details"" msgstr ""RBAC Regularo Detajloj"" msgid ""RBAC Policy was successfully created."" msgstr ""RBAC Regularo estis sukcese kreita."" msgid ""Required Settings"" msgstr ""Bezonata Agordo"" msgctxt ""Action log of an instance"" msgid ""Rescue"" msgstr ""Savi"" msgid ""Rescue Instance"" msgstr ""Savkopio apero"" msgid ""Role assignments"" msgstr ""Rol-atribuojn"" msgid ""SSH Key"" msgstr ""SSH losilo"" msgid ""Saved group type spec \""%s\""."" msgstr ""Konservis grupo specifon \""%s\""."" #, python-formatmsgid ""Select a QoS policy"" msgstr ""Elektu QOS Regularo"" msgid ""Select a network"" msgstr ""Elektu reton"" msgid ""Select action and object type"" msgstr ""Elekti ago kaj objekto tipon"" msgid ""Select snapshot to backup (Optional)"" msgstr ""Elektu savkopion por stori (lavole)"" msgid ""Shared Network"" msgstr ""Opuzata Reto"" msgid ""Shared QoS Policy"" msgstr ""Opuzata QOS Regularo"" msgctxt ""Action log of an instance"" msgid ""Shelve"" msgstr ""Bretigi"" msgid ""Specify network address"" msgstr ""Difinu reto adreso"" msgid ""Successfully created group type: %s"" msgstr ""Sukcese kreita grupo tipon: %s "" #, python-formatmsgid ""Successfully rescued instance"" msgstr ""Sukcese savita apero"" msgid ""Successfully updated group type."" msgstr ""Sukcese isdatigita grupo tipon."" msgid ""System Scope"" msgstr ""Sistema Amplekso"" msgid ""Target Project"" msgstr ""Celo Projekto"" msgid ""Target Tenant"" msgstr ""Celgastiganto"" ""The <strong>Key Size</strong> is the size of the encryption key, in bits (e."" ""g., 256). If the field is left empty, the provider default will be used."" msgstr """" ""La <strong> losilo Grando </strong> estas la grandeco de la ifrada "" ""losilo, en bitoj (ekz., 256). Se la kampo estas malplena, la provizanto "" ""defalto estos uzata."" msgid """"msgid ""The key must match the following the regex: '^[a-zA-Z0-9-_:. /]'"" msgstr ""La losilo devas kongrui kun la sekva regekso: '^ [a-zA-Z0-9-_:. /] '"" msgid ""The new type must be different from the current volume type."" msgstr ""La nova tipo devas esti malsama de la nuntempa volumo tipo."" msgid ""The output format"" msgstr ""La eligo formato"" #, python-format msgid ""The password does not match the requirements: %s"" msgstr ""Pasvorto ne kongruas kun postuloj: %s"" msgid """" ""The rescue mode is only for emergency purpose, for example in case of a "" ""system or access failure."" msgstr """" ""La savkopio modo estas nur por krizaj okazoj, ekzemple en kazo de sistemo a "" ""aliro eraro."" msgid """" ""This will shut down your instance and mount the root disk to a temporary "" ""server. Then, you will be able to connect to this server, repair the system "" ""configuration or recover your data."" msgstr """" ""i tio malaltos vian aperon kaj muntos la radikan diskon al provizora "" ""servilo. Poste, vi povos konekti al i tiu servilo, ripari la sisteman "" ""agordon a reakiri viajn datumojn."" msgid ""To make group type private, uncheck this field."" msgstr ""Por fari grupo tipo privatan, malselektu tiun kampon."" msgid ""Unable to attach volume: %s"" msgstr ""Neeblas ligi volumon: %s"" #, python-format msgid ""Unable to change password: %s"" msgstr ""Neeblas ani pasvorton: %s"" #, python-formatmsgid ""Unable to create application credential: %s"" msgstr ""Neeblas krei aplikadan legitimaon: %s"" #, python-formatmsgid ""Unable to create encrypted volume type: %s"" msgstr ""Neeblas krei ifritan volumo tipon: %s"" #, python-formatmsgid ""Unable to create group type spec."" msgstr ""Neeblas krei grupo tipo specifon."" msgid ""Unable to create group type."" msgstr ""Neeblas krei grupo tipon."" #, python-format msgid ""Unable to create snapshot: %s"" msgstr ""Neeblas krei savkopion: %s"" #, python-format msgid ""Unable to detach volume: %s"" msgstr ""Neeblas malligi volumon: %s"" msgid ""Unable to display role assignment through groups."" msgstr ""Ne eblas montri la rol-atribuojn per grupoj."" msgid ""Unable to display the groups of this user."" msgstr ""Ne eblas montri la grupojn de i tiu uzanto."" msgid ""Unable to display the role assignments of this user."" msgstr ""Ne eblas montri la rol-atribuojn de i tiu uzanto."" msgid ""Unable to edit group type spec."" msgstr ""Neeblas redakti grupo tipo spec."" msgid ""Unable to fetch snapshot"" msgstr ""Neeblas venigi la savkopion."" msgid ""Unable to fetch snapshots"" msgstr ""Neeblas venigi la savkopiojn."" msgid ""Unable to rescue instance"" msgstr ""Neeblas savi aperon"" msgid ""Unable to retrieve RBAC policies."" msgstr ""Neeblas ricevi la RBAC regularojn."" msgid ""Unable to retrieve community images."" msgstr ""Neeblas ricevi publikaj bildoj."" msgid ""Unable to retrieve details for rbac_policy \""%s\""."" msgstr ""Neeblas ricevi detajlojn por rbac regularo \""%s\""."" #, python-formatmsgid ""Unable to retrieve group snapshot project information."" msgstr ""Neeblas ricevi grupo savkopio projekto informon."" msgid ""Unable to retrieve group type details."" msgstr ""Neeblas ricevi gruptipo detajlojn."" #, python-format msgid ""Unable to retrieve group type for: \""%s\"""" msgstr ""Neeblas ricevi grupo tipo por: \""%s\"""" msgid ""Unable to retrieve group type name."" msgstr ""Neeblas ricevi grupo tipo nomon."" msgid ""Unable to retrieve group type spec details."" msgstr ""Neeblas ricevi gruptipo specifo detajlojn."" msgid ""Unable to retrieve group type spec list."" msgstr ""Neeblas ricevi gruptipo specifo liston."" msgid ""Unable to retrieve group type."" msgstr ""Neeblas ricevi grupo tipon."" msgid ""Unable to retrieve information about the policies' networks."" msgstr ""Neeblas trovi informojn pri la regularaj' retoj."" msgid ""Unable to retrieve information about the policies' projects."" msgstr ""Neeblas trovi informojn pri la regularoj' projektoj."" msgid ""Unable to retrieve information about the policies' qos policies."" msgstr ""Neeblas trovi informojn pri la politikoj' qos regularoj."" msgid ""Unable to retrieve project information of volume snapshots."" msgstr ""Neeblas ricevi projekto informon de volumo savkopiojn."" msgid ""Unable to retrieve rbac policy details."" msgstr ""Neeblas ricevi rbac regularo detajlojn."" msgid ""Unable to retrieve user domain."" msgstr ""Neeblas ricevi uzanto domajnon."" msgid ""Unable to retrieve volume group project information."" msgstr ""Neeblas ricevi volumgrupo projekto informon."" msgid ""Unable to retrieve volume snapshot project information."" msgstr ""Neeblas ricevi volumo savkopio projekto informon."" msgid ""Unable to update group type."" msgstr ""Neeblas isdatigi grupo tipon."" msgid ""Unknown Settings"" msgstr ""Nekonata Agordo"" msgid ""Unknown settings: {}."" msgstr ""Nekonata Agordo: {}."" msgctxt ""Action log of an instance"" msgid ""Unlock"" msgstr ""Mallosi"" msgctxt ""Action log of an instance"" msgid ""Unrescue"" msgstr ""Malsavi"" msgid ""Unrescue Instance"" msgid_plural ""Unrescue Instances"" msgstr[0] ""Malsavi Aperon"" msgstr[1] ""Malsavi Aperojn"" msgid ""Unrescued Instance"" msgid_plural ""Unrescued Instances"" msgstr[0] ""Malsavita Apero"" msgstr[1] ""Malsavitaj Aperoj"" msgctxt ""Action log of an instance"" msgid ""Unshelve"" msgstr ""malbretigi"" msgid ""Update RBAC Policy"" msgstr ""isdatigu RBAC Regularo"" msgid ""Update the \""group type spec\"" value for \""%(key)s\"""" msgstr ""isdatigu la \""grupo tipo spec\"" valoro por \""%(key)s\"""" #, python-formatmsgctxt ""Current status of Volume Group"" msgid ""Updating"" msgstr ""isdatiganta"" msgid ""User \""%s\"" has been updated successfully."" msgstr ""Uzanto \""%s\"" sukcese isdatigita."" #, python-formatmsgid ""View Specs"" msgstr ""Vidu Specifojn"" msgid ""X509 Certificate"" msgstr ""X509 Ateston"" ""You can optionally provide a Kubernetes Namespace. It will be included in "" ""the kubeconfig file which can be downloaded from the next screen."" msgstr """" ""Vi povas lavole provizi Kubernetes Nomspacon. i estos inkluzivita en la "" ""dosiero kubeconfig elutebla el la sekva ekrano."" msgid """"msgid """" ""You may optionally select an image and set a password on the rescue instance "" ""server."" msgstr """" ""Vi rajtas elekti bildon kaj agordi pasvorton sur la savkopia apero de "" ""servilo."" msgid ""You may update the editable properties of the RBAC policy here."" msgstr ""Vi povus isdatigi la redakteblaj ecoj de RBAC regularo i tie."" msgid """" ""flavor id can only contain alphanumeric characters, underscores, periods, "" ""hyphens, spaces."" msgstr """" "" speco id nur enhavus literciferajn signojn, substrekojn, punktojn,"" ""dividstrekojn, blankspacojn."" #, python-format msgid """" ""key with name \""%s\"" already exists.Use Edit to update the value, else "" ""create key with different name."" msgstr """" ""losilo kun nomo \""%s\"" jam ekzistas. Uzu Agordo por isdatigi la valoron, "" ""a kreu losilon kun alia nomo."" msgid ""rbac policy quota exceeded."" msgstr ""rbac regulara kvoto transpasita."" ","""POT-Creation-Date: 2019-09-13 12:32+0000\n""""PO-Revision-Date: 2018-11-08 12:45+0000\n""",1047,31
openstack%2Fhorizon~stable%2Ftrain~If59a48e4ffbc3049c7ad0673da5e576f32eeb19f,openstack/horizon,stable/train,If59a48e4ffbc3049c7ad0673da5e576f32eeb19f,Imported Translations from Zanata,MERGED,2019-10-06 08:24:41.000000000,2019-10-06 10:55:35.000000000,2019-10-06 10:54:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 08:24:41.000000000', 'files': ['openstack_dashboard/locale/eo/LC_MESSAGES/djangojs.po', 'openstack_auth/locale/eo/LC_MESSAGES/django.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/817ee34d5a57409dc9945e6151a43d6747e5cc02', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If59a48e4ffbc3049c7ad0673da5e576f32eeb19f\n'}]",0,686924,817ee34d5a57409dc9945e6151a43d6747e5cc02,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If59a48e4ffbc3049c7ad0673da5e576f32eeb19f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/24/686924/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/locale/eo/LC_MESSAGES/django.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po']",3,817ee34d5a57409dc9945e6151a43d6747e5cc02,zanata/translations,"""POT-Creation-Date: 2019-10-05 18:31+0000\n""""PO-Revision-Date: 2019-10-05 09:16+0000\n""msgid ""(No IP address)"" msgstr ""(Neniu IP adreso)"" msgid ""1 (icmp) should be specified for IPv4 instead of 58."" msgstr ""1 (icmp) devus esti specifita anstatau ol IPv4 instead of 58."" msgid ""58 (ipv6-icmp) should be specified for IPv6 instead of 1."" msgstr ""58 (ipv6-icmp) devus esti specifity por IPv6 anstatau ol 1."" #, python-format msgid ""<span class='word-wrap'>Flavor Details: %(name)s</span>\"">%(name)s"" msgstr ""<span class='word-wrap'>Variao Detajloj: %(name)s</span>\"">%(name)s"" msgid ""Add Rule (Quota exceeded)"" msgstr ""Aldonu Regulon (Kvoto transpasita)"" msgid ""Age (Seconds)"" msgstr ""Ao (Sekundoj)"" msgid ""Awaiting Transfer"" msgstr ""Akceptanta Transigon"" msgid ""Back-End Example:"" msgstr ""Interna Ekzemplo:"" msgctxt ""Current status of a Volume""#, python-format msgid ""Cloning volume group \""%s\""."" msgstr ""Klonanta volumo grupo \""%s\""."" msgid ""Confirm"" msgstr ""Konfirmu"" msgctxt ""Action log of an instance"" msgid ""Create Image"" msgstr ""Kreu Bildon"" #, python-format msgid """" ""Create a new \""spec\"" key-value pair for QoS Spec \""%(qos_spec_name)s\"". "" ""Valid key names are expected in the QoS specs. Refer to Cinder documentation "" ""for the supported front-end and back-end keys."" msgstr """" ""Kreu novan \""spec\"" losilo-valoro paron por QoS Spec \""%(qos_spec_name)s\"". "" ""Validaj losilaj nomoj estas atenditaj en la QoS specifoj. "" msgctxt ""Current status of Volume Group"" msgid ""Deleting"" msgstr ""Foriganta"" msgid ""Deprecated Settings"" msgstr ""Evitinda Agordo"" msgid ""Deprecated settings: {}."" msgstr ""Evitinda Agordo: {}."" msgid ""Failed to create router."" msgstr ""Malsukcesis krei enkursigilo."" msgid ""Front-End Example:"" msgstr ""Fasada Ekzemplo:"" ""IP address of Gateway (e.g. 192.168.0.254) If you do not want to use a "" ""gateway, check 'Disable Gateway' below."" msgstr """" ""IP adreso de kluzo (e.g. 192.168.0.254). Se vi ne volas uzi kluzon, agordu "" ""'Disable Gateway' sube."" msgid """"msgid ""If checked, the port will be enabled."" msgstr ""Se markita, la pordo estos ebligita."" msgid ""If checked, the router will be enabled."" msgstr ""Se markita, la enkursigilo estos ebligita."" msgid ""Key Pair Type"" msgstr ""losil Paro Tipo"" msgid ""Key Type"" msgstr ""losilo Tipo"" msgid ""Key: minIOPS and Value: 20 (number value less than maxIOPS)"" msgstr ""losilo: minIOPS kaj Valoro:20 (numera valoro malpli ol maxIOPS)"" msgid ""Key: size_iops_sec and Value: 16"" msgstr ""losilo: grando_iops_sek kaj Valoro:16"" msgid ""Key: total_bytes_sec_max and Value: 512000"" msgstr ""losilo: total_bajtoj_sek_maks kaj Valoro: 512000"" msgid ""Key: total_iops_sec and Value: 5000"" msgstr ""losilo: total_iops_sec kaj Valoro: 5000"" msgctxt ""Action log of an instance"" msgid ""Lock"" msgstr ""losi"" msgctxt ""Action log of an instance"" msgid ""Migrate"" msgstr ""Migri"" msgid ""Missing required settings: {}."" msgstr ""Mankanta bezonata agordo: {}."" msgid ""Perform a check to see if the application is ready for upgrade."" msgstr ""Faru kontrolon por vidi u la aplikao pretas por isdatigo."" msgid ""Required Settings"" msgstr ""Bezonata Agordo"" msgctxt ""Action log of an instance"" msgid ""Rescue"" msgstr ""Savi"" msgid ""SSH Key"" msgstr ""SSH losilo"" msgctxt ""Action log of an instance"" msgid ""Shelve"" msgstr ""Bretigi"" msgid ""Specify network address"" msgstr ""Difinu reto adreso"" msgid ""Successfully rescued instance"" msgstr ""Sukcese savita apero"" msgid ""The new type must be different from the current volume type."" msgstr ""La nova tipo devas esti malsama de la nuntempa volumo tipo."" msgid ""The output format"" msgstr ""La eligo formato"" msgid ""Unable to attach volume: %s"" msgstr ""Neeblas ligi volumon: %s"" #, python-format msgid ""Unable to change password: %s"" msgstr ""Neeblas ani pasvorton: %s"" #, python-format#, python-format msgid ""Unable to create snapshot: %s"" msgstr ""Neeblas krei savkopion: %s"" #, python-format msgid ""Unable to detach volume: %s"" msgstr ""Neeblas malligi volumon: %s"" msgid ""Unable to rescue instance"" msgstr ""Neeblas savi aperon"" msgid ""Unable to retrieve community images."" msgstr ""Neeblas ricevi publikaj bildoj."" msgid ""Unknown Settings"" msgstr ""Nekonata Agordo"" msgid ""Unknown settings: {}."" msgstr ""Nekonata Agordo: {}."" msgctxt ""Action log of an instance"" msgid ""Unlock"" msgstr ""Mallosi"" msgctxt ""Action log of an instance"" msgid ""Unrescue"" msgstr ""Malsavi"" msgid ""Unrescue Instance"" msgid_plural ""Unrescue Instances"" msgstr[0] ""Malsavi Aperon"" msgstr[1] ""Malsavi Aperojn"" msgid ""Unrescued Instance"" msgid_plural ""Unrescued Instances"" msgstr[0] ""Malsavita Apero"" msgstr[1] ""Malsavitaj Aperoj"" msgctxt ""Action log of an instance"" msgid ""Unshelve"" msgstr ""malbretigi"" msgctxt ""Current status of Volume Group"" msgid ""Updating"" msgstr ""isdatiganta"" msgid ""X509 Certificate"" msgstr ""X509 Ateston"" ","""POT-Creation-Date: 2019-10-05 03:52+0000\n""""PO-Revision-Date: 2019-10-04 04:06+0000\n""",263,6
openstack%2Ftripleo-common~stable%2Fstein~I0e56e1d74ef8468f1b89da5329a8f1ced711c0f3,openstack/tripleo-common,stable/stein,I0e56e1d74ef8468f1b89da5329a8f1ced711c0f3,Use a typemap file instead of symlinks for tags,MERGED,2019-10-04 17:34:48.000000000,2019-10-06 07:29:31.000000000,2019-10-06 07:28:06.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': ['tripleo_common/image/image_export.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/add2da5a64204821fff56a29afa3c4018db9e5c6', 'message': 'Use a typemap file instead of symlinks for tags\n\nTo support manifest lists, the response for requesting a tagged\nmanifest will need to return different contents based on the\ncontent-type requested. Representing a tag as a symlink to the\nmanifest directory is not flexible enough for this need.\n\nThis change switches over to a type-map[1] based implementation so\nthat future changes can add entries to different files based on the\ncontent-type. Whenever any write operation is performed on an image,\nany existing symlink based tags will be migrated to a typemap.\n\n[1] https://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#typemaps\nChange-Id: I0e56e1d74ef8468f1b89da5329a8f1ced711c0f3\n(cherry picked from commit 35cfa6d36308483be94d65e1fc61ce5d3b9fd3ce)\n'}]",0,686782,add2da5a64204821fff56a29afa3c4018db9e5c6,8,4,1,14985,,,0,"Use a typemap file instead of symlinks for tags

To support manifest lists, the response for requesting a tagged
manifest will need to return different contents based on the
content-type requested. Representing a tag as a symlink to the
manifest directory is not flexible enough for this need.

This change switches over to a type-map[1] based implementation so
that future changes can add entries to different files based on the
content-type. Whenever any write operation is performed on an image,
any existing symlink based tags will be migrated to a typemap.

[1] https://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#typemaps
Change-Id: I0e56e1d74ef8468f1b89da5329a8f1ced711c0f3
(cherry picked from commit 35cfa6d36308483be94d65e1fc61ce5d3b9fd3ce)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/686782/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/tests/image/test_image_export.py']",2,add2da5a64204821fff56a29afa3c4018db9e5c6,bug/1844446-stable/stein," def test_write_parse_type_map_file(self): manifest_dir_path = os.path.join( image_export.IMAGE_EXPORT_DIR, 'v2/foo/bar/manifests' ) map_file_path = os.path.join( image_export.IMAGE_EXPORT_DIR, manifest_dir_path, 'latest.type-map' ) image_export.make_dir(manifest_dir_path) image_export.write_type_map_file( 'foo/bar', 'latest', 'sha256:1234abcd') expected_map_file = '''URI: latest Content-Type: application/vnd.docker.distribution.manifest.v2+json URI: sha256:1234abcd/index.json ''' # assert the file contains the expected content with open(map_file_path, 'r') as f: self.assertEqual(expected_map_file, f.read()) # assert parse_type_map_file correctly reads that file self.assertEqual( { 'application/vnd.docker.distribution.manifest.v2+json': 'sha256:1234abcd/index.json' }, image_export.parse_type_map_file(map_file_path) ) # assert a multi-entry file is correctly parsed multi_map_file = '''URI: latest Content-Type: application/vnd.docker.distribution.manifest.v2+json URI: sha256:1234abcd/index.json Content-Type: application/vnd.docker.distribution.manifest.list.v2+json URI: sha256:eeeeeeee/index.json ''' with open(map_file_path, 'w+') as f: f.write(multi_map_file) self.assertEqual( { 'application/vnd.docker.distribution.manifest.v2+json': 'sha256:1234abcd/index.json', 'application/vnd.docker.distribution.manifest.list.v2+json': 'sha256:eeeeeeee/index.json' }, image_export.parse_type_map_file(map_file_path) ) def test_migrate_to_type_map_file(self): manifest_dir_path = os.path.join( image_export.IMAGE_EXPORT_DIR, 'v2/foo/bar/manifests' ) map_file_path = os.path.join( image_export.IMAGE_EXPORT_DIR, manifest_dir_path, 'latest.type-map' ) symlink_path = os.path.join( image_export.IMAGE_EXPORT_DIR, manifest_dir_path, 'latest' ) manifest_path = os.path.join( image_export.IMAGE_EXPORT_DIR, manifest_dir_path, 'sha256:1234abcd' ) image_export.make_dir(manifest_dir_path) # create legacy symlink os.symlink(manifest_path, symlink_path) # run the migration image_export.migrate_to_type_map_file('foo/bar', symlink_path) expected_map_file = '''URI: latest Content-Type: application/vnd.docker.distribution.manifest.v2+json URI: sha256:1234abcd/index.json ''' # assert the migrated file contains the expected content with open(map_file_path, 'r') as f: self.assertEqual(expected_map_file, f.read()) def assertFiles(self, dirs, files, deleted): self.assertFalse(os.path.exists(d), 'deleted still exists: %s' % d) # assert every directory and file for the 2 images os.path.join(m_dir, 'latest.type-map'), os.path.join(m_dir, 'abc.type-map'), os.path.join(m_dir, 'latest.type-map'),"," def assertFiles(self, dirs, files, symlinks, deleted): self.assertFalse(os.path.exists(d), 'not exists: %s' % d) for l, f in symlinks.items(): self.assertTrue(os.path.islink(l), 'is link: %s' % l) self.assertEqual(f, os.readlink(l)) self.assertTrue(os.path.exists(f), 'link target exists: %s' % f) # assert every directory, file and symlink for the 2 images symlinks={ os.path.join(m_dir, 'latest'): os.path.join(m_dir, m1_digest), os.path.join(m_dir, 'abc'): os.path.join(m_dir, m2_digest), }, symlinks={ os.path.join(m_dir, 'latest'): os.path.join(m_dir, m1_digest), }, symlinks={},",184,28
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9b8893e4812a7a3f71bd75f66004ed8d6f67b3d1,openstack/tripleo-heat-templates,stable/queens,I9b8893e4812a7a3f71bd75f66004ed8d6f67b3d1,nova-libvirt: set 'cpuset_cpus' to 'all',MERGED,2019-10-01 18:34:44.000000000,2019-10-06 07:28:08.000000000,2019-10-06 07:28:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-01 18:34:44.000000000', 'files': ['docker/services/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8659846519fcb22c6386b49cd948f0e8ac7a0a68', 'message': ""nova-libvirt: set 'cpuset_cpus' to 'all'\n\nnova-compute-libvirt should be able to run on any CPU, as it launch VMs on\nisolated CPUs (they are isolated to be dedicated to run vCPU).\n\nThis patch makes sure the right container configurations is applied with\nPaunch.\n\nChange-Id: I9b8893e4812a7a3f71bd75f66004ed8d6f67b3d1\n(cherry picked from commit 1cbc1ee387cbea6a9f817e766d4fcfb157071e5f)\n""}]",0,686027,8659846519fcb22c6386b49cd948f0e8ac7a0a68,9,5,1,3153,,,0,"nova-libvirt: set 'cpuset_cpus' to 'all'

nova-compute-libvirt should be able to run on any CPU, as it launch VMs on
isolated CPUs (they are isolated to be dedicated to run vCPU).

This patch makes sure the right container configurations is applied with
Paunch.

Change-Id: I9b8893e4812a7a3f71bd75f66004ed8d6f67b3d1
(cherry picked from commit 1cbc1ee387cbea6a9f817e766d4fcfb157071e5f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/686027/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-libvirt.yaml'],1,8659846519fcb22c6386b49cd948f0e8ac7a0a68,queens/nfv, cpuset_cpus: all,,1,0
openstack%2Fnetworking-ovn~master~Ifd1048fdf8fefb8dc23781ccf1500b2a70101935,openstack/networking-ovn,master,Ifd1048fdf8fefb8dc23781ccf1500b2a70101935,functional: Handle the ovs/ovn split,MERGED,2019-10-03 15:55:08.000000000,2019-10-06 05:52:52.000000000,2019-10-06 05:51:31.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 15:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ee25cbd363ca69bc0c2ac7319a15055b509faedd', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 2, 'created': '2019-10-04 02:28:39.000000000', 'files': ['networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6ece6ba7736b18c9017a2a479c29f2c79deb2340', 'message': 'functional: Handle the ovs/ovn split\n\nMake TestOVNFunctionalBase check if install path for\nOVN [1] is present and use that instead of legacy OVS\nlocation [2].\n\n[1]: /usr/local/share/ovn\n[2]: /usr/local/share/openvswitch\n\nChange-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",1,686432,6ece6ba7736b18c9017a2a479c29f2c79deb2340,17,6,2,11952,,,0,"functional: Handle the ovs/ovn split

Make TestOVNFunctionalBase check if install path for
OVN [1] is present and use that instead of legacy OVS
location [2].

[1]: /usr/local/share/ovn
[2]: /usr/local/share/openvswitch

Change-Id: Ifd1048fdf8fefb8dc23781ccf1500b2a70101935
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/32/686432/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/base.py', 'networking_ovn/tests/functional/resources/process.py']",2,ee25cbd363ca69bc0c2ac7319a15055b509faedd,," def __init__(self, temp_dir, ovn_dir, ovn_nb_db=True, ovn_sb_db=False, self.ovn_dir = ovn_dir 'schema_path': self.ovn_dir + '/ovn-nb.ovsschema', 'schema_path': self.ovn_dir + '/ovn-sb.ovsschema',"," def __init__(self, temp_dir, ovs_dir, ovn_nb_db=True, ovn_sb_db=False, self.ovs_dir = ovs_dir 'schema_path': self.ovs_dir + '/ovn-nb.ovsschema', 'schema_path': self.ovs_dir + '/ovn-sb.ovsschema',",12,5
openstack%2Ftripleo-ansible~master~Ib9ebc64b69ad778fa29132c9079ba04a0adbd2b4,openstack/tripleo-ansible,master,Ib9ebc64b69ad778fa29132c9079ba04a0adbd2b4,paunch: add support for 'cleanup',MERGED,2019-09-17 14:34:25.000000000,2019-10-06 05:02:02.000000000,2019-10-06 05:02:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-09-17 14:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94823f6042c87e6a23ae39b6a66ec4a87678b438', 'message': ""paunch: add support for 'cleanup'\n\n- Make self.config optional\n- Make self.config_id a list\n- Add paunch_cleanup(), calling paunch.cleanup directly\n\nNote: the cleanup has no stdout/stderr/rc for now; it's not implemented\non the paunch side.\n\nExample of playbook:\n\n- name: Cleanup containers for step 1 and step 2\n  paunch:\n    config_id:\n      - tripleo_step1\n      - tripleo_step2\n    action: cleanup\n\nChange-Id: Ib9ebc64b69ad778fa29132c9079ba04a0adbd2b4\n""}, {'number': 2, 'created': '2019-09-17 14:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6bdfbb9cb4cc4e1a94656e1d42bcd935bcca4b78', 'message': ""paunch: add support for 'cleanup'\n\n- Make self.config optional\n- Make self.config_id a list\n- Add paunch_cleanup(), calling paunch.cleanup directly\n\nNote: the cleanup has no stdout/stderr/rc for now; it's not implemented\non the paunch side.\n\nExample of playbook:\n\n- name: Cleanup containers for step 1 and step 2\n  paunch:\n    config_id:\n      - tripleo_step1\n      - tripleo_step2\n    action: cleanup\n\nChange-Id: Ib9ebc64b69ad778fa29132c9079ba04a0adbd2b4\n""}, {'number': 3, 'created': '2019-09-17 15:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f113f6feabf1c713b54f5678fa91860bc242cfea', 'message': ""paunch: add support for 'cleanup'\n\n- Make self.config optional\n- Make self.config_id a list\n- Remove useless self.module.check_mode condition (we never reach it)\n- Add paunch_cleanup(), calling paunch.cleanup directly\n\nNote: the cleanup has no stdout/stderr/rc for now; it's not implemented\non the paunch side.\n\nExample of playbook:\n\n- name: Cleanup containers for step 1 and step 2\n  paunch:\n    config_id:\n      - tripleo_step1\n      - tripleo_step2\n    action: cleanup\n\nChange-Id: Ib9ebc64b69ad778fa29132c9079ba04a0adbd2b4\n""}, {'number': 4, 'created': '2019-09-25 23:43:02.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/paunch.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d72c84567e4a772b81c68f2ac13d1eb7491d2707', 'message': ""paunch: add support for 'cleanup'\n\n- Make self.config optional\n- Make self.config_id a list\n- Remove useless self.module.check_mode condition (we never reach it)\n- Add paunch_cleanup(), calling paunch.cleanup directly\n\nNote: the cleanup has no stdout/stderr/rc for now; it's not implemented\non the paunch side.\n\nExample of playbook:\n\n- name: Cleanup containers for step 1 and step 2\n  paunch:\n    config_id:\n      - tripleo_step1\n      - tripleo_step2\n    action: cleanup\n\nChange-Id: Ib9ebc64b69ad778fa29132c9079ba04a0adbd2b4\n""}]",9,682662,d72c84567e4a772b81c68f2ac13d1eb7491d2707,26,6,4,3153,,,0,"paunch: add support for 'cleanup'

- Make self.config optional
- Make self.config_id a list
- Remove useless self.module.check_mode condition (we never reach it)
- Add paunch_cleanup(), calling paunch.cleanup directly

Note: the cleanup has no stdout/stderr/rc for now; it's not implemented
on the paunch side.

Example of playbook:

- name: Cleanup containers for step 1 and step 2
  paunch:
    config_id:
      - tripleo_step1
      - tripleo_step2
    action: cleanup

Change-Id: Ib9ebc64b69ad778fa29132c9079ba04a0adbd2b4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/682662/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/paunch.py'],1,94823f6042c87e6a23ae39b6a66ec4a87678b438,cleanup," type: list - cleanup# Paunch apply example action: apply # Paunch cleanup example - name: Cleanup containers for step 1 and step 2 paunch: config_id: - tripleo_step1 - tripleo_step2 action: cleanup if self.config: with open(self.config, 'r') as f: self.config_yaml = yaml.safe_load(f) elif self.action == 'cleanup': self.paunch_cleanup() if not self.config: self.module.fail_json( msg=""Paunch apply requires 'config' parameter"", stdout='', stderr='', rc=1) def paunch_cleanup(self): self.results['action'].append('Cleaning-up config_id(s) ' '%s' % self.config_id) if not self.module.check_mode: p.cleanup( self.config_id, managed_by=self.managed_by, cont_cmd=self.container_cli, log_level=self.log_level, log_file=self.log_file ) self.module.exit_json(**self.results) "," required: True# Minimal task with defaults with open(self.config, 'r') as f: self.config_yaml = yaml.safe_load(f)",36,4
openstack%2Ftripleo-ansible~master~Ifd6d13e9492782b73e727cc0cceb8e59618415e6,openstack/tripleo-ansible,master,Ifd6d13e9492782b73e727cc0cceb8e59618415e6,podman_container: add log_driver support,MERGED,2019-10-04 13:55:27.000000000,2019-10-06 05:02:01.000000000,2019-10-06 05:02:01.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 13:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e136d48771a4b618ae4dbcc0a9f0e7a9dddc8d0', 'message': 'podman_container: add log_driver support\n\nChange-Id: Ifd6d13e9492782b73e727cc0cceb8e59618415e6\n'}, {'number': 2, 'created': '2019-10-04 19:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/136f3384515373680f579737968edb1966700f9a', 'message': 'podman_container: add log_driver support\n\nChange-Id: Ifd6d13e9492782b73e727cc0cceb8e59618415e6\n'}, {'number': 3, 'created': '2019-10-05 10:27:52.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7990965d2e1279d8ef8f58cbbdcfddcc3e4ae1cd', 'message': 'podman_container: add log_driver support\n\nChange-Id: Ifd6d13e9492782b73e727cc0cceb8e59618415e6\n'}]",5,686726,7990965d2e1279d8ef8f58cbbdcfddcc3e4ae1cd,17,5,3,3153,,,0,"podman_container: add log_driver support

Change-Id: Ifd6d13e9492782b73e727cc0cceb8e59618415e6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/686726/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,2e136d48771a4b618ae4dbcc0a9f0e7a9dddc8d0,logs," log_driver: description: - Logging driver. Used to set the log driver for the container. For example log_driver ""k8s-file"". type: str log_driver: k8s-file if params['log_driver']: cmd += ['--log-driver', params['log_driver']] log_driver=dict(type='str'),",,10,0
openstack%2Fpython-zaqarclient~master~Iaaa70b978cac1b89dd052a25c096060b9902dec3,openstack/python-zaqarclient,master,Iaaa70b978cac1b89dd052a25c096060b9902dec3,Update links in readme,NEW,2019-10-06 02:42:19.000000000,2019-10-06 03:16:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-06 02:42:19.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/c928578ba5c395a3a4150e63dc8008e09c476aa6', 'message': 'Update links in readme\n\nChange-Id: Iaaa70b978cac1b89dd052a25c096060b9902dec3\n'}]",0,686910,c928578ba5c395a3a4150e63dc8008e09c476aa6,2,1,1,30092,,,0,"Update links in readme

Change-Id: Iaaa70b978cac1b89dd052a25c096060b9902dec3
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/10/686910/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c928578ba5c395a3a4150e63dc8008e09c476aa6,, pip install git+https://opendev.org/openstack/python-zaqarclient.git.. _`OpenStack Client`: https://opendev.org/openstack/python-openstackclient .. _`OpenStack Client Readme`: https://opendev.org/openstack/python-openstackclient/src/branch/master/README.rst.. _Zaqar: https://opendev.org/openstack/zaqar .. _HACKING: https://opendev.org/openstack/python-zaqarclient/src/branch/master/HACKING.rst.. _Source: https://opendev.org/openstack/python-zaqarclient/, pip install git+https://git.openstack.org/openstack/python-zaqarclient.git.. _`OpenStack Client`: https://git.openstack.org/cgit/openstack/python-openstackclient .. _`OpenStack Client Readme`: https://git.openstack.org/cgit/openstack/python-openstackclient/tree/README.rst.. _Zaqar: https://git.openstack.org/cgit/openstack/zaqar .. _HACKING: https://git.openstack.org/cgit/openstack/python-zaqarclient/tree/HACKING.rst.. _Source: https://git.openstack.org/cgit/openstack/python-zaqarclient,6,6
openstack%2Fkuryr-kubernetes~master~I9468785e79c5692709e5c50a3b92cc30f6a37fd8,openstack/kuryr-kubernetes,master,I9468785e79c5692709e5c50a3b92cc30f6a37fd8,Ensure no KuryrNet addition is tried when namespace is not present,MERGED,2019-10-03 16:22:34.000000000,2019-10-06 02:16:35.000000000,2019-10-06 02:15:33.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-03 16:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/41265348710e49551631efe96b2c8140e7313406', 'message': 'Ensure no KuryrNet addition happen when namespace is not present\n\nIn case the KuryrNet CRD addition is being handled and the\nnamespace is not present on the cluster anymore, the Kuryr Controller\nis marked as unhealthy and restarted.\n\nChange-Id: I9468785e79c5692709e5c50a3b92cc30f6a37fd8\n'}, {'number': 2, 'created': '2019-10-03 16:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/51fc583d99cf6006cd5c3fbdfecad4657938ab1c', 'message': 'Ensure no KuryrNet addition happen when namespace is not present\n\nIn case the KuryrNet CRD addition is being handled and the\nnamespace is not present on the cluster anymore, the Kuryr Controller\nis marked as unhealthy and restarted.\n\nCloses-Bug: 1846525\nChange-Id: I9468785e79c5692709e5c50a3b92cc30f6a37fd8\n'}, {'number': 3, 'created': '2019-10-03 16:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/212374ecae213801cbd9d4a6fbb3c75948fdc7e6', 'message': 'Ensure no KuryrNet addition is tried when namespace is not present\n\nIn case the KuryrNet CRD addition is being handled and the\nnamespace is not present on the cluster anymore, the Kuryr Controller\nis marked as unhealthy and restarted.\n\nCloses-Bug: 1846525\nChange-Id: I9468785e79c5692709e5c50a3b92cc30f6a37fd8\n'}, {'number': 4, 'created': '2019-10-04 12:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/00832ddf23feda6acc19d70a876db3c4ea7cc899', 'message': 'Ensure no KuryrNet addition is tried when namespace is not present\n\nIn case the KuryrNet CRD addition is being handled and the\nnamespace is not present on the cluster anymore, the Kuryr Controller\nis marked as unhealthy and restarted. This commit ensures\nany event that tries to get a not present namespace is skipped.\n\nCloses-Bug: 1846525\nChange-Id: I9468785e79c5692709e5c50a3b92cc30f6a37fd8\n'}, {'number': 5, 'created': '2019-10-04 14:26:51.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnet.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/474495f8c570b4ef5a0c5922c3e1075365ba0018', 'message': 'Ensure no KuryrNet addition is tried when namespace is not present\n\nIn case the KuryrNet CRD addition is being handled and the\nnamespace is not present on the cluster anymore, the Kuryr Controller\nis marked as unhealthy and restarted. This commit ensures\nany event that tries to get a not present namespace is skipped.\n\nCloses-Bug: 1846525\nChange-Id: I9468785e79c5692709e5c50a3b92cc30f6a37fd8\n'}]",0,686436,474495f8c570b4ef5a0c5922c3e1075365ba0018,20,4,5,27032,,,0,"Ensure no KuryrNet addition is tried when namespace is not present

In case the KuryrNet CRD addition is being handled and the
namespace is not present on the cluster anymore, the Kuryr Controller
is marked as unhealthy and restarted. This commit ensures
any event that tries to get a not present namespace is skipped.

Closes-Bug: 1846525
Change-Id: I9468785e79c5692709e5c50a3b92cc30f6a37fd8
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/36/686436/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/handlers/kuryrnet.py']",3,41265348710e49551631efe96b2c8140e7313406,bug/1846525," if not namespace_obj: LOG.debug(""Skipping Kuryrnet addition. Inexistent namespace."") return",,13,3
openstack%2Foctavia-tempest-plugin~master~Ic55fabe94627b21a6f347e5822893a8b63cd1afb,openstack/octavia-tempest-plugin,master,Ic55fabe94627b21a6f347e5822893a8b63cd1afb,Fix the health monitor traffic test member ERROR,MERGED,2019-08-30 18:21:12.000000000,2019-10-06 01:16:23.000000000,2019-10-06 01:15:08.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-30 18:21:12.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/waiters.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8d420801d7b0ed0c5696c640621e43177f45a673', 'message': 'Fix the health monitor traffic test member ERROR\n\nNeutron may be slow to start passing traffic after a health\nmonitor has been defined on a pool. We have seen ""Layer4 timeout""\nerrors[1] in some of the gate job runs where a few seconds later the\nhealth monitor traffic starts getting a response from the backend\nmember server.\n\nThis patch changes the waiter to allow an ""ERROR"" status for the\ninitial member check after the health monitor is added. The waiter\nwill still timeout if it does not become ""ONLINE"" as expected.\n\nAs the zuul log viewer is broken I can\'t link to the log line, but it\nis at time: Aug 30 01:20:40\n\n[1] https://openstack.fortnebula.com:13808/v1/ \\\n    AUTH_e8fd161dc34c421a979a9e6421f823e9/logs_58/679358/2/check/ \\\n    octavia-v2-dsvm-scenario/1bcb675/controller/logs/ \\\n    octavia-amphora_log.txt.gz\n\nChange-Id: Ic55fabe94627b21a6f347e5822893a8b63cd1afb\n'}]",0,679492,8d420801d7b0ed0c5696c640621e43177f45a673,13,8,1,11628,,,0,"Fix the health monitor traffic test member ERROR

Neutron may be slow to start passing traffic after a health
monitor has been defined on a pool. We have seen ""Layer4 timeout""
errors[1] in some of the gate job runs where a few seconds later the
health monitor traffic starts getting a response from the backend
member server.

This patch changes the waiter to allow an ""ERROR"" status for the
initial member check after the health monitor is added. The waiter
will still timeout if it does not become ""ONLINE"" as expected.

As the zuul log viewer is broken I can't link to the log line, but it
is at time: Aug 30 01:20:40

[1] https://openstack.fortnebula.com:13808/v1/ \
    AUTH_e8fd161dc34c421a979a9e6421f823e9/logs_58/679358/2/check/ \
    octavia-v2-dsvm-scenario/1bcb675/controller/logs/ \
    octavia-amphora_log.txt.gz

Change-Id: Ic55fabe94627b21a6f347e5822893a8b63cd1afb
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/92/679492/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/waiters.py']",2,8d420801d7b0ed0c5696c640621e43177f45a673,," error_ok=False, **kwargs): :error_ok: When true, ERROR status will not raise an exception. if not error_ok: raise exceptions.UnexpectedResponseCode(message)", **kwargs): raise exceptions.UnexpectedResponseCode(message),5,2
openstack%2Ftripleo-quickstart-extras~master~I3aaa38ff0180826a6e749d0686d1a0e37e97eb84,openstack/tripleo-quickstart-extras,master,I3aaa38ff0180826a6e749d0686d1a0e37e97eb84,Adding tests to skip list in Rocky,MERGED,2019-09-20 10:08:03.000000000,2019-10-05 23:09:11.000000000,2019-10-05 23:09:11.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-09-20 10:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a3ed0ea252c4a7f445ee9905102c57ac96368c9a', 'message': 'Adding tests to skip list in Rocky\n\nThe two tests added to skip list are failing on featureset020. A\nlaunchpad bug is open and the responsible team are investigating. Once\nget fixed, we will remove from skip list.\n\nChange-Id: I3aaa38ff0180826a6e749d0686d1a0e37e97eb84\n'}, {'number': 2, 'created': '2019-09-20 10:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f65689983216197eb6f2f4fac82cd58e3ff2d403', 'message': 'Adding tests to skip list in Rocky\n\nThe two tests added to skip list are failing on featureset020. A\nlaunchpad bug is open and the responsible team are investigating. Once\nget fixed, we will remove from skip list.\n\nRelated-Bug: 1843259\nChange-Id: I3aaa38ff0180826a6e749d0686d1a0e37e97eb84\n'}, {'number': 3, 'created': '2019-10-01 07:28:47.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_rocky.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/62babbfe379dad4dbc9a87c216f236e3a70d711b', 'message': 'Adding tests to skip list in Rocky\n\nThe two tests added to skip list are failing on featureset020. A\nlaunchpad bug is open and the responsible team are investigating. Once\nget fixed, we will remove from skip list.\n\nRelated-Bug: 1843259\nChange-Id: I3aaa38ff0180826a6e749d0686d1a0e37e97eb84\n'}]",0,683350,62babbfe379dad4dbc9a87c216f236e3a70d711b,55,11,3,8367,,,0,"Adding tests to skip list in Rocky

The two tests added to skip list are failing on featureset020. A
launchpad bug is open and the responsible team are investigating. Once
get fixed, we will remove from skip list.

Related-Bug: 1843259
Change-Id: I3aaa38ff0180826a6e749d0686d1a0e37e97eb84
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/50/683350/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_rocky.yml'],1,a3ed0ea252c4a7f445ee9905102c57ac96368c9a,lp/1843259, - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_cross_tenant_traffic' reason: 'Neutron issue' lp: 'https://bugs.launchpad.net/tripleo/+bug/1843259' - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_multiple_security_groups' reason: 'Neutron issue' lp: 'https://bugs.launchpad.net/tripleo/+bug/1843259',,6,0
openstack%2Fec2-api~master~I69e9290addd4424fd8360bffcabc118824a24e20,openstack/ec2-api,master,I69e9290addd4424fd8360bffcabc118824a24e20,docs: Add separate 'doc/requirements.txt' file,MERGED,2019-07-15 11:41:07.000000000,2019-10-05 22:54:01.000000000,2019-10-05 22:51:46.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-15 11:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/af365c1f0cc6b11e2b1dff19e93a8b3440728844', 'message': ""docs: Add separate 'doc/requirements.txt' file\n\nJust to help us separate the documentation-focused requirements from\neverything else.\n\nChange-Id: I69e9290addd4424fd8360bffcabc118824a24e20\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-08-16 10:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a3abdca7905f20bdefd1e08a2d535f59faafd4e5', 'message': ""docs: Add separate 'doc/requirements.txt' file\n\nJust to help us separate the documentation-focused requirements from\neverything else.\n\nChange-Id: I69e9290addd4424fd8360bffcabc118824a24e20\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2019-09-23 13:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b49cec4bd3a4d78af7ec7e612abf13e469eb33ca', 'message': ""docs: Add separate 'doc/requirements.txt' file\n\nJust to help us separate the documentation-focused requirements from\neverything else.\n\nChange-Id: I69e9290addd4424fd8360bffcabc118824a24e20\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2019-10-02 08:48:02.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8ec74422a0c91bee91f44f232385b47e813714b3', 'message': ""docs: Add separate 'doc/requirements.txt' file\n\nJust to help us separate the documentation-focused requirements from\neverything else.\n\nChange-Id: I69e9290addd4424fd8360bffcabc118824a24e20\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,670817,8ec74422a0c91bee91f44f232385b47e813714b3,18,2,4,15334,,,0,"docs: Add separate 'doc/requirements.txt' file

Just to help us separate the documentation-focused requirements from
everything else.

Change-Id: I69e9290addd4424fd8360bffcabc118824a24e20
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/17/670817/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,af365c1f0cc6b11e2b1dff19e93a8b3440728844,bug/1831870,deps = {[testenv]deps} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps} -r{toxinidir}/doc/requirements.txt,,9,4
openstack%2Fec2-api~master~Icc16ed943d8c0b9df01734da5642bf51e83314b8,openstack/ec2-api,master,Icc16ed943d8c0b9df01734da5642bf51e83314b8,tox: Misc fixes,MERGED,2019-06-06 13:21:56.000000000,2019-10-05 22:53:00.000000000,2019-10-05 22:51:45.000000000,"[{'_account_id': 10234}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 13:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8e1f17d677595e87d1767b91c82cf19d620ad0b3', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-06-06 13:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/58c0776c31bac16eceff82b9eb66a1cdfaaed9fe', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2019-06-07 10:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8cccb422306ace55d6ab7cf8ae651dbe3eb6d3aa', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2019-06-07 14:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/3933a20fbbab87c1729282c13999b6d034f8a85d', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2019-07-15 11:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/97461725ed7e777f3678d4e902ce03f490b98878', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2019-08-16 10:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2b31e57122ade776ae3e31ef9e50a98b21965ced', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2019-09-23 13:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f3567273a9d0afead22ffbd7c1e435cc6a536449', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2019-10-02 08:48:02.000000000', 'files': ['doc/source/install/index.rst', 'setup.cfg', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f35ffb70b5ca3f6c31651992fd33d6afa72af42b', 'message': ""tox: Misc fixes\n\n- Use 'ignore_basepython_conflict' so we can simply define 'basepython'\n  on the base testenv\n- Add an '.stestr.conf' file, allowing us to stop specifying the\n  '--test-path' argument manually\n- Call 'sphinx-build' directly instead of using the 'build_sphinx'\n  distutils extension, which pbr is deprecating. This requires a fix to\n  the docs but allows us to remove some noise from 'setup.cfg'\n- Fix some indentation and remove some unnecessary configuration\n\nChange-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,663654,f35ffb70b5ca3f6c31651992fd33d6afa72af42b,38,3,8,15334,,,0,"tox: Misc fixes

- Use 'ignore_basepython_conflict' so we can simply define 'basepython'
  on the base testenv
- Add an '.stestr.conf' file, allowing us to stop specifying the
  '--test-path' argument manually
- Call 'sphinx-build' directly instead of using the 'build_sphinx'
  distutils extension, which pbr is deprecating. This requires a fix to
  the docs but allows us to remove some noise from 'setup.cfg'
- Fix some indentation and remove some unnecessary configuration

Change-Id: Icc16ed943d8c0b9df01734da5642bf51e83314b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/54/663654/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'setup.cfg', 'tox.ini', '.stestr.conf']",4,8e1f17d677595e87d1767b91c82cf19d620ad0b3,bug/1831870,[DEFAULT] test_path=./ec2api/tests/unit top_dir=./ ,,21,61
openstack%2Foctavia~stable%2Fqueens~I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,openstack/octavia,stable/queens,I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,Fix urgent amphora two-way auth security bug,MERGED,2019-10-04 08:12:10.000000000,2019-10-05 22:48:42.000000000,2019-10-05 22:47:23.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-04 08:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/85f38cc399b759ea1ae7068281f76a56ae61decd', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 2, 'created': '2019-10-04 08:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4d18ea2e9e5df27baf8927ead59a0ceaa4969eac', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 3, 'created': '2019-10-04 09:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/183564196d818f0467ea9fc69c00b848077ee78a', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 4, 'created': '2019-10-04 14:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/94a9965d56c8b68628114639defa908bedeb3962', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 183564196d818f0467ea9fc69c00b848077ee78a)\n""}, {'number': 5, 'created': '2019-10-04 14:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bce9dede8d1f4c0214d21bb1b8a0303941a685c8', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 9111c35dfad1e7455e22b2caebc3a42b083a6254)\n(cherry picked from commit 56616515d06f61b984b0d0fdfeda4688f3d36ce8)\n""}, {'number': 6, 'created': '2019-10-04 14:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/60a277111a427a004e82d6cf0c591d61dc217a6a', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)\n""}, {'number': 7, 'created': '2019-10-04 20:17:32.000000000', 'files': ['octavia/cmd/agent.py', 'releasenotes/notes/correct-amp-client-auth-vulnerability-6803f4bac2508e4c.yaml', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/89a2f6e0136ad49d928eb65b4cf555af2a2b8ab1', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)\n""}]",0,686545,89a2f6e0136ad49d928eb65b4cf555af2a2b8ab1,40,4,7,10273,,,0,"Fix urgent amphora two-way auth security bug

The value of gunicorn's option 'cert_reqs` for client-cert requirement
does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.

Story: 2006660
Task: 36916

SecurityImpact: CVE-2019-17134

Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992
(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)
(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)
(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)
(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/45/686545/7 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,85f38cc399b759ea1ae7068281f76a56ae61decd,amp-cert-reqs-fix,"import ssl 'cert_reqs': ssl.CERT_REQUIRED,"," 'cert_reqs': True,",2,1
openstack%2Fqinling-dashboard~master~I76a3247fb6902943211ecbc2938ad0413ffc0449,openstack/qinling-dashboard,master,I76a3247fb6902943211ecbc2938ad0413ffc0449,Use Horizon project template for django jobs,MERGED,2019-10-05 09:56:52.000000000,2019-10-05 20:29:28.000000000,2019-10-05 20:27:49.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 09:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/f077561c125d845516d0ec91a7177a3a76a8922a', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I76a3247fb6902943211ecbc2938ad0413ffc0449\n""}, {'number': 2, 'created': '2019-10-05 10:35:26.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/970880786c838f4ace54e81d73d41941c9583b3f', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I76a3247fb6902943211ecbc2938ad0413ffc0449\n""}]",0,686875,970880786c838f4ace54e81d73d41941c9583b3f,10,2,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I76a3247fb6902943211ecbc2938ad0413ffc0449
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/75/686875/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,f077561c125d845516d0ec91a7177a3a76a8922a,django22,"envlist = py27,py37,py3-{dj111,dj22},pep8,docs dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3","envlist = py27,py37,py3-dj111,pep8,docs py27: {[unit_tests]commands} py35: {[unit_tests]commands} [unit_tests] commands =[testenv:py27] basepython = python2 commands = {[unit_tests]commands} [testenv:py35] commands = {[unit_tests]commands} [testenv:py3-dj111] commands = pip install django>=1.11,<2 {[unit_tests]commands} ",4,25
openstack%2Fswift~stable%2Ftrain~Ie8df2c218868b1b178e3c04f430092fa81ddbf75,openstack/swift,stable/train,Ie8df2c218868b1b178e3c04f430092fa81ddbf75,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-03 16:35:36.000000000,2019-10-05 19:10:57.000000000,2019-10-05 19:09:42.000000000,"[{'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 16:35:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/48ec78bdc4275a19bc871015704d7a1f593e6ffa', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie8df2c218868b1b178e3c04f430092fa81ddbf75\n'}]",0,686439,48ec78bdc4275a19bc871015704d7a1f593e6ffa,11,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie8df2c218868b1b178e3c04f430092fa81ddbf75
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/686439/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,48ec78bdc4275a19bc871015704d7a1f593e6ffa,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fhorizon~master~I82b15d347831762808b17fbda8c944a1ee5de564,openstack/horizon,master,I82b15d347831762808b17fbda8c944a1ee5de564,Fix router integration tests,MERGED,2019-09-27 06:48:00.000000000,2019-10-05 19:04:26.000000000,2019-10-05 19:03:11.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8648}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23467}, {'_account_id': 23625}, {'_account_id': 29313}, {'_account_id': 31026}]","[{'number': 1, 'created': '2019-09-27 06:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b6bbf3930ac2752dc12d331f2ae1fbf432203536', 'message': 'Fix router integration tests\n\nThe aim of this PS is to fix router integration tests\nlisted below:\n  - test_router_add_delete_interface (Partial-Bug: #1792028)\n  - test_router_delete_interface_by_row (Partial-Bug: #1792028)\n  - test_router_overview_data (Partial-Bug: #1792028)\n  - test_router_create_admin (Partial-Bug: #1792028)\n\nChange-Id: I82b15d347831762808b17fbda8c944a1ee5de564\n'}, {'number': 2, 'created': '2019-09-27 22:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1085a6c94104200cbae1a4425334c81650dbf5b0', 'message': 'Fix router integration tests\n\nThe aim of this PS is to fix router integration tests\nlisted below:\n  - test_router_add_delete_interface (Partial-Bug: #1792028)\n  - test_router_delete_interface_by_row (Partial-Bug: #1792028)\n  - test_router_overview_data (Partial-Bug: #1792028)\n  - test_router_create_admin (Partial-Bug: #1792028)\n\nChange-Id: I82b15d347831762808b17fbda8c944a1ee5de564\n'}, {'number': 3, 'created': '2019-09-30 14:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e5928d15192ad9986474d5620b45d1dae1588e7b', 'message': 'Fix router integration tests\n\nThe aim of this PS is to fix skipped router integration tests\nlisted below:\n  - test_router_add_delete_interface (Partial-Bug: #1792028)\n  - test_router_delete_interface_by_row (Partial-Bug: #1792028)\n  - test_router_overview_data (Partial-Bug: #1792028)\n  - test_router_create_admin (Partial-Bug: #1792028)\n\nChange-Id: I82b15d347831762808b17fbda8c944a1ee5de564\n'}, {'number': 4, 'created': '2019-10-04 04:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6f82f11756f1cadc5e5c2336a31a8e5667812495', 'message': 'Fix router integration tests\n\nThe aim of this PS is to fix skipped router integration tests\nlisted below:\n  - test_router_add_delete_interface (Partial-Bug: #1792028)\n  - test_router_delete_interface_by_row (Partial-Bug: #1792028)\n  - test_router_overview_data (Partial-Bug: #1792028)\n  - test_router_create_admin (Partial-Bug: #1792028)\n\nChange-Id: I82b15d347831762808b17fbda8c944a1ee5de564\n'}, {'number': 5, 'created': '2019-10-04 06:00:57.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/pages/project/network/networkoverviewpage.py', 'openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/horizon.conf', 'openstack_dashboard/test/integration_tests/pages/project/network/routerspage.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routerinterfacespage.py', 'openstack_dashboard/test/integration_tests/tests/test_router.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/558f6701abd5052472e45f54eee51fe1098de816', 'message': 'Fix router integration tests\n\nThe aim of this PS is to fix skipped router integration tests\nlisted below:\n  - test_router_add_delete_interface (Partial-Bug: #1792028)\n  - test_router_delete_interface_by_row (Partial-Bug: #1792028)\n  - test_router_overview_data (Partial-Bug: #1792028)\n  - test_router_create_admin (Partial-Bug: #1792028)\n\nChange-Id: I82b15d347831762808b17fbda8c944a1ee5de564\n'}]",21,685208,558f6701abd5052472e45f54eee51fe1098de816,33,10,5,23467,,,0,"Fix router integration tests

The aim of this PS is to fix skipped router integration tests
listed below:
  - test_router_add_delete_interface (Partial-Bug: #1792028)
  - test_router_delete_interface_by_row (Partial-Bug: #1792028)
  - test_router_overview_data (Partial-Bug: #1792028)
  - test_router_create_admin (Partial-Bug: #1792028)

Change-Id: I82b15d347831762808b17fbda8c944a1ee5de564
",git fetch https://review.opendev.org/openstack/horizon refs/changes/08/685208/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/pages/project/network/networkoverviewpage.py', 'openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/tests/test_router_gateway.py', 'openstack_dashboard/test/integration_tests/horizon.conf', 'openstack_dashboard/test/integration_tests/pages/project/network/routerspage.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routerinterfacespage.py', 'openstack_dashboard/test/integration_tests/tests/test_router.py']",8,b6bbf3930ac2752dc12d331f2ae1fbf432203536,integration_test_fix," class TestAdminRouters(helpers.AdminTestCase): ROUTER_NAME = helpers.gen_random_resource_name(""router"") NETWORK_NAME = helpers.gen_random_resource_name(""network"") SUBNET_NAME = helpers.gen_random_resource_name(""subnet"") @property def routers_page(self): return self.home_pg.go_to_project_network_routerspage() def _create_router(self): routers_page = self.routers_page routers_page.create_router(self.ROUTER_NAME) self.assertTrue( routers_page.find_message_and_dismiss(messages.SUCCESS)) self.assertFalse(routers_page.find_message_and_dismiss(messages.ERROR)) self.assertTrue(routers_page.is_router_present(self.ROUTER_NAME)) self.assertTrue(routers_page.is_router_active(self.ROUTER_NAME)) def _delete_router(self): routers_page = self.routers_page routers_page.delete_router(self.ROUTER_NAME) self.assertTrue( routers_page.find_message_and_dismiss(messages.SUCCESS)) self.assertFalse(routers_page.find_message_and_dismiss(messages.ERROR)) self.assertFalse(routers_page.is_router_present(self.ROUTER_NAME)) def _create_interface(self, interfaces_page): interfaces_page.create_interface(self.SUBNET_NAME) interface_name = interfaces_page.interface_name self.assertTrue( interfaces_page.is_interface_status(interface_name, 'Down')) def _create_subnet(self): networks_page = self.home_pg.go_to_project_network_networkspage() networks_page.create_network(self.NETWORK_NAME, self.SUBNET_NAME) self.assertTrue( networks_page.find_message_and_dismiss(messages.SUCCESS)) def _delete_subnet(self): networks_page = self.home_pg.go_to_project_network_networkspage() networks_page.delete_network(self.NETWORK_NAME) self.assertTrue( networks_page.find_message_and_dismiss(messages.SUCCESS)) self._create_subnet() interface_name = router_interfaces_page.interface_name self._delete_subnet() self._create_subnet() interface_name = router_interfaces_page.interface_name self._delete_subnet() self.assertTrue( router_overview_page.is_router_name_present(self.ROUTER_NAME)) self._create_router() routers_page = self.routers_page admin_routers_page = self.home_pg.go_to_admin_network_routerspage() self.assertTrue(admin_routers_page.is_router_present(new_name)) self.assertTrue(admin_routers_page.is_router_active(new_name))"," def _create_interface(self, interfaces_page): interfaces_page.create_interface() interface_name = interfaces_page.interfaces_names[0] self.assertTrue(interfaces_page.is_interface_status( interface_name, 'Down')) @decorators.skip_because(bugs=['1792028']) interface_name = router_interfaces_page.interfaces_names[0] @decorators.skip_because(bugs=['1792028']) interface_name = router_interfaces_page.interfaces_names[0] @decorators.skip_because(bugs=['1792028']) self.assertTrue(router_overview_page. is_router_name_present(self.ROUTER_NAME)) class TestAdminRouters(helpers.AdminTestCase): ROUTER_NAME = helpers.gen_random_resource_name(""router"") @decorators.skip_because(bugs=['1792028']) routers_page = self.home_pg.go_to_project_network_routerspage() routers_page.create_router(self.ROUTER_NAME) self.assertTrue( routers_page.find_message_and_dismiss(messages.SUCCESS)) self.assertFalse(routers_page.find_message_and_dismiss(messages.ERROR)) self.assertTrue(routers_page.is_router_present(self.ROUTER_NAME)) self.assertTrue(routers_page.is_router_active(self.ROUTER_NAME)) admin_routers_page = self.home_pg.go_to_admin_network_routerspage() self.assertTrue( admin_routers_page.is_router_present(new_name)) self.assertTrue( admin_routers_page.is_router_active(new_name))",145,81
openstack%2Fopenstacksdk~master~I4f9b95b02d43c81acb60d224584d60331f5a7784,openstack/openstacksdk,master,I4f9b95b02d43c81acb60d224584d60331f5a7784,Start supporting type info,MERGED,2019-10-03 13:11:40.000000000,2019-10-05 18:53:35.000000000,2019-10-05 18:52:06.000000000,"[{'_account_id': 9311}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-10-03 13:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/abca4a785d1491b5d246360fcc0eb0ad62e4779d', 'message': ""WIP Start supporting type info\n\nThis isn't anywhere CLOSE to being ready to go, but it's a starting\nplace. We need to figure out the metaclass, since mypy doesn't seem\nto run it, and thus things like Connection.object_store are unknown.\n\nChange-Id: I4f9b95b02d43c81acb60d224584d60331f5a7784\n""}, {'number': 2, 'created': '2019-10-04 08:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ff52d5b64a6302f0a45c80bc3c4be67193ae2a32', 'message': ""WIP Start supporting type info\n\nThis isn't anywhere CLOSE to being ready to go, but it's a starting\nplace. We need to figure out the metaclass, since mypy doesn't seem\nto run it, and thus things like Connection.object_store are unknown.\n\nChange-Id: I4f9b95b02d43c81acb60d224584d60331f5a7784\n""}, {'number': 3, 'created': '2019-10-04 11:09:33.000000000', 'files': ['openstack/__init__.py', 'openstack/py.typed'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7fcfeeb08f3d1ec2417492a7277dd86f01269011', 'message': ""Start supporting type info\n\nThis is super basic, but it's a starting point to us being able to\nstart adding typing info.\n\nAdding it with python2 syntax for now, since we haven't dropped py2\nyet.\n\nChange-Id: I4f9b95b02d43c81acb60d224584d60331f5a7784\n""}]",0,686397,7fcfeeb08f3d1ec2417492a7277dd86f01269011,12,4,3,2,,,0,"Start supporting type info

This is super basic, but it's a starting point to us being able to
start adding typing info.

Adding it with python2 syntax for now, since we haven't dropped py2
yet.

Change-Id: I4f9b95b02d43c81acb60d224584d60331f5a7784
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/686397/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/__init__.py', 'openstack/py.typed']",2,abca4a785d1491b5d246360fcc0eb0ad62e4779d,686433-patch1,,,1,1
openstack%2Fopenstacksdk~master~Iccd5ee34e364cd6f53c0a8934e20442c022844e8,openstack/openstacksdk,master,Iccd5ee34e364cd6f53c0a8934e20442c022844e8,Use generated list of services instead of metaclass,MERGED,2019-10-04 08:09:08.000000000,2019-10-05 18:33:15.000000000,2019-10-05 18:32:07.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-10-04 08:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/73603e9385d997b4afa09d66de94121fae3fd633', 'message': 'Use generated list of services instead of metaclass\n\nThe metaclass makes it pretty impossible to do type annotations on\nanything. Turn the metaclass into a utility script and then generate\nthe list of mappings.\n\nChange-Id: Iccd5ee34e364cd6f53c0a8934e20442c022844e8\n'}, {'number': 2, 'created': '2019-10-04 09:05:28.000000000', 'files': ['tools/print-services.py', 'openstack/_meta/connection.py', 'openstack/_services_mixin.py', 'openstack/_meta/__init__.py', 'tox.ini', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c9fba05bf6231cc63d1b286d6c41852601c95920', 'message': 'Use generated list of services instead of metaclass\n\nThe metaclass makes it pretty impossible to do type annotations on\nanything. Turn the metaclass into a utility script and then generate\nthe list of mappings.\n\nChange-Id: Iccd5ee34e364cd6f53c0a8934e20442c022844e8\n'}]",2,686542,c9fba05bf6231cc63d1b286d6c41852601c95920,9,3,2,2,,,0,"Use generated list of services instead of metaclass

The metaclass makes it pretty impossible to do type annotations on
anything. Turn the metaclass into a utility script and then generate
the list of mappings.

Change-Id: Iccd5ee34e364cd6f53c0a8934e20442c022844e8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/42/686542/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/print-services.py', 'openstack/_meta/connection.py', 'openstack/_services_mixin.py', 'openstack/_meta/__init__.py', 'tox.ini', 'openstack/connection.py']",6,73603e9385d997b4afa09d66de94121fae3fd633,686433-patch1,"from openstack import _services_mixinclass Connection( _services_mixin.ServicesMixin, _cloud._OpenStackCloudMixin, _baremetal.BaremetalCloudMixin, _block_storage.BlockStorageCloudMixin, _compute.ComputeCloudMixin, _clustering.ClusteringCloudMixin, _coe.CoeCloudMixin, _dns.DnsCloudMixin, _floating_ip.FloatingIPCloudMixin, _identity.IdentityCloudMixin, _image.ImageCloudMixin, _network.NetworkCloudMixin, _network_common.NetworkCommonCloudMixin, _object_store.ObjectStoreCloudMixin, _orchestration.OrchestrationCloudMixin, _security_group.SecurityGroupCloudMixin ):","from openstack._meta import connection as _metaclass Connection(six.with_metaclass(_meta.ConnectionMeta, _cloud._OpenStackCloudMixin, _baremetal.BaremetalCloudMixin, _block_storage.BlockStorageCloudMixin, _compute.ComputeCloudMixin, _clustering.ClusteringCloudMixin, _coe.CoeCloudMixin, _dns.DnsCloudMixin, _floating_ip.FloatingIPCloudMixin, _identity.IdentityCloudMixin, _image.ImageCloudMixin, _network.NetworkCloudMixin, _network_common.NetworkCommonCloudMixin, _object_store.ObjectStoreCloudMixin, _orchestration.OrchestrationCloudMixin, _security_group.SecurityGroupCloudMixin )):",299,145
openstack%2Fhorizon~stable%2Ftrain~I0b6686d7bb96808a442bd86cb124b7f6b89cea99,openstack/horizon,stable/train,I0b6686d7bb96808a442bd86cb124b7f6b89cea99,Imported Translations from Zanata,MERGED,2019-10-05 08:12:25.000000000,2019-10-05 18:23:56.000000000,2019-10-05 18:22:29.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 30977}]","[{'number': 1, 'created': '2019-10-05 08:12:25.000000000', 'files': ['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'horizon/locale/eo/LC_MESSAGES/django.po', 'horizon/locale/eo/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3043d05e3120a24a7886f69939dfb38e7b4dafaa', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0b6686d7bb96808a442bd86cb124b7f6b89cea99\n'}]",0,686872,3043d05e3120a24a7886f69939dfb38e7b4dafaa,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0b6686d7bb96808a442bd86cb124b7f6b89cea99
",git fetch https://review.opendev.org/openstack/horizon refs/changes/72/686872/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'horizon/locale/eo/LC_MESSAGES/django.po', 'horizon/locale/eo/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po']",4,3043d05e3120a24a7886f69939dfb38e7b4dafaa,zanata/translations,"# Georg Hennemann <georg.hennemann@t-systems.com>, 2019. #zanata""POT-Creation-Date: 2019-10-05 03:52+0000\n""""PO-Revision-Date: 2019-10-04 04:06+0000\n"""" If a snapshot is specified here only the specified snapshot of the volume\n"" "" will be backed up.\n"" "" </p>\n"" "" "" msgstr """" ""\n"" ""Se savkopio estas specifita i tie nur la specifita savkopio de la volumo "" ""estos savita. \n"" "" </p>\n"" "" "" msgid """" ""\n"""" Se neniu kontenero nomo estas provizita, implicite defaulta kontenero "" ""nomita volumsekurkopio estos provizita por vi. Sekurkopioj estos de la sama ""msgid ""%(role)s (through group %(group)s)"" msgstr ""%(role)s (per grupo %(group)s)"" #, python-formatmsgid ""Action and Object Type"" msgstr ""Ago kaj Objekto Tipo"" msgid ""Age"" msgstr ""Ao"" msgid ""Backup Snapshot"" msgstr ""Varma Savkopio"" ""By default, group type is created as public. To create a private group type, "" ""uncheck this field."" msgstr """" ""Defalte, grupo tipo estas kreita publike. Por krei privatan grupo tipon, "" ""malselektu tiun kampon."" msgid """"msgstr ""Konteneroj""msgid ""Create A RBAC Policy"" msgstr ""Kreu RBAC Regularo"" msgid ""Create Group Type"" msgstr ""Kreu Grupo Tipo"" msgid ""Create Group Type Spec"" msgstr ""Kreu Grupo Tipo Specifon"" msgid ""Create RBAC Policy"" msgstr ""Kreu RBAC Regularo"" msgid ""Create a Group Type"" msgstr ""Kreu Grupo Tipo"" msgid ""Create a RBAC Policy"" msgstr ""Kreu RBAC Regularo"" msgid ""Create a new \""group type spec\"" key-value pair for a group type."" msgstr ""Kreu novan \""grupo tipo spec\"" klavo-valoro paron por grupo tipo."" msgid ""Created group type spec \""%s\""."" msgstr ""Kreita grupo tipo specifon \""%s\""."" #, python-formatmsgid ""Delete Group Type"" msgid_plural ""Delete Group Types"" msgstr[0] ""Forigu Grupo Tipon"" msgstr[1] ""Forigu Grupo Tipojn"" msgid ""Delete RBAC Policy"" msgid_plural ""Delete RBAC Policies"" msgstr[0] ""Forigu RBAC Regularo"" msgstr[1] ""Forigu RBAC Regularoj"" msgid ""Deleted Group Type"" msgid_plural ""Deleted Group Types"" msgstr[0] ""Forigita Grupo Tipo"" msgstr[1] ""Forigita Grupo Tipoj"" msgid ""Deleted RBAC Policy"" msgid_plural ""Deleted RBAC Policies"" msgstr[0] ""Forigita RBAC Regularo"" msgstr[1] ""Forigitaj RBAC Regularoj"" msgid ""Deleted RBAC policy is not recoverable."" msgstr ""Forigita RBAC regularo ne estas restarebla."" msgid ""Download kubeconfig file"" msgstr ""Eluti kubeconfig dosieron"" msgid ""Edit Group Type"" msgstr ""Agordu Grupo Tipon"" msgid ""Edit Group Type Spec"" msgstr ""Agordu Grupo Tipo Specifon"" #, python-format msgid ""Edit Group Type Spec Value: %s"" msgstr ""Redaktu Grupo Tipo Specifo Valoron: %s"" msgid ""Edit Policy"" msgstr ""Redaktu Regularon"" msgid ""Euca2ools state"" msgstr ""Euca2ools stato"" msgid ""Failed to create a rbac policy."" msgstr ""Malsukcesis krei rbac regularo ."" msgid ""Failed to update rbac policy %s"" msgstr ""Malsukcesis isdatigi rbac regularo %s"" #, python-formatmsgid ""From here you can create a rbac policy."" msgstr ""De i tie vi povas krei rbac regularo."" msgid ""Group \""%s\"" already exists."" msgstr ""Grupo \""%s\"" jam ekzistas."" #, python-formatmsgid ""Group Type Specs"" msgstr ""Grupo Tipo Specifoj"" #, python-format msgid ""Group Type: %(group_type_name)s"" msgstr ""Grupo Tipo: %(group_type_name)s"" #, python-format msgid ""Group Type: %(group_type_name)s "" msgstr ""Grupo Tipo: %(group_type_name)s"" msgid ""Group Types"" msgstr ""Grupo Tipoj"" ""Group type is a type or label that can be selected at group creation time in "" ""OpenStack. It usually maps to a set of capabilities of the storage back-end "" ""driver to be used for this group. Examples: \""Performance\"", \""SSD\"", "" ""\""Backup\"", etc. This is equivalent to the <tt>cinder type-create</tt> "" ""command. Once the group type gets created, click the \""View Specs\"" button "" ""to set up specs key-value pair(s) for that group type."" msgstr """" ""Grupo tipo estas tipo a etikedo kiu povas esti selektita je grupo kreanta "" ""tempo en OpenStack. i kutime mapigas al aro da kapabloj de la memoro back-"" ""end pelilo uzonta por tiun grupon. Ekzemploj: \""Rendimento\"", \""SSD\"", "" ""\""Sekurkopio\"", ktp. Tiu estas ekvivalenta al <tt>cinder tipo- krei</tt> "" ""komando. Kiam la grupo tipo estas kreita, kliku la \""Vidu Specifojn\"" klavon "" ""por agordi specifajn klava-valoro paro(j)n por tiu grupo tipo."" #, python-format msgid ""Group type name \""%s\"" already exists."" msgstr ""Grupo tipo nomo \""%s\"" jam ekzistas."" msgid ""Group type name can not be empty."" msgstr ""Grupo tipo nomo ne povas esti malplena."" msgid """"msgid ""If checked, the network will be enabled."" msgstr ""Se markita, la reto estos estos ebligita."" msgid ""Image Type"" msgstr ""Bildo Tipo"" ""Key names can only contain alphanumeric characters, underscores, periods, "" ""colons and hyphens"" msgstr """" "" losilo nomoj nur enhavus literciferajn signojn, substrekojn, punktojn, "" ""dupunktojn kaj dividstrekojn."" msgid """"#, python-format msgid """" ""Key with name \""%s\"" already exists. Use Edit to update the value, else "" ""create key with different name."" msgstr """" ""losilo kun nomo \""%s\"" jam ekzistas. Uzu Agordo por isdatigi la valoron, "" ""a kreu losilon kun alia nomo."" msgid ""Key: burstIOPS and Value: 5000 (number value bigger than minIOPS)"" msgstr ""losilo: maxIOPS kaj Valoro: 5000 (nombro pli granda ol minIOPS)"" msgid ""Key: maxIOPS and Value: 5000 (number value bigger than minIOPS)"" msgstr ""losilo: maxIOPS kaj Valoro: 5000 (nombro pli granda ol minIOPS)"" msgid ""Kubernetes Namespace"" msgstr ""Kubernetes Nomspaco"" msgid ""Modify group type name, description, and public status."" msgstr ""Modifu grupo tipo nomon, priskribon, kaj publikan staton."" msgid ""New name conflicts with another group type."" msgstr ""Nova nomo konfliktas kun alia grupo tipo."" msgid ""No snapshot for this volume"" msgstr ""Neniu savkopio por i tiu volumo"" msgid ""Object"" msgstr ""Objekto"" msgid ""Object ID"" msgstr ""Objekto ID"" msgid ""Object Type"" msgstr ""Objekto Tipo"" msgid ""OpenStack RC File"" msgstr ""OpenStack RC Dosiero"" msgid ""Password Expires At"" msgstr ""Pasvorto Senvalidias je"" msgid ""QoS Policy"" msgstr ""QOS Regularo"" #, python-format msgid ""RBAC Policy %s was successfully updated."" msgstr ""RBAC Regularo %s sukcese isdatigita."" msgid ""RBAC Policy Details"" msgstr ""RBAC Regularo Detajloj"" msgid ""RBAC Policy was successfully created."" msgstr ""RBAC Regularo estis sukcese kreita."" msgid ""Rescue Instance"" msgstr ""Savkopio apero"" msgid ""Role assignments"" msgstr ""Rol-atribuojn"" msgid ""Saved group type spec \""%s\""."" msgstr ""Konservis grupo specifon \""%s\""."" #, python-formatmsgid ""Select a QoS policy"" msgstr ""Elektu QOS Regularo"" msgid ""Select a network"" msgstr ""Elektu reton"" msgid ""Select action and object type"" msgstr ""Elekti ago kaj objekto tipon"" msgid ""Select snapshot to backup (Optional)"" msgstr ""Elektu savkopion por stori (lavole)"" msgid ""Shared Network"" msgstr ""Opuzata Reto"" msgid ""Shared QoS Policy"" msgstr ""Opuzata QOS Regularo"" msgid ""Successfully created group type: %s"" msgstr ""Sukcese kreita grupo tipon: %s "" #, python-formatmsgid ""Successfully updated group type."" msgstr ""Sukcese isdatigita grupo tipon."" msgid ""System Scope"" msgstr ""Sistema Amplekso"" msgid ""Target Project"" msgstr ""Celo Projekto"" msgid ""Target Tenant"" msgstr ""Celgastiganto"" ""The <strong>Key Size</strong> is the size of the encryption key, in bits (e."" ""g., 256). If the field is left empty, the provider default will be used."" msgstr """" ""La <strong> losilo Grando </strong> estas la grandeco de la ifrada "" ""losilo, en bitoj (ekz., 256). Se la kampo estas malplena, la provizanto "" ""defalto estos uzata."" msgid """"msgid ""The key must match the following the regex: '^[a-zA-Z0-9-_:. /]'"" msgstr ""La losilo devas kongrui kun la sekva regekso: '^ [a-zA-Z0-9-_:. /] '"" #, python-format msgid ""The password does not match the requirements: %s"" msgstr ""Pasvorto ne kongruas kun postuloj: %s"" msgid """" ""The rescue mode is only for emergency purpose, for example in case of a "" ""system or access failure."" msgstr """" ""La savkopio modo estas nur por krizaj okazoj, ekzemple en kazo de sistemo a "" ""aliro eraro."" msgid """" ""This will shut down your instance and mount the root disk to a temporary "" ""server. Then, you will be able to connect to this server, repair the system "" ""configuration or recover your data."" msgstr """" ""i tio malaltos vian aperon kaj muntos la radikan diskon al provizora "" ""servilo. Poste, vi povos konekti al i tiu servilo, ripari la sisteman "" ""agordon a reakiri viajn datumojn."" msgid ""To make group type private, uncheck this field."" msgstr ""Por fari grupo tipo privatan, malselektu tiun kampon."" msgid ""Unable to create application credential: %s"" msgstr ""Neeblas krei aplikadan legitimaon: %s"" #, python-formatmsgid ""Unable to create encrypted volume type: %s"" msgstr ""Neeblas krei ifritan volumo tipon: %s"" #, python-formatmsgid ""Unable to create group type spec."" msgstr ""Neeblas krei grupo tipo specifon."" msgid ""Unable to create group type."" msgstr ""Neeblas krei grupo tipon."" msgid ""Unable to display role assignment through groups."" msgstr ""Ne eblas montri la rol-atribuojn per grupoj."" msgid ""Unable to display the groups of this user."" msgstr ""Ne eblas montri la grupojn de i tiu uzanto."" msgid ""Unable to display the role assignments of this user."" msgstr ""Ne eblas montri la rol-atribuojn de i tiu uzanto."" msgid ""Unable to edit group type spec."" msgstr ""Neeblas redakti grupo tipo spec."" msgid ""Unable to fetch snapshot"" msgstr ""Neeblas venigi la savkopion."" msgid ""Unable to fetch snapshots"" msgstr ""Neeblas venigi la savkopiojn."" msgid ""Unable to retrieve RBAC policies."" msgstr ""Neeblas ricevi la RBAC regularojn."" msgid ""Unable to retrieve details for rbac_policy \""%s\""."" msgstr ""Neeblas ricevi detajlojn por rbac regularo \""%s\""."" #, python-formatmsgid ""Unable to retrieve group snapshot project information."" msgstr ""Neeblas ricevi grupo savkopio projekto informon."" msgid ""Unable to retrieve group type details."" msgstr ""Neeblas ricevi gruptipo detajlojn."" #, python-format msgid ""Unable to retrieve group type for: \""%s\"""" msgstr ""Neeblas ricevi grupo tipo por: \""%s\"""" msgid ""Unable to retrieve group type name."" msgstr ""Neeblas ricevi grupo tipo nomon."" msgid ""Unable to retrieve group type spec details."" msgstr ""Neeblas ricevi gruptipo specifo detajlojn."" msgid ""Unable to retrieve group type spec list."" msgstr ""Neeblas ricevi gruptipo specifo liston."" msgid ""Unable to retrieve group type."" msgstr ""Neeblas ricevi grupo tipon."" msgid ""Unable to retrieve information about the policies' networks."" msgstr ""Neeblas trovi informojn pri la regularaj' retoj."" msgid ""Unable to retrieve information about the policies' projects."" msgstr ""Neeblas trovi informojn pri la regularoj' projektoj."" msgid ""Unable to retrieve information about the policies' qos policies."" msgstr ""Neeblas trovi informojn pri la politikoj' qos regularoj."" msgid ""Unable to retrieve project information of volume snapshots."" msgstr ""Neeblas ricevi projekto informon de volumo savkopiojn."" msgid ""Unable to retrieve rbac policy details."" msgstr ""Neeblas ricevi rbac regularo detajlojn."" msgid ""Unable to retrieve user domain."" msgstr ""Neeblas ricevi uzanto domajnon."" msgid ""Unable to retrieve volume group project information."" msgstr ""Neeblas ricevi volumgrupo projekto informon."" msgid ""Unable to retrieve volume snapshot project information."" msgstr ""Neeblas ricevi volumo savkopio projekto informon."" msgid ""Unable to update group type."" msgstr ""Neeblas isdatigi grupo tipon."" msgid ""Update RBAC Policy"" msgstr ""isdatigu RBAC Regularo"" msgid ""Update the \""group type spec\"" value for \""%(key)s\"""" msgstr ""isdatigu la \""grupo tipo spec\"" valoro por \""%(key)s\"""" #, python-formatmsgid ""User \""%s\"" has been updated successfully."" msgstr ""Uzanto \""%s\"" sukcese isdatigita."" #, python-formatmsgid ""View Specs"" msgstr ""Vidu Specifojn"" ""You can optionally provide a Kubernetes Namespace. It will be included in "" ""the kubeconfig file which can be downloaded from the next screen."" msgstr """" ""Vi povas lavole provizi Kubernetes Nomspacon. i estos inkluzivita en la "" ""dosiero kubeconfig elutebla el la sekva ekrano."" msgid """"msgid """" ""You may optionally select an image and set a password on the rescue instance "" ""server."" msgstr """" ""Vi rajtas elekti bildon kaj agordi pasvorton sur la savkopia apero de "" ""servilo."" msgid ""You may update the editable properties of the RBAC policy here."" msgstr ""Vi povus isdatigi la redakteblaj ecoj de RBAC regularo i tie."" msgid """" ""flavor id can only contain alphanumeric characters, underscores, periods, "" ""hyphens, spaces."" msgstr """" "" speco id nur enhavus literciferajn signojn, substrekojn, punktojn,"" ""dividstrekojn, blankspacojn."" #, python-format msgid """" ""key with name \""%s\"" already exists.Use Edit to update the value, else "" ""create key with different name."" msgstr """" ""losilo kun nomo \""%s\"" jam ekzistas. Uzu Agordo por isdatigi la valoron, "" ""a kreu losilon kun alia nomo."" msgid ""rbac policy quota exceeded."" msgstr ""rbac regulara kvoto transpasita."" ","""POT-Creation-Date: 2019-09-13 12:32+0000\n""""PO-Revision-Date: 2018-11-08 12:45+0000\n"""" Se neniu entenilo nomo estas provizita, implicite defaulta entenilo nomita "" ""volumsekurkopio estos provizita por vi. Sekurkopioj estos de la sama ""msgstr ""Enteniloj""",653,12
openstack%2Fheat~master~I0d90720fab98192a191bb9ce5dae5190f2d23051,openstack/heat,master,I0d90720fab98192a191bb9ce5dae5190f2d23051,Bump lower constraint of python-zunclient,MERGED,2019-09-01 22:31:22.000000000,2019-10-05 18:05:04.000000000,2019-10-05 18:03:43.000000000,"[{'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 11536}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-01 22:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/82918407d197cf4de75175e25e30114ca7292344', 'message': 'Bump lower constraint of python-zunclient\n\nChange-Id: I0d90720fab98192a191bb9ce5dae5190f2d23051\n'}, {'number': 2, 'created': '2019-09-01 22:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/50333b2905adb9a629a8f40a82a76f986a68988d', 'message': 'Bump lower constraint of python-zunclient\n\nChange-Id: I0d90720fab98192a191bb9ce5dae5190f2d23051\n'}, {'number': 3, 'created': '2019-09-01 22:34:46.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/57680e547c0db7eb924a71ed46f6fd3dbb9bebb8', 'message': 'Bump lower constraint of python-zunclient\n\nProjects that depends on python-zunclient should use the latest\nversion as lower constraint.\n\nChange-Id: I0d90720fab98192a191bb9ce5dae5190f2d23051\n'}]",0,679577,57680e547c0db7eb924a71ed46f6fd3dbb9bebb8,39,12,3,11536,,,0,"Bump lower constraint of python-zunclient

Projects that depends on python-zunclient should use the latest
version as lower constraint.

Change-Id: I0d90720fab98192a191bb9ce5dae5190f2d23051
",git fetch https://review.opendev.org/openstack/heat refs/changes/77/679577/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,82918407d197cf4de75175e25e30114ca7292344,,python-zunclient==3.4.0,python-zunclient==2.0.0,2,2
openstack%2Fnova~master~Ifba445e29f11ee2be65ea1682e8b2a62876ed2a2,openstack/nova,master,Ifba445e29f11ee2be65ea1682e8b2a62876ed2a2,Modify nova routing table to process null requests,ABANDONED,2017-10-31 22:13:29.000000000,2019-10-05 17:57:00.000000000,,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-31 22:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d632060181d7d24b3650cfdc95e9bea3c3233944', 'message': 'Closes-Bug: 1728732\n\nChange-Id: Ifba445e29f11ee2be65ea1682e8b2a62876ed2a2\n'}, {'number': 2, 'created': '2017-11-01 16:38:03.000000000', 'files': ['nova/api/openstack/compute/routes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb537e439bdfd2bc5bf448bde06568912dd32ffa', 'message': 'Modify nova routing table to process null requests\n\nThe nova client RESTful API requests of \'\' (NULL), \'/\', and\n\'/versions/{id}\' are routed to the ""{\'GET\': [version_controller,\n\'show\']}"" method by the first three entries of the nova server routing\ntable. Entries two and three do it explicitly, but NULL requests cause\nan HTML redirect that results in the nova client issuing a new request\nintended to match entry two (\'/\'). This redirection can return an\ninvalid target URL, specifically when an SSL termination proxy is\nemployed, causing the nova client to raise an exception of ""Unable to\nestablish connection to <invalid URL>: (\'Connection aborted.\',\nBadStatusLine(""\'\'"",))"".\n\nThis change modifies the first entry of the nova server routing table\nto handle NULL requests explicitly, as per entries two and three,\neliminating the problematic HTML redirection.\n\nCloses-Bug: 1728732\n\nChange-Id: Ifba445e29f11ee2be65ea1682e8b2a62876ed2a2\n'}]",5,516796,fb537e439bdfd2bc5bf448bde06568912dd32ffa,33,15,2,27165,,,0,"Modify nova routing table to process null requests

The nova client RESTful API requests of '' (NULL), '/', and
'/versions/{id}' are routed to the ""{'GET': [version_controller,
'show']}"" method by the first three entries of the nova server routing
table. Entries two and three do it explicitly, but NULL requests cause
an HTML redirect that results in the nova client issuing a new request
intended to match entry two ('/'). This redirection can return an
invalid target URL, specifically when an SSL termination proxy is
employed, causing the nova client to raise an exception of ""Unable to
establish connection to <invalid URL>: ('Connection aborted.',
BadStatusLine(""''"",))"".

This change modifies the first entry of the nova server routing table
to handle NULL requests explicitly, as per entries two and three,
eliminating the problematic HTML redirection.

Closes-Bug: 1728732

Change-Id: Ifba445e29f11ee2be65ea1682e8b2a62876ed2a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/516796/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/routes.py'],1,d632060181d7d24b3650cfdc95e9bea3c3233944,bug/1728732," # The following 3 lines of code replaces a redirect specification that caused erroneous URLs # and additional network traffic and load. See bug #1728732 ('', { 'GET': [version_controller, 'show'] }),"," # NOTE: This is a redirection from '' to '/'. The request to the '/v2.1' # or '/2.0' without the ending '/' will get a response with status code # '302' returned. ('', '/'),",5,4
openstack%2Fovsdbapp~master~Ifa6ebc07d4edaa8d92cb5f3a8ae9c4ffead38974,openstack/ovsdbapp,master,Ifa6ebc07d4edaa8d92cb5f3a8ae9c4ffead38974,Default testenv to basepython = python3,MERGED,2019-10-04 18:51:14.000000000,2019-10-05 17:56:16.000000000,2019-10-05 17:55:08.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 18:51:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6bfd219ec9437381bd0042a468b9b747d5727363', 'message': 'Default testenv to basepython = python3\n\nChange-Id: Ifa6ebc07d4edaa8d92cb5f3a8ae9c4ffead38974\n'}]",0,686826,6bfd219ec9437381bd0042a468b9b747d5727363,9,4,1,5756,,,0,"Default testenv to basepython = python3

Change-Id: Ifa6ebc07d4edaa8d92cb5f3a8ae9c4ffead38974
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/26/686826/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6bfd219ec9437381bd0042a468b9b747d5727363,,basepython = python3,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,1,9
openstack%2Fswift~stable%2Ftrain~I719c9a8cba92ca2625425c04675502712ac109cd,openstack/swift,stable/train,I719c9a8cba92ca2625425c04675502712ac109cd,Imported Translations from Zanata,MERGED,2019-10-04 07:04:40.000000000,2019-10-05 17:42:49.000000000,2019-10-05 17:41:24.000000000,"[{'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 07:04:40.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/a0e3cc830b4a15c03397c4bff44cb1ceac5578a3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I719c9a8cba92ca2625425c04675502712ac109cd\n'}]",0,686527,a0e3cc830b4a15c03397c4bff44cb1ceac5578a3,35,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I719c9a8cba92ca2625425c04675502712ac109cd
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/686527/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po']",15,a0e3cc830b4a15c03397c4bff44cb1ceac5578a3,zanata/translations,"""POT-Creation-Date: 2019-10-03 19:48+0000\n""","""POT-Creation-Date: 2018-08-09 00:12+0000\n""#, python-format msgid "", %s containers deleted"" msgstr "", %s containers apagados"" #, python-format msgid "", %s containers possibly remaining"" msgstr "", %s containers possivelmente restando"" #, python-format msgid "", %s containers remaining"" msgstr "", %s containers restando"" #, python-format msgid "", %s objects deleted"" msgstr "", %s objetos apagados"" #, python-format msgid "", %s objects possibly remaining"" msgstr "", %s objetos possivelmente restando"" #, python-format msgid "", %s objects remaining"" msgstr "", %s objetos restando"" #, python-format msgid "", elapsed: %.02fs"" msgstr "", passados: %.02fs"" msgid "", return codes: "" msgstr "", cdigos de retorno:"" #, python-format msgid ""Beginning pass on account %s"" msgstr ""Iniciando a estapa nas contas %s"" msgid ""Devices pass completed: %.02fs"" msgstr ""Dispositivos finalizados: %.02fs"" #, python-formatmsgid ""Exception in top-level account reaper loop"" msgstr ""Exceo no loop do removedor da conta de nvel superior"" msgid ""Exception in top-levelreconstruction loop"" msgstr ""Exceo no loop de reconstruo de nvel superior"" msgid ""Exception with account %s"" msgstr ""Exceo com a conta %s"" #, python-format msgid ""Exception with containers for account %s"" msgstr ""Exceo com os containers para a conta %s"" #, python-format msgid """" ""Exception with objects for container %(container)s for account %(account)s"" msgstr """" ""Exceo com objetos para o container %(container)s para conta %(account)s"" #, python-formatmsgid ""Incomplete pass on account %s"" msgstr ""Estapa incompleta nas contas %s"" #, python-formatmsgid ""Timeout Exception with %(ip)s:%(port)s/%(device)s"" msgstr ""Exceo de tempo limite com %(ip)s:%(port)s/%(device)s"" #, python-formatmsgid ""Trying to read during GET (retrying)"" msgstr ""Tentando ler durante GET (tentando novamente)"" ",223,3752
openstack%2Fcinder~master~I4afc181ae6864d9e756dcad6a24a3c09b775858f,openstack/cinder,master,I4afc181ae6864d9e756dcad6a24a3c09b775858f,Imported Translations from Zanata,MERGED,2019-10-04 06:48:08.000000000,2019-10-05 16:13:59.000000000,2019-10-04 12:10:36.000000000,"[{'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}, {'_account_id': 30977}]","[{'number': 1, 'created': '2019-10-04 06:48:08.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b712265488548cfcf45fff69db49d5be77798a2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4afc181ae6864d9e756dcad6a24a3c09b775858f\n'}]",0,686526,5b712265488548cfcf45fff69db49d5be77798a2,33,28,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4afc181ae6864d9e756dcad6a24a3c09b775858f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/686526/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po']",10,5b712265488548cfcf45fff69db49d5be77798a2,zanata/translations,"""POT-Creation-Date: 2019-10-03 22:29+0000\n""","""POT-Creation-Date: 2019-07-25 22:11+0000\n""msgid ""Backup id required"" msgstr ""Se necesita una copia de seguridad"" msgid """" ""Backup service %(configured_service)s does not support verify. Backup id "" ""%(id)s is not verified. Skipping verify."" msgstr """" ""El servicio de copia de seguridad %(configured_service)s no admite la "" ""verificacin. El id de copia de seguridad %(id)s no se ha verificado. Se "" ""omite la verificacin."" #, python-format msgid """" ""Backup service %(service)s does not support verify. Backup id %(id)s is not "" ""verified. Skipping reset."" msgstr """" ""El servicio de copia de seguridad %(service)s no soporta la verificacin. El "" ""ID de copia de seguridad %(id)s no se ha verificado. Se omite el "" ""restablecimiento."" #, python-formatmsgid ""Converted to %(vol_format)s, but format is now %(file_format)s"" msgstr """" ""Se ha convertido a %(vol_format)s, pero ahora el formato es %(file_format)s"" #, python-formatmsgid ""Unsupported backup verify driver"" msgstr ""Controlador de verificacin de copia de seguridad no admitido"" ",151,276
openstack%2Foctavia~stable%2Fpike~I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,openstack/octavia,stable/pike,I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,Fix urgent amphora two-way auth security bug,MERGED,2019-10-04 08:12:17.000000000,2019-10-05 15:42:25.000000000,2019-10-05 15:41:13.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 08:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a51c9f2f150d79b5ec814c2ecbcd75dc112f25d1', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 2, 'created': '2019-10-04 09:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/982801ba95ba72ce8e805f4466e4cac06cc9bf37', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 3, 'created': '2019-10-04 09:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b112123311b32f1ed79a29ac221de523fcd983f', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 4, 'created': '2019-10-04 14:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d154bcccbf99a9dae6c1256c8b08d9be864454f', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 9111c35dfad1e7455e22b2caebc3a42b083a6254)\n(cherry picked from commit 56616515d06f61b984b0d0fdfeda4688f3d36ce8)\n(cherry picked from commit bce9dede8d1f4c0214d21bb1b8a0303941a685c8)\n""}, {'number': 5, 'created': '2019-10-04 14:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/afa4e7b3bf8324afb994f307081c0e74a6d71971', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)\n(cherry picked from commit 60a277111a427a004e82d6cf0c591d61dc217a6a)\n""}, {'number': 6, 'created': '2019-10-04 20:18:03.000000000', 'files': ['octavia/cmd/agent.py', 'releasenotes/notes/correct-amp-client-auth-vulnerability-6803f4bac2508e4c.yaml', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2976a7f0f109e17930db8a61136526ead44ea7e5', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)\n(cherry picked from commit 60a277111a427a004e82d6cf0c591d61dc217a6a)\n""}]",0,686546,2976a7f0f109e17930db8a61136526ead44ea7e5,22,3,6,10273,,,0,"Fix urgent amphora two-way auth security bug

The value of gunicorn's option 'cert_reqs` for client-cert requirement
does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.

Story: 2006660
Task: 36916

SecurityImpact: CVE-2019-17134

Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992
(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)
(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)
(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)
(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)
(cherry picked from commit 60a277111a427a004e82d6cf0c591d61dc217a6a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/686546/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,a51c9f2f150d79b5ec814c2ecbcd75dc112f25d1,amp-cert-reqs-fix,"import ssl 'cert_reqs': ssl.CERT_REQUIRED,"," 'cert_reqs': True,",2,1
openstack%2Fzun-ui~master~I73738b67af135df025e6faab572491fdf88e2e77,openstack/zun-ui,master,I73738b67af135df025e6faab572491fdf88e2e77,Use Horizon project template for django jobs,MERGED,2019-10-05 09:57:05.000000000,2019-10-05 15:27:53.000000000,2019-10-05 15:25:59.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 09:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/d6579788db6e9e5a8a98d98448fbb2c4ce118a62', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I73738b67af135df025e6faab572491fdf88e2e77\n""}, {'number': 2, 'created': '2019-10-05 10:04:11.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/899a0d78a24fc30c7d11cdf43d00f61972604b8b', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I73738b67af135df025e6faab572491fdf88e2e77\n""}]",0,686883,899a0d78a24fc30c7d11cdf43d00f61972604b8b,9,2,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I73738b67af135df025e6faab572491fdf88e2e77
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/83/686883/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,d6579788db6e9e5a8a98d98448fbb2c4ce118a62,django22,"envlist = pep8,py37,py27-local,py36-local,py3-{dj111,dj22},eslint,karma-local,docs-local,releasenotes,lower-constraints-localcommands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test {posargs} --settings=zun_ui.test.settings","envlist = pep8,py37,py27-local,py36-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-localcommands = python manage.py test {posargs} --settings=zun_ui.test.settings[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands} [testenv:py3-dj111-local] basepython = python3 commands = {[testenv:hz-local]commands} pip install django>=1.11,<2 {[testenv]commands} ",6,21
openstack%2Fzun~master~Ie90e1ebde833938662e2ea3c5f953ed57db918a0,openstack/zun,master,Ie90e1ebde833938662e2ea3c5f953ed57db918a0,Fix image search 500 error,MERGED,2019-09-29 15:54:43.000000000,2019-10-05 15:23:52.000000000,2019-10-03 04:38:31.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-29 15:54:43.000000000', 'files': ['zun/api/controllers/v1/images.py', 'zun/tests/unit/api/controllers/v1/test_images.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/1712f184fcc621c9e32c845dba8d6dcf05f7f6cf', 'message': 'Fix image search 500 error\n\nChange-Id: Ie90e1ebde833938662e2ea3c5f953ed57db918a0\nCloses-Bug: #1845650\n'}]",0,685613,1712f184fcc621c9e32c845dba8d6dcf05f7f6cf,15,2,1,11536,,,0,"Fix image search 500 error

Change-Id: Ie90e1ebde833938662e2ea3c5f953ed57db918a0
Closes-Bug: #1845650
",git fetch https://review.opendev.org/openstack/zun refs/changes/13/685613/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/controllers/v1/images.py', 'zun/tests/unit/api/controllers/v1/test_images.py']",2,1712f184fcc621c9e32c845dba8d6dcf05f7f6cf,bug/1845650," mock.ANY, 'redis', CONF.default_image_driver, False, None) mock.ANY, 'redis:test', CONF.default_image_driver, False, None) mock.ANY, 'redis', CONF.default_image_driver, False, None) mock.ANY, 'redis', 'docker', True, None) mock.ANY, 'redis', 'glance', False, None)"," mock.ANY, 'redis', CONF.default_image_driver, False) mock.ANY, 'redis:test', CONF.default_image_driver, False) mock.ANY, 'redis', CONF.default_image_driver, False) mock.ANY, 'redis', 'docker', True) mock.ANY, 'redis', 'glance', False)",6,6
openstack%2Foctavia-tempest-plugin~master~Ibcd5552a67cea650edc72bfaa986357267ca2407,openstack/octavia-tempest-plugin,master,Ibcd5552a67cea650edc72bfaa986357267ca2407,Add an active/standby scenario test,MERGED,2018-07-22 23:05:17.000000000,2019-10-05 15:07:32.000000000,2019-10-05 15:05:37.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 18746}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-22 23:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9919e904f9b55278c68186921bfc16ea85b868ad', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 2, 'created': '2018-07-22 23:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b45bb6b7b85cc00408f737949fe4fe9d3356bca1', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 3, 'created': '2018-07-22 23:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d02e7fe3d622a77ba8533f25b0f76e85e78b718d', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 4, 'created': '2018-07-24 05:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9bc93d8003dddc50e883743b4b9598bab542f75c', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 5, 'created': '2018-07-24 05:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0fd7f847a8f108db3a6b24aa2903f63549b7f543', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 6, 'created': '2018-07-24 13:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cb604f1d1d866f62183e0e60c025e13dfe7e7de0', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 7, 'created': '2018-07-24 16:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a4c455e017739d191c1e0d24ea69ae785e55128a', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 8, 'created': '2018-07-24 21:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/57e897bd66b258650482740f068a40e68147f4cd', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 9, 'created': '2018-07-25 01:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4f818d79158d52bd207ca267de0cdcdeb77a9dc0', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 10, 'created': '2018-10-16 16:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/673f457d2ba187fa4a03e6580efc17c345af0a0e', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 11, 'created': '2018-10-18 19:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/db42135e59bf7cde13424dc25cdaf28e41c05412', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 12, 'created': '2018-12-16 19:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/374f5c7dc2119d5662ae228d75fecdba6cda6b97', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 13, 'created': '2018-12-18 00:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/067b5c0a3002a874b314125508cbd5570251e544', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 14, 'created': '2019-01-03 03:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3c9b2baacdf83c24b0fa95eee0205678c880aec5', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 15, 'created': '2019-01-03 04:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f541ccdb323c47b69f34e3b6cf3d5ad5a6ed25e6', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 16, 'created': '2019-01-03 17:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f5dee1f53d3ba06e7f1e0b7ad47e860ad5187136', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 17, 'created': '2019-02-04 16:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/973edd6c34600480b7fb6d32d8f91b54c307c7d4', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/#/c/585031/\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 18, 'created': '2019-02-16 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f8aab2c9512ecb9450e92ceb4617d0f511795517', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 19, 'created': '2019-02-24 18:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e6b4df9ec3d3a21ee2da19675686eec0b8248074', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nDepends-On: https://review.openstack.org/638992\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 20, 'created': '2019-06-12 17:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9d5e7723d0b4d2d54764f8130699edf3f22dd990', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 21, 'created': '2019-06-20 09:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ad574732a14f40cfa7e2315e418fb1e1372c468c', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 22, 'created': '2019-07-16 04:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2ab5d133cc59fbdb3e946c666f5e031344bdc81f', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 23, 'created': '2019-07-16 04:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/36dd221cb771bc735207974069c72ffb6c4b0e41', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 24, 'created': '2019-07-16 16:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/89253d872136f8ab58ec4384ef068f02efcf88f2', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 25, 'created': '2019-07-29 23:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/104abe816d1149294ffc797b3919626ece65c8f2', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}, {'number': 26, 'created': '2019-08-08 16:22:37.000000000', 'files': ['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/act_stdby_scenario/v2/test_active_standby.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6d99fc65b61f81a95771daba3c0b808185df5fc7', 'message': 'Add an active/standby scenario test\n\nThis patch adds a tempest scenario test for the active/standby topology.\nIt starts an active/standby load balancer, deletes the master amphora,\nand validates that the load balancer is still working.\n\nChange-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407\n'}]",11,584681,6d99fc65b61f81a95771daba3c0b808185df5fc7,99,8,26,11628,,,0,"Add an active/standby scenario test

This patch adds a tempest scenario test for the active/standby topology.
It starts an active/standby load balancer, deletes the master amphora,
and validates that the load balancer is still working.

Change-Id: Ibcd5552a67cea650edc72bfaa986357267ca2407
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/81/584681/21 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,9919e904f9b55278c68186921bfc16ea85b868ad,act-stdby, - job: name: octavia-v2-act/stdby-dsvm-scenario parent: octavia-dsvm-base vars: devstack_local_conf: post-config: $OCTAVIA_CONF: api_settings: api_v1_enabled: False controller_worker: loadbalancer_topology: ACTIVE_STANDBY tempest_concurrency: 2 tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2 tox_envlist: all - job: name: octavia-v2-act/stdby-dsvm-py35-scenario parent: octavia-v2-act/stdby-dsvm-scenario vars: devstack_localrc: USE_PYTHON3: true,,26,0
openstack%2Fcinder~stable%2Ftrain~I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60,openstack/cinder,stable/train,I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60,NetApp SolidFire: Add options for replication mode,MERGED,2019-10-04 15:49:25.000000000,2019-10-05 13:58:38.000000000,2019-10-05 13:57:04.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 18058}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29650}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-04 15:49:25.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/netapp-solidfire-add-replication-mode-eb26535d0ec78cb4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d879e76ff05f78aa042c4fe5f79a69699ccaa997', 'message': 'NetApp SolidFire: Add options for replication mode\n\nThis adds the option to specify the replication mode as:\nSynchronous, Asynchronous or SnapshotOnly.\n\nDepends-On: I920f958db1d48e52b548082d852c03f427a279ca\nChange-Id: I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60\n(cherry picked from commit ddc91052e4eb58c2686e9ccc9aaa90e5fa13bbd5)\n'}]",0,686754,d879e76ff05f78aa042c4fe5f79a69699ccaa997,19,15,1,5314,,,0,"NetApp SolidFire: Add options for replication mode

This adds the option to specify the replication mode as:
Synchronous, Asynchronous or SnapshotOnly.

Depends-On: I920f958db1d48e52b548082d852c03f427a279ca
Change-Id: I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60
(cherry picked from commit ddc91052e4eb58c2686e9ccc9aaa90e5fa13bbd5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/686754/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/netapp-solidfire-add-replication-mode-eb26535d0ec78cb4.yaml']",3,d879e76ff05f78aa042c4fe5f79a69699ccaa997,sf-replication-stable/train,"--- upgrade: - | SolidFire supports Synchronous, Asynchronous and SnapshotsOnly replication modes. This adds the config option `solidfire:replication_mode` to specify the mode to be used by Cinder. Its value can be `Sync`, `Async` or `SnapshotsOnly`. ",,57,21
openstack%2Fironic~stable%2Ftrain~I9e7be1d3ade0d2743893de6565e5dc427d5e1f71,openstack/ironic,stable/train,I9e7be1d3ade0d2743893de6565e5dc427d5e1f71,Use correct function to stop service,MERGED,2019-10-04 12:44:20.000000000,2019-10-05 13:48:24.000000000,2019-10-05 13:46:49.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-04 12:44:20.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b130e0f200533497510eb7617cdd0a31047ef7db', 'message': ""Use correct function to stop service\n\nDevStack provides a function to stop services[1],\nthe `stop_redfish` function wasn't using this one.\n\n[1] https://opendev.org/openstack/devstack/src/branch/master/functions-common#L2252\n\nChange-Id: I9e7be1d3ade0d2743893de6565e5dc427d5e1f71\n(cherry picked from commit a5297da9416335bc4145be33ce13ae857808cdd4)\n""}]",0,686591,b130e0f200533497510eb7617cdd0a31047ef7db,12,6,1,15519,,,0,"Use correct function to stop service

DevStack provides a function to stop services[1],
the `stop_redfish` function wasn't using this one.

[1] https://opendev.org/openstack/devstack/src/branch/master/functions-common#L2252

Change-Id: I9e7be1d3ade0d2743893de6565e5dc427d5e1f71
(cherry picked from commit a5297da9416335bc4145be33ce13ae857808cdd4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/686591/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,b130e0f200533497510eb7617cdd0a31047ef7db,use_correct_function-stable/train, stop_service $IRONIC_REDFISH_EMULATOR_SYSTEMD_SERVICE, start_service stop $IRONIC_REDFISH_EMULATOR_SYSTEMD_SERVICE,1,1
openstack%2Fironic~master~Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83,openstack/ironic,master,Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83,Fix devstack installation failure,MERGED,2019-10-01 23:29:40.000000000,2019-10-05 13:04:35.000000000,2019-10-04 18:36:13.000000000,"[{'_account_id': 7160}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-01 23:29:40.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dab47f9ce143fa1d7fb7c51608bb69332464d914', 'message': 'Fix devstack installation failure\n\nThis patch fixes an exception that occurs when deploying devstack with\nthe DIB ramdisk.\n\nChange-Id: Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83\nStory: #2006645\nTask: #36881\n'}]",2,686074,dab47f9ce143fa1d7fb7c51608bb69332464d914,37,10,1,10250,,,0,"Fix devstack installation failure

This patch fixes an exception that occurs when deploying devstack with
the DIB ramdisk.

Change-Id: Ia4499291b6dff1e8c8b6cd1ac544a1e3787ccf83
Story: #2006645
Task: #36881
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/686074/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,dab47f9ce143fa1d7fb7c51608bb69332464d914,fix_devstack, git_clone $IRONIC_PYTHON_AGENT_BUILDER_REPO $IRONIC_PYTHON_AGENT_BUILDER_DIR $IRONIC_PYTHON_AGENT_BUILDER_BRANCH, git_clone $IRONIC_PYTHON_AGENT_BUILDER_REPO $IRONIC_PYTHON_AGENT_BUILDER_DIR,1,1
openstack%2Foctavia~stable%2Frocky~I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,openstack/octavia,stable/rocky,I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,Fix urgent amphora two-way auth security bug,MERGED,2019-10-04 08:11:59.000000000,2019-10-05 11:42:46.000000000,2019-10-05 11:41:15.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 08:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/db5c1509a384c6ff837cb5edc9db7ccd04fff93e', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 2, 'created': '2019-10-04 08:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee0ffb611dd6713c8aaf780ce7108d86999da0f8', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 3, 'created': '2019-10-04 09:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8a05bd4dac0daf04c87ae24bf1f7e04e72e7fc71', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 4, 'created': '2019-10-04 13:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56616515d06f61b984b0d0fdfeda4688f3d36ce8', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 9111c35dfad1e7455e22b2caebc3a42b083a6254)\n""}, {'number': 5, 'created': '2019-10-04 14:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fd289ff7590a738690064dea8d96a9ada7519db0', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n""}, {'number': 6, 'created': '2019-10-04 20:16:54.000000000', 'files': ['octavia/cmd/agent.py', 'releasenotes/notes/correct-amp-client-auth-vulnerability-6803f4bac2508e4c.yaml', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/624ff08f27bcb73788663cbe6d35cbe29c537844', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n""}]",0,686544,624ff08f27bcb73788663cbe6d35cbe29c537844,17,3,6,10273,,,0,"Fix urgent amphora two-way auth security bug

The value of gunicorn's option 'cert_reqs` for client-cert requirement
does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.

Story: 2006660
Task: 36916

SecurityImpact: CVE-2019-17134

Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992
(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)
(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)
(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/44/686544/5 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,db5c1509a384c6ff837cb5edc9db7ccd04fff93e,amp-cert-reqs-fix,"import ssl 'cert_reqs': ssl.CERT_REQUIRED,"," 'cert_reqs': True,",2,1
openstack%2Foctavia~stable%2Focata~I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,openstack/octavia,stable/ocata,I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,Fix urgent amphora two-way auth security bug,MERGED,2019-10-04 08:12:56.000000000,2019-10-05 11:42:34.000000000,2019-10-05 11:41:19.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 08:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9e92509ffc5ead0c375ea9d7c67737a004933b0', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 2, 'created': '2019-10-04 09:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/94bce5ee9a61c2258afde3983a786de3cb952cbc', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 3, 'created': '2019-10-04 09:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a1bf9af264dbb554e0852a4697d31d046cb9a755', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 4, 'created': '2019-10-04 14:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6439cd94da334a5d377316691cea16e7bfee6ae4', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 9111c35dfad1e7455e22b2caebc3a42b083a6254)\n(cherry picked from commit 56616515d06f61b984b0d0fdfeda4688f3d36ce8)\n(cherry picked from commit bce9dede8d1f4c0214d21bb1b8a0303941a685c8)\n(cherry picked from commit 9d154bcccbf99a9dae6c1256c8b08d9be864454f)\n""}, {'number': 5, 'created': '2019-10-04 14:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5591c57f2dc40a14532d4da180f1e9c9de7c380a', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)\n(cherry picked from commit 60a277111a427a004e82d6cf0c591d61dc217a6a)\n(cherry picked from commit afa4e7b3bf8324afb994f307081c0e74a6d71971)\n""}, {'number': 6, 'created': '2019-10-04 20:18:56.000000000', 'files': ['octavia/cmd/agent.py', 'releasenotes/notes/correct-amp-client-auth-vulnerability-6803f4bac2508e4c.yaml', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c2fdffc3b748f8007c72e52df257e38756923b40', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)\n(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)\n(cherry picked from commit 60a277111a427a004e82d6cf0c591d61dc217a6a)\n(cherry picked from commit afa4e7b3bf8324afb994f307081c0e74a6d71971)\n""}]",0,686547,c2fdffc3b748f8007c72e52df257e38756923b40,18,3,6,10273,,,0,"Fix urgent amphora two-way auth security bug

The value of gunicorn's option 'cert_reqs` for client-cert requirement
does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.

Story: 2006660
Task: 36916

SecurityImpact: CVE-2019-17134

Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992
(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)
(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)
(cherry picked from commit 672990df699aa4d2f990d149ea4c0f425d5ce764)
(cherry picked from commit fd289ff7590a738690064dea8d96a9ada7519db0)
(cherry picked from commit 60a277111a427a004e82d6cf0c591d61dc217a6a)
(cherry picked from commit afa4e7b3bf8324afb994f307081c0e74a6d71971)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/686547/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,a9e92509ffc5ead0c375ea9d7c67737a004933b0,amp-cert-reqs-fix,"import ssl 'cert_reqs': ssl.CERT_REQUIRED,"," 'cert_reqs': True,",2,1
openstack%2Foctavia~stable%2Fstein~I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,openstack/octavia,stable/stein,I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,Fix urgent amphora two-way auth security bug,MERGED,2019-10-04 08:11:44.000000000,2019-10-05 11:39:35.000000000,2019-10-05 11:38:18.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 08:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/271a1d25ffbf74b18132e338fc1dedf46cb9f839', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 2, 'created': '2019-10-04 08:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/75d032f46d37bc507d3bac854e41b1f3d50273ca', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 3, 'created': '2019-10-04 09:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5f72c1418acda635f27e3d954666b02a85b15c65', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 4, 'created': '2019-10-04 13:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9111c35dfad1e7455e22b2caebc3a42b083a6254', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n""}, {'number': 5, 'created': '2019-10-04 14:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/672990df699aa4d2f990d149ea4c0f425d5ce764', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n""}, {'number': 6, 'created': '2019-10-04 20:16:05.000000000', 'files': ['octavia/cmd/agent.py', 'releasenotes/notes/correct-amp-client-auth-vulnerability-6803f4bac2508e4c.yaml', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1725517d1d209f26b2275306d83e49c099dcbe1a', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)\n""}]",0,686543,1725517d1d209f26b2275306d83e49c099dcbe1a,19,3,6,10273,,,0,"Fix urgent amphora two-way auth security bug

The value of gunicorn's option 'cert_reqs` for client-cert requirement
does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.

Story: 2006660
Task: 36916

SecurityImpact: CVE-2019-17134

Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992
(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)
(cherry picked from commit 998163af97c4f1a6288c7a28c5c9f825ad6dc184)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/686543/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,271a1d25ffbf74b18132e338fc1dedf46cb9f839,amp-cert-reqs-fix,"import ssl 'cert_reqs': ssl.CERT_REQUIRED,"," 'cert_reqs': True,",2,1
openstack%2Foctavia~stable%2Ftrain~I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,openstack/octavia,stable/train,I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,Fix urgent amphora two-way auth security bug,MERGED,2019-10-04 08:08:52.000000000,2019-10-05 11:31:23.000000000,2019-10-05 11:29:57.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-04 08:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cbc1fd3feda3091f789931618ed3e0e54aaef9ab', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 2, 'created': '2019-10-04 08:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/939eb5f5a03cef07b2da5abacf23719c8f9896e2', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 3, 'created': '2019-10-04 09:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9672b810b619c44f59dbffeb6922d741e0867d73', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 4, 'created': '2019-10-04 10:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fa4268ac3f229d131f2d804009a06a92d6a927fd', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nDepends-On: https://review.opendev.org/#/c/686565/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 5, 'created': '2019-10-04 13:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/998163af97c4f1a6288c7a28c5c9f825ad6dc184', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n""}, {'number': 6, 'created': '2019-10-04 20:15:16.000000000', 'files': ['octavia/cmd/agent.py', 'releasenotes/notes/correct-amp-client-auth-vulnerability-6803f4bac2508e4c.yaml', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6f54167b05cab1ef2721d63ddee99f92d61ea14f', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)\n""}]",0,686541,6f54167b05cab1ef2721d63ddee99f92d61ea14f,24,6,6,10273,,,0,"Fix urgent amphora two-way auth security bug

The value of gunicorn's option 'cert_reqs` for client-cert requirement
does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.

Story: 2006660
Task: 36916

SecurityImpact: CVE-2019-17134

Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992
(cherry picked from commit 2c9af84bdfb443adb1c708d2e6d277170ad2b6a7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/41/686541/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,cbc1fd3feda3091f789931618ed3e0e54aaef9ab,amp-cert-reqs-fix," 'cert_reqs': ssl.CERT_REQUIRED,"," 'cert_reqs': True,",1,1
openstack%2Fironic~master~I9e7be1d3ade0d2743893de6565e5dc427d5e1f71,openstack/ironic,master,I9e7be1d3ade0d2743893de6565e5dc427d5e1f71,Use correct function to stop service,MERGED,2019-10-03 09:16:04.000000000,2019-10-05 10:45:22.000000000,2019-10-04 12:41:04.000000000,"[{'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-03 09:16:04.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5297da9416335bc4145be33ce13ae857808cdd4', 'message': ""Use correct function to stop service\n\nDevStack provides a function to stop services[1],\nthe `stop_redfish` function wasn't using this one.\n\n[1] https://opendev.org/openstack/devstack/src/branch/master/functions-common#L2252\n\nChange-Id: I9e7be1d3ade0d2743893de6565e5dc427d5e1f71\n""}]",0,686360,a5297da9416335bc4145be33ce13ae857808cdd4,23,7,1,15519,,,0,"Use correct function to stop service

DevStack provides a function to stop services[1],
the `stop_redfish` function wasn't using this one.

[1] https://opendev.org/openstack/devstack/src/branch/master/functions-common#L2252

Change-Id: I9e7be1d3ade0d2743893de6565e5dc427d5e1f71
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/686360/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,a5297da9416335bc4145be33ce13ae857808cdd4,use_correct_function, stop_service $IRONIC_REDFISH_EMULATOR_SYSTEMD_SERVICE, start_service stop $IRONIC_REDFISH_EMULATOR_SYSTEMD_SERVICE,1,1
openstack%2Fmanila~master~I796e852cff5a501c90f4783087e59e81c3c5701f,openstack/manila,master,I796e852cff5a501c90f4783087e59e81c3c5701f,update readme links,MERGED,2019-10-05 02:02:59.000000000,2019-10-05 10:26:37.000000000,2019-10-05 10:25:20.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 02:02:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/c79edcbf8b8f4175bcd184b7a9487529da48a564', 'message': 'update readme links\n\nChange-Id: I796e852cff5a501c90f4783087e59e81c3c5701f\n'}]",0,686858,c79edcbf8b8f4175bcd184b7a9487529da48a564,14,9,1,30092,,,0,"update readme links

Change-Id: I796e852cff5a501c90f4783087e59e81c3c5701f
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/686858/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c79edcbf8b8f4175bcd184b7a9487529da48a564,,`HACKING.rst <https://opendev.org/openstack/manila/src/branch/master/HACKING.rst>`_https://opendev.org/openstack/python-manilaclient.git,`HACKING.rst <https://git.openstack.org/cgit/openstack/manila/tree/HACKING.rst>`_https://git.openstack.org/cgit/openstack/python-manilaclient.git,2,2
openstack%2Ftrove~stable%2Fstein~I35e17afb9e827b1fead9d28dbf32f11ce4034a9b,openstack/trove,stable/stein,I35e17afb9e827b1fead9d28dbf32f11ce4034a9b,Fix Trove CI jobs,MERGED,2019-08-21 15:42:39.000000000,2019-10-05 10:20:48.000000000,2019-10-05 10:19:20.000000000,"[{'_account_id': 6547}, {'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-21 15:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0415c9e13a8b4d9ff16bded133343b5fb6d4fbd9', 'message': ""Fix Trove CI jobs\n\nChanges to get jobs working\n\n1) After [1] devstack no longer changes the ownership of the whole\n   /opt/stack tree to the stack user unconditionally. Switch to the\n   stack user when running integration test.\n\n2) Add bindep.txt file[2]. The default fallback file is not installed\n   anymore and therefore a bindep.txt file is needed to add install\n   additional packages.\n\n3) Use trovestack script rather than devstack to build image so many\n   global variables could be used for consistency. By default, devstack\n   won't build image.\n\n4) Remove the tools/test-setup.sh as it is not used any more.\n\n5) Instance upgrade test keeps failing in CI for some reason, although\n   it's always passed on my local environment. In order not to block\n   other patches, skip the instance upgrade tests temporarily.\n\n[1] https://review.opendev.org/203698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\n\nConflicts:\n\tdevstack/plugin.sh\n\tintegration/scripts/functions_qemu\n\tintegration/scripts/trovestack\n\nChange-Id: I35e17afb9e827b1fead9d28dbf32f11ce4034a9b\n(cherry picked from commit 7b3483723a5fdfa56a8cc419ad77c8660ac87ad1)\n""}, {'number': 2, 'created': '2019-09-09 12:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/66d0a9d442b0f29b9bd291a0cf08211228595694', 'message': ""Fix Trove CI jobs\n\nThis is a combination of 2 commits, both are necessary to fix every CI\nissue:\n\n1. Fix Trove CI jobs\n\nChanges to get jobs working\n\n1) After [1] devstack no longer changes the ownership of the whole\n   /opt/stack tree to the stack user unconditionally. Switch to the\n   stack user when running integration test.\n\n2) Add bindep.txt file[2]. The default fallback file is not installed\n   anymore and therefore a bindep.txt file is needed to add install\n   additional packages.\n\n4) Remove the tools/test-setup.sh as it is not used any more.\n\n5) Instance upgrade test keeps failing in CI for some reason, although\n   it's always passed on my local environment. In order not to block\n   other patches, skip the instance upgrade tests temporarily.\n\n[1] https://review.opendev.org/203698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\n\nConflicts:\n\tdevstack/plugin.sh\n\tintegration/scripts/functions_qemu\n\tintegration/scripts/trovestack\nNote(elod.illes): bullet 3. skipped from backport as it is not a necessary\npatch I think.\n\n2. Use opendev.org instead of git.openstack.org\n\nAfter moving to opendev.org, the following command fails when building\nthe Trove guest image:\n\ncurl -o /opt/stack/devstack/upper-constraints.txt \\\n  'https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master'\n\nhttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt\nshould be used instead.\n\nOther places using git.openstack.org are also changed.\n\nChange-Id: I35e17afb9e827b1fead9d28dbf32f11ce4034a9b\n(cherry picked from commit eafd303e0a781eaaf10acdc4d208e49fbf0f4c2c)\n(cherry picked from commit 7b3483723a5fdfa56a8cc419ad77c8660ac87ad1)\n""}, {'number': 3, 'created': '2019-10-02 21:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fc4b7286f9c6e45dd038dabee408d41f7dc35629', 'message': ""Fix Trove CI jobs\n\nThis is a combination of 2 commits, both are necessary to fix every CI\nissue:\n\n1. Fix Trove CI jobs\n\nChanges to get jobs working\n\n1) After [1] devstack no longer changes the ownership of the whole\n   /opt/stack tree to the stack user unconditionally. Switch to the\n   stack user when running integration test.\n\n2) Add bindep.txt file[2]. The default fallback file is not installed\n   anymore and therefore a bindep.txt file is needed to add install\n   additional packages.\n\n4) Remove the tools/test-setup.sh as it is not used any more.\n\n5) Instance upgrade test keeps failing in CI for some reason, although\n   it's always passed on my local environment. In order not to block\n   other patches, skip the instance upgrade tests temporarily.\n\n6) Don't use master branch python-troveclient for stable branch Trove.\n\n[1] https://review.opendev.org/203698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\n\nConflicts:\n\tdevstack/plugin.sh\n\tintegration/scripts/functions_qemu\n\tintegration/scripts/trovestack\nNote(elod.illes): bullet 3. skipped from backport as it is not a necessary\npatch I think.\n\n2. Use opendev.org instead of git.openstack.org\n\nAfter moving to opendev.org, the following command fails when building\nthe Trove guest image:\n\ncurl -o /opt/stack/devstack/upper-constraints.txt \\\n  'https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master'\n\nhttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt\nshould be used instead.\n\nOther places using git.openstack.org are also changed.\n\nChange-Id: I35e17afb9e827b1fead9d28dbf32f11ce4034a9b\n(cherry picked from commit eafd303e0a781eaaf10acdc4d208e49fbf0f4c2c)\n(cherry picked from commit 7b3483723a5fdfa56a8cc419ad77c8660ac87ad1)\n""}, {'number': 4, 'created': '2019-10-03 06:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/799070da9de2f3a0dd959981fbe461d83cf58f23', 'message': ""Fix Trove CI jobs\n\nThis is a combination of 2 commits, both are necessary to fix every CI\nissue:\n\n1. Fix Trove CI jobs\n\nChanges to get jobs working\n\n1) After [1] devstack no longer changes the ownership of the whole\n   /opt/stack tree to the stack user unconditionally. Switch to the\n   stack user when running integration test.\n\n2) Add bindep.txt file[2]. The default fallback file is not installed\n   anymore and therefore a bindep.txt file is needed to add install\n   additional packages.\n\n4) Remove the tools/test-setup.sh as it is not used any more.\n\n5) Instance upgrade test keeps failing in CI for some reason, although\n   it's always passed on my local environment. In order not to block\n   other patches, skip the instance upgrade tests temporarily.\n\n6) Don't use master branch python-troveclient for stable branch Trove.\n\n[1] https://review.opendev.org/203698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\n\nConflicts:\n\tdevstack/plugin.sh\n\tintegration/scripts/functions_qemu\n\tintegration/scripts/trovestack\nNote(elod.illes): bullet 3. skipped from backport as it is not a necessary\npatch I think.\n\n2. Use opendev.org instead of git.openstack.org\n\nAfter moving to opendev.org, the following command fails when building\nthe Trove guest image:\n\ncurl -o /opt/stack/devstack/upper-constraints.txt \\\n  'https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master'\n\nhttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt\nshould be used instead.\n\nOther places using git.openstack.org are also changed.\n\nChange-Id: I35e17afb9e827b1fead9d28dbf32f11ce4034a9b\n(cherry picked from commit eafd303e0a781eaaf10acdc4d208e49fbf0f4c2c)\n(cherry picked from commit 7b3483723a5fdfa56a8cc419ad77c8660ac87ad1)\n""}, {'number': 5, 'created': '2019-10-05 00:15:16.000000000', 'files': ['test-upper-constraints.txt', 'trove/tests/scenario/runners/instance_upgrade_runners.py', 'devstack/plugin.sh', 'integration/scripts/functions_qemu', 'tools/test-setup.sh', 'integration/scripts/files/elements/ubuntu-guest/extra-data.d/15-trove-dep', 'integration/scripts/files/elements/fedora-guest/extra-data.d/15-trove-dep', 'roles/trove-devstack/tasks/main.yml', 'integration/scripts/trovestack', 'integration/scripts/trovestack.rc', 'doc/source/install/common_configure.txt', 'tox.ini', 'trove/tests/scenario/groups/instance_upgrade_group.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/67566d07b5308ab7ad1cc91729162b65d8da8638', 'message': ""Fix Trove CI jobs\n\nThis is a combination of 2 commits, both are necessary to fix every CI\nissue:\n\n1. Fix Trove CI jobs\n\nChanges to get jobs working\n\n1) After [1] devstack no longer changes the ownership of the whole\n   /opt/stack tree to the stack user unconditionally. Switch to the\n   stack user when running integration test.\n\n2) Add bindep.txt file[2]. The default fallback file is not installed\n   anymore and therefore a bindep.txt file is needed to add install\n   additional packages.\n\n4) Remove the tools/test-setup.sh as it is not used any more.\n\n5) Instance upgrade test keeps failing in CI for some reason, although\n   it's always passed on my local environment. In order not to block\n   other patches, skip the instance upgrade tests temporarily.\n\n6) Don't use master branch python-troveclient for stable branch Trove.\n\n[1] https://review.opendev.org/203698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\n\nConflicts:\n\tdevstack/plugin.sh\n\tintegration/scripts/functions_qemu\n\tintegration/scripts/trovestack\nNote(elod.illes): bullet 3. skipped from backport as it is not a necessary\npatch I think.\n\n2. Use opendev.org instead of git.openstack.org\n\nAfter moving to opendev.org, the following command fails when building\nthe Trove guest image:\n\ncurl -o /opt/stack/devstack/upper-constraints.txt \\\n  'https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master'\n\nhttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt\nshould be used instead.\n\nOther places using git.openstack.org are also changed.\n\nChange-Id: I35e17afb9e827b1fead9d28dbf32f11ce4034a9b\n(cherry picked from commit eafd303e0a781eaaf10acdc4d208e49fbf0f4c2c)\n(cherry picked from commit 7b3483723a5fdfa56a8cc419ad77c8660ac87ad1)\n""}]",2,677768,67566d07b5308ab7ad1cc91729162b65d8da8638,22,4,5,17685,,,0,"Fix Trove CI jobs

This is a combination of 2 commits, both are necessary to fix every CI
issue:

1. Fix Trove CI jobs

Changes to get jobs working

1) After [1] devstack no longer changes the ownership of the whole
   /opt/stack tree to the stack user unconditionally. Switch to the
   stack user when running integration test.

2) Add bindep.txt file[2]. The default fallback file is not installed
   anymore and therefore a bindep.txt file is needed to add install
   additional packages.

4) Remove the tools/test-setup.sh as it is not used any more.

5) Instance upgrade test keeps failing in CI for some reason, although
   it's always passed on my local environment. In order not to block
   other patches, skip the instance upgrade tests temporarily.

6) Don't use master branch python-troveclient for stable branch Trove.

[1] https://review.opendev.org/203698
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html

Conflicts:
	devstack/plugin.sh
	integration/scripts/functions_qemu
	integration/scripts/trovestack
Note(elod.illes): bullet 3. skipped from backport as it is not a necessary
patch I think.

2. Use opendev.org instead of git.openstack.org

After moving to opendev.org, the following command fails when building
the Trove guest image:

curl -o /opt/stack/devstack/upper-constraints.txt \
  'https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master'

https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt
should be used instead.

Other places using git.openstack.org are also changed.

Change-Id: I35e17afb9e827b1fead9d28dbf32f11ce4034a9b
(cherry picked from commit eafd303e0a781eaaf10acdc4d208e49fbf0f4c2c)
(cherry picked from commit 7b3483723a5fdfa56a8cc419ad77c8660ac87ad1)
",git fetch https://review.opendev.org/openstack/trove refs/changes/68/677768/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/trove-devstack/tasks/main.yml', 'integration/scripts/trovestack', 'trove/tests/scenario/runners/instance_upgrade_runners.py', 'devstack/plugin.sh', 'integration/scripts/functions_qemu', 'trove/tests/scenario/groups/instance_upgrade_group.py', 'devstack/settings', 'tools/test-setup.sh']",8,0415c9e13a8b4d9ff16bded133343b5fb6d4fbd9,fix-trove-ci,,"#!/bin/bash -xe # This script will be run by OpenStack CI before unit tests are run, # it sets up the test system as needed. # Developers should setup their test systems in a similar way. # This setup needs to be run as a user that can run sudo. # The root password for the MySQL database; pass it in via # MYSQL_ROOT_PW. DB_ROOT_PW=${MYSQL_ROOT_PW:-insecure_slave} # This user and its password are used by the tests, if you change it, # your tests might fail. DB_USER=openstack_citest DB_PW=openstack_citest sudo -H mysqladmin -u root password $DB_ROOT_PW # It's best practice to remove anonymous users from the database. If # a anonymous user exists, then it matches first for connections and # other connections from that host will not work. sudo -H mysql -u root -p$DB_ROOT_PW -h localhost -e "" DELETE FROM mysql.user WHERE User=''; FLUSH PRIVILEGES; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;"" # Now create our database. mysql -u $DB_USER -p$DB_PW -h 127.0.0.1 -e "" SET default_storage_engine=MYISAM; DROP DATABASE IF EXISTS openstack_citest; CREATE DATABASE openstack_citest CHARACTER SET utf8;"" # Same for PostgreSQL # The root password for the PostgreSQL database; pass it in via # POSTGRES_ROOT_PW. DB_ROOT_PW=${POSTGRES_ROOT_PW:-insecure_slave} # Setup user root_roles=$(sudo -H -u postgres psql -t -c "" SELECT 'HERE' from pg_roles where rolname='$DB_USER'"") if [[ ${root_roles} == *HERE ]];then sudo -H -u postgres psql -c ""ALTER ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" else sudo -H -u postgres psql -c ""CREATE ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" fi # Store password for tests cat << EOF > $HOME/.pgpass *:*:*:$DB_USER:$DB_PW EOF chmod 0600 $HOME/.pgpass # Now create our database psql -h 127.0.0.1 -U $DB_USER -d template1 -c ""DROP DATABASE IF EXISTS openstack_citest"" createdb -h 127.0.0.1 -U $DB_USER -l C -T template0 -E utf8 openstack_citest ",71,84
openstack%2Fqinling-dashboard~master~Ib578963fca0594a7ea3b037cae106d987c2ba383,openstack/qinling-dashboard,master,Ib578963fca0594a7ea3b037cae106d987c2ba383,Remove py35 from tox.ini,MERGED,2019-10-05 08:52:20.000000000,2019-10-05 10:08:54.000000000,2019-10-05 10:07:34.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 08:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/ea0c503e5fb029bf06626bd4a1e08c3eb35b71a7', 'message': 'Remove py35 from tox.ini\n\nAs py35 is already dropped in [1].\nSo this patch removes the py35 from tox.ini as well.\n\n[1] https://review.opendev.org/#/c/652469/\n\nChange-Id: Ib578963fca0594a7ea3b037cae106d987c2ba383\n'}, {'number': 2, 'created': '2019-10-05 08:55:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/d24f2c9b69067261a063f8d6d85e98bd33713478', 'message': 'Remove py35 from tox.ini\n\nAs py35 is already dropped in [1].\nSo this patch removes the py35 from tox.ini as well.\n\n[1] https://review.opendev.org/#/c/652469/\n\nChange-Id: Ib578963fca0594a7ea3b037cae106d987c2ba383\n'}]",0,686873,d24f2c9b69067261a063f8d6d85e98bd33713478,8,2,2,29313,,,0,"Remove py35 from tox.ini

As py35 is already dropped in [1].
So this patch removes the py35 from tox.ini as well.

[1] https://review.opendev.org/#/c/652469/

Change-Id: Ib578963fca0594a7ea3b037cae106d987c2ba383
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/73/686873/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ea0c503e5fb029bf06626bd4a1e08c3eb35b71a7,,,[testenv:py35] commands = {[unit_tests]commands} ,0,3
openstack%2Fheat-tempest-plugin~master~I89e5fc40b28e35eecbcdfee2cfeff441dbaa31b8,openstack/heat-tempest-plugin,master,I89e5fc40b28e35eecbcdfee2cfeff441dbaa31b8,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:55:59.000000000,2019-10-05 10:06:50.000000000,2019-10-05 10:06:49.000000000,"[{'_account_id': 12404}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-05 03:55:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/60fefc68b23d7177ac73a990db9fc0719ef30168', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I89e5fc40b28e35eecbcdfee2cfeff441dbaa31b8\n'}]",0,622777,60fefc68b23d7177ac73a990db9fc0719ef30168,10,6,1,17130,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I89e5fc40b28e35eecbcdfee2cfeff441dbaa31b8
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/77/622777/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,60fefc68b23d7177ac73a990db9fc0719ef30168,mail-list,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fhorizon~master~Ibd9dcad8497cfbe75736ab5ec65ba5fd429d14f9,openstack/horizon,master,Ibd9dcad8497cfbe75736ab5ec65ba5fd429d14f9,Add a release note to explicitly notify about further Python 2.7 support,ABANDONED,2019-09-13 09:12:05.000000000,2019-10-05 09:43:15.000000000,,"[{'_account_id': 841}, {'_account_id': 11880}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-13 09:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/db23aff46dd66f592d4b2ba3089f93dcd3821634', 'message': 'Add a release note to explicitly notify aboiut further Python 2.7 support\n\nChange-Id: Ibd9dcad8497cfbe75736ab5ec65ba5fd429d14f9\n'}, {'number': 2, 'created': '2019-09-18 14:38:08.000000000', 'files': ['releasenotes/notes/python2-support-aac46bc31a5b39fd.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f1478f97085481e86a661aebc87c71c753e59376', 'message': 'Add a release note to explicitly notify about further Python 2.7 support\n\nChange-Id: Ibd9dcad8497cfbe75736ab5ec65ba5fd429d14f9\n'}]",1,682002,f1478f97085481e86a661aebc87c71c753e59376,12,4,2,1736,,,0,"Add a release note to explicitly notify about further Python 2.7 support

Change-Id: Ibd9dcad8497cfbe75736ab5ec65ba5fd429d14f9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/682002/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/python2-support-aac46bc31a5b39fd.yaml'],1,db23aff46dd66f592d4b2ba3089f93dcd3821634,python2,--- prelude: > It's the latest release with Python 2.7 and Django 1.11 support. Horizon will switch to Python 3 and Django 2.2 starting in Ussuri release. ,,4,0
openstack%2Fcinder~stable%2Ftrain~I920f958db1d48e52b548082d852c03f427a279ca,openstack/cinder,stable/train,I920f958db1d48e52b548082d852c03f427a279ca,NetApp SolidFire: Fix replication,MERGED,2019-10-04 03:20:36.000000000,2019-10-05 08:58:45.000000000,2019-10-04 15:39:40.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-04 03:20:36.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/fix-solidfire-replication-dcb3e59b29950933.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b227c647d5d81c1ae9e54b0e5fd76cc07c73257', 'message': ""NetApp SolidFire: Fix replication\n\nThis patch addresses several of the problems currently found in this\ndriver:\n\n - When creating a SolidFire volume with a volume type that has\nreplication enabled the replication_status of this volume was not\nchanging.\n - During initialization, if a cluster is already paired, the driver\nfails to load.\n - Driver does not create volumes on the replication target on\nseveral configurations. For example, if the volume is being\ncreated from a snashot or from another volume, etc.\n - During Failback, the driver doesn't update iSCSI connection\ninfo to the secondary cluster nor the volume's replication status.\n\nCloses-bug: #1834013\nCloses-bug: #1751932\nChange-Id: I920f958db1d48e52b548082d852c03f427a279ca\nCo-Authored-By: Fernando Ferraz <sfernand@netapp.com>\nCo-Authored-By: Thiago Correa <thiago.correa@netapp.com>\n(cherry picked from commit 215d6b2b272847d695c5c5d17c9d387e123b1396)\n""}]",0,686519,7b227c647d5d81c1ae9e54b0e5fd76cc07c73257,21,13,1,5314,,,0,"NetApp SolidFire: Fix replication

This patch addresses several of the problems currently found in this
driver:

 - When creating a SolidFire volume with a volume type that has
replication enabled the replication_status of this volume was not
changing.
 - During initialization, if a cluster is already paired, the driver
fails to load.
 - Driver does not create volumes on the replication target on
several configurations. For example, if the volume is being
created from a snashot or from another volume, etc.
 - During Failback, the driver doesn't update iSCSI connection
info to the secondary cluster nor the volume's replication status.

Closes-bug: #1834013
Closes-bug: #1751932
Change-Id: I920f958db1d48e52b548082d852c03f427a279ca
Co-Authored-By: Fernando Ferraz <sfernand@netapp.com>
Co-Authored-By: Thiago Correa <thiago.correa@netapp.com>
(cherry picked from commit 215d6b2b272847d695c5c5d17c9d387e123b1396)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/686519/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/fix-solidfire-replication-dcb3e59b29950933.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,7b227c647d5d81c1ae9e54b0e5fd76cc07c73257,sf-replication-stable/train,"from cinder.tests.unit.api import fakesfrom cinder.tests.unit import fake_volume self.configuration = conf.BackendGroupConfiguration( [], conf.SHARED_CONF_GROUP) vol_updates = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': 'fast', 'created_at': timeutils.utcnow(), 'attributes': {'uuid': '262b9ce2-a71a-4fbe-830c-c20c5596caea'}} ctx = context.get_admin_context() self.mock_volume = fake_volume.fake_volume_obj(ctx, **vol_updates) self.cluster_pairs = ( [{'uniqueID': 'lu9f', 'endpoint': {'passwd': 'admin', 'port': 443, 'url': 'https://192.168.139.102:443', 'svip': '10.10.8.134', 'mvip': '192.168.139.102', 'login': 'admin'}, 'name': 'AutoTest2-6AjG-FOR-TEST-ONLY', 'clusterPairID': 33, 'uuid': '9c499d4b-8fff-48b4-b875-27601d5d9889', 'svip': '10.10.23.2', 'mvipNodeID': 1, 'repCount': 1, 'encryptionAtRestState': 'disabled', 'attributes': {}, 'mvip': '192.168.139.102', 'ensemble': ['10.10.5.130'], 'svipNodeID': 1}]) self.mvip = '192.168.139.102' self.svip = '10.10.8.134' return {'result': {}, 'id': 1} ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **testvol) ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **testvol) ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **testvol) ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx) testsnap_dict = {'project_id': 'testprjid', 'name': testvol.name, 'volume_size': testvol.size, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_id': testvol.id, 'volume_type_id': None, 'created_at': timeutils.utcnow(), 'provider_id': '8 99 None', 'volume': testvol} testsnap = fake_snapshot.fake_snapshot_obj(ctx, **testsnap_dict) 'prefix-testprjid'}]),\ mock.patch.object(sfv, '_retrieve_replication_settings', return_value=[""Async"", {}]),\ mock.patch.object(sfv, '_get_sf_volume', return_value={'volumeID': 33}): updates_vol_a = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} updates_vol_b = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates_vol_a) testvol_b = fake_volume.fake_volume_obj(ctx, **updates_vol_b) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_qos_setting') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') def test_extend_replicated_volume(self, mock_create_cluster_reference, mock_retrieve_replication_settings, mock_issue_api_request, mock_retrieve_qos_setting, mock_get_sf_volume, mock_get_sfaccount): mock_create_cluster_reference.return_value = { 'mvip': self.mvip, 'svip': self.svip} mock_retrieve_replication_settings.return_value = ""Async"" mock_retrieve_qos_setting.return_value = None self.fake_sfvol['volumePairs'] = [{'remoteVolumeID': 26}] mock_get_sf_volume.return_value = self.fake_sfvol mock_get_sfaccount.return_value = self.fake_sfaccount ctx = context.get_admin_context() utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': f_uuid, 'created_at': utc_now } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip mock_issue_api_request.reset_mock() updates = sfv.extend_volume(vol, vol.size + 10) self.assertIsNone(updates) modify_params = { 'volumeID': self.fake_sfvol['volumeID'], 'totalSize': int((vol.size + 10) * units.Gi), 'qos': None } modify_params2 = modify_params.copy() modify_params2['volumeID'] = 26 expected_calls = [ mock.call(""ModifyVolume"", modify_params, version='5.0'), mock.call(""ModifyVolume"", modify_params2, version='5.0', endpoint=self.cluster_pairs[0]['endpoint']) ] mock_issue_api_request.assert_has_calls(expected_calls) mock_create_cluster_reference.assert_called() mock_retrieve_replication_settings.assert_called_with(vol) mock_retrieve_qos_setting.assert_called_with(vol, vol.size + 10) mock_get_sf_volume.assert_called_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_sfaccount.assert_called_with(vol.project_id) updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) migrated, updates = sfv.retype(self.ctxt, testvol, type_ref, diff, host) self.assertTrue(migrated) self.assertEqual({}, updates) updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) migrated, updates = sfv.retype(self.ctxt, testvol, test_type, diff, host) self.assertTrue(migrated) self.assertEqual({}, updates) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_set_rep_by_volume_type') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') @mock.patch.object(solidfire.SolidFireDriver, '_disable_replication') @mock.patch.object(solidfire.SolidFireDriver, '_set_qos_by_volume_type') def test_retype_replicated(self, mock_set_qos_by_volume_type, mock_disable_replication, mock_replicate_volume, mock_get_default_volume_params, mock_retrieve_replication_settings, mock_set_rep_by_volume_type, mock_get_sf_volume, mock_get_sfaccount): all_mocks = locals() mock_get_sf_volume.return_value = None mock_get_sfaccount.return_value = self.fake_sfaccount mock_retrieve_replication_settings.return_value = 'Async' ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}, 'id': fakes.get_fake_uuid()} src_vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) fake_provider_id = ""%s %s %s"" % ( self.fake_sfvol['volumeID'], fakes.FAKE_UUID, self.cluster_pairs[0]['uuid']) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': src_vol_type, 'volume_type_id': src_vol_type.id, 'provider_id': fake_provider_id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) dst_vol_type = fake_volume.fake_volume_type_obj(ctx) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip self.assertRaises(exception.VolumeNotFound, sfv.retype, ctx, vol, dst_vol_type, None, None) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_sfaccount.reset_mock() mock_get_sf_volume.reset_mock() expected = {""key"": ""value""} mock_get_sf_volume.return_value = self.fake_sfvol mock_replicate_volume.return_value = expected mock_set_rep_by_volume_type.side_effect = [src_vol_type, dst_vol_type] retyped, updates = sfv.retype(ctx, vol, dst_vol_type, None, None) self.assertDictEqual(expected, updates) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_default_volume_params.assert_called() mock_disable_replication.assert_not_called() mock_replicate_volume.assert_called_once() mock_retrieve_replication_settings.assert_called_once() mock_set_qos_by_volume_type.assert_called_once() expected = {} for mk in all_mocks.values(): if isinstance(mk, mock.MagicMock): mk.reset_mock() mock_set_rep_by_volume_type.side_effect = [src_vol_type, None] retyped, updates = sfv.retype(ctx, vol, dst_vol_type, None, None) self.assertDictEqual(expected, updates) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_default_volume_params.assert_not_called() mock_disable_replication.assert_called_with(vol) mock_replicate_volume.assert_not_called() mock_retrieve_replication_settings.assert_not_called() mock_set_qos_by_volume_type.assert_called_once() updates = {'project_id': 'testprjid', ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **updates) @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') @mock.patch.object(solidfire.SolidFireDriver, '_get_model_info') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') def test_manage_existing_replicated_fail( self, mock_create_cluster_reference, mock_update_cluster_status, mock_get_model_info, mock_replicate_volume, mock_retrieve_replication_settings, mock_get_default_volume_params, mock_get_create_account, mock_issue_api_request): mock_retrieve_replication_settings.return_value = 'Async' mock_get_default_volume_params.return_value = {'totalSize': 50} mock_get_create_account.return_value = self.fake_sfaccount mock_replicate_volume.side_effect = solidfire.SolidFireAPIException ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}, 'id': fakes.get_fake_uuid()} vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) fake_provider_id = ""%s %s %s"" % ( self.fake_sfvol['volumeID'], fakes.FAKE_UUID, self.cluster_pairs[0]['uuid']) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': vol_type, 'volume_type_id': vol_type.id, 'provider_id': fake_provider_id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip external_ref = {} self.assertRaises(solidfire.SolidFireAPIException, sfv.manage_existing, vol, external_ref) self.fake_sfvol['volumePairs'] = [{'remoteVolumeID': 26}] mock_issue_api_request.return_value = { 'result': {'volumes': [self.fake_sfvol]}} external_ref = {'source-id': 6, 'name': 'new-being-managed'} self.assertRaises(solidfire.SolidFireDriverException, sfv.manage_existing, vol, external_ref) mock_get_default_volume_params.return_value = {'totalSize': 50} self.fake_sfvol['volumePairs'] = [] mock_issue_api_request.return_value = { 'result': {'volumes': [self.fake_sfvol]}} self.assertRaises(solidfire.SolidFireAPIException, sfv.manage_existing, vol, external_ref) modify_attributes = {'uuid': vol.id, 'is_clone': 'False', 'os_imported_at': utc_now + ""+00:00"", 'old_name': 'new-being-managed'} modify_params1 = {'volumeID': self.fake_sfvol['volumeID'], 'attributes': modify_attributes} modify_params2 = {'volumeID': self.fake_sfvol['volumeID'], 'attributes': self.fake_sfvol['attributes']} calls = [mock.call('ListActiveVolumes', {'startVolumeID': self.fake_sfvol['volumeID'], 'limit': 1}), mock.call('ModifyVolume', modify_params1, version='5.0'), mock.call('ModifyVolume', modify_params2, version='5.0')] mock_issue_api_request.assert_has_calls(calls) mock_get_model_info.assert_not_called() mock_create_cluster_reference.assert_called_once() mock_update_cluster_status.assert_called_once() mock_replicate_volume.assert_called() mock_retrieve_replication_settings.assert_called_with(vol) mock_get_default_volume_params.assert_called_with(vol) mock_get_create_account.assert_called_with(vol.project_id) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfaccount') @mock.patch.object(solidfire.SolidFireDriver, '_get_sf_volume') @mock.patch.object(solidfire.SolidFireDriver, '_set_rep_by_volume_type') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') @mock.patch.object(solidfire.SolidFireDriver, '_disable_replication') @mock.patch.object(solidfire.SolidFireDriver, '_set_qos_by_volume_type') def test_manage_existing_replicated( self, mock_set_qos_by_volume_type, mock_disable_replication, mock_replicate_volume, mock_get_default_volume_params, mock_retrieve_replication_settings, mock_set_rep_by_volume_type, mock_get_sf_volume, mock_get_sfaccount): mock_get_sf_volume.return_value = None mock_get_sfaccount.return_value = self.fake_sfaccount mock_retrieve_replication_settings.return_value = 'Async' ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}, 'id': fakes.get_fake_uuid()} src_vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) fake_provider_id = ""%s %s %s"" % ( self.fake_sfvol['volumeID'], fakes.FAKE_UUID, self.cluster_pairs[0]['uuid']) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': src_vol_type, 'volume_type_id': src_vol_type.id, 'provider_id': fake_provider_id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) dst_vol_type = fake_volume.fake_volume_type_obj(ctx) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip self.assertRaises(exception.VolumeNotFound, sfv.retype, ctx, vol, dst_vol_type, None, None) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_sfaccount.reset_mock() mock_get_sf_volume.reset_mock() expected = {""key"": ""value""} mock_get_sf_volume.return_value = self.fake_sfvol mock_replicate_volume.return_value = expected mock_set_rep_by_volume_type.side_effect = [src_vol_type, dst_vol_type] retyped, updates = sfv.retype(ctx, vol, dst_vol_type, None, None) self.assertDictEqual(expected, updates) mock_get_sfaccount.assert_called_once_with(vol.project_id) mock_get_sf_volume.assert_called_once_with( vol.id, {'accountID': self.fake_sfaccount['accountID']}) mock_get_default_volume_params.assert_called() mock_disable_replication.assert_not_called() mock_replicate_volume.assert_called_once() mock_retrieve_replication_settings.assert_called_once() mock_set_qos_by_volume_type.assert_called_once() mock_set_rep_by_volume_type.assert_called() @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') ctx = context.get_admin_context() testvol = fake_volume.fake_volume_obj(ctx, **testvol) project_id, sf_vol_object = sfv.create_volume(testvol) def _fake_issue_api_req(method, params, version=0, endpoint=None): sfv.cluster_pairs = self.cluster_pairs self.assertEqual('Async', sfv._set_rep_by_volume_type( ctxt, type_id)) replication_status = fields.ReplicationStatus.ENABLED fake_vol = {'project_id': 1, 'volumeID': 1, 'size': 1} params = {'attributes': {}} sf_account = {'initiatorSecret': 'shhh', 'targetSecret': 'dont-tell'} model_update = {'provider_id': '1 2 xxxx'} sfv.cluster_pairs = self.cluster_pairs return_value=model_update): self.assertEqual({'replication_status': replication_status}, sfv._replicate_volume(fake_vol, params, sf_account, {})) return_value=None), \ @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_set_cluster_pairs') @mock.patch.object(solidfire.SolidFireDriver, '_snapshot_discovery') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_get_model_info') @mock.patch.object(solidfire.SolidFireDriver, '_update_attributes') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_set_cluster_pairs') @mock.patch.object(solidfire.SolidFireDriver, '_get_default_volume_params') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_replication_settings') @mock.patch.object(solidfire.SolidFireDriver, '_replicate_volume') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') def test_do_clone_volume_rep_disabled(self, mock_create_cluster_reference, mock_replicate_volume, mock_retrieve_replication_settings, mock_get_default_volume_params, mock_set_cluster_pairs, mock_update_cluster_status, mock_update_attributes, mock_get_model_info, mock_issue_api_request, mock_snapshot_discovery, mock_test_set_cluster_pairs, mock_get_create_account): all_mocks = locals() def reset_mocks(): for mk in all_mocks.values(): if isinstance(mk, mock.MagicMock): mk.reset_mock() sf_volume_params = {'volumeID': 1, 'snapshotID': 2, 'newSize': 3} mock_snapshot_discovery.return_value = (sf_volume_params, True, self.fake_sfvol) mock_get_create_account.return_value = self.fake_sfaccount ctx = context.get_admin_context() vol_fields = {'updated_at': timeutils.utcnow(), 'created_at': timeutils.utcnow()} src_vol = fake_volume.fake_volume_obj(ctx) dst_vol = fake_volume.fake_volume_obj(ctx, **vol_fields) mock_create_cluster_reference.return_value = { 'mvip': self.mvip, 'svip': self.svip} sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = False reset_mocks() mock_issue_api_request.return_value = { 'error': {'code': 000, 'name': 'DummyError', 'message': 'This is a fake error response'}, 'id': 1} self.assertRaises(solidfire.SolidFireAPIException, sfv._do_clone_volume, src_vol.id, dst_vol, sf_src_snap=self.fake_sfsnaps[0]) clone_vol_params = { 'snapshotID': self.fake_sfsnaps[0]['snapshotID'], 'volumeID': self.fake_sfsnaps[0]['volumeID'], 'newSize': dst_vol.size * units.Gi, 'name': '%(prefix)s%(id)s' % { 'prefix': self.configuration.sf_volume_prefix, 'id': dst_vol.id}, 'newAccountID': self.fake_sfaccount['accountID']} mock_get_create_account.assert_called_with(dst_vol.project_id) mock_issue_api_request.assert_called_once_with( 'CloneVolume', clone_vol_params, version='6.0') mock_test_set_cluster_pairs.assert_not_called() mock_update_attributes.assert_not_called() mock_get_model_info.assert_not_called() mock_snapshot_discovery.assert_not_called() reset_mocks() mock_issue_api_request.side_effect = self.fake_issue_api_request mock_get_default_volume_params.return_value = {} mock_get_model_info.return_value = None self.assertRaises(solidfire.SolidFireAPIException, sfv._do_clone_volume, src_vol.id, dst_vol, sf_src_snap=self.fake_sfsnaps[0]) mock_get_create_account.assert_called_with(dst_vol.project_id) calls = [mock.call('CloneVolume', clone_vol_params, version='6.0'), mock.call('ModifyVolume', {'volumeID': 6})] mock_issue_api_request.assert_has_calls(calls) mock_test_set_cluster_pairs.assert_not_called() mock_update_attributes.assert_not_called() mock_get_model_info.assert_called_once() mock_snapshot_discovery.assert_not_called() reset_mocks() mock_retrieve_replication_settings.return_value = 'Async' update = {'replication_status': fields.ReplicationStatus.ENABLED} mock_replicate_volume.side_effect = solidfire.SolidFireDriverException mock_update_attributes.return_value = {'result': {}, 'id': 1} mock_get_model_info.return_value = { 'provider_location': '1.1.1.1 iqn 0', 'provider_auth': 'CHAP stack-1-a60e2611875f40199931f2c76370d66b ' '2FE0CQ8J196R', 'provider_id': '%s %s cluster-id-01' % ( self.fake_sfvol['volumeID'], self.fake_sfaccount['accountID']) } data, account, updates = sfv._do_clone_volume( src_vol.id, dst_vol, sf_src_snap=self.fake_sfsnaps[0]) self.assertEqual({'result': {}, 'id': 1}, data) self.assertEqual(25, account['accountID']) self.assertEqual(self.fake_sfvol['volumeID'], int(updates['provider_id'].split()[0])) mock_get_create_account.assert_called_with(dst_vol.project_id) calls = [mock.call('CloneVolume', clone_vol_params, version='6.0'), mock.call('ModifyVolume', {'volumeID': 6})] mock_issue_api_request.assert_has_calls(calls) mock_test_set_cluster_pairs.assert_not_called() mock_update_attributes.assert_not_called() mock_get_model_info.assert_called_once() mock_snapshot_discovery.assert_not_called() @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_retrieve_qos_setting') @mock.patch.object(solidfire.SolidFireDriver, '_extract_sf_attributes_from_extra_specs') def test_get_default_volume_params( self, mock_extract_sf_attributes_from_extra_specs, mock_retrieve_qos_setting, mock_get_create_account): mock_extract_sf_attributes_from_extra_specs.return_value = [{ 'key1': 'value1', 'key2': 'value2' }] mock_retrieve_qos_setting.return_value = None mock_get_create_account.return_value = self.fake_sfaccount ctx = context.get_admin_context() type_fields = {'extra_specs': {'replication_enabled': '<is> True'}} vol_type = fake_volume.fake_volume_type_obj(ctx, **type_fields) utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': fakes.FAKE_UUID, 'created_at': utc_now, 'volume_type': vol_type, 'volume_type_id': vol_type.id } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) vol_name = '%s%s' % (self.configuration.sf_volume_prefix, vol.id) expected_attr = { 'uuid': vol.id, 'is_clone': False, 'created_at': utc_now + ""+00:00"", 'cinder-name': vol.get('display_name', """"), 'key1': 'value1', 'key2': 'value2', } expected_params = { 'name': vol_name, 'accountID': self.fake_sfaccount['accountID'], 'sliceCount': 1, 'totalSize': int(vol.size * units.Gi), 'enable512e': self.configuration.sf_emulate_512, 'attributes': expected_attr, 'qos': None } sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True params = sfv._get_default_volume_params(vol, False) self.assertDictEqual(expected_params, params) mock_extract_sf_attributes_from_extra_specs.assert_called() mock_retrieve_qos_setting.assert_called() mock_get_create_account.assert_called() @mock.patch.object(solidfire.SolidFireDriver, '_get_sfvol_by_cinder_vref') def test_disable_replication_fail(self, mock_get_sfvol_by_cinder_vref): self.fake_sfvol['volumePairs'] = [] mock_get_sfvol_by_cinder_vref.return_value = self.fake_sfvol ctx = context.get_admin_context() utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': f_uuid, 'created_at': utc_now } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs expected = {'replication_status': fields.ReplicationStatus.DISABLED} updates = sfv._disable_replication(vol) self.assertDictEqual(expected, updates) @mock.patch.object(solidfire.SolidFireDriver, '_get_sfvol_by_cinder_vref') @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') def test_disable_replication(self, mock_create_cluster_reference, mock_issue_api_request, mock_get_sfvol_by_cinder_vref): mock_create_cluster_reference.return_value = { 'mvip': self.mvip, 'svip': self.svip} self.fake_sfvol['volumePairs'] = [{""remoteVolumeID"": 26}] mock_get_sfvol_by_cinder_vref.return_value = self.fake_sfvol ctx = context.get_admin_context() utc_now = timeutils.utcnow().isoformat() vol_fields = { 'id': f_uuid, 'created_at': utc_now } vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True sfv.cluster_pairs = self.cluster_pairs sfv.active_cluster['mvip'] = self.mvip sfv.active_cluster['svip'] = self.svip expected = {'replication_status': fields.ReplicationStatus.DISABLED} mock_issue_api_request.reset_mock() updates = sfv._disable_replication(vol) self.assertDictEqual(expected, updates) expected = [ mock.call(""RemoveVolumePair"", {'volumeID': self.fake_sfvol['volumeID']}, '8.0'), mock.call(""RemoveVolumePair"", {'volumeID': 26}, '8.0', endpoint=sfv.cluster_pairs[0]['endpoint']), mock.call(""DeleteVolume"", {'volumeID': 26}, endpoint=sfv.cluster_pairs[0]['endpoint']), mock.call(""PurgeDeletedVolume"", {'volumeID': 26}, endpoint=sfv.cluster_pairs[0]['endpoint']) ] mock_issue_api_request.assert_has_calls(expected) mock_create_cluster_reference.assert_called() mock_get_sfvol_by_cinder_vref.assert_called() @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') @mock.patch.object(solidfire.SolidFireDriver, '_set_cluster_pairs') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') @mock.patch.object(solidfire.SolidFireDriver, '_get_cluster_info') @mock.patch.object(solidfire.SolidFireDriver, '_map_sf_volumes') @mock.patch.object(solidfire.SolidFireDriver, '_failover_volume') @mock.patch.object(solidfire.SolidFireDriver, '_get_create_account') @mock.patch.object(solidfire.SolidFireDriver, '_get_remote_info_by_id') def test_failover_host(self, mock_get_remote_info_by_id, mock_get_create_account, mock_failover_volume, mock_map_sf_volumes, mock_get_cluster_info, mock_update_cluster_status, mock_set_cluster_pairs, mock_create_cluster_reference, mock_issue_api_request): all_mocks = locals() def reset_mocks(): for mk in all_mocks.values(): if isinstance(mk, mock.MagicMock): mk.reset_mock() ctx = context.get_admin_context() vol_fields = {'updated_at': timeutils.utcnow(), 'created_at': timeutils.utcnow()} cinder_vols = [] sf_vols = [] for i in range(1, 6): vol = fake_volume.fake_volume_obj(ctx, **vol_fields) sf_vol = self.fake_sfvol.copy() sf_vol['volumeID'] = i sf_vol['name'] = '%s%s' % (self.configuration.sf_volume_prefix, vol.id) sf_vol['access'] = 'replicationTarget' sf_vol['attributes'] = {'uuid': vol.id} sf_vol['cinder_id'] = vol.id sf_vols.append(sf_vol) cinder_vols.append(vol) mock_map_sf_volumes.return_value = sf_vols mock_create_cluster_reference.return_value = self.cluster_pairs[0] fake_replication_device = {'backend_id': 'fake', 'mvip': '0.0.0.0', 'login': 'fake_login', 'password': 'fake_pwd'} self.configuration.replication_device = [fake_replication_device] reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.InvalidReplicationTarget, sfv.failover_host, ctx, cinder_vols, 'default', None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': 'default'} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.UnableToFailOver, sfv.failover_host, ctx, cinder_vols, 'default', None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) self.assertRaises(exception.InvalidReplicationTarget, sfv.failover_host, ctx, cinder_vols, secondary_id='not_fake_id', groups=None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) sfv.cluster_pairs = [None] self.assertRaises(exception.UnableToFailOver, sfv.failover_host, ctx, cinder_vols, secondary_id='fake', groups=None) mock_map_sf_volumes.assert_not_called() reset_mocks() drv_args = {'active_backend_id': None} sfv = solidfire.SolidFireDriver(configuration=self.configuration, **drv_args) sfv.cluster_pairs = self.cluster_pairs sfv.cluster_pairs[0]['backend_id'] = 'fake' sfv.replication_enabled = True cluster_id, updates, _ = sfv.failover_host( ctx, cinder_vols, secondary_id='fake', groups=None) self.assertEqual(5, len(updates)) for update in updates: self.assertEqual(fields.ReplicationStatus.FAILED_OVER, update['updates']['replication_status']) self.assertEqual('fake', cluster_id) mock_get_create_account.assert_called() mock_failover_volume.assert_called() mock_map_sf_volumes.assert_called() mock_get_cluster_info.assert_not_called() mock_update_cluster_status.assert_called() mock_set_cluster_pairs.assert_called() mock_create_cluster_reference.assert_called() mock_issue_api_request.assert_not_called() @mock.patch.object(solidfire.SolidFireDriver, '_issue_api_request') @mock.patch.object(solidfire.SolidFireDriver, '_create_cluster_reference') @mock.patch.object(solidfire.SolidFireDriver, '_update_cluster_status') def test_failover_volume(self, mock_update_cluster_status, mock_create_cluster_reference, mock_issue_api_request): all_mocks = locals() def reset_mocks(): for mk in all_mocks.values(): if isinstance(mk, mock.MagicMock): mk.reset_mock() mock_issue_api_request.return_value = self.fake_sfaccount sfv = solidfire.SolidFireDriver(configuration=self.configuration) sfv.replication_enabled = True fake_src_sfvol = {'volumeID': 600, 'name': 'test_volume', 'accountID': 25, 'sliceCount': 1, 'totalSize': 1 * units.Gi, 'enable512e': True, 'access': ""replicationTarget"", 'status': ""active"", 'attributes': {'uuid': f_uuid[0]}, 'qos': None, 'iqn': 'super_fake_iqn'} expected_src_params = {'volumeID': fake_src_sfvol['volumeID'], 'access': 'replicationTarget'} expected_tgt_params = {'volumeID': self.fake_sfvol['volumeID'], 'access': 'readWrite'} sfv._failover_volume(self.fake_sfvol, self.cluster_pairs[0], fake_src_sfvol) mock_issue_api_request.assert_has_calls( [mock.call(""ModifyVolume"", expected_src_params), mock.call(""ModifyVolume"", expected_tgt_params, endpoint=self.cluster_pairs[0]['endpoint'])] ) reset_mocks() sfv._failover_volume(self.fake_sfvol, self.cluster_pairs[0]) mock_issue_api_request.assert_called_with( ""ModifyVolume"", expected_tgt_params, endpoint=self.cluster_pairs[0]['endpoint'] )"," self.configuration = conf.Configuration(None) self.mock_volume = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': 'fast', 'created_at': timeutils.utcnow(), 'attributes': {'uuid': '262b9ce2-a71a-4fbe-830c-c20c5596caea'}} return testsnap = {'project_id': 'testprjid', 'name': 'testvol', 'volume_size': 1, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow(), 'provider_id': '8 99 None'} 'prefix-testprjid'}]): testvol = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'a720b3c0-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} testvol_b = {'project_id': 'testprjid', 'name': 'testvol', 'size': 1, 'id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'volume_type_id': None, 'created_at': timeutils.utcnow()} testvol = {'project_id': 'testprjid', self.assertTrue(sfv.retype(self.ctxt, testvol, type_ref, diff, host)) testvol = {'project_id': 'testprjid', self.assertTrue(sfv.retype(self.ctxt, testvol, test_type, diff, host)) testvol = {'project_id': 'testprjid', proj_id, sf_vol_object = sfv.create_volume(testvol) def _fake_issue_api_req(method, params, version=0): sfv.cluster_pairs = [{'cluster_id': 'fake-id', 'cluster_mvip': 'fake-mvip'}] self.assertEqual('fake-id', sfv._set_rep_by_volume_type( ctxt, type_id)['targets']['cluster_id']) sfv.cluster_pairs = ( [{'uniqueID': 'lu9f', 'endpoint': {'passwd': 'admin', 'port': 443, 'url': 'https://192.168.139.102:443', 'svip': '10.10.8.134', 'mvip': '192.168.139.102', 'login': 'admin'}, 'name': 'AutoTest2-6AjG-FOR-TEST-ONLY', 'clusterPairID': 33, 'uuid': '9c499d4b-8fff-48b4-b875-27601d5d9889', 'svip': '10.10.23.2', 'mvipNodeID': 1, 'repCount': 1, 'encryptionAtRestState': 'disabled', 'attributes': {}, 'mvip': '192.168.139.102', 'ensemble': ['10.10.5.130'], 'svipNodeID': 1}]) return_value={'provider_id': '1 2 xxxx'}): self.assertEqual({'provider_id': '1 2 xxxx'}, sfv._replicate_volume( {'project_id': 1, 'volumeID': 1}, {'attributes': {}}, {'initiatorSecret': 'shhh', 'targetSecret': 'dont-tell'}, {})) return_value=None),\",1425,341
openstack%2Fcinder~stable%2Ftrain~I4223624d00c713ab6b129ed278147f1c89995567,openstack/cinder,stable/train,I4223624d00c713ab6b129ed278147f1c89995567,"Add ""service token"" documentation",MERGED,2019-10-02 20:30:14.000000000,2019-10-05 08:57:17.000000000,2019-10-04 05:14:38.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-02 20:30:14.000000000', 'files': ['cinder/opts.py', 'doc/source/configuration/index.rst', 'tools/config/generate_cinder_opts.py', 'doc/source/configuration/block-storage/service-token.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba014f672f2999476a1b7aedee2ded3bfa7bf569', 'message': 'Add ""service token"" documentation\n\nAdds a doc about configuring and troubleshooting a service user\nto send service tokens.\n\nAlso adds the config necessary for successful use of a service token\nto the sample configuration file.  Only adds keystone v3 options\nbecause v3 is required for service tokens.  Lists the service user\noptions before the session conf opts because the former are required\nwhile the latter are less likely to be changed.\n\nCloses-bug: #1837449\n\nChange-Id: I4223624d00c713ab6b129ed278147f1c89995567\n(cherry picked from commit bdf59306f7e188cb57c75b5336a0626cd8038cf9)\n'}]",0,686286,ba014f672f2999476a1b7aedee2ded3bfa7bf569,51,15,1,11904,,,0,"Add ""service token"" documentation

Adds a doc about configuring and troubleshooting a service user
to send service tokens.

Also adds the config necessary for successful use of a service token
to the sample configuration file.  Only adds keystone v3 options
because v3 is required for service tokens.  Lists the service user
options before the session conf opts because the former are required
while the latter are less likely to be changed.

Closes-bug: #1837449

Change-Id: I4223624d00c713ab6b129ed278147f1c89995567
(cherry picked from commit bdf59306f7e188cb57c75b5336a0626cd8038cf9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/686286/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/configuration/index.rst', 'tools/config/generate_cinder_opts.py', 'doc/source/configuration/block-storage/service-token.rst']",4,ba014f672f2999476a1b7aedee2ded3bfa7bf569,bug/1837449-stable/train,"========================================================= Using service tokens to prevent long-running job failures ========================================================= When a user initiates a request whose processing involves multiple services (for example, a boot-from-volume request to the Compute Service will require processing by the Block Storage Service, and may require processing by the Image Service), the user's token is handed from service to service. This ensures that the requestor is tracked correctly for audit purposes and also guarantees that the requestor has the appropriate permissions to do what needs to be done by the other services. If the chain of operations takes a long time, however, the user's token may expire before the action is completed, leading to the failure of the user's original request. One way to deal with this is to set a long token life in Keystone, and this may be what you are currently doing. But this can be problematic for installations whose security policies prefer short user token lives. Beginning with the Queens release, an alternative solution is available. You have the ability to configure some services (particularly Nova and Cinder) to send a ""service token"" along with the user's token. When properly configured, the Identity Service will validate an expired user token *when it is accompanied by a valid service token*. Thus if the user's token expires somewhere during a long running chain of operations among various OpenStack services, the operations can continue. .. note:: There's nothing special about a service token. It's a regular token that has been requested by a service user. And there's nothing special about a service user, it's just a user that has been configured in the Identity Service to have specific roles that identify that user as a service. The key point here is that the ""service token"" doesn't need to have an extra long life -- it can have the same short life as all the other tokens because it will be a **fresh** (and hence valid) token accompanying the (possibly expired) user's token. .. _service-token-configuration: Configuration ~~~~~~~~~~~~~ To configure Cinder to send a ""service token"" along with the user's token when it makes a request to another service, you must do the following: 1. Find the ``[service_user]`` section in the Cinder configuration file (usually ``/etc/cinder/cinder.conf``, though it may be in a different location in your installation). 2. In that section, set ``send_service_user_token = true``. 3. Also in that section, fill in the appropriate configuration for your service user (``username``, ``project_name``, etc.) .. note:: There is no configuration required for a service to *receive* service tokens. This is automatically handled by the keystone middleware used by each service (beginning with the Pike release). (The previous statement is true for the default configuration. It is possible for someone to change some settings so that service tokens will be ignored. See the :ref:`service-token-troubleshooting` section below.) .. _service-token-troubleshooting: Troubleshooting ~~~~~~~~~~~~~~~ If you've configured this feature and are still having long-running job failures, there are basically three degrees of freedom to take into account: (1) each source service, (2) each receiving service, and (3) the Identity Service (Keystone). 1. Each source service (basically, Nova and Cinder) must have the ``[service_user]`` section in the **source service** configuration file filled in as described in the :ref:`service-token-configuration` section above. .. note:: As of the Train release, Glance does not have the ability to pass service tokens. It can receive them, though. The place where you may still see a long running failure is when Glance is using a backend that requires Keystone validation (for example, the Swift backend) and the user token has expired. 2. Each receiving service, by default, is set up to accept service tokens. There are two options to be aware of, however, that can affect whether or not a receiving service (for example, Glance) will actually accept service tokens. These appear in the ``[keystone_authtoken]`` section of the **receiving service** configuration file (for example, ``/etc/glance/glance-api.conf``). ``service_token_roles`` The value is a list of roles; the service user passing the service token must have at least one of these roles or the token will be rejected. (But see the next option.) The default value is ``service``. ``service_token_roles_required`` This is a boolean; the default value is ``false``. It governs whether the keystone middleware used by the receiving service will pay any attention to the ``service_token_roles`` setting. (Eventually the default is supposed to become True, but it's still False as of Stein.) 3. There are several things to pay attention to in Keystone: * If you've decided to turn on ``service_token_roles_required`` for any of the receiving services, then you must make sure that any service user who will be contacting that receiving service (and for whom you want to enable ""service token"" usage) has one of the roles specified in the receiving services's ``service_token_roles`` setting. (This is a matter of creating and assigning roles using the Identity Service API, it's not a configuration file issue.) * Even with a service token, an expired user token cannot be used indefinitely. There's a Keystone configuration setting that controls this: ``[token]/allow_expired_window`` in the **Keystone** configuration file. The default setting is 2 days, so some security teams may want to lower this just on general principles. You need to make sure it's not set too low to be completely ineffective. * If you are using Fernet tokens, you need to be careful with your Fernet key rotation period. Whoever sets up the key rotation has to pay attention to the ``[token]/allow_expired_window`` setting as well as the obvious ``[token]/expiration`` setting. If keys get rotated faster than ``expiration`` + ``allow_expired_window`` seconds, an expired user token might not be decryptable, even though the request using it is being made within ``allow_expired_window`` seconds. To summarize, you need to be aware of: * Keystone: must allow a decent sized ``allow_expired_window`` (default is 2 days) * Each source service: must be configured to be able to create and send service tokens (default is OFF) * Each receiving service: has to be configured to accept service tokens (default is ON) ",,145,1
openstack%2Fcinder~master~Icf04b1c515c766edc037ba6f4bfba5b370faebbe,openstack/cinder,master,Icf04b1c515c766edc037ba6f4bfba5b370faebbe,LINSTOR driver update for LINSTOR v0.9.12 with REST API,MERGED,2019-07-08 14:44:39.000000000,2019-10-05 08:56:19.000000000,2019-10-04 21:46:48.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28940}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-07-08 14:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56e090ea7593686a85de7f860e4040dc32c07e30', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend and\nremoves protobuf messages.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}, {'number': 2, 'created': '2019-07-09 14:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0469110645867634b00257fb2150965484f1eb5d', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend and\nremoves protobuf messages.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}, {'number': 3, 'created': '2019-07-09 17:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f06bff5e99cb6f71b3189c66db8c491c6c4b875e', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend and\nremoves protobuf messages.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}, {'number': 4, 'created': '2019-07-09 20:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f05fc1b8a743950ed12e37017c09b7b64827216', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend and\nremoves protobuf messages.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}, {'number': 5, 'created': '2019-10-01 15:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/095b4a9ab98bb501da440a798cdaef5b4e0a74da', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend and\nremoves protobuf messages.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}, {'number': 6, 'created': '2019-10-01 17:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f89240056cc294e7968ce72facbd17b3a4eb07a6', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}, {'number': 7, 'created': '2019-10-02 18:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13cd5ee8d015a3b46fb1d5495a2f20b0a9c5e584', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}, {'number': 8, 'created': '2019-10-02 19:27:17.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_linstordrv.py', 'driver-requirements.txt', 'releasenotes/notes/drbd-linstor-rest-update-52fd52f6c09a4dd3.yaml', 'cinder/volume/drivers/linstordrv.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/92b43f9c68fc124c502a4f765d4074c5febd86e1', 'message': 'LINSTOR driver update for LINSTOR v0.9.12 with REST API\n\nLINSTOR driver for Cinder now supports the latest\nversion of LINSTOR with REST API on the backend.\n\nChange-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe\n'}]",10,669690,92b43f9c68fc124c502a4f765d4074c5febd86e1,238,40,8,28940,,,0,"LINSTOR driver update for LINSTOR v0.9.12 with REST API

LINSTOR driver for Cinder now supports the latest
version of LINSTOR with REST API on the backend.

Change-Id: Icf04b1c515c766edc037ba6f4bfba5b370faebbe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/669690/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_linstordrv.py', 'releasenotes/notes/releasenotes/notes/drbd-linstor-rest-update-52fd52f6c09a4dd3.yaml', 'driver-requirements.txt', 'cinder/volume/drivers/linstordrv.py']",4,56e090ea7593686a85de7f860e4040dc32c07e30,,"# Copyright (c) 2014-2019 LINBIT HA Solutions GmbHSee https://docs.linbit.com/docs/users-guide-9.0/#ch-openstack-linstor 'specifies the block size.'), cfg.IntOpt('linstor_autoplace_count', default=0, help='Autoplace replication count on volume deployment. ' '0 = Full cluster replication without autoplace, ' '1 = Single node deployment without replication, ' '2 or greater = Replicated deployment with autoplace.'),DISKLESS = 'DISKLESS' LVM = 'LVM' LVM_THIN = 'LVM_THIN' ZFS = 'ZFS' ZFS_THIN = 'ZFS_THIN' """"""Cinder driver that uses LINSTOR for storage. Version history: .. code-block:: none 1.0.0 - Initial driver 1.0.1 - Added support for LINSTOR 0.9.12 """""" VERSION = '1.0.1' self.ap_count = self.configuration.safe_get( 'linstor_autoplace_count') api_reply = lin.resource_list()[0].__dict__['_rest_data'] if api_reply: return api_reply else: return None api_reply = lin.resource_dfn_list()[0].__dict__['_rest_data'] if api_reply: return api_reply else: return None def _get_api_node_list(self): api_reply = lin.node_list()[0].__dict__['_rest_data'] if api_reply: return api_reply else: return None api_reply = lin.storage_pool_dfn_list()[0].__dict__['_rest_data'] if api_reply: return api_reply else: return None api_reply = lin.storage_pool_list()[0].__dict__['_rest_data'] if api_reply: return api_reply else: return None def _api_snapshot_create(self, drbd_rsc_name, snapshot_name): lin = linstor.Resource(drbd_rsc_name, uri=self.default_uri) snap_reply = lin.snapshot_create(snapshot_name) return snap_reply def _api_snapshot_delete(self, drbd_rsc_name, snapshot_name): lin = linstor.Resource(drbd_rsc_name, uri=self.default_uri) snap_reply = lin.snapshot_delete(snapshot_name) return snap_reply def _api_rsc_autoplace(self, rsc_name): with lin_drv(self.default_uri) as lin: if not lin.connected: lin.connect() new_rsc = linstor.Resource(name=rsc_name, uri=self.default_uri) new_rsc.placement.redundancy = self.ap_count new_rsc.placement.storage_pool = self.default_pool rsc_reply = new_rsc.autoplace() return rsc_reply lin = linstor.Resource(src_rsc_name, uri=self.default_uri) new_rsc = lin.restore_from_snapshot(src_snap_name, new_vol_name) # Adds an aux/property KV for synchronous return from snapshot restore aux_prop = {} aux_prop[""Aux/restore""] = ""done"" lin.volume_dfn_modify( rsc_name=new_vol_name, volume_nr=0, set_properties=aux_prop) if new_rsc.name == new_vol_name: return True return False for rsc in rsc_list_reply: if rsc[""name""] == rsc_name and rsc[""node_name""] == self.host_name: for volume in rsc[""volumes""]: if volume[""volume_number""] == 0: return volume[""device_path""] for spd in spd_list_reply: spd_list.append(spd[""storage_pool_name""]) sp_list = [] for node in sp_list_reply: if node[""storage_pool_name""] == self.default_pool: sp_node[""node_name""] = node[""node_name""] sp_node[""sp_uuid""] = node[""uuid""] sp_node[""sp_name""] = node[""storage_pool_name""] if node[""provider_kind""] == DISKLESS: sp_node[""sp_free""] = -1.0 sp_node[""sp_cap""] = -1.0 sp_node[""sp_allocated""] = 0.0 if ""free_capacity"" in node: sp_node[""sp_free""] = round( int(node[""free_capacity""]) / sp_node[""sp_cap""] = round( int(node[""total_capacity""]) / drivers = [LVM, LVM_THIN, ZFS, ZFS_THIN, DISKLESS] # Driver selection if node[""provider_kind""] in drivers: sp_node['driver_name'] = node[""provider_kind""] else: sp_node['driver_name'] = str(node[""provider_kind""]) # Add the diskless nodes to the end of the list if sp_diskless_list: sp_list.extend(sp_diskless_list) data[""vendor_name""] = ""LINBIT"" # allocated_sizes_gb = [] free_gb = [] total_gb = [] # Total & Free capacity for Local Node if ""Diskless"" not in sp[""driver_name""]: thin_backends = [LVM_THIN, ZFS_THIN] if sp[""driver_name""] in thin_backends: if ""sp_cap"" in sp: if sp[""sp_cap""] >= 0.0: total_gb.append(sp[""sp_cap""]) if ""sp_free"" in sp: if sp[""sp_free""] >= 0.0: free_gb.append(sp[""sp_free""]) # Allocated capacity sp_allocated_size_gb = 0.0 local_resources = [] reply = self._get_api_resource_list() if reply: for rsc in reply: if rsc[""node_name""] == self.host_name: local_resources.append(rsc[""name""]) for rsc_name in local_resources: rsc = linstor.Resource(str(rsc_name)) if not rsc.is_diskless(self.host_name): sp_allocated_size_gb += round( int(rsc.volumes[0].size) / units.Gi, 2) single_pool[""free_capacity_gb""] = min(free_gb) if free_gb else 0 single_pool[""total_capacity_gb""] = min(total_gb) if total_gb else 0 single_pool[""provisioned_capacity_gb""] = sp_allocated_size_gb single_pool[""thin_provisioning_support""] = thin_enabled single_pool[""thick_provisioning_support""] = not thin_enabled single_pool[""max_over_subscription_ratio""] = ( single_pool[""backend_state""] = ""up"" rd_list_reply = self._get_api_resource_dfn_list() if rd_list_reply: for node in rd_list_reply: if DM_VN_PREFIX in node['name']: rd_node[""rd_uuid""] = node['uuid'] rd_node[""rd_name""] = node['name'] rsc_list_reply = self._get_api_resource_list() if rsc_list_reply: for rsc in rsc_list_reply: if rsc[""name""] != resource: continue # Diskless nodes are not available for snapshots diskless = False if ""flags"" in rsc: if 'DISKLESS' in rsc[""flags""]: diskless = True if not diskless: snap_list.append(rsc[""node_name""]) def _get_diskless_nodes(self, resource): # Returns diskless nodes given a resource rsc_list_reply = self._get_api_resource_list() diskless_list = [] if rsc_list_reply: for rsc in rsc_list_reply: if rsc[""name""] != resource: continue if ""flags"" in rsc: if DISKLESS in rsc[""flags""]: diskless_list.append(rsc[""node_name""]) return diskless_list def _get_linstor_nodes(self): # Returns all available LINSTOR nodes node_list_reply = self._get_api_node_list() if node_list_reply: for node in node_list_reply: node_list.append(node[""name""]) # Returns all LINSTOR nodes in a dict list node_list_reply = self._get_api_node_list() if node_list_reply: for node in node_list_reply: node_item[""node_name""] = node[""name""] node_item[""node_address""] = ( node[""net_interfaces""][0][""address""]) rsc_name = self._drbd_resource_name_from_cinder_snapshot(snapshot) snap_reply = self._api_snapshot_create(drbd_rsc_name=rsc_name, if not snap_reply: snapshot_name = self._snapshot_name_from_cinder_snapshot(snapshot) rsc_name = self._drbd_resource_name_from_cinder_snapshot(snapshot) snap_reply = self._api_snapshot_delete(rsc_name, snapshot_name) if not snap_reply: msg = 'ERROR deleting a LINSTOR snapshot {}'.format(snapshot_name) if not self._get_snapshot_nodes(rsc_name): self._api_rsc_dfn_delete(rsc_name) # If no autoplace, manually build a cluster list if self.ap_count == 0: diskless_nodes = [] nodes = [] for node in self._get_storage_pool(): if DISKLESS in node['driver_name']: diskless_nodes.append(node['node_name']) continue # Filter out controller node if it is diskless if self.diskless and node['node_name'] == self.host_name: continue else: nodes.append(node['node_name']) reply = self._api_snapshot_resource_restore(src_rsc_name, if not reply: msg = _('Error on restoring a LINSTOR volume') # Add any other diskless nodes only if not autoplaced if self.ap_count == 0 and diskless_nodes: for node in diskless_nodes: self._api_rsc_create(rsc_name=new_vol_name, node_name=node, diskless=True) failed_volume = {} # Create Storage Pool spd_name = spd_list[0] if not self._check_api_reply(sp_reply, noerror_only=True): # Check for RD if not self._check_api_reply(rsc_dfn_reply, noerror_only=True): if not self._check_api_reply(vd_reply, noerror_only=True): # Use autoplace to deploy if set if self.ap_count: try: self._api_rsc_autoplace(rsc_name=rsc_name) except Exception: msg = _(""Error creating autoplaces LINSTOR resource(s)"") # Otherwise deploy across the entire cluster else: for node in sp_data: # Deploy resource on each node if DISKLESS in node['driver_name']: diskless = True else: diskless = False rsc_reply = self._api_rsc_create(rsc_name=rsc_name, node_name=node['node_name'], diskless=diskless) if not self._check_api_reply(rsc_reply, noerror_only=True): msg = _(""Error creating a LINSTOR resource"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) msg = _(""Error creating a LINSTOR controller resource"") diskful_nodes = self._get_snapshot_nodes(drbd_rsc_name) diskless_nodes = self._get_diskless_nodes(drbd_rsc_name) # If autoplace was used, use Resource class if self.ap_count: new_rsc = linstor.Resource(drbd_rsc_name, self.default_uri) rsc_reply = new_rsc.delete() if not rsc_reply: msg = _(""Error deleting an autoplaced LINSTOR resource"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Delete all resources in a cluster manually if not autoplaced else: if rsc_list_reply: # Remove diskless nodes first if diskless_nodes: for node in diskless_nodes: rsc_reply = self._api_rsc_delete( node_name=node, rsc_name=drbd_rsc_name) if not self._check_api_reply(rsc_reply, noerror_only=True): msg = _(""Error deleting a diskless LINSTOR rsc"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Remove diskful nodes if diskful_nodes: for node in diskful_nodes: rsc_reply = self._api_rsc_delete( node_name=node, rsc_name=drbd_rsc_name) if not self._check_api_reply(rsc_reply, noerror_only=True): msg = _(""Error deleting a LINSTOR resource"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Delete VD vd_reply = self._api_volume_dfn_delete(drbd_rsc_name, 0) if not vd_reply: if not self._check_api_reply(vd_reply): msg = _(""Error deleting a LINSTOR volume definition"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Delete RD # Will fail if snapshot exists but expected self._api_rsc_dfn_delete(drbd_rsc_name) msg = _(""ERROR extending a LINSTOR volume"") # self.create_volume(volume) already called by Cinder, and works # This creates a LINSTOR volume from the source image """"""Cinder iSCSI driver that uses LINSTOR for storage."""""" self.helper_name = self.configuration.safe_get('iscsi_helper') """"""Cinder DRBD driver that uses LINSTOR for storage.""""""","# Copyright (c) 2014-2018 LINBIT HA Solutions GmbHSee https://docs.linbit.com/docs/users-guide-9.0/#ch-openstack import google.protobuf.json_format as proto except ImportError: proto = None try: 'specifies the block size'),LVM = 'Lvm' LVMTHIN = 'LvmThin' """"""Cinder driver that uses Linstor for storage."""""" VERSION = '1.0.0' response = proto.MessageToDict(lin.resource_list()[0].proto_msg) return response response = proto.MessageToDict( lin.resource_dfn_list()[0].proto_msg) return response def _get_api_nodes_list(self): response = proto.MessageToDict(lin.node_list()[0].proto_msg) return response response = proto.MessageToDict( lin.storage_pool_dfn_list()[0].proto_msg) return response response = proto.MessageToDict( lin.storage_pool_list()[0].proto_msg) return response def _api_snapshot_create(self, node_names, rsc_name, snapshot_name): with lin_drv(self.default_uri) as lin: if not lin.connected: lin.connect() snap_reply = lin.snapshot_create(node_names=node_names, rsc_name=rsc_name, snapshot_name=snapshot_name, async_msg=False) return snap_reply def _api_snapshot_delete(self, drbd_rsc_name, snap_name): with lin_drv(self.default_uri) as lin: if not lin.connected: lin.connect() snap_reply = lin.snapshot_delete(rsc_name=drbd_rsc_name, snapshot_name=snap_name) return snap_reply nodes, rsc_reply = lin.snapshot_resource_restore( node_names=nodes, from_resource=src_rsc_name, from_snapshot=src_snap_name, to_resource=new_vol_name) return rsc_reply for rsc in rsc_list_reply['resources']: if rsc['name'] == rsc_name and rsc['nodeName'] == self.host_name: for volume in rsc['vlms']: if volume['vlmNr'] == 0: return volume['devicePath'] for node in spd_list_reply['storPoolDfns']: spd_item = {} spd_item['spd_uuid'] = node['uuid'] spd_item['spd_name'] = node['storPoolName'] spd_list.append(spd_item) # Fetch Resource Definition List sp_list = [] for node in sp_list_reply['storPools']: if node['storPoolName'] == self.default_pool: sp_node['node_uuid'] = node['nodeUuid'] sp_node['node_name'] = node['nodeName'] sp_node['sp_uuid'] = node['storPoolUuid'] sp_node['sp_name'] = node['storPoolName'] sp_node['sp_vlms_uuid'] = [] if 'vlms' in node: for vlm in node['vlms']: sp_node['sp_vlms_uuid'].append(vlm['vlmDfnUuid']) if 'Diskless' in node['driver']: sp_node['sp_free'] = -1.0 sp_node['sp_cap'] = 0.0 if 'freeSpace' in node: sp_node['sp_free'] = round( int(node['freeSpace']['freeCapacity']) / sp_node['sp_cap'] = round( int(node['freeSpace']['totalCapacity']) / # Driver if node['driver'] == ""LvmDriver"": sp_node['driver_name'] = LVM elif node['driver'] == ""LvmThinDriver"": sp_node['driver_name'] = LVMTHIN else: sp_node['driver_name'] = node['driver'] # Add the diskless nodes to the end of the list if sp_diskless_list: sp_list.extend(sp_diskless_list) data[""vendor_name""] = 'LINBIT' allocated_sizes_gb = [] free_capacity_gb = [] total_capacity_gb = [] # Free capacity for Local Node if 'Diskless' not in sp['driver_name']: if 'LvmThin' in sp['driver_name']: if 'sp_cap' in sp: if sp['sp_cap'] >= 0.0: total_capacity_gb.append(sp['sp_cap']) if 'sp_free' in sp: if sp['sp_free'] >= 0.0: free_capacity_gb.append(sp['sp_free']) sp_allocated_size_gb = 0 for vlm_uuid in sp['sp_vlms_uuid']: for rd in rd_list: if 'vlm_dfn_uuid' in rd: if rd['vlm_dfn_uuid'] == vlm_uuid: sp_allocated_size_gb += rd['rd_size'] allocated_sizes_gb.append(sp_allocated_size_gb) single_pool[""free_capacity_gb""] = min(free_capacity_gb) single_pool[""total_capacity_gb""] = min(total_capacity_gb) single_pool['provisioned_capacity_gb'] = max(allocated_sizes_gb) single_pool['thin_provisioning_support'] = thin_enabled single_pool['thick_provisioning_support'] = not thin_enabled single_pool['max_over_subscription_ratio'] = ( single_pool[""backend_state""] = 'up' rd_list_reply = self._get_api_resource_dfn_list() # Only if resource definition present if 'rscDfns' in rd_list_reply: for node in rd_list_reply['rscDfns']: if DM_VN_PREFIX in node['rscName']: rd_node['rd_uuid'] = node['rscDfnUuid'] rd_node['rd_name'] = node['rscName'] rd_node['rd_port'] = node['rscDfnPort'] if 'vlmDfns' in node: for vol in node['vlmDfns']: if vol['vlmNr'] == 0: rd_node['vlm_dfn_uuid'] = vol['vlmDfnUuid'] rd_node['rd_size'] = round( float(vol['vlmSize']) / units.Mi, 2) break rsc_list_reply = self._get_api_resource_list() # reply in dict for rsc in rsc_list_reply['resources']: if rsc['name'] != resource: continue # Diskless nodes are not available for snapshots diskless = False if 'rscFlags' in rsc: if 'DISKLESS' in rsc['rscFlags']: diskless = True if not diskless: snap_list.append(rsc['nodeName']) def _get_linstor_nodes(self): # Returns all available DRBD nodes node_list_reply = self._get_api_nodes_list() for node in node_list_reply['nodes']: node_list.append(node['name']) # Get Node List node_list_reply = self._get_api_nodes_list() if node_list_reply: for node in node_list_reply['nodes']: node_item['node_name'] = node['name'] node_item['node_uuid'] = node['uuid'] node_item['node_address'] = ( node['netInterfaces'][0]['address']) drbd_rsc_name = self._drbd_resource_name_from_cinder_snapshot(snapshot) node_names = self._get_snapshot_nodes(drbd_rsc_name) snap_reply = self._api_snapshot_create(node_names=node_names, rsc_name=drbd_rsc_name, if not self._check_api_reply(snap_reply, noerror_only=True): snap_name = self._snapshot_name_from_cinder_snapshot(snapshot) drbd_rsc_name = self._drbd_resource_name_from_cinder_snapshot(snapshot) snap_reply = self._api_snapshot_delete(drbd_rsc_name, snap_name) if not self._check_api_reply(snap_reply, noerror_only=True): msg = 'ERROR deleting a LINSTOR snapshot {}'.format(snap_name) if not self._get_snapshot_nodes(drbd_rsc_name): self._api_rsc_dfn_delete(drbd_rsc_name) # New RD rsc_reply = self._api_rsc_dfn_create(new_vol_name) if not self._check_api_reply(rsc_reply): msg = _('Error on creating LINSTOR Resource Definition') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # New VD from Snap reply = self._api_snapshot_volume_dfn_restore(src_rsc_name, src_snap_name, new_vol_name) if not self._check_api_reply(reply, noerror_only=True): msg = _('Error on restoring LINSTOR Volume Definition') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Set StorPoolName property on VD reply = self._api_volume_dfn_set_sp(new_vol_name) if not self._check_api_reply(reply): msg = _('Error on restoring LINSTOR Volume StorPoolName property') LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # New RSC from Snap # Assumes restoring to all the nodes containing the storage pool # unless diskless nodes = [] for node in self._get_storage_pool(): if 'Diskless' in node['driver_name']: continue # Filter out controller node if LINSTOR is diskless if self.diskless and node['node_name'] == self.host_name: continue else: nodes.append(node['node_name']) reply = self._api_snapshot_resource_restore(nodes, src_rsc_name, if not self._check_api_reply(reply, noerror_only=True): msg = _('Error on restoring LINSTOR resources') failed_volume = [] rsc_size = 1 # Create Storage Pool (definition is implicit) spd_name = spd_list[0]['spd_name'] if not self._check_api_reply(sp_reply): # # Check for RD if not self._check_api_reply(rsc_dfn_reply, noerror_only=True): if not self._check_api_reply(vd_reply, noerror_only=True): # Create resources and, # Check only errors when creating diskless resources if 'Diskless' in node['driver_name']: diskless = True else: diskless = False rsc_reply = self._api_rsc_create(rsc_name=rsc_name, node_name=node['node_name'], diskless=diskless) if not self._check_api_reply(rsc_reply, noerror_only=True): msg = _(""Error creating a LINSTOR resource"") msg = _(""Error creating a LINSTOR resource"") if rsc_list_reply: # Delete Resources for rsc in rsc_list_reply['resources']: if rsc['name'] != drbd_rsc_name: continue rsc_reply = self._api_rsc_delete( node_name=rsc['nodeName'], rsc_name=drbd_rsc_name) if not self._check_api_reply(rsc_reply, noerror_only=True): msg = _(""Error deleting a LINSTOR resource"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Delete VD vd_reply = self._api_volume_dfn_delete(drbd_rsc_name, 0) if not vd_reply: if not self._check_api_reply(vd_reply): msg = _(""Error deleting a LINSTOR volume definition"") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Delete RD # Will fail if snapshot exists but expected self._api_rsc_dfn_delete(drbd_rsc_name) msg = _(""ERROR Linstor Volume Extend"") # self.create_volume(volume) already called by Cinder, and works. # Need to check return values # This creates a LINSTOR volume at the original size. if proto is None: msg = _('Protobuf python package not found') """"""Cinder iSCSI driver that uses Linstor for storage."""""" self.helper_name = self.configuration.safe_get('target_helper') """"""Cinder DRBD driver that uses Linstor for storage.""""""",925,758
openstack%2Ftrove~stable%2Fstein~I17796a7154de8694740724f98d1b7b329328b4ac,openstack/trove,stable/stein,I17796a7154de8694740724f98d1b7b329328b4ac,Update UPPER_CONSTRAINTS_FILE for stable/stein,ABANDONED,2019-03-22 16:26:26.000000000,2019-10-05 08:34:02.000000000,,"[{'_account_id': 6732}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-22 16:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f7623fa2087abed81d265903fb3ce7d11c14cecf', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I17796a7154de8694740724f98d1b7b329328b4ac\n'}, {'number': 2, 'created': '2019-04-11 00:18:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/c8387ea4aeb3cb348b54a67d497bb0b507b4f881', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I17796a7154de8694740724f98d1b7b329328b4ac\n'}]",0,645647,c8387ea4aeb3cb348b54a67d497bb0b507b4f881,28,5,2,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I17796a7154de8694740724f98d1b7b329328b4ac
",git fetch https://review.opendev.org/openstack/trove refs/changes/47/645647/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f7623fa2087abed81d265903fb3ce7d11c14cecf,create-stein, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} \, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} \,1,1
openstack%2Fcinder~stable%2Fqueens~I1f9546c39ea05abe524e6f38395754d331b201cd,openstack/cinder,stable/queens,I1f9546c39ea05abe524e6f38395754d331b201cd,Add retry to LVM deactivation,MERGED,2019-10-03 17:50:39.000000000,2019-10-05 08:33:02.000000000,2019-10-04 09:06:59.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-03 17:50:39.000000000', 'files': ['cinder/brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0f1018f204a242ab025caa1e0e2dd9f3a0ec499', 'message': ""Add retry to LVM deactivation\n\nWe are seeing occassional failures to deactivate logical volumes in\ntempest runs. We retry on the wait for the state change, but we if that\ndoesn't succeed we just give up.\n\nThis adds a retry to the whole deactivation process to see if requesting\nagain has better luck deactivating the volume.\n\nChange-Id: I1f9546c39ea05abe524e6f38395754d331b201cd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 49f3c57d977e009f715ba21dc7175c931bbb3f70)\n(cherry picked from commit 1e3a08addffd9d38a83f8a498cc7f9f88c7adc21)\n""}]",0,686455,c0f1018f204a242ab025caa1e0e2dd9f3a0ec499,38,20,1,11904,,,0,"Add retry to LVM deactivation

We are seeing occassional failures to deactivate logical volumes in
tempest runs. We retry on the wait for the state change, but we if that
doesn't succeed we just give up.

This adds a retry to the whole deactivation process to see if requesting
again has better luck deactivating the volume.

Change-Id: I1f9546c39ea05abe524e6f38395754d331b201cd
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 49f3c57d977e009f715ba21dc7175c931bbb3f70)
(cherry picked from commit 1e3a08addffd9d38a83f8a498cc7f9f88c7adc21)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/686455/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/brick/local_dev/lvm.py'],1,c0f1018f204a242ab025caa1e0e2dd9f3a0ec499,lvm_deactivate-stable/rocky-stable/queens," @utils.retry(exception.VolumeNotDeactivated, retries=1, interval=2) LOG.exception('Error deactivating LV, retry may be possible')", LOG.exception('Error deactivating LV'),2,1
openstack%2Fneutron-vpnaas-dashboard~master~Ia87dfe719b4030f8d50a6802f590354da339b9d8,openstack/neutron-vpnaas-dashboard,master,Ia87dfe719b4030f8d50a6802f590354da339b9d8,"Fix help text for ""Authorization algorithm""",MERGED,2019-09-24 11:04:10.000000000,2019-10-05 07:56:53.000000000,2019-10-05 07:55:35.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-24 11:04:10.000000000', 'files': ['neutron_vpnaas_dashboard/dashboards/project/vpn/templates/vpn/_add_ike_policy_help.html'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/b3e37ba44db2136578b1cbf9d6accd505f0f68af', 'message': 'Fix help text for ""Authorization algorithm""\n\nThe pull request https://review.opendev.org/#/c/625442/ enabled the user\nto select new hashing algorithms to create the VPN client. However, one\nof the old help texts was left behind. This PR is simply proposing the\nremoval of an outdated help text.\n\nChange-Id: Ia87dfe719b4030f8d50a6802f590354da339b9d8\n'}]",0,684276,b3e37ba44db2136578b1cbf9d6accd505f0f68af,8,3,1,28356,,,0,"Fix help text for ""Authorization algorithm""

The pull request https://review.opendev.org/#/c/625442/ enabled the user
to select new hashing algorithms to create the VPN client. However, one
of the old help texts was left behind. This PR is simply proposing the
removal of an outdated help text.

Change-Id: Ia87dfe719b4030f8d50a6802f590354da339b9d8
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/76/684276/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/dashboards/project/vpn/templates/vpn/_add_ike_policy_help.html'],1,b3e37ba44db2136578b1cbf9d6accd505f0f68af,fixHelpTextauthorizationAlgorithm,, <dd>{% trans 'Auth algorithm limited to SHA1 only.' %}</dd>,0,1
openstack%2Fopenstacksdk~stable%2Ftrain~Ib47bdc98ffa63ec70b89169574cb03057beecb42,openstack/openstacksdk,stable/train,Ib47bdc98ffa63ec70b89169574cb03057beecb42,Use has_service in functional test's require_service,MERGED,2019-10-04 12:57:40.000000000,2019-10-05 07:49:21.000000000,2019-10-05 07:48:11.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-10-04 12:57:40.000000000', 'files': ['openstack/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/57ec4c436a7f3bb676716f788b099d77ae50f5f1', 'message': ""Use has_service in functional test's require_service\n\nUnder the covers we want to use has_service, which respects the\noverall sdk infrastructure for skipping unnecessary discovery.\n\nChange-Id: Ib47bdc98ffa63ec70b89169574cb03057beecb42\n""}]",0,686599,57ec4c436a7f3bb676716f788b099d77ae50f5f1,9,3,1,2,,,0,"Use has_service in functional test's require_service

Under the covers we want to use has_service, which respects the
overall sdk infrastructure for skipping unnecessary discovery.

Change-Id: Ib47bdc98ffa63ec70b89169574cb03057beecb42
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/99/686599/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/base.py'],1,57ec4c436a7f3bb676716f788b099d77ae50f5f1,fix-auth-discovery," if not self.conn.has_service(service_type): data = self.conn.session.get_endpoint_data( service_type=service_type, **kwargs) ","from keystoneauth1 import exceptions as _exceptions # TODO(shade) Replace this with call to conn.has_service when we've merged # the shade methods into Connection. try: data = self.conn.session.get_endpoint_data( service_type=service_type, **kwargs) except _exceptions.EndpointNotFound:",4,7
openstack%2Fkeystone~master~Id2ad40947135fef73005d5f03d28882b68638579,openstack/keystone,master,Id2ad40947135fef73005d5f03d28882b68638579,Update token definitions,MERGED,2019-10-03 17:30:24.000000000,2019-10-05 07:34:49.000000000,2019-10-05 07:33:13.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 13063}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 17:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/10427eab43585429f5908866e8c84eb5f73b15f4', 'message': ""Update token definitions\n\nWe're in the process of overhauling the RBAC documentation in keystone\nThe token-overview.rst doc contains some nice context about\nauthorization scopes and it's already in the administrator guide.\n\nThis commit updates the details about each scope and try to make it a\nlittle easier to read.\n\nI plan on linking to this document from the new RBAC document.\n\nChange-Id: Id2ad40947135fef73005d5f03d28882b68638579\n""}, {'number': 2, 'created': '2019-10-04 19:43:45.000000000', 'files': ['doc/source/admin/tokens-overview.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3b6accf18307ab07c6b0b4b5bec4d0666d1994ef', 'message': ""Update token definitions\n\nWe're in the process of overhauling the RBAC documentation in keystone\nThe token-overview.rst doc contains some nice context about\nauthorization scopes and it's already in the administrator guide.\n\nThis commit updates the details about each scope and try to make it a\nlittle easier to read.\n\nI plan on linking to this document from the new RBAC document.\n\nChange-Id: Id2ad40947135fef73005d5f03d28882b68638579\n""}]",7,686448,3b6accf18307ab07c6b0b4b5bec4d0666d1994ef,13,5,2,5046,,,0,"Update token definitions

We're in the process of overhauling the RBAC documentation in keystone
The token-overview.rst doc contains some nice context about
authorization scopes and it's already in the administrator guide.

This commit updates the details about each scope and try to make it a
little easier to read.

I plan on linking to this document from the new RBAC document.

Change-Id: Id2ad40947135fef73005d5f03d28882b68638579
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/686448/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/tokens-overview.rst'],1,10427eab43585429f5908866e8c84eb5f73b15f4,,"Tokens are used to authenticate and authorize your interactions with OpenStack APIs. Tokens come in many scopes, representing various authorization and sources of identity.Tokens are used to relay information about your role assignments. It's not uncommon for a user to have multiple role assignments, sometimes spanningscopes, where a token has a single scope of operation (e.g., a project, domain, or the system). For example, a token scoped to a project can't be reused to do something else in a different project.An unscoped token does not contain a service catalog, roles, or authorization scope (e.g., project, domain, or system attributes within the token). Their primary use case is simply to prove your identity to keystone at a later time (usually to generate scoped tokens), without repeatedly presenting your original credentials.Projects are containers for resources, like volumes or instances.tenancy of the cloud and are useful for things like spinning up compute resources or carving off block storage. They contain a service catalog, a set of roles, and information about the project. Most end-users need role assignments on projects to consume resources in a deployment.Domains are containers for projects, users, and groups. A domain-scoped token expresses your authorization to operate on the contents of a domain or the domain itself. While some OpenStack services are still adopting the domain concept, domains are fully supported in keystone. This means users with authorization on a domain have the ability to manage things within the domain. For example, a domain administrator can create new users and projects within that domain. Domain-scoped tokens contain a service catalog, roles, and information about the domain. People who need to manage users and projects typically need domain-level access.Some OpenStack APIs fit nicely within the concept of projects (e.g., creating an instance) or domains (e.g., creating a new user), but there are also APIs that affect the entire deployment system (e.g. modifying endpoints, service management, or listing information about hypervisors). These options are typically reserved for operators and require system-scoped tokens, whichwhole. The term *system* refers to the deployment system, which is a collection of hardware (e.g., compute nodes) and services (e.g., nova, cinder, neutron, barbican, keystone) that provide Infrastructure-as-a-Service. System-scoped tokens contain a service catalog, roles, and information about the *system*. System role assignments and system-scoped tokens are typically reserved for operators and cloud administrators.","Tokens are used to authenticate and authorize your interactions with the various OpenStack APIs. Tokens come in many scopes, representing various authorization and sources of identity.Tokens are used to relay information about your user's role assignments. It's not uncommon for a user to have multiple role assignments, sometimes spanningscopes, where a token has a single scope of operation. For example, a token scoped to a project can't be reused to do something else in a different project.An unscoped token contains neither a service catalog, any roles, a project scope, nor a domain scope. Their primary use case is simply to prove your identity to keystone at a later time (usually to generate scoped tokens), without repeatedly presenting your original credentials.tenancy of the cloud and are useful to authenticate yourself when working with most other services. They contain a service catalog, a set of roles, and details of the project upon which you have authorization.Domain-scoped tokens have limited use cases in OpenStack. They express your authorization to operate a domain-level, above that of the user and projects contained therein (typically as a domain-level administrator). Depending on Keystone's configuration, they are useful for working with a single domain in Keystone. They contain a limited service catalog (only those services which do not explicitly require per-project endpoints), a set of roles, and details of the project upon which you have authorization. They can also be used to work with domain-level concerns in other services, such as to configure domain-wide quotas that apply to all users or projects in a specific domain.There are APIs across OpenStack that fit nicely within the concept of a project or domain, but there are also APIs that affect the entire deployment system (e.g. modifying endpoints, service management, or listing information about hypervisors). These operations require the use of a system-scoped token, whichwhole.",43,32
openstack%2Fkolla-ansible~master~Iedc99feac6378f40cc9c1bdd9f273a9fb1a80d24,openstack/kolla-ansible,master,Iedc99feac6378f40cc9c1bdd9f273a9fb1a80d24,Update .gitreview for stable/train,ABANDONED,2019-10-05 00:44:50.000000000,2019-10-05 07:21:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-05 00:44:50.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96ebde7f728a87f412997b985a17baf4553c8f9a', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Iedc99feac6378f40cc9c1bdd9f273a9fb1a80d24\n'}]",0,686852,96ebde7f728a87f412997b985a17baf4553c8f9a,3,1,1,30092,,,0,"Update .gitreview for stable/train

Change-Id: Iedc99feac6378f40cc9c1bdd9f273a9fb1a80d24
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/686852/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,96ebde7f728a87f412997b985a17baf4553c8f9a,,defaultbranch=stable/train,,1,0
openstack%2Fcinder~stable%2Ftrain~I9e975b526d469265b154a5b251844f3967a5e626,openstack/cinder,stable/train,I9e975b526d469265b154a5b251844f3967a5e626,"3PAR: For Peer Persistence, add policy options in RCG",MERGED,2019-10-03 18:16:04.000000000,2019-10-05 07:08:32.000000000,2019-10-04 04:50:17.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29122}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-03 18:16:04.000000000', 'files': ['releasenotes/notes/hpe-3par-pp-rcg-policy-options-53271f38c315779f.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a1a003e64de6d0131012ab7c946051a8640c0b3', 'message': '3PAR: For Peer Persistence, add policy options in RCG\n\nThis fix aims to resolve below mentioned bug:\nhttps://bugs.launchpad.net/cinder/+bug/1845483\n\nFor quorum witness to work properly, following options are\nadded after Remote Copy Group (RCG) is created: autoFailover,\npathManagement, autoRecover\n\nCloses bug: #1845483\n\nChange-Id: I9e975b526d469265b154a5b251844f3967a5e626\n(cherry picked from commit 5ddf6208503138d19aba7e024e9830171c92664b)\n'}]",0,686460,1a1a003e64de6d0131012ab7c946051a8640c0b3,37,17,1,5314,,,0,"3PAR: For Peer Persistence, add policy options in RCG

This fix aims to resolve below mentioned bug:
https://bugs.launchpad.net/cinder/+bug/1845483

For quorum witness to work properly, following options are
added after Remote Copy Group (RCG) is created: autoFailover,
pathManagement, autoRecover

Closes bug: #1845483

Change-Id: I9e975b526d469265b154a5b251844f3967a5e626
(cherry picked from commit 5ddf6208503138d19aba7e024e9830171c92664b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/686460/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe-3par-pp-rcg-policy-options-53271f38c315779f.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,1a1a003e64de6d0131012ab7c946051a8640c0b3,bug/1845483-stable/train," # Check if we are in sync mode and quorum_witness_ip is present. # If yes, add options for Peer Persistence (PP) quorum_witness_ip = None if replication_mode_num == self.SYNC: remote_target = self._replication_targets[0] quorum_witness_ip = remote_target.get('quorum_witness_ip') if quorum_witness_ip: LOG.debug('setting pp_params') pp_params = {'targets': [ {'policies': {'autoFailover': True, 'pathManagement': True, 'autoRecover': True}}]} try: self.client.modifyRemoteCopyGroup(rcg_name, pp_params) except Exception as ex: msg = (_(""There was an error while modifying remote "" ""copy group: %s."") % six.text_type(ex)) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) ",,120,0
openstack%2Fopenstack-ansible-os_cinder~master~I8fa6375f9657816ac4e3d9fb02c3e9c0831ac424,openstack/openstack-ansible-os_cinder,master,I8fa6375f9657816ac4e3d9fb02c3e9c0831ac424,Update .gitreview for stable/train,ABANDONED,2019-10-05 00:46:31.000000000,2019-10-05 07:04:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-05 00:46:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/ac018dce5baf415ba82e52b080beb598354e3bc6', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I8fa6375f9657816ac4e3d9fb02c3e9c0831ac424\n'}]",1,686854,ac018dce5baf415ba82e52b080beb598354e3bc6,4,2,1,30092,,,0,"Update .gitreview for stable/train

Change-Id: I8fa6375f9657816ac4e3d9fb02c3e9c0831ac424
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/54/686854/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ac018dce5baf415ba82e52b080beb598354e3bc6,,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-ansible-nspawn_hosts~master~I2c0f3030628fb9c51f692ca60c864fe7462e0c9d,openstack/openstack-ansible-nspawn_hosts,master,I2c0f3030628fb9c51f692ca60c864fe7462e0c9d,Update .gitreview for stable/train,ABANDONED,2019-10-05 00:47:52.000000000,2019-10-05 07:03:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-05 00:47:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/c6251cb9cffd44e2e374874ebee8cdc793f7661d', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I2c0f3030628fb9c51f692ca60c864fe7462e0c9d\n'}]",1,686855,c6251cb9cffd44e2e374874ebee8cdc793f7661d,4,2,1,30092,,,0,"Update .gitreview for stable/train

Change-Id: I2c0f3030628fb9c51f692ca60c864fe7462e0c9d
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/55/686855/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c6251cb9cffd44e2e374874ebee8cdc793f7661d,,defaultbranch=stable/train,,1,0
openstack%2Ftripleo-ci~master~I7abfa67486608458b2b146193fba6a21d7359606,openstack/tripleo-ci,master,I7abfa67486608458b2b146193fba6a21d7359606,ovb: overrides deploy timeout from 90 to 120,MERGED,2019-10-04 15:41:02.000000000,2019-10-05 06:53:58.000000000,2019-10-05 06:53:57.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 15:41:02.000000000', 'files': ['toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02471cb0d259a32bc33c214d0344b9c3afe8975d', 'message': 'ovb: overrides deploy timeout from 90 to 120\n\nDepends-On: https://review.rdoproject.org/r/#/c/22943/\nChange-Id: I7abfa67486608458b2b146193fba6a21d7359606\n'}]",0,686750,02471cb0d259a32bc33c214d0344b9c3afe8975d,11,4,1,24162,,,0,"ovb: overrides deploy timeout from 90 to 120

Depends-On: https://review.rdoproject.org/r/#/c/22943/
Change-Id: I7abfa67486608458b2b146193fba6a21d7359606
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/50/686750/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb.yml'],1,02471cb0d259a32bc33c214d0344b9c3afe8975d,, # overrides default timeout of 90min deploy_timeout: 120,,3,0
openstack%2Fswift~master~I54a203bb637d5f5814e8df2b4297758b0b72adac,openstack/swift,master,I54a203bb637d5f5814e8df2b4297758b0b72adac,tests: bust md5 of object not footers,MERGED,2019-05-03 19:53:56.000000000,2019-10-05 05:39:42.000000000,2019-10-05 05:38:27.000000000,"[{'_account_id': 597}, {'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 19:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/76ae3de09cd70f7ea2a5fcdd2aa21c4e13b84f3e', 'message': 'tests: bust md5 of object not footers\n\nThe test test_PUT_ec_fragment_quorum_archive_etag_mismatch\nbusts the md5 in server.py, so it ends damaging the md5 of\nfooters instead of the fragment archive. It appears that the\nintention of the test was to check the integrity verification\nfor fragment archive, so change the test to bust diskfile.py\ninstead.\n\nChange-Id: I54a203bb637d5f5814e8df2b4297758b0b72adac\n'}, {'number': 2, 'created': '2019-05-03 21:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5407fdbdd936f00e5df55cad645d4c0b73b3140d', 'message': 'tests: bust md5 of object not footers\n\nThe test test_PUT_ec_fragment_quorum_archive_etag_mismatch\nbusts the md5 in server.py, so it ends damaging the md5 of\nfooters instead of the fragment archive. It appears that the\nintention of the test was to check the integrity verification\nfor fragment archive, so change the test to bust diskfile.py\ninstead.\n\nIn an unexpected turn, now that the test works properly, we\nhave to exclude it from the mem_server. Hmmm.\n\nChange-Id: I54a203bb637d5f5814e8df2b4297758b0b72adac\n'}, {'number': 3, 'created': '2019-10-05 04:25:03.000000000', 'files': ['test/unit/proxy/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bb5fa0ea2e5be9d7537f31091015e816796499ba', 'message': 'tests: bust md5 of object not footers\n\nThe test test_PUT_ec_fragment_quorum_archive_etag_mismatch\nbusts the md5 in server.py, so it ends damaging the md5 of\nfooters instead of the fragment archive. It appears that the\nintention of the test was to check the integrity verification\nfor fragment archive, so change the test to bust diskfile.py\ninstead.\n\nChange-Id: I54a203bb637d5f5814e8df2b4297758b0b72adac\n'}]",5,657022,bb5fa0ea2e5be9d7537f31091015e816796499ba,14,4,3,597,,,0,"tests: bust md5 of object not footers

The test test_PUT_ec_fragment_quorum_archive_etag_mismatch
busts the md5 in server.py, so it ends damaging the md5 of
footers instead of the fragment archive. It appears that the
intention of the test was to check the integrity verification
for fragment archive, so change the test to bust diskfile.py
instead.

Change-Id: I54a203bb637d5f5814e8df2b4297758b0b72adac
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/657022/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/test_server.py'],1,76ae3de09cd70f7ea2a5fcdd2aa21c4e13b84f3e,test/obj-md5," with mock.patch('swift.obj.diskfile.md5', busted_md5_constructor), \"," with mock.patch('swift.obj.server.md5', busted_md5_constructor), \",1,1
openstack%2Fswift~feature%2Flosf~I5eb60d51b880a8e8f0578f870f6f237b61a29857,openstack/swift,feature/losf,I5eb60d51b880a8e8f0578f870f6f237b61a29857,Merge remote-tracking branch 'origin/master' into feature/losf,MERGED,2019-10-05 04:04:16.000000000,2019-10-05 05:39:38.000000000,2019-10-05 05:38:26.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 04:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bfa8e9feb51f2b10adfec3a741661a76fcf73216', 'message': ""Merge remote-tracking branch 'origin/master' into feature/losf\n\nChange-Id: I5eb60d51b880a8e8f0578f870f6f237b61a29857\n""}]",0,686864,bfa8e9feb51f2b10adfec3a741661a76fcf73216,7,2,1,15343,,,0,"Merge remote-tracking branch 'origin/master' into feature/losf

Change-Id: I5eb60d51b880a8e8f0578f870f6f237b61a29857
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/686864/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,bfa8e9feb51f2b10adfec3a741661a76fcf73216,merge-from-master,,,0,0
openstack%2Fneutron~master~I5fd394c2deb4446e21e092ea490791cc5bbc5669,openstack/neutron,master,I5fd394c2deb4446e21e092ea490791cc5bbc5669,Remove QoS related objects unneeded compatibility conversions,MERGED,2019-05-09 16:56:46.000000000,2019-10-05 05:34:51.000000000,2019-10-05 05:33:09.000000000,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-09 16:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7b28ab6ceb3ff879b9b5f0f8fcc14d795b39718', 'message': 'Remove QoS related objects unneeded compatibility conversions\n\nChange-Id: I5fd394c2deb4446e21e092ea490791cc5bbc5669\nRelated-Bug: #1828437\n'}, {'number': 2, 'created': '2019-05-10 11:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/485e008192a48c9326de94aaa11850a79a37788a', 'message': 'Remove QoS related objects unneeded compatibility conversions\n\nChange-Id: I5fd394c2deb4446e21e092ea490791cc5bbc5669\nRelated-Bug: #1828437\n'}, {'number': 3, 'created': '2019-05-22 11:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93e7d655767af6078dabd070d5cfb162f5512d6d', 'message': 'Remove QoS related objects unneeded compatibility conversions\n\nChange-Id: I5fd394c2deb4446e21e092ea490791cc5bbc5669\nRelated-Bug: #1828437\n'}, {'number': 4, 'created': '2019-05-22 11:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3811f97d7375e6ca4135821cda6b26b9b64a2572', 'message': 'Remove QoS related objects unneeded compatibility conversions\n\nLast changes affecting to object compatibility, done in those OVOs:\n* QoSPolicy: https://review.opendev.org/#/c/428304/, 2y ago.\n* QosBandwidthLimitRule: https://review.opendev.org/#/c/449831/,\n  2y 1m ago\n* QosDscpMarkingRule: https://review.opendev.org/#/c/300501/,\n  2y 10m ago\n* QosMinimumBandwidthRule: https://review.opendev.org/#/c/344145/,\n  2y 8m ago\n* QosRuleType: https://review.opendev.org/#/c/475260/, 1y 10m ago\n\nChange-Id: I5fd394c2deb4446e21e092ea490791cc5bbc5669\nRelated-Bug: #1828437\n'}, {'number': 5, 'created': '2019-05-23 11:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a7046ce25efa8e62194c0687363780db0ff55ba', 'message': 'Remove QoS related objects unneeded compatibility conversions\n\nLast changes affecting to object compatibility, done in those OVOs:\n* QoSPolicy: https://review.opendev.org/#/c/428304/, 2y ago.\n* QosBandwidthLimitRule: https://review.opendev.org/#/c/449831/,\n  2y 1m ago\n* QosDscpMarkingRule: https://review.opendev.org/#/c/300501/,\n  2y 10m ago\n* QosMinimumBandwidthRule: https://review.opendev.org/#/c/344145/,\n  2y 8m ago\n* QosRuleType: https://review.opendev.org/#/c/475260/, 1y 10m ago\n\nChange-Id: I5fd394c2deb4446e21e092ea490791cc5bbc5669\nRelated-Bug: #1828437\n'}, {'number': 6, 'created': '2019-09-27 12:07:50.000000000', 'files': ['neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/objects/qos/test_rule_type.py', 'neutron/objects/qos/rule.py', 'neutron/objects/qos/rule_type.py', 'neutron/tests/unit/objects/qos/test_rule.py', 'neutron/objects/qos/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db3001a7a2fe038704f1f74667f0019f833ba867', 'message': 'Remove QoS related objects unneeded compatibility conversions\n\nLast changes affecting to object compatibility, done in those OVOs:\n* QoSPolicy: https://review.opendev.org/#/c/428304/, 2y 4m ago.\n* QosBandwidthLimitRule: https://review.opendev.org/#/c/449831/,\n  2y 5m ago\n* QosDscpMarkingRule: https://review.opendev.org/#/c/300501/,\n  3y 3m ago\n* QosMinimumBandwidthRule: https://review.opendev.org/#/c/344145/,\n  3y ago\n* QosRuleType: https://review.opendev.org/#/c/475260/, 2y 3m ago\n\nChange-Id: I5fd394c2deb4446e21e092ea490791cc5bbc5669\nRelated-Bug: #1828437\n'}]",3,658155,db3001a7a2fe038704f1f74667f0019f833ba867,109,10,6,16688,,,0,"Remove QoS related objects unneeded compatibility conversions

Last changes affecting to object compatibility, done in those OVOs:
* QoSPolicy: https://review.opendev.org/#/c/428304/, 2y 4m ago.
* QosBandwidthLimitRule: https://review.opendev.org/#/c/449831/,
  2y 5m ago
* QosDscpMarkingRule: https://review.opendev.org/#/c/300501/,
  3y 3m ago
* QosMinimumBandwidthRule: https://review.opendev.org/#/c/344145/,
  3y ago
* QosRuleType: https://review.opendev.org/#/c/475260/, 2y 3m ago

Change-Id: I5fd394c2deb4446e21e092ea490791cc5bbc5669
Related-Bug: #1828437
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/658155/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/objects/qos/test_rule_type.py', 'neutron/objects/qos/rule.py', 'neutron/objects/qos/rule_type.py', 'neutron/tests/unit/objects/qos/test_rule.py', 'neutron/objects/qos/policy.py']",6,a7b28ab6ceb3ff879b9b5f0f8fcc14d795b39718,bug/1828437,,"from neutron_lib import constants as n_constfrom oslo_versionedobjects import exception def obj_make_compatible(self, primitive, target_version): def filter_rules(obj_names, rules): return [rule for rule in rules if rule['versioned_object.name'] in obj_names] def filter_ingress_bandwidth_limit_rules(rules): bwlimit_obj_name = rule_obj_impl.QosBandwidthLimitRule.obj_name() filtered_rules = [] for rule in rules: if rule['versioned_object.name'] == bwlimit_obj_name: direction = rule['versioned_object.data'].get(""direction"") if direction == n_const.EGRESS_DIRECTION: rule['versioned_object.data'].pop('direction') filtered_rules.append(rule) else: filtered_rules.append(rule) return filtered_rules _target_version = versionutils.convert_version_to_tuple(target_version) names = [] if _target_version >= (1, 0): names.append(rule_obj_impl.QosBandwidthLimitRule.obj_name()) if _target_version >= (1, 1): names.append(rule_obj_impl.QosDscpMarkingRule.obj_name()) if _target_version >= (1, 2): names.append(rule_obj_impl.QosMinimumBandwidthRule.obj_name()) if 'rules' in primitive and names: primitive['rules'] = filter_rules(names, primitive['rules']) if _target_version < (1, 3): standard_fields = ['revision_number', 'created_at', 'updated_at'] for f in standard_fields: primitive.pop(f) if primitive['description'] is None: # description was not nullable before raise exception.IncompatibleObjectVersion( objver=target_version, objname='QoSPolicy') if _target_version < (1, 4): primitive['tenant_id'] = primitive.pop('project_id') if _target_version < (1, 5): if 'rules' in primitive: primitive['rules'] = filter_ingress_bandwidth_limit_rules( primitive['rules']) if _target_version < (1, 6): primitive.pop('is_default', None) ",0,251
openstack%2Fmanila~master~If1cd0e0d5a85303db6af9c03e856a4318ec18f8a,openstack/manila,master,If1cd0e0d5a85303db6af9c03e856a4318ec18f8a,update readme linkk,ABANDONED,2019-10-05 02:01:41.000000000,2019-10-05 04:56:47.000000000,,[{'_account_id': 15831}],"[{'number': 1, 'created': '2019-10-05 02:01:41.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/2a5303b6385c1f886824c386b7f764a8ba6380d3', 'message': 'update readme linkk\n\nChange-Id: If1cd0e0d5a85303db6af9c03e856a4318ec18f8a\n'}]",0,686857,2a5303b6385c1f886824c386b7f764a8ba6380d3,3,1,1,30092,,,0,"update readme linkk

Change-Id: If1cd0e0d5a85303db6af9c03e856a4318ec18f8a
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/686857/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2a5303b6385c1f886824c386b7f764a8ba6380d3,,`HACKING.rst <https://opendev.org/openstack/manila/src/branch/master/HACKING.rst>`_https://opendev.org/openstack/python-manilaclient.git,`HACKING.rst <https://git.openstack.org/cgit/openstack/manila/tree/HACKING.rst>`_https://git.openstack.org/cgit/openstack/python-manilaclient.git,2,2
openstack%2Fcinder~master~I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60,openstack/cinder,master,I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60,NetApp SolidFire: Add options for replication mode,MERGED,2019-09-20 18:59:19.000000000,2019-10-05 04:27:02.000000000,2019-10-03 22:14:42.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30002}, {'_account_id': 30555}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-20 18:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fa2ca8cef2a8a3643b6db99195db3c5d9f23be8', 'message': 'NetApp SolidFire: Add options for replication mode\n\nThis adds the option to specify the replication mode as:\nSynchronous, Asynchronous or SnapshotOnly.\n\nDepends-On: I920f958db1d48e52b548082d852c03f427a279ca\nChange-Id: I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60\n'}, {'number': 2, 'created': '2019-09-27 13:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85f6ba5f64aa7d5cb14139c20f3b2e42aff150c7', 'message': 'NetApp SolidFire: Add options for replication mode\n\nThis adds the option to specify the replication mode as:\nSynchronous, Asynchronous or SnapshotOnly.\n\nDepends-On: I920f958db1d48e52b548082d852c03f427a279ca\nChange-Id: I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60\n'}, {'number': 3, 'created': '2019-10-02 17:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf1b53643d55277a70861f1835f6895c5a2e8e16', 'message': 'NetApp SolidFire: Add options for replication mode\n\nThis adds the option to specify the replication mode as:\nSynchronous, Asynchronous or SnapshotOnly.\n\nDepends-On: I920f958db1d48e52b548082d852c03f427a279ca\nChange-Id: I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60\n'}, {'number': 4, 'created': '2019-10-03 02:27:56.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/netapp-solidfire-add-replication-mode-eb26535d0ec78cb4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddc91052e4eb58c2686e9ccc9aaa90e5fa13bbd5', 'message': 'NetApp SolidFire: Add options for replication mode\n\nThis adds the option to specify the replication mode as:\nSynchronous, Asynchronous or SnapshotOnly.\n\nDepends-On: I920f958db1d48e52b548082d852c03f427a279ca\nChange-Id: I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60\n'}]",6,683696,ddc91052e4eb58c2686e9ccc9aaa90e5fa13bbd5,158,37,4,29650,,,0,"NetApp SolidFire: Add options for replication mode

This adds the option to specify the replication mode as:
Synchronous, Asynchronous or SnapshotOnly.

Depends-On: I920f958db1d48e52b548082d852c03f427a279ca
Change-Id: I74d31e7a262f3a59f5e82c710f3ca5fd84e3ea60
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/683696/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/netapp-solidfire-add-replication-mode-eb26535d0ec78cb4.yaml']",3,1fa2ca8cef2a8a3643b6db99195db3c5d9f23be8,sf-replication,"--- upgrade: - | SolidFire supports Synchronous, Asynchronous and SnapshotsOnly replication modes, but when the replication was being managed by Cinder it would always set Asynchronous mode. This adds the option to use all these modes from Cinder as well.",,56,20
openstack%2Fhorizon~master~I3b81bf59fec9bfa48d55ae99f6ed8bc5df3317a8,openstack/horizon,master,I3b81bf59fec9bfa48d55ae99f6ed8bc5df3317a8,Imported Translations from Zanata,MERGED,2019-10-04 07:18:10.000000000,2019-10-05 04:09:14.000000000,2019-10-05 04:07:46.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-04 07:18:10.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d8aca9f7f17c1aab32ca323f49fa3de43307527a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3b81bf59fec9bfa48d55ae99f6ed8bc5df3317a8\n'}]",0,686531,d8aca9f7f17c1aab32ca323f49fa3de43307527a,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3b81bf59fec9bfa48d55ae99f6ed8bc5df3317a8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/686531/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",3,d8aca9f7f17c1aab32ca323f49fa3de43307527a,zanata/translations,,"# Benjamin ACH <benjamin_ach@hotmail.com>, 2016. #zanata # Grald LONLAS <g.lonlas@gmail.com>, 2016. #zanata # Marcellin Fom Tchassem <mf6510@att.com>, 2016. #zanata # Cdric Savignan <liced@liced.fr>, 2017. #zanata # Loic Nicolle <loic.nicolle@orange.com>, 2017. #zanata # Marcellin Fom Tchassem <mf6510@att.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: horizon\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-09-27 11:52+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-07-21 11:31+0000\n"" ""Last-Translator: Loic Nicolle <loic.nicolle@orange.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid """" ""(optional) Use the common Angular template as the basis of any Angular pages "" ""to minimize boilerplate code and to ensure that we use similar features/"" ""framing."" msgstr """" ""(Optionel) Comme base pour les pages Angular, bien vouloir utiliser le "" ""commun modle Angular, pour minimiser la rptition des codes et s'assurer "" ""de l'utilisation de pareilles fonctionnalits."" msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""10.0.1"" msgstr ""10.0.1"" msgid ""10.0.2"" msgstr ""10.0.2"" msgid ""11.0.0"" msgstr ""11.0.0"" msgid ""11.0.3"" msgstr ""11.0.3"" msgid ""8.0.1"" msgstr ""8.0.1"" msgid ""9.0.0"" msgstr ""9.0.0"" msgid ""9.1.0"" msgstr ""9.1.0"" msgid """" ""A Descriptor concept allows convenient passing of information that can "" ""globally identify an object, for use in generic views and actions."" msgstr """" ""Un concept descripteur permet le passage adquat d'informations qui peuvent "" ""globalement identifier un objet, pour usage dans les vues et actions "" ""communes."" msgid """" ""A Details page for a resource type (e.g. Images) may now use the Angular "" ""application-level registry to register views so developers may easily create "" ""or extend details views. In this implementation these views are presented as "" ""tabs within the Details page."" msgstr """" ""Une page dtaille pour un type particulier de ressource (I.e. Images) peut "" ""maintenant utiliser une application Angular de niveau registre, pour "" ""enregistrer les vues et permettre aux dveloppeurs de facilement crer ou "" ""ajouter des vues dtailles. Dans cette implementation, ces vues sont "" ""presentes sous forme d'onglets au sein de pages dtailles."" #, fuzzy msgid """" ""A directive (hz-details) provides the ability to intelligently display a set "" ""of views (typically for a Details context)."" msgstr """" ""Une directive (hz-details) permet d'afficher intelligemment un ensemble de "" ""vues (gnralement pour un contexte Dtails)."" #, fuzzy msgid """" ""A generic Details display parses the location to determine the resource "" ""type, and displays relevant details views for that type."" msgstr """" ""Un affichage gnrique Details analyse l'emplacement pour dterminer le type "" ""de ressource et affiche des vues de dtails pertinentes pour ce type."" msgid """" ""A new Profiler panel in the Developer dashboard is introduced. It integrates "" ""`osprofiler library <http://docs.openstack.org/developer/osprofiler/>`_ into "" ""horizon, thus implementing `blueprint openstack-profiler-at-developer-"" ""dashboard <https://blueprints.launchpad.net/horizon/+spec/openstack-profiler-"" ""at-developer-dashboard>`_. Initially profiler is disabled. To enable it the "" ""value ``OPENSTACK_PROFILER['enabled']`` has to be ``True``. This in turn can "" ""be achieved by copying files _9030_profiler_settings.py.example and "" ""_9030_profiler.py to openstack_dashboard/local/local_settings.d/"" ""_9030_profiler_settings.py and openstack_dashboard/local/enabled/"" ""_9030_profiler.py respectively. Also, by default it expects MongoDB cluster "" ""to be present on the same host where Keystone is located (say, in a Devstack "" ""VM). But it also can be configured with params with "" ""``OPENSTACK_PROFILER['notifier_connection_string]'`` and "" ""``OPENSTACK_PROFILER['receiver_connection_string']`` values. MongoDB should "" ""be installed `manually <https://docs.mongodb.com/manual/tutorial/install-"" ""mongodb-on-ubuntu/#install-mongodb-community-edition>`_ and allowed to "" ""receive requests on 0.0.0.0 interface."" msgstr ""Un nouveau panneau profileur"" msgid ""A shared Django template is now available for use by any Angular page."" msgstr """" ""Un modle partag de Django est maintenant disponible pour usage par toute "" ""page Angular."" msgid """" ""ANGULAR_FEATURES now allows for a key 'flavors_panel' to be specified as "" ""True or False indicating whether the Angular version of the panel is enabled."" msgstr """" ""ANGULAR_FEATURES permet dsormais de spcifier une cl 'flavors_panel' comme "" ""vrai ou Faux, indiquant si la version Angular du panneau est active."" msgid """" ""Add a new setting OVERVIEW_DAYS_RANGE. It defines the default date range in "" ""the Overview panel meters - either today minus N days (if the value is "" ""integer N), or from the beginning of the current month until today (if set "" ""to None). This setting is be used to limit the amount of data fetched by "" ""default when rendering the Overview panel. The default value is 1, which "" ""differs from the past behaviour, since it caused serious lags on large "" ""deployments."" msgstr """" ""Ajouter une nouvelle configuration OVERVIEW_DAYS_RANGE. Elle dfinit "" ""l'intervalle par dfaut de la date dans l'aperu du panneau de compteurs - "" ""soit le jour courant moins N jours (si la valeur est l'entier N), soit du "" ""dbut du mois courant jusqu'au jour courant (si la valeur est fixe  None). "" ""Cette configuration est utilise pour limiter la quantit de donnes "" ""tablies par dfaut lors de l'affichage de l'aperu. La valeur par dfaut "" ""est 1, laquelle est diffrente du comportement prcdent, puisqu'elle "" ""causait d'importants dcalages au cours de larges dploiements."" msgid """" ""Added ESLint for JavaScript linting, using the eslint-config-openstack "" ""rules. See `this <https://blueprints.launchpad.net/horizon/+spec/jscs-"" ""cleanup>`__ for more details."" msgstr """" ""Ajout de ESLint pour les listes JavaScript, utilisant les rgles reslint-"" ""config-openstack. Voir `this <https://blueprints.launchpad.net/horizon/+spec/"" ""jscs-cleanup>`__ pour plus de dtails."" msgid """" ""Added Karma for JavaScript testing. See `this <https://blueprints.launchpad."" ""net/horizon/+spec/karma>`__ for more details."" msgstr """" ""Ajout de Karma pour les tests de JavaScript. Voir `this <https://blueprints."" ""launchpad.net/horizon/+spec/karma>`__ pour plus de dtails."" msgid """" ""Added Keystone to Keystone (K2K) federation support in Horizon. If Keystone "" ""is configured with K2K and has service providers, the list of Keystone "" ""providers will appear in a dropdown. In local_settings.py you can optionally "" ""set the identity provider display name with ``KEYSTONE_PROVIDER_IDP_NAME`` "" ""or set the provider id that is used to compare with the other service "" ""providers ``KEYSTONE_PROVIDER_IDP_ID``. [`blueprint k2k-horizon <https://"" ""blueprints.launchpad.net/horizon/+spec/k2k-horizon>`_]."" msgstr """" ""Ajout du support de Kestone to Keystone (K2K) federation dans Horizon. Si "" ""Keystone est configur avec K2K et possde des fournisseurs de services, la "" ""liste des fournisseurs de Keystone apparatra dans un menu droulant. Dans "" ""local_settings.py vous pouvez optionnellement dfinir l'affichage du nom du "" ""service identit avec ``KEYSTONE_PROVIDER_IDP_NAME`` ou dfinir l'id du "" ""fournisseur utilis pour comparer avec d'autres fournisseurs de services "" ""``KEYSTONE_PROVIDER_IDP_ID``. [`blueprint k2k-horizon <https://blueprints."" ""launchpad.net/horizon/+spec/k2k-horizon>`_]."" msgid """" ""Added a new ``ANGULAR FEATURES`` dictionary to the settings. This allows "" ""simple toggling of new AngularJS features."" msgstr """" ""Ajout d'un nouveau dictionnaire ``ANGULAR FEATURES`` pour le paramtrage. "" ""Ceci permet l'activation de nouvelles fonctionnalits AngularJS."" msgid """" ""Added actions to easily associate LBaaS VIP with a floating IP. See `this "" ""<https://blueprints.launchpad.net/horizon/+spec/lbaas-vip-fip-associate>`__ "" ""for more details."" msgstr """" ""Ajout d'actions pour facilement associer LBaaS VIP avec une IP flottante. "" ""Voir `ici <https://blueprints.launchpad.net/horizon/+spec/lbaas-vip-fip-"" ""associate>`__ pour plus de dtails."" msgid ""Added mapping for Identity Provider and Protocol specific WebSSO."" msgstr """" ""Ajout du mappage pour les fournisseurs d'identit et le protocoles "" ""spcifique WebSSO."" msgid ""Added new Trove features."" msgstr ""Ajout des nouvelles fonctionnalits de Trove."" msgid ""Added support for shell job types and multiple Sahara improvements."" msgstr """" ""Ajout du support pour les jobs shell ainsi que plusieurs amliorations de "" ""Sahara."" msgid ""Added the Update Encryption action for encrypted volume types."" msgstr """" ""Ajout de l'action mise  jour du cryptage pour les types de volume crypts."" msgid """" ""Allow to override settings from local_settings.py with file snippets dropped "" ""into local_settings.d/ directory."" msgstr """" ""Permet de remplacer les configurations du fichier local_settings.py par des "" ""fragments de fichier supprims du fichier local_settings.d/ directory."" msgid """" ""Allows to attach ports during instance launch <https://blueprints.launchpad."" ""net/horizon/+spec/allow-launching-ports>"" msgstr """" ""Permets de connecter les ports lors du lancement de l'instance <https://"" ""blueprints.launchpad.net/horizon/+spec/allow-launching-ports>"" msgid """" ""Although it's not required, it's best to make your actions return promises "" ""with the expected structure."" msgstr """" ""Quoique pas requis, il serait mieux de faire retourner des promises par vos "" ""actions avec la structure prvue."" msgid """" ""An action-result service provides convenience methods for construction of "" ""the result, and for parsing of a resolved object"" msgstr """" ""Un service action-rsultat fournit les mthodes adquates pour la "" ""construction du rsultat, et pour l'analyse d'un objet rsolu"" msgid """" ""Angular actions now should return a promise that resolves with an object "" ""structured in a way to indicate what the action did (or didn't do)."" msgstr """" ""Les actions Angular devraient retourner une promise qui s'ajuste en fonction "" ""d'un objet structur tel qu'il puisse indiquer le rsultat de l'action."" msgid """" ""Angular components now exist to provide simple-to- configure panels and "" ""tables, based off of registry information about resources (e.g. Instances)."" msgstr """" ""Les composants Angular serviront  fournir de simples--configurs panneaux "" ""et tables, bass sur un registre d'informations sur les resources (i.e. "" ""Instances)."" msgid ""Bug Fixes"" msgstr ""Rsolutions de Bugs"" msgid """" ""Cinder defines storage size in gibibytes (GiB), which is inconsistent with "" ""Horizon panels that show/request storage size in gigabytes (GB)."" msgstr """" ""Cinder dfinit la taille de stockage en gibibytes (GiB), laquelle est "" ""consistante avec les panneaux de Horizon qui montrent/demandent la taille de "" ""stockage en gigabytes (GB)."" msgid ""Cloud Admin - View and manage identity resources across domains"" msgstr """" ""Administrateur du cloud - Afficher et grer les resources identitaires  "" ""travers les domaines"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dprcies "" msgid ""Liberty Series Release Notes"" msgstr ""Note de release pour Liberty"" msgid ""Mitaka Series Release Notes"" msgstr ""Note de release pour Mitaka"" msgid ""Newton Series Release Notes"" msgstr ""Note de release pour Newton"" ",81,297
openstack%2Fhorizon~stable%2Fstein~Ib5077917a8678a3ba27ad0dfa8f5732618ba77d8,openstack/horizon,stable/stein,Ib5077917a8678a3ba27ad0dfa8f5732618ba77d8,Imported Translations from Zanata,MERGED,2019-10-04 07:12:50.000000000,2019-10-05 04:08:35.000000000,2019-10-05 04:07:14.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-04 07:12:50.000000000', 'files': ['doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'horizon/locale/ja/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7083c0e277a87fd98d62d7c493050d678b06e4e5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib5077917a8678a3ba27ad0dfa8f5732618ba77d8\n'}]",0,686529,7083c0e277a87fd98d62d7c493050d678b06e4e5,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib5077917a8678a3ba27ad0dfa8f5732618ba77d8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/686529/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'horizon/locale/ja/LC_MESSAGES/djangojs.po']",2,7083c0e277a87fd98d62d7c493050d678b06e4e5,zanata/translations,"# Michele Valsecchi <mvalsecc@redhat.com>, 2019. #zanata""POT-Creation-Date: 2019-10-01 15:30+0000\n""""PO-Revision-Date: 2019-10-03 11:55+0000\n"" ""Last-Translator: Michele Valsecchi <mvalsecc@redhat.com>\n""msgid ""Forbidden. Insufficient permissions of the requested operation"" msgstr """" ","""POT-Creation-Date: 2019-09-12 16:42+0000\n""""PO-Revision-Date: 2019-03-19 12:45+0000\n"" ""Last-Translator: Takashi Kuroda <tkuroda@redhat.com>\n""",15,7
openstack%2Fpython-tripleoclient~master~I21b550a0106fc9cc582b63eb2c74e46ad5ca6065,openstack/python-tripleoclient,master,I21b550a0106fc9cc582b63eb2c74e46ad5ca6065,Fix message of unused_params and invalid_role_specific_params.,MERGED,2019-08-05 10:28:40.000000000,2019-10-05 04:01:42.000000000,2019-10-05 04:00:33.000000000,"[{'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-08-05 10:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2e98e3b811effe080b86766680e4138b624a96f4', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 2, 'created': '2019-08-06 15:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b245b08b01cefaefe958caaa798914d717526177', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 3, 'created': '2019-08-16 13:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3113e278ffae4bb46f96ffd56588628459462bbe', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 4, 'created': '2019-08-22 12:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/56b03caf0806d5e3bfee75660018f3a863d3c226', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 5, 'created': '2019-08-26 07:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b3c38aba5f3d935c5b0224a2ccd0dc32256231b7', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 6, 'created': '2019-08-27 07:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e59cc0cf8ee0f18021ff45edfd2aea44662fd5d5', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 7, 'created': '2019-08-29 12:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4e0b7412c49ba0722fe2b193b1d79ed72f2767a', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 8, 'created': '2019-08-30 08:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1bad2ed9be316c2b2b65c7034edcafcf5d68873e', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 9, 'created': '2019-09-03 08:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6b1ab57c58119e83b2710b0e1f20c7489788f26a', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 10, 'created': '2019-09-19 07:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/045db667db0df0326f1b6fdb89c1844871bc4fc5', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 11, 'created': '2019-09-23 09:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7ee73ea5b00c141b1f215ab922d5871b7c4aa78', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 12, 'created': '2019-10-01 07:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9747049f2d9c65365d0487890330c117722df7c7', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 13, 'created': '2019-10-01 12:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/218faca0b49bc79a037d1b775033ec92255c225b', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}, {'number': 14, 'created': '2019-10-02 08:10:59.000000000', 'files': ['tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb5971ca41f6438af25e3dc1a50cea768da33aca', 'message': 'Fix message of unused_params and invalid_role_specific_params.\n\nFix message of unused_params and invalid_role_specific_params in\nworkflows parameters file. Display parameters name not a data structure.\n\nChange-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065\nCloses-Bug: #1838956\nDepends-On: https://review.opendev.org/#/c/674327\n'}]",0,674570,eb5971ca41f6438af25e3dc1a50cea768da33aca,80,7,14,29222,,,0,"Fix message of unused_params and invalid_role_specific_params.

Fix message of unused_params and invalid_role_specific_params in
workflows parameters file. Display parameters name not a data structure.

Change-Id: I21b550a0106fc9cc582b63eb2c74e46ad5ca6065
Closes-Bug: #1838956
Depends-On: https://review.opendev.org/#/c/674327
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/674570/14 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/parameters.py'],1,2e98e3b811effe080b86766680e4138b624a96f4,1838956-fix_message_of_unused_params_and_invalid_parameters," has_messages = False for message in messages: has_messages = True if message['status'] != 'SUCCESS': return deprecated_params = [ param['parameter'] for param in message.get('deprecated', []) if param.get('user_defined') ] unused_params = [ param['parameter'] for param in message.get('unused', [])] invalid_role_specific_params = [ param['parameter'] for param in message.get( 'invalid_role_specific', [])] if not has_messages: return"," deprecated_params = [] unused_params = [] invalid_role_specific_params = [] for message in messages: if message['status'] == 'SUCCESS': for param in message.get('deprecated', []): if param.get('user_defined'): deprecated_params.append(param['parameter']) unused_params = message.get('unused', []) invalid_role_specific_params = message.get( 'invalid_role_specific', [])",18,10
openstack%2Ftripleo-heat-templates~master~I2567546a0fcf2f82d72dcf6d39e66653e63970bd,openstack/tripleo-heat-templates,master,I2567546a0fcf2f82d72dcf6d39e66653e63970bd,Allow using registry authentication to pull ceph related containers,MERGED,2019-09-13 10:22:16.000000000,2019-10-05 04:00:35.000000000,2019-10-05 04:00:34.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 14270}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-09-13 10:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b9210b91c610014e8ab4fd04f85d277407e8013', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 2, 'created': '2019-09-13 10:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b9f592859cd99c2f15a4ff9738d390fa1530a5e', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 3, 'created': '2019-09-13 17:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2effd2eb8ba8321c7418e85b92cde62dbac77a40', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 4, 'created': '2019-09-13 17:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68702c3d5567e7523769b7368db98f43348788a1', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 5, 'created': '2019-09-24 13:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78eac7b41f9c15a9fbd43f5d30bdc3f4bb361575', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 6, 'created': '2019-09-24 13:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b850e35b8bd9cd50d3630befa493bb0b4cfdb9d4', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 7, 'created': '2019-09-24 15:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/214b0ffac5bd967abc781c4aa30bad5ec5064987', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 8, 'created': '2019-09-24 19:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ecb155c6f1139c4fa50498fcee5de6a63235bd27', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 9, 'created': '2019-09-24 19:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dec6ae40cb072720bcdf73e4581f58a42d2e2748', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 10, 'created': '2019-09-26 06:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3c144331ff78e15d7bec49a66d4827ba60ee7ba', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 11, 'created': '2019-09-27 11:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d099f35a13192a7da340d7d4f36c871b2677ba5', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 12, 'created': '2019-09-27 12:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88a6f969daeace2caf0b679bc432d0b5c9540c43', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 13, 'created': '2019-09-27 13:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0650973e0fc45b4ddb677ddb1cab713b876b419c', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 14, 'created': '2019-09-27 13:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ec915671c5510a218b3844988689e05e663ecf0', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 15, 'created': '2019-09-27 17:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eef918727443f3f82d913b36e354871f4d09bb69', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 16, 'created': '2019-09-27 20:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8fa28404749ce74ed5b23bb9005a373c1c82166', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 17, 'created': '2019-09-27 20:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c13c95536c6088bbbf7b763cc0e644ee24e3a02', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 18, 'created': '2019-09-30 19:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01160ed1d9614ab53dd1a05682b85bbefd4180f1', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 19, 'created': '2019-10-01 13:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3922a84add17780ba2dd955eb10a785d3c957cb0', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 20, 'created': '2019-10-01 15:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b9fa497fdedfecfa459f8878cd312aa8f1ba797', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}, {'number': 21, 'created': '2019-10-01 15:40:05.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f453997668383efc53e59db67ed2077fb5287b73', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n'}]",36,682015,f453997668383efc53e59db67ed2077fb5287b73,81,8,21,25402,,,0,"Allow using registry authentication to pull ceph related containers

Ceph ansible now supports authenticated registry and allows users to
pass and process the required parameters (username/password) when the
CephAuthRegistry boolean is true.
This review reflects this change in tripleo adding these new parameters
and pass them to ceph-ansible.

Change-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/682015/21 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,3b9210b91c610014e8ab4fd04f85d277407e8013,ceph_ansible_auth," CephAuthRegistry: default: False type: boolean CephAuthRegistryParams: description: The username and password used to authenticate on the registry to pull ceph containers type: json default: {} ceph_authenticated_registry: {get_param: CephAuthRegistry} registry_username: if: - ceph_authenticated_registry - yaql: data: {get_param: CephAuthRegistryParams} expression: $.data.username - '' registry_password: if: - ceph_authenticated_registry - yaql: data: {get_param: CephAuthRegistryParams} expression: $.data.password - '' CephRegistryAuthParameters: type: OS::Heat::Value properties: type: json value: ceph_docker_registry_username: {get_attr: [ContainerImageUrlParts, value, registry_username]} ceph_docker_registry_password: {get_attr: [ContainerImageUrlParts, value, registry_password]} ceph_docker_registry_auth: {get_param: CephAuthRegistry} ceph_ansible_group_vars_all: if: - ceph_authenticated_registry - yaql: data: ceph_ansible_vars: map_merge: - {get_attr: [CephBaseAnsibleVars, value, vars]} registry_auth: map_merge: - {get_attr: [CephRegistryAuthParameters, value]} expression: $.data.ceph_ansible_vars.mergeWith($.data.registry_auth) - {get_attr: [CephBaseAnsibleVars, value, vars]}"," ceph_ansible_group_vars_all: {get_attr: [CephBaseAnsibleVars, value, vars]}",45,1
openstack%2Fnetworking-ovn~master~Iad2469c90f413c7862f046d8493930aee4b75e13,openstack/networking-ovn,master,Iad2469c90f413c7862f046d8493930aee4b75e13,functional: Wait for port binding update,MERGED,2019-10-01 16:35:13.000000000,2019-10-05 03:54:27.000000000,2019-10-05 03:52:23.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-01 16:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d75c6d415aef4916d75d6927cc052c4e4983d4d3', 'message': ""functional: Wait for port binding update\n\nThere is a race that port binding hasn't been processed before data are\nqueried. This patch adds a onetime waiting event that waits for port\nbinding update before continuing in the test.\n\nCloses-bug: #1846186\n\nChange-Id: Iad2469c90f413c7862f046d8493930aee4b75e13\n""}, {'number': 2, 'created': '2019-10-02 08:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/51bbc9c5baf118c207cfd042f59b182834a63262', 'message': ""functional: Wait for port binding update\n\nThere is a race that port binding hasn't been processed before data are\nqueried. This patch adds a onetime waiting event that waits for port\nbinding update before continuing in the test.\n\nCloses-bug: #1846186\n\nChange-Id: Iad2469c90f413c7862f046d8493930aee4b75e13\n""}, {'number': 3, 'created': '2019-10-02 15:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4e32267708105fe97d2d392c888f21df06375e44', 'message': ""functional: Wait for port binding update\n\nThere is a race that port binding hasn't been processed before data are\nqueried. This patch adds a onetime waiting event that waits for port\nbinding update before continuing in the test.\n\nCloses-bug: #1846186\n\nChange-Id: Iad2469c90f413c7862f046d8493930aee4b75e13\n""}, {'number': 4, 'created': '2019-10-03 09:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3122cc2ffb3607f452ad66d4e8520616cbd002d4', 'message': 'functional: Wait for port binding update\n\nThere is a race where updating address in the northbound DB is not yet\npropagated to the southbound DB before querying the southbound DB for\nthe new address. The patch waits for port binding event with the new\naddress before it continues.\n\nCloses-bug: #1846186\n\nChange-Id: Iad2469c90f413c7862f046d8493930aee4b75e13\n'}, {'number': 5, 'created': '2019-10-03 09:12:41.000000000', 'files': ['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/tests/functional/resources/ovsdb/events.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c2790ff093f2a8a28a181e80c3ced895f893330b', 'message': 'functional: Wait for port binding update\n\nThere is a race where updating address in the northbound DB is not yet\npropagated to the southbound DB before querying the southbound DB for\nthe new address. The patch waits for port binding event with the new\naddress before it continues.\n\nCloses-bug: #1846186\n\nChange-Id: Iad2469c90f413c7862f046d8493930aee4b75e13\n'}]",2,686004,c2790ff093f2a8a28a181e80c3ced895f893330b,21,6,5,8655,,,0,"functional: Wait for port binding update

There is a race where updating address in the northbound DB is not yet
propagated to the southbound DB before querying the southbound DB for
the new address. The patch waits for port binding event with the new
address before it continues.

Closes-bug: #1846186

Change-Id: Iad2469c90f413c7862f046d8493930aee4b75e13
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/686004/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/tests/functional/resources/ovsdb/events.py']",2,d75c6d415aef4916d75d6927cc052c4e4983d4d3,bug/1846186,"from ovsdbapp.tests.functional.schema.ovn_southbound import event as test_event class WaitForCreatePortBindingEvent(test_event.WaitForPortBindingEvent): event_name = 'WaitForCreatePortBindingEvent' def run(self, event, row, old): self.row = row super(WaitForCreatePortBindingEvent, self).run(event, row, old) class WaitForUpdatePortBindingEvent(test_event.WaitForPortBindingEvent): event_name = 'WaitForUpdatePortBindingEvent' def __init__(self, port, timeout=5): # Call the super of the superclass to avoid passing CREATE event type # to the superclass. super(test_event.WaitForPortBindingEvent, self).__init__( (self.ROW_UPDATE,), 'Port_Binding', (('logical_port', '=', port),), timeout=timeout)",,32,11
openstack%2Fpython-tripleoclient~stable%2Fstein~Ia1881a732d59546ba0da8853af0c10605c682b48,openstack/python-tripleoclient,stable/stein,Ia1881a732d59546ba0da8853af0c10605c682b48,scen008 never passes in stein,MERGED,2019-09-18 20:43:19.000000000,2019-10-05 03:47:27.000000000,2019-10-05 03:45:34.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-18 20:43:19.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a997810bafb1da98bbdb62ea2138474505569a08', 'message': 'scen008 never passes in stein\n\nhttp://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario008-multinode-oooq-container\n\nChange-Id: Ia1881a732d59546ba0da8853af0c10605c682b48\n'}]",0,682993,a997810bafb1da98bbdb62ea2138474505569a08,12,6,1,9592,,,0,"scen008 never passes in stein

http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario008-multinode-oooq-container

Change-Id: Ia1881a732d59546ba0da8853af0c10605c682b48
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/682993/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a997810bafb1da98bbdb62ea2138474505569a08,stein,, - tripleo-ci-centos-7-scenario008-multinode-oooq-container: dependencies: *deps_unit_lint,0,2
openstack%2Fpython-tripleoclient~master~I32049dfa892d4f4cdc03dcab2ed31a11abe99770,openstack/python-tripleoclient,master,I32049dfa892d4f4cdc03dcab2ed31a11abe99770,IronicIpVersion: '6' if local_ip is IPv6,MERGED,2019-09-27 23:57:37.000000000,2019-10-05 03:47:15.000000000,2019-10-05 03:45:33.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-27 23:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff9efc4bcd104ff6c863abd0ff139b959007173d', 'message': ""IronicIPXEIpVersion: '6' if local_ip is IPv6\n\nSet the ironic pxe version according to the IP version\nused on the provisionin network.\n\nChange-Id: I32049dfa892d4f4cdc03dcab2ed31a11abe99770\nCloses-Bug: #1845746\nDepends-On: I6384e11dd68cdbf2179545caae2c818fd1a6b23e\n""}, {'number': 2, 'created': '2019-09-28 16:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7c7267eff3a1277e05f537e6f6e9b020476d291', 'message': ""IronicIPXEIpVersion: '6' if local_ip is IPv6\n\nSet the ironic pxe version according to the IP version\nused on the provisionin network.\n\nChange-Id: I32049dfa892d4f4cdc03dcab2ed31a11abe99770\nCloses-Bug: #1845746\nDepends-On: I6384e11dd68cdbf2179545caae2c818fd1a6b23e\n""}, {'number': 3, 'created': '2019-09-30 21:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6616b62fc9e950ad09c4dd06915a6edbc29a3b07', 'message': ""IronicIpVersion: '6' if local_ip is IPv6\n\nSet the ironic pxe version according to the IP version\nused on the provisionin network.\n\nChange-Id: I32049dfa892d4f4cdc03dcab2ed31a11abe99770\nCloses-Bug: #1845746\nDepends-On: I6384e11dd68cdbf2179545caae2c818fd1a6b23e\n""}, {'number': 4, 'created': '2019-09-30 23:11:55.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd2ca88220d46a732ea96f253f8bf5cb267ee33a', 'message': ""IronicIpVersion: '6' if local_ip is IPv6\n\nSet the ironic pxe version according to the IP version\nused on the provisionin network.\n\nChange-Id: I32049dfa892d4f4cdc03dcab2ed31a11abe99770\nCloses-Bug: #1845746\nDepends-On: I6384e11dd68cdbf2179545caae2c818fd1a6b23e\n""}]",1,685508,fd2ca88220d46a732ea96f253f8bf5cb267ee33a,28,7,4,24245,,,0,"IronicIpVersion: '6' if local_ip is IPv6

Set the ironic pxe version according to the IP version
used on the provisionin network.

Change-Id: I32049dfa892d4f4cdc03dcab2ed31a11abe99770
Closes-Bug: #1845746
Depends-On: I6384e11dd68cdbf2179545caae2c818fd1a6b23e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/685508/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,ff9efc4bcd104ff6c863abd0ff139b959007173d,bug/1845746," 'IronicIPXEIpVersion': '6',",,2,0
openstack%2Fhorizon~stable%2Ftrain~I343281c8ec1e2dfd67a12b11604dcaef3b4e0332,openstack/horizon,stable/train,I343281c8ec1e2dfd67a12b11604dcaef3b4e0332,Imported Translations from Zanata,MERGED,2019-10-04 07:14:53.000000000,2019-10-05 03:45:03.000000000,2019-10-05 03:43:54.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-04 07:14:53.000000000', 'files': ['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7f3c49efc7613f3d44de5da31d9ef7e2bfbab386', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I343281c8ec1e2dfd67a12b11604dcaef3b4e0332\n'}]",0,686530,7f3c49efc7613f3d44de5da31d9ef7e2bfbab386,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I343281c8ec1e2dfd67a12b11604dcaef3b4e0332
",git fetch https://review.opendev.org/openstack/horizon refs/changes/30/686530/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po']",2,7f3c49efc7613f3d44de5da31d9ef7e2bfbab386,zanata/translations,"""POT-Creation-Date: 2019-10-03 05:38+0000\n""""PO-Revision-Date: 2019-10-03 01:52+0000\n""msgid ""and log format is defined in OPERATION_LOG_OPTIONS."" msgstr ""dan format log didefinisikan dalam OPERATION_LOG_OPTIONS."" ","""POT-Creation-Date: 2019-09-27 12:06+0000\n""""PO-Revision-Date: 2019-09-23 04:46+0000\n""",27,5
openstack%2Fneutron-fwaas-dashboard~master~Ibae43a18da00224a213e0122cdd8974694c2d601,openstack/neutron-fwaas-dashboard,master,Ibae43a18da00224a213e0122cdd8974694c2d601,Use Horizon project template for django jobs,MERGED,2019-09-24 13:56:39.000000000,2019-10-05 03:43:11.000000000,2019-10-05 03:41:38.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-24 13:56:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/b508ac3ff73bf0bdc1239ecee3d977eacd8f503b', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Ibae43a18da00224a213e0122cdd8974694c2d601\n""}]",0,684346,b508ac3ff73bf0bdc1239ecee3d977eacd8f503b,10,4,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: Ibae43a18da00224a213e0122cdd8974694c2d601
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/46/684346/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b508ac3ff73bf0bdc1239ecee3d977eacd8f503b,, - horizon-non-primary-django-jobs, check: jobs: - horizon-openstack-tox-python3-django111 - horizon-openstack-tox-python3-django22 gate: jobs: - horizon-openstack-tox-python3-django111 - horizon-openstack-tox-python3-django22,1,8
openstack%2Fneutron-vpnaas-dashboard~master~If722d87493b0965af4c6b0247606647d7eb29548,openstack/neutron-vpnaas-dashboard,master,If722d87493b0965af4c6b0247606647d7eb29548,Update the constraints url,MERGED,2019-09-19 15:49:47.000000000,2019-10-05 03:38:41.000000000,2019-10-05 03:36:26.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-19 15:49:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/22211beac18470c9c924d8c8883e00e8ea7dc007', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: If722d87493b0965af4c6b0247606647d7eb29548\n'}]",0,683191,22211beac18470c9c924d8c8883e00e8ea7dc007,9,4,1,29313,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: If722d87493b0965af4c6b0247606647d7eb29548
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/91/683191/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,22211beac18470c9c924d8c8883e00e8ea7dc007,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fneutron-vpnaas-dashboard~master~I4750c9195f2c3cdded80dfb8028ea6118fc64cc9,openstack/neutron-vpnaas-dashboard,master,I4750c9195f2c3cdded80dfb8028ea6118fc64cc9,Imported Translations from Zanata,MERGED,2019-10-02 06:18:02.000000000,2019-10-05 03:37:37.000000000,2019-10-05 03:36:25.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 06:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/ac4f60660c7cb7d7a53928d8b52a2b6e6f2c9d0d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4750c9195f2c3cdded80dfb8028ea6118fc64cc9\n'}, {'number': 2, 'created': '2019-10-03 06:05:56.000000000', 'files': ['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/201683e15aa300544a73567ba10e375c003861d1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4750c9195f2c3cdded80dfb8028ea6118fc64cc9\n'}]",0,686084,201683e15aa300544a73567ba10e375c003861d1,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4750c9195f2c3cdded80dfb8028ea6118fc64cc9
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/84/686084/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po'],1,ac4f60660c7cb7d7a53928d8b52a2b6e6f2c9d0d,zanata/translations,"# ByungYeol Woo <wby1089@gmail.com>, 2019. #zanata""Project-Id-Version: neutron-vpnaas-dashboard\n""""POT-Creation-Date: 2019-09-26 14:23+0000\n""""PO-Revision-Date: 2019-10-02 04:11+0000\n""msgid ""1.2.0"" msgstr ""1.2.0"" msgid ""1.3.0"" msgstr ""1.3.0"" msgid ""1.5.0"" msgstr ""1.5.0"" msgid ""Add support for Endpoint Group feature."" msgstr ""   "" msgid ""Neutron VPNaaS Dashboard Release Notes"" msgstr ""Neutron VPNaaS   "" msgid ""Queens Series Release Notes"" msgstr ""Queens   "" msgid ""Rocky Series Release Notes"" msgstr ""Rocky   "" msgid ""Stein Series Release Notes"" msgstr ""Stein   ""","""Project-Id-Version: Neutron VPNaaS Dashboard Release Notes\n""""POT-Creation-Date: 2018-03-01 16:15+0000\n""""PO-Revision-Date: 2017-12-27 02:31+0000\n""",28,3
openstack%2Fneutron-vpnaas-dashboard~master~I279156e303d202e05d3341e0b3d64ef1d9777d00,openstack/neutron-vpnaas-dashboard,master,I279156e303d202e05d3341e0b3d64ef1d9777d00,Update master for stable/train,MERGED,2019-10-02 20:21:03.000000000,2019-10-05 03:35:49.000000000,2019-10-05 03:34:31.000000000,"[{'_account_id': 841}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:21:03.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/6222bf5741ec88f510916117839035d50f09894b', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I279156e303d202e05d3341e0b3d64ef1d9777d00\nSem-Ver: feature\n'}]",0,686281,6222bf5741ec88f510916117839035d50f09894b,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I279156e303d202e05d3341e0b3d64ef1d9777d00
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/81/686281/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,6222bf5741ec88f510916117839035d50f09894b,reno-train, train,,7,0
openstack%2Fneutron-vpnaas-dashboard~stable%2Ftrain~I3606c4edf57bc99e866282db282de2703c84a94d,openstack/neutron-vpnaas-dashboard,stable/train,I3606c4edf57bc99e866282db282de2703c84a94d,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-02 20:20:59.000000000,2019-10-05 03:33:24.000000000,2019-10-05 03:31:08.000000000,"[{'_account_id': 841}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:20:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/126a773ed8783c43b610db1e81737b49c21e1c2a', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3606c4edf57bc99e866282db282de2703c84a94d\n'}]",0,686280,126a773ed8783c43b610db1e81737b49c21e1c2a,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3606c4edf57bc99e866282db282de2703c84a94d
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/80/686280/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,126a773ed8783c43b610db1e81737b49c21e1c2a,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fneutron-vpnaas-dashboard~stable%2Ftrain~Icdac27442f7e46e1bdf09a5085b6425b6c3d4ef0,openstack/neutron-vpnaas-dashboard,stable/train,Icdac27442f7e46e1bdf09a5085b6425b6c3d4ef0,Update .gitreview for stable/train,MERGED,2019-10-02 20:20:54.000000000,2019-10-05 03:32:21.000000000,2019-10-05 03:31:07.000000000,"[{'_account_id': 841}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:20:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/233940c6b17fdd96527e9030c140f0d596e11f26', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Icdac27442f7e46e1bdf09a5085b6425b6c3d4ef0\n'}]",0,686279,233940c6b17fdd96527e9030c140f0d596e11f26,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Icdac27442f7e46e1bdf09a5085b6425b6c3d4ef0
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/79/686279/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,233940c6b17fdd96527e9030c140f0d596e11f26,create-train,defaultbranch=stable/train,,1,0
openstack%2Fneutron-fwaas-dashboard~stable%2Ftrain~I903748829cf0e7d2609d40ae56ea1b03c46af173,openstack/neutron-fwaas-dashboard,stable/train,I903748829cf0e7d2609d40ae56ea1b03c46af173,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-02 20:20:28.000000000,2019-10-05 03:31:49.000000000,2019-10-05 03:29:30.000000000,"[{'_account_id': 841}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:20:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/a3790e7a169c64059c7729dcaf88485a13fc018e', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I903748829cf0e7d2609d40ae56ea1b03c46af173\n'}]",0,686277,a3790e7a169c64059c7729dcaf88485a13fc018e,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I903748829cf0e7d2609d40ae56ea1b03c46af173
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/77/686277/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a3790e7a169c64059c7729dcaf88485a13fc018e,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fneutron-fwaas-dashboard~master~Ib6c43a4731c0602a8eb421c78a0efed8cc218699,openstack/neutron-fwaas-dashboard,master,Ib6c43a4731c0602a8eb421c78a0efed8cc218699,Update master for stable/train,MERGED,2019-10-02 20:20:33.000000000,2019-10-05 03:30:49.000000000,2019-10-05 03:29:30.000000000,"[{'_account_id': 841}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:20:33.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/36184a8ed82a37d654800ce728614e1d81bd35b0', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ib6c43a4731c0602a8eb421c78a0efed8cc218699\nSem-Ver: feature\n'}]",0,686278,36184a8ed82a37d654800ce728614e1d81bd35b0,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ib6c43a4731c0602a8eb421c78a0efed8cc218699
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/78/686278/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,36184a8ed82a37d654800ce728614e1d81bd35b0,reno-train, train,,7,0
openstack%2Fneutron-fwaas-dashboard~stable%2Ftrain~Ie9ba19f63089d1bc81655b0f21c91397f91e528f,openstack/neutron-fwaas-dashboard,stable/train,Ie9ba19f63089d1bc81655b0f21c91397f91e528f,Update .gitreview for stable/train,MERGED,2019-10-02 20:20:24.000000000,2019-10-05 03:30:36.000000000,2019-10-05 03:29:29.000000000,"[{'_account_id': 841}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:20:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/c2f1888151e8a0989d411c7902dbcc8d4f9b167e', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ie9ba19f63089d1bc81655b0f21c91397f91e528f\n'}]",0,686275,c2f1888151e8a0989d411c7902dbcc8d4f9b167e,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ie9ba19f63089d1bc81655b0f21c91397f91e528f
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/75/686275/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c2f1888151e8a0989d411c7902dbcc8d4f9b167e,create-train,defaultbranch=stable/train,,1,0
openstack%2Freleases~master~I1d6a9e9d2af839f0e3d3886216b5f57f690a5c5a,openstack/releases,master,I1d6a9e9d2af839f0e3d3886216b5f57f690a5c5a,Add stable/train for neutron-[fwaas|vpnaas]-dashboard,MERGED,2019-10-02 13:27:48.000000000,2019-10-05 03:26:23.000000000,2019-10-02 20:14:42.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 13:27:48.000000000', 'files': ['deliverables/train/neutron-fwaas-dashboard.yaml', 'deliverables/train/neutron-vpnaas-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b45ee5486e6e1a9ce6cc2dc526c70d3aaa3494c', 'message': 'Add stable/train for neutron-[fwaas|vpnaas]-dashboard\n\nChange-Id: I1d6a9e9d2af839f0e3d3886216b5f57f690a5c5a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,686160,0b45ee5486e6e1a9ce6cc2dc526c70d3aaa3494c,8,4,1,11904,,,0,"Add stable/train for neutron-[fwaas|vpnaas]-dashboard

Change-Id: I1d6a9e9d2af839f0e3d3886216b5f57f690a5c5a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/686160/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/neutron-fwaas-dashboard.yaml', 'deliverables/train/neutron-vpnaas-dashboard.yaml']",2,0b45ee5486e6e1a9ce6cc2dc526c70d3aaa3494c,stable-train,branches: - name: stable/train location: 1.6.0,,6,0
openstack%2Fswift~feature%2Flosf~I7a2eb5d76e973870c4705e844e0a08b9457d80bd,openstack/swift,feature/losf,I7a2eb5d76e973870c4705e844e0a08b9457d80bd,Add tests for vfile.py,MERGED,2019-06-19 16:13:47.000000000,2019-10-05 03:15:21.000000000,2019-10-05 03:14:05.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-06-19 16:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8d217e5ebea79093293c94b760f5b1c9379b8426', 'message': 'WIP: tests for vfile.py (classes)\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 2, 'created': '2019-06-26 19:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/541740f20483e1e6085f5aacdbaefec84485d0fd', 'message': 'WIP: tests for vfile.py\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 3, 'created': '2019-07-02 15:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/673ac0d98c4c3ab0d4980281f653d300edfb21ee', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 4, 'created': '2019-07-10 12:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8beec9d0a953e73a4b781eb83083e4a1b3c00927', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 5, 'created': '2019-07-12 23:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/059ddeaca94a1a296f0f11799f177c62015885f8', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 6, 'created': '2019-07-12 23:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f71a172cc13e47ba92ece841042b574ebc6b0515', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 7, 'created': '2019-07-17 18:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c4f539fbb66c221a88ef8d02bc68a3b76639b0d9', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 8, 'created': '2019-09-25 14:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d2bd18e74891c147cb3ea9aa607ca4f7022c9ea3', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 9, 'created': '2019-09-27 04:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96853029255c6adf38b726e93d85562db36f5d5f', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 10, 'created': '2019-09-30 11:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7211c12a6a8c89619826f4a5174cf8336196be35', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 11, 'created': '2019-10-03 13:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3623c48bc7ed6532395acac2e028d3752d3172b6', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}, {'number': 12, 'created': '2019-10-04 22:11:31.000000000', 'files': ['go/swift-rpc-losf/proto/fmgr.pb.go', 'go/swift-rpc-losf/rpc.go', 'swift/obj/vfile_utils.py', 'swift/obj/vfile.py', 'swift/obj/header.py', 'test/unit/obj/test_vfile_utils.py', 'swift/obj/kvfile.py', 'swift/obj/fmgr_pb2.py', 'swift/obj/fmgr.proto', 'test/unit/obj/test_vfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/953b417b8d50cb9cfe820c8756906f53661cb083', 'message': 'Add tests for vfile.py\n\nWith some fixes for some issues found\n\nChange-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd\n'}]",53,666378,953b417b8d50cb9cfe820c8756906f53661cb083,42,3,12,25251,,,0,"Add tests for vfile.py

With some fixes for some issues found

Change-Id: I7a2eb5d76e973870c4705e844e0a08b9457d80bd
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/666378/9 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/vfile_utils.py', 'swift/obj/vfile.py', 'swift/obj/header.py', 'test/unit/obj/test_vfile_utils.py', 'test/unit/obj/test_vfile.py']",5,8d217e5ebea79093293c94b760f5b1c9379b8426,alecuyer/vfile,"from random import randintfrom swift.obj.header import ObjectHeader, STATE_OBJ_FILE from swift.obj.meta_pb2 import Metadata from swift.obj.vfile import VFileWriter from swift.obj.vfile_utils import VOSError, next_aligned_offsetclass TestVFileModuleMethods(unittest.TestCase): self.assertRaises(VOSError, vfile.listdir, ""/test/no-obj/"") @patch_policies([StoragePolicy(0, 'zero', False), StoragePolicy(1, 'one', True)]) class TestVFileWriter(unittest.TestCase): @mock.patch(""swift.obj.vfile.open_or_create_volume"") @mock.patch(""swift.obj.rpc_grpc.get_next_offset"") @mock.patch(""swift.obj.vfile._may_grow_volume"") @mock.patch(""swift.obj.vfile.os.lseek"") @mock.patch(""swift.obj.vfile.VFileWriter.__new__"") def test_create(self, m_cls, m_lseek, m_grow_vol, m_get_next_offset, m_open_or_create_vol): vfile_conf = { 'volume_alloc_chunk_size': 16 * 1024, 'volume_low_free_space': 8 * 1024, 'metadata_reserve': 500, 'max_volume_count': 1000, 'max_volume_size': 10 * 1024 * 1024 * 1024, } test_sets = [ # small file with policy 0 { ""datadir"": ""/sda/objects/123/4d8/"" ""acbd18db4cc2f85cedef654fccc4a4d8"", ""obj_size"": 421, ""volume_file"": 101, # file descriptor ""lock_file"": 102, # file descriptor ""volume_path"": ""/sda/losf/volumes/v0000001"", ""volume_next_offset"": 8192, ""expected_socket"": ""/sda/losf/rpc.socket"", ""expected_ohash"": ""acbd18db4cc2f85cedef654fccc4a4d8"", ""expected_partition"": ""123"", ""expected_extension"": None, ""expected_vol_dir"": ""/sda/losf/volumes"", ""expected_vol_index"": 1, }, # large file with policy 1 { ""datadir"": ""/sdb/objects-1/456/289/"" ""48e2e79fec9bc01d9a00e0a8fa68b289"", ""obj_size"": 2 * 1024 * 1024 * 1024, ""volume_file"": 201, ""lock_file"": 202, ""volume_path"": ""/sdb/losf-1/volumes/v0012345"", ""volume_next_offset"": 8 * 1024 * 1024 * 1024, ""expected_socket"": ""/sdb/losf-1/rpc.socket"", ""expected_ohash"": ""48e2e79fec9bc01d9a00e0a8fa68b289"", ""expected_partition"": ""456"", ""expected_extension"": None, ""expected_vol_dir"": ""/sdb/losf-1/volumes"", ""expected_vol_index"": 12345, }, # file of unknown size, policy 1 { ""datadir"": ""/sdb/objects-1/789/45d/"" ""b2f5ff47436671b6e533d8dc3614845d"", ""obj_size"": None, ""volume_file"": 301, ""lock_file"": 302, ""volume_path"": ""/sdb/losf/volumes/v9999999"", ""volume_next_offset"": 8 * 1024 * 1024 * 1024, ""expected_socket"": ""/sdb/losf-1/rpc.socket"", ""expected_ohash"": ""b2f5ff47436671b6e533d8dc3614845d"", ""expected_partition"": ""789"", ""expected_extension"": None, ""expected_vol_dir"": ""/sdb/losf-1/volumes"", ""expected_vol_index"": 9999999, }, # empty file is ok (zero length) { ""datadir"": ""/sdb/objects-1/789/45d/"" ""b2f5ff47436671b6e533d8dc3614845d"", ""obj_size"": 0, ""volume_file"": 301, ""lock_file"": 302, ""volume_path"": ""/sdb/losf/volumes/v9999999"", ""volume_next_offset"": 8 * 1024 * 1024 * 1024, ""expected_socket"": ""/sdb/losf-1/rpc.socket"", ""expected_ohash"": ""b2f5ff47436671b6e533d8dc3614845d"", ""expected_partition"": ""789"", ""expected_extension"": None, ""expected_vol_dir"": ""/sdb/losf-1/volumes"", ""expected_vol_index"": 9999999, }, ] for t in test_sets: # When creating a new ""vfile"", expect the writer to seek to the # offset where we can start writing the file content. # The layout of a single vfile within a volume is : # |header | metadata(*) | file content | (more metadata, optional)| # # The first reserved metadata field size is defined in the # configuration by the ""metadata_reserve"" parameter. # # So the absolute location is: # next_offset for the volume + len(header) + len(metadata_reserve) expected_absolute_offset = (t[""volume_next_offset""] + len(ObjectHeader()) + vfile_conf[""metadata_reserve""]) expected_relative_offset = (len(ObjectHeader()) + vfile_conf[""metadata_reserve""]) m_open_or_create_vol.return_value = (t[""volume_file""], t[""lock_file""], t[""volume_path""]) m_get_next_offset.return_value = t[""volume_next_offset""] VFileWriter.create(t[""datadir""], t[""obj_size""], vfile_conf, None) ordered_args = m_open_or_create_vol.call_args[0] named_args = m_open_or_create_vol.call_args[1] self.assertEqual(ordered_args[0], t[""expected_socket""]) self.assertEqual(ordered_args[1], t[""expected_partition""]) self.assertEqual(ordered_args[2], t[""expected_extension""]) self.assertEqual(ordered_args[3], t[""expected_vol_dir""]) self.assertEqual(named_args[""size""], t[""obj_size""]) m_get_next_offset.assert_called_once_with(t[""expected_socket""], t[""expected_vol_index""]) ordered_args = m_grow_vol.call_args[0] self.assertEqual(ordered_args[0], t[""volume_file""]) self.assertEqual(ordered_args[1], t[""volume_next_offset""]) self.assertEqual(ordered_args[2], t[""obj_size""]) m_lseek.assert_called_with(t[""volume_file""], expected_absolute_offset, os.SEEK_SET) args = m_cls.call_args[0] self.assertEqual(args[1], t[""datadir""]) self.assertEqual(args[2], t[""volume_file""]) self.assertEqual(args[3], t[""lock_file""]) self.assertEqual(args[4], t[""expected_vol_dir""]) self.assertEqual(args[5], t[""expected_vol_index""]) header = args[6] self.assertEqual(header.ohash, t[""expected_ohash""]) self.assertEqual(header.data_offset, expected_relative_offset) # we have not written anything yet so data_size should be zero self.assertEqual(header.data_size, 0) # state should be STATE_OBJ_FILE (not quarantined) self.assertEqual(header.state, STATE_OBJ_FILE) for test_m in [m_lseek, m_grow_vol, m_get_next_offset, m_open_or_create_vol]: test_m.reset_mock() with self.assertRaises(VOSError): VFileWriter.create(""/foo"", 123, vfile_conf, None) with self.assertRaises(VOSError): VFileWriter.create(""/mnt/objects/"" ""b2f5ff47436671b6e533d8dc3614845d"", 123, vfile_conf, None) with self.assertRaises(VOSError): VFileWriter.create(""/mnt/objects/123/"" ""b2f5ff47436671b6e533d8dc3614845d"", 123, vfile_conf, None) # negative size with self.assertRaises(VOSError): VFileWriter.create(""/mnt/objects/123/abc/"" ""b2f5ff47436671b6e533d8dc3614845d"", -1, vfile_conf, None) def _get_vfile_writer(self, offset=0, metadata_reserve=500, ohash=""d41d8cd98f00b204e9800998ecf8427e""): """""" returns a fake VFileWriter, backed by a TemporaryFile :param offset: absolute offset in volume where the file starts :param metadata_reserve: space to reserve for metadata between header and file content. (if insufficient, the remaining serialized metadata will be written after the file content) :param ohash: object hash :return: a VFileWriter instance """""" volume_file = tempfile.TemporaryFile() lock_file = 102 # dummy fd volume_dir = ""/sda/losf/volumes"" volume_index = randint(1, 9999999) datadir = ""/sda/objects/123/{}/{}"".format(ohash[-3:], ohash) header = ObjectHeader(version=vfile.OBJECT_HEADER_VERSION) header.ohash = ohash header.policy_idx = 0 header.data_offset = len(header) + metadata_reserve header.data_size = 0 header.state = STATE_OBJ_FILE logger = None volume_fd = volume_file.fileno() # seek to where file data would start as expected by caller os.lseek(volume_fd, offset + header.data_offset, os.SEEK_SET) return (vfile.VFileWriter(datadir, volume_fd, lock_file, volume_dir, volume_index, header, offset, logger), volume_file) @mock.patch(""swift.obj.vfile.fdatasync"") @mock.patch(""swift.obj.vfile.rpc.register_object"") def test_commit(self, m_register, m_fdatasync): default_metadata = {""Content-Length"": ""92"", ""name"": ""/AUTH_test/foo/truc"", ""Content-Type"": ""application/octet-stream"", ""ETag"": ""89408008f2585c957c031716600d5a80"", ""X-Timestamp"": ""1560866451.10093"", ""X-Object-Meta-Mtime"": ""1523272228.000000""} test_sets = [ # empty file, volume offset 0 { ""offset"": 0, ""reserved_metadata"": 500, ""ohash"": ""d41d8cd98f00b204e9800998ecf8427e"", ""filename"": ""1560866451.10093.data"", ""metadata"": default_metadata, ""data_bytes"": 0, # file content length }, # non-zero random file size with random offset { ""offset"": 4096 * randint(0, 2621440), # up to 10GB ""reserved_metadata"": 500, ""ohash"": ""d41d8cd98f00b204e9800998ecf8427e"", ""filename"": ""1560866451.10093.data"", ""metadata"": default_metadata, ""data_bytes"": randint(1, 1024 * 1024) # up to 1MB } ] for t in test_sets: vfile_writer, vol_file = self._get_vfile_writer(offset=t[""offset""]) filename = ""1560866451.10093.data"" if t[""data_bytes""]: os.write(vfile_writer.fd, 'x' * t[""data_bytes""]) vfile_writer.commit(filename, t[""metadata""]) # check header vol_file.seek(t[""offset""]) serialized_header = vol_file.read(512) header = ObjectHeader.unpack(serialized_header) self.assertEqual(header.version, vfile.OBJECT_HEADER_VERSION) self.assertEqual(header.ohash, ""d41d8cd98f00b204e9800998ecf8427e"") self.assertEqual(header.filename, t[""filename""]) self.assertEqual(header.data_size, t[""data_bytes""]) self.assertEqual(header.state, STATE_OBJ_FILE) # check swift metadata vol_file.seek(t[""offset""] + header.metadata_offset) serialized_metadata = vol_file.read(header.metadata_size) ondisk_meta = Metadata() ondisk_meta.ParseFromString(serialized_metadata) # Metadata() is a protobuf message instance, with a single field, a # repeated Attr. an Attr has a key and a value self.assertEqual(len(ondisk_meta.attrs), len(t[""metadata""])) for attr in ondisk_meta.attrs: self.assertEqual(attr.value, t[""metadata""][attr.key]) # check data has been flushed to disk m_fdatasync.assert_called_once_with(vol_file.fileno()) # check call to register the file to the index server m_register.assert_called_once() socket_path, full_name, vol_idx, offset, end_offset = \ m_register.call_args_list[0][0] expected_full_name = ""{}{}"".format(t[""ohash""], t[""filename""]) self.assertEqual(socket_path, vfile_writer.socket_path) self.assertEqual(full_name, expected_full_name) self.assertEqual(vol_idx, vfile_writer.volume_index) # end offset should be the next 4k aligned offset volume_length = os.lseek(vol_file.fileno(), 0, os.SEEK_END) self.assertEqual(vol_file.tell(), os.lseek(vol_file.fileno(), 0, os.SEEK_END)) expected_end_offset = next_aligned_offset(volume_length, 4096) self.assertEqual(end_offset, expected_end_offset) m_fdatasync.reset_mock() m_register.reset_mock()","from swift.obj.vfile_utils import VFileUtilExceptionclass TestVFile(unittest.TestCase): self.assertRaises(VFileUtilException, vfile.listdir, ""/test/no-obj/"")",337,56
openstack%2Fsyntribos~master~I1250d72165a79238dc2bfe036c8160b9139aa862,openstack/syntribos,master,I1250d72165a79238dc2bfe036c8160b9139aa862,update readme link,ABANDONED,2019-10-05 03:00:47.000000000,2019-10-05 03:12:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-05 03:00:47.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/28d59f8daa639ec51490406da83a9fb6f49cfbfe', 'message': 'update readme link\n\nChange-Id: I1250d72165a79238dc2bfe036c8160b9139aa862\n'}]",0,686859,28d59f8daa639ec51490406da83a9fb6f49cfbfe,3,1,1,30092,,,0,"update readme link

Change-Id: I1250d72165a79238dc2bfe036c8160b9139aa862
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/59/686859/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,28d59f8daa639ec51490406da83a9fb6f49cfbfe,,1. Follow all the `OpenStack Style Guidelines <https://docs.openstack.org/hacking/latest/>`__,1. Follow all the `OpenStack Style Guidelines <https://docs.openstack.org/developer/hacking/>`__,1,1
openstack%2Fheat-agents~master~I1573872289463334814c21cde05f1e8b34f419c9,openstack/heat-agents,master,I1573872289463334814c21cde05f1e8b34f419c9,Update master for stable/train,MERGED,2019-10-04 13:11:48.000000000,2019-10-05 03:05:50.000000000,2019-10-05 03:04:50.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:11:48.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/799f581ad4b3456366b277457929717ae9006756', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I1573872289463334814c21cde05f1e8b34f419c9\nSem-Ver: feature\n'}]",0,686614,799f581ad4b3456366b277457929717ae9006756,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I1573872289463334814c21cde05f1e8b34f419c9
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/14/686614/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,799f581ad4b3456366b277457929717ae9006756,reno-train, train,,7,0
openstack%2Fdiskimage-builder~master~I1de2703eb5075a0a22837b6898bd8eb960d080dd,openstack/diskimage-builder,master,I1de2703eb5075a0a22837b6898bd8eb960d080dd,"yum-minimal: Don't install yum, install libcurl",MERGED,2019-09-25 05:33:13.000000000,2019-10-05 03:01:48.000000000,2019-10-05 02:59:20.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 05:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/60245fc12e129244e93836a0fb8eeac7aa53f397', 'message': '[wip] install curl after chroot install\n\nI don\'t know what\'s changed here, but I can not seem to get the\ninitial install of dnf for centos8 to *not* bring in curl-minimal.\n\nI think the old rpm/yum combo on the ubuntu build host just doesn\'t\nunderstand how this dependency is setup in centos8?\n\nthis is a bit brute force, but works to get the full ""curl"" package\non the system which prevents further issues later\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 2, 'created': '2019-09-25 06:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d3150e143595e7914d48cef9edbf0d7b543cf985', 'message': '[wip] install curl after chroot install\n\nI don\'t know what\'s changed here, but I can not seem to get the\ninitial install of dnf for centos8 to *not* bring in curl-minimal.\n\nI think the old rpm/yum combo on the ubuntu build host just doesn\'t\nunderstand how this dependency is setup in centos8?\n\nthis is a bit brute force, but works to get the full ""curl"" package\non the system which prevents further issues later\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 3, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ea151cdfff59b2cd977990aeb6049f8b2666eec3', 'message': '[wip] Install curl after chroot install\n\nThis is a hack; but I don\'t know what\'s changed here.  I can not seem\nto get the initial install of dnf for centos8 to *not* bring in\ncurl-minimal.\n\nI think the old rpm/yum combo on the ubuntu build host just doesn\'t\nunderstand how this dependency is setup in centos8?\n\nThis is a bit brute force, but works to get the full ""curl"" package\non the system which prevents further issues later\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 4, 'created': '2019-09-26 01:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/019bff1a4ea992718286f2e452ab6ce4a87d6272', 'message': '[wip] Install curl after chroot install\n\nThis is a hack; but I don\'t know what\'s changed here.  I can not seem\nto get the initial install of dnf for centos8 to *not* bring in\ncurl-minimal.\n\nI think the old rpm/yum combo on the ubuntu build host just doesn\'t\nunderstand how this dependency is setup in centos8?\n\nThis is a bit brute force, but works to get the full ""curl"" package\non the system which prevents further issues later\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 5, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1f1e49816eabd05e83e11928b581926b6a9fa9d0', 'message': '[wip] Install curl after chroot install\n\nThis is a hack; but I don\'t know what\'s changed here.  I can not seem\nto get the initial install of dnf for centos8 to *not* bring in\ncurl-minimal.\n\nI think the old rpm/yum combo on the ubuntu build host just doesn\'t\nunderstand how this dependency is setup in centos8?\n\nThis is a bit brute force, but works to get the full ""curl"" package\non the system which prevents further issues later\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 6, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ffe26e92a0f911ad327f18f884ddc1e2b30db23d', 'message': '[wip] Install curl after chroot install\n\nThis is a hack; but I don\'t know what\'s changed here.  I can not seem\nto get the initial install of dnf for centos8 to *not* bring in\ncurl-minimal.\n\nI think the old rpm/yum combo on the ubuntu build host just doesn\'t\nunderstand how this dependency is setup in centos8?\n\nThis is a bit brute force, but works to get the full ""curl"" package\non the system which prevents further issues later\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 7, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5050637cf4506b42a763c31ea02b848f2fddd955', 'message': '[wip] Install curl after chroot install\n\nThis is a hack; but I don\'t know what\'s changed here.  I can not seem\nto get the initial install of dnf for centos8 to *not* bring in\ncurl-minimal.\n\nI think the old rpm/yum combo on the ubuntu build host just doesn\'t\nunderstand how this dependency is setup in centos8?\n\nThis is a bit brute force, but works to get the full ""curl"" package\non the system which prevents further issues later\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 8, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/aaf5a75f4970d5a166f09d09f22fcd2e41d1eb36', 'message': 'yum-minimal: Don\'t install yum, install libcurl\n\nDon\'t install the ""yum"" package, which is a backwards compat around\ndnf.  With 687003f we should not need the backwards compat links any\nmore.\n\nAdd libcurl to avoid conficts with in the curl ""-minimal"" packages\nthat happens on CentOS 8\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 9, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7b11b2dfc6e14a66eb2bc50e7d23f004703e4425', 'message': 'yum-minimal: Don\'t install yum, install libcurl\n\nDon\'t install the ""yum"" package, which is a backwards compat around\ndnf.  With 687003f we should not need the backwards compat links any\nmore.\n\nAdd libcurl to avoid conficts with in the curl ""-minimal"" packages\nthat happens on CentOS 8\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 10, 'created': '2019-10-01 03:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/20f88f61c253500f45392d1f9a4c90a9d41acb1b', 'message': 'yum-minimal: Don\'t install yum, install libcurl\n\nDon\'t install the ""yum"" package, which is a backwards compat around\ndnf.  With 687003f we should not need the backwards compat links any\nmore.\n\nAdd libcurl to avoid conficts with in the curl ""-minimal"" packages\nthat happens on CentOS 8.  But skip it on Fedora, because it seems to\ncreate more problems there (not going to pretend it isn\'t all a\nhack ... but it seems to work).\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 11, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dbdebb73ae7c5a0c9903723ef6d68b2d0d334d55', 'message': 'yum-minimal: Don\'t install yum, install libcurl\n\nDon\'t install the ""yum"" package, which is a backwards compat around\ndnf.  With 687003f we should not need the backwards compat links any\nmore.\n\nAdd libcurl to avoid conficts with in the curl ""-minimal"" packages\nthat happens on CentOS 8.  But skip it on Fedora, because it seems to\ncreate more problems there (not going to pretend it isn\'t all a\nhack ... but it seems to work).\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}, {'number': 12, 'created': '2019-10-03 01:07:59.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5f3b7cd7b78616a1d3966d0b63f1b3fed0f1fd91', 'message': 'yum-minimal: Don\'t install yum, install libcurl\n\nDon\'t install the ""yum"" package, which is a backwards compat around\ndnf.  With 687003f we should not need the backwards compat links any\nmore.\n\nAdd libcurl to avoid conficts with in the curl ""-minimal"" packages\nthat happens on CentOS 8.  But skip it on Fedora, because it seems to\ncreate more problems there (not going to pretend it isn\'t all a\nhack ... but it seems to work).\n\nChange-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd\n'}]",2,684461,5f3b7cd7b78616a1d3966d0b63f1b3fed0f1fd91,50,5,12,7118,,,0,"yum-minimal: Don't install yum, install libcurl

Don't install the ""yum"" package, which is a backwards compat around
dnf.  With 687003f we should not need the backwards compat links any
more.

Add libcurl to avoid conficts with in the curl ""-minimal"" packages
that happens on CentOS 8.  But skip it on Fedora, because it seems to
create more problems there (not going to pretend it isn't all a
hack ... but it seems to work).

Change-Id: I1de2703eb5075a0a22837b6898bd8eb960d080dd
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/61/684461/10 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'],1,60245fc12e129244e93836a0fb8eeac7aa53f397,centos8,"if [[ ${DISTRO_NAME} == 'fedora' ]] || \ [[ ${DISTRO_NAME} =~ (rhel|centos) && $DIB_RELEASE -ge 8 ]]; then _install_pkg_manager dnf dnf-plugins-core# On F27+ (and centos8) the ""curl"" package is split into # ""curl-minimal"" which a number of system utilities rely on. However, # this means if you later try to install ""curl"" (or a package that # depends on it) we get failures as the -minimal package conflicts. # Try as we might, there seems to be no way to convince the yum # *outside* the chroot (that is installing yum/dnf *inside* the # chroot) to not bring this package in. It's probably not surprising, # as that's an old distro version and maybe it doesn't understand the # weak dependencies or whatever it is that curl-minimal is using. To # just avoid this all together, simply ensure here we have the full # package installed. sudo -E chroot $TARGET_ROOT ${YUM} install -y --allowerasing curl ","if [ $DIB_RELEASE -ge 22 ]; then # Fedora 27 has a ""curl-minimal"" package that will get pulled in as a # rpm dependency. This causes problems later if/when ""curl"" gets # installed. To avoid this, just install the full curl first up. _install_pkg_manager dnf dnf-plugins-core yum curl",16,5
openstack%2Fdiskimage-builder~master~I71095a9bd1862f8956b5982fbbb3e1d213926c14,openstack/diskimage-builder,master,I71095a9bd1862f8956b5982fbbb3e1d213926c14,Use $YUM instead of direct calls in more places,MERGED,2019-09-25 05:33:13.000000000,2019-10-05 03:00:34.000000000,2019-10-05 02:59:19.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 05:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4cd1fa4ac41ad5b7d40f657935378a23abf5f835', 'message': '[wip] use $YUM in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 2, 'created': '2019-09-25 06:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/df8479f60d416e0a16a2a2f546b8470c4f50b650', 'message': '[wip] use $YUM in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 3, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fa8f2e55db8691070c22788ce0a2a35490999c89', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 4, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a3a650e31a41922b6fe2b479782720daaed69d91', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 5, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b765501080dfb64d0d761df85323bda0079876b3', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 6, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c904f763049eb7ea708f378473b47c5dddff05ad', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 7, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d2df3eab40551980a40621fe87b68b90c9e924d7', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 8, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e3174054eeefc618ef9bab04a109061a9e59ff2', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 9, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cca124144d18e57004a5e75077760a05ee4071b1', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}, {'number': 10, 'created': '2019-10-03 01:07:59.000000000', 'files': ['diskimage_builder/elements/rpm-distro/pre-install.d/01-override-yum-arch', 'diskimage_builder/elements/epel/pre-install.d/05-rpm-epel-release', 'diskimage_builder/elements/yum/post-install.d/99-reset-yum-conf', 'diskimage_builder/elements/yum/pre-install.d/01-yum-keepcache'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b57714af75e5332014eae8234a7660aa8f6644e9', 'message': 'Use $YUM instead of direct calls in more places\n\nA few places we either assume centos uses ""yum"" directly, or have\nswitching based on the distro type.\n\nIn both cases, we can use ${YUM} directly to avoid ambiguity\n\nChange-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14\n'}]",6,684460,b57714af75e5332014eae8234a7660aa8f6644e9,42,5,10,7118,,,0,"Use $YUM instead of direct calls in more places

A few places we either assume centos uses ""yum"" directly, or have
switching based on the distro type.

In both cases, we can use ${YUM} directly to avoid ambiguity

Change-Id: I71095a9bd1862f8956b5982fbbb3e1d213926c14
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/60/684460/10 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/rpm-distro/pre-install.d/01-override-yum-arch', 'diskimage_builder/elements/epel/pre-install.d/05-rpm-epel-release', 'diskimage_builder/elements/yum/pre-install.d/01-yum-keepcache']",3,4cd1fa4ac41ad5b7d40f657935378a23abf5f835,centos8,"if [[ ${YUM} == ""dnf"" ]]; then","if [[ $DISTRO_NAME == ""fedora"" && $DIB_RELEASE -ge 22 ]]; then",9,5
openstack%2Fswift~master~I73deaf6f1d9c1d37630c37c02c597b8812592351,openstack/swift,master,I73deaf6f1d9c1d37630c37c02c597b8812592351,ring: Track more properties of the ring,MERGED,2019-07-12 22:48:58.000000000,2019-10-05 02:19:13.000000000,2019-10-05 02:17:35.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 22:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fe93cd71e1d3cb8246fd317f678c12929ff3a3fc', 'message': 'ring: Track more properties of the ring\n\nPlumb the version from the ringbuilder through to the metadata at the\nstart of the ring. Recover this (if available) when running\n\n    swift-ring-builder <ring> write_builder\n\nWhen we load the ring, track the count and MD5 of the bytes off disk, as\nwell as the number of uncompressed bytes.\n\nExpose all this new information as properties on the Ring, along with\n\n  - device_count (number of non-None entries in self._devs),\n  - weighted_device_count (number of devices that have weight), and\n  - assigned_device_count (number of devices that actually have\n    partition assignments).\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I73deaf6f1d9c1d37630c37c02c597b8812592351\n'}, {'number': 2, 'created': '2019-07-12 23:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/425ed4e77790df25f973fc8a09311210f324cf7c', 'message': 'ring: Track more properties of the ring\n\nPlumb the version from the ringbuilder through to the metadata at the\nstart of the ring. Recover this (if available) when running\n\n    swift-ring-builder <ring> write_builder\n\nWhen we load the ring, track the count and MD5 of the bytes off disk, as\nwell as the number of uncompressed bytes.\n\nExpose all this new information as properties on the Ring, along with\n\n  - device_count (number of non-None entries in self._devs),\n  - weighted_device_count (number of devices that have weight), and\n  - assigned_device_count (number of devices that actually have\n    partition assignments).\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I73deaf6f1d9c1d37630c37c02c597b8812592351\n'}, {'number': 3, 'created': '2019-07-13 00:26:33.000000000', 'files': ['swift/common/ring/builder.py', 'test/unit/common/ring/test_ring.py', 'swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py', 'swift/common/ring/ring.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6853616aeaa7a6b14fd1ae99a507ab1761d16609', 'message': 'ring: Track more properties of the ring\n\nPlumb the version from the ringbuilder through to the metadata at the\nstart of the ring. Recover this (if available) when running\n\n    swift-ring-builder <ring> write_builder\n\nWhen we load the ring, track the count and MD5 of the bytes off disk, as\nwell as the number of uncompressed bytes.\n\nExpose all this new information as properties on the Ring, along with\n\n  - device_count (number of non-None entries in self._devs),\n  - weighted_device_count (number of devices that have weight), and\n  - assigned_device_count (number of devices that actually have\n    partition assignments).\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I73deaf6f1d9c1d37630c37c02c597b8812592351\n'}]",0,670673,6853616aeaa7a6b14fd1ae99a507ab1761d16609,20,3,3,15343,,,0,"ring: Track more properties of the ring

Plumb the version from the ringbuilder through to the metadata at the
start of the ring. Recover this (if available) when running

    swift-ring-builder <ring> write_builder

When we load the ring, track the count and MD5 of the bytes off disk, as
well as the number of uncompressed bytes.

Expose all this new information as properties on the Ring, along with

  - device_count (number of non-None entries in self._devs),
  - weighted_device_count (number of devices that have weight), and
  - assigned_device_count (number of devices that actually have
    partition assignments).

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Change-Id: I73deaf6f1d9c1d37630c37c02c597b8812592351
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/670673/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'test/unit/common/ring/test_ring.py', 'swift/cli/ringbuilder.py', 'swift/common/ring/ring.py', 'test/unit/cli/test_ringbuilder.py']",5,fe93cd71e1d3cb8246fd317f678c12929ff3a3fc,more-ring-info," # Version was recorded in the .ring.gz! self.assertEqual(builder.version, 5) def test_write_builder_no_version(self): self.create_sample_ring() rb = RingBuilder.load(self.tmpfile) rb.rebalance() # Make sure we write down the ring in the old way, with no version rd = rb.get_ring() rd.version = None rd.save(self.tmpfile + "".ring.gz"") ring_file = os.path.join(os.path.dirname(self.tmpfile), os.path.basename(self.tmpfile) + "".ring.gz"") os.remove(self.tmpfile) # loses file... argv = ["""", ring_file, ""write_builder"", ""24""] self.assertIsNone(ringbuilder.main(argv)) # Note that we've picked up an extension builder = RingBuilder.load(self.tmpfile + '.builder') # No version in the .ring.gz; default to 0 self.assertEqual(builder.version, 0) ",,151,12
openstack%2Foctavia~master~I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,openstack/octavia,master,I5619f5e40d7c9a2ee7741bf4664c0d2d08963992,Fix urgent amphora two-way auth security bug,MERGED,2019-10-04 08:05:37.000000000,2019-10-05 02:17:53.000000000,2019-10-05 02:16:24.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 27316}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-04 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/387d4908637f26dd495b86fe6c2641f3059a9565', 'message': ""Fix urgent amphora two-way uth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 2, 'created': '2019-10-04 08:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/64e9add31d866ab96be18f299ba3aef39702502d', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 3, 'created': '2019-10-04 08:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/463a984f6dcbd7c38aadf2fd6c5ac7f8445d70ab', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 4, 'created': '2019-10-04 09:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f511abe113971d5fe5fad006970a7f7b9c9648b6', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 5, 'created': '2019-10-04 13:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/99ff2ad94992cf16bcfeae028a9a3f3433056575', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 6, 'created': '2019-10-04 13:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c9af84bdfb443adb1c708d2e6d277170ad2b6a7', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\nDepends-On: https://review.opendev.org/#/c/686724/\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}, {'number': 7, 'created': '2019-10-04 20:15:07.000000000', 'files': ['octavia/cmd/agent.py', 'releasenotes/notes/correct-amp-client-auth-vulnerability-6803f4bac2508e4c.yaml', 'octavia/tests/unit/cmd/test_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b0c2cd7b4c835c391cfedf12cf9f9ff8a0aabd17', 'message': ""Fix urgent amphora two-way auth security bug\n\nThe value of gunicorn's option 'cert_reqs` for client-cert requirement\ndoes not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.\n\nStory: 2006660\nTask: 36916\n\nSecurityImpact: CVE-2019-17134\n\nChange-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992\n""}]",0,686540,b0c2cd7b4c835c391cfedf12cf9f9ff8a0aabd17,33,6,7,10273,,,0,"Fix urgent amphora two-way auth security bug

The value of gunicorn's option 'cert_reqs` for client-cert requirement
does not take a boolean, but rather `ssl.CERT_REQUIRED` which is `2`.

Story: 2006660
Task: 36916

SecurityImpact: CVE-2019-17134

Change-Id: I5619f5e40d7c9a2ee7741bf4664c0d2d08963992
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/686540/4 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,387d4908637f26dd495b86fe6c2641f3059a9565,amp-cert-reqs-fix," 'cert_reqs': ssl.CERT_REQUIRED,"," 'cert_reqs': True,",1,1
openstack%2Frequirements~stable%2Frocky~I3f861300a03728d97b70d9e5d898b12c3b42d187,openstack/requirements,stable/rocky,I3f861300a03728d97b70d9e5d898b12c3b42d187,update constraint for oslo.messaging to new release 8.1.4,MERGED,2019-10-04 13:14:52.000000000,2019-10-05 02:17:33.000000000,2019-10-05 02:17:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:14:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/006192485b2969cd71654f12eadde86187b55f2b', 'message': 'update constraint for oslo.messaging to new release 8.1.4\n\nChange-Id: I3f861300a03728d97b70d9e5d898b12c3b42d187\nmeta:version: 8.1.4\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I06c2821630f79d80f619482ddf84b5b6fc9bb835\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,686617,006192485b2969cd71654f12eadde86187b55f2b,10,2,1,11131,,,0,"update constraint for oslo.messaging to new release 8.1.4

Change-Id: I3f861300a03728d97b70d9e5d898b12c3b42d187
meta:version: 8.1.4
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I06c2821630f79d80f619482ddf84b5b6fc9bb835
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/686617/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,006192485b2969cd71654f12eadde86187b55f2b,new-release,oslo.messaging===8.1.4,oslo.messaging===8.1.3,1,1
openstack%2Fdiskimage-builder~master~I2b2c41a73e468fe9045ee5b7b812da66f20d8584,openstack/diskimage-builder,master,I2b2c41a73e468fe9045ee5b7b812da66f20d8584,Add environment switch for centos8 to use dnf,MERGED,2019-09-25 05:33:13.000000000,2019-10-05 00:19:23.000000000,2019-10-05 00:18:16.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 05:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c46beb2d8eaf0df05fdb388a450b4bee2576b92e', 'message': '[wip] add environment switch for centos8 to use dnf\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 2, 'created': '2019-09-25 06:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6cea0ec73ded6e0fce77096c1656530f4a353f70', 'message': '[wip] add environment switch for centos8 to use dnf\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 3, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e2c9f2c7ba286bc0994ee695c9a679e1c2c051d3', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 4, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3a4b9c4357a387479fffb1ae91ffd0193f8629e8', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 5, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a74209568a679a7f5f6e0896cc3b81745cff637b', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 6, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/08155fb66e49c84d289d2620f190d87c197a1c0a', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 7, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c741bc084b624b0abd8dbfb88055e35a0379d401', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 8, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3825de2f15e224055ea607b71040c3bf4ff44696', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 9, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3ae307ea3a5378c14d6248e0cc5e3c3217c34980', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}, {'number': 10, 'created': '2019-10-03 01:07:59.000000000', 'files': ['diskimage_builder/elements/centos-minimal/environment.d/10-centos-distro-name.bash', 'diskimage_builder/elements/centos-minimal/environment.d/11-yum-dnf.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ddb2811255752fa4fbfbe6fe9c8706a96c5bced0', 'message': 'Add environment switch for centos8 to use dnf\n\nSet YUM to dnf for Centos 8; this matches similar done in\nfedora-minimal.\n\nChange-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584\n'}]",0,684459,ddb2811255752fa4fbfbe6fe9c8706a96c5bced0,44,5,10,7118,,,0,"Add environment switch for centos8 to use dnf

Set YUM to dnf for Centos 8; this matches similar done in
fedora-minimal.

Change-Id: I2b2c41a73e468fe9045ee5b7b812da66f20d8584
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/684459/10 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos-minimal/environment.d/11-yum-dnf.bash'],1,c46beb2d8eaf0df05fdb388a450b4bee2576b92e,centos8,if [ $DIB_RELEASE -ge 8 ]; then export YUM=dnf else export YUM=yum fi ,,5,0
openstack%2Ftripleo-common~master~Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd,openstack/tripleo-common,master,Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd,Improving debug logging,MERGED,2019-09-25 19:39:25.000000000,2019-10-05 00:08:36.000000000,2019-10-05 00:06:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-25 19:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44f6246bdeb98b0cde31dbffeb55e79223c5a224', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 2, 'created': '2019-09-25 19:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ac8c523b64080336ac5d452805e5473cd73966a', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 3, 'created': '2019-09-25 19:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2558b62bc28df349fa92f73ed2c6fc44b564cfec', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 4, 'created': '2019-09-25 19:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f1a5aa85381c0a266db2c6c0980f74085bbe2de4', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 5, 'created': '2019-09-25 19:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/383d6222e79922f1843324284bc7b3fb13759d86', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 6, 'created': '2019-09-25 20:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/07d18fb9d6e4a0af781a8f6607bc78a88c365b31', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 7, 'created': '2019-09-25 20:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5df55158f7fb65e32c6e42e05cdbca3ae1900fb8', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 8, 'created': '2019-09-25 20:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/00b5614a9e80ecece2f353c9a078332a601a3f52', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 9, 'created': '2019-09-27 15:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db82820afaad7075b406ccab66dc15b1848cafc0', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 10, 'created': '2019-09-30 20:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/12711c0fa280add2f9cf7856582ccdbee4fb2c9c', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 11, 'created': '2019-10-04 08:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ddd73c8950d45dd5ecd434a2d0e4b8a156d5d93e', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 12, 'created': '2019-10-04 08:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bcf6109d0699d265941c90f883a396f02e214804', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}, {'number': 13, 'created': '2019-10-04 11:09:06.000000000', 'files': ['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/58abba685e65441e52a1e577baa653dac6852fcc', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n""}]",0,684835,58abba685e65441e52a1e577baa653dac6852fcc,58,9,13,14985,,,0,"Improving debug logging

It's really hard to follow the multi-processing. This change adds
additional debug statements around the jobs and uploading processes.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/684835/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py']",2,44f6246bdeb98b0cde31dbffeb55e79223c5a224,improve-logging," LOG.debug(""[%s] Fetching data from %s"" % (digest, source_blob_url)) LOG.debug(""[%s] Read %i bytes from %s"" % (digest, len(data), source_blob_url)) LOG.debug(""[%s] Waiting for more data"" % digest) LOG.debug(""[%s] Done fetching stream from registry"" % digest) jobs_count = 0 jobs_finished = 0 jobs_count = len(copy_jobs) LOG.debug('[%s] Waiting for %i jobs to finish' % (name, jobs_count)) jobs_finished += 1 LOG.debug('[%s] Waiting for next job %i of %i done' % (name, jobs_finished, jobs_count)) LOG.debug('[%s] Completed %i jobs' % (name, jobs_count)) LOG.debug('[%s] Finished copying' % name) jobs_count = 0 jobs_finished = 0 jobs_count = len(copy_jobs) LOG.debug('[%s] Waiting for %i jobs to finish' % (name, jobs_count)) LOG.debug('[%s] Upload complete for layer: %s' % (name, image)) jobs_finished += 1 LOG.debug('[%s] Waiting for next job %i of %i done' % (name, jobs_finished, jobs_count)) LOG.debug('[%s] Completed %i jobs' % (name, jobs_count)) LOG.debug('[%s] Finished copying' % name)", LOG.debug('Upload complete for layer: %s' % image),40,6
openstack%2Fkolla-ansible~master~I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09,openstack/kolla-ansible,master,I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09,Add Debian/source CI job,MERGED,2019-10-02 10:54:42.000000000,2019-10-05 00:08:33.000000000,2019-10-05 00:05:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-02 10:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89bf257c684a4199b67b103a9285be65da405830', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 2, 'created': '2019-10-02 11:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d1f93abccaec61ea4b08be8e6e33762bef477e6', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 3, 'created': '2019-10-02 11:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb7ec931929b774bb04efa6cb707c7f395a1b13f', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 4, 'created': '2019-10-02 12:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d84110680dac3caf17324d9924e436509271f37', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 5, 'created': '2019-10-02 12:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0fd716040071356db8374010e0e03ac2ed35ce0', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 6, 'created': '2019-10-03 11:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61ed84d933bd14aaee824974111464a544a27aec', 'message': 'Add Debian/source CI job\n\nDepends-On: https://review.opendev.org/686381\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 7, 'created': '2019-10-03 13:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a64a89a1a650ab60471b7488ce4d8b1eade3a9b6', 'message': 'Add Debian/source CI job\n\nDepends-On: https://review.opendev.org/685963\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 8, 'created': '2019-10-03 18:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8075e76cf0fc43033272b04f14fa6e39660d23db', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 9, 'created': '2019-10-04 08:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d9a75bedb2998d1c08d5cb2ce80fb5705825be3', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 10, 'created': '2019-10-04 08:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a32f6f2119f557aa9d64eacc32f1cf9bab5666ec', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}, {'number': 11, 'created': '2019-10-04 08:59:18.000000000', 'files': ['tests/run.yml', 'zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9d6cc2a7f2969af9bbef751db5899edce7eb1c2', 'message': 'Add Debian/source CI job\n\nChange-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09\n'}]",12,686133,b9d6cc2a7f2969af9bbef751db5899edce7eb1c2,47,5,11,24072,,,0,"Add Debian/source CI job

Change-Id: I0628b16e3ebdb3fa8196acdc1bd9c63e75bcfb09
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/686133/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",3,89bf257c684a4199b67b103a9285be65da405830,debian/ci, name: kolla-ansible-debian-source parent: kolla-ansible-base nodeset: kolla-ansible-debian voting: false vars: base_distro: debian install_type: source - job:,,16,0
openstack%2Ftripleo-common~stable%2Fqueens~I299fef52f5b69b5482c24fe1cb283e9dd859445d,openstack/tripleo-common,stable/queens,I299fef52f5b69b5482c24fe1cb283e9dd859445d,Set display_skipped_host to no,MERGED,2019-09-25 11:20:54.000000000,2019-10-05 00:06:40.000000000,2019-10-05 00:06:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 11:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92893ce77ae7c80cab6a3fd2b52bab63eb445c7b', 'message': ""Set display_skipped_host to no\n\nThis will suppress the tasks if they aren't actually run.\n\nChange-Id: I299fef52f5b69b5482c24fe1cb283e9dd859445d\n""}, {'number': 2, 'created': '2019-09-27 10:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/939f66a7b374d9240fce989add1c3749049b81be', 'message': ""Set display_skipped_host to no\n\nThis will suppress the tasks if they aren't actually run.\n""}, {'number': 3, 'created': '2019-09-27 10:54:48.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e396802d4d29cb1c57cb2d5526e79c887e9111b4', 'message': ""Set display_skipped_host to no\n\nThis will suppress the tasks if they aren't actually run.\n\nChange-Id: I299fef52f5b69b5482c24fe1cb283e9dd859445d\n""}]",0,684709,e396802d4d29cb1c57cb2d5526e79c887e9111b4,18,10,3,24162,,,0,"Set display_skipped_host to no

This will suppress the tasks if they aren't actually run.

Change-Id: I299fef52f5b69b5482c24fe1cb283e9dd859445d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/684709/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,92893ce77ae7c80cab6a3fd2b52bab63eb445c7b,add-timings," # suppress tasks if all hosts skip, was previously full_skip callback config.set('defaults', 'display_skipped_hosts', 'no')",,2,0
openstack%2Fplacement~stable%2Fstein~Ia2a4b982d6146a275f433a73b6a8a13acab1e00a,openstack/placement,stable/stein,Ia2a4b982d6146a275f433a73b6a8a13acab1e00a,Fix domain name in install doc,MERGED,2019-10-04 08:45:59.000000000,2019-10-04 23:40:22.000000000,2019-10-04 23:38:49.000000000,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-04 08:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8c7f222735da8f4107f3ace556c056a5b197ac6a', 'message': ""Fix domain name in install doc\n\nBased on the keystone install docs [1][2][3] the domain created by the\nbootstrap is named 'Default' (with the id 'default'). This patch fixes\nthe placement install docs accordingly.\n\n[1] https://docs.openstack.org/keystone/stein/install/keystone-install-obs.html#finalize-the-installation\n[2] https://docs.openstack.org/keystone/stein/install/keystone-install-rdo.html#finalize-the-installation\n[3] https://docs.openstack.org/keystone/stein/install/keystone-install-ubuntu.html#finalize-the-installation\n\nStory: #2006652\nTask: #36894\nChange-Id: Ia2a4b982d6146a275f433a73b6a8a13acab1e00a\n""}, {'number': 2, 'created': '2019-10-04 09:10:41.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/869b7c7ab847ff56ce7d5b1dae223466b216a21c', 'message': ""Fix domain name in install doc\n\nBased on the keystone install docs [1][2][3] the domain created by the\nbootstrap is named 'Default' (with the id 'default'). This patch fixes\nthe placement install docs accordingly.\n\n[1] https://docs.openstack.org/keystone/stein/install/keystone-install-obs.html#finalize-the-installation\n[2] https://docs.openstack.org/keystone/stein/install/keystone-install-rdo.html#finalize-the-installation\n[3] https://docs.openstack.org/keystone/stein/install/keystone-install-ubuntu.html#finalize-the-installation\n\nStory: #2006652\nTask: #36894\nChange-Id: Ia2a4b982d6146a275f433a73b6a8a13acab1e00a\n(cherry picked from commit dbd03867118ee059b39be7677b8881b0f1a0b9c8)\n(cherry picked from commit 3f1a89c7dd34c53d5bc9f1190e48ac3a9320bc70)\n""}]",0,686551,869b7c7ab847ff56ce7d5b1dae223466b216a21c,11,4,2,25625,,,0,"Fix domain name in install doc

Based on the keystone install docs [1][2][3] the domain created by the
bootstrap is named 'Default' (with the id 'default'). This patch fixes
the placement install docs accordingly.

[1] https://docs.openstack.org/keystone/stein/install/keystone-install-obs.html#finalize-the-installation
[2] https://docs.openstack.org/keystone/stein/install/keystone-install-rdo.html#finalize-the-installation
[3] https://docs.openstack.org/keystone/stein/install/keystone-install-ubuntu.html#finalize-the-installation

Story: #2006652
Task: #36894
Change-Id: Ia2a4b982d6146a275f433a73b6a8a13acab1e00a
(cherry picked from commit dbd03867118ee059b39be7677b8881b0f1a0b9c8)
(cherry picked from commit 3f1a89c7dd34c53d5bc9f1190e48ac3a9320bc70)
",git fetch https://review.opendev.org/openstack/placement refs/changes/51/686551/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",3,8c7f222735da8f4107f3ace556c056a5b197ac6a,story/2006652-stable/stein," project_domain_name = Default user_domain_name = Default .. note:: The value of ``user_name``, ``password``, ``project_domain_name`` and ``user_domain_name`` need to be in sync with your keystone config. ", project_domain_name = default user_domain_name = default,21,6
openstack%2Fnova~master~I30a49c9e085cffc071d0ba332db67945e116bc80,openstack/nova,master,I30a49c9e085cffc071d0ba332db67945e116bc80,Create volume attachment during boot from volume in compute,MERGED,2018-02-06 19:45:52.000000000,2019-10-04 23:39:02.000000000,2019-10-04 23:39:01.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9562}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26233}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 27594}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-02-06 19:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/738fb144693fc9074edf0a88b64a0027946c3206', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 2, 'created': '2018-03-22 14:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad2778d77cbc0501091a17bcf3ec6bc8b9b4ebc0', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 3, 'created': '2018-03-23 15:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6e5af5ea317a82b53893db77b2e25d468653dae', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 4, 'created': '2018-05-03 18:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37a8de27b686429ff3d72b5774a75d1e17fc6448', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 5, 'created': '2018-05-03 20:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59b6a50134d12a3333f6e3a943c622e9f7fb1ae1', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 6, 'created': '2018-10-24 21:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9e02a4102163dfe6b316191d400971dce24c838', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 7, 'created': '2019-03-12 21:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8dc1eedf45022f28a92fe90bcfab322e42db70f', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 8, 'created': '2019-05-18 18:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f13a29ee723d6d8cfd055885657a97966b585c1e', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume, if the\nnova-compute services are all new enough and Cinder API 3.44 is\navailable, the compute API creates a volume attachment for the BDM\nso that we do a new-style attach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume, if Cinder API 3.44\nis available, we also create the volume attachment so we can go down the\nnew style attach flow.\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 9, 'created': '2019-09-16 15:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7ad0a1a8db87c0b0694da223bdbd54b0a5ee9c2', 'message': 'WIP: Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume the compute\nAPI creates a volume attachment for the BDM so that we do a new-style\nattach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume we also create the\nvolume attachment so we can go down the new style attach flow. Note that\nwe unconditionally create the volume attachment record since we require\nCinder Queens since Nova Train [1][2].\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code.\n\n[1] I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n[2] Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 10, 'created': '2019-09-16 22:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c325ab9613a2f5b607c0d3e62d32d04680253911', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume the compute\nAPI creates a volume attachment for the BDM so that we do a new-style\nattach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume we also create the\nvolume attachment so we can go down the new style attach flow. Note that\nwe unconditionally create the volume attachment record since we require\nCinder Queens since Nova Train [1][2].\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code. In other words, doing this means we eventually have\nfewer data records to migrate before we can drop the compat code.\n\n[1] I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n[2] Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 11, 'created': '2019-09-16 22:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/059c0132898ef71b5287950d3177c36c306bfc19', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume the compute\nAPI creates a volume attachment for the BDM so that we do a new-style\nattach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume we also create the\nvolume attachment so we can go down the new style attach flow. Note that\nwe unconditionally create the volume attachment record since we require\nCinder Queens since Nova Train [1][2].\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code. In other words, doing this means we eventually have\nfewer data records to migrate before we can drop the compat code.\n\n[1] I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n[2] Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}, {'number': 12, 'created': '2019-09-21 16:52:37.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de5bce6ea23e16c976b64fdf5b0daf06c540eb8b', 'message': 'Create volume attachment during boot from volume in compute\n\nWhen performing a boot from volume with an existing volume the compute\nAPI creates a volume attachment for the BDM so that we do a new-style\nattach flow in DriverVolumeBlockDevice.attach.\n\nHowever, when booting from source_type of blank, image or snapshot, where\nnova-compute creates the volume and then attaches it, we were still doing\nthe legacy attach flow because there was no attachment_id on the BDM.\n\nThis change fixes that so when nova creates the volume we also create the\nvolume attachment so we can go down the new style attach flow. Note that\nwe unconditionally create the volume attachment record since we require\nCinder Queens since Nova Train [1][2].\n\nThis is important for eventually migrating off the old attach flow so we\ncan drop that code. In other words, doing this means we eventually have\nfewer data records to migrate before we can drop the compat code.\n\n[1] I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n[2] Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678\n\nChange-Id: I30a49c9e085cffc071d0ba332db67945e116bc80\nCloses-Bug: #1747693\n'}]",15,541420,de5bce6ea23e16c976b64fdf5b0daf06c540eb8b,181,26,12,6873,,,0,"Create volume attachment during boot from volume in compute

When performing a boot from volume with an existing volume the compute
API creates a volume attachment for the BDM so that we do a new-style
attach flow in DriverVolumeBlockDevice.attach.

However, when booting from source_type of blank, image or snapshot, where
nova-compute creates the volume and then attaches it, we were still doing
the legacy attach flow because there was no attachment_id on the BDM.

This change fixes that so when nova creates the volume we also create the
volume attachment so we can go down the new style attach flow. Note that
we unconditionally create the volume attachment record since we require
Cinder Queens since Nova Train [1][2].

This is important for eventually migrating off the old attach flow so we
can drop that code. In other words, doing this means we eventually have
fewer data records to migrate before we can drop the compat code.

[1] I6a777b4b7a5729488f939df8c40e49bd40aec3dd
[2] Ic9d1fb364e06e08250c7c5d7d4bdb956cb60e678

Change-Id: I30a49c9e085cffc071d0ba332db67945e116bc80
Closes-Bug: #1747693
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/541420/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/volume/cinder.py', 'nova/virt/block_device.py']",4,738fb144693fc9074edf0a88b64a0027946c3206,bug/1747693," def _create_volume(self, context, instance, volume_api, size, wait_func=None, **create_kwargs): av_zone = _get_volume_create_az_value(instance) name = create_kwargs.pop('name', '') description = create_kwargs.pop('description', '') # First try to create with microversion 3.44 which will tell us if # we can create an attachment as well. create_attachment = False try: vol = volume_api.create( context, size, name, description, availability_zone=av_zone, microversion='3.44', **create_kwargs) create_attachment = True except exception.CinderAPIVersionNotAvailable: # Create the volume without an attachment. vol = volume_api.create( context, size, name, description, availability_zone=av_zone, **create_kwargs) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id']) attachment_id = None if create_attachment: attachment_id = ( volume_api.attachment_create( context, vol['id'], instance.uuid)['id']) return vol, attachment_id vol, attachment_id = self._create_volume( context, instance, volume_api, self.volume_size, wait_func, snapshot=snapshot) self.attachment_id = attachment_id vol, attachment_id = self._create_volume( context, instance, volume_api, self.volume_size, wait_func, image_id=self.image_id) self.attachment_id = attachment_id vol, attachment_id = self._create_volume( context, instance, volume_api, self.volume_size, wait_func, name=vol_name) self.attachment_id = attachment_id"," av_zone = _get_volume_create_az_value(instance) vol = volume_api.create(context, self.volume_size, '', '', snapshot, availability_zone=av_zone) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id']) # TODO(mriedem): Create an attachment to reserve the volume and # make us go down the new-style attach flow. av_zone = _get_volume_create_az_value(instance) vol = volume_api.create(context, self.volume_size, '', '', image_id=self.image_id, availability_zone=av_zone) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id']) # TODO(mriedem): Create an attachment to reserve the volume and # make us go down the new-style attach flow. av_zone = _get_volume_create_az_value(instance) vol = volume_api.create(context, self.volume_size, vol_name, '', availability_zone=av_zone) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id']) # TODO(mriedem): Create an attachment to reserve the volume and # make us go down the new-style attach flow.",171,56
openstack%2Fnova~stable%2Frocky~I9521f21a685edc44121d75bdf534c201fa87c2d7,openstack/nova,stable/rocky,I9521f21a685edc44121d75bdf534c201fa87c2d7,Reduce scope of 'path' query parameter to noVNC consoles,MERGED,2019-10-01 22:22:01.000000000,2019-10-04 23:38:55.000000000,2019-10-04 23:38:54.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-01 22:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f82b733e44c4d5b9a48493b31ee7e8365510a992', 'message': ""Reduce scope of 'path' query parameter to noVNC consoles\n\nThis is a partial revert of commit\n9606c80402f6db20d62b689c58aa8f024183628a which added the 'path' query\nparameter to work with noVNC v1.1.0. This broke all other console types\nusing websockify server (serial, spice) because the websockify server\nitself doesn't know how to handle the 'path' query parameter. It is the\nnoVNC vnc_lite.html file which parses the 'path' variable and uses it\nas the url to the websockify server. So, all other console types should\n*not* be generating a console access url with a 'path' query parameter,\nonly noVNC.\n\nCloses-Bug: #1845243\n\nTODO(melwitt): Figure out how to test serial and/or spice console in\nthe gate\n\n Conflicts:\n    nova/tests/unit/console/test_websocketproxy.py\n\nNOTE(melwitt): The conflict is because change\nI7f5f08691ca3f73073c66c29dddb996fb2c2b266 is not in Rocky.\n\nChange-Id: I9521f21a685edc44121d75bdf534c201fa87c2d7\n(cherry picked from commit 54125a75fb056dbea115408610f90e7d6eee5139)\n(cherry picked from commit e736babdfea277720634ac00fd9dc119042837b9)\n(cherry picked from commit a008019df8ec1da8d55eae39727b2cf36897f039)\n""}, {'number': 2, 'created': '2019-10-02 16:24:02.000000000', 'files': ['doc/api_samples/os-remote-consoles/get-serial-console-post-resp.json', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/objects/console_auth_token.py', 'doc/api_samples/os-remote-consoles/get-spice-console-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-serial-console-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_console_auth_tokens.py', 'doc/api_samples/os-remote-consoles/get-rdp-console-post-resp.json', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-rdp-console-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-spice-console-post-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/f3eac7232cabe139ad34945b3be021af1f0d1599', 'message': ""Reduce scope of 'path' query parameter to noVNC consoles\n\nThis is a partial revert of commit\n9606c80402f6db20d62b689c58aa8f024183628a which added the 'path' query\nparameter to work with noVNC v1.1.0. This broke all other console types\nusing websockify server (serial, spice) because the websockify server\nitself doesn't know how to handle the 'path' query parameter. It is the\nnoVNC vnc_lite.html file which parses the 'path' variable and uses it\nas the url to the websockify server. So, all other console types should\n*not* be generating a console access url with a 'path' query parameter,\nonly noVNC.\n\nCloses-Bug: #1845243\n\nTODO(melwitt): Figure out how to test serial and/or spice console in\nthe gate\n\n Conflicts:\n\tnova/tests/unit/console/test_websocketproxy.py\n\nNOTE(melwitt): The conflict is because change\nI7f5f08691ca3f73073c66c29dddb996fb2c2b266 is not in Rocky.\n\nChange-Id: I9521f21a685edc44121d75bdf534c201fa87c2d7\n(cherry picked from commit 54125a75fb056dbea115408610f90e7d6eee5139)\n(cherry picked from commit e736babdfea277720634ac00fd9dc119042837b9)\n(cherry picked from commit ff29f7018fdd4fc12b6b029ebef25904f9455aa9)\n""}]",1,686067,f3eac7232cabe139ad34945b3be021af1f0d1599,21,8,2,4690,,,0,"Reduce scope of 'path' query parameter to noVNC consoles

This is a partial revert of commit
9606c80402f6db20d62b689c58aa8f024183628a which added the 'path' query
parameter to work with noVNC v1.1.0. This broke all other console types
using websockify server (serial, spice) because the websockify server
itself doesn't know how to handle the 'path' query parameter. It is the
noVNC vnc_lite.html file which parses the 'path' variable and uses it
as the url to the websockify server. So, all other console types should
*not* be generating a console access url with a 'path' query parameter,
only noVNC.

Closes-Bug: #1845243

TODO(melwitt): Figure out how to test serial and/or spice console in
the gate

 Conflicts:
	nova/tests/unit/console/test_websocketproxy.py

NOTE(melwitt): The conflict is because change
I7f5f08691ca3f73073c66c29dddb996fb2c2b266 is not in Rocky.

Change-Id: I9521f21a685edc44121d75bdf534c201fa87c2d7
(cherry picked from commit 54125a75fb056dbea115408610f90e7d6eee5139)
(cherry picked from commit e736babdfea277720634ac00fd9dc119042837b9)
(cherry picked from commit ff29f7018fdd4fc12b6b029ebef25904f9455aa9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/686067/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-remote-consoles/get-serial-console-post-resp.json', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/objects/console_auth_token.py', 'doc/api_samples/os-remote-consoles/get-spice-console-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-serial-console-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_console_auth_tokens.py', 'doc/api_samples/os-remote-consoles/get-rdp-console-post-resp.json', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-rdp-console-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-spice-console-post-resp.json.tpl']",10,f82b733e44c4d5b9a48493b31ee7e8365510a992,bug/1845243," ""url"": ""http://127.0.0.1:6082/spice_auto.html?token=%(uuid)s"""," ""url"": ""http://127.0.0.1:6082/spice_auto.html?path=%%3Ftoken%%3D%(uuid)s""",53,36
openstack%2Fkeystone-tempest-plugin~master~I51af25ca1d9666cdb2916220aa2e3c940057dff3,openstack/keystone-tempest-plugin,master,I51af25ca1d9666cdb2916220aa2e3c940057dff3,Update the constraints url,MERGED,2019-09-29 02:49:48.000000000,2019-10-04 23:38:45.000000000,2019-10-04 23:38:45.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-29 02:49:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/5ed5fd963718101a2ae5f56b438061b8df0c677e', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I51af25ca1d9666cdb2916220aa2e3c940057dff3\n'}]",0,685568,5ed5fd963718101a2ae5f56b438061b8df0c677e,8,2,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I51af25ca1d9666cdb2916220aa2e3c940057dff3
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/68/685568/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ed5fd963718101a2ae5f56b438061b8df0c677e,constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-ansible~master~Ibb8f72687c4a33079a6b86b1713edd90a6e02ef2,openstack/tripleo-ansible,master,Ibb8f72687c4a33079a6b86b1713edd90a6e02ef2,podman_container: move ulimit into a list,MERGED,2019-10-04 15:08:21.000000000,2019-10-04 23:35:28.000000000,2019-10-04 23:35:28.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 15:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e99c80f468e06a5666d5f61efc8acc28263ed954', 'message': 'podman_container: move ulimit into a list\n\nChange-Id: Ibb8f72687c4a33079a6b86b1713edd90a6e02ef2\n'}, {'number': 2, 'created': '2019-10-04 15:55:43.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdb5c22b1ac5ea15e4514792c0547df35e988c16', 'message': 'podman_container: move ulimit into a list\n\nChange-Id: Ibb8f72687c4a33079a6b86b1713edd90a6e02ef2\n'}]",0,686744,fdb5c22b1ac5ea15e4514792c0547df35e988c16,9,4,2,3153,,,0,"podman_container: move ulimit into a list

Change-Id: Ibb8f72687c4a33079a6b86b1713edd90a6e02ef2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/686744/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,e99c80f468e06a5666d5f61efc8acc28263ed954,ulimit," for u in params['ulimit']: cmd += ['--ulimit', u] ulimit=dict(type='list', elements='str', default=[]),"," if params['ulimit']: cmd += ['--ulimit', params['ulimit']] ulimit=dict(type='str'),",3,3
openstack%2Ftripleo-ansible~master~I29dcda532638f36503b101a016a766fd1b08c772,openstack/tripleo-ansible,master,I29dcda532638f36503b101a016a766fd1b08c772,podman_container: fix some booleans,MERGED,2019-10-04 14:58:10.000000000,2019-10-04 23:34:45.000000000,2019-10-04 23:34:44.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 14:58:10.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ee136a0e83c437179cb5e19ffad4914e91c3b5d', 'message': 'podman_container: fix some booleans\n\nChange-Id: I29dcda532638f36503b101a016a766fd1b08c772\n'}]",0,686742,8ee136a0e83c437179cb5e19ffad4914e91c3b5d,9,4,1,3153,,,0,"podman_container: fix some booleans

Change-Id: I29dcda532638f36503b101a016a766fd1b08c772
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/686742/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,8ee136a0e83c437179cb5e19ffad4914e91c3b5d,bools, if params['interactive']: cmd += ['--interactive'] if params['rm']: cmd += ['--rm'] if params['tty']: cmd += ['--tty']," if params['interactive'] is not None: cmd += ['--interactive', params['interactive']] if params['rm'] is not None: cmd += ['--rm', params['rm']] if params['tty'] is not None: cmd += ['--tty', params['tty']]",6,6
openstack%2Ftripleo-ansible~master~Ie8251732aa34dee9361816eedc4084c73f99663e,openstack/tripleo-ansible,master,Ie8251732aa34dee9361816eedc4084c73f99663e,Add podman_volume_info ansible module,MERGED,2019-10-02 18:13:01.000000000,2019-10-04 23:34:44.000000000,2019-10-04 23:34:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 18:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98ec33a6b7477dab1aafbe9cbbe594bd83d5c61d', 'message': 'Add podman_volume_info ansible module\n\nGather info about podman modules on the host.\n\nChange-Id: Ie8251732aa34dee9361816eedc4084c73f99663e\n'}, {'number': 2, 'created': '2019-10-02 18:13:55.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_volume_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f94a02fd0dcf3fa093b5a9b5b4e61ce55729e3f7', 'message': 'Add podman_volume_info ansible module\n\nGather info about podman volumes on the host.\n\nChange-Id: Ie8251732aa34dee9361816eedc4084c73f99663e\n'}]",1,686233,f94a02fd0dcf3fa093b5a9b5b4e61ce55729e3f7,17,5,2,10969,,,0,"Add podman_volume_info ansible module

Gather info about podman volumes on the host.

Change-Id: Ie8251732aa34dee9361816eedc4084c73f99663e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/686233/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_volume_info.py'],1,98ec33a6b7477dab1aafbe9cbbe594bd83d5c61d,podmanvolume,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import, division, print_function import json from ansible.module_utils.basic import AnsibleModule ANSIBLE_METADATA = { 'metadata_version': '1.0', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" module: podman_volume_info author: - ""Sagi Shnaidman (@sshnaidm)"" version_added: '2.9' short_description: Gather info about podman volumes notes: [] description: - Gather info about podman volumes with podman inspect command. requirements: - ""Podman installed on host"" options: name: description: - Name of the volume type: str executable: description: - Path to C(podman) executable if it is not in the C($PATH) on the machine running C(podman) default: 'podman' type: str """""" EXAMPLES = """""" - name: Gather info about all present volumes podman_volume_info: - name: Gather info about specific volume podman_volume_info: name: specific_volume """""" RETURN = """""" volumes: description: Facts from all or specified volumes returned: always type: dict sample: [ { ""name"": ""testvolume"", ""labels"": {}, ""mountPoint"": ""/home/ansible/.local/share/testvolume/_data"", ""driver"": ""local"", ""options"": {}, ""scope"": ""local"" } ] """""" def get_volume_info(module, executable, name): command = [executable, 'volume', 'inspect'] if name: command.append(name) else: command.append(""--all"") rc, out, err = module.run_command(command) if not out or rc != 0: return [], out, err return json.loads(out), out, err def main(): module = AnsibleModule( argument_spec=dict( name=dict(type='str'), executable=dict(type='str', default='podman'), ), supports_check_mode=True, ) executable = module.params['executable'] name = module.params['name'] executable = module.get_bin_path(executable, required=True) inspect_results, out, err = get_volume_info(module, executable, name) results = dict( changed=False, volume=inspect_results, stdout=out, stderr=err ) if name: results.update({""exists"": bool(inspect_results)}) module.exit_json(**results) if __name__ == '__main__': main() ",,122,0
openstack%2Ftripleo-heat-templates~master~I396ff9bae534e9137da30c7a260b49f579ee8bfe,openstack/tripleo-heat-templates,master,I396ff9bae534e9137da30c7a260b49f579ee8bfe,Replace include_role with import_role,MERGED,2019-09-17 15:10:57.000000000,2019-10-04 23:23:05.000000000,2019-10-04 23:23:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-17 15:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39fdadc97295e3ced962534fc52081d69dbb4ef6', 'message': 'Replace include_role with import_role\n\nReplace include_role with import_role to fix tags as upgrade/update\ninvokes ansible with ""--tags container_image_prepare""\n\nChange-Id: I396ff9bae534e9137da30c7a260b49f579ee8bfe\nCloses-Bug: #1844109\n'}, {'number': 2, 'created': '2019-09-24 10:32:40.000000000', 'files': ['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/184ed6aef66559b3d212e47a829e9928f417dc7c', 'message': 'Replace include_role with import_role\n\nReplace include_role with import_role to fix tags as upgrade/update\ninvokes ansible with ""--tags container_image_prepare""\n\nChange-Id: I396ff9bae534e9137da30c7a260b49f579ee8bfe\nCloses-Bug: #1844109\n'}]",3,682672,184ed6aef66559b3d212e47a829e9928f417dc7c,40,13,2,11090,,,0,"Replace include_role with import_role

Replace include_role with import_role to fix tags as upgrade/update
invokes ansible with ""--tags container_image_prepare""

Change-Id: I396ff9bae534e9137da30c7a260b49f579ee8bfe
Closes-Bug: #1844109
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/682672/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'],1,39fdadc97295e3ced962534fc52081d69dbb4ef6,bug/1844109, import_role:, include_role:,1,1
openstack%2Fneutron~stable%2Fqueens~Ia312fe75df58723bf41804eec4bd918d223bd60c,openstack/neutron,stable/queens,Ia312fe75df58723bf41804eec4bd918d223bd60c,OVS flows for custom ethertypes must be on EGRESS,MERGED,2019-10-02 16:59:37.000000000,2019-10-04 22:59:27.000000000,2019-10-04 22:59:26.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-02 16:59:37.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/99eaf3eeee415e7862ce31d0c41668f45e5e406e', 'message': 'OVS flows for custom ethertypes must be on EGRESS\n\nSome traffic does not work if the OVS flows to permit custom ethertypes\nare not set on the base egress table.  If the rule is added to the base\negress table then both ingress and egress work properly.  Also move\ninitialization code to the function to initialize egress.\n\nRelated-Bug: #1832758\nChange-Id: Ia312fe75df58723bf41804eec4bd918d223bd60c\n(cherry picked from commit fb859966f79fc0f4fbb2c2ea3c0e6b4c17a9704f)\n'}]",0,686219,99eaf3eeee415e7862ce31d0c41668f45e5e406e,12,5,1,13995,,,0,"OVS flows for custom ethertypes must be on EGRESS

Some traffic does not work if the OVS flows to permit custom ethertypes
are not set on the base egress table.  If the rule is added to the base
egress table then both ingress and egress work properly.  Also move
initialization code to the function to initialize egress.

Related-Bug: #1832758
Change-Id: Ia312fe75df58723bf41804eec4bd918d223bd60c
(cherry picked from commit fb859966f79fc0f4fbb2c2ea3c0e6b4c17a9704f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/686219/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,99eaf3eeee415e7862ce31d0c41668f45e5e406e,custom_ethertypes_egress-stable/queens," # Allow custom ethertypes for permitted_ethertype in self.permitted_ethertypes: if permitted_ethertype[:2] == '0x': try: hex_ethertype = hex(int(permitted_ethertype, base=16)) action = ('resubmit(,%d)' % ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE) self._add_flow( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, dl_type=hex_ethertype, reg_port=port.ofport, actions=action ) continue except ValueError: pass LOG.warning(""Custom ethertype %(permitted_ethertype)s is not "" ""a hexadecimal number."", {'permitted_ethertype': permitted_ethertype}) "," # Allow custom ethertypes for permitted_ethertype in self.permitted_ethertypes: if permitted_ethertype[:2] == '0x': try: hex_ethertype = hex(int(permitted_ethertype, base=16)) self._add_flow( table=ovs_consts.BASE_INGRESS_TABLE, priority=100, dl_type=hex_ethertype, reg_port=port.ofport, actions='output:{:d}'.format(port.ofport) ) continue except ValueError: pass LOG.warning(""Custom ethertype %(permitted_ethertype)s is not "" ""a hexadecimal number."", {'permitted_ethertype': permitted_ethertype}) ",21,19
openstack%2Fneutron~stable%2Frocky~Ia312fe75df58723bf41804eec4bd918d223bd60c,openstack/neutron,stable/rocky,Ia312fe75df58723bf41804eec4bd918d223bd60c,OVS flows for custom ethertypes must be on EGRESS,MERGED,2019-10-02 16:59:08.000000000,2019-10-04 22:56:53.000000000,2019-10-04 22:56:53.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-02 16:59:08.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f88d703efe6a29993f0543f229e92201a4d5f743', 'message': 'OVS flows for custom ethertypes must be on EGRESS\n\nSome traffic does not work if the OVS flows to permit custom ethertypes\nare not set on the base egress table.  If the rule is added to the base\negress table then both ingress and egress work properly.  Also move\ninitialization code to the function to initialize egress.\n\nRelated-Bug: #1832758\nChange-Id: Ia312fe75df58723bf41804eec4bd918d223bd60c\n(cherry picked from commit fb859966f79fc0f4fbb2c2ea3c0e6b4c17a9704f)\n'}]",0,686218,f88d703efe6a29993f0543f229e92201a4d5f743,16,6,1,13995,,,0,"OVS flows for custom ethertypes must be on EGRESS

Some traffic does not work if the OVS flows to permit custom ethertypes
are not set on the base egress table.  If the rule is added to the base
egress table then both ingress and egress work properly.  Also move
initialization code to the function to initialize egress.

Related-Bug: #1832758
Change-Id: Ia312fe75df58723bf41804eec4bd918d223bd60c
(cherry picked from commit fb859966f79fc0f4fbb2c2ea3c0e6b4c17a9704f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/686218/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,f88d703efe6a29993f0543f229e92201a4d5f743,custom_ethertypes_egress-stable/rocky," # Allow custom ethertypes for permitted_ethertype in self.permitted_ethertypes: if permitted_ethertype[:2] == '0x': try: hex_ethertype = hex(int(permitted_ethertype, base=16)) action = ('resubmit(,%d)' % ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE) self._add_flow( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, dl_type=hex_ethertype, reg_port=port.ofport, actions=action ) continue except ValueError: pass LOG.warning(""Custom ethertype %(permitted_ethertype)s is not "" ""a hexadecimal number."", {'permitted_ethertype': permitted_ethertype}) "," # Allow custom ethertypes for permitted_ethertype in self.permitted_ethertypes: if permitted_ethertype[:2] == '0x': try: hex_ethertype = hex(int(permitted_ethertype, base=16)) self._add_flow( table=ovs_consts.BASE_INGRESS_TABLE, priority=100, dl_type=hex_ethertype, reg_port=port.ofport, actions='output:{:d}'.format(port.ofport) ) continue except ValueError: pass LOG.warning(""Custom ethertype %(permitted_ethertype)s is not "" ""a hexadecimal number."", {'permitted_ethertype': permitted_ethertype}) ",21,19
openstack%2Fswift~master~I5a57f919cc74ddb08bbb35a7d852fbc1457185e8,openstack/swift,master,I5a57f919cc74ddb08bbb35a7d852fbc1457185e8,s3api: paginate listings when aborting MPUs,MERGED,2019-04-13 04:56:37.000000000,2019-10-04 22:25:17.000000000,2019-10-04 22:23:43.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-13 04:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/74ad9b980dbe4f29e02d26db3a549b0f085a1645', 'message': ""s3api: paginate listings when aborting MPUs\n\nEven when your cluster's configured funny, like your\ncontainer_listing_limit is too low, or your max_manifest_segments and\nmax_upload_part_num are too high, an abort should (attempt to) clean up\n*all* segments.\n\nChange-Id: I5a57f919cc74ddb08bbb35a7d852fbc1457185e8\n""}, {'number': 2, 'created': '2019-05-07 17:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a2e0975862e4255a20b2adf0767fbfe24d6f115d', 'message': ""s3api: paginate listings when aborting MPUs\n\nEven when your cluster's configured funny, like your\ncontainer_listing_limit is too low, or your max_manifest_segments and\nmax_upload_part_num are too high, an abort should (attempt to) clean up\n*all* segments.\n\nChange-Id: I5a57f919cc74ddb08bbb35a7d852fbc1457185e8\n""}, {'number': 3, 'created': '2019-08-02 03:55:18.000000000', 'files': ['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f1b44b199a064c3715c4b0e1e4067ec8235cf18d', 'message': ""s3api: paginate listings when aborting MPUs\n\nEven when your cluster's configured funny, like your\ncontainer_listing_limit is too low, or your max_manifest_segments and\nmax_upload_part_num are too high, an abort should (attempt to) clean up\n*all* segments.\n\nChange-Id: I5a57f919cc74ddb08bbb35a7d852fbc1457185e8\n""}]",0,652184,f1b44b199a064c3715c4b0e1e4067ec8235cf18d,17,3,3,15343,,,0,"s3api: paginate listings when aborting MPUs

Even when your cluster's configured funny, like your
container_listing_limit is too low, or your max_manifest_segments and
max_upload_part_num are too high, an abort should (attempt to) clean up
*all* segments.

Change-Id: I5a57f919cc74ddb08bbb35a7d852fbc1457185e8
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/652184/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",2,74ad9b980dbe4f29e02d26db3a549b0f085a1645,s3-paginate," # default to just returning everybody... json.dumps(objects)) # but for the listing when aborting an upload, break it up into pages self.swift.register( 'GET', '%s?delimiter=/&format=json&prefix=object/X/' % ( segment_bucket, ), swob.HTTPOk, {}, json.dumps(objects[:1])) self.swift.register( 'GET', '%s?delimiter=/&format=json&marker=%s&prefix=object/X/' % ( segment_bucket, objects[0]['name']), swob.HTTPOk, {}, json.dumps(objects[1:])) self.swift.register( 'GET', '%s?delimiter=/&format=json&marker=%s&prefix=object/X/' % ( segment_bucket, objects[-1]['name']), swob.HTTPOk, {}, '[]') self.assertEqual([ path for method, path in self.swift.calls if method == 'DELETE' ], [ '/v1/AUTH_test/bucket+segments/object/X', '/v1/AUTH_test/bucket+segments/object/X/1', '/v1/AUTH_test/bucket+segments/object/X/2', ])", object_list = json.dumps(objects) object_list),30,5
openstack%2Fnova~master~Ie321268cc56da04ff4111f7c34a29ba23d416e66,openstack/nova,master,Ie321268cc56da04ff4111f7c34a29ba23d416e66,docs: Document global options for nova-manage,MERGED,2019-08-20 10:56:39.000000000,2019-10-04 21:49:55.000000000,2019-10-04 21:46:55.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-20 10:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/166a09a6c3c8d438275a9991ea62ae48d0ea3e72', 'message': 'docs: Document global options for nova-manage\n\ncliff could do this for us automatically.\n\nChange-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-08-20 15:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1f45f01d317bcf633c6715e68949f2b3e789767', 'message': ""docs: Document global options for nova-manage\n\nDocument the config options for this, most of which come from\n'oslo.config'. Only the '--remote_debug-host' and '--remote_debug-port'\noptions are not documented since they shouldn't be available for this\ncommand (it's not a service) and will be removed in a later patch.\n\ncliff could do this for us automatically.\n\nChange-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-08-20 16:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91c9b4f618945ca09ade1bbb0c31b59d37c691b5', 'message': ""docs: Document global options for nova-manage\n\nDocument the config options for this, most of which come from\n'oslo.config'. Only the '--remote_debug-host' and '--remote_debug-port'\noptions are not documented since they shouldn't be available for this\ncommand (it's not a service) and will be removed in a later patch.\n\ncliff could do this for us automatically.\n\nChange-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-08-20 16:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a22893c5c772fff6d317003754ec393a667bb71', 'message': ""docs: Document global options for nova-manage\n\nDocument the config options for this, most of which come from\n'oslo.config'. Only the '--remote_debug-host' and '--remote_debug-port'\noptions are not documented since they shouldn't be available for this\ncommand (it's not a service) and will be removed in a later patch.\n\ncliff could do this for us automatically.\n\nChange-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-09-23 09:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dceb4035662b60d4508224e6a1b00835195cdc7', 'message': ""docs: Document global options for nova-manage\n\nDocument the config options for this, most of which come from\n'oslo.config'. Only the '--remote_debug-host' and '--remote_debug-port'\noptions are not documented since they shouldn't be available for this\ncommand (it's not a service) and will be removed in a later patch.\n\ncliff could do this for us automatically.\n\nChange-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-09-24 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c363a4a04e9122cdedc369eb376c70d453ca7484', 'message': ""docs: Document global options for nova-manage\n\nDocument the config options for this, most of which come from\n'oslo.config'. Only the '--remote_debug-host' and '--remote_debug-port'\noptions are not documented since they shouldn't be available for this\ncommand (it's not a service) and will be removed in a later patch.\n\nChange-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-09-24 16:18:47.000000000', 'files': ['doc/source/cli/nova-manage.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/01541f49b2ec9bd8d4ff19ac2a38a4a537f48efe', 'message': ""docs: Document global options for nova-manage\n\nDocument the config options for this, most of which come from\n'oslo.config'. Only the '--remote_debug-host' and '--remote_debug-port'\noptions are not documented since they shouldn't be available for this\ncommand (it's not a service) and will be removed in a later patch.\n\nChange-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",8,677443,01541f49b2ec9bd8d4ff19ac2a38a4a537f48efe,48,11,7,15334,,,0,"docs: Document global options for nova-manage

Document the config options for this, most of which come from
'oslo.config'. Only the '--remote_debug-host' and '--remote_debug-port'
options are not documented since they shouldn't be available for this
command (it's not a service) and will be removed in a later patch.

Change-Id: Ie321268cc56da04ff4111f7c34a29ba23d416e66
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/677443/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,166a09a6c3c8d438275a9991ea62ae48d0ea3e72,bug/1832860,".. program:: nova-manage The standard pattern for executing a :program:`nova-manage` command is:: nova-manage <category> <command> [<args>] nova-manage nova-manage db These sections describe the available categories and arguments for :program:`nova-manage`. Options ======= .. option:: -h, --help Show a help message and exit .. option:: --config-dir DIR Path to a config directory to pull ``*.conf`` files from. This file set is sorted, so as to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous :option:`--config-file`, arguments hence over-ridden options in the directory take precedence. This option must be set from the command-line. .. option:: --config-file PATH Path to a config file to use. Multiple config files can be specified, with values in later files taking precedence. Defaults to None. This option must be set from the command-line. .. option:: --debug, -d If set to true, the logging level will be set to DEBUG instead of the default INFO level. .. option:: --log-config-append PATH, --log-config PATH, --log_config PATH The name of a logging configuration file. This file is appended to any existing logging configuration files. For details about logging configuration files, see the Python logging module documentation. Note that when logging configuration files are used then all logging configuration is set in the configuration file and other logging configuration options are ignored (for example, :option:`--log-date-format`). .. option:: --log-date-format DATE_FORMAT Defines the format string for ``%(asctime)s`` in log records. Default: None. This option is ignored if :option:`--log-config-append` is set. .. option:: --log-dir LOG_DIR, --logdir LOG_DIR (Optional) The base directory used for relative log_file paths. This option is ignored if :option:`--log-config-append` is set. .. option:: --log-file PATH, --logfile PATH (Optional) Name of log file to send logging output to. If no default is set, logging will go to stderr as defined by use_stderr. This option is ignored if :option:`--log-config-append` is set. .. option:: --nodebug The inverse of :option:`--debug`. .. option:: --nopost-mortem The inverse of :option:`--post-mortem`. .. option:: --nouse-journal The inverse of :option:`--use-journal`. .. option:: --nouse-json The inverse of :option:`--use-json`. .. option:: --nouse-syslog The inverse of :option:`--use-syslog`. .. option:: --nowatch-log-file The inverse of :option:`--watch-log-file`. .. option:: --post-mortem Allow post-mortem debugging .. option:: --syslog-log-facility SYSLOG_LOG_FACILITY Syslog facility to receive log lines. This option is ignored if :option:`--log-config-append` is set. .. option:: --use-journal Enable journald for logging. If running in a systemd environment you may wish to enable journal support. Doing so will use the journal native protocol which includes structured metadata in addition to log messages. This option is ignored if :option:`--log-config-append` is set. .. option:: --use-json Use JSON formatting for logging. This option is ignored if :option:`--log-config-append` is set. .. option:: --use-syslog Use syslog for logging. Existing syslog format is DEPRECATED and will be changed later to honor RFC5424. This option is ignored if :option:`--log-config-append` is set. .. option:: --version Show program's version number and exit .. option:: --watch-log-file Uses logging handler designed to watch file system. When log file is moved or removed this handler will open a new log file with specified path instantaneously. It makes sense only if :option:`--log-file` option is specified and Linux platform is used. This option is ignored if :option:`--log-config-append` is set. .. rubric:: Debugger Options: .. option:: --remote_debug-host REMOTE_DEBUG_HOST Debug host (IP or name) to connect to. This command line parameter is used when you want to connect to a nova service via a debugger running on a different host. Note that using the remote debug option changes how Nova uses the eventlet library to support async IO. This could result in failures that do not occur under normal operation. Use at your own risk. Possible Values: * IP address of a remote host as a command line parameter to a nova service. For example:: nova-compute --config-file /etc/nova/nova.conf \ --remote_debug-host <IP address where the debugger is running> .. option:: --remote_debug-port REMOTE_DEBUG_PORT Debug port to connect to. This command line parameter allows you to specify the port you want to use to connect to a nova service via a debugger running on different host. Note that using the remote debug option changes how Nova uses the eventlet library to support async IO. This could result in failures that do not occur under normal operation. Use at your own risk. Possible Values: * Port number you want to use as a command line parameter to a nova service. For example:: nova-compute --config-file ``/etc/nova/nova.conf \ --remote_debug-host <IP address where the debugger is running> \ --remote_debug-port <port it's listening on> Commands ======== configuration file, passed to nova-manage using the ``--config-file`` option(s). This command should be run after ``nova-manage api_db sync``.",Options ======= The standard pattern for executing a nova-manage command is:: nova-manage <category> <command> [<args>] nova-manage nova-manage db These sections describe the available categories and arguments for nova-manage. configuration file passed to nova-manage. This command should be run after ``nova-manage api_db sync``.,163,10
openstack%2Fkeystone~master~Ie45955f5cc54563cc9704d7cb2b656b5544ae030,openstack/keystone,master,Ie45955f5cc54563cc9704d7cb2b656b5544ae030,Remove policy.v3cloudsample.json,MERGED,2019-09-16 02:56:12.000000000,2019-10-04 21:48:40.000000000,2019-10-04 21:46:50.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-16 02:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/220d371798b48694d24c955b5eefac99ef19f671', 'message': 'WIP: Remove unused and unnecessary policies\n\nThese policies have either been made defaults or are no longer used.\nWe can remove them.\n\nThis patch should do the following before removing WIP:\n\n  - remove the remaining policies in policy.v3cloudsample.json (thus\n    removing the entire file)\n  - remove the policy test in test_policy.py that ensures both policy\n    files match\n  - remove any remaining tests that formerly exercised\n    policy.v3cloudsample.json\n\nChange-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n'}, {'number': 2, 'created': '2019-09-16 20:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1282271bcde5ca9e4b55e1578e324a4ad4130047', 'message': 'WIP: Remove unused and unnecessary policies\n\nThese policies have either been made defaults or are no longer used.\nWe can remove them.\n\nThis patch should do the following before removing WIP:\n\n  - remove the remaining policies in policy.v3cloudsample.json (thus\n    removing the entire file)\n  - remove the policy test in test_policy.py that ensures both policy\n    files match\n  - remove any remaining tests that formerly exercised\n    policy.v3cloudsample.json\n\nChange-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n'}, {'number': 3, 'created': '2019-09-16 21:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/85e3d6952752cdfbe9490dded93d2bf782991f57', 'message': 'WIP: Remove unused and unnecessary policies\n\nThese policies have either been made defaults or are no longer used.\nWe can remove them.\n\nThis patch should do the following before removing WIP:\n\n  - remove the remaining policies in policy.v3cloudsample.json (thus\n    removing the entire file)\n  - remove the policy test in test_policy.py that ensures both policy\n    files match\n  - remove any remaining tests that formerly exercised\n    policy.v3cloudsample.json\n\nChange-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n'}, {'number': 4, 'created': '2019-09-26 13:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6ff63fd457e3ba7ff3a8e98ba3ea0fa5c0ae6de0', 'message': ""Remove policy.v3cloudsample.json\n\nWe've make all the default policies keystone supports better by\nincorporating default roles and scope types. These changes have made\nthe ``policy.v3cloudsample.json`` file obsolete.\n\nLet's simply things for users, operators, and develpers by removing\nit.\n\nA follow-on patch will remove the test_v3_protection.py file since\nthose behaviors are passing all the protection tests with the default\npolicies in code.\n\nRelated-Bug: 1805880\nCloses-Bug: 1630434\nCloses-Bug: 1806762\nChange-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n""}, {'number': 5, 'created': '2019-09-27 04:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fc7aedc1c142c36d31487f1656739bfd4a553c2c', 'message': ""Remove policy.v3cloudsample.json\n\nWe've make all the default policies keystone supports better by\nincorporating default roles and scope types. These changes have made\nthe ``policy.v3cloudsample.json`` file obsolete.\n\nLet's simply things for users, operators, and develpers by removing\nit.\n\nA follow-on patch will remove the test_v3_protection.py file since\nthose behaviors are passing all the protection tests with the default\npolicies in code.\n\nRelated-Bug: 1805880\nCloses-Bug: 1630434\nCloses-Bug: 1806762\nChange-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n""}, {'number': 6, 'created': '2019-10-02 20:26:14.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'keystone/tests/unit/test_v3_protection.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1806762-08ff9eecdc03c554.yaml', 'etc/policy.v3cloudsample.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4a6023de5bdfe5a6e9214579a35e083a45c1151', 'message': ""Remove policy.v3cloudsample.json\n\nWe've make all the default policies keystone supports better by\nincorporating default roles and scope types. These changes have made\nthe ``policy.v3cloudsample.json`` file obsolete.\n\nLet's simply things for users, operators, and develpers by removing\nit.\n\nA follow-on patch will remove the test_v3_protection.py file since\nthose behaviors are passing all the protection tests with the default\npolicies in code.\n\nRelated-Bug: 1805880\nCloses-Bug: 1630434\nCloses-Bug: 1806762\nChange-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n""}]",11,682266,d4a6023de5bdfe5a6e9214579a35e083a45c1151,33,7,6,5046,,,0,"Remove policy.v3cloudsample.json

We've make all the default policies keystone supports better by
incorporating default roles and scope types. These changes have made
the ``policy.v3cloudsample.json`` file obsolete.

Let's simply things for users, operators, and develpers by removing
it.

A follow-on patch will remove the test_v3_protection.py file since
those behaviors are passing all the protection tests with the default
policies in code.

Related-Bug: 1805880
Closes-Bug: 1630434
Closes-Bug: 1806762
Change-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030
",git fetch https://review.opendev.org/openstack/keystone refs/changes/66/682266/6 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.v3cloudsample.json'],1,220d371798b48694d24c955b5eefac99ef19f671,train-rc1-policy-fixes," ""identity:list_role_assignments_for_tree"": ""rule:cloud_admin or rule:admin_on_domain_of_project_filter"""," ""admin_or_owner"": ""(rule:admin_required and domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"", ""service_admin_or_owner"": ""rule:service_or_admin or rule:owner"", ""domain_admin_matches_domain_role"": ""rule:admin_required and domain_id:%(role.domain_id)s"", ""get_domain_roles"": ""rule:domain_admin_matches_target_domain_role or rule:project_admin_matches_target_domain_role"", ""domain_admin_matches_target_domain_role"": ""rule:admin_required and domain_id:%(target.role.domain_id)s"", ""project_admin_matches_target_domain_role"": ""rule:admin_required and project_domain_id:%(target.role.domain_id)s"", ""list_domain_roles"": ""rule:domain_admin_matches_filter_on_list_domain_roles or rule:project_admin_matches_filter_on_list_domain_roles"", ""domain_admin_matches_filter_on_list_domain_roles"": ""rule:admin_required and domain_id:%(domain_id)s"", ""project_admin_matches_filter_on_list_domain_roles"": ""rule:admin_required and project_domain_id:%(domain_id)s"", ""admin_and_matching_prior_role_domain_id"": ""rule:admin_required and domain_id:%(target.prior_role.domain_id)s"", ""implied_role_matches_prior_role_domain_or_global"": ""(domain_id:%(target.implied_role.domain_id)s or None:%(target.implied_role.domain_id)s)"", ""admin_on_domain_filter"": ""rule:admin_required and domain_id:%(scope.domain.id)s"", ""admin_on_project_filter"": ""rule:admin_required and project_id:%(scope.project.id)s"", ""identity:list_role_assignments_for_tree"": ""rule:cloud_admin or rule:admin_on_domain_of_project_filter"", ""identity:check_token"": ""rule:admin_or_owner"", ""identity:validate_token"": ""rule:service_admin_or_owner"", ""identity:validate_token_head"": ""rule:service_or_admin"", ""identity:revoke_token"": ""rule:admin_or_owner""",1,21
openstack%2Fopenstacksdk~master~Id1720774bc0f6f398d0739a466c7bd5c54182642,openstack/openstacksdk,master,Id1720774bc0f6f398d0739a466c7bd5c54182642,Fix server for later microversion,MERGED,2019-10-01 16:23:42.000000000,2019-10-04 21:46:59.000000000,2019-10-04 21:44:37.000000000,"[{'_account_id': 2}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-10-01 16:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2de1403c417ffe36b4978dc5d4114f8151531d34', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nDepends-On: https://review.opendev.org/685042\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 2, 'created': '2019-10-03 11:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/afa2e8214a8508a2e9cb8b1e321117a2f5d6773f', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nDepends-On: https://review.opendev.org/685042\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 3, 'created': '2019-10-03 13:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5ab82745723f672305bd387c8f4123abf798dca0', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nDepends-On: https://review.opendev.org/685042\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 4, 'created': '2019-10-03 14:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/92f5be8deb7032478eb76ec6d3fa7ff508c7ca09', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nDepends-On: https://review.opendev.org/685042\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 5, 'created': '2019-10-04 06:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4ddd8c92e670dbcd97ce156d98f133f4d322d59e', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nWe need to clean the policy/policies fields in ServerGroup because\notherwise they're considered dirty and None values are sent.\n\nDepends-On: https://review.opendev.org/685042\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 6, 'created': '2019-10-04 06:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eb235ff9ef10f84bef94da3049fb4b15fe2afebd', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nWe need to clean the policy/policies fields in ServerGroup because\notherwise they're considered dirty and None values are sent.\n\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 7, 'created': '2019-10-04 12:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cd6c3f2c9e1d022021e43258d5794838c104a25b', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nWe need to clean the policy/policies fields in ServerGroup because\notherwise they're considered dirty and None values are sent.\n\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 8, 'created': '2019-10-04 16:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/711959a64911e2fa950b023d658efa1971543da5', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nWe need to clean the policy/policies fields in ServerGroup because\notherwise they're considered dirty and None values are sent.\n\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}, {'number': 9, 'created': '2019-10-04 16:20:15.000000000', 'files': ['openstack/tests/functional/cloud/test_inventory.py', 'openstack/compute/v2/server_group.py', 'releasenotes/notes/fix-for-microversion-70cd686b6d6e3fd0.yaml', 'openstack/cloud/meta.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9874fa81d7227b9ab41a5448bca55d1ac265f3e7', 'message': ""Fix server for later microversion\n\nWe updated the server record for 2.72 but missed some bits of inventory\nbecause we weren't actually gettting 2.72. Whoops.\n\nWe need to clean the policy/policies fields in ServerGroup because\notherwise they're considered dirty and None values are sent.\n\nChange-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642\n""}]",5,685999,9874fa81d7227b9ab41a5448bca55d1ac265f3e7,29,4,9,2,,,0,"Fix server for later microversion

We updated the server record for 2.72 but missed some bits of inventory
because we weren't actually gettting 2.72. Whoops.

We need to clean the policy/policies fields in ServerGroup because
otherwise they're considered dirty and None values are sent.

Change-Id: Id1720774bc0f6f398d0739a466c7bd5c54182642
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/99/685999/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/cloud/test_inventory.py', 'openstack/cloud/meta.py']",2,2de1403c417ffe36b4978dc5d4114f8151531d34,fix-auth-discovery," flavor_id = server['flavor'].get('id') if flavor_id: # In newer nova, the flavor record can be kept around for flavors # that no longer exist. The id and name are not there. flavor_name = cloud.get_flavor_name(flavor_id) if flavor_name: server_vars['flavor']['name'] = flavor_name", flavor_id = server['flavor']['id'] flavor_name = cloud.get_flavor_name(flavor_id) if flavor_name: server_vars['flavor']['name'] = flavor_name,7,6
openstack%2Fneutron-fwaas~master~Ie8b4a3087f50f8d556803c0a1eb1981908b94be7,openstack/neutron-fwaas,master,Ie8b4a3087f50f8d556803c0a1eb1981908b94be7,Add test cases for distributed routers,ABANDONED,2017-09-07 05:10:52.000000000,2019-10-04 21:22:02.000000000,,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-07 05:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/616391488e28f07a7ab21e83b654e5fc0057be63', 'message': 'Improve test cases for distributed routers\n\nCurrently FWaaS doesnt have the unit test cases for distributed\nrouters.\nThis patch adds the same.\n\nChange-Id: Ie8b4a3087f50f8d556803c0a1eb1981908b94be7\n'}, {'number': 2, 'created': '2017-09-07 05:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/64dc452dd567efeaa96f47ffd5bcc243d4ed9d7f', 'message': 'Improve test cases for distributed routers\n\nCurrently FWaaS doesnt have the unit test cases for distributed\nrouters.\nThis patch adds the same.\n\nChange-Id: Ie8b4a3087f50f8d556803c0a1eb1981908b94be7\n'}, {'number': 3, 'created': '2018-08-27 06:02:40.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/570ce66e8fe7a5600548cb491c0031a7d70530fd', 'message': ""Add test cases for distributed routers\n\nCurrently, FWaaS doesn't have the unit test cases for DVR. This patch\nadds DVR test cases.\n\nCo-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>\nChange-Id: Ie8b4a3087f50f8d556803c0a1eb1981908b94be7\n""}]",0,501567,570ce66e8fe7a5600548cb491c0031a7d70530fd,16,7,3,17776,,,0,"Add test cases for distributed routers

Currently, FWaaS doesn't have the unit test cases for DVR. This patch
adds DVR test cases.

Co-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>
Change-Id: Ie8b4a3087f50f8d556803c0a1eb1981908b94be7
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/67/501567/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/services/firewall/drivers/linux/test_iptables_fwaas_v2.py', 'neutron_fwaas/tests/unit/services/firewall/drivers/linux/test_iptables_fwaas.py']",2,616391488e28f07a7ab21e83b654e5fc0057be63,improve_dvr_scenarios, def test_delete_firewall_with_distributed_attr(self): self._test_delete_firewall(distributed=True) ,,6,0
openstack%2Fcinder~master~I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62,openstack/cinder,master,I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62,PowerMax Driver - ODE Capabilities Fix,MERGED,2019-08-26 14:08:59.000000000,2019-10-04 21:03:59.000000000,2019-10-03 17:47:56.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-26 14:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/057d9a08ca617536e9c5162fd824f835cf7db6be', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 2, 'created': '2019-08-29 14:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed6eced21cb1f513d2beeafa0fa7f05ff2ad4204', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 3, 'created': '2019-08-30 09:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc83b037aec4aee3f621d940c7de5b53a048b394', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 4, 'created': '2019-08-30 14:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18b077b4daa3ecbf91758cb84922f16c2d083119', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 5, 'created': '2019-09-19 16:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f89868bfa86195c1a74837ddf1a5c01926a52c43', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 6, 'created': '2019-09-20 12:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2ebc73d6cb29ada08886e6bb1b647e4708b9da8', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 7, 'created': '2019-09-24 15:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa97da565f26dff581590fdac41054b1c67ebe8b', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 8, 'created': '2019-09-27 17:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea4617363867eb163d75c3a3c662907f5c1d3fda', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}, {'number': 9, 'created': '2019-10-02 20:31:16.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f601519a28f4d1af217dfff97c1c703b15b5ed4', 'message': 'PowerMax Driver - ODE Capabilities Fix\n\nFix for checking ODE capabilities on the remote array in an\nrdf enabled environment. The ucode level being check against\nwas from the primary array and not the remote.\n\nChange-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62\n'}]",0,678561,7f601519a28f4d1af217dfff97c1c703b15b5ed4,322,46,9,30165,,,0,"PowerMax Driver - ODE Capabilities Fix

Fix for checking ODE capabilities on the remote array in an
rdf enabled environment. The ucode level being check against
was from the primary array and not the remote.

Change-Id: I3b10a3a75cfdfbfb336c37d1cbc6f7277ba1da62
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/678561/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py']",2,057d9a08ca617536e9c5162fd824f835cf7db6be,retype_replication_fix, r2_ucode = self.rest.get_array_ucode_version(r2_array), r2_ucode = self.rest.get_array_ucode_version(array),75,11
openstack%2Frequirements~stable%2Fqueens~I55ca0b5afd5bd41b93fa3de96b63aaca1dc091c3,openstack/requirements,stable/queens,I55ca0b5afd5bd41b93fa3de96b63aaca1dc091c3,update constraint for oslo.messaging to new release 5.35.6,MERGED,2019-10-04 13:13:15.000000000,2019-10-04 19:57:30.000000000,2019-10-04 19:57:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:13:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bb9337cc90272f37992abcbe57ebd82d6e66a285', 'message': 'update constraint for oslo.messaging to new release 5.35.6\n\nChange-Id: I55ca0b5afd5bd41b93fa3de96b63aaca1dc091c3\nmeta:version: 5.35.6\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Herv Beraud <hberaud@redhat.com>\nmeta:release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I97a9ce144f0da090bfa50d6b3c8e63df61dee0e3\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,686615,bb9337cc90272f37992abcbe57ebd82d6e66a285,6,2,1,11131,,,0,"update constraint for oslo.messaging to new release 5.35.6

Change-Id: I55ca0b5afd5bd41b93fa3de96b63aaca1dc091c3
meta:version: 5.35.6
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Herv Beraud <hberaud@redhat.com>
meta:release:Commit: Herv Beraud <hberaud@redhat.com>
meta:release:Change-Id: I97a9ce144f0da090bfa50d6b3c8e63df61dee0e3
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/686615/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bb9337cc90272f37992abcbe57ebd82d6e66a285,new-release,oslo.messaging===5.35.6,oslo.messaging===5.35.5,1,1
openstack%2Frequirements~stable%2Fstein~Ie1590bca0113c30dfb809f43ba3824f980318aaa,openstack/requirements,stable/stein,Ie1590bca0113c30dfb809f43ba3824f980318aaa,update constraint for python-troveclient to new release 2.17.1,MERGED,2019-10-04 13:10:28.000000000,2019-10-04 19:57:28.000000000,2019-10-04 19:57:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:10:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9317e38a6e277dd448522e004dbcdde03fd2a7b0', 'message': 'update constraint for python-troveclient to new release 2.17.1\n\nChange-Id: Ie1590bca0113c30dfb809f43ba3824f980318aaa\nmeta:version: 2.17.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: Ia1c1f2cb8b306ccbf6e672a76f0fd0268a5e99dd\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,686611,9317e38a6e277dd448522e004dbcdde03fd2a7b0,6,2,1,11131,,,0,"update constraint for python-troveclient to new release 2.17.1

Change-Id: Ie1590bca0113c30dfb809f43ba3824f980318aaa
meta:version: 2.17.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: Ia1c1f2cb8b306ccbf6e672a76f0fd0268a5e99dd
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/686611/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9317e38a6e277dd448522e004dbcdde03fd2a7b0,new-release,python-troveclient===2.17.1,python-troveclient===2.17.0,1,1
openstack%2Fneutron-tempest-plugin~master~Id212c35b71ca9e9af1ea546483c14fd597d895a8,openstack/neutron-tempest-plugin,master,Id212c35b71ca9e9af1ea546483c14fd597d895a8,Disable scenario test for trunk subports connectivity on Queens,MERGED,2019-09-23 07:35:27.000000000,2019-10-04 19:57:27.000000000,2019-10-04 19:57:27.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 07:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/570791e2ebbc20e31e33a5afc0d435e8d603fe1f', 'message': 'Disable scenario test for trunk subports connectivity on Queens\n\nOn Queens release by default iptables-hybrid firewall driver is used.\nUsing trunks with iptables-hybrid driver is not supported so we need\nto skip test\nneutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity\non Queens jobs.\n\nChange-Id: Id212c35b71ca9e9af1ea546483c14fd597d895a8\n'}, {'number': 2, 'created': '2019-10-04 07:19:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/62329269af17ad188e7b53c85ee99225ee647982', 'message': 'Disable scenario test for trunk subports connectivity on Queens\n\nOn Queens release by default iptables-hybrid firewall driver is used.\nUsing trunks with iptables-hybrid driver is not supported so we need\nto skip test\nneutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity\non Queens jobs.\n\nChange-Id: Id212c35b71ca9e9af1ea546483c14fd597d895a8\nRelated-Bug: #1838760\n'}]",0,683853,62329269af17ad188e7b53c85ee99225ee647982,18,6,2,11975,,,0,"Disable scenario test for trunk subports connectivity on Queens

On Queens release by default iptables-hybrid firewall driver is used.
Using trunks with iptables-hybrid driver is not supported so we need
to skip test
neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity
on Queens jobs.

Change-Id: Id212c35b71ca9e9af1ea546483c14fd597d895a8
Related-Bug: #1838760
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/53/683853/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,570791e2ebbc20e31e33a5afc0d435e8d603fe1f,disable-trunk-subport-test-on-queens," # TODO(slaweq): remove trunks subport_connectivity test from blacklist # when bug https://bugs.launchpad.net/neutron/+bug/1838760 will be fixed tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity)""",,3,0
openstack%2Fswift~master~I40ce1d36f1c207a0d3e99a3a84a162b21b3c57cf,openstack/swift,master,I40ce1d36f1c207a0d3e99a3a84a162b21b3c57cf,Imported Translations from Zanata,MERGED,2019-10-04 07:05:08.000000000,2019-10-04 19:40:13.000000000,2019-10-04 19:38:13.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 07:05:08.000000000', 'files': ['swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/cb76e00e90aea834c8f3dd8a6ca5131acd43663b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I40ce1d36f1c207a0d3e99a3a84a162b21b3c57cf\n'}]",0,686528,cb76e00e90aea834c8f3dd8a6ca5131acd43663b,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I40ce1d36f1c207a0d3e99a3a84a162b21b3c57cf
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/686528/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po']",13,cb76e00e90aea834c8f3dd8a6ca5131acd43663b,zanata/translations,"""POT-Creation-Date: 2019-10-04 06:59+0000\n""","""POT-Creation-Date: 2018-08-09 00:12+0000\n""#, python-format msgid "", %s containers deleted"" msgstr "", %s containers apagados"" #, python-format msgid "", %s containers possibly remaining"" msgstr "", %s containers possivelmente restando"" #, python-format msgid "", %s containers remaining"" msgstr "", %s containers restando"" #, python-format msgid "", %s objects deleted"" msgstr "", %s objetos apagados"" #, python-format msgid "", %s objects possibly remaining"" msgstr "", %s objetos possivelmente restando"" #, python-format msgid "", %s objects remaining"" msgstr "", %s objetos restando"" #, python-format msgid "", elapsed: %.02fs"" msgstr "", passados: %.02fs"" msgid "", return codes: "" msgstr "", cdigos de retorno:"" #, python-format msgid ""Beginning pass on account %s"" msgstr ""Iniciando a estapa nas contas %s"" msgid ""Devices pass completed: %.02fs"" msgstr ""Dispositivos finalizados: %.02fs"" #, python-formatmsgid ""Exception in top-level account reaper loop"" msgstr ""Exceo no loop do removedor da conta de nvel superior"" msgid ""Exception in top-levelreconstruction loop"" msgstr ""Exceo no loop de reconstruo de nvel superior"" msgid ""Exception with account %s"" msgstr ""Exceo com a conta %s"" #, python-format msgid ""Exception with containers for account %s"" msgstr ""Exceo com os containers para a conta %s"" #, python-format msgid """" ""Exception with objects for container %(container)s for account %(account)s"" msgstr """" ""Exceo com objetos para o container %(container)s para conta %(account)s"" #, python-formatmsgid ""Incomplete pass on account %s"" msgstr ""Estapa incompleta nas contas %s"" #, python-formatmsgid ""Timeout Exception with %(ip)s:%(port)s/%(device)s"" msgstr ""Exceo de tempo limite com %(ip)s:%(port)s/%(device)s"" #, python-formatmsgid ""Trying to read during GET (retrying)"" msgstr ""Tentando ler durante GET (tentando novamente)"" ",223,954
openstack%2Fpycadf~master~I57071420ae34395f9c56ffe50481138417bbe632,openstack/pycadf,master,I57071420ae34395f9c56ffe50481138417bbe632,Update the constraints url,MERGED,2019-09-29 02:58:09.000000000,2019-10-04 19:19:37.000000000,2019-10-04 19:17:47.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-29 02:58:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/deee57882e8747abbdf5e54e0f31f011508deb62', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I57071420ae34395f9c56ffe50481138417bbe632\n'}]",0,685572,deee57882e8747abbdf5e54e0f31f011508deb62,10,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I57071420ae34395f9c56ffe50481138417bbe632
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/72/685572/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,deee57882e8747abbdf5e54e0f31f011508deb62,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fopenstack-helm-infra~master~I405ca15dc3cd4d6f9d8cbf84ed463af96ad8d9e1,openstack/openstack-helm-infra,master,I405ca15dc3cd4d6f9d8cbf84ed463af96ad8d9e1,Update apiversion,ABANDONED,2019-10-04 18:47:20.000000000,2019-10-04 19:17:11.000000000,,[{'_account_id': 20466}],"[{'number': 1, 'created': '2019-10-04 18:47:20.000000000', 'files': ['ingress/templates/ingress.yaml', 'podsecuritypolicy/templates/podsecuritypolicy.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ec902f96e1acc750baa9bb7cde70bc537c24b84', 'message': 'Update apiversion\n\nThis patch set updates the deprecated apiversion highlighted in [0] in\npreparation for k8s 1.16+ theme.\n\n[0] https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n\nChange-Id: I405ca15dc3cd4d6f9d8cbf84ed463af96ad8d9e1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,686824,2ec902f96e1acc750baa9bb7cde70bc537c24b84,3,1,1,20466,,,0,"Update apiversion

This patch set updates the deprecated apiversion highlighted in [0] in
preparation for k8s 1.16+ theme.

[0] https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/

Change-Id: I405ca15dc3cd4d6f9d8cbf84ed463af96ad8d9e1
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/24/686824/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/ingress.yaml', 'podsecuritypolicy/templates/podsecuritypolicy.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl']",3,2ec902f96e1acc750baa9bb7cde70bc537c24b84,manifest-update, apiVersion: networking.k8s.io/v1beta1 apiVersion: networking.k8s.io/v1beta1 apiVersion: networking.k8s.io/v1beta1 apiVersion: networking.k8s.io/v1beta1apiVersion: networking.k8s.io/v1beta1apiVersion: networking.k8s.io/v1beta1, apiVersion: extensions/v1beta1 apiVersion: extensions/v1beta1 apiVersion: extensions/v1beta1 apiVersion: extensions/v1beta1apiVersion: extensions/v1beta1apiVersion: extensions/v1beta1,8,8
openstack%2Ftripleo-quickstart-extras~master~I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e,openstack/tripleo-quickstart-extras,master,I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e,Fix regex to detect overcloud image build,MERGED,2019-09-27 15:03:21.000000000,2019-10-04 19:08:40.000000000,2019-10-04 19:08:40.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-27 15:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0a40f632af71f7473a90c751d4a22c8a17fde82e', 'message': 'Fix regex to detect overcloud image build\n\nImage building was not running in stable/ branches\ndue to wrong regex, this patch fixes it to build on\nbranches containing / in them.\n\nDepends-On: https://review.opendev.org/#/c/685343/\nChange-Id: I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e\n'}, {'number': 2, 'created': '2019-09-27 15:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dd910bde01fff972a69533acd97e1af6f99e75f4', 'message': 'Fix regex to detect overcloud image build\n\nImage building was not running in stable/ branches\ndue to wrong regex, this patch fixes it to build on\nbranches containing / in them.\n\nChange-Id: I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e\n'}, {'number': 3, 'created': '2019-09-30 11:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5cbad52658fb7a30d9b02fadb52601f425099ab7', 'message': 'Fix regex to detect overcloud image build\n\nImage building was not running in stable/ branches\ndue to wrong regex, this patch fixes it to build on\nbranches containing / in them.\n\nDepends-On: https://review.opendev.org/#/c/685368/\nChange-Id: I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e\n'}, {'number': 4, 'created': '2019-09-30 17:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/02dfc4634045f587c0533503829b2562674320a0', 'message': 'Fix regex to detect overcloud image build\n\nImage building was not running in stable/ branches\ndue to wrong regex, this patch fixes it to build on\nbranches containing / in them.\n\nChange-Id: I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e\n'}, {'number': 5, 'created': '2019-10-01 06:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4fc660ee7955818f42896c21d1296a06523c61c4', 'message': 'Fix regex to detect overcloud image build\n\nImage building was not running in stable/ branches\ndue to wrong regex, this patch fixes it to build on\nbranches containing / in them.\n\nDepends-On: https://review.opendev.org/#/c/685877/\nChange-Id: I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e\n'}, {'number': 6, 'created': '2019-10-03 04:18:13.000000000', 'files': ['roles/check-to-build-or-not-to-build/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/62cea0868dd9e241051e38461ac01fc66a28bcf8', 'message': 'Fix regex to detect overcloud image build\n\nImage building was not running in stable/ branches\ndue to wrong regex, this patch fixes it to build on\nbranches containing / in them.\n\nChange-Id: I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e\n'}]",2,685368,62cea0868dd9e241051e38461ac01fc66a28bcf8,37,8,6,13861,,,0,"Fix regex to detect overcloud image build

Image building was not running in stable/ branches
due to wrong regex, this patch fixes it to build on
branches containing / in them.

Change-Id: I692c3db7c14914f3e81b9c042579a6f7c0cf1f1e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/68/685368/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/check-to-build-or-not-to-build/tasks/main.yml'],1,0a40f632af71f7473a90c751d4a22c8a17fde82e,," zuul_changes: ""{{ zuul_changes|regex_replace(':[a-z/]*:refs/changes/\\d{2}/\\d+/\\d+','') }}"""," zuul_changes: ""{{ zuul_changes|regex_replace(':[a-z]*:refs/changes/\\d{2}/\\d+/\\d+','') }}""",1,1
openstack%2Fovsdbapp~stable%2Ftrain~I264200ae016e3928fb4aff3bdcc7c1a94f91cae4,openstack/ovsdbapp,stable/train,I264200ae016e3928fb4aff3bdcc7c1a94f91cae4,Fix all of the train gate issues,MERGED,2019-10-02 18:33:25.000000000,2019-10-04 18:54:44.000000000,2019-10-04 17:04:13.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 18:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/fa5744b82b5b11c01c0c6d186604b206f0237624', 'message': 'Handle the ovs/ovn split\n\nThis is the bare minimum to run against ovs/ovn master after the\nsplit. It should be updated to handle running against system-\ninstalled OVN.\n\nChange-Id: I264200ae016e3928fb4aff3bdcc7c1a94f91cae4\n(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)\n'}, {'number': 2, 'created': '2019-10-03 22:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/eccd988db846df1227f25765a0d598b91f7d05c8', 'message': 'Handle the ovs/ovn split\n\nThis is the bare minimum to run against ovs/ovn master after the\nsplit. It should be updated to handle running against system-\ninstalled OVN.\n\nChange-Id: I264200ae016e3928fb4aff3bdcc7c1a94f91cae4\n(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)\n'}, {'number': 3, 'created': '2019-10-04 13:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3c4d1b8f0c9de87803b341745ea74d9e919acb92', 'message': 'Handle the ovs/ovn split\n\nThis is the bare minimum to run against ovs/ovn master after the\nsplit. It should be updated to handle running against system-\ninstalled OVN.\n\nChange-Id: I264200ae016e3928fb4aff3bdcc7c1a94f91cae4\n(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)\n'}, {'number': 4, 'created': '2019-10-04 16:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/58a69d28c081135ff35fafb788304598678c2dfb', 'message': 'Handle the ovs/ovn split\n\nThis is the bare minimum to run against ovs/ovn master after the\nsplit. It should be updated to handle running against system-\ninstalled OVN.\n\nChange-Id: I264200ae016e3928fb4aff3bdcc7c1a94f91cae4\n(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)\n'}, {'number': 5, 'created': '2019-10-04 16:33:35.000000000', 'files': ['.gitreview', 'ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'zuul.d/project.yaml', 'ovsdbapp/tests/functional/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/498e0863f42e845ecd02e33c8e1a8c47c22ec017', 'message': 'Fix all of the train gate issues\n\nUpdate gitreview for train\n\nChange-Id: Ieab25244e3d1bff56537de1d5915736f3e8c26dc\n\nFix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)\n\nHandle the ovs/ovn split\n\nThis is the bare minimum to run against ovs/ovn master after the\nsplit. It should be updated to handle running against system-\ninstalled OVN.\n\nChange-Id: I264200ae016e3928fb4aff3bdcc7c1a94f91cae4\n(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)\n'}]",3,686238,498e0863f42e845ecd02e33c8e1a8c47c22ec017,26,6,5,5756,,,0,"Fix all of the train gate issues

Update gitreview for train

Change-Id: Ieab25244e3d1bff56537de1d5915736f3e8c26dc

Fix building OVS after python2 removal

Switch functional to use python3 to install python3-based
dependencies, which the OVS build checks for. Also, remove
the py36 test

Change-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd
(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)

Handle the ovs/ovn split

This is the bare minimum to run against ovs/ovn master after the
split. It should be updated to handle running against system-
installed OVN.

Change-Id: I264200ae016e3928fb4aff3bdcc7c1a94f91cae4
(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/38/686238/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'ovsdbapp/tests/functional/base.py', 'tox.ini']",4,fa5744b82b5b11c01c0c6d186604b206f0237624,686238, OVN_SRCDIR={envdir}/src/ovn,,15,4
openstack%2Fpython-dracclient~stable%2Ftrain~I5d7060cf70a7ba091af77c03ecd112475e5e8edb,openstack/python-dracclient,stable/train,I5d7060cf70a7ba091af77c03ecd112475e5e8edb,Fix .gitreview in stable/train,MERGED,2019-10-04 17:35:52.000000000,2019-10-04 18:41:07.000000000,2019-10-04 18:41:07.000000000,"[{'_account_id': 7160}, {'_account_id': 8068}, {'_account_id': 10379}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2019-10-04 17:35:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/78407a0dd64ff67101a7eb76f7a840d0e3d24bae', 'message': 'Fix .gitreview in stable/train\n\nThis patch updates .gitreview on the stable/train branch so that\n""git review"" automatically pushes to the correct branch.\n\nChange-Id: I5d7060cf70a7ba091af77c03ecd112475e5e8edb\n'}]",0,686790,78407a0dd64ff67101a7eb76f7a840d0e3d24bae,8,6,1,10250,,,0,"Fix .gitreview in stable/train

This patch updates .gitreview on the stable/train branch so that
""git review"" automatically pushes to the correct branch.

Change-Id: I5d7060cf70a7ba091af77c03ecd112475e5e8edb
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/90/686790/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,78407a0dd64ff67101a7eb76f7a840d0e3d24bae,fix_gitrevew_train,defaultbranch=stable/train,,1,0
openstack%2Fossa~master~I791742473e140e7366117c548e0525da7cb75681,openstack/ossa,master,I791742473e140e7366117c548e0525da7cb75681,Implement suggestions from Carlos & Adam,ABANDONED,2019-10-04 18:37:25.000000000,2019-10-04 18:38:52.000000000,,[],"[{'number': 1, 'created': '2019-10-04 18:37:25.000000000', 'files': ['ossa/OSSA-2019-005.yaml'], 'web_link': 'https://opendev.org/openstack/ossa/commit/d430df5894b6498009b672dc422a47fcc951994c', 'message': 'Implement suggestions from Carlos & Adam\n\nChange-Id: I791742473e140e7366117c548e0525da7cb75681\n'}]",0,686821,d430df5894b6498009b672dc422a47fcc951994c,2,0,1,27316,,,0,"Implement suggestions from Carlos & Adam

Change-Id: I791742473e140e7366117c548e0525da7cb75681
",git fetch https://review.opendev.org/openstack/ossa refs/changes/21/686821/1 && git format-patch -1 --stdout FETCH_HEAD,['ossa/OSSA-2019-005.yaml'],1,d430df5894b6498009b672dc422a47fcc951994c,686724, requests because cmd/agent.py gunicorn cert_reqs option is incorrectly set to True instead of ssl.CERT_REQUIRED., requests because cmd/agent.py gunicorn cert_reqs option is falsely set to True instead of ssl.CERT_REQUIRED. master: - https://review.opendev.org/686540 ,2,5
openstack%2Ftripleo-ansible~master~I2a91ca1aa91d91f6f525f2fba0b093c7ec216e1d,openstack/tripleo-ansible,master,I2a91ca1aa91d91f6f525f2fba0b093c7ec216e1d,Set calling_ansible_environment_variables after preset vars,MERGED,2019-10-03 21:03:25.000000000,2019-10-04 18:34:56.000000000,2019-10-04 18:34:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 21:03:25.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47a055558ddd432143ab65044282d381fef6e93a', 'message': 'Set calling_ansible_environment_variables after preset vars\n\nThis patch moves calling_ansible_environment_variables after the preset\nvars when constructing the ansible-playbook commands for ceph-ansible.\n\nThis makes it so that variables set on the command line take precedence\nover what is set by these roles. For example, setting a customer\nANSIBLE_CONFIG on the command line would now have that value passed to\nthe ansible-playbook commands used for ceph-ansible, when previously it\nwould have been overridden as {{ playbook_dir }}/ansible.cfg.\n\nChange-Id: I2a91ca1aa91d91f6f525f2fba0b093c7ec216e1d\n'}]",0,686493,47a055558ddd432143ab65044282d381fef6e93a,9,5,1,7144,,,0,"Set calling_ansible_environment_variables after preset vars

This patch moves calling_ansible_environment_variables after the preset
vars when constructing the ansible-playbook commands for ceph-ansible.

This makes it so that variables set on the command line take precedence
over what is set by these roles. For example, setting a customer
ANSIBLE_CONFIG on the command line would now have that value passed to
the ansible-playbook commands used for ceph-ansible, when previously it
would have been overridden as {{ playbook_dir }}/ansible.cfg.

Change-Id: I2a91ca1aa91d91f6f525f2fba0b093c7ec216e1d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/686493/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml']",2,47a055558ddd432143ab65044282d381fef6e93a,," - ""{{ calling_ansible_environment_variables|join(' ') }}"""," - ""{{ calling_ansible_environment_variables|join(' ') }}""",2,2
openstack%2Ftripleo-ansible~master~I8801ae9096855a9ea836755b6bfd3d7ead1f5d06,openstack/tripleo-ansible,master,I8801ae9096855a9ea836755b6bfd3d7ead1f5d06,Add podman_container module,MERGED,2019-09-16 18:53:07.000000000,2019-10-04 18:24:24.000000000,2019-10-04 18:24:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-16 18:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a9a56aa99cb50fe94ed6e3ff8356676247d62f7', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 2, 'created': '2019-09-17 01:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e293dc9a4b61d8f07409e243cb9db926f89127bc', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 3, 'created': '2019-10-01 01:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dac439e78cacf28d6e1f89061dd5bb211d0e98ad', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 4, 'created': '2019-10-01 01:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c953c79aca2ead21c7179e1cb1f9ddd6d32a66d', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 5, 'created': '2019-10-01 13:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa8f66780d14e8413687b7ef527eba4536c2572d', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 6, 'created': '2019-10-02 01:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/294e2bd15b437c0a011425a70e3280e2ba21508f', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 7, 'created': '2019-10-02 19:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/085baac6d5a50d0e6e5ec70619678d508df21f58', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 8, 'created': '2019-10-02 19:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9d52ae4a481e44daca5598f4d216c83ab1b9ea2', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 9, 'created': '2019-10-03 13:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79457a399db132d8b0217be9756e25b2f5fe53d9', 'message': 'WIP: POC of podman_container\n\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}, {'number': 10, 'created': '2019-10-03 19:40:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/playbooks/podman_tests.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aac956ec811c990b91a7e5df6062fff48b4d25b0', 'message': 'Add podman_container module\n\nAdd module for managing podman containers on host\nChange-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06\n'}]",2,682458,aac956ec811c990b91a7e5df6062fff48b4d25b0,37,7,10,10969,,,0,"Add podman_container module

Add module for managing podman containers on host
Change-Id: I8801ae9096855a9ea836755b6bfd3d7ead1f5d06
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/682458/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/playbooks/podman_tests.yml']",2,4a9a56aa99cb50fe94ed6e3ff8356676247d62f7,podman_container,"- name: Test podman_image when: - ansible_facts.virtualization_type != 'docker' - ansible_facts.distribution in ['RedHat', 'Fedora'] block: - name: Test no image with default action podman_container: name: container ignore_errors: true register: no_image - name: Test no image with state 'started' podman_container: name: container state: started ignore_errors: true register: no_image1 - name: Test no image with state 'present' podman_container: name: container state: present ignore_errors: true register: no_image2 - name: Check no image assert: that: - no_image is failed - no_image1 is failed - no_image2 is failed - no_image.msg == ""State 'started' required image to be configured!"" - no_image1.msg == ""State 'started' required image to be configured!"" - no_image2.msg == ""State 'present' required image to be configured!"" fail_msg: No image test failed! success_msg: No image test passed! - name: Ensure image doesn't exist podman_image: name: alpine:3.7 state: absent - name: Check pulling image podman_container: name: container image: alpine:3.7 state: present command: sleep 1d register: image - name: Check using already pulled image podman_container: name: container2 image: alpine:3.7 state: present command: sleep 1d register: image2 - name: Check output is correct assert: that: - image is changed - image.ansible_facts is defined - image.ansible_facts.podman_container is defined - image.ansible_facts.podman_container['State']['Running'] == true - image.container is defined - image.container['State']['Running'] == true - ""'pulled image alpine:3.7' in image.actions"" - ""'started container' in image.actions"" - image2 is changed - image2.ansible_facts is defined - image2.ansible_facts.podman_container is defined - image2.ansible_facts.podman_container['State']['Running'] == true - image2.container is defined - image2.container['State']['Running'] == true - ""'pulled image alpine:3.7' not in image2.actions"" - ""'started container2' in image2.actions"" fail_msg: Pulling image test failed! success_msg: Pulling image test passed! - name: Check failed image pull podman_container: name: container image: ineverneverneverexist state: present command: sleep 1d register: imagefail ignore_errors: true - name: Check output is correct assert: that: - imagefail is failed - imagefail.msg == ""Can't pull image ineverneverneverexist"" - name: Force container recreate podman_container: name: container image: alpine state: present command: sleep 1d recreate: true register: recreated - name: Check output is correct assert: that: - recreated is changed - recreated.ansible_facts is defined - recreated.ansible_facts.podman_container is defined - recreated.ansible_facts.podman_container['State']['Running'] == true - ""'recreated container' in recreated.actions"" fail_msg: Force recreate test failed! success_msg: Force recreate test passed! - name: Stop container podman_container: name: container state: stopped register: stopped - name: Stop the same container again (idempotency) podman_container: name: container state: stopped register: stopped_again - name: Check output is correct assert: that: - stopped is changed - stopped.ansible_facts is defined - stopped.ansible_facts.podman_container is defined - stopped.ansible_facts.podman_container['State']['Running'] == false - ""'stopped container' in stopped.actions"" - stopped_again is not changed - stopped_again.ansible_facts is defined - stopped_again.ansible_facts.podman_container is defined - stopped_again.ansible_facts.podman_container['State']['Running'] == false - stopped_again.actions == [] fail_msg: Stopping container test failed! success_msg: Stopping container test passed! - name: Delete stopped container podman_container: name: container state: absent register: deleted - name: Delete again container (idempotency) podman_container: name: container state: absent register: deleted_again - name: Check output is correct assert: that: - deleted is changed - deleted.ansible_facts is defined - deleted.ansible_facts.podman_container is defined - deleted.ansible_facts.podman_container == {} - ""'deleted container' in deleted.actions"" - deleted_again is not changed - deleted_again.ansible_facts is defined - deleted_again.ansible_facts.podman_container is defined - deleted_again.ansible_facts.podman_container == {} - deleted_again.actions == [] fail_msg: Deleting stopped container test failed! success_msg: Deleting stopped container test passed! - name: Create container, but don't run podman_container: name: container image: alpine:3.7 state: stopped command: sleep 1d register: created - name: Check output is correct assert: that: - created is changed - created.ansible_facts is defined - created.ansible_facts.podman_container is defined - created.ansible_facts.podman_container != {} - created.ansible_facts.podman_container['State']['Running'] == false - ""'created container' in created.actions"" fail_msg: ""Creating stopped container test failed!"" success_msg: ""Creating stopped container test passed!"" - name: Delete created container podman_container: name: container state: absent - name: Start container that was deleted podman_container: name: container image: alpine:3.7 state: started command: sleep 1d register: started - name: Check output is correct assert: that: - started is changed - started.ansible_facts is defined - started.ansible_facts.podman_container is defined - started.ansible_facts.podman_container['State']['Running'] == true - started.container is defined - started.container['State']['Running'] == true - ""'pulled image alpine:3.7' not in started.actions"" - name: Delete started container podman_container: name: container state: absent register: deleted - name: Delete again container (idempotency) podman_container: name: container state: absent register: deleted_again - name: Check output is correct assert: that: - deleted is changed - deleted.ansible_facts is defined - deleted.ansible_facts.podman_container is defined - deleted.ansible_facts.podman_container == {} - ""'deleted container' in deleted.actions"" - deleted_again is not changed - deleted_again.ansible_facts is defined - deleted_again.ansible_facts.podman_container is defined - deleted_again.ansible_facts.podman_container == {} - deleted_again.actions == [] fail_msg: Deleting started container test failed! success_msg: Deleting started container test passed! - name: Recreate container with parameters podman_container: name: container image: alpine:3.7 state: started command: sleep 1d recreate: true etc_hosts: host1: 127.0.0.1 host2: 127.0.0.1 annotation: this: ""annotation_value"" dns: - 1.1.1.1 - 8.8.4.4 dns_search: example.com cap_add: - SYS_TIME - NET_ADMIN publish: - ""9000:80"" - ""9001:8000"" workdir: ""/bin"" env: FOO: bar BAR: foo TEST: 1 BOOL: false group_add: ""somegroup"" label: somelabel: labelvalue otheralbe: othervalue volumes: - /tmp:/data register: test - name: Check output is correct assert: that: - test is changed - test.ansible_facts is defined - test.ansible_facts.podman_container is defined - test.ansible_facts.podman_container != {} - test.ansible_facts.podman_container['State']['Running'] == true # test capabilities - ""'CAP_SYS_TIME' in test.ansible_facts.podman_container['BoundingCaps']"" - ""'CAP_NET_ADMIN' in test.ansible_facts.podman_container['BoundingCaps']"" # test annotations - test.ansible_facts.podman_container['Config']['Annotations']['this'] is defined - test.ansible_facts.podman_container['Config']['Annotations']['this'] == ""annotation_value"" # test DNS - test.ansible_facts.podman_container['HostConfig']['DNS'] is defined - test.ansible_facts.podman_container['HostConfig']['DNS'] == ['1.1.1.1', '8.8.4.4'] # test ports - test.ansible_facts.podman_container['NetworkSettings']['Ports']|length == 2 # test working dir - test.ansible_facts.podman_container['Config']['WorkingDir'] == ""/bin"" # test dns search - test.ansible_facts.podman_container['HostConfig']['DNSSearch'] == ['example.com'] # test environment variables - ""'FOO=bar' in test.ansible_facts.podman_container['Config']['Env']"" - ""'BAR=foo' in test.ansible_facts.podman_container['Config']['Env']"" - ""'TEST=1' in test.ansible_facts.podman_container['Config']['Env']"" - ""'BOOL=False' in test.ansible_facts.podman_container['Config']['Env']"" # test labels - test.ansible_facts.podman_container['Config']['Labels'] | length == 2 - test.ansible_facts.podman_container['Config']['Labels']['somelabel'] == ""labelvalue"" - test.ansible_facts.podman_container['Config']['Labels']['otheralbe'] == ""othervalue"" # test mounts, in some of podman versions ""source"" and ""destination"" could be with different case # that's totally bizarre, but that's what it is - >- test.ansible_facts.podman_container['Mounts'][0]['destination'] is defined and '/data' in test.ansible_facts.podman_container['Mounts'] | map(attribute='destination') | list or test.ansible_facts.podman_container['Mounts'][0]['Destination'] is defined and '/data' in test.ansible_facts.podman_container['Mounts'] | map(attribute='Destination') | list - >- test.ansible_facts.podman_container['Mounts'][0]['source'] is defined and '/tmp' in test.ansible_facts.podman_container['Mounts'] | map(attribute='source') | list or test.ansible_facts.podman_container['Mounts'][0]['Source'] is defined and '/tmp' in test.ansible_facts.podman_container['Mounts'] | map(attribute='Source') | list fail_msg: Parameters container test failed! success_msg: Parameters container test passed! ",,1617,107
openstack%2Ftripleo-quickstart~master~I70446477ecff02a49d2c19618a89c62108323269,openstack/tripleo-quickstart,master,I70446477ecff02a49d2c19618a89c62108323269,Fix log collection for Phase1 virthost jobs,MERGED,2019-10-04 04:48:13.000000000,2019-10-04 18:20:47.000000000,2019-10-04 18:18:21.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-10-04 04:48:13.000000000', 'files': ['ci-scripts/collect-logs.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/20230d0729c9327a5c2a6136c6dca91b053ef8b0', 'message': 'Fix log collection for Phase1 virthost jobs\n\nFollowup of https://review.opendev.org/#/c/685090/.\n\nChange-Id: I70446477ecff02a49d2c19618a89c62108323269\n'}]",0,686522,20230d0729c9327a5c2a6136c6dca91b053ef8b0,14,9,1,13861,,,0,"Fix log collection for Phase1 virthost jobs

Followup of https://review.opendev.org/#/c/685090/.

Change-Id: I70446477ecff02a49d2c19618a89c62108323269
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/22/686522/1 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/collect-logs.sh'],1,20230d0729c9327a5c2a6136c6dca91b053ef8b0,, 127.0.0.2, localhost,1,1
openstack%2Fpuppet-nova~master~Iaf32bd054d1ef1848aace205ef727b993f8cc866,openstack/puppet-nova,master,Iaf32bd054d1ef1848aace205ef727b993f8cc866,Update master for stable/train,MERGED,2019-10-04 13:32:20.000000000,2019-10-04 18:06:49.000000000,2019-10-04 18:04:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:32:20.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4c9e76915b1861b1dcbee64ed50d989d10a6aac9', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Iaf32bd054d1ef1848aace205ef727b993f8cc866\nSem-Ver: feature\n'}]",0,686678,4c9e76915b1861b1dcbee64ed50d989d10a6aac9,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Iaf32bd054d1ef1848aace205ef727b993f8cc866
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/78/686678/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,4c9e76915b1861b1dcbee64ed50d989d10a6aac9,reno-train, train,,7,0
openstack%2Fpuppet-nova~master~Ia4afd46838c822c464be5f69111452b9b636b035,openstack/puppet-nova,master,Ia4afd46838c822c464be5f69111452b9b636b035,Fix puppet error handling,MERGED,2019-10-04 10:04:02.000000000,2019-10-04 18:04:53.000000000,2019-10-04 18:04:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 10:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b660b918810835d03e9ae33251f87855ad82df07', 'message': 'Fix puppet error handling\n\nFixed puppet error handling which is failing in CI jobs.\n\nChange-Id: Ia4afd46838c822c464be5f69111452b9b636b035\n'}, {'number': 2, 'created': '2019-10-04 12:02:22.000000000', 'files': ['spec/classes/nova_compute_spec.rb', 'spec/classes/nova_wsgi_apache_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d58ad8c9d415df930a0eebd02375077f75496834', 'message': 'Fix puppet error handling\n\nFixed puppet error handling which is failing in CI jobs.\n\nCloses-Bug: #1846716\nChange-Id: Ia4afd46838c822c464be5f69111452b9b636b035\n'}]",0,686563,d58ad8c9d415df930a0eebd02375077f75496834,9,4,2,20733,,,0,"Fix puppet error handling

Fixed puppet error handling which is failing in CI jobs.

Closes-Bug: #1846716
Change-Id: Ia4afd46838c822c464be5f69111452b9b636b035
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/63/686563/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_spec.rb', 'spec/classes/nova_wsgi_apache_api_spec.rb']",2,b660b918810835d03e9ae33251f87855ad82df07,fix-spec-test," it { should raise_error(Puppet::Error, /::nova::api class must be declared in composition layer./) }"," it { is_expected.to raise_error Puppet::Error, /::nova::api class must be declared in composition layer./ }",2,2
openstack%2Fpuppet-tempest~master~Id2a1b8dd8db7201c7af685d0cc69205a25fdd955,openstack/puppet-tempest,master,Id2a1b8dd8db7201c7af685d0cc69205a25fdd955,Update master for stable/train,MERGED,2019-10-04 13:37:54.000000000,2019-10-04 18:00:54.000000000,2019-10-04 17:57:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:37:54.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/98dacc3204af7cf7d8e48c6a6d4a5bbbbd1ecdc6', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Id2a1b8dd8db7201c7af685d0cc69205a25fdd955\nSem-Ver: feature\n'}]",0,686708,98dacc3204af7cf7d8e48c6a6d4a5bbbbd1ecdc6,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Id2a1b8dd8db7201c7af685d0cc69205a25fdd955
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/08/686708/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,98dacc3204af7cf7d8e48c6a6d4a5bbbbd1ecdc6,reno-train, train,,7,0
openstack%2Fpuppet-vitrage~master~I34e523d2cbece3709478310a594093f8c18111dc,openstack/puppet-vitrage,master,I34e523d2cbece3709478310a594093f8c18111dc,Update master for stable/train,MERGED,2019-10-04 13:38:59.000000000,2019-10-04 18:00:18.000000000,2019-10-04 17:58:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:38:59.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/59d2f5ecefbaf4692eebcc097de38aca9862f550', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I34e523d2cbece3709478310a594093f8c18111dc\nSem-Ver: feature\n'}]",0,686714,59d2f5ecefbaf4692eebcc097de38aca9862f550,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I34e523d2cbece3709478310a594093f8c18111dc
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/14/686714/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,59d2f5ecefbaf4692eebcc097de38aca9862f550,reno-train, train,,7,0
openstack%2Fpuppet-sahara~master~I2dae6db3257018ddc88aeebe2a5f553e7efe2a35,openstack/puppet-sahara,master,I2dae6db3257018ddc88aeebe2a5f553e7efe2a35,Update master for stable/train,MERGED,2019-10-04 13:36:12.000000000,2019-10-04 18:00:13.000000000,2019-10-04 17:58:45.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:36:12.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/1bb9c9cdac35b323e5955bd4d8dc7fde78d875cb', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I2dae6db3257018ddc88aeebe2a5f553e7efe2a35\nSem-Ver: feature\n'}]",0,686699,1bb9c9cdac35b323e5955bd4d8dc7fde78d875cb,9,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I2dae6db3257018ddc88aeebe2a5f553e7efe2a35
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/99/686699/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,1bb9c9cdac35b323e5955bd4d8dc7fde78d875cb,reno-train, train,,7,0
openstack%2Fpuppet-swift~master~I6becc6636f27aa6bf1d832acb8a65cf99e7ef9eb,openstack/puppet-swift,master,I6becc6636f27aa6bf1d832acb8a65cf99e7ef9eb,Update master for stable/train,MERGED,2019-10-04 13:36:47.000000000,2019-10-04 18:00:12.000000000,2019-10-04 17:58:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:36:47.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/57503cb95a178dfaa15b9031062063f6196866b1', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I6becc6636f27aa6bf1d832acb8a65cf99e7ef9eb\nSem-Ver: feature\n'}]",0,686702,57503cb95a178dfaa15b9031062063f6196866b1,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I6becc6636f27aa6bf1d832acb8a65cf99e7ef9eb
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/02/686702/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,57503cb95a178dfaa15b9031062063f6196866b1,reno-train, train,,7,0
openstack%2Fpuppet-watcher~master~I8c33e833b827e9c392ac1fad772afff1ab7713ac,openstack/puppet-watcher,master,I8c33e833b827e9c392ac1fad772afff1ab7713ac,Update master for stable/train,MERGED,2019-10-04 13:40:05.000000000,2019-10-04 18:00:02.000000000,2019-10-04 17:57:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:40:05.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/86de08fab2781f741ac3f350a2a3075497ace226', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8c33e833b827e9c392ac1fad772afff1ab7713ac\nSem-Ver: feature\n'}]",0,686720,86de08fab2781f741ac3f350a2a3075497ace226,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8c33e833b827e9c392ac1fad772afff1ab7713ac
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/20/686720/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,86de08fab2781f741ac3f350a2a3075497ace226,reno-train, train,,7,0
openstack%2Fpuppet-trove~master~I3487a0fea3357c9fc444d0e311b1d36f32935ab3,openstack/puppet-trove,master,I3487a0fea3357c9fc444d0e311b1d36f32935ab3,Update master for stable/train,MERGED,2019-10-04 13:38:28.000000000,2019-10-04 17:59:28.000000000,2019-10-04 17:57:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:38:28.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/7013f5828a4b7f3e95a4dbdd4b27eb2c85e9e09e', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I3487a0fea3357c9fc444d0e311b1d36f32935ab3\nSem-Ver: feature\n'}]",0,686711,7013f5828a4b7f3e95a4dbdd4b27eb2c85e9e09e,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I3487a0fea3357c9fc444d0e311b1d36f32935ab3
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/11/686711/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,7013f5828a4b7f3e95a4dbdd4b27eb2c85e9e09e,reno-train, train,,7,0
openstack%2Fpuppet-mistral~master~I832342c0c282184ff90a7bccb60ea603e189049a,openstack/puppet-mistral,master,I832342c0c282184ff90a7bccb60ea603e189049a,Update master for stable/train,MERGED,2019-10-04 13:30:29.000000000,2019-10-04 17:58:40.000000000,2019-10-04 17:56:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:30:29.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/4cc9e06077bae4267f0f66fb640fd6d3892dfddb', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I832342c0c282184ff90a7bccb60ea603e189049a\nSem-Ver: feature\n'}]",0,686669,4cc9e06077bae4267f0f66fb640fd6d3892dfddb,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I832342c0c282184ff90a7bccb60ea603e189049a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/69/686669/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,4cc9e06077bae4267f0f66fb640fd6d3892dfddb,reno-train, train,,7,0
openstack%2Fpuppet-murano~master~If7d9f21c7d0b453a69c6dec6c15908e23a61b9b7,openstack/puppet-murano,master,If7d9f21c7d0b453a69c6dec6c15908e23a61b9b7,Update master for stable/train,MERGED,2019-10-04 13:31:03.000000000,2019-10-04 17:58:31.000000000,2019-10-04 17:57:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:31:03.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/dcd14b1aa4f9773fe34591a820511cf0c7464e44', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: If7d9f21c7d0b453a69c6dec6c15908e23a61b9b7\nSem-Ver: feature\n'}]",0,686672,dcd14b1aa4f9773fe34591a820511cf0c7464e44,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: If7d9f21c7d0b453a69c6dec6c15908e23a61b9b7
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/72/686672/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,dcd14b1aa4f9773fe34591a820511cf0c7464e44,reno-train, train,,7,0
openstack%2Fpuppet-neutron~master~Ic1f81421a3597cacfe281bf963cd72281bdcda98,openstack/puppet-neutron,master,Ic1f81421a3597cacfe281bf963cd72281bdcda98,Update master for stable/train,MERGED,2019-10-04 13:31:41.000000000,2019-10-04 17:58:09.000000000,2019-10-04 17:56:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:31:41.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/06cf2f230de1c4e067a81ce3a531865c8b7262c1', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ic1f81421a3597cacfe281bf963cd72281bdcda98\nSem-Ver: feature\n'}]",0,686675,06cf2f230de1c4e067a81ce3a531865c8b7262c1,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ic1f81421a3597cacfe281bf963cd72281bdcda98
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/75/686675/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,06cf2f230de1c4e067a81ce3a531865c8b7262c1,reno-train, train,,7,0
openstack%2Fpuppet-octavia~master~Ia85b4065b795c9dc5a4eeff7a105ffedc13cac7e,openstack/puppet-octavia,master,Ia85b4065b795c9dc5a4eeff7a105ffedc13cac7e,Update master for stable/train,MERGED,2019-10-04 13:32:54.000000000,2019-10-04 17:58:07.000000000,2019-10-04 17:56:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:32:54.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8f1d89c9e136ce3e6ac45f8f441f8f36bef41012', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ia85b4065b795c9dc5a4eeff7a105ffedc13cac7e\nSem-Ver: feature\n'}]",0,686681,8f1d89c9e136ce3e6ac45f8f441f8f36bef41012,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ia85b4065b795c9dc5a4eeff7a105ffedc13cac7e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/81/686681/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,8f1d89c9e136ce3e6ac45f8f441f8f36bef41012,reno-train, train,,7,0
openstack%2Fpuppet-zaqar~master~Idabbe4fda55adf4059f053f636eeef39d0f02fea,openstack/puppet-zaqar,master,Idabbe4fda55adf4059f053f636eeef39d0f02fea,Update master for stable/train,MERGED,2019-10-04 13:40:37.000000000,2019-10-04 17:57:48.000000000,2019-10-04 17:56:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:40:37.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/a33b5782dd168aa0f5645c7edbe5b39f9426e55e', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Idabbe4fda55adf4059f053f636eeef39d0f02fea\nSem-Ver: feature\n'}]",0,686723,a33b5782dd168aa0f5645c7edbe5b39f9426e55e,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Idabbe4fda55adf4059f053f636eeef39d0f02fea
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/23/686723/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,a33b5782dd168aa0f5645c7edbe5b39f9426e55e,reno-train, train,,7,0
openstack%2Fpuppet-horizon~master~I5c902a9a892311fbeec703564753a9b0489e74b9,openstack/puppet-horizon,master,I5c902a9a892311fbeec703564753a9b0489e74b9,Update master for stable/train,MERGED,2019-10-04 13:27:24.000000000,2019-10-04 17:57:47.000000000,2019-10-04 17:56:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:27:24.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/abefb0dab295655b5e8a609535f656b9ff33f671', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I5c902a9a892311fbeec703564753a9b0489e74b9\nSem-Ver: feature\n'}]",0,686653,abefb0dab295655b5e8a609535f656b9ff33f671,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I5c902a9a892311fbeec703564753a9b0489e74b9
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/53/686653/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,abefb0dab295655b5e8a609535f656b9ff33f671,reno-train, train,,7,0
openstack%2Fpuppet-vswitch~master~I871ca380851c34205b0e13b7e779d4f5fa5d21ec,openstack/puppet-vswitch,master,I871ca380851c34205b0e13b7e779d4f5fa5d21ec,Update master for stable/train,MERGED,2019-10-04 13:39:33.000000000,2019-10-04 17:57:08.000000000,2019-10-04 17:55:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:39:33.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/342ce7bc84d36b9b8c31fd1fb3893637cb7cf356', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I871ca380851c34205b0e13b7e779d4f5fa5d21ec\nSem-Ver: feature\n'}]",0,686717,342ce7bc84d36b9b8c31fd1fb3893637cb7cf356,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I871ca380851c34205b0e13b7e779d4f5fa5d21ec
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/17/686717/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,342ce7bc84d36b9b8c31fd1fb3893637cb7cf356,reno-train, train,,7,0
openstack%2Fpuppet-glance~master~I0c7834e7803bba5e71b9b3faa4f411e219603e78,openstack/puppet-glance,master,I0c7834e7803bba5e71b9b3faa4f411e219603e78,Update master for stable/train,MERGED,2019-10-04 13:25:32.000000000,2019-10-04 17:57:00.000000000,2019-10-04 17:55:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:25:32.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a2915d3891b2cf3c973cd775fad2bb02e2628a26', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I0c7834e7803bba5e71b9b3faa4f411e219603e78\nSem-Ver: feature\n'}]",0,686644,a2915d3891b2cf3c973cd775fad2bb02e2628a26,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I0c7834e7803bba5e71b9b3faa4f411e219603e78
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/44/686644/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,a2915d3891b2cf3c973cd775fad2bb02e2628a26,reno-train, train,,7,0
openstack%2Fpuppet-ec2api~master~I89d41cefa2490da308370f837298a02f228becff,openstack/puppet-ec2api,master,I89d41cefa2490da308370f837298a02f228becff,Update master for stable/train,MERGED,2019-10-04 13:24:56.000000000,2019-10-04 17:56:52.000000000,2019-10-04 17:54:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:24:56.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/25c7851220d27762bb335a20af57ac6222e02dc4', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I89d41cefa2490da308370f837298a02f228becff\nSem-Ver: feature\n'}]",0,686640,25c7851220d27762bb335a20af57ac6222e02dc4,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I89d41cefa2490da308370f837298a02f228becff
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/40/686640/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,25c7851220d27762bb335a20af57ac6222e02dc4,reno-train, train,,7,0
openstack%2Fpuppet-gnocchi~master~I3c755d6f29fa3a9c2ee93a3ea01ed43fc2fa4d03,openstack/puppet-gnocchi,master,I3c755d6f29fa3a9c2ee93a3ea01ed43fc2fa4d03,Update master for stable/train,MERGED,2019-10-04 13:26:13.000000000,2019-10-04 17:56:41.000000000,2019-10-04 17:55:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:26:13.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/77a847ca0d225b4c2888c2090d72ea116492cf54', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I3c755d6f29fa3a9c2ee93a3ea01ed43fc2fa4d03\nSem-Ver: feature\n'}]",0,686647,77a847ca0d225b4c2888c2090d72ea116492cf54,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I3c755d6f29fa3a9c2ee93a3ea01ed43fc2fa4d03
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/47/686647/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,77a847ca0d225b4c2888c2090d72ea116492cf54,reno-train, train,,7,0
openstack%2Fpuppet-openstack_extras~master~I5c7d3f4c3da77a527d2b9857d953fdb1f8d5d455,openstack/puppet-openstack_extras,master,I5c7d3f4c3da77a527d2b9857d953fdb1f8d5d455,Update master for stable/train,MERGED,2019-10-04 13:33:28.000000000,2019-10-04 17:56:21.000000000,2019-10-04 17:55:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:33:28.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/19f2d561221bc26f9917afd63a307b57aae47af6', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I5c7d3f4c3da77a527d2b9857d953fdb1f8d5d455\nSem-Ver: feature\n'}]",0,686684,19f2d561221bc26f9917afd63a307b57aae47af6,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I5c7d3f4c3da77a527d2b9857d953fdb1f8d5d455
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/84/686684/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,19f2d561221bc26f9917afd63a307b57aae47af6,reno-train, train,,7,0
openstack%2Fpuppet-oslo~master~I9c49eabcb7da8e645b9b9f3e8cf8fbf1dfcc81b9,openstack/puppet-oslo,master,I9c49eabcb7da8e645b9b9f3e8cf8fbf1dfcc81b9,Update master for stable/train,MERGED,2019-10-04 13:34:34.000000000,2019-10-04 17:55:45.000000000,2019-10-04 17:54:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:34:34.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/0e212e825744985cdb7d51c6d4c832140721cbbc', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I9c49eabcb7da8e645b9b9f3e8cf8fbf1dfcc81b9\nSem-Ver: feature\n'}]",0,686690,0e212e825744985cdb7d51c6d4c832140721cbbc,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I9c49eabcb7da8e645b9b9f3e8cf8fbf1dfcc81b9
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/90/686690/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,0e212e825744985cdb7d51c6d4c832140721cbbc,reno-train, train,,7,0
openstack%2Fpuppet-panko~master~I065d5f43cda1bd5f3a019d6770bee3e6bbd365ba,openstack/puppet-panko,master,I065d5f43cda1bd5f3a019d6770bee3e6bbd365ba,Update master for stable/train,MERGED,2019-10-04 13:35:37.000000000,2019-10-04 17:55:43.000000000,2019-10-04 17:54:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:35:37.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/8affcd34ff71f22b7907b1d246cbc8516aa1331c', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I065d5f43cda1bd5f3a019d6770bee3e6bbd365ba\nSem-Ver: feature\n'}]",0,686696,8affcd34ff71f22b7907b1d246cbc8516aa1331c,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I065d5f43cda1bd5f3a019d6770bee3e6bbd365ba
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/96/686696/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,8affcd34ff71f22b7907b1d246cbc8516aa1331c,reno-train, train,,7,0
openstack%2Fpuppet-tacker~master~Icafafc04abea82843ae501b7b401b41575c33028,openstack/puppet-tacker,master,Icafafc04abea82843ae501b7b401b41575c33028,Update master for stable/train,MERGED,2019-10-04 13:37:19.000000000,2019-10-04 17:55:38.000000000,2019-10-04 17:54:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:37:19.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/76fadb074780b0354d02d55e4d814afb1ab0019d', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Icafafc04abea82843ae501b7b401b41575c33028\nSem-Ver: feature\n'}]",0,686705,76fadb074780b0354d02d55e4d814afb1ab0019d,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Icafafc04abea82843ae501b7b401b41575c33028
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/05/686705/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,76fadb074780b0354d02d55e4d814afb1ab0019d,reno-train, train,,7,0
openstack%2Fpuppet-openstacklib~master~I3f9e637bf4bab2a3b5023709f2b60f764923ec52,openstack/puppet-openstacklib,master,I3f9e637bf4bab2a3b5023709f2b60f764923ec52,Update master for stable/train,MERGED,2019-10-04 13:34:02.000000000,2019-10-04 17:55:36.000000000,2019-10-04 17:54:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:34:02.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f2689eca5042d23a81df62a203e75a839181c2cb', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I3f9e637bf4bab2a3b5023709f2b60f764923ec52\nSem-Ver: feature\n'}]",0,686687,f2689eca5042d23a81df62a203e75a839181c2cb,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I3f9e637bf4bab2a3b5023709f2b60f764923ec52
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/87/686687/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,f2689eca5042d23a81df62a203e75a839181c2cb,reno-train, train,,7,0
openstack%2Fpuppet-manila~master~Ib4030ca12644e011aecc3ef92e3989f7452f076f,openstack/puppet-manila,master,Ib4030ca12644e011aecc3ef92e3989f7452f076f,Update master for stable/train,MERGED,2019-10-04 13:29:56.000000000,2019-10-04 17:55:33.000000000,2019-10-04 17:54:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:29:56.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e903900252be887ffecda72fcb081ffe9d51c0fb', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ib4030ca12644e011aecc3ef92e3989f7452f076f\nSem-Ver: feature\n'}]",0,686666,e903900252be887ffecda72fcb081ffe9d51c0fb,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ib4030ca12644e011aecc3ef92e3989f7452f076f
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/66/686666/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,e903900252be887ffecda72fcb081ffe9d51c0fb,reno-train, train,,7,0
openstack%2Fpuppet-ironic~master~I3f7534305e6ff4c7a167653b4eb38563470a6eac,openstack/puppet-ironic,master,I3f7534305e6ff4c7a167653b4eb38563470a6eac,Update master for stable/train,MERGED,2019-10-04 13:28:06.000000000,2019-10-04 17:54:08.000000000,2019-10-04 17:51:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:28:06.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7256dcdfbf9156c53f8648ea809331dbfda01791', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I3f7534305e6ff4c7a167653b4eb38563470a6eac\nSem-Ver: feature\n'}]",0,686656,7256dcdfbf9156c53f8648ea809331dbfda01791,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I3f7534305e6ff4c7a167653b4eb38563470a6eac
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/56/686656/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,7256dcdfbf9156c53f8648ea809331dbfda01791,reno-train, train,,7,0
openstack%2Fpuppet-keystone~master~Ia5561902a8964b6571aa9a498412460787d95327,openstack/puppet-keystone,master,Ia5561902a8964b6571aa9a498412460787d95327,Update master for stable/train,MERGED,2019-10-04 13:28:43.000000000,2019-10-04 17:52:44.000000000,2019-10-04 17:51:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:28:43.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/cd6f0b6295a52d85962eab9cb7a41f4f0d617f86', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ia5561902a8964b6571aa9a498412460787d95327\nSem-Ver: feature\n'}]",0,686659,cd6f0b6295a52d85962eab9cb7a41f4f0d617f86,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ia5561902a8964b6571aa9a498412460787d95327
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/59/686659/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,cd6f0b6295a52d85962eab9cb7a41f4f0d617f86,reno-train, train,,7,0
openstack%2Fpuppet-barbican~master~I144029139900b121e6252f6808fd6a6c242076b0,openstack/puppet-barbican,master,I144029139900b121e6252f6808fd6a6c242076b0,Update master for stable/train,MERGED,2019-10-04 13:22:08.000000000,2019-10-04 17:52:24.000000000,2019-10-04 17:50:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:22:08.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/c21311f9150b33e2eb825bb702b8a1201221c104', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I144029139900b121e6252f6808fd6a6c242076b0\nSem-Ver: feature\n'}]",0,686624,c21311f9150b33e2eb825bb702b8a1201221c104,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I144029139900b121e6252f6808fd6a6c242076b0
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/24/686624/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,c21311f9150b33e2eb825bb702b8a1201221c104,reno-train, train,,7,0
openstack%2Fpuppet-heat~master~I3aecd6a59267165dcbb0e2fcbdfee6090ff07255,openstack/puppet-heat,master,I3aecd6a59267165dcbb0e2fcbdfee6090ff07255,Update master for stable/train,MERGED,2019-10-04 13:26:48.000000000,2019-10-04 17:52:23.000000000,2019-10-04 17:51:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:26:48.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/cf16b959895f3f567ff2bb000ec8ca3b1f81aeb3', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I3aecd6a59267165dcbb0e2fcbdfee6090ff07255\nSem-Ver: feature\n'}]",0,686650,cf16b959895f3f567ff2bb000ec8ca3b1f81aeb3,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I3aecd6a59267165dcbb0e2fcbdfee6090ff07255
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/50/686650/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,cf16b959895f3f567ff2bb000ec8ca3b1f81aeb3,reno-train, train,,7,0
openstack%2Fpuppet-cinder~master~I61da894a6671621b913f684b78e290d6021d9a1f,openstack/puppet-cinder,master,I61da894a6671621b913f684b78e290d6021d9a1f,Update master for stable/train,MERGED,2019-10-04 13:23:18.000000000,2019-10-04 17:52:19.000000000,2019-10-04 17:50:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:23:18.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bfa6a95e60b8e679ff176e3ae6c5b2a786e331e8', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I61da894a6671621b913f684b78e290d6021d9a1f\nSem-Ver: feature\n'}]",0,686630,bfa6a95e60b8e679ff176e3ae6c5b2a786e331e8,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I61da894a6671621b913f684b78e290d6021d9a1f
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/30/686630/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,bfa6a95e60b8e679ff176e3ae6c5b2a786e331e8,reno-train, train,,7,0
openstack%2Fpuppet-designate~master~I7d686a7c6f587fc7513ad97dc5519d1a4a4a26a2,openstack/puppet-designate,master,I7d686a7c6f587fc7513ad97dc5519d1a4a4a26a2,Update master for stable/train,MERGED,2019-10-04 13:24:24.000000000,2019-10-04 17:52:15.000000000,2019-10-04 17:51:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:24:24.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/eee85a45cede98ccecbb165e459d6c79e1cd92bb', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I7d686a7c6f587fc7513ad97dc5519d1a4a4a26a2\nSem-Ver: feature\n'}]",0,686636,eee85a45cede98ccecbb165e459d6c79e1cd92bb,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I7d686a7c6f587fc7513ad97dc5519d1a4a4a26a2
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/36/686636/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,eee85a45cede98ccecbb165e459d6c79e1cd92bb,reno-train, train,,7,0
openstack%2Fpuppet-magnum~master~I09e854ffdd5ff4bf11a1c9673bd866c81efbf0b9,openstack/puppet-magnum,master,I09e854ffdd5ff4bf11a1c9673bd866c81efbf0b9,Update master for stable/train,MERGED,2019-10-04 13:29:17.000000000,2019-10-04 17:52:09.000000000,2019-10-04 17:50:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:29:17.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/85fe52e272c0926034125bc020d038fa50f58a59', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I09e854ffdd5ff4bf11a1c9673bd866c81efbf0b9\nSem-Ver: feature\n'}]",0,686663,85fe52e272c0926034125bc020d038fa50f58a59,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I09e854ffdd5ff4bf11a1c9673bd866c81efbf0b9
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/63/686663/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,85fe52e272c0926034125bc020d038fa50f58a59,reno-train, train,,7,0
openstack%2Fpuppet-congress~master~I792eee6734220d3781d8f77fb20e297ddf7f1a08,openstack/puppet-congress,master,I792eee6734220d3781d8f77fb20e297ddf7f1a08,Update master for stable/train,MERGED,2019-10-04 13:23:51.000000000,2019-10-04 17:52:05.000000000,2019-10-04 17:50:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:23:51.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/e2703c9d77a52a83ec30ba095109a53907ad9629', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I792eee6734220d3781d8f77fb20e297ddf7f1a08\nSem-Ver: feature\n'}]",0,686633,e2703c9d77a52a83ec30ba095109a53907ad9629,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I792eee6734220d3781d8f77fb20e297ddf7f1a08
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/33/686633/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,e2703c9d77a52a83ec30ba095109a53907ad9629,reno-train, train,,7,0
openstack%2Fpuppet-ceilometer~master~I80cfb8c4b0bfd9bb8dc448f2758439e37cd82f17,openstack/puppet-ceilometer,master,I80cfb8c4b0bfd9bb8dc448f2758439e37cd82f17,Update master for stable/train,MERGED,2019-10-04 13:22:43.000000000,2019-10-04 17:51:36.000000000,2019-10-04 17:50:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:22:43.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/fecdf5818e9a4d20644c7fc7ef30a01ce0938ebd', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I80cfb8c4b0bfd9bb8dc448f2758439e37cd82f17\nSem-Ver: feature\n'}]",0,686627,fecdf5818e9a4d20644c7fc7ef30a01ce0938ebd,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I80cfb8c4b0bfd9bb8dc448f2758439e37cd82f17
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/27/686627/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,fecdf5818e9a4d20644c7fc7ef30a01ce0938ebd,reno-train, train,,7,0
openstack%2Fpuppet-aodh~master~I45ecbc51822bcbe3be729991598ec893c6af9ea6,openstack/puppet-aodh,master,I45ecbc51822bcbe3be729991598ec893c6af9ea6,Update master for stable/train,MERGED,2019-10-04 13:21:34.000000000,2019-10-04 17:51:33.000000000,2019-10-04 17:50:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:21:34.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e9d64996ee47b80759bd2f5c059c89a9d3fcd816', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I45ecbc51822bcbe3be729991598ec893c6af9ea6\nSem-Ver: feature\n'}]",0,686621,e9d64996ee47b80759bd2f5c059c89a9d3fcd816,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I45ecbc51822bcbe3be729991598ec893c6af9ea6
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/21/686621/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,e9d64996ee47b80759bd2f5c059c89a9d3fcd816,reno-train, train,,7,0
openstack%2Ftempest~master~Id2d34eb911435e5a1036d0494a7df43eda2ebf0a,openstack/tempest,master,Id2d34eb911435e5a1036d0494a7df43eda2ebf0a,Add release note for log_req_body kwarg,MERGED,2019-10-04 14:43:51.000000000,2019-10-04 17:28:35.000000000,2019-10-04 17:25:10.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 14:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/001f79335dca50c34e61eecf4b4c5fe9e13ba6de', 'message': 'Add release note for log_req_body kwarg\n\nThis commit updates the release note from change\nI7cbd3656463a51d18b4d72f45a324145283fc7eb. That commit was missing a\nrelease note for the extra kwarg and concentrated only on the security\nfix. This commit addresses that oversight.\n\nChange-Id: Id2d34eb911435e5a1036d0494a7df43eda2ebf0a\n'}, {'number': 2, 'created': '2019-10-04 15:17:26.000000000', 'files': ['releasenotes/notes/fix-credential-logging-98089c897d801355.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/13c190d62e4c4596339eeee93eb0425cd525d71f', 'message': ""Add release note for log_req_body kwarg\n\nThis commit updates the release note from change\nI7cbd3656463a51d18b4d72f45a324145283fc7eb. That commit was missing a\nrelease note for the extra kwarg and concentrated only on the security\nfix. This commit addresses that oversight. In addition the security note\nis removed from the release notes because it's not addressing a released\nsecurity issue, just a short lived one introduced during development of\nthe pending release.\n\nChange-Id: Id2d34eb911435e5a1036d0494a7df43eda2ebf0a\n""}]",0,686739,13c190d62e4c4596339eeee93eb0425cd525d71f,11,2,2,5196,,,0,"Add release note for log_req_body kwarg

This commit updates the release note from change
I7cbd3656463a51d18b4d72f45a324145283fc7eb. That commit was missing a
release note for the extra kwarg and concentrated only on the security
fix. This commit addresses that oversight. In addition the security note
is removed from the release notes because it's not addressing a released
security issue, just a short lived one introduced during development of
the pending release.

Change-Id: Id2d34eb911435e5a1036d0494a7df43eda2ebf0a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/686739/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-credential-logging-98089c897d801355.yaml'],1,001f79335dca50c34e61eecf4b4c5fe9e13ba6de,686220,"features: - | A new kwarg, ``log_req_body``, was added to the ``tempest.lib.common.rest_client.RestClient`` method ``raw_request()``. This kwarg takes in a string which will be used in place of the request body, which is logged by default. The intent of this option is to be used for security reasons to avoid logging sensitive information that are part of request bodies.",,8,0
openstack%2Fopenstack-helm-infra~master~Ic4730ef1d07f5cdf4b6fae5bb1331d788ea84e2e,openstack/openstack-helm-infra,master,Ic4730ef1d07f5cdf4b6fae5bb1331d788ea84e2e,Mariadb: allow probe params to be adjusted,MERGED,2019-10-04 15:23:35.000000000,2019-10-04 17:26:49.000000000,2019-10-04 17:25:28.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 15:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c53d807e22eff0d240ca7c977ea7165c00f1967e', 'message': 'Mariadb: allow probe params to be ajusted.\n\nThis PS exposes the ability to adjust the readiness check\nprobe params.\n\nChange-Id: Ic4730ef1d07f5cdf4b6fae5bb1331d788ea84e2e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-10-04 15:24:12.000000000', 'files': ['mariadb/values.yaml', 'mariadb/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6cc4369e1ecfd044f41c449f3e9c0542943ebc21', 'message': 'Mariadb: allow probe params to be adjusted\n\nThis PS exposes the ability to adjust the readiness check\nprobe params.\n\nChange-Id: Ic4730ef1d07f5cdf4b6fae5bb1331d788ea84e2e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,686747,6cc4369e1ecfd044f41c449f3e9c0542943ebc21,10,4,2,23928,,,0,"Mariadb: allow probe params to be adjusted

This PS exposes the ability to adjust the readiness check
probe params.

Change-Id: Ic4730ef1d07f5cdf4b6fae5bb1331d788ea84e2e
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/47/686747/2 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/values.yaml', 'mariadb/templates/statefulset.yaml']",2,c53d807e22eff0d240ca7c977ea7165c00f1967e,mariadb-probes,"{{- define ""mariadbReadinessProbe"" }} exec: command: - /tmp/readiness.sh {{- end }} {{ dict ""envAll"" . ""component"" ""server"" ""container"" ""mariadb"" ""type"" ""readiness"" ""probeTemplate"" (include ""mariadbReadinessProbe"" . | fromYaml) | include ""helm-toolkit.snippets.kubernetes_probe"" | indent 10 -}}", readinessProbe: initialDelaySeconds: 30 periodSeconds: 30 timeoutSeconds: 3 exec: command: - /tmp/readiness.sh,17,7
openstack%2Ftempest~master~I7cbd3656463a51d18b4d72f45a324145283fc7eb,openstack/tempest,master,I7cbd3656463a51d18b4d72f45a324145283fc7eb,Fix the logging of request body credentials,MERGED,2019-10-02 17:01:04.000000000,2019-10-04 17:26:22.000000000,2019-10-04 17:25:00.000000000,"[{'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-10-02 17:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc70e08619166ad6cf90cb6e4899016f263421d7', 'message': ""Fix the logging of request body credentials\n\nRecently we moved the logging of request from rest_client's\nrequest() to raw_request which end up logging the credentials\nalso from Toekn client request.\n\nThis is to add a kwargs in raw_request() method which tell whether\nrequest body needs to log or not. Also update Token clients to\npass '<omitted>' to stop logging the credential.\n\nChange-Id: I7cbd3656463a51d18b4d72f45a324145283fc7eb\n""}, {'number': 2, 'created': '2019-10-02 18:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5226fb57f9006a5273c45c547346ff9b48976b60', 'message': ""Fix the logging of request body credentials\n\nRecently we moved the logging of request from rest_client's\nrequest() to raw_request which end up logging the credentials\nalso from Toekn client request.\n\nThis is to add a kwargs in raw_request() method which tell whether\nrequest body needs to log or not. Also update Token clients to\npass '<omitted>' to stop logging the credential.\n\nChange-Id: I7cbd3656463a51d18b4d72f45a324145283fc7eb\n""}, {'number': 3, 'created': '2019-10-02 23:11:23.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_token_client.py', 'tempest/lib/common/rest_client.py', 'tempest/lib/services/identity/v2/token_client.py', 'tempest/lib/services/identity/v3/token_client.py', 'tempest/tests/lib/services/identity/v2/test_token_client.py', 'releasenotes/notes/fix-credential-logging-98089c897d801355.yaml', 'tempest/tests/lib/fake_identity.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/47a41993269bf1ae34a1cd56bc15d65f316c16e6', 'message': ""Fix the logging of request body credentials\n\nRecently we moved the logging of request from rest_client's\nrequest() to raw_request which end up logging the credentials\nalso from Token client request.\n\nThis is to add a kwargs in raw_request() method which tell whether\nrequest body needs to log or not. Also update Token clients to\npass '<omitted>' to stop logging the credential.\n\nChange-Id: I7cbd3656463a51d18b4d72f45a324145283fc7eb\n""}]",1,686220,47a41993269bf1ae34a1cd56bc15d65f316c16e6,17,6,3,8556,,,0,"Fix the logging of request body credentials

Recently we moved the logging of request from rest_client's
request() to raw_request which end up logging the credentials
also from Token client request.

This is to add a kwargs in raw_request() method which tell whether
request body needs to log or not. Also update Token clients to
pass '<omitted>' to stop logging the credential.

Change-Id: I7cbd3656463a51d18b4d72f45a324145283fc7eb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/686220/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/rest_client.py', 'tempest/lib/services/identity/v2/token_client.py', 'tempest/tests/lib/services/identity/v3/test_token_client.py', 'tempest/lib/services/identity/v3/token_client.py', 'tempest/tests/lib/services/identity/v2/test_token_client.py']",5,fc70e08619166ad6cf90cb6e4899016f263421d7,," mock_raw_r.assert_called_once_with('fake_uri', 'GET', headers=mock.ANY, body=None, log_req_body='<omitted>')",,19,9
openstack%2Ftripleo-common~master~I9ca066b06b5ac85272202430713edb8cee37a620,openstack/tripleo-common,master,I9ca066b06b5ac85272202430713edb8cee37a620,Fix duplicated msec,MERGED,2019-09-30 15:43:15.000000000,2019-10-04 17:23:52.000000000,2019-10-01 17:57:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-30 15:43:15.000000000', 'files': ['scripts/tripleo-container-image-prepare'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/003be5f5ec50eed24d231879a3fbaa407d7f149b', 'message': 'Fix duplicated msec\n\nasctime includes the msec in the time. If we include msecs this ends up\ndisplaying ""2019-09-27 00:46:18,344.344"" which is wrong\n\nChange-Id: I9ca066b06b5ac85272202430713edb8cee37a620\n'}]",0,685736,003be5f5ec50eed24d231879a3fbaa407d7f149b,10,4,1,14985,,,0,"Fix duplicated msec

asctime includes the msec in the time. If we include msecs this ends up
displaying ""2019-09-27 00:46:18,344.344"" which is wrong

Change-Id: I9ca066b06b5ac85272202430713edb8cee37a620
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/685736/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-container-image-prepare'],1,003be5f5ec50eed24d231879a3fbaa407d7f149b,fix-time, log_format = ('%(asctime)s %(process)d %(levelname)s ', log_format = ('%(asctime)s.%(msecs)03d %(process)d %(levelname)s ',1,1
openstack%2Fpython-dracclient~master~Ie8006d45b2225bfed9a98e4a3f14407795a1ffa7,openstack/python-dracclient,master,Ie8006d45b2225bfed9a98e4a3f14407795a1ffa7,Test patch,ABANDONED,2019-10-02 20:40:14.000000000,2019-10-04 17:18:16.000000000,,"[{'_account_id': 10250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:40:14.000000000', 'files': ['dracclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/e3f77b226369b5b6dee595dbe9bf0c982cc8b881', 'message': 'Test patch\n\nChange-Id: Ie8006d45b2225bfed9a98e4a3f14407795a1ffa7\n'}]",0,686290,e3f77b226369b5b6dee595dbe9bf0c982cc8b881,5,2,1,10250,,,0,"Test patch

Change-Id: Ie8006d45b2225bfed9a98e4a3f14407795a1ffa7
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/90/686290/1 && git format-patch -1 --stdout FETCH_HEAD,['dracclient/client.py'],1,e3f77b226369b5b6dee595dbe9bf0c982cc8b881,," def set_power_state(self, tgt_state): :param tgt_state: target power state. Valid options are: 'POWER_ON', 'POWER_OFF' and 'REBOOT'. self._power_mgmt.set_power_state(tgt_state)"," def set_power_state(self, target_state): :param target_state: target power state. Valid options are: 'POWER_ON', 'POWER_OFF' and 'REBOOT'. self._power_mgmt.set_power_state(target_state)",4,4
openstack%2Fovsdbapp~stable%2Ftrain~I686733c3284ed9c5b08c4a337e087adc18273c40,openstack/ovsdbapp,stable/train,I686733c3284ed9c5b08c4a337e087adc18273c40,Update .gitreview for stable/train,ABANDONED,2019-09-20 16:42:57.000000000,2019-10-04 17:15:46.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 16:42:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/93bd7026ccbd9bfea8448d9ecebea7f492dd1257', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I686733c3284ed9c5b08c4a337e087adc18273c40\n'}]",0,683569,93bd7026ccbd9bfea8448d9ecebea7f492dd1257,4,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I686733c3284ed9c5b08c4a337e087adc18273c40
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/69/683569/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,93bd7026ccbd9bfea8448d9ecebea7f492dd1257,create-train,defaultbranch=stable/train,,1,0
openstack%2Fovsdbapp~stable%2Ftrain~Ib3448fbbb3b2cb4d2d043de5c124dd7ea1ac330b,openstack/ovsdbapp,stable/train,Ib3448fbbb3b2cb4d2d043de5c124dd7ea1ac330b,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-20 16:43:02.000000000,2019-10-04 17:10:45.000000000,2019-10-04 17:10:45.000000000,"[{'_account_id': 5756}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 16:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6165afefeb610a217ada99411d3dbd1bc8ec8f2a', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib3448fbbb3b2cb4d2d043de5c124dd7ea1ac330b\n'}, {'number': 2, 'created': '2019-10-04 16:52:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/251d7c8f17864aaa3821d2f2670d60eafba5e95c', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib3448fbbb3b2cb4d2d043de5c124dd7ea1ac330b\n'}]",0,683570,251d7c8f17864aaa3821d2f2670d60eafba5e95c,9,3,2,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib3448fbbb3b2cb4d2d043de5c124dd7ea1ac330b
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/70/683570/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6165afefeb610a217ada99411d3dbd1bc8ec8f2a,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fopenstacksdk~master~Ib47bdc98ffa63ec70b89169574cb03057beecb42,openstack/openstacksdk,master,Ib47bdc98ffa63ec70b89169574cb03057beecb42,Use has_service in functional test's require_service,MERGED,2019-10-01 15:54:02.000000000,2019-10-04 16:44:21.000000000,2019-10-04 16:42:32.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-10-01 15:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3acac01ee551ee931ecb1044ce48da209ae8211a', 'message': ""Use has_service in functional test's require_service\n\nUnder the covers we want to use has_service, which respects the\noverall sdk infrastructure for skipping unnecessary discovery.\n\nChange-Id: Ib47bdc98ffa63ec70b89169574cb03057beecb42\n""}, {'number': 2, 'created': '2019-10-03 11:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3ef7e4a27255a54ffdb3b4ae7b5b5da82c38211e', 'message': ""Use has_service in functional test's require_service\n\nUnder the covers we want to use has_service, which respects the\noverall sdk infrastructure for skipping unnecessary discovery.\n\nChange-Id: Ib47bdc98ffa63ec70b89169574cb03057beecb42\n""}, {'number': 3, 'created': '2019-10-03 13:50:36.000000000', 'files': ['openstack/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5e927dce69b1db750bc346c366fd31c97e1e6fbf', 'message': ""Use has_service in functional test's require_service\n\nUnder the covers we want to use has_service, which respects the\noverall sdk infrastructure for skipping unnecessary discovery.\n\nChange-Id: Ib47bdc98ffa63ec70b89169574cb03057beecb42\n""}]",1,685995,5e927dce69b1db750bc346c366fd31c97e1e6fbf,13,3,3,2,,,0,"Use has_service in functional test's require_service

Under the covers we want to use has_service, which respects the
overall sdk infrastructure for skipping unnecessary discovery.

Change-Id: Ib47bdc98ffa63ec70b89169574cb03057beecb42
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/685995/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/functional/base.py'],1,3acac01ee551ee931ecb1044ce48da209ae8211a,fix-auth-discovery," def require_service(self, service_type): if not self.conn.has_service(service_type):"," # TODO(shade) Replace this with call to conn.has_service when we've merged # the shade methods into Connection. def require_service(self, service_type, min_microversion=None, **kwargs): try: data = self.conn.session.get_endpoint_data( service_type=service_type, **kwargs) except _exceptions.EndpointNotFound: if not min_microversion: return if not (data.min_microversion and data.max_microversion and discover.version_between( data.min_microversion, data.max_microversion, min_microversion)): self.skipTest('Service {service_type} does not provide ' 'microversion {ver}'.format( service_type=service_type, ver=min_microversion)) ",2,21
openstack%2Fovsdbapp~stable%2Ftrain~Ieab25244e3d1bff56537de1d5915736f3e8c26dc,openstack/ovsdbapp,stable/train,Ieab25244e3d1bff56537de1d5915736f3e8c26dc,Update gitreview for train,ABANDONED,2019-10-04 16:20:23.000000000,2019-10-04 16:43:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-04 16:20:23.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e8c5763179d357c060cb4018ccdd7075ebb8c7ae', 'message': 'Update gitreview for train\n\nChange-Id: Ieab25244e3d1bff56537de1d5915736f3e8c26dc\n'}]",0,686766,e8c5763179d357c060cb4018ccdd7075ebb8c7ae,3,1,1,5756,,,0,"Update gitreview for train

Change-Id: Ieab25244e3d1bff56537de1d5915736f3e8c26dc
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/66/686766/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e8c5763179d357c060cb4018ccdd7075ebb8c7ae,,defaultbranch=stable/train,,1,0
openstack%2Fovsdbapp~stable%2Ftrain~I2d9599d7050a15f459e6845a112ffc9948b2a7bd,openstack/ovsdbapp,stable/train,I2d9599d7050a15f459e6845a112ffc9948b2a7bd,Fix building OVS after python2 removal,ABANDONED,2019-10-03 22:20:31.000000000,2019-10-04 16:42:20.000000000,,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 22:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c9ffbfde7ee639ebe59175ab65728f56d1f3b099', 'message': 'Fix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n'}, {'number': 2, 'created': '2019-10-03 22:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/bf4ec880f5a613c76557235bbd0331bdcbeaf760', 'message': 'Fix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)\n'}, {'number': 3, 'created': '2019-10-04 16:28:48.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/7574897bc0474aef850c9822c582cebeab882da5', 'message': 'Fix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)\n'}]",0,686507,7574897bc0474aef850c9822c582cebeab882da5,12,4,3,5756,,,0,"Fix building OVS after python2 removal

Switch functional to use python3 to install python3-based
dependencies, which the OVS build checks for. Also, remove
the py36 test

Change-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd
(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/07/686507/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini']",2,c9ffbfde7ee639ebe59175ab65728f56d1f3b099,ovs-removed-python2-stable/train,basepython = python3,[testenv:functional-py36] basepython = python3.6 setenv = {[testenv:functional]setenv} passenv = {[testenv:functional]passenv} commands = {[testenv:functional]commands} ,1,8
openstack%2Fproject-config~master~Ib766a8de8f2381972a74af93d64023b7a0815e17,openstack/project-config,master,Ib766a8de8f2381972a74af93d64023b7a0815e17,Remove arm64ci-nrt1  (1/2),MERGED,2019-10-04 16:13:06.000000000,2019-10-04 16:35:38.000000000,2019-10-04 16:35:38.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 16:13:06.000000000', 'files': ['nodepool/nl03.openstack.org.yaml', 'nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f33d258ade3825d2ed00853308220f917c78d7a7', 'message': 'Remove arm64ci-nrt1  (1/2)\n\nThis provider no longer exists.\n\nChange-Id: Ib766a8de8f2381972a74af93d64023b7a0815e17\n'}]",0,686760,f33d258ade3825d2ed00853308220f917c78d7a7,7,3,1,1,,,0,"Remove arm64ci-nrt1  (1/2)

This provider no longer exists.

Change-Id: Ib766a8de8f2381972a74af93d64023b7a0815e17
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/686760/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nb03.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml']",2,f33d258ade3825d2ed00853308220f917c78d7a7,,, - name: arm64ci-nrt1 region-name: 'nrt1' cloud: arm64ci boot-timeout: 600 launch-timeout: 800 rate: 0.001 diskimages: - name: debian-buster-arm64 config-drive: true - name: debian-stretch-arm64 config-drive: true - name: ubuntu-xenial-arm64 config-drive: true - name: ubuntu-bionic-arm64 config-drive: true pools: - name: main max-servers: 5 labels: - name: debian-buster-arm64 min-ram: 8000 flavor-name: 'c1.large' diskimage: debian-buster-arm64 key-name: infra-root-keys-2018-06-15 - name: debian-stretch-arm64 min-ram: 8000 flavor-name: 'c1.large' diskimage: debian-stretch-arm64 key-name: infra-root-keys-2018-06-15 - name: ubuntu-xenial-arm64 min-ram: 8000 flavor-name: 'c1.large' diskimage: ubuntu-xenial-arm64 key-name: infra-root-keys-2018-06-15 - name: ubuntu-bionic-arm64 min-ram: 8000 flavor-name: 'c1.large' diskimage: ubuntu-bionic-arm64 key-name: infra-root-keys-2018-06-15 ,1,41
openstack%2Fstorlets~stable%2Ftrain~Ic778cdc20ca30c8832de91956e4d0d60aebdb163,openstack/storlets,stable/train,Ic778cdc20ca30c8832de91956e4d0d60aebdb163,Add release note for 4.0.0,MERGED,2019-10-04 11:57:16.000000000,2019-10-04 16:27:55.000000000,2019-10-04 16:26:00.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 11:57:16.000000000', 'files': ['releasenotes/notes/4_0_0-a37d0a751c96b27d.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e107b41ed9c707db67d58f1ada5d1eea1c14e72f', 'message': 'Add release note for 4.0.0\n\nChange-Id: Ic778cdc20ca30c8832de91956e4d0d60aebdb163\n'}]",0,686577,e107b41ed9c707db67d58f1ada5d1eea1c14e72f,7,2,1,4608,,,0,"Add release note for 4.0.0

Change-Id: Ic778cdc20ca30c8832de91956e4d0d60aebdb163
",git fetch https://review.opendev.org/openstack/storlets refs/changes/77/686577/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/4_0_0-a37d0a751c96b27d.yaml'],1,e107b41ed9c707db67d58f1ada5d1eea1c14e72f,,"--- prelude: > In this release, storlets project include various cleanup of the internal protocol, in particular from short text to the json style and the syntax. Those changes may affect to upgrade path on running environment. Please see upgrade section in this release note. issues: - | Python3 works are going forward but not yet completed so we should finish out it by the end of years. At least, py3-functional should pass on the gate. upgrade: - | As you can see in prelude, storlets has been changing the internal protocol so you may get trouble if you would try to upgrade running cluster without downtime. For safety, you should stop the swift/storlets process in a node while upgrading. The upgrade should include re-compile of storlets java modules. fixes: - Other various minor bug fixes. ",,23,0
openstack%2Fdiskimage-builder~master~I26096c11c7caa42a2a54da1a46dde67bc46b4851,openstack/diskimage-builder,master,I26096c11c7caa42a2a54da1a46dde67bc46b4851,[dnm] testing nested virt labels,NEW,2019-10-03 23:39:44.000000000,2019-10-04 16:18:15.000000000,,"[{'_account_id': 7118}, {'_account_id': 20754}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 23:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d763bf3518822bb16702b2273bf12d4dca691e68', 'message': '[dnm] testing nested virt labels\n\nChange-Id: I26096c11c7caa42a2a54da1a46dde67bc46b4851\nDepends-On: https://review.opendev.org/686509\n'}, {'number': 2, 'created': '2019-10-03 23:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dab1a75ea366aa12d0b05984ece5ddd0bc0b8472', 'message': '[dnm] testing nested virt labels\n\nChange-Id: I26096c11c7caa42a2a54da1a46dde67bc46b4851\nDepends-On: https://review.opendev.org/686509\n'}, {'number': 3, 'created': '2019-10-03 23:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd6baecc248ffddec491a7aed3ab74746e961839', 'message': '[dnm] testing nested virt labels\n\nChange-Id: I26096c11c7caa42a2a54da1a46dde67bc46b4851\nDepends-On: https://review.opendev.org/686509\n'}, {'number': 4, 'created': '2019-10-04 00:00:57.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/39241495d69cf56dfe03b0dc95370d2b6a57c9f6', 'message': '[dnm] testing nested virt labels\n\nChange-Id: I26096c11c7caa42a2a54da1a46dde67bc46b4851\nDepends-On: https://review.opendev.org/686509\n'}]",1,686510,39241495d69cf56dfe03b0dc95370d2b6a57c9f6,13,4,4,7118,,,0,"[dnm] testing nested virt labels

Change-Id: I26096c11c7caa42a2a54da1a46dde67bc46b4851
Depends-On: https://review.opendev.org/686509
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/10/686510/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,d763bf3518822bb16702b2273bf12d4dca691e68,nested-virt, nodeset: nested-virt-ubuntu-bionic vars: devstack_libvirt_type: kvm, vars:,2,23
openstack%2Fovsdbapp~master~I63393b6e6fd12f2b9643d0d209b3b78e8c0c5b8f,openstack/ovsdbapp,master,I63393b6e6fd12f2b9643d0d209b3b78e8c0c5b8f,Handle the ovs/ovn split,ABANDONED,2019-10-04 16:09:19.000000000,2019-10-04 16:17:50.000000000,,[],"[{'number': 1, 'created': '2019-10-04 16:09:19.000000000', 'files': ['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'zuul.d/project.yaml', 'ovsdbapp/tests/functional/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/21d99493b6397a30155759eb6a393b19eff65d0a', 'message': 'Handle the ovs/ovn split\n\nThis is the bare minimum to run against ovs/ovn master after the\nsplit. It should be updated to handle running against system-\ninstalled OVN.\n\n(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)\n\nFix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\n(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)\n\nChange-Id: I63393b6e6fd12f2b9643d0d209b3b78e8c0c5b8f\n'}]",0,686759,21d99493b6397a30155759eb6a393b19eff65d0a,2,0,1,5756,,,0,"Handle the ovs/ovn split

This is the bare minimum to run against ovs/ovn master after the
split. It should be updated to handle running against system-
installed OVN.

(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)

Fix building OVS after python2 removal

Switch functional to use python3 to install python3-based
dependencies, which the OVS build checks for. Also, remove
the py36 test

(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)

Change-Id: I63393b6e6fd12f2b9643d0d209b3b78e8c0c5b8f
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/59/686759/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'zuul.d/project.yaml', 'ovsdbapp/tests/functional/base.py', 'tox.ini']",5,21d99493b6397a30155759eb6a393b19eff65d0a,stable/train,basepython = python3 OVN_SRCDIR={envdir}/src/ovn,[testenv:functional-py36] basepython = python3.6 setenv = {[testenv:functional]setenv} passenv = {[testenv:functional]passenv} commands = {[testenv:functional]commands} ,16,12
openstack%2Fovsdbapp~master~Ic6f9a68a23770a01c231647d306ab8237e8040b1,openstack/ovsdbapp,master,Ic6f9a68a23770a01c231647d306ab8237e8040b1,Handle the ovs/ovn split,ABANDONED,2019-10-04 13:29:14.000000000,2019-10-04 16:04:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-04 13:29:14.000000000', 'files': ['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'zuul.d/project.yaml', 'ovsdbapp/tests/functional/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8acf2722a6942229fa1e98e3e64951bedd1edcc8', 'message': 'Handle the ovs/ovn split\n\nThis is the bare minimum to run against ovs/ovn master after the\nsplit. It should be updated to handle running against system-\ninstalled OVN.\n\n(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)\n\nFix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\n(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)\n\nChange-Id: Ic6f9a68a23770a01c231647d306ab8237e8040b1\n'}]",0,686662,8acf2722a6942229fa1e98e3e64951bedd1edcc8,3,1,1,5756,,,0,"Handle the ovs/ovn split

This is the bare minimum to run against ovs/ovn master after the
split. It should be updated to handle running against system-
installed OVN.

(cherry picked from commit 54ee85113a041d7abd16b10c65d70078a1e76bff)

Fix building OVS after python2 removal

Switch functional to use python3 to install python3-based
dependencies, which the OVS build checks for. Also, remove
the py36 test

(cherry-picked from commit d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae)

Change-Id: Ic6f9a68a23770a01c231647d306ab8237e8040b1
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/62/686662/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/venv.py', 'tools/setup-ovs.sh', 'zuul.d/project.yaml', 'ovsdbapp/tests/functional/base.py', 'tox.ini']",5,8acf2722a6942229fa1e98e3e64951bedd1edcc8,,basepython = python3 OVN_SRCDIR={envdir}/src/ovn,[testenv:functional-py36] basepython = python3.6 setenv = {[testenv:functional]setenv} passenv = {[testenv:functional]passenv} commands = {[testenv:functional]commands} ,16,12
openstack%2Ftripleo-common~master~I477219b7dca1e6cfa02a278c55a0cc1a9833d007,openstack/tripleo-common,master,I477219b7dca1e6cfa02a278c55a0cc1a9833d007,Implement threading locks around layers,MERGED,2019-09-26 20:31:26.000000000,2019-10-04 16:01:07.000000000,2019-09-30 20:16:26.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-26 20:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd68d1b74f1d23c591683391d75ab82953b6574c', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}, {'number': 2, 'created': '2019-09-26 20:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/478e8f570c0d1f9f5d9ea690bb64b8037702066e', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}, {'number': 3, 'created': '2019-09-27 15:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/89ad1bd3896099e204c231ecbeae784d35742cd2', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}, {'number': 4, 'created': '2019-09-27 15:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d7d8df919f0298469abec9ef0e57e8cf6556b379', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}, {'number': 5, 'created': '2019-09-27 15:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e794fd1283b1887b465c1570258cc151fd7bed44', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}, {'number': 6, 'created': '2019-09-27 15:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05c97a8f6dd4aa65c2edd78f6b1229c8a2077e99', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}, {'number': 7, 'created': '2019-09-27 16:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/03d3ac77f43e5d3886554dcfbbfffeb75741e63f', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}, {'number': 8, 'created': '2019-09-27 19:51:33.000000000', 'files': ['tripleo_common/image/exception.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e57116d9c45c53ab5395025a32076c7c5bedbe45', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n""}]",16,685175,e57116d9c45c53ab5395025a32076c7c5bedbe45,39,8,8,14985,,,0,"Implement threading locks around layers

When we fetch layers, we shouldn't fetch the same layers multiple times.
This change adds some locking basked on layer hashes to prevent multiple
threads from trying to fetch the same layer at the same time.

Change-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007
Related-Bug: #1844446
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/685175/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,fd68d1b74f1d23c591683391d75ab82953b6574c,bug/1844446,"import threading import time uploader_lock = threading.Lock() uploader_lock_info = [] @classmethod def _layer_fetch_lock(cls, layer): LOG.debug('Locking layer %s' % layer) while layer in cls.uploader_lock_info: LOG.debug('%s is being fetched by another thread' % layer) time.sleep(0.5) LOG.debug('Starting acquire for lock %s' % layer) with cls.uploader_lock: LOG.debug('Acquired for lock %s' % layer) cls.uploader_lock_info.append(layer) LOG.debug('Updated lock info %s' % layer) LOG.debug('Got lock on layer %s' % layer) @classmethod def _layer_fetch_unlock(cls, layer): LOG.debug('Unlocking layer %s' % layer) LOG.debug('Starting acquire for lock %s' % layer) with cls.uploader_lock: LOG.debug('Acquired for unlock %s' % layer) if layer in cls.uploader_lock_info: cls.uploader_lock_info.remove(layer) LOG.debug('Updated lock info %s' % layer) LOG.debug('Released lock on layer %s' % layer) cls._layer_fetch_lock(layer) try: if cls._target_layer_exists_registry( target_url, layer_entry, [layer_entry], target_session): cls._layer_fetch_unlock(layer) return except Exception as e: cls._layer_fetch_unlock(layer) raise e try: layer_val = cls._copy_stream_to_registry( target_url, layer_entry, calc_digest, layer_stream, target_session) except Exception as e: raise e finally: cls._layer_fetch_unlock(layer) return layer_val"," if cls._target_layer_exists_registry(target_url, layer_entry, [layer_entry], target_session): return return cls._copy_stream_to_registry( target_url, layer_entry, calc_digest, layer_stream, target_session)",47,5
openstack%2Fneutron~stable%2Fstein~Ia312fe75df58723bf41804eec4bd918d223bd60c,openstack/neutron,stable/stein,Ia312fe75df58723bf41804eec4bd918d223bd60c,OVS flows for custom ethertypes must be on EGRESS,MERGED,2019-10-02 16:56:17.000000000,2019-10-04 15:42:51.000000000,2019-10-04 15:39:35.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-02 16:56:17.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d04e38e8679c3f87c364bc6c9e39b43dfb959b9', 'message': 'OVS flows for custom ethertypes must be on EGRESS\n\nSome traffic does not work if the OVS flows to permit custom ethertypes\nare not set on the base egress table.  If the rule is added to the base\negress table then both ingress and egress work properly.  Also move\ninitialization code to the function to initialize egress.\n\nRelated-Bug: #1832758\nChange-Id: Ia312fe75df58723bf41804eec4bd918d223bd60c\n(cherry picked from commit fb859966f79fc0f4fbb2c2ea3c0e6b4c17a9704f)\n'}]",0,686215,9d04e38e8679c3f87c364bc6c9e39b43dfb959b9,11,5,1,13995,,,0,"OVS flows for custom ethertypes must be on EGRESS

Some traffic does not work if the OVS flows to permit custom ethertypes
are not set on the base egress table.  If the rule is added to the base
egress table then both ingress and egress work properly.  Also move
initialization code to the function to initialize egress.

Related-Bug: #1832758
Change-Id: Ia312fe75df58723bf41804eec4bd918d223bd60c
(cherry picked from commit fb859966f79fc0f4fbb2c2ea3c0e6b4c17a9704f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/686215/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,9d04e38e8679c3f87c364bc6c9e39b43dfb959b9,custom_ethertypes_egress-stable/stein," # Allow custom ethertypes for permitted_ethertype in self.permitted_ethertypes: if permitted_ethertype[:2] == '0x': try: hex_ethertype = hex(int(permitted_ethertype, base=16)) action = ('resubmit(,%d)' % ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE) self._add_flow( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, dl_type=hex_ethertype, reg_port=port.ofport, actions=action ) continue except ValueError: pass LOG.warning(""Custom ethertype %(permitted_ethertype)s is not "" ""a hexadecimal number."", {'permitted_ethertype': permitted_ethertype}) "," # Allow custom ethertypes for permitted_ethertype in self.permitted_ethertypes: if permitted_ethertype[:2] == '0x': try: hex_ethertype = hex(int(permitted_ethertype, base=16)) self._add_flow( table=ovs_consts.BASE_INGRESS_TABLE, priority=100, dl_type=hex_ethertype, reg_port=port.ofport, actions='output:{:d}'.format(port.ofport) ) continue except ValueError: pass LOG.warning(""Custom ethertype %(permitted_ethertype)s is not "" ""a hexadecimal number."", {'permitted_ethertype': permitted_ethertype}) ",21,19
openstack%2Fneutron~stable%2Frocky~I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1,openstack/neutron,stable/rocky,I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1,raise priority of dead vlan drop,MERGED,2019-10-03 08:02:52.000000000,2019-10-04 15:39:38.000000000,2019-10-04 15:39:38.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-03 08:02:52.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffee956d44da34e38e62f82a3bc676cdd6179f48', 'message': 'raise priority of dead vlan drop\n\n- This change adds a max priority flow to drop\n  all traffic that is associated with the\n  DEAD VLAN 4095.\n- This change is part of a partial mitigation of\n  bug 1734320. Without this change vlan 4095 traffic\n  will be dropped via a low priority flow after being\n  processed by part/all of the openflow pipeline.\n  By raising the priorty and droping in table 0\n  we drop invalid packets as soon as they enter\n  the pipeline.\n\nChange-Id: I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1\nPartial-Bug: #1734320\n(cherry picked from commit e3dc447b908f57e9acc0378111b8e09cbd88ddc5)\n'}]",0,686345,ffee956d44da34e38e62f82a3bc676cdd6179f48,9,6,1,5948,,,0,"raise priority of dead vlan drop

- This change adds a max priority flow to drop
  all traffic that is associated with the
  DEAD VLAN 4095.
- This change is part of a partial mitigation of
  bug 1734320. Without this change vlan 4095 traffic
  will be dropped via a low priority flow after being
  processed by part/all of the openflow pipeline.
  By raising the priorty and droping in table 0
  we drop invalid packets as soon as they enter
  the pipeline.

Change-Id: I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1
Partial-Bug: #1734320
(cherry picked from commit e3dc447b908f57e9acc0378111b8e09cbd88ddc5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/686345/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",5,ffee956d44da34e38e62f82a3bc676cdd6179f48,bug/1734320-stable/rocky," self.install_drop(table_id=constants.LOCAL_SWITCHING, priority=constants.OPENFLOW_MAX_PRIORITY, vlan_vid=constants.DEAD_VLAN_TAG)",,17,0
openstack%2Ftripleo-heat-templates~master~I13211a95974358ec98ea8ff7f6fc4da213acfa17,openstack/tripleo-heat-templates,master,I13211a95974358ec98ea8ff7f6fc4da213acfa17,ceph-base: Fix gnocchi pool application value,ABANDONED,2019-07-19 15:27:17.000000000,2019-10-04 15:35:15.000000000,,"[{'_account_id': 1669}, {'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-19 15:27:17.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1dd4ad992a0364d75ef7cb9727e0f04e8c326e9d', 'message': ""ceph-base: Fix gnocchi pool application value\n\nThe Gnocchi pool application isn't set to the right value. It should\nuse the 'rbd' application.\n\nChange-Id: I13211a95974358ec98ea8ff7f6fc4da213acfa17\n""}]",0,671761,1dd4ad992a0364d75ef7cb9727e0f04e8c326e9d,6,7,1,14270,,,0,"ceph-base: Fix gnocchi pool application value

The Gnocchi pool application isn't set to the right value. It should
use the 'rbd' application.

Change-Id: I13211a95974358ec98ea8ff7f6fc4da213acfa17
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/671761/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,1dd4ad992a0364d75ef7cb9727e0f04e8c326e9d,ceph_gnocchi_application_pool, application: rbd, application: openstack_gnocchi,1,1
openstack%2Fnetworking-ovn~master~I65550e58215394d2fa4ebbe461e3579d2650a5b6,openstack/networking-ovn,master,I65550e58215394d2fa4ebbe461e3579d2650a5b6,DevStack: Use ovn-org/ovn only if version is greater than 2.12,ABANDONED,2019-10-04 13:01:16.000000000,2019-10-04 15:28:19.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-10-04 13:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/259fd491caf360293223aa9ddf67dd41a494c9b6', 'message': 'DevStack: Use ovn-org/ovn only if version is greater than 2.12\n\nThe OVS+OVN version 2.12 still uses the OVS repo. So we should change\nthe logic that makes that determination to be > instead of >= 2.12\n\nThis is a minor tweak to commit 0337b2e582fa96c8937794bc5a72ec744e979ad1\n\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I65550e58215394d2fa4ebbe461e3579d2650a5b6\n'}, {'number': 2, 'created': '2019-10-04 15:04:59.000000000', 'files': ['devstack/lib/ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bcc64b8eb6a1fff0cdbc35fdafac2be57eab54fd', 'message': 'DevStack: Use ovn-org/ovn only if version is greater than 2.12\n\nThe OVS+OVN version 2.12 still uses the OVS repo. So we should change\nthe logic that makes that determination to be > instead of >= 2.12\n\nThis is a minor tweak to commit 0337b2e582fa96c8937794bc5a72ec744e979ad1\n\n(jlibosva): Commit MSG update to avoid merging\n\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I65550e58215394d2fa4ebbe461e3579d2650a5b6\n'}]",0,686602,bcc64b8eb6a1fff0cdbc35fdafac2be57eab54fd,8,4,2,11952,,,0,"DevStack: Use ovn-org/ovn only if version is greater than 2.12

The OVS+OVN version 2.12 still uses the OVS repo. So we should change
the logic that makes that determination to be > instead of >= 2.12

This is a minor tweak to commit 0337b2e582fa96c8937794bc5a72ec744e979ad1

(jlibosva): Commit MSG update to avoid merging

Co-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I65550e58215394d2fa4ebbe461e3579d2650a5b6
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/02/686602/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ovn'],1,259fd491caf360293223aa9ddf67dd41a494c9b6,, [ $(echo $OVN_BRANCH | sed -e 's/^branch-\([0-9]*\)\.//') -gt 12 ]; then, [ $(echo $OVN_BRANCH | sed -e 's/^branch-\([0-9]*\)\.//') -ge 12 ]; then,1,1
openstack%2Ftripleo-ansible~master~I47ccd80c74cca3d36d18313b9d2f87573912ecaa,openstack/tripleo-ansible,master,I47ccd80c74cca3d36d18313b9d2f87573912ecaa,Remove podman_image*,MERGED,2019-10-02 19:45:38.000000000,2019-10-04 15:18:15.000000000,2019-10-04 15:18:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 19:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8dab4e673ce8b0bfa7f8e68042470241aee9a6f', 'message': 'Remove podman_image*\n\nThey are now upstream in Ansible 2.8.1, we can consume them.\n\nhttps://github.com/sshnaidm/ansible/commit/c2be342ce187caac4cfd8ff3d2a09043f7fb45f2#diff-465791fc147c1fb02e3e3d2a1ff125a6\n\nChange-Id: I47ccd80c74cca3d36d18313b9d2f87573912ecaa\n'}, {'number': 2, 'created': '2019-10-03 12:20:15.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_image_facts.py', 'tripleo_ansible/ansible_plugins/modules/podman_image.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e07c3ec7c438a3bcabb12d2876008e8541235104', 'message': 'Remove podman_image*\n\nThey are now upstream in Ansible 2.8.1, we can consume them.\n\nhttps://github.com/sshnaidm/ansible/commit/c2be342ce187caac4cfd8ff3d2a09043f7fb45f2#diff-465791fc147c1fb02e3e3d2a1ff125a6\n\nChange-Id: I47ccd80c74cca3d36d18313b9d2f87573912ecaa\n'}]",0,686265,e07c3ec7c438a3bcabb12d2876008e8541235104,12,5,2,3153,,,0,"Remove podman_image*

They are now upstream in Ansible 2.8.1, we can consume them.

https://github.com/sshnaidm/ansible/commit/c2be342ce187caac4cfd8ff3d2a09043f7fb45f2#diff-465791fc147c1fb02e3e3d2a1ff125a6

Change-Id: I47ccd80c74cca3d36d18313b9d2f87573912ecaa
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/686265/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_image_facts.py', 'tripleo_ansible/ansible_plugins/modules/podman_image.py']",2,c8dab4e673ce8b0bfa7f8e68042470241aee9a6f,cleanup,,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2018 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import from __future__ import division from __future__ import print_function import json import re from ansible.module_utils.basic import AnsibleModule ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: Podman Image author: - Sam Doran (@samdoran) version_added: '2.8' short_description: Pull images for use by podman notes: [] description: - Build, pull, or push images using Podman. options: name: description: - Name of the image to pull, push, or delete. It may contain a tag using the format C(image:tag). required: True tag: description: - Tag of the image to pull, push, or delete. default: ""latest"" pull: description: Whether or not to pull the image. default: True push: description: Whether or not to push an image. default: False path: description: Path to directory containing the build file. force: description: - Whether or not to force push or pull an image. When building, force the build even if the image already exists. state: description: - Whether an image should be present, absent, or built. default: ""present"" choices: - present - absent - build tls_verify: description: - Require HTTPS and validate certificates when pulling or pushing. Also used during build if a pull or push is necessary. default: True aliases: - tlsverify auth_file: description: - Path to file containing authorization credentials to the remote registry aliases: - authfile build_args: description: Arguments that control image build. suboptions: annotation: description: - Dictionory of key=value pairs to add to the image. Only works with OCI images. Ignored for Docker containers. type: ""str"" force_rm: description: - Always remove intermediate containers after a build, even if the build is unsuccessful. type: bool default: False format: descritption: - Format of the built image. choices: - docker - ock deafault: ""oci"" cache: description: - Whether or not to use cached layers when building an image type: bool default: True rm: description: Remove intermediate containers after a successful build type: bool default: True push_args: description: Arguments that control pushing images. suboptions: compress: description: - Compress tarball image layers when pushing to a directory using the 'dir' transport. type: bool format: description: - Manifest type to use when pushing an image using the 'dir' transport (default is manifest type of source) choices: - oci - v2s1 - v2s2 remove_signatures: description: Discard any pre-existing signatures in the image type: bool sign_by: description: - Path to a key file to use to sign the image. dest: description: Path or URL where image will be pushed. transport: description: - Transport to use when pushing in image. If no transport is set, will attempt to push to a remote registry. choices: - dir - docker-archive - docker-daemon - oci-archive - ostree """""" EXAMPLES = """""" - name: Pull an image podman_image: name: quay.io/bitnami/wildfly - name: Remove an image podman_image: name: quay.io/bitnami/wildfly state: absent - name: Pull a specific version of an image podman_image: name: redis tag: 4 - name: Build a basic OCI image podman_image: name: nginx path: /path/to/build/dir - name: Build a basic OCI image with advanced parameters podman_image: name: nginx path: /path/to/build/dir build_args: cache: no force_rm: yes format: oci annotation: app: nginx function: proxy info: Load balancer for my cool app - name: Build a Docker image podman_image: name: nginx path: /path/to/build/dir build_args: format: docker - name: Build and push an image using existing credentials podman_image: name: nginx path: /path/to/build/dir push: yes push_args: dest: quay.io/acme - name: Build and push an image using an auth file podman_image: name: nginx push: yes auth_file: /etc/containers/auth.json push_args: dest: quay.io/acme - name: Build and push an image using username and password podman_image: name: nginx push: yes username: bugs password: ""{{ vault_registry_password }}"" push_args: dest: quay.io/acme - name: Build and push an image to mulitple registries podman_image: name: ""{{ item }}"" path: /path/to/build/dir push: yes auth_file: /etc/containers/auth.json loop: - quay.io/acme/nginx - docker.io/acme/nginx - name: Build and push an image to mulitple registries with separate parameters podman_image: name: ""{{ item.name }}"" tag: ""{{ item.tag }}"" path: /path/to/build/dir push: yes auth_file: /etc/containers/auth.json push_args: dest: ""{{ item.dest }}"" loop: - name: nginx tag: 4 dest: docker.io/acme - name: nginx tag: 3 dest: docker.io/acme """""" RETURN = """""" image: description: - Image inspection results for the image that was pulled, pushed, or built. returned: success type: dict sample: { ""actions"": [ ""Built image myimage:latest from /root/build"", ""Pushed image myimage:latest to docker.io/acme"" ], ""changed"": true, ""image"": [ { ""Annotations"": { ""app"": ""nginx"", ""function"": ""proxy"", ""info"": ""Load balancer for my cool app"" }, ""Architecture"": ""amd64"", ""Author"": """", ""Comment"": """", ""ContainerConfig"": { ""Cmd"": [ ""/bin/bash"" ], ""Env"": [ ""PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/s\ bin:/bin"" ], ""Labels"": { ""org.label-schema.build-date"": ""20181006"", ""org.label-schema.license"": ""GPLv2"", ""org.label-schema.name"": ""CentOS Base Image"", ""org.label-schema.schema-version"": ""1.0"", ""org.label-schema.vendor"": ""CentOS"" } }, ""Created"": ""2018-10-26T16:33:44.983831874Z"", ""Digest"": ""sha256:f1a93c1ca2fd628f5aec74e67aab7b1876831f3e472c0180\ 1ef29d02d8285ee7"", ""GraphDriver"": { ""Data"": { ""LowerDir"": ""/var/lib/containers/storage/overlay/632dbad27\ 7b565b77bdc9164d722ee7a10b692a7ca972b58d9d02e730f576517/diff:/var/lib/containe\ rs/storage/overlay/b21a503efb4ab61e34db1a5d4131de092449809ff010792fe523ea49831\ 55c20/diff:/var/lib/containers/storage/overlay/f972d139738dfcd1519fd2461815651\ 36ee25a8b54c358834c50af094bb262f/diff"", ""MergedDir"": ""/var/lib/containers/storage/overlay/f41d3afa\ 8b49b64e48fc37944f12a27d35271d666bcbde6dc9c2cca1bb88cdba/merged"", ""UpperDir"": ""/var/lib/containers/storage/overlay/f41d3afa8\ b49b64e48fc37944f12a27d35271d666bcbde6dc9c2cca1bb88cdba/diff"", ""WorkDir"": ""/var/lib/containers/storage/overlay/f41d3afa8b\ 49b64e48fc37944f12a27d35271d666bcbde6dc9c2cca1bb88cdba/work"" }, ""Name"": ""overlay"" }, ""Id"": ""ba719f232d43f2f31c9c804859dd14ca2fbc0df80fa2bf3c43ca2728dcf\ 5e29e"", ""Labels"": { ""org.label-schema.build-date"": ""20181006"", ""org.label-schema.license"": ""GPLv2"", ""org.label-schema.name"": ""CentOS Base Image"", ""org.label-schema.schema-version"": ""1.0"", ""org.label-schema.vendor"": ""CentOS"" }, ""ManifestType"": ""application/vnd.oci.image.manifest.v1+json"", ""Os"": ""linux"", ""Parent"": """", ""RepoDigests"": [ ""localhost/myimage@sha256:f1a93c1ca2fd628f5aec74e67aab7b187683\ 1f3e472c01801ef29d02d8285ee7"" ], ""RepoTags"": [ ""localhost/myimage:latest"" ], ""RootFS"": { ""Layers"": [ ""sha256:f972d139738dfcd1519fd2461815651336ee25a8b54c358834\ c50af094bb262f"", ""sha256:ffcdc41a923a341055073f18c9acc5ad5dd1214ac2a1763272\ d37a5f0dbab7ea"", ""sha256:703ad93ff2aa20b9c28203935a337a5ee4969d46b9de212ac6\ f17bacfbe21379"", ""sha256:2054721e6c61d4f4ef13726126737038cc72cd7ae6c83da0ea\ 1cd73fb8595140"" ], ""Type"": ""layers"" }, ""Size"": 208823219, ""User"": """", ""Version"": """", ""VirtualSize"": 208823219 } ] } """""" class PodmanImageManager(object): def __init__(self, module, results): super(PodmanImageManager, self).__init__() self.module = module self.results = results self.name = self.module.params.get('name') self.executable = \ self.module.get_bin_path(module.params.get('executable'), required=True) self.tag = self.module.params.get('tag') self.pull = self.module.params.get('pull') self.push = self.module.params.get('push') self.path = self.module.params.get('path') self.force = self.module.params.get('force') self.state = self.module.params.get('state') self.tls_verify = self.module.params.get('tls_verify') self.auth_file = self.module.params.get('auth_file') self.username = self.module.params.get('username') self.password = self.module.params.get('password') self.cert_dir = self.module.params.get('cert_dir') self.build_args = self.module.params.get('build_args') self.push_args = self.module.params.get('push_args') repo, repo_tag = parse_repository_tag(self.name) if repo_tag: self.name = repo self.tag = repo_tag self.image_name = '{name}:{tag}'.format(name=self.name, tag=self.tag) if self.state in ['present', 'build']: self.present() if self.state in ['absent']: self.absent() def _run(self, args, expected_rc=0, ignore_errors=False): if not isinstance(self.executable, list): command = [self.executable] command.extend(args) rc, out, err = self.module.run_command(command) if not ignore_errors and rc != expected_rc: self.module.fail_json(msg='Failed to run {command} {err}'.format( command=command, err=err)) return rc, out, err def _get_id_from_output(self, lines, startswith=None, contains=None, split_on=' ', maxsplit=1): layer_ids = [] for line in lines.splitlines(): _condition1 = (startswith and line.startswith(startswith)) _condition2 = (contains and contains in line) if _condition1 or _condition2: splitline = line.rsplit(split_on, maxsplit) layer_ids.append(splitline[1]) return(layer_ids[-1]) def present(self): image = self.find_image() if not image or self.force: if self.path: # Build the image self.results['actions'].append( 'Built image {image_name} from {path}'.format( image_name=self.image_name, path=self.path)) self.results['changed'] = True if not self.module.check_mode: self.results['image'] = self.build_image() else: # Pull the image self.results['actions'].append( 'Pulled image {image_name}'.format( image_name=self.image_name)) self.results['changed'] = True if not self.module.check_mode: self.results['image'] = self.pull_image() if self.push: # Push the image if '/' in self.image_name: push_format_string = 'Pushed image {image_name}' else: push_format_string = 'Pushed image {image_name} to {dest}' self.results['actions'].append( push_format_string.format( image_name=self.image_name, dest=self.push_args['dest'])) self.results['changed'] = True if not self.module.check_mode: self.results['image'] = self.push_image() def absent(self): image = self.find_image() if image: self.results['actions'].append( 'Removed image {name}'.format(name=self.name)) self.results['changed'] = True self.results['image']['state'] = 'Deleted' if not self.module.check_mode: self.remove_image() def find_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['image', 'ls', image_name, '--format', 'json'] rc, images, err = self._run(args, ignore_errors=True) if len(images) > 0: return json.loads(images) else: return None def inspect_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['inspect', image_name, '--format', 'json'] rc, image_data, err = self._run(args) if len(image_data) > 0: return json.loads(image_data) else: return None def pull_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['pull', image_name, '-q'] if self.auth_file: args.extend(['--authfile', self.auth_file]) if self.tls_verify: args.append('--tls-verify') if self.cert_dir: args.extend(['--cert-dir', self.cert_dir]) rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg='Failed to pull image {image_name}'.format( image_name=image_name)) return self.inspect_image(out.strip()) def build_image(self): args = ['build', '-q'] args.extend(['-t', self.image_name]) if self.tls_verify: args.append('--tls-verify') annotation = self.build_args.get('annotation') if annotation: for k, v in annotation.items(): args.extend(['--annotation', '{k}={v}'.format(k=k, v=v)]) if self.cert_dir: args.extend(['--cert-dir', self.cert_dir]) if self.build_args.get('force_rm'): args.append('--force-rm') image_format = self.build_args.get('format') if image_format: args.extend(['--format', image_format]) if not self.build_args.get('cache'): args.append('--no-cache') if self.build_args.get('rm'): args.append('--rm') volume = self.build_args.get('volume') if volume: for v in volume: args.extend(['--volume', v]) if self.auth_file: args.extend(['--authfile', self.auth_file]) if self.username and self.password: cred_string = '{user}:{password}'.format(user=self.username, password=self.password) args.extend(['--creds', cred_string]) args.append(self.path) rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg=""Failed to build image {image}: {out} {err}"".format( image=self.image_name, out=out, err=err)) last_id = self._get_id_from_output(out, startswith='-->') return self.inspect_image(last_id) def push_image(self): args = ['push'] if self.tls_verify: args.append('--tls-verify') if self.cert_dir: args.extend(['--cert-dir', self.cert_dir]) if self.username and self.password: cred_string = '{user}:{password}'.format(user=self.username, password=self.password) args.extend(['--creds', cred_string]) if self.auth_file: args.extend(['--authfile', self.auth_file]) if self.push_args.get('compress'): args.append('--compress') push_format = self.push_args.get('format') if push_format: args.extend(['--format', push_format]) if self.push_args.get('remove_signatures'): args.append('--remove_signatures') sign_by_key = self.push_args.get('sign_by') if sign_by_key: args.extend(['--sign-by', sign_by_key]) args.append(self.image_name) # Build the destination argument dest = self.push_args.get('dest') dest_format_string = '{dest}/{image_name}' regexp = re.compile(r'/{name}(:{tag})?'.format( name=self.name, tag=self.tag)) if not dest: if '/' not in self.name: self.module.fail_json( msg=""'push_args['dest']' is required when pushing images "" ""that do not have the remote registry in the "" ""image name"") # If the push destinaton contains the image name and/or the tag # remove it and warn since it's not needed. elif regexp.search(dest): dest = regexp.sub('', dest) self.module.warn( ""Image name and tag are automatically added to "" ""push_args['dest']. Destination changed to {dest}"".format( dest=dest)) if dest and dest.endswith('/'): dest = dest[:-1] transport = self.push_args.get('transport') if transport: if not dest: self.module.fail_json( ""'push_args['transport'] requires 'push_args['dest'] but "" ""it was not provided."") if transport == 'docker': dest_format_string = '{transport}://{dest}' elif transport == 'ostree': dest_format_string = '{transport}:{name}@{dest}' else: dest_format_string = '{transport}:{dest}' dest_string = dest_format_string.format(transport=transport, name=self.name, dest=dest, image_name=self.image_name,) # Only append the destination argument if the image name is not a URL if '/' not in self.name: args.append(dest_string) rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg=""Failed to push image {image_name}: {err}"".format( image_name=self.image_name, err=err, ) ) last_id = self._get_id_from_output( out + err, contains=':', split_on=':') return self.inspect_image(last_id) def remove_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['rmi', image_name] if self.force: args.append('--force') rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg='Failed to remove image {image_name}. {err}'.format( image_name=image_name, err=err)) return out def parse_repository_tag(repo_name): parts = repo_name.rsplit('@', 1) if len(parts) == 2: return tuple(parts) parts = repo_name.rsplit(':', 1) if len(parts) == 2 and '/' not in parts[1]: return tuple(parts) return repo_name, None def main(): module = AnsibleModule( argument_spec=dict( name=dict(type='str', required=True), tag=dict(type='str', default='latest'), pull=dict(type='bool', default=True), push=dict(type='bool', default=False), path=dict(type='str'), force=dict(type='bool', default=False), state=dict( type='str', default='present', choices=['absent', 'present', 'build'] ), tls_verify=dict(type='bool', default=True, aliases=['tlsverify']), executable=dict(type='str', default='podman'), auth_file=dict(type='path', aliases=['authfile']), username=dict(type='str'), password=dict(type='str', no_log=True), cert_dir=dict(type='path'), build_args=dict( type='dict', aliases=['buildargs'], default={}, options=dict( annotation=dict(type='dict'), force_rm=dict(type='bool'), format=dict( type='str', choices=['oci', 'docker'], default='oci' ), cache=dict(type='bool', default=True), rm=dict(type='bool', default=True), volume=dict(type='list'), ), ), push_args=dict( type='dict', default={}, options=dict( compress=dict(type='bool'), format=dict(type='str', choices=['oci', 'v2s1', 'v2s2']), remove_signatures=dict(type='bool'), sign_by=dict(type='str'), dest=dict(type='str', aliases=['destination'],), transport=dict( type='str', choices=[ 'dir', 'docker-archive', 'docker-daemon', 'oci-archive', 'ostree', ] ), ), ), ), supports_check_mode=True, required_together=( ['username', 'password'], ), mutually_exclusive=( ['authfile', 'username'], ['authfile', 'password'], ), ) results = dict( changed=False, actions=[], image={}, ) PodmanImageManager(module, results) module.exit_json(**results) if __name__ == '__main__': main() ",0,995
openstack%2Ftripleo-ansible~master~I0d7778c7907fcb87aa9b1b6d9e33a1c430cbf025,openstack/tripleo-ansible,master,I0d7778c7907fcb87aa9b1b6d9e33a1c430cbf025,Add missing [] around all_nodes_extra_map_data,MERGED,2019-10-03 17:56:51.000000000,2019-10-04 15:18:14.000000000,2019-10-04 15:18:14.000000000,"[{'_account_id': 3153}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 17:56:51.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1711c432d73827550274df18c2eb4a6a15b7dcb8', 'message': 'Add missing [] around all_nodes_extra_map_data\n\nThe value from all_nodes_extra_map_data must be a list so it can be\nconcatenated with the existing services data.\n\nIt appears the extra [] was accidentally dropped in a previous commit:\neb5bfcf187bbcaea3f0549a014650a168a3de1b6\n\nChange-Id: I0d7778c7907fcb87aa9b1b6d9e33a1c430cbf025\n'}]",0,686458,1711c432d73827550274df18c2eb4a6a15b7dcb8,9,5,1,7144,,,0,"Add missing [] around all_nodes_extra_map_data

The value from all_nodes_extra_map_data must be a list so it can be
concatenated with the existing services data.

It appears the extra [] was accidentally dropped in a previous commit:
eb5bfcf187bbcaea3f0549a014650a168a3de1b6

Change-Id: I0d7778c7907fcb87aa9b1b6d9e33a1c430cbf025
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/686458/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2'],1,1711c432d73827550274df18c2eb4a6a15b7dcb8,,{% set services = services + [all_nodes_extra_map_data[service ~ '_short_bootstrap_node_name']] %},{% set services = services + all_nodes_extra_map_data[service ~ '_short_bootstrap_node_name'] %},1,1
openstack%2Fglance~master~I3036aeeb40a95c9270578dc6d376fe5246981d69,openstack/glance,master,I3036aeeb40a95c9270578dc6d376fe5246981d69,Allow DB schema creation on MySQL 8,ABANDONED,2019-10-03 18:33:12.000000000,2019-10-04 15:16:12.000000000,,"[{'_account_id': 935}, {'_account_id': 9008}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 18:33:12.000000000', 'files': ['glance/db/sqlalchemy/alembic_migrations/add_images_tables.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/07ac4b6b6646ddbec2b0531da8da3898fb608eb1', 'message': 'Allow DB schema creation on MySQL 8\n\nGlance currently fails db_sync when using MySQL 8. The root cause issue\nis that ""member"" is a reserved word in MySQL 8 [0]. Glance is attempting\nto create a table named ""member"" but is not adequately quoting the table\nname. Reserved words should be back tick quoted: `member`\n\n[0] https://dev.mysql.com/doc/refman/8.0/en/keywords.html\n\nChange-Id: I3036aeeb40a95c9270578dc6d376fe5246981d69\nCloses-Bug: #1846548\n'}]",2,686461,07ac4b6b6646ddbec2b0531da8da3898fb608eb1,8,4,1,20805,,,0,"Allow DB schema creation on MySQL 8

Glance currently fails db_sync when using MySQL 8. The root cause issue
is that ""member"" is a reserved word in MySQL 8 [0]. Glance is attempting
to create a table named ""member"" but is not adequately quoting the table
name. Reserved words should be back tick quoted: `member`

[0] https://dev.mysql.com/doc/refman/8.0/en/keywords.html

Change-Id: I3036aeeb40a95c9270578dc6d376fe5246981d69
Closes-Bug: #1846548
",git fetch https://review.opendev.org/openstack/glance refs/changes/61/686461/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/sqlalchemy/alembic_migrations/add_images_tables.py'],1,07ac4b6b6646ddbec2b0531da8da3898fb608eb1,bug/1846548," Column('`member`', String(length=255), nullable=False), '`member`', ['image_id', '`member`'],"," Column('member', String(length=255), nullable=False), 'member', ['image_id', 'member'],",3,3
openstack%2Fcinder~master~I838c32277624db3b82db65d7ecfe81e2a779e99a,openstack/cinder,master,I838c32277624db3b82db65d7ecfe81e2a779e99a,"Revert ""Implement volume capacity stats for VMware""",MERGED,2019-05-31 19:23:12.000000000,2019-10-04 15:06:28.000000000,2019-06-27 15:56:30.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-31 19:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3e9eb04beda2651ac31e4a8cba904606e2064e7', 'message': 'Revert ""Implement volume capacity stats for VMware""\n\nThis reverts commit a742569dc96af4ceb5b6fb53300d8eafeffff306.\n\nCommit a742569dc96af4ceb5b6fb53300d8eafeffff306 introduced\nserious performance issues.\n\nOur scale tests revealed ~20% degradation in various rally\ntests after this commit. Our experiments show that the current\nimplementation does not scale well for a vCenter installation\nwith 30 datastores which is a smaller size deployment for\nOpenStack clouds. The patch introduced a config option\n\'vmware_storage_profile\'. When it is set, the driver makes\nperiodic expensive PBM API calls which put lot of load on\nvCenter and the controller VM.\n\nChange-Id: I838c32277624db3b82db65d7ecfe81e2a779e99a\n'}, {'number': 2, 'created': '2019-05-31 19:28:11.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/tests/unit/volume/drivers/vmware/test_fcd.py', 'releasenotes/notes/vmware_revert_datastore_stats-ba85b30612970d91.yaml', 'cinder/volume/drivers/vmware/vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3ee3dbf4e4794d77cf263be3eec144328a3bedf', 'message': 'Revert ""Implement volume capacity stats for VMware""\n\nThis reverts commit a742569dc96af4ceb5b6fb53300d8eafeffff306.\n\nCommit a742569dc96af4ceb5b6fb53300d8eafeffff306 introduced\nserious performance issues.\n\nOur scale tests revealed ~20% degradation in various rally\ntests after this commit. Our experiments show that the current\nimplementation does not scale well for a vCenter installation\nwith 30 datastores which is a smaller size deployment for\nOpenStack clouds. The patch introduced a config option\n\'vmware_storage_profile\'. When it is set, the driver makes\nperiodic expensive PBM API calls which put lot of load on\nvCenter and the controller VM.\n\nChange-Id: I838c32277624db3b82db65d7ecfe81e2a779e99a\n'}]",0,662548,f3ee3dbf4e4794d77cf263be3eec144328a3bedf,37,28,2,9171,,,0,"Revert ""Implement volume capacity stats for VMware""

This reverts commit a742569dc96af4ceb5b6fb53300d8eafeffff306.

Commit a742569dc96af4ceb5b6fb53300d8eafeffff306 introduced
serious performance issues.

Our scale tests revealed ~20% degradation in various rally
tests after this commit. Our experiments show that the current
implementation does not scale well for a vCenter installation
with 30 datastores which is a smaller size deployment for
OpenStack clouds. The patch introduced a config option
'vmware_storage_profile'. When it is set, the driver makes
periodic expensive PBM API calls which put lot of load on
vCenter and the controller VM.

Change-Id: I838c32277624db3b82db65d7ecfe81e2a779e99a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/662548/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/tests/unit/volume/drivers/vmware/test_fcd.py', 'releasenotes/notes/vmware_revert_datastore_stats-ba85b30612970d91.yaml', 'cinder/volume/drivers/vmware/vmdk.py']",4,f3e9eb04beda2651ac31e4a8cba904606e2064e7,revert_ds_stats," help='Names of storage profiles to be monitored.', deprecated_for_removal=True, deprecated_reason='Setting this option results in wrong ' 'scheduling decisions. This option is ' 'now ignored'), # 3.4.2 - deprecated option vmware_storage_profile VERSION = '3.4.2' if not self._stats: backend_name = self.configuration.safe_get('volume_backend_name') if not backend_name: backend_name = self.__class__.__name__ data = {'volume_backend_name': backend_name, 'vendor_name': 'VMware', 'driver_version': self.VERSION, 'storage_protocol': 'vmdk', 'reserved_percentage': 0, 'total_capacity_gb': 'unknown', 'free_capacity_gb': 'unknown', 'shared_targets': False} self._stats = data","import six help='Names of storage profiles to be monitored.'), VERSION = '3.4.1' if not self._stats or refresh: self._stats = self._get_volume_stats() def _get_volume_stats(self): backend_name = self.configuration.safe_get('volume_backend_name') if not backend_name: backend_name = self.__class__.__name__ data = {'volume_backend_name': backend_name, 'vendor_name': 'VMware', 'driver_version': self.VERSION, 'storage_protocol': 'vmdk', 'reserved_percentage': self.configuration.reserved_percentage, 'shared_targets': False} ds_summaries = self._get_datastore_summaries() available_hosts = self._get_hosts(self._clusters) global_capacity = 0 global_free = 0 while True: for ds in ds_summaries.objects: ds_props = self._get_object_properties(ds) summary = ds_props['summary'] if self._is_datastore_accessible(summary, ds_props['host'], available_hosts): global_capacity += summary.capacity global_free += summary.freeSpace if getattr(ds_summaries, 'token', None): ds_summaries = self.volumeops.continue_retrieval(ds_summaries) else: break data['total_capacity_gb'] = round(global_capacity / units.Gi) data['free_capacity_gb'] = round(global_free / units.Gi) return data def _get_datastore_summaries(self): client_factory = self.session.vim.client.factory object_specs = [] if (self._storage_policy_enabled and self.configuration.vmware_storage_profile): # Get all available storage profiles on the vCenter and extract the # IDs of those that we want to observe profiles_ids = [] for profile in pbm.get_all_profiles(self.session): if profile.name in self.configuration.vmware_storage_profile: profiles_ids.append(profile.profileId) # Get all matching Datastores for each profile datastores = {} for profile_id in profiles_ids: for pbm_hub in pbm.filter_hubs_by_profile(self.session, None, profile_id): if pbm_hub.hubType != ""Datastore"": # We are not interested in Datastore Clusters for now continue if pbm_hub.hubId not in datastores: # Reconstruct a managed object reference to datastore datastores[pbm_hub.hubId] = vim_util.get_moref( pbm_hub.hubId, ""Datastore"") # Build property collector object specs out of them for datastore_ref in six.itervalues(datastores): object_specs.append( vim_util.build_object_spec(client_factory, datastore_ref, [])) else: # Build a catch-all object spec that would reach all datastores object_specs.append( vim_util.build_object_spec( client_factory, self.session.vim.service_content.rootFolder, [vim_util.build_recursive_traversal_spec(client_factory)])) prop_spec = vim_util.build_property_spec(client_factory, 'Datastore', ['summary', 'host']) filter_spec = vim_util.build_property_filter_spec(client_factory, prop_spec, object_specs) options = client_factory.create('ns0:RetrieveOptions') options.maxObjects = self.configuration.vmware_max_objects_retrieval result = self.session.vim.RetrievePropertiesEx( self.session.vim.service_content.propertyCollector, specSet=[filter_spec], options=options) return result def _get_object_properties(self, obj_content): props = {} if hasattr(obj_content, 'propSet'): prop_set = obj_content.propSet if prop_set: props = {prop.name: prop.val for prop in prop_set} return props def _is_datastore_accessible(self, ds_summary, ds_host_mounts, available_hosts): # available_hosts empty => vmware_cluster_name not specified => don't # filter by hosts cluster_access_to_ds = not available_hosts for host_mount in ds_host_mounts.DatastoreHostMount: for avlbl_host in available_hosts: if avlbl_host.value == host_mount.key.value: cluster_access_to_ds = True return (ds_summary.accessible and not self.volumeops._in_maintenance(ds_summary) and cluster_access_to_ds) ",56,202
openstack%2Fos-client-config~master~I89a8ef3cf0a73f6d95ef74e13159c1b72c447540,openstack/os-client-config,master,I89a8ef3cf0a73f6d95ef74e13159c1b72c447540,Update the constraints url,MERGED,2019-09-29 06:59:32.000000000,2019-10-04 15:06:14.000000000,2019-10-04 15:04:02.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-29 06:59:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/d615ebbcac4282c9f41a64561d63bdcbc838952c', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I89a8ef3cf0a73f6d95ef74e13159c1b72c447540\n'}]",0,685581,d615ebbcac4282c9f41a64561d63bdcbc838952c,9,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I89a8ef3cf0a73f6d95ef74e13159c1b72c447540
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/81/685581/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d615ebbcac4282c9f41a64561d63bdcbc838952c,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fkolla~master~I5c13b55d74538ef72513571aefe46d4d835c51f0,openstack/kolla,master,I5c13b55d74538ef72513571aefe46d4d835c51f0,Mark several images as deprecated,ABANDONED,2019-08-09 10:03:10.000000000,2019-10-04 14:50:16.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-09 10:03:10.000000000', 'files': ['releasenotes/notes/deprecated-images-6dd0595f93b0bbb8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2d333e8dbd63f46081a5e32d805254b1fd619f51', 'message': 'Mark several images as deprecated\n\nChange-Id: I5c13b55d74538ef72513571aefe46d4d835c51f0\n'}]",0,675568,2d333e8dbd63f46081a5e32d805254b1fd619f51,7,4,1,24072,,,0,"Mark several images as deprecated

Change-Id: I5c13b55d74538ef72513571aefe46d4d835c51f0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/675568/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecated-images-6dd0595f93b0bbb8.yaml'],1,2d333e8dbd63f46081a5e32d805254b1fd619f51,,"--- deprecations: - | With this release several images became deprecated: ""ceph*"" (external ceph support stays as recommened way), ""almanach"" (due to no upstream activity), ""kube*"" and ""helm-repository"" (due to removal of ""kolla-k8s"" project. ",,6,0
openstack%2Fproject-config~master~Ied046290e91360ea4923201f18739f07ca4cf5d4,openstack/project-config,master,Ied046290e91360ea4923201f18739f07ca4cf5d4,python-dracclient zuulv3 changes,MERGED,2019-10-03 14:04:29.000000000,2019-10-04 14:39:00.000000000,2019-10-04 14:39:00.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 14:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9e95668e4b9d6cb4617b978dc894c740bc287bed', 'message': 'Update python-dracclient gate python3 support\n\nThis patch changes the gate for python-dracclient from running a py35\njob to running py36 and py37 jobs.\n\nChange-Id: Ied046290e91360ea4923201f18739f07ca4cf5d4\n'}, {'number': 2, 'created': '2019-10-03 19:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d78cc79585d75c6fc988a6c35dc21752ec00939f', 'message': 'python-dracclient zuulv3 changes\n\nThis patch removes the config for python-dracclient since the config\nhas been migrated into the python-dracclient repo.\n\nChange-Id: Ied046290e91360ea4923201f18739f07ca4cf5d4\nDepends-On: Iee58de2768962fa27d11b513b1462f2d9c2a277d\n'}, {'number': 3, 'created': '2019-10-03 20:09:08.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7d34e600131557d6319ce83df1fbfc539ea76526', 'message': 'python-dracclient zuulv3 changes\n\nThis patch removes the config for python-dracclient since the config\nhas been migrated into the python-dracclient repo.\n\nChange-Id: Ied046290e91360ea4923201f18739f07ca4cf5d4\nDepends-On: I27dfdbe9cb29f12c9ab245258f1afefbb1da6090\n'}]",1,686409,7d34e600131557d6319ce83df1fbfc539ea76526,15,4,3,10250,,,0,"python-dracclient zuulv3 changes

This patch removes the config for python-dracclient since the config
has been migrated into the python-dracclient repo.

Change-Id: Ied046290e91360ea4923201f18739f07ca4cf5d4
Depends-On: I27dfdbe9cb29f12c9ab245258f1afefbb1da6090
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/686409/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9e95668e4b9d6cb4617b978dc894c740bc287bed,, - openstack-python36-jobs - openstack-python37-jobs, - openstack-python35-jobs,2,1
openstack%2Ftripleo-heat-templates~master~I895ac2682bd10b3063e6af579705e4d69aad20c2,openstack/tripleo-heat-templates,master,I895ac2682bd10b3063e6af579705e4d69aad20c2,Fix typo,MERGED,2019-09-26 14:56:05.000000000,2019-10-04 14:30:32.000000000,2019-10-04 14:30:32.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-26 14:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b2468670a8a9aa5c1ac6be714da648f57722b75', 'message': 'Fix typo\n\nChange-Id: I895ac2682bd10b3063e6af579705e4d69aad20c2\n'}, {'number': 2, 'created': '2019-09-27 09:33:34.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ecca692d897c0f19268b63b8ad5ecc3d95ef317', 'message': 'Fix typo\n\nChange-Id: I895ac2682bd10b3063e6af579705e4d69aad20c2\n'}]",0,685107,8ecca692d897c0f19268b63b8ad5ecc3d95ef317,22,7,2,28522,,,0,"Fix typo

Change-Id: I895ac2682bd10b3063e6af579705e4d69aad20c2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/685107/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,2b2468670a8a9aa5c1ac6be714da648f57722b75,fix-nit, description: Configures the maxsize param for containerized logrotate., description: Configures tme maxsize param for containerized logrotate.,1,1
openstack%2Fcharm-designate~master~I2f17fe655d3c559f248cae1bea9a8b9c9da20ae0,openstack/charm-designate,master,I2f17fe655d3c559f248cae1bea9a8b9c9da20ae0,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:53.000000000,2019-10-04 14:21:02.000000000,2019-10-04 14:21:02.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/7c001190350d4528b9400400d8c5363db2934f9f', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I2f17fe655d3c559f248cae1bea9a8b9c9da20ae0\n'}, {'number': 2, 'created': '2019-10-01 03:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/8a6d44fa3b2ccdd771d1cb148e067d22314a5bf7', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I2f17fe655d3c559f248cae1bea9a8b9c9da20ae0\n'}, {'number': 3, 'created': '2019-10-01 17:57:38.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/009b6f725d7627d31b11be79ecefb5d16fd2d77d', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I2f17fe655d3c559f248cae1bea9a8b9c9da20ae0\n'}]",0,685824,009b6f725d7627d31b11be79ecefb5d16fd2d77d,20,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I2f17fe655d3c559f248cae1bea9a8b9c9da20ae0
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/24/685824/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,7c001190350d4528b9400400d8c5363db2934f9f,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy USERbasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",31,38
openstack%2Fpython-dracclient~master~I27dfdbe9cb29f12c9ab245258f1afefbb1da6090,openstack/python-dracclient,master,I27dfdbe9cb29f12c9ab245258f1afefbb1da6090,Fixes some issues with zuulv3 changes,MERGED,2019-10-03 20:02:28.000000000,2019-10-04 14:19:06.000000000,2019-10-04 14:19:06.000000000,"[{'_account_id': 6547}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2019-10-03 20:02:28.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/091b5167258f521deba3594f93fc199182612c22', 'message': 'Fixes some issues with zuulv3 changes\n\nThis patch fixes some issues with the zuulv3 changes.\n\nChange-Id: I27dfdbe9cb29f12c9ab245258f1afefbb1da6090\n'}]",0,686481,091b5167258f521deba3594f93fc199182612c22,8,4,1,10250,,,0,"Fixes some issues with zuulv3 changes

This patch fixes some issues with the zuulv3 changes.

Change-Id: I27dfdbe9cb29f12c9ab245258f1afefbb1da6090
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/81/686481/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,091b5167258f521deba3594f93fc199182612c22,zuulv3_part2,, name: openstack/python-dracclient - publish-to-pypi,0,2
openstack%2Fsahara-plugin-cdh~master~I5de5a2109f0b50adc209008738920fb11fd0fd76,openstack/sahara-plugin-cdh,master,I5de5a2109f0b50adc209008738920fb11fd0fd76,Fixes on CDH for python 3 compatibility,MERGED,2019-07-31 18:25:45.000000000,2019-10-04 14:16:56.000000000,2019-10-04 14:15:48.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-07-31 18:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/be76adc13ed5a7ab8146aae8280cbbff97e25c0e', 'message': 'Fixes on CDH for python 3 compatibility\n\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}, {'number': 2, 'created': '2019-08-02 12:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/1d522cc173cc9cee9d628285ce677a4b5e35564b', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}, {'number': 3, 'created': '2019-08-07 13:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/cb837790a538fc6cb41981c24946f452f40c442f', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}, {'number': 4, 'created': '2019-08-07 13:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/5bf241f80faf1b1975aa712fabe4b7b702ae4ab6', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}, {'number': 5, 'created': '2019-08-07 13:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/271aca1592033cf37504e6861bb8ca486f45a507', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}, {'number': 6, 'created': '2019-08-08 13:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/1f09daf9c4ad9d93ea0b4bd80f401a2118f81df5', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}, {'number': 7, 'created': '2019-08-14 11:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/8f4be8759f52a81ead33fe80cca05b1d8d14a306', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}, {'number': 8, 'created': '2019-08-20 18:08:47.000000000', 'files': ['sahara_plugin_cdh/plugins/cdh/client/types.py', 'sahara_plugin_cdh/plugins/cdh/client/http_client.py', 'sahara_plugin_cdh/plugins/cdh/client/resource.py', 'sahara_plugin_cdh/plugins/cdh/db_helper.py', 'sahara_plugin_cdh/tests/unit/plugins/cdh/base_plugin_utils_test.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/9d443815fcfdd3fe11b6cbe3c47660920a2a8fc5', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n'}]",7,673892,9d443815fcfdd3fe11b6cbe3c47660920a2a8fc5,29,4,8,8932,,,0,"Fixes on CDH for python 3 compatibility

Story: #2005914
Task: #34174
Change-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/92/673892/8 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_cdh/plugins/cdh/client/types.py', 'sahara_plugin_cdh/plugins/cdh/client/http_client.py', 'sahara_plugin_cdh/plugins/cdh/client/resource.py', 'sahara_plugin_cdh/plugins/cdh/db_helper.py']",4,be76adc13ed5a7ab8146aae8280cbbff97e25c0e,, create_db_script = utils.try_get_file_text( create_db_script = create_db_script % db_password.encode('utf-8') create_db_script = utils.try_get_file_text( create_db_script = create_db_script % db_password.encode('utf-8'), create_db_script = utils.get_file_text( create_db_script = create_db_script % db_password create_db_script = utils.get_file_text( create_db_script = create_db_script % db_password,16,10
openstack%2Fopenstack-ansible-os_nova~master~Iaa08e18d9da1a55a27241e4b5629eccb7969e2e0,openstack/openstack-ansible-os_nova,master,Iaa08e18d9da1a55a27241e4b5629eccb7969e2e0,Ensure git is available to clone novnc or spice,MERGED,2019-10-02 08:39:39.000000000,2019-10-04 14:16:16.000000000,2019-10-04 14:13:14.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-02 08:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f6460bef15651565dfacc5e7a0430e66ca8c8895', 'message': ""Ensure git is available to clone novnc or spice\n\nIn [1] this package was moved to the 'devel' list mistakenly, it is\nrequired on the compute host always.\n\n[1] https://review.opendev.org/662585\n\nChange-Id: Iaa08e18d9da1a55a27241e4b5629eccb7969e2e0\n""}, {'number': 2, 'created': '2019-10-03 13:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/925d7a8b51217cf9de1f545d5a62757573032b18', 'message': ""Ensure git is available to clone novnc or spice\n\nIn [1] this package was moved to the 'devel' list mistakenly, it is\nrequired on the compute host always.\n\n[1] https://review.opendev.org/662585\n\nDepends-On: https://review.opendev.org/686396\nChange-Id: Iaa08e18d9da1a55a27241e4b5629eccb7969e2e0\n""}, {'number': 3, 'created': '2019-10-03 19:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0ed01c924bea31d1cf1ce3b67fcb85f99da4be46', 'message': ""Ensure git is available to clone novnc or spice\n\nIn [1] this package was moved to the 'devel' list mistakenly, it is\nrequired on the compute host always.\n\nIn addition, due to infra. issues with Debian, this patch marks the\njobs as non-voting[2].\n\n[1] https://review.opendev.org/662585\n[2] https://review.opendev.org/686396\n\nChange-Id: Iaa08e18d9da1a55a27241e4b5629eccb7969e2e0\n""}, {'number': 4, 'created': '2019-10-03 19:14:11.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/450dc340feb5bd307897477d0e1f0084468830d0', 'message': ""Ensure git is available to clone novnc or spice\n\nIn [1] this package was moved to the 'devel' list mistakenly, it is\nrequired on the compute host always.\n\nIn addition, due to infra. issues with Debian, this patch marks the\njobs as non-voting[2].\n\n[1] https://review.opendev.org/662585\n[2] https://review.opendev.org/686396\n\nChange-Id: Iaa08e18d9da1a55a27241e4b5629eccb7969e2e0\n""}]",1,686104,450dc340feb5bd307897477d0e1f0084468830d0,19,4,4,25023,,,0,"Ensure git is available to clone novnc or spice

In [1] this package was moved to the 'devel' list mistakenly, it is
required on the compute host always.

In addition, due to infra. issues with Debian, this patch marks the
jobs as non-voting[2].

[1] https://review.opendev.org/662585
[2] https://review.opendev.org/686396

Change-Id: Iaa08e18d9da1a55a27241e4b5629eccb7969e2e0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/04/686104/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'vars/suse.yml']",3,f6460bef15651565dfacc5e7a0430e66ca8c8895,, - git-core, - git-core,3,3
openstack%2Fkolla~master~Iea8fd1ac30400c67f76aec6d37ee7614f9c51770,openstack/kolla,master,Iea8fd1ac30400c67f76aec6d37ee7614f9c51770,"Revert ""Adding python*-pyngus package to openstack base""",MERGED,2019-10-01 12:23:01.000000000,2019-10-04 14:03:36.000000000,2019-10-04 14:01:53.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 24162}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-01 12:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/356597a466914c132d9bae838714202f3f3c4881', 'message': 'Revert ""Adding python*-pyngus package to openstack base""\n\nThis reverts commit 73f9b5e47c7cab658ef75ac3dcdc2f006ebc7557.\n\nIt was fixed on the packaging side: https://review.rdoproject.org/r/#/c/22745/\n\nChange-Id: Iea8fd1ac30400c67f76aec6d37ee7614f9c51770\n'}, {'number': 2, 'created': '2019-10-04 09:17:56.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0d0da5d99071231b83d41441bfb609406c7271a5', 'message': 'Revert ""Adding python*-pyngus package to openstack base""\n\nThis partially reverts commit 73f9b5e47c7cab658ef75ac3dcdc2f006ebc7557.\n\nIt was fixed in RDO on the packaging side:\nhttps://review.rdoproject.org/r/#/c/22745/\n\nUbuntu packages do not have a dependency on python3-pyngus, so that\npackage has been left in place.\n\nChange-Id: Iea8fd1ac30400c67f76aec6d37ee7614f9c51770\n'}]",0,685952,0d0da5d99071231b83d41441bfb609406c7271a5,16,15,2,14826,,,0,"Revert ""Adding python*-pyngus package to openstack base""

This partially reverts commit 73f9b5e47c7cab658ef75ac3dcdc2f006ebc7557.

It was fixed in RDO on the packaging side:
https://review.rdoproject.org/r/#/c/22745/

Ubuntu packages do not have a dependency on python3-pyngus, so that
package has been left in place.

Change-Id: Iea8fd1ac30400c67f76aec6d37ee7614f9c51770
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/685952/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,356597a466914c132d9bae838714202f3f3c4881,pyngus,," 'python3-pyngus', 'python-pyngus', 'python3-pyngus',",0,3
openstack%2Fnova-specs~master~Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0,openstack/nova-specs,master,Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0,Add image-precache-support spec,MERGED,2019-10-02 18:12:52.000000000,2019-10-04 14:03:10.000000000,2019-10-04 14:00:45.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 18:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/743861292b8155ee3f184876f9b71d4b72f2c881', 'message': 'Add image-precache-support spec\n\nNova supports caching images on demand at the compute node level for\nperformance reasons, but provides no ability to schedule that activity\nbefore a rollout or maintenance window. This long-requested feature\nbecomes even more important when considering Edge Computing\nenvironments, limited bandwidth, as well as high-scale rapid\napplication deployment.\n\nChange-Id: Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0\n'}, {'number': 2, 'created': '2019-10-02 18:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/792059b3b466edfc2e4712fa605bd76b2c550632', 'message': 'Add image-precache-support spec\n\nNova supports caching images on demand at the compute node level for\nperformance reasons, but provides no ability to schedule that activity\nbefore a rollout or maintenance window. This long-requested feature\nbecomes even more important when considering Edge Computing\nenvironments, limited bandwidth, as well as high-scale rapid\napplication deployment.\n\nChange-Id: Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0\n'}, {'number': 3, 'created': '2019-10-02 19:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cb2ca4424696c3acd053913df9d84612a6ed27d3', 'message': 'Add image-precache-support spec\n\nNova supports caching images on demand at the compute node level for\nperformance reasons, but provides no ability to schedule that activity\nbefore a rollout or maintenance window. This long-requested feature\nbecomes even more important when considering Edge Computing\nenvironments, limited bandwidth, as well as high-scale rapid\napplication deployment.\n\nChange-Id: Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0\n'}, {'number': 4, 'created': '2019-10-02 19:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ad82f9ed954307efae535f3a07a06191de9a4f36', 'message': 'Add image-precache-support spec\n\nNova supports caching images on demand at the compute node level for\nperformance reasons, but provides no ability to schedule that activity\nbefore a rollout or maintenance window. This long-requested feature\nbecomes even more important when considering Edge Computing\nenvironments, limited bandwidth, as well as high-scale rapid\napplication deployment.\n\nChange-Id: Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0\n'}, {'number': 5, 'created': '2019-10-02 20:35:06.000000000', 'files': ['specs/ussuri/approved/image-precache-support.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fbfb289679267e72903fedb97614b586ac0d79bc', 'message': 'Add image-precache-support spec\n\nNova supports caching images on demand at the compute node level for\nperformance reasons, but provides no ability to schedule that activity\nbefore a rollout or maintenance window. This long-requested feature\nbecomes even more important when considering Edge Computing\nenvironments, limited bandwidth, as well as high-scale rapid\napplication deployment.\n\nAPIImpact\n\nRelated to blueprint https://blueprints.launchpad.net/nova/+spec/image-precache-support\n\nChange-Id: Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0\n'}]",99,686232,fbfb289679267e72903fedb97614b586ac0d79bc,43,8,5,4393,,,0,"Add image-precache-support spec

Nova supports caching images on demand at the compute node level for
performance reasons, but provides no ability to schedule that activity
before a rollout or maintenance window. This long-requested feature
becomes even more important when considering Edge Computing
environments, limited bandwidth, as well as high-scale rapid
application deployment.

APIImpact

Related to blueprint https://blueprints.launchpad.net/nova/+spec/image-precache-support

Change-Id: Ice4d23b1397e97d4f39a9d8c9f01ee2ac1534ce0
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/32/686232/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/image-precache-support.rst'],1,743861292b8155ee3f184876f9b71d4b72f2c881,bp/https,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Image Pre-caching support ========================= https://blueprints.launchpad.net/nova/+spec/image-precache-support Nova supports caching images on demand at the compute node level for performance reasons, but provides no ability to schedule that activity before a rollout or maintenance window. This long-requested feature becomes even more important when considering Edge Computing environments, limited bandwidth, as well as high-scale rapid application deployment. Problem description =================== Several of the virt drivers in Nova support the caching of base images for improved boot performance. The first time an instance is booted from a given image, that base image is downloaded from glance, cached, and either copied or CoW'd to create the actual instance root disk. Subsequent instance boots from the same image can re-use the cached copy of the base image instead of downloading it again from Glance. This behavior provides the following benefits: - Decreased load on the Glance server(s) - Decreased network utilization - Decreased time-to-boot latency for the second and subsequent instances The latter is particularly important for situations where new application rollouts must be performed within a specific time window, or where scale-up operations are expected to happen quickly in response to changing load conditions. Specifically, it can be important to ensure that a new image is cached on all of the relevant compute nodes prior to the upgrade window opening, or before load unexpectedly spikes. Further, in situations where compute nodes may be remotely located in environments where network bandwidth is limited (such as many edge computing environments), it may be very important to push a new base image to those nodes during times of low utilization or a maintenance window, such that the image download process does not consume a massive amount of bandwidth during normal operation. Because Nova does not provide a way to seed this process from the outside, operators are currently forced to hack around the problem. Some of the workarounds we know are being used include: - Pre-booting throwaway instances on each compute node by hand to seed the cache before deploying the real ones - Copying the images directly into the cache directories on the compute nodes out of band - Modifying the Nova code themselves to provide this functionality Use Cases --------- - As an operator of a cloud with remote compute nodes at the network edge, I want to be able to pre-cache images during maintenance windows in order to avoid the network spike involved with spinning up a new instance and pulling the base image on demand. - As a user of a cloud which supports an application that is frequently re-deployed en masse, I want to be able to pre-cache new images at computes before my rollout window to limit my application downtime to purely the time needed to respawn or rebuild instances. Proposed change =============== This functionality has been proposed and requested multiple times, but failed to gain traction amongst the team for various reasons. Thus, this spec proposes a minimally viable initial implementation which addresses the need for pre-caching, but does not provide specific visibility, reporting, scheduling, or other advanced features. Initially we will add a mechanism to Nova, by which a user can request that a set of images be cached on the set of compute nodes contained within a host aggregate. This activity will be delegated to a (super-)conductor worker, which will: - Validate the images provided - Look up the list of hosts in the given aggregate - Collate the hosts by cell - Iterate through those hosts making an RPC call to start the request Images will be cached on each compute using a new method on the virt driver which, when implemented, will re-use the image downloading routines already employed during image boot. Images that are cached via this mechanism will be subjected to the same expiry and purge rules as those downloaded on demand as a result of instance boots. NOTE: We could re-delegate the per-cell work to cell conductors if desired NOTE: We could make the call to computes blocking long-call RPCs so that we know when the image download has completed for throttling reasons. Additonally, we could have some configuration knob to control how many computes we contact in parallel. Alternatives ------------ One alternative is always to do nothing. This has been requested and proposed many times in the past, and people are currently living without it and/or working around the limitation on their own. Another option would be to take a similar approach, but dispense with the incremental nature. We could implement a larger API, with task and progress reporting, scheduling (image X should be cached for Y hours, etc) and other features that have been part of previous requests. Data model impact ----------------- None in this initial iteration. In the future, it may be desirable to track images and status per-compute, which would require some accounting in the database. REST API impact --------------- It may technically make more sense to put this function under the images API in Nova. However, that is marked as deprecated currently. Since this is primarily based on the aggregate model, this proposes to add this as an action on an aggregate. os-aggregates ~~~~~~~~~~~~~ A ``cache_images`` option will be added to the ``action`` which takes a list of images. * ``POST /os-aggregates/{aggregate_id}/action`` .. code-block:: json { ""cache_images"": { ""images"": [ {""id"": ""a26887c6-c47b-4654-abb5-dfadf7d3f803""}, {""id"": ""4d8c3732-a248-40ed-bebc-539a6ffd25c0""} ]} } Because we are attempting to provide a minimally-viable initial implementation, the structure of the request is defined so that it will be possible to add additional information in future versions. This may include additional per-image information (such as priority, TTL, etc) or information per-request, such as parallelism, download rate, etc. Security impact --------------- Obviously allowing any user to initiate a wide-scale moving of data brings some inherent risk. As this proposes to be aggregate-based, the user would likely need to already have at least the ability to list host aggregates in order to provide one to the caching API. A policy knob defining which users have that ability would default to the existing ones with ability to manage host aggregates. Notifications impact -------------------- Without any API-based reporting of progress per-compute, emitting notifications about the start and completion of image downloads could be helpful. This would allow operators to monitor the process. Other end user impact --------------------- The clients will obviously need to gain the ability to hit this API. Regular users should be entirely unaffected, other than potentially noticing improved boot performance. Performance Impact ------------------ The primary goal of this change is to improve performance of instance boots after the images are pre-cached. Certainly during the pre-caching operation, there will be some additional load on the image service, conductor workers coordinating the task, as well as the computes doing the work. The actual image download operation on the computes will use the same code paths that are currently used during image boot. Other deployer impact --------------------- Deployers will need to determine which users should be allowed to access this caching API, if any, and modify the policy accordingly. Developer impact ---------------- This will require a new RPC call on the conductor, compute, and a corresponding call to the virt driver. Currently, the ``libvirt``, ``hyperv``, and ``vmwareapi`` drivers use the imagecache. Initial support will be provided for the ``libvirt`` driver, but should be relatively easy for the other two given they re-use the ``imagecache`` module. Upgrade impact -------------- As this initial revision of the function is best-effort, with no real reporting or guarantees that the images are cached and by any deadline, the upgrade impact is minimal. If the compute RPC API is pinned to a version lower than required to make this call, then no computes will be contacted to pre-cache the images. If the caching call is made against computes running virt drivers that are not yet (or ever) able to participate, a warning log message will be emitted by the base virt driver. Implementation ============== Assignee(s) ----------- Primary assignee: danms Work Items ---------- - Extend the base virt driver to contain a ``cache_image()`` method which takes an image id. Default behavior is a ``NotImplemented`` exception. - Implement the ``cache_image()`` method in the libvirt driver - Add the new RPC call to the compute manager which delegates to the virt driver. If ``NotImplemented`` is raised, a warning message is logged about the lack of support. - Add the new RPC call to the conductor manager to look up, collate per cell, and call to the relevant computes. - Add a new REST API call allowing the user to make this request. - Add a client implementation for making this call. Dependencies ============ Patches against openstackclient, novaclient, and nova will be inter-dependent. Testing ======= As this initial phase of implementation provides no externally-visible changes to a running deployment, testing with tempest would have to rely on something obscure like time-to-boot latency to determine success. Thus, functional tests will be added to ensure that the image cache is populated by the new call, and that subsequent instance boots do not contact the image service to perform the download. Documentation Impact ==================== This feature needs documentation for the operators and the users. References ========== - Proposal from 2011 where image aching was initially added, showing that pre-cache was an intended improvement after the initial implementation: https://wiki.openstack.org/wiki/Nova-image-cache-management - Blueprint from 2013 proposing an alternate way to boot images to initial cache-seeding download: https://blueprints.launchpad.net/nova/+spec/effective-template-base-image-preparing - Blueprint from 2013 proposing more configurable image cache implementations, offering at least the ability to pin images on computes: https://blueprints.launchpad.net/nova/+spec/multiple-image-cache-handlers - Blueprint from 2014 proposing an entire new nova service for pre-caching images: https://blueprints.launchpad.net/nova/+spec/image-precacher - Blueprint from 2014 proposing a P2P-style sharing of image cache repositories between computes (amongst other things): https://blueprints.launchpad.net/nova/+spec/thunderboost - Blueprint from 2014 proposing multiple mechanisms (including P2P) for pre-caching images on computes: https://blueprints.launchpad.net/nova/+spec/compute-image-precache - Blueprint from 2014 proposing a VMware-specific way to avoid the initial cache-seeding download from glance: https://blueprints.launchpad.net/nova/+spec/datastore-image-cache-update-improvements - Blueprint from 2014 proposing adding xenapi driver image caching as a step towards pre-caching: https://blueprints.launchpad.net/nova/+spec/xenapi-image-cache-management - Blueprint from 2015 proposing a weigher to prefer computes with a specific image already cached: https://blueprints.launchpad.net/nova/+spec/node-cached-image-weigher - Blueprint from 2015 proposing a pre-caching mechanism: https://blueprints.launchpad.net/nova/+spec/proactive-nova-image-caching - Mailing list thread from 2015 starting with a request, and containing a response about some of the discussion we have had in the past about such a thing: http://lists.openstack.org/pipermail/openstack-dev/2015-August/072457.html - Presentation from 2018 by Workday in Berlin about their local modifications (against Mitaka) to do image pre-caching: https://youtu.be/hx_MdGI7fcc?t=947 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ussuri - Introduced ",,297,0
openstack%2Fopenstack-ansible~stable%2Fstein~I689c7cf749f6611ae3dfcb1804a700d5e456947e,openstack/openstack-ansible,stable/stein,I689c7cf749f6611ae3dfcb1804a700d5e456947e,Allow user overrides for ansible-role-requirements,ABANDONED,2019-10-04 11:54:03.000000000,2019-10-04 14:02:48.000000000,,[{'_account_id': 25023}],"[{'number': 1, 'created': '2019-10-04 11:54:03.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'releasenotes/notes/user-role-requirements-1bdf5e45423f8734.yaml', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1c871f0edf53e255078889faba8ab3c8e061d9ea', 'message': 'Allow user overrides for ansible-role-requirements\n\nCurrently it is only possible to override the contents of the\nansible-role-requirements file as a whole.\n\nThis patch allows a user-role-requirements.yml file to be\nlocated in the /etc/openstack_deploy directory (or the directory defined\nby OSA_CONFIG_DIR). It is only necessary to list specific overridden\nrepos in the user role file. The boostrap-ansible.sh script is modified to\ngive preference to any repos named in user-role-requirements over those\nin the standard ansible-role-requirements.\n\nThis gives the following benefits:\n\n* When a deployer needs to use a locally patched version of an ansible\nrole, the configuration can be held under source code control in\n/etc/openstack_deploy along with the rest of the environment\nconfiguration\n\n* Manual adjustments to ansible-role-requirements.yml are no longer lost\nwhen running bootstrap-ansible.sh, the modifications can be kept in\nuserspace.\n\n* If any additional ansible roles are required by the deployer above the\nstandard set these can be listed in user-role-requirements.yml\n\n* It is very clear which roles have been overidden as they are the only\nones listed in user-role-requirements.yml\n\nChange-Id: I689c7cf749f6611ae3dfcb1804a700d5e456947e\n(cherry picked from commit e9f323c6540713d7facf515957af4b2705a1ad1e)\n'}]",0,686575,1c871f0edf53e255078889faba8ab3c8e061d9ea,2,1,1,29865,,,0,"Allow user overrides for ansible-role-requirements

Currently it is only possible to override the contents of the
ansible-role-requirements file as a whole.

This patch allows a user-role-requirements.yml file to be
located in the /etc/openstack_deploy directory (or the directory defined
by OSA_CONFIG_DIR). It is only necessary to list specific overridden
repos in the user role file. The boostrap-ansible.sh script is modified to
give preference to any repos named in user-role-requirements over those
in the standard ansible-role-requirements.

This gives the following benefits:

* When a deployer needs to use a locally patched version of an ansible
role, the configuration can be held under source code control in
/etc/openstack_deploy along with the rest of the environment
configuration

* Manual adjustments to ansible-role-requirements.yml are no longer lost
when running bootstrap-ansible.sh, the modifications can be kept in
userspace.

* If any additional ansible roles are required by the deployer above the
standard set these can be listed in user-role-requirements.yml

* It is very clear which roles have been overidden as they are the only
ones listed in user-role-requirements.yml

Change-Id: I689c7cf749f6611ae3dfcb1804a700d5e456947e
(cherry picked from commit e9f323c6540713d7facf515957af4b2705a1ad1e)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/686575/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/user-role-requirements-1bdf5e45423f8734.yaml', 'scripts/get-ansible-role-requirements.yml', 'scripts/bootstrap-ansible.sh']",3,1c871f0edf53e255078889faba8ab3c8e061d9ea,,"export USER_ROLE_FILE=${USER_ROLE_FILE:-""user-role-requirements.yml""} -e role_file=""${ANSIBLE_ROLE_FILE}"" -e user_role_file=""${USER_ROLE_FILE}"""," -e role_file=""${ANSIBLE_ROLE_FILE}""",33,8
openstack%2Ftripleo-quickstart~master~I16e6e33179d5df9ddc93bae9046ea76ec337e0bd,openstack/tripleo-quickstart,master,I16e6e33179d5df9ddc93bae9046ea76ec337e0bd,Fix secondary (overcloud) subnode indexes,MERGED,2019-09-16 11:44:48.000000000,2019-10-04 13:51:02.000000000,2019-10-04 13:49:55.000000000,"[{'_account_id': 4162}, {'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 9311}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-16 11:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a2ce9f72c78bccc78cb7a05b46a02ae52e6210bb', 'message': ""DNM Fix secondary (overcloud) subnode indexes\n\nNot sure why we're used to build the multinode inventory starting with\nsubnode-2, maybe that's because we assume subnode-1 is for\nprimary/undercloud?.. Anyway, that doesn't work for me, when I'm trying\na multi-node job with the new CI reproducer. It expects the undercloud\nnode and subnodes starting from 1 and not 2.\n\nChange-Id: I16e6e33179d5df9ddc93bae9046ea76ec337e0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2019-09-16 11:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/17c8e2aca1afe54dacd5f34aecc9bc1cd7ebfbb6', 'message': ""DNM Fix secondary (overcloud) subnode indexes\n\nHistorically, as of Iaf43023db700d875d3569ed811069454d863cba8 we're\nused to build the multinode inventory starting with subnode-2, maybe\nthat's because nodepool originally was assuming subnode-1 is for\nprimary/undercloud?.. Anyway, that doesn't work for me these days, when\nI'm trying a multi-node job with the new CI reproducer. It expects the\nundercloud node and subnodes starting from 1 and not 2.\n\nChange-Id: I16e6e33179d5df9ddc93bae9046ea76ec337e0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2019-09-17 08:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f31d06314473efeb086d3a83927799dc5c0b1940', 'message': ""Fix secondary (overcloud) subnode indexes\n\nHistorically, as of Iaf43023db700d875d3569ed811069454d863cba8 we're\nused to build the multinode inventory starting with subnode-2.\nThat's because nodepool originally was assuming subnode-1 is for\nprimary/undercloud. Later on there had been added the corresponding\nprimary/secondary groups with the pass-throw numeration starting from\n0.\n\nThe old numeration scheme now breaks multi-node jobs deployed with the\nnew CI reproducer. Let's switch the indexing back to + 1.\n\nChange-Id: I16e6e33179d5df9ddc93bae9046ea76ec337e0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-10-02 15:25:08.000000000', 'files': ['roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/34248506123ba9c5348a20f7c575144434e6fbdb', 'message': ""Fix secondary (overcloud) subnode indexes\n\nHistorically, as of Iaf43023db700d875d3569ed811069454d863cba8 we're\nused to build the multinode inventory starting with subnode-2.\nThat's because nodepool originally was assuming subnode-1 is for\nprimary/undercloud. Later on there had been added the corresponding\nprimary/secondary groups with the pass-throw numeration starting from\n0.\n\nThe old numeration scheme now breaks multi-node jobs deployed with the\nnew CI reproducer. Let's switch the indexing back to + 1.\n\nChange-Id: I16e6e33179d5df9ddc93bae9046ea76ec337e0bd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,682346,34248506123ba9c5348a20f7c575144434e6fbdb,51,10,4,6926,,,0,"Fix secondary (overcloud) subnode indexes

Historically, as of Iaf43023db700d875d3569ed811069454d863cba8 we're
used to build the multinode inventory starting with subnode-2.
That's because nodepool originally was assuming subnode-1 is for
primary/undercloud. Later on there had been added the corresponding
primary/secondary groups with the pass-throw numeration starting from
0.

The old numeration scheme now breaks multi-node jobs deployed with the
new CI reproducer. Let's switch the indexing back to + 1.

Change-Id: I16e6e33179d5df9ddc93bae9046ea76ec337e0bd
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/46/682346/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-inventory/tasks/inventory.yml'],1,a2ce9f72c78bccc78cb7a05b46a02ae52e6210bb,ci-repro, name: 'subnode-{{ item.0 + 1 }}', name: 'subnode-{{ item.0 + 2 }}',1,1
openstack%2Fansible-role-tripleo-modify-image~master~I75a85745aed652a85f4c143c987cd5cccbf31cac,openstack/ansible-role-tripleo-modify-image,master,I75a85745aed652a85f4c143c987cd5cccbf31cac,Add retires/ignore errors for removing buildah containers,MERGED,2019-10-02 20:59:10.000000000,2019-10-04 13:43:11.000000000,2019-10-04 13:43:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 20:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/2cf3dfbcfd6f64e045c5b9bfdf347cf13430df86', 'message': ""Add retires/ignore errors for removing buildah containers\n\nWe want to try a best effort to remove the buildah containers but since\nit's run with multiple processes we occassionally get layer conflicts.\nLet's add a bit of a retry and ultimately skip the error since that was\nthe previous behavior.\n\nChange-Id: I75a85745aed652a85f4c143c987cd5cccbf31cac\n""}, {'number': 2, 'created': '2019-10-02 21:05:15.000000000', 'files': ['tasks/yum_update_buildah.yml', 'tasks/yum_install_buildah.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/589486e4f2efe1a411bb8124b836348a69ab051b', 'message': ""Add retires/ignore errors for removing buildah containers\n\nWe want to try a best effort to remove the buildah containers but since\nit's run with multiple processes we occassionally get layer conflicts.\nLet's add a bit of a retry and ultimately skip the error since that was\nthe previous behavior.\n\nChange-Id: I75a85745aed652a85f4c143c987cd5cccbf31cac\nRelated-Bug: #1846413\n""}]",0,686294,589486e4f2efe1a411bb8124b836348a69ab051b,12,4,2,14985,,,0,"Add retires/ignore errors for removing buildah containers

We want to try a best effort to remove the buildah containers but since
it's run with multiple processes we occassionally get layer conflicts.
Let's add a bit of a retry and ultimately skip the error since that was
the previous behavior.

Change-Id: I75a85745aed652a85f4c143c987cd5cccbf31cac
Related-Bug: #1846413
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/94/686294/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/yum_update_buildah.yml', 'tasks/yum_install_buildah.yml']",2,2cf3dfbcfd6f64e045c5b9bfdf347cf13430df86,rm-retires, retries: 5 delay: 5 ignore_errors: true,,6,0
openstack%2Fpython-openstackclient~master~I2cab236b14bc5eac173d815a634c8d8eb2afee04,openstack/python-openstackclient,master,I2cab236b14bc5eac173d815a634c8d8eb2afee04,Update master for stable/train,MERGED,2019-10-04 13:06:20.000000000,2019-10-04 13:36:09.000000000,2019-10-04 13:30:32.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:06:20.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/154df0d069cdf8a10678b9f6d1b715350847fe96', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I2cab236b14bc5eac173d815a634c8d8eb2afee04\nSem-Ver: feature\n'}]",0,686607,154df0d069cdf8a10678b9f6d1b715350847fe96,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I2cab236b14bc5eac173d815a634c8d8eb2afee04
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/07/686607/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,154df0d069cdf8a10678b9f6d1b715350847fe96,reno-train, train,,7,0
openstack%2Fproject-config~master~Ia500f564d761f56bc55acc9b1c969dbd364a0eba,openstack/project-config,master,Ia500f564d761f56bc55acc9b1c969dbd364a0eba,Override security mirror for Debian image builds,MERGED,2019-10-02 16:12:59.000000000,2019-10-04 13:25:18.000000000,2019-10-04 13:25:18.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-02 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cd1773cfebf8267a99482b5f310549eb467394a3', 'message': ""Override security mirror for Debian image builds\n\nDiskimage-builder defaults to a separate mirror value for the Debian\nsecurity archive, so override it independently of our general mirror\nURL. It's really a different URL anyway.\n\nChange-Id: Ia500f564d761f56bc55acc9b1c969dbd364a0eba\nDepends-On: https://review.opendev.org/686199\n""}, {'number': 2, 'created': '2019-10-03 11:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9676d1ecb2f3acf7e00353ce885366ccfcde543f', 'message': ""Override security mirror for Debian image builds\n\nDiskimage-builder defaults to a separate mirror value for the Debian\nsecurity archive, so override it independently of our general mirror\nURL. It's really a different URL anyway.\n\nChange-Id: Ia500f564d761f56bc55acc9b1c969dbd364a0eba\nDepends-On: https://review.opendev.org/686328\n""}, {'number': 3, 'created': '2019-10-03 12:23:53.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/65c0c7ca1d87322bcdbb1413773b2d608e59cf95', 'message': ""Override security mirror for Debian image builds\n\nDiskimage-builder defaults to a separate mirror value for the Debian\nsecurity archive, so override it independently of our general mirror\nURL. It's really a different URL anyway.\n\nChange-Id: Ia500f564d761f56bc55acc9b1c969dbd364a0eba\nDepends-On: https://review.opendev.org/686328\n""}]",2,686204,65c0c7ca1d87322bcdbb1413773b2d608e59cf95,20,5,3,5263,,,0,"Override security mirror for Debian image builds

Diskimage-builder defaults to a separate mirror value for the Debian
security archive, so override it independently of our general mirror
URL. It's really a different URL anyway.

Change-Id: Ia500f564d761f56bc55acc9b1c969dbd364a0eba
Depends-On: https://review.opendev.org/686328
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/686204/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,cd1773cfebf8267a99482b5f310549eb467394a3,debian-images, DIB_DISTRIBUTION_SECURITY_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian-security' DIB_DISTRIBUTION_SECURITY_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian-security',,4,0
openstack%2Freleases~master~Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9,openstack/releases,master,Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9,Release Puppet OpenStack Train RC1,MERGED,2019-10-03 15:51:19.000000000,2019-10-04 13:14:44.000000000,2019-10-04 13:14:44.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 15:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6a80d7fe62df862f298a3c17912528f8f3cc9b00', 'message': 'Release Puppet OpenStack Train RC1\n\nChange-Id: Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9\n'}, {'number': 2, 'created': '2019-10-03 15:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1c5189f64bd8d6be7972464672172ed69986e724', 'message': 'Release Puppet OpenStack Train RC1\n\nChange-Id: Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9\n'}, {'number': 3, 'created': '2019-10-03 21:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4053c226d656236f1696c98e271dbf5fbba4f0a8', 'message': 'Release Puppet OpenStack Train RC1\n\nChange-Id: Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9\n'}, {'number': 4, 'created': '2019-10-03 23:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5831a73ef908ad409696d05efb124f5edba1b053', 'message': 'Release Puppet OpenStack Train RC1\n\nChange-Id: Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9\n'}, {'number': 5, 'created': '2019-10-03 23:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eb62149260409cb929e1a9bbc95ad430b9f5ff3e', 'message': 'Release Puppet OpenStack Train RC1\n\nChange-Id: Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9\n'}, {'number': 6, 'created': '2019-10-03 23:44:07.000000000', 'files': ['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml', 'deliverables/train/puppet-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/035dd671c5a224c5044b1ee7d52828c1827c3438', 'message': 'Release Puppet OpenStack Train RC1\n\nChange-Id: Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9\n'}]",1,686431,035dd671c5a224c5044b1ee7d52828c1827c3438,22,10,6,3153,,,0,"Release Puppet OpenStack Train RC1

Change-Id: Ia7c2bf3f2d47de4b2cbd4839b6ada23f278485a9
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/686431/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml', 'deliverables/train/puppet-ovn.yaml']",34,6a80d7fe62df862f298a3c17912528f8f3cc9b00,train/rc1,team: Puppet OpenStack- projects: - hash: 7853c55c412643432b0ac381ffd477ec7aad83eb repo: openstack/puppet-ovn version: 15.0.0 - projects: - hash: 58f95294581cd24aa667840aebae5c5bea099b0a repo: openstack/puppet-ovn version: 15.1.0 - projects: - hash: 5df782dd3fde83a00dd1dbf1226fa2c8a2ecb902 repo: openstack/puppet-ovn version: 15.2.0 - version: 15.4.0 projects: - repo: openstack/puppet-ovn hash: dae1449f477b65f30e1786a74438e17b8c7b4b8d,team: 'Puppet OpenStack' - projects: - hash: 7853c55c412643432b0ac381ffd477ec7aad83eb repo: openstack/puppet-ovn version: 15.0.0 - projects: - hash: 58f95294581cd24aa667840aebae5c5bea099b0a repo: openstack/puppet-ovn version: 15.1.0 - projects: - hash: 5df782dd3fde83a00dd1dbf1226fa2c8a2ecb902 repo: openstack/puppet-ovn version: 15.2.0,578,442
openstack%2Freleases~master~Iaab152e156d6e290024f15b3521b08e59df0b0c9,openstack/releases,master,Iaab152e156d6e290024f15b3521b08e59df0b0c9,Update common info for make-tracking-pad,MERGED,2019-09-16 18:33:53.000000000,2019-10-04 13:14:43.000000000,2019-10-04 13:14:42.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 18:33:53.000000000', 'files': ['openstack_releases/cmds/make_tracking_pad.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/c72f5eb5ea573261edd791e4aa394edb7f99b21b', 'message': 'Update common info for make-tracking-pad\n\nChange-Id: Iaab152e156d6e290024f15b3521b08e59df0b0c9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",3,682452,c72f5eb5ea573261edd791e4aa394edb7f99b21b,9,4,1,11904,,,0,"Update common info for make-tracking-pad

Change-Id: Iaab152e156d6e290024f15b3521b08e59df0b0c9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/682452/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/make_tracking_pad.py'],1,c72f5eb5ea573261edd791e4aa394edb7f99b21b,make-tracking-pad, print('Review dashboard: https://tiny.cc/ReleaseInbox') print('Storyboard: https://storyboard.openstack.org/#!/board/64') print('Release email content: https://etherpad.openstack.org/p/relmgmt-weekly-emails') print() print('Meeting info') print('Thursdays at 16:00 UTC in #openstack-release') print('Meeting stanza: #startmeeting releaseteam') print('Ping list: ') print() print('Review Days') print('[make list format]') print('Mon: ') print('Tue: ') print('Wed: ') print('Thu: ') print('Fri: '), print('Review dashboard: http://bit.ly/ocata-relmgt-dashboard') print('Planning document: https://etherpad.openstack.org/p/{}-relmgt-plan'.format(series)),18,2
openstack%2Freleases~master~I90fc94de674451b98bcb385d7c44d739ea4840e5,openstack/releases,master,I90fc94de674451b98bcb385d7c44d739ea4840e5,Add stable/train branch for heat-agents,MERGED,2019-10-01 13:22:03.000000000,2019-10-04 13:01:22.000000000,2019-10-04 13:01:21.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 13:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bcb363f70044f634f66d4c2e8cb4f5d75771b94e', 'message': 'Add missing stable/train branches\n\nChange-Id: I90fc94de674451b98bcb385d7c44d739ea4840e5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-10-02 13:21:09.000000000', 'files': ['deliverables/train/heat-agents.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/588f20fc0036c37a9ee7fc524e471a0739b5d61e', 'message': 'Add stable/train branch for heat-agents\n\nChange-Id: I90fc94de674451b98bcb385d7c44d739ea4840e5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,685970,588f20fc0036c37a9ee7fc524e471a0739b5d61e,12,4,2,11904,,,0,"Add stable/train branch for heat-agents

Change-Id: I90fc94de674451b98bcb385d7c44d739ea4840e5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/685970/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/karbor.yaml', 'deliverables/train/heat-agents.yaml', 'deliverables/train/vitrage.yaml', 'deliverables/train/python-openstackclient.yaml']",4,bcb363f70044f634f66d4c2e8cb4f5d75771b94e,stable-train,branches: - name: stable/train location: 4.0.0,,16,4
openstack%2Freleases~master~I0a57c8f0abf9373a8edaae88ee07df86ec4e3c1a,openstack/releases,master,I0a57c8f0abf9373a8edaae88ee07df86ec4e3c1a,Add stable/train for python-openstackclient,MERGED,2019-10-02 13:22:53.000000000,2019-10-04 13:01:20.000000000,2019-10-04 13:01:20.000000000,"[{'_account_id': 308}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 13:22:53.000000000', 'files': ['deliverables/train/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/18fe7631b1eff1ac72a0faa6808456dffd62ba79', 'message': 'Add stable/train for python-openstackclient\n\nChange-Id: I0a57c8f0abf9373a8edaae88ee07df86ec4e3c1a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,686157,18fe7631b1eff1ac72a0faa6808456dffd62ba79,7,5,1,11904,,,0,"Add stable/train for python-openstackclient

Change-Id: I0a57c8f0abf9373a8edaae88ee07df86ec4e3c1a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/686157/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-openstackclient.yaml'],1,18fe7631b1eff1ac72a0faa6808456dffd62ba79,stable-train,branches: - name: stable/train location: 4.0.0,,3,0
openstack%2Freleases~master~Iafaea6e39ad2087b77c44e1fc3f3ff6fea0b55f3,openstack/releases,master,Iafaea6e39ad2087b77c44e1fc3f3ff6fea0b55f3,Add stable/train for karbor-dashboard,MERGED,2019-10-02 13:25:45.000000000,2019-10-04 13:01:19.000000000,2019-10-04 13:01:19.000000000,"[{'_account_id': 308}, {'_account_id': 17068}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 13:25:45.000000000', 'files': ['deliverables/train/karbor-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/59d4700b80aab5fcde1265e863743a03160ff8b9', 'message': 'Add stable/train for karbor-dashboard\n\nChange-Id: Iafaea6e39ad2087b77c44e1fc3f3ff6fea0b55f3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,686159,59d4700b80aab5fcde1265e863743a03160ff8b9,7,4,1,11904,,,0,"Add stable/train for karbor-dashboard

Change-Id: Iafaea6e39ad2087b77c44e1fc3f3ff6fea0b55f3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/686159/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/karbor-dashboard.yaml'],1,59d4700b80aab5fcde1265e863743a03160ff8b9,stable-train,branches: - name: stable/train location: 1.3.0,,3,0
openstack%2Freleases~master~I2953afe8018686b28e8b4022b452336117a84d8e,openstack/releases,master,I2953afe8018686b28e8b4022b452336117a84d8e,Add stable/train for karbor,MERGED,2019-10-02 13:22:07.000000000,2019-10-04 13:01:18.000000000,2019-10-04 13:01:18.000000000,"[{'_account_id': 308}, {'_account_id': 17068}, {'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 13:22:07.000000000', 'files': ['deliverables/train/karbor.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/700393bc2830af47d4fee5273c789074569e6b5b', 'message': 'Add stable/train for karbor\n\nChange-Id: I2953afe8018686b28e8b4022b452336117a84d8e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,686156,700393bc2830af47d4fee5273c789074569e6b5b,7,4,1,11904,,,0,"Add stable/train for karbor

Change-Id: I2953afe8018686b28e8b4022b452336117a84d8e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/686156/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/karbor.yaml'],1,700393bc2830af47d4fee5273c789074569e6b5b,stable-train,branches: - name: stable/train location: 1.4.0,,3,0
openstack%2Freleases~master~I9b8fabfca2858ec35869469b18b0a6a5692115e0,openstack/releases,master,I9b8fabfca2858ec35869469b18b0a6a5692115e0,Add Glance Train highlights,MERGED,2019-10-01 14:30:25.000000000,2019-10-04 13:01:17.000000000,2019-10-04 13:01:16.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 14:30:25.000000000', 'files': ['deliverables/train/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/21e5598b382d1a5eab8b38fd277a37f81f968bdc', 'message': 'Add Glance Train highlights\n\nChange-Id: I9b8fabfca2858ec35869469b18b0a6a5692115e0\n'}]",2,685979,21e5598b382d1a5eab8b38fd277a37f81f968bdc,8,4,1,5202,,,0,"Add Glance Train highlights

Change-Id: I9b8fabfca2858ec35869469b18b0a6a5692115e0
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/685979/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/glance.yaml'],1,21e5598b382d1a5eab8b38fd277a37f81f968bdc,train-glance-highlights,"cycle-highlights: - 'Images API v2.9 has promoted to current with 2.7 & 2.8 marked as SUPPORTED. 2.8 will show in version list only when multi-store is configured.' - 'Glance multi-store feature has been deemed stable' - 'glance-cache-manage is not depending to glance-regstry anymore and is communicating directly with glance-api' - 'Cache prefetching is now done as periodic task by glance-api removing the requirement to add it in cron.' - 'Various bugfixes done in glance, glance_store and python-glanceclient'",,11,0
openstack%2Fnetworking-ovn~master~I3f6acbbe20ac1672e5374cb31e69dd46048affc4,openstack/networking-ovn,master,I3f6acbbe20ac1672e5374cb31e69dd46048affc4,CI: Increase TripleO job timeout,ABANDONED,2019-09-24 14:38:54.000000000,2019-10-04 12:57:05.000000000,,"[{'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-24 14:38:54.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/107a4324ed56704514f29b90182f10d9175d000c', 'message': ""CI: Increase TripleO job timeout\n\nRecently the TripleO job in our gate has been timing out quite\nfrequently, a deeper investigation is needed to see why the job got\nslower.\n\nFrom the logs I don't see any error in specific, apparently zuul is\nkilling it after ~3 hours.\n\nLooking at the tasks, the deployment of the undercloud and overcloud is\ntaking over 1 hour each:\n\n2019-09-24 10:41:34.316126 | primary | TASK [undercloud-deploy : Install the undercloud] ******************************\n2019-09-24 10:41:34.351432 | primary | Tuesday 24 September 2019  10:41:34 +0000 (0:00:03.578)       0:12:28.613 *****\n2019-09-24 11:57:23.959089 | primary | changed: [undercloud]\n2019-09-24 11:57:25.314951 | primary |\n2019-09-24 11:57:25.315276 | primary | TASK [undercloud-deploy : Configure Ironic pxe_ssh driver] *********************\n2019-09-24 11:57:25.501875 | primary | Tuesday 24 September 2019  11:57:25 +0000 (1:15:51.148)       1:28:19.763 *****\n2019-09-24 11:57:26.082615 | primary | skipping: [undercloud]\n\n2019-09-24 12:00:31.884782 | primary | TASK [overcloud-deploy : Deploy the overcloud] *********************************\n2019-09-24 12:00:31.934330 | primary | Tuesday 24 September 2019  12:00:31 +0000 (0:00:00.182)       0:00:52.708 *****\n2019-09-24 13:08:31.776015 | primary | changed: [undercloud]\n2019-09-24 13:08:32.609449 | primary |\n2019-09-24 13:08:32.609698 | primary | TASK [overcloud-deploy : Export actual used deploy args for persistence to other plays] ***\n2019-09-24 13:08:32.719729 | primary | Tuesday 24 September 2019  13:08:32 +0000 (1:08:00.784)       1:08:53.494 *****\n2019-09-24 13:08:33.285251 | primary | ok: [undercloud]\n\nPlus all the other tasks and running tempest, 3 hours doesn't seem enough.\n\nChange-Id: I3f6acbbe20ac1672e5374cb31e69dd46048affc4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",2,684362,107a4324ed56704514f29b90182f10d9175d000c,4,3,1,6773,,,0,"CI: Increase TripleO job timeout

Recently the TripleO job in our gate has been timing out quite
frequently, a deeper investigation is needed to see why the job got
slower.

From the logs I don't see any error in specific, apparently zuul is
killing it after ~3 hours.

Looking at the tasks, the deployment of the undercloud and overcloud is
taking over 1 hour each:

2019-09-24 10:41:34.316126 | primary | TASK [undercloud-deploy : Install the undercloud] ******************************
2019-09-24 10:41:34.351432 | primary | Tuesday 24 September 2019  10:41:34 +0000 (0:00:03.578)       0:12:28.613 *****
2019-09-24 11:57:23.959089 | primary | changed: [undercloud]
2019-09-24 11:57:25.314951 | primary |
2019-09-24 11:57:25.315276 | primary | TASK [undercloud-deploy : Configure Ironic pxe_ssh driver] *********************
2019-09-24 11:57:25.501875 | primary | Tuesday 24 September 2019  11:57:25 +0000 (1:15:51.148)       1:28:19.763 *****
2019-09-24 11:57:26.082615 | primary | skipping: [undercloud]

2019-09-24 12:00:31.884782 | primary | TASK [overcloud-deploy : Deploy the overcloud] *********************************
2019-09-24 12:00:31.934330 | primary | Tuesday 24 September 2019  12:00:31 +0000 (0:00:00.182)       0:00:52.708 *****
2019-09-24 13:08:31.776015 | primary | changed: [undercloud]
2019-09-24 13:08:32.609449 | primary |
2019-09-24 13:08:32.609698 | primary | TASK [overcloud-deploy : Export actual used deploy args for persistence to other plays] ***
2019-09-24 13:08:32.719729 | primary | Tuesday 24 September 2019  13:08:32 +0000 (1:08:00.784)       1:08:53.494 *****
2019-09-24 13:08:33.285251 | primary | ok: [undercloud]

Plus all the other tasks and running tempest, 3 hours doesn't seem enough.

Change-Id: I3f6acbbe20ac1672e5374cb31e69dd46048affc4
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/62/684362/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,107a4324ed56704514f29b90182f10d9175d000c,ooo-timeout, timeout: 14400,,1,0
openstack%2Freleases~master~I97a9ce144f0da090bfa50d6b3c8e63df61dee0e3,openstack/releases,master,I97a9ce144f0da090bfa50d6b3c8e63df61dee0e3,stable/queens release oslo.messaging 5.35.6,MERGED,2019-10-03 12:52:15.000000000,2019-10-04 12:56:29.000000000,2019-10-04 12:56:29.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 12:52:15.000000000', 'files': ['deliverables/queens/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/748e4d637d354198374692c534c3865bf0643c5c', 'message': 'stable/queens release oslo.messaging 5.35.6\n\nChange-Id: I97a9ce144f0da090bfa50d6b3c8e63df61dee0e3\n'}]",0,686395,748e4d637d354198374692c534c3865bf0643c5c,9,5,1,28522,,,0,"stable/queens release oslo.messaging 5.35.6

Change-Id: I97a9ce144f0da090bfa50d6b3c8e63df61dee0e3
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/686395/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/oslo.messaging.yaml'],1,748e4d637d354198374692c534c3865bf0643c5c,release_5.35.6, - projects: - hash: 86976f4a45b45a6cdfa16454c011518dd85cbd7a repo: openstack/oslo.messaging version: 5.35.6,,4,0
openstack%2Freleases~master~I58f589d721660c6ca9d9464bdb0222a837b7b815,openstack/releases,master,I58f589d721660c6ca9d9464bdb0222a837b7b815,Release cinder 12.0.9,MERGED,2019-10-01 22:39:44.000000000,2019-10-04 12:56:22.000000000,2019-10-04 12:56:22.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 22:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/98a0d7109fe6c90839b150d4ec2b540da84eae95', 'message': 'Release cinder 12.0.9\n\nRelease from stable/queens\n\nChange-Id: I58f589d721660c6ca9d9464bdb0222a837b7b815\n'}, {'number': 2, 'created': '2019-10-01 22:45:04.000000000', 'files': ['deliverables/queens/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/458ca53f18bda295481990d27842372e7b097b2c', 'message': 'Release cinder 12.0.9\n\nRelease from stable/queens\n\nChange-Id: I58f589d721660c6ca9d9464bdb0222a837b7b815\n'}]",0,686069,458ca53f18bda295481990d27842372e7b097b2c,12,5,2,5314,,,0,"Release cinder 12.0.9

Release from stable/queens

Change-Id: I58f589d721660c6ca9d9464bdb0222a837b7b815
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/686069/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/cinder.yaml'],1,98a0d7109fe6c90839b150d4ec2b540da84eae95,cinderproject-aug-2019, - projects: - hash: 47726fb3ad104698327e40efb94b088d311ce543 repo: openstack/cinder version: 12.0.9,,4,0
openstack%2Freleases~master~I06c2821630f79d80f619482ddf84b5b6fc9bb835,openstack/releases,master,I06c2821630f79d80f619482ddf84b5b6fc9bb835,stable/rocky release oslo.messaging 8.1.4,MERGED,2019-10-03 17:46:53.000000000,2019-10-04 12:54:53.000000000,2019-10-04 12:54:53.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 17:46:53.000000000', 'files': ['deliverables/rocky/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/453bc3dab9427ede7e0132b79e608e243a267f27', 'message': 'stable/rocky release oslo.messaging 8.1.4\n\nChange-Id: I06c2821630f79d80f619482ddf84b5b6fc9bb835\n'}]",0,686454,453bc3dab9427ede7e0132b79e608e243a267f27,8,4,1,28522,,,0,"stable/rocky release oslo.messaging 8.1.4

Change-Id: I06c2821630f79d80f619482ddf84b5b6fc9bb835
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/686454/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/oslo.messaging.yaml'],1,453bc3dab9427ede7e0132b79e608e243a267f27,release_8.1.4, - projects: - hash: 8bebba78a16d48d7355b7ecf3eac0ea611148981 repo: openstack/oslo.messaging version: 8.1.4,,4,0
openstack%2Freleases~master~Id01c9bb53a8a8c620e154a7d08d45820a39f5920,openstack/releases,master,Id01c9bb53a8a8c620e154a7d08d45820a39f5920,Release cinder 13.0.7,MERGED,2019-10-01 22:43:12.000000000,2019-10-04 12:54:52.000000000,2019-10-04 12:54:52.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 22:43:12.000000000', 'files': ['deliverables/rocky/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8b2cf09ff445b130fac153b2ce173843e8412280', 'message': 'Release cinder 13.0.7\n\nRelease from stable/rocky\n\nChange-Id: Id01c9bb53a8a8c620e154a7d08d45820a39f5920\n'}]",0,686070,8b2cf09ff445b130fac153b2ce173843e8412280,10,4,1,5314,,,0,"Release cinder 13.0.7

Release from stable/rocky

Change-Id: Id01c9bb53a8a8c620e154a7d08d45820a39f5920
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/686070/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/cinder.yaml'],1,8b2cf09ff445b130fac153b2ce173843e8412280,cinderproject-aug-2019, - projects: - hash: 6d1c2ce4f904c6e92013cbb72d7459db648417cb repo: openstack/cinder version: 13.0.7,,4,0
openstack%2Fopenstack-zuul-jobs~master~Ib302c42e86c72596aa33f1190d43c31e7292fb9e,openstack/openstack-zuul-jobs,master,Ib302c42e86c72596aa33f1190d43c31e7292fb9e,Remove a reference to cgit from comment,MERGED,2019-10-04 12:26:06.000000000,2019-10-04 12:52:17.000000000,2019-10-04 12:49:42.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 12:26:06.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/689c1f168437729b6d109478d5e8d09e2e4484f5', 'message': 'Remove a reference to cgit from comment\n\nThis looks like a find/replace gone bad.\n\nChange-Id: Ib302c42e86c72596aa33f1190d43c31e7292fb9e\n'}]",0,686586,689c1f168437729b6d109478d5e8d09e2e4484f5,7,2,1,2,,,0,"Remove a reference to cgit from comment

This looks like a find/replace gone bad.

Change-Id: Ib302c42e86c72596aa33f1190d43c31e7292fb9e
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/86/686586/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,689c1f168437729b6d109478d5e8d09e2e4484f5,,# https://opendev.org/openstack/project-config # https://opendev.org/zuul/zuul-jobs,# https://opendev.org/cgit/openstack/project-config # https://opendev.org/cgit/zuul/zuul-jobs,2,2
openstack%2Fironic~master~I79ff7cb8b9d33bc2837d41126fba269a5d4b1cda,openstack/ironic,master,I79ff7cb8b9d33bc2837d41126fba269a5d4b1cda,Change log level based on node status,MERGED,2019-09-25 12:44:30.000000000,2019-10-04 12:51:40.000000000,2019-09-30 09:02:12.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-25 12:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/70c23225006990284b67ef18f4cab37767a1392d', 'message': 'Change status node message level\n\nWhile the status node change message is purely informational, it\ncan contain also failed states transitions.\nMoving the level from INFO to WARNING highlights the importance\nof the message and can help in detect the transition message when\ntroubleshooting issues.\n\nChange-Id: I79ff7cb8b9d33bc2837d41126fba269a5d4b1cda\n'}, {'number': 2, 'created': '2019-09-25 13:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5564a80de8be1a368f2780a55ca46ffe4c377542', 'message': ""Change log level based on node status\n\nWhile the status node change message is purely informational, it\ncan contain also failed states transitions.\nMoving the level from INFO to ERROR if the provision_state is\n'failed' can help in detecting the transition message when\ntroubleshooting issues.\n\nChange-Id: I79ff7cb8b9d33bc2837d41126fba269a5d4b1cda\n""}, {'number': 3, 'created': '2019-09-26 13:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad555a9d36adb022b455a6d5b909e214d7a1510d', 'message': ""Change log level based on node status\n\nWhile the status node change message is purely informational, it\ncan contain also failed states transitions.\nMoving the level from INFO to ERROR if the provision_state is\n'failed' can help in detecting the transition message when\ntroubleshooting issues.\n\nChange-Id: I79ff7cb8b9d33bc2837d41126fba269a5d4b1cda\n""}, {'number': 4, 'created': '2019-09-26 14:23:33.000000000', 'files': ['ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8fa188a29481b11b2f3117cdeecfd920a8f5a0e', 'message': ""Change log level based on node status\n\nWhile the status node change message is purely informational, it\ncan contain also failed states transitions.\nMoving the level from INFO to ERROR if the provision_state is\n'failed' can help in detecting the transition message when\ntroubleshooting issues.\n\nChange-Id: I79ff7cb8b9d33bc2837d41126fba269a5d4b1cda\n""}]",6,684736,b8fa188a29481b11b2f3117cdeecfd920a8f5a0e,37,10,4,23851,,,0,"Change log level based on node status

While the status node change message is purely informational, it
can contain also failed states transitions.
Moving the level from INFO to ERROR if the provision_state is
'failed' can help in detecting the transition message when
troubleshooting issues.

Change-Id: I79ff7cb8b9d33bc2837d41126fba269a5d4b1cda
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/684736/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/task_manager.py'],1,70c23225006990284b67ef18f4cab37767a1392d,info-to-error," LOG.warning('Node %(node)s moved to provision state ""%(state)s"" from ' 'state ""%(previous)s""; target provision state is ' '""%(target)s""', {'node': self.node.uuid, 'state': self.node.provision_state, 'target': self.node.target_provision_state, 'previous': self._prev_provision_state})"," LOG.info('Node %(node)s moved to provision state ""%(state)s"" from ' 'state ""%(previous)s""; target provision state is ' '""%(target)s""', {'node': self.node.uuid, 'state': self.node.provision_state, 'target': self.node.target_provision_state, 'previous': self._prev_provision_state})",7,6
openstack%2Freleases~master~Ia1c1f2cb8b306ccbf6e672a76f0fd0268a5e99dd,openstack/releases,master,Ia1c1f2cb8b306ccbf6e672a76f0fd0268a5e99dd,Release python-troveclient 2.17.1 for stable/stein,MERGED,2019-10-03 21:31:06.000000000,2019-10-04 12:46:12.000000000,2019-10-04 12:46:12.000000000,"[{'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 21:31:06.000000000', 'files': ['deliverables/stein/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4743e7845f20af34e9b8ccdf1001165c2a395a28', 'message': 'Release python-troveclient 2.17.1 for stable/stein\n\nChange-Id: Ia1c1f2cb8b306ccbf6e672a76f0fd0268a5e99dd\n'}]",0,686502,4743e7845f20af34e9b8ccdf1001165c2a395a28,7,3,1,6732,,,0,"Release python-troveclient 2.17.1 for stable/stein

Change-Id: Ia1c1f2cb8b306ccbf6e672a76f0fd0268a5e99dd
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/686502/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-troveclient.yaml'],1,4743e7845f20af34e9b8ccdf1001165c2a395a28,python-troveclient, - version: 2.17.1 projects: - hash: c3d667971d7c48cd6e069851252e494962fc251a repo: openstack/python-troveclient,,4,0
openstack%2Fopenstacksdk~master~I67918df1915588f067b421fef8d611e6e57e4377,openstack/openstacksdk,master,I67918df1915588f067b421fef8d611e6e57e4377,WIP: annotate some swift function used by the zuul_registry,ABANDONED,2019-10-03 15:56:33.000000000,2019-10-04 12:29:28.000000000,,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 15:56:33.000000000', 'files': ['openstack/cloud/_object_store.py', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9aa88ffb83a9992d03cba5fe09bde51aed0a7b43', 'message': 'WIP: annotate some swift function used by the zuul_registry\n\nChange-Id: I67918df1915588f067b421fef8d611e6e57e4377\n'}]",3,686433,9aa88ffb83a9992d03cba5fe09bde51aed0a7b43,4,2,1,9311,,,0,"WIP: annotate some swift function used by the zuul_registry

Change-Id: I67918df1915588f067b421fef8d611e6e57e4377
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/686433/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_object_store.py', 'openstack/connection.py']",2,9aa88ffb83a9992d03cba5fe09bde51aed0a7b43,, # TODO: fix that by revamping metaclass system self.object_store: _object_store.ObjectStoreCloudMixin = None,,18,2
openstack%2Foslo.utils~stable%2Fstein~I1f316d6982c0def3296af4835484ad2d81a87fd4,openstack/oslo.utils,stable/stein,I1f316d6982c0def3296af4835484ad2d81a87fd4,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later",MERGED,2019-10-04 07:37:06.000000000,2019-10-04 12:18:21.000000000,2019-10-04 12:16:58.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25089}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-04 07:37:06.000000000', 'files': ['oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/acd26c57560316aa5eeab645636d183e0665de64', 'message': 'Support ""qemu-img info"" virtual size in QEMU 4.1 and later\n\nQEMU 4.0 and earlier have output like:\n\n    virtual size: 1.5M (1572864 bytes)\n\nQEMU 4.1 and later have output like:\n\n    virtual size: 1.5 MiB (1572864 bytes)\n\nAdjust the regular expression to allow for optional whitespace\nbetween the magnitude and the unit.\n\nAdjust the unit parsing to support the expanded ""MiB"" form.\n\nChange-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4\nCloses-Bug: 1844050\n(cherry picked from commit 5204dfcd6c5a8f75bb1fe3dc348cec82a6284eff)\n'}]",0,686532,acd26c57560316aa5eeab645636d183e0665de64,8,4,1,16312,,,0,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later

QEMU 4.0 and earlier have output like:

    virtual size: 1.5M (1572864 bytes)

QEMU 4.1 and later have output like:

    virtual size: 1.5 MiB (1572864 bytes)

Adjust the regular expression to allow for optional whitespace
between the magnitude and the unit.

Adjust the unit parsing to support the expanded ""MiB"" form.

Change-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4
Closes-Bug: 1844050
(cherry picked from commit 5204dfcd6c5a8f75bb1fe3dc348cec82a6284eff)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/32/686532/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py']",2,acd26c57560316aa5eeab645636d183e0665de64,bugs/1844050-stable/stein," ('64_MiB_with_byte_hint', dict(virtual_size='64 MiB (67108844 bytes)', exp_virtual_size=67108844)), ('4.4_MiB_with_byte_hint', dict(virtual_size='4.4 MiB (4592640 bytes)', exp_virtual_size=4592640)), ('2_KiB_with_byte_hint', dict(virtual_size='2 KiB (2048 bytes)', exp_virtual_size=2048)), ('96_KiB', dict(disk_size='96 KiB', exp_disk_size=98304)), ('98304_B', dict(disk_size='98304 B', exp_disk_size=98304)), ('3.1_GiB', dict(disk_size='3.1 GiB', exp_disk_size=3328599655)),",,17,2
openstack%2Fcinder~stable%2Ftrain~I1784889fe6ebfdc983deb08e72f8351ed50d352a,openstack/cinder,stable/train,I1784889fe6ebfdc983deb08e72f8351ed50d352a,Imported Translations from Zanata,MERGED,2019-10-04 06:44:41.000000000,2019-10-04 12:12:04.000000000,2019-10-04 12:10:34.000000000,"[{'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-04 06:44:41.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/87674f7bcfeaee9498f53994e64ce136a3cdda41', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1784889fe6ebfdc983deb08e72f8351ed50d352a\n'}]",0,686525,87674f7bcfeaee9498f53994e64ce136a3cdda41,16,11,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1784889fe6ebfdc983deb08e72f8351ed50d352a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/686525/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po']",12,87674f7bcfeaee9498f53994e64ce136a3cdda41,zanata/translations,"""POT-Creation-Date: 2019-10-04 05:27+0000\n""","""POT-Creation-Date: 2019-07-25 22:11+0000\n""msgid ""Backup id required"" msgstr ""Se necesita una copia de seguridad"" msgid """" ""Backup service %(configured_service)s does not support verify. Backup id "" ""%(id)s is not verified. Skipping verify."" msgstr """" ""El servicio de copia de seguridad %(configured_service)s no admite la "" ""verificacin. El id de copia de seguridad %(id)s no se ha verificado. Se "" ""omite la verificacin."" #, python-format msgid """" ""Backup service %(service)s does not support verify. Backup id %(id)s is not "" ""verified. Skipping reset."" msgstr """" ""El servicio de copia de seguridad %(service)s no soporta la verificacin. El "" ""ID de copia de seguridad %(id)s no se ha verificado. Se omite el "" ""restablecimiento."" #, python-formatmsgid ""Converted to %(vol_format)s, but format is now %(file_format)s"" msgstr """" ""Se ha convertido a %(vol_format)s, pero ahora el formato es %(file_format)s"" #, python-formatmsgid ""Unsupported backup verify driver"" msgstr ""Controlador de verificacin de copia de seguridad no admitido"" ",145,7968
openstack%2Fopenstack-ansible~master~I689c7cf749f6611ae3dfcb1804a700d5e456947e,openstack/openstack-ansible,master,I689c7cf749f6611ae3dfcb1804a700d5e456947e,Allow user overrides for ansible-role-requirements,MERGED,2019-07-25 11:49:39.000000000,2019-10-04 11:54:03.000000000,2019-07-30 19:53:25.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 11:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6b7ccc06fc713080bb39d5dc12f0bbb0b41f6882', 'message': 'Allow user overrides for ansible-role-requirements\n\nCurrently it is only possible to override the contents of the\nansible-role-requirements file as a whole.\n\nThis patch allows a user-role-requirements.yml file to be\nlocated in the /etc/openstack_deploy directory (or the directory defined\nby OSA_CONFIG_DIR). It is only necessary to list specific overridden\nrepos in the user role file. The boostrap-ansible.sh script is modified to\ngive preference to any repos named in user-role-requirements over those\nin the standard ansible-role-requirements.\n\nThis gives the following benefits:\n\n* When a deployer needs to use a locally patched version of an ansible\nrole, the configuration can be held under source code control in\n/etc/openstack_deploy along with the rest of the environment\nconfiguration\n\n* Manual adjustments to ansible-role-requirements.yml are no longer lost\nwhen running bootstrap-ansible.sh, the modifications can be kept in\nuserspace.\n\n* If any additional ansible roles are required by the deployer above the\nstandard set these can be listed in user-role-requirements.yml\n\n* It is very clear which roles have been overidden as they are the only\nones listed in user-role-requirements.yml\n\nChange-Id: I689c7cf749f6611ae3dfcb1804a700d5e456947e\n'}, {'number': 2, 'created': '2019-07-25 12:16:59.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'releasenotes/notes/user-role-requirements-1bdf5e45423f8734.yaml', 'scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9f323c6540713d7facf515957af4b2705a1ad1e', 'message': 'Allow user overrides for ansible-role-requirements\n\nCurrently it is only possible to override the contents of the\nansible-role-requirements file as a whole.\n\nThis patch allows a user-role-requirements.yml file to be\nlocated in the /etc/openstack_deploy directory (or the directory defined\nby OSA_CONFIG_DIR). It is only necessary to list specific overridden\nrepos in the user role file. The boostrap-ansible.sh script is modified to\ngive preference to any repos named in user-role-requirements over those\nin the standard ansible-role-requirements.\n\nThis gives the following benefits:\n\n* When a deployer needs to use a locally patched version of an ansible\nrole, the configuration can be held under source code control in\n/etc/openstack_deploy along with the rest of the environment\nconfiguration\n\n* Manual adjustments to ansible-role-requirements.yml are no longer lost\nwhen running bootstrap-ansible.sh, the modifications can be kept in\nuserspace.\n\n* If any additional ansible roles are required by the deployer above the\nstandard set these can be listed in user-role-requirements.yml\n\n* It is very clear which roles have been overidden as they are the only\nones listed in user-role-requirements.yml\n\nChange-Id: I689c7cf749f6611ae3dfcb1804a700d5e456947e\n'}]",0,672704,e9f323c6540713d7facf515957af4b2705a1ad1e,9,3,2,25023,,,0,"Allow user overrides for ansible-role-requirements

Currently it is only possible to override the contents of the
ansible-role-requirements file as a whole.

This patch allows a user-role-requirements.yml file to be
located in the /etc/openstack_deploy directory (or the directory defined
by OSA_CONFIG_DIR). It is only necessary to list specific overridden
repos in the user role file. The boostrap-ansible.sh script is modified to
give preference to any repos named in user-role-requirements over those
in the standard ansible-role-requirements.

This gives the following benefits:

* When a deployer needs to use a locally patched version of an ansible
role, the configuration can be held under source code control in
/etc/openstack_deploy along with the rest of the environment
configuration

* Manual adjustments to ansible-role-requirements.yml are no longer lost
when running bootstrap-ansible.sh, the modifications can be kept in
userspace.

* If any additional ansible roles are required by the deployer above the
standard set these can be listed in user-role-requirements.yml

* It is very clear which roles have been overidden as they are the only
ones listed in user-role-requirements.yml

Change-Id: I689c7cf749f6611ae3dfcb1804a700d5e456947e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/672704/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get-ansible-role-requirements.yml', 'scripts/bootstrap-ansible.sh']",2,6b7ccc06fc713080bb39d5dc12f0bbb0b41f6882,,"export USER_ROLE_FILE=${USER_ROLE_FILE:-""user-role-requirements.yml""} -e role_file=""${ANSIBLE_ROLE_FILE}"" -e user_role_file=""${USER_ROLE_FILE}"""," -e role_file=""${ANSIBLE_ROLE_FILE}""",25,8
openstack%2Fovsdbapp~master~I2d9599d7050a15f459e6845a112ffc9948b2a7bd,openstack/ovsdbapp,master,I2d9599d7050a15f459e6845a112ffc9948b2a7bd,Fix building OVS after python2 removal,MERGED,2019-10-03 21:10:21.000000000,2019-10-04 11:46:19.000000000,2019-10-04 11:44:07.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 21:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5a49e84d428a68f10a9900f74839bf20bbeb185a', 'message': 'DNM Fix building OVS after python2 removal\n\nFirst, verify that master is broken as well as train\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n'}, {'number': 2, 'created': '2019-10-03 21:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/53a51b47b3143fed55cf6d12c3c014c86550a209', 'message': 'Fix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for.\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n'}, {'number': 3, 'created': '2019-10-03 21:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/add3c328dee84a4bb4317084c51becb1f55c62b4', 'message': 'Fix building OVS after python2 removal\n.\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n'}, {'number': 4, 'created': '2019-10-03 21:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8460ff73e0db32c7659bace1f7783963386f8317', 'message': 'Fix building OVS after python2 removal\n.\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n(cherry picked from commit add3c328dee84a4bb4317084c51becb1f55c62b4)\n'}, {'number': 5, 'created': '2019-10-03 21:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/491b3ecba970d70943fb96f4b2aa4fe0bbf27163', 'message': 'Fix building OVS after python2 removal\n.\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n(cherry picked from commit add3c328dee84a4bb4317084c51becb1f55c62b4)\n'}, {'number': 6, 'created': '2019-10-03 21:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/190285515b494a9abbf0c7b26705432e7e637109', 'message': 'Fix building OVS after python2 removal\n.\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n'}, {'number': 7, 'created': '2019-10-03 21:54:04.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae', 'message': 'Fix building OVS after python2 removal\n\nSwitch functional to use python3 to install python3-based\ndependencies, which the OVS build checks for. Also, remove\nthe py36 test\n\nChange-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd\n'}]",4,686494,d5420ab5d248b93c5ce1c65d29521dc52ad3c5ae,20,4,7,5756,,,0,"Fix building OVS after python2 removal

Switch functional to use python3 to install python3-based
dependencies, which the OVS build checks for. Also, remove
the py36 test

Change-Id: I2d9599d7050a15f459e6845a112ffc9948b2a7bd
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/94/686494/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5a49e84d428a68f10a9900f74839bf20bbeb185a,ovs-removed-python2,#basepython = python3,,1,0
openstack%2Fopenstack-ansible~master~Icfff7f2bafe3ff1284fa7f4d6a7aa95236ca973b,openstack/openstack-ansible,master,Icfff7f2bafe3ff1284fa7f4d6a7aa95236ca973b,Imported Translations from Zanata,MERGED,2019-10-04 09:40:06.000000000,2019-10-04 11:41:25.000000000,2019-10-04 11:39:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-04 09:40:06.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/28115197f93f70990a31a0e177a5ba203b617286', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Icfff7f2bafe3ff1284fa7f4d6a7aa95236ca973b\n'}]",0,686560,28115197f93f70990a31a0e177a5ba203b617286,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Icfff7f2bafe3ff1284fa7f4d6a7aa95236ca973b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/686560/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,28115197f93f70990a31a0e177a5ba203b617286,zanata/translations,"""POT-Creation-Date: 2019-10-01 16:46+0000\n""""PO-Revision-Date: 2019-10-03 01:57+0000\n""msgid ""19.0.0.0rc1-171"" msgstr ""19.0.0.0rc1-171""msgid ""19.0.4"" msgstr ""19.0.4""","""POT-Creation-Date: 2019-09-20 17:30+0000\n""""PO-Revision-Date: 2019-09-23 04:55+0000\n""msgid ""19.0.0.0rc1-168"" msgstr ""19.0.0.0rc1-168""msgid ""19.0.3-3"" msgstr ""19.0.3-3""",6,6
openstack%2Fpython-ironicclient~master~Iaea770ad7d0768be750c3f026b60f56c2646698e,openstack/python-ironicclient,master,Iaea770ad7d0768be750c3f026b60f56c2646698e,[DNM] Test bug #1845189,ABANDONED,2019-09-25 11:30:20.000000000,2019-10-04 11:36:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-25 11:30:20.000000000', 'files': ['ironicclient/__init__.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/738ebdcd722b12e710c5056fc0c6c63f3a3c7ca7', 'message': '[DNM] Test bug #1845189\n\nChange-Id: Iaea770ad7d0768be750c3f026b60f56c2646698e\n'}]",0,684715,738ebdcd722b12e710c5056fc0c6c63f3a3c7ca7,3,1,1,13861,,,0,"[DNM] Test bug #1845189

Change-Id: Iaea770ad7d0768be750c3f026b60f56c2646698e
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/15/684715/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/__init__.py', 'zuul.d/project.yaml']",2,738ebdcd722b12e710c5056fc0c6c63f3a3c7ca7,bug/1845189,, - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-train-jobs - openstackclient-plugin-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 check: jobs: - ironicclient-functional - ironicclient-functional-python2 - ironicclient-tempest - ironicclient-tempest-python2,1,13
openstack%2Fpuppet-openstack-integration~master~Id99272c9d43ad372d1a31fbdc229e5b241696eb3,openstack/puppet-openstack-integration,master,Id99272c9d43ad372d1a31fbdc229e5b241696eb3,[DNM] Test osc-4.0.0 with all fixes,ABANDONED,2019-09-19 06:03:34.000000000,2019-10-04 11:35:26.000000000,,"[{'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 06:03:34.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5c7458b135d4bbe6542066b6e31c1618b9aa22cb', 'message': '[DNM] Test osc-4.0.0 with all fixes\n\nDepends-On: https://review.opendev.org/#/c/682936/\nDepends-On: https://review.opendev.org/#/c/682110/\nDepends-On: https://review.opendev.org/#/c/682108/\nDepends-On: https://review.opendev.org/#/c/682551/\nChange-Id: Id99272c9d43ad372d1a31fbdc229e5b241696eb3\n'}]",0,683030,5c7458b135d4bbe6542066b6e31c1618b9aa22cb,8,3,1,13861,,,0,"[DNM] Test osc-4.0.0 with all fixes

Depends-On: https://review.opendev.org/#/c/682936/
Depends-On: https://review.opendev.org/#/c/682110/
Depends-On: https://review.opendev.org/#/c/682108/
Depends-On: https://review.opendev.org/#/c/682551/
Change-Id: Id99272c9d43ad372d1a31fbdc229e5b241696eb3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/30/683030/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,5c7458b135d4bbe6542066b6e31c1618b9aa22cb,osc_train,"if [ ""$YUM"" = ""dnf"" ]; then $SUDO $YUM install -y https://logs.rdoproject.org/45/22245/1/check/legacy-DLRN-rpmbuild-fedora/4641597/buildset/fedora/current/python3-openstackclient-4.0.0-0.20190913094424.aa64eb6.fc28.noarch.rpm https://logs.rdoproject.org/45/22245/1/check/legacy-DLRN-rpmbuild-fedora/4641597/buildset/fedora/current/python-openstackclient-lang-4.0.0-0.20190913094424.aa64eb6.fc28.noarch.rpm else $SUDO $YUM install -y https://logs.rdoproject.org/45/22245/1/check/legacy-DLRN-rpmbuild/4a4b939/buildset/centos/current/python2-openstackclient-4.0.0-0.20190913094436.aa64eb6.el7.noarch.rpm https://logs.rdoproject.org/45/22245/1/check/legacy-DLRN-rpmbuild/4a4b939/buildset/centos/current/python-openstackclient-lang-4.0.0-0.20190913094436.aa64eb6.el7.noarch.rpm fi",,5,0
openstack%2Ftripleo-heat-templates~master~I6d60dbbdd5c292d70d07cfe267cbd064bad9ed69,openstack/tripleo-heat-templates,master,I6d60dbbdd5c292d70d07cfe267cbd064bad9ed69,[DNM] Debug puppet apply rabbitmq #1835615,ABANDONED,2019-08-14 07:42:15.000000000,2019-10-04 11:34:36.000000000,,"[{'_account_id': 13861}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-14 07:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37f28d0e3296d9d6d7cdbd3b070c2b91792df650', 'message': '[DNM] Debug puppet apply rabbitmq #1835615\n\nChange-Id: I6d60dbbdd5c292d70d07cfe267cbd064bad9ed69\n'}, {'number': 2, 'created': '2019-08-19 06:24:01.000000000', 'files': ['deployment/containers-common.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/823f1d4f8f87e809e7a6943ce4200357110a193c', 'message': '[DNM] Debug puppet apply rabbitmq #1835615\n\n\nDepends-On: https://review.opendev.org/#/c/676431/\nChange-Id: I6d60dbbdd5c292d70d07cfe267cbd064bad9ed69\n'}]",0,676364,823f1d4f8f87e809e7a6943ce4200357110a193c,16,4,2,13861,,,0,"[DNM] Debug puppet apply rabbitmq #1835615


Depends-On: https://review.opendev.org/#/c/676431/
Change-Id: I6d60dbbdd5c292d70d07cfe267cbd064bad9ed69
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/676364/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/containers-common.yaml', 'zuul.d/layout.yaml']",2,37f28d0e3296d9d6d7cdbd3b070c2b91792df650,bug/1835615,, templates: - tripleo-undercloud-jobs - tripleo-multinode-container-minimal - check-requirements - release-notes-jobs-python3 - openstack-python-jobs - tripleo-standalone-scenarios-full - openstack-python3-train-jobs - tripleo-ci-centos-7-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: *deps_unit_lint files: - ci/environments/scenario000-multinode-containers.yaml - ^ci/common/.*$ - ^deployed-server/.*$ - ^deployment/container-image-prepare/.*$ - ^(deployment|docker|puppet)/.*ca-certs.*$ - ^(deployment|docker|puppet)/.*clustercheck.*$ - ^(deployment|docker|puppet)/.*docker.*$ - ^(deployment|docker|puppet)/.*haproxy.*$ - ^(deployment|docker|puppet)/.*kernel.*$ - ^(deployment|docker|puppet)/.*keystone.*$ - ^(deployment|docker|puppet)/.*memcached.*$ - ^(deployment|docker|puppet)/.*mysql.*$ - ^(deployment|docker|puppet)/.*ntp.*$ - ^(deployment|docker|puppet)/.*pacemaker.*$ - ^(deployment|docker|puppet)/.*rabbitmq.*$ - ^(deployment|docker|puppet)/.*snmp.*$ - ^(deployment|docker|puppet)/.*timezone.*$ - ^(deployment|docker|puppet)/.*tripleo-packages.*$ - ^(deployment|docker|puppet)/.*tripleo-firewall.*$ - ^(deployment|docker|puppet)/.*sshd.*$ - ^environments\/.*.yaml - ^network/endpoints/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario006-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^ci/common/.*$ - ^coe/kubernetes.*$ - ^environments/kubernetes.*$ - ^deployment/kubernetes/.*$ - ci/environments/scenario006-multinode.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario007-multinode-oooq-container: dependencies: *deps_unit_lint files: - ci/environments/scenario007-multinode-containers.yaml - ^(deployment|docker|puppet)/neutron-plugin-ml2.yaml #LP1765975 - ^(deployment|docker|puppet)/.*.*ovn.*$ - ^(deployment|docker|puppet)/.*tacker.*$ - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-scenario010-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^(deployment|docker|puppet)/.*octavia.*$ - ^deployment/ceph-ansible.*$ - ^deployment/octavia/*$ - ci/environments/scenario010-multinode-containers.yaml - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-standalone-upgrade: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario002-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario003-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario004-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario012-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-containerized-undercloud-upgrades: dependencies: *deps_unit_lint,1,88
openstack%2Ftripleo-common~master~Iad3465ce0d40251b9dc9118030ee6b996ea5995d,openstack/tripleo-common,master,Iad3465ce0d40251b9dc9118030ee6b996ea5995d,[DNM] Test with docker in nova/neutron container,ABANDONED,2019-08-12 03:40:28.000000000,2019-10-04 11:33:34.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2019-08-12 03:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4b0ed34705cf690ce6aed23391e9bfa0565c907', 'message': '[DNM] Test with docker in nova/neutron container\n\nChange-Id: Iad3465ce0d40251b9dc9118030ee6b996ea5995d\n'}, {'number': 2, 'created': '2019-09-04 04:08:59.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62f996d538d49e02ed8b8639ad87bba64082833f', 'message': '[DNM] Test with docker in nova/neutron container\n\nChange-Id: Iad3465ce0d40251b9dc9118030ee6b996ea5995d\n'}]",0,675805,62f996d538d49e02ed8b8639ad87bba64082833f,5,1,2,13861,,,0,"[DNM] Test with docker in nova/neutron container

Change-Id: Iad3465ce0d40251b9dc9118030ee6b996ea5995d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/675805/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_kolla_template_overrides.j2', 'zuul.d/layout.yaml']",2,f4b0ed34705cf690ce6aed23391e9bfa0565c907,675805,, templates: - check-requirements - openstack-cover-jobs - openstack-python-jobs - openstack-python36-jobs - openstack-python37-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-multinode-container-minimal - tripleo-undercloud-jobs - tripleo-build-containers-jobs - tripleo-standalone-scenarios-full check: jobs: - openstack-tox-linters - openstack-tox-py27 - openstack-tox-py35 - openstack-tox-py36 - openstack-tox-py37 - tripleo-ci-centos-7-containers-multinode: dependencies: &deps_unit_lint - openstack-tox-linters - openstack-tox-py27 - openstack-tox-py35 - openstack-tox-py36 - openstack-tox-py37 - tripleo-ci-centos-7-undercloud-containers: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone: dependencies: *deps_unit_lint - tripleo-ci-fedora-28-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: *deps_unit_lint files: - workbooks/package_update.yaml - workbooks/baremetal.yaml - ^container-images/.*$ - tripleo_common/actions/deployment.py - tripleo_common/actions/container_images.py - tripleo_common/image/kolla_builder.py - scripts/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - tripleo-ci-centos-7-scenario009-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - scripts/tripleo-deploy-openshift - tripleo-ci-centos-7-standalone-upgrade: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario001-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario002-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario003-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario004-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario012-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-containerized-undercloud-upgrades: dependencies: *deps_unit_lint - tripleo-buildimage-overcloud-full-centos-7: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-7: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-7: dependencies: *deps_unit_lint files: - ^image-yaml/.*$ - openstack-tox-lower-constraints,4,85
openstack%2Ftripleo-quickstart-extras~master~I128b4934c84a2674249413bd43b5fd2e1134a1ad,openstack/tripleo-quickstart-extras,master,I128b4934c84a2674249413bd43b5fd2e1134a1ad,[DNM] Test fix for lp#1838536 and lp#1838540,ABANDONED,2019-07-31 16:46:09.000000000,2019-10-04 11:32:37.000000000,,"[{'_account_id': 18846}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-31 16:46:09.000000000', 'files': ['zuul.d/layout.yaml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b535c77054299690bd74df7bab0bb07855b1445c', 'message': '[DNM] Test fix for lp#1838536 and lp#1838540\n\nDepends-On: https://review.opendev.org/#/c/673868/\nDepends-On: https://review.opendev.org/#/c/673850/\nChange-Id: I128b4934c84a2674249413bd43b5fd2e1134a1ad\n'}]",0,673874,b535c77054299690bd74df7bab0bb07855b1445c,4,2,1,13861,,,0,"[DNM] Test fix for lp#1838536 and lp#1838540

Depends-On: https://review.opendev.org/#/c/673868/
Depends-On: https://review.opendev.org/#/c/673850/
Change-Id: I128b4934c84a2674249413bd43b5fd2e1134a1ad
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/74/673874/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",2,b535c77054299690bd74df7bab0bb07855b1445c,bug/1838536,"openstack overcloud deploy {% if release is not in ['newton', 'ocata', 'pike', 'queens'] %}--override-ansible-cfg {{ working_dir }}/custom_ansible.cfg{% endif %} {% if release in ['master'] %}--deployment-python-interpreter /usr/bin/python2{% endif %} \","openstack overcloud deploy {% if release is not in ['newton', 'ocata', 'pike', 'queens'] %}--override-ansible-cfg {{ working_dir }}/custom_ansible.cfg{% endif %} \",1,12
openstack%2Fpython-ironic-inspector-client~master~I55953927412615eaa66db3594a1e6e085c5f4c8f,openstack/python-ironic-inspector-client,master,I55953927412615eaa66db3594a1e6e085c5f4c8f,[DNM] Testing tripleo job with 667531,ABANDONED,2019-06-27 14:38:43.000000000,2019-10-04 11:30:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-27 14:38:43.000000000', 'files': ['README.rst', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/069af4481082606ba0fdc40116e5f4dea5a11cf9', 'message': '[DNM] Testing tripleo job with 667531\n\nChange-Id: I55953927412615eaa66db3594a1e6e085c5f4c8f\n'}]",0,667943,069af4481082606ba0fdc40116e5f4dea5a11cf9,3,1,1,13861,,,0,"[DNM] Testing tripleo job with 667531

Change-Id: I55953927412615eaa66db3594a1e6e085c5f4c8f
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/43/667943/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'zuul.d/project.yaml']",2,069af4481082606ba0fdc40116e5f4dea5a11cf9,,, templates: - openstack-python-jobs - openstack-python3-train-jobs - publish-openstack-docs-pti - check-requirements - release-notes-jobs-python3 - openstackclient-plugin-jobs check: jobs: - openstack-tox-functional - openstack-tox-functional-py36 - python-ironic-inspector-client-tempest-python2 - python-ironic-inspector-client-tempest-python3 - openstack-tox-lower-constraints,1,15
openstack%2Foctavia~stable%2Fstein~I93e5eb5bc69fe4de4c450c09367b319769ef07db,openstack/octavia,stable/stein,I93e5eb5bc69fe4de4c450c09367b319769ef07db,Fix healthmonitor message v2 for UDP listeners,MERGED,2019-10-01 09:00:34.000000000,2019-10-04 11:22:30.000000000,2019-10-04 11:21:12.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 09:00:34.000000000', 'files': ['octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ecfa0a5552cffbef4027cb2893ec336c2286a7b', 'message': ""Fix healthmonitor message v2 for UDP listeners\n\nMulti-listener LB commit (Idaccbcfa0126f1e26fbb3ad770c65c9266cfad5b)\nintroduced a v2 message for octavia healthmonitor.\n\nThis commit fixes an issue with healthmonitor messages for UDP\nlisteners, they didn't follow the v2 message specification: pools\ndictionaries were stored in listener objects (v1 format) instead of\nbeing stored as in the root dictionary of the message.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I93e5eb5bc69fe4de4c450c09367b319769ef07db\n(cherry picked from commit cad80a6c7d0638ede02f7c3d8b37e6e0028573c7)\n""}]",0,685906,5ecfa0a5552cffbef4027cb2893ec336c2286a7b,8,3,1,29244,,,0,"Fix healthmonitor message v2 for UDP listeners

Multi-listener LB commit (Idaccbcfa0126f1e26fbb3ad770c65c9266cfad5b)
introduced a v2 message for octavia healthmonitor.

This commit fixes an issue with healthmonitor messages for UDP
listeners, they didn't follow the v2 message specification: pools
dictionaries were stored in listener objects (v1 format) instead of
being stored as in the root dictionary of the message.

Story: 2005736
Task: 33394

Change-Id: I93e5eb5bc69fe4de4c450c09367b319769ef07db
(cherry picked from commit cad80a6c7d0638ede02f7c3d8b37e6e0028573c7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/06/685906/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py']",2,5ecfa0a5552cffbef4027cb2893ec336c2286a7b,," def test_build_stats_message_with_udp_listener( 'rx': 0, 'tx': 0}}}, 'pools': { pool_id: { 'status': constants.UP, 'members': { member_id1: constants.UP, member_id2: constants.UP}}}, 'id': None, 'seq': mock.ANY, 'ver': health_daemon.MSG_VER}"," def test_bulid_stats_message_with_udp_listener( 'pools': { pool_id: { 'status': constants.UP, 'members': { member_id1: constants.UP, member_id2: constants.UP}}}, 'pools': {}, 'rx': 0, 'tx': 0}}}, 'pools': {}, 'id': None, 'seq': mock.ANY, 'ver': health_daemon.MSG_VER}",15,15
openstack%2Fansible-role-collect-logs~master~I31eac130a19f2861623dd41e67c0c05748ef0a20,openstack/ansible-role-collect-logs,master,I31eac130a19f2861623dd41e67c0c05748ef0a20,[DNM] Also collect IP link info,ABANDONED,2019-05-23 14:28:04.000000000,2019-10-04 11:19:53.000000000,,[{'_account_id': 18846}],"[{'number': 1, 'created': '2019-05-23 14:28:04.000000000', 'files': ['tasks/collect.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/75640b554c7f46d271ff4e941d9bd19fa03087d7', 'message': '[DNM] Also collect IP link info\n\nChange-Id: I31eac130a19f2861623dd41e67c0c05748ef0a20\n'}]",0,661013,75640b554c7f46d271ff4e941d9bd19fa03087d7,3,1,1,13861,,,0,"[DNM] Also collect IP link info

Change-Id: I31eac130a19f2861623dd41e67c0c05748ef0a20
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/13/661013/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/collect.yml', 'zuul.d/layout.yaml']",2,75640b554c7f46d271ff4e941d9bd19fa03087d7,,, templates: - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-multinode-container-full check: jobs: - openstack-tox-linters,2,7
openstack%2Ftripleo-quickstart-extras~master~I93c568e2ae297cc189dc368fced372059e0e7b55,openstack/tripleo-quickstart-extras,master,I93c568e2ae297cc189dc368fced372059e0e7b55,[DNM] To test stable/branch and master sources,ABANDONED,2019-05-23 08:09:57.000000000,2019-10-04 11:12:56.000000000,,"[{'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 08:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/77f800d7a63a3a5b04bcd185d1e39939f8c416a9', 'message': '[DNM] To test master source in queens job\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 2, 'created': '2019-05-23 14:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/822937421991dd53f6cb75cc70e60a2b5e541332', 'message': '[DNM] To test master source in queens job\n\nDepends-On: https://review.opendev.org/#/c/661013/\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 3, 'created': '2019-07-10 14:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/463d29fcb77c00f1769b80dc1766df7b1f92634a', 'message': '[DNM] To test master source in queens job\n\nDepends-On: https://review.opendev.org/#/c/661013/\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 4, 'created': '2019-07-13 11:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/86c9b701d894226188ff838ee6b2f06d1e396d08', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 5, 'created': '2019-07-25 05:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3df9e4aa0f98f7b7bf9b7c1b5da1d41384d02f52', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 6, 'created': '2019-07-25 14:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/997c853a7222eebb42c56df5166de109a319e197', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 7, 'created': '2019-07-25 17:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d13e6df81efe202b8fe93cadc6f4688f66c7558', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 8, 'created': '2019-07-26 05:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c88d5e63bb0585ca4347ff0cb426d18bfa7a8ef9', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 9, 'created': '2019-07-30 14:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3917955ff865512f430074c122d9893312ab3bd9', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 10, 'created': '2019-08-02 12:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0ac126b2aa516a97c05e79784beb8d0dc3bedc5', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 11, 'created': '2019-08-09 09:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c6085617fdd0fb4adb82149954f03e6296a32508', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 12, 'created': '2019-08-09 12:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1ce0cd30418adb32620ad8eb7f92720e29d3440e', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 13, 'created': '2019-08-12 07:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0586c8aa9b15ac31a4aef83d728d015a627ed4f7', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}, {'number': 14, 'created': '2019-09-04 04:07:35.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2', 'roles/build-test-packages/library/zuul_deps.py', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/039c78bea5d89af03c08e59f3830b5fb2fe94579', 'message': '[DNM] To test stable/branch and master sources\n\nChange-Id: I93c568e2ae297cc189dc368fced372059e0e7b55\n'}]",0,660922,039c78bea5d89af03c08e59f3830b5fb2fe94579,48,3,14,13861,,,0,"[DNM] To test stable/branch and master sources

Change-Id: I93c568e2ae297cc189dc368fced372059e0e7b55
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/22/660922/13 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/build-test-packages/tasks/main.yml']",2,77f800d7a63a3a5b04bcd185d1e39939f8c416a9,660922,, - release in item.branch,0,12
openstack%2Fpuppet-openstack-integration~master~Ic758d09ea92aaf7d32f388c296e0988e6a72d907,openstack/puppet-openstack-integration,master,Ic758d09ea92aaf7d32f388c296e0988e6a72d907,[DNM] Move Fedora jobs to puppet 6,ABANDONED,2019-05-08 16:07:49.000000000,2019-10-04 11:12:10.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2019-05-08 16:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dfcb558ec8b814dec93afcdd7856d205941f329c', 'message': '[DNM] Move Fedora jobs to puppet 6\n\nChange-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907\n'}, {'number': 2, 'created': '2019-05-08 18:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b0c0dde362f770f30002ee96781781de4df57f87', 'message': '[DNM] Move Fedora jobs to puppet 6\n\nChange-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907\n'}, {'number': 3, 'created': '2019-05-09 05:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1f04b854b01f079c1f5ccd1f45a7daadf308e002', 'message': '[DNM] Move Fedora jobs to puppet 6\n\nChange-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907\n'}, {'number': 4, 'created': '2019-05-09 05:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f56ed0475c46c35f7c92895ffc2f60bbd83f740f', 'message': '[DNM] Move Fedora jobs to puppet 6\n\nChange-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907\n'}, {'number': 5, 'created': '2019-05-09 06:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5d8a6a73ced8d620cd3123f055f2c29ed32efd13', 'message': '[DNM] Move Fedora jobs to puppet 6\n\nChange-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907\n'}, {'number': 6, 'created': '2019-05-10 04:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3b4931bf5bb2050f23327bdcaf4eff7b191670c5', 'message': '[DNM] Move Fedora jobs to puppet 6\n\nChange-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907\n'}, {'number': 7, 'created': '2019-05-10 04:29:45.000000000', 'files': ['run_tests.sh', 'Puppetfile', 'functions', 'external_modules.txt', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d64b10f7ea65af8899c64010e497d89e01207fa3', 'message': '[DNM] Move Fedora jobs to puppet 6\n\nChange-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907\n'}]",0,657846,d64b10f7ea65af8899c64010e497d89e01207fa3,15,1,7,13861,,,0,"[DNM] Move Fedora jobs to puppet 6

Change-Id: Ic758d09ea92aaf7d32f388c296e0988e6a72d907
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/46/657846/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Puppetfile', 'external_modules.txt', 'zuul.d/layout.yaml']",4,dfcb558ec8b814dec93afcdd7856d205941f329c,puppet6,,- project: templates: - puppet-openstack-check-jobs - puppet-openstack-integration-jobs-all ,11,6
openstack%2Ftripleo-ci~master~Idb298d884b90e3d03b9694b656ee27f20aa55401,openstack/tripleo-ci,master,Idb298d884b90e3d03b9694b656ee27f20aa55401,[DNM] Test integrity of container-build job,ABANDONED,2019-04-15 03:49:46.000000000,2019-10-04 11:11:40.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-15 03:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/63d68896fcafbb4a5d75ecec3686aa4e96444b24', 'message': '[DNM] Test integrity of container-build job\n\nLooks like not all container images are built,\nthis is debug patch to check it.\n\nChange-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401\n'}, {'number': 2, 'created': '2019-04-15 04:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ecd219bc11d81418a8b5d6db3868a2d7634be85', 'message': '[DNM] Test integrity of container-build job\n\nLooks like not all container images are built,\nthis is debug patch to check it.\n\nChange-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401\n'}, {'number': 3, 'created': '2019-04-15 06:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/022a0de7f7d48767463566fa82b03fa2a89e0c92', 'message': '[DNM] Test integrity of container-build job\n\nLooks like not all container images are built,\nthis is debug patch to check it.\n\nChange-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401\n'}, {'number': 4, 'created': '2019-04-15 09:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ddb5a29e483e56d9100b89be8bb3b8a86a54b3d5', 'message': '[DNM] Test integrity of container-build job\n\nLooks like not all container images are built,\nthis is debug patch to check it.\n\nChange-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401\n'}, {'number': 5, 'created': '2019-04-15 13:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/30a47fbccb91eeece28fedc6d0e3ece7b4dd4dd9', 'message': '[DNM] Test integrity of container-build job\n\nLooks like not all container images are built,\nthis is debug patch to check it.\n\nChange-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401\n'}, {'number': 6, 'created': '2019-04-16 14:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ff785318da1443fa7d05644e3eeed458cb41caab', 'message': '[DNM] Test integrity of container-build job\n\nLooks like not all container images are built,\nthis is debug patch to check it.\n\nALso test adding additional repos to container build.\n\nChange-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401\n'}, {'number': 7, 'created': '2019-04-17 03:53:31.000000000', 'files': ['roles/build-containers/templates/kolla-build.conf.j2', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/pre.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/937b4b513d53a3e199cee3f8e42446babd2e81c3', 'message': '[DNM] Test integrity of container-build job\n\nLooks like not all container images are built,\nthis is debug patch to check it.\n\nALso test adding additional repos to container build.\n\nChange-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401\n'}]",0,652508,937b4b513d53a3e199cee3f8e42446babd2e81c3,22,7,7,13861,,,0,"[DNM] Test integrity of container-build job

Looks like not all container images are built,
this is debug patch to check it.

ALso test adding additional repos to container build.

Change-Id: Idb298d884b90e3d03b9694b656ee27f20aa55401
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/652508/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/post.yaml'],1,63d68896fcafbb4a5d75ecec3686aa4e96444b24,build-container-role, podman images > {{ workspace }}/logs/images_output.log || true docker images >> {{ workspace }}/logs/images_output.log || true,,2,0
openstack%2Fpuppet-openstack-integration~master~I591ff306cc5bb166398b8c243647df1a11999980,openstack/puppet-openstack-integration,master,I591ff306cc5bb166398b8c243647df1a11999980,[DNM] Test https://review.openstack.org/#/c/642976/ with consistent repo,ABANDONED,2019-03-13 10:13:26.000000000,2019-10-04 11:05:35.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 10:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/684a1baf0ec7f086dd74fb3c652f1acc18aeef71', 'message': '[DNM] Test https://review.openstack.org/#/c/642976/ with consistent repo\n\nDepends-On: https://review.openstack.org/#/c/642973/\nChange-Id: I591ff306cc5bb166398b8c243647df1a11999980\n'}, {'number': 2, 'created': '2019-03-13 10:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/23e4d64df811f249358594f15c3e5c99d97dbfa7', 'message': '[DNM] Test https://review.openstack.org/#/c/642976/ with consistent repo\n\nDepends-On: https://review.openstack.org/#/c/642973/\nChange-Id: I591ff306cc5bb166398b8c243647df1a11999980\n'}, {'number': 3, 'created': '2019-03-13 15:16:35.000000000', 'files': ['run_tests.sh', 'configure_facts.sh', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6c85fbcf855606e1d382bbe31191224c2e9c7f91', 'message': '[DNM] Test https://review.openstack.org/#/c/642976/ with consistent repo\n\nDepends-On: https://review.openstack.org/#/c/642973/\nChange-Id: I591ff306cc5bb166398b8c243647df1a11999980\n'}]",0,642990,6c85fbcf855606e1d382bbe31191224c2e9c7f91,11,3,3,13861,,,0,"[DNM] Test https://review.openstack.org/#/c/642976/ with consistent repo

Depends-On: https://review.openstack.org/#/c/642973/
Change-Id: I591ff306cc5bb166398b8c243647df1a11999980
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/90/642990/1 && git format-patch -1 --stdout FETCH_HEAD,"['configure_facts.sh', 'zuul.d/layout.yaml']",2,684a1baf0ec7f086dd74fb3c652f1acc18aeef71,watcher_user_domain_name,,- project: templates: - puppet-openstack-check-jobs - puppet-openstack-integration-jobs-all ,1,6
openstack%2Fkolla-ansible~master~I5f204541cc44bca94bed756bb3af3e102f81a1d2,openstack/kolla-ansible,master,I5f204541cc44bca94bed756bb3af3e102f81a1d2,Horizon: fix for Debian,MERGED,2019-10-01 13:15:05.000000000,2019-10-04 11:04:00.000000000,2019-10-04 11:02:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 28374}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-01 13:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b32806dd04a40a0854bcb2dcaf7afa21e53f5032', 'message': 'Horizon: fix for Debian\n\nChange-Id: I5f204541cc44bca94bed756bb3af3e102f81a1d2\n'}, {'number': 2, 'created': '2019-10-01 13:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d441e5d3611205e71feb3e1a26c8607c0939274', 'message': 'Horizon: fix for Debian\n\nDepends-On: https://review.opendev.org/683677\nChange-Id: I5f204541cc44bca94bed756bb3af3e102f81a1d2\n'}, {'number': 3, 'created': '2019-10-02 11:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c98c716bbd1f7ed69be7532757488e673398692b', 'message': 'Horizon: fix for Debian\n\nDepends-On: https://review.opendev.org/683677\nChange-Id: I5f204541cc44bca94bed756bb3af3e102f81a1d2\n'}, {'number': 4, 'created': '2019-10-02 23:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d71bd775f01fd6f9ccd3ec6746aa8d55280cf81d', 'message': 'Horizon: fix for Debian\n\nDepends-On: https://review.opendev.org/686316\nChange-Id: I5f204541cc44bca94bed756bb3af3e102f81a1d2\n'}, {'number': 5, 'created': '2019-10-03 15:03:07.000000000', 'files': ['ansible/roles/horizon/templates/horizon.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3ae9bf1a96aae3472033f194544675e00e346be', 'message': 'Horizon: fix for Debian\n\nDepends-On: https://review.opendev.org/686316\nChange-Id: I5f204541cc44bca94bed756bb3af3e102f81a1d2\n'}]",10,685966,d3ae9bf1a96aae3472033f194544675e00e346be,38,6,5,28374,,,0,"Horizon: fix for Debian

Depends-On: https://review.opendev.org/686316
Change-Id: I5f204541cc44bca94bed756bb3af3e102f81a1d2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/685966/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/roles/horizon/templates/local_settings.j2']",2,b32806dd04a40a0854bcb2dcaf7afa21e53f5032,680745,{% if horizon_install_type == 'binary' and kolla_base_distro == 'debian' %} POLICY_FILES_PATH = '/etc/openstack-dashboard/policy' {% else %}{% endif %}try: from .custom_local_settings import * except: pass,from .custom_local_settings import *,13,2
openstack%2Ftripleo-heat-templates~master~I4569cd4ea23bf5e44e39ce210d1fff88ba6fe546,openstack/tripleo-heat-templates,master,I4569cd4ea23bf5e44e39ce210d1fff88ba6fe546,Update deprecated name of Rsyslog container Image,MERGED,2019-09-30 20:25:26.000000000,2019-10-04 10:58:10.000000000,2019-10-04 10:58:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-30 20:25:26.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/193b15ecf1cd69f9bd4ea45e0493632714792e50', 'message': 'Update deprecated name of Rsyslog container Image\n\nOld name was deprecated some time ago and replaced with new\none in [1].\nBut for some reason I missed change it in one last place so this\npatch fixes that.\n\n[1] https://review.opendev.org/#/c/685109/\n\nChange-Id: I4569cd4ea23bf5e44e39ce210d1fff88ba6fe546\n'}]",0,685784,193b15ecf1cd69f9bd4ea45e0493632714792e50,15,8,1,11975,,,0,"Update deprecated name of Rsyslog container Image

Old name was deprecated some time ago and replaced with new
one in [1].
But for some reason I missed change it in one last place so this
patch fixes that.

[1] https://review.opendev.org/#/c/685109/

Change-Id: I4569cd4ea23bf5e44e39ce210d1fff88ba6fe546
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/685784/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,193b15ecf1cd69f9bd4ea45e0493632714792e50,fix-rsyslog-containers, image: {get_param: ContainerRsyslogImage}, image: {get_param: DockerRsyslogImage},1,1
openstack%2Foctavia~stable%2Ftrain~I93e5eb5bc69fe4de4c450c09367b319769ef07db,openstack/octavia,stable/train,I93e5eb5bc69fe4de4c450c09367b319769ef07db,Fix healthmonitor message v2 for UDP listeners,MERGED,2019-10-01 09:00:20.000000000,2019-10-04 10:53:15.000000000,2019-10-04 10:51:48.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 09:00:20.000000000', 'files': ['octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/de49210383c6425da550040a05891c068fa22482', 'message': ""Fix healthmonitor message v2 for UDP listeners\n\nMulti-listener LB commit (Idaccbcfa0126f1e26fbb3ad770c65c9266cfad5b)\nintroduced a v2 message for octavia healthmonitor.\n\nThis commit fixes an issue with healthmonitor messages for UDP\nlisteners, they didn't follow the v2 message specification: pools\ndictionaries were stored in listener objects (v1 format) instead of\nbeing stored as in the root dictionary of the message.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I93e5eb5bc69fe4de4c450c09367b319769ef07db\n(cherry picked from commit cad80a6c7d0638ede02f7c3d8b37e6e0028573c7)\n""}]",0,685905,de49210383c6425da550040a05891c068fa22482,10,4,1,29244,,,0,"Fix healthmonitor message v2 for UDP listeners

Multi-listener LB commit (Idaccbcfa0126f1e26fbb3ad770c65c9266cfad5b)
introduced a v2 message for octavia healthmonitor.

This commit fixes an issue with healthmonitor messages for UDP
listeners, they didn't follow the v2 message specification: pools
dictionaries were stored in listener objects (v1 format) instead of
being stored as in the root dictionary of the message.

Story: 2005736
Task: 33394

Change-Id: I93e5eb5bc69fe4de4c450c09367b319769ef07db
(cherry picked from commit cad80a6c7d0638ede02f7c3d8b37e6e0028573c7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/685905/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py']",2,de49210383c6425da550040a05891c068fa22482,," def test_build_stats_message_with_udp_listener( 'rx': 0, 'tx': 0}}}, 'pools': { pool_id: { 'status': constants.UP, 'members': { member_id1: constants.UP, member_id2: constants.UP}}}, 'id': None, 'seq': mock.ANY, 'ver': health_daemon.MSG_VER}"," def test_bulid_stats_message_with_udp_listener( 'pools': { pool_id: { 'status': constants.UP, 'members': { member_id1: constants.UP, member_id2: constants.UP}}}, 'pools': {}, 'rx': 0, 'tx': 0}}}, 'pools': {}, 'id': None, 'seq': mock.ANY, 'ver': health_daemon.MSG_VER}",15,15
openstack%2Fpuppet-keystone~master~Ia9520cad286695553f861dd31a3d0ff42874e9c1,openstack/puppet-keystone,master,Ia9520cad286695553f861dd31a3d0ff42874e9c1,[DNM] Test https://review.openstack.org/#/c/642689/,ABANDONED,2019-03-12 09:17:06.000000000,2019-10-04 10:51:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-12 09:17:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/03c473f2f35639c1e2b2c58c06e018088bc836ee', 'message': '[DNM] Test https://review.openstack.org/#/c/642689/\n\nDepends-On: https://review.openstack.org/#/c/642689/\nChange-Id: Ia9520cad286695553f861dd31a3d0ff42874e9c1\n'}]",0,642701,03c473f2f35639c1e2b2c58c06e018088bc836ee,4,2,1,13861,,,0,"[DNM] Test https://review.openstack.org/#/c/642689/

Depends-On: https://review.openstack.org/#/c/642689/
Change-Id: Ia9520cad286695553f861dd31a3d0ff42874e9c1
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/01/642701/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03c473f2f35639c1e2b2c58c06e018088bc836ee,,, - puppet-openstack-check-jobs - puppet-openstack-module-unit-jobs - puppet-openstack-integration-jobs-all - release-notes-jobs-python3 check: jobs: - puppet-keystone-tripleo-standalone,0,7
openstack%2Ftripleo-quickstart~master~I98fe9215716195611362b3a0928f7546bc29f37f,openstack/tripleo-quickstart,master,I98fe9215716195611362b3a0928f7546bc29f37f,[DNM] Exclude buggy podman-1.3.2 from extras,ABANDONED,2019-02-14 09:02:55.000000000,2019-10-04 10:48:56.000000000,,"[{'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-14 09:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/223ed527061ce400c0f4a6fc25289c1b225d5299', 'message': ""Exclude incompatible dpdk-18 with openvswitch-2.10.1\n\nRecently pushed dpdk-18 is not compatible with the\nopenvswitch version we work upon. Until the compatibility\nis fixed let's exclude the incompatible dpdk version from\nextras repo.\n\nRelated-Bug: #1815863\nChange-Id: I98fe9215716195611362b3a0928f7546bc29f37f\n""}, {'number': 2, 'created': '2019-02-14 09:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb8b7f36a1dcc3f738c0cb0153ab8521f505a1ba', 'message': ""Exclude incompatible dpdk-18 with openvswitch-2.10.1\n\nRecently pushed dpdk-18 is not compatible with the\nopenvswitch version we work upon. Until the compatibility\nis fixed let's exclude the incompatible dpdk version from\nextras repo.\n\nRelated-Bug: #1815863\nChange-Id: I98fe9215716195611362b3a0928f7546bc29f37f\n""}, {'number': 3, 'created': '2019-02-14 09:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/01bf902113901518167d9d53758682483f4a9708', 'message': ""Exclude incompatible dpdk-18 with openvswitch-2.10.1\n\nRecently pushed dpdk-18 is not compatible with the\nopenvswitch version we work upon. Until the compatibility\nis fixed let's exclude the incompatible dpdk version from\nextras repo.\n\nRelated-Bug: #1815863\nChange-Id: I98fe9215716195611362b3a0928f7546bc29f37f\n""}, {'number': 4, 'created': '2019-03-20 03:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1791cb1d26f504cfcd7f43c4f4b05e78a1bb807', 'message': ""Exclude incompatible dpdk-18 with openvswitch-2.10.1\n\nRecently pushed dpdk-18 is not compatible with the\nopenvswitch version we work upon. Until the compatibility\nis fixed let's exclude the incompatible dpdk version from\nextras repo.\n\nRelated-Bug: #1815863\nChange-Id: I98fe9215716195611362b3a0928f7546bc29f37f\n""}, {'number': 5, 'created': '2019-03-20 03:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/888dcad66483c53998667952d94e56e2709dd77f', 'message': ""Exclude incompatible dpdk-18 with openvswitch-2.10.1\n\nRecently pushed dpdk-18 is not compatible with the\nopenvswitch version we work upon. Until the compatibility\nis fixed let's exclude the incompatible dpdk version from\nextras repo.\n\nRelated-Bug: #1815863\nChange-Id: I98fe9215716195611362b3a0928f7546bc29f37f\n""}, {'number': 6, 'created': '2019-06-19 04:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/665bdea70e9aed4ea12d7c574d995ba41902d1a0', 'message': ""Exclude incompatible dpdk-18 with openvswitch-2.10.1\n\nRecently pushed dpdk-18 is not compatible with the\nopenvswitch version we work upon. Until the compatibility\nis fixed let's exclude the incompatible dpdk version from\nextras repo.\n\nRelated-Bug: #1815863\nChange-Id: I98fe9215716195611362b3a0928f7546bc29f37f\n""}, {'number': 7, 'created': '2019-06-19 04:26:46.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8475af4040c58c7e59044d37d16b5be66c7c97e3', 'message': '[DNM] Exclude buggy podman-1.3.2 from extras\n\npodman 1.3.2 is pushed in centos-extras repos\nand is causing some issues, check by excluding it\nfrom repo.\n\nChange-Id: I98fe9215716195611362b3a0928f7546bc29f37f\n'}]",0,636860,8475af4040c58c7e59044d37d16b5be66c7c97e3,31,6,7,13861,,,0,"[DNM] Exclude buggy podman-1.3.2 from extras

podman 1.3.2 is pushed in centos-extras repos
and is causing some issues, check by excluding it
from repo.

Change-Id: I98fe9215716195611362b3a0928f7546bc29f37f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/60/636860/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/consistent-rocky.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/ocata.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/consistent-queens.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-newton-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/consistent-newton.yml', 'config/release/tripleo-ci/CentOS-7/rocky.yml', 'config/release/tripleo-ci/CentOS-7/newton.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-rocky-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/consistent-ocata.yml', 'config/release/tripleo-ci/CentOS-7/pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/consistent-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/CentOS-7/rocky-undercloud-queens-overcloud.yml']",24,223ed527061ce400c0f4a6fc25289c1b225d5299,bug/1815863, exclude: dpdk*-18*,,24,0
openstack%2Fmistral~master~I731f815c15aaa6aa8ae8567235c910c4b6742025,openstack/mistral,master,I731f815c15aaa6aa8ae8567235c910c4b6742025,[DNM] Test with python3,ABANDONED,2018-11-09 07:06:57.000000000,2019-10-04 10:48:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-09 07:06:57.000000000', 'files': ['.zuul.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/mistral/commit/03278ab4fa5a5960d6aa2aa02004b50db12cd11d', 'message': '[DNM] Test with python3\n\nChange-Id: I731f815c15aaa6aa8ae8567235c910c4b6742025\n'}]",0,616833,03278ab4fa5a5960d6aa2aa02004b50db12cd11d,3,1,1,13861,,,0,"[DNM] Test with python3

Change-Id: I731f815c15aaa6aa8ae8567235c910c4b6742025
",git fetch https://review.opendev.org/openstack/mistral refs/changes/33/616833/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/settings']",2,03278ab4fa5a5960d6aa2aa02004b50db12cd11d,,#DNM Test with python3 USE_PYTHON3=True,,3,33
openstack%2Fpuppet-openstack-integration~master~I746bcee36f85247cbe80a5647b11761b9451218c,openstack/puppet-openstack-integration,master,I746bcee36f85247cbe80a5647b11761b9451218c,[DNM] Testing https://review.openstack.org/#/c/615513/ with latest keystone,ABANDONED,2018-11-02 05:19:27.000000000,2019-10-04 10:48:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-11-02 05:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cf5922048c460c2a16ee1905492236bb31c23dfa', 'message': '[DNM] Testing https://review.openstack.org/#/c/614536/ with latest cinder\n\nChange-Id: I746bcee36f85247cbe80a5647b11761b9451218c\n'}, {'number': 2, 'created': '2018-11-02 10:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1839cc3f07600092fc153cf0d1376fe9f6932632', 'message': '[DNM] Testing https://review.openstack.org/#/c/614536/ with latest cinder\n\nDepends-On: https://review.openstack.org/#/c/614536/\nChange-Id: I746bcee36f85247cbe80a5647b11761b9451218c\n'}, {'number': 3, 'created': '2018-11-05 09:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c559bad83d957701a0f1eb46ea3e3987578faec3', 'message': '[DNM] Testing https://review.openstack.org/#/c/615513/ with latest keystone\n\nChange-Id: I746bcee36f85247cbe80a5647b11761b9451218c\n'}, {'number': 4, 'created': '2018-11-05 10:29:23.000000000', 'files': ['.zuul.yaml', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/223c3193c809c6ce38e4f9451fb1ff8cf56c854d', 'message': '[DNM] Testing https://review.openstack.org/#/c/615513/ with latest keystone\n\nChange-Id: I746bcee36f85247cbe80a5647b11761b9451218c\n'}]",0,614988,223c3193c809c6ce38e4f9451fb1ff8cf56c854d,13,2,4,13861,,,0,"[DNM] Testing https://review.openstack.org/#/c/615513/ with latest keystone

Change-Id: I746bcee36f85247cbe80a5647b11761b9451218c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/88/614988/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'configure_facts.sh']",2,cf5922048c460c2a16ee1905492236bb31c23dfa,614988,export DLRN_BASE=${DLRN_BASE:-centos7-master/current},export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci},2,20
openstack%2Ftripleo-quickstart-extras~master~I02c71e946ef36605cb5f86d264b2a378bdfbff09,openstack/tripleo-quickstart-extras,master,I02c71e946ef36605cb5f86d264b2a378bdfbff09,Build Packages for upgrade_release,ABANDONED,2018-09-17 06:46:29.000000000,2019-10-04 10:47:51.000000000,,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-17 06:46:29.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c1d65c6164a46ac25f8879e89dd87e79b39451f', 'message': 'Build Packages for upgrade_release\n\nCurrently packages are not build in upgrade jobs\nas release != upgrade_release and dlrn build was only\ndone based on the ""release"" variable, this patch\nalso considers the UPGRADE_RELEASE while building packages.\n\nChange-Id: I02c71e946ef36605cb5f86d264b2a378bdfbff09\n'}]",0,603026,5c1d65c6164a46ac25f8879e89dd87e79b39451f,9,6,1,13861,,,0,"Build Packages for upgrade_release

Currently packages are not build in upgrade jobs
as release != upgrade_release and dlrn build was only
done based on the ""release"" variable, this patch
also considers the UPGRADE_RELEASE while building packages.

Change-Id: I02c71e946ef36605cb5f86d264b2a378bdfbff09
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/603026/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,5c1d65c6164a46ac25f8879e89dd87e79b39451f,,"- name: Set upgrade_release based on UPGRADE_RELEASE env var set_fact: upgrade_release: ""{{ lookup('env', 'UPGRADE_RELEASE') }}"" - release in item.branch or upgrade_release in item.branch", - release in item.branch,5,1
openstack%2Fceilometer~master~I8453adc671f70e9dd670fb84eaf9844ed07dfa1b,openstack/ceilometer,master,I8453adc671f70e9dd670fb84eaf9844ed07dfa1b,Imported Translations from Zanata,MERGED,2019-10-04 07:59:10.000000000,2019-10-04 10:30:32.000000000,2019-10-04 10:29:18.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-04 07:59:10.000000000', 'files': ['ceilometer/locale/de/LC_MESSAGES/ceilometer.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/449486f0fa44d5a1196b79eef19c1f936956afb6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8453adc671f70e9dd670fb84eaf9844ed07dfa1b\n'}]",0,686539,449486f0fa44d5a1196b79eef19c1f936956afb6,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8453adc671f70e9dd670fb84eaf9844ed07dfa1b
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/39/686539/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/locale/de/LC_MESSAGES/ceilometer.po'],1,449486f0fa44d5a1196b79eef19c1f936956afb6,zanata/translations,"# Andreas Jaeger <jaegerandi@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-10-03 16:35+0000\n""""PO-Revision-Date: 2019-10-03 08:56+0000\n""msgid ""Could not get VM %s CPU number"" msgstr ""VM %s CPU Nummer konnte nicht abgerufen werden"" #, python-format msgid ""Could not load the following pipelines: %s"" msgstr ""Konnte die folgenden Pipelines nicht laden: %s"" #, python-formatmsgid """" ""Failed to inspect instance %(instance_uuid)s stats, can not get info from "" ""libvirt: %(error)s"" msgstr """" ""Fehler beim berprfen der Statistik der Instanz %(instance_uuid)s, "" ""Informationen knnen nicht von libvirt abgerufen werden: %(error)s"" #, python-formatmsgid ""VM %s is poweredOff in VMware vSphere"" msgstr ""VM %s ist ausgeschaltet in VMware vSphere"" #, python-format","""POT-Creation-Date: 2018-09-19 00:45+0000\n""""PO-Revision-Date: 2018-08-05 08:47+0000\n""",23,2
openstack%2Fneutron-lib~master~I0200abba2bca07a610839ba4fa8e2d9f2fa82218,openstack/neutron-lib,master,I0200abba2bca07a610839ba4fa8e2d9f2fa82218,Remove Neutron LBaaS,MERGED,2019-06-17 23:49:41.000000000,2019-10-04 10:27:04.000000000,2019-10-04 10:25:58.000000000,"[{'_account_id': 5367}, {'_account_id': 6469}, {'_account_id': 8313}, {'_account_id': 11628}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 23:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b05e616e836fd0e9623f2692a81517624da09cb3', 'message': 'Remove Neutron LBaaS\n\nNeutron-LBaaS has now been retired and there will be no Train\nrelease[1]. This patch removes the neutron-lbaas API reference and\nvarious other references to Neutron-LBaaS from neutron-lib.\n\n[1] https://review.opendev.org/658494\n\nChange-Id: I0200abba2bca07a610839ba4fa8e2d9f2fa82218\n'}, {'number': 2, 'created': '2019-06-18 01:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e7c74b4f3e0b08f7c949c14be7f242f00f0fc404', 'message': 'Remove Neutron LBaaS\n\nNeutron-LBaaS has now been retired and there will be no Train\nrelease[1]. This patch removes the neutron-lbaas API reference and\nvarious other references to Neutron-LBaaS from neutron-lib.\n\n[1] https://review.opendev.org/658494\n\nDepends-On: https://review.opendev.org/665838\nChange-Id: I0200abba2bca07a610839ba4fa8e2d9f2fa82218\n'}, {'number': 3, 'created': '2019-09-12 17:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/83c06ac9d66daa665a13e02b92450dd6c85be84f', 'message': 'Remove Neutron LBaaS\n\nNeutron-LBaaS has now been retired and there will be no Train\nrelease[1]. This patch removes the neutron-lbaas API reference and\nvarious other references to Neutron-LBaaS from neutron-lib.\n\n[1] https://review.opendev.org/658494\n\nRelated-Bug: #1833125\nChange-Id: I0200abba2bca07a610839ba4fa8e2d9f2fa82218\n'}, {'number': 4, 'created': '2019-09-13 16:08:12.000000000', 'files': ['api-ref/source/v2/samples/lbaas/member-create-response.json', 'api-ref/source/v2/samples/flavors/flavor-create-request.json', 'api-ref/source/v2/samples/lbaas/vip-update-request.json', 'api-ref/source/v2/samples/flavors/service-profile-update-response.json', 'api-ref/source/v2/samples/lbaas/member-update-request.json', 'api-ref/source/v2/samples/lbaas/member-update-response.json', 'api-ref/source/v2/flavors.inc', 'api-ref/source/v2/samples/lbaas/healthmonitor-create-response.json', 'api-ref/source/v2/samples/flavors/service-profile-create-response.json', 'neutron_lib/constants.py', 'api-ref/source/v2/samples/lbaas/healthmonitor-update-request.json', 'api-ref/source/v2/lbaas-v2.inc', 'api-ref/source/v2/samples/flavors/service-profile-show-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-create-request.json', 'api-ref/source/v2/samples/lbaas/pools-list-response.json', 'neutron_lib/plugins/constants.py', 'api-ref/source/v2/samples/lbaas/listeners-list-response.json', 'api-ref/source/v2/samples/lbaas/pool-members-list-response.json', 'api-ref/source/v2/samples/lbaas/vips-list-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-create-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/lbaas/healthmonitor-update-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-update-response.txt', 'api-ref/source/v2/samples/lbaas/member-show-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-update-request.json', 'doc/source/contributor/callbacks.rst', 'api-ref/source/v2/samples/extensions/extensions-list-response.json', 'api-ref/source/v2/samples/flavors/service-profiles-list-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-associate-request.json', 'api-ref/source/v2/samples/lbaas/pool-create-request.json', 'api-ref/source/v2/samples/lbaas/pool-update-request.json', 'api-ref/source/v2/samples/lbaas/vip-show-response.json', 'api-ref/source/v2/samples/flavors/flavors-list-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancers-list-response.json', 'api-ref/source/v2/samples/lbaas/pools-list-response2.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-associate-response.json', 'api-ref/source/v2/samples/lbaas/members-list-response.json', 'api-ref/source/v2/samples/lbaas/vip-create-response.json', 'api-ref/source/v2/samples/lbaas/pool-create-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-update-response.json', 'api-ref/source/v2/samples/lbaas/pool-show-response.json', 'api-ref/source/v2/samples/flavors/flavor-create-response.json', 'api-ref/source/v2/samples/flavors/service-profile-create-request.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-create-response.json', 'api-ref/source/v2/samples/flavors/flavor-update-response.json', 'api-ref/source/v2/samples/flavors/flavor-show-response.json', 'api-ref/source/v2/samples/lbaas/pool-update-response.json', 'api-ref/source/v2/samples/flavors/service-profile-update-request.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-status-tree.json', 'api-ref/source/v2/samples/service-type-response.json', 'api-ref/source/v2/samples/lbaas/vip-create-request.json', 'api-ref/source/v2/samples/lbaas/member-create-request.json', 'api-ref/source/v2/samples/lbaas/listener-create-request.json', 'api-ref/source/v2/samples/lbaas/listener-show-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-show-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/lbaas/listener-create-response.json', 'api-ref/source/v2/samples/lbaas/vip-update-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitors-list-response.json', 'api-ref/source/v2/samples/lbaas/listener-update-request.json', 'api-ref/source/v2/samples/lbaas/listener-update-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-show-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/06ae464a4d566e6eb52b95165e4e6f2459f8b40d', 'message': 'Remove Neutron LBaaS\n\nNeutron-LBaaS has now been retired and there will be no Train\nrelease[1]. This patch removes the neutron-lbaas API reference and\nvarious other references to Neutron-LBaaS from neutron-lib.\n\n[1] https://review.opendev.org/658494\n\nDepends-On: https://review.opendev.org/665838\nRelated-Bug: #1833125\nChange-Id: I0200abba2bca07a610839ba4fa8e2d9f2fa82218\n'}]",9,665828,06ae464a4d566e6eb52b95165e4e6f2459f8b40d,31,9,4,11628,,,0,"Remove Neutron LBaaS

Neutron-LBaaS has now been retired and there will be no Train
release[1]. This patch removes the neutron-lbaas API reference and
various other references to Neutron-LBaaS from neutron-lib.

[1] https://review.opendev.org/658494

Depends-On: https://review.opendev.org/665838
Related-Bug: #1833125
Change-Id: I0200abba2bca07a610839ba4fa8e2d9f2fa82218
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/28/665828/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/lbaas/member-create-response.json', 'api-ref/source/v2/samples/flavors/flavor-create-request.json', 'api-ref/source/v2/samples/lbaas/vip-update-request.json', 'api-ref/source/v2/samples/flavors/service-profile-update-response.json', 'api-ref/source/v2/samples/lbaas/member-update-request.json', 'api-ref/source/v2/samples/lbaas/member-update-response.json', 'api-ref/source/v2/flavors.inc', 'api-ref/source/v2/samples/lbaas/healthmonitor-create-response.json', 'api-ref/source/v2/samples/flavors/service-profile-create-response.json', 'neutron_lib/constants.py', 'api-ref/source/v2/samples/lbaas/healthmonitor-update-request.json', 'api-ref/source/v2/lbaas-v2.inc', 'api-ref/source/v2/samples/flavors/service-profile-show-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-create-request.json', 'api-ref/source/v2/samples/lbaas/pools-list-response.json', 'neutron_lib/plugins/constants.py', 'api-ref/source/v2/samples/lbaas/listeners-list-response.json', 'api-ref/source/v2/samples/lbaas/pool-members-list-response.json', 'api-ref/source/v2/samples/lbaas/vips-list-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-create-request.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/lbaas/healthmonitor-update-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-update-response.txt', 'api-ref/source/v2/samples/lbaas/member-show-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-update-request.json', 'doc/source/contributor/callbacks.rst', 'api-ref/source/v2/samples/extensions/extensions-list-response.json', 'api-ref/source/v2/samples/flavors/service-profiles-list-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-associate-request.json', 'api-ref/source/v2/samples/lbaas/pool-create-request.json', 'api-ref/source/v2/samples/lbaas/pool-update-request.json', 'api-ref/source/v2/samples/lbaas/vip-show-response.json', 'api-ref/source/v2/samples/flavors/flavors-list-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancers-list-response.json', 'api-ref/source/v2/samples/lbaas/pools-list-response2.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-associate-response.json', 'api-ref/source/v2/samples/lbaas/members-list-response.json', 'api-ref/source/v2/samples/lbaas/vip-create-response.json', 'api-ref/source/v2/samples/lbaas/pool-create-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-update-response.json', 'api-ref/source/v2/samples/lbaas/pool-show-response.json', 'api-ref/source/v2/samples/flavors/flavor-create-response.json', 'api-ref/source/v2/samples/flavors/service-profile-create-request.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-create-response.json', 'api-ref/source/v2/samples/flavors/flavor-update-response.json', 'api-ref/source/v2/samples/flavors/flavor-show-response.json', 'api-ref/source/v2/samples/lbaas/pool-update-response.json', 'api-ref/source/v2/samples/flavors/service-profile-update-request.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-status-tree.json', 'api-ref/source/v2/samples/service-type-response.json', 'api-ref/source/v2/samples/lbaas/vip-create-request.json', 'api-ref/source/v2/samples/lbaas/member-create-request.json', 'api-ref/source/v2/samples/lbaas/listener-create-request.json', 'api-ref/source/v2/samples/lbaas/listener-show-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitor-show-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/lbaas/listener-create-response.json', 'api-ref/source/v2/samples/lbaas/vip-update-response.json', 'api-ref/source/v2/samples/lbaas/healthmonitors-list-response.json', 'api-ref/source/v2/samples/lbaas/listener-update-request.json', 'api-ref/source/v2/samples/lbaas/listener-update-response.json', 'api-ref/source/v2/samples/lbaas/loadbalancer-show-response.json']",62,b05e616e836fd0e9623f2692a81517624da09cb3,bug/1833125,,"{ ""loadbalancer"": { ""description"": ""simple lb"", ""admin_state_up"": true, ""project_id"": ""1a3e005cf9ce40308c900bcb08e5320c"", ""tenant_id"": ""1a3e005cf9ce40308c900bcb08e5320c"", ""provisioning_status"": ""ACTIVE"", ""listeners"": [], ""vip_address"": ""10.0.0.2"", ""vip_subnet_id"": ""013d3059-87a4-45a5-91e9-d721068ae0b2"", ""id"": ""a9729389-6147-41a3-ab22-a24aed8692b2"", ""operating_status"": ""ONLINE"", ""name"": ""loadbalancer1"", ""pools"": [] } } ",27,2843
openstack%2Ftrove~stable%2Ftrain~I5859f4c9911fc2c129c8f23611c6607044fbc145,openstack/trove,stable/train,I5859f4c9911fc2c129c8f23611c6607044fbc145,Use correct Swift credential for instance backup,MERGED,2019-10-03 19:22:45.000000000,2019-10-04 10:21:22.000000000,2019-10-04 10:20:18.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 19:22:45.000000000', 'files': ['trove/guestagent/guest_log.py', 'trove/tests/api/mgmt/datastore_versions.py', 'integration/scripts/conf/test_begin.conf', 'devstack/plugin.sh', 'trove/common/single_tenant_remote.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/e45b6a63490649ac0b3fbce27e7c79d547814840', 'message': 'Use correct Swift credential for instance backup\n\nDevStack is deploying Trove in service tenant model, for swift backed\ninstance backup, the swift container should be transparent to the end\nusers.\n\nStory: 2006647\nTask: 36883\n\nChange-Id: I5859f4c9911fc2c129c8f23611c6607044fbc145\n'}]",0,686468,e45b6a63490649ac0b3fbce27e7c79d547814840,9,2,1,6732,,,0,"Use correct Swift credential for instance backup

DevStack is deploying Trove in service tenant model, for swift backed
instance backup, the swift container should be transparent to the end
users.

Story: 2006647
Task: 36883

Change-Id: I5859f4c9911fc2c129c8f23611c6607044fbc145
",git fetch https://review.opendev.org/openstack/trove refs/changes/68/686468/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/guest_log.py', 'trove/tests/api/mgmt/datastore_versions.py', 'integration/scripts/conf/test_begin.conf', 'devstack/plugin.sh', 'trove/common/single_tenant_remote.py']",5,e45b6a63490649ac0b3fbce27e7c79d547814840,remote-swift-client-stable/train,"from cinderclient.v2 import client as CinderClient from keystoneauth1 import loading from keystoneauth1 import session from neutronclient.v2_0 import client as NeutronClient from novaclient.client import Client as NovaClient import swiftclient def swift_client_trove_admin(context, region_name=None): ks_session = get_keystone_session() client = swiftclient.Connection( session=ks_session, insecure=CONF.swift_api_insecure, os_options={ 'region_name': region_name or CONF.os_region_name, 'service_type': CONF.swift_service_type, 'endpoint_type': CONF.swift_endpoint_type } ) return client","from keystoneauth1 import loading from keystoneauth1 import session from cinderclient.v2 import client as CinderClient from neutronclient.v2_0 import client as NeutronClient from novaclient.client import Client as NovaClient """""" trove.conf ... The following should be set in the trove CONF file for this single_tenant_remote config to work correctly. nova_proxy_admin_user = nova_proxy_admin_pass = nova_proxy_admin_tenant_name = nova_proxy_admin_tenant_id = nova_proxy_admin_user_domain_name = nova_proxy_admin_project_domain_name = trove_auth_url = nova_compute_service_type = nova_compute_url = cinder_service_type = os_region_name = remote_nova_client = \ trove.common.single_tenant_remote.nova_client_trove_admin remote_cinder_client = \ trove.common.single_tenant_remote.cinder_client_trove_admin remote_neutron_client = \ trove.common.single_tenant_remote.neutron_client_trove_admin ... """""" ",37,43
openstack%2Fdiskimage-builder~master~I944cf4f2902c28728aa5bb9e2a00b3eef122d52e,openstack/diskimage-builder,master,I944cf4f2902c28728aa5bb9e2a00b3eef122d52e,Update redhat-common pkg-map for centos 8,MERGED,2019-09-25 03:10:43.000000000,2019-10-04 10:17:49.000000000,2019-10-04 10:16:39.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 03:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/46a2a0719308bc386515fbf4707af74982510e83', 'message': '[wip] Update redhat-common pkg-map for centos 8\n\nAt this point, only centos7 actually has the python2 selinux libraries around.\nwe may be able to invert the logic so that we install python3 everywhere\nexcept centos7\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 2, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a353edf572d5c26df53a69e66ecd26146aa2c793', 'message': '[wip] Update redhat-common pkg-map for centos 8\n\nAt this point, only centos7 actually has the python2 selinux libraries around.\nwe may be able to invert the logic so that we install python3 everywhere\nexcept centos7\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 3, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4c01365222e44812ab9af9e5673799278e14a6b4', 'message': '[wip] Update redhat-common pkg-map for centos 8\n\nAt this point, only centos7 actually has the python2 selinux libraries around.\nwe may be able to invert the logic so that we install python3 everywhere\nexcept centos7\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 4, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7b0beefb1ad113158554ed1e966820e20cf460c1', 'message': '[wip] Update redhat-common pkg-map for centos 8\n\nAt this point, only centos7 actually has the python2 selinux libraries around.\nwe may be able to invert the logic so that we install python3 everywhere\nexcept centos7\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 5, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/034cb4049061f3ee6e9fdcf7f81a82b1b07b0006', 'message': '[wip] Update redhat-common pkg-map for centos 8\n\nAt this point, only centos7 actually has the python2 selinux libraries around.\nwe may be able to invert the logic so that we install python3 everywhere\nexcept centos7\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 6, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e6ed8f180f2247ceaad208546f37bbb38c94415e', 'message': 'Update redhat-common pkg-map for centos 8\n\nThe libselinux packages etc don\'t exist for Python 2 on Centos 8 [1].\nEnsure the package map installs the python3 versions.\n\nWe could probably invert the logic now, and make it so Centos 7 is the\n""special"" version that overrides things to install python2.  Left\nalone for now to avoid changing too much at once.\n\n[1] https://bugs.centos.org/view.php?id=16458\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 7, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9ca3494713be3f4e0160f9c3ca0404e63c16d5cb', 'message': 'Update redhat-common pkg-map for centos 8\n\nThe libselinux packages etc don\'t exist for Python 2 on Centos 8 [1].\nEnsure the package map installs the python3 versions.\n\nWe could probably invert the logic now, and make it so Centos 7 is the\n""special"" version that overrides things to install python2.  Left\nalone for now to avoid changing too much at once.\n\n[1] https://bugs.centos.org/view.php?id=16458\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 8, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb0b0ade67fe76fc4c6e8abfa8067a3d9ba0e081', 'message': 'Update redhat-common pkg-map for centos 8\n\nThe libselinux packages etc don\'t exist for Python 2 on Centos 8 [1].\nEnsure the package map installs the python3 versions.\n\nWe could probably invert the logic now, and make it so Centos 7 is the\n""special"" version that overrides things to install python2.  Left\nalone for now to avoid changing too much at once.\n\n[1] https://bugs.centos.org/view.php?id=16458\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}, {'number': 9, 'created': '2019-10-03 01:07:59.000000000', 'files': ['diskimage_builder/elements/redhat-common/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/84cf2e1b82bac49545dbb5874b6bdd73aa6513bc', 'message': 'Update redhat-common pkg-map for centos 8\n\nThe libselinux packages etc don\'t exist for Python 2 on Centos 8 [1].\nEnsure the package map installs the python3 versions.\n\nWe could probably invert the logic now, and make it so Centos 7 is the\n""special"" version that overrides things to install python2.  Left\nalone for now to avoid changing too much at once.\n\n[1] https://bugs.centos.org/view.php?id=16458\n\nChange-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e\n'}]",1,684449,84cf2e1b82bac49545dbb5874b6bdd73aa6513bc,49,5,9,7118,,,0,"Update redhat-common pkg-map for centos 8

The libselinux packages etc don't exist for Python 2 on Centos 8 [1].
Ensure the package map installs the python3 versions.

We could probably invert the logic now, and make it so Centos 7 is the
""special"" version that overrides things to install python2.  Left
alone for now to avoid changing too much at once.

[1] https://bugs.centos.org/view.php?id=16458

Change-Id: I944cf4f2902c28728aa5bb9e2a00b3eef122d52e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/49/684449/5 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/redhat-common/pkg-map'],1,46a2a0719308bc386515fbf4707af74982510e83,centos8," }, ""centos"": { ""8"": { ""libselinux-python"": ""python3-libselinux"", ""policycoreutils"": ""python3-policycoreutils"", ""policycoreutils-python"": ""policycoreutils-python-utils"" }",,7,0
openstack%2Fkolla-ansible~master~I239a7c60d6ae0c80640ff10209a80c7a9ca74cd6,openstack/kolla-ansible,master,I239a7c60d6ae0c80640ff10209a80c7a9ca74cd6,CI: Remove multinode non-ceph glance exception,MERGED,2019-10-01 08:41:43.000000000,2019-10-04 09:56:31.000000000,2019-10-04 09:55:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-01 08:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c70eb046ba1cef1de8036dfa0f0ddfea2487af8', 'message': 'CI: Remove multinode non-ceph glance exception\n\nThis is not required since enabling HAProxy over VXLAN [1].\n\n[1] https://review.opendev.org/670690\n\nChange-Id: I239a7c60d6ae0c80640ff10209a80c7a9ca74cd6\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-10-01 08:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5efc7e35551247cb08ecf5e0488bc88bc85b538', 'message': 'CI: Remove multinode non-ceph glance exception\n\nThis is not required since enabling HAProxy over VXLAN [1].\n\n[1] https://review.opendev.org/670690\n\nChange-Id: I239a7c60d6ae0c80640ff10209a80c7a9ca74cd6\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-10-01 08:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95ae96527aa6f2cef570d608b0872b69f3042301', 'message': 'CI: Remove multinode non-ceph glance exception\n\nThis is not required since enabling HAProxy over VXLAN [1].\n\n[1] https://review.opendev.org/670690\n\nChange-Id: I239a7c60d6ae0c80640ff10209a80c7a9ca74cd6\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-10-01 11:25:20.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2159e2bb933a76d900349db82ee4e7b4ada9a67', 'message': 'CI: Remove multinode non-ceph glance exception\n\nThis is not required since enabling HAProxy over VXLAN [1].\n\n[1] https://review.opendev.org/670690\n\nChange-Id: I239a7c60d6ae0c80640ff10209a80c7a9ca74cd6\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,685903,a2159e2bb933a76d900349db82ee4e7b4ada9a67,16,4,4,30491,,,0,"CI: Remove multinode non-ceph glance exception

This is not required since enabling HAProxy over VXLAN [1].

[1] https://review.opendev.org/670690

Change-Id: I239a7c60d6ae0c80640ff10209a80c7a9ca74cd6
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/685903/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/globals-default.j2', 'zuul.d/project.yaml']",2,0c70eb046ba1cef1de8036dfa0f0ddfea2487af8,remove-ci-multinode-exception,# TEST ALL MAYBE?,,1,6
openstack%2Ftraining-guides~master~I44ae5a6f025b6446a30c8d2057152ead00832a22,openstack/training-guides,master,I44ae5a6f025b6446a30c8d2057152ead00832a22,Imported Translations from Zanata,MERGED,2019-10-04 08:41:56.000000000,2019-10-04 09:56:05.000000000,2019-10-04 09:54:22.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 08:41:56.000000000', 'files': ['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/587597cea99618f90b2860139aa264100914752e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I44ae5a6f025b6446a30c8d2057152ead00832a22\n'}]",0,686550,587597cea99618f90b2860139aa264100914752e,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I44ae5a6f025b6446a30c8d2057152ead00832a22
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/50/686550/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",6,587597cea99618f90b2860139aa264100914752e,zanata/translations,"""POT-Creation-Date: 2019-10-02 14:06+0000\n""","# Reik Keutterling <spielkind@gmail.com>, 2018. #zanata""POT-Creation-Date: 2019-08-28 10:49+0000\n""msgid ""Ask questions during the class"" msgstr ""Stellen Sie Fragen in der Klasse"" msgid ""Join the #openstack-dev channel"" msgstr ""Komm in den #openstack-dev channel"" msgid ""Jump on IRC and etherpad"" msgstr ""Ab in den IRC und ins Etherpad"" msgid ""Use it for exercises"" msgstr ""Verwenden Sie es fr bungen"" msgid ""Use your IRC client or Web IRC:"" msgstr ""Verwenden Sie Ihren IRC-Client oder Web-IRC:"" msgid """" ""`Connect to freenode IRC <https://webchat.freenode.net/?channels=openstack-"" ""dev>`_"" msgstr """" ""`Verbinden zu Freenode IRC <https://webchat.freenode.net/?channels=openstack-"" ""dev>`_"" ",9,113
openstack%2Fstorlets~master~Ic778cdc20ca30c8832de91956e4d0d60aebdb163,openstack/storlets,master,Ic778cdc20ca30c8832de91956e4d0d60aebdb163,Add release note for 4.0.0,MERGED,2019-10-03 04:30:14.000000000,2019-10-04 09:49:29.000000000,2019-10-04 09:48:02.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 04:30:14.000000000', 'files': ['releasenotes/notes/4_0_0-a37d0a751c96b27d.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/a543cd3396cd759d1bbf4dae10317d111deb824c', 'message': 'Add release note for 4.0.0\n\nChange-Id: Ic778cdc20ca30c8832de91956e4d0d60aebdb163\n'}]",0,686329,a543cd3396cd759d1bbf4dae10317d111deb824c,8,3,1,4608,,,0,"Add release note for 4.0.0

Change-Id: Ic778cdc20ca30c8832de91956e4d0d60aebdb163
",git fetch https://review.opendev.org/openstack/storlets refs/changes/29/686329/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/4_0_0-a37d0a751c96b27d.yaml'],1,a543cd3396cd759d1bbf4dae10317d111deb824c,,"--- prelude: > In this release, storlets project include various cleanup of the internal protocol, in particular from short text to the json style and the syntax. Those changes may affect to upgrade path on running environment. Please see upgrade section in this release note. issues: - | Python3 works are going forward but not yet completed so we should finish out it by the end of years. At least, py3-functional should pass on the gate. upgrade: - | As you can see in prelude, storlets has been changing the internal protocol so you may get trouble if you would try to upgrade running cluster without downtime. For safety, you should stop the swift/storlets process in a node while upgrading. The upgrade should include re-compile of storlets java modules. fixes: - Other various minor bug fixes. ",,23,0
openstack%2Fironic~master~I0a1d19ba4efbf1f070959e091e470335f8f58b95,openstack/ironic,master,I0a1d19ba4efbf1f070959e091e470335f8f58b95,[train][goal] Define new 'ironic-tempest-ipv6-only' job,NEW,2019-09-17 16:39:26.000000000,2019-10-04 09:19:37.000000000,,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 16:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95ac08199b343745bb4467d3c12d5fd6bfd475e1', 'message': ""[train][goal] Define new 'ironic-tempest-functional-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-tempest-functional-ipv6-only'\nrun on gate which is internally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-tempest-functional-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0a1d19ba4efbf1f070959e091e470335f8f58b95\n""}, {'number': 2, 'created': '2019-09-17 16:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3d543928eec87d620dc35ff477c8a156fff2b5c', 'message': ""[train][goal] Define new 'ironic-tempest-functional-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-tempest-functional-ipv6-only'\nrun on gate which is internally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-tempest-functional-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0a1d19ba4efbf1f070959e091e470335f8f58b95\n""}, {'number': 3, 'created': '2019-09-18 14:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7c60704f81e596659d374ef588b657a240450b1', 'message': ""[train][goal] Define new 'ironic-tempest-functional-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-tempest-functional-ipv6-only'\nrun on gate which is internally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-tempest-functional-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0a1d19ba4efbf1f070959e091e470335f8f58b95\n""}, {'number': 4, 'created': '2019-09-19 20:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5577f2d43fee4a23b8598b8861354f7a15647282', 'message': ""[train][goal] Define new 'ironic-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-tempest-ipv6-only'\nrun on gate which is internally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0a1d19ba4efbf1f070959e091e470335f8f58b95\n""}, {'number': 5, 'created': '2019-09-20 01:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4cd136ce38603905bbe3cd290fab4c8d2b6ffa7e', 'message': ""[train][goal] Define new 'ironic-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-tempest-ipv6-only'\nrun on gate which is internally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0a1d19ba4efbf1f070959e091e470335f8f58b95\n""}, {'number': 6, 'created': '2019-10-03 17:59:22.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d09774bef4e2ea3c9f236495374e1ef48ef25c4', 'message': ""[train][goal] Define new 'ironic-tempest-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit adds the new job 'ironic-tempest-ipv6-only'\nrun on gate which is internally derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'ironic-tempest-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35896\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I0a1d19ba4efbf1f070959e091e470335f8f58b95\n""}]",2,682692,6d09774bef4e2ea3c9f236495374e1ef48ef25c4,33,8,6,8556,,,0,"[train][goal] Define new 'ironic-tempest-ipv6-only' job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' which will
deploy services on IPv6.

This commit adds the new job 'ironic-tempest-ipv6-only'
run on gate which is internally derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'ironic-tempest-ipv6-only' will run the tests.

Story: #2005477
Task: #35896

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I0a1d19ba4efbf1f070959e091e470335f8f58b95
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/682692/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,95ac08199b343745bb4467d3c12d5fd6bfd475e1,ipv6-only-deployment-and-testing, - ironic-tempest-functional-ipv6-only - ironic-tempest-functional-ipv6-only,,24,4
openstack%2Fkolla~master~I2c268e7519e2fa9f7794b466d4c76bb131f730f4,openstack/kolla,master,I2c268e7519e2fa9f7794b466d4c76bb131f730f4,Debian: increase periodic publish job to 3h,ABANDONED,2019-10-04 08:55:22.000000000,2019-10-04 09:14:18.000000000,,[{'_account_id': 30491}],"[{'number': 1, 'created': '2019-10-04 08:55:22.000000000', 'files': ['.zuul.d/debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a01ceccd9d9d46a00a5def5fcd280e9d6e3d8b76', 'message': 'Debian: increase periodic publish job to 3h\n\nChange-Id: I2c268e7519e2fa9f7794b466d4c76bb131f730f4\n'}]",1,686552,a01ceccd9d9d46a00a5def5fcd280e9d6e3d8b76,3,1,1,24072,,,0,"Debian: increase periodic publish job to 3h

Change-Id: I2c268e7519e2fa9f7794b466d4c76bb131f730f4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/686552/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/debian.yaml'],1,a01ceccd9d9d46a00a5def5fcd280e9d6e3d8b76,686134, timeout: 10800 timeout: 10800,,2,0
openstack%2Freleases~master~I99d3b40b31b3f8ced1d74162933639cb185ae148,openstack/releases,master,I99d3b40b31b3f8ced1d74162933639cb185ae148,Add stable/train for tacker-horizon,MERGED,2019-10-02 13:29:16.000000000,2019-10-04 09:11:57.000000000,2019-10-04 09:11:57.000000000,"[{'_account_id': 17068}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 13:29:16.000000000', 'files': ['deliverables/train/tacker-horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/546d0e00ece163035b3794e0c8e89ee9ef4394ba', 'message': 'Add stable/train for tacker-horizon\n\nChange-Id: I99d3b40b31b3f8ced1d74162933639cb185ae148\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,686162,546d0e00ece163035b3794e0c8e89ee9ef4394ba,9,3,1,11904,,,0,"Add stable/train for tacker-horizon

Change-Id: I99d3b40b31b3f8ced1d74162933639cb185ae148
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/686162/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/tacker-horizon.yaml'],1,546d0e00ece163035b3794e0c8e89ee9ef4394ba,stable-train,branches: - name: stable/train location: 0.15.0,,3,0
openstack%2Fplacement~master~Ia2a4b982d6146a275f433a73b6a8a13acab1e00a,openstack/placement,master,Ia2a4b982d6146a275f433a73b6a8a13acab1e00a,Fix domain name in install doc,MERGED,2019-10-02 16:42:12.000000000,2019-10-04 09:08:52.000000000,2019-10-04 09:07:00.000000000,"[{'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-02 16:42:12.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/dbd03867118ee059b39be7677b8881b0f1a0b9c8', 'message': ""Fix domain name in install doc\n\nBased on the keystone install docs [1][2][3] the domain created by the\nbootstrap is named 'Default' (with the id 'default'). This patch fixes\nthe placement install docs accordingly.\n\n[1] https://docs.openstack.org/keystone/stein/install/keystone-install-obs.html#finalize-the-installation\n[2] https://docs.openstack.org/keystone/stein/install/keystone-install-rdo.html#finalize-the-installation\n[3] https://docs.openstack.org/keystone/stein/install/keystone-install-ubuntu.html#finalize-the-installation\n\nStory: #2006652\nTask: #36894\nChange-Id: Ia2a4b982d6146a275f433a73b6a8a13acab1e00a\n""}]",0,686214,dbd03867118ee059b39be7677b8881b0f1a0b9c8,11,4,1,9708,,,0,"Fix domain name in install doc

Based on the keystone install docs [1][2][3] the domain created by the
bootstrap is named 'Default' (with the id 'default'). This patch fixes
the placement install docs accordingly.

[1] https://docs.openstack.org/keystone/stein/install/keystone-install-obs.html#finalize-the-installation
[2] https://docs.openstack.org/keystone/stein/install/keystone-install-rdo.html#finalize-the-installation
[3] https://docs.openstack.org/keystone/stein/install/keystone-install-ubuntu.html#finalize-the-installation

Story: #2006652
Task: #36894
Change-Id: Ia2a4b982d6146a275f433a73b6a8a13acab1e00a
",git fetch https://review.opendev.org/openstack/placement refs/changes/14/686214/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",3,dbd03867118ee059b39be7677b8881b0f1a0b9c8,story/2006652," project_domain_name = Default user_domain_name = Default .. note:: The value of ``user_name``, ``password``, ``project_domain_name`` and ``user_domain_name`` need to be in sync with your keystone config. ", project_domain_name = default user_domain_name = default,21,6
openstack%2Fopenstack-ansible-os_octavia~master~I65c023db3cb8080e57442f35e599a372519d97d7,openstack/openstack-ansible-os_octavia,master,I65c023db3cb8080e57442f35e599a372519d97d7,Fix python path when deploy host is not localhost,MERGED,2019-07-09 10:35:02.000000000,2019-10-04 09:03:51.000000000,2019-10-01 12:23:52.000000000,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-07-09 10:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/44c1321b594174b4ed2dad2c3c968b046bcc3416', 'message': ""Fix python path when deploy host is not localhost\n\nWhen we don't use localhost as deploy host, we need to use\noctavia_service_setup_host_python_interpreter variable.\n\nThis variable give the correct python path (in a venv for example when\nwe use a utility container as a setup host)\n\nChange-Id: I65c023db3cb8080e57442f35e599a372519d97d7\nCloses-Bug: 1835744\n""}, {'number': 2, 'created': '2019-09-20 13:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/786e3e74f710b11149276973c8b4c99dd30cc4f2', 'message': ""Fix python path when deploy host is not localhost\n\nWhen we don't use localhost as deploy host, we need to use\noctavia_service_setup_host_python_interpreter variable.\n\nThis variable give the correct python path (in a venv for example when\nwe use a utility container as a setup host)\n\nChange-Id: I65c023db3cb8080e57442f35e599a372519d97d7\nCloses-Bug: 1835744\n""}, {'number': 3, 'created': '2019-09-25 14:44:17.000000000', 'files': ['tasks/octavia_amp_image.yml', 'tasks/octavia_mgmt_network.yml', 'tasks/octavia_security_group.yml', 'tasks/octavia_flavor_create.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2e78130c544f5659abeeab2bbd193d0bbc800053', 'message': ""Fix python path when deploy host is not localhost\n\nWhen we don't use localhost as deploy host, we need to use\noctavia_service_setup_host_python_interpreter variable.\n\nThis variable give the correct python path (in a venv for example when\nwe use a utility container as a setup host)\n\nDepends-On: I270c0b623aef55bd6bf80b9bf5fdd618e4ced517\nChange-Id: I65c023db3cb8080e57442f35e599a372519d97d7\nCloses-Bug: 1835744\n""}]",0,669838,2e78130c544f5659abeeab2bbd193d0bbc800053,25,5,3,23182,,,0,"Fix python path when deploy host is not localhost

When we don't use localhost as deploy host, we need to use
octavia_service_setup_host_python_interpreter variable.

This variable give the correct python path (in a venv for example when
we use a utility container as a setup host)

Depends-On: I270c0b623aef55bd6bf80b9bf5fdd618e4ced517
Change-Id: I65c023db3cb8080e57442f35e599a372519d97d7
Closes-Bug: 1835744
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/38/669838/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_amp_image.yml', 'tasks/octavia_mgmt_network.yml', 'tasks/octavia_security_group.yml', 'tasks/octavia_flavor_create.yml']",4,44c1321b594174b4ed2dad2c3c968b046bcc3416,bug/1835744," ansible_python_interpreter: ""{{ octavia_service_setup_host_python_interpreter }}"""," ansible_python_interpreter: >- {{ (octavia_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable']) }}",4,8
openstack%2Freleases~master~Ie49d9cff4e211406539c579a9703af0b1bbd5510,openstack/releases,master,Ie49d9cff4e211406539c579a9703af0b1bbd5510,nova: release stein 19.0.3,MERGED,2019-10-02 21:27:08.000000000,2019-10-04 08:51:59.000000000,2019-10-04 08:51:59.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 21:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e13a70c326e0ba74ef479aad20d51ad2c158e327', 'message': 'nova: release stein 19.0.3\n\nDepends-On: https://review.opendev.org/686063/\nChange-Id: Ie49d9cff4e211406539c579a9703af0b1bbd5510\n'}, {'number': 2, 'created': '2019-10-03 13:30:52.000000000', 'files': ['deliverables/stein/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/daba91201164c56e23d88ea0245e09426501f431', 'message': 'nova: release stein 19.0.3\n\nChange-Id: Ie49d9cff4e211406539c579a9703af0b1bbd5510\n'}]",2,686301,daba91201164c56e23d88ea0245e09426501f431,13,7,2,6873,,,0,"nova: release stein 19.0.3

Change-Id: Ie49d9cff4e211406539c579a9703af0b1bbd5510
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/686301/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/nova.yaml'],1,e13a70c326e0ba74ef479aad20d51ad2c158e327,nova-stein-19.0.3, - projects: - hash: ff29f7018fdd4fc12b6b029ebef25904f9455aa9 repo: openstack/nova version: 19.0.3,,4,0
openstack%2Fdiskimage-builder~master~I145844a410d06a479e68db1bf6d5d0159389305c,openstack/diskimage-builder,master,I145844a410d06a479e68db1bf6d5d0159389305c,Add security mirror override for debian-minimal,MERGED,2019-10-03 03:50:18.000000000,2019-10-04 08:47:50.000000000,2019-10-04 08:46:21.000000000,"[{'_account_id': 5263}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-03 03:50:18.000000000', 'files': ['diskimage_builder/elements/debian-minimal/environment.d/10-debian-minimal.bash', 'releasenotes/notes/debian-security-7279855cf464f88b.yaml', 'diskimage_builder/elements/debian-minimal/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9b201b58b99c1289dd2e8352455f767056614e9a', 'message': 'Add security mirror override for debian-minimal\n\nAdd option to set the security mirror URL independently in the\ndebian-minimal element, since this can not be overriden by the\nstandard DIB_DISTRIBUTION_MIRROR variable.\n\nChange-Id: I145844a410d06a479e68db1bf6d5d0159389305c\n'}]",0,686328,9b201b58b99c1289dd2e8352455f767056614e9a,12,6,1,7118,,,0,"Add security mirror override for debian-minimal

Add option to set the security mirror URL independently in the
debian-minimal element, since this can not be overriden by the
standard DIB_DISTRIBUTION_MIRROR variable.

Change-Id: I145844a410d06a479e68db1bf6d5d0159389305c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/28/686328/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/debian-minimal/environment.d/10-debian-minimal.bash', 'releasenotes/notes/debian-security-7279855cf464f88b.yaml', 'diskimage_builder/elements/debian-minimal/README.rst']",3,9b201b58b99c1289dd2e8352455f767056614e9a,debian-images,"The element obeys the ``DIB_DISTRIBUTION_MIRROR`` argument for mirroring (see ``debootsrap`` element documentation). However, the security repositories are separate for Debian, so we can not assume they exist at ``DIB_DISTRIBUTION_MIRROR``. If you do not wish to use the upstream repository (from ``security.debian.org``) override it with ``DIB_DEBIAN_SECURITY_MIRROR``. ",,21,1
openstack%2Fnetworking-ovn~stable%2Frocky~I862751fabcd590e91d0ded00dd1cfeb9e6753f2f,openstack/networking-ovn,stable/rocky,I862751fabcd590e91d0ded00dd1cfeb9e6753f2f,"Revert ""Set binding profile directly from OVNTrunkDriver""",MERGED,2019-09-27 06:47:10.000000000,2019-10-04 08:46:58.000000000,2019-10-04 08:46:58.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-27 06:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a88e055459b66faaed38055ebfbee8217fd924af', 'message': 'Revert ""Set binding profile directly from OVNTrunkDriver""\n\nDuring recent days we many observed failures of neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle test. It started to fail on a different asserts. Lets revert this patch, as it is a regression, and work further on this issue.\n\nThis reverts commit 1e2e424f5d90be32edaf701d1871701bf4b5d522.\n\nChange-Id: I862751fabcd590e91d0ded00dd1cfeb9e6753f2f\n'}, {'number': 2, 'created': '2019-09-27 10:05:21.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3205f887fcc9a509c1a281f2d6d3788ff5147ba4', 'message': 'Revert ""Set binding profile directly from OVNTrunkDriver""\n\nDuring recent days we many observed failures of \nneutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle test. \nIt started to fail on a different asserts. \nLets revert this patch, as it is a regression, and work further on this issue.\n\nThis reverts commit 1e2e424f5d90be32edaf701d1871701bf4b5d522.\n\nRelated-Bug: #1834637\nRelated-Bug: #1845479\n\nChange-Id: I862751fabcd590e91d0ded00dd1cfeb9e6753f2f\n'}]",0,685207,3205f887fcc9a509c1a281f2d6d3788ff5147ba4,11,6,2,24791,,,0,"Revert ""Set binding profile directly from OVNTrunkDriver""

During recent days we many observed failures of 
neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle test. 
It started to fail on a different asserts. 
Lets revert this patch, as it is a regression, and work further on this issue.

This reverts commit 1e2e424f5d90be32edaf701d1871701bf4b5d522.

Related-Bug: #1834637
Related-Bug: #1845479

Change-Id: I862751fabcd590e91d0ded00dd1cfeb9e6753f2f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/07/685207/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,a88e055459b66faaed38055ebfbee8217fd924af,bug/1834637,"from oslo_db import exception as os_db_exc def _set_binding_profile(self, port_id, parent_port, tag=None): context = n_context.get_admin_context() binding_profile = {} if parent_port and tag: binding_profile = {'parent_name': parent_port, 'tag': tag} port = {'port': {'binding:profile': binding_profile}} if not tag: port['port']['binding:host_id'] = None try: self.plugin_driver._plugin.update_port(context, port_id, port) except (os_db_exc.DBReferenceError, n_exc.PortNotFound): LOG.debug(""Port not found trying to set binding_profile: %s"", port_id) for port in subports: self._set_binding_profile(port.port_id, parent_port, tag=port.segmentation_id) for port in subports: self._set_binding_profile(port.port_id, None) self._set_sub_ports(trunk.port_id, trunk.sub_ports) self._unset_sub_ports(trunk.sub_ports) self._set_sub_ports(trunk.port_id, subports) self._unset_sub_ports(subports)","from neutron.objects import ports as port_obj self.context = n_context.get_admin_context() txn = self.plugin_driver._nb_ovn.transaction with self.context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._set_binding_profile(port, parent_port, ovn_txn) txn = self.plugin_driver._nb_ovn.transaction with self.context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._unset_binding_profile(port, ovn_txn) def _set_binding_profile(self, subport, parent_port, ovn_txn): db_port = port_obj.Port.get_object(self.context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.update({ 'parent_name': parent_port, 'tag': subport.segmentation_id}) # host + port_id is primary key port_obj.PortBinding.update_object( self.context, {'profile': binding.profile}, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=parent_port, tag=subport.segmentation_id)) def _unset_binding_profile(self, subport, ovn_txn): db_port = port_obj.Port.get_object(self.context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.pop('tag', None) binding.profile.pop('parent_name', None) # host + port_id is primary key port_obj.PortBinding.update_object( self.context, {'profile': binding.profile, 'vif_type': portbindings.VIF_TYPE_UNBOUND, 'vif_details': '', 'host': ''}, port_id=subport.port_id, host=binding.host) port_obj.PortBindingLevel.delete_objects( self.context, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=[], up=False, tag=[])) if trunk.sub_ports: self._set_sub_ports(trunk.port_id, trunk.sub_ports) if trunk.sub_ports: self._unset_sub_ports(trunk.sub_ports) if subports: self._set_sub_ports(trunk.port_id, subports) if subports: self._unset_sub_ports(subports)",106,272
openstack%2Freleases~master~If95ba4c49dd6e6baddf7a4aaf9fa6d506540cc49,openstack/releases,master,If95ba4c49dd6e6baddf7a4aaf9fa6d506540cc49,Release cinder 14.0.2,MERGED,2019-10-01 22:47:40.000000000,2019-10-04 08:46:02.000000000,2019-10-04 08:46:02.000000000,"[{'_account_id': 308}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 22:47:40.000000000', 'files': ['deliverables/stein/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/24141bbf7a392e28216dfb3b5156e4b106b4b1ea', 'message': 'Release cinder 14.0.2\n\nRelease from stable/stein\n\nChange-Id: If95ba4c49dd6e6baddf7a4aaf9fa6d506540cc49\n'}]",0,686071,24141bbf7a392e28216dfb3b5156e4b106b4b1ea,10,4,1,5314,,,0,"Release cinder 14.0.2

Release from stable/stein

Change-Id: If95ba4c49dd6e6baddf7a4aaf9fa6d506540cc49
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/686071/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/cinder.yaml'],1,24141bbf7a392e28216dfb3b5156e4b106b4b1ea,cinderproject-aug-2019, - projects: - hash: 47726fb3ad104698327e40efb94b088d311ce543 repo: openstack/cinder version: 14.0.2,,4,0
openstack%2Fironic-inspector~master~I18dbc1ab9296110d3a0a2d4400f81a3d0e74564c,openstack/ironic-inspector,master,I18dbc1ab9296110d3a0a2d4400f81a3d0e74564c,[DNM] testing ironic-inspector CI,ABANDONED,2019-09-24 14:50:39.000000000,2019-10-04 08:44:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-24 14:50:39.000000000', 'files': ['ironic_inspector/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f08d954b1183cd0019185cb51eddf8a361d41d30', 'message': '[DNM] testing ironic-inspector CI\n\nChange-Id: I18dbc1ab9296110d3a0a2d4400f81a3d0e74564c\n'}]",0,684367,f08d954b1183cd0019185cb51eddf8a361d41d30,4,2,1,23851,,,0,"[DNM] testing ironic-inspector CI

Change-Id: I18dbc1ab9296110d3a0a2d4400f81a3d0e74564c
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/67/684367/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/utils.py'],1,f08d954b1183cd0019185cb51eddf8a361d41d30,test-ci,,,1,0
openstack%2Ftripleo-ansible~master~I0b899dbdb0e973ebef369bb0325f19fc35c03b9c,openstack/tripleo-ansible,master,I0b899dbdb0e973ebef369bb0325f19fc35c03b9c,Only use the network service for EL 7.,MERGED,2019-10-02 19:24:01.000000000,2019-10-04 08:27:56.000000000,2019-10-03 19:51:36.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-02 19:24:01.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/defaults/main.yml', 'tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/964fa4ddef95bcaa184e81d0565a521aeb7c3975', 'message': 'Only use the network service for EL 7.\n\nEL 8 and Fedora rely on NetworkManager.\n\nChange-Id: I0b899dbdb0e973ebef369bb0325f19fc35c03b9c\n'}]",0,686255,964fa4ddef95bcaa184e81d0565a521aeb7c3975,11,6,1,8367,,,0,"Only use the network service for EL 7.

EL 8 and Fedora rely on NetworkManager.

Change-Id: I0b899dbdb0e973ebef369bb0325f19fc35c03b9c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/686255/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-bootstrap/defaults/main.yml', 'tripleo_ansible/roles/tripleo-bootstrap/tasks/main.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml']",3,964fa4ddef95bcaa184e81d0565a521aeb7c3975,network-manager, tripleo_bootstrap_network_service: NetworkManager,,4,1
openstack%2Freleases~master~I8507d86e4f553b698163be61665267d42e033d91,openstack/releases,master,I8507d86e4f553b698163be61665267d42e033d91,Redirects to master should always be temporary,MERGED,2019-10-03 21:01:43.000000000,2019-10-04 08:11:13.000000000,2019-10-04 08:11:13.000000000,"[{'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 21:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6e7647b853f9e3fda49df0f121ef092819ed9653', 'message': ""Redirects to master should always be temporary\n\nWe *know* that requirements will have a stable/train branch soon; make\nsure clients don't go caching the redirect to master.\n\nChange-Id: I8507d86e4f553b698163be61665267d42e033d91\nRelated-Change: Ia2e8c46c27ac97217576afdd1677efba4b99fc37\n""}, {'number': 2, 'created': '2019-10-03 22:10:49.000000000', 'files': ['openstack_releases/_redirections.py', 'openstack_releases/tests/test_redirections.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/e392f0bd481d1b78f54d23faa8ce62894be1e3b9', 'message': ""Redirects to master should always be temporary\n\nWe *know* that requirements will have a stable/train branch soon; make\nsure clients don't go caching the redirect to master.\n\nChange-Id: I8507d86e4f553b698163be61665267d42e033d91\nRelated-Change: Ia2e8c46c27ac97217576afdd1677efba4b99fc37\n""}]",0,686492,e392f0bd481d1b78f54d23faa8ce62894be1e3b9,9,3,2,15343,,,0,"Redirects to master should always be temporary

We *know* that requirements will have a stable/train branch soon; make
sure clients don't go caching the redirect to master.

Change-Id: I8507d86e4f553b698163be61665267d42e033d91
Related-Change: Ia2e8c46c27ac97217576afdd1677efba4b99fc37
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/686492/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/_redirections.py'],1,6e7647b853f9e3fda49df0f121ef092819ed9653,," status = 302 if target == 'master' else 301 redirections.insert(0, dict(code=status, src=deliv.series,"," redirections.insert(0, dict(code=301, src=deliv.series,",2,1
openstack%2Ftripleo-common~master~Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,openstack/tripleo-common,master,Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5,Implement Ansible fact cache for Mistral executor,MERGED,2019-09-18 11:07:38.000000000,2019-10-04 07:45:48.000000000,2019-10-03 19:40:16.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 11:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f3bab5efd0527793f4cae737c50fd56b148d8a4', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThis should cut down the deployment time a bit, which saves time in CI and\nin production environments.\n\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n""}, {'number': 2, 'created': '2019-09-18 14:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2f6b8ad1e0eca4dd1739a18f4a55ae7c1f8431b9', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThis should cut down the deployment time a bit, which saves time in CI and\nin production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n""}, {'number': 3, 'created': '2019-09-24 09:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3911fe94c47066a29aad7792a979ac999180e35', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThis should cut down the deployment time a bit, which saves time in CI and\nin production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n""}, {'number': 4, 'created': '2019-10-02 13:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eff1374f711ead4d5ff64f535f74fd6bdc5c791b', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThe validations are run using the 'validations' user, it cannot share the\nsame fact cache because the /var/tmp/ansible_fact_cache folder will be owned\nby the 'mistral' user, and is therefore not writable by the 'validations'\nuser. We therefore set the validations to use a different path.\n\nThis should cut down the deployment time a bit, which saves a little time in\nCI and saves a lot of time in production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n""}, {'number': 5, 'created': '2019-10-02 14:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a78866c35231fdacb18b07bd26fffd614110c434', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThe validations are run using the 'validations' user, it cannot share the\nsame fact cache because the /var/tmp/ansible_fact_cache folder will be owned\nby the 'mistral' user, and is therefore not writable by the 'validations'\nuser. We therefore set the validations to use a different path.\n\nThis should cut down the deployment time a bit, which saves a little time in\nCI and saves a lot of time in production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n""}, {'number': 6, 'created': '2019-10-02 14:37:23.000000000', 'files': ['tripleo_common/actions/ansible.py', 'scripts/run-validation'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bbc0d767bbd87f10d69c71b35652d65bb631ba6c', 'message': ""Implement Ansible fact cache for Mistral executor\n\nMost of the playbooks executed by Mistral gather facts which, by default,\nare stored in memory until the conclusion of the playbook execution. This\nmeans that for every new playbook run the facts for each host are gathered\nagain. Fact gathering can take a long time, especially when the target host\nhas a lot of devices, which is often the case for compute hosts (many\nnetwork devices and many storage devices) and for controller hosts (many\nnetwork devices).\n\nTo optimise fact gathering, we set the default behaviour for Mistral's\nAnsible execution to store gathered facts using the jsonfile format in a\ntemporary location, and we tell it to use smart gathering so that it will\nonly gather new facts when a new playbook executes.\n\nThe validations are run using the 'validations' user, it cannot share the\nsame fact cache because the /var/tmp/ansible_fact_cache folder will be owned\nby the 'mistral' user, and is therefore not writable by the 'validations'\nuser. We therefore set the validations to use a different path.\n\nThis should cut down the deployment time a bit, which saves a little time in\nCI and saves a lot of time in production environments.\n\nRelated: rhbz#1749406\nChange-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5\n""}]",1,682855,bbc0d767bbd87f10d69c71b35652d65bb631ba6c,54,12,6,6816,,,0,"Implement Ansible fact cache for Mistral executor

Most of the playbooks executed by Mistral gather facts which, by default,
are stored in memory until the conclusion of the playbook execution. This
means that for every new playbook run the facts for each host are gathered
again. Fact gathering can take a long time, especially when the target host
has a lot of devices, which is often the case for compute hosts (many
network devices and many storage devices) and for controller hosts (many
network devices).

To optimise fact gathering, we set the default behaviour for Mistral's
Ansible execution to store gathered facts using the jsonfile format in a
temporary location, and we tell it to use smart gathering so that it will
only gather new facts when a new playbook executes.

The validations are run using the 'validations' user, it cannot share the
same fact cache because the /var/tmp/ansible_fact_cache folder will be owned
by the 'mistral' user, and is therefore not writable by the 'validations'
user. We therefore set the validations to use a different path.

This should cut down the deployment time a bit, which saves a little time in
CI and saves a lot of time in production environments.

Related: rhbz#1749406
Change-Id: Ie7adf41cef0fafde646f840b2bf3e01ba42a17d5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/682855/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,1f3bab5efd0527793f4cae737c50fd56b148d8a4,performance_improvements," # Setup fact cache to improve playbook execution speed config.set('defaults', 'gathering', 'smart') config.set('defaults', 'fact_caching', 'jsonfile') config.set('defaults', 'fact_caching_connection', '/var/tmp/ansible_fact_cache') config.set('defaults', 'fact_caching_timeout', '7200') # 7200s = 2h ",,6,0
openstack%2Foslo.utils~master~I1f316d6982c0def3296af4835484ad2d81a87fd4,openstack/oslo.utils,master,I1f316d6982c0def3296af4835484ad2d81a87fd4,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later",MERGED,2019-09-15 14:41:11.000000000,2019-10-04 07:37:06.000000000,2019-09-30 18:19:38.000000000,"[{'_account_id': 4257}, {'_account_id': 6962}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25089}]","[{'number': 1, 'created': '2019-09-15 14:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/185d048ae06dc9aebdc78481cdce9ab4afec0dba', 'message': 'Support ""qemu-img info"" virtual size in QEMU 4.1 and later\n\nQEMU 4.0 and earlier have output like:\n\n    virtual size: 1.5M (1572864 bytes)\n\nQEMU 4.1 and later have output like:\n\n    virtual size: 1.5 MiB (1572864 bytes)\n\nAdjust the regular expression to allow for optional whitespace\nbetween the magnitude and the unit.\n\nChange-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4\nCloses-Bug: 1844050\n'}, {'number': 2, 'created': '2019-09-15 17:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a53c4b258789a6381a6e6f942c018f9830f06a12', 'message': 'Support ""qemu-img info"" virtual size in QEMU 4.1 and later\n\nQEMU 4.0 and earlier have output like:\n\n    virtual size: 1.5M (1572864 bytes)\n\nQEMU 4.1 and later have output like:\n\n    virtual size: 1.5 MiB (1572864 bytes)\n\nAdjust the regular expression to allow for optional whitespace\nbetween the magnitude and the unit.\n\nAdjust the unit parsing to support the expanded ""MiB"" form.\n\nChange-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4\nCloses-Bug: 1844050\n'}, {'number': 3, 'created': '2019-09-20 20:57:11.000000000', 'files': ['oslo_utils/imageutils.py', 'oslo_utils/tests/test_imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/5204dfcd6c5a8f75bb1fe3dc348cec82a6284eff', 'message': 'Support ""qemu-img info"" virtual size in QEMU 4.1 and later\n\nQEMU 4.0 and earlier have output like:\n\n    virtual size: 1.5M (1572864 bytes)\n\nQEMU 4.1 and later have output like:\n\n    virtual size: 1.5 MiB (1572864 bytes)\n\nAdjust the regular expression to allow for optional whitespace\nbetween the magnitude and the unit.\n\nAdjust the unit parsing to support the expanded ""MiB"" form.\n\nChange-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4\nCloses-Bug: 1844050\n'}]",3,682247,5204dfcd6c5a8f75bb1fe3dc348cec82a6284eff,20,5,3,25089,,,0,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later

QEMU 4.0 and earlier have output like:

    virtual size: 1.5M (1572864 bytes)

QEMU 4.1 and later have output like:

    virtual size: 1.5 MiB (1572864 bytes)

Adjust the regular expression to allow for optional whitespace
between the magnitude and the unit.

Adjust the unit parsing to support the expanded ""MiB"" form.

Change-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4
Closes-Bug: 1844050
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/47/682247/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/imageutils.py'],1,185d048ae06dc9aebdc78481cdce9ab4afec0dba,bugs/1844050," SIZE_RE = re.compile(r""(\d*\.?\d+)\s*(\w+)?(\s*\(\s*(\d+)\s+bytes\s*\))?"","," SIZE_RE = re.compile(r""(\d*\.?\d+)(\w+)?(\s*\(\s*(\d+)\s+bytes\s*\))?"",",1,1
openstack%2Fmagnum~master~Ie0f050fa8acb8be85d4a9d9a14cb3b8f50f1b5f5,openstack/magnum,master,Ie0f050fa8acb8be85d4a9d9a14cb3b8f50f1b5f5,Add wiki notes link to README,ABANDONED,2018-09-10 07:46:11.000000000,2019-10-04 06:50:13.000000000,,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26490}, {'_account_id': 27190}, {'_account_id': 28842}]","[{'number': 1, 'created': '2018-09-10 07:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/27ab14311b41d6edf2eee53670648b49da61b6e2', 'message': 'Add source code wiki notes link to README\n\nChange-Id: Ie0f050fa8acb8be85d4a9d9a14cb3b8f50f1b5f5\n'}, {'number': 2, 'created': '2018-09-10 08:06:47.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3c491180fec316a3aa03a0f27108007a9eeb205d', 'message': 'Add wiki notes link to README\n\nChange-Id: Ie0f050fa8acb8be85d4a9d9a14cb3b8f50f1b5f5\n'}]",0,601206,3c491180fec316a3aa03a0f27108007a9eeb205d,17,7,2,27190,,,0,"Add wiki notes link to README

Change-Id: Ie0f050fa8acb8be85d4a9d9a14cb3b8f50f1b5f5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/06/601206/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,27ab14311b41d6edf2eee53670648b49da61b6e2,601206,* **Wiki:** https://wiki.openstack.org/wiki/Magnum,,1,0
openstack%2Fswift~master~I26cefda80d3234df68d7152b404e0a71da74ab90,openstack/swift,master,I26cefda80d3234df68d7152b404e0a71da74ab90,PDF Documentation Build tox target,MERGED,2019-09-04 04:33:32.000000000,2019-10-04 06:49:09.000000000,2019-10-04 06:47:08.000000000,"[{'_account_id': 6547}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-04 04:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d04cc6b952f0d141dd1078bf7a5c9772f2357484', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\nStory: 2006122\nTask: 35515\n'}, {'number': 2, 'created': '2019-09-04 04:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bcee4df6ccf1cb122a9a330aa311cc0adb2b7f23', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 3, 'created': '2019-09-04 06:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/311fd9ac402161eb1a7cfb879cd00d91e5aeb951', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 4, 'created': '2019-09-04 18:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e197da3113491452852ba5c89e61d89423a15545', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 5, 'created': '2019-09-06 02:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/895d1da4b0040b4019244cff6b0dc5673cdbf793', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 6, 'created': '2019-09-09 06:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b2864031c8374474e359a5ca57200fb899a7dfe', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 7, 'created': '2019-09-10 11:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/39a4df85743b1275027c397d62f9d2a4b0a4773a', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 8, 'created': '2019-09-11 07:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f6e8b4770d71f247d4fb44630e1fd3ee7070f344', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 9, 'created': '2019-09-24 20:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/80d851950e0c892aef7267b3e4f25fafe64bc353', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}, {'number': 10, 'created': '2019-10-01 22:47:44.000000000', 'files': ['doc/source/index.rst', 'doc/source/overview_acl.rst', 'doc/source/overview_ring.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/0217b12b6d7d6f3727a54db65614ff1ef52d6286', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006122\nTask: 35515\nChange-Id: I26cefda80d3234df68d7152b404e0a71da74ab90\n'}]",0,679898,0217b12b6d7d6f3727a54db65614ff1ef52d6286,40,5,10,7233,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Story: 2006122
Task: 35515
Change-Id: I26cefda80d3234df68d7152b404e0a71da74ab90
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/679898/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,d04cc6b952f0d141dd1078bf7a5c9772f2357484,build-pdf-docs, [testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf,,10,1
openstack%2Ftrove~master~I5859f4c9911fc2c129c8f23611c6607044fbc145,openstack/trove,master,I5859f4c9911fc2c129c8f23611c6607044fbc145,Use correct Swift credential for instance backup,MERGED,2019-10-02 09:18:24.000000000,2019-10-04 06:38:20.000000000,2019-10-04 06:36:58.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 09:18:24.000000000', 'files': ['trove/guestagent/guest_log.py', 'trove/tests/api/mgmt/datastore_versions.py', 'integration/scripts/conf/test_begin.conf', 'devstack/plugin.sh', 'trove/common/single_tenant_remote.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/32de39fa4d13098a4326a241c0cd43349134a4a5', 'message': 'Use correct Swift credential for instance backup\n\nDevStack is deploying Trove in service tenant model, for swift backed\ninstance backup, the swift container should be transparent to the end\nusers.\n\nStory: 2006647\nTask: 36883\n\nChange-Id: I5859f4c9911fc2c129c8f23611c6607044fbc145\n'}]",0,686115,32de39fa4d13098a4326a241c0cd43349134a4a5,24,2,1,6732,,,0,"Use correct Swift credential for instance backup

DevStack is deploying Trove in service tenant model, for swift backed
instance backup, the swift container should be transparent to the end
users.

Story: 2006647
Task: 36883

Change-Id: I5859f4c9911fc2c129c8f23611c6607044fbc145
",git fetch https://review.opendev.org/openstack/trove refs/changes/15/686115/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/guest_log.py', 'trove/tests/api/mgmt/datastore_versions.py', 'integration/scripts/conf/test_begin.conf', 'devstack/plugin.sh', 'trove/common/single_tenant_remote.py']",5,32de39fa4d13098a4326a241c0cd43349134a4a5,remote-swift-client,"from cinderclient.v2 import client as CinderClient from keystoneauth1 import loading from keystoneauth1 import session from neutronclient.v2_0 import client as NeutronClient from novaclient.client import Client as NovaClient import swiftclient def swift_client_trove_admin(context, region_name=None): ks_session = get_keystone_session() client = swiftclient.Connection( session=ks_session, insecure=CONF.swift_api_insecure, os_options={ 'region_name': region_name or CONF.os_region_name, 'service_type': CONF.swift_service_type, 'endpoint_type': CONF.swift_endpoint_type } ) return client","from keystoneauth1 import loading from keystoneauth1 import session from cinderclient.v2 import client as CinderClient from neutronclient.v2_0 import client as NeutronClient from novaclient.client import Client as NovaClient """""" trove.conf ... The following should be set in the trove CONF file for this single_tenant_remote config to work correctly. nova_proxy_admin_user = nova_proxy_admin_pass = nova_proxy_admin_tenant_name = nova_proxy_admin_tenant_id = nova_proxy_admin_user_domain_name = nova_proxy_admin_project_domain_name = trove_auth_url = nova_compute_service_type = nova_compute_url = cinder_service_type = os_region_name = remote_nova_client = \ trove.common.single_tenant_remote.nova_client_trove_admin remote_cinder_client = \ trove.common.single_tenant_remote.cinder_client_trove_admin remote_neutron_client = \ trove.common.single_tenant_remote.neutron_client_trove_admin ... """""" ",37,43
openstack%2Fcinder~stable%2Frocky~I5e0823453cbadbd7ab1dcaa3e651769629eb409e,openstack/cinder,stable/rocky,I5e0823453cbadbd7ab1dcaa3e651769629eb409e,Tests: Fix up migrate notify tests,MERGED,2019-04-03 14:33:20.000000000,2019-10-04 05:54:58.000000000,2019-04-10 23:12:58.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-04-03 14:33:20.000000000', 'files': ['cinder/test.py', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/96c3892bb103b7318ed650da089c7da412e61116', 'message': 'Tests: Fix up migrate notify tests\n\nSearch for notify calls in a way that ignores extra\nnotifications.\n\nRemove mock_notify.assert_not_called()\n\nPartial-Bug: #1803648\n\nChange-Id: I5e0823453cbadbd7ab1dcaa3e651769629eb409e\n(cherry picked from commit 6f9135b6a48d7e900e8b33adf1e69c2463eac852)\n'}]",0,649634,96c3892bb103b7318ed650da089c7da412e61116,27,16,1,4523,,,0,"Tests: Fix up migrate notify tests

Search for notify calls in a way that ignores extra
notifications.

Remove mock_notify.assert_not_called()

Partial-Bug: #1803648

Change-Id: I5e0823453cbadbd7ab1dcaa3e651769629eb409e
(cherry picked from commit 6f9135b6a48d7e900e8b33adf1e69c2463eac852)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/649634/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'cinder/tests/unit/volume/test_volume_migration.py']",2,96c3892bb103b7318ed650da089c7da412e61116,bug/1803648," (['INFO', 'volume.retype'],), any_order=True) (['INFO', 'volume.retype'],), any_order=True)"," (['INFO', 'volume.retype'],)) (['INFO', 'volume.retype'],)) mock_notify.assert_not_called()",20,4
openstack%2Ftripleo-validations~master~Ifb1814f2406318c4c42edc21581a6fc6d34eb91e,openstack/tripleo-validations,master,Ifb1814f2406318c4c42edc21581a6fc6d34eb91e,Fix Python 3 incompatibility in tripleo-ansible-inventory,MERGED,2019-10-02 19:42:20.000000000,2019-10-04 04:53:57.000000000,2019-10-04 04:53:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-02 19:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5bbdaa3a6ee49621aeef9a81eb2aa9f5c969fa55', 'message': ""Fix Python 3 incomaptibility in tripleo-ansible-inventory\n\nWhen running under Python 3, the keys() method on a dict returns a\ndict_keys object, not a list. The dict_keys object can't be indexed like\na list, so an exception is thrown. This patch switches from using the\nkeys() method to using list() on the dict instead, which returns a list\nof the keys.\n\nChange-Id: Ifb1814f2406318c4c42edc21581a6fc6d34eb91e\n""}, {'number': 2, 'created': '2019-10-02 19:42:36.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c8a490f25bf24bd1b5848bcbbbd77eeb098db25f', 'message': ""Fix Python 3 incompatibility in tripleo-ansible-inventory\n\nWhen running under Python 3, the keys() method on a dict returns a\ndict_keys object, not a list. The dict_keys object can't be indexed like\na list, so an exception is thrown. This patch switches from using the\nkeys() method to using list() on the dict instead, which returns a list\nof the keys.\n\nChange-Id: Ifb1814f2406318c4c42edc21581a6fc6d34eb91e\n""}]",0,686263,c8a490f25bf24bd1b5848bcbbbd77eeb098db25f,13,7,2,7144,,,0,"Fix Python 3 incompatibility in tripleo-ansible-inventory

When running under Python 3, the keys() method on a dict returns a
dict_keys object, not a list. The dict_keys object can't be indexed like
a list, so an exception is thrown. This patch switches from using the
keys() method to using list() on the dict instead, which returns a list
of the keys.

Change-Id: Ifb1814f2406318c4c42edc21581a6fc6d34eb91e
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/63/686263/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,5bbdaa3a6ee49621aeef9a81eb2aa9f5c969fa55,, inventory_keys = list(inventory_map), inventory_keys = inventory_map.keys(),1,1
openstack%2Ftripleo-quickstart~master~I38b29d9ab61b201508b78b8f11b7deaf713703bf,openstack/tripleo-quickstart,master,I38b29d9ab61b201508b78b8f11b7deaf713703bf,"fix tq,cico setup",MERGED,2019-09-26 14:09:55.000000000,2019-10-04 04:42:52.000000000,2019-10-02 03:41:37.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-26 14:09:55.000000000', 'files': ['ci-scripts/get-node.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/97cf0618520a9501cb8dcdb99804899b7a1384be', 'message': 'fix tq,cico setup\n\nhttps://review.opendev.org/#/c/672075/9/quickstart.sh\nbroke ci.centos jobs as they had localhost in\nan initial setup script.\n\nChange-Id: I38b29d9ab61b201508b78b8f11b7deaf713703bf\n'}]",1,685090,97cf0618520a9501cb8dcdb99804899b7a1384be,25,5,1,9592,,,0,"fix tq,cico setup

https://review.opendev.org/#/c/672075/9/quickstart.sh
broke ci.centos jobs as they had localhost in
an initial setup script.

Change-Id: I38b29d9ab61b201508b78b8f11b7deaf713703bf
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/90/685090/1 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/get-node.sh'],1,97cf0618520a9501cb8dcdb99804899b7a1384be,, 127.0.0.2, localhost,1,1
openstack%2Fdiskimage-builder~master~Ib65fc15fe471348793fd6efb034517f11abd905e,openstack/diskimage-builder,master,Ib65fc15fe471348793fd6efb034517f11abd905e,Update locales for Centos 8,MERGED,2019-09-25 01:31:20.000000000,2019-10-04 04:35:36.000000000,2019-10-04 04:34:21.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 01:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f9965ddc90cddd8e2714817ab4bca270d81eb5bd', 'message': ""[wip] skip locales cleanup for centos 8\n\nMight need to think about how the locale packages are working on\ncentos8 more in the root.d script?  But RHEL8 users don't seem to\nhave issues, so maybe the packages are all brought in correctly.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n""}, {'number': 2, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/96113794ab3374008e45f2e0439802a6cac925d9', 'message': ""[wip] skip locales cleanup for centos 8\n\nMight need to think about how the locale packages are working on\ncentos8 more in the root.d script?  But RHEL8 users don't seem to\nhave issues, so maybe the packages are all brought in correctly.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n""}, {'number': 3, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f80e150d30d3968e9a6efc551d34ec58d834fd34', 'message': ""[wip] skip locales cleanup for centos 8\n\nMight need to think about how the locale packages are working on\ncentos8 more in the root.d script?  But RHEL8 users don't seem to\nhave issues, so maybe the packages are all brought in correctly.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n""}, {'number': 4, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5ebc641974968fe4392ba1e66aef4616203fda88', 'message': ""[wip] skip locales cleanup for centos 8\n\nMight need to think about how the locale packages are working on\ncentos8 more in the root.d script?  But RHEL8 users don't seem to\nhave issues, so maybe the packages are all brought in correctly.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n""}, {'number': 5, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b167e8cf12a541b5be6413a2d3ec8c4c42c374d1', 'message': ""[wip] skip locales cleanup for centos 8\n\nMight need to think about how the locale packages are working on\ncentos8 more in the root.d script?  But RHEL8 users don't seem to\nhave issues, so maybe the packages are all brought in correctly.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n""}, {'number': 6, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0facf883718804a297b34a21960796089f54aebd', 'message': 'Update locales for Centos 8\n\nCentOS 8 has the ""new"" split-up locales packages.  Fedora 24 is now\nlong gone, so take out the old branch and apply the lang package\ninstall to Centos 8 as well.\n\nThe manual locale cleanup is not necessary on Centos 8; skip it.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n'}, {'number': 7, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/215085fef8b238c8e2c9e0dc1af08dffe7fabcb3', 'message': 'Update locales for Centos 8\n\nCentOS 8 has the ""new"" split-up locales packages.  Fedora 24 is now\nlong gone, so take out the old branch and apply the lang package\ninstall to Centos 8 as well.\n\nThe manual locale cleanup is not necessary on Centos 8; skip it.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n'}, {'number': 8, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e1b3436a43245fc499df9ff412942bb540d23d5c', 'message': 'Update locales for Centos 8\n\nCentOS 8 has the ""new"" split-up locales packages.  Fedora 24 is now\nlong gone, so take out the old branch and apply the lang package\ninstall to Centos 8 as well.\n\nThe manual locale cleanup is not necessary on Centos 8; skip it.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n'}, {'number': 9, 'created': '2019-10-03 01:07:59.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/pre-install.d/03-yum-cleanup'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1176a45525d30855fe1c321b0d4797aa1142c7d8', 'message': 'Update locales for Centos 8\n\nCentOS 8 has the ""new"" split-up locales packages.  Fedora 24 is now\nlong gone, so take out the old branch and apply the lang package\ninstall to Centos 8 as well.\n\nThe manual locale cleanup is not necessary on Centos 8; skip it.\n\nChange-Id: Ib65fc15fe471348793fd6efb034517f11abd905e\n'}]",0,684442,1176a45525d30855fe1c321b0d4797aa1142c7d8,37,5,9,7118,,,0,"Update locales for Centos 8

CentOS 8 has the ""new"" split-up locales packages.  Fedora 24 is now
long gone, so take out the old branch and apply the lang package
install to Centos 8 as well.

The manual locale cleanup is not necessary on Centos 8; skip it.

Change-Id: Ib65fc15fe471348793fd6efb034517f11abd905e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/42/684442/5 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/pre-install.d/03-yum-cleanup'],1,f9965ddc90cddd8e2714817ab4bca270d81eb5bd,centos8,"# This is only required on CentOS7 ... see notes inif [[ $DISTRO_NAME == ""centos"" && $DIB_RELEASE == ""7"" ]]; then","# This is only required on CentOS ... see notes inif [[ $DISTRO_NAME != ""fedora"" ]]; then",2,2
openstack%2Fproject-config~master~If3f367b9401acc0d9f5681355f26d3157a42eb66,openstack/project-config,master,If3f367b9401acc0d9f5681355f26d3157a42eb66,Add top-level nested virt labels,MERGED,2019-10-04 00:07:53.000000000,2019-10-04 04:24:23.000000000,2019-10-04 04:24:23.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 00:07:53.000000000', 'files': ['nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/72827398f5418b29f9b7f89793675545fddc6337', 'message': 'Add top-level nested virt labels\n\nMissing in I3795fee1530045363e3f629f0793cbe6e95c23ca\n\nChange-Id: If3f367b9401acc0d9f5681355f26d3157a42eb66\n'}]",0,686513,72827398f5418b29f9b7f89793675545fddc6337,7,3,1,7118,,,0,"Add top-level nested virt labels

Missing in I3795fee1530045363e3f629f0793cbe6e95c23ca

Change-Id: If3f367b9401acc0d9f5681355f26d3157a42eb66
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/686513/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml']",2,72827398f5418b29f9b7f89793675545fddc6337,nested-labels, - name: nested-virt-ubuntu-bionic min-ready: 0 - name: nested-virt-centos-7 min-ready: 0,,8,0
openstack%2Fpuppet-tripleo~master~I75f7c7cdf4b086ea7dcdaa26009f6eda654801d1,openstack/puppet-tripleo,master,I75f7c7cdf4b086ea7dcdaa26009f6eda654801d1,remove tripleo-ci-centos-7-scenario010-multinode-oooq-container,MERGED,2019-10-03 02:28:05.000000000,2019-10-04 03:57:14.000000000,2019-10-04 03:57:14.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 02:28:05.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8753a47f8adb3458eac4f8eb8a9294bba3202e27', 'message': 'remove tripleo-ci-centos-7-scenario010-multinode-oooq-container\n\nnon-voting and failing.\nremoving\n\nChange-Id: I75f7c7cdf4b086ea7dcdaa26009f6eda654801d1\n'}]",0,686323,8753a47f8adb3458eac4f8eb8a9294bba3202e27,9,5,1,9592,,,0,"remove tripleo-ci-centos-7-scenario010-multinode-oooq-container

non-voting and failing.
removing

Change-Id: I75f7c7cdf4b086ea7dcdaa26009f6eda654801d1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/686323/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,8753a47f8adb3458eac4f8eb8a9294bba3202e27,scenario010-multinode,, - tripleo-ci-centos-7-scenario010-multinode-oooq-container: files: - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/nova.*$ - ^manifests/profile/(base|pacemaker)/neutron.*$ - ^manifests/profile/(base|pacemaker)/octavia.*$,0,7
openstack%2Fkuryr-libnetwork~stable%2Ftrain~I46897d63935afabcfe189a5f679627f7c65d2350,openstack/kuryr-libnetwork,stable/train,I46897d63935afabcfe189a5f679627f7c65d2350,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-23 08:58:14.000000000,2019-10-04 03:52:46.000000000,2019-10-04 03:51:44.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 08:58:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/398e84fb202b1d46617933fb4a948e6920a49b81', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I46897d63935afabcfe189a5f679627f7c65d2350\n'}]",0,683895,398e84fb202b1d46617933fb4a948e6920a49b81,17,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I46897d63935afabcfe189a5f679627f7c65d2350
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/95/683895/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,398e84fb202b1d46617933fb4a948e6920a49b81,create-train, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages}, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-heat-templates~master~Icfa753ef0b31123a592439ca2cb158f64d33554b,openstack/tripleo-heat-templates,master,Icfa753ef0b31123a592439ca2cb158f64d33554b,Drop support for uuid token provider,MERGED,2019-09-21 01:55:01.000000000,2019-10-04 03:44:18.000000000,2019-10-04 03:43:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-21 01:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78df38a73ebcd6282438a965720bf28269fd7800', 'message': 'Drop support for uuid token provider\n\nIn keystone, uuid token provider and sql token driver was already\nremoved since Stein release[1] .\nDrop uuid token provider from available options, and also drop\nconfigurations related to token flush job because it is used only\nwhen we use uuid token provider.\n\nNote that KeystoneTokenProvider still remains, so that we can\nimplement some other token providers like jws provider.\n[1] https://github.com/openstack/keystone/commit/032dd49db21c54b0435e48bcffae7cda007c9e85\n\nChange-Id: Icfa753ef0b31123a592439ca2cb158f64d33554b\n'}, {'number': 2, 'created': '2019-09-21 01:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98ec4a7726109db07bf5b7184e25bfad839739de', 'message': 'Drop support for uuid token provider\n\nIn keystone, uuid token provider and sql token driver was already\nremoved since Stein release[1] .\nDrop uuid token provider from available options, and also drop\nconfigurations related to token flush job because it is used only\nwhen we use uuid token provider.\n\nNote that KeystoneTokenProvider still remains, so that we can\nimplement some other token providers like jws provider.\n[1] https://github.com/openstack/keystone/commit/032dd49db21c54b0435e48bcffae7cda007c9e85\n\nChange-Id: Icfa753ef0b31123a592439ca2cb158f64d33554b\n'}, {'number': 3, 'created': '2019-09-21 02:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ac587a798e026696a361ec57c0ba7d08ed4bf95', 'message': 'Drop support for uuid token provider\n\nIn keystone, uuid token provider and sql token driver was already\nremoved since Stein release[1] .\nDrop uuid token provider from available options, and also drop\nconfigurations related to token flush job because it is used only\nwhen we use uuid token provider.\n\nNote that KeystoneTokenProvider still remains, so that we can\nimplement some other token providers like jws provider.\n[1] https://github.com/openstack/keystone/commit/032dd49db21c54b0435e48bcffae7cda007c9e85\n\nChange-Id: Icfa753ef0b31123a592439ca2cb158f64d33554b\n'}, {'number': 4, 'created': '2019-09-21 02:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f76ac90b2bc5e50dd1faca55a7a675c688bcb15', 'message': 'Drop support for uuid token provider\n\nIn keystone, uuid token provider and sql token driver was already\nremoved since Stein release[1] .\nDrop uuid token provider from available options, and also drop\nconfigurations related to token flush job because it is used only\nwhen we use uuid token provider.\n\nNote that KeystoneTokenProvider still remains, so that we can\nimplement some other token providers like jws provider.\n\n[1] https://github.com/openstack/keystone/commit/032dd49db21c54b0435e48bcffae7cda007c9e85\n\nChange-Id: Icfa753ef0b31123a592439ca2cb158f64d33554b\n'}, {'number': 5, 'created': '2019-09-21 14:35:34.000000000', 'files': ['releasenotes/notes/keystone-drop-uuid-token-provider-a4c4827c1a05556b.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d81e9db5454872e786c538c3b044db51ce42e8d8', 'message': 'Drop support for uuid token provider\n\nIn keystone, uuid token provider and sql token driver was already\nremoved since Stein release[1] .\nDrop uuid token provider from available options, and also drop\nconfigurations related to token flush job because it is used only\nwhen we use uuid token provider.\n\nNote that KeystoneTokenProvider still remains, so that we can\nimplement some other token providers like jws provider.\n\n[1] I76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce\n\nChange-Id: Icfa753ef0b31123a592439ca2cb158f64d33554b\n'}]",0,683750,d81e9db5454872e786c538c3b044db51ce42e8d8,18,5,5,9816,,,0,"Drop support for uuid token provider

In keystone, uuid token provider and sql token driver was already
removed since Stein release[1] .
Drop uuid token provider from available options, and also drop
configurations related to token flush job because it is used only
when we use uuid token provider.

Note that KeystoneTokenProvider still remains, so that we can
implement some other token providers like jws provider.

[1] I76d5c29f6b1572ee3ec7f2b1af63ff31572de2ce

Change-Id: Icfa753ef0b31123a592439ca2cb158f64d33554b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/683750/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,78df38a73ebcd6282438a965720bf28269fd7800,token-provider," - allowed_values: ['fernet'] /var/lib/kolla/config_files/keystone.json: command: /usr/sbin/httpd config_files: - source: ""/var/lib/kolla/config_files/src/etc/keystone/fernet-keys"" dest: ""/etc/keystone/fernet-keys"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.d"" dest: ""/etc/httpd/conf.d"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true keystone_db_sync: image: &keystone_image {get_param: ContainerKeystoneImage} net: host user: root privileged: false detach: false volumes: &keystone_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [KeystoneLogging, volumes]} - - /var/lib/kolla/config_files/keystone.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone/:/var/lib/kolla/config_files/src:ro - if: - internal_tls_enabled - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - '' - if: - internal_tls_enabled - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro - '' environment: list_concat: - - KOLLA_BOOTSTRAP=True - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS - {get_attr: [KeystoneLogging, environment]} command: ['/usr/bin/bootstrap_host_exec', 'keystone', '/usr/local/bin/kolla_start'] keystone: start_order: 2 image: *keystone_image net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes: *keystone_volumes environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS keystone_bootstrap: start_order: 3 action: exec user: root command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ] environment: - KOLLA_BOOTSTRAP=True"," - allowed_values: ['uuid', 'fernet'] map_merge: - /var/lib/kolla/config_files/keystone.json: command: /usr/sbin/httpd config_files: - source: ""/var/lib/kolla/config_files/src/etc/keystone/fernet-keys"" dest: ""/etc/keystone/fernet-keys"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/etc/httpd/conf.d"" dest: ""/etc/httpd/conf.d"" merge: false preserve_properties: true - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - if: - keystone_fernet_tokens - {} - /var/lib/kolla/config_files/keystone_cron.json: # FIXME(dprince): this is unused ATM because Kolla hardcodes the # args for the keystone container to -DFOREGROUND command: /usr/sbin/crond -n config_files: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true permissions: - path: /var/log/keystone owner: keystone:keystone recurse: true map_merge: - keystone_db_sync: image: &keystone_image {get_param: ContainerKeystoneImage} net: host user: root privileged: false detach: false volumes: &keystone_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [KeystoneLogging, volumes]} - - /var/lib/kolla/config_files/keystone.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone/:/var/lib/kolla/config_files/src:ro - if: - internal_tls_enabled - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - '' - if: - internal_tls_enabled - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro - '' environment: list_concat: - - KOLLA_BOOTSTRAP=True - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS - {get_attr: [KeystoneLogging, environment]} command: ['/usr/bin/bootstrap_host_exec', 'keystone', '/usr/local/bin/kolla_start'] keystone: start_order: 2 image: *keystone_image net: host privileged: false restart: always healthcheck: test: /openstack/healthcheck volumes: *keystone_volumes environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS keystone_bootstrap: start_order: 3 action: exec user: root command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ] environment: - KOLLA_BOOTSTRAP=True - if: - keystone_fernet_tokens - {} - keystone_cron: start_order: 4 image: *keystone_image user: root net: host privileged: false restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron keystone' command: ['/bin/bash', '-c', '/usr/local/bin/kolla_set_configs && /usr/sbin/crond -n'] volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [KeystoneLogging, volumes]} - - /var/lib/kolla/config_files/keystone_cron.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone/:/var/lib/kolla/config_files/src:ro environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS",64,106
openstack%2Ftripleo-heat-templates~master~Ifa1b3ffe63a5390d6f53cba9ae2b73c43a105e83,openstack/tripleo-heat-templates,master,Ifa1b3ffe63a5390d6f53cba9ae2b73c43a105e83,Add multi region support in nova_wait_for_compute_service.py,MERGED,2019-08-19 11:48:00.000000000,2019-10-04 03:43:01.000000000,2019-10-04 03:43:01.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7923}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-19 11:48:00.000000000', 'files': ['container_config_scripts/nova_wait_for_compute_service.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ed2b72021782037f1d30253b95d77c0daded30e', 'message': 'Add multi region support in nova_wait_for_compute_service.py\n\nThe region_name parameter needs to be defined in a multi-region setup.\n\nChange-Id: Ifa1b3ffe63a5390d6f53cba9ae2b73c43a105e83\n'}]",0,677184,2ed2b72021782037f1d30253b95d77c0daded30e,18,6,1,7923,,,0,"Add multi region support in nova_wait_for_compute_service.py

The region_name parameter needs to be defined in a multi-region setup.

Change-Id: Ifa1b3ffe63a5390d6f53cba9ae2b73c43a105e83
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/677184/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/nova_wait_for_compute_service.py'],1,2ed2b72021782037f1d30253b95d77c0daded30e,wait-for-compute-region," nova = client.Client('2.11', session=sess, endpoint_type='internal', region_name=config.get('neutron', 'region_name'))"," nova = client.Client('2.11', session=sess, endpoint_type='internal')",2,1
openstack%2Ftripleo-heat-templates~master~I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9,openstack/tripleo-heat-templates,master,I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9,Add support for Neutron Multi interface driver,MERGED,2019-09-01 07:38:03.000000000,2019-10-04 03:39:18.000000000,2019-10-04 03:39:18.000000000,"[{'_account_id': 7144}, {'_account_id': 12171}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-09-01 07:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8784cb017abfde0d7f916cb94b4f897b7372a98d', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 2, 'created': '2019-09-01 11:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7f2ca5e7290794cc9d94dab856b9650f2c0951f', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 3, 'created': '2019-09-01 12:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/739e984e3eb5b255a0f2914ea2afcb8438cc005a', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 4, 'created': '2019-09-16 09:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2994210653d0e7b39a8276c994283baa726dfa21', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 5, 'created': '2019-09-19 11:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de9089320ddacf1fc1b11e428ae05dca467d7765', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 6, 'created': '2019-09-19 11:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1a66907102391e35aee0fd6018739e64e14a830', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 7, 'created': '2019-09-19 12:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c20c93ddc1ad9d329a0aba52dbb4745ec031d00a', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 8, 'created': '2019-09-22 09:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d68fd294d53c57b7243fdc4ed3fa6b635cc2f0a7', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 9, 'created': '2019-09-24 09:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/075e9b38782e5f8e519f9dc02ed2c6ff5aec9a54', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 10, 'created': '2019-09-24 13:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aec39014bda01aeab9e513e6a7f671418a64c927', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 11, 'created': '2019-09-26 12:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cac4ce10be3a56d980590324a230fc85b3efa64', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}, {'number': 12, 'created': '2019-10-03 09:49:42.000000000', 'files': ['roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'roles/Controller.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'environments/services/neutron-mlnx-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdb5c22bd9a390bf3f683ff9d98c6cee30ff7496', 'message': 'Add support for Neutron Multi interface driver\n\n  - configures Neutron agents (dhcp,l3) to include multi interface configurations\n  - configures Neutron ML2 to bind normal ports\n\nDepends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017\nChange-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9\n'}]",17,679558,fdb5c22bd9a390bf3f683ff9d98c6cee30ff7496,81,8,12,22948,,,0,"Add support for Neutron Multi interface driver

  - configures Neutron agents (dhcp,l3) to include multi interface configurations
  - configures Neutron ML2 to bind normal ports

Depends-On: I79a9bf7c07ca7c60e982a30b23308576daffc017
Change-Id: I212c0f4ae639023bdb75ced6a82a3a4aacf9d0f9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/679558/12 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'roles/Controller.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'environments/services/neutron-mlnx-agent-multi-interface.yaml']",5,8784cb017abfde0d7f916cb94b4f897b7372a98d,IB-Multi-iface,"# A Heat environment that can be used to enable MLNX agent in neutron with multi interface support. resource_registry: OS::TripleO::Services::NeutronMlnxAgent: ../../deployment/neutron/neutron-mlnx-agent-container-puppet.yaml OS::TripleO::Services::NeutronCorePlugin: OS::TripleO::Services::NeutronCorePluginMLNXSDN OS::TripleO::Services::NeutronAgentsIBConfig: ../../deployment/neutron/neutron-agents-ib-config-container-puppet.yaml parameter_defaults: NeutronMechanismDrivers: ['mlnx_sdn_assist','mlnx_infiniband','openvswitch'] NeutronPhysicalDevMappings: ['datacentre:ib0'] NovaSchedulerDefaultFilters: ['RetryFilter','AvailabilityZoneFilter','ComputeFilter','ComputeCapabilitiesFilter','ImagePropertiesFilter','ServerGroupAntiAffinityFilter','ServerGroupAffinityFilter','PciPassthroughFilter'] NovaSchedulerAvailableFilters: [""nova.scheduler.filters.all_filters"",""nova.scheduler.filters.pci_passthrough_filter.PciPassthroughFilter""] MlnxSDNUsername: 'sdn_username' #MlnxSDNPassword: MlnxSDNUrl: 'sdn_url' MlnxSDNDomain: 'cloudx' MultiInterfaceEnabled: true BindNormalPortsPhysnet: 'datacentre' MultiInterfaceDriverMappings: ['datacentre:ipoib'] IPoIBPhysicalInterface: 'ib0' NeutronCorePlugin: 'neutron.plugins.ml2.plugin.Ml2Plugin' NovaPCIPassthrough: - devname: ""ib0"" physical_network: datacentre ComputeSriovParameters: # Kernel arguments for ComputeSriov node KernelArgs: ""intel_iommu=on iommu=pt"" TunedProfileName: ""throughput-performance"" ",,172,0
openstack%2Fdiskimage-builder~master~I81d94481422b4982777160f736dcf463e2fc45d0,openstack/diskimage-builder,master,I81d94481422b4982777160f736dcf463e2fc45d0,dib-python : handle centos 8,MERGED,2019-09-25 01:22:45.000000000,2019-10-04 03:24:55.000000000,2019-10-04 03:22:32.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 01:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/effa43db043f145dab472104edb43be24fe673cc', 'message': '[wip] dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 2, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/72e12229498abbdd12d4fe78c8bf45c4b09e04e2', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 3, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/63ef2eba5e1ea9a4f17e4417844ea28d913dd028', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 4, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0b42cb525629297542dd2d0caa4b039eb8dade59', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 5, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e12e3476e8cb721b07435ada243176f1661d74fc', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 6, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cdbccc8f5e3eead5c43b0ea054b237ac8a65a15b', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 7, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e0212772cac86495daac2690fbd80a1b6e4acb2', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 8, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0e47f6ee1a0bb122ee65113ad1d8fd5a882395f9', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}, {'number': 9, 'created': '2019-10-03 01:07:59.000000000', 'files': ['diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/dib-python/pre-install.d/01-dib-python'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0e230642c5401b6a533a4080f9dddb338109daae', 'message': 'dib-python : handle centos 8\n\nMatch on centos 8 and use the inbuilt system python like on RHEL\n\nChange-Id: I81d94481422b4982777160f736dcf463e2fc45d0\n'}]",2,684441,0e230642c5401b6a533a4080f9dddb338109daae,38,5,9,7118,,,0,"dib-python : handle centos 8

Match on centos 8 and use the inbuilt system python like on RHEL

Change-Id: I81d94481422b4982777160f736dcf463e2fc45d0
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/41/684441/7 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/dib-python/pre-install.d/01-dib-python']",2,effa43db043f145dab472104edb43be24fe673cc,centos8,if [[ ${DISTRO_NAME} =~ (centos|rhel) && ${DIB_RELEASE} == 8 ]]; then,"if [[ ${DISTRO_NAME} == ""rhel"" && ${DIB_RELEASE} == 8 ]]; then",2,4
openstack%2Fdiskimage-builder~master~I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a,openstack/diskimage-builder,master,I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a,yum-minimal : update mirrors for Centos 8,MERGED,2019-09-25 00:56:30.000000000,2019-10-04 03:23:58.000000000,2019-10-04 03:22:30.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 00:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/70551202ed6420f123374631674dc52e118601ce', 'message': '[wip] yum-minimal : handle more specific repos\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos).\n\nMake the chroot builder look for a more specific directory first\nnamed for the distro, then fall back to to top-level dir (this\navoids having to constantly change fedora).  Update the gate\nmirror setup to do this too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 2, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a3c50b4007bf630605118f40e281e6bb229b5282', 'message': 'yum-minimal : Handle more specific repos\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).  Update the gate\nmirror setup to do this too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 3, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/567ca055b2a113160d3fc0f6d947dae061eec68c', 'message': 'yum-minimal : Handle more specific repos\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).  Update the gate\nmirror setup to do this too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 4, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7717390c6500afc35c25f987a9134609bcaef913', 'message': 'yum-minimal : Handle more specific repos\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).\n\nUpdate the gate mirror setup and roles to do this too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 5, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3d0f1b639a6a4343656d4e3a8d5f6a2105bdf2ac', 'message': 'yum-minimal : Handle more specific repos\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).\n\nUpdate the gate mirror setup and roles to do this too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 6, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b1c157e9e551e4ee066e4899607690bcbbe61443', 'message': 'yum-minimal : update mirrors for Centos 8\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).\n\nUpdate the gate mirror setup and roles for new Centos 8 paths too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 7, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1e74dbb8cc4139a8d91fcf9e631a0ba8239ffbc3', 'message': 'yum-minimal : update mirrors for Centos 8\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).\n\nUpdate the gate mirror setup and roles for new Centos 8 paths too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 8, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/46c6faf24bdf5017f27de62d7009fa3db6e2adcd', 'message': 'yum-minimal : update mirrors for Centos 8\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).\n\nUpdate the gate mirror setup and roles for new Centos 8 paths too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}, {'number': 9, 'created': '2019-10-03 01:07:59.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'contrib/setup-gate-mirrors.sh', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8/base.repo', 'diskimage_builder/elements/openstack-ci-mirrors/environment.d/11-dib-distribution-mirror.bash', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/appstream.repo.j2', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/7/updates.repo.j2', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/extras.repo.j2', 'diskimage_builder/elements/centos-minimal/yum.repos.d/7/yum.repo', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8/appstream.repo', 'roles/dib-setup-gate-mirrors/tasks/main.yaml', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/base.repo.j2', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/7/base.repo.j2', 'diskimage_builder/elements/centos-minimal/README.rst', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/7/extras.repo.j2'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3bc89edd32ccb243ad01afbda085b3063ecffa52', 'message': 'yum-minimal : update mirrors for Centos 8\n\nThe repo format has slightly changed for CentOS 8 (s/os/baseos/).\n\nMake the chroot builder look for a more specific repos.d directory\nfirst named for the distro variable, then fall back to to top-level\ndir (this avoids having to constantly change fedora).\n\nUpdate the gate mirror setup and roles for new Centos 8 paths too.\n\nChange-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a\n'}]",7,684439,3bc89edd32ccb243ad01afbda085b3063ecffa52,40,5,9,7118,,,0,"yum-minimal : update mirrors for Centos 8

The repo format has slightly changed for CentOS 8 (s/os/baseos/).

Make the chroot builder look for a more specific repos.d directory
first named for the distro variable, then fall back to to top-level
dir (this avoids having to constantly change fedora).

Update the gate mirror setup and roles for new Centos 8 paths too.

Change-Id: I5b7f0c3624cac1d7aa7ed8bf6286b85d808b9c9a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/39/684439/8 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'contrib/setup-gate-mirrors.sh', 'diskimage_builder/elements/centos-minimal/yum.repos.d/7/yum.repo']",3,70551202ed6420f123374631674dc52e118601ce,centos8,,,31,3
openstack%2Fdiskimage-builder~master~Iba0585cab3e5e78e9324196f276b2341e7bb9e3c,openstack/diskimage-builder,master,Iba0585cab3e5e78e9324196f276b2341e7bb9e3c,"Remove ""failovermethod=priority"" for Fedora (dnf)",MERGED,2019-10-01 06:02:51.000000000,2019-10-04 02:18:13.000000000,2019-10-04 02:17:01.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-01 06:02:51.000000000', 'files': ['roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora.repo.j2', 'roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora-updates.repo.j2', 'contrib/setup-gate-mirrors.sh', 'diskimage_builder/elements/fedora-minimal/yum.repos.d/yum.repo'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/456b6cf394890ec7ec9b9900fccedc9f8026bc2b', 'message': 'Remove ""failovermethod=priority"" for Fedora (dnf)\n\nThis is no longer a valid option for dnf, and it puts out a lot of\nwarnings constantly about the invalid entry [1].  Remove it.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1653831\n\nChange-Id: Iba0585cab3e5e78e9324196f276b2341e7bb9e3c\n'}]",0,685876,456b6cf394890ec7ec9b9900fccedc9f8026bc2b,10,5,1,7118,,,0,"Remove ""failovermethod=priority"" for Fedora (dnf)

This is no longer a valid option for dnf, and it puts out a lot of
warnings constantly about the invalid entry [1].  Remove it.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1653831

Change-Id: Iba0585cab3e5e78e9324196f276b2341e7bb9e3c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/76/685876/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora-updates.repo.j2', 'roles/dib-setup-gate-mirrors/templates/fedora-minimal/default/fedora.repo.j2', 'contrib/setup-gate-mirrors.sh', 'diskimage_builder/elements/fedora-minimal/yum.repos.d/yum.repo']",4,456b6cf394890ec7ec9b9900fccedc9f8026bc2b,centos8,,failovermethod=priorityfailovermethod=priority,0,6
openstack%2Fcinder~stable%2Fqueens~Iac785eef9be4b9cdb5c739ee0a87949805282867,openstack/cinder,stable/queens,Iac785eef9be4b9cdb5c739ee0a87949805282867,Fix DetachedInstanceError for VolumeAttachment,MERGED,2019-10-01 14:26:05.000000000,2019-10-04 01:08:36.000000000,2019-10-04 01:06:58.000000000,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19740}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29466}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-01 14:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/213006f8ebc6989d5b0280dcb960573bb9aa7b4c', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n(cherry picked from commit 2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7)\n(cherry picked from commit 44a15be6a71ebdaf0e5d1663fc31011ff43ef37b)\n'}, {'number': 2, 'created': '2019-10-02 08:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84ea1c424a650a4dc68d6544061eb09fd7f4d34c', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n(cherry picked from commit 2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7)\n(cherry picked from commit 44a15be6a71ebdaf0e5d1663fc31011ff43ef37b)\n'}, {'number': 3, 'created': '2019-10-03 14:38:23.000000000', 'files': ['cinder/tests/unit/objects/test_volume.py', 'releasenotes/notes/detachedinstanceerror-64be35894c624eae.yaml', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2abd8a68bb1bde9adc7c870a1b827731ad4e42e9', 'message': 'Fix DetachedInstanceError for VolumeAttachment\n\nPatch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the\nDetachedInstanceError for VolumeAttachment OVOs but only partially, as\napparently it was dependent on the SQLAlchemy version due to the use os\n""hasattr"".\n\nThis patch replaces ""hasattr"" with a check on the object\'s dictionary,\nwhich will never trigger a Lazy Load.\n\nCloses-Bug: #1834845\nChange-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867\n(cherry picked from commit 2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7)\n(cherry picked from commit 44a15be6a71ebdaf0e5d1663fc31011ff43ef37b)\nConflicts:\n    cinder/tests/unit/volume/drivers/test_lvm_driver.py\n(cherry picked from commit eabf648b7acce33cb93d667e8f6e70505093b4c9)\n'}]",0,685978,2abd8a68bb1bde9adc7c870a1b827731ad4e42e9,73,26,3,10379,,,0,"Fix DetachedInstanceError for VolumeAttachment

Patch I253123d5451b32f0e3143916e41aaa1af75561c2 fixed the
DetachedInstanceError for VolumeAttachment OVOs but only partially, as
apparently it was dependent on the SQLAlchemy version due to the use os
""hasattr"".

This patch replaces ""hasattr"" with a check on the object's dictionary,
which will never trigger a Lazy Load.

Closes-Bug: #1834845
Change-Id: Iac785eef9be4b9cdb5c739ee0a87949805282867
(cherry picked from commit 2e73bede80cc2acdb3527f06bc5c5f9c1a8463a7)
(cherry picked from commit 44a15be6a71ebdaf0e5d1663fc31011ff43ef37b)
Conflicts:
    cinder/tests/unit/volume/drivers/test_lvm_driver.py
(cherry picked from commit eabf648b7acce33cb93d667e8f6e70505093b4c9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/685978/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_volume.py', 'releasenotes/notes/detachedinstanceerror-64be35894c624eae.yaml', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_volume_attachment.py']",4,213006f8ebc6989d5b0280dcb960573bb9aa7b4c,bug/1834845,"from sqlalchemy.orm import attributes def test_from_db_object_no_volume(self): original_get = attributes.InstrumentedAttribute.__get__ def my_get(get_self, instance, owner): self.assertNotEqual('volume', get_self.key) return original_get(get_self, instance, owner) # Volume field is not loaded attach = fake_volume.models.VolumeAttachment(id=fake.ATTACHMENT_ID, volume_id=fake.VOLUME_ID) patch_str = 'sqlalchemy.orm.attributes.InstrumentedAttribute.__get__' with mock.patch(patch_str, side_effect=my_get): objects.VolumeAttachment._from_db_object( self.context, objects.VolumeAttachment(), attach) attachment = fake_volume.volume_attachment_ovo(self.context) attachment = fake_volume.volume_attachment_ovo(self.context)", attachment = fake_volume.fake_volume_attachment_obj(self.context) attachment = fake_volume.fake_volume_attachment_obj(self.context),34,9
openstack%2Fcinder~stable%2Frocky~I1c22bc86d96bb1cab80c004d3450b1dac6c4a769,openstack/cinder,stable/rocky,I1c22bc86d96bb1cab80c004d3450b1dac6c4a769,Don't allow retype to encrypted+multiattach type,MERGED,2019-09-13 13:36:39.000000000,2019-10-04 01:06:56.000000000,2019-10-04 01:06:56.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-09-13 13:36:39.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4adaa86f904f7071e0f8b79ee2e204d3d1a26fd1', 'message': ""Don't allow retype to encrypted+multiattach type\n\nThis maintains consistency with our policy of not allowing the\ncombination of encryption and multiattach in commit\n18327971ca7231807294a6b1dbf3d80c23cb6796\n\nChange-Id: I1c22bc86d96bb1cab80c004d3450b1dac6c4a769\n(cherry picked from commit 293be4f81b6b219e2651bc2f5b8b8c63b8883165)\n(cherry picked from commit f6224a84a1f8051d2052af80211715ded59d79a1)\n""}]",0,682051,4adaa86f904f7071e0f8b79ee2e204d3d1a26fd1,23,20,1,4523,,,0,"Don't allow retype to encrypted+multiattach type

This maintains consistency with our policy of not allowing the
combination of encryption and multiattach in commit
18327971ca7231807294a6b1dbf3d80c23cb6796

Change-Id: I1c22bc86d96bb1cab80c004d3450b1dac6c4a769
(cherry picked from commit 293be4f81b6b219e2651bc2f5b8b8c63b8883165)
(cherry picked from commit f6224a84a1f8051d2052af80211715ded59d79a1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/682051/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,4adaa86f904f7071e0f8b79ee2e204d3d1a26fd1,," def _is_encrypted(self, volume_type): specs = volume_type.get('extra_specs', {}) if 'encryption' not in specs: return False return specs.get('encryption', {}) is not {} if tgt_is_multiattach and self._is_encrypted(new_type): msg = ('Retype requested both encryption and multi-attach, ' 'which is not supported.') raise exception.InvalidInput(reason=msg) ",,11,0
openstack%2Fnetworking-ovn~master~I87a36fddc80b91344b384e49f0b13fe7e704b4da,openstack/networking-ovn,master,I87a36fddc80b91344b384e49f0b13fe7e704b4da,DevStack: Advanced images config sample,MERGED,2019-09-25 16:06:58.000000000,2019-10-04 00:28:28.000000000,2019-10-04 00:27:06.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-25 16:06:58.000000000', 'files': ['devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8f5467e8a179254ef89fbfff6de7e7e9cf875a0e', 'message': 'DevStack: Advanced images config sample\n\nThis patch is adding the configuration needed to enable the advanced\nimages tests for tempest in the DevStack sample config file.\n\nTrivialFix\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nChange-Id: I87a36fddc80b91344b384e49f0b13fe7e704b4da\n'}]",0,684801,8f5467e8a179254ef89fbfff6de7e7e9cf875a0e,17,5,1,6773,,,0,"DevStack: Advanced images config sample

This patch is adding the configuration needed to enable the advanced
images tests for tempest in the DevStack sample config file.

TrivialFix
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>

Change-Id: I87a36fddc80b91344b384e49f0b13fe7e704b4da
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/01/684801/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.sample'],1,8f5467e8a179254ef89fbfff6de7e7e9cf875a0e,adv-images-devstack,"# To enable the advanced images tempest tests, uncomment the lines below: #DOWNLOAD_DEFAULT_IMAGES=False #IMAGE_URLS=""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" #DEFAULT_IMAGE_NAME=cirros-0.4.0-x86_64-disk #DEFAULT_IMAGE_FILE_NAME=cirros-0.4.0-x86_64-disk.img #ADVANCED_IMAGE_NAME=ubuntu-16.04-server-cloudimg-amd64-disk1 #ADVANCED_INSTANCE_TYPE=ds512M #ADVANCED_INSTANCE_USER=ubuntu #BUILD_TIMEOUT=784 ",,10,0
openstack%2Fneutron~master~Ia86c3177f1c0a1909a35e55e63b60aec5167124d,openstack/neutron,master,Ia86c3177f1c0a1909a35e55e63b60aec5167124d,Fix designate driver not being fully region aware,MERGED,2019-09-25 23:34:49.000000000,2019-10-03 23:53:20.000000000,2019-10-03 23:51:35.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26622}, {'_account_id': 29157}]","[{'number': 1, 'created': '2019-09-25 23:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b23e30570753d899646a0279559c8ecdd37fd20e', 'message': '[DNM] Use wsgi endpoint for designate\n\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n'}, {'number': 2, 'created': '2019-09-26 01:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88aff5bce6b34749b27d6ebbe45a8f196e5c09f8', 'message': '[DNM] Use wsgi endpoint for designate\n\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n'}, {'number': 3, 'created': '2019-09-26 06:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c04e32b287857dedb0e1418639be9a577fb66c27', 'message': '[DNM] Use wsgi endpoint for designate\n\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n'}, {'number': 4, 'created': '2019-09-27 03:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55e012953377a05a2a0254185566bfaddeeb9334', 'message': 'Add endpoint override for Designate\n\nSince we are providing the designate url\nas part of the configuration we should\nalso pass it to the designate client as\nan endpoint override.\n\nThis fixes an issue where the designate\nintegration breaks when using a custom\npath.\n\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n'}, {'number': 5, 'created': '2019-09-28 03:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2ebf2877682bad3617bad97a1254d78d38a1a65', 'message': ""Add endpoint override for Designate\n\nSince we are providing the designate url\nas part of the configuration we should\nalso pass it to the designate client as\nan endpoint override.\n\nThis fixes an issue where the designate\nintegration breaks when using a custom\npath.\n\nWe also add an alternative uri for devstack\nwhen a designate-api port isn't set.\n\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n""}, {'number': 6, 'created': '2019-09-29 22:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47b3119ffc70ee9428ce54cc3dc3393121228ce7', 'message': ""Fix designate not being fully region aware\n\nThe admin part of the designate implementation, never\npasses the region or url to client. This means that it\nmay fail in multi-region situations.\n\nWe fix this here by always passing the endpoint\noverride to the client every-time it's instantiated.\n\nWe also add an alternative uri for devstack\nwhen a designate-api port isn't set.\n\nCloses-Bug: #1845891\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n""}, {'number': 7, 'created': '2019-09-29 22:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0d2fc2442f651d20a8ea4582f6e24c488e38ccb', 'message': ""Fix designate not being fully region aware\n\nThe admin part of the designate implementation, never\npasses the region or url to client. This means that it\nmay fail in multi-region situations.\n\nWe fix this here by always passing the endpoint\noverride to the client every-time it's instantiated.\n\nWe also add an alternative uri for devstack\nwhen a designate-api port isn't set.\n\nCloses-Bug: #1845891\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n""}, {'number': 8, 'created': '2019-09-30 01:18:05.000000000', 'files': ['devstack/lib/dns', 'neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/654c1f06d583965c4b5a2ae721a7b1f3786dc76a', 'message': ""Fix designate driver not being fully region aware\n\nThe admin part of the designate implementation, never\npasses the region or url to client. This means that it\nmay fail in multi-region situations.\n\nWe fix this by always passing the endpoint\noverride to the client every-time it's instantiated.\n\nWe also add an alternative uri for devstack\nwhen a designate-api port isn't set.\n\nCloses-Bug: #1845891\nChange-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d\n""}]",0,684854,654c1f06d583965c4b5a2ae721a7b1f3786dc76a,60,9,8,22623,,,0,"Fix designate driver not being fully region aware

The admin part of the designate implementation, never
passes the region or url to client. This means that it
may fail in multi-region situations.

We fix this by always passing the endpoint
override to the client every-time it's instantiated.

We also add an alternative uri for devstack
when a designate-api port isn't set.

Closes-Bug: #1845891
Change-Id: Ia86c3177f1c0a1909a35e55e63b60aec5167124d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/684854/8 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/dns'],1,b23e30570753d899646a0279559c8ecdd37fd20e,bug/1845891," iniset $NEUTRON_CONF designate url ""$DESIGNATE_SERVICE_PROTOCOL://$DESIGNATE_SERVICE_HOST/dns/v2"""," iniset $NEUTRON_CONF designate url ""$DESIGNATE_SERVICE_PROTOCOL://$DESIGNATE_SERVICE_HOST:$DESIGNATE_SERVICE_PORT/v2""",1,1
openstack%2Fswift~master~Ia93e0b690f47c6231423a25dfd6a108a60378a21,openstack/swift,master,Ia93e0b690f47c6231423a25dfd6a108a60378a21,Update master for stable/train,MERGED,2019-10-03 16:35:41.000000000,2019-10-03 23:53:01.000000000,2019-10-03 23:51:37.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 16:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79e3525febd82bc3deff91971b295a89251e6c56', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ia93e0b690f47c6231423a25dfd6a108a60378a21\nSem-Ver: feature\n'}, {'number': 2, 'created': '2019-10-03 18:18:59.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/527a57ffcdefc03a5080b07d63f0ded319e08dfe', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ia93e0b690f47c6231423a25dfd6a108a60378a21\nSem-Ver: feature\n'}]",0,686440,527a57ffcdefc03a5080b07d63f0ded319e08dfe,9,2,2,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ia93e0b690f47c6231423a25dfd6a108a60378a21
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/686440/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/train.rst'],1,79e3525febd82bc3deff91971b295a89251e6c56,reno-train,========================== Train Series Release Notes ========================== .. release-notes:: :branch: stable/train ,,6,0
openstack%2Fdevstack-plugin-kafka~stable%2Fstein~I4e29f8c7251a546293d74816f99cc935e344c13f,openstack/devstack-plugin-kafka,stable/stein,I4e29f8c7251a546293d74816f99cc935e344c13f,Update .gitreview for stable/stein,MERGED,2019-04-04 19:56:29.000000000,2019-10-03 23:50:09.000000000,2019-10-03 23:50:09.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-04 19:56:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-kafka/commit/800071482218044e71f8ed5b4026424e250d0f7b', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I4e29f8c7251a546293d74816f99cc935e344c13f\n'}]",0,650125,800071482218044e71f8ed5b4026424e250d0f7b,12,3,1,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I4e29f8c7251a546293d74816f99cc935e344c13f
",git fetch https://review.opendev.org/openstack/devstack-plugin-kafka refs/changes/25/650125/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,800071482218044e71f8ed5b4026424e250d0f7b,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Ftripleo-ansible~master~Id30147e4547b39d7ed8c283558a3b71c87a1d54e,openstack/tripleo-ansible,master,Id30147e4547b39d7ed8c283558a3b71c87a1d54e,Remove modules that have been up-streamed,MERGED,2019-09-25 14:22:58.000000000,2019-10-03 23:30:41.000000000,2019-10-03 23:30:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 14:22:58.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_image_facts.py', 'tripleo_ansible/ansible_plugins/modules/podman_image.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f351cc9fcb2d9a28cc2beab9278459fd4a9878d4', 'message': 'Remove modules that have been up-streamed\n\nThese modules have been committed to ansible proper, we no longer\nneed to carry them.\n\nChange-Id: Id30147e4547b39d7ed8c283558a3b71c87a1d54e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,684758,f351cc9fcb2d9a28cc2beab9278459fd4a9878d4,19,5,1,7353,,,0,"Remove modules that have been up-streamed

These modules have been committed to ansible proper, we no longer
need to carry them.

Change-Id: Id30147e4547b39d7ed8c283558a3b71c87a1d54e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/684758/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_image_facts.py', 'tripleo_ansible/ansible_plugins/modules/podman_image.py']",2,f351cc9fcb2d9a28cc2beab9278459fd4a9878d4,,,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2018 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import from __future__ import division from __future__ import print_function import json import re from ansible.module_utils.basic import AnsibleModule ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: Podman Image author: - Sam Doran (@samdoran) version_added: '2.8' short_description: Pull images for use by podman notes: [] description: - Build, pull, or push images using Podman. options: name: description: - Name of the image to pull, push, or delete. It may contain a tag using the format C(image:tag). required: True tag: description: - Tag of the image to pull, push, or delete. default: ""latest"" pull: description: Whether or not to pull the image. default: True push: description: Whether or not to push an image. default: False path: description: Path to directory containing the build file. force: description: - Whether or not to force push or pull an image. When building, force the build even if the image already exists. state: description: - Whether an image should be present, absent, or built. default: ""present"" choices: - present - absent - build tls_verify: description: - Require HTTPS and validate certificates when pulling or pushing. Also used during build if a pull or push is necessary. default: True aliases: - tlsverify auth_file: description: - Path to file containing authorization credentials to the remote registry aliases: - authfile build_args: description: Arguments that control image build. suboptions: annotation: description: - Dictionory of key=value pairs to add to the image. Only works with OCI images. Ignored for Docker containers. type: ""str"" force_rm: description: - Always remove intermediate containers after a build, even if the build is unsuccessful. type: bool default: False format: descritption: - Format of the built image. choices: - docker - ock deafault: ""oci"" cache: description: - Whether or not to use cached layers when building an image type: bool default: True rm: description: Remove intermediate containers after a successful build type: bool default: True push_args: description: Arguments that control pushing images. suboptions: compress: description: - Compress tarball image layers when pushing to a directory using the 'dir' transport. type: bool format: description: - Manifest type to use when pushing an image using the 'dir' transport (default is manifest type of source) choices: - oci - v2s1 - v2s2 remove_signatures: description: Discard any pre-existing signatures in the image type: bool sign_by: description: - Path to a key file to use to sign the image. dest: description: Path or URL where image will be pushed. transport: description: - Transport to use when pushing in image. If no transport is set, will attempt to push to a remote registry. choices: - dir - docker-archive - docker-daemon - oci-archive - ostree """""" EXAMPLES = """""" - name: Pull an image podman_image: name: quay.io/bitnami/wildfly - name: Remove an image podman_image: name: quay.io/bitnami/wildfly state: absent - name: Pull a specific version of an image podman_image: name: redis tag: 4 - name: Build a basic OCI image podman_image: name: nginx path: /path/to/build/dir - name: Build a basic OCI image with advanced parameters podman_image: name: nginx path: /path/to/build/dir build_args: cache: no force_rm: yes format: oci annotation: app: nginx function: proxy info: Load balancer for my cool app - name: Build a Docker image podman_image: name: nginx path: /path/to/build/dir build_args: format: docker - name: Build and push an image using existing credentials podman_image: name: nginx path: /path/to/build/dir push: yes push_args: dest: quay.io/acme - name: Build and push an image using an auth file podman_image: name: nginx push: yes auth_file: /etc/containers/auth.json push_args: dest: quay.io/acme - name: Build and push an image using username and password podman_image: name: nginx push: yes username: bugs password: ""{{ vault_registry_password }}"" push_args: dest: quay.io/acme - name: Build and push an image to mulitple registries podman_image: name: ""{{ item }}"" path: /path/to/build/dir push: yes auth_file: /etc/containers/auth.json loop: - quay.io/acme/nginx - docker.io/acme/nginx - name: Build and push an image to mulitple registries with separate parameters podman_image: name: ""{{ item.name }}"" tag: ""{{ item.tag }}"" path: /path/to/build/dir push: yes auth_file: /etc/containers/auth.json push_args: dest: ""{{ item.dest }}"" loop: - name: nginx tag: 4 dest: docker.io/acme - name: nginx tag: 3 dest: docker.io/acme """""" RETURN = """""" image: description: - Image inspection results for the image that was pulled, pushed, or built. returned: success type: dict sample: { ""actions"": [ ""Built image myimage:latest from /root/build"", ""Pushed image myimage:latest to docker.io/acme"" ], ""changed"": true, ""image"": [ { ""Annotations"": { ""app"": ""nginx"", ""function"": ""proxy"", ""info"": ""Load balancer for my cool app"" }, ""Architecture"": ""amd64"", ""Author"": """", ""Comment"": """", ""ContainerConfig"": { ""Cmd"": [ ""/bin/bash"" ], ""Env"": [ ""PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/s\ bin:/bin"" ], ""Labels"": { ""org.label-schema.build-date"": ""20181006"", ""org.label-schema.license"": ""GPLv2"", ""org.label-schema.name"": ""CentOS Base Image"", ""org.label-schema.schema-version"": ""1.0"", ""org.label-schema.vendor"": ""CentOS"" } }, ""Created"": ""2018-10-26T16:33:44.983831874Z"", ""Digest"": ""sha256:f1a93c1ca2fd628f5aec74e67aab7b1876831f3e472c0180\ 1ef29d02d8285ee7"", ""GraphDriver"": { ""Data"": { ""LowerDir"": ""/var/lib/containers/storage/overlay/632dbad27\ 7b565b77bdc9164d722ee7a10b692a7ca972b58d9d02e730f576517/diff:/var/lib/containe\ rs/storage/overlay/b21a503efb4ab61e34db1a5d4131de092449809ff010792fe523ea49831\ 55c20/diff:/var/lib/containers/storage/overlay/f972d139738dfcd1519fd2461815651\ 36ee25a8b54c358834c50af094bb262f/diff"", ""MergedDir"": ""/var/lib/containers/storage/overlay/f41d3afa\ 8b49b64e48fc37944f12a27d35271d666bcbde6dc9c2cca1bb88cdba/merged"", ""UpperDir"": ""/var/lib/containers/storage/overlay/f41d3afa8\ b49b64e48fc37944f12a27d35271d666bcbde6dc9c2cca1bb88cdba/diff"", ""WorkDir"": ""/var/lib/containers/storage/overlay/f41d3afa8b\ 49b64e48fc37944f12a27d35271d666bcbde6dc9c2cca1bb88cdba/work"" }, ""Name"": ""overlay"" }, ""Id"": ""ba719f232d43f2f31c9c804859dd14ca2fbc0df80fa2bf3c43ca2728dcf\ 5e29e"", ""Labels"": { ""org.label-schema.build-date"": ""20181006"", ""org.label-schema.license"": ""GPLv2"", ""org.label-schema.name"": ""CentOS Base Image"", ""org.label-schema.schema-version"": ""1.0"", ""org.label-schema.vendor"": ""CentOS"" }, ""ManifestType"": ""application/vnd.oci.image.manifest.v1+json"", ""Os"": ""linux"", ""Parent"": """", ""RepoDigests"": [ ""localhost/myimage@sha256:f1a93c1ca2fd628f5aec74e67aab7b187683\ 1f3e472c01801ef29d02d8285ee7"" ], ""RepoTags"": [ ""localhost/myimage:latest"" ], ""RootFS"": { ""Layers"": [ ""sha256:f972d139738dfcd1519fd2461815651336ee25a8b54c358834\ c50af094bb262f"", ""sha256:ffcdc41a923a341055073f18c9acc5ad5dd1214ac2a1763272\ d37a5f0dbab7ea"", ""sha256:703ad93ff2aa20b9c28203935a337a5ee4969d46b9de212ac6\ f17bacfbe21379"", ""sha256:2054721e6c61d4f4ef13726126737038cc72cd7ae6c83da0ea\ 1cd73fb8595140"" ], ""Type"": ""layers"" }, ""Size"": 208823219, ""User"": """", ""Version"": """", ""VirtualSize"": 208823219 } ] } """""" class PodmanImageManager(object): def __init__(self, module, results): super(PodmanImageManager, self).__init__() self.module = module self.results = results self.name = self.module.params.get('name') self.executable = \ self.module.get_bin_path(module.params.get('executable'), required=True) self.tag = self.module.params.get('tag') self.pull = self.module.params.get('pull') self.push = self.module.params.get('push') self.path = self.module.params.get('path') self.force = self.module.params.get('force') self.state = self.module.params.get('state') self.tls_verify = self.module.params.get('tls_verify') self.auth_file = self.module.params.get('auth_file') self.username = self.module.params.get('username') self.password = self.module.params.get('password') self.cert_dir = self.module.params.get('cert_dir') self.build_args = self.module.params.get('build_args') self.push_args = self.module.params.get('push_args') repo, repo_tag = parse_repository_tag(self.name) if repo_tag: self.name = repo self.tag = repo_tag self.image_name = '{name}:{tag}'.format(name=self.name, tag=self.tag) if self.state in ['present', 'build']: self.present() if self.state in ['absent']: self.absent() def _run(self, args, expected_rc=0, ignore_errors=False): if not isinstance(self.executable, list): command = [self.executable] command.extend(args) rc, out, err = self.module.run_command(command) if not ignore_errors and rc != expected_rc: self.module.fail_json(msg='Failed to run {command} {err}'.format( command=command, err=err)) return rc, out, err def _get_id_from_output(self, lines, startswith=None, contains=None, split_on=' ', maxsplit=1): layer_ids = [] for line in lines.splitlines(): _condition1 = (startswith and line.startswith(startswith)) _condition2 = (contains and contains in line) if _condition1 or _condition2: splitline = line.rsplit(split_on, maxsplit) layer_ids.append(splitline[1]) return(layer_ids[-1]) def present(self): image = self.find_image() if not image or self.force: if self.path: # Build the image self.results['actions'].append( 'Built image {image_name} from {path}'.format( image_name=self.image_name, path=self.path)) self.results['changed'] = True if not self.module.check_mode: self.results['image'] = self.build_image() else: # Pull the image self.results['actions'].append( 'Pulled image {image_name}'.format( image_name=self.image_name)) self.results['changed'] = True if not self.module.check_mode: self.results['image'] = self.pull_image() if self.push: # Push the image if '/' in self.image_name: push_format_string = 'Pushed image {image_name}' else: push_format_string = 'Pushed image {image_name} to {dest}' self.results['actions'].append( push_format_string.format( image_name=self.image_name, dest=self.push_args['dest'])) self.results['changed'] = True if not self.module.check_mode: self.results['image'] = self.push_image() def absent(self): image = self.find_image() if image: self.results['actions'].append( 'Removed image {name}'.format(name=self.name)) self.results['changed'] = True self.results['image']['state'] = 'Deleted' if not self.module.check_mode: self.remove_image() def find_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['image', 'ls', image_name, '--format', 'json'] rc, images, err = self._run(args, ignore_errors=True) if len(images) > 0: return json.loads(images) else: return None def inspect_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['inspect', image_name, '--format', 'json'] rc, image_data, err = self._run(args) if len(image_data) > 0: return json.loads(image_data) else: return None def pull_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['pull', image_name, '-q'] if self.auth_file: args.extend(['--authfile', self.auth_file]) if self.tls_verify: args.append('--tls-verify') if self.cert_dir: args.extend(['--cert-dir', self.cert_dir]) rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg='Failed to pull image {image_name}'.format( image_name=image_name)) return self.inspect_image(out.strip()) def build_image(self): args = ['build', '-q'] args.extend(['-t', self.image_name]) if self.tls_verify: args.append('--tls-verify') annotation = self.build_args.get('annotation') if annotation: for k, v in annotation.items(): args.extend(['--annotation', '{k}={v}'.format(k=k, v=v)]) if self.cert_dir: args.extend(['--cert-dir', self.cert_dir]) if self.build_args.get('force_rm'): args.append('--force-rm') image_format = self.build_args.get('format') if image_format: args.extend(['--format', image_format]) if not self.build_args.get('cache'): args.append('--no-cache') if self.build_args.get('rm'): args.append('--rm') volume = self.build_args.get('volume') if volume: for v in volume: args.extend(['--volume', v]) if self.auth_file: args.extend(['--authfile', self.auth_file]) if self.username and self.password: cred_string = '{user}:{password}'.format(user=self.username, password=self.password) args.extend(['--creds', cred_string]) args.append(self.path) rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg=""Failed to build image {image}: {out} {err}"".format( image=self.image_name, out=out, err=err)) last_id = self._get_id_from_output(out, startswith='-->') return self.inspect_image(last_id) def push_image(self): args = ['push'] if self.tls_verify: args.append('--tls-verify') if self.cert_dir: args.extend(['--cert-dir', self.cert_dir]) if self.username and self.password: cred_string = '{user}:{password}'.format(user=self.username, password=self.password) args.extend(['--creds', cred_string]) if self.auth_file: args.extend(['--authfile', self.auth_file]) if self.push_args.get('compress'): args.append('--compress') push_format = self.push_args.get('format') if push_format: args.extend(['--format', push_format]) if self.push_args.get('remove_signatures'): args.append('--remove_signatures') sign_by_key = self.push_args.get('sign_by') if sign_by_key: args.extend(['--sign-by', sign_by_key]) args.append(self.image_name) # Build the destination argument dest = self.push_args.get('dest') dest_format_string = '{dest}/{image_name}' regexp = re.compile(r'/{name}(:{tag})?'.format( name=self.name, tag=self.tag)) if not dest: if '/' not in self.name: self.module.fail_json( msg=""'push_args['dest']' is required when pushing images "" ""that do not have the remote registry in the "" ""image name"") # If the push destinaton contains the image name and/or the tag # remove it and warn since it's not needed. elif regexp.search(dest): dest = regexp.sub('', dest) self.module.warn( ""Image name and tag are automatically added to "" ""push_args['dest']. Destination changed to {dest}"".format( dest=dest)) if dest and dest.endswith('/'): dest = dest[:-1] transport = self.push_args.get('transport') if transport: if not dest: self.module.fail_json( ""'push_args['transport'] requires 'push_args['dest'] but "" ""it was not provided."") if transport == 'docker': dest_format_string = '{transport}://{dest}' elif transport == 'ostree': dest_format_string = '{transport}:{name}@{dest}' else: dest_format_string = '{transport}:{dest}' dest_string = dest_format_string.format(transport=transport, name=self.name, dest=dest, image_name=self.image_name,) # Only append the destination argument if the image name is not a URL if '/' not in self.name: args.append(dest_string) rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg=""Failed to push image {image_name}: {err}"".format( image_name=self.image_name, err=err, ) ) last_id = self._get_id_from_output( out + err, contains=':', split_on=':') return self.inspect_image(last_id) def remove_image(self, image_name=None): if image_name is None: image_name = self.image_name args = ['rmi', image_name] if self.force: args.append('--force') rc, out, err = self._run(args, ignore_errors=True) if rc != 0: self.module.fail_json( msg='Failed to remove image {image_name}. {err}'.format( image_name=image_name, err=err)) return out def parse_repository_tag(repo_name): parts = repo_name.rsplit('@', 1) if len(parts) == 2: return tuple(parts) parts = repo_name.rsplit(':', 1) if len(parts) == 2 and '/' not in parts[1]: return tuple(parts) return repo_name, None def main(): module = AnsibleModule( argument_spec=dict( name=dict(type='str', required=True), tag=dict(type='str', default='latest'), pull=dict(type='bool', default=True), push=dict(type='bool', default=False), path=dict(type='str'), force=dict(type='bool', default=False), state=dict( type='str', default='present', choices=['absent', 'present', 'build'] ), tls_verify=dict(type='bool', default=True, aliases=['tlsverify']), executable=dict(type='str', default='podman'), auth_file=dict(type='path', aliases=['authfile']), username=dict(type='str'), password=dict(type='str', no_log=True), cert_dir=dict(type='path'), build_args=dict( type='dict', aliases=['buildargs'], default={}, options=dict( annotation=dict(type='dict'), force_rm=dict(type='bool'), format=dict( type='str', choices=['oci', 'docker'], default='oci' ), cache=dict(type='bool', default=True), rm=dict(type='bool', default=True), volume=dict(type='list'), ), ), push_args=dict( type='dict', default={}, options=dict( compress=dict(type='bool'), format=dict(type='str', choices=['oci', 'v2s1', 'v2s2']), remove_signatures=dict(type='bool'), sign_by=dict(type='str'), dest=dict(type='str', aliases=['destination'],), transport=dict( type='str', choices=[ 'dir', 'docker-archive', 'docker-daemon', 'oci-archive', 'ostree', ] ), ), ), ), supports_check_mode=True, required_together=( ['username', 'password'], ), mutually_exclusive=( ['authfile', 'username'], ['authfile', 'password'], ), ) results = dict( changed=False, actions=[], image={}, ) PodmanImageManager(module, results) module.exit_json(**results) if __name__ == '__main__': main() ",0,995
openstack%2Fnetworking-bgpvpn~master~Id97ac873c5593d273f1eb66000b21899a5caa33d,openstack/networking-bgpvpn,master,Id97ac873c5593d273f1eb66000b21899a5caa33d,PDF documentation build,MERGED,2019-09-06 05:31:15.000000000,2019-10-03 22:53:14.000000000,2019-10-03 22:51:48.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 05:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/fde8eb847f9db6b400afc6985797d0e9c1b6d108', 'message': 'PDF documentation build\n\nThe content of the top page is adjusted to fit both HTML and PDF docs.\n\nStory: 2006099\nTask: 35122\n\nChange-Id: Id97ac873c5593d273f1eb66000b21899a5caa33d\n'}, {'number': 2, 'created': '2019-09-06 08:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9cf6ac1f0ebc7c32202f35873285c9578cc94b61', 'message': 'PDF documentation build\n\nThe content of the top page is adjusted to fit both HTML and PDF docs.\n\nStory: 2006099\nTask: 35122\n\nChange-Id: Id97ac873c5593d273f1eb66000b21899a5caa33d\n'}, {'number': 3, 'created': '2019-10-01 09:54:33.000000000', 'files': ['doc/source/index.rst', 'doc/source/introduction.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/70e6a575643424adbb36861d4b528c9c7ec6bdf0', 'message': 'PDF documentation build\n\nThe content of the top page is adjusted to fit both HTML and PDF docs.\n\nStory: 2006099\nTask: 35122\n\nChange-Id: Id97ac873c5593d273f1eb66000b21899a5caa33d\n'}]",1,680575,70e6a575643424adbb36861d4b528c9c7ec6bdf0,18,5,3,841,,,0,"PDF documentation build

The content of the top page is adjusted to fit both HTML and PDF docs.

Story: 2006099
Task: 35122

Change-Id: Id97ac873c5593d273f1eb66000b21899a5caa33d
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/75/680575/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/introduction.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",5,fde8eb847f9db6b400afc6985797d0e9c1b6d108,build-pdf-docs,commands = sphinx-build -W -b html doc/source doc/build/html [testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf,commands = python setup.py build_sphinx,37,33
openstack%2Ftripleo-heat-templates~master~I173b043f32ebfc36de44b78b47609ee3e857408a,openstack/tripleo-heat-templates,master,I173b043f32ebfc36de44b78b47609ee3e857408a,Add prometheus port parameter,MERGED,2019-09-27 19:11:28.000000000,2019-10-03 22:48:34.000000000,2019-10-03 22:48:34.000000000,"[{'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-09-27 19:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f40965d4bfe0ab911f3fca03199f1f8659891c67', 'message': 'Add prometheus and alertmanager port params\n\nceph-ansible provides parameters to properly set the\nports for both alertmanager and prometheus container, so\nthis change adds the required parameters to avoid breaking\ntripleo if ceph-ansible change the default ports.\n\nChange-Id: I173b043f32ebfc36de44b78b47609ee3e857408a\n'}, {'number': 2, 'created': '2019-10-02 20:40:07.000000000', 'files': ['deployment/ceph-ansible/ceph-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d3cdccfbbf6cb1993ec3b75f21ca281754b1ad8', 'message': 'Add prometheus port parameter\n\nceph-ansible provides parameters to properly set the\nport for prometheus container, so this change adds the\nrequired parameters to avoid breaking tripleo if\nceph-ansible change the default ports.\n\nChange-Id: I173b043f32ebfc36de44b78b47609ee3e857408a\n'}]",6,685465,5d3cdccfbbf6cb1993ec3b75f21ca281754b1ad8,24,7,2,25402,,,0,"Add prometheus port parameter

ceph-ansible provides parameters to properly set the
port for prometheus container, so this change adds the
required parameters to avoid breaking tripleo if
ceph-ansible change the default ports.

Change-Id: I173b043f32ebfc36de44b78b47609ee3e857408a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/685465/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-grafana.yaml'],1,f40965d4bfe0ab911f3fca03199f1f8659891c67,, prometheus_port: 9090 alertmanager_port: 9093,,2,0
openstack%2Fpython-tripleoclient~stable%2Frocky~I1e65235017b0b223c53e1c8b48ad2ac573e4ccca,openstack/python-tripleoclient,stable/rocky,I1e65235017b0b223c53e1c8b48ad2ac573e4ccca,Rename 'undercloud-' to '<stack_name>-',MERGED,2019-09-16 22:43:53.000000000,2019-10-03 22:48:33.000000000,2019-10-03 22:48:33.000000000,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-16 22:43:53.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50c6644c07207b179e91ccc78614eefebfa4fcf7', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifacts and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nDepends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n(cherry picked from commit baeb0032efdcd2ea911cc597b1fb2ef29e4ce366)\n(cherry picked from commit 083193e0ee95ffe870e2f96bdd79c57026e8d808)\n""}]",0,682506,50c6644c07207b179e91ccc78614eefebfa4fcf7,25,6,1,3153,,,0,"Rename 'undercloud-' to '<stack_name>-'

Instead of hardcoding 'undercloud' for the artifacts and password files,
let's name them:

- Directory: <stack_name>-install
- Archive: <stack_name>-install-%s.tar.bzip2
- tripleo-<stack_name>-passwords.yaml

Depends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef
Change-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca
(cherry picked from commit baeb0032efdcd2ea911cc597b1fb2ef29e4ce366)
(cherry picked from commit 083193e0ee95ffe870e2f96bdd79c57026e8d808)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/06/682506/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,50c6644c07207b179e91ccc78614eefebfa4fcf7,rocky/name," def set_tht(templates, stack_name):", def set_tht(templates):,35,22
openstack%2Fpuppet-tripleo~stable%2Fstein~Ifa75eb9274705ea4b1c530b22659e4e106681250,openstack/puppet-tripleo,stable/stein,Ifa75eb9274705ea4b1c530b22659e4e106681250,Be able to set pcs resource op defaults,MERGED,2019-10-01 18:08:11.000000000,2019-10-03 22:48:32.000000000,2019-10-03 22:48:32.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-01 18:08:11.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bc2b763f3e91d9713a9e9088f8f6adfcc07784c7', 'message': ""Be able to set pcs resource op defaults\n\nTested by adding the following hiera key to the deployment:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::profile::base::pacemaker::resource_op_defaults:\n      timeout_test:\n        name: 'timeout'\n        value: '60s'\n\nAnd correctly obtained:\n[root@controller-0 tripleo]# pcs resource op defaults\ntimeout: 60\n\nThis allows an operator to raise global timeouts (which might be needed\nin case podman performance turns out to be problematic)\n\nDepends-On: https://review.opendev.org/664606\n\nChange-Id: Ifa75eb9274705ea4b1c530b22659e4e106681250\n(cherry picked from commit dfe3c07720b261f00ec8dcd0ff73fedc0286c8b5)\n""}]",0,686021,bc2b763f3e91d9713a9e9088f8f6adfcc07784c7,16,4,1,20172,,,0,"Be able to set pcs resource op defaults

Tested by adding the following hiera key to the deployment:
parameter_defaults:
  ExtraConfig:
    tripleo::profile::base::pacemaker::resource_op_defaults:
      timeout_test:
        name: 'timeout'
        value: '60s'

And correctly obtained:
[root@controller-0 tripleo]# pcs resource op defaults
timeout: 60

This allows an operator to raise global timeouts (which might be needed
in case podman performance turns out to be problematic)

Depends-On: https://review.opendev.org/664606

Change-Id: Ifa75eb9274705ea4b1c530b22659e4e106681250
(cherry picked from commit dfe3c07720b261f00ec8dcd0ff73fedc0286c8b5)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/686021/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,bc2b763f3e91d9713a9e9088f8f6adfcc07784c7,pcmk_resource_op_defaults-stable/stein,"# [*resource_op_defaults*] # (Optional) A hash allowing to override pacemaker resource op defaults # Defaults to undef # $resource_op_defaults = undef, # Set pacemaker resource op defaults only when specified if $resource_op_defaults != undef { class { '::pacemaker::resource_op_defaults': tries => $pcs_tries, defaults => $resource_op_defaults, } }",,12,0
openstack%2Fnetworking-ovn~stable%2Fstein~I55d224faead40da99b9c9f8ded5117a9b0bc288c,openstack/networking-ovn,stable/stein,I55d224faead40da99b9c9f8ded5117a9b0bc288c,"Revert ""Set binding profile directly from OVNTrunkDriver""",MERGED,2019-09-27 06:50:19.000000000,2019-10-03 22:41:04.000000000,2019-10-03 22:39:15.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-27 06:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7f5214a7726aac434be9c32aa6ae5d24858c2798', 'message': 'Revert ""Set binding profile directly from OVNTrunkDriver""\n\nDuring recent days we many observed failures of neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle test. It started to fail on a different asserts. Lets revert this patch, as it is a regression, and work further on this issue.\n\nThis reverts commit 1d58b0e680ee3da65a58620639b220bd972318fe.\n\nChange-Id: I55d224faead40da99b9c9f8ded5117a9b0bc288c\n'}, {'number': 2, 'created': '2019-09-27 10:06:00.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4f2301a060ea8ce941b6a9c48d731537ce32494a', 'message': 'Revert ""Set binding profile directly from OVNTrunkDriver""\n\nDuring recent days we many observed failures of \nneutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle test. \nIt started to fail on a different asserts. \nLets revert this patch, as it is a regression, and work further on this issue.\n\nThis reverts commit 1d58b0e680ee3da65a58620639b220bd972318fe.\n\nRelated-Bug: #1834637\nRelated-Bug: #1845479\n\nChange-Id: I55d224faead40da99b9c9f8ded5117a9b0bc288c\n'}]",0,685209,4f2301a060ea8ce941b6a9c48d731537ce32494a,19,6,2,24791,,,0,"Revert ""Set binding profile directly from OVNTrunkDriver""

During recent days we many observed failures of 
neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle test. 
It started to fail on a different asserts. 
Lets revert this patch, as it is a regression, and work further on this issue.

This reverts commit 1d58b0e680ee3da65a58620639b220bd972318fe.

Related-Bug: #1834637
Related-Bug: #1845479

Change-Id: I55d224faead40da99b9c9f8ded5117a9b0bc288c
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/09/685209/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,7f5214a7726aac434be9c32aa6ae5d24858c2798,bug/1834637,"from oslo_db import exception as os_db_exc def _set_binding_profile(self, port_id, parent_port, tag=None): context = n_context.get_admin_context() binding_profile = {} if parent_port and tag: binding_profile = {'parent_name': parent_port, 'tag': tag} port = {'port': {'binding:profile': binding_profile}} if not tag: port['port']['binding:host_id'] = None try: self.plugin_driver._plugin.update_port(context, port_id, port) except (os_db_exc.DBReferenceError, n_exc.PortNotFound): LOG.debug(""Port not found trying to set binding_profile: %s"", port_id) for port in subports: self._set_binding_profile(port.port_id, parent_port, tag=port.segmentation_id) for port in subports: self._set_binding_profile(port.port_id, None) self._set_sub_ports(trunk.port_id, trunk.sub_ports) self._unset_sub_ports(trunk.sub_ports) self._set_sub_ports(trunk.port_id, subports) self._unset_sub_ports(subports)","from neutron.objects import ports as port_obj self.context = n_context.get_admin_context() txn = self.plugin_driver._nb_ovn.transaction with self.context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._set_binding_profile(port, parent_port, ovn_txn) txn = self.plugin_driver._nb_ovn.transaction with self.context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._unset_binding_profile(port, ovn_txn) def _set_binding_profile(self, subport, parent_port, ovn_txn): db_port = port_obj.Port.get_object(self.context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.update({ 'parent_name': parent_port, 'tag': subport.segmentation_id}) # host + port_id is primary key port_obj.PortBinding.update_object( self.context, {'profile': binding.profile}, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=parent_port, tag=subport.segmentation_id)) def _unset_binding_profile(self, subport, ovn_txn): db_port = port_obj.Port.get_object(self.context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.pop('tag', None) binding.profile.pop('parent_name', None) # host + port_id is primary key port_obj.PortBinding.update_object( self.context, {'profile': binding.profile, 'vif_type': portbindings.VIF_TYPE_UNBOUND, 'vif_details': '', 'host': ''}, port_id=subport.port_id, host=binding.host) port_obj.PortBindingLevel.delete_objects( self.context, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=[], up=False, tag=[])) if trunk.sub_ports: self._set_sub_ports(trunk.port_id, trunk.sub_ports) if trunk.sub_ports: self._unset_sub_ports(trunk.sub_ports) if subports: self._set_sub_ports(trunk.port_id, subports) if subports: self._unset_sub_ports(subports)",106,273
openstack%2Ftripleo-ansible~master~I33595d19cebf6508008792bc08c1bf0a192db128,openstack/tripleo-ansible,master,I33595d19cebf6508008792bc08c1bf0a192db128,Add podman_container_info,MERGED,2019-10-01 19:34:57.000000000,2019-10-03 22:39:39.000000000,2019-10-03 22:39:39.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-01 19:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2aab28cedca8a62e047f16702b4de7c0dcdb414c', 'message': 'Add podman_container_facts\n\nA new module to gather facts from podman containers running on a host.\nThis will allow to know informations about containers running with\npodman on a host. The module allows to gather all containers info or for\na specific one, or a list.\n\nChange-Id: I33595d19cebf6508008792bc08c1bf0a192db128\n'}, {'number': 2, 'created': '2019-10-01 19:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/131f493e2d9ef1cd4591caac939ebba6897e6c22', 'message': 'Add podman_container_facts\n\nA new module to gather facts from podman containers running on a host.\nThis will allow to know informations about containers running with\npodman on a host. The module allows to gather all containers info or for\na specific one, or a list.\n\nChange-Id: I33595d19cebf6508008792bc08c1bf0a192db128\n'}, {'number': 3, 'created': '2019-10-02 01:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b6ce3bb2c9523fb4344c472d70fbd7e8e621d72', 'message': 'Add podman_container_facts\n\nA new module to gather facts from podman containers running on a host.\nThis will allow to know informations about containers running with\npodman on a host. The module allows to gather all containers info or for\na specific one, or a list.\n\nChange-Id: I33595d19cebf6508008792bc08c1bf0a192db128\n'}, {'number': 4, 'created': '2019-10-02 01:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22d8d2a89a1e250a78c9adb3c2b1aa9fbd807245', 'message': 'Add podman_container_facts\n\nA new module to gather facts from podman containers running on a host.\nThis will allow to know informations about containers running with\npodman on a host. The module allows to gather all containers info or for\na specific one, or a list.\n\nChange-Id: I33595d19cebf6508008792bc08c1bf0a192db128\n'}, {'number': 5, 'created': '2019-10-02 12:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d27cc5f28be7d61e1e546c2c5bc1733134098561', 'message': 'Add podman_container_facts\n\nA new module to gather facts from podman containers running on a host.\nThis will allow to know informations about containers running with\npodman on a host. The module allows to gather all containers info or for\na specific one, or a list.\n\nChange-Id: I33595d19cebf6508008792bc08c1bf0a192db128\n'}, {'number': 6, 'created': '2019-10-02 14:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8edc82da4e4d293f22e51ce130cf944d034aca6c', 'message': 'Add podman_container_info\n\nA new module to gather facts from podman containers running on a host.\nThis will allow to know informations about containers running with\npodman on a host. The module allows to gather all containers info or for\na specific one, or a list.\n\nChange-Id: I33595d19cebf6508008792bc08c1bf0a192db128\n'}, {'number': 7, 'created': '2019-10-02 19:46:28.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c5bfeb0a1efda7e785a2825df98806b9fae07fe', 'message': 'Add podman_container_info\n\nA new module to gather facts from podman containers running on a host.\nThis will allow to know informations about containers running with\npodman on a host. The module allows to gather all containers info or for\na specific one, or a list.\n\nChange-Id: I33595d19cebf6508008792bc08c1bf0a192db128\n'}]",2,686035,8c5bfeb0a1efda7e785a2825df98806b9fae07fe,22,5,7,3153,,,0,"Add podman_container_info

A new module to gather facts from podman containers running on a host.
This will allow to know informations about containers running with
podman on a host. The module allows to gather all containers info or for
a specific one, or a list.

Change-Id: I33595d19cebf6508008792bc08c1bf0a192db128
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/686035/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container_facts.py'],1,2aab28cedca8a62e047f16702b4de7c0dcdb414c,podman-host-info,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import from __future__ import division from __future__ import print_function from ansible.module_utils.basic import AnsibleModule import ansible.module_utils.six as six import json six.add_metaclass(type) ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" --- module: podman_container_facts author: - Sam Doran (@samdoran) - Emilien Macchi version_added: '2.8' short_description: Gather facts about containers using podman notes: - Podman may required elevated privileges in order to run properly. description: - Gather facts about containers using C(podman) options: executable: description: - Path to C(podman) executable if it is not in the C($PATH) on the machine running C(podman) default: 'podman' type: string name: description: - List of tags or UID to gather facts about. If no name is given return facts about all containers. """""" EXAMPLES = """""" - name: Gather facts for all containers podman_containers_facts: - name: Gather facts on a specific container podman_container_facts: name: web1 - name: Gather facts on several containers podman_container_facts: name: - redis - quay.io/bitnami/wildfly """""" RETURN = """""" containers: description: Facts from all or specificed containers returned: always type: dict sample: [ { ""Id"": ""c5c39f9b80a6ea2ad665aa9946435934e478a0c5322da835f3883872f"", ""Created"": ""2019-10-01T12:51:00.233106443Z"", ""Path"": ""dumb-init"", ""Args"": [ ""--single-child"", ""--"", ""kolla_start"" ], ""State"": { ""OciVersion"": ""1.0.1-dev"", ""Status"": ""configured"", ""Running"": false, ""Paused"": false, ""Restarting"": false, ""OOMKilled"": false, ""Dead"": false, ""Pid"": 0, ""ExitCode"": 0, ""Error"": """", ""StartedAt"": ""0001-01-01T00:00:00Z"", ""FinishedAt"": ""0001-01-01T00:00:00Z"", ""Healthcheck"": { ""Status"": """", ""FailingStreak"": 0, ""Log"": null } }, ""Image"": ""0e267acda67d0ebd643e900d820a91b961d859743039e620191ca1"", ""ImageName"": ""docker.io/tripleomaster/centos-haproxy:latest"", ""Rootfs"": """", ""Pod"": """", ""ResolvConfPath"": """", ""HostnamePath"": """", ""HostsPath"": """", ""OCIRuntime"": ""runc"", ""Name"": ""haproxy"", ""RestartCount"": 0, ""Driver"": ""overlay"", ""MountLabel"": ""system_u:object_r:svirt_sandbox_file_t:s0:c78,c866"", ""ProcessLabel"": ""system_u:system_r:svirt_lxc_net_t:s0:c785,c866"", ""AppArmorProfile"": """", ""EffectiveCaps"": [ ""CAP_CHOWN"", ""CAP_DAC_OVERRIDE"", ""CAP_FSETID"", ""CAP_FOWNER"", ""CAP_MKNOD"", ""CAP_NET_RAW"", ""CAP_SETGID"", ""CAP_SETUID"", ""CAP_SETFCAP"", ""CAP_SETPCAP"", ""CAP_NET_BIND_SERVICE"", ""CAP_SYS_CHROOT"", ""CAP_KILL"", ""CAP_AUDIT_WRITE"" ], ""BoundingCaps"": [ ""CAP_CHOWN"", ""CAP_DAC_OVERRIDE"", ""CAP_FSETID"", ""CAP_FOWNER"", ""CAP_MKNOD"", ""CAP_NET_RAW"", ""CAP_SETGID"", ""CAP_SETUID"", ""CAP_SETFCAP"", ""CAP_SETPCAP"", ""CAP_NET_BIND_SERVICE"", ""CAP_SYS_CHROOT"", ""CAP_KILL"", ""CAP_AUDIT_WRITE"" ], ""ExecIDs"": [], ""GraphDriver"": { ""Name"": ""overlay"", } }, ""Mounts"": [], ""Dependencies"": [], ""NetworkSettings"": { ""Bridge"": """", ""SandboxID"": """", ""HairpinMode"": false, ""LinkLocalIPv6Address"": """", ""LinkLocalIPv6PrefixLen"": 0, ""Ports"": [], ""SandboxKey"": """", ""SecondaryIPAddresses"": null, ""SecondaryIPv6Addresses"": null, ""EndpointID"": """", ""Gateway"": """", ""GlobalIPv6Address"": """", ""GlobalIPv6PrefixLen"": 0, ""IPAddress"": """", ""IPPrefixLen"": 0, ""IPv6Gateway"": """", ""MacAddress"": """" }, ""ExitCommand"": [ ""/usr/bin/podman"", ""--root"", ""/var/lib/containers/storage"", ""--runroot"", ""/var/run/containers/storage"", ""--log-level"", ""error"", ""--cgroup-manager"", ""systemd"", ""--tmpdir"", ""/var/run/libpod"", ""--runtime"", ""runc"", ""--storage-driver"", ""overlay"", ""--events-backend"", ""journald"", ""container"", ""cleanup"", ""c9e813703f9b80a6ea2ad665aa9946435934e478a0c5322da835f3883872f"" ], ""Namespace"": """", ""IsInfra"": false, ""Config"": { ""Hostname"": ""c5c39e813703"", ""Domainname"": """", ""User"": """", ""AttachStdin"": false, ""AttachStdout"": false, ""AttachStderr"": false, ""Tty"": false, ""OpenStdin"": false, ""StdinOnce"": false, ""Env"": [ ""PATH=/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"", ""TERM=xterm"", ""HOSTNAME="", ""container=oci"", ""KOLLA_INSTALL_METATYPE=rdo"", ""KOLLA_BASE_DISTRO=centos"", ""KOLLA_INSTALL_TYPE=binary"", ""KOLLA_DISTRO_PYTHON_VERSION=2.7"", ""KOLLA_BASE_ARCH=x86_64"" ], ""Cmd"": [ ""kolla_start"" ], ""Image"": ""docker.io/tripleomaster/centos-haproxy:latest"", ""Volumes"": null, ""WorkingDir"": ""/"", ""Entrypoint"": ""dumb-init --single-child --"", ""OnBuild"": null, ""Labels"": { ""build-date"": ""20190919"", ""kolla_version"": ""8.1.0"", ""name"": ""haproxy"", ""org.label-schema.build-date"": ""20190801"", ""org.label-schema.license"": ""GPLv2"", ""org.label-schema.name"": ""CentOS Base Image"", ""org.label-schema.schema-version"": ""1.0"", ""org.label-schema.vendor"": ""CentOS"" }, ""Annotations"": { ""io.kubernetes.cri-o.ContainerType"": ""sandbox"", ""io.kubernetes.cri-o.TTY"": ""false"", ""io.podman.annotations.autoremove"": ""FALSE"", ""io.podman.annotations.init"": ""FALSE"", ""io.podman.annotations.privileged"": ""FALSE"", ""io.podman.annotations.publish-all"": ""FALSE"" }, ""StopSignal"": 15 }, ""HostConfig"": { ""Binds"": [], ""ContainerIDFile"": """", ""LogConfig"": { ""Type"": ""k8s-file"", ""Config"": null }, ""NetworkMode"": ""default"", ""PortBindings"": {}, ""RestartPolicy"": { ""Name"": """", ""MaximumRetryCount"": 0 }, ""AutoRemove"": false, ""VolumeDriver"": """", ""VolumesFrom"": null, ""CapAdd"": [], ""CapDrop"": [], ""Dns"": [], ""DnsOptions"": [], ""DnsSearch"": [], ""ExtraHosts"": [], ""GroupAdd"": [], ""IpcMode"": """", ""Cgroup"": """", ""Links"": null, ""OomScoreAdj"": 0, ""PidMode"": """", ""Privileged"": false, ""PublishAllPorts"": false, ""ReadonlyRootfs"": false, ""SecurityOpt"": [], ""Tmpfs"": {}, ""UTSMode"": """", ""UsernsMode"": """", ""ShmSize"": 65536000, ""Runtime"": ""oci"", ""ConsoleSize"": [ 0, 0 ], ""Isolation"": """", ""CpuShares"": 0, ""Memory"": 0, ""NanoCpus"": 0, ""CgroupParent"": """", ""BlkioWeight"": 0, ""BlkioWeightDevice"": null, ""BlkioDeviceReadBps"": null, ""BlkioDeviceWriteBps"": null, ""BlkioDeviceReadIOps"": null, ""BlkioDeviceWriteIOps"": null, ""CpuPeriod"": 0, ""CpuQuota"": 0, ""CpuRealtimePeriod"": 0, ""CpuRealtimeRuntime"": 0, ""CpusetCpus"": """", ""CpusetMems"": """", ""Devices"": [], ""DiskQuota"": 0, ""KernelMemory"": 0, ""MemoryReservation"": 0, ""MemorySwap"": 0, ""MemorySwappiness"": -1, ""OomKillDisable"": false, ""PidsLimit"": 0, ""Ulimits"": [ { ""Name"": ""RLIMIT_NOFILE"", ""Soft"": 1048576, ""Hard"": 1048576 }, { ""Name"": ""RLIMIT_NPROC"", ""Soft"": 1048576, ""Hard"": 1048576 } ], ""CpuCount"": 0, ""CpuPercent"": 0, ""IOMaximumIOps"": 0, ""IOMaximumBandwidth"": 0 } } ] """""" def get_container_facts(module, executable, name): if not isinstance(name, list): name = [name] command = [executable, 'container', 'inspect'] command.extend(name) rc, out, err = module.run_command(command) if rc != 0: module.fail_json(msg=""Unable to gather facts for '{0}': {1}"" .format(', '.join(name), err)) return out def get_all_container_facts(module, executable): command = [executable, 'container', 'ls', '-q'] rc, out, err = module.run_command(command) name = out.split('\n') out = get_container_facts(module, executable, name) return out def main(): module = AnsibleModule( argument_spec=dict( executable=dict(type='str', default='podman'), name=dict(type='list') ), supports_check_mode=True, ) executable = module.params['executable'] name = module.params.get('name') executable = module.get_bin_path(executable, required=True) if name: results = json.loads(get_container_facts(module, executable, name)) else: results = json.loads(get_all_container_facts(module, executable)) results = dict( changed=False, ansible_facts=dict(podman_containers=results) ) module.exit_json(**results) if __name__ == '__main__': main() ",,393,0
openstack%2Ftripleo-common~master~I02723e0900a7490cb980fe84fbeebe83137e8554,openstack/tripleo-common,master,I02723e0900a7490cb980fe84fbeebe83137e8554,Prefix ansible output with timestamps,MERGED,2019-09-30 17:24:43.000000000,2019-10-03 22:17:21.000000000,2019-10-03 22:15:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-09-30 17:24:43.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f92cb6685c75217606e74a3aaaf9702872513bf', 'message': 'Prefix ansible output with timestamps\n\nWe output the ansible output in a single log line which can lead to what\nappears to be out of sync timestamps.  We can split the output by line\nand output that individually so the outter timestamps are in sync.\n\nChange-Id: I02723e0900a7490cb980fe84fbeebe83137e8554\nCloses-Bug: #1845930\n'}]",0,685764,6f92cb6685c75217606e74a3aaaf9702872513bf,12,6,1,14985,,,0,"Prefix ansible output with timestamps

We output the ansible output in a single log line which can lead to what
appears to be out of sync timestamps.  We can split the output by line
and output that individually so the outter timestamps are in sync.

Change-Id: I02723e0900a7490cb980fe84fbeebe83137e8554
Closes-Bug: #1845930
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/685764/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,6f92cb6685c75217606e74a3aaaf9702872513bf,bug/1845930, for line in f: LOG.info(line.rstrip()), LOG.info(f.read()),2,1
openstack%2Fcinder~stable%2Ftrain~I71217621fc9426ccd88aec604ebe8d41e6f43c18,openstack/cinder,stable/train,I71217621fc9426ccd88aec604ebe8d41e6f43c18,Fix: Online migrations for untyped volumes/snapshots,MERGED,2019-10-03 03:21:06.000000000,2019-10-03 22:17:03.000000000,2019-10-03 22:14:40.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-03 03:21:06.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/38f93e9dda268c33f503425123b7b8831ca38c40', 'message': 'Fix: Online migrations for untyped volumes/snapshots\n\nCurrently when we run online migrations with ``default_volume_type``\noption set in cinder.conf, all volumes/snapshots gets migrated to\nthat type.\nThe expected functionality is to migrate them to ``__DEFAULT__`` type.\nThis patch fixes the same.\n\nChange-Id: I71217621fc9426ccd88aec604ebe8d41e6f43c18\n(cherry picked from commit ba7406d13f4b0fbdedafc9211b5f57eecbbc9ead)\n'}]",0,686326,38f93e9dda268c33f503425123b7b8831ca38c40,21,15,1,27615,,,0,"Fix: Online migrations for untyped volumes/snapshots

Currently when we run online migrations with ``default_volume_type``
option set in cinder.conf, all volumes/snapshots gets migrated to
that type.
The expected functionality is to migrate them to ``__DEFAULT__`` type.
This patch fixes the same.

Change-Id: I71217621fc9426ccd88aec604ebe8d41e6f43c18
(cherry picked from commit ba7406d13f4b0fbdedafc9211b5f57eecbbc9ead)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/686326/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,38f93e9dda268c33f503425123b7b8831ca38c40,," default_type = volume_types.get_volume_type_by_name(context, '__DEFAULT__') default_type = volume_types.get_volume_type_by_name(context, '__DEFAULT__')", default_type = volume_types.get_default_volume_type() default_type = volume_types.get_default_volume_type(),4,2
openstack%2Fcinder~stable%2Fqueens~I2da5d4a0334f07967af5ff7aaa39a0ecc4b12204,openstack/cinder,stable/queens,I2da5d4a0334f07967af5ff7aaa39a0ecc4b12204,3PAR: Add config for NSP single path attach,MERGED,2019-08-22 14:54:15.000000000,2019-10-03 22:16:13.000000000,2019-10-03 22:14:48.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29122}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-22 14:54:15.000000000', 'files': ['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'releasenotes/notes/hpe-3par-specify-nsp-for-fc-bootable-volume-f372879e1b625b4d.yaml', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d4e3674dbba71182122557fa1bb04c3afdf9f91', 'message': '3PAR: Add config for NSP single path attach\n\nThis fix aims to resolve below mentioned bugs:\nhttps://bugs.launchpad.net/os-brick/+bug/1812665\nhttps://bugs.launchpad.net/cinder/+bug/1809249\nhttps://bugs.launchpad.net/cinder/+bug/1734917\n\nGiven a system connected to HPE 3PAR via FC and multipath is disabled.\nWhen user tries to create bootable volume, it fails intermittently\nwith following error:\n\n    Fibre Channel volume device not found\n\nThis happens when a zone is created using second or later target nsp\nfrom 3PAR backend. In this case, HPE 3PAR client code picks up first\ntarget nsp to form initiator target map.\n\nTo avoid above mentioned failure, user can specify target nsp in 3PAR\nbackend section of cinder.conf as follows:\n\n    hpe3par_target_nsp = <n:s:p>\n\nThis target information is read from cinder.conf and respective\nwwn information is fetched. Later initiator target map is created\nusing wwn information and bootable volume is created successfully.\n\nChange-Id: I2da5d4a0334f07967af5ff7aaa39a0ecc4b12204\nCloses-bug: #1809249\nCloses-bug: #1812665\nCloses-bug: #1734917\n(cherry picked from commit 9e122f11661b766b2fe2c3a12bab35ef6e14f3f1)\n'}]",0,678037,9d4e3674dbba71182122557fa1bb04c3afdf9f91,27,21,1,5997,,,0,"3PAR: Add config for NSP single path attach

This fix aims to resolve below mentioned bugs:
https://bugs.launchpad.net/os-brick/+bug/1812665
https://bugs.launchpad.net/cinder/+bug/1809249
https://bugs.launchpad.net/cinder/+bug/1734917

Given a system connected to HPE 3PAR via FC and multipath is disabled.
When user tries to create bootable volume, it fails intermittently
with following error:

    Fibre Channel volume device not found

This happens when a zone is created using second or later target nsp
from 3PAR backend. In this case, HPE 3PAR client code picks up first
target nsp to form initiator target map.

To avoid above mentioned failure, user can specify target nsp in 3PAR
backend section of cinder.conf as follows:

    hpe3par_target_nsp = <n:s:p>

This target information is read from cinder.conf and respective
wwn information is fetched. Later initiator target map is created
using wwn information and bootable volume is created successfully.

Change-Id: I2da5d4a0334f07967af5ff7aaa39a0ecc4b12204
Closes-bug: #1809249
Closes-bug: #1812665
Closes-bug: #1734917
(cherry picked from commit 9e122f11661b766b2fe2c3a12bab35ef6e14f3f1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/678037/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'releasenotes/notes/hpe-3par-specify-nsp-for-fc-bootable-volume-f372879e1b625b4d.yaml', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",5,9d4e3674dbba71182122557fa1bb04c3afdf9f91,bug/1809249," cfg.StrOpt('hpe3par_target_nsp', default="""", help=""The nsp of 3PAR backend to be used when: "" ""(1) multipath is not enabled in cinder.conf. "" ""(2) Fiber Channel Zone Manager is not used. "" ""(3) the 3PAR backend is prezoned with this "" ""specific nsp only. For example if nsp is 2 1 2, the "" ""format of the option's value is 2:1:2""),",,193,7
openstack%2Ftripleo-quickstart-extras~master~I539d173693890710cef7ff5f5021ded7ae557c91,openstack/tripleo-quickstart-extras,master,I539d173693890710cef7ff5f5021ded7ae557c91,Added train release tempest skip list,MERGED,2019-09-24 12:16:49.000000000,2019-10-03 22:15:53.000000000,2019-10-03 22:15:52.000000000,"[{'_account_id': 6547}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-24 12:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12b12f89e934d52803089983b2ca4579fc8c470a', 'message': 'Added train release tempest skip list\n\nChange-Id: I539d173693890710cef7ff5f5021ded7ae557c91\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-09-25 06:32:30.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ceb002005c3daa946e19e4966db6c12cb67789f', 'message': 'Added train release tempest skip list\n\nIt is a copy of master release skip list as train is brached\nfrom master.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1299\n\nChange-Id: I539d173693890710cef7ff5f5021ded7ae557c91\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,684295,5ceb002005c3daa946e19e4966db6c12cb67789f,42,10,2,12393,,,0,"Added train release tempest skip list

It is a copy of master release skip list as train is brached
from master.

https://tree.taiga.io/project/tripleo-ci-board/task/1299

Change-Id: I539d173693890710cef7ff5f5021ded7ae557c91
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/95/684295/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_train.yml'],1,12b12f89e934d52803089983b2ca4579fc8c470a,train_release,"--- ## PLEASE READ ## ## Do not add tests to the skip list that are in ## ## featureset016 - featureset019 w/o permission from ## ## the TripleO PTL, Thanks ## known_failures: - test: 'neutron_tempest_plugin.scenario.test_dns_integration.DNSIntegrationTests' reason: 'Remove this blacklist when OVS 2.12 will be released and https://patchwork.ozlabs.org/patch/1102717/ merged.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - test: 'neutron_tempest_plugin.api.test_revisions.TestRevisions.test_update_dns_domain_bumps_revision' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - test: 'neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest.test_dns_domain_and_name' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - test: 'neutron_tempest_plugin.api.admin.test_shared_network_extension.RBACSharedNetworksTest' reason: 'RBAC policy resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - test: 'tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size' reason: 'network resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - test: 'tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot' reason: 'network resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - test: 'mistral_tempest_tests.tests.api.v2.test_actions.ActionTestsV2.test_get_list_actions_not_in_list_filter' reason: 'mismatch error, mistral team is investigating' lp: 'https://bugs.launchpad.net/tripleo/+bug/1736950' - test: 'patrole_tempest_plugin' reason: 'Not supported in TripleO/tempestconf' - test: 'zaqar_tempest_plugin' reason: 'Not supported in TripleO/tempestconf' - test: 'watcher_tempest_plugin' reason: 'Not supported in TripleO' - test: 'vitrage_tempest_plugin' reason: 'Not supported in TripleO' - test: 'trove_tempest_plugin' reason: 'Not supported in TripleO' - test: 'tripleo_common_tempest_plugin' reason: 'Not supported in TripleO' - test: 'tempest_horizon' reason: 'Not supported in TripleO' - test: 'octavia_tempest_plugin' reason: 'Not supported in TripleO' - test: 'murano_tempest_tests' reason: 'Not supported in TripleO' - test: 'mistral_tempest_tests' reason: 'Not supported in TripleO' - test: 'magnum_tempest_plugin' reason: 'Not supported in TripleO' - test: 'kuryr_tempest_plugin' reason: 'Not supported in TripleO' - test: 'heat_tempest_plugin' reason: 'Not supported in TripleO' - test: 'designate_tempest_plugin' reason: 'Not supported in TripleO' - test: 'congress_tempest_plugin' reason: 'Not supported in TripleO' - test: 'ec2api_tempest_plugin' reason: 'Not supported in TripleO/tempestconf' - test: 'tempest.api.compute.admin.test_auto_allocate_network.AutoAllocateNetworkTest.test_server_multi_create_auto_allocate' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - test: 'neutron_tempest_plugin.api.test_trunk_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_timestamp' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_subnetpools_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_service_type_management' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_security_groups' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_routers_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_routers' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_qos_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_qos' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_ports' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_networks_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_networks' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_floating_ips_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_floating_ips' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_flavors_extensions' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_extension_driver_port_security' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_allowed_address_pair' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_address_scopes_negative' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.test_address_scopes' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_shared_network_extension' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_routers_ha' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_networks.NetworksTestAdmin' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'neutron_tempest_plugin.api.admin.test_l3_agent_scheduler' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - test: 'tempest.api.network.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_add_remove_network_from_dhcp_agent' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'tempest.api.network.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_list_networks_hosted_by_one_dhcp' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.api.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_add_remove_network_from_dhcp_agent' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.api.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_dhcp_port_status_active' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.api.admin.test_dhcp_agent_scheduler.DHCPAgentSchedulersTestJSON.test_list_networks_hosted_by_one_dhcp' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'neutron_tempest_plugin.scenario.test_qos.QoSTest.test_qos_basic_and_update' reason: 'Possible bug for QoS + FIP in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - test: 'barbican_tempest_plugin.tests.scenario.test_image_signing.ImageSigningSnapshotTest' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820668' - test: 'barbican_tempest_plugin.tests.scenario.test_image_signing.ImageSigningTest' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820671' - test: 'telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration' reason: 'telemetry tests failed due to One or more ports have an IP allocation from this subnet' lp: 'https://bugs.launchpad.net/tripleo/+bug/1792862' # skip list for undercloud - test: 'tempest.api.network.test_networks.NetworksTest.test_external_network_visibility' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.test_floating_ips.FloatingIPTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.servers' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_existent_host' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_host_as_user' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_remove_host_as_user' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_create_server.ServersWithSpecificFlavorTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_aggregates.AggregatesAdminTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_create_server.ServersWithSpecificFlavorTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_hypervisor' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_hypervisor_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_delete_server' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_hosts.HostsAdminTestJSON.test_show_host_detail' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_servers' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_simple_tenant_usage' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_servers_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.floating_ips' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_server_diagnostics' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.admin.test_server_diagnostics_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.images' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_external_networks_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_floating_ips_admin_actions' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_routers' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_routers_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.test_floating_ips_negative' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.test_networks.NetworksIpV6Test.test_external_network_visibility' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.network.admin.test_ports' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON' reason: 'Running on undercloud' undercloud: true - test: 'tempest.api.identity.admin.v3.test_roles.RolesV3TestJSON' reason: 'Running on undercloud' undercloud: true ",,251,0
openstack%2Fcinder~stable%2Ftrain~I9f0525e09299afcbbe2012c2502294e21b436ae7,openstack/cinder,stable/train,I9f0525e09299afcbbe2012c2502294e21b436ae7,PowerMax Docs -  New features and supported software,MERGED,2019-10-02 20:28:04.000000000,2019-10-03 21:46:08.000000000,2019-10-03 17:58:08.000000000,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-02 20:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/023d76b27f1e217f6f6ad78ce5b486c64f17489d', 'message': 'PowerMax Docs -  New features and supported software\n\n1. Rapid Tdev Deallocation\n2. Online device expansion,\n3. Metro formatting fix\n4. Unisphere for PowerMax version\n5. Known issue fixes and removals\n\nChange-Id: I9f0525e09299afcbbe2012c2502294e21b436ae7\n(cherry picked from commit d12e2e73f739cbc23ac13a65e1b122901bc3334c)\n'}, {'number': 2, 'created': '2019-10-03 14:41:14.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e8038e5be0113ff73e72a80e84d762b2d56dc29', 'message': 'PowerMax Docs -  New features and supported software\n\n1. Rapid Tdev Deallocation\n2. Online device expansion,\n3. Metro formatting fix\n4. Unisphere for PowerMax version\n5. Known issue fixes and removals\n\nChange-Id: I9f0525e09299afcbbe2012c2502294e21b436ae7\n(cherry picked from commit d12e2e73f739cbc23ac13a65e1b122901bc3334c)\n'}]",0,686283,4e8038e5be0113ff73e72a80e84d762b2d56dc29,30,14,2,11904,,,0,"PowerMax Docs -  New features and supported software

1. Rapid Tdev Deallocation
2. Online device expansion,
3. Metro formatting fix
4. Unisphere for PowerMax version
5. Known issue fixes and removals

Change-Id: I9f0525e09299afcbbe2012c2502294e21b436ae7
(cherry picked from commit d12e2e73f739cbc23ac13a65e1b122901bc3334c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/686283/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,023d76b27f1e217f6f6ad78ce5b486c64f17489d,ci_failure_fix-stable/train," there will be extended support of the VMAX Hybrid series until further notice. All-Flash series and the PowerMax arrays. The array operating system software, Solutions Enabler 9.1.x series, and Unisphere for PowerMax 9.1.x series are required to run Dell EMC PowerMax(login is required). See the ``Dell EMC Solutions Enabler 9.1.x Installation- Online device expansion of a metro device - Rapid tdev deallocation of deletes 9.1.x Installation and Configuration Guide`` on ``support.emc.com`` for Follow instructions in ```Dell EMC Solutions Enabler 9.1.x Installation PowerMax). See ``Dell EMC Solutions Enabler 9.1.x Installation and Service Level can be added to the cinder.conf when the Level for provisioning volumes. The format: ``<ServiceLevel>+<SRP>+<Array ID>``. $ openstack volume type create POWERMAX_ISCSI_SILVER --property pool_name=Silver+SRP_1+000123456789 \ POWERMAX_ISCSI_SILVER $ openstack volume type create POWERMAX_FC_DIAMOND --property pool_name=Diamond+SRP_1+000123456789 \ POWERMAX_FC_DIAMOND``POWERMAX_ISCSI_SILVER`` is associated with the ``ISCSI_backend``, a Silver Service Level. The type ``POWERMAX_FC_DIAMOND`` is associated with the ``FC_backend``, a Diamond Service Level.associated with any service level). openstack volume type set --property pool_name=None+SRP_1+000123456789 workloads, the latter up until ucode 5977. Please refer to Stein PowerMax online documentation if you wish to use ``workload``. There is no support for workloads in PowerMax OS (5978) or greater.18. Rapid TDEV Deallocation --------------------------- The PowerMax driver can now leverage the enhanced volume delete feature-set made available in the PowerMax 5978 Foxtail uCode release. These enhancements allow volume deallocation & deletion to be combined into a single call. Previously, volume deallocation & deletion were split into separate tasks; now a single REST call is dispatched and a response code on the projected outcome of their request is issued rapidly allowing other task execution to proceed without the delay. No additional configuration is necessary, the system will automatically determine when to use either the rapid or legacy compliant volume deletion sequence based on the connected PowerMax arrays metadata. 19. PowerMax Online (in-use) Device Expansion --------------------------------------------- .. table:: +---------------------------------+-------------------------------------------+ | uCode Level | Supported In-Use Volume Extend Operations | +----------------+----------------+--------------+--------------+-------------+ | R1 uCode Level | R2 uCode Level | Sync | Async | Metro | +================+================+==============+==============+=============+ | 5979 | 5979 | Y | Y | Y | +----------------+----------------+--------------+--------------+-------------+ | 5979 | 5978 | Y | Y | N | +----------------+----------------+--------------+--------------+-------------+ | 5978 | 5978 | Y | Y | N | +----------------+----------------+--------------+--------------+-------------+ Assumptions, Restrictions and Pre-Requisites ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ - ODE in the context of this document refers to extending a volume where it is in-use, that is, attached to an instance. - The ``allow_extend`` is only applicable on Hybrid arrays or All Flash arrays with HyperMax OS. If included elsewhere, it is ignored. - Extending a Metro volume is blocked for all replication sessions where both R1 and R2 arrays are not PowerMax OS 5979 or newer. - Where one array is a lower uCode than the other, the environment is limited to functionality of that of the lowest uCode level, i.e. if R1 is 5979 and R2 is 5978, expanding a metro volume is not supported, both R1 and R2 need to be on 5979 uCode. * ``allow_extend`` is only applicable to Hybrid arrays or All Flash arrays with HyperMax OS. It is a flag for allowing the extension of replicated volumes. To extend a volume in an SRDF relationship, this relationship must first be broken, both the source and target volumes are then independently extended, and then the replication relationship is re-established. If not explicitly set, this flag defaults to ``False``. .. note:: As the SRDF link must be severed, due caution should be exercised when performing this operation. If absolutely necessary, only one source and target pair should be extended at a time (only only applicable to Hybrid arrays or All Flash arrays with HyperMax OS). .. note:: It is not possible to extend SRDF/Metro protected volumes on Hybrid arrays or All Flash arrays with HyperMax OS. * It is not possible to extend SRDF/Metro protected volumes on Hybrid arrays or All Flash arrays with HyperMax OS. If a bigger volume size is required for a SRDF/Metro protected volume, this can be achieved by cloning the original volume and choosing a larger size for the new cloned volume. the first boot volume as 5GB. All subsequent boot volumes are extended to the user specific size. ``replication_device parameter`` is set to ``True``. This is only applicable to Hybrid arrays or All Flash array with HyperMax OS. .. note:: it is not possible to extend SRDF/Metro protected volumes on Hybrid arrays or All Flash arrays with HyperMax OS. The metro issue around formatting volumes when they are added to existing metro RDF groups has been fixed in Unisphere for PowerMax 9.1, however, it has only been addressed on arrays with PowerMax OS and will not be available on arrays running a HyperMax OS. Pool format: <service_level>+<srp>+<array_id> Pool example: Diamond+SRP_1+111111111111"," That we will no longer be supporting the VMAX Hybrid in the ``T`` release of OpenStack. .. note:: KNOWN ISSUE: Workload support was dropped in PowerMax OS 5978. If a VMAX All Flash array is upgraded to PowerMax OS 5978 or greater and existing volume types leveraged workload i.e. DSS, DSS_REP, OLTP and OLTP_REP, attaching and detaching will no longer work and the volume type will be unusable. Refrain from upgrading to PowerMax OS 5978 or greater on an All Flash until a fix is merged. Please contact your Dell EMC PowerMax customer support representative if in any doubt.All-Flash series and the PowerMax arrays. Please note we will be no longer supporting the VMAX hybrid series in the ``T`` release of OpenStack. The array operating system software, Solutions Enabler 9.0.x series, and Unisphere for PowerMax 9.0.x series are required to run Dell EMC PowerMax(login is required). See the ``Dell EMC Solutions Enabler 9.0.x Installation 9.0.x Installation and Configuration Guide`` on ``support.emc.com`` for Follow instructions in ```Dell EMC Solutions Enabler 9.0.x Installation PowerMax). See ``Dell EMC Solutions Enabler 9.0.x Installation and Service Level and workload can be added to the cinder.conf when the | Workload | powermax_workload | None | No | +--------------------+----------------------------+---------+----------+ Level and Workload(available) combination for provisioning volumes. The format: ``<ServiceLevel>+<Workload>+<SRP>+<Array ID>``. $ openstack volume type create POWERMAX_ISCSI_SILVER_OLTP --property pool_name=Silver+OLTP+SRP_1+000123456789 \ POWERMAX_ISCSI_SILVER_OLTP $ openstack volume type create POWERMAX_FC_DIAMOND_DSS --property pool_name=Diamond+DSS+SRP_1+000123456789 \ POWERMAX_FC_DIAMOND_DSS``POWERMAX_ISCSI_SILVER_OLTP`` is associated with the ``ISCSI_backend``, a Silver Service Level, and an OLTP workload. The type ``POWERMAX_FC_DIAMOND_DSS`` is associated with the ``FC_backend``, a Diamond Service Level, and a DSS workload.associated with any service level). If ``ServiceLevel`` is ``None`` then ``Workload`` must be ``None``. openstack volume type set --property pool_name=None+None+SRP_1+000123456789 When a ``Workload`` is added, the latency range is reduced due to the added information. Setting the ``Workload`` to ``None`` means the latency range will be the widest for its Service Level type. Please note that you cannot set a Workload without a Service Level. .. code-block:: console openstack volume type set --property pool_name=Diamond+None+SRP_1+000123456789 workloads, the latter up until ucode 5977. There is no support for workloads in PowerMax OS (5978) or greater. allow_extend:False, * ``allow_extend`` is a flag for allowing the extension of replicated volumes. To extend a volume in an SRDF relationship, this relationship must first be broken, both the source and target volumes are then independently extended, and then the replication relationship is re-established. If not explicitly set, this flag defaults to ``False``. .. note:: As the SRDF link must be severed, due caution should be exercised when performing this operation. If absolutely necessary, only one source and target pair should be extended at a time. .. note:: It is not currently possible to extend SRDF/Metro protected volumes. * Storage-assisted retype operations on replication-enabled PowerMax volumes (moving from a non-replicated type to a replicated-type and vice-versa. Moving to another service level/workload combination, for example) are not supported. * It is not currently possible to extend SRDF/Metro protected volumes. If a bigger volume size is required for a SRDF/Metro protected volume, this can be achieved by cloning the original volume and choosing a larger size for the new cloned volume. the first boot volume as 5GB. ``replication_device parameter`` is set to ``True`` (Please note that it is not possible to extend SRDF/Metro protected volumes). This is because the initial boot volume is created at the minimum required size for the requested image, and then extended to the user specified size. There is an known issue on Unisphere for PowerMax where volumes are formatted when added to existing metro RDF Groups. The issue will only be addressed on arrays with PowerMax OS as the option not to format a metro volume is not available on HyperMax OS. Please refrain on cloning metro volumes until further notice. If in any doubt please contact your Dell EMC Representative. Due to to nature of SRDF/Metro and issues around extending and cloning Metro devices we cannot support image_volume_cache_enabled=True on bootable Metro devices. .. note:: There is an known issue on Unisphere for PowerMax where volumes are formatted when added to existing metro RDF Groups. The issue will only be addressed on arrays with PowerMax OS as the option not to format a metro volume is not available on HyperMax OS. Please refrain on cloning metro volumes until further notice. If in any doubt please contact your Dell EMC Representative. .. note:: Pool format: <service_level>+<workload_type>+<srp>+<array_id> Pool example 1: Diamond+DSS+SRP_1+111111111111 Pool example 2: Diamond+SRP_1+111111111111 * - workload - The workload of the volume to be managed",111,104
openstack%2Ftripleo-common~master~I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,openstack/tripleo-common,master,I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,Warn when looking up grandparent resource name,MERGED,2019-09-17 16:43:12.000000000,2019-10-03 21:26:08.000000000,2019-10-02 04:08:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 16:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04c73ec61f0a21ccef5db6c0b5f7f8ab0c89a176', 'message': ""Warn when looking up grandparent resource name\n\nWhen running config-download if the deployment name property was not set\non a deployment resource from a ResourceGroup, it will trigger the code\npath to lookup the grandparent resource name.\n\nThis codepath can be very slow depending on the number of nodes in the\nstack.\n\nThis patch adds a warning when this is happening so that it's clear that\nthe name property needs to be set on the deployment resource.\n\nChange-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad\n""}, {'number': 2, 'created': '2019-09-17 16:44:04.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8532a397def413872ead645c2350d8b34ef52bc4', 'message': ""Warn when looking up grandparent resource name\n\nWhen running config-download if the deployment name property was not set\non a deployment resource from a ResourceGroup, it will trigger the code\npath to lookup the grandparent resource name.\n\nThis codepath can be very slow depending on the number of nodes in the\nstack.\n\nThis patch adds a warning when this is happening so that it's clear that\nthe name property needs to be set on the deployment resource.\n\nChange-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad\n""}]",1,682694,8532a397def413872ead645c2350d8b34ef52bc4,29,5,2,7144,,,0,"Warn when looking up grandparent resource name

When running config-download if the deployment name property was not set
on a deployment resource from a ResourceGroup, it will trigger the code
path to lookup the grandparent resource name.

This codepath can be very slow depending on the number of nodes in the
stack.

This patch adds a warning when this is happening so that it's clear that
the name property needs to be set on the deployment resource.

Change-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/682694/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,04c73ec61f0a21ccef5db6c0b5f7f8ab0c89a176,," @patch('tripleo_common.utils.config.Config.get_deployment_data') def test_config_download_warn_grandparent_resource_name( self, mock_deployment_data, mock_deployment_resource_id, mock_git_init): heat = mock.MagicMock() self.config = ooo_config.Config(heat) stack = mock.MagicMock() heat.stacks.get.return_value = stack heat.resources.get.return_value = mock.MagicMock() deployment_data, _ = self._get_config_data('config_data.yaml') # Set the name of the deployment to an integer to trigger looking up # the grandparent resource name deployment_data[0].attributes['value']['name'] = 1 self.deployments = deployment_data mock_deployment_data.return_value = deployment_data mock_deployment_resource_id.side_effect = self._get_deployment_id self.tmp_dir = self.useFixture(fixtures.TempDir()).path with warnings.catch_warnings(record=True) as w: self.assertRaises(ValueError, self.config.download_config, stack, self.tmp_dir) self.assertGreaterEqual(len(w), 1) self.assertGreaterEqual(len([x for x in w if ""grandparent"" in str(x.message)]), 1) mock_git_init.assert_called_once_with(self.tmp_dir) @patch.object(ooo_config.Config, 'initialize_git_repo') @patch('tripleo_common.utils.config.Config.get_deployment_resource_id')",,39,0
openstack%2Ftripleo-common~master~I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,openstack/tripleo-common,master,I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,Raise exception when no IPs found,MERGED,2019-10-02 19:40:05.000000000,2019-10-03 21:25:05.000000000,2019-10-03 20:53:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9712}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 19:40:05.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70c0c674a176254b0ff4e3afb36947d0c7cee4eb', 'message': 'Raise exception when no IPs found\n\nWhen generating the inventory, an exception is now raised if no IP\naddresses are found for a given role from the specified network.\nPreviously, an unhandled IndexError was thrown with no indication as to\nthe actual problem.\n\nThis situtation can occur when using pre-provisioned nodes and a\nmalformed DeployedServerPortMap value such that no IP addresses are\nassigned.\n\nChange-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2\n'}]",0,686261,70c0c674a176254b0ff4e3afb36947d0c7cee4eb,12,6,1,7144,,,0,"Raise exception when no IPs found

When generating the inventory, an exception is now raised if no IP
addresses are found for a given role from the specified network.
Previously, an unhandled IndexError was thrown with no indication as to
the actual problem.

This situtation can occur when using pre-provisioned nodes and a
malformed DeployedServerPortMap value such that no IP addresses are
assigned.

Change-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/61/686261/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,70c0c674a176254b0ff4e3afb36947d0c7cee4eb,," def test_no_ips(self): for output in self.outputs_data['outputs']: if output['output_key'] == 'RoleNetIpMap': output['output_value'] = dict(Controller=dict(ctlplane=[])) self.assertRaises(Exception, self.inventory.list) ",,9,0
openstack%2Fnetworking-bagpipe~master~I43dbe8cd112b93d1300ddef3df8eae52c00e46b4,openstack/networking-bagpipe,master,I43dbe8cd112b93d1300ddef3df8eae52c00e46b4,PDF documentation build,MERGED,2019-09-06 05:54:46.000000000,2019-10-03 21:21:41.000000000,2019-10-03 21:20:20.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 05:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/80f5546935161711891007faeffb3ce693c2ee20', 'message': 'PDF documentation build\n\nREADME.rst is simplified and most of the contents of README is\nmoved to overview.rst. This is mainly to aviod inappropriate sections\nin PDF doc, but README file is too long considering we have a separate\ndocumentation so I believe this makes sense.\n\nThe content of the top page is also adjusted to\nfit both HTML and PDF docs.\n\nChange-Id: I43dbe8cd112b93d1300ddef3df8eae52c00e46b4\nStory: 2006099\nTask: 35123\n'}, {'number': 2, 'created': '2019-09-06 05:57:42.000000000', 'files': ['doc/source/index.rst', 'doc/source/overview.rst', 'README.rst', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/023a0439ffa2b2590f73537d197c4f5570a41300', 'message': 'PDF documentation build\n\nREADME.rst is simplified and most of the contents of README is\nmoved to overview.rst. This is mainly to aviod inappropriate sections\nin PDF doc, but README file is too long considering we have a separate\ndocumentation so I believe this makes sense.\n\nThe content of the top page is also adjusted to\nfit both HTML and PDF docs.\n\nChange-Id: I43dbe8cd112b93d1300ddef3df8eae52c00e46b4\nStory: 2006099\nTask: 35121\n'}]",3,680577,023a0439ffa2b2590f73537d197c4f5570a41300,14,5,2,841,,,0,"PDF documentation build

README.rst is simplified and most of the contents of README is
moved to overview.rst. This is mainly to aviod inappropriate sections
in PDF doc, but README file is too long considering we have a separate
documentation so I believe this makes sense.

The content of the top page is also adjusted to
fit both HTML and PDF docs.

Change-Id: I43dbe8cd112b93d1300ddef3df8eae52c00e46b4
Story: 2006099
Task: 35121
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/77/680577/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/overview.rst', 'README.rst', 'doc/source/conf.py', 'tox.ini']",5,80f5546935161711891007faeffb3ce693c2ee20,build-pdf-docs,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,78,57
openstack%2Fkolla~master~I8b55a6a260cab14c2292cac02a1a07729223c281,openstack/kolla,master,I8b55a6a260cab14c2292cac02a1a07729223c281,Use C.UTF-8 locale,MERGED,2019-09-25 16:40:45.000000000,2019-10-03 21:10:55.000000000,2019-10-03 21:09:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-25 16:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1aaf462b5b59d8b37954777093fe96ea590e27a1', 'message': 'Use C.UTF-8 locale\n\nThis ought to fix problems with Unicode,\nincluding the recent vmtp issue with tabulate on Ubuntu.\n\nChange-Id: I8b55a6a260cab14c2292cac02a1a07729223c281\nCloses-bug: #1845306\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-09-26 07:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/852d6afb86eb371826b4af4f6537089d27cc96fa', 'message': 'Use C.UTF-8 locale\n\nThis ought to fix problems with Unicode,\nincluding the recent vmtp issue with tabulate 0.8.4 failing\ndue to non-Unicode locale (Ubuntu Bionic 18.04 Python 3.6).\n\nChange-Id: I8b55a6a260cab14c2292cac02a1a07729223c281\nRelated-bug: #1845306\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-09-26 10:30:11.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/unicode-locale-018fe01eaccc556d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a266023ab572f6dc728271a2f3936c385674c08a', 'message': 'Use C.UTF-8 locale\n\nThis ought to fix problems with Unicode,\nincluding the recent vmtp issue with tabulate 0.8.4 failing\ndue to non-Unicode locale (Ubuntu Bionic 18.04 Python 3.6).\n\nChange-Id: I8b55a6a260cab14c2292cac02a1a07729223c281\nRelated-bug: #1845306\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",6,684808,a266023ab572f6dc728271a2f3936c385674c08a,35,6,3,30491,,,0,"Use C.UTF-8 locale

This ought to fix problems with Unicode,
including the recent vmtp issue with tabulate 0.8.4 failing
due to non-Unicode locale (Ubuntu Bionic 18.04 Python 3.6).

Change-Id: I8b55a6a260cab14c2292cac02a1a07729223c281
Related-bug: #1845306
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/684808/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,1aaf462b5b59d8b37954777093fe96ea590e27a1,kolla-unicode,# NOTE(yoctozepto): use a UTF-8 locale to avoid Unicode issues throughout ENV LANG C.UTF-8 ,,3,0
